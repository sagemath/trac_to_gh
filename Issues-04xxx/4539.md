# Issue 4539: plural wrapper

archive/issues_004539.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-OleksandrMotsak",
        "https://github.com/alexanderdreyer"
    ],
    "body": "During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage. Burcin and Michael also worked at the Plural wrapper on SD 23.5 in Kaiserslautern. Oleksandr Motsak and Alexander Dreyer continued this at SD 24 in Linz.\n\nThe patches that resulted from this work are attached.\n\nNewest functionality:\n\n* non-commutative rings/polynomials/ideals are fully featured classes now (no deriving from commutative ones)!\n* coercion from basering/Integer types (still needs tests)\n* flag to check degeneracy conditions on init\n* relations for non-commutative rings\n* most relevant functions for rings/polynomials/ideals (mostly adopted from MPolynomialRing_libsingular/MPolynomialRing_libsingular/...) e.g. std/twostd/syzygy_module/lc/lm/lt/monomial operations\n* RingWrap and TermOrder were extended\n* quick and dirty conversion of RingWrap to Sage rings (needs some care as the resulting rings may not be unique and therefore may confuse coercion)\n* quotient of a non-commutative ring by a two-sided Groebner basis\n* shortcut to create graded commutative algebras: SCA\n\nPossible topics that need work are:\n\n* put the files in sage/algebra/ ???\n* make sure element does not export functions it doesn't support (e.g. gcd)\n* predefined structures from the library\n\n**__Apply__**\n\n* [attachment: trac4539_libplural_rel11761.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel11761.patch.gz)\n* [attachment: trac4539_pickling_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling_rel10903.patch.gz)\n* [attachment: trac4539_normal_forms_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms_rel10903.patch.gz)\n* [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz)\n\nDepends on #11316\nDepends on #11856\nDepends on #10903\nDepends on #9138\nDepends on #11900\nDepends on #11115\nDepends on #11068\nDepends on #11761\n\nCC:  @saliola @mwhansen @alexanderdreyer @sagetrac-OleksandrMotsak @sagetrac-PolyBoRi @malb @simon-king-jena\n\nComponent: **algebra**\n\nKeywords: **libsingular plural wrapper sd10 sd23.5 sd24 sd34**\n\nAuthor: **Michael Brickenstein, Burcin Erocal, Oleksandr Motsak, Alexander Dreyer, Simon King**\n\nReviewer: **Simon King, Alexander Dreyer**\n\nMerged: **sage-5.0.beta1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4539_\n\n",
    "closed_at": "2012-01-21T23:39:13Z",
    "created_at": "2008-11-17T15:27:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "plural wrapper",
    "type": "issue",
    "updated_at": "2012-01-21T23:39:13Z",
    "url": "https://github.com/sagemath/sage/issues/4539",
    "user": "https://github.com/burcin"
}
```
During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage. Burcin and Michael also worked at the Plural wrapper on SD 23.5 in Kaiserslautern. Oleksandr Motsak and Alexander Dreyer continued this at SD 24 in Linz.

The patches that resulted from this work are attached.

Newest functionality:

* non-commutative rings/polynomials/ideals are fully featured classes now (no deriving from commutative ones)!
* coercion from basering/Integer types (still needs tests)
* flag to check degeneracy conditions on init
* relations for non-commutative rings
* most relevant functions for rings/polynomials/ideals (mostly adopted from MPolynomialRing_libsingular/MPolynomialRing_libsingular/...) e.g. std/twostd/syzygy_module/lc/lm/lt/monomial operations
* RingWrap and TermOrder were extended
* quick and dirty conversion of RingWrap to Sage rings (needs some care as the resulting rings may not be unique and therefore may confuse coercion)
* quotient of a non-commutative ring by a two-sided Groebner basis
* shortcut to create graded commutative algebras: SCA

Possible topics that need work are:

* put the files in sage/algebra/ ???
* make sure element does not export functions it doesn't support (e.g. gcd)
* predefined structures from the library

**__Apply__**

* [attachment: trac4539_libplural_rel11761.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel11761.patch.gz)
* [attachment: trac4539_pickling_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling_rel10903.patch.gz)
* [attachment: trac4539_normal_forms_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms_rel10903.patch.gz)
* [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz)

Depends on #11316
Depends on #11856
Depends on #10903
Depends on #9138
Depends on #11900
Depends on #11115
Depends on #11068
Depends on #11761

CC:  @saliola @mwhansen @alexanderdreyer @sagetrac-OleksandrMotsak @sagetrac-PolyBoRi @malb @simon-king-jena

Component: **algebra**

Keywords: **libsingular plural wrapper sd10 sd23.5 sd24 sd34**

Author: **Michael Brickenstein, Burcin Erocal, Oleksandr Motsak, Alexander Dreyer, Simon King**

Reviewer: **Simon King, Alexander Dreyer**

Merged: **sage-5.0.beta1**

_Issue created by migration from https://trac.sagemath.org/ticket/4539_





---

archive/issue_events_051288.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2008-11-17T15:27:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51288"
}
```



---

archive/issue_events_051289.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2008-11-17T15:27:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51289"
}
```



---

archive/issue_events_051290.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2008-11-17T15:27:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51290"
}
```



---

archive/issue_events_051291.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2008-11-17T15:27:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51291"
}
```



---

archive/issue_events_051292.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2008-11-17T15:27:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51292"
}
```



---

archive/issue_comments_026727.json:
```json
{
    "body": "initial wrapper for plural",
    "created_at": "2008-11-17T15:28:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26727",
    "user": "https://github.com/burcin"
}
```

initial wrapper for plural



---

archive/issue_comments_026728.json:
```json
{
    "body": "Attachment: **[plural_1.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_1.patch.gz)**\n\nbetter user interface for plural rings",
    "created_at": "2008-11-17T15:29:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26728",
    "user": "https://github.com/burcin"
}
```

Attachment: **[plural_1.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_1.patch.gz)**

better user interface for plural rings



---

archive/issue_comments_026729.json:
```json
{
    "body": "Attachment: **[plural_2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_2.patch.gz)**",
    "created_at": "2009-10-15T11:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26729",
    "user": "https://github.com/sagetrac-PolyBoRi"
}
```

Attachment: **[plural_2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_2.patch.gz)**



---

archive/issue_comments_026730.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[letterplace.py.gz](https://github.com/sagemath/sage/files/ticket4539/letterplace.py.gz)**",
    "created_at": "2009-11-15T13:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26730",
    "user": "https://github.com/aghitza"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[letterplace.py.gz](https://github.com/sagemath/sage/files/ticket4539/letterplace.py.gz)**



---

archive/issue_events_051293.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2009-12-30T21:49:46Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "subject": "https://github.com/burcin",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51293"
}
```



---

archive/issue_comments_026731.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe letterplace interface in [attachment: letterplace.py](https://github.com/sagemath/sage/files/ticket4539/letterplace.py.gz) is now at #7797.",
    "created_at": "2009-12-30T21:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26731",
    "user": "https://github.com/burcin"
}
```

<div id="comment:3" align="right">comment:3</div>

The letterplace interface in [attachment: letterplace.py](https://github.com/sagemath/sage/files/ticket4539/letterplace.py.gz) is now at #7797.



---

archive/issue_comments_026732.json:
```json
{
    "body": "Attachment: **[plural_1.sage-4.4.4.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_1.sage-4.4.4.patch.gz)**\n\nrebased to 4.4.4",
    "created_at": "2010-07-14T16:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26732",
    "user": "https://github.com/burcin"
}
```

Attachment: **[plural_1.sage-4.4.4.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_1.sage-4.4.4.patch.gz)**

rebased to 4.4.4



---

archive/issue_comments_026733.json:
```json
{
    "body": "rebased to 4.4.4",
    "created_at": "2010-07-14T16:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26733",
    "user": "https://github.com/burcin"
}
```

rebased to 4.4.4



---

archive/issue_comments_026734.json:
```json
{
    "body": "Attachment: **[plural_2.sage-4.4.4.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_2.sage-4.4.4.patch.gz)**\n\nAttachment: **[plural_3.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_3.patch.gz)**\n\nappy on top of 1 and 2, new classes for plural objects which don't inherit from the commutative ones",
    "created_at": "2010-07-15T09:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26734",
    "user": "https://github.com/burcin"
}
```

Attachment: **[plural_2.sage-4.4.4.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_2.sage-4.4.4.patch.gz)**

Attachment: **[plural_3.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_3.patch.gz)**

appy on top of 1 and 2, new classes for plural objects which don't inherit from the commutative ones



---

archive/issue_comments_026735.json:
```json
{
    "body": "Attachment: **[plural_functions.2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_functions.2.patch.gz)**",
    "created_at": "2010-07-15T21:03:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26735",
    "user": "https://github.com/sagetrac-PolyBoRi"
}
```

Attachment: **[plural_functions.2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_functions.2.patch.gz)**



---

archive/issue_comments_026736.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nsorry, for multiple files. Apply patches in this order:\n\nplural_1.sage-4.4.4.patch \n         \nplural_2.sage-4.4.4.patch\n                         \nplural_3.patch Download \n                         \nplural_functions.patch",
    "created_at": "2010-07-15T21:06:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26736",
    "user": "https://github.com/sagetrac-PolyBoRi"
}
```

<div id="comment:4" align="right">comment:4</div>

sorry, for multiple files. Apply patches in this order:

plural_1.sage-4.4.4.patch 
         
plural_2.sage-4.4.4.patch
                         
plural_3.patch Download 
                         
plural_functions.patch



---

archive/issue_comments_026737.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[plural_functions.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_functions.patch.gz)**",
    "created_at": "2010-07-20T00:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26737",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[plural_functions.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_functions.patch.gz)**



---

archive/issue_comments_026738.json:
```json
{
    "body": "i have just folded all the previous patches by Michael & Burcin into plural_folded-4.4.4.patch (should be applied before anything else)",
    "created_at": "2010-07-20T14:10:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26738",
    "user": "https://github.com/sagetrac-OleksandrMotsak"
}
```

i have just folded all the previous patches by Michael & Burcin into plural_folded-4.4.4.patch (should be applied before anything else)



---

archive/issue_comments_026739.json:
```json
{
    "body": "Attachment: **[plural_folded-4.4.4.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_folded-4.4.4.patch.gz)**\n\nPart one Olekandr's work in Linz",
    "created_at": "2010-07-20T14:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26739",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[plural_folded-4.4.4.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural_folded-4.4.4.patch.gz)**

Part one Olekandr's work in Linz



---

archive/issue_comments_026740.json:
```json
{
    "body": "Attachment: **[extending_plural_folded-4.4.4.patch.gz](https://github.com/sagemath/sage/files/ticket4539/extending_plural_folded-4.4.4.patch.gz)**\n\nAttachment: **[extplural-more.gz](https://github.com/sagemath/sage/files/ticket4539/extplural-more.gz)**\n\nDoctest fixes by Alexander",
    "created_at": "2010-07-20T14:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26740",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[extending_plural_folded-4.4.4.patch.gz](https://github.com/sagemath/sage/files/ticket4539/extending_plural_folded-4.4.4.patch.gz)**

Attachment: **[extplural-more.gz](https://github.com/sagemath/sage/files/ticket4539/extplural-more.gz)**

Doctest fixes by Alexander



---

archive/issue_comments_026741.json:
```json
{
    "body": "Attachment: **[extplural-more.patch.gz](https://github.com/sagemath/sage/files/ticket4539/extplural-more.patch.gz)**\n\nDoctest fixes by Alexander",
    "created_at": "2010-07-20T14:30:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26741",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[extplural-more.patch.gz](https://github.com/sagemath/sage/files/ticket4539/extplural-more.patch.gz)**

Doctest fixes by Alexander



---

archive/issue_comments_026742.json:
```json
{
    "body": "Attachment: **[extplural-more2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/extplural-more2.patch.gz)**\n\nnoncommunative ring functionality",
    "created_at": "2010-07-21T10:23:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26742",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[extplural-more2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/extplural-more2.patch.gz)**

noncommunative ring functionality



---

archive/issue_comments_026743.json:
```json
{
    "body": "Attachment: **[extplural-more3.patch.gz](https://github.com/sagemath/sage/files/ticket4539/extplural-more3.patch.gz)**",
    "created_at": "2010-07-21T15:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26743",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[extplural-more3.patch.gz](https://github.com/sagemath/sage/files/ticket4539/extplural-more3.patch.gz)**



---

archive/issue_events_051294.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-07-22T12:30:26Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51294"
}
```



---

archive/issue_events_051295.json:
```json
{
    "actor": "https://github.com/sagetrac-OleksandrMotsak",
    "created_at": "2010-07-22T12:30:26Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51295"
}
```



---

archive/issue_events_051296.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2010-07-22T12:30:26Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51296"
}
```



---

archive/issue_comments_026744.json:
```json
{
    "body": "Attachment: **[plural-wrapper-2010-07-22.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-07-22.patch.gz)**\n\nThis folds of the following patches, a crucial subset of the noncommutation fucntionality as well as extensive documentation and  doctests",
    "created_at": "2010-07-22T12:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26744",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[plural-wrapper-2010-07-22.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-07-22.patch.gz)**

This folds of the following patches, a crucial subset of the noncommutation fucntionality as well as extensive documentation and  doctests



---

archive/issue_comments_026745.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWe have an first release ready for reviewing! \n\nRegards, Oleksandr and Alexander",
    "created_at": "2010-07-22T12:35:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26745",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:7" align="right">comment:7</div>

We have an first release ready for reviewing! 

Regards, Oleksandr and Alexander



---

archive/issue_events_051297.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2010-07-22T12:37:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51297"
}
```



---

archive/issue_events_051298.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2010-07-22T12:37:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51298"
}
```



---

archive/issue_comments_026746.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nwow, that sounds awesome.\nYou make me really happy.\nCan you outline in the ticket description, what the patch actually implements and what not.",
    "created_at": "2010-07-22T12:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26746",
    "user": "https://github.com/sagetrac-PolyBoRi"
}
```

<div id="comment:11" align="right">comment:11</div>

wow, that sounds awesome.
You make me really happy.
Can you outline in the ticket description, what the patch actually implements and what not.



---

archive/issue_comments_026747.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,22 @@\n During SD10 in Nancy, Michael Brickenstein and I worked on making Plural (the non-commutative extension of Singular) accessible from Sage.\n \n-The patches that resulted from this work are attached. They still need to be polished to be included in Sage.\n+The patches that resulted from this work are attached. \n+\n+Newest functionality:\n+* coercion from basering/Integer types (still needs tests)\n+* flag to check degeneracy conditions on init\n+* relations for non-commutative rings \n+* most relevant functions for rings/polynomials/ideals (mostly adopted from MPolynomialRing_libsingular/MPolynomialRing_libsingular/...)\n+  e.g. std/twostd/syzygy_module/lc/lm/lt/monomial operations\n+* RingWrap and TermOrder were extended\n+* quick and dirty conversion of RingWrap to Sage rings (needs some care as the resulting rings may not be unique and therefore may confuse coercion)\n+* quotient of a non-commutative ring by a two-sided Groebner basis\n+* shortcut to create graded commutative algebras: SCA\n+\n+\n+They still need to be polished to be included in Sage.\n \n Possible topics that need work are:\n-* coercion\n-* flag to check degeneracy conditions on init\n * put the files in sage/algebra/ ???\n * make sure element does not export functions it doesn't support (e.g. gcd)\n \n``````\n",
    "created_at": "2010-07-22T13:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26747",
    "user": "https://github.com/sagetrac-OleksandrMotsak"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,22 @@
 During SD10 in Nancy, Michael Brickenstein and I worked on making Plural (the non-commutative extension of Singular) accessible from Sage.
 
-The patches that resulted from this work are attached. They still need to be polished to be included in Sage.
+The patches that resulted from this work are attached. 
+
+Newest functionality:
+* coercion from basering/Integer types (still needs tests)
+* flag to check degeneracy conditions on init
+* relations for non-commutative rings 
+* most relevant functions for rings/polynomials/ideals (mostly adopted from MPolynomialRing_libsingular/MPolynomialRing_libsingular/...)
+  e.g. std/twostd/syzygy_module/lc/lm/lt/monomial operations
+* RingWrap and TermOrder were extended
+* quick and dirty conversion of RingWrap to Sage rings (needs some care as the resulting rings may not be unique and therefore may confuse coercion)
+* quotient of a non-commutative ring by a two-sided Groebner basis
+* shortcut to create graded commutative algebras: SCA
+
+
+They still need to be polished to be included in Sage.
 
 Possible topics that need work are:
-* coercion
-* flag to check degeneracy conditions on init
 * put the files in sage/algebra/ ???
 * make sure element does not export functions it doesn't support (e.g. gcd)
 
``````




---

archive/issue_comments_026748.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,14 +14,10 @@\n * shortcut to create graded commutative algebras: SCA\n \n \n-They still need to be polished to be included in Sage.\n-\n Possible topics that need work are:\n * put the files in sage/algebra/ ???\n * make sure element does not export functions it doesn't support (e.g. gcd)\n-\n-For a full featured wrapper we also need the following (they should be separated into different bugs once this one is done):\n-* groebner basis\n-* predefined structures from the library\n+* predefined structures from the library \n \n \n+\n``````\n",
    "created_at": "2010-07-22T13:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26748",
    "user": "https://github.com/sagetrac-OleksandrMotsak"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,14 +14,10 @@
 * shortcut to create graded commutative algebras: SCA
 
 
-They still need to be polished to be included in Sage.
-
 Possible topics that need work are:
 * put the files in sage/algebra/ ???
 * make sure element does not export functions it doesn't support (e.g. gcd)
-
-For a full featured wrapper we also need the following (they should be separated into different bugs once this one is done):
-* groebner basis
-* predefined structures from the library
+* predefined structures from the library 
 
 
+
``````




---

archive/issue_comments_026749.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,9 @@\n-During SD10 in Nancy, Michael Brickenstein and I worked on making Plural (the non-commutative extension of Singular) accessible from Sage.\n+During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage.\n \n The patches that resulted from this work are attached. \n \n Newest functionality:\n+* non-commutative rings/polynomials/ideals are fully featured classes now (no deriving from commutative ones)!\n * coercion from basering/Integer types (still needs tests)\n * flag to check degeneracy conditions on init\n * relations for non-commutative rings \n``````\n",
    "created_at": "2010-07-22T13:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26749",
    "user": "https://github.com/sagetrac-OleksandrMotsak"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,9 @@
-During SD10 in Nancy, Michael Brickenstein and I worked on making Plural (the non-commutative extension of Singular) accessible from Sage.
+During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage.
 
 The patches that resulted from this work are attached. 
 
 Newest functionality:
+* non-commutative rings/polynomials/ideals are fully featured classes now (no deriving from commutative ones)!
 * coercion from basering/Integer types (still needs tests)
 * flag to check degeneracy conditions on init
 * relations for non-commutative rings 
``````




---

archive/issue_comments_026750.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nwhat is meant in \"predefined structures from the library\"?\n\nNeed input: what structures / what library?",
    "created_at": "2010-07-22T13:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26750",
    "user": "https://github.com/sagetrac-OleksandrMotsak"
}
```

<div id="comment:14" align="right">comment:14</div>

what is meant in "predefined structures from the library"?

Need input: what structures / what library?



---

archive/issue_comments_026751.json:
```json
{
    "body": "Attachment: **[plural-missing-docu.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-missing-docu.patch.gz)**\n\nFixed some broken doctests",
    "created_at": "2010-07-23T06:02:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26751",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[plural-missing-docu.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-missing-docu.patch.gz)**

Fixed some broken doctests



---

archive/issue_comments_026752.json:
```json
{
    "body": "Attachment: **[plural-missing-docu.2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-missing-docu.2.patch.gz)**",
    "created_at": "2010-07-24T07:22:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26752",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[plural-missing-docu.2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-missing-docu.2.patch.gz)**



---

archive/issue_comments_026753.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\ncoverage to 100%",
    "created_at": "2010-07-24T07:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26753",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:15" align="right">comment:15</div>

coverage to 100%



---

archive/issue_comments_026754.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHow to apply the patches? *All* and in the given order? Or is one of them a \"master patch\" that replaces several other patches",
    "created_at": "2010-07-24T14:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26754",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:16" align="right">comment:16</div>

How to apply the patches? *All* and in the given order? Or is one of them a "master patch" that replaces several other patches



---

archive/issue_comments_026755.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nJust the following:\nplural-wrapper-2010-07-22.patch \nplural-missing-docu.2.patch \n\nRegards,\n  Alexander",
    "created_at": "2010-07-25T19:30:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26755",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Just the following:
plural-wrapper-2010-07-22.patch 
plural-missing-docu.2.patch 

Regards,
  Alexander



---

archive/issue_comments_026756.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,24 +1,21 @@\n-During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage.\n+During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage. (Burcin and Michael also worked at the Plural wrapper on SD 23.5 in Kaiserslautern.) Oleksandr Motsak and Alexander Dreyer continued this at SD 24 in Linz.\n \n-The patches that resulted from this work are attached. \n+The patches that resulted from this work are attached.\n \n Newest functionality:\n+\n * non-commutative rings/polynomials/ideals are fully featured classes now (no deriving from commutative ones)!\n * coercion from basering/Integer types (still needs tests)\n * flag to check degeneracy conditions on init\n-* relations for non-commutative rings \n-* most relevant functions for rings/polynomials/ideals (mostly adopted from MPolynomialRing_libsingular/MPolynomialRing_libsingular/...)\n-  e.g. std/twostd/syzygy_module/lc/lm/lt/monomial operations\n+* relations for non-commutative rings\n+* most relevant functions for rings/polynomials/ideals (mostly adopted from MPolynomialRing_libsingular/MPolynomialRing_libsingular/...) e.g. std/twostd/syzygy_module/lc/lm/lt/monomial operations\n * RingWrap and TermOrder were extended\n * quick and dirty conversion of RingWrap to Sage rings (needs some care as the resulting rings may not be unique and therefore may confuse coercion)\n * quotient of a non-commutative ring by a two-sided Groebner basis\n * shortcut to create graded commutative algebras: SCA\n \n+Possible topics that need work are:\n \n-Possible topics that need work are:\n * put the files in sage/algebra/ ???\n * make sure element does not export functions it doesn't support (e.g. gcd)\n-* predefined structures from the library \n-\n-\n-\n+* predefined structures from the library\n``````\n",
    "created_at": "2010-07-27T13:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26756",
    "user": "https://github.com/alexanderdreyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,24 +1,21 @@
-During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage.
+During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage. (Burcin and Michael also worked at the Plural wrapper on SD 23.5 in Kaiserslautern.) Oleksandr Motsak and Alexander Dreyer continued this at SD 24 in Linz.
 
-The patches that resulted from this work are attached. 
+The patches that resulted from this work are attached.
 
 Newest functionality:
+
 * non-commutative rings/polynomials/ideals are fully featured classes now (no deriving from commutative ones)!
 * coercion from basering/Integer types (still needs tests)
 * flag to check degeneracy conditions on init
-* relations for non-commutative rings 
-* most relevant functions for rings/polynomials/ideals (mostly adopted from MPolynomialRing_libsingular/MPolynomialRing_libsingular/...)
-  e.g. std/twostd/syzygy_module/lc/lm/lt/monomial operations
+* relations for non-commutative rings
+* most relevant functions for rings/polynomials/ideals (mostly adopted from MPolynomialRing_libsingular/MPolynomialRing_libsingular/...) e.g. std/twostd/syzygy_module/lc/lm/lt/monomial operations
 * RingWrap and TermOrder were extended
 * quick and dirty conversion of RingWrap to Sage rings (needs some care as the resulting rings may not be unique and therefore may confuse coercion)
 * quotient of a non-commutative ring by a two-sided Groebner basis
 * shortcut to create graded commutative algebras: SCA
 
+Possible topics that need work are:
 
-Possible topics that need work are:
 * put the files in sage/algebra/ ???
 * make sure element does not export functions it doesn't support (e.g. gcd)
-* predefined structures from the library 
-
-
-
+* predefined structures from the library
``````




---

archive/issue_comments_026757.json:
```json
{
    "body": "Accumulated patch for all patches above for Singular/Plural",
    "created_at": "2010-07-27T13:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26757",
    "user": "https://github.com/alexanderdreyer"
}
```

Accumulated patch for all patches above for Singular/Plural



---

archive/issue_comments_026758.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage. (Burcin and Michael also worked at the Plural wrapper on SD 23.5 in Kaiserslautern.) Oleksandr Motsak and Alexander Dreyer continued this at SD 24 in Linz.\n+During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage. Burcin and Michael also worked at the Plural wrapper on SD 23.5 in Kaiserslautern. Oleksandr Motsak and Alexander Dreyer continued this at SD 24 in Linz.\n \n The patches that resulted from this work are attached.\n \n``````\n",
    "created_at": "2010-07-27T13:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26758",
    "user": "https://github.com/alexanderdreyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage. (Burcin and Michael also worked at the Plural wrapper on SD 23.5 in Kaiserslautern.) Oleksandr Motsak and Alexander Dreyer continued this at SD 24 in Linz.
+During SD10 in Nancy, Michael Brickenstein and Burcin Erocal worked on making Plural (the non-commutative extension of Singular) accessible from Sage. Burcin and Michael also worked at the Plural wrapper on SD 23.5 in Kaiserslautern. Oleksandr Motsak and Alexander Dreyer continued this at SD 24 in Linz.
 
 The patches that resulted from this work are attached.
 
``````




---

archive/issue_comments_026759.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAttachment: **[plural-wrapper-2010-07-27.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-07-27.patch.gz)**",
    "created_at": "2010-07-27T13:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26759",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Attachment: **[plural-wrapper-2010-07-27.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-07-27.patch.gz)**



---

archive/issue_comments_026760.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHi!\n\nI have some computations to do with Weyl algebras, and would love to have this cool piece of work at my fingertips! Please keep it up!\n\nFor the record: I tried to apply those patches to Sage 4.5.2, and got the following rejects:\n\n```\nzephyr-/opt/sage/devel/sage>hg qimport ~/plural-wrapper-2010-07-27.patch\nadding plural-wrapper-2010-07-27.patch to series file\nzephyr-/opt/sage/devel/sage>hg qpush\napplying plural-wrapper-2010-07-27.patch\npatching file sage/libs/singular/function.pyx\nHunk #3 succeeded at 96 with fuzz 2 (offset 0 lines).\nHunk #36 FAILED at 1378\n1 out of 38 hunks FAILED -- saving rejects to file sage/libs/singular/function.pyx.rej\npatching file sage/libs/singular/singular-cdefs.pxi\nHunk #3 succeeded at 218 with fuzz 2 (offset -1 lines).\npatching file sage/rings/ideal_monoid.py\nHunk #1 FAILED at 12\n1 out of 1 hunks FAILED -- saving rejects to file sage/rings/ideal_monoid.py.rej\npatching file sage/rings/polynomial/term_order.py\nHunk #1 FAILED at 419\n1 out of 1 hunks FAILED -- saving rejects to file sage/rings/polynomial/term_order.py.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh plural-wrapper-2010-07-27.patch\n```\n\nCheers,",
    "created_at": "2010-10-01T07:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26760",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:21" align="right">comment:21</div>

Hi!

I have some computations to do with Weyl algebras, and would love to have this cool piece of work at my fingertips! Please keep it up!

For the record: I tried to apply those patches to Sage 4.5.2, and got the following rejects:

```
zephyr-/opt/sage/devel/sage>hg qimport ~/plural-wrapper-2010-07-27.patch
adding plural-wrapper-2010-07-27.patch to series file
zephyr-/opt/sage/devel/sage>hg qpush
applying plural-wrapper-2010-07-27.patch
patching file sage/libs/singular/function.pyx
Hunk #3 succeeded at 96 with fuzz 2 (offset 0 lines).
Hunk #36 FAILED at 1378
1 out of 38 hunks FAILED -- saving rejects to file sage/libs/singular/function.pyx.rej
patching file sage/libs/singular/singular-cdefs.pxi
Hunk #3 succeeded at 218 with fuzz 2 (offset -1 lines).
patching file sage/rings/ideal_monoid.py
Hunk #1 FAILED at 12
1 out of 1 hunks FAILED -- saving rejects to file sage/rings/ideal_monoid.py.rej
patching file sage/rings/polynomial/term_order.py
Hunk #1 FAILED at 419
1 out of 1 hunks FAILED -- saving rejects to file sage/rings/polynomial/term_order.py.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh plural-wrapper-2010-07-27.patch
```

Cheers,



---

archive/issue_comments_026761.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHi nthiery,\nMeanwhile, Burcin did a rebase?  Does it help you?\n\nRegards,\n  Alexander",
    "created_at": "2010-10-01T12:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26761",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Hi nthiery,
Meanwhile, Burcin did a rebase?  Does it help you?

Regards,
  Alexander



---

archive/issue_comments_026762.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYes, it now applies smoothly on 4.5.2, and compiles. Thanks!\n\n```\nzephyr-~sage-main>sage\n----------------------------------------------------------------------\n| Sage Version 4.5.2, Release Date: 2010-08-05                       |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: F.<x,dx> = FreeAlgebra(QQ,2)    \nsage: F.g_algebra({dx*x: x*dx+1})\n------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occurred in Sage.\nThis probably occurred because a *compiled* component\nof Sage has a bug in it (typically accessing invalid memory)\nor is not properly wrapped with _sig_on, _sig_off.\nYou might want to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate (sorry).\n------------------------------------------------------------\n```\n\nSame problem with the example taken from the documentation:\n\n```\nzephyr-~sage-main>sage\n----------------------------------------------------------------------\n| Sage Version 4.5.2, Release Date: 2010-08-05                       |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: A.<x,y,z>=FreeAlgebra(QQ,3)\nsage: G=A.g_algebra({y*x:-x*y})\n------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occurred in Sage.\nThis probably occurred because a *compiled* component\nof Sage has a bug in it (typically accessing invalid memory)\nor is not properly wrapped with _sig_on, _sig_off.\nYou might want to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate (sorry).\n------------------------------------------------------------\n```\n\nShould I be using 4.5.3 (being downloaded)?",
    "created_at": "2010-10-01T12:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26762",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:23" align="right">comment:23</div>

Yes, it now applies smoothly on 4.5.2, and compiles. Thanks!

```
zephyr-~sage-main>sage
----------------------------------------------------------------------
| Sage Version 4.5.2, Release Date: 2010-08-05                       |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: F.<x,dx> = FreeAlgebra(QQ,2)    
sage: F.g_algebra({dx*x: x*dx+1})
------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred in Sage.
This probably occurred because a *compiled* component
of Sage has a bug in it (typically accessing invalid memory)
or is not properly wrapped with _sig_on, _sig_off.
You might want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate (sorry).
------------------------------------------------------------
```

Same problem with the example taken from the documentation:

```
zephyr-~sage-main>sage
----------------------------------------------------------------------
| Sage Version 4.5.2, Release Date: 2010-08-05                       |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: A.<x,y,z>=FreeAlgebra(QQ,3)
sage: G=A.g_algebra({y*x:-x*y})
------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred in Sage.
This probably occurred because a *compiled* component
of Sage has a bug in it (typically accessing invalid memory)
or is not properly wrapped with _sig_on, _sig_off.
You might want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate (sorry).
------------------------------------------------------------
```

Should I be using 4.5.3 (being downloaded)?



---

archive/issue_comments_026763.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nDid you rebuild? (`sage -br`)",
    "created_at": "2010-10-01T12:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26763",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Did you rebuild? (`sage -br`)



---

archive/issue_comments_026764.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@alexanderdreyer](#comment%3A24):\n> Did you rebuild? (`sage -br`)\n\nYup.",
    "created_at": "2010-10-01T12:47:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26764",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@alexanderdreyer](#comment%3A24):
> Did you rebuild? (`sage -br`)

Yup.



---

archive/issue_comments_026765.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI could reproduce the issue: `sage -gdb` vields the following;\n\n```\nsage: A.<x,y,z>=FreeAlgebra(QQ,3)\nsage: G=A.g_algebra({y*x:-x*y})\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007fffdec7c488 in __pyx_f_4sage_4libs_8singular_8function_call_function (__pyx_v_self=0x459f910, __pyx_v_args=0x4538ab8, __pyx_v_R=0x4676480,\n    __pyx_optional_args=<value optimized out>) at sage/libs/singular/function.cpp:11969\n11969       currRingHdl->data.uring->ref += 1;\n```",
    "created_at": "2010-10-01T14:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26765",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:26" align="right">comment:26</div>

I could reproduce the issue: `sage -gdb` vields the following;

```
sage: A.<x,y,z>=FreeAlgebra(QQ,3)
sage: G=A.g_algebra({y*x:-x*y})

Program received signal SIGSEGV, Segmentation fault.
0x00007fffdec7c488 in __pyx_f_4sage_4libs_8singular_8function_call_function (__pyx_v_self=0x459f910, __pyx_v_args=0x4538ab8, __pyx_v_R=0x4676480,
    __pyx_optional_args=<value optimized out>) at sage/libs/singular/function.cpp:11969
11969       currRingHdl->data.uring->ref += 1;
```



---

archive/issue_comments_026766.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI didn't have a chance to test the rebased patch, I had to leave right after I finished merging the rejected parts. I just wanted to get it out there in case it worked.\n\nI can also reproduce the crash. I'll take a look at it now and try to upload a patch that works.",
    "created_at": "2010-10-01T14:27:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26766",
    "user": "https://github.com/burcin"
}
```

<div id="comment:27" align="right">comment:27</div>

I didn't have a chance to test the rebased patch, I had to leave right after I finished merging the rejected parts. I just wanted to get it out there in case it worked.

I can also reproduce the crash. I'll take a look at it now and try to upload a patch that works.



---

archive/issue_events_051299.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-10-01T14:27:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51299"
}
```



---

archive/issue_events_051300.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-10-01T14:27:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51300"
}
```



---

archive/issue_comments_026767.json:
```json
{
    "body": "rebased to 4.5.3",
    "created_at": "2010-10-01T14:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26767",
    "user": "https://github.com/burcin"
}
```

rebased to 4.5.3



---

archive/issue_comments_026768.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nAttachment: **[plural-wrapper-2010-10-01.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-10-01.patch.gz)**\n\nIt was indeed careless rebasing. [attachment: plural-wrapper-2010-10-01.patch](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-10-01.patch.gz) (patch with same name as before, to hide my shame :) ) seems to work.\n\nNicolas, it would be great if you could help with the review. We are pretty confident with the interface to Singular and low-level code, since, as you can also see from the comments on the ticket, many Singular and Sage developers were involved in writing the code. However, we added many of the noncommutative structures on the spot (in a late night coding sprint) as we needed them. Another pair of eyes checking the mathematical structures and design would be really useful.\n\nThough I think we should try to get this patch in as soon as possible. I'm sure quite a few people would be interested in the functionality of Plural. We can always work on providing a better interface later, as the number of users/developers increases.",
    "created_at": "2010-10-01T14:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26768",
    "user": "https://github.com/burcin"
}
```

<div id="comment:28" align="right">comment:28</div>

Attachment: **[plural-wrapper-2010-10-01.patch.gz](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-10-01.patch.gz)**

It was indeed careless rebasing. [attachment: plural-wrapper-2010-10-01.patch](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-10-01.patch.gz) (patch with same name as before, to hide my shame :) ) seems to work.

Nicolas, it would be great if you could help with the review. We are pretty confident with the interface to Singular and low-level code, since, as you can also see from the comments on the ticket, many Singular and Sage developers were involved in writing the code. However, we added many of the noncommutative structures on the spot (in a late night coding sprint) as we needed them. Another pair of eyes checking the mathematical structures and design would be really useful.

Though I think we should try to get this patch in as soon as possible. I'm sure quite a few people would be interested in the functionality of Plural. We can always work on providing a better interface later, as the number of users/developers increases.



---

archive/issue_comments_026769.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@burcin](#comment%3A28):\n> It was indeed careless rebasing. [attachment: plural-wrapper-2010-10-01.patch](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-10-01.patch.gz) (patch with same name as before, to hide my shame :) ) seems to work.\n\nIt also does for me so far! Thanks a lot for the quick rebase!\n\n> Nicolas, it would be great if you could help with the review. We are pretty confident with the interface to Singular and low-level code, since, as you can also see from the comments on the ticket, many Singular and Sage developers were involved in writing the code. However, we added many of the noncommutative structures on the spot (in a late night coding sprint) as we needed them. Another pair of eyes checking the mathematical structures and design would be really useful.\n\nI don't want to promise much at this time because I am already (very) late with a couple other reviews. But since the code is going to very useful for my research right now, I can promise to provide feedback for how it feels in practice!\n\n> Though I think we should try to get this patch in as soon as possible. I'm sure quite a few people would be interested in the functionality of Plural. We can always work on providing a better interface later, as the number of users/developers increases. \n\nSounds good to me!",
    "created_at": "2010-10-03T21:06:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26769",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@burcin](#comment%3A28):
> It was indeed careless rebasing. [attachment: plural-wrapper-2010-10-01.patch](https://github.com/sagemath/sage/files/ticket4539/plural-wrapper-2010-10-01.patch.gz) (patch with same name as before, to hide my shame :) ) seems to work.

It also does for me so far! Thanks a lot for the quick rebase!

> Nicolas, it would be great if you could help with the review. We are pretty confident with the interface to Singular and low-level code, since, as you can also see from the comments on the ticket, many Singular and Sage developers were involved in writing the code. However, we added many of the noncommutative structures on the spot (in a late night coding sprint) as we needed them. Another pair of eyes checking the mathematical structures and design would be really useful.

I don't want to promise much at this time because I am already (very) late with a couple other reviews. But since the code is going to very useful for my research right now, I can promise to provide feedback for how it feels in practice!

> Though I think we should try to get this patch in as soon as possible. I'm sure quite a few people would be interested in the functionality of Plural. We can always work on providing a better interface later, as the number of users/developers increases. 

Sounds good to me!



---

archive/issue_events_051301.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-10-03T21:06:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51301"
}
```



---

archive/issue_events_051302.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-10-03T21:06:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51302"
}
```



---

archive/issue_comments_026770.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nIs it possible at this stage to define non commutative polynomial rings over QQ['q'].fraction_field()?\nI got an error with what I tried:\n\n```\nsage: K = QQ['q'].fraction_field()\nq = K.gen()\nF.<x,y,ex,ey> = FreeAlgebra(K,4)\nW =  F.g_algebra({ex*x: x*(1+ex),ey*y:y*(1+ey)})\n\nsage: ------------------------------------------------------------\nTraceback (most recent call last):\n  File \"<ipython console>\", line 1, in <module>\n  File \"/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/algebras/free_algebra.py\", line 547, in g_algebra\n    return NCPolynomialRing_plural(base_ring, n, \",\".join([str(g) for g in self.gens()]), c=cmat, d=dmat, order=order, check=check)\n  File \"plural.pyx\", line 223, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__init__ (sage/rings/polynomial/plural.cpp:3772)\n  File \"matrix0.pyx\", line 1520, in sage.matrix.matrix0.Matrix.change_ring (sage/matrix/matrix0.c:7670)\n  File \"/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/matrix/matrix_space.py\", line 405, in __call__\n    return self.matrix(entries, copy=copy, coerce=coerce, rows=rows)\n  File \"/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/matrix/matrix_space.py\", line 1136, in matrix\n    return self.__matrix_class(self, entries=x, copy=copy, coerce=coerce)\n  File \"matrix_generic_dense.pyx\", line 93, in sage.matrix.matrix_generic_dense.Matrix_generic_dense.__init__ (sage/matrix/matrix_generic_dense.c:2321)\n  File \"/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/rings/polynomial/multi_polynomial_ring.py\", line 468, in __call__\n    c = self.base_ring()(x)\n  File \"parent.pyx\", line 859, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:6407)\n  File \"coerce_maps.pyx\", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3108)\n  File \"coerce_maps.pyx\", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3010)\n  File \"/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/rings/fraction_field.py\", line 467, in _element_constructor_\n    coerce=coerce, reduce = self.is_exact())\n  File \"fraction_field_element.pyx\", line 120, in sage.rings.fraction_field_element.FractionFieldElement.__init__ (sage/rings/fraction_field_element.c:1934)\n  File \"parent.pyx\", line 859, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:6407)\n  File \"coerce_maps.pyx\", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3108)\n  File \"coerce_maps.pyx\", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3010)\n  File \"/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_ring.py\", line 313, in _element_constructor_\n    return C(self, x, check, is_gen, construct=construct, **kwds)\n  File \"/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_element_generic.py\", line 656, in __init__\n    x = [QQ(z) for z in x]\n  File \"parent.pyx\", line 859, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:6407)\n  File \"coerce_maps.pyx\", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3108)\n  File \"coerce_maps.pyx\", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3010)\n  File \"rational.pyx\", line 367, in sage.rings.rational.Rational.__init__ (sage/rings/rational.c:5781)\n  File \"rational.pyx\", line 521, in sage.rings.rational.Rational.__set_value (sage/rings/rational.c:7052)\nTypeError: Unable to coerce 0 (<class 'sage.algebras.free_algebra_element.FreeAlgebraElement'>) to Rational\n```\n\nThanks!",
    "created_at": "2010-10-03T21:08:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26770",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:31" align="right">comment:31</div>

Is it possible at this stage to define non commutative polynomial rings over QQ['q'].fraction_field()?
I got an error with what I tried:

```
sage: K = QQ['q'].fraction_field()
q = K.gen()
F.<x,y,ex,ey> = FreeAlgebra(K,4)
W =  F.g_algebra({ex*x: x*(1+ex),ey*y:y*(1+ey)})

sage: ------------------------------------------------------------
Traceback (most recent call last):
  File "<ipython console>", line 1, in <module>
  File "/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/algebras/free_algebra.py", line 547, in g_algebra
    return NCPolynomialRing_plural(base_ring, n, ",".join([str(g) for g in self.gens()]), c=cmat, d=dmat, order=order, check=check)
  File "plural.pyx", line 223, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__init__ (sage/rings/polynomial/plural.cpp:3772)
  File "matrix0.pyx", line 1520, in sage.matrix.matrix0.Matrix.change_ring (sage/matrix/matrix0.c:7670)
  File "/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/matrix/matrix_space.py", line 405, in __call__
    return self.matrix(entries, copy=copy, coerce=coerce, rows=rows)
  File "/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/matrix/matrix_space.py", line 1136, in matrix
    return self.__matrix_class(self, entries=x, copy=copy, coerce=coerce)
  File "matrix_generic_dense.pyx", line 93, in sage.matrix.matrix_generic_dense.Matrix_generic_dense.__init__ (sage/matrix/matrix_generic_dense.c:2321)
  File "/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/rings/polynomial/multi_polynomial_ring.py", line 468, in __call__
    c = self.base_ring()(x)
  File "parent.pyx", line 859, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:6407)
  File "coerce_maps.pyx", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3108)
  File "coerce_maps.pyx", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3010)
  File "/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/rings/fraction_field.py", line 467, in _element_constructor_
    coerce=coerce, reduce = self.is_exact())
  File "fraction_field_element.pyx", line 120, in sage.rings.fraction_field_element.FractionFieldElement.__init__ (sage/rings/fraction_field_element.c:1934)
  File "parent.pyx", line 859, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:6407)
  File "coerce_maps.pyx", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3108)
  File "coerce_maps.pyx", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3010)
  File "/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_ring.py", line 313, in _element_constructor_
    return C(self, x, check, is_gen, construct=construct, **kwds)
  File "/opt/sage-4.5.2/local/lib/python2.6/site-packages/sage/rings/polynomial/polynomial_element_generic.py", line 656, in __init__
    x = [QQ(z) for z in x]
  File "parent.pyx", line 859, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:6407)
  File "coerce_maps.pyx", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3108)
  File "coerce_maps.pyx", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3010)
  File "rational.pyx", line 367, in sage.rings.rational.Rational.__init__ (sage/rings/rational.c:5781)
  File "rational.pyx", line 521, in sage.rings.rational.Rational.__set_value (sage/rings/rational.c:7052)
TypeError: Unable to coerce 0 (<class 'sage.algebras.free_algebra_element.FreeAlgebraElement'>) to Rational
```

Thanks!



---

archive/issue_comments_026771.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI started playing with ideals. Currently, one creates an ideal I, and\nthen when one calls I.std() or I.twostd() to create a new left or\ntwosided ideal, and actually compute the Groebner basis. What about\nthe following variants:\n\n(A) Take the side decision at the time the ideal is created:\n\n```\n    sage: I = W.ideal([...], side=...)\n```\n(to be documented in ``W.ideal?``).\n\nWith that, ``I`` would be well defined as an ideal; otherwise it is\nmore a ``collection of polynomials'' and the name is misleading.\n\n(B) About computing the Grobner basis:\n\n```\n    sage: I.groebner_basis()\n```\n\nor:\n\n```\n    sage: I.std() \n```\nwould compute the groebner basis, store it for later calculations, and\nreturn it as a list of polynomials rather than a new ideal.\n\nI haven't actually played with ideals in Sage; so maybe point (B) is\njust how things are with commutative ideals in Sage, and consistency\nshould take precedence.\n\nCheers,\n                    Nicolas",
    "created_at": "2010-10-03T21:22:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26771",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:32" align="right">comment:32</div>

I started playing with ideals. Currently, one creates an ideal I, and
then when one calls I.std() or I.twostd() to create a new left or
twosided ideal, and actually compute the Groebner basis. What about
the following variants:

(A) Take the side decision at the time the ideal is created:

```
    sage: I = W.ideal([...], side=...)
```
(to be documented in ``W.ideal?``).

With that, ``I`` would be well defined as an ideal; otherwise it is
more a ``collection of polynomials'' and the name is misleading.

(B) About computing the Grobner basis:

```
    sage: I.groebner_basis()
```

or:

```
    sage: I.std() 
```
would compute the groebner basis, store it for later calculations, and
return it as a list of polynomials rather than a new ideal.

I haven't actually played with ideals in Sage; so maybe point (B) is
just how things are with commutative ideals in Sage, and consistency
should take precedence.

Cheers,
                    Nicolas



---

archive/issue_comments_026772.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@nthiery](#comment%3A32):\n> I started playing with ideals. Currently, one creates an ideal I, and\n> then when one calls I.std() or I.twostd() to create a new left or\n> twosided ideal, and actually compute the Groebner basis. What about\n> the following variants:\n\nCurrently, if R is a commutative ring and L is a list of elements of R, one may use the shorthand notation `I = R*L` or `I = L*R` to create an ideal. It seems natural to me to extend this to the non-commutative case: `R*L` for left ideal,  `L*R` for right ideal, and `R*L*R` for two-sided ideal.\n\nHow to implement it? Well, on could have a base class for ideals over non-commutative rings (let's call it `NCIdeal`), and derive from it `NCIdeal_left`, `NCIdeal_right`, `NCIdeal_twodsided`.\n\nThen, one has to modify the multiplication method for rings so that sidedness is taken care of (there is a method ideal_class(), that probably needs to accept an optional argument \"side\"). And of course, the one-sided ideal classes need a multiplication method as well.\n\nAnd then, `NCIdeal_twodsided.groebner_basis()` would yield a two-sided Gr\u00f6bner basis, while `NCIdeal_left/right.groebner_basis()` would only yield a one-sided Gr\u00f6bner basis, of course unless a two-sided Gr\u00f6bner basis is requested by using an optional argument.",
    "created_at": "2010-10-03T21:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26772",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@nthiery](#comment%3A32):
> I started playing with ideals. Currently, one creates an ideal I, and
> then when one calls I.std() or I.twostd() to create a new left or
> twosided ideal, and actually compute the Groebner basis. What about
> the following variants:

Currently, if R is a commutative ring and L is a list of elements of R, one may use the shorthand notation `I = R*L` or `I = L*R` to create an ideal. It seems natural to me to extend this to the non-commutative case: `R*L` for left ideal,  `L*R` for right ideal, and `R*L*R` for two-sided ideal.

How to implement it? Well, on could have a base class for ideals over non-commutative rings (let's call it `NCIdeal`), and derive from it `NCIdeal_left`, `NCIdeal_right`, `NCIdeal_twodsided`.

Then, one has to modify the multiplication method for rings so that sidedness is taken care of (there is a method ideal_class(), that probably needs to accept an optional argument "side"). And of course, the one-sided ideal classes need a multiplication method as well.

And then, `NCIdeal_twodsided.groebner_basis()` would yield a two-sided Grbner basis, while `NCIdeal_left/right.groebner_basis()` would only yield a one-sided Grbner basis, of course unless a two-sided Grbner basis is requested by using an optional argument.



---

archive/issue_comments_026773.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@nthiery](#comment%3A32):\n> I started playing with ideals. Currently, one creates an ideal I, and\n> then when one calls I.std() or I.twostd() to create a new left or\n> twosided ideal, and actually compute the Groebner basis. \n\nBy the way: right ideals are not yet handled yet, right? Would it be a lot of work? It's just that the ideals I am currently playing with are right ideals, and I keep mixing myself up when playing with the \"dualized\" version I had to write in Sage.",
    "created_at": "2010-10-12T15:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26773",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@nthiery](#comment%3A32):
> I started playing with ideals. Currently, one creates an ideal I, and
> then when one calls I.std() or I.twostd() to create a new left or
> twosided ideal, and actually compute the Groebner basis. 

By the way: right ideals are not yet handled yet, right? Would it be a lot of work? It's just that the ideals I am currently playing with are right ideals, and I keep mixing myself up when playing with the "dualized" version I had to write in Sage.



---

archive/issue_comments_026774.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nHi Simon!\n\nReplying to [@simon-king-jena](#comment%3A33):\n> Replying to [@nthiery](#comment%3A32):\n> > I started playing with ideals. Currently, one creates an ideal I, and\n> > then when one calls I.std() or I.twostd() to create a new left or\n> > twosided ideal, and actually compute the Groebner basis. What about\n> > the following variants:\n\n> \n> Currently, if R is a commutative ring and L is a list of elements of R, one may use the shorthand notation `I = R*L` or `I = L*R` to create an ideal. It seems natural to me to extend this to the non-commutative case: `R*L` for left ideal,  `L*R` for right ideal, and `R*L*R` for two-sided ideal.\n\n+1 for the implementation proposal!\n\nI also like that shorthand syntax for interactive usage. However, in\ncode, I prefer using something more explicit like R.ideal(L,side=...).\nBesides, having an R.ideal method also provides with:\n\n- a good place for advertising (it appears in R.<tab>), documenting,\n  testing the feature and its shorthand\n- an easy way for subclasses of (the class of) R to override this\n  method without having to worry about overloading/coercion/...\n\nCheers,\n\t\t\tNicolas",
    "created_at": "2010-10-12T15:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26774",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:35" align="right">comment:35</div>

Hi Simon!

Replying to [@simon-king-jena](#comment%3A33):
> Replying to [@nthiery](#comment%3A32):
> > I started playing with ideals. Currently, one creates an ideal I, and
> > then when one calls I.std() or I.twostd() to create a new left or
> > twosided ideal, and actually compute the Groebner basis. What about
> > the following variants:

> 
> Currently, if R is a commutative ring and L is a list of elements of R, one may use the shorthand notation `I = R*L` or `I = L*R` to create an ideal. It seems natural to me to extend this to the non-commutative case: `R*L` for left ideal,  `L*R` for right ideal, and `R*L*R` for two-sided ideal.

+1 for the implementation proposal!

I also like that shorthand syntax for interactive usage. However, in
code, I prefer using something more explicit like R.ideal(L,side=...).
Besides, having an R.ideal method also provides with:

- a good place for advertising (it appears in R.<tab>), documenting,
  testing the feature and its shorthand
- an easy way for subclasses of (the class of) R to override this
  method without having to worry about overloading/coercion/...

Cheers,
			Nicolas



---

archive/issue_comments_026775.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nApply plural-wrapper-2010-10-01.patch\n\n(to the patchbot)\n\nIf I understand correctly, this patch is the only one, right? So, it would be a good thing to try whether it needs to be rebased again.\n\nCurrently, I have a high motivation to have the noncommutative stuff (including letterplace!) in libsingular. So, I hope the work on this ticket and on #7797 can be resumed.",
    "created_at": "2011-03-13T10:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26775",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:36" align="right">comment:36</div>

Apply plural-wrapper-2010-10-01.patch

(to the patchbot)

If I understand correctly, this patch is the only one, right? So, it would be a good thing to try whether it needs to be rebased again.

Currently, I have a high motivation to have the noncommutative stuff (including letterplace!) in libsingular. So, I hope the work on this ticket and on #7797 can be resumed.



---

archive/issue_comments_026776.json:
```json
{
    "body": "Work Issues: **Implement is_integral_domain and probably other small stuff**",
    "created_at": "2011-03-13T14:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26776",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **Implement is_integral_domain and probably other small stuff**



---

archive/issue_events_051303.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-03-13T14:13:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51303"
}
```



---

archive/issue_events_051304.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-03-13T14:13:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51304"
}
```



---

archive/issue_comments_026777.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nApply trac4539_libplural.patch\n\nIt turned out that the old patch did not apply, since meanwhile the libsingular options are dealt with in a different way. I have rebased the patch, and also adopted the new option syntax.\n\nHowever, not all is good. Here is one error that I just found:\n\n```\nsage: A.<x,y,z> = FreeAlgebra(QQ, 3) \nsage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y}) \nsage: H.inject_variables() \nDefining x, y, z\nsage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False) \nsage: G = vector(I.gens()); G  \n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n...\n/mnt/local/king/SAGE/sage-4.6.2/local/lib/python2.6/site-packages/sage/rings/ring.so in sage.rings.ring.Ring.is_integral_domain (sage/rings/ring.c:6035)()\n\nNotImplementedError: \n```\n\nSo, there remains work to do!",
    "created_at": "2011-03-13T14:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26777",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:37" align="right">comment:37</div>

Apply trac4539_libplural.patch

It turned out that the old patch did not apply, since meanwhile the libsingular options are dealt with in a different way. I have rebased the patch, and also adopted the new option syntax.

However, not all is good. Here is one error that I just found:

```
sage: A.<x,y,z> = FreeAlgebra(QQ, 3) 
sage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y}) 
sage: H.inject_variables() 
Defining x, y, z
sage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False) 
sage: G = vector(I.gens()); G  
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
...
/mnt/local/king/SAGE/sage-4.6.2/local/lib/python2.6/site-packages/sage/rings/ring.so in sage.rings.ring.Ring.is_integral_domain (sage/rings/ring.c:6035)()

NotImplementedError: 
```

So, there remains work to do!



---

archive/issue_comments_026778.json:
```json
{
    "body": "Changed keywords from none to **libsingular plural wrapper**",
    "created_at": "2011-03-13T14:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26778",
    "user": "https://github.com/simon-king-jena"
}
```

Changed keywords from none to **libsingular plural wrapper**



---

archive/issue_comments_026779.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThe reason of the error was that `FreeModule` tries (among other things) the method `is_integral_domain()`. By default, it raises a `NotImplementedError`, and this is the error we get above.\n\nProposed solution: Catch that `NotImplementedError` and do as if `is_integral_domain()` had returned `False`.\n\nI don't know if there will be further problems, but I'll put it back to \"needs review\".",
    "created_at": "2011-03-13T14:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26779",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:38" align="right">comment:38</div>

The reason of the error was that `FreeModule` tries (among other things) the method `is_integral_domain()`. By default, it raises a `NotImplementedError`, and this is the error we get above.

Proposed solution: Catch that `NotImplementedError` and do as if `is_integral_domain()` had returned `False`.

I don't know if there will be further problems, but I'll put it back to "needs review".



---

archive/issue_comments_026780.json:
```json
{
    "body": "Changed work issues from **Implement is_integral_domain and probably other small stuff** to none",
    "created_at": "2011-03-13T14:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26780",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **Implement is_integral_domain and probably other small stuff** to none



---

archive/issue_events_051305.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-03-13T14:27:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51305"
}
```



---

archive/issue_events_051306.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-03-13T14:27:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51306"
}
```



---

archive/issue_comments_026781.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nApply trac4539_libplural.patch",
    "created_at": "2011-03-13T18:25:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26781",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:39" align="right">comment:39</div>

Apply trac4539_libplural.patch



---

archive/issue_comments_026782.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n1. I don't know why the patchbot is trying *two* patches. It is supposed to use only one of them.\n\n2. I get numerous doctest failures. Some of them look like severe errors. So, it needs work.",
    "created_at": "2011-03-13T18:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26782",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:40" align="right">comment:40</div>

1. I don't know why the patchbot is trying *two* patches. It is supposed to use only one of them.

2. I get numerous doctest failures. Some of them look like severe errors. So, it needs work.



---

archive/issue_events_051307.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-03-13T18:27:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51307"
}
```



---

archive/issue_events_051308.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-03-13T18:27:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51308"
}
```



---

archive/issue_comments_026783.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nIt would be great to have this in Sage!\n\nI'm seeing some problems with the patch.  First, it doesn't apply cleanly to Sage 4.7.alpha1.  I haven't tried applying to 4.6.2.  I rebased it by hand.\n\nSecond, the change\n\n```diff\n-                    block_name, block_length, _ = re.split(length_pattern,block)\n+                    block_name, block_length, _ = re.split(pattern, block.strip())\n```\nin term_order.py is problematic, because \"pattern\" is not defined anywhere.  Replacing it by \"length_pattern\" seems to work.\n\nThird, in multipolynomial_ideal.py, `_groebner_basis_libsingular` is being called with keywords \"deg_bound\" and \"mult_bound\", but it doesn't accept those keywords as valid arguments.  Should we add `*args, **kwds` to the argument list?    Or should those keywords be dealt with explicitly?  I tried adding generic `*args` and `**kwds`, but doctesting on that file segfaults.\n\nWhen I doctest the whole Sage library after making these changes, I get the following failures:\n\n```\nThe following tests failed:\n\n        sage -t  -long -force_lib devel/sage/sage/rings/polynomial/multi_polynomial_ideal.py # Killed/crashed\n        sage -t  -long -force_lib devel/sage/sage/rings/polynomial/multi_polynomial_libsingular.pyx # 1 doctests failed\n        sage -t  -long -force_lib devel/sage/sage/libs/singular/polynomial.pyx # 1 doctests failed\n        sage -t  -long -force_lib devel/sage/sage/rings/polynomial/plural.pyx # 6 doctests failed\n```\nOn one machine, I also had this failure:\n\n```\n\tsage -t -long -force_lib devel/sage/sage/rings/polynomial/multi_polynomial.pyx # Killed/crashed\n```",
    "created_at": "2011-03-23T22:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26783",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:41" align="right">comment:41</div>

It would be great to have this in Sage!

I'm seeing some problems with the patch.  First, it doesn't apply cleanly to Sage 4.7.alpha1.  I haven't tried applying to 4.6.2.  I rebased it by hand.

Second, the change

```diff
-                    block_name, block_length, _ = re.split(length_pattern,block)
+                    block_name, block_length, _ = re.split(pattern, block.strip())
```
in term_order.py is problematic, because "pattern" is not defined anywhere.  Replacing it by "length_pattern" seems to work.

Third, in multipolynomial_ideal.py, `_groebner_basis_libsingular` is being called with keywords "deg_bound" and "mult_bound", but it doesn't accept those keywords as valid arguments.  Should we add `*args, **kwds` to the argument list?    Or should those keywords be dealt with explicitly?  I tried adding generic `*args` and `**kwds`, but doctesting on that file segfaults.

When I doctest the whole Sage library after making these changes, I get the following failures:

```
The following tests failed:

        sage -t  -long -force_lib devel/sage/sage/rings/polynomial/multi_polynomial_ideal.py # Killed/crashed
        sage -t  -long -force_lib devel/sage/sage/rings/polynomial/multi_polynomial_libsingular.pyx # 1 doctests failed
        sage -t  -long -force_lib devel/sage/sage/libs/singular/polynomial.pyx # 1 doctests failed
        sage -t  -long -force_lib devel/sage/sage/rings/polynomial/plural.pyx # 6 doctests failed
```
On one machine, I also had this failure:

```
	sage -t -long -force_lib devel/sage/sage/rings/polynomial/multi_polynomial.pyx # Killed/crashed
```



---

archive/issue_comments_026784.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI've rebased the patch to Sage 4.7.  I'm not sure it's worth cluttering up this ticket with more patches, especially ones this big, so I've posted it to [http://sage.math.washington.edu/home/palmieri/misc/trac_4539_libplural-rebased.patch](http://sage.math.washington.edu/home/palmieri/misc/trac_4539_libplural-rebased.patch).  This patch also fixes a few docstrings, and it makes the changes that I described above, although I'm not sure they're the right thing to do.",
    "created_at": "2011-03-30T22:36:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26784",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:42" align="right">comment:42</div>

I've rebased the patch to Sage 4.7.  I'm not sure it's worth cluttering up this ticket with more patches, especially ones this big, so I've posted it to [http://sage.math.washington.edu/home/palmieri/misc/trac_4539_libplural-rebased.patch](http://sage.math.washington.edu/home/palmieri/misc/trac_4539_libplural-rebased.patch).  This patch also fixes a few docstrings, and it makes the changes that I described above, although I'm not sure they're the right thing to do.



---

archive/issue_comments_026785.json:
```json
{
    "body": "Changed keywords from **libsingular plural wrapper** to **libsingular plural wrapper sd34**",
    "created_at": "2011-09-26T17:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26785",
    "user": "https://github.com/simon-king-jena"
}
```

Changed keywords from **libsingular plural wrapper** to **libsingular plural wrapper sd34**



---

archive/issue_comments_026786.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nAt sage days 34, we try to rebase the old patch. Burcin and I agree that we should rebase it with respect to #7797 (which, among other things, modernises coercion for free algebras). It also means that we can use one- and two-sided ideals in non-commutative rings, by #11068.\n\nSome hunks of the latest patch fail due to other tickets that meanwhile are merged, such as #11316.\n\nIt seems to me that, out of the 5 hunks that fail, only 2 are non-trivial to fix.",
    "created_at": "2011-09-26T17:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26786",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:43" align="right">comment:43</div>

At sage days 34, we try to rebase the old patch. Burcin and I agree that we should rebase it with respect to #7797 (which, among other things, modernises coercion for free algebras). It also means that we can use one- and two-sided ideals in non-commutative rings, by #11068.

Some hunks of the latest patch fail due to other tickets that meanwhile are merged, such as #11316.

It seems to me that, out of the 5 hunks that fail, only 2 are non-trivial to fix.



---

archive/issue_comments_026787.json:
```json
{
    "body": "experimental rebasement to 4.7.2alpha3-prerelease",
    "created_at": "2011-09-26T22:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26787",
    "user": "https://github.com/alexanderdreyer"
}
```

experimental rebasement to 4.7.2alpha3-prerelease



---

archive/issue_comments_026788.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nAttachment: **[trac4539_libplural-2011-09-27-untested.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural-2011-09-27-untested.patch.gz)**\n\nCan you test, whether Attach:trac4539_libplural-2011-09-27-untested.patch does the job?",
    "created_at": "2011-09-26T22:32:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26788",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:44" align="right">comment:44</div>

Attachment: **[trac4539_libplural-2011-09-27-untested.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural-2011-09-27-untested.patch.gz)**

Can you test, whether Attach:trac4539_libplural-2011-09-27-untested.patch does the job?



---

archive/issue_comments_026789.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@alexanderdreyer](#comment%3A44):\n> Can you test, whether Attach:trac4539_libplural-2011-09-27-untested.patch does the job?\n\nWe were just dubling the work, it seems. I had rebased my old patch and was running tests (don't know the outcome).\n\nBut is your patch relative to #11068 (and perhaps to #7797 as well)? #11068 already has a positive review, and since it adds one- and twosided ideals of non-commutative rings, it seems like a natural dependency for a plural wrapper.",
    "created_at": "2011-09-26T23:04:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26789",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@alexanderdreyer](#comment%3A44):
> Can you test, whether Attach:trac4539_libplural-2011-09-27-untested.patch does the job?

We were just dubling the work, it seems. I had rebased my old patch and was running tests (don't know the outcome).

But is your patch relative to #11068 (and perhaps to #7797 as well)? #11068 already has a positive review, and since it adds one- and twosided ideals of non-commutative rings, it seems like a natural dependency for a plural wrapper.



---

archive/issue_comments_026790.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@simon-king-jena](#comment%3A45):\n\n> We were just dubling the work, it seems. I had rebased my old patch and was running tests (don't know the outcome). But is your patch relative to #11068 (and perhaps to #7797 as well)? #11068 already has a positive review, and since it adds one- and twosided ideals of non-commutative rings, it seems like a natural dependency for a plural wrapper.\n\nSorry, I thought rebasing couldn't be finished. But it seems, that something is wrong with my rebased patch. So you should post yours.",
    "created_at": "2011-09-26T23:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26790",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@simon-king-jena](#comment%3A45):

> We were just dubling the work, it seems. I had rebased my old patch and was running tests (don't know the outcome). But is your patch relative to #11068 (and perhaps to #7797 as well)? #11068 already has a positive review, and since it adds one- and twosided ideals of non-commutative rings, it seems like a natural dependency for a plural wrapper.

Sorry, I thought rebasing couldn't be finished. But it seems, that something is wrong with my rebased patch. So you should post yours.



---

archive/issue_comments_026791.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@alexanderdreyer](#comment%3A46):\n> Sorry, I thought rebasing couldn't be finished. But it seems, that something is wrong with my rebased patch. So you should post yours.\n\nJust foudn out, the patch was fine (so far), but my sage/devel directory was corrupted. (Luckily I cloned.)",
    "created_at": "2011-09-26T23:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26791",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@alexanderdreyer](#comment%3A46):
> Sorry, I thought rebasing couldn't be finished. But it seems, that something is wrong with my rebased patch. So you should post yours.

Just foudn out, the patch was fine (so far), but my sage/devel directory was corrupted. (Luckily I cloned.)



---

archive/issue_comments_026792.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI have attached my experimental rebasement (relative to #7797 on top of sage-4.7.2.alpha3), but not all is good.\n\nThere are quite a lot of doctest failures, including some very wrong arithmetical results in plural.pyx.\n\nLess dramatic: There are some zero division errors (for example in doctests of mul\nti_polynomial_libsingular.pyx) where the expected error message was \"rational division by zero\", but now there is *no* error message (but there is a `ZeroDivisionError`, at least).\n\nThere is a segment fault in the tests of multi_polynomial_ideal.py. I guess it is the same segfault that also occurs in some elliptic curves tests.\n\nAlexander, when you said that your broken Sage installation was to blame: Do you mean that the tests are mostly passing with your patch?",
    "created_at": "2011-09-27T06:54:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26792",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:48" align="right">comment:48</div>

I have attached my experimental rebasement (relative to #7797 on top of sage-4.7.2.alpha3), but not all is good.

There are quite a lot of doctest failures, including some very wrong arithmetical results in plural.pyx.

Less dramatic: There are some zero division errors (for example in doctests of mul
ti_polynomial_libsingular.pyx) where the expected error message was "rational division by zero", but now there is *no* error message (but there is a `ZeroDivisionError`, at least).

There is a segment fault in the tests of multi_polynomial_ideal.py. I guess it is the same segfault that also occurs in some elliptic curves tests.

Alexander, when you said that your broken Sage installation was to blame: Do you mean that the tests are mostly passing with your patch?



---

archive/issue_comments_026793.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI am now testing Alexander's patch. First good news: It applies without fuzz, even when #7797 is applied. Let's see how the doc tests work!",
    "created_at": "2011-09-27T08:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26793",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:49" align="right">comment:49</div>

I am now testing Alexander's patch. First good news: It applies without fuzz, even when #7797 is applied. Let's see how the doc tests work!



---

archive/issue_comments_026794.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI started with \"manually\" testing against three of the doc test errors that I got with my patch. Two of them fail with Alexander's patch as well:\n\n```\nsage: P.<x,y,z> = QQ[]\nsage: x/0\nTraceback (most recent call last):\n...\nZeroDivisionError:\n```\n --> The old error message \"rational division by zero\" has gone.\n\n```\nsage: (x*y).is_monomial()\nTrue\nsage: (2*y).is_monomial()\nFalse\n```\n --> That's better than my patch, where these return 1 and 0.\n\n```\nsage: (x+y^2^30)^10\nx^10\n```\n --> That should result in an overflow error.\n\nI didn't analyse the segmentation faults.",
    "created_at": "2011-09-27T08:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26794",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:50" align="right">comment:50</div>

I started with "manually" testing against three of the doc test errors that I got with my patch. Two of them fail with Alexander's patch as well:

```
sage: P.<x,y,z> = QQ[]
sage: x/0
Traceback (most recent call last):
...
ZeroDivisionError:
```
 --> The old error message "rational division by zero" has gone.

```
sage: (x*y).is_monomial()
True
sage: (2*y).is_monomial()
False
```
 --> That's better than my patch, where these return 1 and 0.

```
sage: (x+y^2^30)^10
x^10
```
 --> That should result in an overflow error.

I didn't analyse the segmentation faults.



---

archive/issue_comments_026795.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nPS: Note that all these problems concern *commutative* polynomials.",
    "created_at": "2011-09-27T08:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26795",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:51" align="right">comment:51</div>

PS: Note that all these problems concern *commutative* polynomials.



---

archive/issue_comments_026796.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@simon-king-jena](#comment%3A50):\n> sage: P.<x,y,z> = QQ[]\n> sage: x/0\n> Traceback (most recent call last):\n> ...\n> ZeroDivisionError:\n\nHere is the explanation:\n\nLet `P = QQ[x,y,z]`. Since coercion is now done properly, x/0 is first converting 0 into P and tries to invert it there. The result is a naked `ZeroDivisionError` in\nsage.libs.singular.polynomial.singular_polynomial_div_coeff.\nBefore, it used to invert 0 as a rational number, resulting in a `ZeroDivisionError` with some error message.\n\nBurcin and I agree that it is ok to have the `ZeroDivisionError` without a message: What else could it state but \"don't divide by zero\"?\n\nSo, it is not an issue.\n\n> ```\n> sage: (x*y).is_monomial()\n> True\n> sage: (2*y).is_monomial()\n> False\n> ```\n\nI don't know why it has occured in the first place, but now it seems alright, even with my patch.\n\n> ```\n> sage: (x+y^2^30)^10\n> x^10\n> ```\n>  --> That should result in an overflow error.\n\nIt turns out that one gets the *same* stupid result with an unpatched sage-4.7.2.alpha2. Burcin told me that this patch is supposed to fix it. Apparently it fails, and we need to understand why it fails.\n\n> I didn't analyse the segmentation faults.\n\nThat will be next...",
    "created_at": "2011-09-27T14:16:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26796",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@simon-king-jena](#comment%3A50):
> sage: P.<x,y,z> = QQ[]
> sage: x/0
> Traceback (most recent call last):
> ...
> ZeroDivisionError:

Here is the explanation:

Let `P = QQ[x,y,z]`. Since coercion is now done properly, x/0 is first converting 0 into P and tries to invert it there. The result is a naked `ZeroDivisionError` in
sage.libs.singular.polynomial.singular_polynomial_div_coeff.
Before, it used to invert 0 as a rational number, resulting in a `ZeroDivisionError` with some error message.

Burcin and I agree that it is ok to have the `ZeroDivisionError` without a message: What else could it state but "don't divide by zero"?

So, it is not an issue.

> ```
> sage: (x*y).is_monomial()
> True
> sage: (2*y).is_monomial()
> False
> ```

I don't know why it has occured in the first place, but now it seems alright, even with my patch.

> ```
> sage: (x+y^2^30)^10
> x^10
> ```
>  --> That should result in an overflow error.

It turns out that one gets the *same* stupid result with an unpatched sage-4.7.2.alpha2. Burcin told me that this patch is supposed to fix it. Apparently it fails, and we need to understand why it fails.

> I didn't analyse the segmentation faults.

That will be next...



---

archive/issue_comments_026797.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nI created a new ticket #11856 for the (missing) overflow error.",
    "created_at": "2011-09-27T14:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26797",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:53" align="right">comment:53</div>

I created a new ticket #11856 for the (missing) overflow error.



---

archive/issue_comments_026798.json:
```json
{
    "body": "Dependencies: **#11856**",
    "created_at": "2011-09-27T14:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26798",
    "user": "https://github.com/simon-king-jena"
}
```

Dependencies: **#11856**



---

archive/issue_comments_026799.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@simon-king-jena](#comment%3A53):\n> I created a new ticket #11856 for the (missing) overflow error.\n\nSorry, I forgot: It should be a dependency.",
    "created_at": "2011-09-27T14:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26799",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@simon-king-jena](#comment%3A53):
> I created a new ticket #11856 for the (missing) overflow error.

Sorry, I forgot: It should be a dependency.



---

archive/issue_comments_026800.json:
```json
{
    "body": "Attachment: **[trac4539_libplural_todo.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_todo.patch.gz)**\n\nExperimental rebasement wrt sage-4.7.2.alpha3 plus #7797 plus #11856",
    "created_at": "2011-09-27T16:10:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26800",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[trac4539_libplural_todo.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_todo.patch.gz)**

Experimental rebasement wrt sage-4.7.2.alpha3 plus #7797 plus #11856



---

archive/issue_comments_026801.json:
```json
{
    "body": "Changed dependencies from **#11856** to **#7797 #11316 #11856**",
    "created_at": "2011-09-27T16:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26801",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#11856** to **#7797 #11316 #11856**



---

archive/issue_comments_026802.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nIt seems that I was able to get the missing overflow error in #11856, which I added as a dependency. I had to update my patch (and Alexander will need to update his as well), because the function overflow_check is now expecting two arguments (a long and a ring), not one.\n\nTests are still missing, of course, and I have still no idea about the segfault.",
    "created_at": "2011-09-27T16:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26802",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:55" align="right">comment:55</div>

It seems that I was able to get the missing overflow error in #11856, which I added as a dependency. I had to update my patch (and Alexander will need to update his as well), because the function overflow_check is now expecting two arguments (a long and a ring), not one.

Tests are still missing, of course, and I have still no idea about the segfault.



---

archive/issue_comments_026803.json:
```json
{
    "body": "fixes at least some segfault (updated patch) - needs main patch applied before",
    "created_at": "2011-09-27T22:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26803",
    "user": "https://github.com/alexanderdreyer"
}
```

fixes at least some segfault (updated patch) - needs main patch applied before



---

archive/issue_comments_026804.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nAttachment: **[trac4539_lmul.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_lmul.patch.gz)**\n\nI found out that the intended lmul implementation, namely using rmul *and* reverting left and right hand side, is an illegal for some right hand side objects. Up to now, this is only verified for schemes/elliptic_curves/ell_curve_isogeny.py More extensive tests follow.",
    "created_at": "2011-09-27T22:11:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26804",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:56" align="right">comment:56</div>

Attachment: **[trac4539_lmul.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_lmul.patch.gz)**

I found out that the intended lmul implementation, namely using rmul *and* reverting left and right hand side, is an illegal for some right hand side objects. Up to now, this is only verified for schemes/elliptic_curves/ell_curve_isogeny.py More extensive tests follow.



---

archive/issue_comments_026805.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nHi Alexander, the description of your lmul patch says \"needs main patch applied before\". Which of the two main patches are you referring to?",
    "created_at": "2011-09-28T06:16:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26805",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:57" align="right">comment:57</div>

Hi Alexander, the description of your lmul patch says "needs main patch applied before". Which of the two main patches are you referring to?



---

archive/issue_comments_026806.json:
```json
{
    "body": "Attachment: **[trac4539_kwds.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_kwds.patch.gz)**\n\nfixes \"keyword not found\" issue (revert unnecessary path of the big patch)",
    "created_at": "2011-09-28T08:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26806",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[trac4539_kwds.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_kwds.patch.gz)**

fixes "keyword not found" issue (revert unnecessary path of the big patch)



---

archive/issue_comments_026807.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nHere another small patch reverts an unnecessary part of the big patch. It fixes the keyword argument not found issue.",
    "created_at": "2011-09-28T09:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26807",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:58" align="right">comment:58</div>

Here another small patch reverts an unnecessary part of the big patch. It fixes the keyword argument not found issue.



---

archive/issue_comments_026808.json:
```json
{
    "body": "Attachment: **[trac4539_is_monomial.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_is_monomial.patch.gz)**\n\nPatch for using trac4539_libplural-2011-09-27-untested.patch together with #11856 (not needed for trac4539_libplural_todo.patch)",
    "created_at": "2011-09-28T10:33:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26808",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[trac4539_is_monomial.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_is_monomial.patch.gz)**

Patch for using trac4539_libplural-2011-09-27-untested.patch together with #11856 (not needed for trac4539_libplural_todo.patch)



---

archive/issue_comments_026809.json:
```json
{
    "body": "Attachment: **[trac4539_overflow.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_overflow.patch.gz)**\n\nmonomial_quotient should throw instead of return nonsense",
    "created_at": "2011-09-28T10:54:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26809",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[trac4539_overflow.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_overflow.patch.gz)**

monomial_quotient should throw instead of return nonsense



---

archive/issue_comments_026810.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nAttachment: **[trac4539_monomial_quotient.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_monomial_quotient.patch.gz)**\n\nConcerning [attachment: trac4539_monomial_quotient.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_monomial_quotient.patch.gz): I am not sure if it is the right thing to do. I think that monomial_quotient is a method that should be as fast as possible, since in some situations it is used very frequently. In these situations, it is always the case that one monomial *does* divide the other. Hence, for the application, it is a bad idea to have a redundant sanity test in monomial_quotient. I'd rather have it return a wrong result when using it in a wrong way.\n\nNote that [attachment: trac4539_kwds.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_kwds.patch.gz) is not needed for my patch - I already have *args in it.\n\nWe have already briefly discussed why I think that [attachment: trac4539_lmul.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_lmul.patch.gz) probably is not a good approach: x._rmul_(c) and x._lmul_(c) (by specification of the coercion model) can assume that the argument c belongs to x.parent().base_ring(). In particular, I don't believe that c can actually be a non-commutative polynomial.\n\nCan you please provide an example that was segfaulting without the lmul-patch?",
    "created_at": "2011-09-28T13:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26810",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:59" align="right">comment:59</div>

Attachment: **[trac4539_monomial_quotient.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_monomial_quotient.patch.gz)**

Concerning [attachment: trac4539_monomial_quotient.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_monomial_quotient.patch.gz): I am not sure if it is the right thing to do. I think that monomial_quotient is a method that should be as fast as possible, since in some situations it is used very frequently. In these situations, it is always the case that one monomial *does* divide the other. Hence, for the application, it is a bad idea to have a redundant sanity test in monomial_quotient. I'd rather have it return a wrong result when using it in a wrong way.

Note that [attachment: trac4539_kwds.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_kwds.patch.gz) is not needed for my patch - I already have *args in it.

We have already briefly discussed why I think that [attachment: trac4539_lmul.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_lmul.patch.gz) probably is not a good approach: x._rmul_(c) and x._lmul_(c) (by specification of the coercion model) can assume that the argument c belongs to x.parent().base_ring(). In particular, I don't believe that c can actually be a non-commutative polynomial.

Can you please provide an example that was segfaulting without the lmul-patch?



---

archive/issue_comments_026811.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nAt least, when I use [attachment: trac4539_libplural_todo.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_todo.patch.gz) plus [attachment: trac4539_lmul.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_lmul.patch.gz) on top of sage-4.7.3.alpha3-prerelease, then all tests in sage/rings/polynomial pass (except those that fail in the unpatched version as well).\n\nSince I believe that the monomial quotient patch does not do the right thing, I'd prefer to work on top of [attachment: trac4539_libplural_todo.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_todo.patch.gz) and [attachment: trac4539_lmul.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_lmul.patch.gz), and concentrate on getting the lmul business right.",
    "created_at": "2011-09-28T13:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26811",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:60" align="right">comment:60</div>

At least, when I use [attachment: trac4539_libplural_todo.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_todo.patch.gz) plus [attachment: trac4539_lmul.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_lmul.patch.gz) on top of sage-4.7.3.alpha3-prerelease, then all tests in sage/rings/polynomial pass (except those that fail in the unpatched version as well).

Since I believe that the monomial quotient patch does not do the right thing, I'd prefer to work on top of [attachment: trac4539_libplural_todo.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_todo.patch.gz) and [attachment: trac4539_lmul.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_lmul.patch.gz), and concentrate on getting the lmul business right.



---

archive/issue_comments_026812.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nI can already confirm that ther *is* a segfault without the lmul patch. So, I'll try to analyse what arguments are passed to `_rmul_` / _lmul_. If I remember correctly, polynomial rings do not use the current coercion model. Hence, it is perhaps no surprise that `_rmul_` and `_lmul_` do not do what we expect.",
    "created_at": "2011-09-28T13:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26812",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:61" align="right">comment:61</div>

I can already confirm that ther *is* a segfault without the lmul patch. So, I'll try to analyse what arguments are passed to `_rmul_` / _lmul_. If I remember correctly, polynomial rings do not use the current coercion model. Hence, it is perhaps no surprise that `_rmul_` and `_lmul_` do not do what we expect.



---

archive/issue_comments_026813.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nIt is very strange: Apparently, a different lmul method fixes the segfault. However, when I insert a print statement in the unpatched lmul method, then I find that it is actually not executed directly before segfaulting.\n\nAlexander, how did you found that a change in lmul could fix it?",
    "created_at": "2011-09-28T13:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26813",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:62" align="right">comment:62</div>

It is very strange: Apparently, a different lmul method fixes the segfault. However, when I insert a print statement in the unpatched lmul method, then I find that it is actually not executed directly before segfaulting.

Alexander, how did you found that a change in lmul could fix it?



---

archive/issue_comments_026814.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nAlexander has just explained the lmul problem to me. It was an oversight in the original patch, where self._lmul_(right) was calling right._rmul_(self), which is of course wrong, since the argument to `_rmul_` must be an element of the base ring. It should correctly be self._rmul_(right).\n\nAlexander just told me that he agrees in dropping the (redundant) test in monomial_quotient.",
    "created_at": "2011-09-28T14:07:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26814",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:63" align="right">comment:63</div>

Alexander has just explained the lmul problem to me. It was an oversight in the original patch, where self._lmul_(right) was calling right._rmul_(self), which is of course wrong, since the argument to `_rmul_` must be an element of the base ring. It should correctly be self._rmul_(right).

Alexander just told me that he agrees in dropping the (redundant) test in monomial_quotient.



---

archive/issue_comments_026815.json:
```json
{
    "body": "Attachment: **[trac4539_libplural.2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.2.patch.gz)**\n\nCombined patch relative to sage-4.7.2.alpha3 plus #7797 plus #11856",
    "created_at": "2011-09-28T14:10:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26815",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[trac4539_libplural.2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.2.patch.gz)**

Combined patch relative to sage-4.7.2.alpha3 plus #7797 plus #11856



---

archive/issue_events_051309.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T14:14:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51309"
}
```



---

archive/issue_events_051310.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T14:14:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51310"
}
```



---

archive/issue_comments_026816.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,3 +19,7 @@\n * put the files in sage/algebra/ ???\n * make sure element does not export functions it doesn't support (e.g. gcd)\n * predefined structures from the library\n+\n+**__Apply__**\n+\n+* [attachment: trac4539_libplural.2.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.2.patch.gz)\n``````\n",
    "created_at": "2011-09-28T14:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26816",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,3 +19,7 @@
 * put the files in sage/algebra/ ???
 * make sure element does not export functions it doesn't support (e.g. gcd)
 * predefined structures from the library
+
+**__Apply__**
+
+* [attachment: trac4539_libplural.2.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.2.patch.gz)
``````




---

archive/issue_comments_026817.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nThe new [attachment: trac4539_libplural.2.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.2.patch.gz) is stand-alone and is supposed to summarise the discussion we had here. I think it is ready to be reviewed (but as usual I didn't run the tests yet...).\n\nApply trac4539_libplural.2.patch",
    "created_at": "2011-09-28T14:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26817",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:64" align="right">comment:64</div>

The new [attachment: trac4539_libplural.2.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.2.patch.gz) is stand-alone and is supposed to summarise the discussion we had here. I think it is ready to be reviewed (but as usual I didn't run the tests yet...).

Apply trac4539_libplural.2.patch



---

archive/issue_comments_026818.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nI get a doctest failure in sage/rings/polynomial/multi_polynomial_ideal.py. There, a protocol of a Gr\u00f6bner basis computation is printed where we do not expect it.\n\nThe problem: If one runs the test separately, it works fine:\n\n```\nsage: A.<x,y,z> = FreeAlgebra(QQ, 3)\nsage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})\nsage: H.inject_variables()\nDefining x, y, z\nsage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False)\nsage: G = vector(I.gens()); G\n/mnt/local/king/SAGE/debug/sage-4.7.2.alpha3-prerelease/local/lib/python2.6/site-packages/sage/modules/free_module.py:366: UserWarning: You are constructing a free module   over a noncommutative ring. Sage does\n             not have a concept of left/right and both sided modules, so be careful. It's also\n             not guaranteed that all multiplications are done from the right side.\n  not guaranteed that all multiplications are done from the right side.\"\"\")\n/mnt/local/king/SAGE/debug/sage-4.7.2.alpha3-prerelease/local/lib/python2.6/site-packages/sage/modules/free_module.py:584: UserWarning: You are constructing a free module over a noncommutative ring. Sage does not have a concept of left/right and both sided modules be careful. It's also not guarantied that all multiplications are done from the right side.\n  warn(\"\"\"You are constructing a free module over a noncommutative ring. Sage does not have a concept of left/right and both sided modules be careful. It's also not guarantied that all multiplications are done from the right side.\"\"\")\n(y^2, x^2, z^2 - 1)\n```\n\nBut the same doctest executed as part of the doctest suite has a \n\n```\nstd in (0),(x,y),(dp(2),C)\n[4294967295:2]3ss4s6\n(S:2)--\nproduct criterion:1 chain criterion:0\n```\nprinted after (!!) the result.\n\nSo, apparently another test has a side effect. I tried to identify it (e.g., a test that sets verbosity and forgets to reset it), but I did not succeed.  Also I wonder why one first sees the result and only later sees the protocol.",
    "created_at": "2011-09-28T15:33:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26818",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:65" align="right">comment:65</div>

I get a doctest failure in sage/rings/polynomial/multi_polynomial_ideal.py. There, a protocol of a Grbner basis computation is printed where we do not expect it.

The problem: If one runs the test separately, it works fine:

```
sage: A.<x,y,z> = FreeAlgebra(QQ, 3)
sage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})
sage: H.inject_variables()
Defining x, y, z
sage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False)
sage: G = vector(I.gens()); G
/mnt/local/king/SAGE/debug/sage-4.7.2.alpha3-prerelease/local/lib/python2.6/site-packages/sage/modules/free_module.py:366: UserWarning: You are constructing a free module   over a noncommutative ring. Sage does
             not have a concept of left/right and both sided modules, so be careful. It's also
             not guaranteed that all multiplications are done from the right side.
  not guaranteed that all multiplications are done from the right side.""")
/mnt/local/king/SAGE/debug/sage-4.7.2.alpha3-prerelease/local/lib/python2.6/site-packages/sage/modules/free_module.py:584: UserWarning: You are constructing a free module over a noncommutative ring. Sage does not have a concept of left/right and both sided modules be careful. It's also not guarantied that all multiplications are done from the right side.
  warn("""You are constructing a free module over a noncommutative ring. Sage does not have a concept of left/right and both sided modules be careful. It's also not guarantied that all multiplications are done from the right side.""")
(y^2, x^2, z^2 - 1)
```

But the same doctest executed as part of the doctest suite has a 

```
std in (0),(x,y),(dp(2),C)
[4294967295:2]3ss4s6
(S:2)--
product criterion:1 chain criterion:0
```
printed after (!!) the result.

So, apparently another test has a side effect. I tried to identify it (e.g., a test that sets verbosity and forgets to reset it), but I did not succeed.  Also I wonder why one first sees the result and only later sees the protocol.



---

archive/issue_events_051311.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T15:33:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51311"
}
```



---

archive/issue_events_051312.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T15:33:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51312"
}
```



---

archive/issue_comments_026819.json:
```json
{
    "body": "Work Issues: **detect the doctest with a verbosity side effect**",
    "created_at": "2011-09-28T15:33:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26819",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **detect the doctest with a verbosity side effect**



---

archive/issue_events_051313.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T17:09:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51313"
}
```



---

archive/issue_events_051314.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T17:09:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51314"
}
```



---

archive/issue_comments_026820.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,4 +22,4 @@\n \n **__Apply__**\n \n-* [attachment: trac4539_libplural.2.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.2.patch.gz)\n+* [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)\n``````\n",
    "created_at": "2011-09-28T17:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26820",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,4 +22,4 @@
 
 **__Apply__**
 
-* [attachment: trac4539_libplural.2.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.2.patch.gz)
+* [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)
``````




---

archive/issue_comments_026821.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nIt turned out that I misinterpreted the error: The actual error was wrong line breaks in the expected warning message. The protocol from Singular is printed to stdout, and apparently it was just by accident (though reproducible) that I saw it in the test log.\n\nNote that the warning message misspells the word \"guaranteed\" (namely \"guarantied\"). I fixed that misspelling as well, and I also introduced nicer (I think) line breaks for the warning.\n\nGlad that this is fixed. I hope the tests pass by now.\n\nApply trac4539_libplural.patch",
    "created_at": "2011-09-28T17:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26821",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:66" align="right">comment:66</div>

It turned out that I misinterpreted the error: The actual error was wrong line breaks in the expected warning message. The protocol from Singular is printed to stdout, and apparently it was just by accident (though reproducible) that I saw it in the test log.

Note that the warning message misspells the word "guaranteed" (namely "guarantied"). I fixed that misspelling as well, and I also introduced nicer (I think) line breaks for the warning.

Glad that this is fixed. I hope the tests pass by now.

Apply trac4539_libplural.patch



---

archive/issue_comments_026822.json:
```json
{
    "body": "Changed keywords from **libsingular plural wrapper sd34** to **libsingular plural wrapper sd10 sd23.5 sd24 sd34**",
    "created_at": "2011-09-28T17:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26822",
    "user": "https://github.com/simon-king-jena"
}
```

Changed keywords from **libsingular plural wrapper sd34** to **libsingular plural wrapper sd10 sd23.5 sd24 sd34**



---

archive/issue_comments_026823.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nFWIW, all doctests pass for me, except those that fail with unpatched sage-4.7.2.alpha3-prerelease.\n\nBy the way: How should reviewing be done in this case? I have no overview who wrote what (i.e., who can *review* what), and I think many people contributed to it.\n\nIn [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz), I added an author list. But is it exhaustive?",
    "created_at": "2011-09-28T17:48:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26823",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:67" align="right">comment:67</div>

FWIW, all doctests pass for me, except those that fail with unpatched sage-4.7.2.alpha3-prerelease.

By the way: How should reviewing be done in this case? I have no overview who wrote what (i.e., who can *review* what), and I think many people contributed to it.

In [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz), I added an author list. But is it exhaustive?



---

archive/issue_comments_026824.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nConcerning reviewing: Would it be OK that we all comment whether we are happy with the current patch, and that it constitutes a positive review if all are happy with it and nobody has a veto? Martin seems to agree.",
    "created_at": "2011-09-28T18:19:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26824",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:68" align="right">comment:68</div>

Concerning reviewing: Would it be OK that we all comment whether we are happy with the current patch, and that it constitutes a positive review if all are happy with it and nobody has a veto? Martin seems to agree.



---

archive/issue_comments_026825.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nI am writing a reviewer patch, since several doc strings needs reformatting.\n\nQuestion:\n\nIn sage/algebras/free_algebra.py in the method g_algebra, I find the statement:\n\"By default is assumed, that two variables commute.\" I don't understand that statement. Is it meant \"If there are only two variables then they commute\"? Or \"Any two variables commute\" (hopefully not)? Or \"There are two variables that commute\" (but which)? Can you provide an example for that default, and also show how (if possible) the default can be overridden?",
    "created_at": "2011-09-28T18:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26825",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:69" align="right">comment:69</div>

I am writing a reviewer patch, since several doc strings needs reformatting.

Question:

In sage/algebras/free_algebra.py in the method g_algebra, I find the statement:
"By default is assumed, that two variables commute." I don't understand that statement. Is it meant "If there are only two variables then they commute"? Or "Any two variables commute" (hopefully not)? Or "There are two variables that commute" (but which)? Can you provide an example for that default, and also show how (if possible) the default can be overridden?



---

archive/issue_comments_026826.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nPS: The other statements\n\n```\n        - Coercion doesn't work yet, there is some cheating about assumptions\n        - The optional argument ``check`` controls checking the degeneracy conditions.\n          Furthermore, the default values interfere with non-degeneracy conditions.\n```\naren't clear to  me either. \n\n* What does \"cheating about assumptions\" mean (what are the assumptions)?\n* What exactly does not work in coercion (perhaps I can fix it?)?\n* What are \"the default values\" (the only default is `order=\"degrevlex\"`)?\n* How do they interfere with non-degeneracy conditions? What are these conditions?",
    "created_at": "2011-09-28T18:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26826",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:70" align="right">comment:70</div>

PS: The other statements

```
        - Coercion doesn't work yet, there is some cheating about assumptions
        - The optional argument ``check`` controls checking the degeneracy conditions.
          Furthermore, the default values interfere with non-degeneracy conditions.
```
aren't clear to  me either. 

* What does "cheating about assumptions" mean (what are the assumptions)?
* What exactly does not work in coercion (perhaps I can fix it?)?
* What are "the default values" (the only default is `order="degrevlex"`)?
* How do they interfere with non-degeneracy conditions? What are these conditions?



---

archive/issue_events_051315.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T18:39:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51315"
}
```



---

archive/issue_events_051316.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T18:39:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51316"
}
```



---

archive/issue_comments_026827.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nToo bad. I forgot to apply my \"combined\" patch relative to #7797 (or at least to #11068). Needs work.",
    "created_at": "2011-09-28T18:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26827",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:71" align="right">comment:71</div>

Too bad. I forgot to apply my "combined" patch relative to #7797 (or at least to #11068). Needs work.



---

archive/issue_events_051317.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T19:03:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51317"
}
```



---

archive/issue_events_051318.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T19:03:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51318"
}
```



---

archive/issue_comments_026828.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nI think that it would be better to just have #11068 as a dependency: We should use it (because it implements one- and twosided ideals), and in contrast to #7797 it has a positive review.",
    "created_at": "2011-09-28T19:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26828",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:72" align="right">comment:72</div>

I think that it would be better to just have #11068 as a dependency: We should use it (because it implements one- and twosided ideals), and in contrast to #7797 it has a positive review.



---

archive/issue_comments_026829.json:
```json
{
    "body": "Changed dependencies from **#7797 #11316 #11856** to **#11068 #11316 #11856**",
    "created_at": "2011-09-28T19:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26829",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#7797 #11316 #11856** to **#11068 #11316 #11856**



---

archive/issue_events_051319.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T19:03:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51319"
}
```



---

archive/issue_events_051320.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-28T19:03:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51320"
}
```



---

archive/issue_comments_026830.json:
```json
{
    "body": "Changed work issues from **detect the doctest with a verbosity side effect** to **rebase wrt #11068; doc string formatting**",
    "created_at": "2011-09-28T19:03:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26830",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **detect the doctest with a verbosity side effect** to **rebase wrt #11068; doc string formatting**



---

archive/issue_comments_026831.json:
```json
{
    "body": "Changed work issues from **rebase wrt #11068; doc string formatting** to **Pickling. Quotients. Uniqueness.**",
    "created_at": "2011-09-29T00:06:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26831",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **rebase wrt #11068; doc string formatting** to **Pickling. Quotients. Uniqueness.**



---

archive/issue_comments_026832.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nHere's a report on features that I implemented today (not posted yet), missing features, and I also have some questions for you:\n\n__Sidedness of ideals__\n\nBy #11068, we can have one- and two-sided ideals. Oleksander told me that Singular can only compute left or twosided Gr\u00f6bner bases. Therefore, I think non-commutative polynomial ideals should refuse to be right-sided. The default should be left ideal. If the ideal is defined as a two-sided ideal, then std should return the same as twostd. Here is an example:\n\n```\nsage: A.<x,y,z> = FreeAlgebra(QQ, 3)\nsage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})\nsage: H.inject_variables()\nDefining x, y, z\nsage: JL = H.ideal([x^3, y^3, z^3 - 4*z])\nsage: JL\nLeft Ideal (x^3, y^3, z^3 - 4*z) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\nsage: JL.std()\nLeft Ideal (z^3 - 4*z, y*z^2 - 2*y*z, x*z^2 + 2*x*z, 2*x*y*z - z^2 - 2*z, y^3, x^3) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\nsage: JT = H.ideal([x^3, y^3, z^3 - 4*z], side='twosided')\nsage: JT\nTwosided Ideal (x^3, y^3, z^3 - 4*z) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\nsage: JT.std()\nTwosided Ideal (z^3 - 4*z, y*z^2 - 2*y*z, x*z^2 + 2*x*z, y^2*z - 2*y^2, 2*x*y*z - z^2 - 2*z, x^2*z + 2*x^2, y^3, x*y^2 - y*z, x^2*y - x*z - 2*x, x^3) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\nsage: JT.std() == JL.twostd()\nTrue\n```\n\nI think that's a good solution.\n\n__Cache__\n\nI added a cached_method decorator to std and twostd - I guess it is obvious that the result of a GB computation should be cached.\n\n**Question:** Should g-algebras be unique parents? If you agree that they should be, then I can try to implement it.\n\n__Category__\n\nA proper initialisation of non-commutative polynomial rings in the category of algebras was missing and is now added:\n\n```\nsage: H._is_category_initialized()\nTrue\nsage: H.category()\nCategory of algebras over Rational Field\n```\n\n__Pickling__\n\nThe test suite does not pass. Among other things, pickling of g-algebras has simply been forgotten. This certainly must be fixed:\n\n```\nsage: dumps(H)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: expected string or Unicode object, NoneType found\n```\nIt could be that, by using a `UniqueFactory` or `UniqueRepresentation`, the pickling problem automatically vanishes. Otherwise, a `__reduce__` method must be implemented.\n\n__Generator names for g-algebras__\n\nIt should be possible to choose names in the `g_algebra()` method.\n\n__Quotients__\n\nThere is a custom `quotient()` method for g-algebras (not using #11068). The question is: Is that really a quotient? It isn't printed as such, and the quotient relations are not used in arithmetic nor in comparison:\n\n```\nsage: A.<x,y,z> = FreeAlgebra(QQ, 3)\nsage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})\nsage: H.inject_variables()\nDefining x, y, z\nsage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False)\nsage: Q = H.quotient(I); Q\nNoncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\nsage: Q.relations()\n{y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\nsage: I.twostd()\nTwosided Ideal (z^2 - 1, y*z - y, x*z + x, y^2, 2*x*y - z - 1, x^2) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\nsage: Q.2^2\nz^2\nsage: Q.2^2 == Q.one_element()\nFalse\n```\n**Question:** Did I misinterprete it? Hence, is there a way to make Q show that `Q.2^2` is equal to one?\n\nOtherwise, the custom `quotient()` should be dropped. #11068 provides the framework for nc-quotient rings; one just needs to add a `I.reduce(p)` method to our ideals (which is missing anyway).\n\n__Doc strings__\n\nI fixed various wrong doc string formats. Of course, after the changes mentioned above, some doc tests need to be modified.",
    "created_at": "2011-09-29T00:06:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26832",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:74" align="right">comment:74</div>

Here's a report on features that I implemented today (not posted yet), missing features, and I also have some questions for you:

__Sidedness of ideals__

By #11068, we can have one- and two-sided ideals. Oleksander told me that Singular can only compute left or twosided Grbner bases. Therefore, I think non-commutative polynomial ideals should refuse to be right-sided. The default should be left ideal. If the ideal is defined as a two-sided ideal, then std should return the same as twostd. Here is an example:

```
sage: A.<x,y,z> = FreeAlgebra(QQ, 3)
sage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})
sage: H.inject_variables()
Defining x, y, z
sage: JL = H.ideal([x^3, y^3, z^3 - 4*z])
sage: JL
Left Ideal (x^3, y^3, z^3 - 4*z) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
sage: JL.std()
Left Ideal (z^3 - 4*z, y*z^2 - 2*y*z, x*z^2 + 2*x*z, 2*x*y*z - z^2 - 2*z, y^3, x^3) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
sage: JT = H.ideal([x^3, y^3, z^3 - 4*z], side='twosided')
sage: JT
Twosided Ideal (x^3, y^3, z^3 - 4*z) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
sage: JT.std()
Twosided Ideal (z^3 - 4*z, y*z^2 - 2*y*z, x*z^2 + 2*x*z, y^2*z - 2*y^2, 2*x*y*z - z^2 - 2*z, x^2*z + 2*x^2, y^3, x*y^2 - y*z, x^2*y - x*z - 2*x, x^3) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
sage: JT.std() == JL.twostd()
True
```

I think that's a good solution.

__Cache__

I added a cached_method decorator to std and twostd - I guess it is obvious that the result of a GB computation should be cached.

**Question:** Should g-algebras be unique parents? If you agree that they should be, then I can try to implement it.

__Category__

A proper initialisation of non-commutative polynomial rings in the category of algebras was missing and is now added:

```
sage: H._is_category_initialized()
True
sage: H.category()
Category of algebras over Rational Field
```

__Pickling__

The test suite does not pass. Among other things, pickling of g-algebras has simply been forgotten. This certainly must be fixed:

```
sage: dumps(H)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: expected string or Unicode object, NoneType found
```
It could be that, by using a `UniqueFactory` or `UniqueRepresentation`, the pickling problem automatically vanishes. Otherwise, a `__reduce__` method must be implemented.

__Generator names for g-algebras__

It should be possible to choose names in the `g_algebra()` method.

__Quotients__

There is a custom `quotient()` method for g-algebras (not using #11068). The question is: Is that really a quotient? It isn't printed as such, and the quotient relations are not used in arithmetic nor in comparison:

```
sage: A.<x,y,z> = FreeAlgebra(QQ, 3)
sage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})
sage: H.inject_variables()
Defining x, y, z
sage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False)
sage: Q = H.quotient(I); Q
Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
sage: Q.relations()
{y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
sage: I.twostd()
Twosided Ideal (z^2 - 1, y*z - y, x*z + x, y^2, 2*x*y - z - 1, x^2) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
sage: Q.2^2
z^2
sage: Q.2^2 == Q.one_element()
False
```
**Question:** Did I misinterprete it? Hence, is there a way to make Q show that `Q.2^2` is equal to one?

Otherwise, the custom `quotient()` should be dropped. #11068 provides the framework for nc-quotient rings; one just needs to add a `I.reduce(p)` method to our ideals (which is missing anyway).

__Doc strings__

I fixed various wrong doc string formats. Of course, after the changes mentioned above, some doc tests need to be modified.



---

archive/issue_comments_026833.json:
```json
{
    "body": "Attachment: **[trac4539_libplural.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)**\n\nCombined patch relative to sage-4.7.2.alpha3 plus #11068 plus #11856",
    "created_at": "2011-09-29T08:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26833",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[trac4539_libplural.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)**

Combined patch relative to sage-4.7.2.alpha3 plus #11068 plus #11856



---

archive/issue_comments_026834.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nNew patch posted! It does what I have announced above. I suggest that the next step should be to provide pickling, possibly by using `UniqueRepresentation`.",
    "created_at": "2011-09-29T08:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26834",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:75" align="right">comment:75</div>

New patch posted! It does what I have announced above. I suggest that the next step should be to provide pickling, possibly by using `UniqueRepresentation`.



---

archive/issue_comments_026835.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -23,3 +23,4 @@\n **__Apply__**\n \n * [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)\n+* [attachment: trac4539_pickling.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)\n``````\n",
    "created_at": "2011-09-29T10:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26835",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -23,3 +23,4 @@
 **__Apply__**
 
 * [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)
+* [attachment: trac4539_pickling.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)
``````




---

archive/issue_comments_026836.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nThe patch that I have just attached provides uniqueness of the parent (using a `UniqueFactory`) and pickling for nc rings and polynomials.\n\nIn short:\n\n```\nsage: A.<x,y,z> = FreeAlgebra(QQ, 3)\nsage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})\nsage: H is loads(dumps(H))\nTrue\nsage: TestSuite(H).run()\n```\n\nDoc tests still need to be updated, though. I also think that normal form computation should be easy to implement.\n\nApply trac4539_libplural.patch trac4539_pickling.patch",
    "created_at": "2011-09-29T10:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26836",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:76" align="right">comment:76</div>

The patch that I have just attached provides uniqueness of the parent (using a `UniqueFactory`) and pickling for nc rings and polynomials.

In short:

```
sage: A.<x,y,z> = FreeAlgebra(QQ, 3)
sage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})
sage: H is loads(dumps(H))
True
sage: TestSuite(H).run()
```

Doc tests still need to be updated, though. I also think that normal form computation should be easy to implement.

Apply trac4539_libplural.patch trac4539_pickling.patch



---

archive/issue_comments_026837.json:
```json
{
    "body": "Changed work issues from **Pickling. Quotients. Uniqueness.** to **Quotients and normal forms**",
    "created_at": "2011-09-29T11:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26837",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **Pickling. Quotients. Uniqueness.** to **Quotients and normal forms**



---

archive/issue_comments_026838.json:
```json
{
    "body": "Attachment: **[trac4539_pickling.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)**\n\nPickling of nc rings and polynomials",
    "created_at": "2011-09-29T12:28:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26838",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[trac4539_pickling.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)**

Pickling of nc rings and polynomials



---

archive/issue_comments_026839.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nI have updated the second patch (adding a commit message), and I added a third patch. It provides a non-commutative \"Gr\u00f6bner strategy\", normal form computation, and thus quotient rings of g-algebras.\n\nNote that the quotients use the general framework from #11068. They *should* simply be g-algebras as well. But I suggest that this will be done on a different ticket.\n\nWith the new patch, one can do:\n\n```\nsage: A.<x,y,z> = FreeAlgebra(QQ, 3)\nsage: H.<x,y,z> = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})\nsage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False, side='twosided')\nsage: Q = H.quotient(I); Q\nQuotient of Noncommutative Multivariate Polynomial Ring in x, y, z\nover Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y,\nz*x: x*z + 2*x} by the ideal (y^2, x^2, z^2 - 1)\nsage: Q.2^2 == Q.one_element()   # indirect doctest\nTrue\n```\nHere, we see that the relation that we just found in the quotient is actually a consequence of the given relations:\n\n```\nsage: I.twostd()\nTwosided Ideal (z^2 - 1, y*z - y, x*z + x, y^2, 2*x*y - z - 1, x^2)\nof Noncommutative Multivariate Polynomial Ring in x, y, z over\nRational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\n```\n\nNote that reduction of polynomials by a list of polynomials is, in general, not a normal form. However, reduction of a polynomial by an ideal uses a two-sided Gr\u00f6bner basis and is thus a normal form.\n\nI just thought that it would better be reduction by a left Gr\u00f6bner basis, if the ideal is just a left ideal. OK, doing it soon...\n\nApply trac4539_libplural.patch trac4539_pickling.patch trac4539_normal_forms.patch",
    "created_at": "2011-09-29T12:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26839",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:78" align="right">comment:78</div>

I have updated the second patch (adding a commit message), and I added a third patch. It provides a non-commutative "Grbner strategy", normal form computation, and thus quotient rings of g-algebras.

Note that the quotients use the general framework from #11068. They *should* simply be g-algebras as well. But I suggest that this will be done on a different ticket.

With the new patch, one can do:

```
sage: A.<x,y,z> = FreeAlgebra(QQ, 3)
sage: H.<x,y,z> = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})
sage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False, side='twosided')
sage: Q = H.quotient(I); Q
Quotient of Noncommutative Multivariate Polynomial Ring in x, y, z
over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y,
z*x: x*z + 2*x} by the ideal (y^2, x^2, z^2 - 1)
sage: Q.2^2 == Q.one_element()   # indirect doctest
True
```
Here, we see that the relation that we just found in the quotient is actually a consequence of the given relations:

```
sage: I.twostd()
Twosided Ideal (z^2 - 1, y*z - y, x*z + x, y^2, 2*x*y - z - 1, x^2)
of Noncommutative Multivariate Polynomial Ring in x, y, z over
Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
```

Note that reduction of polynomials by a list of polynomials is, in general, not a normal form. However, reduction of a polynomial by an ideal uses a two-sided Grbner basis and is thus a normal form.

I just thought that it would better be reduction by a left Grbner basis, if the ideal is just a left ideal. OK, doing it soon...

Apply trac4539_libplural.patch trac4539_pickling.patch trac4539_normal_forms.patch



---

archive/issue_comments_026840.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,3 +24,4 @@\n \n * [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)\n * [attachment: trac4539_pickling.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)\n+* [attachment: trac4539_normal_forms.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms.patch.gz)\n``````\n",
    "created_at": "2011-09-29T12:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26840",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,3 +24,4 @@
 
 * [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)
 * [attachment: trac4539_pickling.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)
+* [attachment: trac4539_normal_forms.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms.patch.gz)
``````




---

archive/issue_comments_026841.json:
```json
{
    "body": "Changed work issues from **Quotients and normal forms** to **doc tests**",
    "created_at": "2011-09-29T12:39:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26841",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **Quotients and normal forms** to **doc tests**



---

archive/issue_comments_026842.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nThe third patch is now modified, so that reduction wrt a left ideal is computed with a left (not a two-sided) Gr\u00f6bner basis.\n\nIt needs work, since the documentation is not complete and since certainly several doc tests need to be modified. But feel free to test the new patches...",
    "created_at": "2011-09-29T12:39:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26842",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:79" align="right">comment:79</div>

The third patch is now modified, so that reduction wrt a left ideal is computed with a left (not a two-sided) Grbner basis.

It needs work, since the documentation is not complete and since certainly several doc tests need to be modified. But feel free to test the new patches...



---

archive/issue_comments_026843.json:
```json
{
    "body": "Normal forms, quotient rings, and ideal containment",
    "created_at": "2011-09-29T12:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26843",
    "user": "https://github.com/simon-king-jena"
}
```

Normal forms, quotient rings, and ideal containment



---

archive/issue_comments_026844.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nAttachment: **[trac4539_normal_forms.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms.patch.gz)**\n\nSorry, I couldn't resist to add one more feature: Ideal containment, which is a direct application of normal form computation.\n\nWith the new version of the third patch, we have:\n\n```\nsage: A.<x,y,z> = FreeAlgebra(QQ, 3)\nsage: H.<x,y,z> = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})\nsage: JL = H.ideal([x^3, y^3, z^3 - 4*z])\nsage: JL.std()\nLeft Ideal (z^3 - 4*z, y*z^2 - 2*y*z, x*z^2 + 2*x*z, 2*x*y*z - z^2 - 2*z, y^3, x^3) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\nsage: JT = H.ideal([x^3, y^3, z^3 - 4*z], side='twosided')\nsage: JT.std()\nTwosided Ideal (z^3 - 4*z, y*z^2 - 2*y*z, x*z^2 + 2*x*z, y^2*z - 2*y^2, 2*x*y*z - z^2 - 2*z, x^2*z + 2*x^2, y^3, x*y^2 - y*z, x^2*y - x*z - 2*x, x^3) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}\n```\nApparently, ``x*y^2-y*z`` should be in the two-sided, but not in the left ideal. And that is indeed what we get:\n\n```\nsage: x*y^2-y*z in JL\nFalse\nsage: x*y^2-y*z in JT\nTrue\n```\n\nDocs are still to fix. And I promise to focus on it - no new features...\n\nApply trac4539_libplural.patch trac4539_pickling.patch trac4539_normal_forms.patch",
    "created_at": "2011-09-29T12:56:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26844",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:80" align="right">comment:80</div>

Attachment: **[trac4539_normal_forms.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms.patch.gz)**

Sorry, I couldn't resist to add one more feature: Ideal containment, which is a direct application of normal form computation.

With the new version of the third patch, we have:

```
sage: A.<x,y,z> = FreeAlgebra(QQ, 3)
sage: H.<x,y,z> = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})
sage: JL = H.ideal([x^3, y^3, z^3 - 4*z])
sage: JL.std()
Left Ideal (z^3 - 4*z, y*z^2 - 2*y*z, x*z^2 + 2*x*z, 2*x*y*z - z^2 - 2*z, y^3, x^3) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
sage: JT = H.ideal([x^3, y^3, z^3 - 4*z], side='twosided')
sage: JT.std()
Twosided Ideal (z^3 - 4*z, y*z^2 - 2*y*z, x*z^2 + 2*x*z, y^2*z - 2*y^2, 2*x*y*z - z^2 - 2*z, x^2*z + 2*x^2, y^3, x*y^2 - y*z, x^2*y - x*z - 2*x, x^3) of Noncommutative Multivariate Polynomial Ring in x, y, z over Rational Field, nc-relations: {y*x: x*y - z, z*y: y*z - 2*y, z*x: x*z + 2*x}
```
Apparently, ``x*y^2-y*z`` should be in the two-sided, but not in the left ideal. And that is indeed what we get:

```
sage: x*y^2-y*z in JL
False
sage: x*y^2-y*z in JT
True
```

Docs are still to fix. And I promise to focus on it - no new features...

Apply trac4539_libplural.patch trac4539_pickling.patch trac4539_normal_forms.patch



---

archive/issue_comments_026845.json:
```json
{
    "body": "Reviewer: **Simon King**",
    "created_at": "2011-09-29T15:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26845",
    "user": "https://github.com/simon-king-jena"
}
```

Reviewer: **Simon King**



---

archive/issue_comments_026846.json:
```json
{
    "body": "Changed work issues from **doc tests** to none",
    "created_at": "2011-09-29T15:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26846",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **doc tests** to none



---

archive/issue_comments_026847.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nThe fourth patch does not provide a new feature, but only fixes of bugs, of the doc string formatting, and of the doc tests.\n\nSince I do not have Sage locally, I'd appreciate if one of you could build the documentation and see if it looks nice.\n\nNot a feature, but a fix concerns the hash: If one constructs a g-algebra as one is supposed to (`g_algeba` method resp. unique factory) then the g-algebra is a unique parent. Hence, `id(self)` is a good hash for it, and `__cmp__` can be removed.\n\nNote that the hash in Sage is allowed to change from session to session, so, `id(self)` is fine - see `UniqueRepresentation.__hash__`. Of course, one can destroy the uniqueness on purpose, but that's  not our problem.\n\nTests in sage/libs/singular, multi_polynomial_ideal.py and plural.pyx pass. I am now running all doc tests, but I think it is OK to put it as \"needs review\".\n\nConcerning review: I think we should review each other's code. So, in particular, one of you should please review my last three patches.\n\nPlease verify if I got the credits (author list) right.\n\nApply trac4539_libplural.patch trac4539_pickling.patch trac4539_normal_forms.patch trac4539_fix_docs.patch",
    "created_at": "2011-09-29T15:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26847",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:81" align="right">comment:81</div>

The fourth patch does not provide a new feature, but only fixes of bugs, of the doc string formatting, and of the doc tests.

Since I do not have Sage locally, I'd appreciate if one of you could build the documentation and see if it looks nice.

Not a feature, but a fix concerns the hash: If one constructs a g-algebra as one is supposed to (`g_algeba` method resp. unique factory) then the g-algebra is a unique parent. Hence, `id(self)` is a good hash for it, and `__cmp__` can be removed.

Note that the hash in Sage is allowed to change from session to session, so, `id(self)` is fine - see `UniqueRepresentation.__hash__`. Of course, one can destroy the uniqueness on purpose, but that's  not our problem.

Tests in sage/libs/singular, multi_polynomial_ideal.py and plural.pyx pass. I am now running all doc tests, but I think it is OK to put it as "needs review".

Concerning review: I think we should review each other's code. So, in particular, one of you should please review my last three patches.

Please verify if I got the credits (author list) right.

Apply trac4539_libplural.patch trac4539_pickling.patch trac4539_normal_forms.patch trac4539_fix_docs.patch



---

archive/issue_comments_026848.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,3 +25,4 @@\n * [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)\n * [attachment: trac4539_pickling.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)\n * [attachment: trac4539_normal_forms.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms.patch.gz)\n+* [attachment: trac4539_fix_docs.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs.patch.gz)\n``````\n",
    "created_at": "2011-09-29T15:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26848",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,3 +25,4 @@
 * [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)
 * [attachment: trac4539_pickling.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)
 * [attachment: trac4539_normal_forms.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms.patch.gz)
+* [attachment: trac4539_fix_docs.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs.patch.gz)
``````




---

archive/issue_comments_026849.json:
```json
{
    "body": "Author: **Michael Brickenstein, Burcin Erocal, Oleksandr Motsak, Alexander Dreyer, Simon King**",
    "created_at": "2011-09-29T15:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26849",
    "user": "https://github.com/simon-king-jena"
}
```

Author: **Michael Brickenstein, Burcin Erocal, Oleksandr Motsak, Alexander Dreyer, Simon King**



---

archive/issue_events_051321.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-29T15:19:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51321"
}
```



---

archive/issue_events_051322.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-29T15:19:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51322"
}
```



---

archive/issue_comments_026850.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nHoorray, only three errors, in sage/rings/noncommutative_ideal.pyx! That should be doable before dinner.",
    "created_at": "2011-09-29T15:45:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26850",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:82" align="right">comment:82</div>

Hoorray, only three errors, in sage/rings/noncommutative_ideal.pyx! That should be doable before dinner.



---

archive/issue_events_051323.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-29T15:45:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51323"
}
```



---

archive/issue_events_051324.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-29T15:45:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51324"
}
```



---

archive/issue_comments_026851.json:
```json
{
    "body": "Work Issues: **fix remaining doctest errors**",
    "created_at": "2011-09-29T15:45:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26851",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **fix remaining doctest errors**



---

archive/issue_comments_026852.json:
```json
{
    "body": "Fixing doc strings and doc tests",
    "created_at": "2011-09-29T16:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26852",
    "user": "https://github.com/simon-king-jena"
}
```

Fixing doc strings and doc tests



---

archive/issue_events_051325.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-29T16:32:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51325"
}
```



---

archive/issue_events_051326.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-29T16:32:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51326"
}
```



---

archive/issue_comments_026853.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nAttachment: **[trac4539_fix_docs.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs.patch.gz)**\n\nIt turned out that the element constructor of ideal monoids changed a left ideal into a twosided ideal, which (together with the missing uniqueness of ideal monoids) led to errors in a `loads(dumps(...)==...` test.\n\nI hope all tests will pass by now!\n\nApply trac4539_libplural.patch trac4539_pickling.patch trac4539_normal_forms.patch trac4539_fix_docs.patch",
    "created_at": "2011-09-29T16:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26853",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:83" align="right">comment:83</div>

Attachment: **[trac4539_fix_docs.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs.patch.gz)**

It turned out that the element constructor of ideal monoids changed a left ideal into a twosided ideal, which (together with the missing uniqueness of ideal monoids) led to errors in a `loads(dumps(...)==...` test.

I hope all tests will pass by now!

Apply trac4539_libplural.patch trac4539_pickling.patch trac4539_normal_forms.patch trac4539_fix_docs.patch



---

archive/issue_comments_026854.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nReplying to [@simon-king-jena](#comment%3A83):\n> I hope all tests will pass by now!\n\nThey do!",
    "created_at": "2011-09-29T20:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26854",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:84" align="right">comment:84</div>

Replying to [@simon-king-jena](#comment%3A83):
> I hope all tests will pass by now!

They do!



---

archive/issue_comments_026855.json:
```json
{
    "body": "Changed work issues from **fix remaining doctest errors** to none",
    "created_at": "2011-09-29T20:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26855",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **fix remaining doctest errors** to none



---

archive/issue_comments_026856.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nI checked the patches, the look good indeed. So a positive review for the mathematical part. I'm starting doc tests now.",
    "created_at": "2011-09-29T21:38:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26856",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:85" align="right">comment:85</div>

I checked the patches, the look good indeed. So a positive review for the mathematical part. I'm starting doc tests now.



---

archive/issue_comments_026857.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nHm, trac4539_fix_docs.patch doesn't apply cleanly, maybe i used the  wrong order. What does the following tell you?\n`hg qseries`",
    "created_at": "2011-09-29T22:10:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26857",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:86" align="right">comment:86</div>

Hm, trac4539_fix_docs.patch doesn't apply cleanly, maybe i used the  wrong order. What does the following tell you?
`hg qseries`



---

archive/issue_comments_026858.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nReplying to [@alexanderdreyer](#comment%3A86):\n> Hm, trac4539_fix_docs.patch doesn't apply cleanly, maybe i used the  wrong order. What does the following tell you?\n\n\n```\nhg qseries\ntrac11815_format_must_preserve_embedding.patch\ntrac11817_question_mark_using_sage_getdoc.patch\ntrac11768_source_of_dynamic_class.patch\ntrac11115-cached_cython.patch\ntrac11115_element_with_cache.patch\ntrac11115_cached_function_pickling.patch\ntrac11791_dynamic_metaclass_introspection.patch\ntrac11780_unique_auxiliar_polyring.patch\ntrac11856_exponent_overflow.patch\ntrac11068_nc_ideals_and_quotients.patch\ntrac11068_quotient_ring_without_names.patch\ntrac11068_lifting_map.patch\ntrac4539_libplural.patch\ntrac4539_pickling.patch\ntrac4539_normal_forms.patch\ntrac4539_fix_docs.patch\n```\n\nSo, as you can see, I indeed have more stuff applied in front of the plural patches. I will try to see what went wrong.",
    "created_at": "2011-09-30T06:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26858",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:87" align="right">comment:87</div>

Replying to [@alexanderdreyer](#comment%3A86):
> Hm, trac4539_fix_docs.patch doesn't apply cleanly, maybe i used the  wrong order. What does the following tell you?


```
hg qseries
trac11815_format_must_preserve_embedding.patch
trac11817_question_mark_using_sage_getdoc.patch
trac11768_source_of_dynamic_class.patch
trac11115-cached_cython.patch
trac11115_element_with_cache.patch
trac11115_cached_function_pickling.patch
trac11791_dynamic_metaclass_introspection.patch
trac11780_unique_auxiliar_polyring.patch
trac11856_exponent_overflow.patch
trac11068_nc_ideals_and_quotients.patch
trac11068_quotient_ring_without_names.patch
trac11068_lifting_map.patch
trac4539_libplural.patch
trac4539_pickling.patch
trac4539_normal_forms.patch
trac4539_fix_docs.patch
```

So, as you can see, I indeed have more stuff applied in front of the plural patches. I will try to see what went wrong.



---

archive/issue_comments_026859.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nI can not confirm Alexander's statement that some patch does not apply.\n\nI cleaned my patch queue, so that I only use the patches that are dependencies. Now, I have\n\n```\n$ hg qapplied\ntrac11815_format_must_preserve_embedding.patch\ntrac11115-cached_cython.patch\ntrac11115_element_with_cache.patch\ntrac11115_cached_function_pickling.patch\ntrac11068_nc_ideals_and_quotients.patch\ntrac11068_quotient_ring_without_names.patch\ntrac11068_lifting_map.patch\ntrac11856_exponent_overflow.patch\ntrac4539_libplural.patch\ntrac4539_pickling.patch\ntrac4539_normal_forms.patch\ntrac4539_fix_docs.patch\n```\non top of sage-4.7.2.alpha3-prerelease.\n\nOne remark: It happened to me recently that I tried to qimport a patch from trac, but my university had a proxy, and for some reason it thought that the patch is cached. I therefore switched the cache off, for the computer in my office. That is where I test the patches.\n\nBut Burcin just told me that they have a proxy here as well. So, could it be that you tried to download the latest patch version, but your proxy only provided you with a cached but outdated version of the patches?\n\nThe other possibility is that I thought I have posted the patch version that I have on my computer in my office, but in fact posted an outdated version that I have on my netbook here. Testing it now.",
    "created_at": "2011-09-30T08:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26859",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:88" align="right">comment:88</div>

I can not confirm Alexander's statement that some patch does not apply.

I cleaned my patch queue, so that I only use the patches that are dependencies. Now, I have

```
$ hg qapplied
trac11815_format_must_preserve_embedding.patch
trac11115-cached_cython.patch
trac11115_element_with_cache.patch
trac11115_cached_function_pickling.patch
trac11068_nc_ideals_and_quotients.patch
trac11068_quotient_ring_without_names.patch
trac11068_lifting_map.patch
trac11856_exponent_overflow.patch
trac4539_libplural.patch
trac4539_pickling.patch
trac4539_normal_forms.patch
trac4539_fix_docs.patch
```
on top of sage-4.7.2.alpha3-prerelease.

One remark: It happened to me recently that I tried to qimport a patch from trac, but my university had a proxy, and for some reason it thought that the patch is cached. I therefore switched the cache off, for the computer in my office. That is where I test the patches.

But Burcin just told me that they have a proxy here as well. So, could it be that you tried to download the latest patch version, but your proxy only provided you with a cached but outdated version of the patches?

The other possibility is that I thought I have posted the patch version that I have on my computer in my office, but in fact posted an outdated version that I have on my netbook here. Testing it now.



---

archive/issue_comments_026860.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nSee #11878 for quotients of g-algebras.",
    "created_at": "2011-09-30T09:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26860",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:89" align="right">comment:89</div>

See #11878 for quotients of g-algebras.



---

archive/issue_comments_026861.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nReplying to [@simon-king-jena](#comment%3A88):\n> I can not confirm Alexander's statement that some patch does not apply.\n\nYeah, I just mixed up the order of the following patches:\n> trac4539_pickling.patch\n> trac4539_normal_forms.patch\n\nAlready the first didn't apply cleanly, but I overlooked. It built fine and the tests are running.",
    "created_at": "2011-09-30T10:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26861",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:90" align="right">comment:90</div>

Replying to [@simon-king-jena](#comment%3A88):
> I can not confirm Alexander's statement that some patch does not apply.

Yeah, I just mixed up the order of the following patches:
> trac4539_pickling.patch
> trac4539_normal_forms.patch

Already the first didn't apply cleanly, but I overlooked. It built fine and the tests are running.



---

archive/issue_events_051327.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-30T12:06:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51327"
}
```



---

archive/issue_events_051328.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-30T12:06:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51328"
}
```



---

archive/issue_comments_026862.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nI found that the function `new_NRing`, that is supposed to return a valid `NCPolynomialRing_plural` out of a ring wrap, is broken. Important data, namely the matrices c and d, are left as `None`. Hence, for a ring produced with `new_NRing`, pickling won't work at all.\n\nThe question is whether we can leave it broken for now, and fix it separately, or leave this ticket open and \"needs work\". How shall we proceed?",
    "created_at": "2011-09-30T12:06:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26862",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:91" align="right">comment:91</div>

I found that the function `new_NRing`, that is supposed to return a valid `NCPolynomialRing_plural` out of a ring wrap, is broken. Important data, namely the matrices c and d, are left as `None`. Hence, for a ring produced with `new_NRing`, pickling won't work at all.

The question is whether we can leave it broken for now, and fix it separately, or leave this ticket open and "needs work". How shall we proceed?



---

archive/issue_comments_026863.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nPS: Even *if* it returns a valid picklable ring, uniqueness of parents would break. So, we should analyse whether `new_NRing` is used in a critical (uniqueness-breaking) way in the current patch.",
    "created_at": "2011-09-30T12:08:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26863",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:92" align="right">comment:92</div>

PS: Even *if* it returns a valid picklable ring, uniqueness of parents would break. So, we should analyse whether `new_NRing` is used in a critical (uniqueness-breaking) way in the current patch.



---

archive/issue_comments_026864.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nReplying to [@simon-king-jena](#comment%3A92):\n> PS: Even *if* it returns a valid picklable ring, uniqueness of parents would break. So, we should analyse whether `new_NRing` is used in a critical (uniqueness-breaking) way in the current patch.\n\nIt concerncs the `SCA` function and the original approach towards quotients.",
    "created_at": "2011-09-30T12:12:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26864",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:93" align="right">comment:93</div>

Replying to [@simon-king-jena](#comment%3A92):
> PS: Even *if* it returns a valid picklable ring, uniqueness of parents would break. So, we should analyse whether `new_NRing` is used in a critical (uniqueness-breaking) way in the current patch.

It concerncs the `SCA` function and the original approach towards quotients.



---

archive/issue_comments_026865.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nI suggest that we leave stuff as it is now, so that it can be merged and we can build on top of it. Therefore, I revert it to \"needs review\".\n\nIf I am not mistaken, `SCA` is a special case in Singular anyway, and it is a huge difference whether one works in an `SCA` or in an isomorphic general g-algebra quotient (Oleksandr, could you tell how the ring should be created in this case? I guess the function `SCA` in the patch does not do the right thing).\n\nI believe that there should be a sub-class of `NCPolynomialRing_plural` for general quotients of g-algebras, and then a sub-sub-class for SCA that uses the specialised implementation from Singular. But that should be on #11878.",
    "created_at": "2011-09-30T14:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26865",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:94" align="right">comment:94</div>

I suggest that we leave stuff as it is now, so that it can be merged and we can build on top of it. Therefore, I revert it to "needs review".

If I am not mistaken, `SCA` is a special case in Singular anyway, and it is a huge difference whether one works in an `SCA` or in an isomorphic general g-algebra quotient (Oleksandr, could you tell how the ring should be created in this case? I guess the function `SCA` in the patch does not do the right thing).

I believe that there should be a sub-class of `NCPolynomialRing_plural` for general quotients of g-algebras, and then a sub-sub-class for SCA that uses the specialised implementation from Singular. But that should be on #11878.



---

archive/issue_events_051329.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-30T14:44:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51329"
}
```



---

archive/issue_events_051330.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-09-30T14:44:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51330"
}
```



---

archive/issue_comments_026866.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nReplying to [@simon-king-jena](#comment%3A94):\n> If I am not mistaken, `SCA` is a special case in Singular anyway, and it is a huge difference whether one works in an `SCA` or in an isomorphic general g-algebra quotient (Oleksandr, could you tell how the ring should be created in this case? I guess the function `SCA` in the patch does not do the right thing).\n\nSCA structure is `_autodetected_` upon creation of a GR-algebra (`qring`) in runtime. Therefore one should not use an extra method for this: just create a GRing and its quotient by correct twosided ideal there.\n\nTest: if SCA implementation is used then `y*y == 0;` for each non-commutative (odd degree) variable `y`.",
    "created_at": "2011-09-30T15:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26866",
    "user": "https://github.com/sagetrac-OleksandrMotsak"
}
```

<div id="comment:95" align="right">comment:95</div>

Replying to [@simon-king-jena](#comment%3A94):
> If I am not mistaken, `SCA` is a special case in Singular anyway, and it is a huge difference whether one works in an `SCA` or in an isomorphic general g-algebra quotient (Oleksandr, could you tell how the ring should be created in this case? I guess the function `SCA` in the patch does not do the right thing).

SCA structure is `_autodetected_` upon creation of a GR-algebra (`qring`) in runtime. Therefore one should not use an extra method for this: just create a GRing and its quotient by correct twosided ideal there.

Test: if SCA implementation is used then `y*y == 0;` for each non-commutative (odd degree) variable `y`.



---

archive/issue_comments_026867.json:
```json
{
    "body": "Attachment: **[trac4539_fix_docs_32bit.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_32bit.patch.gz)**\n\nFixed one doc test which faild in 32 bit",
    "created_at": "2011-09-30T21:50:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26867",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[trac4539_fix_docs_32bit.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_32bit.patch.gz)**

Fixed one doc test which faild in 32 bit



---

archive/issue_comments_026868.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nOne doctest failed on OSX 10.5 PPC. This is fixed in the attached patch. Since we postponed the quotient issue, I think I can give a positive review for Simon's work as well as for Michael's, Burcin's and Oleksandr's part , which I reviewed on SD24.\n\n@simon-king-jena: If you accept my part we would have a positive review now.",
    "created_at": "2011-09-30T21:58:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26868",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:96" align="right">comment:96</div>

One doctest failed on OSX 10.5 PPC. This is fixed in the attached patch. Since we postponed the quotient issue, I think I can give a positive review for Simon's work as well as for Michael's, Burcin's and Oleksandr's part , which I reviewed on SD24.

@simon-king-jena: If you accept my part we would have a positive review now.



---

archive/issue_comments_026869.json:
```json
{
    "body": "Changed reviewer from **Simon King** to **Simon King, Alexander Dreyer**",
    "created_at": "2011-09-30T21:58:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26869",
    "user": "https://github.com/alexanderdreyer"
}
```

Changed reviewer from **Simon King** to **Simon King, Alexander Dreyer**



---

archive/issue_comments_026870.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\nReplying to [@alexanderdreyer](#comment%3A96):\n> One doctest failed on OSX 10.5 PPC. This is fixed in the attached patch.\n\nIt looks like this error already occurs #11856 - can you verify whether the error occurs on 32-bit with #11856? Then it might be better to post your patch there.\n\n> @simon-king-jena: If you accept my part we would have a positive review now.\n\nThe \"big\" patch merely combines work of y'all, and I certainly give the stuff there a positive review. However, the question on #11856 should first be answered.",
    "created_at": "2011-10-01T09:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26870",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:97" align="right">comment:97</div>

Replying to [@alexanderdreyer](#comment%3A96):
> One doctest failed on OSX 10.5 PPC. This is fixed in the attached patch.

It looks like this error already occurs #11856 - can you verify whether the error occurs on 32-bit with #11856? Then it might be better to post your patch there.

> @simon-king-jena: If you accept my part we would have a positive review now.

The "big" patch merely combines work of y'all, and I certainly give the stuff there a positive review. However, the question on #11856 should first be answered.



---

archive/issue_events_051331.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-01T09:02:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51331"
}
```



---

archive/issue_events_051332.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-01T09:02:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51332"
}
```



---

archive/issue_comments_026871.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nReplying to [@simon-king-jena](#comment%3A97):\n> Replying to [@alexanderdreyer](#comment%3A96):\n> > One doctest failed on OSX 10.5 PPC. This is fixed in the attached patch.\n\n> \n> It looks like this error already occurs #11856 - can you verify whether the error occurs on 32-bit with #11856? Then it might be better to post your patch there.\n\nIndeed, I already had to apply https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_32bit.patch.gz to #11856 on 32-bit systems.",
    "created_at": "2011-10-01T22:28:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26871",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:98" align="right">comment:98</div>

Replying to [@simon-king-jena](#comment%3A97):
> Replying to [@alexanderdreyer](#comment%3A96):
> > One doctest failed on OSX 10.5 PPC. This is fixed in the attached patch.

> 
> It looks like this error already occurs #11856 - can you verify whether the error occurs on 32-bit with #11856? Then it might be better to post your patch there.

Indeed, I already had to apply https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_32bit.patch.gz to #11856 on 32-bit systems.



---

archive/issue_comments_026872.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nReplying to [@alexanderdreyer](#comment%3A98):\n> Indeed, I already had to apply https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_32bit.patch.gz to #11856 on 32-bit systems.\n\nOK, then [attachment: trac4539_fix_docs_32bit.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_32bit.patch.gz) should better be moved to #11856 - since it only concerns doctests in the obvious way, but does not change the code, I think that your patch can be a reviewer patch for #11856, thus, preserving the positive review that Martin gave (but then add your name in the \"Reviewer\" field of #11856).\n\nIf that's done, then I'll try the stuff from here again, and then hopefully it can be turned into a positive review.",
    "created_at": "2011-10-02T06:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26872",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:99" align="right">comment:99</div>

Replying to [@alexanderdreyer](#comment%3A98):
> Indeed, I already had to apply https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_32bit.patch.gz to #11856 on 32-bit systems.

OK, then [attachment: trac4539_fix_docs_32bit.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_32bit.patch.gz) should better be moved to #11856 - since it only concerns doctests in the obvious way, but does not change the code, I think that your patch can be a reviewer patch for #11856, thus, preserving the positive review that Martin gave (but then add your name in the "Reviewer" field of #11856).

If that's done, then I'll try the stuff from here again, and then hopefully it can be turned into a positive review.



---

archive/issue_events_051333.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-02T21:23:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51333"
}
```



---

archive/issue_events_051334.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-02T21:23:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51334"
}
```



---

archive/issue_comments_026873.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nNow 32 bit issue was solved in #11856 (and has positive review again).",
    "created_at": "2011-10-02T21:25:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26873",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:101" align="right">comment:101</div>

Now 32 bit issue was solved in #11856 (and has positive review again).



---

archive/issue_events_051335.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-02T21:25:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51335"
}
```



---

archive/issue_events_051336.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-02T21:25:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51336"
}
```



---

archive/issue_events_051337.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-04T08:05:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51337"
}
```



---

archive/issue_events_051338.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-04T08:05:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51338"
}
```



---

archive/issue_events_051339.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-04T17:46:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51339"
}
```



---

archive/issue_events_051340.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-04T17:46:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51340"
}
```



---

archive/issue_comments_026874.json:
```json
{
    "body": "<div id=\"comment:103\" align=\"right\">comment:103</div>\n\nToo bad. I was asked to rebase #11586 and #11068 with respect  to #11339/#10903. By consequence, the patches from here need to be rebase as well. Needs work...",
    "created_at": "2011-10-04T17:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26874",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:103" align="right">comment:103</div>

Too bad. I was asked to rebase #11586 and #11068 with respect  to #11339/#10903. By consequence, the patches from here need to be rebase as well. Needs work...



---

archive/issue_comments_026875.json:
```json
{
    "body": "Work Issues: **Rebase wrt 4.7.3.alpha3 and #10903**",
    "created_at": "2011-10-04T17:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26875",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **Rebase wrt 4.7.3.alpha3 and #10903**



---

archive/issue_comments_026876.json:
```json
{
    "body": "<div id=\"comment:104\" align=\"right\">comment:104</div>\n\nIt is not going to be easy. #11339 and #10903 have removed some functions (eg., `n_IsOne`) that are needed here. So, I need to find out where it was imported from.",
    "created_at": "2011-10-04T18:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26876",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:104" align="right">comment:104</div>

It is not going to be easy. #11339 and #10903 have removed some functions (eg., `n_IsOne`) that are needed here. So, I need to find out where it was imported from.



---

archive/issue_comments_026877.json:
```json
{
    "body": "<div id=\"comment:105\" align=\"right\">comment:105</div>\n\n`n_IsOne` was replaced by `ring.cf.nIsOne(foo)`. We didn't remove any functionality, only replaced it by calls which are more explicit about the ring. If in doubt just ask :)",
    "created_at": "2011-10-04T18:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26877",
    "user": "https://github.com/malb"
}
```

<div id="comment:105" align="right">comment:105</div>

`n_IsOne` was replaced by `ring.cf.nIsOne(foo)`. We didn't remove any functionality, only replaced it by calls which are more explicit about the ring. If in doubt just ask :)



---

archive/issue_comments_026878.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">comment:106</div>\n\nReplying to [@malb](#comment%3A105):\n> `n_IsOne` was replaced by `ring.cf.nIsOne(foo)`. We didn't remove any functionality, only replaced it by calls which are more explicit about the ring. If in doubt just ask :)\n\nYep, I already found the replacement (by doing a grep for `n_IsOne` in my `.hg/patches`, when I wanted to find out where that function came from).",
    "created_at": "2011-10-04T18:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26878",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:106" align="right">comment:106</div>

Replying to [@malb](#comment%3A105):
> `n_IsOne` was replaced by `ring.cf.nIsOne(foo)`. We didn't remove any functionality, only replaced it by calls which are more explicit about the ring. If in doubt just ask :)

Yep, I already found the replacement (by doing a grep for `n_IsOne` in my `.hg/patches`, when I wanted to find out where that function came from).



---

archive/issue_comments_026879.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\nI didn't post my rebased patches yet, since I need to fix a few doctest errors.\n\nActually, the first error is a clear improvement. We have the following doctest:\n\n```\n            sage: A.<x,y,z> = FreeAlgebra(QQ, 3)\n            sage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})\n            sage: H.inject_variables()\n            Defining x, y, z\n            sage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False)\n            sage: G = vector(I.gens()); G\n            d...: UserWarning: You are constructing a free module\n            over a noncommutative ring. Sage does not have a concept\n            of left/right and both sided modules, so be careful.\n            It's also not guaranteed that all multiplications are\n            done from the right side.\n            d...: UserWarning: You are constructing a free module\n            over a noncommutative ring. Sage does not have a concept\n            of left/right and both sided modules, so be careful.\n            It's also not guaranteed that all multiplications are\n            done from the right side.\n            (y^2, x^2, z^2 - 1)\n            sage: M = I.syzygy_module()\n```\n\nWith #10903 applied, one gets 9 Syzygies:\n\n```\nsage: M[0]\n(-z^2 - 8*z - 15, 0, y^2)\nsage: M[1]\n(0, -z^2 + 8*z - 15, x^2)\nsage: M[2]\n(x^2*z^2 + 8*x^2*z + 15*x^2, -y^2*z^2 + 8*y^2*z - 15*y^2, -4*x*y*z + 2*z^2 + 2*z)\nsage: M[3]\n(x^2*y*z^2 + 9*x^2*y*z - 6*x*z^3 + 20*x^2*y - 72*x*z^2 - 282*x*z - 360*x, -y^3*z^2 + 7*y^3*z - 12*y^3, 6*y*z^2)\nsage: M[4]\n(x^3*z^2 + 7*x^3*z + 12*x^3, -x*y^2*z^2 + 9*x*y^2*z - 4*y*z^3 - 20*x*y^2 + 52*y*z^2 - 224*y*z + 320*y, -6*x*z^2)\nsage: M[5]\n(x^2*y^2*z + 4*x^2*y^2 - 8*x*y*z^2 - 48*x*y*z + 12*z^3 - 64*x*y + 108*z^2 + 312*z + 288, -y^4*z + 4*y^4, 0)\nsage: M[6]\n(2*x^3*y*z + 8*x^3*y + 9*x^2*z + 27*x^2, -2*x*y^3*z + 8*x*y^3 - 12*y^2*z^2 + 99*y^2*z - 195*y^2, -36*x*y*z + 24*z^2 + 18*z)\nsage: M[7]\n(x^4*z + 4*x^4, -x^2*y^2*z + 4*x^2*y^2 - 4*x*y*z^2 + 32*x*y*z - 6*z^3 - 64*x*y + 66*z^2 - 240*z + 288, 0)\nsage: M[8]\n(x^3*y^2*z + 4*x^3*y^2 + 18*x^2*y*z - 36*x*z^3 + 66*x^2*y - 432*x*z^2 - 1656*x*z - 2052*x, -x*y^4*z + 4*x*y^4 - 8*y^3*z^2 + 62*y^3*z - 114*y^3, 48*y*z^2 - 36*y*z)\nsage: M[9]\nTraceback (most recent call last):\n...\nIndexError: matrix index out of range\n```\n\nHowever, without #10903 (and with the original patches applied), one gets what is expected in the doc tests, namely 10 Syzygies -- but two of them are identical:\n\n```\nsage: M[0]\n(-z^2 - 8*z - 15, 0, y^2)\nsage: M[1]\n(0, -z^2 + 8*z - 15, x^2)\nsage: M[2]\n(x^2*z^2 + 8*x^2*z + 15*x^2, -y^2*z^2 + 8*y^2*z - 15*y^2, -4*x*y*z + 2*z^2 + 2*z)\nsage: M[3]\n(x^2*y*z^2 + 9*x^2*y*z - 6*x*z^3 + 20*x^2*y - 72*x*z^2 - 282*x*z - 360*x, -y^3*z^2 + 7*y^3*z - 12*y^3, 6*y*z^2)\nsage: M[4]\n(x^3*z^2 + 7*x^3*z + 12*x^3, -x*y^2*z^2 + 9*x*y^2*z - 4*y*z^3 - 20*x*y^2 + 52*y*z^2 - 224*y*z + 320*y, -6*x*z^2)\nsage: M[5]\n(x^2*y^2*z + 4*x^2*y^2 - 8*x*y*z^2 - 48*x*y*z + 12*z^3 - 64*x*y + 108*z^2 + 312*z + 288, -y^4*z + 4*y^4, 0)\nsage: M[6]\n(2*x^3*y*z + 8*x^3*y + 9*x^2*z + 27*x^2, -2*x*y^3*z + 8*x*y^3 - 12*y^2*z^2 + 99*y^2*z - 195*y^2, -36*x*y*z + 24*z^2 + 18*z)\nsage: M[7]\n(2*x^3*y*z + 8*x^3*y + 9*x^2*z + 27*x^2, -2*x*y^3*z + 8*x*y^3 - 12*y^2*z^2 + 99*y^2*z - 195*y^2, -36*x*y*z + 24*z^2 + 18*z)\nsage: M[8]\n(x^4*z + 4*x^4, -x^2*y^2*z + 4*x^2*y^2 - 4*x*y*z^2 + 32*x*y*z - 6*z^3 - 64*x*y + 66*z^2 - 240*z + 288, 0)\nsage: M[9]\n(x^3*y^2*z + 4*x^3*y^2 + 18*x^2*y*z - 36*x*z^3 + 66*x^2*y - 432*x*z^2 - 1656*x*z - 2052*x, -x*y^4*z + 4*x*y^4 - 8*y^3*z^2 + 62*y^3*z - 114*y^3, 48*y*z^2 - 36*y*z)\nsage: M[7]==M[6]\nTrue\n```\n\nSo, the old Singular version forgot to remove a redundant Syzygy.",
    "created_at": "2011-10-05T08:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26879",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:107" align="right">comment:107</div>

I didn't post my rebased patches yet, since I need to fix a few doctest errors.

Actually, the first error is a clear improvement. We have the following doctest:

```
            sage: A.<x,y,z> = FreeAlgebra(QQ, 3)
            sage: H = A.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y})
            sage: H.inject_variables()
            Defining x, y, z
            sage: I = H.ideal([y^2, x^2, z^2-H.one_element()],coerce=False)
            sage: G = vector(I.gens()); G
            d...: UserWarning: You are constructing a free module
            over a noncommutative ring. Sage does not have a concept
            of left/right and both sided modules, so be careful.
            It's also not guaranteed that all multiplications are
            done from the right side.
            d...: UserWarning: You are constructing a free module
            over a noncommutative ring. Sage does not have a concept
            of left/right and both sided modules, so be careful.
            It's also not guaranteed that all multiplications are
            done from the right side.
            (y^2, x^2, z^2 - 1)
            sage: M = I.syzygy_module()
```

With #10903 applied, one gets 9 Syzygies:

```
sage: M[0]
(-z^2 - 8*z - 15, 0, y^2)
sage: M[1]
(0, -z^2 + 8*z - 15, x^2)
sage: M[2]
(x^2*z^2 + 8*x^2*z + 15*x^2, -y^2*z^2 + 8*y^2*z - 15*y^2, -4*x*y*z + 2*z^2 + 2*z)
sage: M[3]
(x^2*y*z^2 + 9*x^2*y*z - 6*x*z^3 + 20*x^2*y - 72*x*z^2 - 282*x*z - 360*x, -y^3*z^2 + 7*y^3*z - 12*y^3, 6*y*z^2)
sage: M[4]
(x^3*z^2 + 7*x^3*z + 12*x^3, -x*y^2*z^2 + 9*x*y^2*z - 4*y*z^3 - 20*x*y^2 + 52*y*z^2 - 224*y*z + 320*y, -6*x*z^2)
sage: M[5]
(x^2*y^2*z + 4*x^2*y^2 - 8*x*y*z^2 - 48*x*y*z + 12*z^3 - 64*x*y + 108*z^2 + 312*z + 288, -y^4*z + 4*y^4, 0)
sage: M[6]
(2*x^3*y*z + 8*x^3*y + 9*x^2*z + 27*x^2, -2*x*y^3*z + 8*x*y^3 - 12*y^2*z^2 + 99*y^2*z - 195*y^2, -36*x*y*z + 24*z^2 + 18*z)
sage: M[7]
(x^4*z + 4*x^4, -x^2*y^2*z + 4*x^2*y^2 - 4*x*y*z^2 + 32*x*y*z - 6*z^3 - 64*x*y + 66*z^2 - 240*z + 288, 0)
sage: M[8]
(x^3*y^2*z + 4*x^3*y^2 + 18*x^2*y*z - 36*x*z^3 + 66*x^2*y - 432*x*z^2 - 1656*x*z - 2052*x, -x*y^4*z + 4*x*y^4 - 8*y^3*z^2 + 62*y^3*z - 114*y^3, 48*y*z^2 - 36*y*z)
sage: M[9]
Traceback (most recent call last):
...
IndexError: matrix index out of range
```

However, without #10903 (and with the original patches applied), one gets what is expected in the doc tests, namely 10 Syzygies -- but two of them are identical:

```
sage: M[0]
(-z^2 - 8*z - 15, 0, y^2)
sage: M[1]
(0, -z^2 + 8*z - 15, x^2)
sage: M[2]
(x^2*z^2 + 8*x^2*z + 15*x^2, -y^2*z^2 + 8*y^2*z - 15*y^2, -4*x*y*z + 2*z^2 + 2*z)
sage: M[3]
(x^2*y*z^2 + 9*x^2*y*z - 6*x*z^3 + 20*x^2*y - 72*x*z^2 - 282*x*z - 360*x, -y^3*z^2 + 7*y^3*z - 12*y^3, 6*y*z^2)
sage: M[4]
(x^3*z^2 + 7*x^3*z + 12*x^3, -x*y^2*z^2 + 9*x*y^2*z - 4*y*z^3 - 20*x*y^2 + 52*y*z^2 - 224*y*z + 320*y, -6*x*z^2)
sage: M[5]
(x^2*y^2*z + 4*x^2*y^2 - 8*x*y*z^2 - 48*x*y*z + 12*z^3 - 64*x*y + 108*z^2 + 312*z + 288, -y^4*z + 4*y^4, 0)
sage: M[6]
(2*x^3*y*z + 8*x^3*y + 9*x^2*z + 27*x^2, -2*x*y^3*z + 8*x*y^3 - 12*y^2*z^2 + 99*y^2*z - 195*y^2, -36*x*y*z + 24*z^2 + 18*z)
sage: M[7]
(2*x^3*y*z + 8*x^3*y + 9*x^2*z + 27*x^2, -2*x*y^3*z + 8*x*y^3 - 12*y^2*z^2 + 99*y^2*z - 195*y^2, -36*x*y*z + 24*z^2 + 18*z)
sage: M[8]
(x^4*z + 4*x^4, -x^2*y^2*z + 4*x^2*y^2 - 4*x*y*z^2 + 32*x*y*z - 6*z^3 - 64*x*y + 66*z^2 - 240*z + 288, 0)
sage: M[9]
(x^3*y^2*z + 4*x^3*y^2 + 18*x^2*y*z - 36*x*z^3 + 66*x^2*y - 432*x*z^2 - 1656*x*z - 2052*x, -x*y^4*z + 4*x*y^4 - 8*y^3*z^2 + 62*y^3*z - 114*y^3, 48*y*z^2 - 36*y*z)
sage: M[7]==M[6]
True
```

So, the old Singular version forgot to remove a redundant Syzygy.



---

archive/issue_comments_026880.json:
```json
{
    "body": "Attachment: **[trac4539_libplural_rel10903.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel10903.patch.gz)**\n\nCombined patch relative to sage-4.7.2.alpha3 plus #11068, #11856 and #10903",
    "created_at": "2011-10-05T08:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26880",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[trac4539_libplural_rel10903.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel10903.patch.gz)**

Combined patch relative to sage-4.7.2.alpha3 plus #11068, #11856 and #10903



---

archive/issue_comments_026881.json:
```json
{
    "body": "Pickling of nc rings and polynomials, rel #10903",
    "created_at": "2011-10-05T08:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26881",
    "user": "https://github.com/simon-king-jena"
}
```

Pickling of nc rings and polynomials, rel #10903



---

archive/issue_comments_026882.json:
```json
{
    "body": "Attachment: **[trac4539_pickling_rel10903.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling_rel10903.patch.gz)**\n\nAttachment: **[trac4539_normal_forms_rel10903.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms_rel10903.patch.gz)**\n\nNormal forms, quotient rings, and ideal containment, rel #10903",
    "created_at": "2011-10-05T08:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26882",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[trac4539_pickling_rel10903.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling_rel10903.patch.gz)**

Attachment: **[trac4539_normal_forms_rel10903.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms_rel10903.patch.gz)**

Normal forms, quotient rings, and ideal containment, rel #10903



---

archive/issue_comments_026883.json:
```json
{
    "body": "Changed dependencies from **#11068 #11316 #11856** to **#11068 #11316 #11856 #10903**",
    "created_at": "2011-10-05T08:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26883",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#11068 #11316 #11856** to **#11068 #11316 #11856 #10903**



---

archive/issue_events_051341.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-05T08:20:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51341"
}
```



---

archive/issue_events_051342.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-05T08:20:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51342"
}
```



---

archive/issue_comments_026884.json:
```json
{
    "body": "Changed work issues from **Rebase wrt 4.7.3.alpha3 and #10903** to none",
    "created_at": "2011-10-05T08:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26884",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **Rebase wrt 4.7.3.alpha3 and #10903** to none



---

archive/issue_comments_026885.json:
```json
{
    "body": "<div id=\"comment:108\" align=\"right\">comment:108</div>\n\nHoorray! The other doctest error was even easier to fix: It has been a new test, and I simply had a typo in it.\n\nBecause of #11339 and #10903, I had to change some lines in the code. In order to make the changes more easily visible, I attached the new patches under a new name, so that you can compare them with the old patches.\n\nCould you please have a look whether we can return to the positive review?\n\nApply trac4539_libplural_rel10903.patch trac4539_pickling_rel10903.patch trac4539_normal_forms_rel10903.patch trac4539_fix_docs_rel10903.patch",
    "created_at": "2011-10-05T08:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26885",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:108" align="right">comment:108</div>

Hoorray! The other doctest error was even easier to fix: It has been a new test, and I simply had a typo in it.

Because of #11339 and #10903, I had to change some lines in the code. In order to make the changes more easily visible, I attached the new patches under a new name, so that you can compare them with the old patches.

Could you please have a look whether we can return to the positive review?

Apply trac4539_libplural_rel10903.patch trac4539_pickling_rel10903.patch trac4539_normal_forms_rel10903.patch trac4539_fix_docs_rel10903.patch



---

archive/issue_comments_026886.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,7 +22,7 @@\n \n **__Apply__**\n \n-* [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)\n-* [attachment: trac4539_pickling.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)\n-* [attachment: trac4539_normal_forms.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms.patch.gz)\n-* [attachment: trac4539_fix_docs.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs.patch.gz)\n+* [attachment: trac4539_libplural_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel10903.patch.gz)\n+* [attachment: trac4539_pickling_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling_rel10903.patch.gz)\n+* [attachment: trac4539_normal_forms_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms_rel10903.patch.gz)\n+* [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz)\n``````\n",
    "created_at": "2011-10-05T08:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26886",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,7 +22,7 @@
 
 **__Apply__**
 
-* [attachment: trac4539_libplural.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural.patch.gz)
-* [attachment: trac4539_pickling.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling.patch.gz)
-* [attachment: trac4539_normal_forms.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms.patch.gz)
-* [attachment: trac4539_fix_docs.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs.patch.gz)
+* [attachment: trac4539_libplural_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel10903.patch.gz)
+* [attachment: trac4539_pickling_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling_rel10903.patch.gz)
+* [attachment: trac4539_normal_forms_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms_rel10903.patch.gz)
+* [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz)
``````




---

archive/issue_comments_026887.json:
```json
{
    "body": "<div id=\"comment:109\" align=\"right\">comment:109</div>\n\nThe patches look sane. I'll test them now (setting up 4.7.2alph3 will last some time).",
    "created_at": "2011-10-05T09:02:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26887",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:109" align="right">comment:109</div>

The patches look sane. I'll test them now (setting up 4.7.2alph3 will last some time).



---

archive/issue_comments_026888.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nFWIW, all tests pass for me (starting with the \"official version\" of sage-4.7.3.alpha3).",
    "created_at": "2011-10-05T09:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26888",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:110" align="right">comment:110</div>

FWIW, all tests pass for me (starting with the "official version" of sage-4.7.3.alpha3).



---

archive/issue_comments_026889.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">comment:111</div>\n\nCan you just post the output of `hg qapplied`? this would simplify things for me.",
    "created_at": "2011-10-05T09:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26889",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:111" align="right">comment:111</div>

Can you just post the output of `hg qapplied`? this would simplify things for me.



---

archive/issue_comments_026890.json:
```json
{
    "body": "<div id=\"comment:112\" align=\"right\">comment:112</div>\n\nReplying to [@alexanderdreyer](#comment%3A111):\n> Can you just post the output of `hg qapplied`? this would simplify things for me. \n\nStarting with sage-4.7.2.alpha3 (no prerelease this time):\n\n```\n$ hg qapplied\ntrac_11339_refcount_singular_rings.patch\ntrac_11339_refcount_singular_polynomials.patch\ntrac_10903_singular-3-1-3-3.patch\ntrac_10903_singular-fixes.patch\ntrac11856_exponent_overflow.patch\ntrac11856_fix_docs_32bit.patch\ntrac11115-cached_cython.patch\ntrac11115_element_with_cache.patch\ntrac11115_cached_function_pickling.patch\ntrac_11115_reviewer.patch\ntrac11068_nc_ideals_and_quotients.patch\ntrac11068_quotient_ring_without_names.patch\ntrac11068_lifting_map.patch\ntrac4539_libplural_rel10903.patch\ntrac4539_pickling_rel10903.patch\ntrac4539_normal_forms_rel10903.patch\ntrac4539_fix_docs_rel10903.patch\n```",
    "created_at": "2011-10-05T09:19:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26890",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:112" align="right">comment:112</div>

Replying to [@alexanderdreyer](#comment%3A111):
> Can you just post the output of `hg qapplied`? this would simplify things for me. 

Starting with sage-4.7.2.alpha3 (no prerelease this time):

```
$ hg qapplied
trac_11339_refcount_singular_rings.patch
trac_11339_refcount_singular_polynomials.patch
trac_10903_singular-3-1-3-3.patch
trac_10903_singular-fixes.patch
trac11856_exponent_overflow.patch
trac11856_fix_docs_32bit.patch
trac11115-cached_cython.patch
trac11115_element_with_cache.patch
trac11115_cached_function_pickling.patch
trac_11115_reviewer.patch
trac11068_nc_ideals_and_quotients.patch
trac11068_quotient_ring_without_names.patch
trac11068_lifting_map.patch
trac4539_libplural_rel10903.patch
trac4539_pickling_rel10903.patch
trac4539_normal_forms_rel10903.patch
trac4539_fix_docs_rel10903.patch
```



---

archive/issue_comments_026891.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">comment:113</div>\n\nSorry, I had to produce a new version of the last patch: The first patch has introduced a wrong instance of the `..todo::` markup. The docbuilder complained about it. Since [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz) is responsible for fixing the doc strings, I fixed it there.\n\nSo, please replace the last patch with the new version, and also try to build the documentation (`sage -docbuild reference html`).",
    "created_at": "2011-10-05T10:36:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26891",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:113" align="right">comment:113</div>

Sorry, I had to produce a new version of the last patch: The first patch has introduced a wrong instance of the `..todo::` markup. The docbuilder complained about it. Since [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz) is responsible for fixing the doc strings, I fixed it there.

So, please replace the last patch with the new version, and also try to build the documentation (`sage -docbuild reference html`).



---

archive/issue_comments_026892.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nOMG. It seems that I managed to destroy the patch that I have just attached by a patch that I had prepared for #10903. Needs work, for now.",
    "created_at": "2011-10-05T10:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26892",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:114" align="right">comment:114</div>

OMG. It seems that I managed to destroy the patch that I have just attached by a patch that I had prepared for #10903. Needs work, for now.



---

archive/issue_events_051343.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-05T10:40:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51343"
}
```



---

archive/issue_events_051344.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-05T10:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51344"
}
```



---

archive/issue_comments_026893.json:
```json
{
    "body": "Attachment: **[8800_functor_pushout_doc_and_fixes.patch.gz](https://github.com/sagemath/sage/files/ticket4539/8800_functor_pushout_doc_and_fixes.patch.gz)**\n\nFixing doc strings and doc tests , rel #10903",
    "created_at": "2011-10-05T10:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26893",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[8800_functor_pushout_doc_and_fixes.patch.gz](https://github.com/sagemath/sage/files/ticket4539/8800_functor_pushout_doc_and_fixes.patch.gz)**

Fixing doc strings and doc tests , rel #10903



---

archive/issue_comments_026894.json:
```json
{
    "body": "Attachment: **[trac4539_fix_docs_rel10903.2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.2.patch.gz)**\n\nFixing doc strings and doc tests , rel #10903",
    "created_at": "2011-10-05T10:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26894",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[trac4539_fix_docs_rel10903.2.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.2.patch.gz)**

Fixing doc strings and doc tests , rel #10903



---

archive/issue_comments_026895.json:
```json
{
    "body": "Attachment: **[trac4539_fix_docs_rel10903.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz)**\n\nFixing doc strings and doc tests , rel #10903",
    "created_at": "2011-10-05T10:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26895",
    "user": "https://github.com/simon-king-jena"
}
```

Attachment: **[trac4539_fix_docs_rel10903.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz)**

Fixing doc strings and doc tests , rel #10903



---

archive/issue_events_051345.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-05T10:57:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51345"
}
```



---

archive/issue_events_051346.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-05T10:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51346"
}
```



---

archive/issue_comments_026896.json:
```json
{
    "body": "<div id=\"comment:115\" align=\"right\">comment:115</div>\n\nI urgently need a break. It is unbelievable how many errors I made in the past 30 minutes.\n\nAnyway.\n\nI have now updated the patch (after first attaching a wrong file, followed by the correct file under a wrong name, and those things).\n\nNote that there is now a new patch at #10903 - without that patch, building the documentation would fail.\n\nThe new version of [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz) fixes one wrongly formatted `.. todo::` directive.\n\nPlease test whether the documentation builds fine for you.\n\nApply trac4539_libplural_rel10903.patch trac4539_pickling_rel10903.patch trac4539_normal_forms_rel10903.patch trac4539_fix_docs_rel10903.patch",
    "created_at": "2011-10-05T10:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26896",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:115" align="right">comment:115</div>

I urgently need a break. It is unbelievable how many errors I made in the past 30 minutes.

Anyway.

I have now updated the patch (after first attaching a wrong file, followed by the correct file under a wrong name, and those things).

Note that there is now a new patch at #10903 - without that patch, building the documentation would fail.

The new version of [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz) fixes one wrongly formatted `.. todo::` directive.

Please test whether the documentation builds fine for you.

Apply trac4539_libplural_rel10903.patch trac4539_pickling_rel10903.patch trac4539_normal_forms_rel10903.patch trac4539_fix_docs_rel10903.patch



---

archive/issue_comments_026897.json:
```json
{
    "body": "<div id=\"comment:116\" align=\"right\">comment:116</div>\n\nEverything is fine, but one issue: Unfortunately the docbuild contains one uncaught exception (on SuSE 11):\n\n```\nsphinx-build -b html -d /p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/output/doctrees/en/reference    /p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/en/reference /p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/output/html/en/reference\nRunning Sphinx v1.0.4\nloading pickled environment... done\nbuilding [html]: targets for 152 source files that are out of date\nupdating environment: 1 added, 152 changed, 0 removed\nreading sources... [ 99%] sage/symbolic/expression\nException occurred:\n  File \"/p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/common/conf.py\", line 378, in skip_member\n    if (hasattr(obj, '__name__') and obj.__name__.find('.') != -1 and\nAttributeError: 'NoneType' object has no attribute 'find'\nThe full traceback has been saved in /tmp/sphinx-err-RJnoHz.log, if you want to report the issue to the developers.\nPlease also report this if it was a user error, so that a better error message can be provided next time.\nEither send bugs to the mailing list at <http://groups.google.com/group/sphinx-dev/>,\nor report them in the tracker at <http://bitbucket.org/birkenfeld/sphinx/issues/>. Thanks!\nBuild finished.  The built documents can be found in /p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/output/html/en/reference\n```\n\nI suggested the reviewer patch: [attachment: trac4539_docbuild_reviewer.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_docbuild_reviewer.patch.gz)\n\nWith that patch we are close to a positive review: I'm also running tests on OS X.",
    "created_at": "2011-10-05T18:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26897",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:116" align="right">comment:116</div>

Everything is fine, but one issue: Unfortunately the docbuild contains one uncaught exception (on SuSE 11):

```
sphinx-build -b html -d /p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/output/doctrees/en/reference    /p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/en/reference /p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/output/html/en/reference
Running Sphinx v1.0.4
loading pickled environment... done
building [html]: targets for 152 source files that are out of date
updating environment: 1 added, 152 changed, 0 removed
reading sources... [ 99%] sage/symbolic/expression
Exception occurred:
  File "/p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/common/conf.py", line 378, in skip_member
    if (hasattr(obj, '__name__') and obj.__name__.find('.') != -1 and
AttributeError: 'NoneType' object has no attribute 'find'
The full traceback has been saved in /tmp/sphinx-err-RJnoHz.log, if you want to report the issue to the developers.
Please also report this if it was a user error, so that a better error message can be provided next time.
Either send bugs to the mailing list at <http://groups.google.com/group/sphinx-dev/>,
or report them in the tracker at <http://bitbucket.org/birkenfeld/sphinx/issues/>. Thanks!
Build finished.  The built documents can be found in /p/sys/Sage/share/versions/sage-4.7.2.alpha3/devel/sage/doc/output/html/en/reference
```

I suggested the reviewer patch: [attachment: trac4539_docbuild_reviewer.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_docbuild_reviewer.patch.gz)

With that patch we are close to a positive review: I'm also running tests on OS X.



---

archive/issue_comments_026898.json:
```json
{
    "body": "<div id=\"comment:117\" align=\"right\">comment:117</div>\n\nAttachment: **[trac4539_docbuild_reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_docbuild_reviewer.patch.gz)**\n\nHi Alexander,\n\nNote that there is a new patch at #10903 (where the docbuild crash was introduced), and it fixes the problem in a more satisfying way. The problem was that under certain circumstances the name of a deprecated Cython method could not be determined - but with the new patch from #10903 (actually there are TWO new patches) the problem is fixed.\n\nSo, the docbuild reviewer patch is not needed.",
    "created_at": "2011-10-05T18:43:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26898",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:117" align="right">comment:117</div>

Attachment: **[trac4539_docbuild_reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_docbuild_reviewer.patch.gz)**

Hi Alexander,

Note that there is a new patch at #10903 (where the docbuild crash was introduced), and it fixes the problem in a more satisfying way. The problem was that under certain circumstances the name of a deprecated Cython method could not be determined - but with the new patch from #10903 (actually there are TWO new patches) the problem is fixed.

So, the docbuild reviewer patch is not needed.



---

archive/issue_events_051347.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-06T07:59:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51347"
}
```



---

archive/issue_events_051348.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-06T07:59:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51348"
}
```



---

archive/issue_comments_026899.json:
```json
{
    "body": "<div id=\"comment:118\" align=\"right\">comment:118</div>\n\nBuilding, installing and testing succeeded on SuSE 11 Enterprise amd64 and OS X 10.5 ppc. So we can switch back to positive review.",
    "created_at": "2011-10-06T07:59:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26899",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:118" align="right">comment:118</div>

Building, installing and testing succeeded on SuSE 11 Enterprise amd64 and OS X 10.5 ppc. So we can switch back to positive review.



---

archive/issue_events_051349.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-18T20:16:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51349"
}
```



---

archive/issue_events_051350.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-18T20:16:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51350"
}
```



---

archive/issue_comments_026900.json:
```json
{
    "body": "Changed dependencies from **#11068 #11316 #11856 #10903** to **#11316, #11856, #10903, #9138, #11900, #11115, #11068**",
    "created_at": "2011-11-02T13:58:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26900",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#11068 #11316 #11856 #10903** to **#11316, #11856, #10903, #9138, #11900, #11115, #11068**



---

archive/issue_comments_026901.json:
```json
{
    "body": "Changed dependencies from **#11316, #11856, #10903, #9138, #11900, #11115, #11068** to **#11316, #11856, #10903, #9138, #11900, #11115, #11068, #11761**",
    "created_at": "2011-11-05T14:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26901",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#11316, #11856, #10903, #9138, #11900, #11115, #11068** to **#11316, #11856, #10903, #9138, #11900, #11115, #11068, #11761**



---

archive/issue_comments_026902.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\nAttachment: **[trac4539_libplural_rel11761.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel11761.patch.gz)**",
    "created_at": "2011-11-05T14:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26902",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:121" align="right">comment:121</div>

Attachment: **[trac4539_libplural_rel11761.patch.gz](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel11761.patch.gz)**



---

archive/issue_comments_026903.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,7 +22,7 @@\n \n **__Apply__**\n \n-* [attachment: trac4539_libplural_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel10903.patch.gz)\n+* [attachment: trac4539_libplural_rel11761.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel11761.patch.gz)\n * [attachment: trac4539_pickling_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling_rel10903.patch.gz)\n * [attachment: trac4539_normal_forms_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms_rel10903.patch.gz)\n * [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz)\n``````\n",
    "created_at": "2011-11-05T14:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26903",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,7 +22,7 @@
 
 **__Apply__**
 
-* [attachment: trac4539_libplural_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel10903.patch.gz)
+* [attachment: trac4539_libplural_rel11761.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_libplural_rel11761.patch.gz)
 * [attachment: trac4539_pickling_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_pickling_rel10903.patch.gz)
 * [attachment: trac4539_normal_forms_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_normal_forms_rel10903.patch.gz)
 * [attachment: trac4539_fix_docs_rel10903.patch](https://github.com/sagemath/sage/files/ticket4539/trac4539_fix_docs_rel10903.patch.gz)
``````




---

archive/issue_comments_026904.json:
```json
{
    "body": "<div id=\"comment:122\" align=\"right\">comment:122</div>\n\nIt could be that we need some work here. The first patch does not apply when we start with sage-4.8.alpha0. Namely, in sage/libs/singular/function.pyx, it expects the line\n\n```\n       ring2 = None\n```\nbut this line has been removed. I don't know in which ticket that has happened. By consequence, a rather complicated chunk of the patch does not apply.\n\nWhat shall we do? In order to avoid premature work, it would be an option to wait until finally all the dependencies got a positive review.",
    "created_at": "2011-11-08T15:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26904",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:122" align="right">comment:122</div>

It could be that we need some work here. The first patch does not apply when we start with sage-4.8.alpha0. Namely, in sage/libs/singular/function.pyx, it expects the line

```
       ring2 = None
```
but this line has been removed. I don't know in which ticket that has happened. By consequence, a rather complicated chunk of the patch does not apply.

What shall we do? In order to avoid premature work, it would be an option to wait until finally all the dependencies got a positive review.



---

archive/issue_events_051351.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-11-08T15:15:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51351"
}
```



---

archive/issue_events_051352.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-11-08T15:15:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51352"
}
```



---

archive/issue_comments_026905.json:
```json
{
    "body": "<div id=\"comment:123\" align=\"right\">comment:123</div>\n\nThat line comes from https://github.com/sagemath/sage/files/ticket11761/11761-cython-0.15.patch.gz (Cython is more strict here.) That patch was not merged in alpha0.",
    "created_at": "2011-11-08T22:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26905",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:123" align="right">comment:123</div>

That line comes from https://github.com/sagemath/sage/files/ticket11761/11761-cython-0.15.patch.gz (Cython is more strict here.) That patch was not merged in alpha0.



---

archive/issue_events_051353.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-11-08T23:00:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51353"
}
```



---

archive/issue_events_051354.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-11-08T23:00:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51354"
}
```



---

archive/issue_comments_026906.json:
```json
{
    "body": "<div id=\"comment:124\" align=\"right\">comment:124</div>\n\nReplying to [@alexanderdreyer](#comment%3A123):\n> That line comes from https://github.com/sagemath/sage/files/ticket11761/11761-cython-0.15.patch.gz (Cython is more strict here.)\n\nYes, now I see it: #11761 is a dependency! So, sorry for the noise, and back to a positive review - which needs two steps. One...",
    "created_at": "2011-11-08T23:00:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26906",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:124" align="right">comment:124</div>

Replying to [@alexanderdreyer](#comment%3A123):
> That line comes from https://github.com/sagemath/sage/files/ticket11761/11761-cython-0.15.patch.gz (Cython is more strict here.)

Yes, now I see it: #11761 is a dependency! So, sorry for the noise, and back to a positive review - which needs two steps. One...



---

archive/issue_events_051355.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-11-08T23:00:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51355"
}
```



---

archive/issue_events_051356.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-11-08T23:00:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51356"
}
```



---

archive/issue_comments_026907.json:
```json
{
    "body": "<div id=\"comment:125\" align=\"right\">comment:125</div>\n\n... and two.",
    "created_at": "2011-11-08T23:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26907",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:125" align="right">comment:125</div>

... and two.



---

archive/issue_events_051357.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-09T23:57:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51357"
}
```



---

archive/issue_events_051358.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-09T23:57:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51358"
}
```



---

archive/issue_comments_026908.json:
```json
{
    "body": "Merged: **sage-5.0.beta1**",
    "created_at": "2012-01-21T23:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4539#issuecomment-26908",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta1**



---

archive/issue_events_051359.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-21T23:39:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51359"
}
```



---

archive/issue_events_051360.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-21T23:39:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4539",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4539#event-51360"
}
```
