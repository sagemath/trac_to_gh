# Issue 4165: Doctest for lisp.py blows chunks on (some) Mac OS X systems

archive/issues_004165.json:
```json
{
    "body": "I have seen this on two Mac OS X systems, with 3.1.2 (but not 3.1.1):\n- Core Duo (10.5.5)\n- Dual Quad Xeon (10.5.4)\n\nThis is an \"Expected/Got\" problem.  The output from the test is \n\n```\nsage -t  devel/sage/sage/interfaces/lisp.py \n**************************************************\nFile \"/SandBox/Justin/sb/sage-3.1.2/tmp/lisp.py\", line 290:\n     sage: lisp.version()\nExpected:\n     GNU CLISP ... (...) (built ...) (memory ...)\n     ...\nGot:\n     GNU CLISP 2.46 (2008-07-02) (built on Hasse-2.local [10.0.1.200])\n     Software: GNU C 4.0.1 (Apple Inc. build 5465)\n     gcc -O0 -g -I/SandBox/Justin/sb/sage-3.1.2/local/include/ -L/\nSandBox/Justin/sb/sage-3.1.2/local/lib/ -W -Wswitch -Wcomment -\nWpointer-arith -Wimplicit -Wreturn-type -Wmissing-declarations -Wno-\nsign-compare -O0 -fexpensive-optimizations -falign-functions=4 -\nDUNIX_BINARY_DISTRIB -DUNICODE -DNO_SIGSEGV -I. -x none -lintl -Wl,-\nframework -Wl,CoreFoundation -lreadline -lncurses  -liconv\n     SAFETY=0 HEAPCODES STANDARD_HEAPCODES SPVW_BLOCKS SPVW_MIXED  \nTRIVIALMAP_MEMORY\n     libiconv 1.11\n     libreadline 5.2\n     Features:\n     (REGEXP SYSCALLS I18N LOOP COMPILER CLOS MOP CLISP ANSI-CL COMMON-\nLISP LISP=CL\n      INTERPRETER SOCKETS GENERIC-STREAMS LOGICAL-PATHNAMES SCREEN  \nGETTEXT UNICODE\n      BASE-CHAR=CHARACTER UNIX MACOS)\n     C Modules: (clisp i18n syscalls regexp)\n     Installation directory: /SandBox/Justin/sb/sage-3.1.2/local/lib/\nclisp-2.46/\n     User language: ENGLISH\n     Machine: I386 (I386) Hasse-2.local [127.0.0.1]\n     <BLANKLINE>\n**********************************************************************\n```\n\n**Assignee:** mabshoff\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/4165\n\n",
    "closed_at": "2008-09-23T00:05:48Z",
    "created_at": "2008-09-22T02:03:51Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.1.3",
    "title": "Doctest for lisp.py blows chunks on (some) Mac OS X systems",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4165",
    "user": "https://trac.sagemath.org/admin/accounts/users/justin"
}
```
I have seen this on two Mac OS X systems, with 3.1.2 (but not 3.1.1):
- Core Duo (10.5.5)
- Dual Quad Xeon (10.5.4)

This is an "Expected/Got" problem.  The output from the test is 

```
sage -t  devel/sage/sage/interfaces/lisp.py 
**************************************************
File "/SandBox/Justin/sb/sage-3.1.2/tmp/lisp.py", line 290:
     sage: lisp.version()
Expected:
     GNU CLISP ... (...) (built ...) (memory ...)
     ...
Got:
     GNU CLISP 2.46 (2008-07-02) (built on Hasse-2.local [10.0.1.200])
     Software: GNU C 4.0.1 (Apple Inc. build 5465)
     gcc -O0 -g -I/SandBox/Justin/sb/sage-3.1.2/local/include/ -L/
SandBox/Justin/sb/sage-3.1.2/local/lib/ -W -Wswitch -Wcomment -
Wpointer-arith -Wimplicit -Wreturn-type -Wmissing-declarations -Wno-
sign-compare -O0 -fexpensive-optimizations -falign-functions=4 -
DUNIX_BINARY_DISTRIB -DUNICODE -DNO_SIGSEGV -I. -x none -lintl -Wl,-
framework -Wl,CoreFoundation -lreadline -lncurses  -liconv
     SAFETY=0 HEAPCODES STANDARD_HEAPCODES SPVW_BLOCKS SPVW_MIXED  
TRIVIALMAP_MEMORY
     libiconv 1.11
     libreadline 5.2
     Features:
     (REGEXP SYSCALLS I18N LOOP COMPILER CLOS MOP CLISP ANSI-CL COMMON-
LISP LISP=CL
      INTERPRETER SOCKETS GENERIC-STREAMS LOGICAL-PATHNAMES SCREEN  
GETTEXT UNICODE
      BASE-CHAR=CHARACTER UNIX MACOS)
     C Modules: (clisp i18n syscalls regexp)
     Installation directory: /SandBox/Justin/sb/sage-3.1.2/local/lib/
clisp-2.46/
     User language: ENGLISH
     Machine: I386 (I386) Hasse-2.local [127.0.0.1]
     <BLANKLINE>
**********************************************************************
```

**Assignee:** mabshoff

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/4165





---

archive/issue_events_012357.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-09-22T03:56:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "milestone": "sage-3.1.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4165#event-12357"
}
```



---

archive/issue_comments_035232.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2008-09-22T03:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4165#issuecomment-35232",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_035233.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [trac_4165.patch](tarball://root/attachments/some-uuid/ticket4165/trac_4165.patch) by mabshoff created at 2008-09-22 03:56:32\n\nJustin,\n\ncan you test this patch?\n\nCheers,\n\nMichael",
    "created_at": "2008-09-22T03:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4165#issuecomment-35233",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:1'></a>
Attachment [trac_4165.patch](tarball://root/attachments/some-uuid/ticket4165/trac_4165.patch) by mabshoff created at 2008-09-22 03:56:32

Justin,

can you test this patch?

Cheers,

Michael



---

archive/issue_comments_035234.json:
```json
{
    "body": "**Changing status** from new to assigned.",
    "created_at": "2008-09-22T03:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4165#issuecomment-35234",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from new to assigned.



---

archive/issue_comments_035235.json:
```json
{
    "body": "<a id='comment:2'></a>\nI tried this out in 3.1.2; haven't leapt into the 3.1.3 morass yet.  Works like it oughtta!",
    "created_at": "2008-09-22T04:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4165#issuecomment-35235",
    "user": "https://trac.sagemath.org/admin/accounts/users/justin"
}
```

<a id='comment:2'></a>
I tried this out in 3.1.2; haven't leapt into the 3.1.3 morass yet.  Works like it oughtta!



---

archive/issue_comments_035236.json:
```json
{
    "body": "<a id='comment:3'></a>\nI assume his is a positive review then? lisp.py has not changed in 3.1.3.alpha0, so this ought to work.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-22T04:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4165#issuecomment-35236",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
I assume his is a positive review then? lisp.py has not changed in 3.1.3.alpha0, so this ought to work.

Cheers,

Michael



---

archive/issue_comments_035237.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2008-09-22T04:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4165#issuecomment-35237",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_035238.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2008-09-23T00:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4165#issuecomment-35238",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Resolution:** fixed



---

archive/issue_comments_035239.json:
```json
{
    "body": "<a id='comment:4'></a>\nMerged in Sage 3.1.3.alpha1",
    "created_at": "2008-09-23T00:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4165#issuecomment-35239",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:4'></a>
Merged in Sage 3.1.3.alpha1



---

archive/issue_events_012358.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-09-23T00:05:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4165",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4165#event-12358"
}
```
