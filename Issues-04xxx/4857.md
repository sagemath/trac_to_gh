# Issue 4857: script to create spkg template

archive/issues_004857.json:
```json
{
    "body": "(see also the respective thread at sage-devel)\n\nAlthough this spkg is pretty small, putting it in a trac ticket is probably not the best idea. But currently, I haven't got access to any other web space where I could place it.\n\nInstall with \"sage -i exampleclib-1.0.0.spkg\"; the documentation is the under\n\n$SAGE_ROOT/devel/exampleclib/src/README.txt\n\n$SAGE_ROOT/devel/exampleclib/src/doc/*\n\n**Assignee:** GeorgSWeber\n\n**Reviewer:** Jeroen Demeyer\n\nIssue created by migration from https://trac.sagemath.org/ticket/4857\n\n",
    "closed_at": "2014-09-09T14:53:46Z",
    "created_at": "2008-12-23T10:07:43Z",
    "labels": [
        "component: documentation",
        "minor",
        "enhancement",
        "wontfix"
    ],
    "title": "script to create spkg template",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4857",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```
(see also the respective thread at sage-devel)

Although this spkg is pretty small, putting it in a trac ticket is probably not the best idea. But currently, I haven't got access to any other web space where I could place it.

Install with "sage -i exampleclib-1.0.0.spkg"; the documentation is the under

$SAGE_ROOT/devel/exampleclib/src/README.txt

$SAGE_ROOT/devel/exampleclib/src/doc/*

**Assignee:** GeorgSWeber

**Reviewer:** Jeroen Demeyer

Issue created by migration from https://trac.sagemath.org/ticket/4857





---

archive/issue_comments_031077.json:
```json
{
    "body": "<a id='comment:1'></a>\n-1 by a wide margin. This spkg does numerous things badly and introduces many \"features\" we don't need or are completely overdesigned. The idea about spkg-install and its friends is KISS and this certainly isn't it.\n\nThe place to have this is not trac either.\n\nCheers,\n\nMichael",
    "created_at": "2008-12-23T10:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31077",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:1'></a>
-1 by a wide margin. This spkg does numerous things badly and introduces many "features" we don't need or are completely overdesigned. The idea about spkg-install and its friends is KISS and this certainly isn't it.

The place to have this is not trac either.

Cheers,

Michael



---

archive/issue_comments_031078.json:
```json
{
    "body": "<a id='comment:2'></a>\nI have removed the attached spkg. It can now be found at\n\nhttp://sage.math.washington.edu/home/mabshoff/exampleclib-1.0.0.spkg\n\nCheers,\n\nMichael",
    "created_at": "2008-12-23T10:43:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31078",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>
I have removed the attached spkg. It can now be found at

http://sage.math.washington.edu/home/mabshoff/exampleclib-1.0.0.spkg

Cheers,

Michael



---

archive/attachments_005423.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "4857-scripts.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4857/4857-scripts.patch",
    "created_at": "2008-12-30T12:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```



---

archive/issue_comments_031079.json:
```json
{
    "body": "a new script \"sage-create-spkg\" to go in the scripts repo /local/bin",
    "created_at": "2008-12-30T12:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31079",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

a new script "sage-create-spkg" to go in the scripts repo /local/bin



---

archive/attachments_005424.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "4857-examples.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4857/4857-examples.patch",
    "created_at": "2008-12-30T12:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```



---

archive/issue_comments_031080.json:
```json
{
    "body": "two example \"upstream src\" packages (sample spkg input) to go in the examples/ repo",
    "created_at": "2008-12-30T12:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31080",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

two example "upstream src" packages (sample spkg input) to go in the examples/ repo



---

archive/issue_comments_031081.json:
```json
{
    "body": "rewritten and enhanced chapter about spkg in prog.tex resp. the doc/ repo (probably rather easily rebased after the ReST move)",
    "created_at": "2008-12-30T12:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31081",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

rewritten and enhanced chapter about spkg in prog.tex resp. the doc/ repo (probably rather easily rebased after the ReST move)



---

archive/issue_events_030141.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber",
    "created_at": "2008-12-30T12:47:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30141"
}
```



---

archive/issue_events_030142.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber",
    "created_at": "2008-12-30T12:47:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "component: packages: experimental",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30142"
}
```



---

archive/issue_events_030143.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber",
    "created_at": "2008-12-30T12:47:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "component: documentation",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30143"
}
```



---

archive/issue_events_030144.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber",
    "created_at": "2008-12-30T12:47:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "rename": {
        "from": "[needs discussion] Example C Library",
        "to": "spkg development documentation and handling"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30144"
}
```



---

archive/issue_events_030145.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber",
    "created_at": "2008-12-30T12:47:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30145"
}
```



---

archive/issue_events_030146.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber",
    "created_at": "2008-12-30T12:47:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30146"
}
```



---

archive/attachments_005425.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "4857-doc.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4857/4857-doc.patch",
    "created_at": "2008-12-30T12:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```



---

archive/issue_comments_031082.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe current documentation in the Sage Developer's Guide says in Chapter 2, subsection 8.1, item (f) about Creating a New spkg: ... Post a copy on the Sage trac server ...\n\nThis is outdated. I took the opportunitiy to rewrite subsection 8.1, add two subsections 8.2 and 8.3, and assemble two live examples (to go under the examples directory) and a script \"sage-create-spkg\" which e.g. creates a template SPKG.txt and the mandatory hg repo. The script called on the examples result in working spkg, that install fine.\n\nWell, at least at the author's Mac. So it would be good if the referee could use and test it on a Linux machine.\n\nThe contents are based on a discussion with Michael Abshoff on sage-devel, half of the credit (at least) goes to him. All the remaining mistakes are mine, of course :-)",
    "created_at": "2008-12-30T12:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31082",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

<a id='comment:3'></a>
The current documentation in the Sage Developer's Guide says in Chapter 2, subsection 8.1, item (f) about Creating a New spkg: ... Post a copy on the Sage trac server ...

This is outdated. I took the opportunitiy to rewrite subsection 8.1, add two subsections 8.2 and 8.3, and assemble two live examples (to go under the examples directory) and a script "sage-create-spkg" which e.g. creates a template SPKG.txt and the mandatory hg repo. The script called on the examples result in working spkg, that install fine.

Well, at least at the author's Mac. So it would be good if the referee could use and test it on a Linux machine.

The contents are based on a discussion with Michael Abshoff on sage-devel, half of the credit (at least) goes to him. All the remaining mistakes are mine, of course :-)



---

archive/issue_comments_031083.json:
```json
{
    "body": "<a id='comment:4'></a>\nMABSHOFF:\n\n\"I think in its current form 4857-examples.patch should not go in, in\nfact it shouldn't go in at all IMHO.\n\n4857-scripts.patch is too complicated IMHO, but salvageable.\"\n\nSo I change this to \"needs work\".",
    "created_at": "2009-03-16T10:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31083",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:4'></a>
MABSHOFF:

"I think in its current form 4857-examples.patch should not go in, in
fact it shouldn't go in at all IMHO.

4857-scripts.patch is too complicated IMHO, but salvageable."

So I change this to "needs work".



---

archive/issue_events_030147.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-03-16T10:54:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30147"
}
```



---

archive/issue_events_030148.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-03-16T10:54:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30148"
}
```



---

archive/issue_comments_031084.json:
```json
{
    "body": "<a id='comment:5'></a>\nSee #5990 for a closely related ticket -- a patch to the documentation, based in large part on 4857-doc.patch.",
    "created_at": "2009-05-05T18:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31084",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
See #5990 for a closely related ticket -- a patch to the documentation, based in large part on 4857-doc.patch.



---

archive/issue_comments_031085.json:
```json
{
    "body": "<a id='comment:6'></a>\nDocumentation on producing a new spkg is already in the Developers' Guide in the form of the section [Producing New Sage Packages](http://www.sagemath.org/doc/developer/producing_spkgs.html). Tickets #8079 and #8104 add documentation on patching an existing spkg. So I think the subject of this ticket can be changed to something else other than documentation on producing spkg's.",
    "created_at": "2010-02-02T06:07:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31085",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:6'></a>
Documentation on producing a new spkg is already in the Developers' Guide in the form of the section [Producing New Sage Packages](http://www.sagemath.org/doc/developer/producing_spkgs.html). Tickets #8079 and #8104 add documentation on patching an existing spkg. So I think the subject of this ticket can be changed to something else other than documentation on producing spkg's.



---

archive/issue_events_030149.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-02-02T06:07:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "rename": {
        "from": "spkg development documentation and handling",
        "to": "script to create spkg template"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30149"
}
```



---

archive/issue_comments_031086.json:
```json
{
    "body": "**Upstream:** N/A",
    "created_at": "2010-02-02T06:07:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31086",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Upstream:** N/A



---

archive/issue_events_030150.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30150"
}
```



---

archive/issue_events_030151.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30151"
}
```



---

archive/issue_events_030152.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30152"
}
```



---

archive/issue_events_030153.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30153"
}
```



---

archive/issue_events_030154.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30154"
}
```



---

archive/issue_events_030155.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30155"
}
```



---

archive/issue_events_030156.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30156"
}
```



---

archive/issue_events_030157.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30157"
}
```



---

archive/issue_comments_031087.json:
```json
{
    "body": "<a id='comment:11'></a>\nObsolete by the git transition.",
    "created_at": "2014-09-02T09:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31087",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Obsolete by the git transition.



---

archive/issue_comments_031088.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2014-09-02T09:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4857#issuecomment-31088",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_events_030158.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T09:06:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30158"
}
```



---

archive/issue_events_030159.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T09:06:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30159"
}
```



---

archive/issue_events_030160.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T09:06:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30160"
}
```



---

archive/issue_events_030161.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T09:06:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30161"
}
```



---

archive/issue_events_030162.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-09T14:53:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30162"
}
```



---

archive/issue_events_030163.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-09T14:53:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30163"
}
```



---

archive/issue_events_030164.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-09T14:53:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4857",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4857#event-30164"
}
```
