# Issue 4430: optimize new worksheet startup

archive/issues_004430.json:
```json
{
    "assignees": [
        "https://github.com/boothby"
    ],
    "body": "When one creates a new worksheet, it would be nice if the sage process started up in the background right then, rather than wait till one types the first command. Currently there is an annoying lag...\n\n\nComponent: **notebook**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4430_\n\n",
    "closed_at": "2010-01-25T16:05:52Z",
    "created_at": "2008-11-03T17:53:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "optimize new worksheet startup",
    "type": "issue",
    "updated_at": "2010-01-26T00:26:50Z",
    "url": "https://github.com/sagemath/sage/issues/4430",
    "user": "https://github.com/robertwb"
}
```
When one creates a new worksheet, it would be nice if the sage process started up in the background right then, rather than wait till one types the first command. Currently there is an annoying lag...


Component: **notebook**

_Issue created by migration from https://trac.sagemath.org/ticket/4430_





---

archive/issue_events_050079.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2008-11-03T17:53:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "milestone_number": null,
    "milestone_title": "sage-4.3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50079"
}
```



---

archive/issue_events_050080.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2008-11-03T17:53:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50080"
}
```



---

archive/issue_events_050081.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2008-11-03T17:53:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50081"
}
```



---

archive/issue_events_050082.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2008-11-03T17:53:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50082"
}
```



---

archive/issue_events_050083.json:
```json
{
    "actor": "https://github.com/TimothyClemans",
    "created_at": "2008-11-03T20:24:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50083"
}
```



---

archive/issue_events_050084.json:
```json
{
    "actor": "https://github.com/TimothyClemans",
    "created_at": "2008-11-03T20:24:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50084"
}
```



---

archive/issue_events_050085.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-11-03T20:24:45Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "subject": "https://github.com/TimothyClemans",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50085"
}
```



---

archive/issue_comments_025661.json:
```json
{
    "body": "Attachment: **[trac_4330.patch.gz](https://github.com/sagemath/sage/files/ticket4430/trac_4330.patch.gz)**",
    "created_at": "2008-11-21T21:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4430#issuecomment-25661",
    "user": "https://github.com/mwhansen"
}
```

Attachment: **[trac_4330.patch.gz](https://github.com/sagemath/sage/files/ticket4430/trac_4330.patch.gz)**



---

archive/issue_events_050086.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-01-25T16:05:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50086"
}
```



---

archive/issue_events_050087.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-01-25T16:05:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50087"
}
```



---

archive/issue_comments_025662.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI'm closing this, since we now start a worksheet when it's first served.  From `twist.py`, around line #1514:\n\n```python\nclass Worksheet(WorksheetResource, resource.Resource):\n    addSlash = True\n\n    def render(self, ctx):\n        self.worksheet.sage()\n        s = notebook.html(worksheet_filename = self.name,  username=self.username)\n        return HTMLResponse(stream=s)\n```\nI've also confirmed this with a print statement in `Worksheet.sage`.\n\nBy the way, the patch here appears to be for a different ticket.",
    "created_at": "2010-01-25T16:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4430#issuecomment-25662",
    "user": "https://github.com/qed777"
}
```

<div id="comment:2" align="right">comment:2</div>

I'm closing this, since we now start a worksheet when it's first served.  From `twist.py`, around line #1514:

```python
class Worksheet(WorksheetResource, resource.Resource):
    addSlash = True

    def render(self, ctx):
        self.worksheet.sage()
        s = notebook.html(worksheet_filename = self.name,  username=self.username)
        return HTMLResponse(stream=s)
```
I've also confirmed this with a print statement in `Worksheet.sage`.

By the way, the patch here appears to be for a different ticket.



---

archive/issue_events_050088.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-01-25T16:05:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50088"
}
```



---

archive/issue_events_050089.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-01-26T00:26:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4430",
    "milestone_number": null,
    "milestone_title": "sage-4.3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4430#event-50089"
}
```
