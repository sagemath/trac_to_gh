# Issue 4793: Update lcalc to the new upstream 1.23

archive/issues_004793.json:
```json
{
    "assignees": [],
    "body": "update lcalc to new version\n\nAssignee: **@rishikesha**\n\nCC:  @JohnCremona ylchapuy drkirkby\n\nAuthor: **Rishikesh**\n\nReviewer: **Robert Bradshaw, William Stein**\n\nMerged: **sage-4.4.1.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4793_\n\n",
    "closed_at": "2010-04-28T19:29:50Z",
    "created_at": "2008-12-14T07:45:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update lcalc to the new upstream 1.23",
    "type": "issue",
    "updated_at": "2010-05-03T01:11:56Z",
    "url": "https://github.com/sagemath/sage/issues/4793",
    "user": "https://github.com/sagetrac-mabshoff"
}
```
update lcalc to new version

Assignee: **@rishikesha**

CC:  @JohnCremona ylchapuy drkirkby

Author: **Rishikesh**

Reviewer: **Robert Bradshaw, William Stein**

Merged: **sage-4.4.1.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/4793_





---

archive/issue_events_048198.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-14T07:45:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "milestone_number": null,
    "milestone_title": "sage-4.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48198"
}
```



---

archive/issue_events_048199.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-14T07:45:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48199"
}
```



---

archive/issue_events_048200.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-14T07:45:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48200"
}
```



---

archive/issue_events_048201.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-14T07:45:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48201"
}
```



---

archive/issue_comments_030049.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-As the summary says. This should be done at the same time as the update to the latest stable pari.\n+As the summary says. This should be done at the same time as the update to the latest stable pari - see #4794\n \n Cheers,\n \n``````\n",
    "created_at": "2008-12-14T07:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30049",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-As the summary says. This should be done at the same time as the update to the latest stable pari.
+As the summary says. This should be done at the same time as the update to the latest stable pari - see #4794
 
 Cheers,
 
``````




---

archive/issue_comments_030050.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nSee ticket #5396 for upgrading lcalc to version 1.23",
    "created_at": "2009-10-01T06:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30050",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<a id='comment:2'>Comment 2:</a>
See ticket #5396 for upgrading lcalc to version 1.23



---

archive/issue_comments_030051.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI am attaching a spkg for lcalc.\n\nhttp://sage.math.washington.edu/home/rishikesh/lcalc/lcalc-1.23.spkg\n\nThis spkg is result of last last few discussion in #5396",
    "created_at": "2010-03-17T19:37:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30051",
    "user": "https://github.com/rishikesha"
}
```

<a id='comment:3'>Comment 3:</a>
I am attaching a spkg for lcalc.

http://sage.math.washington.edu/home/rishikesh/lcalc/lcalc-1.23.spkg

This spkg is result of last last few discussion in #5396



---

archive/issue_events_048202.json:
```json
{
    "actor": "https://github.com/rishikesha",
    "created_at": "2010-03-17T19:37:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48202"
}
```



---

archive/issue_comments_030052.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI split the spkg  from lcalc wrapper. The discussion on spkg was becoming longer and digressing from the wrapper itself.",
    "created_at": "2010-03-17T19:47:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30052",
    "user": "https://github.com/rishikesha"
}
```

<a id='comment:5'>Comment 5:</a>
I split the spkg  from lcalc wrapper. The discussion on spkg was becoming longer and digressing from the wrapper itself.



---

archive/issue_events_048203.json:
```json
{
    "actor": "https://github.com/rishikesha",
    "created_at": "2010-03-17T19:48:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "title_is": "Update lcalc to the new upstream 1.23 [with spkg]",
    "title_was": "Update lcalc to the new upstream 1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48203"
}
```



---

archive/issue_comments_030053.json:
```json
{
    "body": "Changed assignee from **mabshoff** to **@rishikesha**",
    "created_at": "2010-03-17T19:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30053",
    "user": "https://github.com/rishikesha"
}
```

Changed assignee from **mabshoff** to **@rishikesha**



---

archive/issue_comments_030054.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1 @@\n-As the summary says. This should be done at the same time as the update to the latest stable pari - see #4794\n-\n-Cheers,\n-\n-Michael\n+update lcalc to new version\n``````\n",
    "created_at": "2010-03-17T19:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30054",
    "user": "https://github.com/rishikesha"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1 @@
-As the summary says. This should be done at the same time as the update to the latest stable pari - see #4794
-
-Cheers,
-
-Michael
+update lcalc to new version
``````




---

archive/issue_comments_030055.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nAll the headers should be copied to a subdir of local/include (given they might clash with others).",
    "created_at": "2010-03-24T18:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30055",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:8'>Comment 8:</a>
All the headers should be copied to a subdir of local/include (given they might clash with others).



---

archive/issue_events_048204.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-03-24T18:13:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48204"
}
```



---

archive/issue_events_048205.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-03-24T18:13:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48205"
}
```



---

archive/issue_comments_030056.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nAlso has issues on OS X \n\n```\ndyld: lazy symbol binding failed: Symbol not found: ___gmpn_lshift\n  Referenced from: /Users/robertwb/sage/sage-4.0/local/lib//libpari-gmp.dylib\n  Expected in: flat namespace\n```\n\nwhen running tests in sage/lfunctions/lcalc.py",
    "created_at": "2010-03-24T18:14:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30056",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:10'>Comment 10:</a>
Also has issues on OS X 

```
dyld: lazy symbol binding failed: Symbol not found: ___gmpn_lshift
  Referenced from: /Users/robertwb/sage/sage-4.0/local/lib//libpari-gmp.dylib
  Expected in: flat namespace
```

when running tests in sage/lfunctions/lcalc.py



---

archive/issue_events_048206.json:
```json
{
    "actor": "https://github.com/rishikesha",
    "created_at": "2010-03-25T04:18:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48206"
}
```



---

archive/issue_events_048207.json:
```json
{
    "actor": "https://github.com/rishikesha",
    "created_at": "2010-03-25T04:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48207"
}
```



---

archive/issue_comments_030057.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nThis spkg has been tested on OSX, linux and Solaris. The header files are now installed in $SAGE_LOCAL/include/lcalc\n\nhttp://sage.math.washington.edu/home/rishikesh/lcalc/lcalc-1.23.spkg",
    "created_at": "2010-03-25T04:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30057",
    "user": "https://github.com/rishikesha"
}
```

<a id='comment:11'>Comment 11:</a>
This spkg has been tested on OSX, linux and Solaris. The header files are now installed in $SAGE_LOCAL/include/lcalc

http://sage.math.washington.edu/home/rishikesh/lcalc/lcalc-1.23.spkg



---

archive/issue_events_048208.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-26T00:20:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48208"
}
```



---

archive/issue_events_048209.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-03-26T00:20:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48209"
}
```



---

archive/issue_comments_030058.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nHi,\nthere are a few problems with spkg-install, which don't reflect how Sage is currently being built. \n\n* You said on #5396 \"One more thing- I've also cleaned up my makefile a bit, and, in the source, got rid of depreciated headers and unused variables.\" Did you notice that your Makefile is being overwritten, by the following line:\n\n  ```\n  cp ../../patches/Makefile.sage Makefile\n  ```\n  Are those changes appropriate? But looking at your own Makefile, I see still see options to  suppress warnings messages. \n   * -Wa,-W is designed to suppress warnings from the assembler, which fails if the Sun assembler is used. (That's why I had to re-write part of your makefile before). \n   * -Wno-deprecate is designed to suppress warnings about depreciated headers. \n\nA few more things. \n\n* Don't bother checking for SAGE_FORTRAN_LIB, as it is tested in the 'prereq' script. \n* Don't bother checking for SAGE_FORTRAN, as again prereq takes care of that. \n* Don't bother checking if the GNU and Sun compilers are mixed - that is taken care of elsewhere. \n* The line:\n\n  ```\n   echo \"Building a 32-bit version of lcalc\"\n  ```\n\n  is incorrect, as some systems build 64-bit by default, and so the lack of a -m64 flag does not imply a 32-bit build. \n* The line:\n\n  ```\n  if [ \"x$SAGE64\" = \"xyes\" ] || [ \"x$SAGE64\" = \"x1\" ]  ; then\n  ```\ncan be simplified to \n\n  ```\n  if [ \"x$SAGE64\" = xyes ] ; then\n  ```\n\nas SAGE64 can only be unset, set to 'yes' or set to 'no' - any other combination is not permitted. \n \nAre there any self-tests of this package? If so, it should have a spkg-check too, but of course, if there are no self-tests, then that is inappropriate. \n\nDave",
    "created_at": "2010-03-26T00:20:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30058",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:12'>Comment 12:</a>
Hi,
there are a few problems with spkg-install, which don't reflect how Sage is currently being built. 

* You said on #5396 "One more thing- I've also cleaned up my makefile a bit, and, in the source, got rid of depreciated headers and unused variables." Did you notice that your Makefile is being overwritten, by the following line:

  ```
  cp ../../patches/Makefile.sage Makefile
  ```
  Are those changes appropriate? But looking at your own Makefile, I see still see options to  suppress warnings messages. 
   * -Wa,-W is designed to suppress warnings from the assembler, which fails if the Sun assembler is used. (That's why I had to re-write part of your makefile before). 
   * -Wno-deprecate is designed to suppress warnings about depreciated headers. 

A few more things. 

* Don't bother checking for SAGE_FORTRAN_LIB, as it is tested in the 'prereq' script. 
* Don't bother checking for SAGE_FORTRAN, as again prereq takes care of that. 
* Don't bother checking if the GNU and Sun compilers are mixed - that is taken care of elsewhere. 
* The line:

  ```
   echo "Building a 32-bit version of lcalc"
  ```

  is incorrect, as some systems build 64-bit by default, and so the lack of a -m64 flag does not imply a 32-bit build. 
* The line:

  ```
  if [ "x$SAGE64" = "xyes" ] || [ "x$SAGE64" = "x1" ]  ; then
  ```
can be simplified to 

  ```
  if [ "x$SAGE64" = xyes ] ; then
  ```

as SAGE64 can only be unset, set to 'yes' or set to 'no' - any other combination is not permitted. 
 
Are there any self-tests of this package? If so, it should have a spkg-check too, but of course, if there are no self-tests, then that is inappropriate. 

Dave



---

archive/issue_comments_030059.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [drkirkby](#comment%3A12):\n> Hi,\n> there are a few problems with spkg-install, which don't reflect how Sage is currently being built. \n> \n> * You said on #5396 \"One more thing- I've also cleaned up my makefile a bit, and, in the source, got rid of depreciated headers and unused variables.\" Did you notice that your Makefile is being overwritten, by the following line:\n> \n>   ```\n>   cp ../../patches/Makefile.sage Makefile\n>   ```\n>   Are those changes appropriate? But looking at your own Makefile, I see still see options to  suppress warnings messages. \n>    * -Wa,-W is designed to suppress warnings from the assembler, which fails if the Sun assembler is used. (That's why I had to re-write part of your makefile before). \n>    * -Wno-deprecate is designed to suppress warnings about depreciated headers. \n\n\nPlease see what the package does. I have not made any changes to original Makefile, only to Makefile.sage\n\n> \n> A few more things. \n> \n\nI took the old spkg-install and added what I needed. I did not change what ever happened else where, so the person who changed those should have changed this prereq in lcalc spkg. This includes everything below. I am changing status to needs review.\n\n> * Don't bother checking for SAGE_FORTRAN_LIB, as it is tested in the 'prereq' script. \n> * Don't bother checking for SAGE_FORTRAN, as again prereq takes care of that. \n> * Don't bother checking if the GNU and Sun compilers are mixed - that is taken care of elsewhere. \n> * The line:\n> \n>   ```\n>    echo \"Building a 32-bit version of lcalc\"\n>   ```\n> \n>   is incorrect, as some systems build 64-bit by default, and so the lack of a -m64 flag does not imply a 32-bit build. \n> * The line:\n> \n>   ```\n>   if [ \"x$SAGE64\" = \"xyes\" ] || [ \"x$SAGE64\" = \"x1\" ]  ; then\n>   ```\n> can be simplified to \n> \n>   ```\n>   if [ \"x$SAGE64\" = xyes ] ; then\n>   ```\n> \n> as SAGE64 can only be unset, set to 'yes' or set to 'no' - any other combination is not permitted. \n>  \n> Are there any self-tests of this package? If so, it should have a spkg-check too, but of course, if there are no self-tests, then that is inappropriate. \n> \n> Dave \n> \n\n>",
    "created_at": "2010-03-26T15:48:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30059",
    "user": "https://github.com/rishikesha"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [drkirkby](#comment%3A12):
> Hi,
> there are a few problems with spkg-install, which don't reflect how Sage is currently being built. 
> 
> * You said on #5396 "One more thing- I've also cleaned up my makefile a bit, and, in the source, got rid of depreciated headers and unused variables." Did you notice that your Makefile is being overwritten, by the following line:
> 
>   ```
>   cp ../../patches/Makefile.sage Makefile
>   ```
>   Are those changes appropriate? But looking at your own Makefile, I see still see options to  suppress warnings messages. 
>    * -Wa,-W is designed to suppress warnings from the assembler, which fails if the Sun assembler is used. (That's why I had to re-write part of your makefile before). 
>    * -Wno-deprecate is designed to suppress warnings about depreciated headers. 


Please see what the package does. I have not made any changes to original Makefile, only to Makefile.sage

> 
> A few more things. 
> 

I took the old spkg-install and added what I needed. I did not change what ever happened else where, so the person who changed those should have changed this prereq in lcalc spkg. This includes everything below. I am changing status to needs review.

> * Don't bother checking for SAGE_FORTRAN_LIB, as it is tested in the 'prereq' script. 
> * Don't bother checking for SAGE_FORTRAN, as again prereq takes care of that. 
> * Don't bother checking if the GNU and Sun compilers are mixed - that is taken care of elsewhere. 
> * The line:
> 
>   ```
>    echo "Building a 32-bit version of lcalc"
>   ```
> 
>   is incorrect, as some systems build 64-bit by default, and so the lack of a -m64 flag does not imply a 32-bit build. 
> * The line:
> 
>   ```
>   if [ "x$SAGE64" = "xyes" ] || [ "x$SAGE64" = "x1" ]  ; then
>   ```
> can be simplified to 
> 
>   ```
>   if [ "x$SAGE64" = xyes ] ; then
>   ```
> 
> as SAGE64 can only be unset, set to 'yes' or set to 'no' - any other combination is not permitted. 
>  
> Are there any self-tests of this package? If so, it should have a spkg-check too, but of course, if there are no self-tests, then that is inappropriate. 
> 
> Dave 
> 

>



---

archive/issue_events_048210.json:
```json
{
    "actor": "https://github.com/rishikesha",
    "created_at": "2010-03-26T15:48:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48210"
}
```



---

archive/issue_events_048211.json:
```json
{
    "actor": "https://github.com/rishikesha",
    "created_at": "2010-03-26T15:48:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48211"
}
```



---

archive/issue_comments_030060.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nHi David,\n\nThe command \"hg annotate\" is helpful in clarifying the above issues.   Let me give you a tutorial about how that command works. Doing \n\n```\nhg annotate spkg-install |grep FORTRAN\n```\nyields that changeset 22 added all the FORTRAN stuff you're complaining about:\n\n```\nchangeset:   22:c7e7606b574d\nuser:        David Kirkby <david.kirkby@onetel.net>\ndate:        Tue Sep 15 07:41:31 2009 -0700\nsummary:     trac #6609: don't pass GNU flags directly to the Sun assembler\n```\n\nYou also state you added this in the SPKG.txt:\n\n```\n=== lcalc-20080205.p3 (David kirkby, 15th September, 2009) ===\n * A general tidy-up/improvement in many ways, including:\n...\n * Check that the C, C++ and Fortran compilers are not a mix of Sun and GNU\n```\n\nYour comment about\n\n```\n    * The line:\n\n         echo \"Building a 32-bit version of lcalc\"\n\n        is incorrect, as some systems build 64-bit by default, and so the lack of a -m64 flag does not imply a 32-bit build.\n\n```\nis also a complaint about code that you added in patch 22.\n\nSo you are currently complaining about and rejecting Rishi's spkg based entirely on problems that you introduced in the spkg. \n\nThus I don't think all (any?) of your complaints are valid. \n\nI'll work with Rishi and Mike Hansen today to get this spkg in.  Since you clearly don't like many of the changes you introduced in changeset 22, I encourage you to create a new trac ticket to remove those changes from say the next version of lcalc.  Then Rishi (who should be the official package maintainer -- Rishi: you may add yourself as such in SPKG.txt) can make those changes.\n\n -- William",
    "created_at": "2010-03-26T16:26:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30060",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:14'>Comment 14:</a>
Hi David,

The command "hg annotate" is helpful in clarifying the above issues.   Let me give you a tutorial about how that command works. Doing 

```
hg annotate spkg-install |grep FORTRAN
```
yields that changeset 22 added all the FORTRAN stuff you're complaining about:

```
changeset:   22:c7e7606b574d
user:        David Kirkby <david.kirkby@onetel.net>
date:        Tue Sep 15 07:41:31 2009 -0700
summary:     trac #6609: don't pass GNU flags directly to the Sun assembler
```

You also state you added this in the SPKG.txt:

```
=== lcalc-20080205.p3 (David kirkby, 15th September, 2009) ===
 * A general tidy-up/improvement in many ways, including:
...
 * Check that the C, C++ and Fortran compilers are not a mix of Sun and GNU
```

Your comment about

```
    * The line:

         echo "Building a 32-bit version of lcalc"

        is incorrect, as some systems build 64-bit by default, and so the lack of a -m64 flag does not imply a 32-bit build.

```
is also a complaint about code that you added in patch 22.

So you are currently complaining about and rejecting Rishi's spkg based entirely on problems that you introduced in the spkg. 

Thus I don't think all (any?) of your complaints are valid. 

I'll work with Rishi and Mike Hansen today to get this spkg in.  Since you clearly don't like many of the changes you introduced in changeset 22, I encourage you to create a new trac ticket to remove those changes from say the next version of lcalc.  Then Rishi (who should be the official package maintainer -- Rishi: you may add yourself as such in SPKG.txt) can make those changes.

 -- William



---

archive/issue_events_048212.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-03-26T18:23:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48212"
}
```



---

archive/issue_events_048213.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-03-26T18:23:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48213"
}
```



---

archive/issue_comments_030061.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nI merged this in as lcalc-20100428-1.23.spkg , since using lcalc-1.23.spkg would break the version number ordering and upgrade system.",
    "created_at": "2010-04-28T19:29:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30061",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:16'>Comment 16:</a>
I merged this in as lcalc-20100428-1.23.spkg , since using lcalc-1.23.spkg would break the version number ordering and upgrade system.



---

archive/issue_events_048214.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-28T19:29:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48214"
}
```



---

archive/issue_events_048215.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-28T19:29:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48215"
}
```



---

archive/issue_comments_030062.json:
```json
{
    "body": "Merged: **4.4.1.alpha0**",
    "created_at": "2010-04-28T19:29:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30062",
    "user": "https://github.com/williamstein"
}
```

Merged: **4.4.1.alpha0**



---

archive/issue_comments_030063.json:
```json
{
    "body": "Author: **Rishikesh**",
    "created_at": "2010-04-29T15:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30063",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Author: **Rishikesh**



---

archive/issue_events_048216.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-04-29T15:18:58Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "title_is": "Update lcalc to the new upstream 1.23",
    "title_was": "Update lcalc to the new upstream 1.23 [with spkg]",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4793#event-48216"
}
```



---

archive/issue_comments_030064.json:
```json
{
    "body": "Reviewer: **Robert Bradshaw, William Stein**",
    "created_at": "2010-04-29T15:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30064",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Reviewer: **Robert Bradshaw, William Stein**



---

archive/issue_comments_030065.json:
```json
{
    "body": "Changed merged from **4.4.1.alpha0** to **sage-4.4.1.alpha0**",
    "created_at": "2010-05-03T01:11:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4793",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4793#issuecomment-30065",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Changed merged from **4.4.1.alpha0** to **sage-4.4.1.alpha0**
