# Issue 4449: [with patch; positive review] sage-combinat install script doesn't work with 3.2.alpha2

archive/issues_004449.json:
```json
{
    "body": "'sage -combinat install' on sage-3.2.alpha2 fails (and not on 'hg qpush -a').\n\nAssignee: @saliola\n\nCC:  sage-combinat\n\nKeywords: sage-combinat\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/4449\n\n",
    "closed_at": "2008-11-05T22:34:43Z",
    "created_at": "2008-11-05T22:23:44Z",
    "labels": [
        "component: combinatorics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.2",
    "title": "[with patch; positive review] sage-combinat install script doesn't work with 3.2.alpha2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4449",
    "user": "https://github.com/saliola"
}
```
'sage -combinat install' on sage-3.2.alpha2 fails (and not on 'hg qpush -a').

Assignee: @saliola

CC:  sage-combinat

Keywords: sage-combinat

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/4449





---

archive/issue_comments_034650.json:
```json
{
    "body": "Attachment [sage-combinat_4449.patch](tarball://root/attachments/some-uuid/ticket4449/sage-combinat_4449.patch) by @saliola created at 2008-11-05 22:25:59",
    "created_at": "2008-11-05T22:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4449#issuecomment-34650",
    "user": "https://github.com/saliola"
}
```

Attachment [sage-combinat_4449.patch](tarball://root/attachments/some-uuid/ticket4449/sage-combinat_4449.patch) by @saliola created at 2008-11-05 22:25:59



---

archive/issue_events_016730.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "rename": {
        "from": "sage-combinat install script doesn't work with 3.2.alpha2",
        "to": "[with patch; needs review] sage-combinat install script doesn't work with 3.2.alpha2"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4449#event-16730"
}
```



---

archive/issue_comments_034651.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe script fails because the following re.search in get_sage_version\n\n    return re.search('(\\d+\\.\\d+\\.\\d+)',sage_version).group()\n\ndoesn't match anything for \"3.2.alpha0\". One way to get around this is to use a try-except statement (see the attached patch sage-combinat_4449.patch).\n\nNow for 3.2.alpha2, the version number returned is '3.2.0' and for '3.2.1.alpha2' it is '3.2.1'. I think this should be okay since the version number is used to determine the guards (and the guards don't change much between alpha releases).\n\nNow the script runs, and fails at the end during the 'hg qpush -a' (which is acceptable).",
    "created_at": "2008-11-05T22:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4449#issuecomment-34651",
    "user": "https://github.com/saliola"
}
```

<a id='comment:1'></a>
The script fails because the following re.search in get_sage_version

    return re.search('(\d+\.\d+\.\d+)',sage_version).group()

doesn't match anything for "3.2.alpha0". One way to get around this is to use a try-except statement (see the attached patch sage-combinat_4449.patch).

Now for 3.2.alpha2, the version number returned is '3.2.0' and for '3.2.1.alpha2' it is '3.2.1'. I think this should be okay since the version number is used to determine the guards (and the guards don't change much between alpha releases).

Now the script runs, and fails at the end during the 'hg qpush -a' (which is acceptable).



---

archive/issue_comments_034652.json:
```json
{
    "body": "<a id='comment:2'></a>\nNotice that there is also #4415, so hopefully this will not collide.\n\nCheers,\n\nMichael",
    "created_at": "2008-11-05T22:32:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4449#issuecomment-34652",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>
Notice that there is also #4415, so hopefully this will not collide.

Cheers,

Michael



---

archive/issue_events_016731.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "rename": {
        "from": "[with patch; needs review] sage-combinat install script doesn't work with 3.2.alpha2",
        "to": "[with patch; positive review] sage-combinat install script doesn't work with 3.2.alpha2"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4449#event-16731"
}
```



---

archive/issue_comments_034653.json:
```json
{
    "body": "<a id='comment:3'></a>\nLooks good to me. It won't catch all odd version numbers and nothing like x.y.z.w, but we don't use those any more.\n\nCheers,\n\nMichael",
    "created_at": "2008-11-05T22:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4449#issuecomment-34653",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
Looks good to me. It won't catch all odd version numbers and nothing like x.y.z.w, but we don't use those any more.

Cheers,

Michael



---

archive/issue_comments_034654.json:
```json
{
    "body": "<a id='comment:4'></a>\nMerged in Sage 3.2.alpha3",
    "created_at": "2008-11-05T22:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4449#issuecomment-34654",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:4'></a>
Merged in Sage 3.2.alpha3



---

archive/issue_comments_034655.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2008-11-05T22:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4449#issuecomment-34655",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: fixed



---

archive/issue_events_016732.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-11-05T22:34:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4449",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4449#event-16732"
}
```
