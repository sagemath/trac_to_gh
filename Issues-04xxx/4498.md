# Issue 4498: Implement a symbolic version of the arg function

archive/issues_004498.json:
```json
{
    "body": "It would be nice if there were a symbolic arg function, just like the symbolic sin, cos, etc., functions.  Then the following would happen:\n\n```\nsage: f = arg(x); f\narg(x)\nsage: f.subs(x=1+I)\narg(1+I)\n```\n\nNow we have\n\n```\nsage: arg(1+I)\n0.785398163397\nsage: type(arg(1+I))\n<type 'sage.rings.real_double.RealDoubleElement'>\n```\n\nI.e., the arg in Sage is currently the numerical person's arg, not the symbolic person's.  It just casts to CDF.\n\n\n\"The function should return the argument of a complex function.\" - Ronan Paix\u00e3o\n\nApply\n* attachment:trac_4498-symbolic_arg.cleanup.patch\n* attachment:trac_4498-arg_evalf.patch\n\n**CC:**  @kcrisman ktkohl\n\n**Keywords:** sd35.5\n\n**Reviewer:** Karl-Dieter Crisman, Burcin Erocal\n\n**Author:** Karen Kohl, Burcin Erocal\n\n**Merged:** sage-5.0.beta4\n\nIssue created by migration from https://trac.sagemath.org/ticket/4498\n\n",
    "closed_at": "2012-02-14T14:20:11Z",
    "created_at": "2008-11-11T23:21:48Z",
    "labels": [
        "component: symbolics",
        "enhancement",
        "good first issue"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Implement a symbolic version of the arg function",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4498",
    "user": "https://trac.sagemath.org/admin/accounts/users/TimothyClemans"
}
```
It would be nice if there were a symbolic arg function, just like the symbolic sin, cos, etc., functions.  Then the following would happen:

```
sage: f = arg(x); f
arg(x)
sage: f.subs(x=1+I)
arg(1+I)
```

Now we have

```
sage: arg(1+I)
0.785398163397
sage: type(arg(1+I))
<type 'sage.rings.real_double.RealDoubleElement'>
```

I.e., the arg in Sage is currently the numerical person's arg, not the symbolic person's.  It just casts to CDF.


"The function should return the argument of a complex function." - Ronan Paixão

Apply
* attachment:trac_4498-symbolic_arg.cleanup.patch
* attachment:trac_4498-arg_evalf.patch

**CC:**  @kcrisman ktkohl

**Keywords:** sd35.5

**Reviewer:** Karl-Dieter Crisman, Burcin Erocal

**Author:** Karen Kohl, Burcin Erocal

**Merged:** sage-5.0.beta4

Issue created by migration from https://trac.sagemath.org/ticket/4498





---

archive/issue_comments_034834.json:
```json
{
    "body": "<a id='comment:1'></a>\n\n```\narg(x)\n///\n\nTraceback (most recent call last):\n File \"<stdin>\", line 1, in <module>\n File \"/home/ronan/.sage/sage_notebook/worksheets/admin/0/code/127.py\",\nline 6, in <module>\n   exec compile(ur'arg(x)' + '\\n', '', 'single')\n File\n\"/home/ronan/progs/sage/local/lib/python2.5/site-packages/ZODB3-3.7.0-py2.5-linux-i686.egg/\", line 1, in <module>\n\n File\n\"/home/ronan/progs/sage/local/lib/python2.5/site-packages/sage/misc/functional.py\", line 67, in arg\n   except AttributeError: return CDF(x).arg()\n File \"complex_double.pyx\", line 286, in\nsage.rings.complex_double.ComplexDoubleField_class.__call__\n(sage/rings/complex_double.c:3324)\n File\n\"/home/ronan/progs/sage/local/lib/python2.5/site-packages/sage/calculus/calculus.py\", line 1454, in _complex_double_\n   raise TypeError\nTypeError\n```",
    "created_at": "2008-11-11T23:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34834",
    "user": "https://trac.sagemath.org/admin/accounts/users/TimothyClemans"
}
```

<a id='comment:1'></a>

```
arg(x)
///

Traceback (most recent call last):
 File "<stdin>", line 1, in <module>
 File "/home/ronan/.sage/sage_notebook/worksheets/admin/0/code/127.py",
line 6, in <module>
   exec compile(ur'arg(x)' + '\n', '', 'single')
 File
"/home/ronan/progs/sage/local/lib/python2.5/site-packages/ZODB3-3.7.0-py2.5-linux-i686.egg/", line 1, in <module>

 File
"/home/ronan/progs/sage/local/lib/python2.5/site-packages/sage/misc/functional.py", line 67, in arg
   except AttributeError: return CDF(x).arg()
 File "complex_double.pyx", line 286, in
sage.rings.complex_double.ComplexDoubleField_class.__call__
(sage/rings/complex_double.c:3324)
 File
"/home/ronan/progs/sage/local/lib/python2.5/site-packages/sage/calculus/calculus.py", line 1454, in _complex_double_
   raise TypeError
TypeError
```



---

archive/issue_comments_034835.json:
```json
{
    "body": "<a id='comment:2'></a>\nPlease post a complete session. As is the above is not very clear.\n\nCheers,\n\nMichael",
    "created_at": "2008-11-12T14:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34835",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>
Please post a complete session. As is the above is not very clear.

Cheers,

Michael



---

archive/issue_events_012928.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-12T17:13:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4498#event-12928"
}
```



---

archive/issue_events_012929.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "rename": {
        "from": "The argument function does not work with variables.",
        "to": "Implement a symbolic version of the arg function; the current one is only for actual numbers"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4498#event-12929"
}
```



---

archive/issue_comments_034836.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,22 @@\n+It would be nice if there were a symbolic arg function, just like the symbolic sin, cos, etc., functions.  Then the following would happen:\n+\n+```\n+sage: f = arg(x); f\n+arg(x)\n+sage: f.subs(x=1+I)\n+arg(1+I)\n+```\n+\n+Now we have\n+\n+```\n+sage: arg(1+I)\n+0.785398163397\n+sage: type(arg(1+I))\n+<type 'sage.rings.real_double.RealDoubleElement'>\n+```\n+\n+I.e., the arg in Sage is currently the numerical person's arg, not the symbolic person's.  It just casts to CDF.\n+\n+\n \"The function should return the argument of a complex function.\" - Ronan Paix\u00e3o\n``````\n",
    "created_at": "2008-11-12T17:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34836",
    "user": "https://github.com/williamstein"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,22 @@
+It would be nice if there were a symbolic arg function, just like the symbolic sin, cos, etc., functions.  Then the following would happen:
+
+```
+sage: f = arg(x); f
+arg(x)
+sage: f.subs(x=1+I)
+arg(1+I)
+```
+
+Now we have
+
+```
+sage: arg(1+I)
+0.785398163397
+sage: type(arg(1+I))
+<type 'sage.rings.real_double.RealDoubleElement'>
+```
+
+I.e., the arg in Sage is currently the numerical person's arg, not the symbolic person's.  It just casts to CDF.
+
+
 "The function should return the argument of a complex function." - Ronan Paixão
``````




---

archive/issue_comments_034837.json:
```json
{
    "body": "<a id='comment:4'></a>\nIs this really an enchancement? As it is, just using arg(x) already raises an error and everything that needs arg() must be implemented numerically.",
    "created_at": "2008-11-15T17:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34837",
    "user": "https://trac.sagemath.org/admin/accounts/users/ronanpaixao"
}
```

<a id='comment:4'></a>
Is this really an enchancement? As it is, just using arg(x) already raises an error and everything that needs arg() must be implemented numerically.



---

archive/issue_comments_034838.json:
```json
{
    "body": "<a id='comment:5'></a>\n> Is this really an enchancement? As it is, just using arg(x) already \n> raises an error and everything that needs arg() must be implemented numerically. \n\n\nYes, this is an enhancement since it is implementing new functionality. \nIt would be a bug fix if there were a bug in the existing arg function, where it produced invalid results on supported input.\n\n -- William",
    "created_at": "2008-11-16T19:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34838",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:5'></a>
> Is this really an enchancement? As it is, just using arg(x) already 
> raises an error and everything that needs arg() must be implemented numerically. 


Yes, this is an enhancement since it is implementing new functionality. 
It would be a bug fix if there were a bug in the existing arg function, where it produced invalid results on supported input.

 -- William



---

archive/issue_comments_034839.json:
```json
{
    "body": "**Upstream:** N/A",
    "created_at": "2010-05-26T21:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34839",
    "user": "https://github.com/kcrisman"
}
```

**Upstream:** N/A



---

archive/issue_events_012930.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "rename": {
        "from": "Implement a symbolic version of the arg function; the current one is only for actual numbers",
        "to": "Implement a symbolic version of the arg function"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4498#event-12930"
}
```



---

archive/issue_comments_034840.json:
```json
{
    "body": "<a id='comment:7'></a>\nThis was also reported in #6220. I will close that as duplicate.",
    "created_at": "2010-05-27T10:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34840",
    "user": "https://github.com/burcin"
}
```

<a id='comment:7'></a>
This was also reported in #6220. I will close that as duplicate.



---

archive/issue_comments_034841.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd35.5\".",
    "created_at": "2012-01-11T15:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34841",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

**Changing keywords** from "" to "sd35.5".



---

archive/issue_comments_034842.json:
```json
{
    "body": "symbolic arg function",
    "created_at": "2012-01-12T04:54:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34842",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

symbolic arg function



---

archive/attachments_004875.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_4498_arg.1.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4498/trac_4498_arg.1.patch",
    "created_at": "2012-01-12T04:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```



---

archive/issue_comments_034843.json:
```json
{
    "body": "<a id='comment:10'></a>\n",
    "created_at": "2012-01-12T04:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34843",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

<a id='comment:10'></a>




---

archive/issue_comments_034844.json:
```json
{
    "body": "**Author:** Karen T. Kohl",
    "created_at": "2012-01-12T04:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34844",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

**Author:** Karen T. Kohl



---

archive/issue_comments_034845.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-01-12T04:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34845",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_034846.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2012-01-12T15:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34846",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_comments_034847.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-01-12T15:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34847",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_034848.json:
```json
{
    "body": "<a id='comment:11'></a>\nThere are a few small formatting issues, and it would be good to add an example showing that `arg(sqrt(2)+i)` remaining symbolic (as opposed to `arctan(1/sqrt(2))`) still evaluates correctly numerically.  Otherwise looks fine.  Currently running tests, as `arg` is likely used in a *lot* of places in Sage...",
    "created_at": "2012-01-12T15:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34848",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>
There are a few small formatting issues, and it would be good to add an example showing that `arg(sqrt(2)+i)` remaining symbolic (as opposed to `arctan(1/sqrt(2))`) still evaluates correctly numerically.  Otherwise looks fine.  Currently running tests, as `arg` is likely used in a *lot* of places in Sage...



---

archive/issue_comments_034849.json:
```json
{
    "body": "<a id='comment:12'></a>\n\n```\n\nFile \"/Users/karl-dietercrisman/Downloads/sage-4.8.alpha5/devel/sage-main/sage/symbolic/random_tests.py\", line 16:\n    sage: [f for (one,f,arity) in _mk_full_functions()]\nExpected:\n    [Ei, abs, arccos, arccosh, arccot, arccoth, arccsc, arccsch,\n    arcsec, arcsech, arcsin, arcsinh, arctan, arctan2, arctanh,\n    binomial, ceil, conjugate, cos, cosh, cot, coth, csc, csch,\n    dickman_rho, dilog, dirac_delta, elliptic_e, elliptic_ec,\n    elliptic_eu, elliptic_f, elliptic_kc, elliptic_pi, erf, exp,\n    factorial, floor, heaviside, imag_part, integrate,\n    kronecker_delta, log, polylog, real_part, sec, sech, sgn, sin,\n    sinh, tan, tanh, unit_step, zeta, zetaderiv]\nGot:\n    [Ei, abs, arccos, arccosh, arccot, arccoth, arccsc, arccsch, arcsec, arcsech, arcsin, arcsinh, arctan, arctan2, arctanh, arg, binomial, ceil, conjugate, cos, cosh, cot, coth, csc, csch, dickman_rho, dilog, dirac_delta, elliptic_e, elliptic_ec, elliptic_eu, elliptic_f, elliptic_kc, elliptic_pi, erf, exp, factorial, floor, heaviside, imag_part, integrate, kronecker_delta, log, polylog, real_part, sec, sech, sgn, sin, sinh, tan, tanh, unit_step, zeta, zetaderiv]\n**********************************************************************\nFile \"/Users/karl-dietercrisman/Downloads/sage-4.8.alpha5/devel/sage-main/sage/symbolic/random_tests.py\", line 238:\n    sage: random_expr(5, verbose=True)\nExpected:\n    About to apply dirac_delta to [1]\n    About to apply arccsch to [0]\n    About to apply <built-in function add> to [0, arccsch(0)]\n    arccsch(0)\nGot:\n    About to apply dirac_delta to [1]\n    About to apply arcsec to [0]\n    About to apply <built-in function add> to [0, arcsec(0)]\n    arcsec(0)\n```",
    "created_at": "2012-01-12T15:08:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34849",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>

```

File "/Users/karl-dietercrisman/Downloads/sage-4.8.alpha5/devel/sage-main/sage/symbolic/random_tests.py", line 16:
    sage: [f for (one,f,arity) in _mk_full_functions()]
Expected:
    [Ei, abs, arccos, arccosh, arccot, arccoth, arccsc, arccsch,
    arcsec, arcsech, arcsin, arcsinh, arctan, arctan2, arctanh,
    binomial, ceil, conjugate, cos, cosh, cot, coth, csc, csch,
    dickman_rho, dilog, dirac_delta, elliptic_e, elliptic_ec,
    elliptic_eu, elliptic_f, elliptic_kc, elliptic_pi, erf, exp,
    factorial, floor, heaviside, imag_part, integrate,
    kronecker_delta, log, polylog, real_part, sec, sech, sgn, sin,
    sinh, tan, tanh, unit_step, zeta, zetaderiv]
Got:
    [Ei, abs, arccos, arccosh, arccot, arccoth, arccsc, arccsch, arcsec, arcsech, arcsin, arcsinh, arctan, arctan2, arctanh, arg, binomial, ceil, conjugate, cos, cosh, cot, coth, csc, csch, dickman_rho, dilog, dirac_delta, elliptic_e, elliptic_ec, elliptic_eu, elliptic_f, elliptic_kc, elliptic_pi, erf, exp, factorial, floor, heaviside, imag_part, integrate, kronecker_delta, log, polylog, real_part, sec, sech, sgn, sin, sinh, tan, tanh, unit_step, zeta, zetaderiv]
**********************************************************************
File "/Users/karl-dietercrisman/Downloads/sage-4.8.alpha5/devel/sage-main/sage/symbolic/random_tests.py", line 238:
    sage: random_expr(5, verbose=True)
Expected:
    About to apply dirac_delta to [1]
    About to apply arccsch to [0]
    About to apply <built-in function add> to [0, arccsch(0)]
    arccsch(0)
Got:
    About to apply dirac_delta to [1]
    About to apply arcsec to [0]
    About to apply <built-in function add> to [0, arcsec(0)]
    arcsec(0)
```



---

archive/issue_comments_034850.json:
```json
{
    "body": "<a id='comment:13'></a>\nI think the Maxima translation may not be correct.\n\n```\n\n -- Function: carg (<z>)\n     Returns the complex argument of <z>.  The complex argument is an\n     angle `theta' in `(-%pi, %pi]' such that `r exp (theta %i) = <z>'\n     where `r' is the magnitude of <z>.\n\n     `carg' is a computational function, not a simplifying function.\n\n     See also `abs' (complex magnitude), `polarform', `rectform',\n     `realpart', and `imagpart'.\n\n     Examples:\n\n          (%i1) carg (1);\n          (%o1)                           0\n          (%i2) carg (1 + %i);\n                                         %pi\n          (%o2)                          ---\n                                          4\n          (%i3) carg (exp (%i));\n          (%o3)                           1\n          (%i4) carg (exp (%pi * %i));\n          (%o4)                          %pi\n          (%i5) carg (exp (3/2 * %pi * %i));\n                                          %pi\n          (%o5)                         - ---\n                                           2\n          (%i6) carg (17 * exp (2 * %i));\n          (%o6)                           2\n\n\n(%o3)                                true\n```\nSee also Barton Willis' [parg](http://maxima.sourceforge.net/docs/manual/en/maxima_80.html#Item_003a-parg), though that only works if having loaded `to_poly_solve`.",
    "created_at": "2012-01-12T16:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34850",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>
I think the Maxima translation may not be correct.

```

 -- Function: carg (<z>)
     Returns the complex argument of <z>.  The complex argument is an
     angle `theta' in `(-%pi, %pi]' such that `r exp (theta %i) = <z>'
     where `r' is the magnitude of <z>.

     `carg' is a computational function, not a simplifying function.

     See also `abs' (complex magnitude), `polarform', `rectform',
     `realpart', and `imagpart'.

     Examples:

          (%i1) carg (1);
          (%o1)                           0
          (%i2) carg (1 + %i);
                                         %pi
          (%o2)                          ---
                                          4
          (%i3) carg (exp (%i));
          (%o3)                           1
          (%i4) carg (exp (%pi * %i));
          (%o4)                          %pi
          (%i5) carg (exp (3/2 * %pi * %i));
                                          %pi
          (%o5)                         - ---
                                           2
          (%i6) carg (17 * exp (2 * %i));
          (%o6)                           2


(%o3)                                true
```
See also Barton Willis' [parg](http://maxima.sourceforge.net/docs/manual/en/maxima_80.html#Item_003a-parg), though that only works if having loaded `to_poly_solve`.



---

archive/issue_comments_034851.json:
```json
{
    "body": "**Work_Issues:** random tests, Maxima",
    "created_at": "2012-01-12T16:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34851",
    "user": "https://github.com/kcrisman"
}
```

**Work_Issues:** random tests, Maxima



---

archive/issue_comments_034852.json:
```json
{
    "body": "<a id='comment:14'></a>\nOtherwise, all tests pass!",
    "created_at": "2012-01-12T16:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34852",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
Otherwise, all tests pass!



---

archive/issue_comments_034853.json:
```json
{
    "body": "<a id='comment:15'></a>\nDo this to check the fix works.\n\n```\nsage: maxima(arg(x))\natan2(0,x)\nsage: maxima(arg(2+i))\natan(1/2)\nsage: maxima(arg(sqrt(2)+i))\natan(1/sqrt(2))\nsage: arg(2+i)\narctan(1/2)\nsage: arg(sqrt(2)+i)\narg(sqrt(2) + I)\n```\nIt also seems to help with the sqrt(2) issue, in a manner of speaking.  One could tell someone to do \n\n```\nsage: arg(sqrt(2)+i).simplify()\narctan(1/2*sqrt(2))\n```",
    "created_at": "2012-01-12T16:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34853",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Do this to check the fix works.

```
sage: maxima(arg(x))
atan2(0,x)
sage: maxima(arg(2+i))
atan(1/2)
sage: maxima(arg(sqrt(2)+i))
atan(1/sqrt(2))
sage: arg(2+i)
arctan(1/2)
sage: arg(sqrt(2)+i)
arg(sqrt(2) + I)
```
It also seems to help with the sqrt(2) issue, in a manner of speaking.  One could tell someone to do 

```
sage: arg(sqrt(2)+i).simplify()
arctan(1/2*sqrt(2))
```



---

archive/issue_comments_034854.json:
```json
{
    "body": "revision of arg function--apply instead of the previous patch",
    "created_at": "2012-01-12T17:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34854",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

revision of arg function--apply instead of the previous patch



---

archive/attachments_004876.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_4498_arg.2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4498/trac_4498_arg.2.patch",
    "created_at": "2012-01-12T17:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```



---

archive/issue_comments_034855.json:
```json
{
    "body": "<a id='comment:16'></a>\n",
    "created_at": "2012-01-12T17:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34855",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

<a id='comment:16'></a>




---

archive/issue_comments_034856.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-01-12T17:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34856",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

**Changing status** from needs_work to needs_review.



---

archive/attachments_004877.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_4498_arg.3.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4498/trac_4498_arg.3.patch",
    "created_at": "2012-01-12T18:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```



---

archive/issue_comments_034857.json:
```json
{
    "body": "symbolic arg--fixed whitespace issues--use this one instead of others",
    "created_at": "2012-01-12T18:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34857",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

symbolic arg--fixed whitespace issues--use this one instead of others



---

archive/attachments_004878.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_4498-symbolic_arg.cleanup.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4498/trac_4498-symbolic_arg.cleanup.patch",
    "created_at": "2012-02-07T10:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_034858.json:
```json
{
    "body": "",
    "created_at": "2012-02-07T10:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34858",
    "user": "https://github.com/burcin"
}
```





---

archive/issue_comments_034859.json:
```json
{
    "body": "<a id='comment:17'></a>\nI uploaded a new patch with minor modifications to Karen's. In particular, it\n\n* removes the duplicate commands that appear in the `EXAMPLES` and `TESTS` blocks for `Function_arg`.\n* import `CC` directly instead of calling `ComplexField` in `_evalf_()`.\n\nI give a positive review to Karen's patch. If someone can take a quick look at my changes to check if I didn't mess anything up, this can be merged.",
    "created_at": "2012-02-07T10:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34859",
    "user": "https://github.com/burcin"
}
```

<a id='comment:17'></a>
I uploaded a new patch with minor modifications to Karen's. In particular, it

* removes the duplicate commands that appear in the `EXAMPLES` and `TESTS` blocks for `Function_arg`.
* import `CC` directly instead of calling `ComplexField` in `_evalf_()`.

I give a positive review to Karen's patch. If someone can take a quick look at my changes to check if I didn't mess anything up, this can be merged.



---

archive/issue_comments_034860.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman\" to \"Karl-Dieter Crisman, Burcin Erocal\".",
    "created_at": "2012-02-07T10:30:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34860",
    "user": "https://github.com/burcin"
}
```

**Changing reviewer** from "Karl-Dieter Crisman" to "Karl-Dieter Crisman, Burcin Erocal".



---

archive/issue_comments_034861.json:
```json
{
    "body": "<a id='comment:18'></a>\nIt doesn't appear that you messed anything up, except ...\n\n```\nsage: arg(3.0)\n---------------------------------------------------------------------------\n<snip>\n   1426             return x.arg()\n   1427         except AttributeError:\n-> 1428             from sage.rings.complex_field import CC\n   1429             x = CC(x)\n   1430             return x.arg()\n\nImportError: cannot import name CC\n```\nSo apparently that won't work.  Otherwise the changes are fine.",
    "created_at": "2012-02-07T14:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34861",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
It doesn't appear that you messed anything up, except ...

```
sage: arg(3.0)
---------------------------------------------------------------------------
<snip>
   1426             return x.arg()
   1427         except AttributeError:
-> 1428             from sage.rings.complex_field import CC
   1429             x = CC(x)
   1430             return x.arg()

ImportError: cannot import name CC
```
So apparently that won't work.  Otherwise the changes are fine.



---

archive/issue_comments_034862.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-02-07T14:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34862",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to needs_work.



---

archive/attachments_004879.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_4498-arg_evalf.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4498/trac_4498-arg_evalf.patch",
    "created_at": "2012-02-07T15:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_034863.json:
```json
{
    "body": "",
    "created_at": "2012-02-07T15:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34863",
    "user": "https://github.com/burcin"
}
```





---

archive/issue_comments_034864.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-02-07T15:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34864",
    "user": "https://github.com/burcin"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_034865.json:
```json
{
    "body": "<a id='comment:19'></a>\nApparently I didn't run tests, latex output was also broken.\n\nattachment:trac_4498-arg_evalf.patch, to be applied after attachment:trac_4498-symbolic_arg.cleanup.patch, implements a new `_evalf_()` function which keeps the precision of the input. This one needs a real review. :)",
    "created_at": "2012-02-07T15:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34865",
    "user": "https://github.com/burcin"
}
```

<a id='comment:19'></a>
Apparently I didn't run tests, latex output was also broken.

attachment:trac_4498-arg_evalf.patch, to be applied after attachment:trac_4498-symbolic_arg.cleanup.patch, implements a new `_evalf_()` function which keeps the precision of the input. This one needs a real review. :)



---

archive/issue_comments_034866.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -20,3 +20,7 @@\n \n \n \"The function should return the argument of a complex function.\" - Ronan Paix\u00e3o\n+\n+Apply\n+* attachment:trac_4498-symbolic_arg.cleanup.patch\n+* attachment:trac_4498-arg_evalf.patch\n``````\n",
    "created_at": "2012-02-07T15:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34866",
    "user": "https://github.com/burcin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -20,3 +20,7 @@
 
 
 "The function should return the argument of a complex function." - Ronan Paixão
+
+Apply
+* attachment:trac_4498-symbolic_arg.cleanup.patch
+* attachment:trac_4498-arg_evalf.patch
``````




---

archive/issue_comments_034867.json:
```json
{
    "body": "**Changing author** from \"Karen T. Kohl\" to \"Karen T. Kohl, Burcin Erocal\".",
    "created_at": "2012-02-07T15:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34867",
    "user": "https://github.com/burcin"
}
```

**Changing author** from "Karen T. Kohl" to "Karen T. Kohl, Burcin Erocal".



---

archive/issue_comments_034868.json:
```json
{
    "body": "<a id='comment:20'></a>\nThis makes a lot more sense.  Running tests...\n\nWhy `parent_d` and not `parent`?  Just wondering in case there is a convention I should be aware of.",
    "created_at": "2012-02-07T16:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34868",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>
This makes a lot more sense.  Running tests...

Why `parent_d` and not `parent`?  Just wondering in case there is a convention I should be aware of.



---

archive/issue_comments_034869.json:
```json
{
    "body": "<a id='comment:21'></a>\nUsing `parent` as the name of the keyword argument masks the imported `parent()` function, which I used in the function body.",
    "created_at": "2012-02-07T16:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34869",
    "user": "https://github.com/burcin"
}
```

<a id='comment:21'></a>
Using `parent` as the name of the keyword argument masks the imported `parent()` function, which I used in the function body.



---

archive/issue_events_012931.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2012-02-07T16:13:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4498#event-12931"
}
```



---

archive/issue_events_012932.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2012-02-07T16:13:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "milestone": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4498#event-12932"
}
```



---

archive/issue_comments_034870.json:
```json
{
    "body": "<a id='comment:22'></a>\nI wondered; that makes sense.\n\nAll looks well.  Just a question - do you want to include any of the following as tests?\n\n```\nsage: arg(long(1000))\n0\nsage: arg(1j)\n1.57079632679490\nsage: arg(1J)\n1.57079632679490\nsage: arg(complex(0,1))\n1.57079632679490\nsage: arg(complex(1,0))\n0.000000000000000\nsage: arg(int(10))\n0\n```\nIt's not a big deal to me either way, I just wanted to test them.",
    "created_at": "2012-02-07T16:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34870",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'></a>
I wondered; that makes sense.

All looks well.  Just a question - do you want to include any of the following as tests?

```
sage: arg(long(1000))
0
sage: arg(1j)
1.57079632679490
sage: arg(1J)
1.57079632679490
sage: arg(complex(0,1))
1.57079632679490
sage: arg(complex(1,0))
0.000000000000000
sage: arg(int(10))
0
```
It's not a big deal to me either way, I just wanted to test them.



---

archive/issue_comments_034871.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-02-07T16:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34871",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_034872.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2012-02-12T12:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34872",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_034873.json:
```json
{
    "body": "<a id='comment:23'></a>\nThis patch conflicts with #9130.  Either this one or #9130 should be rebased.",
    "created_at": "2012-02-12T12:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34873",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
This patch conflicts with #9130.  Either this one or #9130 should be rebased.



---

archive/issue_comments_034874.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2012-02-13T09:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34874",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_034875.json:
```json
{
    "body": "**Changing work_issues** from \"random tests, Maxima\" to \"\".",
    "created_at": "2012-02-13T09:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34875",
    "user": "https://github.com/jdemeyer"
}
```

**Changing work_issues** from "random tests, Maxima" to "".



---

archive/issue_comments_034876.json:
```json
{
    "body": "**Merged:** sage-5.0.beta4",
    "created_at": "2012-02-14T14:20:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34876",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.0.beta4



---

archive/issue_events_012933.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-14T14:20:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4498#event-12933"
}
```



---

archive/issue_comments_034877.json:
```json
{
    "body": "**Changing author** from \"Karen T. Kohl, Burcin Erocal\" to \"Karen Kohl, Burcin Erocal\".",
    "created_at": "2017-07-19T08:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34877",
    "user": "https://github.com/fchapoton"
}
```

**Changing author** from "Karen T. Kohl, Burcin Erocal" to "Karen Kohl, Burcin Erocal".



---

archive/issue_comments_034878.json:
```json
{
    "body": "<a id='comment:26'></a>\nstandard form for name",
    "created_at": "2017-07-19T08:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4498",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4498#issuecomment-34878",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>
standard form for name
