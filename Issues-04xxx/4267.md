# Issue 4267: remove javascript code from extcode repository

archive/issues_004267.json:
```json
{
    "body": "The scope of this ticket changed significantly over the lifetime of its existence. Note that only the last two comments are relevant. \n\nCheers,\n\nMichael\n\n**Assignee:** @jasongrout\n\nIssue created by migration from https://trac.sagemath.org/ticket/4267\n\n",
    "closed_at": "2009-01-19T08:16:27Z",
    "created_at": "2008-10-12T02:15:25Z",
    "labels": [
        "component: notebook"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.3",
    "title": "remove javascript code from extcode repository",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/4267",
    "user": "https://github.com/jasongrout"
}
```
The scope of this ticket changed significantly over the lifetime of its existence. Note that only the last two comments are relevant. 

Cheers,

Michael

**Assignee:** @jasongrout

Issue created by migration from https://trac.sagemath.org/ticket/4267





---

archive/issue_comments_025422.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe spkgs are at:\n\nhttp://sage.math.washington.edu/home/jason/notebook/jquery-1.2.6.spkg (standard spkgs)\n\nhttp://sage.math.washington.edu/home/jason/notebook/jqueryui-1.6rc2.spkg (standard spkgs)\n\nhttp://sage.math.washington.edu/home/jason/notebook/jsmath-3.6a.spkg (standard spkgs)\n\nhttp://sage.math.washington.edu/home/jason/notebook/jsmath-image-fonts-1.3p0.spkg (optional spkgs)\n\nhttp://sage.math.washington.edu/home/jason/notebook/tinyMCE-3.2.0.2.spkg (still under consideration)\n\nThe last package, tinyMCE, is still under consideration for inclusion.  The others have been accepted into either the standard or optional spkg groups.",
    "created_at": "2008-10-12T02:17:53Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25422",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'></a>
The spkgs are at:

http://sage.math.washington.edu/home/jason/notebook/jquery-1.2.6.spkg (standard spkgs)

http://sage.math.washington.edu/home/jason/notebook/jqueryui-1.6rc2.spkg (standard spkgs)

http://sage.math.washington.edu/home/jason/notebook/jsmath-3.6a.spkg (standard spkgs)

http://sage.math.washington.edu/home/jason/notebook/jsmath-image-fonts-1.3p0.spkg (optional spkgs)

http://sage.math.washington.edu/home/jason/notebook/tinyMCE-3.2.0.2.spkg (still under consideration)

The last package, tinyMCE, is still under consideration for inclusion.  The others have been accepted into either the standard or optional spkg groups.



---

archive/issue_comments_025423.json:
```json
{
    "body": "<a id='comment:2'></a>\nJason,\n\nthe extcode patch is *huge* and should not be attached, but should be posted via some link.\n\nCheers,\n\nMichael",
    "created_at": "2008-10-12T07:27:32Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25423",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>
Jason,

the extcode patch is *huge* and should not be attached, but should be posted via some link.

Cheers,

Michael



---

archive/issue_comments_025424.json:
```json
{
    "body": "<a id='comment:3'></a>\nJason,\n\nthe patch is now at\n\nhttp://sage.math.washington.edu/home/mabshoff/extcode-remove-javascript-packages.patch\n\nEither way, we should seriously consider resetting the extcode repo since the history is huge and there is relatively little benefit to keep it around considering the size.\n\nCheers,\n\nMichael",
    "created_at": "2008-10-12T08:14:27Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25424",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
Jason,

the patch is now at

http://sage.math.washington.edu/home/mabshoff/extcode-remove-javascript-packages.patch

Either way, we should seriously consider resetting the extcode repo since the history is huge and there is relatively little benefit to keep it around considering the size.

Cheers,

Michael



---

archive/issue_comments_025425.json:
```json
{
    "body": "<a id='comment:4'></a>\nApply only edit-in-place-and-javascript-spkgs.patch.  Ignore the make-javascript-spkgs.patch file.\n\nNote that the edit-in-place... patch also resolves #4255.\n\nI also took the opportunity to clean up some of the javascript code in js.py to use jquery instead of custom code, and to note in comments several places where we could use jquery further to possibly simplify our code or make our code better.",
    "created_at": "2008-10-18T04:06:19Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25425",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'></a>
Apply only edit-in-place-and-javascript-spkgs.patch.  Ignore the make-javascript-spkgs.patch file.

Note that the edit-in-place... patch also resolves #4255.

I also took the opportunity to clean up some of the javascript code in js.py to use jquery instead of custom code, and to note in comments several places where we could use jquery further to possibly simplify our code or make our code better.



---

archive/issue_comments_025426.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis ticket also resolves #4184",
    "created_at": "2008-10-18T04:10:29Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25426",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'></a>
This ticket also resolves #4184



---

archive/issue_comments_025427.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis ticket also resolves #3767.",
    "created_at": "2008-10-18T04:15:25Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25427",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:6'></a>
This ticket also resolves #3767.



---

archive/issue_comments_025428.json:
```json
{
    "body": "<a id='comment:7'></a>\nUpdated the edit-in-place patch to fix two bugs.",
    "created_at": "2008-10-18T07:18:47Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25428",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:7'></a>
Updated the edit-in-place patch to fix two bugs.



---

archive/issue_events_024649.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2008-10-18T07:20:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "rename": {
        "from": "Make javascript packages spkgs instead of part of the extcode repository",
        "to": "[with patch and spkgs] Make javascript packages spkgs instead of part of the extcode repository"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24649"
}
```



---

archive/issue_events_024650.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2008-10-18T07:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24650"
}
```



---

archive/attachments_004718.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "edit-in-place-and-javascript-spkgs.patch",
    "asset_url": "tarball://root/attachments/ticket4267/edit-in-place-and-javascript-spkgs.patch",
    "created_at": "2008-10-18T07:55:10Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket4267/edit-in-place-and-javascript-spkgs.patch",
    "user": "https://github.com/jasongrout"
}
```



---

archive/issue_comments_025429.json:
```json
{
    "body": "**Attachment:** [edit-in-place-and-javascript-spkgs.patch](https://github.com/sagemath/sage/files/ticket4267/edit-in-place-and-javascript-spkgs.patch)\n\nApply only this patch from here and the extcode patch from the coments below.",
    "created_at": "2008-10-18T07:55:10Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25429",
    "user": "https://github.com/jasongrout"
}
```

**Attachment:** [edit-in-place-and-javascript-spkgs.patch](https://github.com/sagemath/sage/files/ticket4267/edit-in-place-and-javascript-spkgs.patch)

Apply only this patch from here and the extcode patch from the coments below.



---

archive/issue_comments_025430.json:
```json
{
    "body": "<a id='comment:9'></a>\nFixed two more bugs and made sure that applying the edit-in-place patch, the extcode patch from mabshoff's comment, and installing the spkgs above makes this all work on Sage 3.1.4.",
    "created_at": "2008-10-18T07:56:34Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25430",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:9'></a>
Fixed two more bugs and made sure that applying the edit-in-place patch, the extcode patch from mabshoff's comment, and installing the spkgs above makes this all work on Sage 3.1.4.



---

archive/issue_comments_025431.json:
```json
{
    "body": "<a id='comment:10'></a>\nI've updated the jqueryui spkg to the most recent svn version, which fixes some bugs in rc2.  The jqueryui spkg is here:\n\nhttp://sage.math.washington.edu/home/jason/notebook/jqueryui-1.6r807svn.spkg",
    "created_at": "2008-10-19T02:30:58Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25431",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:10'></a>
I've updated the jqueryui spkg to the most recent svn version, which fixes some bugs in rc2.  The jqueryui spkg is here:

http://sage.math.washington.edu/home/jason/notebook/jqueryui-1.6r807svn.spkg



---

archive/issue_comments_025432.json:
```json
{
    "body": "<a id='comment:11'></a>\nI'm having problems getting this to work, maybe because I'm still using the install that I tested #4255 on.  I applied the edit-in-place-and-javascript-spkgs.patch, which went OK, and the jqueryui-1.6r807svn.spkg, but I had only failures trying to install the extcode patch.  \nAfter doing the above, I ran the notebook and couldn't even evaluate a cell.  I guess I will try again on a virgin 3.1.3 or 3.1.4.  A clarification of what order to do what spkgs and patches would be good though.",
    "created_at": "2008-10-19T03:45:45Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25432",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:11'></a>
I'm having problems getting this to work, maybe because I'm still using the install that I tested #4255 on.  I applied the edit-in-place-and-javascript-spkgs.patch, which went OK, and the jqueryui-1.6r807svn.spkg, but I had only failures trying to install the extcode patch.  
After doing the above, I ran the notebook and couldn't even evaluate a cell.  I guess I will try again on a virgin 3.1.3 or 3.1.4.  A clarification of what order to do what spkgs and patches would be good though.



---

archive/issue_comments_025433.json:
```json
{
    "body": "<a id='comment:12'></a>\nSee #2113 if you're worried about how much stuff is sent to the browser.  That patch implements gzip compression for all javascript automatically (if the destination isn't a localhost).",
    "created_at": "2008-10-19T05:12:09Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25433",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:12'></a>
See #2113 if you're worried about how much stuff is sent to the browser.  That patch implements gzip compression for all javascript automatically (if the destination isn't a localhost).



---

archive/issue_comments_025434.json:
```json
{
    "body": "<a id='comment:13'></a>\nI tried this again on a brand-new 3.1.4, and the extcode patch fails to apply, with man y statements like:\n\n```\nunable to find 'notebook/javascript/jqueryui/datepicker/i18n/ui.datepicker-hu.js' for patching\nunable to find 'notebook/javascript/jsmath/extensions/bbox.js' for patching\n```",
    "created_at": "2008-10-19T13:19:16Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25434",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:13'></a>
I tried this again on a brand-new 3.1.4, and the extcode patch fails to apply, with man y statements like:

```
unable to find 'notebook/javascript/jqueryui/datepicker/i18n/ui.datepicker-hu.js' for patching
unable to find 'notebook/javascript/jsmath/extensions/bbox.js' for patching
```



---

archive/issue_comments_025435.json:
```json
{
    "body": "<a id='comment:14'></a>\nOK, I applied using hg in extcode and it worked.  When I show() something, it tells me to download the jsmath fonts with a hyperlink, and when I click on the link I get:\n\n```\nNot Found\n\nThe requested URL /sage//jsmath was not found on this server. \n```\n\nI did install the spkgs provided on this ticket.",
    "created_at": "2008-10-19T13:27:45Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25435",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:14'></a>
OK, I applied using hg in extcode and it worked.  When I show() something, it tells me to download the jsmath fonts with a hyperlink, and when I click on the link I get:

```
Not Found

The requested URL /sage//jsmath was not found on this server. 
```

I did install the spkgs provided on this ticket.



---

archive/issue_comments_025436.json:
```json
{
    "body": "<a id='comment:15'></a>\nThe shift-click for making a new text cell does not appear to work, although I do get the tinymce editor when double-clicking existing cells.",
    "created_at": "2008-10-19T13:33:26Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25436",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:15'></a>
The shift-click for making a new text cell does not appear to work, although I do get the tinymce editor when double-clicking existing cells.



---

archive/issue_events_024651.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2008-10-19T13:33:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24651"
}
```



---

archive/issue_events_024652.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2008-10-19T13:33:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24652"
}
```



---

archive/issue_comments_025437.json:
```json
{
    "body": "<a id='comment:16'></a>\nI have a brand-new 3.1.4 install as well.  The extcode patch applies perfectly for me when I do the following, so something seems odd.  The patch just deletes a bunch of directories for cleanup purposes; applying the extcode patch should not change any functionality.\n\n```\ncd sage/data/extcode\nwget http://sage.math.washington.edu/home/mabshoff/extcode-remove-javascript-packages.patch\nhg qinit\nhg qimport extcode-remove-javascript-packages.patch\nhg qpush\n```\n\nI then also applied the edit-in-place-and-javascript-spkgs.patch patch from above to the main sage repository.\n\nI then installed all the packages (except the jsmath-image-fonts one) from http://sage.math.washington.edu/home/jason/notebook/.  I used \"sage -f <package>.spkg\" to install these to make sure to overwrite the current package.\n\nI then did sage -br\n\nThen I started the notebook and everything seemed to work great (including the shift-click).  What browser are you using?  I'm using FF 3.0.1 on Ubuntu 8.04.",
    "created_at": "2008-10-20T19:31:55Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25437",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:16'></a>
I have a brand-new 3.1.4 install as well.  The extcode patch applies perfectly for me when I do the following, so something seems odd.  The patch just deletes a bunch of directories for cleanup purposes; applying the extcode patch should not change any functionality.

```
cd sage/data/extcode
wget http://sage.math.washington.edu/home/mabshoff/extcode-remove-javascript-packages.patch
hg qinit
hg qimport extcode-remove-javascript-packages.patch
hg qpush
```

I then also applied the edit-in-place-and-javascript-spkgs.patch patch from above to the main sage repository.

I then installed all the packages (except the jsmath-image-fonts one) from http://sage.math.washington.edu/home/jason/notebook/.  I used "sage -f <package>.spkg" to install these to make sure to overwrite the current package.

I then did sage -br

Then I started the notebook and everything seemed to work great (including the shift-click).  What browser are you using?  I'm using FF 3.0.1 on Ubuntu 8.04.



---

archive/issue_comments_025438.json:
```json
{
    "body": "<a id='comment:17'></a>\nOK, that worked for me.  I was doing things in a different order, and somehow that caused some problems.\n\nThis seems to work well.  Something in the javascript changes seems to change the appearance of the `@`interact sliders, and I liked the old ones better, but I don't think thats important enough to object to this.  Other people might be more passionate about it.  I think this enhanced editing will be very useful for using the notebook in designing labs and for students writing up such labs.",
    "created_at": "2008-10-21T04:17:15Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25438",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:17'></a>
OK, that worked for me.  I was doing things in a different order, and somehow that caused some problems.

This seems to work well.  Something in the javascript changes seems to change the appearance of the `@`interact sliders, and I liked the old ones better, but I don't think thats important enough to object to this.  Other people might be more passionate about it.  I think this enhanced editing will be very useful for using the notebook in designing labs and for students writing up such labs.



---

archive/issue_events_024653.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2008-10-21T04:17:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24653"
}
```



---

archive/issue_events_024654.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2008-10-21T04:17:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24654"
}
```



---

archive/issue_comments_025439.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe upgrade to the newest version of jqueryui changed the default theme.  It would be very easy to change back, or to design a new theme (with different colors, etc.).\n\nIf there is enough people wanting it, I will include the old theme as the default theme.  I don't really have a preference, though I think I do like the old sliders better.  It was easier to feel like you were moving them to a precise value since they weren't so big.\n\nWould it be enough to just change the slider image back to the old image?",
    "created_at": "2008-10-21T14:08:58Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25439",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:18'></a>
The upgrade to the newest version of jqueryui changed the default theme.  It would be very easy to change back, or to design a new theme (with different colors, etc.).

If there is enough people wanting it, I will include the old theme as the default theme.  I don't really have a preference, though I think I do like the old sliders better.  It was easier to feel like you were moving them to a precise value since they weren't so big.

Would it be enough to just change the slider image back to the old image?



---

archive/issue_comments_025440.json:
```json
{
    "body": "apply on top of the previous edit-...patch",
    "created_at": "2008-10-21T15:45:41Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25440",
    "user": "https://github.com/jasongrout"
}
```

apply on top of the previous edit-...patch



---

archive/attachments_004719.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "javascript-ajax-escaping.patch",
    "asset_url": "tarball://root/attachments/ticket4267/javascript-ajax-escaping.patch",
    "created_at": "2008-10-21T15:51:17Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket4267/javascript-ajax-escaping.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```



---

archive/issue_comments_025441.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Attachment:** [javascript-ajax-escaping.patch](https://github.com/sagemath/sage/files/ticket4267/javascript-ajax-escaping.patch)\n\nIf its easy to do I think we should keep the old theme, for consistency.",
    "created_at": "2008-10-21T15:51:17Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25441",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:19'></a>
**Attachment:** [javascript-ajax-escaping.patch](https://github.com/sagemath/sage/files/ticket4267/javascript-ajax-escaping.patch)

If its easy to do I think we should keep the old theme, for consistency.



---

archive/issue_events_024655.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/boothby",
    "created_at": "2008-10-21T18:42:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "rename": {
        "from": "[with patch and spkgs] Make javascript packages spkgs instead of part of the extcode repository",
        "to": "[with patch and spkgs, one positive review] Make javascript packages spkgs instead of part of the extcode repository"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24655"
}
```



---

archive/issue_comments_025442.json:
```json
{
    "body": "<a id='comment:20'></a>\nI'm gonna test the snot out of this later today.  I'll be happy to see my old ajax code go, but this needs to be heavily tested on every platform.",
    "created_at": "2008-10-21T18:42:30Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25442",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:20'></a>
I'm gonna test the snot out of this later today.  I'll be happy to see my old ajax code go, but this needs to be heavily tested on every platform.



---

archive/issue_comments_025443.json:
```json
{
    "body": "<a id='comment:21'></a>\nThere seems to be a problem inserting new cells in Safari after focus has shifted to and from another application.  Reloading the page fixes this but its a bug.",
    "created_at": "2008-10-21T18:52:39Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25443",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:21'></a>
There seems to be a problem inserting new cells in Safari after focus has shifted to and from another application.  Reloading the page fixes this but its a bug.



---

archive/issue_comments_025444.json:
```json
{
    "body": "<a id='comment:22'></a>\nThanks for the extensive testing!",
    "created_at": "2008-10-21T20:26:24Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25444",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:22'></a>
Thanks for the extensive testing!



---

archive/attachments_004720.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "flora.patch",
    "asset_url": "tarball://root/attachments/ticket4267/flora.patch",
    "created_at": "2008-10-22T00:15:32Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket4267/flora.patch",
    "user": "https://github.com/jasongrout"
}
```



---

archive/issue_comments_025445.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Attachment:** [flora.patch](https://github.com/sagemath/sage/files/ticket4267/flora.patch)\n\nThe flora.patch should be applied on top of the previous patches and switches the default theme back to flora (the old theme).  I've also updated the http://sage.math.washington.edu/home/jason/notebook/jqueryui-1.6r807svn.spkg to contain this theme (and I ported the modifications that we made to it as well).",
    "created_at": "2008-10-22T00:15:32Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25445",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:23'></a>
**Attachment:** [flora.patch](https://github.com/sagemath/sage/files/ticket4267/flora.patch)

The flora.patch should be applied on top of the previous patches and switches the default theme back to flora (the old theme).  I've also updated the http://sage.math.washington.edu/home/jason/notebook/jqueryui-1.6r807svn.spkg to contain this theme (and I ported the modifications that we made to it as well).



---

archive/issue_comments_025446.json:
```json
{
    "body": "<a id='comment:24'></a>\nOn the Mac SHIFT-ENTER and other keys stop working.",
    "created_at": "2008-10-31T03:38:02Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25446",
    "user": "https://trac.sagemath.org/admin/accounts/users/TimothyClemans"
}
```

<a id='comment:24'></a>
On the Mac SHIFT-ENTER and other keys stop working.



---

archive/issue_events_024656.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/TimothyClemans",
    "created_at": "2008-10-31T03:38:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "rename": {
        "from": "[with patch and spkgs, one positive review] Make javascript packages spkgs instead of part of the extcode repository",
        "to": "[with patch and spkgs] Make javascript packages spkgs instead of part of the extcode repository"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24656"
}
```



---

archive/issue_events_024657.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/TimothyClemans",
    "created_at": "2008-10-31T03:38:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24657"
}
```



---

archive/issue_events_024658.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/TimothyClemans",
    "created_at": "2008-10-31T03:38:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24658"
}
```



---

archive/issue_comments_025447.json:
```json
{
    "body": "<a id='comment:25'></a>\nI applied the extcode patch, edit-in-place-and-javascript-spkgs.patch, and flora.patch, and installed the jquery, jqueryui, jsmath, jsmath-image-fonts, and tinyMCE spkgs, all against 3.2.alpha2 on amd64 Ubuntu 8.10. I'm accessing the notebook using Firefox 3.0.3. First, the good news:\n\n* the tinyMCE stuff works well. I generally hate those sort of editing thingys, but shift-clicking for text entry and using tinyMCE works and is less annoying than I thought it would be.\n* `@interact` works well and seems a bit faster than before. I don't know if that's because of anything from this ticket, though.\n\nOkay, now for bad news. :)\n\n* If I start typing \"`plot(bess`\" into a cell and hit tab to complete, I get \"`plot%28bess`\"\n* If I type \"`plot(`\" and hit tab, I get \"`plot%3F`\".\n* I also sometimes see the problems that [mhampton reports](#comment%3A21) with inserting new cells.\n* I haven't figured out what does this, but frequently it gets stuck: there's the light green bar below a cell for something that's being evaluated, but there's no \\/\\/\\/ blinky in the title. I can't do anything at that point other than quit -- interrupting, restarting, etc don't have any effect.\n\nI tried with IE7 (in an XP virtual machine) and got the same tab-completion problems, but not the other problems.",
    "created_at": "2008-11-03T08:29:48Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25447",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:25'></a>
I applied the extcode patch, edit-in-place-and-javascript-spkgs.patch, and flora.patch, and installed the jquery, jqueryui, jsmath, jsmath-image-fonts, and tinyMCE spkgs, all against 3.2.alpha2 on amd64 Ubuntu 8.10. I'm accessing the notebook using Firefox 3.0.3. First, the good news:

* the tinyMCE stuff works well. I generally hate those sort of editing thingys, but shift-clicking for text entry and using tinyMCE works and is less annoying than I thought it would be.
* `@interact` works well and seems a bit faster than before. I don't know if that's because of anything from this ticket, though.

Okay, now for bad news. :)

* If I start typing "`plot(bess`" into a cell and hit tab to complete, I get "`plot%28bess`"
* If I type "`plot(`" and hit tab, I get "`plot%3F`".
* I also sometimes see the problems that [mhampton reports](#comment%3A21) with inserting new cells.
* I haven't figured out what does this, but frequently it gets stuck: there's the light green bar below a cell for something that's being evaluated, but there's no \/\/\/ blinky in the title. I can't do anything at that point other than quit -- interrupting, restarting, etc don't have any effect.

I tried with IE7 (in an XP virtual machine) and got the same tab-completion problems, but not the other problems.



---

archive/issue_comments_025448.json:
```json
{
    "body": "<a id='comment:26'></a>\nThanks.  The tab completion should be an easy fix (I think I already fixed it, but apparently somehow the update didn't make it to trac.)  As for the stuck problem, I have an idea, but not the time immediately to work on it.  I'll probably have more time later this week.\n\nThanks for testing!",
    "created_at": "2008-11-03T12:32:08Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25448",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:26'></a>
Thanks.  The tab completion should be an easy fix (I think I already fixed it, but apparently somehow the update didn't make it to trac.)  As for the stuck problem, I have an idea, but not the time immediately to work on it.  I'll probably have more time later this week.

Thanks for testing!



---

archive/issue_comments_025449.json:
```json
{
    "body": "<a id='comment:27'></a>\nI like the idea of this patch.  However, it claims to \"Make javascript packages spkgs\" -- but in addition to that, it touches a huge amount of non-package javascript, adds a new editor, etc.  It introduces a number of bugs which have proven very difficult to even attempt to fix.  Please factor out the new code and move it to different tickets.",
    "created_at": "2008-11-03T19:56:36Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25449",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:27'></a>
I like the idea of this patch.  However, it claims to "Make javascript packages spkgs" -- but in addition to that, it touches a huge amount of non-package javascript, adds a new editor, etc.  It introduces a number of bugs which have proven very difficult to even attempt to fix.  Please factor out the new code and move it to different tickets.



---

archive/issue_events_024659.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/boothby",
    "created_at": "2008-11-03T19:56:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "rename": {
        "from": "[with patch and spkgs] Make javascript packages spkgs instead of part of the extcode repository",
        "to": "[with patch and spkgs, negative review] Make javascript packages spkgs instead of part of the extcode repository"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24659"
}
```



---

archive/issue_comments_025450.json:
```json
{
    "body": "<a id='comment:28'></a>\nGood point. I originally had separate tickets, but the patches all got intertangled and mixed up.\n\nI think it might be easier to fix the bugs in the current code than to separate it out into several tickets again.  If I need to separate it out again, it will probably be at least several weeks before I can get it done.  If fixing the bugs turns out to be the things I think are happening I can probably have it done a lot sooner.",
    "created_at": "2008-11-03T20:20:10Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25450",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:28'></a>
Good point. I originally had separate tickets, but the patches all got intertangled and mixed up.

I think it might be easier to fix the bugs in the current code than to separate it out into several tickets again.  If I need to separate it out again, it will probably be at least several weeks before I can get it done.  If fixing the bugs turns out to be the things I think are happening I can probably have it done a lot sooner.



---

archive/issue_comments_025451.json:
```json
{
    "body": "<a id='comment:29'></a>\n> I think it might be easier to fix the bugs in the current code than to separate it out > into several tickets again.\n\n\nIt might be easier for you to fix the known bugs, but it won't be easier for Tom to review the result, especially the lack of a good testing framework for the notebook.  Patch bombs are bad, especially wrt the notebook.   I thus hope you can separate things out some more.  Maybe just do one easy thing now?\n\nWilliam",
    "created_at": "2008-11-04T23:23:46Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25451",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:29'></a>
> I think it might be easier to fix the bugs in the current code than to separate it out > into several tickets again.


It might be easier for you to fix the known bugs, but it won't be easier for Tom to review the result, especially the lack of a good testing framework for the notebook.  Patch bombs are bad, especially wrt the notebook.   I thus hope you can separate things out some more.  Maybe just do one easy thing now?

William



---

archive/issue_comments_025452.json:
```json
{
    "body": "<a id='comment:30'></a>\nAgain, good point.  I'll work on teasing out things one at a time here as I have time.",
    "created_at": "2008-11-05T00:33:49Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25452",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:30'></a>
Again, good point.  I'll work on teasing out things one at a time here as I have time.



---

archive/issue_comments_025453.json:
```json
{
    "body": "<a id='comment:31'></a>\n#4674 is also relevant here.",
    "created_at": "2008-12-02T16:06:57Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25453",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:31'></a>
#4674 is also relevant here.



---

archive/issue_comments_025454.json:
```json
{
    "body": "<a id='comment:32'></a>\nAs noted on #4674, this should be broken into four tickets:\n\n1. Make all the existing javascript code spkgs\n2. Various jquery-related cleanups of the javascript code\n3. Add TinyMCE as an (optional?) spkg\n4. Make the shift-click work (in-place wysiwyg editing).",
    "created_at": "2008-12-04T18:05:21Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25454",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:32'></a>
As noted on #4674, this should be broken into four tickets:

1. Make all the existing javascript code spkgs
2. Various jquery-related cleanups of the javascript code
3. Add TinyMCE as an (optional?) spkg
4. Make the shift-click work (in-place wysiwyg editing).



---

archive/issue_events_024660.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2008-12-04T18:05:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "rename": {
        "from": "[with patch and spkgs, negative review] Make javascript packages spkgs instead of part of the extcode repository",
        "to": "[with patch and spkgs] Make javascript packages spkgs instead of part of the extcode repository"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24660"
}
```



---

archive/issue_comments_025455.json:
```json
{
    "body": "**Changing assignee** from boothby to @jasongrout.",
    "created_at": "2008-12-04T18:05:21Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25455",
    "user": "https://github.com/jasongrout"
}
```

**Changing assignee** from boothby to @jasongrout.



---

archive/issue_events_024661.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2008-12-04T18:05:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24661"
}
```



---

archive/issue_comments_025456.json:
```json
{
    "body": "<a id='comment:33'></a>\nThis was split up into #4700, #4705, and #4705, so it is invalid as-is.",
    "created_at": "2008-12-05T01:23:15Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25456",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:33'></a>
This was split up into #4700, #4705, and #4705, so it is invalid as-is.



---

archive/issue_events_024662.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2008-12-05T01:23:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "invalid",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24662"
}
```



---

archive/issue_events_024663.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2008-12-05T01:23:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24663"
}
```



---

archive/issue_events_024664.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-01-19T08:16:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "rename": {
        "from": "[with patch and spkgs] Make javascript packages spkgs instead of part of the extcode repository",
        "to": "remove javascript code from extcode repository"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24664"
}
```



---

archive/issue_events_024665.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-01-19T08:16:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24665"
}
```



---

archive/issue_events_024666.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-01-19T08:16:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24666"
}
```



---

archive/issue_comments_025457.json:
```json
{
    "body": "<a id='comment:34'></a>\nOk, the patch \n\ntrac_4267_extcode-remove-javascript-packages.patch\n\nis still relevant and I am giving it a positive review.\n\nCheers,\n\nMichael",
    "created_at": "2009-01-19T08:16:05Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25457",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:34'></a>
Ok, the patch 

trac_4267_extcode-remove-javascript-packages.patch

is still relevant and I am giving it a positive review.

Cheers,

Michael



---

archive/issue_comments_025458.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n-Here are patches and spkgs to make most of the javascript applications we ship into spkgs instead of directories in the extcode repository.  This will facilitate updating these spkgs and makes things cleaner anyways.\n+The scopr of this ticket changed significantly over the lifetime of its existence. Note that only the last two comments are relevant. \n \n-I took the opportunity to upgrade each package to the lastest version while I was at it.  This affects the interact look and feel, since the new default theme for jqueryUI is different.  I chose a few colors and things, but of course, things are up for debate.  Let's not let bikeshedding get in the way of these patches, though; we can always make a follow-up patch that changes the theme very easily.\n+Cheers,\n+\n+Michael\n``````\n",
    "created_at": "2009-01-19T08:16:05Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25458",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
-Here are patches and spkgs to make most of the javascript applications we ship into spkgs instead of directories in the extcode repository.  This will facilitate updating these spkgs and makes things cleaner anyways.
+The scopr of this ticket changed significantly over the lifetime of its existence. Note that only the last two comments are relevant. 
 
-I took the opportunity to upgrade each package to the lastest version while I was at it.  This affects the interact look and feel, since the new default theme for jqueryUI is different.  I chose a few colors and things, but of course, things are up for debate.  Let's not let bikeshedding get in the way of these patches, though; we can always make a follow-up patch that changes the theme very easily.
+Cheers,
+
+Michael
``````




---

archive/issue_events_024667.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-01-19T08:16:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "milestone": "sage-3.2.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24667"
}
```



---

archive/issue_events_024668.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-01-19T08:16:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "milestone": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24668"
}
```



---

archive/issue_events_024669.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-01-19T08:16:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "label": "invalid",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24669"
}
```



---

archive/issue_comments_025459.json:
```json
{
    "body": "<a id='comment:35'></a>\nMerged trac_4267_extcode-remove-javascript-packages.patch in Sage 3.3.alpha0",
    "created_at": "2009-01-19T08:16:27Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25459",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:35'></a>
Merged trac_4267_extcode-remove-javascript-packages.patch in Sage 3.3.alpha0



---

archive/issue_events_024670.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-01-19T08:16:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4267#event-24670"
}
```



---

archive/issue_comments_025460.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The scopr of this ticket changed significantly over the lifetime of its existence. Note that only the last two comments are relevant. \n+The scope of this ticket changed significantly over the lifetime of its existence. Note that only the last two comments are relevant. \n \n Cheers,\n \n``````\n",
    "created_at": "2009-01-19T08:16:27Z",
    "issue": "https://github.com/sagemath/sage/issues/4267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4267#issuecomment-25460",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The scopr of this ticket changed significantly over the lifetime of its existence. Note that only the last two comments are relevant. 
+The scope of this ticket changed significantly over the lifetime of its existence. Note that only the last two comments are relevant. 
 
 Cheers,
 
``````

