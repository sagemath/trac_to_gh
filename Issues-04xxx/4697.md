# Issue 4697: change integration error message

archive/issues_004697.json:
```json
{
    "assignees": [],
    "body": "Fix the following instance by a trivial change to raising an exception.  This causes tons of confusion for (new) users, since there isn't any way to easily \"discover\" what to do.\n\n```\nOn Dec 4, 3:07 pm, \"William Stein\" <wst...@gmail.com> wrote:\n> Do you think it would be better if instead of\n>\n> sage: print integrate(integrate(f,y,x^3,x^0.5),y,0,1)\n> ... Is  x  positive or negative?\n>\n> one saw:\n> ... Is  x  positive or negative?  (Try using the assume command.)\n\nI think the latter is more intuitive; in fact, I would go as far as to\ndo something like this:\n\n ... Is x positive or negative? (Try the assume(x>0) command before\n integral evaluation)\n\nThanks,\n\n```\n\nAssignee: **@burcin**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4697_\n\n",
    "closed_at": "2009-01-29T01:17:30Z",
    "created_at": "2008-12-04T21:55:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "change integration error message",
    "type": "issue",
    "updated_at": "2009-01-29T01:17:30Z",
    "url": "https://github.com/sagemath/sage/issues/4697",
    "user": "https://github.com/williamstein"
}
```
Fix the following instance by a trivial change to raising an exception.  This causes tons of confusion for (new) users, since there isn't any way to easily "discover" what to do.

```
On Dec 4, 3:07 pm, "William Stein" <wst...@gmail.com> wrote:
> Do you think it would be better if instead of
>
> sage: print integrate(integrate(f,y,x^3,x^0.5),y,0,1)
> ... Is  x  positive or negative?
>
> one saw:
> ... Is  x  positive or negative?  (Try using the assume command.)

I think the latter is more intuitive; in fact, I would go as far as to
do something like this:

 ... Is x positive or negative? (Try the assume(x>0) command before
 integral evaluation)

Thanks,

```

Assignee: **@burcin**

_Issue created by migration from https://trac.sagemath.org/ticket/4697_





---

archive/issue_events_048156.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-12-04T21:55:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48156"
}
```



---

archive/issue_events_048157.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-12-04T21:55:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "component: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48157"
}
```



---

archive/issue_events_048158.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-12-04T21:55:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48158"
}
```



---

archive/issue_events_048159.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-12-04T21:55:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48159"
}
```



---

archive/issue_comments_029230.json:
```json
{
    "body": "Attachment: **[trac_4697.patch.gz](https://github.com/sagemath/sage/files/ticket4697/trac_4697.patch.gz)**\n\nBased on 3.3.alpha0",
    "created_at": "2009-01-29T00:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4697#issuecomment-29230",
    "user": "https://github.com/kcrisman"
}
```

Attachment: **[trac_4697.patch.gz](https://github.com/sagemath/sage/files/ticket4697/trac_4697.patch.gz)**

Based on 3.3.alpha0



---

archive/issue_events_048160.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-01-29T01:04:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "title_is": "change integration error message [with patch, needs review]",
    "title_was": "change integration error message",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48160"
}
```



---

archive/issue_comments_029231.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nThis patch improves the error message Sage sends along with the Maxima constraint request.  The message is rather longish, but here probably extreme clarity is best, based on the original reporter's point about new users.  Some doctests for the _expect_expr function are also added.\n\nThis passes testing interfaces/maxima.py, and should be okay on calculus.py (which I can't test because it always times out); I couldn't find any other references to this error message but I think I got them all.",
    "created_at": "2009-01-29T01:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4697#issuecomment-29231",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:1" align="right">Comment 1</div>

This patch improves the error message Sage sends along with the Maxima constraint request.  The message is rather longish, but here probably extreme clarity is best, based on the original reporter's point about new users.  Some doctests for the _expect_expr function are also added.

This passes testing interfaces/maxima.py, and should be okay on calculus.py (which I can't test because it always times out); I couldn't find any other references to this error message but I think I got them all.



---

archive/issue_comments_029232.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nWith that patch applied to my 3.3.alpha3 merge tree all doctests pass.\n\nCheers,\n\nMichael",
    "created_at": "2009-01-29T01:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4697#issuecomment-29232",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:2" align="right">Comment 2</div>

With that patch applied to my 3.3.alpha3 merge tree all doctests pass.

Cheers,

Michael



---

archive/issue_events_048161.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-29T01:14:15Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "title_is": "change integration error message",
    "title_was": "change integration error message [with patch, needs review]",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48161"
}
```



---

archive/issue_events_048162.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-29T01:14:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48162"
}
```



---

archive/issue_comments_029233.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThis was a positive review by the way :) - I just forgot to add it to the doctest comment. Nice docstring and doctesting by the way, too.\n\nCheers,\n\nMichael",
    "created_at": "2009-01-29T01:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4697#issuecomment-29233",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">Comment 3</div>

This was a positive review by the way :) - I just forgot to add it to the doctest comment. Nice docstring and doctesting by the way, too.

Cheers,

Michael



---

archive/issue_events_048163.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-29T01:16:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48163"
}
```



---

archive/issue_events_048164.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-29T01:16:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "milestone_number": null,
    "milestone_title": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48164"
}
```



---

archive/issue_events_048165.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-29T01:16:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48165"
}
```



---

archive/issue_events_048166.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-29T01:16:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48166"
}
```



---

archive/issue_events_048167.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-29T01:17:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48167"
}
```



---

archive/issue_events_048168.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-29T01:17:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4697#event-48168"
}
```



---

archive/issue_comments_029234.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nMerged in Sage 3.3.alpha3.\n\nCheers,\n\nMichael",
    "created_at": "2009-01-29T01:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4697",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4697#issuecomment-29234",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">Comment 4</div>

Merged in Sage 3.3.alpha3.

Cheers,

Michael
