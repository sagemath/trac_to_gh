# Issue 4177: Put Sage version in Notebook

archive/issues_004177.json:
```json
{
    "assignees": [
        "https://github.com/boothby"
    ],
    "body": "Under the \"Sage notebook\" on the upper left in the home page as well as in the individual worksheets, it might be nice to have the Sage version number of that installation in a small font, to remember - as well as to enhance bug reports coming from non-installing users.\n\nComponent: **notebook**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4177_\n\n",
    "closed_at": "2008-10-18T19:13:59Z",
    "created_at": "2008-09-23T18:18:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%20trivial%20/%205",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Put Sage version in Notebook",
    "type": "issue",
    "updated_at": "2008-10-18T19:13:59Z",
    "url": "https://github.com/sagemath/sage/issues/4177",
    "user": "https://github.com/kcrisman"
}
```
Under the "Sage notebook" on the upper left in the home page as well as in the individual worksheets, it might be nice to have the Sage version number of that installation in a small font, to remember - as well as to enhance bug reports coming from non-installing users.

Component: **notebook**

_Issue created by migration from https://trac.sagemath.org/ticket/4177_





---

archive/issue_events_046377.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2008-09-23T18:18:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "milestone_number": null,
    "milestone_title": "sage-3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46377"
}
```



---

archive/issue_events_046378.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2008-09-23T18:18:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "0000b0",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46378"
}
```



---

archive/issue_events_046379.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2008-09-23T18:18:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20trivial%20/%205",
    "label_color": "fff9e5",
    "label_name": "p: trivial / 5",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46379"
}
```



---

archive/issue_events_046380.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2008-09-23T18:18:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46380"
}
```



---

archive/issue_events_046381.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-09-23T18:18:17Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "subject": "https://github.com/kcrisman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46381"
}
```



---

archive/issue_comments_023749.json:
```json
{
    "body": "Attachment: **[nb-version-number.patch.gz](https://github.com/sagemath/sage/files/ticket4177/nb-version-number.patch.gz)**",
    "created_at": "2008-10-17T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4177#issuecomment-23749",
    "user": "https://github.com/kcrisman"
}
```

Attachment: **[nb-version-number.patch.gz](https://github.com/sagemath/sage/files/ticket4177/nb-version-number.patch.gz)**



---

archive/issue_comments_023750.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSince the word \"Notebook\" appears in slightly different height in Safari vs. Firefox, the placement looks better in Safari; even with that and using the smallest font size HTML supports it looks ok.",
    "created_at": "2008-10-17T19:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4177#issuecomment-23750",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:1" align="right">comment:1</div>

Since the word "Notebook" appears in slightly different height in Safari vs. Firefox, the placement looks better in Safari; even with that and using the smallest font size HTML supports it looks ok.



---

archive/issue_events_046382.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2008-10-17T19:05:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46382"
}
```



---

archive/issue_events_046383.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2008-10-17T20:56:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46383"
}
```



---

archive/issue_events_046384.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2008-10-17T20:56:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46384"
}
```



---

archive/issue_comments_023751.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nLooks good to me, both the code and the appearance in Firefox on linux. One style question: is it any better to put the line\n\n```\nfrom   sage.version        import version\n```\nin the code for `html_banner` instead of at the top of the file? I'm a Python novice, so I have no idea which way is better.\n\nI'll give it a positive review regardless of the location of the `import` statement.",
    "created_at": "2008-10-17T20:56:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4177#issuecomment-23751",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">comment:2</div>

Looks good to me, both the code and the appearance in Firefox on linux. One style question: is it any better to put the line

```
from   sage.version        import version
```
in the code for `html_banner` instead of at the top of the file? I'm a Python novice, so I have no idea which way is better.

I'll give it a positive review regardless of the location of the `import` statement.



---

archive/issue_comments_023752.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThis patch breaks the twist.py doctest:\n\n```\nsage -t -long devel/sage/sage/server/notebook/twist.py      \n**********************************************************************\nFile \"/scratch/mabshoff/release-cycle/sage-3.2.alpha0/tmp/twist.py\", line 1505:\n    sage: E.render(None)\nExpected:\n    <twisted.web2.http.Response code=200, streamlen=603>\nGot:\n    <twisted.web2.http.Response code=200, streamlen=701>\n**********************************************************************\n```\nThe fix is trivial, so I will post a reviewer patch in a second.\n\nCheers,\n\nMichael",
    "created_at": "2008-10-18T19:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4177#issuecomment-23752",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">comment:3</div>

This patch breaks the twist.py doctest:

```
sage -t -long devel/sage/sage/server/notebook/twist.py      
**********************************************************************
File "/scratch/mabshoff/release-cycle/sage-3.2.alpha0/tmp/twist.py", line 1505:
    sage: E.render(None)
Expected:
    <twisted.web2.http.Response code=200, streamlen=603>
Got:
    <twisted.web2.http.Response code=200, streamlen=701>
**********************************************************************
```
The fix is trivial, so I will post a reviewer patch in a second.

Cheers,

Michael



---

archive/issue_comments_023753.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[trac_4177_reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket4177/trac_4177_reviewer.patch.gz)**\n\nThe reviewer patch \"...\" the length since it will otherwise break from version to version.\n\nCheers,\n\nMichael",
    "created_at": "2008-10-18T19:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4177#issuecomment-23753",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[trac_4177_reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket4177/trac_4177_reviewer.patch.gz)**

The reviewer patch "..." the length since it will otherwise break from version to version.

Cheers,

Michael



---

archive/issue_events_046385.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-18T19:13:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46385"
}
```



---

archive/issue_events_046386.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-18T19:13:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4177#event-46386"
}
```



---

archive/issue_comments_023754.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nMerged in Sage 3.2.alpha0",
    "created_at": "2008-10-18T19:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4177#issuecomment-23754",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:5" align="right">comment:5</div>

Merged in Sage 3.2.alpha0
