# Issue 4371: Add support for lazy attributes via a decorator

archive/issues_004371.json:
```json
{
    "body": "The lazy-attribute-...-nt patch on the sage-combinat patch servers is a first implementation of lazy attributes (see the doc in the patch).\nComments and alternative implementations welcome! See the current caveats in the doc\n\nCheers,\n\t\t\t\t\t\t\t\tNicolas\n\n**Assignee:** @nthiery\n\nIssue created by migration from https://trac.sagemath.org/ticket/4371\n\n",
    "closed_at": "2009-02-14T02:29:51Z",
    "created_at": "2008-10-26T13:30:55Z",
    "labels": [
        "component: misc",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.3",
    "title": "Add support for lazy attributes via a decorator",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4371",
    "user": "https://github.com/nthiery"
}
```
The lazy-attribute-...-nt patch on the sage-combinat patch servers is a first implementation of lazy attributes (see the doc in the patch).
Comments and alternative implementations welcome! See the current caveats in the doc

Cheers,
								Nicolas

**Assignee:** @nthiery

Issue created by migration from https://trac.sagemath.org/ticket/4371





---

archive/issue_comments_032995.json:
```json
{
    "body": "Patch",
    "created_at": "2008-10-26T13:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-32995",
    "user": "https://github.com/nthiery"
}
```

Patch



---

archive/issue_events_013028.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "rename": {
        "from": "Add support for lazy attributes via a decorator",
        "to": "Add support for lazy attributes via a decorator (with preliminary patch)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-13028"
}
```



---

archive/attachments_004693.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "lazy_attributes-4371-nt.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4371/lazy_attributes-4371-nt.patch",
    "created_at": "2008-10-26T13:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/nthiery"
}
```



---

archive/issue_comments_032996.json:
```json
{
    "body": "<a id='comment:1'></a>\nIn case I did not make myself clear: this patch is *not* ready for insertion in sage.\nIt's more of a request for comments!",
    "created_at": "2008-10-26T13:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-32996",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:1'></a>
In case I did not make myself clear: this patch is *not* ready for insertion in sage.
It's more of a request for comments!



---

archive/issue_comments_032997.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [nthiery](#comment%3A1):\n> In case I did not make myself clear: this patch is *not* ready for insertion in sage.\n> It's more of a request for comments!\n\n\n\nHere are some possible fixes for improving the documentation of the patch **lazy_attributes-4371-nt.patch**:\n\n\n\n1.\n\n```\n-easilly override a given attribute; you don't need to call the\n+easily override a given attribute; you don't need to call the\n```\n\n\n\n2.\n\n```\n-the internal dictionnary of the object:\n+the internal dictionary of the object:\n```\n\n\nOtherwise, the doc looks OK to me.",
    "created_at": "2008-10-26T23:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-32997",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:2'></a>
Replying to [nthiery](#comment%3A1):
> In case I did not make myself clear: this patch is *not* ready for insertion in sage.
> It's more of a request for comments!



Here are some possible fixes for improving the documentation of the patch **lazy_attributes-4371-nt.patch**:



1.

```
-easilly override a given attribute; you don't need to call the
+easily override a given attribute; you don't need to call the
```



2.

```
-the internal dictionnary of the object:
+the internal dictionary of the object:
```


Otherwise, the doc looks OK to me.



---

archive/issue_comments_032998.json:
```json
{
    "body": "<a id='comment:3'></a>\nFixes applied. Thanks. Lazy attributes now work well with new style classes:\n\nhttp://sage.math.washington.edu:2144/file/03b4130fb25d/lazy_attributes-4371-nt.patch",
    "created_at": "2008-10-27T10:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-32998",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>
Fixes applied. Thanks. Lazy attributes now work well with new style classes:

http://sage.math.washington.edu:2144/file/03b4130fb25d/lazy_attributes-4371-nt.patch



---

archive/issue_comments_032999.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [nthiery](#comment%3A3):\n> Fixes applied. Thanks. Lazy attributes now work well with new style classes:\n> \n> http://sage.math.washington.edu:2144/file/03b4130fb25d/lazy_attributes-4371-nt.patch\n\n\n\nFor your new patch at the above URL, here's a fix to improve your documentation:\n\n```\n-Invoking Descriptors in the python reference manual).\n+Invoking Descriptors in the Python reference manual).\n```",
    "created_at": "2008-10-27T11:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-32999",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:4'></a>
Replying to [nthiery](#comment%3A3):
> Fixes applied. Thanks. Lazy attributes now work well with new style classes:
> 
> http://sage.math.washington.edu:2144/file/03b4130fb25d/lazy_attributes-4371-nt.patch



For your new patch at the above URL, here's a fix to improve your documentation:

```
-Invoking Descriptors in the python reference manual).
+Invoking Descriptors in the Python reference manual).
```



---

archive/issue_events_013029.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "rename": {
        "from": "Add support for lazy attributes via a decorator (with preliminary patch)",
        "to": "Add support for lazy attributes via a decorator"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-13029"
}
```



---

archive/issue_comments_033000.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2008-10-30T17:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33000",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_033001.json:
```json
{
    "body": "<a id='comment:5'></a>\nNicolas,\n\nshould this patch be reviewed?\n\nCheers,\n\nMichael",
    "created_at": "2008-10-30T17:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33001",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:5'></a>
Nicolas,

should this patch be reviewed?

Cheers,

Michael



---

archive/issue_comments_033002.json:
```json
{
    "body": "**Changing status** from new to assigned.",
    "created_at": "2008-11-09T21:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33002",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from new to assigned.



---

archive/issue_comments_033003.json:
```json
{
    "body": "**Changing assignee** from cwitty to @nthiery.",
    "created_at": "2008-11-09T21:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33003",
    "user": "https://github.com/nthiery"
}
```

**Changing assignee** from cwitty to @nthiery.



---

archive/issue_comments_033004.json:
```json
{
    "body": "<a id='comment:6'></a>\nComments on it are more than welcome (in particular for the hasattr feature).\nNo need to waste time on a complete final review though.\n\nThanks,\n\t\t\tNicolas",
    "created_at": "2008-11-09T21:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33004",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>
Comments on it are more than welcome (in particular for the hasattr feature).
No need to waste time on a complete final review though.

Thanks,
			Nicolas



---

archive/issue_events_013030.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "rename": {
        "from": "Add support for lazy attributes via a decorator",
        "to": "[not ready for review] Add support for lazy attributes via a decorator"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-13030"
}
```



---

archive/issue_comments_033005.json:
```json
{
    "body": "<a id='comment:8'></a>\nReady for review.\nNot all desired features are implemented, but we need the bulk for upcoming patches.",
    "created_at": "2009-02-13T16:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33005",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>
Ready for review.
Not all desired features are implemented, but we need the bulk for upcoming patches.



---

archive/issue_events_013031.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "rename": {
        "from": "[not ready for review] Add support for lazy attributes via a decorator",
        "to": "Add support for lazy attributes via a decorator"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-13031"
}
```



---

archive/issue_comments_033006.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-02-13T16:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33006",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_004694.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "lazy_attributes-4371-nt.2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4371/lazy_attributes-4371-nt.2.patch",
    "created_at": "2009-02-13T16:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/nthiery"
}
```



---

archive/issue_comments_033007.json:
```json
{
    "body": "",
    "created_at": "2009-02-13T16:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33007",
    "user": "https://github.com/nthiery"
}
```





---

archive/issue_events_013032.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-02-13T23:33:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "milestone": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-13032"
}
```



---

archive/issue_comments_033008.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-02-14T00:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33008",
    "user": "https://github.com/rlmill"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_033009.json:
```json
{
    "body": "<a id='comment:11'></a>\nApply `lazy_attributes-4371-nt.2.patch` only.",
    "created_at": "2009-02-14T00:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33009",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:11'></a>
Apply `lazy_attributes-4371-nt.2.patch` only.



---

archive/issue_comments_033010.json:
```json
{
    "body": "<a id='comment:12'></a>\nFor the record note that \n\n* `__init___`\n* `__get__`\n\ndo not have doctests, but this will not stop the merge in this case :)\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T02:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33010",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:12'></a>
For the record note that 

* `__init___`
* `__get__`

do not have doctests, but this will not stop the merge in this case :)

Cheers,

Michael



---

archive/issue_comments_033011.json:
```json
{
    "body": "<a id='comment:13'></a>\nMerged lazy_attributes-4371-nt.2.patch in Sage 3.3.rc1.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T02:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33011",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:13'></a>
Merged lazy_attributes-4371-nt.2.patch in Sage 3.3.rc1.

Cheers,

Michael



---

archive/issue_events_013033.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-02-14T02:29:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-13033"
}
```



---

archive/issue_comments_033012.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks Michael and Robert.\n\nMichael: could you please fold the patch into sage-3.3 on the sage-combinat patch server?\n\nThanks!",
    "created_at": "2009-02-14T18:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-33012",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:14'></a>
Thanks Michael and Robert.

Michael: could you please fold the patch into sage-3.3 on the sage-combinat patch server?

Thanks!
