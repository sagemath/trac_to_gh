# Issue 4371: Add support for lazy attributes via a decorator

archive/issues_004371.json:
```json
{
    "body": "The lazy-attribute-...-nt patch on the sage-combinat patch servers is a first implementation of lazy attributes (see the doc in the patch).\nComments and alternative implementations welcome! See the current caveats in the doc\n\nCheers,\n\t\t\t\t\t\t\t\tNicolas\n\n**Assignee:** @nthiery\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/4371\n\n",
    "closed_at": "2009-02-14T02:29:51Z",
    "created_at": "2008-10-26T13:30:55Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.3",
    "title": "Add support for lazy attributes via a decorator",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4371",
    "user": "https://github.com/nthiery"
}
```
The lazy-attribute-...-nt patch on the sage-combinat patch servers is a first implementation of lazy attributes (see the doc in the patch).
Comments and alternative implementations welcome! See the current caveats in the doc

Cheers,
								Nicolas

**Assignee:** @nthiery

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/4371





---

archive/issue_comments_037616.json:
```json
{
    "body": "Patch",
    "created_at": "2008-10-26T13:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37616",
    "user": "https://github.com/nthiery"
}
```

Patch



---

archive/issue_events_012926.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "rename": {
        "from": "Add support for lazy attributes via a decorator",
        "to": "Add support for lazy attributes via a decorator (with preliminary patch)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-12926"
}
```



---

archive/issue_comments_037617.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [lazy_attributes-4371-nt.patch](tarball://root/attachments/some-uuid/ticket4371/lazy_attributes-4371-nt.patch) by @nthiery created at 2008-10-26 13:35:59\n\nIn case I did not make myself clear: this patch is *not* ready for insertion in sage.\nIt's more of a request for comments!",
    "created_at": "2008-10-26T13:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37617",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:1'></a>
Attachment [lazy_attributes-4371-nt.patch](tarball://root/attachments/some-uuid/ticket4371/lazy_attributes-4371-nt.patch) by @nthiery created at 2008-10-26 13:35:59

In case I did not make myself clear: this patch is *not* ready for insertion in sage.
It's more of a request for comments!



---

archive/issue_comments_037618.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [nthiery](#comment%3A1):\n> In case I did not make myself clear: this patch is *not* ready for insertion in sage.\n> It's more of a request for comments!\n\n\n\nHere are some possible fixes for improving the documentation of the patch **lazy_attributes-4371-nt.patch**:\n\n\n\n1.\n\n```\n-easilly override a given attribute; you don't need to call the\n+easily override a given attribute; you don't need to call the\n```\n\n\n\n2.\n\n```\n-the internal dictionnary of the object:\n+the internal dictionary of the object:\n```\n\n\nOtherwise, the doc looks OK to me.",
    "created_at": "2008-10-26T23:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37618",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:2'></a>
Replying to [nthiery](#comment%3A1):
> In case I did not make myself clear: this patch is *not* ready for insertion in sage.
> It's more of a request for comments!



Here are some possible fixes for improving the documentation of the patch **lazy_attributes-4371-nt.patch**:



1.

```
-easilly override a given attribute; you don't need to call the
+easily override a given attribute; you don't need to call the
```



2.

```
-the internal dictionnary of the object:
+the internal dictionary of the object:
```


Otherwise, the doc looks OK to me.



---

archive/issue_comments_037619.json:
```json
{
    "body": "<a id='comment:3'></a>\nFixes applied. Thanks. Lazy attributes now work well with new style classes:\n\nhttp://sage.math.washington.edu:2144/file/03b4130fb25d/lazy_attributes-4371-nt.patch",
    "created_at": "2008-10-27T10:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37619",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>
Fixes applied. Thanks. Lazy attributes now work well with new style classes:

http://sage.math.washington.edu:2144/file/03b4130fb25d/lazy_attributes-4371-nt.patch



---

archive/issue_comments_037620.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [nthiery](#comment%3A3):\n> Fixes applied. Thanks. Lazy attributes now work well with new style classes:\n> \n> http://sage.math.washington.edu:2144/file/03b4130fb25d/lazy_attributes-4371-nt.patch\n\n\n\nFor your new patch at the above URL, here's a fix to improve your documentation:\n\n```\n-Invoking Descriptors in the python reference manual).\n+Invoking Descriptors in the Python reference manual).\n```",
    "created_at": "2008-10-27T11:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37620",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:4'></a>
Replying to [nthiery](#comment%3A3):
> Fixes applied. Thanks. Lazy attributes now work well with new style classes:
> 
> http://sage.math.washington.edu:2144/file/03b4130fb25d/lazy_attributes-4371-nt.patch



For your new patch at the above URL, here's a fix to improve your documentation:

```
-Invoking Descriptors in the python reference manual).
+Invoking Descriptors in the Python reference manual).
```



---

archive/issue_events_012927.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "rename": {
        "from": "Add support for lazy attributes via a decorator (with preliminary patch)",
        "to": "Add support for lazy attributes via a decorator"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-12927"
}
```



---

archive/issue_comments_037621.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2008-10-30T17:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37621",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_037622.json:
```json
{
    "body": "<a id='comment:5'></a>\nNicolas,\n\nshould this patch be reviewed?\n\nCheers,\n\nMichael",
    "created_at": "2008-10-30T17:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37622",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:5'></a>
Nicolas,

should this patch be reviewed?

Cheers,

Michael



---

archive/issue_comments_037623.json:
```json
{
    "body": "**Changing status** from new to assigned.",
    "created_at": "2008-11-09T21:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37623",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from new to assigned.



---

archive/issue_comments_037624.json:
```json
{
    "body": "**Changing assignee** from cwitty to @nthiery.",
    "created_at": "2008-11-09T21:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37624",
    "user": "https://github.com/nthiery"
}
```

**Changing assignee** from cwitty to @nthiery.



---

archive/issue_comments_037625.json:
```json
{
    "body": "<a id='comment:6'></a>\nComments on it are more than welcome (in particular for the hasattr feature).\nNo need to waste time on a complete final review though.\n\nThanks,\n\t\t\tNicolas",
    "created_at": "2008-11-09T21:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37625",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>
Comments on it are more than welcome (in particular for the hasattr feature).
No need to waste time on a complete final review though.

Thanks,
			Nicolas



---

archive/issue_events_012928.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "rename": {
        "from": "Add support for lazy attributes via a decorator",
        "to": "[not ready for review] Add support for lazy attributes via a decorator"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-12928"
}
```



---

archive/issue_comments_037626.json:
```json
{
    "body": "<a id='comment:8'></a>\nReady for review.\nNot all desired features are implemented, but we need the bulk for upcoming patches.",
    "created_at": "2009-02-13T16:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37626",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>
Ready for review.
Not all desired features are implemented, but we need the bulk for upcoming patches.



---

archive/issue_events_012929.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "rename": {
        "from": "[not ready for review] Add support for lazy attributes via a decorator",
        "to": "Add support for lazy attributes via a decorator"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-12929"
}
```



---

archive/issue_comments_037627.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-02-13T16:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37627",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_037628.json:
```json
{
    "body": "Attachment [lazy_attributes-4371-nt.2.patch](tarball://root/attachments/some-uuid/ticket4371/lazy_attributes-4371-nt.2.patch) by @nthiery created at 2009-02-13 16:12:26",
    "created_at": "2009-02-13T16:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37628",
    "user": "https://github.com/nthiery"
}
```

Attachment [lazy_attributes-4371-nt.2.patch](tarball://root/attachments/some-uuid/ticket4371/lazy_attributes-4371-nt.2.patch) by @nthiery created at 2009-02-13 16:12:26



---

archive/issue_events_012930.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-02-13T23:33:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "milestone": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-12930"
}
```



---

archive/issue_comments_037629.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-02-14T00:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37629",
    "user": "https://github.com/rlmill"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_037630.json:
```json
{
    "body": "<a id='comment:11'></a>\nApply `lazy_attributes-4371-nt.2.patch` only.",
    "created_at": "2009-02-14T00:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37630",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:11'></a>
Apply `lazy_attributes-4371-nt.2.patch` only.



---

archive/issue_comments_037631.json:
```json
{
    "body": "<a id='comment:12'></a>\nFor the record note that \n\n* `__init___`\n* `__get__`\n\ndo not have doctests, but this will not stop the merge in this case :)\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T02:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37631",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:12'></a>
For the record note that 

* `__init___`
* `__get__`

do not have doctests, but this will not stop the merge in this case :)

Cheers,

Michael



---

archive/issue_comments_037632.json:
```json
{
    "body": "<a id='comment:13'></a>\nMerged lazy_attributes-4371-nt.2.patch in Sage 3.3.rc1.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T02:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37632",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:13'></a>
Merged lazy_attributes-4371-nt.2.patch in Sage 3.3.rc1.

Cheers,

Michael



---

archive/issue_events_012931.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-02-14T02:29:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4371#event-12931"
}
```



---

archive/issue_comments_037633.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2009-02-14T02:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37633",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Resolution:** fixed



---

archive/issue_comments_037634.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks Michael and Robert.\n\nMichael: could you please fold the patch into sage-3.3 on the sage-combinat patch server?\n\nThanks!",
    "created_at": "2009-02-14T18:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4371#issuecomment-37634",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:14'></a>
Thanks Michael and Robert.

Michael: could you please fold the patch into sage-3.3 on the sage-combinat patch server?

Thanks!
