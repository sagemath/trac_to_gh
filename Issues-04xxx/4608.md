# Issue 4608: roots method broken for root system lattices

archive/issues_004608.json:
```json
{
    "body": "This works:\n\n```\nsage: R = RootSystem(['A',2])\nsage: R.ambient_lattice()\nAmbient lattice of the Root system of type ['A', 2]\nsage: R.ambient_lattice().roots()\n[(1, -1, 0), (1, 0, -1), (0, 1, -1), (-1, 1, 0), (-1, 0, 1), (0, -1, 1)]\nsage: \n```\nBut this method does not work for any of the other associated lattices.\n\n```\nsage: R = RootSystem(['A',2])\nsage: R.coroot_lattice().roots()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'RootSpace' object has no attribute 'positive_roots'\nsage: R.coweight_lattice().roots()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'WeightSpace' object has no attribute 'positive_roots'\nsage: R.root_lattice().roots()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'RootSpace' object has no attribute 'positive_roots'\nsage: R.weight_lattice().roots()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'WeightSpace' object has no attribute 'positive_roots'\n```\n\n\n\nAssignee: @hivert\n\nCC:  sage-combinat\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/4608\n\n",
    "closed_at": "2010-04-30T16:25:35Z",
    "created_at": "2008-11-25T00:33:55Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.4.1",
    "title": "roots method broken for root system lattices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4608",
    "user": "https://github.com/saliola"
}
```
This works:

```
sage: R = RootSystem(['A',2])
sage: R.ambient_lattice()
Ambient lattice of the Root system of type ['A', 2]
sage: R.ambient_lattice().roots()
[(1, -1, 0), (1, 0, -1), (0, 1, -1), (-1, 1, 0), (-1, 0, 1), (0, -1, 1)]
sage: 
```
But this method does not work for any of the other associated lattices.

```
sage: R = RootSystem(['A',2])
sage: R.coroot_lattice().roots()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'RootSpace' object has no attribute 'positive_roots'
sage: R.coweight_lattice().roots()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'WeightSpace' object has no attribute 'positive_roots'
sage: R.root_lattice().roots()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'RootSpace' object has no attribute 'positive_roots'
sage: R.weight_lattice().roots()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'WeightSpace' object has no attribute 'positive_roots'
```



Assignee: @hivert

CC:  sage-combinat

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/4608





---

archive/issue_comments_037532.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2010-04-16T10:31:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4608",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4608#issuecomment-37532",
    "user": "https://github.com/hivert"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_037533.json:
```json
{
    "body": "<a id='comment:2'></a>This ticket should be closed. The issues is now fixed:\n\n```\n----------------------------------------------------------------------\n----------------------------------------------------------------------\nLoading Sage library. Current Mercurial branch is: combinat\nsage: R = RootSystem(['A',2])\nsage: R.coroot_lattice().roots()\n[alphacheck[1], alphacheck[2], alphacheck[1] + alphacheck[2], -alphacheck[1], -alphacheck[2], -alphacheck[1] - alphacheck[2]]\nsage: R.coweight_lattice().roots()\n[-Lambdacheck[1] + 2*Lambdacheck[2], Lambdacheck[1] + Lambdacheck[2], 2*Lambdacheck[1] - Lambdacheck[2], Lambdacheck[1] - 2*Lambdacheck[2], -Lambdacheck[1] - Lambdacheck[2], -2*Lambdacheck[1] + Lambdacheck[2]]\nsage: R.root_lattice().roots()\n[alpha[2], alpha[1], alpha[1] + alpha[2], -alpha[2], -alpha[1], -alpha[1] - alpha[2]]\nsage: R.weight_lattice().roots()\n[-Lambda[1] + 2*Lambda[2], Lambda[1] + Lambda[2], 2*Lambda[1] - Lambda[2], Lambda[1] - 2*Lambda[2], -Lambda[1] - Lambda[2], -2*Lambda[1] + Lambda[2]]\n```\n| Sage Version 4.3.4, Release Date: 2010-03-19                       |\n| Type notebook() for the GUI, and license() for information.        |\nFlorent",
    "created_at": "2010-04-16T10:31:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4608",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4608#issuecomment-37533",
    "user": "https://github.com/hivert"
}
```

<a id='comment:2'></a>This ticket should be closed. The issues is now fixed:

```
----------------------------------------------------------------------
----------------------------------------------------------------------
Loading Sage library. Current Mercurial branch is: combinat
sage: R = RootSystem(['A',2])
sage: R.coroot_lattice().roots()
[alphacheck[1], alphacheck[2], alphacheck[1] + alphacheck[2], -alphacheck[1], -alphacheck[2], -alphacheck[1] - alphacheck[2]]
sage: R.coweight_lattice().roots()
[-Lambdacheck[1] + 2*Lambdacheck[2], Lambdacheck[1] + Lambdacheck[2], 2*Lambdacheck[1] - Lambdacheck[2], Lambdacheck[1] - 2*Lambdacheck[2], -Lambdacheck[1] - Lambdacheck[2], -2*Lambdacheck[1] + Lambdacheck[2]]
sage: R.root_lattice().roots()
[alpha[2], alpha[1], alpha[1] + alpha[2], -alpha[2], -alpha[1], -alpha[1] - alpha[2]]
sage: R.weight_lattice().roots()
[-Lambda[1] + 2*Lambda[2], Lambda[1] + Lambda[2], 2*Lambda[1] - Lambda[2], Lambda[1] - 2*Lambda[2], -Lambda[1] - Lambda[2], -2*Lambda[1] + Lambda[2]]
```
| Sage Version 4.3.4, Release Date: 2010-03-19                       |
| Type notebook() for the GUI, and license() for information.        |
Florent



---

archive/issue_comments_037534.json:
```json
{
    "body": "Changing assignee from @mwhansen to @hivert.",
    "created_at": "2010-04-16T10:31:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4608",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4608#issuecomment-37534",
    "user": "https://github.com/hivert"
}
```

Changing assignee from @mwhansen to @hivert.



---

archive/issue_comments_037535.json:
```json
{
    "body": "<a id='comment:3'></a>It works now:\n\n```sh\n[mvngu@sage graphs]$ sage\n----------------------------------------------------------------------\n----------------------------------------------------------------------\nsage: R = RootSystem(['A',2])\nsage: R.ambient_lattice()\nAmbient lattice of the Root system of type ['A', 2]\nsage: R.ambient_lattice().roots()\n[(1, -1, 0), (1, 0, -1), (0, 1, -1), (-1, 1, 0), (-1, 0, 1), (0, -1, 1)]\nsage: R = RootSystem(['A',2])\nsage: R.coroot_lattice().roots()\n[alphacheck[1], alphacheck[2], alphacheck[1] + alphacheck[2], -alphacheck[1], -alphacheck[2], -alphacheck[1] - alphacheck[2]]\nsage: R.coweight_lattice().roots()\n[-Lambdacheck[1] + 2*Lambdacheck[2], Lambdacheck[1] + Lambdacheck[2], 2*Lambdacheck[1] - Lambdacheck[2], Lambdacheck[1] - 2*Lambdacheck[2], -Lambdacheck[1] - Lambdacheck[2], -2*Lambdacheck[1] + Lambdacheck[2]]\nsage: R.root_lattice().roots()\n[alpha[2], alpha[1], alpha[1] + alpha[2], -alpha[2], -alpha[1], -alpha[1] - alpha[2]]\nsage: \nsage: R.weight_lattice().roots()\n[-Lambda[1] + 2*Lambda[2], Lambda[1] + Lambda[2], 2*Lambda[1] - Lambda[2], Lambda[1] - 2*Lambda[2], -Lambda[1] - Lambda[2], -2*Lambda[1] + Lambda[2]]\n```",
    "created_at": "2010-04-30T16:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4608",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4608#issuecomment-37535",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:3'></a>It works now:

```sh
[mvngu@sage graphs]$ sage
----------------------------------------------------------------------
----------------------------------------------------------------------
sage: R = RootSystem(['A',2])
sage: R.ambient_lattice()
Ambient lattice of the Root system of type ['A', 2]
sage: R.ambient_lattice().roots()
[(1, -1, 0), (1, 0, -1), (0, 1, -1), (-1, 1, 0), (-1, 0, 1), (0, -1, 1)]
sage: R = RootSystem(['A',2])
sage: R.coroot_lattice().roots()
[alphacheck[1], alphacheck[2], alphacheck[1] + alphacheck[2], -alphacheck[1], -alphacheck[2], -alphacheck[1] - alphacheck[2]]
sage: R.coweight_lattice().roots()
[-Lambdacheck[1] + 2*Lambdacheck[2], Lambdacheck[1] + Lambdacheck[2], 2*Lambdacheck[1] - Lambdacheck[2], Lambdacheck[1] - 2*Lambdacheck[2], -Lambdacheck[1] - Lambdacheck[2], -2*Lambdacheck[1] + Lambdacheck[2]]
sage: R.root_lattice().roots()
[alpha[2], alpha[1], alpha[1] + alpha[2], -alpha[2], -alpha[1], -alpha[1] - alpha[2]]
sage: 
sage: R.weight_lattice().roots()
[-Lambda[1] + 2*Lambda[2], Lambda[1] + Lambda[2], 2*Lambda[1] - Lambda[2], Lambda[1] - 2*Lambda[2], -Lambda[1] - Lambda[2], -2*Lambda[1] + Lambda[2]]
```



---

archive/issue_comments_037536.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-04-30T16:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4608",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4608#issuecomment-37536",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution: fixed



---

archive/issue_events_010476.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-04-30T16:25:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4608",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4608#event-10476"
}
```



---

archive/issue_comments_037537.json:
```json
{
    "body": "<a id='comment:4'></a>Close as fixed by #4326:\n\n```\n09:22 < hivert> mvngu: this was fixed by #4326: Root systems: refactoring and \n                improvements\n09:23 < hivert> And some similar doctests are performed. So I don't think more \n                work is need on this one. \n09:24 < hivert> I should have guessed ! #4326 is a huge patch with no less than \n                6 authors :-)\n09:24 < hivert> Please close the ticket.\n```",
    "created_at": "2010-04-30T16:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4608",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4608#issuecomment-37537",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:4'></a>Close as fixed by #4326:

```
09:22 < hivert> mvngu: this was fixed by #4326: Root systems: refactoring and 
                improvements
09:23 < hivert> And some similar doctests are performed. So I don't think more 
                work is need on this one. 
09:24 < hivert> I should have guessed ! #4326 is a huge patch with no less than 
                6 authors :-)
09:24 < hivert> Please close the ticket.
```
