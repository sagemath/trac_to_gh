# Issue 4327: Refactor and extend root systems plots

archive/issues_004327.json:
```json
{
    "body": "The attached patch refactors in depth the root sytem plotting facilities of Sage.\nIn particular it contains all the features provided in MuPAD-Combinat and many more.\n\nSome of those features came up during discussions with Reda Chaibi, Arthur Lubovski and Christopher Hanusa. Thanks to them!\n\nSee: http://wiki.sagemath.org/combinat/CoolPictures?action=AttachFile&do=get&target=root-system-plots.pdf for a (slightly outdated) version of the enclosed tutorial with all the pictures shown. \n\nAssignee: @mwhansen\n\nCC:  sage-combinat alubovsky\n\nReviewer: Nicolas M. Thi\u00e9ry, Nicolas Borie, Travis Scrimshaw\n\nAuthor: Nicolas Borie, Nicolas M. Thi\u00e9ry\n\nMerged: sage-5.10.beta4\n\nDependencies: #14175, #14176, #14177, #2023\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/4327\n\n",
    "closed_at": "2013-05-17T06:33:19Z",
    "created_at": "2008-10-20T08:40:33Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Refactor and extend root systems plots",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4327",
    "user": "https://github.com/nthiery"
}
```
The attached patch refactors in depth the root sytem plotting facilities of Sage.
In particular it contains all the features provided in MuPAD-Combinat and many more.

Some of those features came up during discussions with Reda Chaibi, Arthur Lubovski and Christopher Hanusa. Thanks to them!

See: http://wiki.sagemath.org/combinat/CoolPictures?action=AttachFile&do=get&target=root-system-plots.pdf for a (slightly outdated) version of the enclosed tutorial with all the pictures shown. 

Assignee: @mwhansen

CC:  sage-combinat alubovsky

Reviewer: Nicolas M. Thiéry, Nicolas Borie, Travis Scrimshaw

Author: Nicolas Borie, Nicolas M. Thiéry

Merged: sage-5.10.beta4

Dependencies: #14175, #14176, #14177, #2023

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/4327





---

archive/issue_comments_034301.json:
```json
{
    "body": "<a id='comment:2'></a>I find this ticket is completely integrated inside #4326\n\nI remember that i did this job. So feel free to merge/destroy/erase this ticket. I don't know the current way to dealt with such ticket...",
    "created_at": "2009-07-29T08:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34301",
    "user": "https://trac.sagemath.org/admin/accounts/users/nborie"
}
```

<a id='comment:2'></a>I find this ticket is completely integrated inside #4326

I remember that i did this job. So feel free to merge/destroy/erase this ticket. I don't know the current way to dealt with such ticket...



---

archive/issue_comments_034302.json:
```json
{
    "body": "<a id='comment:3'></a>Actually, there is still room for improvement to the current plots. So let's keep this open. I'll just update the description.",
    "created_at": "2009-07-30T13:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34302",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>Actually, there is still room for improvement to the current plots. So let's keep this open. I'll just update the description.



---

archive/issue_comments_034303.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1 @@\n-Port from MuPAD-Combinat the plotting facilities for (affine) root systems.\n-\n-This will require in particular the port of:\n-- row/column annihilator\n-- a,acheck,c coeffs\n-- translation factors\n+Finish to port from MuPAD-Combinat the plotting facilities for (affine) root systems (see #4326 for a first implementation)\n``````\n",
    "created_at": "2009-07-30T13:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34303",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1 @@
-Port from MuPAD-Combinat the plotting facilities for (affine) root systems.
-
-This will require in particular the port of:
-- row/column annihilator
-- a,acheck,c coeffs
-- translation factors
+Finish to port from MuPAD-Combinat the plotting facilities for (affine) root systems (see #4326 for a first implementation)
``````




---

archive/issue_comments_034304.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2012-09-13T12:30:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34304",
    "user": "https://trac.sagemath.org/admin/accounts/users/nborie"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_034305.json:
```json
{
    "body": "<a id='comment:4'></a>Hello,\n\nHere is a patch which realize the  porting of what was done in MuPAD... I tried to do my best but this patch really need a strong English language review. For anybody interssinting in reviewing, commenting, or anything... here are some pointers :\n\nMuPAD example :\nhttp://wstein.org/home/wstein/www/home/nthiery/2008-03-01-RootSystemPlots.html\n\nSage-support discussion :\nhttps://groups.google.com/forum/?hl=fr&fromgroups=#!topic/sage-support/fRTEE_IECzU",
    "created_at": "2012-09-13T12:30:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34305",
    "user": "https://trac.sagemath.org/admin/accounts/users/nborie"
}
```

<a id='comment:4'></a>Hello,

Here is a patch which realize the  porting of what was done in MuPAD... I tried to do my best but this patch really need a strong English language review. For anybody interssinting in reviewing, commenting, or anything... here are some pointers :

MuPAD example :
http://wstein.org/home/wstein/www/home/nthiery/2008-03-01-RootSystemPlots.html

Sage-support discussion :
https://groups.google.com/forum/?hl=fr&fromgroups=#!topic/sage-support/fRTEE_IECzU



---

archive/issue_comments_034306.json:
```json
{
    "body": "<a id='comment:5'></a>Hellooooooooooo !!\n\nNicolas M. Thi\u00e9ry : that's the ticket that should have been set to `needs_review` ages ago and never was. It would be nice to have this into Sage, if only to be able to print beautifu Sage-combinat posters with fancy pictures inside.\n\nNathann",
    "created_at": "2013-01-21T14:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34306",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>Hellooooooooooo !!

Nicolas M. Thiéry : that's the ticket that should have been set to `needs_review` ages ago and never was. It would be nice to have this into Sage, if only to be able to print beautifu Sage-combinat posters with fancy pictures inside.

Nathann



---

archive/issue_comments_034307.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-21T14:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34307",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_034308.json:
```json
{
    "body": "Changing author from \"\" to \"Nicolas Borie, Nicolas M. Thi\u00e9ry\"",
    "created_at": "2013-02-25T01:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34308",
    "user": "https://github.com/nthiery"
}
```

Changing author from "" to "Nicolas Borie, Nicolas M. Thiéry"



---

archive/issue_comments_034309.json:
```json
{
    "body": "<a id='comment:6'></a>I'll upload a (quite heavily) refactored patch shortly.",
    "created_at": "2013-02-25T01:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34309",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>I'll upload a (quite heavily) refactored patch shortly.



---

archive/issue_comments_034310.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-02-25T01:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34310",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_034311.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#14175, #14176, #14177\"",
    "created_at": "2013-02-25T01:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34311",
    "user": "https://github.com/nthiery"
}
```

Changing dependencies from "" to "#14175, #14176, #14177"



---

archive/issue_comments_034312.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nicolas M. Thi\u00e9ry, Nicolas Borie\"",
    "created_at": "2013-02-25T01:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34312",
    "user": "https://github.com/nthiery"
}
```

Changing reviewer from "" to "Nicolas M. Thiéry, Nicolas Borie"



---

archive/issue_comments_034313.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-Finish to port from MuPAD-Combinat the plotting facilities for (affine) root systems (see #4326 for a first implementation)\n+The attached patch refactors in depth the root sytem plotting facilities of Sage.\n+In particular it contains all the features provided in MuPAD-Combinat and many more.\n+\n+See: http://wiki.sagemath.org/combinat/CoolPictures?action=AttachFile&do=get&target=root-system-plots.pdf for a (slightly outdated) version of the enclosed tutorial with all the pictures shown. \n``````\n",
    "created_at": "2013-03-04T03:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34313",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-Finish to port from MuPAD-Combinat the plotting facilities for (affine) root systems (see #4326 for a first implementation)
+The attached patch refactors in depth the root sytem plotting facilities of Sage.
+In particular it contains all the features provided in MuPAD-Combinat and many more.
+
+See: http://wiki.sagemath.org/combinat/CoolPictures?action=AttachFile&do=get&target=root-system-plots.pdf for a (slightly outdated) version of the enclosed tutorial with all the pictures shown. 
``````




---

archive/issue_comments_034314.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-03-04T03:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34314",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_034315.json:
```json
{
    "body": "Changing work_issues from \"\" to \"lazy import sage.combinat.root_system.plot\"",
    "created_at": "2013-03-05T05:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34315",
    "user": "https://github.com/nthiery"
}
```

Changing work_issues from "" to "lazy import sage.combinat.root_system.plot"



---

archive/issue_comments_034316.json:
```json
{
    "body": "<a id='comment:8'></a>So, the test pass, but the startup module complains about the new module that is imported on startup. I'll try with a lazy import tomorrow. I leave it as needs review, as the review of all the rest can continue!",
    "created_at": "2013-03-05T05:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34316",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>So, the test pass, but the startup module complains about the new module that is imported on startup. I'll try with a lazy import tomorrow. I leave it as needs review, as the review of all the rest can continue!



---

archive/issue_comments_034317.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 nthiery]:\n> So, the test pass, but the startup module complains about the new module that is imported on startup. I'll try with a lazy import tomorrow. I leave it as needs review, as the review of all the rest can continue!\n\n\nHmm, I just had a look, but am not sure how to handle this. Lazy importing works just fine for the code, but then:\n\n```\n    sage: sage.combinat.root_system.plot?\n```\n\nfails, whereas I think we want to support this natural way to access\nthis tutorial.\n\nThe seemingly natural solution would be to lazy import the full module. However:\n\n```\nsage: sage.misc.lazy_import.lazy_import('sage.combinat.root_system', 'plot')\nsage: type(plot)\nsage.misc.lazy_import.LazyImport\nsage: plot\n/opt/sage/sage : ligne 135 :  6989 Erreur de segmentation  (core dumped) \"$SAGE_ROOT/spkg/bin/sage\" \"$@\"\nProcess SAGE exited abnormally with code 139\n```\n\nI'll post on Sage-devel on this topic. In the mean time the rest of\nthe review can continue!\n\nIf we can't get a good solution shortly, I am at this point in favor\nof sticking to a non lazy import in order to allow for accessing the\ntutorial as above, even if the price is to import (yet another) new\nmodule in Sage.\n\nCheers,\n                         Nicolas",
    "created_at": "2013-03-06T03:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34317",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:9'></a>Replying to [comment:8 nthiery]:
> So, the test pass, but the startup module complains about the new module that is imported on startup. I'll try with a lazy import tomorrow. I leave it as needs review, as the review of all the rest can continue!


Hmm, I just had a look, but am not sure how to handle this. Lazy importing works just fine for the code, but then:

```
    sage: sage.combinat.root_system.plot?
```

fails, whereas I think we want to support this natural way to access
this tutorial.

The seemingly natural solution would be to lazy import the full module. However:

```
sage: sage.misc.lazy_import.lazy_import('sage.combinat.root_system', 'plot')
sage: type(plot)
sage.misc.lazy_import.LazyImport
sage: plot
/opt/sage/sage : ligne 135 :  6989 Erreur de segmentation  (core dumped) "$SAGE_ROOT/spkg/bin/sage" "$@"
Process SAGE exited abnormally with code 139
```

I'll post on Sage-devel on this topic. In the mean time the rest of
the review can continue!

If we can't get a good solution shortly, I am at this point in favor
of sticking to a non lazy import in order to allow for accessing the
tutorial as above, even if the price is to import (yet another) new
module in Sage.

Cheers,
                         Nicolas



---

archive/issue_comments_034318.json:
```json
{
    "body": "<a id='comment:11'></a>The updated patch implements wireframe drawing for 3D alcoves, and specifying a color as None to disable certain pieces. It also fixes a couple typos here and there in the doc.",
    "created_at": "2013-03-11T03:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34318",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'></a>The updated patch implements wireframe drawing for 3D alcoves, and specifying a color as None to disable certain pieces. It also fixes a couple typos here and there in the doc.



---

archive/issue_comments_034319.json:
```json
{
    "body": "<a id='comment:12'></a>Hey Nicolas<sup>2</sup>,\n\nDoes this conflict with #2023, and if so, which patch do you want to have the dependency?\n\nThanks,\n\nTravis",
    "created_at": "2013-04-13T20:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34319",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>Hey Nicolas<sup>2</sup>,

Does this conflict with #2023, and if so, which patch do you want to have the dependency?

Thanks,

Travis



---

archive/issue_comments_034320.json:
```json
{
    "body": "<a id='comment:13'></a>It could possibly conflict. Both patches should get soon into Sage, and I already had a good look at #2023. So once we have had that little discussion with Dan, we should just get it in. And then #4327 which is already based on it anyway.",
    "created_at": "2013-04-13T20:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34320",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:13'></a>It could possibly conflict. Both patches should get soon into Sage, and I already had a good look at #2023. So once we have had that little discussion with Dan, we should just get it in. And then #4327 which is already based on it anyway.



---

archive/issue_comments_034321.json:
```json
{
    "body": "Changing dependencies from \"#14175, #14176, #14177\" to \"#14175, #14176, #14177, #2023\"",
    "created_at": "2013-04-13T20:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34321",
    "user": "https://github.com/nthiery"
}
```

Changing dependencies from "#14175, #14176, #14177" to "#14175, #14176, #14177, #2023"



---

archive/issue_comments_034322.json:
```json
{
    "body": "Changing work_issues from \"lazy import sage.combinat.root_system.plot\" to \"\"",
    "created_at": "2013-05-07T20:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34322",
    "user": "https://github.com/nthiery"
}
```

Changing work_issues from "lazy import sage.combinat.root_system.plot" to ""



---

archive/issue_comments_034323.json:
```json
{
    "body": "Changing reviewer from \"Nicolas M. Thi\u00e9ry, Nicolas Borie\" to \"Nicolas M. Thi\u00e9ry, Nicolas Borie, Travis Scrimshaw\"",
    "created_at": "2013-05-07T20:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34323",
    "user": "https://github.com/nthiery"
}
```

Changing reviewer from "Nicolas M. Thiéry, Nicolas Borie" to "Nicolas M. Thiéry, Nicolas Borie, Travis Scrimshaw"



---

archive/issue_comments_034324.json:
```json
{
    "body": "<a id='comment:16'></a>Folded in Travis' reviewers patch and reuploaded.",
    "created_at": "2013-05-07T20:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34324",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:16'></a>Folded in Travis' reviewers patch and reuploaded.



---

archive/issue_comments_034325.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n The attached patch refactors in depth the root sytem plotting facilities of Sage.\n In particular it contains all the features provided in MuPAD-Combinat and many more.\n \n+Some of those features came up during discussions with Reda Chaibi, Arthur Lubovski and Christopher Hanusa. Thanks to them!\n+\n See: http://wiki.sagemath.org/combinat/CoolPictures?action=AttachFile&do=get&target=root-system-plots.pdf for a (slightly outdated) version of the enclosed tutorial with all the pictures shown. \n``````\n",
    "created_at": "2013-05-07T20:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34325",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 The attached patch refactors in depth the root sytem plotting facilities of Sage.
 In particular it contains all the features provided in MuPAD-Combinat and many more.
 
+Some of those features came up during discussions with Reda Chaibi, Arthur Lubovski and Christopher Hanusa. Thanks to them!
+
 See: http://wiki.sagemath.org/combinat/CoolPictures?action=AttachFile&do=get&target=root-system-plots.pdf for a (slightly outdated) version of the enclosed tutorial with all the pictures shown. 
``````




---

archive/issue_comments_034326.json:
```json
{
    "body": "<a id='comment:18'></a>Looks good. Thank you.",
    "created_at": "2013-05-07T20:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34326",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>Looks good. Thank you.



---

archive/issue_comments_034327.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-07T20:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34327",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_034328.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-08T18:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34328",
    "user": "https://github.com/nthiery"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_034329.json:
```json
{
    "body": "Changing work_issues from \"\" to \"minor long test failure\"",
    "created_at": "2013-05-08T18:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34329",
    "user": "https://github.com/nthiery"
}
```

Changing work_issues from "" to "minor long test failure"



---

archive/issue_comments_034330.json:
```json
{
    "body": "<a id='comment:20'></a>Uploaded a new version (double checked by Travis) fixing one of the long doctest failure on 5.10. It was caused by the new matplotlib that emits a warning for arrows of length 0:\n\n```\nsage: arrow([1,1],[1,1])\n/home/nthiery/sage-5.10.beta1/local/lib/python2.7/site-packages/matplotlib/patches.py:3039: RuntimeWarning: invalid value encountered in double_scalars\n  ddx = pad_projected * dx / cp_distance\n/home/nthiery/sage-5.10.beta1/local/lib/python2.7/site-packages/matplotlib/patches.py:3040: RuntimeWarning: invalid value encountered in double_scalars\n  ddy = pad_projected * dy / cp_distance\n/home/nthiery/sage-5.10.beta1/local/lib/python2.7/site-packages/matplotlib/patches.py:3043: RuntimeWarning: invalid value encountered in double_scalars\n  dx = dx / cp_distance * head_dist\n/home/nthiery/sage-5.10.beta1/local/lib/python2.7/site-packages/matplotlib/patches.py:3044: RuntimeWarning: invalid value encountered in double_scalars\n  dy = dy / cp_distance * head_dist\n```\n\nThe other failure is due to some doctests being ignored. See:\n\n https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/4m1ydGdiGf8",
    "created_at": "2013-05-08T19:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34330",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:20'></a>Uploaded a new version (double checked by Travis) fixing one of the long doctest failure on 5.10. It was caused by the new matplotlib that emits a warning for arrows of length 0:

```
sage: arrow([1,1],[1,1])
/home/nthiery/sage-5.10.beta1/local/lib/python2.7/site-packages/matplotlib/patches.py:3039: RuntimeWarning: invalid value encountered in double_scalars
  ddx = pad_projected * dx / cp_distance
/home/nthiery/sage-5.10.beta1/local/lib/python2.7/site-packages/matplotlib/patches.py:3040: RuntimeWarning: invalid value encountered in double_scalars
  ddy = pad_projected * dy / cp_distance
/home/nthiery/sage-5.10.beta1/local/lib/python2.7/site-packages/matplotlib/patches.py:3043: RuntimeWarning: invalid value encountered in double_scalars
  dx = dx / cp_distance * head_dist
/home/nthiery/sage-5.10.beta1/local/lib/python2.7/site-packages/matplotlib/patches.py:3044: RuntimeWarning: invalid value encountered in double_scalars
  dy = dy / cp_distance * head_dist
```

The other failure is due to some doctests being ignored. See:

 https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/4m1ydGdiGf8



---

archive/issue_comments_034331.json:
```json
{
    "body": "Changing work_issues from \"minor long test failure\" to \"\"",
    "created_at": "2013-05-09T01:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34331",
    "user": "https://github.com/nthiery"
}
```

Changing work_issues from "minor long test failure" to ""



---

archive/issue_comments_034332.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-05-09T01:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34332",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_034333.json:
```json
{
    "body": "<a id='comment:21'></a>Hi Travis,\n\nThe updated patch fixes the doc so that later on doctests won't be\nignored, and update the number of ignored doctests in the mean time.\n\nAll long tests passed.\n\nHere is the metadiff:\n\n```\ndiff --git a/trac_4327-root_system_plot_refactor-nt.patch b/trac_4327-root_system_plot_refactor-nt.patch\n--- a/trac_4327-root_system_plot_refactor-nt.patch\n+++ b/trac_4327-root_system_plot_refactor-nt.patch\n@@ -1,5 +1,5 @@\n # HG changeset patch\n-# Parent aa718acb2dbac8faab463c994aa7f4052a546363\n+# Parent 89d0e0f941ae79ca2d8dd83d3ac6d20a4b82382a\n #4327: Refactor and extend root systems plots\n \n diff --git a/doc/en/reference/combinat/root_systems.rst b/doc/en/reference/combinat/root_systems.rst\n@@ -2569,7 +2569,7 @@ diff --git a/sage/combinat/root_system/t\n  import ambient_space\n  \n  class AmbientSpace(ambient_space.AmbientSpace):\n-@@ -135,13 +136,38 @@ class AmbientSpace(ambient_space.Ambient\n+@@ -135,13 +136,36 @@ class AmbientSpace(ambient_space.Ambient\n          given, returns (k, ... ,k), the k-th power of the\n          determinant.\n  \n@@ -2582,14 +2582,8 @@ diff --git a/sage/combinat/root_system/t\n          \"\"\"\n          return self.sum(self.monomial(j)*k for j in range(self.n))\n  \n-+    \"\"\"\n-+    Use barycentric projection by default\n-+\n-+    .. SEEALSO::\n-+\n-+        - :meth:`sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations._plot_projection`\n-+\n-+    EXAMPLES::\n++    __doc__ += \"\"\"\n++    By default, this ambient space uses the barycentric projection for plotting::\n +\n +        sage: L = RootSystem([\"A\",2]).ambient_space()\n +        sage: e = L.basis()\n@@ -2604,6 +2598,10 @@ diff --git a/sage/combinat/root_system/t\n +        (2, 2, 3, 0)\n +        sage: L._plot_projection(l)\n +        (0, -1121/1189, 7/3)\n++\n++    .. SEEALSO::\n++\n++        - :meth:`sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations.ParentMethods._plot_projection`\n +    \"\"\"\n +    _plot_projection = RootLatticeRealizations.ParentMethods.__dict__['_plot_projection_barycentric']\n  \n@@ -2621,18 +2619,12 @@ diff --git a/sage/combinat/root_system/t\n  class AmbientSpace(ambient_space.AmbientSpace):\n      \"\"\"\n      EXAMPLES::\n-@@ -82,6 +82,32 @@ class AmbientSpace(ambient_space.Ambient\n+@@ -82,6 +82,30 @@ class AmbientSpace(ambient_space.Ambient\n          return Family({ 1: self([1,0,-1]),\n                          2: self([2,-1,-1])})\n  \n-+    \"\"\"\n-+    Use barycentric projection by default\n-+\n-+    .. SEEALSO::\n-+\n-+        - :meth:`sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations._plot_projection`\n-+\n-+    EXAMPLES::\n++    __doc__ += \"\"\"\n++    By default, this ambient space uses the barycentric projection for plotting::\n +\n +        sage: L = RootSystem([\"G\",2]).ambient_space()\n +        sage: e = L.basis()\n@@ -2647,6 +2639,10 @@ diff --git a/sage/combinat/root_system/t\n +        (2, 2, 3, 0)\n +        sage: L._plot_projection(l)\n +        (0, -1121/1189, 7/3)\n++\n++    .. SEEALSO::\n++\n++        - :meth:`sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations.ParentMethods._plot_projection`\n +    \"\"\"\n +    _plot_projection = RootLatticeRealizations.ParentMethods.__dict__['_plot_projection_barycentric']\n +\n@@ -3011,3 +3007,15 @@ diff --git a/sage/combinat/root_system/w\n -            G.axes(False)\n -            return G\n -\n+diff --git a/sage/doctest/sources.py b/sage/doctest/sources.py\n+--- a/sage/doctest/sources.py\n++++ b/sage/doctest/sources.py\n+@@ -675,6 +675,8 @@ class FileDocTestSource(DocTestSource):\n+             There are 18 tests in sage/combinat/partition.py that are not being run\n+             There are 12 tests in sage/combinat/tableau.py that are not being run\n+             There are 15 tests in sage/combinat/root_system/cartan_type.py that are not being run\n++            There are 8 tests in sage/combinat/root_system/type_A.py that are not being run\n++            There are 8 tests in sage/combinat/root_system/type_G.py that are not being run\n+             There are 3 unexpected tests being run in sage/doctest/parsing.py\n+             There are 1 unexpected tests being run in sage/doctest/reporting.py\n+             There are 9 tests in sage/graphs/graph_plot.py that are not being run\n```",
    "created_at": "2013-05-09T01:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34333",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:21'></a>Hi Travis,

The updated patch fixes the doc so that later on doctests won't be
ignored, and update the number of ignored doctests in the mean time.

All long tests passed.

Here is the metadiff:

```
diff --git a/trac_4327-root_system_plot_refactor-nt.patch b/trac_4327-root_system_plot_refactor-nt.patch
--- a/trac_4327-root_system_plot_refactor-nt.patch
+++ b/trac_4327-root_system_plot_refactor-nt.patch
@@ -1,5 +1,5 @@
 # HG changeset patch
-# Parent aa718acb2dbac8faab463c994aa7f4052a546363
+# Parent 89d0e0f941ae79ca2d8dd83d3ac6d20a4b82382a
 #4327: Refactor and extend root systems plots
 
 diff --git a/doc/en/reference/combinat/root_systems.rst b/doc/en/reference/combinat/root_systems.rst
@@ -2569,7 +2569,7 @@ diff --git a/sage/combinat/root_system/t
  import ambient_space
  
  class AmbientSpace(ambient_space.AmbientSpace):
-@@ -135,13 +136,38 @@ class AmbientSpace(ambient_space.Ambient
+@@ -135,13 +136,36 @@ class AmbientSpace(ambient_space.Ambient
          given, returns (k, ... ,k), the k-th power of the
          determinant.
  
@@ -2582,14 +2582,8 @@ diff --git a/sage/combinat/root_system/t
          """
          return self.sum(self.monomial(j)*k for j in range(self.n))
  
-+    """
-+    Use barycentric projection by default
-+
-+    .. SEEALSO::
-+
-+        - :meth:`sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations._plot_projection`
-+
-+    EXAMPLES::
++    __doc__ += """
++    By default, this ambient space uses the barycentric projection for plotting::
 +
 +        sage: L = RootSystem(["A",2]).ambient_space()
 +        sage: e = L.basis()
@@ -2604,6 +2598,10 @@ diff --git a/sage/combinat/root_system/t
 +        (2, 2, 3, 0)
 +        sage: L._plot_projection(l)
 +        (0, -1121/1189, 7/3)
++
++    .. SEEALSO::
++
++        - :meth:`sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations.ParentMethods._plot_projection`
 +    """
 +    _plot_projection = RootLatticeRealizations.ParentMethods.__dict__['_plot_projection_barycentric']
  
@@ -2621,18 +2619,12 @@ diff --git a/sage/combinat/root_system/t
  class AmbientSpace(ambient_space.AmbientSpace):
      """
      EXAMPLES::
-@@ -82,6 +82,32 @@ class AmbientSpace(ambient_space.Ambient
+@@ -82,6 +82,30 @@ class AmbientSpace(ambient_space.Ambient
          return Family({ 1: self([1,0,-1]),
                          2: self([2,-1,-1])})
  
-+    """
-+    Use barycentric projection by default
-+
-+    .. SEEALSO::
-+
-+        - :meth:`sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations._plot_projection`
-+
-+    EXAMPLES::
++    __doc__ += """
++    By default, this ambient space uses the barycentric projection for plotting::
 +
 +        sage: L = RootSystem(["G",2]).ambient_space()
 +        sage: e = L.basis()
@@ -2647,6 +2639,10 @@ diff --git a/sage/combinat/root_system/t
 +        (2, 2, 3, 0)
 +        sage: L._plot_projection(l)
 +        (0, -1121/1189, 7/3)
++
++    .. SEEALSO::
++
++        - :meth:`sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations.ParentMethods._plot_projection`
 +    """
 +    _plot_projection = RootLatticeRealizations.ParentMethods.__dict__['_plot_projection_barycentric']
 +
@@ -3011,3 +3007,15 @@ diff --git a/sage/combinat/root_system/w
 -            G.axes(False)
 -            return G
 -
+diff --git a/sage/doctest/sources.py b/sage/doctest/sources.py
+--- a/sage/doctest/sources.py
++++ b/sage/doctest/sources.py
+@@ -675,6 +675,8 @@ class FileDocTestSource(DocTestSource):
+             There are 18 tests in sage/combinat/partition.py that are not being run
+             There are 12 tests in sage/combinat/tableau.py that are not being run
+             There are 15 tests in sage/combinat/root_system/cartan_type.py that are not being run
++            There are 8 tests in sage/combinat/root_system/type_A.py that are not being run
++            There are 8 tests in sage/combinat/root_system/type_G.py that are not being run
+             There are 3 unexpected tests being run in sage/doctest/parsing.py
+             There are 1 unexpected tests being run in sage/doctest/reporting.py
+             There are 9 tests in sage/graphs/graph_plot.py that are not being run
```



---

archive/issue_comments_034334.json:
```json
{
    "body": "<a id='comment:22'></a>Looks good to me. Thanks Nicolas.",
    "created_at": "2013-05-09T14:45:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34334",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>Looks good to me. Thanks Nicolas.



---

archive/issue_comments_034335.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-09T14:45:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34335",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_034336.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-13T16:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34336",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_034337.json:
```json
{
    "body": "<a id='comment:23'></a>The PDF documentation doesn't build:\n\n```\n! Package inputenc Error: Keyboard character used is undefined\n(inputenc)                in inputencoding `utf8x'.\n\nSee the inputenc package documentation for explanation.\nType  H <return>  for immediate help.\n ...\n\nl.96802 ...}1\\PYGZcb{}\\$' at the point (0.0,1.0)]}\n\n?  [54]\n! Emergency stop.\n ...\n\nl.96802 ...}1\\PYGZcb{}\\$' at the point (0.0,1.0)]}\n\n!  ==> Fatal error occurred, no output PDF file produced!\nTranscript written on combinat.log.\n```",
    "created_at": "2013-05-13T16:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34337",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>The PDF documentation doesn't build:

```
! Package inputenc Error: Keyboard character used is undefined
(inputenc)                in inputencoding `utf8x'.

See the inputenc package documentation for explanation.
Type  H <return>  for immediate help.
 ...

l.96802 ...}1\PYGZcb{}\$' at the point (0.0,1.0)]}

?  [54]
! Emergency stop.
 ...

l.96802 ...}1\PYGZcb{}\$' at the point (0.0,1.0)]}

!  ==> Fatal error occurred, no output PDF file produced!
Transcript written on combinat.log.
```



---

archive/issue_comments_034338.json:
```json
{
    "body": "Attachment [trac_4327-root_system_plot_refactor-nt.patch](tarball://root/attachments/some-uuid/ticket4327/trac_4327-root_system_plot_refactor-nt.patch) by @nthiery created at 2013-05-13 20:02:43",
    "created_at": "2013-05-13T20:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34338",
    "user": "https://github.com/nthiery"
}
```

Attachment [trac_4327-root_system_plot_refactor-nt.patch](tarball://root/attachments/some-uuid/ticket4327/trac_4327-root_system_plot_refactor-nt.patch) by @nthiery created at 2013-05-13 20:02:43



---

archive/issue_comments_034339.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:23 jdemeyer]:\n> The PDF documentation doesn't build:\n> \n> ```\n> ! Package inputenc Error: Keyboard character used is undefined\n> (inputenc)                in inputencoding `utf8x'.\n> ...\n> ```\n\n\nAh shoot, sorry about that. The docstrings for this method was missing its starting 'r', and which caused a `\\a` in it to be misinterpreted as a non UTF-8 character.\n\nThe newly updated patch fixes this. While I was at it, it fixes half a dozen other missing 'r' in other methods introduced by this patch.\n\nSince the change is trivial, I am allowing myself to put it back to positive review.\n\nFor the record, here is the diff between the two patches:\n\n```\ndiff --git a/trac_4327-root_system_plot_refactor-nt.patch b/trac_4327-root_system_plot_refactor-nt.patch\n--- a/trac_4327-root_system_plot_refactor-nt.patch\n+++ b/trac_4327-root_system_plot_refactor-nt.patch\n@@ -1,5 +1,5 @@\n # HG changeset patch\n-# Parent 89d0e0f941ae79ca2d8dd83d3ac6d20a4b82382a\n+# Parent 75e26170e32bcbb5f78e1784a1df985ecb71e1db\n #4327: Refactor and extend root systems plots\n \n diff --git a/doc/en/reference/combinat/root_systems.rst b/doc/en/reference/combinat/root_systems.rst\n@@ -631,7 +631,7 @@ new file mode 100644\n +lazy_import(\"sage.combinat.root_system.root_lattice_realizations\", \"RootLatticeRealizations\")\n +\n +class PlotOptions:\n-+    \"\"\"\n++    r\"\"\"\n +    A class for plotting options for root lattice realizations.\n +\n +    .. SEEALSO::\n@@ -740,7 +740,7 @@ new file mode 100644\n +\n +    @cached_method\n +    def in_bounding_box(self, x):\n-+        \"\"\"\n++        r\"\"\"\n +        Return whether ``x`` is in the bounding box.\n +\n +        INPUT:\n@@ -763,7 +763,7 @@ new file mode 100644\n +        return self.bounding_box.contains(self.projection(x))\n +\n +    def text(self, label, position):\n-+        \"\"\"\n++        r\"\"\"\n +        Return text widget with label ``label`` at position ``position``\n +\n +        INPUT:\n@@ -851,7 +851,7 @@ new file mode 100644\n +                return self._color(\"other\")\n +\n +    def projection(self, v):\n-+        \"\"\"\n++        r\"\"\"\n +        Return the projection of ``v``.\n +\n +        INPUT:\n@@ -880,7 +880,7 @@ new file mode 100644\n +        return v\n +\n +    def intersection_at_level_1(self, x):\n-+        \"\"\"\n++        r\"\"\"\n +        Return ``x`` scaled at the appropriate level, if level is set;\n +        otherwise return ``x``.\n +\n@@ -912,7 +912,7 @@ new file mode 100644\n +            return x\n +\n +    def empty(self, *args):\n-+        \"\"\"\n++        r\"\"\"\n +        Return an empty plot.\n +\n +        EXAMPLES::\n@@ -1255,7 +1255,7 @@ new file mode 100644\n +\n +@cached_function\n +def barycentric_projection_matrix(n, angle=0):\n-+    \"\"\"\n++    r\"\"\"\n +    Returns a family of `n+1` vectors evenly spaced in a real vector space of dimension `n`\n +\n +    Those vectors are of norm `1`, the scalar product between any two\n@@ -2339,7 +2339,7 @@ diff --git a/sage/combinat/root_system/r\n +\n +\n +        def plot_bounding_box(self, **options):\n-+            \"\"\"\n++            r\"\"\"\n +            Plot the bounding box.\n +\n +            INPUT:\n\n```",
    "created_at": "2013-05-13T20:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34339",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:24'></a>Replying to [comment:23 jdemeyer]:
> The PDF documentation doesn't build:
> 
> ```
> ! Package inputenc Error: Keyboard character used is undefined
> (inputenc)                in inputencoding `utf8x'.
> ...
> ```


Ah shoot, sorry about that. The docstrings for this method was missing its starting 'r', and which caused a `\a` in it to be misinterpreted as a non UTF-8 character.

The newly updated patch fixes this. While I was at it, it fixes half a dozen other missing 'r' in other methods introduced by this patch.

Since the change is trivial, I am allowing myself to put it back to positive review.

For the record, here is the diff between the two patches:

```
diff --git a/trac_4327-root_system_plot_refactor-nt.patch b/trac_4327-root_system_plot_refactor-nt.patch
--- a/trac_4327-root_system_plot_refactor-nt.patch
+++ b/trac_4327-root_system_plot_refactor-nt.patch
@@ -1,5 +1,5 @@
 # HG changeset patch
-# Parent 89d0e0f941ae79ca2d8dd83d3ac6d20a4b82382a
+# Parent 75e26170e32bcbb5f78e1784a1df985ecb71e1db
 #4327: Refactor and extend root systems plots
 
 diff --git a/doc/en/reference/combinat/root_systems.rst b/doc/en/reference/combinat/root_systems.rst
@@ -631,7 +631,7 @@ new file mode 100644
 +lazy_import("sage.combinat.root_system.root_lattice_realizations", "RootLatticeRealizations")
 +
 +class PlotOptions:
-+    """
++    r"""
 +    A class for plotting options for root lattice realizations.
 +
 +    .. SEEALSO::
@@ -740,7 +740,7 @@ new file mode 100644
 +
 +    @cached_method
 +    def in_bounding_box(self, x):
-+        """
++        r"""
 +        Return whether ``x`` is in the bounding box.
 +
 +        INPUT:
@@ -763,7 +763,7 @@ new file mode 100644
 +        return self.bounding_box.contains(self.projection(x))
 +
 +    def text(self, label, position):
-+        """
++        r"""
 +        Return text widget with label ``label`` at position ``position``
 +
 +        INPUT:
@@ -851,7 +851,7 @@ new file mode 100644
 +                return self._color("other")
 +
 +    def projection(self, v):
-+        """
++        r"""
 +        Return the projection of ``v``.
 +
 +        INPUT:
@@ -880,7 +880,7 @@ new file mode 100644
 +        return v
 +
 +    def intersection_at_level_1(self, x):
-+        """
++        r"""
 +        Return ``x`` scaled at the appropriate level, if level is set;
 +        otherwise return ``x``.
 +
@@ -912,7 +912,7 @@ new file mode 100644
 +            return x
 +
 +    def empty(self, *args):
-+        """
++        r"""
 +        Return an empty plot.
 +
 +        EXAMPLES::
@@ -1255,7 +1255,7 @@ new file mode 100644
 +
 +@cached_function
 +def barycentric_projection_matrix(n, angle=0):
-+    """
++    r"""
 +    Returns a family of `n+1` vectors evenly spaced in a real vector space of dimension `n`
 +
 +    Those vectors are of norm `1`, the scalar product between any two
@@ -2339,7 +2339,7 @@ diff --git a/sage/combinat/root_system/r
 +
 +
 +        def plot_bounding_box(self, **options):
-+            """
++            r"""
 +            Plot the bounding box.
 +
 +            INPUT:

```



---

archive/issue_comments_034340.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-05-13T20:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34340",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_034341.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:24 nthiery]:\n> Since the change is trivial, I am allowing myself to put it back to positive review.\n\n\nAssuming that you checked that the PDF documentation does build, that's okay.",
    "created_at": "2013-05-13T20:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34341",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>Replying to [comment:24 nthiery]:
> Since the change is trivial, I am allowing myself to put it back to positive review.


Assuming that you checked that the PDF documentation does build, that's okay.



---

archive/issue_comments_034342.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:26 jdemeyer]:\n> Assuming that you checked that the PDF documentation does build, that's okay.\n\n\nYup, I did. Well at least for reference/combinat.",
    "created_at": "2013-05-13T21:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34342",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:27'></a>Replying to [comment:26 jdemeyer]:
> Assuming that you checked that the PDF documentation does build, that's okay.


Yup, I did. Well at least for reference/combinat.



---

archive/issue_comments_034343.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-16T06:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34343",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_034344.json:
```json
{
    "body": "<a id='comment:28'></a>\n```\nsage -t devel/sage/sage/combinat/root_system/root_lattice_realizations.py\n**********************************************************************\nFile \"devel/sage/sage/combinat/root_system/root_lattice_realizations.py\", line 1840, in sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations.Pare\nntMethods.plot_roots\nFailed example:\n    list(RootSystem([\"A\",2]).root_lattice().plot_roots(\"all\"))\nExpected:\n    [Arrow from (0.0,0.0) to (1.0,0.0),\n     Text '$\\alpha_{1}$' at the point (1.05,0.0),\n     Arrow from (0.0,0.0) to (0.0,1.0),\n     Text '$\\alpha_{2}$' at the point (0.0,1.05),\n     Arrow from (0.0,0.0) to (1.0,1.0),\n     Text '$\\alpha_{1} + \\alpha_{2}$' at the point (1.05,1.05),\n     Arrow from (0.0,0.0) to (-1.0,0.0),\n     Text '$\\left(-1\\right)\\alpha_{1}$' at the point (-1.05,0.0),\n     Arrow from (0.0,0.0) to (0.0,-1.0),\n     Text '$\\left(-1\\right)\\alpha_{2}$' at the point (0.0,-1.05),\n     Arrow from (0.0,0.0) to (-1.0,-1.0),\n     Text '$\\left(-1\\right)\\alpha_{1} + \\left(-1\\right)\\alpha_{2}$' at the point (-1.05,-1.05)]\nGot:\n    [Arrow from (0.0,0.0) to (1.0,0.0), Text '$\\alpha_{1}$' at the point (1.05,0.0), Arrow from (0.0,0.0) to (0.0,1.0), Text '$\\alpha_{2}$' at the point (0.0,1.05), Arr\now from (0.0,0.0) to (1.0,1.0), Text '$\\alpha_{1} + \\alpha_{2}$' at the point (1.05,1.05), Arrow from (0.0,0.0) to (-1.0,0.0), Text '$-\\alpha_{1}$' at the point (-1.05,\n0.0), Arrow from (0.0,0.0) to (0.0,-1.0), Text '$-\\alpha_{2}$' at the point (0.0,-1.05), Arrow from (0.0,0.0) to (-1.0,-1.0), Text '$-\\alpha_{1} - \\alpha_{2}$' at the p\noint (-1.05,-1.05)]\n**********************************************************************\n```",
    "created_at": "2013-05-16T06:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34344",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
```
sage -t devel/sage/sage/combinat/root_system/root_lattice_realizations.py
**********************************************************************
File "devel/sage/sage/combinat/root_system/root_lattice_realizations.py", line 1840, in sage.combinat.root_system.root_lattice_realizations.RootLatticeRealizations.Pare
ntMethods.plot_roots
Failed example:
    list(RootSystem(["A",2]).root_lattice().plot_roots("all"))
Expected:
    [Arrow from (0.0,0.0) to (1.0,0.0),
     Text '$\alpha_{1}$' at the point (1.05,0.0),
     Arrow from (0.0,0.0) to (0.0,1.0),
     Text '$\alpha_{2}$' at the point (0.0,1.05),
     Arrow from (0.0,0.0) to (1.0,1.0),
     Text '$\alpha_{1} + \alpha_{2}$' at the point (1.05,1.05),
     Arrow from (0.0,0.0) to (-1.0,0.0),
     Text '$\left(-1\right)\alpha_{1}$' at the point (-1.05,0.0),
     Arrow from (0.0,0.0) to (0.0,-1.0),
     Text '$\left(-1\right)\alpha_{2}$' at the point (0.0,-1.05),
     Arrow from (0.0,0.0) to (-1.0,-1.0),
     Text '$\left(-1\right)\alpha_{1} + \left(-1\right)\alpha_{2}$' at the point (-1.05,-1.05)]
Got:
    [Arrow from (0.0,0.0) to (1.0,0.0), Text '$\alpha_{1}$' at the point (1.05,0.0), Arrow from (0.0,0.0) to (0.0,1.0), Text '$\alpha_{2}$' at the point (0.0,1.05), Arr
ow from (0.0,0.0) to (1.0,1.0), Text '$\alpha_{1} + \alpha_{2}$' at the point (1.05,1.05), Arrow from (0.0,0.0) to (-1.0,0.0), Text '$-\alpha_{1}$' at the point (-1.05,
0.0), Arrow from (0.0,0.0) to (0.0,-1.0), Text '$-\alpha_{2}$' at the point (0.0,-1.05), Arrow from (0.0,0.0) to (-1.0,-1.0), Text '$-\alpha_{1} - \alpha_{2}$' at the p
oint (-1.05,-1.05)]
**********************************************************************
```



---

archive/issue_comments_034345.json:
```json
{
    "body": "<a id='comment:29'></a>Never mind, last doctest failure is because of #13735.",
    "created_at": "2013-05-16T06:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34345",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'></a>Never mind, last doctest failure is because of #13735.



---

archive/issue_comments_034346.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-05-16T06:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34346",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_009791.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-17T06:33:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4327#event-9791"
}
```



---

archive/issue_comments_034347.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-05-17T06:33:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34347",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_034348.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.10.beta4\"",
    "created_at": "2013-05-17T06:33:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34348",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.10.beta4"



---

archive/issue_comments_034349.json:
```json
{
    "body": "<a id='comment:31'></a>Yippee!\n\nThanks Nicolas, Travis, and everyone who contributed to get this done!",
    "created_at": "2013-05-19T22:16:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34349",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:31'></a>Yippee!

Thanks Nicolas, Travis, and everyone who contributed to get this done!



---

archive/issue_comments_034350.json:
```json
{
    "body": "<a id='comment:32'></a>The `plot_expose()` function should be a method of plot objects. Its definitely useful outside of root lattices. See #14640",
    "created_at": "2013-05-25T10:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4327#issuecomment-34350",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>The `plot_expose()` function should be a method of plot objects. Its definitely useful outside of root lattices. See #14640
