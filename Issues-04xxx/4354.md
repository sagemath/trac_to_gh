# Issue 4354: loading a file with spaces in the filename doesn't work

archive/issues_004354.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-abergeron"
    ],
    "body": "try it at home:\n\n```\n$ echo 'print \"ok\"' > 'test file.sage'\n$ sage \"test file.sage\"\n```\n\nComponent: **misc**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4354_\n\n",
    "closed_at": "2009-02-15T14:05:16Z",
    "created_at": "2008-10-24T00:41:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "loading a file with spaces in the filename doesn't work",
    "type": "issue",
    "updated_at": "2009-02-15T14:05:16Z",
    "url": "https://github.com/sagemath/sage/issues/4354",
    "user": "https://github.com/sagetrac-anakha"
}
```
try it at home:

```
$ echo 'print "ok"' > 'test file.sage'
$ sage "test file.sage"
```

Component: **misc**

_Issue created by migration from https://trac.sagemath.org/ticket/4354_





---

archive/issue_events_049104.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-10-24T00:41:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49104"
}
```



---

archive/issue_events_049105.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-10-24T00:41:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49105"
}
```



---

archive/issue_events_049106.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-10-24T00:41:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49106"
}
```



---

archive/issue_events_049107.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-10-24T00:42:54Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "subject": "https://github.com/sagetrac-anakha",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49107"
}
```



---

archive/issue_comments_025184.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nCrap, I need to relax on the submit button",
    "created_at": "2008-10-24T00:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25184",
    "user": "https://github.com/sagetrac-anakha"
}
```

<div id="comment:1" align="right">comment:1</div>

Crap, I need to relax on the submit button



---

archive/issue_events_049108.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-10-24T00:42:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "milestone_number": null,
    "milestone_title": "sage-3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49108"
}
```



---

archive/issue_events_049109.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-10-24T00:42:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49109"
}
```



---

archive/issue_events_049110.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-10-24T01:01:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49110"
}
```



---

archive/issue_comments_025185.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAttachment: **[trac_4354.patch.gz](https://github.com/sagemath/sage/files/ticket4354/trac_4354.patch.gz)**\n\nWith the above patch and replacement sage script the example given should work and print 'ok'.\n\nBe aware that if you copied the sage script somewhere (like /usr/local/bin) for convenience you need to modify that copy too.  The line near the end that reads \n\n```\n\"$SAGE_ROOT/local/bin/sage-sage\" $*\n```\nneeds to be replaced by\n\n```\n\"$SAGE_ROOT/local/bin/sage-sage\" \"$@\"\n```",
    "created_at": "2008-10-24T01:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25185",
    "user": "https://github.com/sagetrac-anakha"
}
```

<div id="comment:2" align="right">comment:2</div>

Attachment: **[trac_4354.patch.gz](https://github.com/sagemath/sage/files/ticket4354/trac_4354.patch.gz)**

With the above patch and replacement sage script the example given should work and print 'ok'.

Be aware that if you copied the sage script somewhere (like /usr/local/bin) for convenience you need to modify that copy too.  The line near the end that reads 

```
"$SAGE_ROOT/local/bin/sage-sage" $*
```
needs to be replaced by

```
"$SAGE_ROOT/local/bin/sage-sage" "$@"
```



---

archive/issue_comments_025186.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nFor the patch **sage**, below are some possible fixes to the documentation. Please also refer to #1389.\n\n\n\n1.\n\n```\n-echo \"You must compile SAGE first using 'make' in the SAGE root directory.\" >&2\n+echo \"You must compile Sage first using 'make' in the Sage root directory.\" >&2\n```\n\n\n2.\n\n```\n-echo \"(If you have already compiled SAGE, you must set the SAGE_ROOT variable in \"\n+echo \"(If you have already compiled Sage, you must set the SAGE_ROOT variable in \"\n```\n\n\n3.\n\n```\n-# whenver SAGE exists.\n+# whenever Sage exits.\n```",
    "created_at": "2008-10-27T12:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25186",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:3" align="right">comment:3</div>

For the patch **sage**, below are some possible fixes to the documentation. Please also refer to #1389.



1.

```
-echo "You must compile SAGE first using 'make' in the SAGE root directory." >&2
+echo "You must compile Sage first using 'make' in the Sage root directory." >&2
```


2.

```
-echo "(If you have already compiled SAGE, you must set the SAGE_ROOT variable in "
+echo "(If you have already compiled Sage, you must set the SAGE_ROOT variable in "
```


3.

```
-# whenver SAGE exists.
+# whenever Sage exits.
```



---

archive/issue_comments_025187.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nREFEREE:\n\nCan you please rebase this against 3.2.1.alpha*?  I tried applying and got some many failed hunks I can't go further.\n\n```\nsage: hg_scripts.apply('https://github.com/sagemath/sage/files/ticket4354/trac_4354.patch.gz')\nAttempting to load remote file: https://github.com/sagemath/sage/files/ticket4354/trac_4354.patch.gz?format=raw\nLoading: [..]\ncd \"/Users/wstein/sage/local/bin\" && hg status\ncd \"/Users/wstein/sage/local/bin\" && hg status\ncd \"/Users/wstein/sage/local/bin\" && hg import   \"/Users/wstein/.sage/temp/teragon_2.local/1537/tmp_0.patch\"\napplying /Users/wstein/.sage/temp/teragon_2.local/1537/tmp_0.patch\npatching file sage-sage\nHunk #5 succeeded at 227 with fuzz 1 (offset 4 lines).\nHunk #6 succeeded at 246 with fuzz 1 (offset 4 lines).\nHunk #7 FAILED at 332\nHunk #8 FAILED at 376\nHunk #10 succeeded at 474 with fuzz 1 (offset 41 lines).\nHunk #12 succeeded at 507 with fuzz 1 (offset 41 lines).\nHunk #18 succeeded at 603 with fuzz 1 (offset 41 lines).\nHunk #20 succeeded at 647 with fuzz 1 (offset 41 lines).\nHunk #27 FAILED at 768\nHunk #28 FAILED at 794\n4 out of 28 hunks FAILED -- saving rejects to file sage-sage.rej\nabort: patch failed to apply\n```\n\nNote -- I did *read* the patch and I think it's very good.  Also, I'm very glad for Mvngu's observations about all those typos, especially line -2 of SAGE_ROOT/sage.  Can you fix those typos in sage too?",
    "created_at": "2008-11-29T02:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25187",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:4" align="right">comment:4</div>

REFEREE:

Can you please rebase this against 3.2.1.alpha*?  I tried applying and got some many failed hunks I can't go further.

```
sage: hg_scripts.apply('https://github.com/sagemath/sage/files/ticket4354/trac_4354.patch.gz')
Attempting to load remote file: https://github.com/sagemath/sage/files/ticket4354/trac_4354.patch.gz?format=raw
Loading: [..]
cd "/Users/wstein/sage/local/bin" && hg status
cd "/Users/wstein/sage/local/bin" && hg status
cd "/Users/wstein/sage/local/bin" && hg import   "/Users/wstein/.sage/temp/teragon_2.local/1537/tmp_0.patch"
applying /Users/wstein/.sage/temp/teragon_2.local/1537/tmp_0.patch
patching file sage-sage
Hunk #5 succeeded at 227 with fuzz 1 (offset 4 lines).
Hunk #6 succeeded at 246 with fuzz 1 (offset 4 lines).
Hunk #7 FAILED at 332
Hunk #8 FAILED at 376
Hunk #10 succeeded at 474 with fuzz 1 (offset 41 lines).
Hunk #12 succeeded at 507 with fuzz 1 (offset 41 lines).
Hunk #18 succeeded at 603 with fuzz 1 (offset 41 lines).
Hunk #20 succeeded at 647 with fuzz 1 (offset 41 lines).
Hunk #27 FAILED at 768
Hunk #28 FAILED at 794
4 out of 28 hunks FAILED -- saving rejects to file sage-sage.rej
abort: patch failed to apply
```

Note -- I did *read* the patch and I think it's very good.  Also, I'm very glad for Mvngu's observations about all those typos, especially line -2 of SAGE_ROOT/sage.  Can you fix those typos in sage too?



---

archive/issue_events_049111.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-29T02:54:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49111"
}
```



---

archive/issue_events_049112.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-29T02:54:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49112"
}
```



---

archive/issue_comments_025188.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nFrom patch author:\n\n```\nI'm kind of overloaded with work from school now, so it will have to\nwait about 2 or 3 weeks.  If nobody does it before then, I'll do it.\n```",
    "created_at": "2008-11-29T07:16:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25188",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">comment:5</div>

From patch author:

```
I'm kind of overloaded with work from school now, so it will have to
wait about 2 or 3 weeks.  If nobody does it before then, I'll do it.
```



---

archive/issue_comments_025189.json:
```json
{
    "body": "Attachment: **[sage.2.gz](https://github.com/sagemath/sage/files/ticket4354/sage.2.gz)**",
    "created_at": "2008-12-24T04:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25189",
    "user": "https://github.com/sagetrac-abergeron"
}
```

Attachment: **[sage.2.gz](https://github.com/sagemath/sage/files/ticket4354/sage.2.gz)**



---

archive/issue_events_049113.json:
```json
{
    "actor": "https://github.com/sagetrac-abergeron",
    "created_at": "2008-12-24T04:40:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49113"
}
```



---

archive/issue_events_049114.json:
```json
{
    "actor": "https://github.com/sagetrac-abergeron",
    "created_at": "2008-12-24T04:40:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49114"
}
```



---

archive/issue_events_049115.json:
```json
{
    "actor": "https://github.com/sagetrac-abergeron",
    "created_at": "2008-12-24T04:40:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "milestone_number": null,
    "milestone_title": "sage-3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49115"
}
```



---

archive/issue_events_049116.json:
```json
{
    "actor": "https://github.com/sagetrac-abergeron",
    "created_at": "2008-12-24T04:40:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "milestone_number": null,
    "milestone_title": "sage-3.2.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49116"
}
```



---

archive/issue_events_049117.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-12-24T04:40:33Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "subject": "https://github.com/sagetrac-abergeron",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49117"
}
```



---

archive/issue_events_049118.json:
```json
{
    "actor": "https://github.com/sagetrac-abergeron",
    "created_at": "2008-12-24T04:40:33Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "subject": "https://github.com/sagetrac-abergeron",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49118"
}
```



---

archive/issue_comments_025190.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI'm back in buisness!\n\ntrac_4354.2.patch is a rebase against 3.2.2\n\nsage.2 is the sage startup script with the doc changes proposed by mvngu.",
    "created_at": "2008-12-24T04:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25190",
    "user": "https://github.com/sagetrac-abergeron"
}
```

<div id="comment:6" align="right">comment:6</div>

I'm back in buisness!

trac_4354.2.patch is a rebase against 3.2.2

sage.2 is the sage startup script with the doc changes proposed by mvngu.



---

archive/issue_events_049119.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-24T11:49:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "milestone_number": null,
    "milestone_title": "sage-3.2.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49119"
}
```



---

archive/issue_events_049120.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-24T11:49:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "milestone_number": null,
    "milestone_title": "sage-3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49120"
}
```



---

archive/issue_events_049121.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2008-12-29T21:16:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "title_is": "[under review by gsw] loading a file with spaces in the filename doesn't work",
    "title_was": "loading a file with spaces in the filename doesn't work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49121"
}
```



---

archive/issue_comments_025191.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nTarget time for the review: January 13th",
    "created_at": "2008-12-29T21:16:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25191",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:8" align="right">comment:8</div>

Target time for the review: January 13th



---

archive/issue_comments_025192.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nRescheduled for January 18th",
    "created_at": "2009-01-15T21:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25192",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:9" align="right">comment:9</div>

Rescheduled for January 18th



---

archive/issue_events_049122.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-01-15T22:15:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "title_is": "loading a file with spaces in the filename doesn't work",
    "title_was": "[under review by gsw] loading a file with spaces in the filename doesn't work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49122"
}
```



---

archive/issue_events_049123.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2009-01-19T00:15:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49123"
}
```



---

archive/issue_events_049124.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2009-01-19T00:15:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49124"
}
```



---

archive/issue_comments_025193.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nUnfortunately, this patch no longer applies cleanly against Sage 3.2.3.\nIt is obvious how to rebase it, though (sigh).",
    "created_at": "2009-01-19T00:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25193",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:11" align="right">comment:11</div>

Unfortunately, this patch no longer applies cleanly against Sage 3.2.3.
It is obvious how to rebase it, though (sigh).



---

archive/issue_comments_025194.json:
```json
{
    "body": "Attachment: **[trac_4354_rebase.patch.gz](https://github.com/sagemath/sage/files/ticket4354/trac_4354_rebase.patch.gz)**\n\nRebase against 3.3.alpha1",
    "created_at": "2009-01-24T02:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25194",
    "user": "https://github.com/sagetrac-abergeron"
}
```

Attachment: **[trac_4354_rebase.patch.gz](https://github.com/sagemath/sage/files/ticket4354/trac_4354_rebase.patch.gz)**

Rebase against 3.3.alpha1



---

archive/issue_events_049125.json:
```json
{
    "actor": "https://github.com/sagetrac-abergeron",
    "created_at": "2009-01-24T02:48:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49125"
}
```



---

archive/issue_events_049126.json:
```json
{
    "actor": "https://github.com/sagetrac-abergeron",
    "created_at": "2009-01-24T02:48:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49126"
}
```



---

archive/issue_comments_025195.json:
```json
{
    "body": "Attachment: **[trac_4354_rebase_3.3.rc0.patch.gz](https://github.com/sagemath/sage/files/ticket4354/trac_4354_rebase_3.3.rc0.patch.gz)**\n\nrebase against 3.3.rc0 (you'll need also to put \"sage.2\" as \"sage\" into $SAGE_ROOT )",
    "created_at": "2009-02-14T21:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25195",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

Attachment: **[trac_4354_rebase_3.3.rc0.patch.gz](https://github.com/sagemath/sage/files/ticket4354/trac_4354_rebase_3.3.rc0.patch.gz)**

rebase against 3.3.rc0 (you'll need also to put "sage.2" as "sage" into $SAGE_ROOT )



---

archive/issue_comments_025196.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWell, this time \"sage-run\" had changed in between 3.3.alpha0 and 3.3.rc0.\n\nI carefully hand-edited the 3.3.alpha0 patch (which did apply to 3.3.rc0 \"sage-sage\" only, but no longer to \"sage-run\") to reflect these changes, so the HG changeset header with the credit stayed the same.\n\nThe resulting patch now applies cleanly against 3.3.rc0.",
    "created_at": "2009-02-14T21:53:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25196",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:13" align="right">comment:13</div>

Well, this time "sage-run" had changed in between 3.3.alpha0 and 3.3.rc0.

I carefully hand-edited the 3.3.alpha0 patch (which did apply to 3.3.rc0 "sage-sage" only, but no longer to "sage-run") to reflect these changes, so the HG changeset header with the credit stayed the same.

The resulting patch now applies cleanly against 3.3.rc0.



---

archive/issue_comments_025197.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHello Michael,\n\nthis should go in 3.3 now. Of the handful files above, you'll need two:\n\nA) The third one \"sage.2\" to go directly (no repo!!) right under $SAGE_ROOT as \"sage\" to replace the older script of the same name there. Mind the usual file executable flag issues ;-)\n\nB) The last one \"trac_4354_rebase_3.3.rc0.patch\" applies as a HG patch to /local/bin (Sage scripts) repo.\n\nThen test (as the original ticket comment says) from the bash command line (say after \"your_favourite_path_to/sage -sh\"):\n\n```\n$ echo 'print \"ok\"' > 'test file.sage'\n$ sage \"test file.sage\"\n```\n\n(This can hardly be a doctest, it's just outside scope --- and IMHO the issue of testing this kind of environmental stuff should not burden this ticket here, although it is a valid question.)",
    "created_at": "2009-02-14T22:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25197",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:14" align="right">comment:14</div>

Hello Michael,

this should go in 3.3 now. Of the handful files above, you'll need two:

A) The third one "sage.2" to go directly (no repo!!) right under $SAGE_ROOT as "sage" to replace the older script of the same name there. Mind the usual file executable flag issues ;-)

B) The last one "trac_4354_rebase_3.3.rc0.patch" applies as a HG patch to /local/bin (Sage scripts) repo.

Then test (as the original ticket comment says) from the bash command line (say after "your_favourite_path_to/sage -sh"):

```
$ echo 'print "ok"' > 'test file.sage'
$ sage "test file.sage"
```

(This can hardly be a doctest, it's just outside scope --- and IMHO the issue of testing this kind of environmental stuff should not burden this ticket here, although it is a valid question.)



---

archive/issue_events_049127.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2009-02-14T22:07:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49127"
}
```



---

archive/issue_events_049128.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2009-02-14T22:07:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "milestone_number": null,
    "milestone_title": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49128"
}
```



---

archive/issue_events_049129.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2009-02-14T22:07:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49129"
}
```



---

archive/issue_events_049130.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2009-02-14T22:07:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49130"
}
```



---

archive/issue_events_049131.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-02-15T14:05:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49131"
}
```



---

archive/issue_events_049132.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-02-15T14:05:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4354#event-49132"
}
```



---

archive/issue_comments_025198.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nMerged sage.2 and trac_4354_rebase_3.3.rc0.patch in Sage 3.3.rc1.\n\nI double checked both patches and I am confident they do the right thing.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-15T14:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4354#issuecomment-25198",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:15" align="right">comment:15</div>

Merged sage.2 and trac_4354_rebase_3.3.rc0.patch in Sage 3.3.rc1.

I double checked both patches and I am confident they do the right thing.

Cheers,

Michael
