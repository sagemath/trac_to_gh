# Issue 4354: loading a file with spaces in the filename doesn't work

archive/issues_004354.json:
```json
{
    "body": "try it at home:\n\n```\n$ echo 'print \"ok\"' > 'test file.sage'\n$ sage \"test file.sage\"\n```\n\n**Assignee:** abergeron\n\nIssue created by migration from https://trac.sagemath.org/ticket/4354\n\n",
    "closed_at": "2009-02-15T14:05:16Z",
    "created_at": "2008-10-24T00:41:49Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.3",
    "title": "loading a file with spaces in the filename doesn't work",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/4354",
    "user": "https://trac.sagemath.org/admin/accounts/users/anakha"
}
```
try it at home:

```
$ echo 'print "ok"' > 'test file.sage'
$ sage "test file.sage"
```

**Assignee:** abergeron

Issue created by migration from https://trac.sagemath.org/ticket/4354





---

archive/issue_comments_032807.json:
```json
{
    "body": "**Assignee:** anakha",
    "created_at": "2008-10-24T00:42:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32807",
    "user": "https://trac.sagemath.org/admin/accounts/users/anakha"
}
```

**Assignee:** anakha



---

archive/issue_comments_032808.json:
```json
{
    "body": "<a id='comment:1'></a>\nCrap, I need to relax on the submit button",
    "created_at": "2008-10-24T00:42:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32808",
    "user": "https://trac.sagemath.org/admin/accounts/users/anakha"
}
```

<a id='comment:1'></a>
Crap, I need to relax on the submit button



---

archive/issue_events_012964.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/anakha",
    "created_at": "2008-10-24T00:42:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "milestone": "sage-3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12964"
}
```



---

archive/issue_comments_032809.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2008-10-24T01:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32809",
    "user": "https://trac.sagemath.org/admin/accounts/users/anakha"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_004667.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_4354.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4354/trac_4354.patch",
    "created_at": "2008-10-24T01:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/anakha"
}
```



---

archive/issue_comments_032810.json:
```json
{
    "body": "<a id='comment:2'></a>\nWith the above patch and replacement sage script the example given should work and print 'ok'.\n\nBe aware that if you copied the sage script somewhere (like /usr/local/bin) for convenience you need to modify that copy too.  The line near the end that reads \n\n```\n\"$SAGE_ROOT/local/bin/sage-sage\" $*\n```\nneeds to be replaced by\n\n```\n\"$SAGE_ROOT/local/bin/sage-sage\" \"$@\"\n```",
    "created_at": "2008-10-24T01:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32810",
    "user": "https://trac.sagemath.org/admin/accounts/users/anakha"
}
```

<a id='comment:2'></a>
With the above patch and replacement sage script the example given should work and print 'ok'.

Be aware that if you copied the sage script somewhere (like /usr/local/bin) for convenience you need to modify that copy too.  The line near the end that reads 

```
"$SAGE_ROOT/local/bin/sage-sage" $*
```
needs to be replaced by

```
"$SAGE_ROOT/local/bin/sage-sage" "$@"
```



---

archive/issue_comments_032811.json:
```json
{
    "body": "<a id='comment:3'></a>\nFor the patch **sage**, below are some possible fixes to the documentation. Please also refer to #1389.\n\n\n\n1.\n\n```\n-echo \"You must compile SAGE first using 'make' in the SAGE root directory.\" >&2\n+echo \"You must compile Sage first using 'make' in the Sage root directory.\" >&2\n```\n\n\n2.\n\n```\n-echo \"(If you have already compiled SAGE, you must set the SAGE_ROOT variable in \"\n+echo \"(If you have already compiled Sage, you must set the SAGE_ROOT variable in \"\n```\n\n\n3.\n\n```\n-# whenver SAGE exists.\n+# whenever Sage exits.\n```",
    "created_at": "2008-10-27T12:35:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32811",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:3'></a>
For the patch **sage**, below are some possible fixes to the documentation. Please also refer to #1389.



1.

```
-echo "You must compile SAGE first using 'make' in the SAGE root directory." >&2
+echo "You must compile Sage first using 'make' in the Sage root directory." >&2
```


2.

```
-echo "(If you have already compiled SAGE, you must set the SAGE_ROOT variable in "
+echo "(If you have already compiled Sage, you must set the SAGE_ROOT variable in "
```


3.

```
-# whenver SAGE exists.
+# whenever Sage exits.
```



---

archive/issue_comments_032812.json:
```json
{
    "body": "<a id='comment:4'></a>\nREFEREE:\n\nCan you please rebase this against 3.2.1.alpha*?  I tried applying and got some many failed hunks I can't go further.\n\n```\nsage: hg_scripts.apply('http://trac.sagemath.org/sage_trac/attachment/ticket/4354/trac_4354.patch')\nAttempting to load remote file: http://trac.sagemath.org/sage_trac/attachment/ticket/4354/trac_4354.patch?format=raw\nLoading: [..]\ncd \"/Users/wstein/sage/local/bin\" && hg status\ncd \"/Users/wstein/sage/local/bin\" && hg status\ncd \"/Users/wstein/sage/local/bin\" && hg import   \"/Users/wstein/.sage/temp/teragon_2.local/1537/tmp_0.patch\"\napplying /Users/wstein/.sage/temp/teragon_2.local/1537/tmp_0.patch\npatching file sage-sage\nHunk #5 succeeded at 227 with fuzz 1 (offset 4 lines).\nHunk #6 succeeded at 246 with fuzz 1 (offset 4 lines).\nHunk #7 FAILED at 332\nHunk #8 FAILED at 376\nHunk #10 succeeded at 474 with fuzz 1 (offset 41 lines).\nHunk #12 succeeded at 507 with fuzz 1 (offset 41 lines).\nHunk #18 succeeded at 603 with fuzz 1 (offset 41 lines).\nHunk #20 succeeded at 647 with fuzz 1 (offset 41 lines).\nHunk #27 FAILED at 768\nHunk #28 FAILED at 794\n4 out of 28 hunks FAILED -- saving rejects to file sage-sage.rej\nabort: patch failed to apply\n```\n\nNote -- I did *read* the patch and I think it's very good.  Also, I'm very glad for Mvngu's observations about all those typos, especially line -2 of SAGE_ROOT/sage.  Can you fix those typos in sage too?",
    "created_at": "2008-11-29T02:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32812",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:4'></a>
REFEREE:

Can you please rebase this against 3.2.1.alpha*?  I tried applying and got some many failed hunks I can't go further.

```
sage: hg_scripts.apply('http://trac.sagemath.org/sage_trac/attachment/ticket/4354/trac_4354.patch')
Attempting to load remote file: http://trac.sagemath.org/sage_trac/attachment/ticket/4354/trac_4354.patch?format=raw
Loading: [..]
cd "/Users/wstein/sage/local/bin" && hg status
cd "/Users/wstein/sage/local/bin" && hg status
cd "/Users/wstein/sage/local/bin" && hg import   "/Users/wstein/.sage/temp/teragon_2.local/1537/tmp_0.patch"
applying /Users/wstein/.sage/temp/teragon_2.local/1537/tmp_0.patch
patching file sage-sage
Hunk #5 succeeded at 227 with fuzz 1 (offset 4 lines).
Hunk #6 succeeded at 246 with fuzz 1 (offset 4 lines).
Hunk #7 FAILED at 332
Hunk #8 FAILED at 376
Hunk #10 succeeded at 474 with fuzz 1 (offset 41 lines).
Hunk #12 succeeded at 507 with fuzz 1 (offset 41 lines).
Hunk #18 succeeded at 603 with fuzz 1 (offset 41 lines).
Hunk #20 succeeded at 647 with fuzz 1 (offset 41 lines).
Hunk #27 FAILED at 768
Hunk #28 FAILED at 794
4 out of 28 hunks FAILED -- saving rejects to file sage-sage.rej
abort: patch failed to apply
```

Note -- I did *read* the patch and I think it's very good.  Also, I'm very glad for Mvngu's observations about all those typos, especially line -2 of SAGE_ROOT/sage.  Can you fix those typos in sage too?



---

archive/issue_comments_032813.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2008-11-29T02:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32813",
    "user": "https://github.com/williamstein"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_032814.json:
```json
{
    "body": "<a id='comment:5'></a>\nFrom patch author:\n\n```\nI'm kind of overloaded with work from school now, so it will have to\nwait about 2 or 3 weeks.  If nobody does it before then, I'll do it.\n```",
    "created_at": "2008-11-29T07:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32814",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:5'></a>
From patch author:

```
I'm kind of overloaded with work from school now, so it will have to
wait about 2 or 3 weeks.  If nobody does it before then, I'll do it.
```



---

archive/attachments_004668.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "sage.2",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4354/sage.2",
    "created_at": "2008-12-24T04:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.2",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```



---

archive/issue_comments_032815.json:
```json
{
    "body": "",
    "created_at": "2008-12-24T04:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32815",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```





---

archive/issue_comments_032816.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2008-12-24T04:40:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32816",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_events_012965.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/abergeron",
    "created_at": "2008-12-24T04:40:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "milestone": "sage-3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12965"
}
```



---

archive/issue_events_012966.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/abergeron",
    "created_at": "2008-12-24T04:40:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "milestone": "sage-3.2.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12966"
}
```



---

archive/issue_comments_032817.json:
```json
{
    "body": "**Changing assignee** from anakha to abergeron.",
    "created_at": "2008-12-24T04:40:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32817",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```

**Changing assignee** from anakha to abergeron.



---

archive/issue_comments_032818.json:
```json
{
    "body": "<a id='comment:6'></a>\nI'm back in buisness!\n\ntrac_4354.2.patch is a rebase against 3.2.2\n\nsage.2 is the sage startup script with the doc changes proposed by mvngu.",
    "created_at": "2008-12-24T04:40:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32818",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```

<a id='comment:6'></a>
I'm back in buisness!

trac_4354.2.patch is a rebase against 3.2.2

sage.2 is the sage startup script with the doc changes proposed by mvngu.



---

archive/issue_events_012967.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-12-24T11:49:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "milestone": "sage-3.2.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12967"
}
```



---

archive/issue_events_012968.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-12-24T11:49:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "milestone": "sage-3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12968"
}
```



---

archive/issue_events_012969.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "rename": {
        "from": "loading a file with spaces in the filename doesn't work",
        "to": "[under review by gsw] loading a file with spaces in the filename doesn't work"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12969"
}
```



---

archive/issue_comments_032819.json:
```json
{
    "body": "**Changing status** from needs_review to needs_review.",
    "created_at": "2008-12-29T21:16:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32819",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

**Changing status** from needs_review to needs_review.



---

archive/issue_comments_032820.json:
```json
{
    "body": "<a id='comment:8'></a>\nTarget time for the review: January 13th",
    "created_at": "2008-12-29T21:16:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32820",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

<a id='comment:8'></a>
Target time for the review: January 13th



---

archive/issue_comments_032821.json:
```json
{
    "body": "<a id='comment:9'></a>\nRescheduled for January 18th",
    "created_at": "2009-01-15T21:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32821",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

<a id='comment:9'></a>
Rescheduled for January 18th



---

archive/issue_events_012970.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "rename": {
        "from": "[under review by gsw] loading a file with spaces in the filename doesn't work",
        "to": "loading a file with spaces in the filename doesn't work"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12970"
}
```



---

archive/issue_comments_032822.json:
```json
{
    "body": "**Changing status** from needs_review to needs_review.",
    "created_at": "2009-01-15T22:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32822",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from needs_review to needs_review.



---

archive/issue_comments_032823.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2009-01-19T00:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32823",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_032824.json:
```json
{
    "body": "<a id='comment:11'></a>\nUnfortunately, this patch no longer applies cleanly against Sage 3.2.3.\nIt is obvious how to rebase it, though (sigh).",
    "created_at": "2009-01-19T00:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32824",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

<a id='comment:11'></a>
Unfortunately, this patch no longer applies cleanly against Sage 3.2.3.
It is obvious how to rebase it, though (sigh).



---

archive/attachments_004669.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_4354_rebase.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4354/trac_4354_rebase.patch",
    "created_at": "2009-01-24T02:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```



---

archive/issue_comments_032825.json:
```json
{
    "body": "Rebase against 3.3.alpha1",
    "created_at": "2009-01-24T02:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32825",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```

Rebase against 3.3.alpha1



---

archive/issue_comments_032826.json:
```json
{
    "body": "**Changing status** from new to assigned.",
    "created_at": "2009-01-24T02:48:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32826",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```

**Changing status** from new to assigned.



---

archive/issue_comments_032827.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2009-01-24T02:48:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32827",
    "user": "https://trac.sagemath.org/admin/accounts/users/abergeron"
}
```

**Changing status** from needs_work to needs_review.



---

archive/attachments_004670.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_4354_rebase_3.3.rc0.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket4354/trac_4354_rebase_3.3.rc0.patch",
    "created_at": "2009-02-14T21:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```



---

archive/issue_comments_032828.json:
```json
{
    "body": "rebase against 3.3.rc0 (you'll need also to put \"sage.2\" as \"sage\" into $SAGE_ROOT )",
    "created_at": "2009-02-14T21:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32828",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

rebase against 3.3.rc0 (you'll need also to put "sage.2" as "sage" into $SAGE_ROOT )



---

archive/issue_comments_032829.json:
```json
{
    "body": "<a id='comment:13'></a>\nWell, this time \"sage-run\" had changed in between 3.3.alpha0 and 3.3.rc0.\n\nI carefully hand-edited the 3.3.alpha0 patch (which did apply to 3.3.rc0 \"sage-sage\" only, but no longer to \"sage-run\") to reflect these changes, so the HG changeset header with the credit stayed the same.\n\nThe resulting patch now applies cleanly against 3.3.rc0.",
    "created_at": "2009-02-14T21:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32829",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

<a id='comment:13'></a>
Well, this time "sage-run" had changed in between 3.3.alpha0 and 3.3.rc0.

I carefully hand-edited the 3.3.alpha0 patch (which did apply to 3.3.rc0 "sage-sage" only, but no longer to "sage-run") to reflect these changes, so the HG changeset header with the credit stayed the same.

The resulting patch now applies cleanly against 3.3.rc0.



---

archive/issue_comments_032830.json:
```json
{
    "body": "<a id='comment:14'></a>\nHello Michael,\n\nthis should go in 3.3 now. Of the handful files above, you'll need two:\n\nA) The third one \"sage.2\" to go directly (no repo!!) right under $SAGE_ROOT as \"sage\" to replace the older script of the same name there. Mind the usual file executable flag issues ;-)\n\nB) The last one \"trac_4354_rebase_3.3.rc0.patch\" applies as a HG patch to /local/bin (Sage scripts) repo.\n\nThen test (as the original ticket comment says) from the bash command line (say after \"your_favourite_path_to/sage -sh\"):\n\n```\n$ echo 'print \"ok\"' > 'test file.sage'\n$ sage \"test file.sage\"\n```\n\n(This can hardly be a doctest, it's just outside scope --- and IMHO the issue of testing this kind of environmental stuff should not burden this ticket here, although it is a valid question.)",
    "created_at": "2009-02-14T22:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32830",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

<a id='comment:14'></a>
Hello Michael,

this should go in 3.3 now. Of the handful files above, you'll need two:

A) The third one "sage.2" to go directly (no repo!!) right under $SAGE_ROOT as "sage" to replace the older script of the same name there. Mind the usual file executable flag issues ;-)

B) The last one "trac_4354_rebase_3.3.rc0.patch" applies as a HG patch to /local/bin (Sage scripts) repo.

Then test (as the original ticket comment says) from the bash command line (say after "your_favourite_path_to/sage -sh"):

```
$ echo 'print "ok"' > 'test file.sage'
$ sage "test file.sage"
```

(This can hardly be a doctest, it's just outside scope --- and IMHO the issue of testing this kind of environmental stuff should not burden this ticket here, although it is a valid question.)



---

archive/issue_events_012971.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber",
    "created_at": "2009-02-14T22:07:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "milestone": "sage-3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12971"
}
```



---

archive/issue_events_012972.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber",
    "created_at": "2009-02-14T22:07:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "milestone": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12972"
}
```



---

archive/issue_comments_032831.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-02-14T22:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32831",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_012973.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-02-15T14:05:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/4354#event-12973"
}
```



---

archive/issue_comments_032832.json:
```json
{
    "body": "<a id='comment:15'></a>\nMerged sage.2 and trac_4354_rebase_3.3.rc0.patch in Sage 3.3.rc1.\n\nI double checked both patches and I am confident they do the right thing.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-15T14:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/4354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/4354#issuecomment-32832",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:15'></a>
Merged sage.2 and trac_4354_rebase_3.3.rc0.patch in Sage 3.3.rc1.

I double checked both patches and I am confident they do the right thing.

Cheers,

Michael
