# Issue 30974: ci-cygwin*.yml: Fix packaging up of SAGE_LOCAL/var/tmp/sage/build/*

Issue created by migration from https://trac.sagemath.org/ticket/31211

Original creator: mkoeppe

Original creation time: 2021-01-08 18:28:04

CC:  @kliem malb

These files are intended to be put in the logs artifact, but the code is being run with the wrong shell, so it fails silently:

https://github.com/kliem/sage/runs/1626910566

```
0s
Run mkdir -p "artifacts/$LOGS_ARTIFACT_NAME"; for a in "/opt/sage-255cf51a4f41b054d32a39562102877b0b18969f"/var/tmp/sage/build/*; do if [ -d "$a" ]; then tar -c --remove-files -f "artifacts/$LOGS_ARTIFACT_NAME/$(basename "$a").tar" "$a"; fi; done; cp -r logs/*  "artifacts/$LOGS_ARTIFACT_NAME"
  mkdir -p "artifacts/$LOGS_ARTIFACT_NAME"; for a in "/opt/sage-255cf51a4f41b054d32a39562102877b0b18969f"/var/tmp/sage/build/*; do if [ -d "$a" ]; then tar -c --remove-files -f "artifacts/$LOGS_ARTIFACT_NAME/$(basename "$a").tar" "$a"; fi; done; cp -r logs/*  "artifacts/$LOGS_ARTIFACT_NAME"
  shell: C:\Program Files\Git\bin\bash.EXE --noprofile --norc -e -o pipefail {0}
```

(the correct shell to use for running tar is the cygwin shell.)




---

Comment by mkoeppe created at 2021-03-24 02:04:25

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.


---

Comment by mkoeppe created at 2022-05-03 21:48:33

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-05-03 21:48:33

done in #33791


---

Comment by klee created at 2022-07-29 20:53:11

Changing status from needs_review to positive_review.


---

Comment by klee created at 2022-07-29 20:53:11

Okay.


---

Comment by mkoeppe created at 2022-08-02 06:31:03

Resolution: invalid
