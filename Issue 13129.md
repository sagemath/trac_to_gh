# Issue 13129: Implement linear time algorithm to detect path intersection

archive/issues_013129.json:
```json
{
    "body": "Assignee: lucaspastor\n\nCC:  slabbe\n\nPath intersection can be detected in a fast way using the algorithm described\nin [BKP2011]. The algorithm is based on radix trees.\n\n[BKP2011] S. Brlek, M. Koskas, X. Proven\u00e7al. A linear time and space\nalgorithm for detecting path intersection in `Z^d`, Theorical Computer\nScience 412 (2011) 4841-4850:[http://dx.doi.org/10.1016/j.tcs.2011.04.019](http://dx.doi.org/10.1016/j.tcs.2011.04.019)\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13301\n\n",
    "created_at": "2012-07-26T22:32:01Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "title": "Implement linear time algorithm to detect path intersection",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13129",
    "user": "lucaspastor"
}
```
Assignee: lucaspastor

CC:  slabbe

Path intersection can be detected in a fast way using the algorithm described
in [BKP2011]. The algorithm is based on radix trees.

[BKP2011] S. Brlek, M. Koskas, X. Proven√ßal. A linear time and space
algorithm for detecting path intersection in `Z^d`, Theorical Computer
Science 412 (2011) 4841-4850:[http://dx.doi.org/10.1016/j.tcs.2011.04.019](http://dx.doi.org/10.1016/j.tcs.2011.04.019)


Issue created by migration from https://trac.sagemath.org/ticket/13301





---

archive/issue_comments_159827.json:
```json
{
    "body": "The fact that -1 % 2 returns -1 in sage library .pyx file is explained here :\n\nhttps://groups.google.com/forum/?fromgroups#!topic/sage-devel/GMfCUATUquQ",
    "created_at": "2012-07-27T02:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13129",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13129#issuecomment-159827",
    "user": "slabbe"
}
```

The fact that -1 % 2 returns -1 in sage library .pyx file is explained here :

https://groups.google.com/forum/?fromgroups#!topic/sage-devel/GMfCUATUquQ



---

archive/issue_comments_159828.json:
```json
{
    "body": "Attachment\n\nThe implementation's sage patch.",
    "created_at": "2012-08-07T23:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13129",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13129#issuecomment-159828",
    "user": "lucaspastor"
}
```

Attachment

The implementation's sage patch.



---

archive/issue_comments_159829.json:
```json
{
    "body": "As of now, the node structure is:\n\n\n```\n#Node structure\ncdef struct Node:\n    int node_number\n    int node_id\n    Node* parent\n    Node** children\n    Node** neighbors\n    int* coords\n    int visited\n```\n\n\nI believe it could be simplified. For example, I believe `node_id` is unused by the important 4 functions. Also `node_number` and `visited` are used by distinct functions. So, they could be merged into one `int data` which could do both job.\n\nMoreover, I thought the coords were not necessary inside the node as we can find them from the data structure. Hence, a simplified node structure could be :\n\n\n```\n#Node structure\ncdef struct Node:\n    Node* parent\n    Node** children\n    Node** neighbors\n    int data\n```\n\n\nWhat do you think?",
    "created_at": "2012-08-30T16:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13129",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13129#issuecomment-159829",
    "user": "slabbe"
}
```

As of now, the node structure is:


```
#Node structure
cdef struct Node:
    int node_number
    int node_id
    Node* parent
    Node** children
    Node** neighbors
    int* coords
    int visited
```


I believe it could be simplified. For example, I believe `node_id` is unused by the important 4 functions. Also `node_number` and `visited` are used by distinct functions. So, they could be merged into one `int data` which could do both job.

Moreover, I thought the coords were not necessary inside the node as we can find them from the data structure. Hence, a simplified node structure could be :


```
#Node structure
cdef struct Node:
    Node* parent
    Node** children
    Node** neighbors
    int data
```


What do you think?
