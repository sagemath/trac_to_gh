# Issue 20131: Squarefree part

archive/issues_020131.json:
```json
{
    "body": "CC:  mmarco jmantysalo\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/20368\n\n",
    "created_at": "2016-04-06T10:40:15Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Squarefree part",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20131",
    "user": "mmezzarobba"
}
```
CC:  mmarco jmantysalo



Issue created by migration from https://trac.sagemath.org/ticket/20368





---

archive/issue_comments_277379.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-04-06T10:41:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277379",
    "user": "mmezzarobba"
}
```

New commits:



---

archive/issue_comments_277380.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to algebra.",
    "created_at": "2016-04-06T10:41:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277380",
    "user": "mmezzarobba"
}
```

Changing component from PLEASE CHANGE to algebra.



---

archive/issue_comments_277381.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-04-06T10:41:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277381",
    "user": "mmezzarobba"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_277382.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-06T10:46:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277382",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_277383.json:
```json
{
    "body": "Could you add an example of just an integer? It would be easier to see what this is about for a beginner.",
    "created_at": "2016-04-06T10:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277383",
    "user": "jmantysalo"
}
```

Could you add an example of just an integer? It would be easier to see what this is about for a beginner.



---

archive/issue_comments_277384.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-06T11:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277384",
    "user": "mmezzarobba"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_277385.json:
```json
{
    "body": "Replying to [comment:3 jmantysalo]:\n> Could you add an example of just an integer? It would be easier to see what this is about for a beginner.\n\nArgh: your comment made me realize that integers already had a `squarefree_part()` method that uses a different definition of the squarefree part.",
    "created_at": "2016-04-06T11:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277385",
    "user": "mmezzarobba"
}
```

Replying to [comment:3 jmantysalo]:
> Could you add an example of just an integer? It would be easier to see what this is about for a beginner.

Argh: your comment made me realize that integers already had a `squarefree_part()` method that uses a different definition of the squarefree part.



---

archive/issue_comments_277386.json:
```json
{
    "body": "Replying to [comment:4 mmezzarobba]:\n\n> Argh: your comment made me realize that integers already had a `squarefree_part()` method that uses a different definition of the squarefree part.\n\nGood to notice that in this time and not later...\n\nCan you also check #20369, if there will be something similar problem?",
    "created_at": "2016-04-06T11:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277386",
    "user": "jmantysalo"
}
```

Replying to [comment:4 mmezzarobba]:

> Argh: your comment made me realize that integers already had a `squarefree_part()` method that uses a different definition of the squarefree part.

Good to notice that in this time and not later...

Can you also check #20369, if there will be something similar problem?



---

archive/issue_comments_277387.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-06T11:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277387",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_277388.json:
```json
{
    "body": "Replying to [comment:5 jmantysalo]:\n> Replying to [comment:4 mmezzarobba]:\n> \n> > Argh: your comment made me realize that integers already had a `squarefree_part()` method that uses a different definition of the squarefree part.\n\nOkay, assuming I read the definition correctly, the two versions should now agree. Unfortunately, I don't know how to test if that's the case, since integers don't implement `squarefree_decomposition()`. I guess we should implement a generic `squarefree_decomposition()`, perhaps as part of this ticket, but I don't have time for that right now.\n\n> Can you also check #20369, if there will be something similar problem?\n\nI found no mention of `elementary_divisor()` anywhere in the sage source code, so I guess there won't be the same problem. Of course, there could always be another inconsistency regarding who knows what convention or definitions, like there are so many in sage!",
    "created_at": "2016-04-06T11:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277388",
    "user": "mmezzarobba"
}
```

Replying to [comment:5 jmantysalo]:
> Replying to [comment:4 mmezzarobba]:
> 
> > Argh: your comment made me realize that integers already had a `squarefree_part()` method that uses a different definition of the squarefree part.

Okay, assuming I read the definition correctly, the two versions should now agree. Unfortunately, I don't know how to test if that's the case, since integers don't implement `squarefree_decomposition()`. I guess we should implement a generic `squarefree_decomposition()`, perhaps as part of this ticket, but I don't have time for that right now.

> Can you also check #20369, if there will be something similar problem?

I found no mention of `elementary_divisor()` anywhere in the sage source code, so I guess there won't be the same problem. Of course, there could always be another inconsistency regarding who knows what convention or definitions, like there are so many in sage!



---

archive/issue_comments_277389.json:
```json
{
    "body": "I think that you should look at `radical()` in `arith/misc.py` and probably remove the implementation using `factor()` from that.",
    "created_at": "2016-04-06T17:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277389",
    "user": "jdemeyer"
}
```

I think that you should look at `radical()` in `arith/misc.py` and probably remove the implementation using `factor()` from that.



---

archive/issue_comments_277390.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-01-31T15:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277390",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_277391.json:
```json
{
    "body": "Replying to [comment:7 mmezzarobba]:\n> Unfortunately, I don't know how to test if that's the case, since integers don't implement `squarefree_decomposition()`. I guess we should implement a generic `squarefree_decomposition()`, perhaps as part of this ticket, but I don't have time for that right now.\n\nI changed my mind about that. The squarefree decomposition is very useful for polynomials because it can be computed efficiently, but not that interesting for, say, integers, where it requires(?) factoring. So perhaps it is actually better to leave it unimplemented until someone really needs it (as opposed to something like `radical()`) for something else than polynomials.\n\nReplying to [comment:8 jdemeyer]:\n> I think that you should look at `radical()` in `arith/misc.py` and probably remove the implementation using `factor()` from that.\n\nThanks for the suggestion. I moved the implementation using `factor()` to my new method.",
    "created_at": "2018-01-31T15:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277391",
    "user": "mmezzarobba"
}
```

Replying to [comment:7 mmezzarobba]:
> Unfortunately, I don't know how to test if that's the case, since integers don't implement `squarefree_decomposition()`. I guess we should implement a generic `squarefree_decomposition()`, perhaps as part of this ticket, but I don't have time for that right now.

I changed my mind about that. The squarefree decomposition is very useful for polynomials because it can be computed efficiently, but not that interesting for, say, integers, where it requires(?) factoring. So perhaps it is actually better to leave it unimplemented until someone really needs it (as opposed to something like `radical()`) for something else than polynomials.

Replying to [comment:8 jdemeyer]:
> I think that you should look at `radical()` in `arith/misc.py` and probably remove the implementation using `factor()` from that.

Thanks for the suggestion. I moved the implementation using `factor()` to my new method.



---

archive/issue_comments_277392.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-01-31T15:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277392",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_277393.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-01-31T15:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277393",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_277394.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-01-31T15:44:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277394",
    "user": "mmezzarobba"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_277395.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-05-10T19:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277395",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_277396.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-05-29T06:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277396",
    "user": "vdelecroix"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_277397.json:
```json
{
    "body": "Thanks!",
    "created_at": "2018-05-29T08:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277397",
    "user": "mmezzarobba"
}
```

Thanks!



---

archive/issue_comments_277398.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-30T19:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20131",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20131#issuecomment-277398",
    "user": "vbraun"
}
```

Resolution: fixed
