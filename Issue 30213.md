# Issue 30213: Doctest failure with gap3 in reflection group element hashing

Issue created by migration from https://trac.sagemath.org/ticket/30450

Original creator: tscrim

Original creation time: 2020-08-27 02:14:52

CC:  stumpc5

Keywords: gap3 reflection group


```
**********************************************************************
File "src/sage/combinat/root_system/reflection_group_element.pyx", line 71, in sage.combinat.root_system.reflection_group_element.ComplexReflectionGroupElement.__hash__
Failed example:
    WB_hash.intersection(WC_hash)                     # optional - gap3
Expected:
    set()
Got:
    {-9223363265629785093,
     ...
```


Perhaps we should change the test to

```
sage: len(WB_hash.intersection(WC_hash)) < WB.cardinality()
True
```

as there is no guarantee that the parents have sufficiently different hashes to lead to them being disjoint:

```
sage: WB = ReflectionGroup(['B',5])
sage: WC = ReflectionGroup(['C',5])
sage: hash(WC)                                                                                                                 
-9223363307533887018
sage: hash(WB)                                                                                                                 
-9223363307530756153
```



---

Comment by mkoeppe created at 2021-03-15 22:07:04

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.
