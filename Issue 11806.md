# Issue 11806: Polar plot with short axis leads to error

Issue created by migration from https://trac.sagemath.org/ticket/11978

Original creator: kcrisman

Original creation time: 2011-11-02 01:54:48

Assignee: jason, was

CC:  jason


```
sage: polar_plot(1/sin(1.001*theta),(theta, pi/12,pi/2))

Downloads/sage-4.7.1/local/lib/python2.6/site-packages/matplotlib/backends/backend_agg.pyc in print_png(self, filename_or_obj, *args, **kwargs)
    443             filename_or_obj = file(filename_or_obj, 'wb')
    444         _png.write_png(renderer._renderer.buffer_rgba(0, 0),
    445                        renderer.width, renderer.height,
--> 446                        filename_or_obj, self.figure.dpi)
    447         renderer.dpi = original_dpi

RuntimeError: Error building image
```

but this works

```
sage: polar_plot(1/sin(1.01*theta),(theta, pi/12,pi/2))
```

though it looks terrible, see attached pictures.

Hat tip to Bill Page at [this ask.sagemath.org question](http://ask.sagemath.org/question/862/polar_plot1sinthetatheta-pi12-pi2) for noticing the error.


---

Attachment


---

Comment by kcrisman created at 2011-11-02 01:56:24

My guess is the automatic aspect ratio 1 is the problem, but that's just a guess.


---

Comment by jason created at 2011-11-02 02:04:28

For polar plots, it makes sense a lot of times to have aspect_ratio=1.  You want circles to look like circles, roses to look like roses, etc.


---

Comment by kcrisman created at 2011-11-02 02:25:36

> For polar plots, it makes sense a lot of times to have aspect_ratio=1.  You want circles to look like circles, roses to look like roses, etc.

Totes!  I just meant that I suspect this is causing it, so we'd have to do some kind of workaround.  

Actually, the "right" answer is to not allow such crazy axis behavior where the labels squash each other - maybe some kind of minimum figsize that keeps them looking ok - but I don't know if that would be easy to do at all.


---

Comment by jdemeyer created at 2011-11-03 16:14:43

Milestone sage-4.7.3 deleted


---

Comment by kcrisman created at 2011-11-05 03:00:12

Any ideas how to rename the summary of this ticket?  I do feel like we shouldn't return quite that skinny of a plot in terms of crushed labels... or Jason, do you feel like this should be closed since there isn't an _error_ in 4.7.2?


---

Comment by jason created at 2011-11-05 13:58:25

Well, the picture is certainly ugly, so let's fix it.  I'll put it as minor, though.


---

Comment by jason created at 2011-11-05 13:58:25

Changing priority from major to minor.
