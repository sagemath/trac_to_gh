# Issue 11806: Polar plot with short axis leads to error

archive/issues_011806.json:
```json
{
    "body": "Assignee: jason, was\n\nCC:  @jasongrout\n\n\n```\nsage: polar_plot(1/sin(1.001*theta),(theta, pi/12,pi/2))\n\nDownloads/sage-4.7.1/local/lib/python2.6/site-packages/matplotlib/backends/backend_agg.pyc in print_png(self, filename_or_obj, *args, **kwargs)\n    443             filename_or_obj = file(filename_or_obj, 'wb')\n    444         _png.write_png(renderer._renderer.buffer_rgba(0, 0),\n    445                        renderer.width, renderer.height,\n--> 446                        filename_or_obj, self.figure.dpi)\n    447         renderer.dpi = original_dpi\n\nRuntimeError: Error building image\n```\n\nbut this works\n\n```\nsage: polar_plot(1/sin(1.01*theta),(theta, pi/12,pi/2))\n```\n\nthough it looks terrible, see attached pictures.\n\nHat tip to Bill Page at [this ask.sagemath.org question](http://ask.sagemath.org/question/862/polar_plot1sinthetatheta-pi12-pi2) for noticing the error.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11978\n\n",
    "created_at": "2011-11-02T01:54:48Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Polar plot with short axis leads to error",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11806",
    "user": "https://github.com/kcrisman"
}
```
Assignee: jason, was

CC:  @jasongrout


```
sage: polar_plot(1/sin(1.001*theta),(theta, pi/12,pi/2))

Downloads/sage-4.7.1/local/lib/python2.6/site-packages/matplotlib/backends/backend_agg.pyc in print_png(self, filename_or_obj, *args, **kwargs)
    443             filename_or_obj = file(filename_or_obj, 'wb')
    444         _png.write_png(renderer._renderer.buffer_rgba(0, 0),
    445                        renderer.width, renderer.height,
--> 446                        filename_or_obj, self.figure.dpi)
    447         renderer.dpi = original_dpi

RuntimeError: Error building image
```

but this works

```
sage: polar_plot(1/sin(1.01*theta),(theta, pi/12,pi/2))
```

though it looks terrible, see attached pictures.

Hat tip to Bill Page at [this ask.sagemath.org question](http://ask.sagemath.org/question/862/polar_plot1sinthetatheta-pi12-pi2) for noticing the error.

Issue created by migration from https://trac.sagemath.org/ticket/11978





---

archive/issue_comments_134772.json:
```json
{
    "body": "Attachment [tinyaxispolarplot2.png](tarball://root/attachments/some-uuid/ticket11978/tinyaxispolarplot2.png) by @kcrisman created at 2011-11-02 01:55:10",
    "created_at": "2011-11-02T01:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11806#issuecomment-134772",
    "user": "https://github.com/kcrisman"
}
```

Attachment [tinyaxispolarplot2.png](tarball://root/attachments/some-uuid/ticket11978/tinyaxispolarplot2.png) by @kcrisman created at 2011-11-02 01:55:10



---

archive/issue_comments_134773.json:
```json
{
    "body": "My guess is the automatic aspect ratio 1 is the problem, but that's just a guess.",
    "created_at": "2011-11-02T01:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11806#issuecomment-134773",
    "user": "https://github.com/kcrisman"
}
```

My guess is the automatic aspect ratio 1 is the problem, but that's just a guess.



---

archive/issue_comments_134774.json:
```json
{
    "body": "For polar plots, it makes sense a lot of times to have aspect_ratio=1.  You want circles to look like circles, roses to look like roses, etc.",
    "created_at": "2011-11-02T02:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11806#issuecomment-134774",
    "user": "https://github.com/jasongrout"
}
```

For polar plots, it makes sense a lot of times to have aspect_ratio=1.  You want circles to look like circles, roses to look like roses, etc.



---

archive/issue_comments_134775.json:
```json
{
    "body": "> For polar plots, it makes sense a lot of times to have aspect_ratio=1.  You want circles to look like circles, roses to look like roses, etc.\n\nTotes!  I just meant that I suspect this is causing it, so we'd have to do some kind of workaround.  \n\nActually, the \"right\" answer is to not allow such crazy axis behavior where the labels squash each other - maybe some kind of minimum figsize that keeps them looking ok - but I don't know if that would be easy to do at all.",
    "created_at": "2011-11-02T02:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11806#issuecomment-134775",
    "user": "https://github.com/kcrisman"
}
```

> For polar plots, it makes sense a lot of times to have aspect_ratio=1.  You want circles to look like circles, roses to look like roses, etc.

Totes!  I just meant that I suspect this is causing it, so we'd have to do some kind of workaround.  

Actually, the "right" answer is to not allow such crazy axis behavior where the labels squash each other - maybe some kind of minimum figsize that keeps them looking ok - but I don't know if that would be easy to do at all.



---

archive/issue_comments_134776.json:
```json
{
    "body": "Milestone sage-4.7.3 deleted",
    "created_at": "2011-11-03T16:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11806#issuecomment-134776",
    "user": "https://github.com/jdemeyer"
}
```

Milestone sage-4.7.3 deleted



---

archive/issue_comments_134777.json:
```json
{
    "body": "Any ideas how to rename the summary of this ticket?  I do feel like we shouldn't return quite that skinny of a plot in terms of crushed labels... or Jason, do you feel like this should be closed since there isn't an *error* in 4.7.2?",
    "created_at": "2011-11-05T03:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11806#issuecomment-134777",
    "user": "https://github.com/kcrisman"
}
```

Any ideas how to rename the summary of this ticket?  I do feel like we shouldn't return quite that skinny of a plot in terms of crushed labels... or Jason, do you feel like this should be closed since there isn't an *error* in 4.7.2?



---

archive/issue_comments_134778.json:
```json
{
    "body": "Well, the picture is certainly ugly, so let's fix it.  I'll put it as minor, though.",
    "created_at": "2011-11-05T13:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11806#issuecomment-134778",
    "user": "https://github.com/jasongrout"
}
```

Well, the picture is certainly ugly, so let's fix it.  I'll put it as minor, though.



---

archive/issue_comments_134779.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2011-11-05T13:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11806#issuecomment-134779",
    "user": "https://github.com/jasongrout"
}
```

Changing priority from major to minor.
