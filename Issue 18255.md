# Issue 18255: sage's setup.py breaks on python 3

archive/issues_018255.json:
```json
{
    "body": "Mostly trivially.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18492\n\n",
    "created_at": "2015-05-24T19:50:37Z",
    "labels": [
        "build",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "sage's setup.py breaks on python 3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18255",
    "user": "@ohanar"
}
```
Mostly trivially.

Issue created by migration from https://trac.sagemath.org/ticket/18492





---

archive/issue_comments_246509.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-24T19:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246509",
    "user": "@ohanar"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_246510.json:
```json
{
    "body": "`six` should be mentioned as dependency of `sage` in `build/deps`.",
    "created_at": "2015-05-24T21:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246510",
    "user": "@jdemeyer"
}
```

`six` should be mentioned as dependency of `sage` in `build/deps`.



---

archive/issue_comments_246511.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-24T21:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246511",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_246512.json:
```json
{
    "body": "Isn't there a Python-3 equivalent of\n\n```\nsys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0)\n```\n\n\nChanging the `print` statement is **not** equivalent to changing `stdout`.",
    "created_at": "2015-05-24T21:22:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246512",
    "user": "@jdemeyer"
}
```

Isn't there a Python-3 equivalent of

```
sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0)
```


Changing the `print` statement is **not** equivalent to changing `stdout`.



---

archive/issue_comments_246513.json:
```json
{
    "body": "Replying to [comment:3 jdemeyer]:\n> Isn't there a Python-3 equivalent of\n> {{{\n> sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0)\n> }}}\n> \n> Changing the `print` statement is **not** equivalent to changing `stdout`.\n\nI agree, but no there isn't a python 3 equivalent: python 3 requires `sys.stdout` to be buffered, unless you start python with the `-u` (but you can also do that with python 2).",
    "created_at": "2015-05-24T21:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246513",
    "user": "@ohanar"
}
```

Replying to [comment:3 jdemeyer]:
> Isn't there a Python-3 equivalent of
> {{{
> sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0)
> }}}
> 
> Changing the `print` statement is **not** equivalent to changing `stdout`.

I agree, but no there isn't a python 3 equivalent: python 3 requires `sys.stdout` to be buffered, unless you start python with the `-u` (but you can also do that with python 2).



---

archive/issue_comments_246514.json:
```json
{
    "body": "Not sure, but isn't there something possible with `sys.stdout.buffer` in Python 3?",
    "created_at": "2015-05-24T22:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246514",
    "user": "@jdemeyer"
}
```

Not sure, but isn't there something possible with `sys.stdout.buffer` in Python 3?



---

archive/issue_comments_246515.json:
```json
{
    "body": "Replying to [comment:5 jdemeyer]:\n> Not sure, but isn't there something possible with `sys.stdout.buffer` in Python 3?\nIt allows you to write bytes to stdout: `sys.stdout.buffer` is a `BytesIO` interface to stdout, whereas `sys.stdout` is a `StringIO` interface to stdout.",
    "created_at": "2015-05-24T22:53:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246515",
    "user": "@ohanar"
}
```

Replying to [comment:5 jdemeyer]:
> Not sure, but isn't there something possible with `sys.stdout.buffer` in Python 3?
It allows you to write bytes to stdout: `sys.stdout.buffer` is a `BytesIO` interface to stdout, whereas `sys.stdout` is a `StringIO` interface to stdout.



---

archive/issue_comments_246516.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-24T22:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246516",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246517.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-24T22:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246517",
    "user": "@ohanar"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_246518.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-05-24T22:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246518",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_246519.json:
```json
{
    "body": "Assuming that *you actually tested this*, positive_review since the diff looks good.",
    "created_at": "2015-05-25T07:07:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246519",
    "user": "@jdemeyer"
}
```

Assuming that *you actually tested this*, positive_review since the diff looks good.



---

archive/issue_comments_246520.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-25T07:07:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246520",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_246521.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-05-25T10:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246521",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_246522.json:
```json
{
    "body": "Apparently you haven't actually (doc-)tested it ;-)",
    "created_at": "2015-05-25T10:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246522",
    "user": "@vbraun"
}
```

Apparently you haven't actually (doc-)tested it ;-)



---

archive/issue_comments_246523.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-25T18:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246523",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246524.json:
```json
{
    "body": "Little hard to doctest on python 3 at the moment :)",
    "created_at": "2015-05-25T18:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246524",
    "user": "@ohanar"
}
```

Little hard to doctest on python 3 at the moment :)



---

archive/issue_comments_246525.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-25T18:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246525",
    "user": "@ohanar"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_246526.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-26T20:06:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246526",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_246527.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-27T20:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18255",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18255#issuecomment-246527",
    "user": "@vbraun"
}
```

Resolution: fixed
