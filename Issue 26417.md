# Issue 26417: Speed up matrix multiplication over finite fields

archive/issues_026417.json:
```json
{
    "body": "Keywords: matrix multiplication, finite fields\n\nAt least in some cases, matrix multiplication over finite fields can be sped up a lot (PARI in this example, but using e.g. FLINT or NTL might also be an option):\n\n```python\ndef matmul_pari(A, B):\n    F = A.base_ring()\n    A = A.__pari__()\n    B = B.__pari__()\n    C = A * B\n    return Matrix(F, map(lambda v: map(F, v), C.mattranspose()))\n\nF = GF(3^12)\nn = 64\nM = MatrixSpace(F, n, n)\nA = M.random_element()\nB = M.random_element()\n```\n\nWith this setup, I get\n\n```\nsage: %time C = A * B\nCPU times: user 587 ms, sys: 1 ms, total: 588 ms\nWall time: 587 ms\nsage: %time D = matmul_pari(A, B)\nCPU times: user 40 ms, sys: 1 ms, total: 41 ms\nWall time: 42.4 ms\nsage: C == D\nTrue\n```\n\n\nNote: the last line in `matmul_pari` is needed because converting PARI matrices to Sage matrices using `M(C)` currently raises an error.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26654\n\n",
    "created_at": "2018-11-06T20:39:49Z",
    "labels": [
        "performance",
        "major",
        "enhancement"
    ],
    "title": "Speed up matrix multiplication over finite fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26417",
    "user": "pbruin"
}
```
Keywords: matrix multiplication, finite fields

At least in some cases, matrix multiplication over finite fields can be sped up a lot (PARI in this example, but using e.g. FLINT or NTL might also be an option):

```python
def matmul_pari(A, B):
    F = A.base_ring()
    A = A.__pari__()
    B = B.__pari__()
    C = A * B
    return Matrix(F, map(lambda v: map(F, v), C.mattranspose()))

F = GF(3^12)
n = 64
M = MatrixSpace(F, n, n)
A = M.random_element()
B = M.random_element()
```

With this setup, I get

```
sage: %time C = A * B
CPU times: user 587 ms, sys: 1 ms, total: 588 ms
Wall time: 587 ms
sage: %time D = matmul_pari(A, B)
CPU times: user 40 ms, sys: 1 ms, total: 41 ms
Wall time: 42.4 ms
sage: C == D
True
```


Note: the last line in `matmul_pari` is needed because converting PARI matrices to Sage matrices using `M(C)` currently raises an error.

Issue created by migration from https://trac.sagemath.org/ticket/26654


