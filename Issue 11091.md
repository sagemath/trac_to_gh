# Issue 11091: Correct the developer guide testing ReST documentation section.

Issue created by migration from https://trac.sagemath.org/ticket/11263

Original creator: hivert

Original creation time: 2011-04-28 00:34:02

Assignee: hivert

CC:  jhpalmieri

Keywords: developer link skip markup

The developer guide says:

```
To link together verbatim environments, use the .. link:: comment.
```

whereas the correct markup is `.. link` without `::`
same for `.. skip`


---

Comment by hivert created at 2011-04-28 00:37:26

Hi John,

This is a long standing one... In http://groups.google.com/group/sage-devel/browse_thread/thread/cdeed06311378df0?pli=1 you asked to be put in cc...


---

Comment by hivert created at 2011-04-28 22:15:27

I have a patch proposal which require one patch for the developer guide and one for the file `$SAGE_ROOT/local/bin/sage-test`. I'm not sure how I am supposed to submit this second one. Should I just create a patch as usual against the hg repository inside `$SAGE_ROOT/local/bin/sage-test` ?


---

Comment by hivert created at 2011-05-02 20:36:22

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2011-05-02 22:15:02

One correction: the line

```
will act as there where
```

should be

```
will act as if there were
```

The scripts patch works as advertised.  Right now, ".. linkall" anywhere in the file will (as it says) link everything together.  For example, the addition of the text ".. linkall" to that section of the developer's guide now means that everything there is linked together.  This is not an issue for that particular file, but would it be better to search for `\n.. linkall\n` or do a regular expression search for `^\s*\.\.\s+linkall\s*$` or something like that (i.e., beginning of line, optional white space, two dots, non-optional whitespace, "linkall", optional whitespace, end of line)?


---

Comment by jhpalmieri created at 2011-05-02 22:25:07

In more detail, replacing

```
    link_all = '.. linkall' in F
```

by

```
    link_all = re.search(r'^\s*\.\.\s+linkall\s*$', F, re.M)
```

seems to work for me, and only catches ".. linkall" if it's on a line by itself, other than white space.


---

Attachment


---

Attachment


---

Comment by hivert created at 2011-05-03 18:03:37

> `link_all = re.search(r'^\s*\.\.\s+linkall\s*$', F, re.M)`
> seems to work for me, and only catches ".. linkall" if it's on a line by itself, other than white space.

Sorry for my bad English and thanks for taking care of writing the regexp.  I
just submitted two new patches which should address your remarks.

Thanks for the review.


---

Comment by jhpalmieri created at 2011-05-03 18:53:29

apply on top of trac_11263-doctests_link_all-fh.patch


---

Attachment

Here's a patch which modifies the wording in the developer's guide, plus it adds an example of using ".. linkall" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.


---

Comment by hivert created at 2011-05-03 19:03:11

Changing status from needs_review to positive_review.


---

Comment by hivert created at 2011-05-03 19:03:11

Replying to [comment:9 jhpalmieri]:
> Here's a patch which modifies the wording in the developer's guide, plus it adds an example of using ".. linkall" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.

Looks perfectly Ok ! Thanks for the help. Should I fold the two patches ?


---

Comment by jhpalmieri created at 2011-05-03 20:22:50

Replying to [comment:10 hivert]:
> Looks perfectly Ok ! Thanks for the help. Should I fold the two patches ? 

Sure, that might make it easier for the release manager.  Thanks.


---

Attachment

I just uploaded the folded patch.


---

Comment by jdemeyer created at 2011-05-27 12:02:33

Resolution: fixed
