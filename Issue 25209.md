# Issue 25209: compute all orbits of minimal models of dynamical systems

Issue created by migration from Trac.

Original creator: bhutz

Original creation time: 2018-05-25 20:03:05

There is currently an implementation in Sage of the Bruin-Molnar algorithm to compute minimal models of dynamical systems. This ticket two fold.

- implement the algorithms from Hutz-Stoll 2018

- add functionality to the Brui-Molnar algorithm to compute all minimal models


---

Comment by bhutz created at 2018-05-25 20:24:28

Here is a first pass at these changes.
----
New commits:


---

Comment by bhutz created at 2018-05-25 20:24:28

Changing status from new to needs_review.


---

Comment by git created at 2018-07-10 20:23:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-07-11 16:01:08

Some non-math comments:

Some tweaks to the reference

```
.. [HS2018] \B. Hutz, M. Stoll. "Smallest representatives of
            `\SL(2,\ZZ)`-orbits of binary forms and endomorphisms of P1",
            :arxiv:`1805.08579`, 2018.
```

Although I am not sure `\SL` is a valid latex macro for our docbuild. I would use `\mathrm{SL}` or just `SL`.

You can use `True` and `False` for the `all_orbits` input:

```
sage: int(True)
1
sage: int(False)
0
```


This doc is contradictory:

```
    - ``return_transformation`` -- (default: False) a boolean value, default value True. This
      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to
      the calculated minimal model
```

I would also recommend formatting as

```
    - ``return_transformation`` -- (default: ``False``) boolean; this
      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to
      the calculated minimal model
```


I would recommend the formatting:

```
    OUTPUT:

    - list of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a
      `2 \times 2` matrix
```


You can use ``SL(2,\ZZ)`` everywhere in your function docs (including the first sentence).

For the `algorithm` input, I would just use `BM` and `HS`. I think the year is unimportant and makes it (very mildly) harder on the user.


---

Comment by git created at 2018-07-12 18:58:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-17 19:22:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-21 16:11:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2018-07-21 16:16:25

I noticed a couple issues with this

- no EXAMPELS in most of the new funtions

- return_transformation was not being used in most of the new functions

- the early exit for even degree was commented out in HS_all_minimal. Will push another branch shortly that adds the same check for HS_all_minimal_p


---

Comment by git created at 2018-07-21 16:19:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-07-22 18:15:40

Some other non-math comments (to whomever else is reading this, I just need you to check the math content to make sure it works):

- the ``return_transformation`` input needs 2 spaces more of indentation in `affine_minimal()`
- this is a contradiction:
  {{{ 
    - ``return_transformation`` -- (default: False) a boolean value, default value True. This
      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to
      the calculated minimal model
  }}}
  See also comment:3 for formatting.
- This is a bad indentation:
  {{{
    OUTPUT: list of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a
      `2 \times 2` matrix.
  }}}
  I would instead format it as
  {{{
    OUTPUT:

    List of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a
    `2 \times 2` matrix.
  }}}
- I would format the reference as:
  {{{
.. [HS2018] \B. Hutz, M. Stoll. "Smallest representatives of
            `SL(2,\ZZ)`-orbits of binary forms and endomorphisms of P1",
            :arxiv:`1805.08579`, 2018.
  }}}
  In particular, I worry `\Z` would result in an error in build the pdf docs (but maybe its okay, I haven't checked) and there was no spacing after `M.` (which does not require the escape character because it is not the first character of the reference).


---

Comment by git created at 2018-07-22 22:22:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bhutz created at 2018-07-22 22:25:04

`\ZZ` should be fine. I see it in many other places in the docs.

for the math content, yes there are two people who have been reading the papers and going through the functionality and should be done soon.


---

Comment by tscrim created at 2018-07-23 00:04:06

Just let me know once they are satisfied with the mathematical correctness. Once they do that and I make another check over the technical stuff, I will set this to a positive review.


---

Comment by @Loops7 created at 2018-07-26 06:00:08

Went through the code line by line and everything looks good to me. Ran a bunch of examples comparing the results of affine_minimal to HS_minimal, as well as HS_all_minimal with BM_all_minimal, and everything passed. Good to go.


---

Comment by tscrim created at 2018-07-26 22:48:28

Thank you Joseph.

I made a few minor changes to the doc formatting and code. If my changes look good, then positive review.
----
New commits:


---

Comment by tscrim created at 2018-07-26 22:48:28

Changing keywords from "" to "sagedays@icerm".


---

Comment by bhutz created at 2018-07-27 01:34:32

Those changes are all ok with me. The doctests as well as my notebook tests all still pass, so this looks fine to me.

Joey, when you're happy go ahead and mark as positive.


---

Comment by @Loops7 created at 2018-07-27 02:41:56

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-08-11 16:54:50

Resolution: fixed
