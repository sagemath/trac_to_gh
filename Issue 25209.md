# Issue 25209: compute all orbits of minimal models of dynamical systems

archive/issues_025209.json:
```json
{
    "body": "There is currently an implementation in Sage of the Bruin-Molnar algorithm to compute minimal models of dynamical systems. This ticket two fold.\n\n- implement the algorithms from Hutz-Stoll 2018\n\n- add functionality to the Brui-Molnar algorithm to compute all minimal models\n\nIssue created by migration from https://trac.sagemath.org/ticket/25446\n\n",
    "created_at": "2018-05-25T20:03:05Z",
    "labels": [
        "dynamics",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "compute all orbits of minimal models of dynamical systems",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25209",
    "user": "@bhutz"
}
```
There is currently an implementation in Sage of the Bruin-Molnar algorithm to compute minimal models of dynamical systems. This ticket two fold.

- implement the algorithms from Hutz-Stoll 2018

- add functionality to the Brui-Molnar algorithm to compute all minimal models

Issue created by migration from https://trac.sagemath.org/ticket/25446





---

archive/issue_comments_355128.json:
```json
{
    "body": "Here is a first pass at these changes.\n----\nNew commits:",
    "created_at": "2018-05-25T20:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355128",
    "user": "@bhutz"
}
```

Here is a first pass at these changes.
----
New commits:



---

archive/issue_comments_355129.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-25T20:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355129",
    "user": "@bhutz"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_355130.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-10T20:23:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355130",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355131.json:
```json
{
    "body": "Some non-math comments:\n\nSome tweaks to the reference\n\n```\n.. [HS2018] \\B. Hutz, M. Stoll. \"Smallest representatives of\n            `\\SL(2,\\ZZ)`-orbits of binary forms and endomorphisms of P1\",\n            :arxiv:`1805.08579`, 2018.\n```\n\nAlthough I am not sure `\\SL` is a valid latex macro for our docbuild. I would use `\\mathrm{SL}` or just `SL`.\n\nYou can use `True` and `False` for the `all_orbits` input:\n\n```\nsage: int(True)\n1\nsage: int(False)\n0\n```\n\n\nThis doc is contradictory:\n\n```\n    - ``return_transformation`` -- (default: False) a boolean value, default value True. This\n      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to\n      the calculated minimal model\n```\n\nI would also recommend formatting as\n\n```\n    - ``return_transformation`` -- (default: ``False``) boolean; this\n      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to\n      the calculated minimal model\n```\n\n\nI would recommend the formatting:\n\n```\n    OUTPUT:\n\n    - list of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a\n      `2 \\times 2` matrix\n```\n\n\nYou can use ``SL(2,\\ZZ)`` everywhere in your function docs (including the first sentence).\n\nFor the `algorithm` input, I would just use `BM` and `HS`. I think the year is unimportant and makes it (very mildly) harder on the user.",
    "created_at": "2018-07-11T16:01:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355131",
    "user": "@tscrim"
}
```

Some non-math comments:

Some tweaks to the reference

```
.. [HS2018] \B. Hutz, M. Stoll. "Smallest representatives of
            `\SL(2,\ZZ)`-orbits of binary forms and endomorphisms of P1",
            :arxiv:`1805.08579`, 2018.
```

Although I am not sure `\SL` is a valid latex macro for our docbuild. I would use `\mathrm{SL}` or just `SL`.

You can use `True` and `False` for the `all_orbits` input:

```
sage: int(True)
1
sage: int(False)
0
```


This doc is contradictory:

```
    - ``return_transformation`` -- (default: False) a boolean value, default value True. This
      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to
      the calculated minimal model
```

I would also recommend formatting as

```
    - ``return_transformation`` -- (default: ``False``) boolean; this
      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to
      the calculated minimal model
```


I would recommend the formatting:

```
    OUTPUT:

    - list of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a
      `2 \times 2` matrix
```


You can use ``SL(2,\ZZ)`` everywhere in your function docs (including the first sentence).

For the `algorithm` input, I would just use `BM` and `HS`. I think the year is unimportant and makes it (very mildly) harder on the user.



---

archive/issue_comments_355132.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-12T18:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355132",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355133.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-17T19:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355133",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355134.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-21T16:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355134",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355135.json:
```json
{
    "body": "I noticed a couple issues with this\n\n- no EXAMPELS in most of the new funtions\n\n- return_transformation was not being used in most of the new functions\n\n- the early exit for even degree was commented out in HS_all_minimal. Will push another branch shortly that adds the same check for HS_all_minimal_p",
    "created_at": "2018-07-21T16:16:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355135",
    "user": "@bhutz"
}
```

I noticed a couple issues with this

- no EXAMPELS in most of the new funtions

- return_transformation was not being used in most of the new functions

- the early exit for even degree was commented out in HS_all_minimal. Will push another branch shortly that adds the same check for HS_all_minimal_p



---

archive/issue_comments_355136.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-21T16:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355136",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355137.json:
```json
{
    "body": "Some other non-math comments (to whomever else is reading this, I just need you to check the math content to make sure it works):\n\n- the ``return_transformation`` input needs 2 spaces more of indentation in `affine_minimal()`\n- this is a contradiction:\n  {{{ \n    - ``return_transformation`` -- (default: False) a boolean value, default value True. This\n      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to\n      the calculated minimal model\n  }}}\n  See also comment:3 for formatting.\n- This is a bad indentation:\n  {{{\n    OUTPUT: list of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a\n      `2 \\times 2` matrix.\n  }}}\n  I would instead format it as\n  {{{\n    OUTPUT:\n\n    List of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a\n    `2 \\times 2` matrix.\n  }}}\n- I would format the reference as:\n  {{{\n.. [HS2018] \\B. Hutz, M. Stoll. \"Smallest representatives of\n            `SL(2,\\ZZ)`-orbits of binary forms and endomorphisms of P1\",\n            :arxiv:`1805.08579`, 2018.\n   }}}\n   In particular, I worry `\\Z` would result in an error in build the pdf docs (but maybe its okay, I haven't checked) and there was no spacing after `M.` (which does not require the escape character because it is not the first character of the reference).",
    "created_at": "2018-07-22T18:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355137",
    "user": "@tscrim"
}
```

Some other non-math comments (to whomever else is reading this, I just need you to check the math content to make sure it works):

- the ``return_transformation`` input needs 2 spaces more of indentation in `affine_minimal()`
- this is a contradiction:
  {{{ 
    - ``return_transformation`` -- (default: False) a boolean value, default value True. This
      signals a return of the ``PGL_2`` transformation to conjugate ``vp`` to
      the calculated minimal model
  }}}
  See also comment:3 for formatting.
- This is a bad indentation:
  {{{
    OUTPUT: list of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a
      `2 \times 2` matrix.
  }}}
  I would instead format it as
  {{{
    OUTPUT:

    List of pairs ``[f, m]`` where ``f`` is a dynamical system and ``m`` is a
    `2 \times 2` matrix.
  }}}
- I would format the reference as:
  {{{
.. [HS2018] \B. Hutz, M. Stoll. "Smallest representatives of
            `SL(2,\ZZ)`-orbits of binary forms and endomorphisms of P1",
            :arxiv:`1805.08579`, 2018.
   }}}
   In particular, I worry `\Z` would result in an error in build the pdf docs (but maybe its okay, I haven't checked) and there was no spacing after `M.` (which does not require the escape character because it is not the first character of the reference).



---

archive/issue_comments_355138.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-22T22:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355138",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355139.json:
```json
{
    "body": "`\\ZZ` should be fine. I see it in many other places in the docs.\n\nfor the math content, yes there are two people who have been reading the papers and going through the functionality and should be done soon.",
    "created_at": "2018-07-22T22:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355139",
    "user": "@bhutz"
}
```

`\ZZ` should be fine. I see it in many other places in the docs.

for the math content, yes there are two people who have been reading the papers and going through the functionality and should be done soon.



---

archive/issue_comments_355140.json:
```json
{
    "body": "Just let me know once they are satisfied with the mathematical correctness. Once they do that and I make another check over the technical stuff, I will set this to a positive review.",
    "created_at": "2018-07-23T00:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355140",
    "user": "@tscrim"
}
```

Just let me know once they are satisfied with the mathematical correctness. Once they do that and I make another check over the technical stuff, I will set this to a positive review.



---

archive/issue_comments_355141.json:
```json
{
    "body": "Went through the code line by line and everything looks good to me. Ran a bunch of examples comparing the results of affine_minimal to HS_minimal, as well as HS_all_minimal with BM_all_minimal, and everything passed. Good to go.",
    "created_at": "2018-07-26T06:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355141",
    "user": "@Loops7"
}
```

Went through the code line by line and everything looks good to me. Ran a bunch of examples comparing the results of affine_minimal to HS_minimal, as well as HS_all_minimal with BM_all_minimal, and everything passed. Good to go.



---

archive/issue_comments_355142.json:
```json
{
    "body": "Thank you Joseph.\n\nI made a few minor changes to the doc formatting and code. If my changes look good, then positive review.\n----\nNew commits:",
    "created_at": "2018-07-26T22:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355142",
    "user": "@tscrim"
}
```

Thank you Joseph.

I made a few minor changes to the doc formatting and code. If my changes look good, then positive review.
----
New commits:



---

archive/issue_comments_355143.json:
```json
{
    "body": "Changing keywords from \"\" to \"sagedays@icerm\".",
    "created_at": "2018-07-26T22:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355143",
    "user": "@tscrim"
}
```

Changing keywords from "" to "sagedays@icerm".



---

archive/issue_comments_355144.json:
```json
{
    "body": "Those changes are all ok with me. The doctests as well as my notebook tests all still pass, so this looks fine to me.\n\nJoey, when you're happy go ahead and mark as positive.",
    "created_at": "2018-07-27T01:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355144",
    "user": "@bhutz"
}
```

Those changes are all ok with me. The doctests as well as my notebook tests all still pass, so this looks fine to me.

Joey, when you're happy go ahead and mark as positive.



---

archive/issue_comments_355145.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-27T02:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355145",
    "user": "@Loops7"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_355146.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-11T16:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25209#issuecomment-355146",
    "user": "@vbraun"
}
```

Resolution: fixed
