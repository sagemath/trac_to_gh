# Issue 16010: Abuse of Modules() for modules over noncommutative rings

Issue created by migration from Trac.

Original creator: darij

Original creation time: 2014-04-27 03:42:08

CC:  nthiery simonking mjo

Keywords: modules, categories, associativity,

We have `LeftModules` and `RightModules` functorial constructions (not sure if since #10963 or already before), and they should be used. `Modules` implements left and right multiplication to be *the same*, which causes misleading and counterintuitive non-associativity issues.

I'm currently running the (short) doctests of src/sage with a commit that adds a warning every time Modules(A) is called for A noncommutative. I'll post the results once it's done. So far:

```
----------------------------------------------------------------------
sage -t src/sage/groups/finitely_presented.py  # 2 doctests failed
sage -t src/sage/matrix/matrix_sparse.pyx  # 4 doctests failed
sage -t src/sage/matrix/matrix0.pyx  # 5 doctests failed
sage -t src/sage/matrix/matrix2.pyx  # 1 doctest failed
sage -t src/sage/matrix/matrix_space.py  # 2 doctests failed
Doctests interrupted: 231/2069 files tested
----------------------------------------------------------------------
```



---

Comment by darij created at 2014-04-27 03:57:01

Changing keywords from "modules, categories, associativity," to "modules, categories, associativity, matrices".


---

Comment by nthiery created at 2014-04-27 07:08:33

Thanks for exploring how to clean this up.

Just for the record: we have had left/right/bimodules since 2009 and probably even before. Also, at this point, they are just categories over a base ring, not functorial constructions.

One thing to check is how this was handled in Axiom. MuPAD was roughly as here: on the lousy side in the non commutative case.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.


---

Comment by pbruin created at 2021-07-27 11:40:01

I got here through #32250, in which I propose a precise definition for (magmatic) algebras over an associative unital ring, and comment:2:ticket:32250.

My personal preferred solution would be a variant of the first option in the ticket description: make `Modules` only support _commutative_ base rings, and define a module over a commutative ring _R_ to be a symmetric (_R_, _R_)-bimodule.  This feels most in line with how modules are currently used in Sage.  Supporting non-commutative rings with this definition would probably be more confusing than justified by the little amount of added functionality.


---

Comment by mjo created at 2021-07-30 11:41:43

Replying to [comment:11 pbruin]:
> 
> My personal preferred solution would be a variant of the first option in the ticket description: make `Modules` only support _commutative_ base rings, and define a module over a commutative ring _R_ to be a symmetric (_R_, _R_)-bimodule.  This feels most in line with how modules are currently used in Sage.  Supporting non-commutative rings with this definition would probably be more confusing than justified by the little amount of added functionality.

I agree. This is what the existing `Modules?` docstring is trying to say. The cited `UserWarning` more or less says that your ring should be commutative, and that your left- and right-module actions had better be the same. The definition should match what Sage is actually capable of.

This would leave us with new problem though, that of defining a symmetric bimodule within sage. Maybe we should just be explicit about the axioms instead of using that term.
