# Issue 15683: Parallelize Possible Periods functions for Projective Morphisms

archive/issues_015683.json:
```json
{
    "body": "CC:  @bhutz\n\nParallelize Possible Periods functions for Projective Morphisms\n\nIssue created by migration from https://trac.sagemath.org/ticket/15920\n\n",
    "created_at": "2014-03-12T07:36:11Z",
    "labels": [
        "component: algebraic geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Parallelize Possible Periods functions for Projective Morphisms",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15683",
    "user": "https://github.com/dillonmrose"
}
```
CC:  @bhutz

Parallelize Possible Periods functions for Projective Morphisms

Issue created by migration from https://trac.sagemath.org/ticket/15920





---

archive/issue_comments_202820.json:
```json
{
    "body": "Set assignee to @dillonmrose.",
    "created_at": "2014-03-13T02:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202820",
    "user": "https://github.com/dillonmrose"
}
```

Set assignee to @dillonmrose.



---

archive/issue_comments_202821.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-13T02:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202821",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202822.json:
```json
{
    "body": "Changing keywords from \"\" to \"Projective, Morphism, Parallelization\".",
    "created_at": "2014-03-13T02:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202822",
    "user": "https://github.com/dillonmrose"
}
```

Changing keywords from "" to "Projective, Morphism, Parallelization".



---

archive/issue_comments_202823.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-14T04:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202823",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202824.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-17T05:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202824",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202825.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-17T15:30:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202825",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202826.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-03-20T14:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202826",
    "user": "https://github.com/bhutz"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_202827.json:
```json
{
    "body": "These two changes looks fine. However, there is a third place that should be done in parallel.\n\n`periodic_points=self.lift_to_rational_periodic(pos_points,B)`\n\nin self.rational_periodic_points()\n\n\nAlso, it is convention not to use [CamelCase](CamelCase) variables names. (i.e. parallelData, possiblePeriods should be not have the capital in them).\n\nI'm also marking 15966 as a dependency since without the cleanup of the child process these create too many child process to function well.",
    "created_at": "2014-03-20T14:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202827",
    "user": "https://github.com/bhutz"
}
```

These two changes looks fine. However, there is a third place that should be done in parallel.

`periodic_points=self.lift_to_rational_periodic(pos_points,B)`

in self.rational_periodic_points()


Also, it is convention not to use [CamelCase](CamelCase) variables names. (i.e. parallelData, possiblePeriods should be not have the capital in them).

I'm also marking 15966 as a dependency since without the cleanup of the child process these create too many child process to function well.



---

archive/issue_comments_202828.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-03-20T14:33:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202828",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_202829.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-31T12:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202829",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202830.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-31T14:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202831.json:
```json
{
    "body": "Remember to set the status on tickets when it is ready for review again, but it is still needs_work so I'll leave it.\n\nThe functionality all checks out on my tests. However, with that last parallelization bit, there are 3 more doctests that are failing due to point order in projective_morphism.py. So you should sort those as well.",
    "created_at": "2014-04-01T18:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202831",
    "user": "https://github.com/bhutz"
}
```

Remember to set the status on tickets when it is ready for review again, but it is still needs_work so I'll leave it.

The functionality all checks out on my tests. However, with that last parallelization bit, there are 3 more doctests that are failing due to point order in projective_morphism.py. So you should sort those as well.



---

archive/issue_comments_202832.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-02T21:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202833.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-04-02T21:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202833",
    "user": "https://github.com/dillonmrose"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_202834.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-04-03T12:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202834",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_202835.json:
```json
{
    "body": "This still has the 3 doctest failures due to sorting from\n\nsage -t --long projective_morphism.py",
    "created_at": "2014-04-03T12:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202835",
    "user": "https://github.com/bhutz"
}
```

This still has the 3 doctest failures due to sorting from

sage -t --long projective_morphism.py



---

archive/issue_comments_202836.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-04-03T16:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202836",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_202837.json:
```json
{
    "body": "Actually, this is fine, I had failed to pull down all the commits.",
    "created_at": "2014-04-03T16:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202837",
    "user": "https://github.com/bhutz"
}
```

Actually, this is fine, I had failed to pull down all the commits.



---

archive/issue_comments_202838.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-04-04T17:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202838",
    "user": "https://github.com/bhutz"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_202839.json:
```json
{
    "body": "I'm getting some weird errors when I run the possible_periods over and over again (even on the same function). It seems to be somewhat random which error and whether or not an error occurs). I may or may not have corrupted my sage, but I don't want to leave this positive_review until I resolve it.\n\nErrors like\n\n\n```\nTraceback (most recent call last):\n...\nTypeError: number of arguments does not match number of variables in parent\n```\n\nand\n\n\n```\n Traceback (most recent call last):\n  ....\nTypeError: unsupported operand parent(s) for '*': 'Finite Field of size 2' and 'Finite Field of size 13'\n```\n",
    "created_at": "2014-04-04T17:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202839",
    "user": "https://github.com/bhutz"
}
```

I'm getting some weird errors when I run the possible_periods over and over again (even on the same function). It seems to be somewhat random which error and whether or not an error occurs). I may or may not have corrupted my sage, but I don't want to leave this positive_review until I resolve it.

Errors like


```
Traceback (most recent call last):
...
TypeError: number of arguments does not match number of variables in parent
```

and


```
 Traceback (most recent call last):
  ....
TypeError: unsupported operand parent(s) for '*': 'Finite Field of size 2' and 'Finite Field of size 13'
```




---

archive/issue_events_046835.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-04-04T18:52:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15683#event-46835"
}
```



---

archive/issue_comments_202840.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-04-04T18:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202840",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_202841.json:
```json
{
    "body": "I had it already tested and it worked on the buildbot. Reopen if you can reproduce your failure...",
    "created_at": "2014-04-04T18:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15683#issuecomment-202841",
    "user": "https://github.com/vbraun"
}
```

I had it already tested and it worked on the buildbot. Reopen if you can reproduce your failure...
