# Issue 27268: add missing import of networkx

Issue created by migration from https://trac.sagemath.org/ticket/27505

Original creator: chapoton

Original creation time: 2019-03-17 09:06:37

CC:  dcoudert

in graph.py, when converting networkx graphs


---

Comment by chapoton created at 2019-03-17 09:10:28

This needs a doctest, but I am not sure how to make a minimal one.

I triggered the problem when starting from a .dot file made by pyan, converting to networkx using pydot, and then trying to convert to sage

```
sage: import networkx
sage: import pydot
sage: with open('pachbot.dot') as f:
....:     pg = pydot.graph_from_dot_data(f.read())
....:     
sage: 
sage: G=networkx.nx_pydot.from_pydot(pg[0])
sage: dg=Graph(G,format='NX',loops=True)
```

----
New commits:


---

Comment by chapoton created at 2019-03-17 09:10:28

Changing status from new to needs_info.


---

Comment by dcoudert created at 2019-03-17 17:17:22

A minimal doctest should be:

```
sage: Graph(Graph().networkx_graph(), weighted=None, format='NX')
```



---

Comment by dcoudert created at 2019-03-17 17:18:09

The same hold in `digraph.py`.


---

Comment by git created at 2019-03-18 08:12:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-03-18 08:12:28

Changing status from needs_info to needs_review.


---

Comment by chapoton created at 2019-03-18 08:12:28

thx, fixed


---

Comment by chapoton created at 2019-03-18 11:01:34

green bot, please review


---

Comment by dcoudert created at 2019-03-18 13:30:36

LGTM.


---

Comment by dcoudert created at 2019-03-18 13:30:36

Changing status from needs_review to positive_review.


---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by vbraun created at 2019-03-25 19:43:35

Resolution: fixed
