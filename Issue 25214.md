# Issue 25214: move methods on general set partitions into AbstractSetPartition

Issue created by migration from Trac.

Original creator: mantepse

Original creation time: 2018-05-27 19:07:49

CC:  sage-combinat tscrim darij alauve zabrocki




---

Comment by mantepse created at 2018-05-27 19:30:21

Changing type from PLEASE CHANGE to enhancement.


---

Comment by mantepse created at 2018-05-27 19:30:21

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by tscrim created at 2018-05-27 19:35:25

New commits:


---

Comment by zabrocki created at 2018-05-27 22:56:33

For every method in `AbstractSetPartition` I think that there should be a doc test for elements of `PartitionDiagram` (since `PartitionDiagram` inherits from `AbstractSetPartition`).  In particular, `strict_coarsenings` raises an error, but I've been meaning to go through each of the methods and add a doc test because I know that there are others and making changes to this class will inadvertently introduce additional bugs.


---

Comment by mantepse created at 2018-05-28 20:07:03

Replying to [comment:4 zabrocki]:
> In particular, `strict_coarsenings` raises an error

The problem is simply that this (and other methods) of `AbstractSetPartition` expect `self` to be a `ClonableArray` of `Set`s. This is enforced in `SetPartition.__init__`.

I think one question is what the purpose of `AbstractSetPartition` really is.  It now seems to me that it was intended as a class that allows a different representation of set partitions (eg., as a list of tuples, as in `PartitionDiagram`).

I think it would make sense to have one class for set partitions of {1,...,n}, and another one for general set partitions.  The same goes for perfect matchings, permutations, etc.  But maybe that's not really useful.


---

Comment by zabrocki created at 2018-05-29 10:32:45

> I think one question is what the purpose of `AbstractSetPartition` really is.  It now seems to me that it was intended as a class that allows a different representation of set partitions (eg., as a list of tuples, as in `PartitionDiagram`).
`AbstractSetPartition` is supposed to contain methods that are common to `SetPartition` and diagrams from diagram algebras (e.g. `PartitionDiagrams`, `BrauerDiagrams`, etc.) so that we are not copy/pasting code.  Before #25146, diagrams were inheriting all the methods from `SetPartition` and some of them were not appropriate.
