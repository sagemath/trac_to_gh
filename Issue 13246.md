# Issue 13246: Add method for drawing graphs using Ivan Kuckir graph drawer

Issue created by migration from Trac.

Original creator: slabbe

Original creation time: 2012-08-31 17:45:35

Assignee: slabbe

This adds the following method :


```
sage: g = graphs.PetersenGraph()
sage: g.html_ivan_kuckir()
<html><font color='black'><iframe
src="http://g.ivank.net/g.html#10:1-2,1-5,1-6,2-3,2-7,3-4,3-8,4-5,4-9,5-10,6-8,6-9,7-9,7-10,8-10"
width="500" height="500" style=
"border:none;"></iframe></font></html>
```


It works well in the notebook and the result can be seen at this adress :

http://g.ivank.net/g.html#10:1-2,1-5,1-6,2-3,2-7,3-4,3-8,4-5,4-9,5-10,6-8,6-9,7-9,7-10,8-10

References :

http://www.chromeexperiments.com/detail/graph-drawer/
http://g.ivank.net/


---

Comment by slabbe created at 2012-08-31 17:49:51

Changing status from new to needs_review.


---

Comment by slabbe created at 2012-09-02 14:13:32

Changing status from needs_review to needs_work.


---

Comment by slabbe created at 2012-09-02 14:13:32

oups, the "translation" is not used by the method, will fix it soon.


---

Attachment


---

Comment by slabbe created at 2012-09-05 18:58:14

Changing status from needs_work to needs_review.


---

Comment by slabbe created at 2012-09-05 18:58:14

Oups, I updated the patch but forgot to click the box. Redone it: now both patches are the same.

The patch now works for any graph !

(there might be a limit for the size... I don't know)

Needs review!


---

Comment by slabbe created at 2012-09-05 18:59:25

Apply 13418_ivank_graph_drawer-sl.patch


---

Comment by slabbe created at 2012-09-05 19:10:07

A reviewer can also think of a better name for the method...


---

Comment by chapoton created at 2012-09-27 12:23:09

Very interesting and useful patch ! This looks good to me. I have some minor comments.

For the name, maybe something like "html_interactive_display" or just "html_show" or maybe "show_interactive", so that the tab completion hints at the method ? You give credit to Ivan Kuckir in the documentation. Maybe an informative and short name is more useful.

Could we ensure that a browser is called when this function is used from a terminal ?

I have a small concern about the time-life of the web site which is called. How long will it exist ?

Anyway, I will give a positive review provided the name has been modified.


---

Comment by brunellus created at 2012-10-01 16:26:44

Hello!

I like this graph visualisation very much, but the implementation is, I think, a problematic one.

I see no issue with the situation chapoton described (calling the method in a terminal) as user probably do not expect great results from trying to invoke an interactive visualisation inside a terminal. :-) Actually, I do not know if show or plot makes any effort in this direction. It may be a topic for a new Trac ticket.

The problem is, IMHO, the IFRAME -- dependency on some internet server is not good at all, because admins could track our users, because Sage should work without an internet connection as much as possible, and because this internet server do not have to work in future.

So, what to do now? Well, the webpage with the script seems very non-free, the author explicitly claims copyright. There are similar open source solutions on the web that we can use locally (http://arborjs.org/ , for example). I would gladly help with that. Also, you can try to contact Ivan, and ask him if he wants to open the code. Again, I would gladly help with the integration.

Or, you can just ignore me as I am no big authority here. :-)


---

Comment by chapoton created at 2012-10-04 07:43:21

Well, plot and show usually work very well from a terminal, by calling either a browser or jmol, for example.

I agree that the dependency to an external website is not a good thing.


---

Comment by slabbe created at 2012-11-16 23:25:19

Apply this one only.


---

Attachment

I agree with you. Returning an iframe that is hidden to the user was not a good idea.

Although there exists other open source alternative for doing such graph visualisation, I believe this patch is simple to code and useful for integration in Sage (I used it myself at least two times to visualize graphs since September). The interaction with other software (closed source or not) is not forbidden in Sage as there exists interfaces to Magma, Maple for instance. An interface to arborjs would be nice as well and I am willing to referee such tickets.

I uploaded a new patch. Instead, I just return an inoffensive string. The user may do whatever he wants with it. I think it is better like that. Before, the earlier code returning `html(s)` was problematic and prevented code reuse.

Needs review again!


---

Comment by slabbe created at 2012-11-17 10:12:41

Also, I followed the convention that methods returning string representation of a graph ends with `"string"` :


```
sage: g = graphs.PetersenGraph()
sage: g.*string*?
g.graph6_string
g.graphviz_string
g.sparse6_string
```



---

Comment by ncohen created at 2012-12-15 11:34:30

Helloooooooooo Lukas !!!

I discusse with Sebastien about this patch two days ago, and I didn't get your point about Iframes.. What's the problem with the wesite's owner being able to know who is using his applet ? And possibly also knowing that it is being used through Sage ? We may write to him to ask whether he sees anything wrong with that..

I am a bit against adding more methods and also against adding them when their name is so "mysterious", and gives no idea of what the method actually does... Which is the case with `g_ivank_string` (I don't believe that anybody who wants to plot a graph would be interested by this method `:-P`). To me, this patch would make more sense if this functionality could be accessed through an argument to `g.show()`. There I believe people would find it, with a proper documentaton of course.

Nathann


---

Comment by ncohen created at 2012-12-15 11:34:30

Changing status from needs_review to needs_info.


---

Comment by brunellus created at 2012-12-15 13:27:50

Hi! I am the last person to block someone else's initiative, so I really do not mind if this pass.

I was trying to make the point that user's graphs are part of his work and shouldn't be shared with anyone else when it isn't both necessary and obvious that this happens. This is weakend by the fact that graph itself doesn't tell much about the nature of your work without the most carefull inspection. And, of course, mathematicians who do actual research on Sage, are not really the target group for this functionality. :-)


---

Comment by ncohen created at 2012-12-15 20:29:01

Yoooooooooooooooooooooooo !!!

Oh. Well, then we can add scary warnings everywhere saying that KGB spies may be watching `:-)`

Nathann


---

Comment by chapoton created at 2014-12-28 20:46:06

New commits:


---

Comment by chapoton created at 2015-11-21 19:01:08

no longer needed, as one can do "g.view(method='js') for a similar experience.


---

Comment by chapoton created at 2015-11-21 19:01:08

Changing status from needs_info to needs_review.


---

Comment by chapoton created at 2015-11-23 16:54:36

does somebody has any objection against closing this ticket ?


---

Comment by chapoton created at 2015-11-24 11:15:54

ok, no reaction, let us close that.


---

Comment by chapoton created at 2015-11-24 11:15:54

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2015-11-24 20:14:54

No objection.


---

Comment by slabbe created at 2015-11-24 20:18:00

Replying to [comment:19 chapoton]:
> no longer needed, as one can do "g.view(method='js') for a similar experience.

you mean `g.show(method='js')`.


---

Comment by vbraun created at 2015-11-26 22:46:22

Resolution: duplicate
