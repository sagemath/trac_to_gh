# Issue 13246: Add method for drawing graphs using Ivan Kuckir graph drawer

archive/issues_013246.json:
```json
{
    "body": "Assignee: @seblabbe\n\nThis adds the following method :\n\n\n```\nsage: g = graphs.PetersenGraph()\nsage: g.html_ivan_kuckir()\n<html><font color='black'><iframe\nsrc=\"http://g.ivank.net/g.html#10:1-2,1-5,1-6,2-3,2-7,3-4,3-8,4-5,4-9,5-10,6-8,6-9,7-9,7-10,8-10\"\nwidth=\"500\" height=\"500\" style=\n\"border:none;\"></iframe></font></html>\n```\n\n\nIt works well in the notebook and the result can be seen at this adress :\n\nhttp://g.ivank.net/g.html#10:1-2,1-5,1-6,2-3,2-7,3-4,3-8,4-5,4-9,5-10,6-8,6-9,7-9,7-10,8-10\n\nReferences :\n\nhttp://www.chromeexperiments.com/detail/graph-drawer/\nhttp://g.ivank.net/\n\nIssue created by migration from https://trac.sagemath.org/ticket/13418\n\n",
    "created_at": "2012-08-31T17:45:35Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Add method for drawing graphs using Ivan Kuckir graph drawer",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13246",
    "user": "@seblabbe"
}
```
Assignee: @seblabbe

This adds the following method :


```
sage: g = graphs.PetersenGraph()
sage: g.html_ivan_kuckir()
<html><font color='black'><iframe
src="http://g.ivank.net/g.html#10:1-2,1-5,1-6,2-3,2-7,3-4,3-8,4-5,4-9,5-10,6-8,6-9,7-9,7-10,8-10"
width="500" height="500" style=
"border:none;"></iframe></font></html>
```


It works well in the notebook and the result can be seen at this adress :

http://g.ivank.net/g.html#10:1-2,1-5,1-6,2-3,2-7,3-4,3-8,4-5,4-9,5-10,6-8,6-9,7-9,7-10,8-10

References :

http://www.chromeexperiments.com/detail/graph-drawer/
http://g.ivank.net/

Issue created by migration from https://trac.sagemath.org/ticket/13418





---

archive/issue_comments_162292.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-08-31T17:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162292",
    "user": "@seblabbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_162293.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-09-02T14:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162293",
    "user": "@seblabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_162294.json:
```json
{
    "body": "oups, the \"translation\" is not used by the method, will fix it soon.",
    "created_at": "2012-09-02T14:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162294",
    "user": "@seblabbe"
}
```

oups, the "translation" is not used by the method, will fix it soon.



---

archive/issue_comments_162295.json:
```json
{
    "body": "Attachment [13418_ivank_graph_drawer-sl.2.patch](tarball://root/attachments/some-uuid/ticket13418/13418_ivank_graph_drawer-sl.2.patch) by @seblabbe created at 2012-09-05 18:53:29",
    "created_at": "2012-09-05T18:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162295",
    "user": "@seblabbe"
}
```

Attachment [13418_ivank_graph_drawer-sl.2.patch](tarball://root/attachments/some-uuid/ticket13418/13418_ivank_graph_drawer-sl.2.patch) by @seblabbe created at 2012-09-05 18:53:29



---

archive/issue_comments_162296.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-09-05T18:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162296",
    "user": "@seblabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_162297.json:
```json
{
    "body": "Oups, I updated the patch but forgot to click the box. Redone it: now both patches are the same.\n\nThe patch now works for any graph !\n\n(there might be a limit for the size... I don't know)\n\nNeeds review!",
    "created_at": "2012-09-05T18:58:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162297",
    "user": "@seblabbe"
}
```

Oups, I updated the patch but forgot to click the box. Redone it: now both patches are the same.

The patch now works for any graph !

(there might be a limit for the size... I don't know)

Needs review!



---

archive/issue_comments_162298.json:
```json
{
    "body": "Apply 13418_ivank_graph_drawer-sl.patch",
    "created_at": "2012-09-05T18:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162298",
    "user": "@seblabbe"
}
```

Apply 13418_ivank_graph_drawer-sl.patch



---

archive/issue_comments_162299.json:
```json
{
    "body": "A reviewer can also think of a better name for the method...",
    "created_at": "2012-09-05T19:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162299",
    "user": "@seblabbe"
}
```

A reviewer can also think of a better name for the method...



---

archive/issue_comments_162300.json:
```json
{
    "body": "Very interesting and useful patch ! This looks good to me. I have some minor comments.\n\nFor the name, maybe something like \"html_interactive_display\" or just \"html_show\" or maybe \"show_interactive\", so that the tab completion hints at the method ? You give credit to Ivan Kuckir in the documentation. Maybe an informative and short name is more useful.\n\nCould we ensure that a browser is called when this function is used from a terminal ?\n\nI have a small concern about the time-life of the web site which is called. How long will it exist ?\n\nAnyway, I will give a positive review provided the name has been modified.",
    "created_at": "2012-09-27T12:23:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162300",
    "user": "@fchapoton"
}
```

Very interesting and useful patch ! This looks good to me. I have some minor comments.

For the name, maybe something like "html_interactive_display" or just "html_show" or maybe "show_interactive", so that the tab completion hints at the method ? You give credit to Ivan Kuckir in the documentation. Maybe an informative and short name is more useful.

Could we ensure that a browser is called when this function is used from a terminal ?

I have a small concern about the time-life of the web site which is called. How long will it exist ?

Anyway, I will give a positive review provided the name has been modified.



---

archive/issue_comments_162301.json:
```json
{
    "body": "Hello!\n\nI like this graph visualisation very much, but the implementation is, I think, a problematic one.\n\nI see no issue with the situation chapoton described (calling the method in a terminal) as user probably do not expect great results from trying to invoke an interactive visualisation inside a terminal. :-) Actually, I do not know if show or plot makes any effort in this direction. It may be a topic for a new Trac ticket.\n\nThe problem is, IMHO, the IFRAME -- dependency on some internet server is not good at all, because admins could track our users, because Sage should work without an internet connection as much as possible, and because this internet server do not have to work in future.\n\nSo, what to do now? Well, the webpage with the script seems very non-free, the author explicitly claims copyright. There are similar open source solutions on the web that we can use locally (http://arborjs.org/ , for example). I would gladly help with that. Also, you can try to contact Ivan, and ask him if he wants to open the code. Again, I would gladly help with the integration.\n\nOr, you can just ignore me as I am no big authority here. :-)",
    "created_at": "2012-10-01T16:26:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162301",
    "user": "brunellus"
}
```

Hello!

I like this graph visualisation very much, but the implementation is, I think, a problematic one.

I see no issue with the situation chapoton described (calling the method in a terminal) as user probably do not expect great results from trying to invoke an interactive visualisation inside a terminal. :-) Actually, I do not know if show or plot makes any effort in this direction. It may be a topic for a new Trac ticket.

The problem is, IMHO, the IFRAME -- dependency on some internet server is not good at all, because admins could track our users, because Sage should work without an internet connection as much as possible, and because this internet server do not have to work in future.

So, what to do now? Well, the webpage with the script seems very non-free, the author explicitly claims copyright. There are similar open source solutions on the web that we can use locally (http://arborjs.org/ , for example). I would gladly help with that. Also, you can try to contact Ivan, and ask him if he wants to open the code. Again, I would gladly help with the integration.

Or, you can just ignore me as I am no big authority here. :-)



---

archive/issue_comments_162302.json:
```json
{
    "body": "Well, plot and show usually work very well from a terminal, by calling either a browser or jmol, for example.\n\nI agree that the dependency to an external website is not a good thing.",
    "created_at": "2012-10-04T07:43:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162302",
    "user": "@fchapoton"
}
```

Well, plot and show usually work very well from a terminal, by calling either a browser or jmol, for example.

I agree that the dependency to an external website is not a good thing.



---

archive/issue_comments_162303.json:
```json
{
    "body": "Apply this one only.",
    "created_at": "2012-11-16T23:25:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162303",
    "user": "@seblabbe"
}
```

Apply this one only.



---

archive/issue_comments_162304.json:
```json
{
    "body": "Attachment [13418_ivank_graph_drawer-sl.patch](tarball://root/attachments/some-uuid/ticket13418/13418_ivank_graph_drawer-sl.patch) by @seblabbe created at 2012-11-16 23:40:10\n\nI agree with you. Returning an iframe that is hidden to the user was not a good idea.\n\nAlthough there exists other open source alternative for doing such graph visualisation, I believe this patch is simple to code and useful for integration in Sage (I used it myself at least two times to visualize graphs since September). The interaction with other software (closed source or not) is not forbidden in Sage as there exists interfaces to Magma, Maple for instance. An interface to arborjs would be nice as well and I am willing to referee such tickets.\n\nI uploaded a new patch. Instead, I just return an inoffensive string. The user may do whatever he wants with it. I think it is better like that. Before, the earlier code returning `html(s)` was problematic and prevented code reuse.\n\nNeeds review again!",
    "created_at": "2012-11-16T23:40:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162304",
    "user": "@seblabbe"
}
```

Attachment [13418_ivank_graph_drawer-sl.patch](tarball://root/attachments/some-uuid/ticket13418/13418_ivank_graph_drawer-sl.patch) by @seblabbe created at 2012-11-16 23:40:10

I agree with you. Returning an iframe that is hidden to the user was not a good idea.

Although there exists other open source alternative for doing such graph visualisation, I believe this patch is simple to code and useful for integration in Sage (I used it myself at least two times to visualize graphs since September). The interaction with other software (closed source or not) is not forbidden in Sage as there exists interfaces to Magma, Maple for instance. An interface to arborjs would be nice as well and I am willing to referee such tickets.

I uploaded a new patch. Instead, I just return an inoffensive string. The user may do whatever he wants with it. I think it is better like that. Before, the earlier code returning `html(s)` was problematic and prevented code reuse.

Needs review again!



---

archive/issue_comments_162305.json:
```json
{
    "body": "Also, I followed the convention that methods returning string representation of a graph ends with `\"string\"` :\n\n\n```\nsage: g = graphs.PetersenGraph()\nsage: g.*string*?\ng.graph6_string\ng.graphviz_string\ng.sparse6_string\n```\n",
    "created_at": "2012-11-17T10:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162305",
    "user": "@seblabbe"
}
```

Also, I followed the convention that methods returning string representation of a graph ends with `"string"` :


```
sage: g = graphs.PetersenGraph()
sage: g.*string*?
g.graph6_string
g.graphviz_string
g.sparse6_string
```




---

archive/issue_comments_162306.json:
```json
{
    "body": "Helloooooooooo Lukas !!!\n\nI discusse with Sebastien about this patch two days ago, and I didn't get your point about Iframes.. What's the problem with the wesite's owner being able to know who is using his applet ? And possibly also knowing that it is being used through Sage ? We may write to him to ask whether he sees anything wrong with that..\n\nI am a bit against adding more methods and also against adding them when their name is so \"mysterious\", and gives no idea of what the method actually does... Which is the case with `g_ivank_string` (I don't believe that anybody who wants to plot a graph would be interested by this method `:-P`). To me, this patch would make more sense if this functionality could be accessed through an argument to `g.show()`. There I believe people would find it, with a proper documentaton of course.\n\nNathann",
    "created_at": "2012-12-15T11:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162306",
    "user": "@nathanncohen"
}
```

Helloooooooooo Lukas !!!

I discusse with Sebastien about this patch two days ago, and I didn't get your point about Iframes.. What's the problem with the wesite's owner being able to know who is using his applet ? And possibly also knowing that it is being used through Sage ? We may write to him to ask whether he sees anything wrong with that..

I am a bit against adding more methods and also against adding them when their name is so "mysterious", and gives no idea of what the method actually does... Which is the case with `g_ivank_string` (I don't believe that anybody who wants to plot a graph would be interested by this method `:-P`). To me, this patch would make more sense if this functionality could be accessed through an argument to `g.show()`. There I believe people would find it, with a proper documentaton of course.

Nathann



---

archive/issue_comments_162307.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2012-12-15T11:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162307",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_162308.json:
```json
{
    "body": "Hi! I am the last person to block someone else's initiative, so I really do not mind if this pass.\n\nI was trying to make the point that user's graphs are part of his work and shouldn't be shared with anyone else when it isn't both necessary and obvious that this happens. This is weakend by the fact that graph itself doesn't tell much about the nature of your work without the most carefull inspection. And, of course, mathematicians who do actual research on Sage, are not really the target group for this functionality. :-)",
    "created_at": "2012-12-15T13:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162308",
    "user": "brunellus"
}
```

Hi! I am the last person to block someone else's initiative, so I really do not mind if this pass.

I was trying to make the point that user's graphs are part of his work and shouldn't be shared with anyone else when it isn't both necessary and obvious that this happens. This is weakend by the fact that graph itself doesn't tell much about the nature of your work without the most carefull inspection. And, of course, mathematicians who do actual research on Sage, are not really the target group for this functionality. :-)



---

archive/issue_comments_162309.json:
```json
{
    "body": "Yoooooooooooooooooooooooo !!!\n\nOh. Well, then we can add scary warnings everywhere saying that KGB spies may be watching `:-)`\n\nNathann",
    "created_at": "2012-12-15T20:29:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162309",
    "user": "@nathanncohen"
}
```

Yoooooooooooooooooooooooo !!!

Oh. Well, then we can add scary warnings everywhere saying that KGB spies may be watching `:-)`

Nathann



---

archive/issue_comments_162310.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-12-28T20:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162310",
    "user": "@fchapoton"
}
```

New commits:



---

archive/issue_comments_162311.json:
```json
{
    "body": "no longer needed, as one can do \"g.view(method='js') for a similar experience.",
    "created_at": "2015-11-21T19:01:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162311",
    "user": "@fchapoton"
}
```

no longer needed, as one can do "g.view(method='js') for a similar experience.



---

archive/issue_comments_162312.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-11-21T19:01:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162312",
    "user": "@fchapoton"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_162313.json:
```json
{
    "body": "does somebody has any objection against closing this ticket ?",
    "created_at": "2015-11-23T16:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162313",
    "user": "@fchapoton"
}
```

does somebody has any objection against closing this ticket ?



---

archive/issue_comments_162314.json:
```json
{
    "body": "ok, no reaction, let us close that.",
    "created_at": "2015-11-24T11:15:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162314",
    "user": "@fchapoton"
}
```

ok, no reaction, let us close that.



---

archive/issue_comments_162315.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-11-24T11:15:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162315",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_162316.json:
```json
{
    "body": "No objection.",
    "created_at": "2015-11-24T20:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162316",
    "user": "@seblabbe"
}
```

No objection.



---

archive/issue_comments_162317.json:
```json
{
    "body": "Replying to [comment:19 chapoton]:\n> no longer needed, as one can do \"g.view(method='js') for a similar experience.\n\nyou mean `g.show(method='js')`.",
    "created_at": "2015-11-24T20:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162317",
    "user": "@seblabbe"
}
```

Replying to [comment:19 chapoton]:
> no longer needed, as one can do "g.view(method='js') for a similar experience.

you mean `g.show(method='js')`.



---

archive/issue_comments_162318.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2015-11-26T22:46:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13246#issuecomment-162318",
    "user": "@vbraun"
}
```

Resolution: duplicate
