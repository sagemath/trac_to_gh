# Issue 14257: Change the method cardinality to StandardTableaux of fixed size

Issue created by migration from Trac.

Original creator: g.chatel

Original creation time: 2013-04-16 14:54:17

Assignee: sage-combinat

CC:  sage-combinat

Keywords: tableau, cardinality

Change the method cardinality in the class StandardTableaux_size


---

Comment by g.chatel created at 2013-04-16 15:00:27

Changing status from new to needs_review.


---

Comment by tscrim created at 2013-04-16 20:50:31

Hey,

Could you make the following changes:

- describe the algorithm that you are using the doc,
- add a test to show that your computation agrees with the constructed number (for some smaller `n` than 50 of course),
- put your (real) name in the trac authors section.

Thanks,

Travis


---

Comment by g.chatel created at 2013-04-17 10:03:27

Here is a new version of my patch with tests. Sorry, I'm not a native speaker and this would my first contribution.

Instead of using hook formula on every shape of Young tableau my algorithm counts the number of involution of size n which are in bijection with standard tableau of size n.

Sage seems do be limited around size 35 :

```
sage: timeit('StandardTableaux(35).cardinality()')
5 loops, best of 3: 5.83 s per loop
```


With the patch


```
sage: timeit('StandardTableaux(35).cardinality()')         
625 loops, best of 3: 390 Âµs per loop
```



---

Attachment

Hey Gregory,

This is a great speedup, and I was surprised that involutions, or at least counting them, is not currently in Sage (there must surely be a ticket for this...). Anyways, I've uploaded a review patch which adds the description of the cardinality. If you are happy with the changes, feel free to set this to positive review.

Best,

Travis

In case you are unaware, to check you should apply my review patch after yours, run `sage -b`, then run `sage -docbuild reference/combinat html` and look at your (local) documentation. Feel free to ask me questions if you need to.


---

Comment by mhansen created at 2013-04-17 14:08:26

Heh, I just added my own review patch (on top of the original, not yours).  I added a reference to Fulton's Young Tableaux as well as made some minor changes.  These give about a 3x speedup on the original (new) implementation.  I also didn't test nearly as many values since it adds like an extra 3 seconds to the files tests.


---

Comment by tscrim created at 2013-04-17 14:23:22

Hey Mike,

I'll merge your review patch with some of my doc additions and repost that (especially since you get a 3x speedup). Should be up within 15 minutes.


---

Attachment

Hey Mike,

I've tweaked my review patch to apply after yours. If your happy with my changes, then you can set this to positive review.

Thanks,

Travis


---

Comment by mhansen created at 2013-04-17 14:37:30

Looks good.


---

Comment by mhansen created at 2013-04-17 14:37:30

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2013-04-17 14:44:39

Thanks Mike. Thanks Gregory, and welcome to the sage development community.


---

Comment by mhansen created at 2013-04-17 15:05:21

I just updated the reference for Fulton's Young Tableaux.


---

Comment by jdemeyer created at 2013-04-18 08:52:46

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2013-04-18 08:52:46

[attachment:trac_14461-review-mh.patch] needs a proper commit message.


---

Attachment


---

Comment by mhansen created at 2013-04-18 13:42:39

Changing status from needs_work to positive_review.


---

Comment by mhansen created at 2013-04-18 13:42:39

Done


---

Comment by jdemeyer created at 2013-04-23 09:44:58

Resolution: fixed
