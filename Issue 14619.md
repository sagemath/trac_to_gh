# Issue 14619: Categories of (C)DVR and (C)DVF

Issue created by migration from Trac.

Original creator: caruso

Original creation time: 2013-06-26 08:51:53

Assignee: nthiery

CC:  defeo

Keywords: categories, DVR

Here is a small patch defining categories of (complete) discrete valuation rings and (complete) discrete valuation fields.


---

Comment by caruso created at 2013-06-26 08:59:25

Changing type from PLEASE CHANGE to enhancement.


---

Comment by caruso created at 2013-06-26 08:59:25

Changing status from new to needs_review.


---

Comment by roed created at 2013-07-08 11:08:31

I'm glad you're working on this stuff.  Here are some comments:

* There are test failures to fix but they look simple.
* Rather than ``@`abstract_method` you should use the `required_methods` function from `sage.categories.Category`.  Most of the functions on these categories should not actually be implemented on the category but rather included in the output of `required_methods`.
* In power series rings it's probably worth giving some examples with infinite precision to highlight the difference with p-adic rings.


---

Comment by roed created at 2013-07-08 11:08:31

Changing status from needs_review to needs_work.


---

Comment by nthiery created at 2013-07-08 18:44:17

Hi David!

Replying to [comment:2 roed]:

> * Rather than ``@`abstract_method` you should use the
>   `required_methods` function from `sage.categories.Category`.  Most
>   of the functions on these categories should not actually be
>   implemented on the category but rather included in the output of
>   `required_methods`.

I am not sure I understand your point. Looking at the patch, those
methods are not implemented on the category (just declared as abstract
methods), and it's those declarations that get them included in
``required_methods``.

Other than this, just for checking (and showing off my incompetence on
the topic at hand), it's on purpose that a discrete valuation field is
not a discrete valuation ring?

Cheers,
                         Nicolas


---

Comment by caruso created at 2013-07-09 09:39:35

Replying to [comment:2 roed]:
> * There are test failures to fix but they look simple.

Fixed.

> * Rather than ``@`abstract_method` you should use the `required_methods` function from `sage.categories.Category`.  Most of the functions on these categories should not actually be implemented on the category but rather included in the output of `required_methods`.

cf Nicolas' answer: I think that the "right way" is to decorate these functions by ``@`abstract_method`, so that they are automatically discovered by `required_methods`.

> * In power series rings it's probably worth giving some examples with infinite precision to highlight the difference with p-adic rings.

I don't understand what you are saying: do you mean that I should add some doctests in `sage.rings.power_series_ring` and `sage.rings.power_series_ring_element` to highlight this difference?


---

Comment by caruso created at 2013-07-09 09:39:35

Changing status from needs_work to needs_info.


---

Attachment

I realized that my patch was not compatible with #14084. I just posted a revised version of my patch.


---

Comment by caruso created at 2013-08-24 17:50:00

Changing status from needs_info to needs_review.


---

Comment by saraedum created at 2013-09-02 12:57:38

Changing keywords from "categories, DVR" to "categories, DVR, sd52".


---

Comment by roed created at 2013-09-07 02:51:40

I made some changes: if you're happy with them then feel free to mark as positive review.


---

Comment by caruso created at 2013-09-11 09:28:18

I'm happy with your modifications. I don't just really understand why this ticket depends on #14482...


---

Comment by caruso created at 2013-09-11 09:28:18

Changing status from needs_review to positive_review.


---

Comment by defeo created at 2013-09-11 10:16:00

Replying to [comment:13 caruso]:
> I don't just really understand why this ticket depends on #14482...

Because it uses sage-git with the dev scripts. It cannot really go in before #14482 gets in (and it might need fiddling with the branch, then, I'll keep an eye on it).

Any idea why David's branch does not have a link?


---

Comment by vbraun created at 2014-01-06 23:14:15

Merge conflict, please fix.
----
New commits:


---

Comment by git created at 2014-01-08 02:40:08

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2014-01-08 02:40:08

Changing status from positive_review to needs_review.


---

Comment by roed created at 2014-01-08 02:42:42

Changing status from needs_review to positive_review.


---

Comment by roed created at 2014-01-08 02:42:42

I've trivially fixed the merge conflict, so I'm marking it back to positive review.


---

Comment by vbraun created at 2014-01-08 18:21:12

Resolution: fixed
