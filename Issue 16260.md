# Issue 16260: Rounding problem with CBC

Issue created by migration from https://trac.sagemath.org/ticket/16497

Original creator: tmonteil

Original creation time: 2014-06-18 15:46:40

CC:  ncohen

Running `make ptestlong` with CBC package installed leads to the following doctest errors:


```
File "src/doc/en/thematic_tutorials/linear_programming.rst", line 442, in doc.en.thematic_tutorials.linear_programming
Failed example:
    p.solve()
Expected:
    2.0
Got:
    1.0
```



```
File "src/sage/graphs/graph.py", line 3215, in sage.graphs.graph.Graph.minimum_outdegree_orientation
Failed example:
    max(o.out_degree()) == ceil((4*3)/(3+4))
Expected:
    True
Got:
    False
```



```
File "src/sage/numerical/optimize.py", line 777, in sage.numerical.optimize.binpacking
Failed example:
    all([ (v in b1 or v in b2 or v in b3) for v in values ])
Expected:
    True
Got:
    False
```



---

Comment by git created at 2014-06-25 15:48:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tmonteil created at 2014-06-25 15:52:51

New commits:


---

Comment by ncohen created at 2014-06-25 16:30:03

Changing status from new to needs_review.


---

Comment by ncohen created at 2014-06-25 16:30:03

Thank you for that !

Nathann


---

Comment by ncohen created at 2014-06-25 16:30:07

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2014-06-25 16:30:24

Well, assuming it was in "needs_review" ... ?

Nathann


---

Comment by tmonteil created at 2014-06-25 16:35:32

Well not really, i still need to find a doctest for non-binary integer variables.


---

Comment by tmonteil created at 2014-06-25 16:43:16

Changing status from positive_review to needs_work.


---

Comment by git created at 2014-06-26 15:02:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-06-26 15:06:04

AHahahhh.. Is it in needs_review now ? `:-P`

Nathann


---

Comment by tmonteil created at 2014-06-26 15:06:22

I added a doctest, not sure it is a valuable one. At least on my machine with CBC installed, it returns a wrong answser without the fix (both integer and binary cases), and a good answer with the fix.

It could be nice to have some buildbots running with some optional packages installed.


---

Comment by ncohen created at 2014-06-26 15:07:27

By the way you added a doctest which checks something that was already checked by doctest, i.e. the ones you reported in the message's description `:-P`

Nathann


---

Comment by tmonteil created at 2014-06-26 15:08:56

Well not completely, all doctests passed if i only fixed the binary case.


---

Comment by tmonteil created at 2014-06-26 15:08:56

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2014-06-26 20:46:18

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2014-06-26 20:46:18

Yo !

Okayyyyyyyy, good to go `:-)`

Nathann


---

Comment by vbraun created at 2014-06-27 15:14:50

Resolution: fixed
