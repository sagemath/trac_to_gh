# Issue 16260: Rounding problem with CBC

archive/issues_016260.json:
```json
{
    "body": "CC:  ncohen\n\nRunning `make ptestlong` with CBC package installed leads to the following doctest errors:\n\n\n```\nFile \"src/doc/en/thematic_tutorials/linear_programming.rst\", line 442, in doc.en.thematic_tutorials.linear_programming\nFailed example:\n    p.solve()\nExpected:\n    2.0\nGot:\n    1.0\n```\n\n\n\n```\nFile \"src/sage/graphs/graph.py\", line 3215, in sage.graphs.graph.Graph.minimum_outdegree_orientation\nFailed example:\n    max(o.out_degree()) == ceil((4*3)/(3+4))\nExpected:\n    True\nGot:\n    False\n```\n\n\n\n```\nFile \"src/sage/numerical/optimize.py\", line 777, in sage.numerical.optimize.binpacking\nFailed example:\n    all([ (v in b1 or v in b2 or v in b3) for v in values ])\nExpected:\n    True\nGot:\n    False\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16497\n\n",
    "created_at": "2014-06-18T15:46:40Z",
    "labels": [
        "packages: optional",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Rounding problem with CBC",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16260",
    "user": "tmonteil"
}
```
CC:  ncohen

Running `make ptestlong` with CBC package installed leads to the following doctest errors:


```
File "src/doc/en/thematic_tutorials/linear_programming.rst", line 442, in doc.en.thematic_tutorials.linear_programming
Failed example:
    p.solve()
Expected:
    2.0
Got:
    1.0
```



```
File "src/sage/graphs/graph.py", line 3215, in sage.graphs.graph.Graph.minimum_outdegree_orientation
Failed example:
    max(o.out_degree()) == ceil((4*3)/(3+4))
Expected:
    True
Got:
    False
```



```
File "src/sage/numerical/optimize.py", line 777, in sage.numerical.optimize.binpacking
Failed example:
    all([ (v in b1 or v in b2 or v in b3) for v in values ])
Expected:
    True
Got:
    False
```


Issue created by migration from https://trac.sagemath.org/ticket/16497





---

archive/issue_comments_212668.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-25T15:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212668",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212669.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-06-25T15:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212669",
    "user": "tmonteil"
}
```

New commits:



---

archive/issue_comments_212670.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-25T16:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212670",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_212671.json:
```json
{
    "body": "Thank you for that !\n\nNathann",
    "created_at": "2014-06-25T16:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212671",
    "user": "ncohen"
}
```

Thank you for that !

Nathann



---

archive/issue_comments_212672.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-25T16:30:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212672",
    "user": "ncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_212673.json:
```json
{
    "body": "Well, assuming it was in \"needs_review\" ... ?\n\nNathann",
    "created_at": "2014-06-25T16:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212673",
    "user": "ncohen"
}
```

Well, assuming it was in "needs_review" ... ?

Nathann



---

archive/issue_comments_212674.json:
```json
{
    "body": "Well not really, i still need to find a doctest for non-binary integer variables.",
    "created_at": "2014-06-25T16:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212674",
    "user": "tmonteil"
}
```

Well not really, i still need to find a doctest for non-binary integer variables.



---

archive/issue_comments_212675.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-06-25T16:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212675",
    "user": "tmonteil"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_212676.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-26T15:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212676",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212677.json:
```json
{
    "body": "AHahahhh.. Is it in needs_review now ? `:-P`\n\nNathann",
    "created_at": "2014-06-26T15:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212677",
    "user": "ncohen"
}
```

AHahahhh.. Is it in needs_review now ? `:-P`

Nathann



---

archive/issue_comments_212678.json:
```json
{
    "body": "I added a doctest, not sure it is a valuable one. At least on my machine with CBC installed, it returns a wrong answser without the fix (both integer and binary cases), and a good answer with the fix.\n\nIt could be nice to have some buildbots running with some optional packages installed.",
    "created_at": "2014-06-26T15:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212678",
    "user": "tmonteil"
}
```

I added a doctest, not sure it is a valuable one. At least on my machine with CBC installed, it returns a wrong answser without the fix (both integer and binary cases), and a good answer with the fix.

It could be nice to have some buildbots running with some optional packages installed.



---

archive/issue_comments_212679.json:
```json
{
    "body": "By the way you added a doctest which checks something that was already checked by doctest, i.e. the ones you reported in the message's description `:-P`\n\nNathann",
    "created_at": "2014-06-26T15:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212679",
    "user": "ncohen"
}
```

By the way you added a doctest which checks something that was already checked by doctest, i.e. the ones you reported in the message's description `:-P`

Nathann



---

archive/issue_comments_212680.json:
```json
{
    "body": "Well not completely, all doctests passed if i only fixed the binary case.",
    "created_at": "2014-06-26T15:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212680",
    "user": "tmonteil"
}
```

Well not completely, all doctests passed if i only fixed the binary case.



---

archive/issue_comments_212681.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-06-26T15:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212681",
    "user": "tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_212682.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-26T20:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212682",
    "user": "ncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_212683.json:
```json
{
    "body": "Yo !\n\nOkayyyyyyyy, good to go `:-)`\n\nNathann",
    "created_at": "2014-06-26T20:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212683",
    "user": "ncohen"
}
```

Yo !

Okayyyyyyyy, good to go `:-)`

Nathann



---

archive/issue_comments_212684.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-27T15:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212684",
    "user": "vbraun"
}
```

Resolution: fixed
