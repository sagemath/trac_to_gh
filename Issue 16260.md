# Issue 16260: Rounding problem with CBC

archive/issues_016260.json:
```json
{
    "body": "CC:  @nathanncohen\n\nRunning `make ptestlong` with CBC package installed leads to the following doctest errors:\n\n\n```\nFile \"src/doc/en/thematic_tutorials/linear_programming.rst\", line 442, in doc.en.thematic_tutorials.linear_programming\nFailed example:\n    p.solve()\nExpected:\n    2.0\nGot:\n    1.0\n```\n\n\n\n```\nFile \"src/sage/graphs/graph.py\", line 3215, in sage.graphs.graph.Graph.minimum_outdegree_orientation\nFailed example:\n    max(o.out_degree()) == ceil((4*3)/(3+4))\nExpected:\n    True\nGot:\n    False\n```\n\n\n\n```\nFile \"src/sage/numerical/optimize.py\", line 777, in sage.numerical.optimize.binpacking\nFailed example:\n    all([ (v in b1 or v in b2 or v in b3) for v in values ])\nExpected:\n    True\nGot:\n    False\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16497\n\n",
    "created_at": "2014-06-18T15:46:40Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Rounding problem with CBC",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16260",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
CC:  @nathanncohen

Running `make ptestlong` with CBC package installed leads to the following doctest errors:


```
File "src/doc/en/thematic_tutorials/linear_programming.rst", line 442, in doc.en.thematic_tutorials.linear_programming
Failed example:
    p.solve()
Expected:
    2.0
Got:
    1.0
```



```
File "src/sage/graphs/graph.py", line 3215, in sage.graphs.graph.Graph.minimum_outdegree_orientation
Failed example:
    max(o.out_degree()) == ceil((4*3)/(3+4))
Expected:
    True
Got:
    False
```



```
File "src/sage/numerical/optimize.py", line 777, in sage.numerical.optimize.binpacking
Failed example:
    all([ (v in b1 or v in b2 or v in b3) for v in values ])
Expected:
    True
Got:
    False
```


Issue created by migration from https://trac.sagemath.org/ticket/16497





---

archive/issue_comments_212391.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-25T15:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212391",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212392.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-06-25T15:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212392",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

New commits:



---

archive/issue_comments_212393.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-25T16:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212393",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_212394.json:
```json
{
    "body": "Thank you for that !\n\nNathann",
    "created_at": "2014-06-25T16:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212394",
    "user": "https://github.com/nathanncohen"
}
```

Thank you for that !

Nathann



---

archive/issue_comments_212395.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-25T16:30:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212395",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_212396.json:
```json
{
    "body": "Well, assuming it was in \"needs_review\" ... ?\n\nNathann",
    "created_at": "2014-06-25T16:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212396",
    "user": "https://github.com/nathanncohen"
}
```

Well, assuming it was in "needs_review" ... ?

Nathann



---

archive/issue_comments_212397.json:
```json
{
    "body": "Well not really, i still need to find a doctest for non-binary integer variables.",
    "created_at": "2014-06-25T16:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212397",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Well not really, i still need to find a doctest for non-binary integer variables.



---

archive/issue_comments_212398.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-06-25T16:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212398",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_212399.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-26T15:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212399",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212400.json:
```json
{
    "body": "AHahahhh.. Is it in needs_review now ? `:-P`\n\nNathann",
    "created_at": "2014-06-26T15:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212400",
    "user": "https://github.com/nathanncohen"
}
```

AHahahhh.. Is it in needs_review now ? `:-P`

Nathann



---

archive/issue_comments_212401.json:
```json
{
    "body": "I added a doctest, not sure it is a valuable one. At least on my machine with CBC installed, it returns a wrong answser without the fix (both integer and binary cases), and a good answer with the fix.\n\nIt could be nice to have some buildbots running with some optional packages installed.",
    "created_at": "2014-06-26T15:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212401",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

I added a doctest, not sure it is a valuable one. At least on my machine with CBC installed, it returns a wrong answser without the fix (both integer and binary cases), and a good answer with the fix.

It could be nice to have some buildbots running with some optional packages installed.



---

archive/issue_comments_212402.json:
```json
{
    "body": "By the way you added a doctest which checks something that was already checked by doctest, i.e. the ones you reported in the message's description `:-P`\n\nNathann",
    "created_at": "2014-06-26T15:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212402",
    "user": "https://github.com/nathanncohen"
}
```

By the way you added a doctest which checks something that was already checked by doctest, i.e. the ones you reported in the message's description `:-P`

Nathann



---

archive/issue_comments_212403.json:
```json
{
    "body": "Well not completely, all doctests passed if i only fixed the binary case.",
    "created_at": "2014-06-26T15:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212403",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Well not completely, all doctests passed if i only fixed the binary case.



---

archive/issue_comments_212404.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-06-26T15:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212404",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_212405.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-26T20:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212405",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_212406.json:
```json
{
    "body": "Yo !\n\nOkayyyyyyyy, good to go `:-)`\n\nNathann",
    "created_at": "2014-06-26T20:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212406",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

Okayyyyyyyy, good to go `:-)`

Nathann



---

archive/issue_events_048479.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-27T15:14:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16260#event-48479"
}
```



---

archive/issue_comments_212407.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-27T15:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16260#issuecomment-212407",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
