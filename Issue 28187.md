# Issue 28187: PARI 2.12.0

Issue created by migration from https://trac.sagemath.org/ticket/28424

Original creator: jdemeyer

Original creation time: 2019-08-29 17:18:16

CC:  embray fbissey vdelecroix slelievre

*Tarball*: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.12.0.alpha.tar.gz


---

Comment by embray created at 2019-08-29 17:32:04

LOL, I was just working on doing the same...
----
New commits:


---

Comment by jdemeyer created at 2019-08-29 17:34:34

Doing `make ptestlong`, this will take a while...


---

Comment by jdemeyer created at 2019-08-29 20:13:19

The tests haven't finished yet, but I already see some failures:

```
sage -t --long src/sage/schemes/elliptic_curves/ell_number_field.py
**********************************************************************
File "src/sage/schemes/elliptic_curves/ell_number_field.py", line 47, in sage.schemes.elliptic_curves.ell_number_field
Failed example:
    E.simon_two_descent()
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1105, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.elliptic_curves.ell_number_field[8]>", line 1, in <module>
        E.simon_two_descent()
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_number_field.py", line 329, in simon_two_descent
        known_points=known_points)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/gp_simon.py", line 144, in simon_two_descent
        raise RuntimeError("\n%s\nAn error occurred while running Simon's 2-descent program"%s)
    RuntimeError: 
      ***   at top-level: ans=bnfellrank(K,[0,0,0,0,a+4],[])
      ***                     ^------------------------------
      ***   in function bnfellrank: ...eqtheta,rnfeq,bbnf];rang=
      ***   bnfell2descent_gen(bn
      ***   ^---------------------
      ***   in function bnfell2descent_gen: ...)));LS2=concat(lift(Lrnf.
      ***   futu),LS2);LS2=subst(
      ***   ^---------------------
      ***   not a function in function call
    An error occurred while running Simon's 2-descent program
**********************************************************************
```



---

Comment by embray created at 2019-08-29 20:22:08

I got a handful of failures (these are just the modules that failed, but I see similar exceptions):


```
----------------------------------------------------------------------
sage -t --long src/sage/schemes/elliptic_curves/gp_simon.py  # 4 doctests failed
sage -t --long src/sage_setup/docbuild/utils.py  # 3 doctests failed
sage -t --long src/sage/libs/pari/tests.py  # 2 doctests failed
sage -t --long src/sage/repl/interface_magic.py  # 3 doctests failed
sage -t --long src/sage/schemes/elliptic_curves/period_lattice.py  # 3 doctests failed
sage -t --long src/sage/repl/ipython_tests.py  # 6 doctests failed
sage -t --long src/sage/repl/interpreter.py  # 2 doctests failed
sage -t --long src/sage/schemes/elliptic_curves/ell_number_field.py  # 19 doctests failed
sage -t --long src/sage/schemes/elliptic_curves/height.py  # 6 doctests failed
----------------------------------------------------------------------
```



---

Comment by jdemeyer created at 2019-08-29 21:35:22

I got

```
----------------------------------------------------------------------
sage -t --long src/sage/schemes/elliptic_curves/ell_number_field.py  # 19 doctests failed
sage -t --long src/sage/schemes/elliptic_curves/height.py  # 6 doctests failed
sage -t --long src/sage/tests/cmdline.py  # 1 doctest failed
sage -t --long src/sage/schemes/elliptic_curves/gp_simon.py  # 4 doctests failed
sage -t --long src/sage/schemes/elliptic_curves/period_lattice.py  # 3 doctests failed
sage -t --long src/sage/libs/pari/tests.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

Comment by kedlaya created at 2019-11-25 00:59:07

The current provided version is the stable version 2.11.1; there is currently an updated stable version 2.11.2. Maybe we should be going after that one instead?

In case this provides any incentive, #28789 is resolved upstream in both 2.11.2 and 2.12.0.


---

Comment by chapoton created at 2019-12-04 12:30:46

see #28840 for a simpler upgrade to pari 2.11.2


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by thansen created at 2020-03-07 19:34:30

I see a lot of new test failures (including some of the ones reported here with pari 2.12) with pari 2.11.3, which we already have in Debian now. It would be great to have a patch for that update.


---

Comment by mkoeppe created at 2020-11-01 17:26:03

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-11-01 17:26:03

Looks like this ticket has been superseded by #30801 - Upgrade: pari 2.13


---

Comment by vdelecroix created at 2020-11-01 17:30:00

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2020-11-01 17:30:12

Resolution: duplicate
