# Issue 30394: fix R on macOS xcode 12

Issue created by migration from https://trac.sagemath.org/ticket/30631

Original creator: dimpase

Original creation time: 2020-09-22 18:14:39

CC:  mkoeppe jhpalmieri slelievre

configure fails to find bzlib, as the test function misses #includes
This is fixed upstream in the trunk (in Sept. 2020).


---

Comment by dimpase created at 2020-09-22 18:20:48

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-09-22 18:20:48

New commits:


---

Comment by jhpalmieri created at 2020-09-22 18:59:38

This builds for me with Xcode 12. For what it's worth, the changes to `.homebrew-build-env` didn't have any effect for me since I don't have `bzip2` installed via homebrew. Just using the system version seems to work fine.


---

Comment by dimpase created at 2020-09-22 19:02:54

OK, so then these changes to .homebrew-build-env are not needed in fact. I added them as I tried to get R to recognise bzip2, so I thought it might be a problem here.


---

Comment by dimpase created at 2020-09-22 20:03:48

On the other hand there is no harm in the modification of .homebrew-build-env - it merely make sure that if Homebrew's bzip2 is installed then it gets used.


---

Comment by jhpalmieri created at 2020-09-22 20:28:27

Sounds good.


---

Comment by jhpalmieri created at 2020-09-22 20:28:27

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2020-09-24 02:47:47

Changing priority from major to critical.


---

Comment by slelievre created at 2020-09-24 02:47:47

Marking as critical since it is needed for Xcode 12 support.


---

Comment by vbraun created at 2020-09-30 22:30:07

Resolution: fixed
