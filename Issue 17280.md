# Issue 17280: Implement roots of polynomials over SR

Issue created by migration from https://trac.sagemath.org/ticket/17517

Original creator: jdemeyer

Original creation time: 2014-12-16 22:07:01

CC:  gagern

The following should work:

```
sage: R.<x> = QQ[]
sage: (x^2 + 2).roots(SR)
[-sqrt(-2), sqrt(-2)]
```


This could easily be done by first finding the roots in `QQbar` and then converting to `SR`.


---

Comment by gagern created at 2014-12-17 00:40:00

I'm not sure that converting roots to `QQbar` first makes much sense. As it is now, conversion from `QQbar` to `SR` works by first finding _all_ radical symbolic roots and then identifying the matching one. For this use case here, we wouldn't have to worry about that matching step. And we could avoid the computation for root isolation as well. Therefore, unless something changes dramatically in how these things work, I'd rather implement this conversion directly, and then perhaps have the radical expressions for algebraic numbers call that. If you agree, feel free to remove the dependency on #14239.


---

Comment by gagern created at 2015-01-08 14:38:02

I decided to implement this without waiting on #17516. We can always add an extra code path for that later on. I consider this method the canonical place to compute radical expressions for polynomials, so I've adapted the approach via `Expression.solve` I've been using in other places as well. If this gets accepted quickly, I might even change #14239 to make use of this.

There is one situation I just thought of: if the coefficients are from `AA` or `QQbar`, then my current implementation will fail. In that situation your original suggestion, of computing roots in `QQbar` and then turning them into symbolic expressions, starts to make a lot of sense. But I'd rather handle that in a separate ticket, since such polynomials are much rarer and that code really would depend on #14239 which, as I just suggested, could benefit from depending on this implementation here.
----
New commits:


---

Comment by gagern created at 2015-01-08 14:38:02

Changing status from new to needs_review.


---

Comment by rws created at 2015-01-17 07:38:39

Changing status from needs_review to positive_review.


---

Comment by rws created at 2015-01-17 07:38:39

Easy ticket, passes `make ptestlong`.


---

Comment by vbraun created at 2015-01-23 23:40:41

Resolution: fixed
