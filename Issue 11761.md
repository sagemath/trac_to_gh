# Issue 11761: Fix qepcad doctests

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2011-10-17 18:48:00

Assignee: mvngu

CC:  jason




---

Attachment


---

Comment by jason created at 2011-10-18 02:36:43

Can you mark this "needs review" if it is?


---

Comment by jdemeyer created at 2011-10-18 10:09:26

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2011-10-18 10:10:12

Changing assignee from mvngu to jdemeyer.


---

Comment by jdemeyer created at 2011-10-18 10:10:12

Yes, it is ready for review.  I have only tested this on one system, I hope the results are not system-dependent.


---

Comment by jdemeyer created at 2011-10-22 21:27:25

This patch fixes some doctest failures for the _experimental package_ qepcad and also fixes the formatting of the doctests.

This is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).


---

Comment by jdemeyer created at 2011-11-03 16:14:43

Milestone sage-4.7.3 deleted


---

Comment by kcrisman created at 2011-12-03 16:08:22

Replying to [comment:5 jdemeyer]:
> This patch fixes some doctest failures for the _experimental package_ qepcad and also fixes the formatting of the doctests.
As far as I can tell, the nonsubstantive changes are all fine, with the possible exception of the bullet lists toward the end, which could conceivably not be at an appropriate indentation level.  This is not in the reference manual, so I can't check that, but the other changes you made are good, and I assume that the bullets will render properly.
> This is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).
It also failed on Mac OS X 10.6.  

I'll try to test this on sage.math momentarily for the term order changes, then it could go to positive review.


---

Comment by kcrisman created at 2011-12-03 17:45:20

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2011-12-03 17:45:20

On sage.math, before:

```
sage -t -optional "devel/sage/sage/interfaces/qepcad.py"    
**********************************************************************
File "/mnt/usb1/scratch/kcrisman/sage-4.8.alpha3-sage.math.washington.edu-x86_64-Linux/devel/sage/sage/interfaces/qepcad.py", line 95:
    sage: F = qf.exactly_k(3, y, circle * ellipse == 0); F    # optional - qepcad
Expected:
    (X3 y)[(y^2 + x^2 - 3) (y^2 + 2 x y + y + 3 x^2 - x - 7) = 0]
Got:
    (X3 y)[(x^2 + y^2 - 3) (3 x^2 + 2 x y + y^2 - x + y - 7) = 0]
<snip>
Expected:
    'approx-precision N\n\nApproximate algebraic numbers to N decimal places.\n'
Got:
    'approx-precision N\n\nApproximate algeraic numbers to N decimal places.\n'
**********************************************************************
3 items had failures:
   6 of  61 in __main__.example_0
   1 of   6 in __main__.example_2
   1 of   6 in __main__.example_25
***Test Failed*** 8 failures.
For whitespace errors, see the file /home/kcrisman/.sage//tmp/qepcad_31669.py
	 [11.3 s]
 
----------------------------------------------------------------------
The following tests failed:


	sage -t -optional "devel/sage/sage/interfaces/qepcad.py"
Total time for all tests: 11.4 seconds

```


After:

```

sage -t -optional "devel/sage/sage/interfaces/qepcad.py"    
	 [11.6 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 11.6 seconds
```


Great!


---

Comment by jdemeyer created at 2011-12-06 13:19:00

Resolution: fixed
