# Issue 15354: sum(...) misbehaves on tropical semiring

Issue created by migration from https://trac.sagemath.org/ticket/15591

Original creator: darij

Original creation time: 2013-12-25 22:48:10

CC:  sage-combinat tscrim

Keywords: tropical semiring,


```
sage: T = TropicalSemiring(QQ)
sage: sum([T(1), T(1), T(2)])
0
sage: T.sum([T(1), T(1), T(2)])
1
```

I'm not sure if this is caused by #15163 and I don't have time to check :/


---

Comment by tscrim created at 2013-12-25 23:00:18

I don't think so, and here's what I believe to be why. The first one starts at 0, which is then converted into a tropical 0, and then summed. The second starts at `T.zero()` (which is not [a tropical] 0 but `+infinity`). I don't think we'd ever find a way to fix this, so the best we could hope for is a very big warning message.


---

Comment by darij created at 2013-12-26 01:06:05

Could you write that BIG WARNING MESSAGE along with a warning to not trust existing code unless it has been checked for tropical safety? (There's also the ``TT(0)`` and ``TT(1)`` issue.) Thanks a lot.


---

Comment by tscrim created at 2013-12-29 08:04:16

Changing status from new to needs_review.


---

Comment by tscrim created at 2013-12-29 08:04:16

I expanded the warning message in the class doc for `TropicalSemiring` about this.
----
New commits:


---

Comment by darij created at 2014-01-06 17:29:00

Sorry for losing sight of this. Positive review!


---

Comment by darij created at 2014-01-06 17:29:00

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-01-07 07:20:29

Resolution: fixed
