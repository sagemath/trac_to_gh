# Issue 10924: GP blocks files when reallocating memory; Workaround

Issue created by migration from https://trac.sagemath.org/ticket/11017

Original creator: mraum

Original creation time: 2011-03-24 20:27:00

Assignee: was

If a request in _eval_line of the gp interface cannot be executed due to lack of stack memory, the tmp file used to transfer results is blocked.

This is a workaround. We simple create a new file and trust in the system when it comes to cleaning the environement after GP has terminated.

See #???? for a ticket for removing this workaround after finding a better solution (without reevaluating the GP code!)


---

Attachment


---

Comment by mraum created at 2011-03-24 20:36:41

Changing status from new to needs_review.


---

Comment by cremona created at 2011-03-25 16:45:52

The patch looks ok -- testing now.


---

Comment by cremona created at 2011-03-25 17:07:15

Changing status from needs_review to positive_review.


---

Comment by cremona created at 2011-03-25 17:07:15

Replying to [comment:2 cremona]:
> The patch looks ok -- testing now.

All tests pass, so positive review (and on to #11024)


---

Comment by jdemeyer created at 2011-03-26 20:40:49

Please give an example of the problem that this ticket is addressing.


---

Comment by jdemeyer created at 2011-03-26 20:40:49

Changing status from positive_review to needs_info.


---

Comment by mraum created at 2011-03-26 23:10:38

A typical example is Dokchitser calculator, that can easily provoke a stack overflow in GP. Then the stack will be increase but the temporary file cannot be read anymore. More specifically, the test on line 760 after applying trac-11024-dokchitser.patch fails for this very reason.


---

Comment by jdemeyer created at 2011-03-27 10:14:17

Allright, I will have a look and try to understand the problem.
