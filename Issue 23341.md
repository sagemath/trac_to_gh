# Issue 23341: Force make doc-clean on upgrade

Issue created by migration from https://trac.sagemath.org/ticket/23578

Original creator: JoalHeagney

Original creation time: 2017-08-03 19:47:20

Keywords: upgrade doc-clean

Literally **every** time I upgrade sage, the build throws an error on building the documents. This is on sage originally built from source, and upgraded using sage -upgrade over the network.

Now the fix is easy, just run make doc-clean and re-run the upgrade, but would it be possible to make the default behaviour of sage -upgrade to run make doc-clean before doing anything else?

This would also help those first time builders who hit this and don't know how to proceed.


---

Comment by jhpalmieri created at 2017-08-03 20:23:19

I think this is a duplicate of #19882. See also #22588 which tries to solve the same problem with a different approach.


---

Comment by JoalHeagney created at 2017-08-03 22:26:02

*sigh* Yeah I think it is. Well at least we've got some nice looking patches in those other tickets. Should I mark this as duplicate?


---

Comment by JoalHeagney created at 2017-08-03 22:28:33

Changing priority from minor to trivial.


---

Comment by jhpalmieri created at 2017-08-03 23:58:46

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2017-08-03 23:58:57

Changing status from needs_review to positive_review.


---

Comment by embray created at 2017-12-12 08:23:33

Resolution: wontfix
