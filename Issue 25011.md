# Issue 25011: py3: fix sage.parallel.map_reduce

Issue created by migration from Trac.

Original creator: embray

Original creation time: 2018-04-25 13:21:49

CC:  hivert

A bit of background to this fix:  Python 3.4 introduced a new API to the `multiprocessing` module that uses application-specific _contexts_ for all state related to multiprocessing, rather than the old way of relying entirely on module-global state (though there is a concept of a default context).  This also enables it to offer different strategies for process spawning.

Here we just keep the existing functionality as-is, but slightly update how the `multiprocessing` module is used in this module to use a context for it instead, while still keeping backwards compatibility on Python 2.


---

Comment by embray created at 2018-04-25 13:22:29

Changing status from new to needs_review.


---

Comment by hivert created at 2018-04-25 16:38:22

Changing status from needs_review to positive_review.


---

Comment by hivert created at 2018-04-25 16:38:22

LGTM ! I need to read more about this new python 3 stuff to look if there is room for improvements.


---

Comment by vbraun created at 2018-05-14 17:35:17

Resolution: fixed
