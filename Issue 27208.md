# Issue 27208: groebner_basis for multivariate polynomial ring with no variables

Issue created by migration from https://trac.sagemath.org/ticket/27445

Original creator: dkrenn

Original creation time: 2019-03-08 12:12:34

On all of the following examples, the warning 

```
Warning: falling back to very slow toy implementation.
```

appear:

```
            sage: P = PolynomialRing(QQ, 't', 0)
            sage: P.ideal([P(2)]).groebner_basis()
            [1]
            sage: P.ideal([]).groebner_basis()
            []
            sage: P.ideal([0]).groebner_basis()
            []
            sage: P.ideal([3,4,0,5]).groebner_basis()
            [1]
```

Handle these cases separately! (Reason: singular does not handle these cases.)


---

Comment by dkrenn created at 2019-03-08 13:59:03

Changing status from new to needs_review.


---

Comment by dkrenn created at 2019-03-08 13:59:03

New commits:


---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by tscrim created at 2019-03-26 21:43:51

Can you also add a test when the base ring is not a field (e.g., `ZZ`)? Otherwise LGTM.


---

Comment by dkrenn created at 2019-03-27 13:36:28

Replying to [comment:4 tscrim]:
> Can you also add a test when the base ring is not a field (e.g., `ZZ`)? Otherwise LGTM.

A test would always result in

```
TypeError: Can only reduce polynomials over fields.
```

also with this patch. Is this what you mean? (The situation for non-fields is more complex as coefficients do not need to divide each other...)


---

Comment by tscrim created at 2019-03-27 21:59:17

Replying to [comment:5 dkrenn]:
> Replying to [comment:4 tscrim]:
> > Can you also add a test when the base ring is not a field (e.g., `ZZ`)? Otherwise LGTM.
> 
> A test would always result in
> {{{
> TypeError: Can only reduce polynomials over fields.
> }}}
> also with this patch. Is this what you mean? (The situation for non-fields is more complex as coefficients do not need to divide each other...)

I believe that in general, but over `ZZ` Singular does GB computations:

```
sage: R.<x,y,z> = ZZ[]
sage: R.ideal([x^2-y,x*y-z*y+2,5*x*z-x]).groebner_basis()
[y*z^2 - y^2 - 2*x - 2*z, x^2 - y, x*y - y*z + 2, 5*y^2 - y*z + 10*x + 2, 5*x*z - x, 5*y*z - y, 10*z - 2]
sage: R.ideal([5,2]).groebner_basis()
[1]
```

So since singular works for `ZZ`, I think this patch should also fix it at least for that ring.


---

Comment by git created at 2019-03-28 08:04:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dkrenn created at 2019-03-28 08:06:25

Replying to [comment:6 tscrim]:
> I believe that in general, but over `ZZ` Singular does GB computations:
> {{{
> sage: R.<x,y,z> = ZZ[]
> sage: R.ideal([x^2-y,x*y-z*y+2,5*x*z-x]).groebner_basis()
> [y*z^2 - y^2 - 2*x - 2*z, x^2 - y, x*y - y*z + 2, 5*y^2 - y*z + 10*x + 2, 5*x*z - x, 5*y*z - y, 10*z - 2]
> sage: R.ideal([5,2]).groebner_basis()
> [1]
> }}}
> So since singular works for `ZZ`, I think this patch should also fix it at least for that ring.

Ok, did it now more general. It needed a restructuring of the existing relevant code.


---

Comment by git created at 2019-03-28 08:12:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2019-03-28 22:16:38

Thank you. I think this is much better and more consistent.


---

Comment by tscrim created at 2019-03-28 22:16:38

Changing status from needs_review to positive_review.


---

Comment by dkrenn created at 2019-03-29 08:00:51

Replying to [comment:10 tscrim]:
> Thank you. I think this is much better and more consistent.

I think so as well. Thank you.


---

Comment by vbraun created at 2019-03-30 20:38:08

Resolution: fixed
