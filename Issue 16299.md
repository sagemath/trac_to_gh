# Issue 16299: Python 3 preparation: cmp parameter of sorted() function and L.sort() method are gone

Issue created by migration from Trac.

Original creator: wluebbe

Original creation time: 2014-06-25 13:17:43

CC:  tscrim embray jdemeyer

Keywords: python3

In Py2 the standard function [sorted()](https://docs.python.org/2/library/functions.html#sorted) and the mutable list method [sort()](https://docs.python.org/2/library/stdtypes.html#mutable-sequence-types) both have an optional parameter `cmp=` that takes a custom comparison function of two arguments.

The parameter is no more available in Py3. 

The recommended way is to use the `key=` which specifies a function of one argument that is used to extract a comparison key from each list element. This has also better performance.

While there is a function [functools.cmp_to_key()](https://docs.python.org/2/library/functools.html#functools.cmp_to_key) to convert an old-style cmp function to a key function, it is preferable to directly use an appropriate key function.

This ticket is tracked as a dependency of meta-ticket ticket:15980.


---

Comment by wluebbe created at 2014-06-27 14:31:44

Demonstrate behavior of cmp= and key= in Py2 and Py3


---

Attachment

The workings of `functools.cmp_to_key` is nicely explained in [stackoverflow](http://stackoverflow.com/questions/16362744/how-does-pythons-cmp-to-key-function-work).

This is also demonstrated in the attached script.

It is also shown that it is not a good idea the use "cmp=" and "key=" together even in Py2!


---

Comment by jdemeyer created at 2016-05-02 13:32:48

Changing component from distribution to python3.


---

Comment by chapoton created at 2016-07-17 12:26:14

see #21035 for a step in that direction


---

Comment by chapoton created at 2016-09-23 06:08:43

Changing type from PLEASE CHANGE to enhancement.


---

Comment by chapoton created at 2016-11-12 17:02:20

This is now mostly done. In some places, cmp was only deprecated.


---

Comment by chapoton created at 2017-08-24 13:04:00

another step in #23698


---

Comment by chapoton created at 2017-11-16 19:55:59

One should soon take care of removing what was deprecated in #21766.

See #24409 for that


---

Comment by chapoton created at 2018-01-04 10:08:34

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-01-04 10:08:34

Maybe we could now close this one ?


---

Comment by chapoton created at 2018-01-10 13:18:03

ping ? any objection to close as invalid ?


---

Comment by embray created at 2018-01-10 13:20:42

Resolution: wontfix
