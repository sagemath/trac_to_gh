# Issue 18326: Change known-broken packages to "experimental"

archive/issues_018326.json:
```json
{
    "body": "Packages which are known to fail optional doctests should be \"experimental\", not \"optional\".\n\nIssue created by migration from https://trac.sagemath.org/ticket/18563\n\n",
    "created_at": "2015-06-01T08:11:59Z",
    "labels": [
        "packages: experimental",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Change known-broken packages to \"experimental\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18326",
    "user": "@jdemeyer"
}
```
Packages which are known to fail optional doctests should be "experimental", not "optional".

Issue created by migration from https://trac.sagemath.org/ticket/18563





---

archive/issue_comments_248639.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-06-01T08:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248639",
    "user": "@nathanncohen"
}
```

New commits:



---

archive/issue_comments_248640.json:
```json
{
    "body": "needs review ?",
    "created_at": "2015-06-01T08:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248640",
    "user": "@nathanncohen"
}
```

needs review ?



---

archive/issue_comments_248641.json:
```json
{
    "body": "Replying to [ticket:18563 jdemeyer]:\n> **NOTE** replicate the changes on Sage's mirrors (ask Harald) when this patch is merged\nI plan to consider only new-style packages in this ticket, is the mirror thing still relevant?",
    "created_at": "2015-06-01T08:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248641",
    "user": "@jdemeyer"
}
```

Replying to [ticket:18563 jdemeyer]:
> **NOTE** replicate the changes on Sage's mirrors (ask Harald) when this patch is merged
I plan to consider only new-style packages in this ticket, is the mirror thing still relevant?



---

archive/issue_comments_248642.json:
```json
{
    "body": "> I plan to consider only new-style packages in this ticket, is the mirror thing still relevant?\n\nIndeed, in this case you don't need to.\n\nNathann",
    "created_at": "2015-06-01T08:50:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248642",
    "user": "@nathanncohen"
}
```

> I plan to consider only new-style packages in this ticket, is the mirror thing still relevant?

Indeed, in this case you don't need to.

Nathann



---

archive/issue_comments_248643.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-01T10:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248643",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_248644.json:
```json
{
    "body": "What's wrong with Valgrind? I just compiled it on this machine:\n\n```\nsimulote:valgrind-3.10.0 ncohen$ uname -a\nDarwin simulote 13.4.0 Darwin Kernel Version 13.4.0: Sun Aug 17 19:50:11 PDT 2014; root:xnu-2422.115.4~1/RELEASE_X86_64 x86_64\n```\n\n\nDid you keep the log? I'd be interested to look at them.",
    "created_at": "2015-06-01T10:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248644",
    "user": "@nathanncohen"
}
```

What's wrong with Valgrind? I just compiled it on this machine:

```
simulote:valgrind-3.10.0 ncohen$ uname -a
Darwin simulote 13.4.0 Darwin Kernel Version 13.4.0: Sun Aug 17 19:50:11 PDT 2014; root:xnu-2422.115.4~1/RELEASE_X86_64 x86_64
```


Did you keep the log? I'd be interested to look at them.



---

archive/issue_comments_248645.json:
```json
{
    "body": "Replying to [comment:8 ncohen]:\n> What's wrong with Valgrind? I just compiled it on this machine:\n> {{{\n> simulote:valgrind-3.10.0 ncohen$ uname -a\n> Darwin simulote 13.4.0 Darwin Kernel Version 13.4.0: Sun Aug 17 19:50:11 PDT 2014; root:xnu-2422.115.4~1/RELEASE_X86_64 x86_64\n> }}}\nThat's OS X 10.9 which is indeed fine. The problem is that it explicitly does not work on OS X 10.10:\n\n```\nchecking for a supported OS... ok (darwin14.3.0)\nchecking for the kernel version... unsupported (14.3.0)\nconfigure: error: Valgrind works on Darwin 10.x, 11.x, 12.x and 13.x (Mac OS X 10.6/7/8/9)\nError configuring Valgrind\n```\n\nSee also [http://stackoverflow.com/questions/26564125/yosemite-and-valgrind](http://stackoverflow.com/questions/26564125/yosemite-and-valgrind) for example.",
    "created_at": "2015-06-01T10:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248645",
    "user": "@jdemeyer"
}
```

Replying to [comment:8 ncohen]:
> What's wrong with Valgrind? I just compiled it on this machine:
> {{{
> simulote:valgrind-3.10.0 ncohen$ uname -a
> Darwin simulote 13.4.0 Darwin Kernel Version 13.4.0: Sun Aug 17 19:50:11 PDT 2014; root:xnu-2422.115.4~1/RELEASE_X86_64 x86_64
> }}}
That's OS X 10.9 which is indeed fine. The problem is that it explicitly does not work on OS X 10.10:

```
checking for a supported OS... ok (darwin14.3.0)
checking for the kernel version... unsupported (14.3.0)
configure: error: Valgrind works on Darwin 10.x, 11.x, 12.x and 13.x (Mac OS X 10.6/7/8/9)
Error configuring Valgrind
```

See also [http://stackoverflow.com/questions/26564125/yosemite-and-valgrind](http://stackoverflow.com/questions/26564125/yosemite-and-valgrind) for example.



---

archive/issue_comments_248646.json:
```json
{
    "body": "> That's OS X 10.9 which is indeed fine. The problem is that it explicitly does not work on OS X 10.10:\n\nFunny. Well, anyway they seem to say that the latest svn version handles it. Good news.\n\nOh, by the way I am about write a ticket so that `sage -i <experimental_package>` shows the same warning we have when the package is a new-style package.\n\nNathann",
    "created_at": "2015-06-01T10:31:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248646",
    "user": "@nathanncohen"
}
```

> That's OS X 10.9 which is indeed fine. The problem is that it explicitly does not work on OS X 10.10:

Funny. Well, anyway they seem to say that the latest svn version handles it. Good news.

Oh, by the way I am about write a ticket so that `sage -i <experimental_package>` shows the same warning we have when the package is a new-style package.

Nathann



---

archive/issue_comments_248647.json:
```json
{
    "body": "> Oh, by the way I am about write a ticket so that `sage -i <experimental_package>` shows the same warning we have when the package is a new-style package.\n\nDone at #18566\n\nNathann",
    "created_at": "2015-06-01T10:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248647",
    "user": "@nathanncohen"
}
```

> Oh, by the way I am about write a ticket so that `sage -i <experimental_package>` shows the same warning we have when the package is a new-style package.

Done at #18566

Nathann



---

archive/issue_comments_248648.json:
```json
{
    "body": "Something else: I think we should invent a new category \"`alternative`\" for packages `python2`, `python3`, `gmp`, `mpir` which are essentially standard but shouldn't be installed at the same time. If you agree, I will create a new ticket for this.",
    "created_at": "2015-06-01T11:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248648",
    "user": "@jdemeyer"
}
```

Something else: I think we should invent a new category "`alternative`" for packages `python2`, `python3`, `gmp`, `mpir` which are essentially standard but shouldn't be installed at the same time. If you agree, I will create a new ticket for this.



---

archive/issue_comments_248649.json:
```json
{
    "body": "Aargh... I installed `compilerwrapper` on OS X and it totally broke everything. Another package to move to \"experimental\". Restarting after `make distclean`...",
    "created_at": "2015-06-01T11:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248649",
    "user": "@jdemeyer"
}
```

Aargh... I installed `compilerwrapper` on OS X and it totally broke everything. Another package to move to "experimental". Restarting after `make distclean`...



---

archive/issue_comments_248650.json:
```json
{
    "body": "> Something else: I think we should invent a new category \"`alternative`\" for packages `python2`, `python3`, `gmp`, `mpir` which are essentially standard but shouldn't be installed at the same time. If you agree, I will create a new ticket for this.\n\nI cannot say that I like this much. We already have base/standard/optional/experimental packages, old-style spkgs and new-style spkgs. What would be the advantage of alternative packages?\n\nNathann",
    "created_at": "2015-06-01T11:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248650",
    "user": "@nathanncohen"
}
```

> Something else: I think we should invent a new category "`alternative`" for packages `python2`, `python3`, `gmp`, `mpir` which are essentially standard but shouldn't be installed at the same time. If you agree, I will create a new ticket for this.

I cannot say that I like this much. We already have base/standard/optional/experimental packages, old-style spkgs and new-style spkgs. What would be the advantage of alternative packages?

Nathann



---

archive/issue_comments_248651.json:
```json
{
    "body": "Replying to [comment:14 ncohen]:\n> What would be the advantage of alternative packages?\nI want to be able to install *all* optional packages without breaking anything.",
    "created_at": "2015-06-01T11:43:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248651",
    "user": "@jdemeyer"
}
```

Replying to [comment:14 ncohen]:
> What would be the advantage of alternative packages?
I want to be able to install *all* optional packages without breaking anything.



---

archive/issue_comments_248652.json:
```json
{
    "body": "> I want to be able to install *all* optional packages without breaking anything.\n\nWhat about adding a couple of lines in their `spkg-install` script to detect when that happens?",
    "created_at": "2015-06-01T11:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248652",
    "user": "@nathanncohen"
}
```

> I want to be able to install *all* optional packages without breaking anything.

What about adding a couple of lines in their `spkg-install` script to detect when that happens?



---

archive/issue_comments_248653.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-01T12:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248653",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_248654.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-01T13:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248654",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_248655.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-02T06:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248655",
    "user": "@jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_248656.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-02T09:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248656",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_248657.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-02T20:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18326#issuecomment-248657",
    "user": "@vbraun"
}
```

Resolution: fixed
