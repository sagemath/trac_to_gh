# Issue 18326: Change known-broken packages to "experimental"

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2015-06-01 08:11:59

Packages which are known to fail optional doctests should be "experimental", not "optional".


---

Comment by ncohen created at 2015-06-01 08:17:17

New commits:


---

Comment by ncohen created at 2015-06-01 08:19:21

needs review ?


---

Comment by jdemeyer created at 2015-06-01 08:49:42

Replying to [ticket:18563 jdemeyer]:
> *NOTE* replicate the changes on Sage's mirrors (ask Harald) when this patch is merged
I plan to consider only new-style packages in this ticket, is the mirror thing still relevant?


---

Comment by ncohen created at 2015-06-01 08:50:58

> I plan to consider only new-style packages in this ticket, is the mirror thing still relevant?

Indeed, in this case you don't need to.

Nathann


---

Comment by git created at 2015-06-01 10:04:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-06-01 10:20:55

What's wrong with Valgrind? I just compiled it on this machine:

```
simulote:valgrind-3.10.0 ncohen$ uname -a
Darwin simulote 13.4.0 Darwin Kernel Version 13.4.0: Sun Aug 17 19:50:11 PDT 2014; root:xnu-2422.115.4~1/RELEASE_X86_64 x86_64
```


Did you keep the log? I'd be interested to look at them.


---

Comment by jdemeyer created at 2015-06-01 10:27:29

Replying to [comment:8 ncohen]:
> What's wrong with Valgrind? I just compiled it on this machine:
> {{{
> simulote:valgrind-3.10.0 ncohen$ uname -a
> Darwin simulote 13.4.0 Darwin Kernel Version 13.4.0: Sun Aug 17 19:50:11 PDT 2014; root:xnu-2422.115.4~1/RELEASE_X86_64 x86_64
> }}}
That's OS X 10.9 which is indeed fine. The problem is that it explicitly does not work on OS X 10.10:

```
checking for a supported OS... ok (darwin14.3.0)
checking for the kernel version... unsupported (14.3.0)
configure: error: Valgrind works on Darwin 10.x, 11.x, 12.x and 13.x (Mac OS X 10.6/7/8/9)
Error configuring Valgrind
```

See also [http://stackoverflow.com/questions/26564125/yosemite-and-valgrind](http://stackoverflow.com/questions/26564125/yosemite-and-valgrind) for example.


---

Comment by ncohen created at 2015-06-01 10:31:22

> That's OS X 10.9 which is indeed fine. The problem is that it explicitly does not work on OS X 10.10:

Funny. Well, anyway they seem to say that the latest svn version handles it. Good news.

Oh, by the way I am about write a ticket so that `sage -i <experimental_package>` shows the same warning we have when the package is a new-style package.

Nathann


---

Comment by ncohen created at 2015-06-01 10:58:42

> Oh, by the way I am about write a ticket so that `sage -i <experimental_package>` shows the same warning we have when the package is a new-style package.

Done at #18566

Nathann


---

Comment by jdemeyer created at 2015-06-01 11:28:29

Something else: I think we should invent a new category "`alternative`" for packages `python2`, `python3`, `gmp`, `mpir` which are essentially standard but shouldn't be installed at the same time. If you agree, I will create a new ticket for this.


---

Comment by jdemeyer created at 2015-06-01 11:32:21

Aargh... I installed `compilerwrapper` on OS X and it totally broke everything. Another package to move to "experimental". Restarting after `make distclean`...


---

Comment by ncohen created at 2015-06-01 11:39:23

> Something else: I think we should invent a new category "`alternative`" for packages `python2`, `python3`, `gmp`, `mpir` which are essentially standard but shouldn't be installed at the same time. If you agree, I will create a new ticket for this.

I cannot say that I like this much. We already have base/standard/optional/experimental packages, old-style spkgs and new-style spkgs. What would be the advantage of alternative packages?

Nathann


---

Comment by jdemeyer created at 2015-06-01 11:43:46

Replying to [comment:14 ncohen]:
> What would be the advantage of alternative packages?
I want to be able to install _all_ optional packages without breaking anything.


---

Comment by ncohen created at 2015-06-01 11:48:03

> I want to be able to install _all_ optional packages without breaking anything.

What about adding a couple of lines in their `spkg-install` script to detect when that happens?


---

Comment by git created at 2015-06-01 12:09:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-01 13:56:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-06-02 06:05:00

Changing status from new to needs_review.


---

Comment by ncohen created at 2015-06-02 09:43:00

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-06-02 20:18:12

Resolution: fixed
