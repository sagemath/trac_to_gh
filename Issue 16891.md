# Issue 16891: Problem with solution_dict=True and solving for multiple variables

Issue created by migration from Trac.

Original creator: jhpalmieri

Original creation time: 2014-10-10 05:57:28

This bug was reported at http://ask.sagemath.org/question/24446/problem-with-solution_dicttrue/:

```
sage: var('x y')
(x, y)
sage: sol=solve(x + y, [x, y], solution_dict=True)
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-2-d24a5a0d9f55> in <module>()
----> 1 sol=solve(x + y, [x, y], solution_dict=True)

/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/symbolic/relation.pyc in solve(f, *args, **kwds)
    732     from sage.symbolic.expression import is_Expression
    733     if is_Expression(f): # f is a single expression
--> 734         ans = f.solve(*args,**kwds)
    735         return ans
    736 

/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.solve (build/cythonized/sage/symbolic/expression.cpp:47600)()

AttributeError: 'list' object has no attribute 'left'
```

I think this was introduced in #16531.


---

Comment by mmarco created at 2014-10-10 12:52:15

The problem arises in the conversion to dictionary form. This works ok:


```
sage: var('x,y')
(x, y)
sage: solve(x+y,[x,y])
[This is the Trac macro *x == -r1, y == r1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#x == -r1, y == r1-macro)



```



It should be easy to fix.


---

Comment by mmarco created at 2014-10-10 14:23:55

This should fix it.
----
New commits:


---

Comment by mmarco created at 2014-10-10 14:24:04

Changing status from new to needs_review.


---

Comment by rws created at 2014-11-02 09:24:58

Changing status from needs_review to positive_review.


---

Comment by rws created at 2014-11-02 09:24:58

The doctest wold only pass with the `r7` variable so I added wildcards. Else a minimal patch.
----
New commits:


---

Comment by vbraun created at 2014-11-03 12:45:11

variable sort order is random:

```
sage -t --long src/sage/symbolic/expression.pyx
**********************************************************************
File "src/sage/symbolic/expression.pyx", line 9448, in sage.symbolic.expression.Expression.solve
Failed example:
    f.solve([x, y], solution_dict=True)
Expected:
    [{x: -r..., y: r...}]
Got:
    [{y: r8, x: -r8}]
**********************************************************************
```



---

Comment by vbraun created at 2014-11-03 12:45:11

Changing status from positive_review to needs_work.


---

Comment by git created at 2014-11-03 15:59:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2014-11-03 16:00:21

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2014-11-06 11:15:54

Resolution: fixed
