# Issue 15832: Python 3 preparation: Handle module renames (e.g. in imports)

Issue created by migration from Trac.

Original creator: wluebbe

Original creation time: 2014-04-07 08:40:57

CC:  tscrim jdemeyer aapitzsch

Keywords: python3

Sage is mainly hit by the renaming of the Py2 module `__builtin__` into {{builtins}}} in Py3. Others are e.g. `cPickle`,
`copy_reg`, `StringIO`, `cStringIO` and `httplib`.

The tool 2to3 renames the modules. 


But the code has to depend on the Python version!

There are 39 effected modules. 

This ticket is tracked as a dependency of meta-ticket ticket:16052.


---

Comment by jdemeyer created at 2016-05-02 13:33:50

Changing component from distribution to python3.


---

Comment by chapoton created at 2016-05-27 14:02:57

See #20694 and #20713 for builtins


---

Comment by chapoton created at 2016-07-06 12:45:50

see #20957 for httplib


---

Comment by chapoton created at 2016-07-28 14:30:23

see #21115 for copyreg


---

Comment by chapoton created at 2016-08-11 15:05:30

Here is a branch handling the few last remaining cases (after #21225)
----
New commits:


---

Comment by chapoton created at 2016-08-11 15:05:30

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2016-08-12 08:55:55

In `src/sage/structure/global_options.py`, could you just remove the import? I don't think that `object` and `str` need to be imported.


---

Comment by git created at 2016-08-12 09:00:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-08-12 09:02:34

done


---

Comment by jdemeyer created at 2016-08-12 12:25:21

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-08-13 22:50:30

Resolution: fixed
