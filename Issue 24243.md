# Issue 24243: faces() of a graph has a problem

Issue created by migration from Trac.

Original creator: jmantysalo

Original creation time: 2018-01-06 20:39:17

CC:  dcoudert

`graphs.Balaban10Cage().faces()` raises an exception, and hence also `is_cactus` fails.

Found by first making a list


```
G_all = []
for x in dir(graphs):
    if x == 'EmptyGraph':
        continue
    try:
        G = getattr(graphs, x)()
        _ = G.order()
        G_all.append(G)
        print G
    except:
        continue
```


and then just `sum(1 for g in G_all if g.is_cactus())` or something similar.


---

Comment by dcoudert created at 2018-01-07 10:22:31

I agree that `is_cactus` should catch the error message of `faces`, and so a patch is needed. However, I don't see the problem with `faces`.


---

Comment by jmantysalo created at 2018-01-07 19:40:52

Replying to [comment:1 dcoudert]:
> I agree that `is_cactus` should catch the error message of `faces`, and so a patch is needed. However, I don't see the problem with `faces`.

You are right.

This patch should correct it. Untested, now compiling on a slow machine.
----
New commits:


---

Comment by jmantysalo created at 2018-01-08 05:49:19

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2018-01-08 05:49:19

Tested.


---

Comment by dcoudert created at 2018-01-08 07:49:39

You should update this ticket description accordingly and add relevant test in `is_cactus`.


---

Comment by git created at 2018-01-08 07:56:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-01-08 08:02:20

You could also add ticket number to the test `:trac:`24480``.


---

Comment by git created at 2018-01-08 12:36:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2018-01-08 12:36:57

Replying to [comment:8 dcoudert]:
> You could also add ticket number to the test `:trac:`24480``.

Done that.


---

Comment by dcoudert created at 2018-01-08 16:36:59

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2018-01-08 16:36:59

Good to go.


---

Comment by vbraun created at 2018-01-14 10:14:12

Resolution: fixed
