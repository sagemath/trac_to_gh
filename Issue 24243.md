# Issue 24243: faces() of a graph has a problem

archive/issues_024243.json:
```json
{
    "body": "CC:  @dcoudert\n\n`graphs.Balaban10Cage().faces()` raises an exception, and hence also `is_cactus` fails.\n\nFound by first making a list\n\n\n```\nG_all = []\nfor x in dir(graphs):\n    if x == 'EmptyGraph':\n        continue\n    try:\n        G = getattr(graphs, x)()\n        _ = G.order()\n        G_all.append(G)\n        print G\n    except:\n        continue\n```\n\n\nand then just `sum(1 for g in G_all if g.is_cactus())` or something similar.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24480\n\n",
    "created_at": "2018-01-06T20:39:17Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "faces() of a graph has a problem",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24243",
    "user": "https://github.com/jm58660"
}
```
CC:  @dcoudert

`graphs.Balaban10Cage().faces()` raises an exception, and hence also `is_cactus` fails.

Found by first making a list


```
G_all = []
for x in dir(graphs):
    if x == 'EmptyGraph':
        continue
    try:
        G = getattr(graphs, x)()
        _ = G.order()
        G_all.append(G)
        print G
    except:
        continue
```


and then just `sum(1 for g in G_all if g.is_cactus())` or something similar.

Issue created by migration from https://trac.sagemath.org/ticket/24480





---

archive/issue_comments_339078.json:
```json
{
    "body": "I agree that `is_cactus` should catch the error message of `faces`, and so a patch is needed. However, I don't see the problem with `faces`.",
    "created_at": "2018-01-07T10:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339078",
    "user": "https://github.com/dcoudert"
}
```

I agree that `is_cactus` should catch the error message of `faces`, and so a patch is needed. However, I don't see the problem with `faces`.



---

archive/issue_comments_339079.json:
```json
{
    "body": "Replying to [comment:1 dcoudert]:\n> I agree that `is_cactus` should catch the error message of `faces`, and so a patch is needed. However, I don't see the problem with `faces`.\n\nYou are right.\n\nThis patch should correct it. Untested, now compiling on a slow machine.\n----\nNew commits:",
    "created_at": "2018-01-07T19:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339079",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:1 dcoudert]:
> I agree that `is_cactus` should catch the error message of `faces`, and so a patch is needed. However, I don't see the problem with `faces`.

You are right.

This patch should correct it. Untested, now compiling on a slow machine.
----
New commits:



---

archive/issue_comments_339080.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-01-08T05:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339080",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_339081.json:
```json
{
    "body": "Tested.",
    "created_at": "2018-01-08T05:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339081",
    "user": "https://github.com/jm58660"
}
```

Tested.



---

archive/issue_comments_339082.json:
```json
{
    "body": "You should update this ticket description accordingly and add relevant test in `is_cactus`.",
    "created_at": "2018-01-08T07:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339082",
    "user": "https://github.com/dcoudert"
}
```

You should update this ticket description accordingly and add relevant test in `is_cactus`.



---

archive/issue_comments_339083.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-08T07:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_339084.json:
```json
{
    "body": "You could also add ticket number to the test `:trac:`24480``.",
    "created_at": "2018-01-08T08:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339084",
    "user": "https://github.com/dcoudert"
}
```

You could also add ticket number to the test `:trac:`24480``.



---

archive/issue_comments_339085.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-08T12:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_339086.json:
```json
{
    "body": "Replying to [comment:8 dcoudert]:\n> You could also add ticket number to the test `:trac:`24480``.\n\nDone that.",
    "created_at": "2018-01-08T12:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339086",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:8 dcoudert]:
> You could also add ticket number to the test `:trac:`24480``.

Done that.



---

archive/issue_comments_339087.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-01-08T16:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339087",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_339088.json:
```json
{
    "body": "Good to go.",
    "created_at": "2018-01-08T16:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339088",
    "user": "https://github.com/dcoudert"
}
```

Good to go.



---

archive/issue_comments_339089.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-01-14T10:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24243#issuecomment-339089",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
