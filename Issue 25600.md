# Issue 25600: Make the sage notebook optional

archive/issues_025600.json:
```json
{
    "body": "CC:  @embray @vbraun @jdemeyer @kcrisman @kiwifb @antonio-rojas @timokau @infinity0 @novoselt pcpa @nthiery @slel @saraedum @haraldschilly @strogdon @tobihan tmonteil @williamstein\n\nKeywords: notebook\n\nAn intention to eventually deprecate sagenb has already been mentioned many times in different tickets. But I couldn't find a ticket tracking progress and discussing sagenb's future, so here it is.\n\nReasons to make sagenb optional:\n\n- most of its functionalities have been replaced for a while\n\n- it is not actively maintained -- merely on life support (if even that)\n\n- it has various open issues (looking at the \"Critical\" label in the github repo)\n \t- unmaintained dependencies (https://github.com/sagemath/sagenb/issues/440#issuecomment-381583952)\n \t- incompatibility with the latest flask-babel (https://github.com/sagemath/sagenb/issues/437)\n \t- incompatibility with python3 (https://github.com/sagemath/sagenb/issues/343)\n \t- an XSS vulnerability, unfixed for 3.5 years (https://github.com/sagemath/sagenb/issues/319)\n\n- just as a bit of history, `@`vbraun was already implying sagenb deprecation in 2013: https://github.com/sagemath/sagenb/issues/169#issuecomment-20026780\n\n- and for me personally: I don't want to package it. I feel like it causes an unproportional amount of issues considering its relatively low value in todays sage.\n\nReasons to keep sagenb around:\n\n- there are still some features depending on it\n\n- there might still be people using it. An example would be `@`fbissey's university: #25382#comment:16\n\nIn making it optional, we still make it possible to use it for now. An when it inevitably breaks further, the people relying on it can weigh the effort of keeping it alive themselves against the effort of switching to the new notebook.\n\nTickets and issues tracking progress/going in that direction (issues taken from #22431):\n\n- #25382: do not include sagenb docs in sage\n\n- port/remove the graph editor\n\n- port/remove the graph database navigator\n\n- port/remove the interactive debugger\n\nOtherwise relevant:\n\n- #22431: first step in making sagenb python3 compatible\n\nIssue created by migration from https://trac.sagemath.org/ticket/25837\n\n",
    "created_at": "2018-07-11T22:19:48Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Make the sage notebook optional",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25600",
    "user": "https://github.com/timokau"
}
```
CC:  @embray @vbraun @jdemeyer @kcrisman @kiwifb @antonio-rojas @timokau @infinity0 @novoselt pcpa @nthiery @slel @saraedum @haraldschilly @strogdon @tobihan tmonteil @williamstein

Keywords: notebook

An intention to eventually deprecate sagenb has already been mentioned many times in different tickets. But I couldn't find a ticket tracking progress and discussing sagenb's future, so here it is.

Reasons to make sagenb optional:

- most of its functionalities have been replaced for a while

- it is not actively maintained -- merely on life support (if even that)

- it has various open issues (looking at the "Critical" label in the github repo)
 	- unmaintained dependencies (https://github.com/sagemath/sagenb/issues/440#issuecomment-381583952)
 	- incompatibility with the latest flask-babel (https://github.com/sagemath/sagenb/issues/437)
 	- incompatibility with python3 (https://github.com/sagemath/sagenb/issues/343)
 	- an XSS vulnerability, unfixed for 3.5 years (https://github.com/sagemath/sagenb/issues/319)

- just as a bit of history, `@`vbraun was already implying sagenb deprecation in 2013: https://github.com/sagemath/sagenb/issues/169#issuecomment-20026780

- and for me personally: I don't want to package it. I feel like it causes an unproportional amount of issues considering its relatively low value in todays sage.

Reasons to keep sagenb around:

- there are still some features depending on it

- there might still be people using it. An example would be `@`fbissey's university: #25382#comment:16

In making it optional, we still make it possible to use it for now. An when it inevitably breaks further, the people relying on it can weigh the effort of keeping it alive themselves against the effort of switching to the new notebook.

Tickets and issues tracking progress/going in that direction (issues taken from #22431):

- #25382: do not include sagenb docs in sage

- port/remove the graph editor

- port/remove the graph database navigator

- port/remove the interactive debugger

Otherwise relevant:

- #22431: first step in making sagenb python3 compatible

Issue created by migration from https://trac.sagemath.org/ticket/25837





---

archive/issue_comments_360606.json:
```json
{
    "body": "Some issues I'm aware of related to features that are only in sagenb:\n\n* #25015 - object introspection (`<obj>?`) in the Jupyter notebook does not display HTML-formatted docs (esp. with latex formatting), while sagenb does.  I believe Odile might be looking into this now.  Not a significantly difficult issue but not trivial either.\n\n* #24784 - `search_doc` does not work in the Jupyter notebook\n\n* #9048 - `automatic_names` only works in sagenb.  This was also discussed recently on sage-devel: https://groups.google.com/d/msg/sage-devel/RoBZ36i1xo4/e6ZunaKRAwAJ  I believe `automatic_names()` can be reimplemented in such a way that's mostly independent on the front-end, though one would still need front-end specific hooks for it to work.  I haven't tried this yet though.\n\nI think at a minimum these issues should be fixed before taking further steps at abandoning the old sagenb.",
    "created_at": "2018-07-12T14:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360606",
    "user": "https://github.com/embray"
}
```

Some issues I'm aware of related to features that are only in sagenb:

* #25015 - object introspection (`<obj>?`) in the Jupyter notebook does not display HTML-formatted docs (esp. with latex formatting), while sagenb does.  I believe Odile might be looking into this now.  Not a significantly difficult issue but not trivial either.

* #24784 - `search_doc` does not work in the Jupyter notebook

* #9048 - `automatic_names` only works in sagenb.  This was also discussed recently on sage-devel: https://groups.google.com/d/msg/sage-devel/RoBZ36i1xo4/e6ZunaKRAwAJ  I believe `automatic_names()` can be reimplemented in such a way that's mostly independent on the front-end, though one would still need front-end specific hooks for it to work.  I haven't tried this yet though.

I think at a minimum these issues should be fixed before taking further steps at abandoning the old sagenb.



---

archive/issue_comments_360607.json:
```json
{
    "body": "I would also say that something \"official\" when one uses sagenb **even when directly** that says it is deprecated is necessary.",
    "created_at": "2018-07-12T15:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360607",
    "user": "https://github.com/kcrisman"
}
```

I would also say that something "official" when one uses sagenb **even when directly** that says it is deprecated is necessary.



---

archive/issue_comments_360608.json:
```json
{
    "body": "I modified the ticket description to incorporate (read: shamelessly copy) your additions.\n\nIt would be nice if we could get the deprecation warning into 8.3 so that users will have at least one release to prepare. Thats a very optimistic estimate of course, but getting it in 8.3 would be nice either way.",
    "created_at": "2018-07-12T19:43:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360608",
    "user": "https://github.com/timokau"
}
```

I modified the ticket description to incorporate (read: shamelessly copy) your additions.

It would be nice if we could get the deprecation warning into 8.3 so that users will have at least one release to prepare. Thats a very optimistic estimate of course, but getting it in 8.3 would be nice either way.



---

archive/issue_comments_360609.json:
```json
{
    "body": "I have opened #25852 for that. I have only ever actually started the notebook once. Do you have an idea where best to add such a message? Just print it on the command line?",
    "created_at": "2018-07-12T19:47:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360609",
    "user": "https://github.com/timokau"
}
```

I have opened #25852 for that. I have only ever actually started the notebook once. Do you have an idea where best to add such a message? Just print it on the command line?



---

archive/issue_comments_360610.json:
```json
{
    "body": "Probably on the notebook itself as well, which would require changes in sagenb.",
    "created_at": "2018-07-12T20:57:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360610",
    "user": "https://github.com/kcrisman"
}
```

Probably on the notebook itself as well, which would require changes in sagenb.



---

archive/issue_comments_360611.json:
```json
{
    "body": "cc a few people who package Sage in various ways",
    "created_at": "2018-07-13T06:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360611",
    "user": "https://github.com/slel"
}
```

cc a few people who package Sage in various ways



---

archive/issue_comments_360612.json:
```json
{
    "body": "Changing keywords from \"notebook\" to \"notebook, sagenb\".",
    "created_at": "2018-07-13T06:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360612",
    "user": "https://github.com/slel"
}
```

Changing keywords from "notebook" to "notebook, sagenb".



---

archive/issue_comments_360613.json:
```json
{
    "body": "Another issue that was brought up here: https://ask.sagemath.org/question/43051/file-download-as-latex/\n\nConverting a Jupyter notebook to PDF kind of sucks at the moment for notebooks that contain a lot of math in latex.  There are two main cases in the notebook where latex can appear, and both have issues in sage:\n\n1) If an object output from a code cell has `_render_latex_` then the notebook will display the rendered latex with mathjax.  However, when converting the notebook to PDF, nbconvert just takes the plain-text representation of the output, not the latex, and puts it in a verbatim block.  Not good, especially not for Sage.\n\n2) If a markdown cell contains equations in latex, nbconvert *will* render them correctly, but only if you have pandoc installed.  This is already a known issue, but since pandoc does not come with Sage and is not a dependency this makes for a sucky user experience for something that should Just Work.\n\nI'm not sure what to do about the first case; it seems like an issue for nbconvert but I haven't explored it too deeply.  For the latter case (which probably also affects the first case) I wonder if we shouldn't just make pandoc another sage dependency.",
    "created_at": "2018-07-18T13:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360613",
    "user": "https://github.com/embray"
}
```

Another issue that was brought up here: https://ask.sagemath.org/question/43051/file-download-as-latex/

Converting a Jupyter notebook to PDF kind of sucks at the moment for notebooks that contain a lot of math in latex.  There are two main cases in the notebook where latex can appear, and both have issues in sage:

1) If an object output from a code cell has `_render_latex_` then the notebook will display the rendered latex with mathjax.  However, when converting the notebook to PDF, nbconvert just takes the plain-text representation of the output, not the latex, and puts it in a verbatim block.  Not good, especially not for Sage.

2) If a markdown cell contains equations in latex, nbconvert *will* render them correctly, but only if you have pandoc installed.  This is already a known issue, but since pandoc does not come with Sage and is not a dependency this makes for a sucky user experience for something that should Just Work.

I'm not sure what to do about the first case; it seems like an issue for nbconvert but I haven't explored it too deeply.  For the latter case (which probably also affects the first case) I wonder if we shouldn't just make pandoc another sage dependency.



---

archive/issue_comments_360614.json:
```json
{
    "body": "I've updated the ticket. The flask issue was resolved (thanks `@`fchapoton!), I added the pdf complaint and improved formatting.",
    "created_at": "2018-07-20T15:18:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360614",
    "user": "https://github.com/timokau"
}
```

I've updated the ticket. The flask issue was resolved (thanks `@`fchapoton!), I added the pdf complaint and improved formatting.



---

archive/issue_comments_360615.json:
```json
{
    "body": "I've added a section intended for end users. Please improve on that if you have more knowledge about sagenb or the Jupyter Notebook, which you probably do.",
    "created_at": "2018-07-23T16:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360615",
    "user": "https://github.com/timokau"
}
```

I've added a section intended for end users. Please improve on that if you have more knowledge about sagenb or the Jupyter Notebook, which you probably do.



---

archive/issue_comments_360616.json:
```json
{
    "body": ">  Those features are listed below. \n\n\nWhere is the list?  I can't find it. \n\nI touched on this on page 26 of a talk I gave yesterday (https://share.cocalc.com/share/6cd832d3-c523-41e3-9e54-c8f2d2e8fa2a/travel/2018/2018-07-icms/talks/cocalc/slides/slides.html#1)\n\nOne example is that if you start running:\n\n```\nfor i in range(10):\n   print(i)\n   sys.stdout.flush()\n   time.sleep(1)\n```\nthen close and open your browser (to simulate a network failure, say), you\nshould not loose output.   In Jupyter, you do.",
    "created_at": "2018-07-25T12:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360616",
    "user": "https://github.com/williamstein"
}
```

>  Those features are listed below. 


Where is the list?  I can't find it. 

I touched on this on page 26 of a talk I gave yesterday (https://share.cocalc.com/share/6cd832d3-c523-41e3-9e54-c8f2d2e8fa2a/travel/2018/2018-07-icms/talks/cocalc/slides/slides.html#1)

One example is that if you start running:

```
for i in range(10):
   print(i)
   sys.stdout.flush()
   time.sleep(1)
```
then close and open your browser (to simulate a network failure, say), you
should not loose output.   In Jupyter, you do.



---

archive/issue_comments_360617.json:
```json
{
    "body": "Replying to [comment:15 was]:\n> >  Those features are listed below. \n\n> \n> Where is the list?  I can't find it. \n\n\nIt's in the description of the ticket, but perhaps that still needs more reformatting, because there are a number of thing \"below\" that sentence that include, but are not limited to, missing features.\n\nMost of it falls under the heading \"Functionality sagenb currently does better than Jupyter\" though that list is far from complete.  There's also a link to a wiki page listing other issues.",
    "created_at": "2018-07-25T12:57:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360617",
    "user": "https://github.com/embray"
}
```

Replying to [comment:15 was]:
> >  Those features are listed below. 

> 
> Where is the list?  I can't find it. 


It's in the description of the ticket, but perhaps that still needs more reformatting, because there are a number of thing "below" that sentence that include, but are not limited to, missing features.

Most of it falls under the heading "Functionality sagenb currently does better than Jupyter" though that list is far from complete.  There's also a link to a wiki page listing other issues.



---

archive/issue_comments_360618.json:
```json
{
    "body": "\"#24784: search_doc does not work in the Jupyter notebook\" is now ready for review.",
    "created_at": "2018-08-20T22:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360618",
    "user": "https://github.com/jhpalmieri"
}
```

"#24784: search_doc does not work in the Jupyter notebook" is now ready for review.



---

archive/issue_comments_360619.json:
```json
{
    "body": "Could someone (having the required rights) please now merge the 4 top pull requests in sagenb github, including the one related to the present ticket ?\n\nhttps://github.com/sagemath/sagenb/pulls",
    "created_at": "2018-09-05T06:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360619",
    "user": "https://github.com/fchapoton"
}
```

Could someone (having the required rights) please now merge the 4 top pull requests in sagenb github, including the one related to the present ticket ?

https://github.com/sagemath/sagenb/pulls



---

archive/issue_comments_360620.json:
```json
{
    "body": "Replying to [comment:20 chapoton]:\n> Could someone (having the required rights) please now merge the 4 top pull requests in sagenb github, including the one related to the present ticket ?\n> \n> https://github.com/sagemath/sagenb/pulls\n\n\ndone, I guess. See #26499 for the new release of sagenb.",
    "created_at": "2018-10-17T15:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360620",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:20 chapoton]:
> Could someone (having the required rights) please now merge the 4 top pull requests in sagenb github, including the one related to the present ticket ?
> 
> https://github.com/sagemath/sagenb/pulls


done, I guess. See #26499 for the new release of sagenb.



---

archive/issue_comments_360621.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-12-13T16:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360621",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_events_064626.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-05T15:28:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25600#event-64626"
}
```



---

archive/issue_comments_360622.json:
```json
{
    "body": "remaining imports in 8.7.b6 :\n\n```\ngit grep \"import.*sagenb\" src/\nsrc/doc/en/developer/sagenb/index.rst:The most important section involves how to update your new sagenb\nsrc/sage/all.py:lazy_import('sagenb.notebook.notebook_object', 'notebook')\nsrc/sage/all.py:lazy_import('sagenb.notebook.notebook_object', 'inotebook')\nsrc/sage/all.py:lazy_import('sagenb.notebook.sage_email', 'email')\nsrc/sage/all.py:lazy_import('sagenb.notebook.interact', 'interact')\nsrc/sage/graphs/graph_editor.py:    import sagenb.notebook.interact\nsrc/sage/interacts/library.py:        import sagenb.notebook.interact\n```",
    "created_at": "2019-03-05T15:36:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360622",
    "user": "https://github.com/fchapoton"
}
```

remaining imports in 8.7.b6 :

```
git grep "import.*sagenb" src/
src/doc/en/developer/sagenb/index.rst:The most important section involves how to update your new sagenb
src/sage/all.py:lazy_import('sagenb.notebook.notebook_object', 'notebook')
src/sage/all.py:lazy_import('sagenb.notebook.notebook_object', 'inotebook')
src/sage/all.py:lazy_import('sagenb.notebook.sage_email', 'email')
src/sage/all.py:lazy_import('sagenb.notebook.interact', 'interact')
src/sage/graphs/graph_editor.py:    import sagenb.notebook.interact
src/sage/interacts/library.py:        import sagenb.notebook.interact
```



---

archive/issue_comments_360623.json:
```json
{
    "body": "Apparently [this question implies](https://ask.sagemath.org/question/46005/issue-printing-tables-in-jupyter-notebook/) that we should add \"can't do the table command\" in Jupyter.  Is that accurate?",
    "created_at": "2019-04-09T17:42:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360623",
    "user": "https://github.com/kcrisman"
}
```

Apparently [this question implies](https://ask.sagemath.org/question/46005/issue-printing-tables-in-jupyter-notebook/) that we should add "can't do the table command" in Jupyter.  Is that accurate?



---

archive/issue_comments_360624.json:
```json
{
    "body": "It works for me.",
    "created_at": "2019-04-09T19:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360624",
    "user": "https://github.com/jhpalmieri"
}
```

It works for me.



---

archive/issue_comments_360625.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-09T20:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360625",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_360626.json:
```json
{
    "body": "Replying to [comment:26 kcrisman]:\n> Apparently [this question](https://ask.sagemath.org/question/46005/) implies that we should add \"can't do the table command\" in Jupyter.  Is that accurate?\n\n\nNow tracked at #27656.",
    "created_at": "2019-04-13T11:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360626",
    "user": "https://github.com/slel"
}
```

Replying to [comment:26 kcrisman]:
> Apparently [this question](https://ask.sagemath.org/question/46005/) implies that we should add "can't do the table command" in Jupyter.  Is that accurate?


Now tracked at #27656.



---

archive/issue_comments_360627.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-04-14T22:27:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360627",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_360628.json:
```json
{
    "body": "Does anything stop this from going forward?",
    "created_at": "2019-04-14T22:27:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360628",
    "user": "https://github.com/dimpase"
}
```

Does anything stop this from going forward?



---

archive/issue_comments_360629.json:
```json
{
    "body": "> Does anything stop this from going forward?\n\n\nWell, does Jupyter actually do all this stuff yet or not?\n\nAlso, for people who download a new Sage (which many do, as opposed to pulling and upgrading), it's not clear to me what happens when they try to use the notebook export functionality (which should still be the default as of now).  How do they acquire this optional package if they have a binary-only Sage?  Or would the export still accurately export to Jupyter anyway?",
    "created_at": "2019-04-15T13:12:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360629",
    "user": "https://github.com/kcrisman"
}
```

> Does anything stop this from going forward?


Well, does Jupyter actually do all this stuff yet or not?

Also, for people who download a new Sage (which many do, as opposed to pulling and upgrading), it's not clear to me what happens when they try to use the notebook export functionality (which should still be the default as of now).  How do they acquire this optional package if they have a binary-only Sage?  Or would the export still accurately export to Jupyter anyway?



---

archive/issue_comments_360630.json:
```json
{
    "body": "IMO there shouldn't be any rush on this until at a minimum the issues listed in the description of this ticket are dealt with.\n\nIs there a reason to rush this forward?  If so, what tickets could use my help?",
    "created_at": "2019-04-15T15:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360630",
    "user": "https://github.com/embray"
}
```

IMO there shouldn't be any rush on this until at a minimum the issues listed in the description of this ticket are dealt with.

Is there a reason to rush this forward?  If so, what tickets could use my help?



---

archive/issue_comments_360631.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2019-04-15T15:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360631",
    "user": "https://github.com/embray"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_360632.json:
```json
{
    "body": "Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360632",
    "user": "https://github.com/embray"
}
```

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_064627.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25600#event-64627"
}
```



---

archive/issue_events_064628.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25600#event-64628"
}
```



---

archive/issue_comments_360633.json:
```json
{
    "body": "Replying to [comment:32 embray]:\n> IMO there shouldn't be any rush on this until at a minimum the issues listed in the description of this ticket are dealt with.\n> \n> Is there a reason to rush this forward?  If so, what tickets could use my help?\n\n\nIf SageNB doesn't work with Python 3, then we will need to drop it when we make the switch. Since the switch is coming up, we should officially deprecate this as soon as possible. If we manage to switch to Python 3 by January 1, we already won't make the required (by Sage policy) 6 months of deprecation time.",
    "created_at": "2019-09-16T22:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360633",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:32 embray]:
> IMO there shouldn't be any rush on this until at a minimum the issues listed in the description of this ticket are dealt with.
> 
> Is there a reason to rush this forward?  If so, what tickets could use my help?


If SageNB doesn't work with Python 3, then we will need to drop it when we make the switch. Since the switch is coming up, we should officially deprecate this as soon as possible. If we manage to switch to Python 3 by January 1, we already won't make the required (by Sage policy) 6 months of deprecation time.



---

archive/issue_comments_360634.json:
```json
{
    "body": "SageNB won't be ported to Python 3, it's been clear for ages I think.\n\nI think this patch is potentially breaking the current notebook-launching setup, \nas we don't want to have a not always installed package pointed to by\n`Run the old Sage Notebook` menu item.\n\nThe latter should not be shown if the package is not installed.\nIn this case instead a message saying something like \"Install sagenb  optional package\nfor the old SageNB\" should be there.",
    "created_at": "2019-09-17T07:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360634",
    "user": "https://github.com/dimpase"
}
```

SageNB won't be ported to Python 3, it's been clear for ages I think.

I think this patch is potentially breaking the current notebook-launching setup, 
as we don't want to have a not always installed package pointed to by
`Run the old Sage Notebook` menu item.

The latter should not be shown if the package is not installed.
In this case instead a message saying something like "Install sagenb  optional package
for the old SageNB" should be there.



---

archive/issue_comments_360635.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2019-09-17T07:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360635",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_360636.json:
```json
{
    "body": "Replying to [comment:35 jhpalmieri]:\n> Replying to [comment:32 embray]:\n> > IMO there shouldn't be any rush on this until at a minimum the issues listed in the description of this ticket are dealt with.\n> > \n> > Is there a reason to rush this forward?  If so, what tickets could use my help?\n\n> \n> If SageNB doesn't work with Python 3, then we will need to drop it when we make the switch. Since the switch is coming up, we should officially deprecate this as soon as possible. If we manage to switch to Python 3 by January 1, we already won't make the required (by Sage policy) 6 months of deprecation time.\n\n\nI added a deprecation warning close to a year ago: #25852\n\nSo I think we're good on that front if we decide to drop it with the first python3 release. Feature parity is a different issue though.",
    "created_at": "2019-09-21T10:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360636",
    "user": "https://github.com/timokau"
}
```

Replying to [comment:35 jhpalmieri]:
> Replying to [comment:32 embray]:
> > IMO there shouldn't be any rush on this until at a minimum the issues listed in the description of this ticket are dealt with.
> > 
> > Is there a reason to rush this forward?  If so, what tickets could use my help?

> 
> If SageNB doesn't work with Python 3, then we will need to drop it when we make the switch. Since the switch is coming up, we should officially deprecate this as soon as possible. If we manage to switch to Python 3 by January 1, we already won't make the required (by Sage policy) 6 months of deprecation time.


I added a deprecation warning close to a year ago: #25852

So I think we're good on that front if we decide to drop it with the first python3 release. Feature parity is a different issue though.



---

archive/issue_comments_360637.json:
```json
{
    "body": "I have made a pull request to change the front page of the exporter.\n\nhttps://github.com/vbraun/ExportSageNB/pull/16",
    "created_at": "2019-09-23T14:55:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360637",
    "user": "https://github.com/fchapoton"
}
```

I have made a pull request to change the front page of the exporter.

https://github.com/vbraun/ExportSageNB/pull/16



---

archive/issue_comments_360638.json:
```json
{
    "body": "This pull request have been merged.",
    "created_at": "2019-10-07T15:35:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360638",
    "user": "https://github.com/fchapoton"
}
```

This pull request have been merged.



---

archive/issue_comments_360639.json:
```json
{
    "body": "> We will not completely stop supporting the legacy notebook until those issues are resolved. \n\n\nDid those issues get resolved, and/or will they soon?  `automatic_names` for instance would be an actual regression.  Does Jupyter now support matrix input for interacts?  Just wondering, before the switch is actually pulled ...",
    "created_at": "2019-11-07T13:40:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360639",
    "user": "https://github.com/kcrisman"
}
```

> We will not completely stop supporting the legacy notebook until those issues are resolved. 


Did those issues get resolved, and/or will they soon?  `automatic_names` for instance would be an actual regression.  Does Jupyter now support matrix input for interacts?  Just wondering, before the switch is actually pulled ...



---

archive/issue_comments_360640.json:
```json
{
    "body": "And was the graph stuff ever removed as is suggested in the description?",
    "created_at": "2019-11-07T14:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360640",
    "user": "https://github.com/kcrisman"
}
```

And was the graph stuff ever removed as is suggested in the description?



---

archive/issue_comments_360641.json:
```json
{
    "body": "When we talk about regressions, I think the context is: we are imagining people converting their notebooks from SageNB to Jupyter and not using SageNB any more (as opposed to: using SageNB for some tasks, Jupyter for others). In that context, it is also worthwhile to ask what features Jupyter has that SageNB doesn't. I don't think we are just losing things by moving from SageNB to Jupyter; aside from Python 3 compatibility, I think we gain some things by moving to Jupyter. So it is a trade-off. At what point does the balance tip to the Jupyter side? Maybe the Python 3 support is enough on its own, in fact.",
    "created_at": "2019-11-07T16:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360641",
    "user": "https://github.com/jhpalmieri"
}
```

When we talk about regressions, I think the context is: we are imagining people converting their notebooks from SageNB to Jupyter and not using SageNB any more (as opposed to: using SageNB for some tasks, Jupyter for others). In that context, it is also worthwhile to ask what features Jupyter has that SageNB doesn't. I don't think we are just losing things by moving from SageNB to Jupyter; aside from Python 3 compatibility, I think we gain some things by moving to Jupyter. So it is a trade-off. At what point does the balance tip to the Jupyter side? Maybe the Python 3 support is enough on its own, in fact.



---

archive/issue_comments_360642.json:
```json
{
    "body": "> Maybe the Python 3 support is enough on its own, in fact.\n\n\nObviously that is the consensus decision.  I'm just quoting this ticket right now when I mention these things, and would hate to have them disappear for all time.   But as you said elsewhere, someone has to work on them.",
    "created_at": "2019-11-08T01:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360642",
    "user": "https://github.com/kcrisman"
}
```

> Maybe the Python 3 support is enough on its own, in fact.


Obviously that is the consensus decision.  I'm just quoting this ticket right now when I mention these things, and would hate to have them disappear for all time.   But as you said elsewhere, someone has to work on them.



---

archive/issue_comments_360643.json:
```json
{
    "body": "A functionality that Jupyter is currently missing over sagenb is the rich text editor. This may possibly be resolved by:\n\nhttps://github.com/jupytercalpoly/jupyterlab-richtext-mode",
    "created_at": "2019-11-23T14:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360643",
    "user": "https://github.com/nthiery"
}
```

A functionality that Jupyter is currently missing over sagenb is the rich text editor. This may possibly be resolved by:

https://github.com/jupytercalpoly/jupyterlab-richtext-mode



---

archive/issue_comments_360644.json:
```json
{
    "body": "the most pressing issue is inability to normally use jsmol in Jupyter notebooks, needed to export 3d drawings for animations. We are having a lot of complaints about it.\nThere is something with the jsmol pop-up menu, which gets cut out by the notebook cell, and can't be used (thus making exports impossible)\n\nhttps://github.com/jupyter/notebook/issues/1872 discussing this has been opened in 2016 (pity that it was not resolved during ODK).",
    "created_at": "2019-11-23T15:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360644",
    "user": "https://github.com/dimpase"
}
```

the most pressing issue is inability to normally use jsmol in Jupyter notebooks, needed to export 3d drawings for animations. We are having a lot of complaints about it.
There is something with the jsmol pop-up menu, which gets cut out by the notebook cell, and can't be used (thus making exports impossible)

https://github.com/jupyter/notebook/issues/1872 discussing this has been opened in 2016 (pity that it was not resolved during ODK).



---

archive/issue_comments_360645.json:
```json
{
    "body": "Indeed; too bad this was not brought up. That being said, we still are in good contact with the Jupyter team :-) So if we provide them with a specific and easy to reproduce example (e.g. through a binder link) on the above issue, there are chances that we can make progress. It would be worth testing how things are in jupyterlab too.",
    "created_at": "2019-11-24T10:12:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360645",
    "user": "https://github.com/nthiery"
}
```

Indeed; too bad this was not brought up. That being said, we still are in good contact with the Jupyter team :-) So if we provide them with a specific and easy to reproduce example (e.g. through a binder link) on the above issue, there are chances that we can make progress. It would be worth testing how things are in jupyterlab too.



---

archive/issue_comments_360646.json:
```json
{
    "body": "By the way, I note that only jsmol can make stereographic plots for 3d viewing, though I don't know how often this capability is used.   (People like it when advertising Sage!)",
    "created_at": "2019-11-25T17:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360646",
    "user": "https://github.com/kcrisman"
}
```

By the way, I note that only jsmol can make stereographic plots for 3d viewing, though I don't know how often this capability is used.   (People like it when advertising Sage!)



---

archive/issue_comments_360647.json:
```json
{
    "body": "Replying to [comment:47 kcrisman]:\n> By the way, I note that only jsmol can make stereographic plots for 3d viewing, though I don't know how often this capability is used.   (People like it when advertising Sage!)\n\n\ncan't plotly do it? see e.g. https://plot.ly/~empet/13037.embed",
    "created_at": "2019-11-25T18:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360647",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:47 kcrisman]:
> By the way, I note that only jsmol can make stereographic plots for 3d viewing, though I don't know how often this capability is used.   (People like it when advertising Sage!)


can't plotly do it? see e.g. https://plot.ly/~empet/13037.embed



---

archive/issue_comments_360648.json:
```json
{
    "body": "By \"only jsmol\", I meant the only thing included standard in Sage.  What is plotly?  (Am I so behind that I missed a major new Sage internal plot mechanism? Yikes.)",
    "created_at": "2019-11-25T20:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360648",
    "user": "https://github.com/kcrisman"
}
```

By "only jsmol", I meant the only thing included standard in Sage.  What is plotly?  (Am I so behind that I missed a major new Sage internal plot mechanism? Yikes.)



---

archive/issue_comments_360649.json:
```json
{
    "body": "I read your comments as \"the only Python library that can do this sort if plotting\"\n\nplotly is Python library, no idea if it can work in Sage.",
    "created_at": "2019-11-25T20:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360649",
    "user": "https://github.com/dimpase"
}
```

I read your comments as "the only Python library that can do this sort if plotting"

plotly is Python library, no idea if it can work in Sage.



---

archive/issue_events_064629.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25600#event-64629"
}
```



---

archive/issue_events_064630.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25600#event-64630"
}
```



---

archive/issue_comments_360650.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360650",
    "user": "https://github.com/embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_360651.json:
```json
{
    "body": "This was done another ticket merged for 9.1 (see #29320), should be closed.\n\nBut #17590 (update sagenb SPKG.txt) needs work for 9.1",
    "created_at": "2020-05-04T20:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360651",
    "user": "https://github.com/mkoeppe"
}
```

This was done another ticket merged for 9.1 (see #29320), should be closed.

But #17590 (update sagenb SPKG.txt) needs work for 9.1



---

archive/issue_events_064631.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-04T20:14:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25600#event-64631"
}
```



---

archive/issue_events_064632.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-04T20:14:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25600#event-64632"
}
```



---

archive/issue_comments_360652.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-05-04T20:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360652",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_360653.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-05-04T21:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360653",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_360654.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2020-05-05T05:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25600#issuecomment-360654",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate



---

archive/issue_events_064633.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-05-05T05:53:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25600",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25600#event-64633"
}
```
