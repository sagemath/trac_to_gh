# Issue 34109: Document new conda packages sagemath-sirocco and sagemath-bliss

archive/issues_034109.json:
```json
{
    "body": "CC:  @saraedum @mkoeppe @slel @kiwifb @antonio-rojas @tornaria @dimpase\n\nThese are the two python extension modules that depend on the optional packages sirocco and bliss.\n\nWe should add this info to https://doc.sagemath.org/html/en/installation/conda.html#installing-all-of-sagemath-from-conda-not-for-development\n\nIssue created by migration from https://trac.sagemath.org/ticket/34346\n\n",
    "created_at": "2022-08-12T01:55:02Z",
    "labels": [
        "component: documentation",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Document new conda packages sagemath-sirocco and sagemath-bliss",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34109",
    "user": "https://github.com/isuruf"
}
```
CC:  @saraedum @mkoeppe @slel @kiwifb @antonio-rojas @tornaria @dimpase

These are the two python extension modules that depend on the optional packages sirocco and bliss.

We should add this info to https://doc.sagemath.org/html/en/installation/conda.html#installing-all-of-sagemath-from-conda-not-for-development

Issue created by migration from https://trac.sagemath.org/ticket/34346





---

archive/issue_comments_483325.json:
```json
{
    "body": "the Python distribution packages should go to `pkgs/`",
    "created_at": "2022-08-12T02:09:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483325",
    "user": "https://github.com/mkoeppe"
}
```

the Python distribution packages should go to `pkgs/`



---

archive/issue_events_089402.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34109#event-89402"
}
```



---

archive/issue_comments_483326.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-10-08T21:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483326",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_483327.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2022-10-09T05:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483327",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_483328.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-09T07:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483329.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-16T05:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483329",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483330.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-16T06:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483331.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-16T06:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483332.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-16T07:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483333.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-16T07:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483333",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483334.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-16T08:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483335.json:
```json
{
    "body": "Changing component from documentation to refactoring.",
    "created_at": "2022-11-16T08:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483335",
    "user": "https://github.com/mkoeppe"
}
```

Changing component from documentation to refactoring.



---

archive/issue_comments_483336.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-11-16T08:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483336",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_483337.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-11-20T22:05:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483337",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_483338.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-20T23:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483338",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_483339.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-21T03:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483340.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-11-21T03:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483340",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_483341.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-21T07:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483341",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483342.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-05T01:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483342",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483343.json:
```json
{
    "body": "No tox.ini for these distribution packages?",
    "created_at": "2022-12-08T01:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483343",
    "user": "https://github.com/kwankyu"
}
```

No tox.ini for these distribution packages?



---

archive/issue_comments_483344.json:
```json
{
    "body": "Good idea, I'll add them",
    "created_at": "2022-12-08T01:37:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483344",
    "user": "https://github.com/mkoeppe"
}
```

Good idea, I'll add them



---

archive/issue_comments_483345.json:
```json
{
    "body": "and these lines (of `pkgs/sagemath-bliss/setup.py` for instance) are right?\n\n```sage\nif len(sys.argv) > 1 and (sys.argv[1] == \"sdist\" or sys.argv[1] == \"egg_info\"):\n    sdist = True\nelse:\n    sdist = False\n\nif sdist:\n    cmdclass = {}\nelse:\n    ...\n    lines that build source distribution ???\n    ...\n```\n\n\nWhen running\n\n```\n    python3 -u setup.py --no-user-cfg sdist --dist-dir \"$SAGE_DISTFILES\"\n```\n\nthe \"if condition\" actually fails so that the sdist is actually built, but this seems just a good luck. Am I reading something wrong?",
    "created_at": "2022-12-08T02:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483345",
    "user": "https://github.com/kwankyu"
}
```

and these lines (of `pkgs/sagemath-bliss/setup.py` for instance) are right?

```sage
if len(sys.argv) > 1 and (sys.argv[1] == "sdist" or sys.argv[1] == "egg_info"):
    sdist = True
else:
    sdist = False

if sdist:
    cmdclass = {}
else:
    ...
    lines that build source distribution ???
    ...
```


When running

```
    python3 -u setup.py --no-user-cfg sdist --dist-dir "$SAGE_DISTFILES"
```

the "if condition" actually fails so that the sdist is actually built, but this seems just a good luck. Am I reading something wrong?



---

archive/issue_comments_483346.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-12-08T04:42:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483346",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_483347.json:
```json
{
    "body": "Replying to [comment:29 Kwankyu Lee]:\n> and these lines (of `pkgs/sagemath-bliss/setup.py` for instance) are right?\n> {{{#!sage\n> if len(sys.argv) > 1 and (sys.argv[1] == \"sdist\" or sys.argv[1] == \"egg_info\"):\n>     sdist = True\n> [...] \n> When running\n> {{{\n>     python3 -u setup.py --no-user-cfg sdist --dist-dir \"$SAGE_DISTFILES\"\n> }}}\n> the \"if condition\" actually fails \n\nNice catch, indeed this test will go wrong when there are global options.\nWe have this in many of our `setup.py` scripts. It's only an optimization - avoiding to cythonize when it is unnecessary.",
    "created_at": "2022-12-08T04:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483347",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:29 Kwankyu Lee]:
> and these lines (of `pkgs/sagemath-bliss/setup.py` for instance) are right?
> {{{#!sage
> if len(sys.argv) > 1 and (sys.argv[1] == "sdist" or sys.argv[1] == "egg_info"):
>     sdist = True
> [...] 
> When running
> {{{
>     python3 -u setup.py --no-user-cfg sdist --dist-dir "$SAGE_DISTFILES"
> }}}
> the "if condition" actually fails 

Nice catch, indeed this test will go wrong when there are global options.
We have this in many of our `setup.py` scripts. It's only an optimization - avoiding to cythonize when it is unnecessary.



---

archive/issue_comments_483348.json:
```json
{
    "body": "I'm getting rid of this test where it was copied from in #34858.",
    "created_at": "2022-12-18T23:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483348",
    "user": "https://github.com/mkoeppe"
}
```

I'm getting rid of this test where it was copied from in #34858.



---

archive/issue_comments_483349.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-12-19T05:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483349",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_483350.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-19T05:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34109#issuecomment-483350",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:
