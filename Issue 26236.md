# Issue 26236: py3: fix doctests failures of sage/combinat/words/word_*datatype*

Issue created by migration from https://trac.sagemath.org/ticket/26473

Original creator: slabbe

Original creation time: 2018-10-11 21:31:24

fix doctests failures of 


```
sage/combinat/words/word_datatypes.pyx
sage/combinat/words/word_infinite_datatypes.py
```


often of the following form:


```
**********************************************************************
File "word_infinite_datatypes.py", line 1035, in sage.combinat.words.word_infinite_datatypes.WordDatatype_iter_with_caching.__getitem__
Failed example:
    w[::2]
Exception raised:
    Traceback (most recent call last):
      File "/home/slabbe/GitBox/sage3/local/lib/python3.6/site-packages/sage/doctest/forker.py", line 659, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/slabbe/GitBox/sage3/local/lib/python3.6/site-packages/sage/doctest/forker.py", line 1070, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.words.word_infinite_datatypes.WordDatatype_iter_with_caching.__getitem__[17]>", line 1, in <module>
        w[::Integer(2)]
      File "/home/slabbe/GitBox/sage3/local/lib/python3.6/site-packages/sage/combinat/words/word_infinite_datatypes.py", line 1161, in __getitem__
        return super(WordDatatype_iter_with_caching,self).__getitem__(key)
      File "/home/slabbe/GitBox/sage3/local/lib/python3.6/site-packages/sage/combinat/words/word_infinite_datatypes.py", line 874, in __getitem__
        data = itertools.islice(self, key.start, stop, key.step)
    ValueError: Step for islice() must be a positive integer or None.
**********************************************************************
```



---

Comment by slabbe created at 2018-10-11 21:38:17

New commits:


---

Comment by slabbe created at 2018-10-11 21:38:17

Changing status from new to needs_review.


---

Comment by git created at 2018-10-11 21:48:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slabbe created at 2018-10-11 21:49:51

Changing status from needs_review to needs_work.


---

Comment by slabbe created at 2018-10-11 21:49:51

I am still working on it ...


---

Comment by git created at 2018-10-11 23:11:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-10-11 23:20:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slabbe created at 2018-10-11 23:25:36

New commits:


---

Comment by slabbe created at 2018-10-11 23:26:25

Changing status from needs_work to needs_review.


---

Comment by vklein created at 2018-10-12 07:41:02

Set assignee to vklein.


---

Comment by vklein created at 2018-10-12 08:18:45

Remove assignee vklein.


---

Comment by vklein created at 2018-10-12 08:37:32

Looks good to me.

Pyflakes complaints are unrelated with this ticket's modifications.

Thanks.


---

Comment by vklein created at 2018-10-12 08:37:32

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-10-20 11:57:37

Resolution: fixed


---

Comment by embray created at 2018-10-28 14:52:23

This should be re-targeted for 8.5.
