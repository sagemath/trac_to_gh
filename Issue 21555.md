# Issue 21555: Fix indents in sage-spkg

archive/issues_021555.json:
```json
{
    "body": "CC:  @embray @dimpase @mkoeppe\n\nUse spaces, not a mixture of spaces and TABs.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21792\n\n",
    "created_at": "2016-11-01T08:52:55Z",
    "labels": [
        "scripts",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Fix indents in sage-spkg",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21555",
    "user": "@jdemeyer"
}
```
CC:  @embray @dimpase @mkoeppe

Use spaces, not a mixture of spaces and TABs.

Issue created by migration from https://trac.sagemath.org/ticket/21792





---

archive/issue_comments_299247.json:
```json
{
    "body": "This is a totally trivial ticket. To avoid merge conflicts, a quick review would come in handy.\n----\nNew commits:",
    "created_at": "2016-11-01T09:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299247",
    "user": "@jdemeyer"
}
```

This is a totally trivial ticket. To avoid merge conflicts, a quick review would come in handy.
----
New commits:



---

archive/issue_comments_299248.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-11-01T09:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299248",
    "user": "@jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_299249.json:
```json
{
    "body": "Have you used a script to do this? If so, can we have a look at it?",
    "created_at": "2016-11-01T10:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299249",
    "user": "@dimpase"
}
```

Have you used a script to do this? If so, can we have a look at it?



---

archive/issue_comments_299250.json:
```json
{
    "body": "It was a very trivial `sed` script, replacing every TAB by 8 spaces and deleting all trailing spaces. I had to undo a few cases where the TABs were in Makefiles or where the TABs were not leading space.",
    "created_at": "2016-11-01T10:39:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299250",
    "user": "@jdemeyer"
}
```

It was a very trivial `sed` script, replacing every TAB by 8 spaces and deleting all trailing spaces. I had to undo a few cases where the TABs were in Makefiles or where the TABs were not leading space.



---

archive/issue_comments_299251.json:
```json
{
    "body": "Perhaps the whitespace policy should be documented in our developer manual.",
    "created_at": "2016-11-01T15:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299251",
    "user": "@mkoeppe"
}
```

Perhaps the whitespace policy should be documented in our developer manual.



---

archive/issue_comments_299252.json:
```json
{
    "body": "And we should have a `.dir-locals.el` and its equivalent (if any) for vim users. \n https://www.gnu.org/software/emacs/manual/html_node/emacs/Directory-Variables.html",
    "created_at": "2016-11-01T15:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299252",
    "user": "@mkoeppe"
}
```

And we should have a `.dir-locals.el` and its equivalent (if any) for vim users. 
 https://www.gnu.org/software/emacs/manual/html_node/emacs/Directory-Variables.html



---

archive/issue_comments_299253.json:
```json
{
    "body": "I've created ticket #21793 for that.",
    "created_at": "2016-11-01T18:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299253",
    "user": "@mkoeppe"
}
```

I've created ticket #21793 for that.



---

archive/issue_comments_299254.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-01T18:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299254",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_299255.json:
```json
{
    "body": "On my OS X machine, the change to `ecm/spkg-install` leads to\n\n```\n./spkg-install: line 293: syntax error: unexpected end of file\n```\n\nUndo the change and it works fine. (The `-` in `cat >foo.c <<-\"EOF\"` means to strip leading tabs, and `<<` is looking for just `\"EOF\"` all by itself, so the line `EOF` needs to be indented strictly by tabs or not at all.)",
    "created_at": "2016-11-01T19:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299255",
    "user": "@jhpalmieri"
}
```

On my OS X machine, the change to `ecm/spkg-install` leads to

```
./spkg-install: line 293: syntax error: unexpected end of file
```

Undo the change and it works fine. (The `-` in `cat >foo.c <<-"EOF"` means to strip leading tabs, and `<<` is looking for just `"EOF"` all by itself, so the line `EOF` needs to be indented strictly by tabs or not at all.)



---

archive/issue_comments_299256.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-11-01T19:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299256",
    "user": "@jhpalmieri"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_299257.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-01T19:28:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299257",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299258.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-11-01T19:29:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299258",
    "user": "@jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_299259.json:
```json
{
    "body": "I think it's confusing to require TABs, so I used an ordinary here document with `<<`.",
    "created_at": "2016-11-01T19:30:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299259",
    "user": "@jdemeyer"
}
```

I think it's confusing to require TABs, so I used an ordinary here document with `<<`.



---

archive/issue_comments_299260.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-01T23:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299260",
    "user": "@jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_299261.json:
```json
{
    "body": "Okay, looks good.",
    "created_at": "2016-11-01T23:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299261",
    "user": "@jhpalmieri"
}
```

Okay, looks good.



---

archive/issue_comments_299262.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-07T18:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21555#issuecomment-299262",
    "user": "@vbraun"
}
```

Resolution: fixed
