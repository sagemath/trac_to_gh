# Issue 33036: Computing residue fields of number fields is slow

Issue created by migration from https://trac.sagemath.org/ticket/33273

Original creator: saraedum

Original creation time: 2022-02-02 01:30:57

CC:  lorenz

Keywords: residue field, number field

Currently, calling `residue_field()` on a prime ideal can be very slow in number fields of large degree:


```
sage: K.<a> = QQ.extension(x^301 - 3)
sage: p = K.prime_above(2)
sage: %time p.residue_field()
CPU times: user 1min 5s, sys: 5.5 ms, total: 1min 5s
Wall time: 50.5 s
Residue field of Fractional ideal (2, a - 1)
```


However, the residue field can be computed quickly by other methods:

```
sage: %time v = K.valuation(p)
CPU times: user 186 ms, sys: 5.96 ms, total: 192 ms
Wall time: 211 ms
sage: %time v.residue_field()
CPU times: user 699 µs, sys: 3 µs, total: 702 µs
Wall time: 708 µs
Finite Field of size 2
```


We should try to expose these methods, e.g., by exposing them through an `algorithm` keyword.


---

Comment by saraedum created at 2022-02-02 01:55:53

Note that setting

```
sage: K.<a> = NumberField(x^301 - 3, maximize_at_primes=[2])
```


does not make a difference here.
