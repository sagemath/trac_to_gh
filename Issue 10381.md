# Issue 10381: add doctests from #8624 and #8582

Issue created by migration from Trac.

Original creator: mvngu

Original creation time: 2010-12-06 13:36:46

Assignee: mvngu

CC:  burcin jason

This is a follow-up to ticket #10187.


---

Attachment

In Sage 4.6.1.alpha3, I cannot/don't know how to reproduce the following:


```
sage: integrate(sqrt(x + sqrt(x)), x).simplify_full() 
1/12*sqrt(sqrt(x) + 1)*((8*x - 3)*x^(1/4) + 2*x^(3/4)) - 1/8*log(sqrt(sqrt(x) + 1) - x^(1/4)) + 1/8*log(sqrt(sqrt(x) + 1) + x^(1/4))
```


I left out the remaining doctests from [attachment:http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8624/trac-8624-abs-integration.patch] because those, I think, haven't resulted in failures.


---

Comment by mvngu created at 2010-12-06 15:31:18

Changing status from new to needs_review.


---

Comment by kcrisman created at 2010-12-06 18:46:52

I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.


---

Comment by burcin created at 2010-12-06 19:03:49

Replying to [comment:4 kcrisman]:
> I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.

I agree. I would have preferred to close those tickets after merging patches with doctests as well.

In this case, I think we should still reopen #8624 and change the summary to "enable abs_integrate package from maxima".


---

Comment by kcrisman created at 2010-12-08 21:08:14

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2010-12-08 21:08:14

Okay, correctly checks #8582 and does the right stuff from #8624 that we need.  I agree with Minh that the other stuff was not needed.  

Very odd about the `sqrt(x+sqrt(x))` thing.  I think that Burcin is right; we never enabled the abs integrate - Maxima just got better at the #8624 integrals on its own:

```

Maxima 5.22.1 http://maxima.sourceforge.net
using Lisp ECL 10.4.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) integrate(abs(cos(x))*sin(x),x,%pi/2,%pi);
                                       1
(%o1)                                  -
                                       2
```


So I respectfully request that someone with the authority reopen that ticket as he suggests, with new title.  Using `abs_integrate` does solve the square root integral in question (`sqrt(x+sqrt(x))`).

However, I think that this one can still be merged, since there are no problems with these, and they were verified as correct on the relevant tickets, and it passes the tests, of course, and applies, of course.

To release manager/patchbot: doc fix only, apply trac-10434_doctests.patch


---

Comment by jdemeyer created at 2010-12-19 09:34:02

Resolution: fixed


---

Comment by kcrisman created at 2011-06-14 18:15:07

See also #11483 for the `abs_integrate` stuff.
