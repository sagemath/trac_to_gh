# Issue 10381: add doctests from #8624 and #8582

archive/issues_010381.json:
```json
{
    "body": "Assignee: mvngu\n\nCC:  burcin jason\n\nThis is a follow-up to ticket #10187.\n\nIssue created by migration from https://trac.sagemath.org/ticket/10434\n\n",
    "created_at": "2010-12-06T13:36:46Z",
    "labels": [
        "documentation",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.1",
    "title": "add doctests from #8624 and #8582",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10381",
    "user": "mvngu"
}
```
Assignee: mvngu

CC:  burcin jason

This is a follow-up to ticket #10187.

Issue created by migration from https://trac.sagemath.org/ticket/10434





---

archive/issue_comments_106821.json:
```json
{
    "body": "Attachment [trac-10434_doctests.patch](tarball://root/attachments/some-uuid/ticket10434/trac-10434_doctests.patch) by mvngu created at 2010-12-06 15:31:18\n\nIn Sage 4.6.1.alpha3, I cannot/don't know how to reproduce the following:\n\n\n```\nsage: integrate(sqrt(x + sqrt(x)), x).simplify_full() \n1/12*sqrt(sqrt(x) + 1)*((8*x - 3)*x^(1/4) + 2*x^(3/4)) - 1/8*log(sqrt(sqrt(x) + 1) - x^(1/4)) + 1/8*log(sqrt(sqrt(x) + 1) + x^(1/4))\n```\n\n\nI left out the remaining doctests from [attachment:http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8624/trac-8624-abs-integration.patch] because those, I think, haven't resulted in failures.",
    "created_at": "2010-12-06T15:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10381#issuecomment-106821",
    "user": "mvngu"
}
```

Attachment [trac-10434_doctests.patch](tarball://root/attachments/some-uuid/ticket10434/trac-10434_doctests.patch) by mvngu created at 2010-12-06 15:31:18

In Sage 4.6.1.alpha3, I cannot/don't know how to reproduce the following:


```
sage: integrate(sqrt(x + sqrt(x)), x).simplify_full() 
1/12*sqrt(sqrt(x) + 1)*((8*x - 3)*x^(1/4) + 2*x^(3/4)) - 1/8*log(sqrt(sqrt(x) + 1) - x^(1/4)) + 1/8*log(sqrt(sqrt(x) + 1) + x^(1/4))
```


I left out the remaining doctests from [attachment:http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8624/trac-8624-abs-integration.patch] because those, I think, haven't resulted in failures.



---

archive/issue_comments_106822.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-12-06T15:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10381#issuecomment-106822",
    "user": "mvngu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_106823.json:
```json
{
    "body": "I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.",
    "created_at": "2010-12-06T18:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10381#issuecomment-106823",
    "user": "kcrisman"
}
```

I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.



---

archive/issue_comments_106824.json:
```json
{
    "body": "Replying to [comment:4 kcrisman]:\n> I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.\n\nI agree. I would have preferred to close those tickets after merging patches with doctests as well.\n\nIn this case, I think we should still reopen #8624 and change the summary to \"enable abs_integrate package from maxima\".",
    "created_at": "2010-12-06T19:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10381#issuecomment-106824",
    "user": "burcin"
}
```

Replying to [comment:4 kcrisman]:
> I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.

I agree. I would have preferred to close those tickets after merging patches with doctests as well.

In this case, I think we should still reopen #8624 and change the summary to "enable abs_integrate package from maxima".



---

archive/issue_comments_106825.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-12-08T21:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10381#issuecomment-106825",
    "user": "kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_106826.json:
```json
{
    "body": "Okay, correctly checks #8582 and does the right stuff from #8624 that we need.  I agree with Minh that the other stuff was not needed.  \n\nVery odd about the `sqrt(x+sqrt(x))` thing.  I think that Burcin is right; we never enabled the abs integrate - Maxima just got better at the #8624 integrals on its own:\n\n```\n\nMaxima 5.22.1 http://maxima.sourceforge.net\nusing Lisp ECL 10.4.1\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) integrate(abs(cos(x))*sin(x),x,%pi/2,%pi);\n                                       1\n(%o1)                                  -\n                                       2\n```\n\n\nSo I respectfully request that someone with the authority reopen that ticket as he suggests, with new title.  Using `abs_integrate` does solve the square root integral in question (`sqrt(x+sqrt(x))`).\n\nHowever, I think that this one can still be merged, since there are no problems with these, and they were verified as correct on the relevant tickets, and it passes the tests, of course, and applies, of course.\n\nTo release manager/patchbot: doc fix only, apply trac-10434_doctests.patch",
    "created_at": "2010-12-08T21:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10381#issuecomment-106826",
    "user": "kcrisman"
}
```

Okay, correctly checks #8582 and does the right stuff from #8624 that we need.  I agree with Minh that the other stuff was not needed.  

Very odd about the `sqrt(x+sqrt(x))` thing.  I think that Burcin is right; we never enabled the abs integrate - Maxima just got better at the #8624 integrals on its own:

```

Maxima 5.22.1 http://maxima.sourceforge.net
using Lisp ECL 10.4.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) integrate(abs(cos(x))*sin(x),x,%pi/2,%pi);
                                       1
(%o1)                                  -
                                       2
```


So I respectfully request that someone with the authority reopen that ticket as he suggests, with new title.  Using `abs_integrate` does solve the square root integral in question (`sqrt(x+sqrt(x))`).

However, I think that this one can still be merged, since there are no problems with these, and they were verified as correct on the relevant tickets, and it passes the tests, of course, and applies, of course.

To release manager/patchbot: doc fix only, apply trac-10434_doctests.patch



---

archive/issue_comments_106827.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-12-19T09:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10381#issuecomment-106827",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_106828.json:
```json
{
    "body": "See also #11483 for the `abs_integrate` stuff.",
    "created_at": "2011-06-14T18:15:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10381",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10381#issuecomment-106828",
    "user": "kcrisman"
}
```

See also #11483 for the `abs_integrate` stuff.
