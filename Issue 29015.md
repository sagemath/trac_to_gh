# Issue 29015: LU-decomposition inconsistent bewteen Matrix_double_dense and Matrix

Issue created by migration from https://trac.sagemath.org/ticket/29252

Original creator: @toonijn

Original creation time: 2020-02-27 14:04:47

Keywords: matrix LU

The returned permutation matrix P is in the case of Matrix_double_dense such that:
P A = L U

while in the case of Matrix:
A = P L U


```
sage: A = random_matrix(QQ, 4, 4)
sage: A.LU()[0]
[0 1 0 0]
[0 0 0 1]
[0 0 1 0]
[1 0 0 0]
sage: matrix(RDF, A).LU()[0]
[0 0 0 1]
[1 0 0 0]
[0 0 1 0]
[0 1 0 0]
```



---

Comment by @mwageringel created at 2020-02-27 22:41:27

This problem should really be resolved. There is already #18365 dealing with it.


---

Comment by @mwageringel created at 2020-02-27 22:41:27

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2020-02-27 22:41:50

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2020-03-15 19:45:04

Resolution: duplicate
