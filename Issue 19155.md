# Issue 19155: Add tetrahedral poset code

Issue created by migration from https://trac.sagemath.org/ticket/19392

Original creator: cvorland

Original creation time: 2015-10-11 23:48:43

CC:  tscrim kdilks jessicapalencia jmantysalo




---

Comment by cvorland created at 2015-10-12 00:00:09

New commits:


---

Comment by cvorland created at 2015-10-12 00:17:14

Changing status from new to needs_review.


---

Comment by kdilks created at 2015-10-12 00:30:50

* This needs some tests, and maybe one more example. Examples can be a good way to illustrate an interesting feature of tetrahedral posets, and you can also show how it reduces to perhaps more well-known posets for certain parameters. Also, the code should throw an error if the rest of the input includes something other than one of the six strings.
* First line of doc should be a single sentence. So I would make the first line be "Returns the tetrahedral poset based on the input colors.", then have a slightly more detailed explanation in a second paragraph with the reference.
* `edge_colors` is currently superfluous. Though maybe posets should have an option similar to `element_labels` where you can assign labels to the covering relations of your poset. It would be useful here, and necessary if anybody ever wanted to try and implement EL-labellings.
* I would change the last two lines to just `return Poset([elem,rels],cover_relations=True)`.


---

Comment by kdilks created at 2015-10-12 00:34:13

As an aside, it looks like EL labeling is sort of already in Sage, but it just lets you put in a function on pairs of elements that cover each other, and it'll tell you if that defines an EL labelling.


---

Comment by jmantysalo created at 2015-10-12 17:47:43

Replying to [comment:3 kdilks]:

> * First line of doc should be a single sentence. So I would make the first line be "Returns the tetrahedral poset based on the input colors."

Actually "return", not "returns". And there is a missing space before it. (I.e. an indentation of 3 spaces instead of 4.)


---

Comment by git created at 2015-10-21 15:24:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-10-28 15:09:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jessicapalencia created at 2015-10-28 15:18:25

Looks good. A few comments on the doc: 

In the second sentence, the color 'yellow' is missing.

Add 'For example,' to the start of the fourth sentence.

The fourth, fifth, and sixth sentences need periods at the end.


---

Comment by kdilks created at 2015-10-28 15:28:08

Under `INPUT:`, you should have ```False``` instead of just `False`.

Try making it "totally self-complementary plane partitons in a ``2n \times 2n \times 2n`` box".

Description for optional parameter `int_label` should be more explicit in saying which boolean value gives which labeling.


---

Comment by git created at 2015-10-28 15:43:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2015-10-28 15:53:44

`ordinal_sum()` in posets have optional parameter `labels` with possible values `'pairs'` and `'integers'`. Should this follow that pattern instead of `int_label`, as Sage uses `int_label` nowhere before this? If not, at least try to copy some existing pattern for the parameter.


---

Comment by jessicapalencia created at 2015-10-28 16:12:34

Changing status from needs_review to needs_work.


---

Comment by jessicapalencia created at 2015-10-28 16:12:34

One doctest fails (the one with is_isomorphic).


---

Comment by git created at 2015-10-29 15:37:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by cvorland created at 2015-10-29 15:39:34

Changing status from needs_work to needs_review.


---

Comment by kdilks created at 2015-11-03 20:55:07

Just two more minor things

* Add `TetrahedralPoset` to the index of methods at the top of the file.

* I would put `labelcount=0` immediately before (and at the same indentation as) `for (i,j,k) in elem:`. No point in initializing `labelcount` until you've checked to see that it's going to be used.


---

Comment by git created at 2015-11-04 16:29:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kdilks created at 2015-11-18 16:09:55

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-11-19 16:23:53

Resolution: fixed
