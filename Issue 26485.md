# Issue 26485: py3: work on the sandpile problem

Issue created by migration from https://trac.sagemath.org/ticket/26722

Original creator: chapoton

Original creation time: 2018-11-19 13:28:03

CC:  tscrim

not yet ready for review, alas


---

Comment by chapoton created at 2018-11-19 13:28:24

New commits:


---

Comment by git created at 2019-01-28 11:45:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-02-04 19:50:21

Changing status from new to needs_review.


---

Comment by chapoton created at 2019-02-04 19:50:21

Here is a fresh tentative
----
New commits:


---

Comment by chapoton created at 2019-02-05 08:25:48

green bot, please review


---

Comment by tscrim created at 2019-02-05 13:36:44

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-02-05 13:36:44

LGTM.


---

Comment by dcoudert created at 2019-02-05 13:43:11

Also OK on py2 and py3 ;) However, instead of using `(-1, -1)`, one could define a variable `sink = (-1, -1)` for clarity. I will not fight for it.


I noticed that the sandpile code contains a lot of calls to `.vertices()` and `.edges()`, including a `.vertices()[0]`. So multiple improvements are possible. Also, some random graphs generators could be in `digraph_generators.py` instead of `sandpile.py`. Other tickets are needed.


---

Comment by tscrim created at 2019-02-05 13:56:42

Replying to [comment:7 dcoudert]:
> Also OK on py2 and py3 ;) However, instead of using `(-1, -1)`, one could define a variable `sink = (-1, -1)` for clarity. I will not fight for it.

Followup ticket when the whole module gets a cleaning.

> I noticed that the sandpile code contains a lot of calls to `.vertices()` and `.edges()`, including a `.vertices()[0]`. So multiple improvements are possible. Also, some random graphs generators could be in `digraph_generators.py` instead of `sandpile.py`. Other tickets are needed.

Yea, it is old code IIRC that has not been really maintained for quite some time.


---

Comment by dcoudert created at 2019-02-05 14:04:42

Let me know if I can help for the next steps. I'm currently blocked in graphs as I'm waiting for the next beta (inclusion of many tickets) and several tickets are waiting for review.


---

Comment by tscrim created at 2019-02-05 14:11:38

I am not able to really contribute code for the near future. The quick-to-medium reviews are all I have time for. `:/` Sorry I am not helping more with actual code.


---

Comment by vbraun created at 2019-02-08 12:35:48

Resolution: fixed
