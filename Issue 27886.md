# Issue 27886: Implement method to return the p-primary part of an integer

Issue created by migration from https://trac.sagemath.org/ticket/28123

Original creator: @ttajakka

Original creation time: 2019-07-05 21:05:34

Keywords: p-primary part




---

Comment by @ttajakka created at 2019-07-05 22:22:48

New commits:


---

Comment by @ttajakka created at 2019-07-05 22:22:48

Changing status from new to needs_review.


---

Comment by @kliem created at 2019-07-06 19:56:51

Changing status from needs_review to needs_work.


---

Comment by @kliem created at 2019-07-06 20:02:32

Sorry about that, I took the first empty box as the comment box...

A few small comments:

- according to http://doc.sagemath.org/html/en/developer/coding_basics.html I would do the following changes to Input and output:

```diff
-        Return the p-primary part of self.
+        Return the p-primary part of ``self``.

         INPUT:
 
-        -  ``p`` - a prime integer.
+        - ``p`` -- a prime integer

-        OUTPUT:
-
-        - Largest power of ``p`` dividing self
+        OUTPUT: largest power of ``p`` dividing ``self``
```

- also at the beginning of the method I would add `p = smallInteger(p)`, making the method capable of handling inputs as `2L`
- you can call right away `self._valuation(p)`, no need for this extra method in between (this does require adding the line as mentioned above)


---

Comment by git created at 2019-07-10 00:24:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @ttajakka created at 2019-07-10 00:24:46

Changing status from needs_work to needs_review.


---

Comment by @ttajakka created at 2019-07-10 00:24:46

New commits:


---

Comment by @ttajakka created at 2019-07-10 00:27:38

Thanks for the comments! I made the changes you suggested.

Replying to [comment:4 gh-kliem]:
> Sorry about that, I took the first empty box as the comment box...
> 
> A few small comments:
> 
> - according to http://doc.sagemath.org/html/en/developer/coding_basics.html I would do the following changes to Input and output:
> {{{#!diff
> -        Return the p-primary part of self.
> +        Return the p-primary part of ``self``.
> 
>          INPUT:
>  
> -        -  ``p`` - a prime integer.
> +        - ``p`` -- a prime integer
> 
> -        OUTPUT:
> -
> -        - Largest power of ``p`` dividing self
> +        OUTPUT: largest power of ``p`` dividing ``self``
> }}}
> - also at the beginning of the method I would add `p = smallInteger(p)`, making the method capable of handling inputs as `2L`
> - you can call right away `self._valuation(p)`, no need for this extra method in between (this does require adding the line as mentioned above)


---

Comment by @kliem created at 2019-07-11 23:04:13

There is still the double space before the "p".

Note, that I suggested also to change the output not to be a list (but if you like it better this way, I won't stop you).

Replying to [comment:7 gh-ttajakka]:
> Thanks for the comments! I made the changes you suggested.
> 
> Replying to [comment:4 gh-kliem]:
> > Sorry about that, I took the first empty box as the comment box...
> > 
> > A few small comments:
> > 
> > - according to http://doc.sagemath.org/html/en/developer/coding_basics.html I would do the following changes to Input and output:
> > {{{#!diff
> > -        Return the p-primary part of self.
> > +        Return the p-primary part of ``self``.
> > 
> >          INPUT:
> >  
> > -        -  ``p`` - a prime integer.
> > +        - ``p`` -- a prime integer
> > 
> > -        OUTPUT:
> > -
> > -        - Largest power of ``p`` dividing self
> > +        OUTPUT: largest power of ``p`` dividing ``self``
> > }}}
> > - also at the beginning of the method I would add `p = smallInteger(p)`, making the method capable of handling inputs as `2L`
> > - you can call right away `self._valuation(p)`, no need for this extra method in between (this does require adding the line as mentioned above)


---

Comment by git created at 2019-07-23 18:35:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @ttajakka created at 2019-07-23 18:36:41

Sorry about that, I'll read the comments more carefully next time. I hope it looks better now.
----
New commits:


---

Comment by @kliem created at 2019-07-23 19:03:17

Changing status from needs_review to positive_review.


---

Comment by @kliem created at 2019-07-23 19:03:17

Looks good now.


---

Comment by @kliem created at 2019-07-23 19:04:09

Never mind. I think it was more annoying for you than for me.

Replying to [comment:10 gh-ttajakka]:
> Sorry about that, I'll read the comments more carefully next time. I hope it looks better now.
> ----
> New commits:
> ||[d87050a](https://git.sagemath.org/sage.git/commit?id=d87050ab16d7cdebb56091fce26fbedb1e79ced5)||`Fixed formatting of docstring`||


---

Comment by vbraun created at 2019-07-29 21:54:26

Resolution: fixed
