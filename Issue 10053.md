# Issue 10053: Provide an alphabet to the parent of any generated word

Issue created by migration from Trac.

Original creator: tmonteil

Original creation time: 2010-10-02 01:17:07

Assignee: sage-combinat

CC:  slabbe abmasse vdelecroix saliola

The current situation is not uniform, some word generators provide an alphabet to their parent, some other do not. Currently, the policy can be different even for close word generators:


```
sage: words.LowerMechanicalWord(1/sqrt(2)).parent()
Words
sage: words.CharacteristicSturmianWord(1/sqrt(2)).parent()
Words over Ordered Alphabet [0, 1]
```


There should be an overall policy (to be discussed in the community).

My point of view is that we should provide a default alphabet each time we know it a priori, so that accessing this info will take a constant time, otherwise the user will sometimes have to use a parsing function that will take a linear time.



---

Comment by slabbe created at 2010-10-15 23:44:45

I write a useless comment here so that this ticket be listed in the list of Open ticket I participated in.


---

Comment by abmasse created at 2011-03-09 18:35:42

I checked one by one all the generated words in Sage. They all have parent alphabets except two:


```
sage: words.CharacteristicSturmianWord(1/sqrt(2)).parent()
Words over Ordered Alphabet [0, 1]
sage: words.ChristoffelWord(4,7).parent()
Words over Ordered Alphabet [0, 1]
sage: words.CodingOfRotationWord(0.1234, 0.5678, alphabet='01').parent()
Words over Ordered Alphabet ['0', '1']
sage: words.FibonacciWord().parent()
Words over Ordered Alphabet [0, 1]
sage: words.FixedPointOfMorphism(WordMorphism('a->ab,b->a'), 'a').parent()
Words over Ordered Alphabet ['a', 'b']
sage: words.KolakoskiWord().parent()
Words over Ordered Alphabet [1, 2]
sage: words.LowerChristoffelWord(4,3).parent()
Words over Ordered Alphabet [0, 1]
sage: words.MinimalSmoothPrefix(20).parent()
Words over Ordered Alphabet [1, 2]
sage: words.PalindromicDefectWord(5, 'ab').parent()
Words over Ordered Alphabet ['a', 'b']
sage: words.RandomWord(15, 3, alphabet='abc').parent()
Words over Ordered Alphabet ['a', 'b', 'c']
sage: words.StandardEpisturmianWord(Words('ab')('ab')).parent()
Words over Ordered Alphabet ['a', 'b']
sage: words.ThueMorseWord().parent()
Words over Ordered Alphabet [0, 1]
sage: words.UpperChristoffelWord(2,3).parent()
Words over Ordered Alphabet [0, 1]
sage: phi = WordMorphism('a->abc,b->ca,c->bb')
sage: words.dual_fibonacci_tile(3).parent()
Word Paths on the square grid
sage: words.fibonacci_tile(3).parent()
Word Paths on the square grid
sage: words.s_adic([phi], 'a').parent()
Words over Ordered Alphabet ['a', 'b', 'c']
```


These ones should be corrected:

```
sage: words.LowerMechanicalWord(sqrt(2) - 1).parent()
Words
sage: words.UpperMechanicalWord(sqrt(2) - 1).parent()
Words
```


Is is the goal of this ticket? Just to correct those two generated words? If so, I can write a patch, but I want to make sure I understand correctly what it is about.

Alex


---

Comment by tscrim created at 2013-02-16 01:52:08

Changing keywords from "" to "days45".


---

Comment by tscrim created at 2013-02-16 01:52:08

Here's a patch which gives the two missing words an alphabet and I've also cleaned up some of the documentation in `word_generators.py`.

Best,

Travis


---

Comment by tscrim created at 2013-02-16 01:52:08

Changing status from new to needs_review.


---

Comment by tscrim created at 2013-02-17 19:58:58

Added the dependency.


---

Comment by slabbe created at 2013-04-03 10:03:08

Changing status from needs_review to positive_review.


---

Attachment

All tests pass (failing test on the patchbot are unrelated). Doc builds fine. Positive review.

Thanks for the doc improvements.

SÃ©bastien


---

Comment by tscrim created at 2013-04-03 12:46:46

Thank you for the review Sebastien.


---

Comment by jdemeyer created at 2013-04-04 17:38:51

Resolution: fixed
