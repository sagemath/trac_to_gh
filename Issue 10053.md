# Issue 10053: Provide an alphabet to the parent of any generated word

archive/issues_010053.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  slabbe abmasse vdelecroix saliola\n\nThe current situation is not uniform, some word generators provide an alphabet to their parent, some other do not. Currently, the policy can be different even for close word generators:\n\n\n```\nsage: words.LowerMechanicalWord(1/sqrt(2)).parent()\nWords\nsage: words.CharacteristicSturmianWord(1/sqrt(2)).parent()\nWords over Ordered Alphabet [0, 1]\n```\n\n\nThere should be an overall policy (to be discussed in the community).\n\nMy point of view is that we should provide a default alphabet each time we know it a priori, so that accessing this info will take a constant time, otherwise the user will sometimes have to use a parsing function that will take a linear time.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/10054\n\n",
    "created_at": "2010-10-02T01:17:07Z",
    "labels": [
        "combinatorics",
        "major",
        "bug"
    ],
    "title": "Provide an alphabet to the parent of any generated word",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10053",
    "user": "tmonteil"
}
```
Assignee: sage-combinat

CC:  slabbe abmasse vdelecroix saliola

The current situation is not uniform, some word generators provide an alphabet to their parent, some other do not. Currently, the policy can be different even for close word generators:


```
sage: words.LowerMechanicalWord(1/sqrt(2)).parent()
Words
sage: words.CharacteristicSturmianWord(1/sqrt(2)).parent()
Words over Ordered Alphabet [0, 1]
```


There should be an overall policy (to be discussed in the community).

My point of view is that we should provide a default alphabet each time we know it a priori, so that accessing this info will take a constant time, otherwise the user will sometimes have to use a parsing function that will take a linear time.


Issue created by migration from https://trac.sagemath.org/ticket/10054





---

archive/issue_comments_101334.json:
```json
{
    "body": "I write a useless comment here so that this ticket be listed in the list of Open ticket I participated in.",
    "created_at": "2010-10-15T23:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101334",
    "user": "slabbe"
}
```

I write a useless comment here so that this ticket be listed in the list of Open ticket I participated in.



---

archive/issue_comments_101335.json:
```json
{
    "body": "I checked one by one all the generated words in Sage. They all have parent alphabets except two:\n\n\n```\nsage: words.CharacteristicSturmianWord(1/sqrt(2)).parent()\nWords over Ordered Alphabet [0, 1]\nsage: words.ChristoffelWord(4,7).parent()\nWords over Ordered Alphabet [0, 1]\nsage: words.CodingOfRotationWord(0.1234, 0.5678, alphabet='01').parent()\nWords over Ordered Alphabet ['0', '1']\nsage: words.FibonacciWord().parent()\nWords over Ordered Alphabet [0, 1]\nsage: words.FixedPointOfMorphism(WordMorphism('a->ab,b->a'), 'a').parent()\nWords over Ordered Alphabet ['a', 'b']\nsage: words.KolakoskiWord().parent()\nWords over Ordered Alphabet [1, 2]\nsage: words.LowerChristoffelWord(4,3).parent()\nWords over Ordered Alphabet [0, 1]\nsage: words.MinimalSmoothPrefix(20).parent()\nWords over Ordered Alphabet [1, 2]\nsage: words.PalindromicDefectWord(5, 'ab').parent()\nWords over Ordered Alphabet ['a', 'b']\nsage: words.RandomWord(15, 3, alphabet='abc').parent()\nWords over Ordered Alphabet ['a', 'b', 'c']\nsage: words.StandardEpisturmianWord(Words('ab')('ab')).parent()\nWords over Ordered Alphabet ['a', 'b']\nsage: words.ThueMorseWord().parent()\nWords over Ordered Alphabet [0, 1]\nsage: words.UpperChristoffelWord(2,3).parent()\nWords over Ordered Alphabet [0, 1]\nsage: phi = WordMorphism('a->abc,b->ca,c->bb')\nsage: words.dual_fibonacci_tile(3).parent()\nWord Paths on the square grid\nsage: words.fibonacci_tile(3).parent()\nWord Paths on the square grid\nsage: words.s_adic([phi], 'a').parent()\nWords over Ordered Alphabet ['a', 'b', 'c']\n```\n\n\nThese ones should be corrected:\n\n```\nsage: words.LowerMechanicalWord(sqrt(2) - 1).parent()\nWords\nsage: words.UpperMechanicalWord(sqrt(2) - 1).parent()\nWords\n```\n\n\nIs is the goal of this ticket? Just to correct those two generated words? If so, I can write a patch, but I want to make sure I understand correctly what it is about.\n\nAlex",
    "created_at": "2011-03-09T18:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101335",
    "user": "abmasse"
}
```

I checked one by one all the generated words in Sage. They all have parent alphabets except two:


```
sage: words.CharacteristicSturmianWord(1/sqrt(2)).parent()
Words over Ordered Alphabet [0, 1]
sage: words.ChristoffelWord(4,7).parent()
Words over Ordered Alphabet [0, 1]
sage: words.CodingOfRotationWord(0.1234, 0.5678, alphabet='01').parent()
Words over Ordered Alphabet ['0', '1']
sage: words.FibonacciWord().parent()
Words over Ordered Alphabet [0, 1]
sage: words.FixedPointOfMorphism(WordMorphism('a->ab,b->a'), 'a').parent()
Words over Ordered Alphabet ['a', 'b']
sage: words.KolakoskiWord().parent()
Words over Ordered Alphabet [1, 2]
sage: words.LowerChristoffelWord(4,3).parent()
Words over Ordered Alphabet [0, 1]
sage: words.MinimalSmoothPrefix(20).parent()
Words over Ordered Alphabet [1, 2]
sage: words.PalindromicDefectWord(5, 'ab').parent()
Words over Ordered Alphabet ['a', 'b']
sage: words.RandomWord(15, 3, alphabet='abc').parent()
Words over Ordered Alphabet ['a', 'b', 'c']
sage: words.StandardEpisturmianWord(Words('ab')('ab')).parent()
Words over Ordered Alphabet ['a', 'b']
sage: words.ThueMorseWord().parent()
Words over Ordered Alphabet [0, 1]
sage: words.UpperChristoffelWord(2,3).parent()
Words over Ordered Alphabet [0, 1]
sage: phi = WordMorphism('a->abc,b->ca,c->bb')
sage: words.dual_fibonacci_tile(3).parent()
Word Paths on the square grid
sage: words.fibonacci_tile(3).parent()
Word Paths on the square grid
sage: words.s_adic([phi], 'a').parent()
Words over Ordered Alphabet ['a', 'b', 'c']
```


These ones should be corrected:

```
sage: words.LowerMechanicalWord(sqrt(2) - 1).parent()
Words
sage: words.UpperMechanicalWord(sqrt(2) - 1).parent()
Words
```


Is is the goal of this ticket? Just to correct those two generated words? If so, I can write a patch, but I want to make sure I understand correctly what it is about.

Alex



---

archive/issue_comments_101336.json:
```json
{
    "body": "Changing keywords from \"\" to \"days45\".",
    "created_at": "2013-02-16T01:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101336",
    "user": "tscrim"
}
```

Changing keywords from "" to "days45".



---

archive/issue_comments_101337.json:
```json
{
    "body": "Here's a patch which gives the two missing words an alphabet and I've also cleaned up some of the documentation in `word_generators.py`.\n\nBest,\n\nTravis",
    "created_at": "2013-02-16T01:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101337",
    "user": "tscrim"
}
```

Here's a patch which gives the two missing words an alphabet and I've also cleaned up some of the documentation in `word_generators.py`.

Best,

Travis



---

archive/issue_comments_101338.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-02-16T01:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101338",
    "user": "tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_101339.json:
```json
{
    "body": "Added the dependency.",
    "created_at": "2013-02-17T19:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101339",
    "user": "tscrim"
}
```

Added the dependency.



---

archive/issue_comments_101340.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-03T10:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101340",
    "user": "slabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_101341.json:
```json
{
    "body": "Attachment\n\nAll tests pass (failing test on the patchbot are unrelated). Doc builds fine. Positive review.\n\nThanks for the doc improvements.\n\nS\u00e9bastien",
    "created_at": "2013-04-03T10:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101341",
    "user": "slabbe"
}
```

Attachment

All tests pass (failing test on the patchbot are unrelated). Doc builds fine. Positive review.

Thanks for the doc improvements.

SÃ©bastien



---

archive/issue_comments_101342.json:
```json
{
    "body": "Thank you for the review Sebastien.",
    "created_at": "2013-04-03T12:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101342",
    "user": "tscrim"
}
```

Thank you for the review Sebastien.



---

archive/issue_comments_101343.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-04T17:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10053",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10053#issuecomment-101343",
    "user": "jdemeyer"
}
```

Resolution: fixed
