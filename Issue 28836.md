# Issue 28836: `gale_transform` does not work for `RDF`

Issue created by migration from https://trac.sagemath.org/ticket/29073

Original creator: @kliem

Original creation time: 2020-01-23 19:52:57

CC:  jipilab @laisrast

Keywords: polytopes, gale transform, RDF

Currently the Gale transform for `RDF` does not work


```
sage: P = polytopes.icosahedron(exact=False)
sage: sum(P.gale_transform())
(1.3819660112000005, -1.3819660112000005, 0.3819660112000003, -1.3819660112000005, -9.43689570931383e-16, 1.6653345369377348e-16, -6.661338147750939e-16, 0.0)
```


but the sum should be close to zero. This is of course only an indication that something goes terribly wrong. For #29065, I wanted to add a doctest recovering an inexact polyhedron from the gale diagram, but it simply does not work.

The problem is quite simple. The method `right_kernel` for matrices, should just not be used, as it echolonizes the kernel. This is just something, one shouldn't do for inexact rings. The method `right_kernel_matrix(basis=computed)` gives a much more useful matrix.

We also leave a note in `left_kernel`, `right_kernel`, and `right_kernel_matrix` to indicate this problem.




---

Comment by @kliem created at 2020-01-23 20:23:04

Changing status from new to needs_review.


---

Comment by @kliem created at 2020-01-23 20:23:04

New commits:


---

Comment by git created at 2020-01-27 17:10:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @LaisRast created at 2020-01-30 12:03:17

In `left_kernel`, explain your note a little bit:

```diff
             For inexact rings use :meth:`right_kernel_matrix` with
-            ``basis='computed'`` to avoid echolonizing.
+            ``basis='computed'`` (on the transpose of the matrix) to avoid echolonizing.
```


Otherwise, it is good to go.


---

Comment by git created at 2020-01-30 12:29:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @LaisRast created at 2020-01-30 12:51:57

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-01-31 23:49:29

Resolution: fixed
