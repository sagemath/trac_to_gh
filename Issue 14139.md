# Issue 14139: improve the installation guide for SageTeX

archive/issues_014139.json:
```json
{
    "body": "Assignee: mvngu\n\nThe installation guide for SageTeX needs to be rearranged to be more friendly to beginning users. See https://groups.google.com/d/topic/sage-edu/yhQoMuuLLv8/discussion  which links to [this review of Sage](http://cunymathblog.commons.gc.cuny.edu/2012/04/09/sage/). \n\nI will base any patch here on the results of #14246.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/14343\n\n",
    "created_at": "2013-03-23T00:30:37Z",
    "labels": [
        "documentation",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "improve the installation guide for SageTeX",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14139",
    "user": "ddrake"
}
```
Assignee: mvngu

The installation guide for SageTeX needs to be rearranged to be more friendly to beginning users. See https://groups.google.com/d/topic/sage-edu/yhQoMuuLLv8/discussion  which links to [this review of Sage](http://cunymathblog.commons.gc.cuny.edu/2012/04/09/sage/). 

I will base any patch here on the results of #14246.



Issue created by migration from https://trac.sagemath.org/ticket/14343





---

archive/issue_comments_177428.json:
```json
{
    "body": "I've updated `doc/en/tutorial/sagetex.rst`. In particular:\n\n* I put the installation instructions above the example, since the example is useless until TeX can find `sagetex.sty`.\n* The review of Sage describes a spectacularly unpleasant experience getting SageTeX to work. Some of his problems, I am sure, were related to the errant `sagetex.sty` that was included in TeXLive 2009 and which caused much misery. But it seems like he spent a long time trying to define systemwide environment variables. Yikes. So I demoted the `TEXINPUTS` bit in the installation guide.\n* I included some info on symlinking, which is actually the very best way to let TeX find the `.sty` file.\n* I updated the location of the source code, which is now in `...texmf/tex/latex/sagetex` instead of `...texmf/tex/generic/sagetex`.\n* Some other cruft was deleted.\n----\nNew commits:",
    "created_at": "2015-08-27T02:32:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177428",
    "user": "ddrake"
}
```

I've updated `doc/en/tutorial/sagetex.rst`. In particular:

* I put the installation instructions above the example, since the example is useless until TeX can find `sagetex.sty`.
* The review of Sage describes a spectacularly unpleasant experience getting SageTeX to work. Some of his problems, I am sure, were related to the errant `sagetex.sty` that was included in TeXLive 2009 and which caused much misery. But it seems like he spent a long time trying to define systemwide environment variables. Yikes. So I demoted the `TEXINPUTS` bit in the installation guide.
* I included some info on symlinking, which is actually the very best way to let TeX find the `.sty` file.
* I updated the location of the source code, which is now in `...texmf/tex/latex/sagetex` instead of `...texmf/tex/generic/sagetex`.
* Some other cruft was deleted.
----
New commits:



---

archive/issue_comments_177429.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-08-27T04:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177429",
    "user": "ddrake"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_177430.json:
```json
{
    "body": "I like this overall but feel like \n\n```\n+      mkdir -p TEXMFHOME/tex/latex\n+      ln -s SAGE_ROOT/local/share/texmf/tex/latex/sagetex/sagetex.sty TEXMFHOME/tex/latex/sagetex.sty \n```\n\nonly works if people are always installing Sage in the same place every time, which might not be the case, especially if they are downloading binaries that are named after both the Sage version and the system (in the Mac app case, at the bottom of a long path via the app bundle).  What do you think a good way to deal with that is?  I don't want to have a crash course in filesystems, but this could be a (small) piece of the confusion.\n\nAlso, the \"spectacularly unpleasant experience\" is very similar to #18951, or at least to the email I got which precipitated my opening that ticket... I wonder if sometimes following even one step wrong causes the other steps to just \"not work\"?",
    "created_at": "2015-08-27T13:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177430",
    "user": "kcrisman"
}
```

I like this overall but feel like 

```
+      mkdir -p TEXMFHOME/tex/latex
+      ln -s SAGE_ROOT/local/share/texmf/tex/latex/sagetex/sagetex.sty TEXMFHOME/tex/latex/sagetex.sty 
```

only works if people are always installing Sage in the same place every time, which might not be the case, especially if they are downloading binaries that are named after both the Sage version and the system (in the Mac app case, at the bottom of a long path via the app bundle).  What do you think a good way to deal with that is?  I don't want to have a crash course in filesystems, but this could be a (small) piece of the confusion.

Also, the "spectacularly unpleasant experience" is very similar to #18951, or at least to the email I got which precipitated my opening that ticket... I wonder if sometimes following even one step wrong causes the other steps to just "not work"?



---

archive/issue_comments_177431.json:
```json
{
    "body": "Replying to [comment:7 kcrisman]:\n> I like this overall but feel like \n> {{{\n> +      mkdir -p TEXMFHOME/tex/latex\n> +      ln -s SAGE_ROOT/local/share/texmf/tex/latex/sagetex/sagetex.sty TEXMFHOME/tex/latex/sagetex.sty \n> }}}\n> only works if people are always installing Sage in the same place every time,\n\nOur releases have version and system stuff in the name, so users will have to copy the TeX stuff over...or rename their download so the symlink works. They have to do something and I don't know a good way to automate it. I wanted to add the symlink idea because that's what the TeXShop people suggest now -- and it's what I do.\n\nAlso, how do people actually run Sage? Don't they need to rename the sage-x.y.z directory? In the SageTeX documentation we always assume that \"``sage``\" is in their path, so how are users accomplishing that?\n\nShould I just remove the symlink suggestion?\n\n> Also, the \"spectacularly unpleasant experience\" is very similar to #18951, or at least to the email I got which precipitated my opening that ticket... I wonder if sometimes following even one step wrong causes the other steps to just \"not work\"?\n\nFor a certain class of users, I'm sure it does. If you have a poor understanding of Unix-like filesystems, paths, etc, then I'm sure it's easy to take one misstep and find yourself hopelessly lost.",
    "created_at": "2015-08-27T15:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177431",
    "user": "ddrake"
}
```

Replying to [comment:7 kcrisman]:
> I like this overall but feel like 
> {{{
> +      mkdir -p TEXMFHOME/tex/latex
> +      ln -s SAGE_ROOT/local/share/texmf/tex/latex/sagetex/sagetex.sty TEXMFHOME/tex/latex/sagetex.sty 
> }}}
> only works if people are always installing Sage in the same place every time,

Our releases have version and system stuff in the name, so users will have to copy the TeX stuff over...or rename their download so the symlink works. They have to do something and I don't know a good way to automate it. I wanted to add the symlink idea because that's what the TeXShop people suggest now -- and it's what I do.

Also, how do people actually run Sage? Don't they need to rename the sage-x.y.z directory? In the SageTeX documentation we always assume that "``sage``" is in their path, so how are users accomplishing that?

Should I just remove the symlink suggestion?

> Also, the "spectacularly unpleasant experience" is very similar to #18951, or at least to the email I got which precipitated my opening that ticket... I wonder if sometimes following even one step wrong causes the other steps to just "not work"?

For a certain class of users, I'm sure it does. If you have a poor understanding of Unix-like filesystems, paths, etc, then I'm sure it's easy to take one misstep and find yourself hopelessly lost.



---

archive/issue_comments_177432.json:
```json
{
    "body": "> Our releases have version and system stuff in the name, so users will have to copy the TeX stuff over...or rename their download so the symlink works. They have to do something and I don't know a good way to automate it. I wanted to add the symlink idea because that's what the TeXShop people suggest now -- and it's what I do.\n> \n> Also, how do people actually run Sage? Don't they need to rename the sage-x.y.z directory? In the SageTeX documentation we always assume that \"``sage``\" is in their path, so how are users accomplishing that?\n> \n> Should I just remove the symlink suggestion?\n\nNO NO NO do not remove it!  My point is just that perhaps there needs to be a reminder \"there is this whole Unixy thing you need to do to make some of this work, and that includes having the `sage` in a specific spot as well as the folder itself with the same name each time.  (Because just having `sage` in your path isn't the same as keeping it the same all the time; I have to manually redo the symlink for my Sage install when I upgrade my \"main\" Sage (as opposed to my development copy).",
    "created_at": "2015-08-27T17:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177432",
    "user": "kcrisman"
}
```

> Our releases have version and system stuff in the name, so users will have to copy the TeX stuff over...or rename their download so the symlink works. They have to do something and I don't know a good way to automate it. I wanted to add the symlink idea because that's what the TeXShop people suggest now -- and it's what I do.
> 
> Also, how do people actually run Sage? Don't they need to rename the sage-x.y.z directory? In the SageTeX documentation we always assume that "``sage``" is in their path, so how are users accomplishing that?
> 
> Should I just remove the symlink suggestion?

NO NO NO do not remove it!  My point is just that perhaps there needs to be a reminder "there is this whole Unixy thing you need to do to make some of this work, and that includes having the `sage` in a specific spot as well as the folder itself with the same name each time.  (Because just having `sage` in your path isn't the same as keeping it the same all the time; I have to manually redo the symlink for my Sage install when I upgrade my "main" Sage (as opposed to my development copy).



---

archive/issue_comments_177433.json:
```json
{
    "body": "Unfortunately, sage-6.9.beta7 still ships a version of sagetex which puts its files into `tex/generic`, cf. #15900. So the note on \"older versions of SageTeX\" is not quite correct.\nOTOH, this point will be moot once SageTeX 3.0 is merged (#19072).",
    "created_at": "2015-09-25T08:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177433",
    "user": "cheuberg"
}
```

Unfortunately, sage-6.9.beta7 still ships a version of sagetex which puts its files into `tex/generic`, cf. #15900. So the note on "older versions of SageTeX" is not quite correct.
OTOH, this point will be moot once SageTeX 3.0 is merged (#19072).



---

archive/issue_comments_177434.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2017-03-02T18:26:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177434",
    "user": "kcrisman"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_177435.json:
```json
{
    "body": "What is the status here?  Is it in fact obsolete?  Also, see #22499 which might make dealing with this kind of thing easier.",
    "created_at": "2017-03-02T18:26:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177435",
    "user": "kcrisman"
}
```

What is the status here?  Is it in fact obsolete?  Also, see #22499 which might make dealing with this kind of thing easier.



---

archive/issue_comments_177436.json:
```json
{
    "body": "Apparently Sage still at least in some places refers to SageTeX being on bitbucket, so that should be fixed too.  Any file of the form `src/doc/**/tutorial/sagetex.rst` needs to be changed.",
    "created_at": "2017-06-07T12:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177436",
    "user": "kcrisman"
}
```

Apparently Sage still at least in some places refers to SageTeX being on bitbucket, so that should be fixed too.  Any file of the form `src/doc/**/tutorial/sagetex.rst` needs to be changed.



---

archive/issue_comments_177437.json:
```json
{
    "body": "Given the move to sagemath/sagetex on GH, this ticket should now be only about retrieving any part of ddrake's branch that is not already in the user guide and still relevant.  We've already improved the user guide incrementally over the years.",
    "created_at": "2017-11-30T18:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177437",
    "user": "kcrisman"
}
```

Given the move to sagemath/sagetex on GH, this ticket should now be only about retrieving any part of ddrake's branch that is not already in the user guide and still relevant.  We've already improved the user guide incrementally over the years.



---

archive/issue_comments_177438.json:
```json
{
    "body": "I think this can now be closed, as there have been enough changes that it would be very hard to figure out what should be done on this ticket (and you can't click on the branch in any case).  I do encourage others (including myself) to open a new ticket with any specific new suggestions for improving the install guide!",
    "created_at": "2019-01-07T21:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177438",
    "user": "kcrisman"
}
```

I think this can now be closed, as there have been enough changes that it would be very hard to figure out what should be done on this ticket (and you can't click on the branch in any case).  I do encourage others (including myself) to open a new ticket with any specific new suggestions for improving the install guide!



---

archive/issue_comments_177439.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2019-01-07T21:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177439",
    "user": "kcrisman"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_177440.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-10T06:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177440",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_177441.json:
```json
{
    "body": "Presuming these are all correctly reviewed as either duplicate, invalid, or wontfix.",
    "created_at": "2019-02-26T13:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177441",
    "user": "embray"
}
```

Presuming these are all correctly reviewed as either duplicate, invalid, or wontfix.



---

archive/issue_comments_177442.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2019-02-26T13:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14139",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14139#issuecomment-177442",
    "user": "embray"
}
```

Resolution: invalid
