# Issue 27213: some refactoring in plot3d

Issue created by migration from https://trac.sagemath.org/ticket/27450

Original creator: chapoton

Original creation time: 2019-03-09 20:53:19

CC:  tscrim

just small changes, no major revamp

One could be smarter when plotting these things, but not now.


---

Comment by chapoton created at 2019-03-09 21:05:12

Changing status from new to needs_review.


---

Comment by chapoton created at 2019-03-09 21:05:12

New commits:


---

Comment by chapoton created at 2019-03-10 06:54:37

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-03-10 08:39:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-03-10 08:47:25

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2019-03-11 09:50:03

Changing status from needs_review to needs_work.


---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by git created at 2019-04-05 15:50:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-04-05 15:51:12

Changing status from needs_work to needs_review.


---

Comment by embray created at 2019-04-05 16:14:29

Why does this remove


```diff
-def len3d(v):
-    """
-    Return the norm of a vector in three dimensions.
-
-    EXAMPLES::
-
-        sage: from sage.plot.plot3d.index_face_set import len3d
-        sage: len3d((1,2,3))
-        3.7416573867739413
-    """
-    return sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2])
-
-
```


Even if it isn't used anywhere, and probably doesn't belong there (which I agree), it's still a documented, public function, and has to go through a deprecation process.  An unfortunate fact of overdocumenting and underuse of private underscored functions.


---

Comment by git created at 2019-04-05 18:27:09

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2019-04-05 18:27:31

ok, deprecation done as required, thx


---

Comment by git created at 2019-04-05 18:36:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-04-06 06:47:35

still one failing doctest, see bots


---

Comment by chapoton created at 2019-04-06 06:47:35

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-04-06 16:30:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-04-06 16:30:43

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2019-04-07 16:12:51

green bot, please review


---

Comment by embray created at 2019-04-08 15:55:53

Replying to [comment:14 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> ||[a703dce](https://git.sagemath.org/sage.git/commit/?id=a703dcea09bb7a5993e74c7cf79b49ddb5cd13a1)||`fix doctest in plot3d`||

Do we know why this test result changed and if that change is expected/acceptable?


---

Comment by chapoton created at 2019-04-08 18:07:04

hmm, in fact, it probably did not change. It seems to have changed during some intermediate state of the code. I then put it back, but not perfectly..


---

Comment by chapoton created at 2019-04-12 09:57:21

Erik ? do you want me to make it more clear that the doctest was unchanged ?


---

Comment by chapoton created at 2019-04-15 17:31:49

green bot, please review


---

Comment by tscrim created at 2019-04-16 01:20:13

Only comment from me is `if not(foo and bar):` -> `if not (foo and bar):`.


---

Comment by git created at 2019-04-16 06:18:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by embray created at 2019-04-16 15:57:15

Replying to [comment:18 chapoton]:
> hmm, in fact, it probably did not change. It seems to have changed during some intermediate state of the code. I then put it back, but not perfectly..

I still don't understand.  Did the output change or not?  It should be easy enough to confirm; and if so then the question is "why?"


---

Comment by git created at 2019-04-16 16:34:31

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2019-04-16 16:36:03

I have squashed my commits.

The answer is "no change".


---

Comment by chapoton created at 2019-04-16 18:25:36

and the bot is green again


---

Comment by tscrim created at 2019-04-23 05:32:49

LGTM.


---

Comment by tscrim created at 2019-04-23 05:32:49

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-04-27 17:44:24

Resolution: fixed
