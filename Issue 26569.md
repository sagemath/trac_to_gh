# Issue 26569: Memory leak _is_relaxation()

Issue created by migration from Trac.

Original creator: jmantysalo

Original creation time: 2018-12-03 19:49:05

`src/sage/matroids/basis_matroid.pyx` has `_is_relaxation()` with `bitset_init` for `bb_comp` and `b2`, but no corresponding `bitset_free`. Try this:


```
from sage.matroids.advanced import *
import gc

i = 0
while True:
    if i%1000==0: print get_memory_usage()
    i += 1
    M = BasisMatroid(matroids.named_matroids.NonFano())
    N = BasisMatroid(matroids.named_matroids.Fano())
    m = {e:e for e in M.groundset()}
    M._is_relaxation(N, m)
    N._is_relaxation(M, m)
```



---

Comment by dimpase created at 2018-12-04 09:45:10

this was easy


---

Comment by jmantysalo created at 2018-12-04 09:54:13

Thanks. Please fill author name and put to needs_review.

If this was too easy, see `psi(0.5)` at #19363...


---

Comment by dimpase created at 2018-12-04 10:25:17

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2018-12-04 10:31:06

Changing status from needs_review to positive_review.


---

Comment by jmantysalo created at 2018-12-04 10:31:06

Thanks.


---

Comment by vbraun created at 2018-12-07 12:10:23

Resolution: fixed
