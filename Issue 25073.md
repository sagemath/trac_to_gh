# Issue 25073: Code cleanup in sage/modular

Issue created by migration from https://trac.sagemath.org/ticket/25310

Original creator: davidloeffler

Original creation time: 2018-05-08 15:34:23

Keywords: pyflakes

There's been some discussion about using pyflakes to catch coding errors in the Sage library. I tried it out on `sage/modular`. It caught the following issues:
- lots of unnecessary imports;
- lots of variables assigned but never used;
- a few code snippets which couldn't possibly have worked, as the variables weren't defined (but which was apparently never spotted or tested).

Here's a branch which fixes these.


---

Comment by davidloeffler created at 2018-05-08 15:40:44

Changing status from new to needs_review.


---

Comment by davidloeffler created at 2018-05-08 15:40:44

New commits:


---

Comment by dimpase created at 2018-05-09 13:09:32

how is it possible to merely delete `character()`, without deprecating etc?


---

Comment by davidloeffler created at 2018-05-09 13:33:32

Replying to [comment:3 dimpase]:
> how is it possible to merely delete `character()`, without deprecating etc?

There were two definitions of the method "character" in that class (with identical code, but slightly different doctests), one overwriting the other. So I removed the duplicate and merged its docstring with the other. No functionality was changed.


---

Comment by davidloeffler created at 2018-05-09 13:36:36

(The same applies to `class _default_adjuster(...)` in `pollack_stevens/sigma0.py` -- there were two identical copies of a whole class!)


---

Comment by cremona created at 2018-05-10 11:40:09

Yes, I noticed these duplicates.  I like the fact that doctests have been added for cases which used to crash and now do not (as I tested).
I looked at all the changes and verified that they merge cleanly into 8.3.beta0.  After a bit more testing I'll enter a verdict.


---

Comment by cremona created at 2018-05-10 13:33:37

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-05-15 22:33:28

Resolution: fixed
