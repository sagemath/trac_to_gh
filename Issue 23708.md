# Issue 23708: Add test for Weil polynomials

archive/issues_023708.json:
```json
{
    "body": "Keywords: Weil polynomial, sd91\n\nWe are adding a function that tests whether a given polynomial is a Weil polynomial for a given prime power q, i.e., whether its complex roots all have absolute value `sqrt(q)`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23945\n\n",
    "created_at": "2017-09-30T17:19:23Z",
    "labels": [
        "component: number theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Add test for Weil polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23708",
    "user": "https://github.com/kedlaya"
}
```
Keywords: Weil polynomial, sd91

We are adding a function that tests whether a given polynomial is a Weil polynomial for a given prime power q, i.e., whether its complex roots all have absolute value `sqrt(q)`.

Issue created by migration from https://trac.sagemath.org/ticket/23945





---

archive/issue_comments_331697.json:
```json
{
    "body": "One easy way to do this would be to combine the \"inverse reciprocal transform\" from #23947 with the existing `all_roots_in_interval` method of polynomials (which wraps Pari's implementation of Sturm sequences).",
    "created_at": "2017-09-30T23:37:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331697",
    "user": "https://github.com/kedlaya"
}
```

One easy way to do this would be to combine the "inverse reciprocal transform" from #23947 with the existing `all_roots_in_interval` method of polynomials (which wraps Pari's implementation of Sturm sequences).



---

archive/issue_comments_331698.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-01T22:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331698",
    "user": "https://trac.sagemath.org/admin/accounts/users/dzb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_331699.json:
```json
{
    "body": "Implemented `is_weil_polynomial`\n----\nNew commits:",
    "created_at": "2017-10-01T22:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331699",
    "user": "https://trac.sagemath.org/admin/accounts/users/dzb"
}
```

Implemented `is_weil_polynomial`
----
New commits:



---

archive/issue_comments_331700.json:
```json
{
    "body": "Made changes; if Kiran is happy then we can give this a positive review.\n----\nNew commits:",
    "created_at": "2017-10-01T23:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331700",
    "user": "https://github.com/roed314"
}
```

Made changes; if Kiran is happy then we can give this a positive review.
----
New commits:



---

archive/issue_comments_331701.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-02T00:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331701",
    "user": "https://github.com/kedlaya"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_331702.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2017-10-02T00:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331702",
    "user": "https://github.com/kedlaya"
}
```

Looks good to me.



---

archive/issue_comments_331703.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-02T03:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331703",
    "user": "https://github.com/kedlaya"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_331704.json:
```json
{
    "body": "Sorry, backing out the positive review due to some failing doctests. More soon.",
    "created_at": "2017-10-02T03:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331704",
    "user": "https://github.com/kedlaya"
}
```

Sorry, backing out the positive review due to some failing doctests. More soon.



---

archive/issue_comments_331705.json:
```json
{
    "body": "I fixed the issue with the doctests. Also, I don't like redefining `self` within a method definition.\n\nAll tests now pass on k8s. Since I touched the code last, someone other than me should check my work and then set a positive review.\n----\nNew commits:",
    "created_at": "2017-10-02T03:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331705",
    "user": "https://github.com/kedlaya"
}
```

I fixed the issue with the doctests. Also, I don't like redefining `self` within a method definition.

All tests now pass on k8s. Since I touched the code last, someone other than me should check my work and then set a positive review.
----
New commits:



---

archive/issue_comments_331706.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-02T03:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331706",
    "user": "https://github.com/kedlaya"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_331707.json:
```json
{
    "body": "Looks good to me.  Positive review once tests pass.",
    "created_at": "2017-10-02T03:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331707",
    "user": "https://github.com/roed314"
}
```

Looks good to me.  Positive review once tests pass.



---

archive/issue_comments_331708.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-02T17:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331708",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_331709.json:
```json
{
    "body": "David Zureick-Brown isn't a trusted author, so patchbot won't run.  I ran tests on k8s with no failures.  Positive review.",
    "created_at": "2017-10-02T17:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331709",
    "user": "https://github.com/roed314"
}
```

David Zureick-Brown isn't a trusted author, so patchbot won't run.  I ran tests on k8s with no failures.  Positive review.



---

archive/issue_comments_331710.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-07T21:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331710",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_331711.json:
```json
{
    "body": "\n```\n[dochtml] OSError: [polynomia] docstring of sage.rings.polynomial.polynomial_element.Polynomial.is_weil_polynomial:10: WARNING: Bullet list ends without a blank line; unexpected unindent.\n```\n",
    "created_at": "2017-10-07T21:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331711",
    "user": "https://github.com/vbraun"
}
```


```
[dochtml] OSError: [polynomia] docstring of sage.rings.polynomial.polynomial_element.Polynomial.is_weil_polynomial:10: WARNING: Bullet list ends without a blank line; unexpected unindent.
```




---

archive/issue_comments_331712.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-08T03:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331712",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_331713.json:
```json
{
    "body": "Looks like there was some dodgy formatting in the docstring. Let's see if I managed to fix it.",
    "created_at": "2017-10-08T03:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331713",
    "user": "https://github.com/kedlaya"
}
```

Looks like there was some dodgy formatting in the docstring. Let's see if I managed to fix it.



---

archive/issue_comments_331714.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-08T03:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331714",
    "user": "https://github.com/kedlaya"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_331715.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-09T00:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331715",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_331716.json:
```json
{
    "body": "Seems fine, though I think it's better if True has double backticks around it.",
    "created_at": "2017-10-09T00:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331716",
    "user": "https://github.com/roed314"
}
```

Seems fine, though I think it's better if True has double backticks around it.



---

archive/issue_comments_331717.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2017-10-09T00:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331717",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_331718.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2017-10-09T00:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331718",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_331719.json:
```json
{
    "body": "I added the double backticks around True in the second line. In the one-sentence summary, I think the convention is not to use them.",
    "created_at": "2017-10-09T00:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331719",
    "user": "https://github.com/kedlaya"
}
```

I added the double backticks around True in the second line. In the one-sentence summary, I think the convention is not to use them.



---

archive/issue_comments_331720.json:
```json
{
    "body": "Good enough, though I think the convention would be `Return whether this is a Weil polynomial` rather than `Return True if this is a Weil polynomial`.",
    "created_at": "2017-10-10T00:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331720",
    "user": "https://github.com/roed314"
}
```

Good enough, though I think the convention would be `Return whether this is a Weil polynomial` rather than `Return True if this is a Weil polynomial`.



---

archive/issue_comments_331721.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-10T00:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331721",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_331722.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-22T05:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23708#issuecomment-331722",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
