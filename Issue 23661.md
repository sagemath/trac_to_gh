# Issue 23661: gcc vs. Xcode 9.0

Issue created by migration from https://trac.sagemath.org/ticket/23898

Original creator: jhpalmieri

Original creation time: 2017-09-19 23:56:00

CC:  fbissey

Sage's gcc does not build with Xcode 9.0 (released 19 Sept 2017?). See [the log file](https://sites.math.washington.edu/~palmieri/Sage/gcc-5.4.0.log).


---

Comment by jhpalmieri created at 2017-10-03 21:44:50

I just upgraded Sage's gcc to 6.4.0 and it built successfully with Xcode 9.0. Is there a reason not to upgrade to this version? Or to 7.2.0 (which I haven't tried yet)?


---

Comment by jhpalmieri created at 2017-10-04 04:55:27

I did `make ptestlong` with gcc 6.4.0 and all tests passed. I did not have to make any changes to eclib (see #23922 â€“ that problem must be specific to clang).


---

Comment by jhpalmieri created at 2017-10-04 17:04:26

Same with gcc 7.2.0.


---

Comment by jhpalmieri created at 2017-10-05 00:31:06

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2017-10-05 00:31:06

Okay, let's upgrade GCC to version 7.2.0.
----
New commits:


---

Comment by jhpalmieri created at 2017-10-05 00:32:07

I have only tested this on OS X with Xcode 8 and Xcode 9. It needs testing on many other platforms.


---

Comment by jdemeyer created at 2017-10-05 12:01:13

I might test this on various platforms, but not very soon.


---

Comment by dimpase created at 2017-10-05 18:35:41

Checking on Linux Fedora 26 now.


---

Comment by slelievre created at 2017-10-05 22:59:22

Making the ticket summary more explicit.


---

Comment by rws created at 2017-10-06 06:25:53

Is this known? I have `SAGE_INSTALL_GCC=yes`, check out develop, check out this branch, then `make start` will NOT build gcc.


---

Comment by aschilling created at 2017-10-06 06:30:57

How did you get this to work? With this branch and downloading gcc-7.2.0.tar.gz, I still get an error when installing sage:

```
[ntl-10.3.0] libtool: install: cp -p .libs/libntl.33.dylib /Applications/sage/local/lib/libntl.33.dylib
[ntl-10.3.0] libtool: install: (cd /Applications/sage/local/lib && { ln -s -f libntl.33.dylib libntl.dylib || { rm -f libntl.dylib && ln -s libntl.33.dylib libntl.dylib; }; })
[ntl-10.3.0] libtool: install: cp -p .libs/libntl.lai /Applications/sage/local/lib/libntl.la
[ntl-10.3.0] libtool: install: cp -p .libs/libntl.a /Applications/sage/local/lib/libntl.a
[ntl-10.3.0] libtool: install: chmod 644 /Applications/sage/local/lib/libntl.a
[ntl-10.3.0] libtool: install: ranlib /Applications/sage/local/lib/libntl.a
[ntl-10.3.0] 
[ntl-10.3.0] real	4m38.570s
[ntl-10.3.0] user	7m31.224s
[ntl-10.3.0] sys	0m15.756s
[ntl-10.3.0] Successfully installed ntl-10.3.0
[ntl-10.3.0] Deleting temporary build directory
[ntl-10.3.0] /Applications/sage/local/var/tmp/sage/build/ntl-10.3.0
[ntl-10.3.0] Finished installing ntl-10.3.0.spkg
make[1]: *** [all] Error 2

real	4m39.614s
user	8m55.690s
sys	0m42.746s
***************************************************************
Error building Sage.

The following package(s) may have failed to build (not necessarily
during this run of 'make all'):

* package: gcc-7.2.0
  log file: /Applications/sage/logs/pkgs/gcc-7.2.0.log
  build directory: /Applications/sage/local/var/tmp/sage/build/gcc-7.2.0

* package: givaro-4.0.2.p0
  log file: /Applications/sage/logs/pkgs/givaro-4.0.2.p0.log
  build directory: /Applications/sage/local/var/tmp/sage/build/givaro-4.0.2.p0

The build directory may contain configuration files and other potentially
helpful information. WARNING: if you now run 'make' again, the build
directory will, by default, be deleted. Set the environment variable
SAGE_KEEP_BUILT_SPKGS to 'yes' to prevent this.

make: *** [all] Error 1
```



---

Comment by fbissey created at 2017-10-06 06:33:58

Replying to [comment:14 aschilling]:
> How did you get this to work? With this branch and downloading gcc-7.2.0.tar.gz, I still get an error when installing sage:

More info from `/Applications/sage/logs/pkgs/gcc-7.2.0.log` please.


---

Comment by aschilling created at 2017-10-06 06:35:26

Replying to [comment:15 fbissey]:
> Replying to [comment:14 aschilling]:
> > How did you get this to work? With this branch and downloading gcc-7.2.0.tar.gz, I still get an error when installing sage:
> 
> More info from `/Applications/sage/logs/pkgs/gcc-7.2.0.log` please.

Where in the tree should I put gcc-7.2.0.tar.gz?


---

Comment by fbissey created at 2017-10-06 06:36:24

in `upstream/`.


---

Comment by aschilling created at 2017-10-06 06:48:24

Replying to [comment:17 fbissey]:
> in `upstream/`.

That is where I put it. But somehow it tries to download it from mirrors

```
Found local metadata for gcc-7.2.0
Attempting to download package gcc-7.2.0.tar.gz from mirrors
http://mirrors.xmission.com/sage/spkg/upstream/gcc/gcc-7.2.0.tar.gz
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.xmission.com/sage/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
http://mirrors-usa.go-parts.com/sage/sagemath/spkg/upstream/gcc/gcc-7.2.0.tar.gz
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors-usa.go-parts.com/sage/sagemath/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
http://files.sagemath.org/spkg/upstream/gcc/gcc-7.2.0.tar.gz
....
ERROR [transfer|run:135]: [Errno 404] Not Found: '//sagepad.org/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
Traceback (most recent call last):
  File "/Applications/sage/build/bin/sage-download-file", line 28, in <module>
    run_safe()
  File "/Applications/sage/build/bin/../sage_bootstrap/download/cmdline.py", line 118, in run_safe
    run()
  File "/Applications/sage/build/bin/../sage_bootstrap/download/cmdline.py", line 100, in run
    app.download_tarball(args.url_or_tarball, args.destination)
  File "/Applications/sage/build/bin/../sage_bootstrap/download/app.py", line 43, in download_tarball
    tarball.download()
  File "/Applications/sage/build/bin/../sage_bootstrap/tarball.py", line 161, in download
    raise FileNotMirroredError('tarball does not exist on mirror network')
sage_bootstrap.tarball.FileNotMirroredError: tarball does not exist on mirror network
************************************************************************
Error downloading gcc-7.2.0.tar.gz
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the log file
  /Applications/sage/logs/pkgs/gcc-7.2.0.log
Describe your computer, operating system, etc.
************************************************************************
Found local metadata for gcc-7.2.0
Attempting to download package gcc-7.2.0.tar.gz from mirrors
http://mirrors.xmission.com/sage/spkg/upstream/gcc/gcc-7.2.0.tar.gz
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.xmission.com/sage/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
http://mirrors-usa.go-parts.com/sage/sagemath/spkg/upstream/gcc/gcc-7.2.0.tar.gz
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors-usa.go-parts.com/sage/sagemath/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
http://files.sagemath.org/spkg/upstream/gcc/gcc-7.2.0.tar.gz
...
ERROR [transfer|run:135]: [Errno 404] Not Found: '//sagepad.org/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
Traceback (most recent call last):
  File "/Applications/sage/build/bin/sage-download-file", line 28, in <module>
    run_safe()
  File "/Applications/sage/build/bin/../sage_bootstrap/download/cmdline.py", line 118, in run_safe
    run()
  File "/Applications/sage/build/bin/../sage_bootstrap/download/cmdline.py", line 100, in run
    app.download_tarball(args.url_or_tarball, args.destination)
  File "/Applications/sage/build/bin/../sage_bootstrap/download/app.py", line 43, in download_tarball
    tarball.download()
  File "/Applications/sage/build/bin/../sage_bootstrap/tarball.py", line 161, in download
    raise FileNotMirroredError('tarball does not exist on mirror network')
sage_bootstrap.tarball.FileNotMirroredError: tarball does not exist on mirror network
************************************************************************
Error downloading gcc-7.2.0.tar.gz
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the log file
  /Applications/sage/logs/pkgs/gcc-7.2.0.log
Describe your computer, operating system, etc.
************************************************************************
Found local metadata for gcc-7.2.0
Attempting to download package gcc-7.2.0.tar.gz from mirrors
http://mirrors.xmission.com/sage/spkg/upstream/gcc/gcc-7.2.0.tar.gz
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors.xmission.com/sage/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
http://mirrors-usa.go-parts.com/sage/sagemath/spkg/upstream/gcc/gcc-7.2.0.tar.gz
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
ERROR [transfer|run:135]: [Errno 404] Not Found: '//mirrors-usa.go-parts.com/sage/sagemath/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
http://files.sagemath.org/spkg/upstream/gcc/gcc-7.2.0.tar.gz
...
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
ERROR [transfer|run:135]: [Errno 404] Not Found: '//sagepad.org/spkg/upstream/gcc/gcc-7.2.0.tar.gz'
Traceback (most recent call last):
  File "/Applications/sage/build/bin/sage-download-file", line 28, in <module>
    run_safe()
  File "/Applications/sage/build/bin/../sage_bootstrap/download/cmdline.py", line 118, in run_safe
    run()
  File "/Applications/sage/build/bin/../sage_bootstrap/download/cmdline.py", line 100, in run
    app.download_tarball(args.url_or_tarball, args.destination)
  File "/Applications/sage/build/bin/../sage_bootstrap/download/app.py", line 43, in download_tarball
    tarball.download()
  File "/Applications/sage/build/bin/../sage_bootstrap/tarball.py", line 161, in download
    raise FileNotMirroredError('tarball does not exist on mirror network')
sage_bootstrap.tarball.FileNotMirroredError: tarball does not exist on mirror network
************************************************************************
Error downloading gcc-7.2.0.tar.gz
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the log file
  /Applications/sage/logs/pkgs/gcc-7.2.0.log
Describe your computer, operating system, etc.
************************************************************************

```



---

Comment by dimpase created at 2017-10-06 06:49:13

Works well on Fedora 26, all tests pass. I did the following:
 
  * get the tarfile in upstream/
  * get the branch via git
  * $ make distclean
  * $ SAGE_INSTALL_GCC=yes ./configure
  * $ SAGE_INSTALL_GCC=yes make ptestlong


---

Comment by fbissey created at 2017-10-06 06:52:08

Not all gcc mirror seem to carry the same tarball. When I did experiments last week, one mirror was carrying a >100MB tarball (with several other stuff included like go) compared to the one on the main mirror. So get the one linked here rather than the one on a closer mirror. Someone messed up big time upstream.


---

Comment by rws created at 2017-10-06 06:53:58

For Europeans the fu-berlin tarball seems fine.


---

Comment by dimpase created at 2017-10-06 06:54:21

Replying to [comment:18 aschilling]:
> Replying to [comment:17 fbissey]:
> > in `upstream/`.
> 
> That is where I put it. But somehow it tries to download it from mirrors

This might indicate that the tarball you got didn't match - then it is silently deleted and an attempt to download one is made.

The tarball linked is huge, in fact, over 100Mb.


---

Comment by fbissey created at 2017-10-06 06:56:42

Checking my numbers. The tarball I got is 107MB, the one I first downloaded was actually several hundreds MB.


---

Comment by dimpase created at 2017-10-06 06:59:24

Replying to [comment:22 dimpase]:
> Replying to [comment:18 aschilling]:
> > Replying to [comment:17 fbissey]:
> > > in `upstream/`.
> > 
> > That is where I put it. But somehow it tries to download it from mirrors
> 
> This might indicate that the tarball you got didn't match - then it is silently deleted and an attempt to download one is made.

I have opened #23972 to rectify the silent tarball deletion.


---

Comment by jhpalmieri created at 2017-10-06 14:40:55

Note that we can use a smaller tarball (maybe 60MB?) if we use a `.xz` file instead. No other Sage packages use `.xz` files, so I was reluctant to try here.


---

Comment by jdemeyer created at 2017-10-06 15:46:47

Sage comes with an `xz` standard package. So this would just be a matter of adding `.xz` support to the Sage build system. I think it would be good anyway to do that, but please create a new ticket for that.


---

Comment by aschilling created at 2017-10-06 16:32:22

Thanks for your comments! I downloaded gcc-7.2.0.tar.gz again and followed Dima's instructions. Now Sage compiles!


---

Comment by jhpalmieri created at 2017-10-06 18:27:44

Replying to [comment:26 jdemeyer]:
> Sage comes with an `xz` standard package. So this would just be a matter of adding `.xz` support to the Sage build system. I think it would be good anyway to do that, but please create a new ticket for that.

Since we rely on the system's pre-existing Python for package decompression and since `lzma` support is only available in Python 3, this won't be as simple as what we currently do for tar files. In particular, `tarfile.is_tarfile('gcc-7.2.0.tar.xz')` returns `True` in Python 3 but `False` in Python 2.


---

Comment by rws created at 2017-10-06 19:01:20

Replying to [comment:26 jdemeyer]:
> Sage comes with an `xz` standard package. So this would just be a matter of adding `.xz` support to the Sage build system. I think it would be good anyway to do that, but please create a new ticket for that.

See #18236.


---

Comment by jdemeyer created at 2017-10-07 08:03:42

Replying to [comment:28 jhpalmieri]:
> Since we rely on the system's pre-existing Python for package decompression and since `lzma` support is only available in Python 3, this won't be as simple as what we currently do for tar files. In particular, `tarfile.is_tarfile('gcc-7.2.0.tar.xz')` returns `True` in Python 3 but `False` in Python 2.

Right. I forgot that we use Python these days to uncompress tarballs. For a long time, this was done by a shell script. Still, it doesn't mean that it won't work with Python, we can manually call the `xz` program.


---

Comment by fbissey created at 2017-10-07 09:41:35

It appears there is a "backport": https://pypi.python.org/pypi/backports.lzma/


---

Comment by jdemeyer created at 2017-10-07 10:26:17

Replying to [comment:31 fbissey]:
> It appears there is a "backport": https://pypi.python.org/pypi/backports.lzma/

That is not relevant for Sage because we use the _system_ Python to uncompress tarballs.


---

Comment by jdemeyer created at 2017-10-07 10:26:59

Anyway, the discussion about `.xz` tarballs should be continued on #18236.


---

Comment by rws created at 2017-10-07 13:18:17

install.log


---

Attachment

On OpenSuSE 42.2 lcalc does not build, see above for log.


---

Comment by rws created at 2017-10-07 13:24:09

See https://sourceware.org/bugzilla/show_bug.cgi?id=19590


---

Comment by rws created at 2017-10-07 13:45:09

Indeed both the OpenSuSE gcc-5.3.1 and the installed gcc-7.2.0 fail the test case given in that link, the system glibc is 2.22-4.9.1 which is older than the glibc in the above bug report.


---

Comment by rws created at 2017-10-07 13:47:41

The test case passes if I remove `-ffast-math` from the compile options. How do I remove it when compiling lcalc?


---

Comment by rws created at 2017-10-07 14:18:06

Changing status from needs_review to needs_work.


---

Comment by rws created at 2017-10-07 14:18:06

In our lcalc-1.23 the line `lcalc-1.23/src/Makefile:MACHINE_SPECIFIC_FLAGS = -ffast-math -fPIC` is no longer in the newer version at https://github.com/dimpase/lcalc which is enhanced from the last official version at https://code.google.com/archive/p/l-calc/, see #23341#comment:35

So, in order to enable building on systems with glibc < 2.23 at least the lcalc Makefile should be patched. Even better would be the upgrade to the version at https://github.com/dimpase/lcalc. I propose to hijack #23341 for this and make it a dependency of this ticket.


---

Comment by rws created at 2017-10-07 14:57:59

If you don't want the dependency, the patch that makes lcalc compile and install here:

```
--- a/src/Makefile.old	2017-10-07 16:51:18.112467539 +0200
+++ a/src/Makefile	2017-10-07 16:51:51.901214940 +0200
@@ -41,7 +41,7 @@
 
 
 #MACHINE_SPECIFIC_FLAGS = -Wno-long-double
-MACHINE_SPECIFIC_FLAGS = -ffast-math -fPIC
+MACHINE_SPECIFIC_FLAGS = -fPIC
 
 #G4 = FALSE
 #ifeq ($(G4),TRUE)
```



---

Comment by jdemeyer created at 2017-10-07 15:01:27

Replying to [comment:36 rws]:
> Indeed both the OpenSuSE gcc-5.3.1 and the installed gcc-7.2.0 fail the test case given in that link, the system glibc is 2.22-4.9.1 which is older than the glibc in the above bug report.

So it seems that the lcalc issue has nothing to do with this ticket.


---

Comment by rws created at 2017-10-07 15:19:14

Replying to [comment:40 jdemeyer]:
> Replying to [comment:36 rws]:
> > Indeed both the OpenSuSE gcc-5.3.1 and the installed gcc-7.2.0 fail the test case given in that link, the system glibc is 2.22-4.9.1 which is older than the glibc in the above bug report.
> 
> So it seems that the lcalc issue has nothing to do with this ticket.

There is the possibility the OpenSuSE gcc-5.3.1 has something our gcc-5.4.0 does not have. I'm compiling 5.4.0 right now.


---

Comment by rws created at 2017-10-07 15:46:47

The test file (EDITED: and lcalc) compiles with 5.4.0. That's why I didn't notice the problem earlier: because of #21811 I had the Sage-internal gcc installed. So, it all is relevant for this ticket.


---

Comment by jhpalmieri created at 2017-10-07 23:05:10

Replying to [comment:30 jdemeyer]:
> Right. I forgot that we use Python these days to uncompress tarballs.

Does this mean that `bzip2` should just be a regular package, not part of the `base` Makefile target?


---

Comment by jdemeyer created at 2017-10-10 10:11:22

Replying to [comment:43 jhpalmieri]:
> Does this mean that `bzip2` should just be a regular package, not part of the `base` Makefile target?

See #24005


---

Comment by jdemeyer created at 2017-10-10 12:10:04

New commits:


---

Comment by jdemeyer created at 2017-10-11 09:53:57

This breaks the optional package `pysingular`:

```
[pysingular-0.9.1]     gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -DPYTHON_VERSION_OLDER_THREE_FIVE=1 -I/home/jdemeyer/sage/local/include/singular -I/home/jdemeyer/sage/local/include/python2.7 -c SingularModule.cpp -o build/temp.linux-x86_64-2.7/SingularModule.o
[pysingular-0.9.1]     SingularModule.cpp: In function 'PyObject* GetSingularCompletion(PyObject*, PyObject*)':
[pysingular-0.9.1]     SingularModule.cpp:140:47: error: ISO C++ forbids comparison between pointer and integer [-fpermissive]
[pysingular-0.9.1]          while( singular_complete_return[ pos ] != '\0' ){
[pysingular-0.9.1]                                                    ^~~~
[pysingular-0.9.1]     error: command 'gcc' failed with exit status 1
[pysingular-0.9.1]     Running setup.py install for PySingular: finished with status 'error'
```



---

Comment by dimpase created at 2017-10-11 10:18:03

Replying to [comment:48 jdemeyer]:
> This breaks the optional package `pysingular`:
> {{{
> [pysingular-0.9.1]     gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -DPYTHON_VERSION_OLDER_THREE_FIVE=1 -I/home/jdemeyer/sage/local/include/singular -I/home/jdemeyer/sage/local/include/python2.7 -c SingularModule.cpp -o build/temp.linux-x86_64-2.7/SingularModule.o
> [pysingular-0.9.1]     SingularModule.cpp: In function 'PyObject* GetSingularCompletion(PyObject*, PyObject*)':
> [pysingular-0.9.1]     SingularModule.cpp:140:47: error: ISO C++ forbids comparison between pointer and integer [-fpermissive]

That is, it's a bug there in pysingular.


---

Comment by jdemeyer created at 2017-10-11 10:19:07

Also gambit fails to build: https://github.com/gambitproject/gambit/issues/220


---

Comment by jdemeyer created at 2017-10-11 10:21:13

All other optional packages build.


---

Comment by jdemeyer created at 2017-10-11 11:35:42

...and all doctests pass.


---

Comment by jdemeyer created at 2017-10-13 08:43:40

So the only remaining issue now is that lcalc doesn't build with GCC-7.2.0 with old glibc versions...


---

Comment by jhpalmieri created at 2017-10-13 16:55:48

Replying to [comment:54 jdemeyer]:
> So the only remaining issue now is that lcalc doesn't build with GCC-7.2.0 with old glibc versions...

I don't really have any suggestions for how to deal with that. Patch the makefile as in comment:39?


---

Comment by dimpase created at 2017-10-19 08:16:47

Replying to [comment:54 jdemeyer]:
> So the only remaining issue now is that lcalc doesn't build with GCC-7.2.0 with old glibc versions...

did you try one of these lcalc patches mentioned in #23919 ?


---

Comment by jhpalmieri created at 2017-10-20 18:24:14

We need someone with an old glibc who can test out different patches. Would it be worth trying (on another ticket) upgrading to GCC 6.4.0? We need to get something into Sage so it will build with the most recent version of OS X and Xcode.


---

Comment by rws created at 2017-10-21 06:01:30

Replying to [comment:57 jhpalmieri]:
> We need someone with an old glibc who can test out different patches.

I upgraded recently and now have glibc-2.22-8.4.


---

Comment by jhpalmieri created at 2017-10-21 22:35:09

Replying to [comment:58 rws]:
> Replying to [comment:57 jhpalmieri]:
> > We need someone with an old glibc who can test out different patches.
> 
> I upgraded recently and now have glibc-2.22-8.4.

Does this now build for you?


---

Comment by rws created at 2017-10-24 13:20:05

Replying to [comment:59 jhpalmieri]:
> > I upgraded recently and now have glibc-2.22-8.4.
> 
> Does this now build for you?

This branch merged with 8.1.beta9 builds from distclean, after two failures to build brial (`pkg_resources.DistributionNotFound: The 'pip' distribution was not found`). Just restarting the make succeeded. This was after upgrading OpenSuSE from 42.2 to 42.3.

I'd suggest requiring the 42.3 upgrade as it is no pain and very easy to do.


---

Comment by jhpalmieri created at 2017-10-24 14:51:19

I'm upgrading this to a blocker because we need to upgrade gcc to build on the most recent OS X. I am happy with Jeroen's changes (to use `.xz` instead of `.gz`).


---

Comment by jhpalmieri created at 2017-10-24 14:51:42

Changing status from needs_work to needs_review.


---

Comment by jhpalmieri created at 2017-10-24 14:51:42

Changing priority from critical to blocker.


---

Comment by rws created at 2017-10-24 15:58:39

Changing status from needs_review to positive_review.


---

Comment by rws created at 2017-10-24 15:58:39

So, the patch is trivially looking good, and it's tested on Xcode 8/9, Linux Fedora 26, and OpenSuSE Leap 42.3.


---

Comment by vbraun created at 2017-10-29 10:32:30

Resolution: fixed
