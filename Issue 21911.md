# Issue 21911: Solving S-unit equations over number fields

Issue created by migration from https://trac.sagemath.org/ticket/22148

Original creator: malmskog

Original creation time: 2017-01-07 14:46:02

CC:  akoutsianas mwest

Keywords: S-unit equation

This is a generalization of #19887.

We would like to incorporate functions to find all solutions to some classes of linear equations in the S-units of a number field.  This builds on code by Christopher Rasmussen, Beth Malmskog, and Angelos Koutsianas, with contributions by Christelle Vincent, Alejandra Alvarado, and Mckenzie West.  Based on work by Baker, Smart, de Weger, Yu, and others.


---

Comment by git created at 2017-01-12 15:34:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-13 15:44:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-13 15:45:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-13 21:03:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-13 21:33:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-14 16:05:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-02-28 19:47:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-04-10 20:22:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by malmskog created at 2017-04-11 01:41:12

Changing status from new to needs_review.


---

Comment by roed created at 2017-04-12 02:29:24

I haven't read through `S_unit_solver.py`, but I wouldn't import everything into the global namespace in `number_field/all.py`.


---

Comment by git created at 2017-04-12 14:51:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-04-17 14:18:54

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2017-04-17 14:18:54

you need to build and check the doc. For instance, the correct syntax is

```
EXAMPLES::

    sage: 2+2
    4
```

with a double colon after EXAMPLES and an empty line just after.


---

Comment by git created at 2017-04-17 22:23:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mwest created at 2017-04-21 19:47:46

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2017-04-25 20:30:48

1) This is not a correct syntax (around True):

```
+    - ````True`` or ``False``
```

2) `..NOTE`, `INPUT:`, `OUTPUT:` and `REFERENCES:` should also be followed by a blank line, so this is wrong, for example:

```
+    ..NOTE::
+        The numerator should be as close to 1 as possible, especially as the rank of the `S`-units grows large
```

Also the next lines should then be indented if and only if the block command ends with `::`

3) `+    Example::` should rather be `EXAMPLES::`

4) `COMMENT:` is not a standard block command, use nothing or `ALGORITHM:`

5) every single function must have a non-empty `EXAMPLES::` block with useful doctests

6) comparison to None should not use `prec == None` but rather `prec is None`

7) once again, you should build the doc, and look at it, until it is completely fine !

8) This is lacking `::`

```
+    Use CRT to check the output
+
+        sage: CRT(2, 2, 18, 27)
```

as well as here:

```
+    The order of the moduli matters.
+
+        sage: len(compatible_vectors(a, 18, 12))
```



---

Comment by chapoton created at 2017-04-25 20:30:48

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-04-26 23:26:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-04 16:43:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-11 14:26:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-12 03:13:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-17 03:47:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-17 03:50:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-07-18 19:23:13

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mwest created at 2017-07-18 19:24:22

Changing status from needs_work to needs_review.


---

Comment by mwest created at 2017-07-18 19:24:45

Changing keywords from "S-unit equation" to "S-unit equation, sd87".


---

Comment by mwest created at 2017-07-19 15:38:31

We will be restructuring the code, taking out the functions that may be useful elsewhere.


---

Comment by mwest created at 2017-07-19 15:38:31

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-08-02 19:45:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by git created at 2017-09-07 19:25:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-11 21:02:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by malmskog created at 2018-04-11 21:04:15

Changing status from needs_work to needs_review.


---

Comment by git created at 2018-04-11 23:01:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-18 01:25:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-18 19:34:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-06-25 17:08:59

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2018-06-25 17:08:59

patchbot has found many issues.


---

Comment by git created at 2018-06-28 09:07:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-06-28 10:23:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-06-28 15:12:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mwest created at 2018-06-29 13:09:37

Changing keywords from "S-unit equation, sd87" to "S-unit equation, sd87, sage94".


---

Comment by mwest created at 2018-06-29 13:13:52

Changing keywords from "S-unit equation, sd87, sage94" to "S-unit equation, sd87, days94".


---

Comment by git created at 2018-06-29 13:33:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-06-30 15:33:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-06-30 15:48:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-02 08:59:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-02 12:54:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-04 08:22:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-04 09:39:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-13 16:08:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-08-07 14:21:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-08-10 03:36:05

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mwest created at 2018-08-22 19:50:25

Changing status from needs_work to needs_review.


---

Comment by git created at 2018-11-02 20:12:07

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2018-11-08 11:26:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-11-08 11:32:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-11-09 22:46:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-11-10 08:52:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2018-11-10 09:46:38

I've added a fix for the cask that the S-unit group has rank 0 (ie quadratic imaginary with empty S).  I've run all long tests, so if you're happy with the changes you can go ahead and mark this as positive review.


---

Comment by mwest created at 2018-11-11 16:03:15

Changing status from needs_review to positive_review.


---

Comment by mwest created at 2018-11-11 16:03:15

Thank you for taking the time to review and help Beth implement the solver as a method.


---

Comment by git created at 2018-11-13 21:11:30

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2018-11-13 21:11:30

Changing status from positive_review to needs_review.


---

Comment by roed created at 2018-11-13 21:14:09

I made some fixes for Python3.  Running tests, and if they all pass I'll set this back to positive review.


---

Comment by roed created at 2018-11-13 22:09:00

All tests pass, so back to positive review.


---

Comment by roed created at 2018-11-13 22:09:00

Changing status from needs_review to positive_review.


---

Comment by git created at 2018-11-17 00:12:50

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2018-11-17 00:12:50

Changing status from positive_review to needs_review.


---

Comment by roed created at 2018-11-17 00:13:39

Changing status from needs_review to positive_review.


---

Comment by roed created at 2018-11-17 00:13:39

I made a change requested by one of the authors, which I agree with.  I ran all long tests, which passed.  Back to positive review.


---

Comment by vbraun created at 2018-12-01 13:43:38

Resolution: fixed


---

Comment by slelievre created at 2018-12-02 11:35:38

Two questions:
- isn't there an indentation problem in `def S_unit_solutions`? (if so please open follow-up ticket)
- does this solve #19887?


---

Comment by mwest created at 2018-12-10 18:19:27

Replying to [comment:79 slelievre]:
> Two questions:
> - isn't there an indentation problem in `def S_unit_solutions`? (if so please open follow-up ticket)
> - does this solve #19887?


1. yes there is an error, fixed in #26864
2. I believe so, but I am not totally certain.
