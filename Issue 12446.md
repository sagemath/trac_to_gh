# Issue 12446: Don't delete dist/sage-rsync directory in sage-rsyncdist script

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2012-03-02 15:04:06

Assignee: leif

The scripts `sage-sdist` and `sage-bdist` create a directory within `$SAGE_ROOT/dist` and then pack that directory in a tarball.  The result is that `dist` contains both the original directory as well as the tarball.  Currently, `sage-rsyncdist` removes this directory.  Change the behaviour such that it keeps the directory.

Use case: in the release management script, `dist/sage-rsync` would contain all extracted spkgs.  This would allow for an easy check that every spkg is hg-clean, that there are no uncommitted changes.

Making this a blocker for immediate release-management use.


---

Attachment

Apply to SCRIPTS repository


---

Comment by jdemeyer created at 2012-03-03 13:42:30

Changing status from new to needs_review.


---

Comment by roed created at 2012-03-07 14:22:22

Changing status from needs_review to positive_review.


---

Comment by roed created at 2012-03-07 14:22:22

I don't see how this patch can hurt anything.  It looks fine to me.


---

Comment by jdemeyer created at 2012-03-13 08:25:02

Resolution: fixed
