# Issue 31935: gap.interact() does not understand multi-line function definitions with ipython interface

Issue created by migration from https://trac.sagemath.org/ticket/32172

Original creator: @ThibautVerron

Original creation time: 2021-07-10 11:40:46

Keywords: gap ipython

Copying and pasting multi-line function definitions in the gap sub-interpreter results in a syntax error.

For instance:



```
sage: gap.interact()

   --> Switching to Gap <--

gap: test := function(n)
...:     return n+1;
...: end;
   File "<ipython-input-1-f9af418de61e>", line 1
     test := function(n)
          ^
SyntaxError: invalid syntax
```


Running the same example with `sage --simple-prompt` works fine, as does entering the function definition line by line.

This is tested with sage 9.3 and 9.4 beta4, with the shipped version of gap, and on a Linux x64 system.



---

Comment by @ThibautVerron created at 2021-07-10 11:41:24

Changing component from PLEASE CHANGE to interfaces.
