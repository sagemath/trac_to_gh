# Issue 28768: m4rie test/Makefile.am does not respect LDFLAGS

Issue created by migration from https://trac.sagemath.org/ticket/29005

Original creator: mkoeppe

Original creation time: 2020-01-14 01:07:52

CC:  isuruf malb fbissey jhpalmieri dimpase slelievre

This causes a build error in some configurations, in particular when building on conda.

We propose to apply a workaround similar to the one used in conda-forge (https://github.com/conda-forge/m4rie-feedstock/commit/dea9e9a33ccf951c2458ad53f9af3ed860f81fbf) until hopefully this is fixed upstream and a new release is available.


---

Comment by fbissey created at 2020-01-14 01:33:16

Funny that, I submitted a patch upstream to be able to run tests out of source back in 2015 [https://bitbucket.org/malb/m4rie/commits/303cf7adaa8b4c86fe9516871cb8b1886f3948da](https://bitbucket.org/malb/m4rie/commits/303cf7adaa8b4c86fe9516871cb8b1886f3948da) but it doesn't look like I noticed that particular issue at the time. Now that you point that out, yes there is a problem there.


---

Comment by fbissey created at 2020-01-14 02:27:02

Sent a pull request upstream to fix the issue [https://bitbucket.org/malb/m4rie/pull-requests/4/do-not-interfere-with-ldflags-while/diff](https://bitbucket.org/malb/m4rie/pull-requests/4/do-not-interfere-with-ldflags-while/diff).


---

Comment by mkoeppe created at 2020-01-14 02:34:19

Thank you!


---

Comment by malb created at 2020-01-16 02:14:18

A new release is here: https://bitbucket.org/malb/m4rie/downloads/
Companion M4RI release is here: https://bitbucket.org/malb/m4ri/downloads/


---

Comment by slelievre created at 2020-01-16 15:52:25

Changing keywords from "" to "m4ri, m4rie, LDFLAGS".


---

Comment by dimpase created at 2020-01-16 15:56:30

The update is on #29026 - please review


---

Comment by dimpase created at 2020-01-16 15:56:30

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-01-17 23:29:56

Fixed by #29026.


---

Comment by dimpase created at 2020-01-18 09:33:11

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2020-01-27 20:19:07

Resolution: duplicate
