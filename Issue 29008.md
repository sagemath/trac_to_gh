# Issue 29008: spkg-configure for fplll

archive/issues_029008.json:
```json
{
    "body": "CC:  embray dimpase mkoeppe \u200bisuruf fbissey\n\nfplll ships a pkg-config file, is slow to build, and has only one dependency that was already spkg-configurified.\n\nIt is packaged for a few distros, so let's use it.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29245\n\n",
    "created_at": "2020-02-24T17:40:44Z",
    "labels": [
        "build: configure",
        "major",
        "enhancement"
    ],
    "title": "spkg-configure for fplll",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29008",
    "user": "mjo"
}
```
CC:  embray dimpase mkoeppe â€‹isuruf fbissey

fplll ships a pkg-config file, is slow to build, and has only one dependency that was already spkg-configurified.

It is packaged for a few distros, so let's use it.

Issue created by migration from https://trac.sagemath.org/ticket/29245





---

archive/issue_comments_410635.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-02-24T17:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410635",
    "user": "mjo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_410636.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-02-24T17:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410636",
    "user": "mjo"
}
```

New commits:



---

archive/issue_comments_410637.json:
```json
{
    "body": "Could you add `build/pkgs/fplll/distros/` please (see #29129)?",
    "created_at": "2020-02-24T18:01:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410637",
    "user": "mkoeppe"
}
```

Could you add `build/pkgs/fplll/distros/` please (see #29129)?



---

archive/issue_comments_410638.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-24T18:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410638",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_410639.json:
```json
{
    "body": "Sure. I'll add the others if people can tell me what to stick in the text files. For example I'm pretty sure you need both the main package and -dev on Debian, but who knows. I'm also pretty sure that someone is going to tell me the pc file is missing somewhere and make me do a header/library search...",
    "created_at": "2020-02-24T18:26:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410639",
    "user": "mjo"
}
```

Sure. I'll add the others if people can tell me what to stick in the text files. For example I'm pretty sure you need both the main package and -dev on Debian, but who knows. I'm also pretty sure that someone is going to tell me the pc file is missing somewhere and make me do a header/library search...



---

archive/issue_comments_410640.json:
```json
{
    "body": "https://repology.org/ has the info you need",
    "created_at": "2020-02-24T18:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410640",
    "user": "mkoeppe"
}
```

https://repology.org/ has the info you need



---

archive/issue_comments_410641.json:
```json
{
    "body": "And this all can be tested using tox.",
    "created_at": "2020-02-24T18:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410641",
    "user": "mkoeppe"
}
```

And this all can be tested using tox.



---

archive/issue_comments_410642.json:
```json
{
    "body": "on debian one needs `libfplll-dev` and (probably) `fplll-tools`\n- the latter is very small, so it doesn't hurt to ask for it be installed.",
    "created_at": "2020-02-25T10:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410642",
    "user": "dimpase"
}
```

on debian one needs `libfplll-dev` and (probably) `fplll-tools`
- the latter is very small, so it doesn't hurt to ask for it be installed.



---

archive/issue_comments_410643.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-25T15:10:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410643",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_410644.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-27T07:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410644",
    "user": "dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_410645.json:
```json
{
    "body": "Debian fplll package is broken - fplll/pruner/ headers are missing.\nSo one gets \n\n```\n[fpylll-0.5.1dev]     building 'fpylll.fplll.integer_matrix' extension\n[fpylll-0.5.1dev]     creating build/temp.linux-x86_64-2.7/build/src/fpylll/fplll\n[fpylll-0.5.1dev]     gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -Isrc/fpylll/fplll -I/home/dimpase/sage/local/lib/python2.7/site-packages/cysignals -I/home/dimpase/sage/local/include -I/home/dimpase/sage/local/lib/python2.7/site-packages/numpy/core/include -I/home/dimpase/sage/local/include/python2.7 -c build/src/fpylll/fplll/integer_matrix.cpp -o build/temp.linux-x86_64-2.7/build/src/fpylll/fplll/integer_matrix.o -std=c++11\n[fpylll-0.5.1dev]     build/src/fpylll/fplll/integer_matrix.cpp:698:10: fatal error: fplll/pruner/pruner.h: No such file or directory\n[fpylll-0.5.1dev]      #include \"fplll/pruner/pruner.h\"\n[fpylll-0.5.1dev]               ^~~~~~~~~~~~~~~~~~~~~~~\n[fpylll-0.5.1dev]     compilation terminated.\n[fpylll-0.5.1dev]     error: command 'gcc' failed with exit status 1\n```\n\nI propose to include a check for this header in the macro.",
    "created_at": "2020-02-27T07:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410645",
    "user": "dimpase"
}
```

Debian fplll package is broken - fplll/pruner/ headers are missing.
So one gets 

```
[fpylll-0.5.1dev]     building 'fpylll.fplll.integer_matrix' extension
[fpylll-0.5.1dev]     creating build/temp.linux-x86_64-2.7/build/src/fpylll/fplll
[fpylll-0.5.1dev]     gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -Isrc/fpylll/fplll -I/home/dimpase/sage/local/lib/python2.7/site-packages/cysignals -I/home/dimpase/sage/local/include -I/home/dimpase/sage/local/lib/python2.7/site-packages/numpy/core/include -I/home/dimpase/sage/local/include/python2.7 -c build/src/fpylll/fplll/integer_matrix.cpp -o build/temp.linux-x86_64-2.7/build/src/fpylll/fplll/integer_matrix.o -std=c++11
[fpylll-0.5.1dev]     build/src/fpylll/fplll/integer_matrix.cpp:698:10: fatal error: fplll/pruner/pruner.h: No such file or directory
[fpylll-0.5.1dev]      #include "fplll/pruner/pruner.h"
[fpylll-0.5.1dev]               ^~~~~~~~~~~~~~~~~~~~~~~
[fpylll-0.5.1dev]     compilation terminated.
[fpylll-0.5.1dev]     error: command 'gcc' failed with exit status 1
```

I propose to include a check for this header in the macro.



---

archive/issue_comments_410646.json:
```json
{
    "body": "In fact, fplll-5.2.1 does not have that header, they only appear in fplll-5.3\n\nso, just updating the minimal version will do.",
    "created_at": "2020-02-27T07:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410646",
    "user": "dimpase"
}
```

In fact, fplll-5.2.1 does not have that header, they only appear in fplll-5.3

so, just updating the minimal version will do.



---

archive/issue_comments_410647.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-27T13:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410647",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_410648.json:
```json
{
    "body": "Replying to [comment:10 dimpase]:\n> In fact, fplll-5.2.1 does not have that header, they only appear in fplll-5.3\n> \n> so, just updating the minimal version will do.\n\nThanks, fixed.",
    "created_at": "2020-02-27T13:00:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410648",
    "user": "mjo"
}
```

Replying to [comment:10 dimpase]:
> In fact, fplll-5.2.1 does not have that header, they only appear in fplll-5.3
> 
> so, just updating the minimal version will do.

Thanks, fixed.



---

archive/issue_comments_410649.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-03-02T03:44:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410649",
    "user": "dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_410650.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-03T23:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29008#issuecomment-410650",
    "user": "vbraun"
}
```

Resolution: fixed
