# Issue 30211: src/tox.ini: Add validation of rst files and docstrings via a quick docbuild

archive/issues_030211.json:
```json
{
    "body": "CC:  @tobiasdiez jhpalmieri dimpase chapoton @davewittemorris etn40ff tscrim klee\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30448\n\n",
    "created_at": "2020-08-26T23:42:27Z",
    "labels": [
        "documentation",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "src/tox.ini: Add validation of rst files and docstrings via a quick docbuild",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30211",
    "user": "mkoeppe"
}
```
CC:  @tobiasdiez jhpalmieri dimpase chapoton @davewittemorris etn40ff tscrim klee



Issue created by migration from https://trac.sagemath.org/ticket/30448





---

archive/issue_comments_430599.json:
```json
{
    "body": "There are also linters for rst files: rstcheck or doc8",
    "created_at": "2020-08-30T20:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430599",
    "user": "@tobiasdiez"
}
```

There are also linters for rst files: rstcheck or doc8



---

archive/issue_comments_430600.json:
```json
{
    "body": "Yes, see also my comments in #30415",
    "created_at": "2020-08-30T21:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430600",
    "user": "mkoeppe"
}
```

Yes, see also my comments in #30415



---

archive/issue_comments_430601.json:
```json
{
    "body": "Replying to [comment:6 mkoeppe]:\n> Yes, see also my comments in #30415\n... added to the description",
    "created_at": "2020-09-07T23:20:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430601",
    "user": "mkoeppe"
}
```

Replying to [comment:6 mkoeppe]:
> Yes, see also my comments in #30415
... added to the description



---

archive/issue_comments_430602.json:
```json
{
    "body": "As a first stab at docstring validation, I have added `tox -e pydocstyle`. This will need some configuration -- right now it gives just too many warnings.\n----\nLast 10 new commits:",
    "created_at": "2020-09-07T23:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430602",
    "user": "mkoeppe"
}
```

As a first stab at docstring validation, I have added `tox -e pydocstyle`. This will need some configuration -- right now it gives just too many warnings.
----
Last 10 new commits:



---

archive/issue_comments_430603.json:
```json
{
    "body": "For the automated check, it's also a problem that Sage uses a custom doc style and not one of the more standardized ones like pep257, numpy or google.\nhttps://www.python.org/dev/peps/pep-0257/\nhttps://numpydoc.readthedocs.io/en/latest/format.html\nhttps://google.github.io/styleguide/pyguide.html#383-functions-and-methods\n\nAre there any plans to migrate to one of these standards?",
    "created_at": "2020-12-10T16:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430603",
    "user": "@tobiasdiez"
}
```

For the automated check, it's also a problem that Sage uses a custom doc style and not one of the more standardized ones like pep257, numpy or google.
https://www.python.org/dev/peps/pep-0257/
https://numpydoc.readthedocs.io/en/latest/format.html
https://google.github.io/styleguide/pyguide.html#383-functions-and-methods

Are there any plans to migrate to one of these standards?



---

archive/issue_comments_430604.json:
```json
{
    "body": "I'm not aware of migration plans",
    "created_at": "2020-12-10T17:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430604",
    "user": "mkoeppe"
}
```

I'm not aware of migration plans



---

archive/issue_comments_430605.json:
```json
{
    "body": "Replying to [comment:15 mkoeppe]:\n> I'm not aware of migration plans\n\nNor am I, but it's something to consider.",
    "created_at": "2020-12-11T22:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430605",
    "user": "jhpalmieri"
}
```

Replying to [comment:15 mkoeppe]:
> I'm not aware of migration plans

Nor am I, but it's something to consider.



---

archive/issue_comments_430606.json:
```json
{
    "body": "I've created #31044 for this.",
    "created_at": "2020-12-12T20:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430606",
    "user": "@tobiasdiez"
}
```

I've created #31044 for this.



---

archive/issue_comments_430607.json:
```json
{
    "body": "Also if the decision is made to migrate, to do the actual migration we will certainly need a parser for the sage-style doc.",
    "created_at": "2020-12-12T20:45:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430607",
    "user": "mkoeppe"
}
```

Also if the decision is made to migrate, to do the actual migration we will certainly need a parser for the sage-style doc.



---

archive/issue_comments_430608.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430608",
    "user": "mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_430609.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-07-12T00:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430609",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_430610.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T00:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430610",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430611.json:
```json
{
    "body": "Not sure if we should add all roles from https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html and https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-python-objects",
    "created_at": "2022-07-12T00:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430611",
    "user": "mkoeppe"
}
```

Not sure if we should add all roles from https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html and https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-python-objects



---

archive/issue_comments_430612.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T01:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430612",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430613.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T01:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430613",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430614.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T01:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430614",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430615.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T01:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430615",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430616.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T01:44:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430616",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430617.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T01:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430617",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430618.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T01:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430618",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430619.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T02:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430619",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430620.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T02:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430620",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430621.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T02:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430621",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430622.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T02:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430622",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430623.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T02:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430623",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430624.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T02:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430624",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430625.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T02:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430625",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430626.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T03:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430626",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430627.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T03:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430627",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430628.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T03:27:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430628",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430629.json:
```json
{
    "body": "I stop here for now, contributions welcome",
    "created_at": "2022-07-12T03:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430629",
    "user": "mkoeppe"
}
```

I stop here for now, contributions welcome



---

archive/issue_comments_430630.json:
```json
{
    "body": "Remaining failures see https://github.com/sagemath/sagetrac-mirror/runs/7294638131?check_suite_focus=true",
    "created_at": "2022-07-12T04:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430630",
    "user": "mkoeppe"
}
```

Remaining failures see https://github.com/sagemath/sagetrac-mirror/runs/7294638131?check_suite_focus=true



---

archive/issue_comments_430631.json:
```json
{
    "body": "Replying to [comment:51 mkoeppe]:\n> Remaining failures see https://github.com/sagemath/sagetrac-mirror/runs/7294638131?check_suite_focus=true\n\nMay I open a meta ticket to deal with them?",
    "created_at": "2022-07-12T05:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430631",
    "user": "klee"
}
```

Replying to [comment:51 mkoeppe]:
> Remaining failures see https://github.com/sagemath/sagetrac-mirror/runs/7294638131?check_suite_focus=true

May I open a meta ticket to deal with them?



---

archive/issue_comments_430632.json:
```json
{
    "body": "Good idea",
    "created_at": "2022-07-12T05:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430632",
    "user": "mkoeppe"
}
```

Good idea



---

archive/issue_comments_430633.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-12T05:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430633",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430634.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-07-12T05:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430634",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_430635.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-07-12T05:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430635",
    "user": "klee"
}
```

New commits:



---

archive/issue_comments_430636.json:
```json
{
    "body": "Okay. I will open a separate ticket.",
    "created_at": "2022-07-12T05:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430636",
    "user": "klee"
}
```

Okay. I will open a separate ticket.



---

archive/issue_comments_430637.json:
```json
{
    "body": "Here is the meta ticket: #34157",
    "created_at": "2022-07-12T05:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430637",
    "user": "klee"
}
```

Here is the meta ticket: #34157



---

archive/issue_comments_430638.json:
```json
{
    "body": "Done. It is a ticket party. Whet your appetite.",
    "created_at": "2022-07-12T06:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430638",
    "user": "klee"
}
```

Done. It is a ticket party. Whet your appetite.



---

archive/issue_comments_430639.json:
```json
{
    "body": "Perhaps\n\n```diff\ndiff --git a/src/sage/graphs/domination.py b/src/sage/graphs/domination.py\nindex 25ac512233..8cc1e57de9 100644\n--- a/src/sage/graphs/domination.py\n+++ b/src/sage/graphs/domination.py\n@@ -513,7 +513,7 @@ def _cand_ext_enum(G, to_dom, u_next):\n \n         .. WARNING::\n \n-            The same output may be output several times (up to ``H`` times).\n+            The same output may be output several times (up to `|H|` times).\n \n         In order to later remove duplicates, we here output pairs ``(ext, i)``\n         where ``ext`` is the output candidate extension and ``i`` counts how\n@@ -593,7 +593,7 @@ def minimal_dominating_sets(G, to_dominate=None, work_on_copy=True):\n     - ``work_on_copy`` -- boolean (default: ``True``); whether or not to work on\n       a copy of the input graph; if set to ``False``, the input graph will be\n       modified (relabeled).\n-    \n+\n     OUTPUT:\n \n     An iterator over the inclusion-minimal sets of vertices of ``G``.\n```\n",
    "created_at": "2022-07-12T07:12:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430639",
    "user": "klee"
}
```

Perhaps

```diff
diff --git a/src/sage/graphs/domination.py b/src/sage/graphs/domination.py
index 25ac512233..8cc1e57de9 100644
--- a/src/sage/graphs/domination.py
+++ b/src/sage/graphs/domination.py
@@ -513,7 +513,7 @@ def _cand_ext_enum(G, to_dom, u_next):
 
         .. WARNING::
 
-            The same output may be output several times (up to ``H`` times).
+            The same output may be output several times (up to `|H|` times).
 
         In order to later remove duplicates, we here output pairs ``(ext, i)``
         where ``ext`` is the output candidate extension and ``i`` counts how
@@ -593,7 +593,7 @@ def minimal_dominating_sets(G, to_dominate=None, work_on_copy=True):
     - ``work_on_copy`` -- boolean (default: ``True``); whether or not to work on
       a copy of the input graph; if set to ``False``, the input graph will be
       modified (relabeled).
-    
+
     OUTPUT:
 
     An iterator over the inclusion-minimal sets of vertices of ``G``.
```




---

archive/issue_comments_430640.json:
```json
{
    "body": "Thanks for catching this, please push it to the ticket",
    "created_at": "2022-07-12T07:24:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430640",
    "user": "mkoeppe"
}
```

Thanks for catching this, please push it to the ticket



---

archive/issue_comments_430641.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-07-12T07:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430641",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_430642.json:
```json
{
    "body": "Otherwise, it looks good to me.",
    "created_at": "2022-07-12T07:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430642",
    "user": "klee"
}
```

Otherwise, it looks good to me.



---

archive/issue_comments_430643.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-12T07:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430643",
    "user": "klee"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430644.json:
```json
{
    "body": "Thanks!",
    "created_at": "2022-07-12T13:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430644",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_430645.json:
```json
{
    "body": "A bug in `flake8-rst-docstrings`? See #34168#comment:14, also #34167 and #34169.",
    "created_at": "2022-07-13T23:05:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430645",
    "user": "jhpalmieri"
}
```

A bug in `flake8-rst-docstrings`? See #34168#comment:14, also #34167 and #34169.



---

archive/issue_comments_430646.json:
```json
{
    "body": "Or maybe we're just sloppy in how we use reStructuredText, and we should add explicit titles our files, like\n\n```diff\ndiff --git a/src/sage/categories/category_with_axiom.py b/src/sage/categories/category_with_axiom.py\nindex 237ad5dfed..d11bf0fe8a 100644\n--- a/src/sage/categories/category_with_axiom.py\n+++ b/src/sage/categories/category_with_axiom.py\n@@ -1,5 +1,7 @@\n r\"\"\"\n+======\n Axioms\n+======\n \n This documentation covers how to implement axioms and proceeds with an\n overview of the implementation of the axiom infrastructure. It assumes\n```\n\nI don't know `rst` syntax well enough to know if a single word at the start of a text block has special significance, but I think it might. This might also explain the issue with \"noreplace\" in `sagedoc.py` in #34172.",
    "created_at": "2022-07-13T23:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430646",
    "user": "jhpalmieri"
}
```

Or maybe we're just sloppy in how we use reStructuredText, and we should add explicit titles our files, like

```diff
diff --git a/src/sage/categories/category_with_axiom.py b/src/sage/categories/category_with_axiom.py
index 237ad5dfed..d11bf0fe8a 100644
--- a/src/sage/categories/category_with_axiom.py
+++ b/src/sage/categories/category_with_axiom.py
@@ -1,5 +1,7 @@
 r"""
+======
 Axioms
+======
 
 This documentation covers how to implement axioms and proceeds with an
 overview of the implementation of the axiom infrastructure. It assumes
```

I don't know `rst` syntax well enough to know if a single word at the start of a text block has special significance, but I think it might. This might also explain the issue with "noreplace" in `sagedoc.py` in #34172.



---

archive/issue_comments_430647.json:
```json
{
    "body": "I can't get the syntax\n\n```\n###### Axioms\n###### }}}\nto compile: it yields an error. At #34168 we've diagnosed what looks like a bug in `flake8-rst-docstrings`, and fixing that would be my preferred resolution.",
    "created_at": "2022-07-14T00:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430647",
    "user": "jhpalmieri"
}
```

I can't get the syntax

```
###### Axioms
###### }}}
to compile: it yields an error. At #34168 we've diagnosed what looks like a bug in `flake8-rst-docstrings`, and fixing that would be my preferred resolution.



---

archive/issue_comments_430648.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-21T21:12:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30211#issuecomment-430648",
    "user": "vbraun"
}
```

Resolution: fixed
