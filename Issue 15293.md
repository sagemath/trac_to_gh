# Issue 15293: Add support for python 3.3+

archive/issues_015293.json:
```json
{
    "body": "In order to support python 3.3, the following needs to be fixed:\n\n1. #15510 - upgrade to a newer version of setuptools\n2. #15511 - upgrade to a newer version of rpy2\n3. #15512 - upgrade to a newer version of sympy\n\nIssue created by migration from https://trac.sagemath.org/ticket/15530\n\n",
    "created_at": "2013-12-17T02:41:38Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Add support for python 3.3+",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15293",
    "user": "https://github.com/ohanar"
}
```
In order to support python 3.3, the following needs to be fixed:

1. #15510 - upgrade to a newer version of setuptools
2. #15511 - upgrade to a newer version of rpy2
3. #15512 - upgrade to a newer version of sympy

Issue created by migration from https://trac.sagemath.org/ticket/15530





---

archive/issue_comments_196464.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-26T16:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196464",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_196465.json:
```json
{
    "body": "It looks like everything is done. Now we just need to switch Sage to python 3...",
    "created_at": "2013-12-26T16:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196465",
    "user": "https://github.com/tscrim"
}
```

It looks like everything is done. Now we just need to switch Sage to python 3...



---

archive/issue_comments_196466.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-26T21:29:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196466",
    "user": "https://github.com/ohanar"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_196467.json:
```json
{
    "body": "Sorry, I should have put a note that I haven't listed all issues (since I haven't even encountered all the issues yet).",
    "created_at": "2013-12-26T21:29:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196467",
    "user": "https://github.com/ohanar"
}
```

Sorry, I should have put a note that I haven't listed all issues (since I haven't even encountered all the issues yet).



---

archive/issue_comments_196468.json:
```json
{
    "body": "Python 3.4 is out now...\n\n(really just commenting to subscribe to updates)",
    "created_at": "2014-04-25T16:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196468",
    "user": "https://github.com/jasongrout"
}
```

Python 3.4 is out now...

(really just commenting to subscribe to updates)



---

archive/issue_comments_196469.json:
```json
{
    "body": "Changing keywords from \"\" to \"python3\".",
    "created_at": "2014-11-16T10:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196469",
    "user": "https://github.com/a-andre"
}
```

Changing keywords from "" to "python3".



---

archive/issue_comments_196470.json:
```json
{
    "body": "We had to abandon the idea of using distutils for libcsage at least as is. We could certainly use getting rid of scons for it. Do we know if there is anyone currently active for polybori? My understanding is that Alexander Dreyer has gone to the industry and no one has really taken over polybori.",
    "created_at": "2015-01-09T01:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196470",
    "user": "https://github.com/kiwifb"
}
```

We had to abandon the idea of using distutils for libcsage at least as is. We could certainly use getting rid of scons for it. Do we know if there is anyone currently active for polybori? My understanding is that Alexander Dreyer has gone to the industry and no one has really taken over polybori.



---

archive/issue_comments_196471.json:
```json
{
    "body": "Replying to [comment:31 fbissey]:\n> We had to abandon the idea of using distutils for libcsage at least as is.\nThere was also a autotools approach at #15594, which I think could be returned to (it was closed as won't fix in favor of distutils).\n\n\n> We could certainly use getting rid of scons for it. Do we know if there is anyone currently active for polybori? My understanding is that Alexander Dreyer has gone to the industry and no one has really taken over polybori.\n\nI don't really know the situation, from an outsiders perspective, it certainly looks as if the project is dead. I don't really know how best to deal with it.",
    "created_at": "2015-01-09T02:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196471",
    "user": "https://github.com/ohanar"
}
```

Replying to [comment:31 fbissey]:
> We had to abandon the idea of using distutils for libcsage at least as is.
There was also a autotools approach at #15594, which I think could be returned to (it was closed as won't fix in favor of distutils).


> We could certainly use getting rid of scons for it. Do we know if there is anyone currently active for polybori? My understanding is that Alexander Dreyer has gone to the industry and no one has really taken over polybori.

I don't really know the situation, from an outsiders perspective, it certainly looks as if the project is dead. I don't really know how best to deal with it.



---

archive/issue_comments_196472.json:
```json
{
    "body": "Yes we closed the autotools ticket when we decided to go distutils. And then we found that distutils couldn't be used that way. So we should try to revive that.\n\nSomeone should try to contact Alexander or Michael Brickenstein to see if they will make any new releases. As I see it the first problem will be to remove scons as the build system for polybori. Autotools+distutils feels like the right option for it. Then we could work out the python3 migration. Removing polybori would be interesting too but I think it is ingrained deep in sage.",
    "created_at": "2015-01-09T02:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196472",
    "user": "https://github.com/kiwifb"
}
```

Yes we closed the autotools ticket when we decided to go distutils. And then we found that distutils couldn't be used that way. So we should try to revive that.

Someone should try to contact Alexander or Michael Brickenstein to see if they will make any new releases. As I see it the first problem will be to remove scons as the build system for polybori. Autotools+distutils feels like the right option for it. Then we could work out the python3 migration. Removing polybori would be interesting too but I think it is ingrained deep in sage.



---

archive/issue_comments_196473.json:
```json
{
    "body": "Replying to [comment:33 fbissey]:\n> Someone should try to contact Alexander or Michael Brickenstein to see if they will make any new releases. As I see it the first problem will be to remove scons as the build system for polybori. Autotools+distutils feels like the right option for it. Then we could work out the python3 migration. Removing polybori would be interesting too but I think it is ingrained deep in sage.\n\nI don't think it is too deeply integrated into sage, it seems like it is mainly used for boolean polynomial rings (which themselves don't seem to be very widely used in the sage library). If it is easier to make a version of sage compatible with python 3 which doesn't have polybori, than it is to bring polybori up to speed, I would definitely vote for the former (especially if it is significantly easier, which I suspect might be the case ... but I could be completely wrong). In either case, I would keep polybori around for the python 2 version of sage.",
    "created_at": "2015-01-09T02:31:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196473",
    "user": "https://github.com/ohanar"
}
```

Replying to [comment:33 fbissey]:
> Someone should try to contact Alexander or Michael Brickenstein to see if they will make any new releases. As I see it the first problem will be to remove scons as the build system for polybori. Autotools+distutils feels like the right option for it. Then we could work out the python3 migration. Removing polybori would be interesting too but I think it is ingrained deep in sage.

I don't think it is too deeply integrated into sage, it seems like it is mainly used for boolean polynomial rings (which themselves don't seem to be very widely used in the sage library). If it is easier to make a version of sage compatible with python 3 which doesn't have polybori, than it is to bring polybori up to speed, I would definitely vote for the former (especially if it is significantly easier, which I suspect might be the case ... but I could be completely wrong). In either case, I would keep polybori around for the python 2 version of sage.



---

archive/issue_comments_196474.json:
```json
{
    "body": "Something for which there is no ticket yet but shouldn't be forgotten. pynac is python2.7 only last time I checked. `ginac/numeric.cpp` needs a significant overhaul to move to python3, some of which I think I could do but some other like the rich cmp I wouldn't.",
    "created_at": "2015-05-05T23:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196474",
    "user": "https://github.com/kiwifb"
}
```

Something for which there is no ticket yet but shouldn't be forgotten. pynac is python2.7 only last time I checked. `ginac/numeric.cpp` needs a significant overhaul to move to python3, some of which I think I could do but some other like the rich cmp I wouldn't.



---

archive/issue_comments_196475.json:
```json
{
    "body": "> Something for which there is no ticket yet but shouldn't be forgotten. pynac is python2.7 only last time I checked. `ginac/numeric.cpp` needs a significant overhaul to move to python3, some of which I think I could do but some other like the rich cmp I wouldn't.\n\nrws, you've been doing great work recently with a lot of the nitty-gritty stuff in Pynac - any ideas?  We could at least open a ticket if this is not too impossible.",
    "created_at": "2015-05-06T01:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196475",
    "user": "https://github.com/kcrisman"
}
```

> Something for which there is no ticket yet but shouldn't be forgotten. pynac is python2.7 only last time I checked. `ginac/numeric.cpp` needs a significant overhaul to move to python3, some of which I think I could do but some other like the rich cmp I wouldn't.

rws, you've been doing great work recently with a lot of the nitty-gritty stuff in Pynac - any ideas?  We could at least open a ticket if this is not too impossible.



---

archive/issue_comments_196476.json:
```json
{
    "body": "I was looking at porting pynac to python 3 a few weeks ago, and it doesn't look too bad (even the rich comp stuff, but I could always be wrong). I was either going to work on this or see if I can't figure something to do with polybori and python 3 during Sage Days 64.25.",
    "created_at": "2015-05-06T01:54:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196476",
    "user": "https://github.com/ohanar"
}
```

I was looking at porting pynac to python 3 a few weeks ago, and it doesn't look too bad (even the rich comp stuff, but I could always be wrong). I was either going to work on this or see if I can't figure something to do with polybori and python 3 during Sage Days 64.25.



---

archive/issue_comments_196477.json:
```json
{
    "body": "I'm only starting now to get into Pynac's Python interface. I also have no idea which changes are necessary because of Python 3. So, if you cannot give me at least a lead by opening a detailed Pynac ticket then don't expect rapid progress there.",
    "created_at": "2015-05-06T06:23:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196477",
    "user": "https://github.com/rwst"
}
```

I'm only starting now to get into Pynac's Python interface. I also have no idea which changes are necessary because of Python 3. So, if you cannot give me at least a lead by opening a detailed Pynac ticket then don't expect rapid progress there.



---

archive/issue_comments_196478.json:
```json
{
    "body": "OK so I opened a pynac issue at https://github.com/pynac/pynac/issues/42 and I'll start making pull requests for what I can fix as I go along.",
    "created_at": "2015-05-06T12:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196478",
    "user": "https://github.com/kiwifb"
}
```

OK so I opened a pynac issue at https://github.com/pynac/pynac/issues/42 and I'll start making pull requests for what I can fix as I go along.



---

archive/issue_comments_196479.json:
```json
{
    "body": "The pynac issue is now fixed in pynac master, pending a full Py3 doctest of Sage.",
    "created_at": "2015-05-07T13:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196479",
    "user": "https://github.com/rwst"
}
```

The pynac issue is now fixed in pynac master, pending a full Py3 doctest of Sage.



---

archive/issue_comments_196480.json:
```json
{
    "body": "Pending insulation of polybori or making it python3.4 compatible and modest hacking (in pynac and libcsage) I should be able to make a version of sage-on-gentoo that will install sage for both python 2.7 and 3.4 and test things further. I see polybori as the biggest hurdle, finishing the integration of libcsage would help too but polybori is really the biggest problem as far as I can see.",
    "created_at": "2015-05-08T00:18:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196480",
    "user": "https://github.com/kiwifb"
}
```

Pending insulation of polybori or making it python3.4 compatible and modest hacking (in pynac and libcsage) I should be able to make a version of sage-on-gentoo that will install sage for both python 2.7 and 3.4 and test things further. I see polybori as the biggest hurdle, finishing the integration of libcsage would help too but polybori is really the biggest problem as far as I can see.



---

archive/issue_comments_196481.json:
```json
{
    "body": "There is some progress on scons to move to python 3 (http://thread.gmane.org/gmane.comp.programming.tools.scons.devel/12929). Still, I think thats the least of the problems. If scons doesn't get support in time we can just build Python 2 + Python 3 and use python2 for scons at build time.",
    "created_at": "2015-05-09T10:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196481",
    "user": "https://github.com/vbraun"
}
```

There is some progress on scons to move to python 3 (http://thread.gmane.org/gmane.comp.programming.tools.scons.devel/12929). Still, I think thats the least of the problems. If scons doesn't get support in time we can just build Python 2 + Python 3 and use python2 for scons at build time.



---

archive/issue_comments_196482.json:
```json
{
    "body": "Replying to [comment:44 vbraun]:\n> There is some progress on scons to move to python 3 (http://thread.gmane.org/gmane.comp.programming.tools.scons.devel/12929). Still, I think thats the least of the problems. If scons doesn't get support in time we can just build Python 2 + Python 3 and use python2 for scons at build time.\n\nI agree in principle but scons is potentially not the only problem in polybori.",
    "created_at": "2015-05-09T10:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196482",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:44 vbraun]:
> There is some progress on scons to move to python 3 (http://thread.gmane.org/gmane.comp.programming.tools.scons.devel/12929). Still, I think thats the least of the problems. If scons doesn't get support in time we can just build Python 2 + Python 3 and use python2 for scons at build time.

I agree in principle but scons is potentially not the only problem in polybori.



---

archive/issue_comments_196483.json:
```json
{
    "body": "First attempt to get `scons` to install `polybori` as a python 3.4 thing failed. `SConstruct` is relying on the version of python running `scons` as being the version you should use I think. That leads to a number of odd behavior and misdetections very fast.",
    "created_at": "2015-05-09T10:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196483",
    "user": "https://github.com/kiwifb"
}
```

First attempt to get `scons` to install `polybori` as a python 3.4 thing failed. `SConstruct` is relying on the version of python running `scons` as being the version you should use I think. That leads to a number of odd behavior and misdetections very fast.



---

archive/issue_comments_196484.json:
```json
{
    "body": "fyi, I started working on an autotools based build system for polybori at https://github.com/ohanar/PolyBoRi/tree/autotools. I'll probably work on it a bit more next weekend during SD 64.25, but the important bits (the c++ libraries) are currently working with only a couple of hacks. What remains (for sage at least) is just a little cleanup and throwing in the bit of the python bindings we use. I've created #18437 for future discussion of polybori and python 3.",
    "created_at": "2015-05-18T08:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196484",
    "user": "https://github.com/ohanar"
}
```

fyi, I started working on an autotools based build system for polybori at https://github.com/ohanar/PolyBoRi/tree/autotools. I'll probably work on it a bit more next weekend during SD 64.25, but the important bits (the c++ libraries) are currently working with only a couple of hacks. What remains (for sage at least) is just a little cleanup and throwing in the bit of the python bindings we use. I've created #18437 for future discussion of polybori and python 3.



---

archive/issue_comments_196485.json:
```json
{
    "body": "Does now every standard package except polybori support Python 3?",
    "created_at": "2015-06-06T09:18:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196485",
    "user": "https://github.com/jdemeyer"
}
```

Does now every standard package except polybori support Python 3?



---

archive/issue_comments_196486.json:
```json
{
    "body": "I think so. The current `pexpect` would be the other problematic one but the current has been patched to use `six` to support python 3 if we don't upgrade it to 3.3 + patch (#10295).",
    "created_at": "2015-06-06T09:23:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196486",
    "user": "https://github.com/kiwifb"
}
```

I think so. The current `pexpect` would be the other problematic one but the current has been patched to use `six` to support python 3 if we don't upgrade it to 3.3 + patch (#10295).



---

archive/issue_comments_196487.json:
```json
{
    "body": "Replying to [comment:49 jdemeyer]:\n> Does now every standard package except polybori support Python 3?\nThe Sphinx release notes for [1.3b1](http://sphinx-doc.org/changes.html#release-1-3b1-released-oct-10-2014) mention `Add support for Python 3.4.` So I assume this version is not supported by the Sphinx 1.2.2 which is currently shipped with Sage. #18497",
    "created_at": "2015-06-06T10:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196487",
    "user": "https://github.com/a-andre"
}
```

Replying to [comment:49 jdemeyer]:
> Does now every standard package except polybori support Python 3?
The Sphinx release notes for [1.3b1](http://sphinx-doc.org/changes.html#release-1-3b1-released-oct-10-2014) mention `Add support for Python 3.4.` So I assume this version is not supported by the Sphinx 1.2.2 which is currently shipped with Sage. #18497



---

archive/issue_comments_196488.json:
```json
{
    "body": "Replying to [comment:51 aapitzsch]:\n> Replying to [comment:49 jdemeyer]:\n> > Does now every standard package except polybori support Python 3?\n> The Sphinx release notes for [1.3b1](http://sphinx-doc.org/changes.html#release-1-3b1-released-oct-10-2014) mention `Add support for Python 3.4.` So I assume this version is not supported by the Sphinx 1.2.2 which is currently shipped with Sage. #18497\n\nThat's odd, Gentoo permits you to build and install sphinx 1.2.2 against python 3.4 without any patch. It is a stable version so I'll assume that it passes its test suite at least with python 3.4. But going to 1.3.1 would be good anyway.",
    "created_at": "2015-06-06T10:24:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196488",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:51 aapitzsch]:
> Replying to [comment:49 jdemeyer]:
> > Does now every standard package except polybori support Python 3?
> The Sphinx release notes for [1.3b1](http://sphinx-doc.org/changes.html#release-1-3b1-released-oct-10-2014) mention `Add support for Python 3.4.` So I assume this version is not supported by the Sphinx 1.2.2 which is currently shipped with Sage. #18497

That's odd, Gentoo permits you to build and install sphinx 1.2.2 against python 3.4 without any patch. It is a stable version so I'll assume that it passes its test suite at least with python 3.4. But going to 1.3.1 would be good anyway.



---

archive/issue_comments_196489.json:
```json
{
    "body": "Replying to [comment:49 jdemeyer]:\n> Does now every standard package except polybori support Python 3?\n\nPynac doesn't really support Python 3 (it builds against Python 3, but it is almost certainly broken, since it can only really be tested when sage can be built against Python 3).",
    "created_at": "2015-06-07T01:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196489",
    "user": "https://github.com/ohanar"
}
```

Replying to [comment:49 jdemeyer]:
> Does now every standard package except polybori support Python 3?

Pynac doesn't really support Python 3 (it builds against Python 3, but it is almost certainly broken, since it can only really be tested when sage can be built against Python 3).



---

archive/issue_comments_196490.json:
```json
{
    "body": "Changing component from packages: standard to python3.",
    "created_at": "2016-05-02T13:38:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196490",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from packages: standard to python3.



---

archive/issue_comments_196491.json:
```json
{
    "body": "Changed ticket title since we're now targeting Python 3.6 at a minimum (though most of the Python 3 work could probably go back to older Python 3's since everything is still compatible with Python 2.7).\n\nI guess we can leave this open as there are still 2 meta-tickets associated with it that are open...",
    "created_at": "2018-02-23T13:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196491",
    "user": "https://github.com/embray"
}
```

Changed ticket title since we're now targeting Python 3.6 at a minimum (though most of the Python 3 work could probably go back to older Python 3's since everything is still compatible with Python 2.7).

I guess we can leave this open as there are still 2 meta-tickets associated with it that are open...



---

archive/issue_comments_196492.json:
```json
{
    "body": "I recently ran the doctests on my python3 branch (which contains many fixes not in develop yet, though I've yet to incorporate all the existing open tickets for python3 which might lead to more improvements).  I got roughly 540 failing modules.\n\nOut of curiosity I thought I'd try a little experiment and ran the test log through the following:\n\n\n```\n$ sort logs/ptest.log | uniq -c | sort -nr\n```\n\n\nThis just gives the text that appears most frequently in the test output.  Obviously the top examples are generic things like \"6461     Traceback (most recent call last):\"\n\nBut beyond that there are some interesting things that might help prioritize things to fix (and maybe some of these are already fixed in open tickets).  The top 20 error messages this brings up (excluding `NameError`s) are:\n\n* `470     TypeError: unhashable type: 'NCPolynomialIdeal'`\n* `360     TypeError: unhashable type: 'HyperellipticCurve_g2_rational_field_with_category'`\n* `229     TypeError: expected bytes, str found`\n* `196     TypeError: object of type 'map' has no len()`\n* `176     TypeError: 'dict_values' object does not support indexing`\n* `176     AttributeError: attribute '__dict__' of 'type' objects is not writable` (this one I know is #24786, so I'm going to try merging that into my python3 branch and see what that helps)\n* `122     TypeError: '>' not supported between instances of 'float' and 'NoneType'`\n* `115     TypeError: unhashable type: 'HyperellipticCurve_padic_field_with_category'`\n* `104     AttributeError: 'list' object has no attribute 'items'`\n* `94     TypeError: sequence item 0: expected str instance, bytes found`\n* `90     TypeError: unhashable type: 'ChowGroup_class_with_category'`\n* `72     TypeError: <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_g2_rational_field.HyperellipticCurve_g2_rational_field_with_category'> is not hashable and does not implement _cache_key()`\n* `58     ValueError: Polyomino must be non empty`\n* `58     TypeError: 'dict_keys' object is not subscriptable`\n* `46     KeyError: ((<class 'sage.algebras.lie_algebras.classical_lie_algebra.LieAlgebraChevalleyBasis'>, Rational Field, ['A', 2]), ())`\n* `45     TypeError: must be str, not bytes`\n* `44     AttributeError: 'function' object has no attribute '__func__'`\n* `44     AttributeError: 'dict' object has no attribute 'iteritems'`\n* `40     KeyError: ((0, False), ())`\n* `39     IndexError: tuple index out of range`\n\nOf course, from this experiment there's often no easy way to see what the context is to these errors, an some of them might just occur hundreds of times in one module and not have a wide-reaching effect.  But it's worth looking into.  Grepping the test log for individual error messages helps give a better idea of where they might come from.",
    "created_at": "2018-07-26T16:17:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196492",
    "user": "https://github.com/embray"
}
```

I recently ran the doctests on my python3 branch (which contains many fixes not in develop yet, though I've yet to incorporate all the existing open tickets for python3 which might lead to more improvements).  I got roughly 540 failing modules.

Out of curiosity I thought I'd try a little experiment and ran the test log through the following:


```
$ sort logs/ptest.log | uniq -c | sort -nr
```


This just gives the text that appears most frequently in the test output.  Obviously the top examples are generic things like "6461     Traceback (most recent call last):"

But beyond that there are some interesting things that might help prioritize things to fix (and maybe some of these are already fixed in open tickets).  The top 20 error messages this brings up (excluding `NameError`s) are:

* `470     TypeError: unhashable type: 'NCPolynomialIdeal'`
* `360     TypeError: unhashable type: 'HyperellipticCurve_g2_rational_field_with_category'`
* `229     TypeError: expected bytes, str found`
* `196     TypeError: object of type 'map' has no len()`
* `176     TypeError: 'dict_values' object does not support indexing`
* `176     AttributeError: attribute '__dict__' of 'type' objects is not writable` (this one I know is #24786, so I'm going to try merging that into my python3 branch and see what that helps)
* `122     TypeError: '>' not supported between instances of 'float' and 'NoneType'`
* `115     TypeError: unhashable type: 'HyperellipticCurve_padic_field_with_category'`
* `104     AttributeError: 'list' object has no attribute 'items'`
* `94     TypeError: sequence item 0: expected str instance, bytes found`
* `90     TypeError: unhashable type: 'ChowGroup_class_with_category'`
* `72     TypeError: <class 'sage.schemes.hyperelliptic_curves.hyperelliptic_g2_rational_field.HyperellipticCurve_g2_rational_field_with_category'> is not hashable and does not implement _cache_key()`
* `58     ValueError: Polyomino must be non empty`
* `58     TypeError: 'dict_keys' object is not subscriptable`
* `46     KeyError: ((<class 'sage.algebras.lie_algebras.classical_lie_algebra.LieAlgebraChevalleyBasis'>, Rational Field, ['A', 2]), ())`
* `45     TypeError: must be str, not bytes`
* `44     AttributeError: 'function' object has no attribute '__func__'`
* `44     AttributeError: 'dict' object has no attribute 'iteritems'`
* `40     KeyError: ((0, False), ())`
* `39     IndexError: tuple index out of range`

Of course, from this experiment there's often no easy way to see what the context is to these errors, an some of them might just occur hundreds of times in one module and not have a wide-reaching effect.  But it's worth looking into.  Grepping the test log for individual error messages helps give a better idea of where they might come from.



---

archive/issue_comments_196493.json:
```json
{
    "body": "Another potentially interesting heuristic, though I haven't tested how effective this is yet is something like:\n\n\n```\n$ grep 'doctest.*failed' logs/ptest.log | sort -k 5 -nr | head -20\n```\n\n\nshowing me the modules with the most failures.\n\nOn my latest python3 branch (which has all the currently open python3 tickets merged in, as well as some other fixes) I have:\n\n\n```\nsage -t src/sage/misc/explain_pickle.py  # 71 doctests failed\nsage -t src/sage/calculus/riemann.pyx  # 67 doctests failed\nsage -t src/sage/libs/lcalc/lcalc_Lfunction.pyx  # 58 doctests failed\nsage -t src/sage/combinat/free_dendriform_algebra.py  # 50 doctests failed\nsage -t src/sage/combinat/words/finite_word.py  # 47 doctests failed\nsage -t src/doc/en/thematic_tutorials/sandpile.rst  # 45 doctests failed\nsage -t src/sage/matrix/compute_J_ideal.py  # 44 doctests failed\nsage -t src/sage/graphs/generic_graph.py  # 41 doctests failed\nsage -t src/sage/schemes/riemann_surfaces/riemann_surface.py  # 36 doctests failed\nsage -t src/sage/sandpiles/sandpile.py  # 34 doctests failed\nsage -t src/sage/combinat/hillman_grassl.py  # 34 doctests failed\nsage -t src/sage/combinat/cluster_algebra_quiver/quiver.py  # 33 doctests failed\nsage -t src/sage/combinat/finite_state_machine.py  # 32 doctests failed\nsage -t src/sage/rings/polynomial/real_roots.pyx  # 29 doctests failed\nsage -t src/sage/coding/source_coding/huffman.py  # 26 doctests failed\nsage -t src/sage/combinat/diagram_algebras.py  # 25 doctests failed\nsage -t src/sage/matroids/matroid.pyx  # 23 doctests failed\nsage -t src/sage/combinat/rigged_configurations/kr_tableaux.py  # 23 doctests failed\nsage -t src/sage/combinat/cluster_algebra_quiver/cluster_seed.py  # 22 doctests failed\nsage -t src/sage/graphs/graph.py  # 20 doctests failed\n```\n\n\nWith the exception of \"explain_pickle\" which is kind of a special case (and one I'm not sure what to do with), my guess is that modules with many failing tests indicate something that is deeply broken enough which, if fixed, might have far reaching consequences both within that module itself, and other modules that depend on it. \n\nOf course this isn't always going to be the case--sometimes the failures might be very localized.  But this gives some idea of where the most effort is needed.",
    "created_at": "2018-07-30T11:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196493",
    "user": "https://github.com/embray"
}
```

Another potentially interesting heuristic, though I haven't tested how effective this is yet is something like:


```
$ grep 'doctest.*failed' logs/ptest.log | sort -k 5 -nr | head -20
```


showing me the modules with the most failures.

On my latest python3 branch (which has all the currently open python3 tickets merged in, as well as some other fixes) I have:


```
sage -t src/sage/misc/explain_pickle.py  # 71 doctests failed
sage -t src/sage/calculus/riemann.pyx  # 67 doctests failed
sage -t src/sage/libs/lcalc/lcalc_Lfunction.pyx  # 58 doctests failed
sage -t src/sage/combinat/free_dendriform_algebra.py  # 50 doctests failed
sage -t src/sage/combinat/words/finite_word.py  # 47 doctests failed
sage -t src/doc/en/thematic_tutorials/sandpile.rst  # 45 doctests failed
sage -t src/sage/matrix/compute_J_ideal.py  # 44 doctests failed
sage -t src/sage/graphs/generic_graph.py  # 41 doctests failed
sage -t src/sage/schemes/riemann_surfaces/riemann_surface.py  # 36 doctests failed
sage -t src/sage/sandpiles/sandpile.py  # 34 doctests failed
sage -t src/sage/combinat/hillman_grassl.py  # 34 doctests failed
sage -t src/sage/combinat/cluster_algebra_quiver/quiver.py  # 33 doctests failed
sage -t src/sage/combinat/finite_state_machine.py  # 32 doctests failed
sage -t src/sage/rings/polynomial/real_roots.pyx  # 29 doctests failed
sage -t src/sage/coding/source_coding/huffman.py  # 26 doctests failed
sage -t src/sage/combinat/diagram_algebras.py  # 25 doctests failed
sage -t src/sage/matroids/matroid.pyx  # 23 doctests failed
sage -t src/sage/combinat/rigged_configurations/kr_tableaux.py  # 23 doctests failed
sage -t src/sage/combinat/cluster_algebra_quiver/cluster_seed.py  # 22 doctests failed
sage -t src/sage/graphs/graph.py  # 20 doctests failed
```


With the exception of "explain_pickle" which is kind of a special case (and one I'm not sure what to do with), my guess is that modules with many failing tests indicate something that is deeply broken enough which, if fixed, might have far reaching consequences both within that module itself, and other modules that depend on it. 

Of course this isn't always going to be the case--sometimes the failures might be very localized.  But this gives some idea of where the most effort is needed.



---

archive/issue_comments_196494.json:
```json
{
    "body": "Well, based on the example above, I found *one* one-line bug in `sage.calculus.riemann` (#25974) which fixed all the tests in that module, as well as 7 other modules.  Still very anecdotal, but at least one good result from that heuristic.",
    "created_at": "2018-07-30T12:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196494",
    "user": "https://github.com/embray"
}
```

Well, based on the example above, I found *one* one-line bug in `sage.calculus.riemann` (#25974) which fixed all the tests in that module, as well as 7 other modules.  Still very anecdotal, but at least one good result from that heuristic.



---

archive/issue_comments_196495.json:
```json
{
    "body": "In sage-on-gentoo I get in the following trouble a lot with python3\n\n```\n      File \"sage/libs/gap/util.pyx\", line 199, in sage.libs.gap.util.initialize (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_6/build/cythonized/sage/libs/gap/util.c:4452)\n        s = str_to_bytes(gap_root(), FS_ENCODING, \"surrogateescape\")\n      File \"sage/libs/gap/util.pyx\", line 171, in sage.libs.gap.util.gap_root (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_6/build/cythonized/sage/libs/gap/util.c:4232)\n        gapdir = filter(lambda dir:dir.strip().startswith('GAP_DIR'), gap_sh)[0]\n    TypeError: 'filter' object is not subscriptable\n```\n\nBut I am guessing that it is not seen in vanilla sage because I apply the following patch\n\n```diff\ndiff --git a/sage/libs/gap/util.pyx b/sage/libs/gap/util.pyx\nindex 97703ff..48dc617 100644\n--- a/sage/libs/gap/util.pyx\n+++ b/sage/libs/gap/util.pyx\n@@ -23,7 +23,7 @@ from .element cimport *\n from sage.cpython.string import FS_ENCODING\n from sage.cpython.string cimport str_to_bytes, char_to_str\n from sage.interfaces.gap_workspace import prepare_workspace_dir\n-from sage.env import SAGE_LOCAL, GAP_ROOT_DIR\n+from sage.env import SAGE_LOCAL\n \n \n ############################################################################\n@@ -167,9 +167,6 @@ def gap_root():\n         '/home/vbraun/opt/sage-5.3.rc0/local/gap/latest'\n     \"\"\"\n     import os.path\n-    if os.path.exists(GAP_ROOT_DIR):\n-        return GAP_ROOT_DIR\n-    print('The gap-4.5.5.spkg (or later) seems to be not installed!')\n     gap_sh = open(os.path.join(SAGE_LOCAL, 'bin', 'gap')).read().splitlines()\n     gapdir = filter(lambda dir:dir.strip().startswith('GAP_DIR'), gap_sh)[0]\n     gapdir = gapdir.split('\"')[1]\n```\n\nvanilla never shows the problem because it uses `GAP_ROOT_DIR`, which I find an hindrance as it presuppose a way of installing `gap`, the alternate code that comes after works well enough - at least with python2. But obviously not with python3.\n\nAny suggestions on fixing this?",
    "created_at": "2018-11-06T21:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196495",
    "user": "https://github.com/kiwifb"
}
```

In sage-on-gentoo I get in the following trouble a lot with python3

```
      File "sage/libs/gap/util.pyx", line 199, in sage.libs.gap.util.initialize (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_6/build/cythonized/sage/libs/gap/util.c:4452)
        s = str_to_bytes(gap_root(), FS_ENCODING, "surrogateescape")
      File "sage/libs/gap/util.pyx", line 171, in sage.libs.gap.util.gap_root (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_6/build/cythonized/sage/libs/gap/util.c:4232)
        gapdir = filter(lambda dir:dir.strip().startswith('GAP_DIR'), gap_sh)[0]
    TypeError: 'filter' object is not subscriptable
```

But I am guessing that it is not seen in vanilla sage because I apply the following patch

```diff
diff --git a/sage/libs/gap/util.pyx b/sage/libs/gap/util.pyx
index 97703ff..48dc617 100644
--- a/sage/libs/gap/util.pyx
+++ b/sage/libs/gap/util.pyx
@@ -23,7 +23,7 @@ from .element cimport *
 from sage.cpython.string import FS_ENCODING
 from sage.cpython.string cimport str_to_bytes, char_to_str
 from sage.interfaces.gap_workspace import prepare_workspace_dir
-from sage.env import SAGE_LOCAL, GAP_ROOT_DIR
+from sage.env import SAGE_LOCAL
 
 
 ############################################################################
@@ -167,9 +167,6 @@ def gap_root():
         '/home/vbraun/opt/sage-5.3.rc0/local/gap/latest'
     """
     import os.path
-    if os.path.exists(GAP_ROOT_DIR):
-        return GAP_ROOT_DIR
-    print('The gap-4.5.5.spkg (or later) seems to be not installed!')
     gap_sh = open(os.path.join(SAGE_LOCAL, 'bin', 'gap')).read().splitlines()
     gapdir = filter(lambda dir:dir.strip().startswith('GAP_DIR'), gap_sh)[0]
     gapdir = gapdir.split('"')[1]
```

vanilla never shows the problem because it uses `GAP_ROOT_DIR`, which I find an hindrance as it presuppose a way of installing `gap`, the alternate code that comes after works well enough - at least with python2. But obviously not with python3.

Any suggestions on fixing this?



---

archive/issue_comments_196496.json:
```json
{
    "body": "replace\n\n```\ngapdir = filter(lambda dir:dir.strip().startswith('GAP_DIR'), gap_sh)[0]\n```\n\nby\n\n```\ngapdir = next(dir for dir in gap_sh if dir.strip().startswith('GAP_DIR'))\n```\n\n? Please make a ticket.",
    "created_at": "2018-11-07T19:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196496",
    "user": "https://github.com/fchapoton"
}
```

replace

```
gapdir = filter(lambda dir:dir.strip().startswith('GAP_DIR'), gap_sh)[0]
```

by

```
gapdir = next(dir for dir in gap_sh if dir.strip().startswith('GAP_DIR'))
```

? Please make a ticket.



---

archive/issue_comments_196497.json:
```json
{
    "body": "OK will try that and create a ticket when I can. This has escaped detection so far because it is not doctested.",
    "created_at": "2018-11-07T19:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196497",
    "user": "https://github.com/kiwifb"
}
```

OK will try that and create a ticket when I can. This has escaped detection so far because it is not doctested.



---

archive/issue_comments_196498.json:
```json
{
    "body": "Replying to [comment:66 fbissey]:\n> OK will try that and create a ticket when I can. This has escaped detection so far because it is not doctested.\n\nPerhaps it should be?",
    "created_at": "2018-11-08T13:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196498",
    "user": "https://github.com/embray"
}
```

Replying to [comment:66 fbissey]:
> OK will try that and create a ticket when I can. This has escaped detection so far because it is not doctested.

Perhaps it should be?



---

archive/issue_comments_196499.json:
```json
{
    "body": "Replying to [comment:67 embray]:\n> Replying to [comment:66 fbissey]:\n> > OK will try that and create a ticket when I can. This has escaped detection so far because it is not doctested.\n> \n> Perhaps it should be?\n\nDefinitely.",
    "created_at": "2018-11-08T19:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196499",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:67 embray]:
> Replying to [comment:66 fbissey]:
> > OK will try that and create a ticket when I can. This has escaped detection so far because it is not doctested.
> 
> Perhaps it should be?

Definitely.



---

archive/issue_comments_196500.json:
```json
{
    "body": "Replying to [comment:65 chapoton]:\n> replace\n> {{{\n> gapdir = filter(lambda dir:dir.strip().startswith('GAP_DIR'), gap_sh)[0]\n> }}}\n> by\n> {{{\n> gapdir = next(dir for dir in gap_sh if dir.strip().startswith('GAP_DIR'))\n> }}}\n> ? Please make a ticket.\n\nThat works, but to be complete, it will also need some doctest. It is now #26665.",
    "created_at": "2018-11-08T20:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196500",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:65 chapoton]:
> replace
> {{{
> gapdir = filter(lambda dir:dir.strip().startswith('GAP_DIR'), gap_sh)[0]
> }}}
> by
> {{{
> gapdir = next(dir for dir in gap_sh if dir.strip().startswith('GAP_DIR'))
> }}}
> ? Please make a ticket.

That works, but to be complete, it will also need some doctest. It is now #26665.



---

archive/issue_comments_196501.json:
```json
{
    "body": "Shouldn't this ticket maintain a branch of with all the positively reviewed py3-related tickets?",
    "created_at": "2019-01-10T06:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196501",
    "user": "https://github.com/dimpase"
}
```

Shouldn't this ticket maintain a branch of with all the positively reviewed py3-related tickets?



---

archive/issue_comments_196502.json:
```json
{
    "body": "That might be useful: I do something like that manually anyways.",
    "created_at": "2019-01-10T15:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196502",
    "user": "https://github.com/embray"
}
```

That might be useful: I do something like that manually anyways.



---

archive/issue_comments_196503.json:
```json
{
    "body": "What are we going to do with animation support on Python 3?\nIt seems it is broken - the only (non-console, not sure about console though) possibility seems to be via jupyter+j(s)mol, and this\nhas not moved far: https://github.com/jupyter/notebook/issues/1872\n\nSee also the recent where people complain about broken animation on 8.9.\nhttps://groups.google.com/d/msg/sage-devel/OepzKdldklU/uf2eRVWuDAAJ",
    "created_at": "2019-10-16T14:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196503",
    "user": "https://github.com/dimpase"
}
```

What are we going to do with animation support on Python 3?
It seems it is broken - the only (non-console, not sure about console though) possibility seems to be via jupyter+j(s)mol, and this
has not moved far: https://github.com/jupyter/notebook/issues/1872

See also the recent where people complain about broken animation on 8.9.
https://groups.google.com/d/msg/sage-devel/OepzKdldklU/uf2eRVWuDAAJ



---

archive/issue_comments_196504.json:
```json
{
    "body": "Dima, can you provide more details? For the second paragraph, the sage-devel thread gives an example of something which doesn't work in the legacy Sage notebook (their example starts with the command `notebook()`). So that's not a Python 3 problem. It also doesn't seem to be discussing animation, but maybe I'm missing something. The problem in the first paragraph is about the Jupyter notebook, and I see the same problem with both Python 2 and Python 3.",
    "created_at": "2019-10-16T17:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196504",
    "user": "https://github.com/jhpalmieri"
}
```

Dima, can you provide more details? For the second paragraph, the sage-devel thread gives an example of something which doesn't work in the legacy Sage notebook (their example starts with the command `notebook()`). So that's not a Python 3 problem. It also doesn't seem to be discussing animation, but maybe I'm missing something. The problem in the first paragraph is about the Jupyter notebook, and I see the same problem with both Python 2 and Python 3.



---

archive/issue_comments_196505.json:
```json
{
    "body": "yes, the sage-devel thread discusses mostly sagenb, but the question is how to do the job in jupyter instead, and this appears to be a blocker, as this is a serious regression.\n\nDisclaimer: I do not know how to do animations in Sage. If someone who knows looked into this, it would be great.",
    "created_at": "2019-10-16T18:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196505",
    "user": "https://github.com/dimpase"
}
```

yes, the sage-devel thread discusses mostly sagenb, but the question is how to do the job in jupyter instead, and this appears to be a blocker, as this is a serious regression.

Disclaimer: I do not know how to do animations in Sage. If someone who knows looked into this, it would be great.



---

archive/issue_comments_196506.json:
```json
{
    "body": "Okay, it still feels like a Jupyter and/or JMol/threejs issue rather than a Python 3 issue.",
    "created_at": "2019-10-16T19:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196506",
    "user": "https://github.com/jhpalmieri"
}
```

Okay, it still feels like a Jupyter and/or JMol/threejs issue rather than a Python 3 issue.



---

archive/issue_comments_196507.json:
```json
{
    "body": "it is a Python 3 issue, as one does not have sagenb there, while sagenb (at least before Sage 8.9) was able to do animations.",
    "created_at": "2019-10-16T20:05:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196507",
    "user": "https://github.com/dimpase"
}
```

it is a Python 3 issue, as one does not have sagenb there, while sagenb (at least before Sage 8.9) was able to do animations.



---

archive/issue_comments_196508.json:
```json
{
    "body": "Regarding the animation issue, see my tests on the sage-devel thread just now.  It does somehow seem to be an integration between sagenb and new j(s)mol thing.  As for \"how to do animations\", all they meant was \"make a 3d graphic, and then try to make it movable by clicking the little circle in jmol\", not using an actual animation command.  I'd encourage a few others to try using `viewer='jmol'` in Jupyter in the 9.0 series to see what happens.",
    "created_at": "2019-11-07T14:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196508",
    "user": "https://github.com/kcrisman"
}
```

Regarding the animation issue, see my tests on the sage-devel thread just now.  It does somehow seem to be an integration between sagenb and new j(s)mol thing.  As for "how to do animations", all they meant was "make a 3d graphic, and then try to make it movable by clicking the little circle in jmol", not using an actual animation command.  I'd encourage a few others to try using `viewer='jmol'` in Jupyter in the 9.0 series to see what happens.



---

archive/issue_comments_196509.json:
```json
{
    "body": "Is anything left to be done here or can the ticket be closed?",
    "created_at": "2020-04-12T00:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196509",
    "user": "https://github.com/mkoeppe"
}
```

Is anything left to be done here or can the ticket be closed?



---

archive/issue_comments_196510.json:
```json
{
    "body": "see #30053 for a blocker for 3.x, for x<7.",
    "created_at": "2020-09-15T11:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196510",
    "user": "https://github.com/dimpase"
}
```

see #30053 for a blocker for 3.x, for x<7.



---

archive/issue_comments_196511.json:
```json
{
    "body": "Let's close this metaticket to signal the completion of the Python 3 transition.",
    "created_at": "2020-09-15T15:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196511",
    "user": "https://github.com/mkoeppe"
}
```

Let's close this metaticket to signal the completion of the Python 3 transition.



---

archive/issue_comments_196512.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-15T15:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196512",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_196513.json:
```json
{
    "body": "ok, done",
    "created_at": "2020-09-15T16:25:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196513",
    "user": "https://github.com/dimpase"
}
```

ok, done



---

archive/issue_comments_196514.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-15T16:25:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196514",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_196515.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-10-11T17:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15293#issuecomment-196515",
    "user": "https://github.com/slel"
}
```

Resolution: fixed



---

archive/issue_events_014949.json:
```json
{
    "actor": "@slel",
    "created_at": "2020-10-11T17:17:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15293",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15293#event-14949"
}
```
