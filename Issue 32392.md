# Issue 32392: quantum determinant

archive/issues_032392.json:
```json
{
    "body": "CC:  @tscrim\n\nThis adds a method `quantum_determinant` to matrices, which is needed for the colored Jones polynomial, see #32582.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32629\n\n",
    "created_at": "2021-10-05T09:24:54Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "quantum determinant",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32392",
    "user": "https://github.com/mo271"
}
```
CC:  @tscrim

This adds a method `quantum_determinant` to matrices, which is needed for the colored Jones polynomial, see #32582.

Issue created by migration from https://trac.sagemath.org/ticket/32629





---

archive/issue_comments_461576.json:
```json
{
    "body": "Ready for review?",
    "created_at": "2021-10-05T09:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461576",
    "user": "https://github.com/tscrim"
}
```

Ready for review?



---

archive/issue_comments_461577.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-05T09:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461577",
    "user": "https://github.com/mo271"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_461578.json:
```json
{
    "body": "I made some code tweaks to speed it up and did some documentation cleanup. If my changes are good, then positive review.\n----\nNew commits:",
    "created_at": "2021-10-05T10:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461578",
    "user": "https://github.com/tscrim"
}
```

I made some code tweaks to speed it up and did some documentation cleanup. If my changes are good, then positive review.
----
New commits:



---

archive/issue_comments_461579.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-05T10:35:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461579",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_461580.json:
```json
{
    "body": "Thank you, Travis, for the quick review!",
    "created_at": "2021-10-05T10:35:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461580",
    "user": "https://github.com/mo271"
}
```

Thank you, Travis, for the quick review!



---

archive/issue_comments_461581.json:
```json
{
    "body": "May be you could add a short description of the notion of quantum determinant.",
    "created_at": "2021-10-05T11:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461581",
    "user": "https://github.com/dcoudert"
}
```

May be you could add a short description of the notion of quantum determinant.



---

archive/issue_comments_461582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-10-05T12:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_461583.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-10-05T12:12:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_461584.json:
```json
{
    "body": "Replying to [comment:5 dcoudert]:\n> May be you could add a short description of the notion of quantum determinant.\n\nIndeed, I have done that. I also added an alias `qdet`.",
    "created_at": "2021-10-05T12:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461584",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:5 dcoudert]:
> May be you could add a short description of the notion of quantum determinant.

Indeed, I have done that. I also added an alias `qdet`.



---

archive/issue_comments_461585.json:
```json
{
    "body": "Thank you.\n\nYypos: `a symmetric` and `written`, so\n\n```diff\n-        where `S_n` is symmetric group on `\\{1, \\ldots, n\\}` and\n-        `\\ell(\\sigma)` denotes the length of `\\sigma` witten as simple\n-        transpositions (equivalently the number of inversions when\n-        written in one-line notation).\n+        where `S_n` is a symmetric group on `\\{1, \\ldots, n\\}` and\n+        `\\ell(\\sigma)` denotes the length of `\\sigma` written as simple\n+        transpositions (equivalently the number of inversions when\n+        written in one-line notation).\n```\n",
    "created_at": "2021-10-05T12:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461585",
    "user": "https://github.com/dcoudert"
}
```

Thank you.

Yypos: `a symmetric` and `written`, so

```diff
-        where `S_n` is symmetric group on `\{1, \ldots, n\}` and
-        `\ell(\sigma)` denotes the length of `\sigma` witten as simple
-        transpositions (equivalently the number of inversions when
-        written in one-line notation).
+        where `S_n` is a symmetric group on `\{1, \ldots, n\}` and
+        `\ell(\sigma)` denotes the length of `\sigma` written as simple
+        transpositions (equivalently the number of inversions when
+        written in one-line notation).
```




---

archive/issue_comments_461586.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-05T12:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_461587.json:
```json
{
    "body": "Fixed the yypos. `:P`",
    "created_at": "2021-10-05T12:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461587",
    "user": "https://github.com/tscrim"
}
```

Fixed the yypos. `:P`



---

archive/issue_comments_461588.json:
```json
{
    "body": "Thanks.",
    "created_at": "2021-10-05T12:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461588",
    "user": "https://github.com/dcoudert"
}
```

Thanks.



---

archive/issue_comments_461589.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-05T12:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461589",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_461590.json:
```json
{
    "body": "To respect the usual (row, column) matrix indexing convention,\nI would change:\n\n```diff\n-            sage: A = matrix([[SR(f'a{i}{j}') for i in range(2)]\n-            ....:             for j in range(2)]); A\n-            [a00 a10]\n-            [a01 a11]\n+            sage: A = matrix([[SR(f'a{i}{j}') for j in range(2)]\n+            ....:             for i in range(2)]); A\n+            [a00 a01]\n+            [a10 a11]\n```\n\n\n```diff\n-            sage: A = matrix([[SR(f'a{i}{j}') for i in range(3)]\n-            ....:             for j in range(3)])\n+            sage: A = matrix([[SR(f'a{i}{j}') for j in range(3)]\n+            ....:             for i in range(3)])\n```\n\nor shorten those to:\n\n```diff\n+            sage: A = matrix(SR, 2, lambda i, j: f'a{i}{j}'); A\n+            [a00 a01]\n+            [a10 a11]\n```\n\n\n```diff\n+            sage: A = matrix(SR, 3, lambda i, j: f'a{i}{j}')\n```\n\nThis has had positive review for a while though,\nso maybe in a follow-up ticket?",
    "created_at": "2021-10-18T11:47:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461590",
    "user": "https://github.com/slel"
}
```

To respect the usual (row, column) matrix indexing convention,
I would change:

```diff
-            sage: A = matrix([[SR(f'a{i}{j}') for i in range(2)]
-            ....:             for j in range(2)]); A
-            [a00 a10]
-            [a01 a11]
+            sage: A = matrix([[SR(f'a{i}{j}') for j in range(2)]
+            ....:             for i in range(2)]); A
+            [a00 a01]
+            [a10 a11]
```


```diff
-            sage: A = matrix([[SR(f'a{i}{j}') for i in range(3)]
-            ....:             for j in range(3)])
+            sage: A = matrix([[SR(f'a{i}{j}') for j in range(3)]
+            ....:             for i in range(3)])
```

or shorten those to:

```diff
+            sage: A = matrix(SR, 2, lambda i, j: f'a{i}{j}'); A
+            [a00 a01]
+            [a10 a11]
```


```diff
+            sage: A = matrix(SR, 3, lambda i, j: f'a{i}{j}')
```

This has had positive review for a while though,
so maybe in a follow-up ticket?



---

archive/issue_comments_461591.json:
```json
{
    "body": "Probably best as a followup.",
    "created_at": "2021-10-18T22:44:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461591",
    "user": "https://github.com/tscrim"
}
```

Probably best as a followup.



---

archive/issue_events_029387.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-19T20:32:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32392#event-29387"
}
```



---

archive/issue_comments_461592.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-19T20:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461592",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_461593.json:
```json
{
    "body": "Replying to [comment:12 slelievre]:\n> To respect the usual (row, column) matrix indexing convention,\n> I would change:\n> {{{#!diff\n> -            sage: A = matrix([[SR(f'a{i}{j}') for i in range(2)]\n> -            ....:             for j in range(2)]); A\n> -            [a00 a10]\n> -            [a01 a11]\n> +            sage: A = matrix([[SR(f'a{i}{j}') for j in range(2)]\n> +            ....:             for i in range(2)]); A\n> +            [a00 a01]\n> +            [a10 a11]\n> }}}\n> {{{#!diff\n> -            sage: A = matrix([[SR(f'a{i}{j}') for i in range(3)]\n> -            ....:             for j in range(3)])\n> +            sage: A = matrix([[SR(f'a{i}{j}') for j in range(3)]\n> +            ....:             for i in range(3)])\n> }}}\n> or shorten those to:\n> {{{#!diff\n> +            sage: A = matrix(SR, 2, lambda i, j: f'a{i}{j}'); A\n> +            [a00 a01]\n> +            [a10 a11]\n> }}}\n> {{{#!diff\n> +            sage: A = matrix(SR, 3, lambda i, j: f'a{i}{j}')\n> }}}\n> This has had positive review for a while though,\n> so maybe in a follow-up ticket?\nThanks for pointing that out! Proposed fix in ticket:32739.",
    "created_at": "2021-10-22T07:35:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32392",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32392#issuecomment-461593",
    "user": "https://github.com/mo271"
}
```

Replying to [comment:12 slelievre]:
> To respect the usual (row, column) matrix indexing convention,
> I would change:
> {{{#!diff
> -            sage: A = matrix([[SR(f'a{i}{j}') for i in range(2)]
> -            ....:             for j in range(2)]); A
> -            [a00 a10]
> -            [a01 a11]
> +            sage: A = matrix([[SR(f'a{i}{j}') for j in range(2)]
> +            ....:             for i in range(2)]); A
> +            [a00 a01]
> +            [a10 a11]
> }}}
> {{{#!diff
> -            sage: A = matrix([[SR(f'a{i}{j}') for i in range(3)]
> -            ....:             for j in range(3)])
> +            sage: A = matrix([[SR(f'a{i}{j}') for j in range(3)]
> +            ....:             for i in range(3)])
> }}}
> or shorten those to:
> {{{#!diff
> +            sage: A = matrix(SR, 2, lambda i, j: f'a{i}{j}'); A
> +            [a00 a01]
> +            [a10 a11]
> }}}
> {{{#!diff
> +            sage: A = matrix(SR, 3, lambda i, j: f'a{i}{j}')
> }}}
> This has had positive review for a while though,
> so maybe in a follow-up ticket?
Thanks for pointing that out! Proposed fix in ticket:32739.
