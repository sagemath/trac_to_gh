# Issue 32392: quantum determinant

Issue created by migration from https://trac.sagemath.org/ticket/32629

Original creator: moritz

Original creation time: 2021-10-05 09:24:54

CC:  tscrim

This adds a method `quantum_determinant` to matrices, which is needed for the colored Jones polynomial, see #32582.


---

Comment by tscrim created at 2021-10-05 09:34:24

Ready for review?


---

Comment by moritz created at 2021-10-05 09:45:14

Changing status from new to needs_review.


---

Comment by tscrim created at 2021-10-05 10:10:54

I made some code tweaks to speed it up and did some documentation cleanup. If my changes are good, then positive review.
----
New commits:


---

Comment by moritz created at 2021-10-05 10:35:56

Changing status from needs_review to positive_review.


---

Comment by moritz created at 2021-10-05 10:35:56

Thank you, Travis, for the quick review!


---

Comment by dcoudert created at 2021-10-05 11:05:47

May be you could add a short description of the notion of quantum determinant.


---

Comment by git created at 2021-10-05 12:12:39

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2021-10-05 12:12:39

Changing status from positive_review to needs_review.


---

Comment by tscrim created at 2021-10-05 12:13:31

Replying to [comment:5 dcoudert]:
> May be you could add a short description of the notion of quantum determinant.

Indeed, I have done that. I also added an alias `qdet`.


---

Comment by dcoudert created at 2021-10-05 12:16:29

Thank you.

Yypos: `a symmetric` and `written`, so

```diff
-        where `S_n` is symmetric group on `\{1, \ldots, n\}` and
-        `\ell(\sigma)` denotes the length of `\sigma` witten as simple
-        transpositions (equivalently the number of inversions when
-        written in one-line notation).
+        where `S_n` is a symmetric group on `\{1, \ldots, n\}` and
+        `\ell(\sigma)` denotes the length of `\sigma` written as simple
+        transpositions (equivalently the number of inversions when
+        written in one-line notation).
```



---

Comment by git created at 2021-10-05 12:34:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-10-05 12:35:03

Fixed the yypos. `:P`


---

Comment by dcoudert created at 2021-10-05 12:35:48

Thanks.


---

Comment by dcoudert created at 2021-10-05 12:35:48

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-10-18 11:47:00

To respect the usual (row, column) matrix indexing convention,
I would change:

```diff
-            sage: A = matrix([[SR(f'a{i}{j}') for i in range(2)]
-            ....:             for j in range(2)]); A
-            [a00 a10]
-            [a01 a11]
+            sage: A = matrix([[SR(f'a{i}{j}') for j in range(2)]
+            ....:             for i in range(2)]); A
+            [a00 a01]
+            [a10 a11]
```


```diff
-            sage: A = matrix([[SR(f'a{i}{j}') for i in range(3)]
-            ....:             for j in range(3)])
+            sage: A = matrix([[SR(f'a{i}{j}') for j in range(3)]
+            ....:             for i in range(3)])
```

or shorten those to:

```diff
+            sage: A = matrix(SR, 2, lambda i, j: f'a{i}{j}'); A
+            [a00 a01]
+            [a10 a11]
```


```diff
+            sage: A = matrix(SR, 3, lambda i, j: f'a{i}{j}')
```

This has had positive review for a while though,
so maybe in a follow-up ticket?


---

Comment by tscrim created at 2021-10-18 22:44:20

Probably best as a followup.


---

Comment by vbraun created at 2021-10-19 20:32:05

Resolution: fixed


---

Comment by moritz created at 2021-10-22 07:35:38

Replying to [comment:12 slelievre]:
> To respect the usual (row, column) matrix indexing convention,
> I would change:
> {{{#!diff
> -            sage: A = matrix([[SR(f'a{i}{j}') for i in range(2)]
> -            ....:             for j in range(2)]); A
> -            [a00 a10]
> -            [a01 a11]
> +            sage: A = matrix([[SR(f'a{i}{j}') for j in range(2)]
> +            ....:             for i in range(2)]); A
> +            [a00 a01]
> +            [a10 a11]
> }}}
> {{{#!diff
> -            sage: A = matrix([[SR(f'a{i}{j}') for i in range(3)]
> -            ....:             for j in range(3)])
> +            sage: A = matrix([[SR(f'a{i}{j}') for j in range(3)]
> +            ....:             for i in range(3)])
> }}}
> or shorten those to:
> {{{#!diff
> +            sage: A = matrix(SR, 2, lambda i, j: f'a{i}{j}'); A
> +            [a00 a01]
> +            [a10 a11]
> }}}
> {{{#!diff
> +            sage: A = matrix(SR, 3, lambda i, j: f'a{i}{j}')
> }}}
> This has had positive review for a while though,
> so maybe in a follow-up ticket?
Thanks for pointing that out! Proposed fix in ticket:32739.
