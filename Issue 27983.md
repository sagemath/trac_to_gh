# Issue 27983: Cythonize all_simple_paths, all_paths_iterator and _all_paths_iterator

archive/issues_027983.json:
```json
{
    "body": "CC:  @dcoudert\n\nKeywords: gsoc19\n\nThis ticket aims to cythonize the above methods using cython variables and cython data structures to make them fast and efficient. It depends on #27859 in which these methods were moved to separate file path_enumeration.pyx\n\nIssue created by migration from https://trac.sagemath.org/ticket/28220\n\n",
    "created_at": "2019-07-21T02:08:01Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Cythonize all_simple_paths, all_paths_iterator and _all_paths_iterator",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27983",
    "user": "@rajat1433"
}
```
CC:  @dcoudert

Keywords: gsoc19

This ticket aims to cythonize the above methods using cython variables and cython data structures to make them fast and efficient. It depends on #27859 in which these methods were moved to separate file path_enumeration.pyx

Issue created by migration from https://trac.sagemath.org/ticket/28220





---

archive/issue_comments_395321.json:
```json
{
    "body": "Create distinct methods to make sure you can compare results.",
    "created_at": "2019-07-22T00:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395321",
    "user": "@dcoudert"
}
```

Create distinct methods to make sure you can compare results.



---

archive/issue_comments_395322.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2019-07-30T10:29:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395322",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_395323.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-30T10:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395323",
    "user": "@rajat1433"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_395324.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T16:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395324",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395325.json:
```json
{
    "body": "Can you summarize what you did and what else you plan to do. It's not easy to see from the code (ok, the last commit is clear).",
    "created_at": "2019-07-31T16:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395325",
    "user": "@dcoudert"
}
```

Can you summarize what you did and what else you plan to do. It's not easy to see from the code (ok, the last commit is clear).



---

archive/issue_comments_395326.json:
```json
{
    "body": "I have added three new methods all_simple_paths_cython, all_paths_iterator_cython and _all_paths_iterator_cython and used the priority_queue data structure instead of python heap.\nI have also used cython variable declarations. I have tested the time complexity and the improvement in time is very minute. I am looking for more cythonic style improvements. If you have any in mind w.r.t. these methods it will be helpful here.",
    "created_at": "2019-07-31T16:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395326",
    "user": "@rajat1433"
}
```

I have added three new methods all_simple_paths_cython, all_paths_iterator_cython and _all_paths_iterator_cython and used the priority_queue data structure instead of python heap.
I have also used cython variable declarations. I have tested the time complexity and the improvement in time is very minute. I am looking for more cythonic style improvements. If you have any in mind w.r.t. these methods it will be helpful here.



---

archive/issue_comments_395327.json:
```json
{
    "body": "Also I have based it on top of #27859.",
    "created_at": "2019-07-31T17:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395327",
    "user": "@rajat1433"
}
```

Also I have based it on top of #27859.



---

archive/issue_comments_395328.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T18:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395328",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395329.json:
```json
{
    "body": "\n```\nsage: g = digraphs.Paley(11)\nsage: %timeit l = g.all_simple_paths(starting_vertices=[0], ending_vertices=[9],\n....:  trivial=False)\n1 loop, best of 3: 737 ms per loop\nsage: \nsage: %timeit l = g.all_simple_paths_cython(starting_vertices=[0], ending_vertic\n....: es=[9], trivial=False)\n1 loop, best of 3: 722 ms per loop\n\nsage: d = digraphs.DeBruijn(3, 2)\nsage: %timeit l = d.all_simple_paths_cython(starting_vertices=['00'], ending_ver\n....: tices=['22'], trivial=False)\n100 loops, best of 3: 2.16 ms per loop\nsage: %timeit l = d.all_simple_paths(starting_vertices=['00'], ending_vertices=[\n....: '22'], trivial=False)\n100 loops, best of 3: 2.44 ms per loop\n```\n",
    "created_at": "2019-08-01T03:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395329",
    "user": "@rajat1433"
}
```


```
sage: g = digraphs.Paley(11)
sage: %timeit l = g.all_simple_paths(starting_vertices=[0], ending_vertices=[9],
....:  trivial=False)
1 loop, best of 3: 737 ms per loop
sage: 
sage: %timeit l = g.all_simple_paths_cython(starting_vertices=[0], ending_vertic
....: es=[9], trivial=False)
1 loop, best of 3: 722 ms per loop

sage: d = digraphs.DeBruijn(3, 2)
sage: %timeit l = d.all_simple_paths_cython(starting_vertices=['00'], ending_ver
....: tices=['22'], trivial=False)
100 loops, best of 3: 2.16 ms per loop
sage: %timeit l = d.all_simple_paths(starting_vertices=['00'], ending_vertices=[
....: '22'], trivial=False)
100 loops, best of 3: 2.44 ms per loop
```




---

archive/issue_comments_395330.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-01T10:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395330",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395331.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2019-08-05T03:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395331",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_395332.json:
```json
{
    "body": "I'm having hard time identifying the changes done in this ticket, so I will wait for the inclusion of #27859 before starting to review it.",
    "created_at": "2019-08-06T12:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395332",
    "user": "@dcoudert"
}
```

I'm having hard time identifying the changes done in this ticket, so I will wait for the inclusion of #27859 before starting to review it.



---

archive/issue_comments_395333.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-09T05:13:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395333",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395334.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-09T05:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395334",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395335.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-12T06:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395335",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395336.json:
```json
{
    "body": "You should do as for #28335: modify existing methods instead of creating new ones. There are no big changes in the methods justifying the creation of new methods.",
    "created_at": "2019-08-20T16:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395336",
    "user": "@dcoudert"
}
```

You should do as for #28335: modify existing methods instead of creating new ones. There are no big changes in the methods justifying the creation of new methods.



---

archive/issue_comments_395337.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-20T18:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395337",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395338.json:
```json
{
    "body": "I had created new methods to compare the time complexities etc. Now the methods have been merged and written in Cython.",
    "created_at": "2019-08-20T18:35:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395338",
    "user": "@rajat1433"
}
```

I had created new methods to compare the time complexities etc. Now the methods have been merged and written in Cython.



---

archive/issue_comments_395339.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-08-21T09:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395339",
    "user": "@dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_395340.json:
```json
{
    "body": "Replying to [comment:19 gh-rajat1433]:\n> I had created new methods to compare the time complexities etc. \nRight, I did not though about it. Sorry.\n\n> Now the methods have been merged and written in Cython.\nWell, if I understand well what you did, you simply declared the type of some variables and used a c++ priority queue instead of a Python queue at the cost of storing all reported paths in a list. This is not good enough. and I disagree with the current use of `idx_to_path` as this list may become giant.\n\nCan't you try to identify first which parts of the methods are critical and could certainly be improved ?",
    "created_at": "2019-08-21T09:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395340",
    "user": "@dcoudert"
}
```

Replying to [comment:19 gh-rajat1433]:
> I had created new methods to compare the time complexities etc. 
Right, I did not though about it. Sorry.

> Now the methods have been merged and written in Cython.
Well, if I understand well what you did, you simply declared the type of some variables and used a c++ priority queue instead of a Python queue at the cost of storing all reported paths in a list. This is not good enough. and I disagree with the current use of `idx_to_path` as this list may become giant.

Can't you try to identify first which parts of the methods are critical and could certainly be improved ?



---

archive/issue_comments_395341.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-23T17:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395341",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395342.json:
```json
{
    "body": "all_paths_iterator methods calls _all_paths_iterator method to get all the paths starting from a particular vertex and ending at a list of ending vertices. But as we see the code of _all_paths_iterator method  critical part there seems to be to get to the ending vertex from start but parameter max_length suggests to go step by step to ending vertex which the algorithm does. It explores all the paths to the ending vertices by putting them in the queue.\n\nI don't see much of a scope of improvement from algorithm point of view right now in these methods.  If you have any ideas , please let me know. But these methods are currently in cython now, in alignment with other methods of this module path_enumeration.pyx and faster.",
    "created_at": "2019-08-23T18:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395342",
    "user": "@rajat1433"
}
```

all_paths_iterator methods calls _all_paths_iterator method to get all the paths starting from a particular vertex and ending at a list of ending vertices. But as we see the code of _all_paths_iterator method  critical part there seems to be to get to the ending vertex from start but parameter max_length suggests to go step by step to ending vertex which the algorithm does. It explores all the paths to the ending vertices by putting them in the queue.

I don't see much of a scope of improvement from algorithm point of view right now in these methods.  If you have any ideas , please let me know. But these methods are currently in cython now, in alignment with other methods of this module path_enumeration.pyx and faster.



---

archive/issue_comments_395343.json:
```json
{
    "body": "There is a merge conflict with last beta.",
    "created_at": "2019-08-29T16:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395343",
    "user": "@dcoudert"
}
```

There is a merge conflict with last beta.



---

archive/issue_comments_395344.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-29T19:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395344",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395345.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-08-29T19:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395345",
    "user": "@rajat1433"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_395346.json:
```json
{
    "body": "I have rebased it on 8.9 beta8 and resolved the merge conflict.",
    "created_at": "2019-08-29T19:17:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395346",
    "user": "@rajat1433"
}
```

I have rebased it on 8.9 beta8 and resolved the merge conflict.



---

archive/issue_comments_395347.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-30T09:26:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395347",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395348.json:
```json
{
    "body": "I changed 2 doctests to make them compatible with Python 3 (were failing when testing with py3).You may know that we are in the transition to py3 and so some of us are running both a version compiled with py2 and another with py3. For some data structures, like dict, the order in which items are \"ordered\" change. In this case, it was changing the order in which paths where yielded. The solution was correct nonetheless. With the change I made, it's more robust.",
    "created_at": "2019-08-30T09:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395348",
    "user": "@dcoudert"
}
```

I changed 2 doctests to make them compatible with Python 3 (were failing when testing with py3).You may know that we are in the transition to py3 and so some of us are running both a version compiled with py2 and another with py3. For some data structures, like dict, the order in which items are "ordered" change. In this case, it was changing the order in which paths where yielded. The solution was correct nonetheless. With the change I made, it's more robust.



---

archive/issue_comments_395349.json:
```json
{
    "body": "A good news:\n\nwith this patch:\n\n```\nsage: g = digraphs.Complete(6)\nsage: %time _ = g.all_simple_paths()\nCPU times: user 24.9 ms, sys: 1.73 ms, total: 26.7 ms\nWall time: 25.7 ms\n```\n\n\nwithout:\n\n```\nsage: g = digraphs.Complete(6)\nsage: %time _ = g.all_simple_paths()\nCPU times: user 53 ms, sys: 8.88 ms, total: 61.9 ms\nWall time: 55.8 ms\n```\n",
    "created_at": "2019-08-30T09:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395349",
    "user": "@dcoudert"
}
```

A good news:

with this patch:

```
sage: g = digraphs.Complete(6)
sage: %time _ = g.all_simple_paths()
CPU times: user 24.9 ms, sys: 1.73 ms, total: 26.7 ms
Wall time: 25.7 ms
```


without:

```
sage: g = digraphs.Complete(6)
sage: %time _ = g.all_simple_paths()
CPU times: user 53 ms, sys: 8.88 ms, total: 61.9 ms
Wall time: 55.8 ms
```




---

archive/issue_comments_395350.json:
```json
{
    "body": "A bad news: method `all_simple_paths` uses `all_paths_iterator`, and this method claim that `The paths are enumerated in increasing length order`. However, this is not the case (with and without this patch).\n\n```\nsage: g = digraphs.Complete(3)\nsage: g.all_simple_paths()\n[[0, 1],\n [1, 0],\n [2, 0],\n [0, 1, 0],\n [0, 2],\n [0, 2, 0],\n [0, 1, 2],\n [1, 0, 1],\n [1, 2],\n [1, 2, 1],\n [1, 0, 2],\n [2, 0, 2],\n [2, 1],\n [2, 1, 2],\n [2, 0, 1],\n [0, 1, 2, 0],\n [0, 2, 1],\n [0, 2, 1, 0],\n [1, 0, 2, 1],\n [1, 2, 0],\n [1, 2, 0, 1],\n [2, 0, 1, 2],\n [2, 1, 0],\n [2, 1, 0, 2]]\n```\n\n\nWhat if we used a priority queue instead of a queue in `_all_paths_iterator` ? As this behavior seems intependent of the changes done here, this can be post-pone to a future patch.",
    "created_at": "2019-08-30T09:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395350",
    "user": "@dcoudert"
}
```

A bad news: method `all_simple_paths` uses `all_paths_iterator`, and this method claim that `The paths are enumerated in increasing length order`. However, this is not the case (with and without this patch).

```
sage: g = digraphs.Complete(3)
sage: g.all_simple_paths()
[[0, 1],
 [1, 0],
 [2, 0],
 [0, 1, 0],
 [0, 2],
 [0, 2, 0],
 [0, 1, 2],
 [1, 0, 1],
 [1, 2],
 [1, 2, 1],
 [1, 0, 2],
 [2, 0, 2],
 [2, 1],
 [2, 1, 2],
 [2, 0, 1],
 [0, 1, 2, 0],
 [0, 2, 1],
 [0, 2, 1, 0],
 [1, 0, 2, 1],
 [1, 2, 0],
 [1, 2, 0, 1],
 [2, 0, 1, 2],
 [2, 1, 0],
 [2, 1, 0, 2]]
```


What if we used a priority queue instead of a queue in `_all_paths_iterator` ? As this behavior seems intependent of the changes done here, this can be post-pone to a future patch.



---

archive/issue_comments_395351.json:
```json
{
    "body": "It seems that when starting_vertices and ending_vertices are not single vertex then these paths are \nnot in increasing no. of edges. \n\n\n\"What if we used a priority queue instead of a queue in _all_paths_iterator ? As this behavior seems intependent of the changes done here, this can be post-pone to a future patch. \"\n\nI tried it but still the results are not in increasing order of edges.\n\nWe can fix it in next patch either to reorganize the algorithm to print paths in order of increasing number of edges or stating in simple paths that edges will be in increasing order in case of a single src and destination.",
    "created_at": "2019-09-01T11:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395351",
    "user": "@rajat1433"
}
```

It seems that when starting_vertices and ending_vertices are not single vertex then these paths are 
not in increasing no. of edges. 


"What if we used a priority queue instead of a queue in _all_paths_iterator ? As this behavior seems intependent of the changes done here, this can be post-pone to a future patch. "

I tried it but still the results are not in increasing order of edges.

We can fix it in next patch either to reorganize the algorithm to print paths in order of increasing number of edges or stating in simple paths that edges will be in increasing order in case of a single src and destination.



---

archive/issue_comments_395352.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-09-03T12:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395352",
    "user": "@dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_395353.json:
```json
{
    "body": "OK, let's postpone the ordering issue to a specific ticket. You can investigate that before opening a ticket.\n\nLGTM.",
    "created_at": "2019-09-03T12:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395353",
    "user": "@dcoudert"
}
```

OK, let's postpone the ordering issue to a specific ticket. You can investigate that before opening a ticket.

LGTM.



---

archive/issue_comments_395354.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-09-05T21:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27983#issuecomment-395354",
    "user": "@vbraun"
}
```

Resolution: fixed
