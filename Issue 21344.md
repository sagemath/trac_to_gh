# Issue 21344: gp2c does not pass self checks

Issue created by migration from Trac.

Original creator: tmonteil

Original creation time: 2016-09-23 17:44:17

CC:  jdemeyer

Tested on Debian jessie, both 32 and 64 bits, same error: `sage -i -c gp2c` leads to:


```
[...]
[gp2c-0.0.9pl5] Running test ranges
[gp2c-0.0.9pl5] Testing script compr...OK.
[gp2c-0.0.9pl5] Testing script forpart...OK.
[gp2c-0.0.9pl5] Testing script forprime...OK.
[gp2c-0.0.9pl5] Testing script iferr...OK.
[gp2c-0.0.9pl5] Testing script range...BUG.
[gp2c-0.0.9pl5] FAIL: scripts/runtest
[gp2c-0.0.9pl5] ==================
[gp2c-0.0.9pl5] 1 of 1 test failed
[gp2c-0.0.9pl5] ==================
```



---

Comment by jdemeyer created at 2016-09-24 13:16:22

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2016-09-24 13:16:22

New commits:


---

Comment by tmonteil created at 2016-09-24 16:59:51

It seems to trigger an unmet dependency (yacc), i got (in both arch):


```
[...]
[gp2c-0.0.9pl5] make[2]: Entering directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src'
[gp2c-0.0.9pl5] Making install in src
[gp2c-0.0.9pl5] make[3]: Entering directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src/src'
[gp2c-0.0.9pl5] /bin/bash ../config/ylwrap parse.y y.tab.c parse.c y.tab.h parse.h y.output parse.output -- yacc -d 
[gp2c-0.0.9pl5] ../config/ylwrap: line 113: yacc: command not found
[gp2c-0.0.9pl5] Makefile:353: recipe for target 'parse.c' failed
[gp2c-0.0.9pl5] make[3]: *** [parse.c] Error 1
[gp2c-0.0.9pl5] make[3]: Leaving directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src/src'
[gp2c-0.0.9pl5] Makefile:285: recipe for target 'install-recursive' failed
[gp2c-0.0.9pl5] make[2]: *** [install-recursive] Error 1
[gp2c-0.0.9pl5] make[2]: Leaving directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src'
```



---

Comment by tmonteil created at 2016-09-24 16:59:51

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-01-09 09:57:25

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2017-01-09 09:58:34

Changing status from needs_work to needs_review.


---

Comment by tmonteil created at 2017-01-11 21:26:22

Changing status from needs_review to positive_review.


---

Comment by tmonteil created at 2017-01-11 21:26:22

It works now, tested on 64bit Debian jessie (i can not try on 32bit right now, so i will reopen another ticket in case i encounter a problem on such arch).


---

Comment by vbraun created at 2017-01-18 20:39:38

Resolution: fixed


---

Comment by tmonteil created at 2019-08-27 19:45:19

Changing keywords from "" to "sdl".
