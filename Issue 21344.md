# Issue 21344: gp2c does not pass self checks

archive/issues_021344.json:
```json
{
    "body": "CC:  @jdemeyer\n\nTested on Debian jessie, both 32 and 64 bits, same error: `sage -i -c gp2c` leads to:\n\n\n```\n[...]\n[gp2c-0.0.9pl5] Running test ranges\n[gp2c-0.0.9pl5] Testing script compr...OK.\n[gp2c-0.0.9pl5] Testing script forpart...OK.\n[gp2c-0.0.9pl5] Testing script forprime...OK.\n[gp2c-0.0.9pl5] Testing script iferr...OK.\n[gp2c-0.0.9pl5] Testing script range...BUG.\n[gp2c-0.0.9pl5] FAIL: scripts/runtest\n[gp2c-0.0.9pl5] ==================\n[gp2c-0.0.9pl5] 1 of 1 test failed\n[gp2c-0.0.9pl5] ==================\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/21581\n\n",
    "created_at": "2016-09-23T17:44:17Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "gp2c does not pass self checks",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21344",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
CC:  @jdemeyer

Tested on Debian jessie, both 32 and 64 bits, same error: `sage -i -c gp2c` leads to:


```
[...]
[gp2c-0.0.9pl5] Running test ranges
[gp2c-0.0.9pl5] Testing script compr...OK.
[gp2c-0.0.9pl5] Testing script forpart...OK.
[gp2c-0.0.9pl5] Testing script forprime...OK.
[gp2c-0.0.9pl5] Testing script iferr...OK.
[gp2c-0.0.9pl5] Testing script range...BUG.
[gp2c-0.0.9pl5] FAIL: scripts/runtest
[gp2c-0.0.9pl5] ==================
[gp2c-0.0.9pl5] 1 of 1 test failed
[gp2c-0.0.9pl5] ==================
```


Issue created by migration from https://trac.sagemath.org/ticket/21581





---

archive/issue_comments_295823.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-24T13:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295823",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_295824.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-09-24T13:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295824",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_comments_295825.json:
```json
{
    "body": "It seems to trigger an unmet dependency (yacc), i got (in both arch):\n\n\n```\n[...]\n[gp2c-0.0.9pl5] make[2]: Entering directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src'\n[gp2c-0.0.9pl5] Making install in src\n[gp2c-0.0.9pl5] make[3]: Entering directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src/src'\n[gp2c-0.0.9pl5] /bin/bash ../config/ylwrap parse.y y.tab.c parse.c y.tab.h parse.h y.output parse.output -- yacc -d \n[gp2c-0.0.9pl5] ../config/ylwrap: line 113: yacc: command not found\n[gp2c-0.0.9pl5] Makefile:353: recipe for target 'parse.c' failed\n[gp2c-0.0.9pl5] make[3]: *** [parse.c] Error 1\n[gp2c-0.0.9pl5] make[3]: Leaving directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src/src'\n[gp2c-0.0.9pl5] Makefile:285: recipe for target 'install-recursive' failed\n[gp2c-0.0.9pl5] make[2]: *** [install-recursive] Error 1\n[gp2c-0.0.9pl5] make[2]: Leaving directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src'\n```\n",
    "created_at": "2016-09-24T16:59:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295825",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

It seems to trigger an unmet dependency (yacc), i got (in both arch):


```
[...]
[gp2c-0.0.9pl5] make[2]: Entering directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src'
[gp2c-0.0.9pl5] Making install in src
[gp2c-0.0.9pl5] make[3]: Entering directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src/src'
[gp2c-0.0.9pl5] /bin/bash ../config/ylwrap parse.y y.tab.c parse.c y.tab.h parse.h y.output parse.output -- yacc -d 
[gp2c-0.0.9pl5] ../config/ylwrap: line 113: yacc: command not found
[gp2c-0.0.9pl5] Makefile:353: recipe for target 'parse.c' failed
[gp2c-0.0.9pl5] make[3]: *** [parse.c] Error 1
[gp2c-0.0.9pl5] make[3]: Leaving directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src/src'
[gp2c-0.0.9pl5] Makefile:285: recipe for target 'install-recursive' failed
[gp2c-0.0.9pl5] make[2]: *** [install-recursive] Error 1
[gp2c-0.0.9pl5] make[2]: Leaving directory '/opt/sagemath/sage-7.3/local/var/tmp/sage/build/gp2c-0.0.9pl5/src'
```




---

archive/issue_comments_295826.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-09-24T16:59:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295826",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_295827.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-09T09:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295827",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_295828.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-01-09T09:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295828",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_295829.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-11T21:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295829",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_295830.json:
```json
{
    "body": "It works now, tested on 64bit Debian jessie (i can not try on 32bit right now, so i will reopen another ticket in case i encounter a problem on such arch).",
    "created_at": "2017-01-11T21:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295830",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

It works now, tested on 64bit Debian jessie (i can not try on 32bit right now, so i will reopen another ticket in case i encounter a problem on such arch).



---

archive/issue_events_057270.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-12T18:36:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21344#event-57270"
}
```



---

archive/issue_comments_295831.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-01-18T20:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295831",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_057271.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-18T20:39:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21344#event-57271"
}
```



---

archive/issue_comments_295832.json:
```json
{
    "body": "Changing keywords from \"\" to \"sdl\".",
    "created_at": "2019-08-27T19:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21344#issuecomment-295832",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing keywords from "" to "sdl".
