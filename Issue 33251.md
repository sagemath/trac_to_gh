# Issue 33251: Error building Sage. -- Package failed to build.

Issue created by migration from https://trac.sagemath.org/ticket/33488

Original creator: @WindowsSystemAdmin

Original creation time: 2022-03-09 18:04:52

CC:  slelievre

Hello!
I have encountered an error while building Sage. HEre is  my OS info:
Debian testing (bookworm)
Sage-9.6.beta4
package sagemath_doc_html-none
I ran make a few times and the package continually failed to build. I expected this to build, but now I can not run the sage command. Sage is broken. I m not sure what happened here but please let me know what I can do next. I have attached the log files for you and a snippet of the last few lines of my terminal.
sagemath_doc_html-none] ImportError: /home/linethan0322/sage-9.5.rc4/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/matrix/matrix_mod2_dense.cpython-39-x86_64-linux-gnu.so: file too short
[sagemath_doc_html-none] Error: './sage --docbuild --all-documents' failed
[sagemath_doc_html-none] make[5]: *** [Makefile:33: doc-inventory-reference] Error 1
make[4]: *** [Makefile:2900: sagemath_doc_html-SAGE_DOCS-no-deps] Error 2
make[3]: *** [Makefile:2900: /home/linethan0322/sage-9.5.rc4/local/var/lib/sage/installed/sagemath_doc_html-none] Error 2
make[2]: *** [Makefile:2461: all-start] Error 2

real    2m34.616s
user    1m18.953s
sys     0m37.263s
***************************************************************
Error building Sage.

The following package(s) may have failed to build (not necessarily
during this run of 'make all-start'):

* package:         sagemath_doc_html-none
  last build time: Mar 9 12:40
  log file:        /home/linethan0322/sage-9.5.rc4/logs/pkgs/sagemath_doc_html-none.log


---

Comment by @WindowsSystemAdmin created at 2022-03-09 18:05:57

Log file of the package sagemath_html-none


---

Attachment

My config log


---

Comment by @WindowsSystemAdmin created at 2022-03-09 18:10:43

Changing keywords from "" to "bug, development, make".


---

Comment by @WindowsSystemAdmin created at 2022-03-09 20:13:41

Changing keywords from "bug, development, make" to "bug, sagemath, html, broken, make".


---

Comment by @WindowsSystemAdmin created at 2022-03-09 20:14:25

Changing keywords from "bug, sagemath, html, broken, make" to "bug, sagemath, docs, broken, make, package".


---

Comment by slelievre created at 2022-03-10 04:58:12

Errors building `sagemath_doc_html` have been frequent recently.

On Linux and macOS, it seems this usually solves it:

```
$ make -s V=0 doc-clean doc-uninstall && make -s V=0
```


Failing that, this has also worked for some:

```
$ make -s V=0 distclean && make -s V=0
```


On Cygwin, none of these helped for me.


---

Comment by @WindowsSystemAdmin created at 2022-03-10 17:44:04

The above didn't work for me either.. I'm on a Debian machine


---

Comment by mkoeppe created at 2022-07-09 19:44:29

Let's close it as outdated


---

Comment by mkoeppe created at 2022-07-09 19:44:29

Changing status from new to needs_review.


---

Comment by klee created at 2022-07-16 11:31:29

Changing status from needs_review to positive_review.


---

Comment by klee created at 2022-07-16 11:31:29

I agree. The issue is not clear.


---

Comment by mkoeppe created at 2022-08-02 06:31:03

Resolution: invalid
