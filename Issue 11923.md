# Issue 11923: integral_points missing solutions

archive/issues_011923.json:
```json
{
    "body": "Assignee: @JohnCremona\n\nAs reported on [sage-support](http://www.mail-archive.com/sage-support`@`googlegroups.com/msg24908.html), integral_points can miss solutions:\n\n\n\n```\nsage: E=EllipticCurve([0,-82569375])\nsage: E.integral_points(verbose=True)\nUsing mw_basis  [(450 : 2925 : 1), (900 : 25425 : 1), (1800 : 75825 : 1), (4600/9 : 192725/27 : 1)]\ne1,e2,e3:  -217.725687258292 - 377.111952444214*I -217.725687258292 + 377.111952444214*I 435.451374516585\nMinimal eigenvalue of height pairing matrix:  2.03352484556965\nx-coords of points on non-compact component with  436 <=x<= 870\n[436, 450, 666]\nstarting search of remaining points using coefficient bound  4\nx-coords of extra integral points:\n[436, 450, 666, 900, 1150, 1800, 2619, 26154, 27675]\nTotal number of integral points: 9\n[(436 : 559 : 1), (450 : 2925 : 1), (666 : 14589 : 1), (900 : 25425 : 1), (1150 : 37925 : 1), (1800 : 75825 : 1), (2619 : 133722 : 1), (26154 : 4229667 : 1), (27675 : 4603950 : 1)]\n```\n\nbut {{{\nsage: 20477027135825**2==748476100**3-82569375\nTrue\n}}}\n\nThe (only?) missing solution can be found by increasing the precision in integral_points_with_bounded_mw_coeffs from 100 to 120:\n\n\n```\n[(436 : 559 : 1), (450 : 2925 : 1), (666 : 14589 : 1), (900 : 25425 : 1), (1150 : 37925 : 1), (1800 : 75825 : 1), (2619 : 133722 : 1), (26154 : 4229667 : 1), (27675 : 4603950 : 1), (748476100 : 20477027135825 : 1)]\n```\n\n\nbut obviously this isn't robust.  With a bit of tweaking (and maybe some RealIntervalFieldElements) we could ensure that we use sufficient precision without hardcoding an arbitrary parameter.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12095\n\n",
    "created_at": "2011-11-29T04:18:10Z",
    "labels": [
        "elliptic curves",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "integral_points missing solutions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11923",
    "user": "dsm"
}
```
Assignee: @JohnCremona

As reported on [sage-support](http://www.mail-archive.com/sage-support`@`googlegroups.com/msg24908.html), integral_points can miss solutions:



```
sage: E=EllipticCurve([0,-82569375])
sage: E.integral_points(verbose=True)
Using mw_basis  [(450 : 2925 : 1), (900 : 25425 : 1), (1800 : 75825 : 1), (4600/9 : 192725/27 : 1)]
e1,e2,e3:  -217.725687258292 - 377.111952444214*I -217.725687258292 + 377.111952444214*I 435.451374516585
Minimal eigenvalue of height pairing matrix:  2.03352484556965
x-coords of points on non-compact component with  436 <=x<= 870
[436, 450, 666]
starting search of remaining points using coefficient bound  4
x-coords of extra integral points:
[436, 450, 666, 900, 1150, 1800, 2619, 26154, 27675]
Total number of integral points: 9
[(436 : 559 : 1), (450 : 2925 : 1), (666 : 14589 : 1), (900 : 25425 : 1), (1150 : 37925 : 1), (1800 : 75825 : 1), (2619 : 133722 : 1), (26154 : 4229667 : 1), (27675 : 4603950 : 1)]
```

but {{{
sage: 20477027135825**2==748476100**3-82569375
True
}}}

The (only?) missing solution can be found by increasing the precision in integral_points_with_bounded_mw_coeffs from 100 to 120:


```
[(436 : 559 : 1), (450 : 2925 : 1), (666 : 14589 : 1), (900 : 25425 : 1), (1150 : 37925 : 1), (1800 : 75825 : 1), (2619 : 133722 : 1), (26154 : 4229667 : 1), (27675 : 4603950 : 1), (748476100 : 20477027135825 : 1)]
```


but obviously this isn't robust.  With a bit of tweaking (and maybe some RealIntervalFieldElements) we could ensure that we use sufficient precision without hardcoding an arbitrary parameter.

Issue created by migration from https://trac.sagemath.org/ticket/12095





---

archive/issue_comments_136810.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2011-11-29T04:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11923#issuecomment-136810",
    "user": "dsm"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_136811.json:
```json
{
    "body": "Please see #10973:   I don't think this needs a separate ticket.  But it is a very useful observation to make.  There are still issues at #10973.",
    "created_at": "2011-11-29T09:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11923#issuecomment-136811",
    "user": "@JohnCremona"
}
```

Please see #10973:   I don't think this needs a separate ticket.  But it is a very useful observation to make.  There are still issues at #10973.



---

archive/issue_comments_136812.json:
```json
{
    "body": "Not sure how I missed that-- it shows up in the first page of searches!  Maybe I assumed it was only about generalization to other number fields?\n\nAnyway, we can close this as a duplicate.  The latest patch there fixes this case, though I still think hardcoding the precision is asking for trouble.",
    "created_at": "2011-11-29T10:41:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11923#issuecomment-136812",
    "user": "dsm"
}
```

Not sure how I missed that-- it shows up in the first page of searches!  Maybe I assumed it was only about generalization to other number fields?

Anyway, we can close this as a duplicate.  The latest patch there fixes this case, though I still think hardcoding the precision is asking for trouble.



---

archive/issue_comments_136813.json:
```json
{
    "body": "I marked this as a duplicate and put in a cross-reference at #10973.\n\nI agree strongly with your comment about hard-coding precision in that function, for which I take 100% of the blame.",
    "created_at": "2011-11-29T11:54:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11923#issuecomment-136813",
    "user": "@JohnCremona"
}
```

I marked this as a duplicate and put in a cross-reference at #10973.

I agree strongly with your comment about hard-coding precision in that function, for which I take 100% of the blame.



---

archive/issue_comments_136814.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-29T23:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11923#issuecomment-136814",
    "user": "@tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_136815.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-29T23:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11923#issuecomment-136815",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_136816.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2013-04-03T15:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11923#issuecomment-136816",
    "user": "@jdemeyer"
}
```

Resolution: duplicate
