# Issue 11923: integral_points missing solutions

Issue created by migration from Trac.

Original creator: dsm

Original creation time: 2011-11-29 04:18:10

Assignee: cremona

As reported on [sage-support](http://www.mail-archive.com/sage-support`@`googlegroups.com/msg24908.html), integral_points can miss solutions:



```
sage: E=EllipticCurve([0,-82569375])
sage: E.integral_points(verbose=True)
Using mw_basis  [(450 : 2925 : 1), (900 : 25425 : 1), (1800 : 75825 : 1), (4600/9 : 192725/27 : 1)]
e1,e2,e3:  -217.725687258292 - 377.111952444214*I -217.725687258292 + 377.111952444214*I 435.451374516585
Minimal eigenvalue of height pairing matrix:  2.03352484556965
x-coords of points on non-compact component with  436 <=x<= 870
[436, 450, 666]
starting search of remaining points using coefficient bound  4
x-coords of extra integral points:
[436, 450, 666, 900, 1150, 1800, 2619, 26154, 27675]
Total number of integral points: 9
[(436 : 559 : 1), (450 : 2925 : 1), (666 : 14589 : 1), (900 : 25425 : 1), (1150 : 37925 : 1), (1800 : 75825 : 1), (2619 : 133722 : 1), (26154 : 4229667 : 1), (27675 : 4603950 : 1)]
```

but {{{
sage: 20477027135825**2==748476100**3-82569375
True
}}}

The (only?) missing solution can be found by increasing the precision in integral_points_with_bounded_mw_coeffs from 100 to 120:


```
[(436 : 559 : 1), (450 : 2925 : 1), (666 : 14589 : 1), (900 : 25425 : 1), (1150 : 37925 : 1), (1800 : 75825 : 1), (2619 : 133722 : 1), (26154 : 4229667 : 1), (27675 : 4603950 : 1), (748476100 : 20477027135825 : 1)]
```


but obviously this isn't robust.  With a bit of tweaking (and maybe some RealIntervalFieldElements) we could ensure that we use sufficient precision without hardcoding an arbitrary parameter.


---

Comment by dsm created at 2011-11-29 04:22:07

Changing type from PLEASE CHANGE to defect.


---

Comment by cremona created at 2011-11-29 09:32:50

Please see #10973:   I don't think this needs a separate ticket.  But it is a very useful observation to make.  There are still issues at #10973.


---

Comment by dsm created at 2011-11-29 10:41:35

Not sure how I missed that-- it shows up in the first page of searches!  Maybe I assumed it was only about generalization to other number fields?

Anyway, we can close this as a duplicate.  The latest patch there fixes this case, though I still think hardcoding the precision is asking for trouble.


---

Comment by cremona created at 2011-11-29 11:54:00

I marked this as a duplicate and put in a cross-reference at #10973.

I agree strongly with your comment about hard-coding precision in that function, for which I take 100% of the blame.


---

Comment by tscrim created at 2013-03-29 23:06:09

Changing status from new to needs_review.


---

Comment by tscrim created at 2013-03-29 23:07:04

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-03 15:10:59

Resolution: duplicate
