# Issue 24289: more user friendly finite field extensions

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2018-01-11 19:43:41

`GF(p).extension(xxx)` does not accept symbolic polynomials... and the error is cryptic

```
sage: Fp = GF(3)
sage: Fp2.<i> = Fp.extension(x^2+1)
Traceback (most recent call last):
...
UnboundLocalError: local variable 'E' referenced before assignment
```



---

Comment by vdelecroix created at 2018-01-11 20:00:49

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2018-01-11 23:37:06

New commits:


---

Comment by mmezzarobba created at 2018-01-31 09:05:41

It may be better to keep the branch dealing with tuples/lists for speed reasons... Perhaps it doesn't matter (I don't know how much it is used or what alternatives exist for constructing extensions without too much overhead), but your patch makes the call to `extension()` in `GF(3).extension([1, 0, 1], 'a')` 70% slower on my system.


---

Comment by darij created at 2018-04-01 16:46:10

Should this ducktyping really all be happening under the hood without notifying the user? I think a more readable error message would be better, or at least a warning. We don't want people to use SR for polynomials in their code, do we?

Also, is this

```
+                else:
+                    modulus = modulus.change_ring(self)
```

necessary? The `GF` constructor already does `modulus = R(modulus).monic()`, where R = PolynomialRing(FiniteField(p), 'x').


---

Comment by dkrenn created at 2019-03-28 08:51:48

Does not apply anymore.


---

Comment by dkrenn created at 2019-03-28 08:51:48

Changing status from needs_review to needs_work.


---

Comment by slelievre created at 2021-03-24 13:47:42

Recent user report for the same problem:

- [Ask Sage question 56220: Finite field extension](https://ask.sagemath.org/question/56220)


---

Comment by slelievre created at 2021-03-24 13:49:33

Please rebase, and I can review.
