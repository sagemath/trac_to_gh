# Issue 28164: pass correct --with-flint to eclib's configure

Issue created by migration from https://trac.sagemath.org/ticket/28401

Original creator: dimpase

Original creation time: 2019-08-25 22:05:13

CC:  embray fbissey isuruf

It's reported in [this thread on sage-devel https://groups.google.com/d/msg/sage-devel/OJJFRAgvtqk/JZMEdA81EAAJ]
that "wrong" libraries in /lib may shadow the "right" one in SAGE_LOCAL/lib for eclib (this happens with libpari)

It appears to be due to `--with-flint=""` being passed instead of
`--with-flint` in spkg-install of eclib, adding a spurrous `-L/lib` to the `ld` search path for building eclib




---

Comment by dimpase created at 2019-08-26 08:01:46

I've opened https://github.com/JohnCremona/eclib/pull/57 to make eclib more consistent, but will not rely on this accepted to fix this bug.


---

Comment by dimpase created at 2019-08-28 08:19:08

this could be removed once a new eclib version with `https://github.com/JohnCremona/eclib/pull/57` is in Sage.
----
New commits:


---

Comment by dimpase created at 2019-08-28 08:19:08

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2019-08-29 21:32:53

Replying to [comment:2 dimpase]:
> this could be removed once a new eclib version with `https://github.com/JohnCremona/eclib/pull/57` is in Sage.

Could you add this comment in the install script?


---

Comment by git created at 2019-08-29 22:18:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2019-08-29 22:19:02

Replying to [comment:3 vdelecroix]:
> Replying to [comment:2 dimpase]:
> > this could be removed once a new eclib version with `https://github.com/JohnCremona/eclib/pull/57` is in Sage.
> 
> Could you add this comment in the install script?
done


---

Comment by vdelecroix created at 2019-08-30 08:13:30

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2019-08-30 18:11:42

Thanks Vincent, could you please also review #28405 ? It fixes another bug discovered while I looked at your logs you posted w.r.t. the problem fixed here.


---

Comment by vbraun created at 2019-09-05 21:33:36

Resolution: fixed
