# Issue 22435: Definite integral of (1-x)^(1/5)/sqrt(x) crashes with both GSL and Maxima

archive/issues_022435.json:
```json
{
    "body": "\n```\nsage: ((1-x)^(1/5)/sqrt(x)).nintegral(x,2,3)\n...\nTypeError: ECL says: Error executing code in Maxima: \n\nsage: ((1-x)^(1/5)/sqrt(x)).integrate(x,2,3,hold=True)\nintegrate((-x + 1)^(1/5)/sqrt(x), x, 2, 3)\nsage: _.n()\n...\nException ValueError: ValueError('negative number to a fractional power not real',) in 'sage.calculus.integration.c_ff' ignored\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/22672\n\n",
    "created_at": "2017-03-22T09:20:10Z",
    "labels": [
        "component: calculus",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Definite integral of (1-x)^(1/5)/sqrt(x) crashes with both GSL and Maxima",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22435",
    "user": "https://github.com/rwst"
}
```

```
sage: ((1-x)^(1/5)/sqrt(x)).nintegral(x,2,3)
...
TypeError: ECL says: Error executing code in Maxima: 

sage: ((1-x)^(1/5)/sqrt(x)).integrate(x,2,3,hold=True)
integrate((-x + 1)^(1/5)/sqrt(x), x, 2, 3)
sage: _.n()
...
Exception ValueError: ValueError('negative number to a fractional power not real',) in 'sage.calculus.integration.c_ff' ignored
```


Issue created by migration from https://trac.sagemath.org/ticket/22672





---

archive/issue_comments_312183.json:
```json
{
    "body": "The correct value would be `0.554731721677539 + 0.403036187432365*I`.",
    "created_at": "2017-03-22T09:24:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22435",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22435#issuecomment-312183",
    "user": "https://github.com/rwst"
}
```

The correct value would be `0.554731721677539 + 0.403036187432365*I`.



---

archive/issue_comments_312184.json:
```json
{
    "body": "I'm not sure, but I believe numerical integration only works for **real** functions:\n\n```\nsage: numerical_integral(I,0,1)\n...\nTypeError: unable to simplify to float approximation\n```\n\nHere, the function is complex in [2,3]:\n\n```\nsage: n((1-2)^(1/5))\n0.809016994374947 + 0.587785252292473*I\n```\n",
    "created_at": "2017-06-22T10:59:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22435",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22435#issuecomment-312184",
    "user": "https://github.com/zimmermann6"
}
```

I'm not sure, but I believe numerical integration only works for **real** functions:

```
sage: numerical_integral(I,0,1)
...
TypeError: unable to simplify to float approximation
```

Here, the function is complex in [2,3]:

```
sage: n((1-2)^(1/5))
0.809016994374947 + 0.587785252292473*I
```




---

archive/issue_comments_312185.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-23T13:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22435",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22435#issuecomment-312185",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_312186.json:
```json
{
    "body": "Yes right.",
    "created_at": "2017-06-23T13:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22435",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22435#issuecomment-312186",
    "user": "https://github.com/rwst"
}
```

Yes right.



---

archive/issue_comments_312187.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-23T13:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22435",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22435#issuecomment-312187",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_312188.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2017-07-13T07:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22435",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22435#issuecomment-312188",
    "user": "https://github.com/embray"
}
```

Resolution: wontfix



---

archive/issue_comments_312189.json:
```json
{
    "body": "Closing tickets in the sage-duplicate/invalid/wontfix module with positive_review (i.e. someone has confirmed they should be closed).",
    "created_at": "2017-07-13T07:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22435",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22435#issuecomment-312189",
    "user": "https://github.com/embray"
}
```

Closing tickets in the sage-duplicate/invalid/wontfix module with positive_review (i.e. someone has confirmed they should be closed).



---

archive/issue_events_021114.json:
```json
{
    "actor": "@embray",
    "created_at": "2017-07-13T07:54:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22435",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22435#event-21114"
}
```
