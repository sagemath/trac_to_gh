# Issue 23188: Plotting External Rays on the Mandelbrot Set

Issue created by migration from Trac.

Original creator: bbarros

Original creation time: 2017-07-13 18:11:52

CC:  bhutz atowsley

Keywords: GSoC2017, ComplexDynamics

This is the second ticket for my Google Summer of Code project (the first was #23257: Plotting the Mandelbrot set). I have added the `external_ray` function to the `Complex Dynamics` folder. This function allows the user to pass in an angle or list of angles and returns the plot of the external rays for the given angles on the Mandelbrot set.  For more information on my Google Summer of Code Project you can visit the following link: â€‹https://benbarros.wordpress.com/


---

Comment by bbarros created at 2017-07-13 18:17:24

Last 10 new commits:


---

Comment by bbarros created at 2017-07-13 18:17:24

Changing status from new to needs_review.


---

Comment by bhutz created at 2017-07-16 18:09:46

I haven't had a chance to do much testing yet. So far it appears to work well in the notebook, but I need to do a thorough code review. Here is at least one error:


```
sage: external_ray(3/7,D=70)
ValueError: cannot convert float NaN to integer
```

if you zoom in, it looks like something is going wrong with the later Newton's methods

```
sage: external_ray(3/7,D=60, image_width=0.1, x_center=-1.75)
```


here are a few minor things I picked out:

 - need to input check 0<=  ray <=1

- need to wrap the long lines (90 characters is the typical limit)

- add a ray color example

- change the first long example to a decimal

- in warning:
 - typo 'specify the which'

- you shouldn't need to keywords for the mandelbrot set here.

It would be cleaner to default image to None. Then after you .pop image you check if 'is None' and if true mandelbrot_plot. If you use .get() instead of .pop() you can pass kwds directly to mandelbrot_plot.

- you can just say, theta = list(theta) instead of 

```
    if type(theta) != list:
        theta = [theta]
```


- put something in the doc about: if the ray doesn't reach the boundary increase D, if the ray looks jagged increase S. Has a speed penalty


---

Comment by bhutz created at 2017-07-16 18:09:46

Changing status from needs_review to needs_work.


---

Comment by bhutz created at 2017-07-21 19:37:12

Changing component from fractals to dynamics.


---

Comment by git created at 2017-07-26 19:11:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bbarros created at 2017-07-26 19:17:57

Changing status from needs_work to needs_review.


---

Comment by bbarros created at 2017-07-26 19:17:57

The following code didn't work:


```
theta = list(theta)
```


Since it returns the following error:


```
TypeError: 'sage.rings.integer.Integer' object is not iterable
```



---

Comment by bhutz created at 2017-07-27 14:11:47

Changing status from needs_review to needs_work.


---

Comment by bhutz created at 2017-07-27 14:11:47

Just one very minor comment

In the description of the input `R` there is an extra word or something. Also, I'd add the comment similar to the other parameters that if R is too small Newton's method may not converge to the correct ray.


---

Comment by git created at 2017-07-27 19:48:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bbarros created at 2017-07-27 20:36:47

Changing status from needs_work to needs_review.


---

Comment by bhutz created at 2017-07-27 20:47:47

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-08-04 18:21:03

Resolution: fixed
