# Issue 23188: Plotting External Rays on the Mandelbrot Set

archive/issues_023188.json:
```json
{
    "body": "CC:  @bhutz atowsley\n\nKeywords: GSoC2017, ComplexDynamics\n\nThis is the second ticket for my Google Summer of Code project (the first was #23257: Plotting the Mandelbrot set). I have added the `external_ray` function to the `Complex Dynamics` folder. This function allows the user to pass in an angle or list of angles and returns the plot of the external rays for the given angles on the Mandelbrot set.  For more information on my Google Summer of Code Project you can visit the following link: \u200bhttps://benbarros.wordpress.com/\n\nIssue created by migration from https://trac.sagemath.org/ticket/23425\n\n",
    "created_at": "2017-07-13T18:11:52Z",
    "labels": [
        "component: fractals",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Plotting External Rays on the Mandelbrot Set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23188",
    "user": "https://github.com/bbarros50"
}
```
CC:  @bhutz atowsley

Keywords: GSoC2017, ComplexDynamics

This is the second ticket for my Google Summer of Code project (the first was #23257: Plotting the Mandelbrot set). I have added the `external_ray` function to the `Complex Dynamics` folder. This function allows the user to pass in an angle or list of angles and returns the plot of the external rays for the given angles on the Mandelbrot set.  For more information on my Google Summer of Code Project you can visit the following link: â€‹https://benbarros.wordpress.com/

Issue created by migration from https://trac.sagemath.org/ticket/23425





---

archive/issue_comments_324020.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2017-07-13T18:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324020",
    "user": "https://github.com/bbarros50"
}
```

Last 10 new commits:



---

archive/issue_comments_324021.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-07-13T18:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324021",
    "user": "https://github.com/bbarros50"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_324022.json:
```json
{
    "body": "I haven't had a chance to do much testing yet. So far it appears to work well in the notebook, but I need to do a thorough code review. Here is at least one error:\n\n\n```\nsage: external_ray(3/7,D=70)\nValueError: cannot convert float NaN to integer\n```\n\nif you zoom in, it looks like something is going wrong with the later Newton's methods\n\n```\nsage: external_ray(3/7,D=60, image_width=0.1, x_center=-1.75)\n```\n\n\nhere are a few minor things I picked out:\n\n- need to input check 0<=  ray <=1\n\n- need to wrap the long lines (90 characters is the typical limit)\n\n- add a ray color example\n\n- change the first long example to a decimal\n\n- in warning:\n  - typo 'specify the which'\n\n- you shouldn't need to keywords for the mandelbrot set here.\n\nIt would be cleaner to default image to None. Then after you .pop image you check if 'is None' and if true mandelbrot_plot. If you use .get() instead of .pop() you can pass kwds directly to mandelbrot_plot.\n\n- you can just say, theta = list(theta) instead of \n\n```\n    if type(theta) != list:\n        theta = [theta]\n```\n\n\n- put something in the doc about: if the ray doesn't reach the boundary increase D, if the ray looks jagged increase S. Has a speed penalty",
    "created_at": "2017-07-16T18:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324022",
    "user": "https://github.com/bhutz"
}
```

I haven't had a chance to do much testing yet. So far it appears to work well in the notebook, but I need to do a thorough code review. Here is at least one error:


```
sage: external_ray(3/7,D=70)
ValueError: cannot convert float NaN to integer
```

if you zoom in, it looks like something is going wrong with the later Newton's methods

```
sage: external_ray(3/7,D=60, image_width=0.1, x_center=-1.75)
```


here are a few minor things I picked out:

- need to input check 0<=  ray <=1

- need to wrap the long lines (90 characters is the typical limit)

- add a ray color example

- change the first long example to a decimal

- in warning:
  - typo 'specify the which'

- you shouldn't need to keywords for the mandelbrot set here.

It would be cleaner to default image to None. Then after you .pop image you check if 'is None' and if true mandelbrot_plot. If you use .get() instead of .pop() you can pass kwds directly to mandelbrot_plot.

- you can just say, theta = list(theta) instead of 

```
    if type(theta) != list:
        theta = [theta]
```


- put something in the doc about: if the ray doesn't reach the boundary increase D, if the ray looks jagged increase S. Has a speed penalty



---

archive/issue_comments_324023.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-16T18:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324023",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_324024.json:
```json
{
    "body": "Changing component from fractals to dynamics.",
    "created_at": "2017-07-21T19:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324024",
    "user": "https://github.com/bhutz"
}
```

Changing component from fractals to dynamics.



---

archive/issue_comments_324025.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-26T19:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_324026.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-26T19:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324026",
    "user": "https://github.com/bbarros50"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_324027.json:
```json
{
    "body": "The following code didn't work:\n\n\n```\ntheta = list(theta)\n```\n\n\nSince it returns the following error:\n\n\n```\nTypeError: 'sage.rings.integer.Integer' object is not iterable\n```\n",
    "created_at": "2017-07-26T19:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324027",
    "user": "https://github.com/bbarros50"
}
```

The following code didn't work:


```
theta = list(theta)
```


Since it returns the following error:


```
TypeError: 'sage.rings.integer.Integer' object is not iterable
```




---

archive/issue_comments_324028.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-27T14:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324028",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_324029.json:
```json
{
    "body": "Just one very minor comment\n\nIn the description of the input `R` there is an extra word or something. Also, I'd add the comment similar to the other parameters that if R is too small Newton's method may not converge to the correct ray.",
    "created_at": "2017-07-27T14:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324029",
    "user": "https://github.com/bhutz"
}
```

Just one very minor comment

In the description of the input `R` there is an extra word or something. Also, I'd add the comment similar to the other parameters that if R is too small Newton's method may not converge to the correct ray.



---

archive/issue_comments_324030.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-27T19:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324030",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_324031.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-27T20:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324031",
    "user": "https://github.com/bbarros50"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_324032.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-27T20:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324032",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_324033.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-04T18:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23188#issuecomment-324033",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
