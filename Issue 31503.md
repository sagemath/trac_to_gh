# Issue 31503: Meta-ticket: Families, posets, complexes of manifold subsets

archive/issues_031503.json:
```json
{
    "body": "CC:  @mjungmath @egourgoulhon @tscrim @yuan-zhou\n\nNew subsets:\n\n- #31674 Make open subsets of immersed/embedded submanifolds immersed/embedded submanifolds\n- #31677 Open subsets of arbitrary subsets of manifolds\n- #31653 Images of continuous maps and embedded submanifolds as manifold subsets\n- #31688 Pullbacks of manifold subsets under continuous maps\n- #31724 `ManifoldFiniteSubset`\n- #31685 `ContinuousMap.image`: if map is an isomorphism and `domain_subset` is open, create a submanifold\n\nFamilies and posets of manifold subsets:\n\n- #31680 Poset of manifold subsets\n- #31718 `ManifoldSubset`: Change some methods to generators\n- #31732 `ManifoldSubset`: New methods `declare_empty`, `declare_nonempty`, `is_empty`, `has_defined_points`, `open_cover_family`\n- #31727 `ManifoldSubset`: Add methods `subset_family`, `superset_family`, `open_superset_family`; deprecate method `list_of_subsets`\n- #31736 `ManifoldSubset`: New methods `declare_equal`, `equal_subsets`, `equal_subset_family`\n- #31738 `ManifoldSubset.intersection`: Compute more supersets\n- #31682 manifolds: Add `_test_...` methods that check invariants of subset relations\n- #30263 `declare_union` yields wrong results\n\nApplication to polyhedra:\n\n- #31659 `Polyhedron.affine_hull_manifold`\n- #31660 `Polyhedron.relative_interior_manifold`\n- #31728 `manifolds.Sphere`: Make relation to simplicial spheres more concrete\n\nIssue created by migration from https://trac.sagemath.org/ticket/31740\n\n",
    "created_at": "2021-04-27T12:13:08Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Meta-ticket: Families, posets, complexes of manifold subsets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31503",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @mjungmath @egourgoulhon @tscrim @yuan-zhou

New subsets:

- #31674 Make open subsets of immersed/embedded submanifolds immersed/embedded submanifolds
- #31677 Open subsets of arbitrary subsets of manifolds
- #31653 Images of continuous maps and embedded submanifolds as manifold subsets
- #31688 Pullbacks of manifold subsets under continuous maps
- #31724 `ManifoldFiniteSubset`
- #31685 `ContinuousMap.image`: if map is an isomorphism and `domain_subset` is open, create a submanifold

Families and posets of manifold subsets:

- #31680 Poset of manifold subsets
- #31718 `ManifoldSubset`: Change some methods to generators
- #31732 `ManifoldSubset`: New methods `declare_empty`, `declare_nonempty`, `is_empty`, `has_defined_points`, `open_cover_family`
- #31727 `ManifoldSubset`: Add methods `subset_family`, `superset_family`, `open_superset_family`; deprecate method `list_of_subsets`
- #31736 `ManifoldSubset`: New methods `declare_equal`, `equal_subsets`, `equal_subset_family`
- #31738 `ManifoldSubset.intersection`: Compute more supersets
- #31682 manifolds: Add `_test_...` methods that check invariants of subset relations
- #30263 `declare_union` yields wrong results

Application to polyhedra:

- #31659 `Polyhedron.affine_hull_manifold`
- #31660 `Polyhedron.relative_interior_manifold`
- #31728 `manifolds.Sphere`: Make relation to simplicial spheres more concrete

Issue created by migration from https://trac.sagemath.org/ticket/31740





---

archive/issue_comments_449954.json:
```json
{
    "body": "For me, it gets harder and harder to keep track of the actual changes taking place in a particular ticket since there are a lot of cross-dependencies and no positively reviewed tickets have been merged lately, meaning the changes swiftly accumulate.\n\nIt might be helpful to state the ticket number in the commits which would make it easier to track the differences down, at least for me.\n\nOr perhaps there is a nice git feature I am not aware of?",
    "created_at": "2021-05-08T23:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31503",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31503#issuecomment-449954",
    "user": "https://github.com/mjungmath"
}
```

For me, it gets harder and harder to keep track of the actual changes taking place in a particular ticket since there are a lot of cross-dependencies and no positively reviewed tickets have been merged lately, meaning the changes swiftly accumulate.

It might be helpful to state the ticket number in the commits which would make it easier to track the differences down, at least for me.

Or perhaps there is a nice git feature I am not aware of?



---

archive/issue_comments_449955.json:
```json
{
    "body": "`git log --first-parent` goes a long way",
    "created_at": "2021-05-09T00:44:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31503",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31503#issuecomment-449955",
    "user": "https://github.com/mkoeppe"
}
```

`git log --first-parent` goes a long way



---

archive/issue_comments_449956.json:
```json
{
    "body": "I think it would be nice to have something like `powerset` and `topology` that dynamically keep track of whether a (open) subset is contained in it.\n\nThis might also be a good opportunity to shift all this `open_covers` and `subsets` business to those classes and decouple it more from the manifold code. We can consider doing a similar thing for atlases, too. I can imagine that these changes could make pickling of manifolds easier.\n\nThis comes handy especially for sheaves, since it would allow to see them as (lazy) families indexed by `topology`.\n\nOpinions?",
    "created_at": "2021-05-16T11:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31503",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31503#issuecomment-449956",
    "user": "https://github.com/mjungmath"
}
```

I think it would be nice to have something like `powerset` and `topology` that dynamically keep track of whether a (open) subset is contained in it.

This might also be a good opportunity to shift all this `open_covers` and `subsets` business to those classes and decouple it more from the manifold code. We can consider doing a similar thing for atlases, too. I can imagine that these changes could make pickling of manifolds easier.

This comes handy especially for sheaves, since it would allow to see them as (lazy) families indexed by `topology`.

Opinions?



---

archive/issue_comments_449957.json:
```json
{
    "body": "In principle, this could also lead to the more general notion of topological spaces. Manifolds are then nothing but topological spaces equipped with an atlas (roughly).\n\nBut to get there eventually, we need a lot of refactoring, i.e. something for the further future.",
    "created_at": "2021-05-16T13:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31503",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31503#issuecomment-449957",
    "user": "https://github.com/mjungmath"
}
```

In principle, this could also lead to the more general notion of topological spaces. Manifolds are then nothing but topological spaces equipped with an atlas (roughly).

But to get there eventually, we need a lot of refactoring, i.e. something for the further future.



---

archive/issue_comments_449958.json:
```json
{
    "body": "This is also good for subset topologies in case of e.g. embedded manifolds.",
    "created_at": "2021-05-16T13:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31503",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31503#issuecomment-449958",
    "user": "https://github.com/mjungmath"
}
```

This is also good for subset topologies in case of e.g. embedded manifolds.



---

archive/issue_comments_449959.json:
```json
{
    "body": "See also #31785 \"Category of open subsets of a topological space\".",
    "created_at": "2021-05-16T18:41:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31503",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31503#issuecomment-449959",
    "user": "https://github.com/mkoeppe"
}
```

See also #31785 "Category of open subsets of a topological space".
