# Issue 31503: Meta-ticket: Families, posets, complexes of manifold subsets

Issue created by migration from https://trac.sagemath.org/ticket/31740

Original creator: mkoeppe

Original creation time: 2021-04-27 12:13:08

CC:  @mjungmath egourgoulhon tscrim yzh

New subsets:

- #31674 Make open subsets of immersed/embedded submanifolds immersed/embedded submanifolds
- #31677 Open subsets of arbitrary subsets of manifolds
- #31653 Images of continuous maps and embedded submanifolds as manifold subsets
- #31688 Pullbacks of manifold subsets under continuous maps
- #31724 `ManifoldFiniteSubset`
- #31685 `ContinuousMap.image`: if map is an isomorphism and `domain_subset` is open, create a submanifold

Families and posets of manifold subsets:

- #31680 Poset of manifold subsets
- #31718 `ManifoldSubset`: Change some methods to generators
- #31732 `ManifoldSubset`: New methods `declare_empty`, `declare_nonempty`, `is_empty`, `has_defined_points`, `open_cover_family`
- #31727 `ManifoldSubset`: Add methods `subset_family`, `superset_family`, `open_superset_family`; deprecate method `list_of_subsets`
- #31736 `ManifoldSubset`: New methods `declare_equal`, `equal_subsets`, `equal_subset_family`
- #31738 `ManifoldSubset.intersection`: Compute more supersets
- #31682 manifolds: Add `_test_...` methods that check invariants of subset relations
- #30263 `declare_union` yields wrong results

Application to polyhedra:

- #31659 `Polyhedron.affine_hull_manifold`
- #31660 `Polyhedron.relative_interior_manifold`
- #31728 `manifolds.Sphere`: Make relation to simplicial spheres more concrete


---

Comment by @mjungmath created at 2021-05-08 23:47:53

For me, it gets harder and harder to keep track of the actual changes taking place in a particular ticket since there are a lot of cross-dependencies and no positively reviewed tickets have been merged lately, meaning the changes swiftly accumulate.

It might be helpful to state the ticket number in the commits which would make it easier to track the differences down, at least for me.

Or perhaps there is a nice git feature I am not aware of?


---

Comment by mkoeppe created at 2021-05-09 00:44:50

`git log --first-parent` goes a long way


---

Comment by @mjungmath created at 2021-05-16 11:14:48

I think it would be nice to have something like `powerset` and `topology` that dynamically keep track of whether a (open) subset is contained in it.

This might also be a good opportunity to shift all this `open_covers` and `subsets` business to those classes and decouple it more from the manifold code. We can consider doing a similar thing for atlases, too. I can imagine that these changes could make pickling of manifolds easier.

This comes handy especially for sheaves, since it would allow to see them as (lazy) families indexed by `topology`.

Opinions?


---

Comment by @mjungmath created at 2021-05-16 13:09:15

In principle, this could also lead to the more general notion of topological spaces. Manifolds are then nothing but topological spaces equipped with an atlas (roughly).

But to get there eventually, we need a lot of refactoring, i.e. something for the further future.


---

Comment by @mjungmath created at 2021-05-16 13:40:03

This is also good for subset topologies in case of e.g. embedded manifolds.


---

Comment by mkoeppe created at 2021-05-16 18:41:38

See also #31785 "Category of open subsets of a topological space".
