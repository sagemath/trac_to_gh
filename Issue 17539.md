# Issue 17539: Make python scripts in src/bin python3 compatible

Issue created by migration from Trac.

Original creator: aapitzsch

Original creation time: 2015-02-13 14:22:04

Keywords: python3




---

Comment by aapitzsch created at 2015-02-13 14:24:46

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2015-02-13 16:47:55

Why is `from __future__ import print_function` in some files but not in others? The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.


---

Comment by aapitzsch created at 2015-02-13 17:53:50

Replying to [comment:2 jhpalmieri]:
> Why is `from __future__ import print_function` in some files but not in others?
It's not needed everywhere. Here, it's needed for

```
print() # to get a newline, otherwise we would see '()'
sep=
env=
```

> The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.
The old-style still works, but I can replace it if you want.


---

Comment by jhpalmieri created at 2015-02-17 18:31:44

Replying to [comment:3 aapitzsch]:
> > The file `src/bin/sage-CSI-helper.py` also still includes some old-style % string formatting.
> The old-style still works, but I can replace it if you want.

There is [a comment in the Python documentation](https://docs.python.org/2/library/stdtypes.html#str.format) suggesting that the old style, while not officially deprecated, is discouraged.


---

Comment by git created at 2015-02-17 21:39:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhpalmieri created at 2015-03-02 23:41:39

The change in `sage-num-threads.py` gives an error (when run from a Sage shell):

```
$ sage-num-threads.py 
  File "/Users/jpalmier/Desktop/Sage_stuff/git/sage/src/bin/sage-num-threads.py", line 180
    print(*num_threads())
          ^
SyntaxError: invalid syntax
```

I guess you need `from __future__ import print_function` at the beginning of that file; at least, that fixes it for me.

Similarly, the change in `sage-coverageall` turns the output

```
Total number of functions:  37429
```

into

```
('Total number of functions: ', 37429)
```

Either adding a `from __future__ ...` statement or using `.format` appropriately would fix it.

Otherwise, I think it looks okay.


---

Comment by git created at 2015-03-03 18:28:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhpalmieri created at 2015-03-03 18:54:51

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-03-04 23:16:20

Resolution: fixed


---

Comment by jdemeyer created at 2015-03-14 10:47:32

Breakage: #17954


---

Comment by jdemeyer created at 2015-04-23 12:18:25

Breakage: #18287


---

Comment by jdemeyer created at 2015-04-23 12:25:39

Breakage: #18288
