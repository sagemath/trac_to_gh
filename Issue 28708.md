# Issue 28708: clean _cmp_ in rational.pyx

Issue created by migration from https://trac.sagemath.org/ticket/28945

Original creator: chapoton

Original creation time: 2020-01-02 20:33:15

CC:  tscrim




---

Comment by chapoton created at 2020-01-03 07:54:04

New commits:


---

Comment by chapoton created at 2020-01-03 14:54:43

I am a bit surprised that it works, but it does.


---

Comment by chapoton created at 2020-01-03 14:54:43

Changing status from new to needs_review.


---

Comment by chapoton created at 2020-01-28 20:28:43

broken in 9.1.b2, apparently


---

Comment by chapoton created at 2020-01-28 20:28:43

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2020-01-28 21:47:31

So it is something with how comparisons are done in the ring extensions. The only thing I can really guess for why removing `Rational._cmp_` breaks things is because that is being called because of the `RingExtensionElement.__getattr__` that pulls methods from the `_backend`, which then gets `Rational._cmp_` that overrides the `RingExtensionElement._richcmp_` call. Hence, the `RingExtensionElement._richcmp_` never actually got used. Yet, even if that is the case, I don't understand why it is broken.


---

Comment by mkoeppe created at 2020-05-01 04:28:42

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.


---

Comment by git created at 2020-06-21 11:25:23

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2020-06-21 20:07:04

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2020-06-21 20:07:04

hurrah, green bot !


---

Comment by tscrim created at 2020-06-22 04:38:04

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-06-22 04:38:04

Huzzah!


---

Comment by vbraun created at 2020-06-24 23:38:20

Resolution: fixed
