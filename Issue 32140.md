# Issue 32140: lift from free pre-Lie algebras to Grossman-Larson algebras

Issue created by migration from https://trac.sagemath.org/ticket/32377

Original creator: chapoton

Original creation time: 2021-08-14 11:48:22

CC:  tscrim




---

Comment by chapoton created at 2021-08-14 11:51:04

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-08-14 11:51:04

New commits:


---

Comment by chapoton created at 2021-08-14 16:36:21

green bot, please review.

Travis, if you can have a look, please tell me if I did things correctly.


---

Comment by tscrim created at 2021-08-14 21:55:00

I just want to point out there already is a hook for modifying the map the indices of the Lie algebra basis to the UEA algebra generators:

```python
def _UEA_names_map(self, t):
    UEA = self._construct_UEA()
    LRT = UEA.basis().keys()
    return LRT([x], ROOT)
```

Although this will likely be slower than your implementation, so I would go with your version. I think it would be better to make it a proper bound method on the element:

```python
class Element(CombinatorialFreeModule.Element):
    def lift(self):
        UEA = self.parent()._construct_UEA()
        LRT = UEA.basis().keys()
        data = {LRT([x], ROOT): cf
                for x, cf in self.monomial_coefficients().items()}
        return UEA.element_class(UEA, data)
```

Otherwise everything looks good.


---

Comment by git created at 2021-08-15 07:48:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-08-15 08:39:53

Thank you. Green patchbot => positive review. (If you want one other micro-optimization, you can pass `copy=False` to `monomial_coefficients()`.)


---

Comment by git created at 2021-08-15 09:55:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2021-08-15 09:55:54

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2021-08-15 09:55:54

Thanks a lot, Travis. Setting to positive now.

I hope things are ok for you in Australia.


---

Comment by tscrim created at 2021-08-15 22:35:58

Replying to [comment:7 chapoton]:
> Thanks a lot, Travis. Setting to positive now.

No problem.

> I hope things are ok for you in Australia.

Thank you. I hope things are well for you too in Strasbourg.


---

Comment by vbraun created at 2021-09-13 22:22:18

Resolution: fixed
