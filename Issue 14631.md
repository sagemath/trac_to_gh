# Issue 14631: race condition in polybory spkg

Issue created by migration from https://trac.sagemath.org/ticket/14835

Original creator: saraedum

Original creation time: 2013-06-27 12:56:17

Assignee: GeorgSWeber

CC:  malb burcin

The current polybori spkg does not install correctly on my system, the config.h header is missing which leads to a compilation error later in sage's build process.

This appears to be caused by my `MAKEOPTS="-j13 -l13"` environment variable. If I unset this variable, config.h installs correctly.

The output with and without that variable set can be found here http://pastebin.com/D2RCadep, notice how the config.h install is missing in the first one.


---

Comment by saraedum created at 2013-06-27 12:58:08

Should I report this to the polybori mailing list? This could be a problem in the scons file polybori uses since the spkg-install script passes the MAKEOPTS. I never used scons, so I can't debug this myself.


---

Comment by saraedum created at 2013-06-27 13:00:44

This happened with the new git based repository http://github.com/sagemath/sage. I don't have an old version of the repository to test it. I could install one though.


---

Comment by saraedum created at 2013-06-27 13:02:45

CCed SPKG maintainers.


---

Comment by vbraun created at 2013-06-27 15:46:27

Please do report it upstream and post a link to the upstream report here.


---

Comment by jdemeyer created at 2014-02-05 14:29:29

Invalid since the pasted log doesn't show any sign of failure.


---

Comment by jdemeyer created at 2014-02-05 14:29:29

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2014-02-05 14:29:34

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-02-06 20:50:40

Resolution: invalid
