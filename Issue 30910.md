# Issue 30910: Add missing curly braces in latex of Kodaira symbol

Issue created by migration from https://trac.sagemath.org/ticket/31147

Original creator: roed

Original creation time: 2021-01-01 21:09:31


```
sage: latex(EllipticCurve([0, -1, 0, -101781377, -517919745247]).kodaira_symbol(2))                                                                                                                                               
I_64^{*}
```


It should be `I_{64}^{*}`.


---

Comment by roed created at 2021-01-01 21:16:57

New commits:


---

Comment by roed created at 2021-01-01 21:16:57

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-01-02 08:05:17

the new doctest is failing..


---

Comment by git created at 2021-01-02 09:47:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2021-01-02 09:47:55

Oops.  Should be fixed now.


---

Comment by slelievre created at 2021-01-02 14:42:00

How about an f-string:

```diff
-                self._latex = 'I_{' + nu.str() + '}^{*}'
+                self._latex = f'I_`nu`^{{*}}'
```



---

Comment by chapoton created at 2021-01-02 17:51:23

and  the trac role syntax is plain wrong


---

Comment by git created at 2021-01-03 19:23:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2021-01-03 19:24:51

I don't know why, but I often get the trac role syntax wrong, and forgot to check myself this time.  I've fixed it.

I find an f-string less readable with so many curly braces floating around, but I've switched to using the % operator rather than adding strings.


---

Comment by chapoton created at 2021-01-03 19:34:51

the branch contains spurious changes in ring_extension


---

Comment by cremona created at 2021-01-04 15:37:48

I am happy with the changes to kodaira_symbol.py but think that the other changed file should not be in the commit.


---

Comment by slelievre created at 2021-01-04 18:21:08

Okay with `%s` to avoid having to escape braces in an f-string.


---

Comment by chapoton created at 2021-01-05 08:54:46

Because of the wrongly modified file, this currently needs work.


---

Comment by chapoton created at 2021-01-05 08:54:46

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2021-01-06 08:39:32

ok, I made a new branch myself.
----
New commits:


---

Comment by chapoton created at 2021-01-06 08:40:02

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2021-01-06 12:57:17

I will allow myself to set to positive.


---

Comment by chapoton created at 2021-01-06 12:57:17

Changing status from needs_review to positive_review.


---

Comment by roed created at 2021-01-06 18:52:16

Sorry about the extra file, and thanks for fixing it!


---

Comment by vbraun created at 2021-01-31 20:52:42

Resolution: fixed
