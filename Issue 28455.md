# Issue 28455: ideal generation confusing (or wrong)

Issue created by migration from https://trac.sagemath.org/ticket/28692

Original creator: kcrisman

Original creation time: 2019-11-03 01:42:57

This construction is from [this stack overflow question](https://stackoverflow.com/questions/58576076/sage-does-not-recognize-a-unit-ideal):

```
A=Zp(5)
R.<x>=A[]
g1=(1+x)^(25)-1;
g2=6^(-25)*((1+x)^(25)-6^(25));
J=R.ideal(A(37),g1)
I=R.ideal(A(37),g2)
K = R.ideal(A(37))
U=R.unit_ideal()
K == U
```

which gives `False` even though `A(37).is_unit()` gives `True`.  This seems to be more problematic because

```
L = R.ideal(1,g1)
L==U
```

gives `False`!

Usually one would think an ideal with 1 as a generator (even if one of several) would be the entire ring.  But maybe there is something about this situation where that would not obtain, or maybe I forgot how rings work ... so either the documentation needs to change or there might be a bug.


---

Comment by @mwageringel created at 2019-11-04 17:40:51

`K == U` is `True` for me, but the rest is as described.

I am not very familiar with padics, but I assume the problem is that `Zp(5)` is an inexact ring, so that an ideal equality test cannot work correctly.

```
sage: Zp(5)
5-adic Ring with capped relative precision 20
sage: _.is_exact()
False
```



---

Comment by kcrisman created at 2019-11-04 21:10:29

That seems like a pretty reasonable guess.  I made a typo from some earlier cut-and-paste and I'll fix the original report, sorry.


---

Comment by embray created at 2020-01-06 14:10:03

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-05-01 04:28:42

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.


---

Comment by mkoeppe created at 2021-05-10 17:42:09

Moving to 9.4, as 9.3 has been released.
