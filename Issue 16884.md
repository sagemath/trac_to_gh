# Issue 16884: LatticePoset: Add meet_irreducibles, faster is_distributive

archive/issues_016884.json:
```json
{
    "body": "CC:  @nathanncohen\n\nFinite lattice posets now has `join_irreducibles()` and `join_irreducibles_poset()`. Add `meet_irreducibles()` and `meet_irreducibles_poset()`.\n\n`is_distributive()` is now based on formal definition. It can just check that lattice is graded and that number of both meet- and join-irreducibles equals to rank (=height-1) of the lattice.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/17121\n\n",
    "created_at": "2014-10-09T09:56:39Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "LatticePoset: Add meet_irreducibles, faster is_distributive",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16884",
    "user": "@jm58660"
}
```
CC:  @nathanncohen

Finite lattice posets now has `join_irreducibles()` and `join_irreducibles_poset()`. Add `meet_irreducibles()` and `meet_irreducibles_poset()`.

`is_distributive()` is now based on formal definition. It can just check that lattice is graded and that number of both meet- and join-irreducibles equals to rank (=height-1) of the lattice.


Issue created by migration from https://trac.sagemath.org/ticket/17121





---

archive/issue_comments_223523.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-10-09T12:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223523",
    "user": "@jm58660"
}
```

New commits:



---

archive/issue_comments_223524.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-10-09T12:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223524",
    "user": "@jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_223525.json:
```json
{
    "body": "Hello !\n\n1) `meet_irreducibles`: you write `len(self.upper_covers())` which calls `upper_covers_iterator` which iterates over all out-neighbors of a vertex of the HasseDiagram before relabelling them as !Poset elements. Why ? All you want to do is check that the outdegree of those points if 1. You could work on the diagram directly.\n\n2) Please add the new functions to the index.\n\n3) You cannot use `$` for latex code there. Use ``` instead. In order to check that the doc compiles correctly run `sage -b && sage -docbuild reference/combinat html` and look at the html files produced.\n\n4) Use `()` instead of `\\` to wrap code on multiple lines.\n\nNathann",
    "created_at": "2014-10-10T16:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223525",
    "user": "@nathanncohen"
}
```

Hello !

1) `meet_irreducibles`: you write `len(self.upper_covers())` which calls `upper_covers_iterator` which iterates over all out-neighbors of a vertex of the HasseDiagram before relabelling them as !Poset elements. Why ? All you want to do is check that the outdegree of those points if 1. You could work on the diagram directly.

2) Please add the new functions to the index.

3) You cannot use `$` for latex code there. Use ``` instead. In order to check that the doc compiles correctly run `sage -b && sage -docbuild reference/combinat html` and look at the html files produced.

4) Use `()` instead of `\` to wrap code on multiple lines.

Nathann



---

archive/issue_comments_223526.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-10T16:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223526",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_223527.json:
```json
{
    "body": "1: But `posets.py` says \"This internal data structure is subject to change at any point. Do not break encapsulation!\" But I can do that of course; then I'll also change `join_irreducibles`.\n\n2: Uh, of course.\n\n3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.\n\n4: OK.",
    "created_at": "2014-10-10T20:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223527",
    "user": "@jm58660"
}
```

1: But `posets.py` says "This internal data structure is subject to change at any point. Do not break encapsulation!" But I can do that of course; then I'll also change `join_irreducibles`.

2: Uh, of course.

3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.

4: OK.



---

archive/issue_comments_223528.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-11T18:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223528",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_223529.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-11T18:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223529",
    "user": "@jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_223530.json:
```json
{
    "body": "3: It seems that $ works in me. Could you check it? 2: There is no index where to add... So, more work to poset documentation project.\n\nAs of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.\n\nAlso this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?",
    "created_at": "2014-10-11T18:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223530",
    "user": "@jm58660"
}
```

3: It seems that $ works in me. Could you check it? 2: There is no index where to add... So, more work to poset documentation project.

As of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.

Also this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?



---

archive/issue_comments_223531.json:
```json
{
    "body": "Yo !\n\n> 1: But `posets.py` says \"This internal data structure is subject to change at any point. Do not break encapsulation!\" But I can do that of course; then I'll also change `join_irreducibles`.\n\nLost computations for political reasons. This code never ceases to amaze me `:-P`\n\n> 3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.\n\nOh. If it is written in the developper's manual then the nazis can do nothing against you. Good ! `:-D`\n\nNathann",
    "created_at": "2014-10-12T15:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223531",
    "user": "@nathanncohen"
}
```

Yo !

> 1: But `posets.py` says "This internal data structure is subject to change at any point. Do not break encapsulation!" But I can do that of course; then I'll also change `join_irreducibles`.

Lost computations for political reasons. This code never ceases to amaze me `:-P`

> 3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.

Oh. If it is written in the developper's manual then the nazis can do nothing against you. Good ! `:-D`

Nathann



---

archive/issue_comments_223532.json:
```json
{
    "body": "> 2: There is no index where to add... So, more work to poset documentation project.\n\nOh, no index for lattices. Right, sorry for my remark !\n\n> As of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.\n\nAs you wish. Remember that there is some time there to save if you have time problems later on.\n\n> Also this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?\n\nI don't mind. It will depend on the reviewers, though.\n\nI will run all tests on a machine to check that removing this keyword does not break anything somewhere.\n\nNathann",
    "created_at": "2014-10-12T15:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223532",
    "user": "@nathanncohen"
}
```

> 2: There is no index where to add... So, more work to poset documentation project.

Oh, no index for lattices. Right, sorry for my remark !

> As of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.

As you wish. Remember that there is some time there to save if you have time problems later on.

> Also this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?

I don't mind. It will depend on the reviewers, though.

I will run all tests on a machine to check that removing this keyword does not break anything somewhere.

Nathann



---

archive/issue_comments_223533.json:
```json
{
    "body": "The dollar-sign `$` does work, but it is (strongly?) recommended that you use the backticks ``` instead. I think there are still issues with the notebook's documentation when using dollar-signs.",
    "created_at": "2014-10-12T15:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223533",
    "user": "@tscrim"
}
```

The dollar-sign `$` does work, but it is (strongly?) recommended that you use the backticks ``` instead. I think there are still issues with the notebook's documentation when using dollar-signs.



---

archive/issue_comments_223534.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-12T21:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223534",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_223535.json:
```json
{
    "body": "All tests passed !\n\nThanks,\n\nNathann",
    "created_at": "2014-10-13T11:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223535",
    "user": "@nathanncohen"
}
```

All tests passed !

Thanks,

Nathann



---

archive/issue_comments_223536.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-13T11:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223536",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_223537.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-14T10:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16884#issuecomment-223537",
    "user": "@vbraun"
}
```

Resolution: fixed
