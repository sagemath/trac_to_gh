# Issue 16884: LatticePoset: Add meet_irreducibles, faster is_distributive

Issue created by migration from Trac.

Original creator: jmantysalo

Original creation time: 2014-10-09 09:56:39

CC:  ncohen

Finite lattice posets now has `join_irreducibles()` and `join_irreducibles_poset()`. Add `meet_irreducibles()` and `meet_irreducibles_poset()`.

`is_distributive()` is now based on formal definition. It can just check that lattice is graded and that number of both meet- and join-irreducibles equals to rank (=height-1) of the lattice.



---

Comment by jmantysalo created at 2014-10-09 12:16:33

New commits:


---

Comment by jmantysalo created at 2014-10-09 12:16:33

Changing status from new to needs_review.


---

Comment by ncohen created at 2014-10-10 16:00:15

Hello !

1) `meet_irreducibles`: you write `len(self.upper_covers())` which calls `upper_covers_iterator` which iterates over all out-neighbors of a vertex of the HasseDiagram before relabelling them as !Poset elements. Why ? All you want to do is check that the outdegree of those points if 1. You could work on the diagram directly.

2) Please add the new functions to the index.

3) You cannot use `$` for latex code there. Use ``` instead. In order to check that the doc compiles correctly run `sage -b && sage -docbuild reference/combinat html` and look at the html files produced.

4) Use `()` instead of `\` to wrap code on multiple lines.

Nathann


---

Comment by ncohen created at 2014-10-10 16:00:15

Changing status from needs_review to needs_work.


---

Comment by jmantysalo created at 2014-10-10 20:42:13

1: But `posets.py` says "This internal data structure is subject to change at any point. Do not break encapsulation!" But I can do that of course; then I'll also change `join_irreducibles`.

2: Uh, of course.

3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.

4: OK.


---

Comment by git created at 2014-10-11 18:19:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2014-10-11 18:29:20

Changing status from needs_work to needs_review.


---

Comment by jmantysalo created at 2014-10-11 18:29:20

3: It seems that $ works in me. Could you check it? 2: There is no index where to add... So, more work to poset documentation project.

As of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.

Also this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?


---

Comment by ncohen created at 2014-10-12 15:43:33

Yo !

> 1: But `posets.py` says "This internal data structure is subject to change at any point. Do not break encapsulation!" But I can do that of course; then I'll also change `join_irreducibles`.

Lost computations for political reasons. This code never ceases to amaze me `:-P`

> 3: OK. But then http://www.sagemath.org/doc/developer/coding_basics.html#latex-typesetting needs correcting.

Oh. If it is written in the developper's manual then the nazis can do nothing against you. Good ! `:-D`

Nathann


---

Comment by ncohen created at 2014-10-12 15:48:58

> 2: There is no index where to add... So, more work to poset documentation project.

Oh, no index for lattices. Right, sorry for my remark !

> As of 1, I did not do that for now; this is direct copy from `join_`-counterparts. Point 4 is done, but long line of `==` is still quite hard to read.

As you wish. Remember that there is some time there to save if you have time problems later on.

> Also this same time I removed totally unused argument from `cover_relations`. Is this OK to do in ticket title saying nothing about it?

I don't mind. It will depend on the reviewers, though.

I will run all tests on a machine to check that removing this keyword does not break anything somewhere.

Nathann


---

Comment by tscrim created at 2014-10-12 15:57:00

The dollar-sign `$` does work, but it is (strongly?) recommended that you use the backticks ``` instead. I think there are still issues with the notebook's documentation when using dollar-signs.


---

Comment by git created at 2014-10-12 21:50:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-10-13 11:49:26

All tests passed !

Thanks,

Nathann


---

Comment by ncohen created at 2014-10-13 11:49:26

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-14 10:41:31

Resolution: fixed
