# Issue 29682: Restore "huge" package type

archive/issues_029682.json:
```json
{
    "body": "CC:  jhpalmieri dimpase mjo slabbe etn40ff @tobiasdiez\n\n(from #29901)\n\n... for packages like `database_stein_watkins` and `polytopes_db_4d`\n\nIssue created by migration from https://trac.sagemath.org/ticket/29919\n\n",
    "created_at": "2020-06-20T16:18:11Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "title": "Restore \"huge\" package type",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29682",
    "user": "mkoeppe"
}
```
CC:  jhpalmieri dimpase mjo slabbe etn40ff @tobiasdiez

(from #29901)

... for packages like `database_stein_watkins` and `polytopes_db_4d`

Issue created by migration from https://trac.sagemath.org/ticket/29919





---

archive/issue_comments_421483.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421483",
    "user": "mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_421484.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-13T22:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421484",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_421485.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-02-13T22:37:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421485",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_421486.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-16T05:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421486",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_421487.json:
```json
{
    "body": "Can you document both `huge` and `has_nonfree_dependencies` in the developer's guide?",
    "created_at": "2022-02-24T23:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421487",
    "user": "jhpalmieri"
}
```

Can you document both `huge` and `has_nonfree_dependencies` in the developer's guide?



---

archive/issue_comments_421488.json:
```json
{
    "body": "Good idea",
    "created_at": "2022-02-24T23:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421488",
    "user": "mkoeppe"
}
```

Good idea



---

archive/issue_comments_421489.json:
```json
{
    "body": "I think we should have a cleaner way to add \"tags\" to packages, but in lieu of general solution this gets the job done.\n\nThe nonfree-dependencies thing is a bit of a legal mess. Users who install such a package lose the right to distribute their copy of sage. Entities such as universities may not want to wade into that sort of grey area. Anyway, that's orthogonal to this ticket.",
    "created_at": "2022-02-25T00:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421489",
    "user": "mjo"
}
```

I think we should have a cleaner way to add "tags" to packages, but in lieu of general solution this gets the job done.

The nonfree-dependencies thing is a bit of a legal mess. Users who install such a package lose the right to distribute their copy of sage. Entities such as universities may not want to wade into that sort of grey area. Anyway, that's orthogonal to this ticket.



---

archive/issue_comments_421490.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-25T01:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421490",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_421491.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-25T18:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421491",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_421492.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-25T18:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421492",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_421493.json:
```json
{
    "body": "Would\n\n```\nif any(not pkg.has_file(filename) for filename in filenames):\n```\n\nbe more efficient than the current\n\n```\nif not all(pkg.has_file(filename) for filename in filenames):\n```\n\nand similarly a few lines later with `not any(...)`? Or does Python do this sort of optimization automatically?",
    "created_at": "2022-02-25T19:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421493",
    "user": "jhpalmieri"
}
```

Would

```
if any(not pkg.has_file(filename) for filename in filenames):
```

be more efficient than the current

```
if not all(pkg.has_file(filename) for filename in filenames):
```

and similarly a few lines later with `not any(...)`? Or does Python do this sort of optimization automatically?



---

archive/issue_comments_421494.json:
```json
{
    "body": "Never mind, I guess it doesn't matter.",
    "created_at": "2022-02-25T20:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421494",
    "user": "jhpalmieri"
}
```

Never mind, I guess it doesn't matter.



---

archive/issue_comments_421495.json:
```json
{
    "body": "There's no difference in efficiency - both `any` and `all` shortcircuit.\nAnd I think there is no difference in clarity",
    "created_at": "2022-02-25T20:32:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421495",
    "user": "mkoeppe"
}
```

There's no difference in efficiency - both `any` and `all` shortcircuit.
And I think there is no difference in clarity



---

archive/issue_comments_421496.json:
```json
{
    "body": "I got confused and thought that the two might short-circuit at different points, but they will short-circuit at exactly the same point, so it makes no difference.\n\nThis is not your fault and should not be fixed on this ticket, but I wish that the code in `expand_class.py` were documented. Anyway, let's move forward with this.",
    "created_at": "2022-02-25T21:18:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421496",
    "user": "jhpalmieri"
}
```

I got confused and thought that the two might short-circuit at different points, but they will short-circuit at exactly the same point, so it makes no difference.

This is not your fault and should not be fixed on this ticket, but I wish that the code in `expand_class.py` were documented. Anyway, let's move forward with this.



---

archive/issue_comments_421497.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-25T21:18:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421497",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_421498.json:
```json
{
    "body": "Thanks!",
    "created_at": "2022-02-25T22:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421498",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_421499.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-02-27T22:00:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29682#issuecomment-421499",
    "user": "vbraun"
}
```

Resolution: fixed
