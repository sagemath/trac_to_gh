# Issue 32343: ubuntu-trusty-standard, debian-jessie-standard, linuxmint-17: openssl too old for python3

Issue created by migration from https://trac.sagemath.org/ticket/32580

Original creator: mkoeppe

Original creation time: 2021-09-28 16:35:07

CC:  tmonteil dimpase mjo jhpalmieri @kliem

We should update `build/pkgs/openssl/spkg-configure.m4` to detect this. 
https://github.com/sagemath/sage/runs/3712854824?check_suite_focus=true


---

Comment by mkoeppe created at 2021-09-28 16:35:26

Changing priority from major to critical.


---

Comment by mjo created at 2021-09-28 17:25:40

There aren't enough of us to support every package combination on every distro going back a decade. This is most thoroughly solved by setting `--with-system-python3=force` (or better yet, by deleting the SPKG) and documenting how to install a newer version of python3 with Nix, Conda, or unofficial deb/RPMs.

For Ubuntu, there's a PPA that provides them:

https://launchpad.net/~deadsnakes/+archive/ubuntu/ppa


---

Comment by mkoeppe created at 2021-09-28 17:29:06

We have ticket for this standard reaction, #32074. Let's please not repeat it on every ticket.


---

Comment by mkoeppe created at 2021-09-28 18:41:04

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-09-28 18:41:04

Tested as follows:
- on homebrew, correctly accepts openssl
- `tox -e docker-ubuntu-trusty-standard -- config.status` ... correctly rejects openssl
----
New commits:


---

Comment by git created at 2021-09-28 19:17:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-09-28 19:18:29

`tox -e docker-ubuntu-focal-standard -- config.status` now notices that openssl is not required


---

Comment by @kliem created at 2021-09-30 20:42:02

Changing status from needs_review to needs_work.


---

Comment by @kliem created at 2021-09-30 20:42:02


```diff
-            #if OPENSSL_VERSION_NUMBER < 0x10100010L
+            #if OPENSSL_VERSION_NUMBER < 0x10101000L
```


Once done, you can set it on positive review on my behalf.


---

Comment by git created at 2021-09-30 22:09:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-09-30 22:09:55

Thanks for catching this, you are right


---

Comment by mkoeppe created at 2021-09-30 22:10:17

Changing status from needs_work to positive_review.


---

Comment by @kliem created at 2021-09-30 22:14:32

Well it did confuse me, when I was testing it. I have openssl 1.1.1 and raising the requirement to 1.1.2 did not do anything.


---

Comment by vbraun created at 2021-10-09 11:10:17

Resolution: fixed
