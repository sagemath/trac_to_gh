# Issue 29730: Make interfaces doctests ready for random seeds

Issue created by migration from https://trac.sagemath.org/ticket/29967

Original creator: @kliem

Original creation time: 2020-06-24 20:18:13

CC:  @davewittemorris

This ticket makes

```
sage -t --long --random-seed=n src/sage/interfaces/
```

pass for different values `n` than just `0`.


---

Comment by @kliem created at 2020-06-24 20:18:43

Probably only

```
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/interfaces/singular.py  # 3 doctests failed
```

needs to be fixed.


---

Comment by @kliem created at 2021-01-24 11:59:30


```
sage -t --long --random-seed=1232131238098 src/sage/interfaces/r.py
too many failed tests, not using stored timings
Running doctests with ID 2021-01-24-13-31-27-fe6ffc5b.
Git branch: develop
Using --optional=4ti2,build,debian,dochtml,e_antic,latte_int,libnauty,lidia,lrslib,mcqd,memlimit,normaliz,pip,pynormaliz,pyroaringbitmap,python_igraph,rubiks,sage,sage_spkg,speaklater,texttable
Doctesting 1 file.
R[write to console]: Warning messages:

R[write to console]: 1: 
R[write to console]: In sage10 + sage6 :
R[write to console]: 
 
R[write to console]:  longer object length is not a multiple of shorter object length

R[write to console]: 2: 
R[write to console]: In sqrt(sage10) :
R[write to console]:  NaNs produced

R[write to console]: 3: 
R[write to console]: In sqrt(sage4) :
R[write to console]:  NaNs produced

sage -t --long --random-seed=1232131238098 src/sage/interfaces/r.py
    [257 tests, 2.53 s]
```



---

Comment by @kliem created at 2021-01-24 12:36:00

Replying to [comment:4 gh-kliem]:
> {{{
> sage -t --long --random-seed=1232131238098 src/sage/interfaces/r.py
> too many failed tests, not using stored timings
> Running doctests with ID 2021-01-24-13-31-27-fe6ffc5b.
> Git branch: develop
> Using --optional=4ti2,build,debian,dochtml,e_antic,latte_int,libnauty,lidia,lrslib,mcqd,memlimit,normaliz,pip,pynormaliz,pyroaringbitmap,python_igraph,rubiks,sage,sage_spkg,speaklater,texttable
> Doctesting 1 file.
> R[write to console]: Warning messages:
> 
> R[write to console]: 1: 
> R[write to console]: In sage10 + sage6 :
> R[write to console]: 
>  
> R[write to console]:  longer object length is not a multiple of shorter object length
> 
> R[write to console]: 2: 
> R[write to console]: In sqrt(sage10) :
> R[write to console]:  NaNs produced
> 
> R[write to console]: 3: 
> R[write to console]: In sqrt(sage4) :
> R[write to console]:  NaNs produced
> 
> sage -t --long --random-seed=1232131238098 src/sage/interfaces/r.py
>     [257 tests, 2.53 s]
> }}}

I'm just going to ignore this warning. Technically, it is not a failed doctest.


---

Comment by @kliem created at 2021-01-24 12:38:25

Changing status from new to needs_review.


---

Comment by @kliem created at 2021-01-24 12:38:25

New commits:


---

Comment by @DaveWitteMorris created at 2021-01-29 02:31:00

Changing status from needs_review to positive_review.


---

Comment by @DaveWitteMorris created at 2021-01-29 02:31:00

Thanks for fixing this. I tried twenty different seeds and got no doctest failures.

I don't think the warnings from r.py have anything to do with this ticket, and they are certainly not a reason to keep this ticket open.  (I get them even with `random-seed=0`.) I opened ticket #31300 for anyone who is concerned about those warnings.


---

Comment by @kliem created at 2021-01-29 06:57:46

Thank you.


---

Comment by vbraun created at 2021-02-20 10:46:26

Resolution: fixed
