# Issue 12008: is_directed_acyclic(certificate=True) doesn't always give an ordering back

Issue created by migration from https://trac.sagemath.org/ticket/12180

Original creator: mderickx

Original creation time: 2011-12-18 15:59:31

Assignee: tbd

Currently we have:


```
sage: m=Matrix(3,[0, 1, 1, 0, 0, 0, 0, 1, 0])
sage: g=DiGraph(m)
sage: g.is_directed_acyclic(certificate=True)[1]
[0, 1, 2, 1]
```



---

Comment by mderickx created at 2011-12-19 11:37:53

Changing keywords from "" to "sd35".


---

Attachment


---

Comment by mderickx created at 2012-01-19 17:56:39

Changing status from new to needs_review.


---

Comment by mderickx created at 2012-01-19 17:56:39

It is working now. There is also a more extensive randomized test because the old test didn't find the bug because the dags it generated where already ordered, and ordering something already ordened is significantly easier. Also the randomized testing did not test non dags. Ps. David harvey wrote most of the test code.


---

Comment by mderickx created at 2012-01-30 16:01:12

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by ncohen created at 2012-02-08 23:02:37

Helloooooooo !!!

I think I fixed it already `:-)`

It must beeeee....... #11950 !

Currently, in Sage 5.0-beta2 :


```
sage: m=Matrix(3,[0, 1, 1, 0, 0, 0, 0, 1, 0])
sage: g=DiGraph(m)
sage: g.is_directed_acyclic(certificate=True)
(True, [0, 2, 1])
```


Nathann


---

Comment by ncohen created at 2012-02-08 23:02:37

Changing status from needs_review to positive_review.


---

Comment by mderickx created at 2012-02-09 10:36:22

Changing status from positive_review to needs_work.


---

Comment by mderickx created at 2012-02-09 10:36:22

Ok, I didn't find that one when creating this ticket, because it didn't mention the is_directed_acyclic anywhere. I'm putting this to needs work again because I think at least some parts of the patch here are superior with respect 11950. The two things being the addition of a more rigid randomized doctest and the removal of inserting stuff at the beginning of the list (see line 2806 after applying 11950, or line 2796	before applying it). This stupid inserting at the front of a list basically changes an algorithm whose run time is linear in the number of vertices to something wich is quadratic in the number of vertices!


---

Comment by rws created at 2014-06-06 06:25:47

Better revert milestone then too.


---

Comment by ncohen created at 2014-06-26 10:16:41

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2014-06-26 12:28:55

Reviewer name, work issues?


---

Comment by vbraun created at 2014-06-26 12:28:55

Changing status from positive_review to needs_work.


---

Comment by ncohen created at 2014-06-26 12:29:45

No idea... I just saw a ticket in wontfix, so I changed it to `positive_review` `O_o`

Nathann


---

Comment by ncohen created at 2014-06-26 12:32:25

Arg, I am an idiot. It was changed FROM wontfix to 6.3 `T_T`


---

Comment by mderickx created at 2021-11-28 10:33:01

Changing type from defect to enhancement.


---

Comment by dcoudert created at 2021-11-28 11:51:44

Note that since #30479 we have `digraphs.RandomDirectedAcyclicGraph`. It might be helpful if you plan to add tests to `is_directed_acyclic`.

Also, I think this ticket should be in `graph theory` and not `combinatorics`.
