# Issue 25300: sage -rst2ipynb should provide a usefull message if rst2ipynb is not installed

Issue created by migration from Trac.

Original creator: slabbe

Original creation time: 2018-06-07 20:49:45

CC:  tmonteil

I get:


```
$ sage -rst2ipynb yo.rst yo.ipynb
/home/slabbe/GitBox/sage/src/bin/sage: ligne 775 : exec: rst2ipynb : non trouvé
```


???


---

Comment by slabbe created at 2018-07-05 08:39:49

It seems to be the normal behavior when an optional package is not installed:


```
slabbe`@`miami bin $ sage -polymake
/home/slabbe/GitBox/sage/src/bin/sage: ligne 524 : exec: polymake : non trouvé
slabbe`@`miami bin $ sage -kash
/home/slabbe/GitBox/sage/src/bin/sage: ligne 559 : exec: kash : non trouvé
```



---

Comment by slabbe created at 2018-07-05 08:52:28

When kash, polymake, etc. are not installed, the doc of `sage -advanced` says:


```
  -kash [...]         -- run Sage's Kash with given arguments
                         (not installed currently, run sage -i kash)
  -lisp [...]         -- run Lisp interpreter included with Sage
  -M2 [...]           -- run Sage's Macaulay2 with given arguments
                         (not installed currently, run sage -i macaulay2)
  -maxima [...]       -- run Sage's Maxima with given arguments
  -mwrank [...]       -- run Sage's mwrank with given arguments
  -polymake [...]     -- run Sage's Polymake with given arguments
                         (not installed currently, run sage -i polymake)
```



---

Comment by slabbe created at 2018-07-05 08:56:59

Changing status from new to needs_review.


---

Comment by slabbe created at 2018-07-05 08:56:59

I changed `sage -advanced` for `rst2ipynb` to do like the others `kash` and `polymake`, etc.
----
Last 10 new commits:


---

Comment by slabbe created at 2018-07-05 08:58:03

Changing keywords from "" to "thursdaysbdx".


---

Comment by tmonteil created at 2018-07-25 17:01:09

The code you provide does not fix the issue mentioned in the title and the description.


---

Comment by slabbe created at 2018-07-26 08:11:57

Yes I know. Do you know how we could give better error messages to the user when not installed? You know bash more than me...


---

Comment by tmonteil created at 2018-07-26 20:48:00

Here is some code that does the job, but i am not sure this makes consensus, regarding the other cases in the same script.
----
New commits:


---

Comment by slabbe created at 2018-08-25 12:36:16

Do we lose something by removing the `exec` part ?


---

Comment by slabbe created at 2018-08-25 12:36:16

Changing status from needs_review to needs_info.


---

Comment by slabbe created at 2018-09-02 21:35:31

ping:) please can you answer my small question before I can give positive review?


---

Comment by slabbe created at 2018-09-20 09:42:30

ping


---

Comment by tmonteil created at 2018-09-20 16:17:26

Replying to [comment:10 slabbe]:
> Do we lose something by removing the `exec` part ?

The way i wrote it, i would say no. The trick with `exec` is that the current process is replaced, hence after the command is finished, the further lines of the current script are not executed. This explains why, when removing the `exec` i had to catch the error (to send the appropriate message) and then be sure to exit.

The only drawback i see, is that the construction is different from the other cases in the script (that still use exec).


---

Comment by slabbe created at 2018-09-20 18:02:36

Changing status from needs_info to positive_review.


---

Comment by slabbe created at 2018-09-20 18:02:36

Thanks for the clarifications.


---

Comment by vbraun created at 2018-09-22 10:22:38

Resolution: fixed
