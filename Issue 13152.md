# Issue 13152: Ecl does not build on (recent) Cygwins

archive/issues_013152.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  fbissey\n\nKeywords: cygwin ecl\n\nOn my 1.7.16 installation of Cygwin, the ecl spkg does not build because it defines unconditionaly _WINSOCKAPI_ in h/ecl-cmp.h which then prevents the definition of fd_set in /usr/include/sys/types.h.\nI guess this is harmless on linux, intended on Windows, but on Cygwin this breaks the build of ECL.\n\nThe proposed spkg patches h/ecl-cmp.h so that _WINSOCKAPI_ is not defined on CYGWIN.\n\nTry spkg at\nhttp://perso.telecom-paristech.fr/~flori/sage/ecl-11.1.2.cvs20111120.p2.spkg\n\nIssue created by migration from https://trac.sagemath.org/ticket/13324\n\n",
    "created_at": "2012-08-01T16:10:56Z",
    "labels": [
        "porting: Cygwin",
        "major",
        "bug"
    ],
    "title": "Ecl does not build on (recent) Cygwins",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13152",
    "user": "jpflori"
}
```
Assignee: tbd

CC:  fbissey

Keywords: cygwin ecl

On my 1.7.16 installation of Cygwin, the ecl spkg does not build because it defines unconditionaly _WINSOCKAPI_ in h/ecl-cmp.h which then prevents the definition of fd_set in /usr/include/sys/types.h.
I guess this is harmless on linux, intended on Windows, but on Cygwin this breaks the build of ECL.

The proposed spkg patches h/ecl-cmp.h so that _WINSOCKAPI_ is not defined on CYGWIN.

Try spkg at
http://perso.telecom-paristech.fr/~flori/sage/ecl-11.1.2.cvs20111120.p2.spkg

Issue created by migration from https://trac.sagemath.org/ticket/13324





---

archive/issue_comments_160227.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-08-01T16:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160227",
    "user": "jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_160228.json:
```json
{
    "body": "Changing keywords from \"cygwin ecl\" to \"cygwin ecl spkg\".",
    "created_at": "2012-08-01T17:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160228",
    "user": "leif"
}
```

Changing keywords from "cygwin ecl" to "cygwin ecl spkg".



---

archive/issue_comments_160229.json:
```json
{
    "body": "Wrong ticket...",
    "created_at": "2012-08-02T15:52:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160229",
    "user": "jpflori"
}
```

Wrong ticket...



---

archive/issue_comments_160230.json:
```json
{
    "body": "Good, this also works on my Cygwin (and this change of spkg is needed, too).",
    "created_at": "2012-08-03T03:38:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160230",
    "user": "dimpase"
}
```

Good, this also works on my Cygwin (and this change of spkg is needed, too).



---

archive/issue_comments_160231.json:
```json
{
    "body": "however, after the whole Sage build on my Cygwin is almost done, I get\n\n```\n...\nbuilding 'sage.ext.interpreters.wrapper_py' extension\nbuilding 'sage.ext.interpreters.wrapper_el' extension\nExecuting 241 commands (using 1 thread)\ngcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/home/Dima/sage-5.2.rc1/local/include/ecl/ -I/home/Dima/sage-5.2.rc1/local/include -I/home/Dima/sage-5.2.rc1/local/include/csage -I/home/Dima/sage-5.2.rc1/devel/sage/sage/ext -I/home/Dima/sage-5.2.rc1/local/include/python2.7 -c sage/libs/ecl.c -o build/temp.cygwin-1.7.16-i686-2.7/sage/libs/ecl.o -w\ngcc -shared -Wl,--enable-auto-image-base -L/home/Dima/sage-5.2.rc1/local/lib build/temp.cygwin-1.7.16-i686-2.7/sage/libs/ecl.o -L/home/Dima/sage-5.2.rc1/local/lib -L/home/Dima/sage-5.2.rc1/local/lib/python2.7/config -lcsage -lecl -lstdc++ -lntl -lpython2.7 -o build/lib.cygwin-1.7.16-i686-2.7/sage/libs/ecl.dll\nbuild/temp.cygwin-1.7.16-i686-2.7/sage/libs/ecl.o: In function `ecl_bignum_from_mpz':\n/home/Dima/sage-5.2.rc1/devel/sage/sage/libs/eclsig.c:52: undefined reference to `__imp____gmpz_set'\n/home/Dima/sage-5.2.rc1/devel/sage/sage/libs/eclsig.c:52: undefined reference to `__imp____gmpz_set'\ncollect2: ld returned 1 exit status\ngcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/home/Dima/sage-5.2.rc1/local/include/FLINT/ -I/home/Dima/sage-5.2.rc1/local/include -I/home/Dima/sage-5.2.rc1/local/include/csage -I/home/Dima/sage-5.2.rc1/devel/sage/sage/ext -I/home/Dima/sage-5.2.rc1/local/include/python2.7 -c sage/libs/flint/flint.c -o build/temp.cygwin-1.7.16-i686-2.7/sage/libs/flint/flint.o -std=c99 -D_XPG6 -w\nerror: command 'gcc' failed with exit status 1\nError installing modified sage library code.\n```\n\nA missing library somewhere?",
    "created_at": "2012-08-04T07:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160231",
    "user": "dimpase"
}
```

however, after the whole Sage build on my Cygwin is almost done, I get

```
...
building 'sage.ext.interpreters.wrapper_py' extension
building 'sage.ext.interpreters.wrapper_el' extension
Executing 241 commands (using 1 thread)
gcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/home/Dima/sage-5.2.rc1/local/include/ecl/ -I/home/Dima/sage-5.2.rc1/local/include -I/home/Dima/sage-5.2.rc1/local/include/csage -I/home/Dima/sage-5.2.rc1/devel/sage/sage/ext -I/home/Dima/sage-5.2.rc1/local/include/python2.7 -c sage/libs/ecl.c -o build/temp.cygwin-1.7.16-i686-2.7/sage/libs/ecl.o -w
gcc -shared -Wl,--enable-auto-image-base -L/home/Dima/sage-5.2.rc1/local/lib build/temp.cygwin-1.7.16-i686-2.7/sage/libs/ecl.o -L/home/Dima/sage-5.2.rc1/local/lib -L/home/Dima/sage-5.2.rc1/local/lib/python2.7/config -lcsage -lecl -lstdc++ -lntl -lpython2.7 -o build/lib.cygwin-1.7.16-i686-2.7/sage/libs/ecl.dll
build/temp.cygwin-1.7.16-i686-2.7/sage/libs/ecl.o: In function `ecl_bignum_from_mpz':
/home/Dima/sage-5.2.rc1/devel/sage/sage/libs/eclsig.c:52: undefined reference to `__imp____gmpz_set'
/home/Dima/sage-5.2.rc1/devel/sage/sage/libs/eclsig.c:52: undefined reference to `__imp____gmpz_set'
collect2: ld returned 1 exit status
gcc -I/usr/include/ncurses -fno-strict-aliasing -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/home/Dima/sage-5.2.rc1/local/include/FLINT/ -I/home/Dima/sage-5.2.rc1/local/include -I/home/Dima/sage-5.2.rc1/local/include/csage -I/home/Dima/sage-5.2.rc1/devel/sage/sage/ext -I/home/Dima/sage-5.2.rc1/local/include/python2.7 -c sage/libs/flint/flint.c -o build/temp.cygwin-1.7.16-i686-2.7/sage/libs/flint/flint.o -std=c99 -D_XPG6 -w
error: command 'gcc' failed with exit status 1
Error installing modified sage library code.
```

A missing library somewhere?



---

archive/issue_comments_160232.json:
```json
{
    "body": "That was expected.\nIn fact I guess the build is not nearing the end at all.\n\nYou can rerun \"./sage -b\" and you'll see that a lot of cpp files produced from pyx files still have to be compiled.\nThe first that should refail then is ecl.cpp.\nSee #13334 for that one.\n\nFor the following ones I've not opened tockets yet, but there should be instructions enough on the [CygwinPort](CygwinPort) page (although you'll have to implement the ideas evoked there yourself, no code provided).",
    "created_at": "2012-08-04T08:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160232",
    "user": "jpflori"
}
```

That was expected.
In fact I guess the build is not nearing the end at all.

You can rerun "./sage -b" and you'll see that a lot of cpp files produced from pyx files still have to be compiled.
The first that should refail then is ecl.cpp.
See #13334 for that one.

For the following ones I've not opened tockets yet, but there should be instructions enough on the [CygwinPort](CygwinPort) page (although you'll have to implement the ideas evoked there yourself, no code provided).



---

archive/issue_comments_160233.json:
```json
{
    "body": "The fix has been integrated upstream\nhttps://sourceforge.net/p/ecls/ecl/ci/07c4ab7db83eda2eed7fa4a5ddeec2e28c7eb58b/",
    "created_at": "2012-08-07T13:37:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160233",
    "user": "jpflori"
}
```

The fix has been integrated upstream
https://sourceforge.net/p/ecls/ecl/ci/07c4ab7db83eda2eed7fa4a5ddeec2e28c7eb58b/



---

archive/issue_comments_160234.json:
```json
{
    "body": "Wrong ticket...",
    "created_at": "2012-08-07T17:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160234",
    "user": "jpflori"
}
```

Wrong ticket...



---

archive/issue_comments_160235.json:
```json
{
    "body": "I've upped an updated ECL spkg which includes upstream version 12.7.1 plus the git commit corresponding to the fix originally proposed here.\nIt's at\nhttp://perso.telecom-paristech.fr/~flori/sage/ecl-12.7.1.p0.spkg\n\nI've updated the spkg-make file and homogenized the indentation in the spkg-install file as well.\n\nTwo trivial doctests had to be changed, and it passes make ptestlong on Ubuntu 12.04 64 bits.\nNo time to retest Cygwin yet.",
    "created_at": "2012-08-20T14:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160235",
    "user": "jpflori"
}
```

I've upped an updated ECL spkg which includes upstream version 12.7.1 plus the git commit corresponding to the fix originally proposed here.
It's at
http://perso.telecom-paristech.fr/~flori/sage/ecl-12.7.1.p0.spkg

I've updated the spkg-make file and homogenized the indentation in the spkg-install file as well.

Two trivial doctests had to be changed, and it passes make ptestlong on Ubuntu 12.04 64 bits.
No time to retest Cygwin yet.



---

archive/issue_comments_160236.json:
```json
{
    "body": "Replying to [comment:11 jpflori]:\n> I've upped an updated ECL spkg which includes upstream version 12.7.1 plus the git commit corresponding to the fix originally proposed here.\n\n\nI think you are cloning ECL from an old repo, no longer updated (they recently switched).\nIn the right repo 12.7.1 does have your commit already applied.",
    "created_at": "2012-08-20T15:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160236",
    "user": "dimpase"
}
```

Replying to [comment:11 jpflori]:
> I've upped an updated ECL spkg which includes upstream version 12.7.1 plus the git commit corresponding to the fix originally proposed here.


I think you are cloning ECL from an old repo, no longer updated (they recently switched).
In the right repo 12.7.1 does have your commit already applied.



---

archive/issue_comments_160237.json:
```json
{
    "body": "My point was to use a released version, not a git clone, and add only the needed commit on top of that.\nWe could rather use a fresh git clone with the needed commit and further bug fixes, but I'm less inclined to do so, as it might be confusing.\nWhen upstream release ECL 12.7.2 or whatever the next stable release will be, let's get rid of the patch to ecl-cmp.h in the patches/directory.",
    "created_at": "2012-08-20T15:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160237",
    "user": "jpflori"
}
```

My point was to use a released version, not a git clone, and add only the needed commit on top of that.
We could rather use a fresh git clone with the needed commit and further bug fixes, but I'm less inclined to do so, as it might be confusing.
When upstream release ECL 12.7.2 or whatever the next stable release will be, let's get rid of the patch to ecl-cmp.h in the patches/directory.



---

archive/issue_comments_160238.json:
```json
{
    "body": "For example, such an approach was used for Singular in #13237 IIRC.",
    "created_at": "2012-08-20T15:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160238",
    "user": "jpflori"
}
```

For example, such an approach was used for Singular in #13237 IIRC.



---

archive/issue_comments_160239.json:
```json
{
    "body": "The spkg I uploaded has some problems I'll upload a better one in a few moments.",
    "created_at": "2012-08-20T16:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160239",
    "user": "jpflori"
}
```

The spkg I uploaded has some problems I'll upload a better one in a few moments.



---

archive/issue_comments_160240.json:
```json
{
    "body": "Should be ok now.",
    "created_at": "2012-08-20T16:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160240",
    "user": "jpflori"
}
```

Should be ok now.



---

archive/issue_comments_160241.json:
```json
{
    "body": "I see you disabled unicode outright. Is this to avoid the problems mentioned in #12985? I haven't seen the problem you fix in gsl/integration.pyx last time I tried ecl 12.7.1 so it may be slightly platform dependent. As a general rule I don't think adding decimal places to a result is the right way to fix numerical noise in a doctest.\nThe other patch to ecl.pyx is absolutely necessary.\nThe spkg looks ok otherwise.",
    "created_at": "2012-08-20T21:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160241",
    "user": "fbissey"
}
```

I see you disabled unicode outright. Is this to avoid the problems mentioned in #12985? I haven't seen the problem you fix in gsl/integration.pyx last time I tried ecl 12.7.1 so it may be slightly platform dependent. As a general rule I don't think adding decimal places to a result is the right way to fix numerical noise in a doctest.
The other patch to ecl.pyx is absolutely necessary.
The spkg looks ok otherwise.



---

archive/issue_comments_160242.json:
```json
{
    "body": "I did not change the unicode behavior, Im aware there's a ticket open about that, but I definitely did not modify the spkg-install for that purpose, it was already as such (something about Maxima IIRC).\n\nI agree about the numerical noise, I planned to put ... there but it ended up as 44.",
    "created_at": "2012-08-20T21:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160242",
    "user": "jpflori"
}
```

I did not change the unicode behavior, Im aware there's a ticket open about that, but I definitely did not modify the spkg-install for that purpose, it was already as such (something about Maxima IIRC).

I agree about the numerical noise, I planned to put ... there but it ended up as 44.



---

archive/issue_comments_160243.json:
```json
{
    "body": "Looking at the diff you provided it was indeed already there. I may even have put it there one of the last time I touched the spkg on knowledge from sage-on-gentoo that it was causing problems.\nHaven't tested the whole thing yet you didn't see any problems with sage/calculus/calculus.py?\nThat would mean it was entirely caused by enabling unicode when I saw it in #12985.",
    "created_at": "2012-08-20T21:49:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160243",
    "user": "fbissey"
}
```

Looking at the diff you provided it was indeed already there. I may even have put it there one of the last time I touched the spkg on knowledge from sage-on-gentoo that it was causing problems.
Haven't tested the whole thing yet you didn't see any problems with sage/calculus/calculus.py?
That would mean it was entirely caused by enabling unicode when I saw it in #12985.



---

archive/issue_comments_160244.json:
```json
{
    "body": "It passed make ptestlong on 64 bits Ubuntu 12.04.\n(Now it's stuck on Cygwin rebuilding Maxima, but that may be Cygwin voodoo...).",
    "created_at": "2012-08-20T21:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160244",
    "user": "jpflori"
}
```

It passed make ptestlong on 64 bits Ubuntu 12.04.
(Now it's stuck on Cygwin rebuilding Maxima, but that may be Cygwin voodoo...).



---

archive/issue_comments_160245.json:
```json
{
    "body": "I've committed the changes in the spkg and puts dots to take care of the numerical noise in the Sage library patch.",
    "created_at": "2012-08-21T14:35:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160245",
    "user": "jpflori"
}
```

I've committed the changes in the spkg and puts dots to take care of the numerical noise in the Sage library patch.



---

archive/issue_comments_160246.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-08-21T21:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160246",
    "user": "fbissey"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_160247.json:
```json
{
    "body": "I am happy to give this a positive review but I am putting this on sage-5.4 as 5.3 is in the rc stage it won't make the cut unless Jeroen changes his mind about the release schedule.",
    "created_at": "2012-08-21T21:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160247",
    "user": "fbissey"
}
```

I am happy to give this a positive review but I am putting this on sage-5.4 as 5.3 is in the rc stage it won't make the cut unless Jeroen changes his mind about the release schedule.



---

archive/issue_comments_160248.json:
```json
{
    "body": "I get doctest timeouts when **not** using `--long`:\n\n```\njdemeyer@sage:/release/merger/sage-5.4.beta0$ ./sage -t devel/sage/sage/libs/ecl.pyx\nsage -t  \"devel/sage/sage/libs/ecl.pyx\"\n*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n\n         [360.2 s]\n\n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t  \"devel/sage/sage/libs/ecl.pyx\" # Time out\nTotal time for all tests: 360.3 seconds\n```\n",
    "created_at": "2012-08-23T19:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160248",
    "user": "jdemeyer"
}
```

I get doctest timeouts when **not** using `--long`:

```
jdemeyer@sage:/release/merger/sage-5.4.beta0$ ./sage -t devel/sage/sage/libs/ecl.pyx
sage -t  "devel/sage/sage/libs/ecl.pyx"
*** *** Error: TIMED OUT! PROCESS KILLED! *** ***

         [360.2 s]

----------------------------------------------------------------------
The following tests failed:


        sage -t  "devel/sage/sage/libs/ecl.pyx" # Time out
Total time for all tests: 360.3 seconds
```




---

archive/issue_comments_160249.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-23T19:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160249",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_160250.json:
```json
{
    "body": "Could we have the verbose output Jeroen? It will show where it is stuck. Mind you I have a suspicion but I haven't been hit by that personally with this particular version.\nIn fact if it is what I suspect it should only happen if you had unicode enabled in ecl and the spkg explicitly disable it.",
    "created_at": "2012-08-23T23:09:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160250",
    "user": "fbissey"
}
```

Could we have the verbose output Jeroen? It will show where it is stuck. Mind you I have a suspicion but I haven't been hit by that personally with this particular version.
In fact if it is what I suspect it should only happen if you had unicode enabled in ecl and the spkg explicitly disable it.



---

archive/issue_comments_160251.json:
```json
{
    "body": "Indeed, this seems to happen randomly.\nIn sage.interfaces.lisp.py as well",
    "created_at": "2012-08-24T14:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160251",
    "user": "jpflori"
}
```

Indeed, this seems to happen randomly.
In sage.interfaces.lisp.py as well



---

archive/issue_comments_160252.json:
```json
{
    "body": "In lisp.py it got stuck twice at \n\n```\n    lisp.eval('2')\n```\n\nand once at\n\n```\n    lisp.function_call('sin', ['2'])\n```\n\n\nIn ecl.pyx, it got stuck several times at\n\n```\n    inf_loop()\n```\n",
    "created_at": "2012-08-24T14:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160252",
    "user": "jpflori"
}
```

In lisp.py it got stuck twice at 

```
    lisp.eval('2')
```

and once at

```
    lisp.function_call('sin', ['2'])
```


In ecl.pyx, it got stuck several times at

```
    inf_loop()
```




---

archive/issue_comments_160253.json:
```json
{
    "body": "As far as ecl.pyx inf_loop test is concerned, if you run it in an interactive session, it sometimes hangs as well, but can be interrupted if you press CTRL+C.\nSo ECL seems to be missing some interrupts.\n\nThe lisp one is more mysterious.",
    "created_at": "2012-08-24T15:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160253",
    "user": "jpflori"
}
```

As far as ecl.pyx inf_loop test is concerned, if you run it in an interactive session, it sometimes hangs as well, but can be interrupted if you press CTRL+C.
So ECL seems to be missing some interrupts.

The lisp one is more mysterious.



---

archive/issue_comments_160254.json:
```json
{
    "body": "The inf_loop problem seems to be upstream.\nIf I directly launch ECL and run the corresponding piece of code, some times pressing CTRL+C just print ^C...",
    "created_at": "2012-08-24T15:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160254",
    "user": "jpflori"
}
```

The inf_loop problem seems to be upstream.
If I directly launch ECL and run the corresponding piece of code, some times pressing CTRL+C just print ^C...



---

archive/issue_comments_160255.json:
```json
{
    "body": "Replying to [comment:29 jpflori]:\n> The inf_loop problem seems to be upstream.\n> If I directly launch ECL and run the corresponding piece of code, some times pressing CTRL+C just print `^C`...\nOur interfacing with ECL got behind the times a little (and perhaps was never fully with it). Google e.g.\n\"Making an external signal handler play nice with embedded ECL\" [to get to this](http://comments.gmane.org/gmane.lisp.ecl.general/8211). There are more places where we could use a face-lift. ECL has really improved its thread-ready API and we should really be using that (e.g., look up return values and other things on a \"ecl_process_env()\" data structure).\n\nAnyway, there are some improvements we could make to handling interrupts and catching other stuff.",
    "created_at": "2012-08-24T16:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160255",
    "user": "nbruin"
}
```

Replying to [comment:29 jpflori]:
> The inf_loop problem seems to be upstream.
> If I directly launch ECL and run the corresponding piece of code, some times pressing CTRL+C just print `^C`...
Our interfacing with ECL got behind the times a little (and perhaps was never fully with it). Google e.g.
"Making an external signal handler play nice with embedded ECL" [to get to this](http://comments.gmane.org/gmane.lisp.ecl.general/8211). There are more places where we could use a face-lift. ECL has really improved its thread-ready API and we should really be using that (e.g., look up return values and other things on a "ecl_process_env()" data structure).

Anyway, there are some improvements we could make to handling interrupts and catching other stuff.



---

archive/issue_comments_160256.json:
```json
{
    "body": "This works on Cygwin on XP! (At least, it builds and Maxima builds.)",
    "created_at": "2012-10-05T14:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160256",
    "user": "kcrisman"
}
```

This works on Cygwin on XP! (At least, it builds and Maxima builds.)



---

archive/issue_comments_160257.json:
```json
{
    "body": "I had a look into the signal issue and came up with a patch (submitted upstream).\nInbetween, here comes an updated spkg based on the latest sage spkg:\nhttp://boxen.math.washington.edu/home/jpflori/ecl-12.7.1.p0.spkg\ncontaining patches for Cygwin and the signal problem.\n\nThe patch to the Sage library is no longer necessary (or seems so on my install), must have been done somewhere else.",
    "created_at": "2012-11-27T20:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160257",
    "user": "jpflori"
}
```

I had a look into the signal issue and came up with a patch (submitted upstream).
Inbetween, here comes an updated spkg based on the latest sage spkg:
http://boxen.math.washington.edu/home/jpflori/ecl-12.7.1.p0.spkg
containing patches for Cygwin and the signal problem.

The patch to the Sage library is no longer necessary (or seems so on my install), must have been done somewhere else.



---

archive/issue_comments_160258.json:
```json
{
    "body": "oops, half the patch was still needed.",
    "created_at": "2012-11-27T20:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160258",
    "user": "jpflori"
}
```

oops, half the patch was still needed.



---

archive/issue_comments_160259.json:
```json
{
    "body": "Attachment\n\nDoctests fixes.",
    "created_at": "2012-11-27T20:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160259",
    "user": "jpflori"
}
```

Attachment

Doctests fixes.



---

archive/issue_comments_160260.json:
```json
{
    "body": "For me now ecl.pyx passes 100 in a row, now going to test the other ones.",
    "created_at": "2012-11-27T20:40:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160260",
    "user": "jpflori"
}
```

For me now ecl.pyx passes 100 in a row, now going to test the other ones.



---

archive/issue_comments_160261.json:
```json
{
    "body": "This still gets stuck in lisp.py sometimes it seems, too bad, twice in a hundred of runs, hope this is just pexpect crap.",
    "created_at": "2012-11-27T20:44:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160261",
    "user": "jpflori"
}
```

This still gets stuck in lisp.py sometimes it seems, too bad, twice in a hundred of runs, hope this is just pexpect crap.



---

archive/issue_comments_160262.json:
```json
{
    "body": "A backtrace of lisp.py randomly stuck:\n\n```\nTrying:\n    b.cos()###line 18:_sage_    >>> b.cos()\nExpecting:\n    0.2836622\n^C\nProgram received signal SIGINT, Interrupt.\n0x00007ffff6e168c3 in __select_nocancel ()\n    at ../sysdeps/unix/syscall-template.S:81\n81\t../sysdeps/unix/syscall-template.S: Aucun fichier ou dossier de ce type.\n(gdb) bt\n#0  0x00007ffff6e168c3 in __select_nocancel ()\n    at ../sysdeps/unix/syscall-template.S:81\n#1  0x00007ffff0fcc228 in select_select (self=<optimized out>, \n    args=<optimized out>)\n    at /home/jp/boulot/sage/sage-5.5.rc0/spkg/build/python-2.7.3.p2/src/Modules/selectmodule.c:271\n#2  0x00007ffff7af0da2 in call_function (oparg=<optimized out>, \n    pp_stack=0x7fffffff8840) at Python/ceval.c:4021\n#3  PyEval_EvalFrameEx (f=f@entry=0x2bdb5b0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#4  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=3, kws=0x2bdb560, kwcount=0, defs=0x7fffef901c38, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#5  0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=3, pp_stack=0x7fffffff8b30, func=0x7fffef904500)\n    at Python/ceval.c:4117\n#6  call_function (oparg=<optimized out>, pp_stack=0x7fffffff8b30)\n    at Python/ceval.c:4042\n#7  PyEval_EvalFrameEx (f=f@entry=0x2bdb370, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#8  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x2bdb130, kwcount=0, defs=0x7fffef901cc8, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#9  0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffff8e20, func=0x7fffef483050)\n    at Python/ceval.c:4117\n#10 call_function (oparg=<optimized out>, pp_stack=0x7fffffff8e20)\n    at Python/ceval.c:4042\n#11 PyEval_EvalFrameEx (f=f@entry=0x2bdaf70, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#12 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2bd5570, kwcount=0, defs=0x7fffef901c80, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#13 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffff9110, func=0x7fffef904f50)\n    at Python/ceval.c:4117\n#14 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9110)\n    at Python/ceval.c:4042\n#15 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#16 0x00007ffff7af1099 in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=1, pp_stack=0x7fffffff9350, func=0x7fffe7aa1140)\n    at Python/ceval.c:4107\n#17 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9350)\n    at Python/ceval.c:4042\n#18 PyEval_EvalFrameEx (f=f@entry=0x2bd4fb0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#19 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2bdccf0, kwcount=0, defs=0x7fffe7a9c3a8, defcount=1, \n    closure=0x0) at Python/ceval.c:3253\n#20 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffff9640, func=0x7fffe7a96e60)\n    at Python/ceval.c:4117\n#21 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9640)\n    at Python/ceval.c:4042\n#22 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#23 0x00007ffff7af1099 in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=3, pp_stack=0x7fffffff9880, func=0x7fffe7a96f50)\n    at Python/ceval.c:4107\n#24 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9880)\n    at Python/ceval.c:4042\n#25 PyEval_EvalFrameEx (f=f@entry=0x2bdc780, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#26 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2bdc708, kwcount=1, defs=0x7fffedcb4d68, defcount=1, \n    closure=0x0) at Python/ceval.c:3253\n#27 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffff9b70, func=0x7fffedcea668)\n    at Python/ceval.c:4117\n#28 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9b70)\n    at Python/ceval.c:4042\n#29 PyEval_EvalFrameEx (f=f@entry=0x2bdc550, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#30 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc780da18, argcount=3, kws=kws@entry=0x7fffc4fed848, \n    kwcount=kwcount@entry=1, defs=defs@entry=0x7fffecde56e0, \n    defcount=defcount@entry=2, closure=0x0) at Python/ceval.c:3253\n#31 0x00007ffff7a74217 in function_call (func=0x7fffecde6ed8, \n    arg=0x7fffc780da00, kw=0x2b47e10) at Objects/funcobject.c:526\n#32 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffecde6ed8, \n    arg=arg@entry=0x7fffc780da00, kw=kw@entry=0x2b47e10)\n    at Objects/abstract.c:2529\n#33 0x00007ffff7a57630 in instancemethod_call (func=0x7fffecde6ed8, \n    arg=0x7fffc780da00, kw=0x2b47e10) at Objects/classobject.c:2578\n#34 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270320, \n    arg=arg@entry=0x7fffc4fffdd0, kw=kw@entry=0x2b47e10)\n    at Objects/abstract.c:2529\n#35 0x00007ffff7aacde0 in slot_tp_init (self=0x7fffc500c910, \n    args=0x7fffc4fffdd0, kwds=0x2b47e10) at Objects/typeobject.c:5663\n#36 0x00007ffff7aa964c in type_call (type=<optimized out>, \n    args=0x7fffc4fffdd0, kwds=0x2b47e10) at Objects/typeobject.c:737\n#37 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5c8b0, \n    arg=arg@entry=0x7fffc4fffdd0, kw=kw@entry=0x2b47e10)\n    at Objects/abstract.c:2529\n#38 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffa250, func=0xd5c8b0) at Python/ceval.c:4239\n#39 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa250)\n    at Python/ceval.c:4044\n#40 PyEval_EvalFrameEx (f=f@entry=0x2bde0f0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#41 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4fed968, argcount=2, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x7fffedcb4ce8, \n    defcount=defcount@entry=1, closure=0x0) at Python/ceval.c:3253\n#42 0x00007ffff7a74106 in function_call (func=0x7fffedce8b90, \n    arg=0x7fffc4fed950, kw=0x0) at Objects/funcobject.c:526\n#43 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffedce8b90, \n    arg=arg@entry=0x7fffc4fed950, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#44 0x00007ffff7a57630 in instancemethod_call (func=0x7fffedce8b90, \n    arg=0x7fffc4fed950, kw=0x0) at Objects/classobject.c:2578\n#45 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc526cb90, \n    arg=arg@entry=0x7fffc500bed0, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#46 0x00007ffff7aad1ec in slot_tp_call (self=0xd5d500, args=0x7fffc500bed0, \n    kwds=0x0) at Objects/typeobject.c:5403\n#47 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5d500, \n    arg=arg@entry=0x7fffc500bed0, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#48 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffa900, func=0xd5d500) at Python/ceval.c:4239\n#49 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa900)\n    at Python/ceval.c:4044\n#50 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#51 0x00007ffff7af1099 in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffab40, func=0x7fffedce8cf8)\n    at Python/ceval.c:4107\n#52 call_function (oparg=<optimized out>, pp_stack=0x7fffffffab40)\n    at Python/ceval.c:4042\n#53 PyEval_EvalFrameEx (f=f@entry=0x27f8010, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#54 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x27f7fd0, kwcount=0, defs=0x7fffe7a9d1d0, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#55 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffffae30, func=0x7fffe7aa18c0)\n    at Python/ceval.c:4117\n#56 call_function (oparg=<optimized out>, pp_stack=0x7fffffffae30)\n    at Python/ceval.c:4042\n#57 PyEval_EvalFrameEx (f=f@entry=0x27f7e20, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#58 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4ffd428, argcount=1, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#59 0x00007ffff7a74106 in function_call (func=0x7fffedceb050, \n    arg=0x7fffc4ffd410, kw=0x0) at Objects/funcobject.c:526\n#60 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffedceb050, \n    arg=arg@entry=0x7fffc4ffd410, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#61 0x00007ffff7a57630 in instancemethod_call (func=0x7fffedceb050, \n    arg=0x7fffc4ffd410, kw=0x0) at Objects/classobject.c:2578\n#62 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270370, \n    arg=arg@entry=0x7ffff7f8e050, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#63 0x00007ffff7aad1ec in slot_tp_call (self=0x7fffc500be90, \n    args=0x7ffff7f8e050, kwds=0x0) at Objects/typeobject.c:5403\n#64 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc500be90, \n    arg=arg@entry=0x7ffff7f8e050, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#65 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffb4e0, func=0x7fffc500be90) at Python/ceval.c:4239\n#66 call_function (oparg=<optimized out>, pp_stack=0x7fffffffb4e0)\n    at Python/ceval.c:4044\n#67 PyEval_EvalFrameEx (f=f@entry=0x2b594b0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#68 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7fffc4ff4d30, \n    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470, \n    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=closure@entry=0x0) at Python/ceval.c:3253\n#69 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7fffc4ff4d30, \n    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470)\n    at Python/ceval.c:667\n#70 0x00007ffff7aef9f9 in exec_statement (locals=0x2dac470, \n    globals=0x2dac470, prog=0x7fffc4ff4d30, f=0x2b42780)\n    at Python/ceval.c:4718\n#71 PyEval_EvalFrameEx (f=f@entry=0x2b42780, throwflag=throwflag@entry=0)\n    at Python/ceval.c:1880\n#72 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc527bf68, argcount=5, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#73 0x00007ffff7a74106 in function_call (func=0x7fffc5002500, \n    arg=0x7fffc527bf50, kw=0x0) at Objects/funcobject.c:526\n#74 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002500, \n    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#75 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002500, \n    arg=0x7fffc527bf50, kw=0x0) at Objects/classobject.c:2578\n#76 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270230, \n    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#77 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffbe40, func=0x7fffc5270230) at Python/ceval.c:4239\n#78 call_function (oparg=<optimized out>, pp_stack=0x7fffffffbe40)\n    at Python/ceval.c:4044\n#79 PyEval_EvalFrameEx (f=f@entry=0x2b4c410, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#80 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=5, kws=0x2b1d6e8, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#81 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=5, pp_stack=0x7fffffffc130, func=0x7fffc5005050)\n    at Python/ceval.c:4117\n#82 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc130)\n    at Python/ceval.c:4042\n#83 PyEval_EvalFrameEx (f=f@entry=0x2b1d480, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#84 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc54db640, argcount=4, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#85 0x00007ffff7a74106 in function_call (func=0x7fffc5002578, \n    arg=0x7fffc54db628, kw=0x0) at Objects/funcobject.c:526\n#86 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002578, \n    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#87 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002578, \n    arg=0x7fffc54db628, kw=0x0) at Objects/classobject.c:2578\n#88 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffd3015f00, \n    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#89 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffc770, func=0x7fffd3015f00) at Python/ceval.c:4239\n#90 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc770)\n    at Python/ceval.c:4044\n#91 PyEval_EvalFrameEx (f=f@entry=0x2b47c10, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#92 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x2f61c90, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#93 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffffca60, func=0x7fffc5004f50)\n    at Python/ceval.c:4117\n#94 call_function (oparg=<optimized out>, pp_stack=0x7fffffffca60)\n    at Python/ceval.c:4042\n#95 PyEval_EvalFrameEx (f=f@entry=0x2f61ac0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#96 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4fed7b8, argcount=2, kws=kws@entry=0x7fffc526d548, \n    kwcount=kwcount@entry=3, defs=defs@entry=0x7fffc4ffe1f8, \n    defcount=defcount@entry=3, closure=0x0) at Python/ceval.c:3253\n#97 0x00007ffff7a74217 in function_call (func=0x7fffc50026e0, \n    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/funcobject.c:526\n#98 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc50026e0, \n    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)\n    at Objects/abstract.c:2529\n#99 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc50026e0, \n    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/classobject.c:2578\n#100 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5ba3af0, \n    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)\n    at Objects/abstract.c:2529\n#101 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffd0a0, func=0x7fffc5ba3af0) at Python/ceval.c:4239\n#102 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd0a0)\n    at Python/ceval.c:4044\n#103 PyEval_EvalFrameEx (f=f@entry=0x2b1de50, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#104 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2b3ced0, kwcount=0, defs=0x7fffc4ff2748, defcount=3, \n    closure=0x0) at Python/ceval.c:3253\n#105 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffd390, func=0x7fffc5004ed8)\n    at Python/ceval.c:4117\n#106 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd390)\n    at Python/ceval.c:4042\n#107 PyEval_EvalFrameEx (f=f@entry=0x2b3cce0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#108 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=0, kws=0x2b3d410, kwcount=10, defs=0x7fffc54dd860, defcount=10, \n    closure=0x0) at Python/ceval.c:3253\n#109 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=20, pp_stack=0x7fffffffd680, func=0x7fffc4ff98c0)\n    at Python/ceval.c:4117\n#110 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd680)\n    at Python/ceval.c:4042\n#111 PyEval_EvalFrameEx (f=f@entry=0x2b3d240, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#112 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=1, kws=0x6ed7e8, kwcount=3, defs=0x7fffc54dda80, defcount=10, \n    closure=0x0) at Python/ceval.c:3253\n#113 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=7, pp_stack=0x7fffffffd970, func=0x7fffc5004de8)\n    at Python/ceval.c:4117\n#114 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd970)\n    at Python/ceval.c:4042\n#115 PyEval_EvalFrameEx (f=f@entry=0x6ed660, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#116 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7ffff7ec8d30, \n    globals=globals@entry=0x640820, locals=locals@entry=0x640820, \n    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=closure@entry=0x0) at Python/ceval.c:3253\n#117 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7ffff7ec8d30, \n    globals=globals@entry=0x640820, locals=locals@entry=0x640820)\n    at Python/ceval.c:667\n#118 0x00007ffff7b134ea in run_mod (arena=0x6c9cd0, flags=0x7fffffffdbb0, \n    locals=0x640820, globals=0x640820, filename=<optimized out>, \n    mod=<optimized out>) at Python/pythonrun.c:1353\n#119 PyRun_FileExFlags (fp=fp@entry=0x6c9a80, \n    filename=filename@entry=0x7fffffffe227 \"/home/jp/.sage//tmp/lisp_8717.py\", start=start@entry=257, globals=globals@entry=0x640820, \n    locals=locals@entry=0x640820, closeit=closeit@entry=1, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:1339\n#120 0x00007ffff7b13f1b in PyRun_SimpleFileExFlags (fp=fp@entry=0x6c9a80, \n    filename=0x7fffffffe227 \"/home/jp/.sage//tmp/lisp_8717.py\", closeit=1, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:943\n#121 0x00007ffff7b14b89 in PyRun_AnyFileExFlags (fp=fp@entry=0x6c9a80, \n    filename=<optimized out>, closeit=<optimized out>, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:747\n#122 0x00007ffff7b29972 in Py_Main (argc=<optimized out>, \n    argv=<optimized out>) at Modules/main.c:639\n#123 0x00007ffff6d576ad in __libc_start_main (main=0x400720 <main>, argc=2, \n    ubp_av=0x7fffffffdd68, init=<optimized out>, fini=<optimized out>, \n    rtld_fini=<optimized out>, stack_end=0x7fffffffdd58) at libc-start.c:227\n#124 0x0000000000400751 in _start ()\n(gdb) \n```\n",
    "created_at": "2012-11-27T21:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160262",
    "user": "jpflori"
}
```

A backtrace of lisp.py randomly stuck:

```
Trying:
    b.cos()###line 18:_sage_    >>> b.cos()
Expecting:
    0.2836622
^C
Program received signal SIGINT, Interrupt.
0x00007ffff6e168c3 in __select_nocancel ()
    at ../sysdeps/unix/syscall-template.S:81
81	../sysdeps/unix/syscall-template.S: Aucun fichier ou dossier de ce type.
(gdb) bt
#0  0x00007ffff6e168c3 in __select_nocancel ()
    at ../sysdeps/unix/syscall-template.S:81
#1  0x00007ffff0fcc228 in select_select (self=<optimized out>, 
    args=<optimized out>)
    at /home/jp/boulot/sage/sage-5.5.rc0/spkg/build/python-2.7.3.p2/src/Modules/selectmodule.c:271
#2  0x00007ffff7af0da2 in call_function (oparg=<optimized out>, 
    pp_stack=0x7fffffff8840) at Python/ceval.c:4021
#3  PyEval_EvalFrameEx (f=f@entry=0x2bdb5b0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#4  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=3, kws=0x2bdb560, kwcount=0, defs=0x7fffef901c38, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#5  0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=3, pp_stack=0x7fffffff8b30, func=0x7fffef904500)
    at Python/ceval.c:4117
#6  call_function (oparg=<optimized out>, pp_stack=0x7fffffff8b30)
    at Python/ceval.c:4042
#7  PyEval_EvalFrameEx (f=f@entry=0x2bdb370, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#8  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x2bdb130, kwcount=0, defs=0x7fffef901cc8, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#9  0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffff8e20, func=0x7fffef483050)
    at Python/ceval.c:4117
#10 call_function (oparg=<optimized out>, pp_stack=0x7fffffff8e20)
    at Python/ceval.c:4042
#11 PyEval_EvalFrameEx (f=f@entry=0x2bdaf70, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#12 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2bd5570, kwcount=0, defs=0x7fffef901c80, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#13 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffff9110, func=0x7fffef904f50)
    at Python/ceval.c:4117
#14 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9110)
    at Python/ceval.c:4042
#15 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#16 0x00007ffff7af1099 in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=1, pp_stack=0x7fffffff9350, func=0x7fffe7aa1140)
    at Python/ceval.c:4107
#17 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9350)
    at Python/ceval.c:4042
#18 PyEval_EvalFrameEx (f=f@entry=0x2bd4fb0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#19 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2bdccf0, kwcount=0, defs=0x7fffe7a9c3a8, defcount=1, 
    closure=0x0) at Python/ceval.c:3253
#20 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffff9640, func=0x7fffe7a96e60)
    at Python/ceval.c:4117
#21 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9640)
    at Python/ceval.c:4042
#22 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#23 0x00007ffff7af1099 in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=3, pp_stack=0x7fffffff9880, func=0x7fffe7a96f50)
    at Python/ceval.c:4107
#24 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9880)
    at Python/ceval.c:4042
#25 PyEval_EvalFrameEx (f=f@entry=0x2bdc780, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#26 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2bdc708, kwcount=1, defs=0x7fffedcb4d68, defcount=1, 
    closure=0x0) at Python/ceval.c:3253
#27 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffff9b70, func=0x7fffedcea668)
    at Python/ceval.c:4117
#28 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9b70)
    at Python/ceval.c:4042
#29 PyEval_EvalFrameEx (f=f@entry=0x2bdc550, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#30 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc780da18, argcount=3, kws=kws@entry=0x7fffc4fed848, 
    kwcount=kwcount@entry=1, defs=defs@entry=0x7fffecde56e0, 
    defcount=defcount@entry=2, closure=0x0) at Python/ceval.c:3253
#31 0x00007ffff7a74217 in function_call (func=0x7fffecde6ed8, 
    arg=0x7fffc780da00, kw=0x2b47e10) at Objects/funcobject.c:526
#32 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffecde6ed8, 
    arg=arg@entry=0x7fffc780da00, kw=kw@entry=0x2b47e10)
    at Objects/abstract.c:2529
#33 0x00007ffff7a57630 in instancemethod_call (func=0x7fffecde6ed8, 
    arg=0x7fffc780da00, kw=0x2b47e10) at Objects/classobject.c:2578
#34 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270320, 
    arg=arg@entry=0x7fffc4fffdd0, kw=kw@entry=0x2b47e10)
    at Objects/abstract.c:2529
#35 0x00007ffff7aacde0 in slot_tp_init (self=0x7fffc500c910, 
    args=0x7fffc4fffdd0, kwds=0x2b47e10) at Objects/typeobject.c:5663
#36 0x00007ffff7aa964c in type_call (type=<optimized out>, 
    args=0x7fffc4fffdd0, kwds=0x2b47e10) at Objects/typeobject.c:737
#37 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5c8b0, 
    arg=arg@entry=0x7fffc4fffdd0, kw=kw@entry=0x2b47e10)
    at Objects/abstract.c:2529
#38 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffa250, func=0xd5c8b0) at Python/ceval.c:4239
#39 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa250)
    at Python/ceval.c:4044
#40 PyEval_EvalFrameEx (f=f@entry=0x2bde0f0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#41 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4fed968, argcount=2, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x7fffedcb4ce8, 
    defcount=defcount@entry=1, closure=0x0) at Python/ceval.c:3253
#42 0x00007ffff7a74106 in function_call (func=0x7fffedce8b90, 
    arg=0x7fffc4fed950, kw=0x0) at Objects/funcobject.c:526
#43 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffedce8b90, 
    arg=arg@entry=0x7fffc4fed950, kw=kw@entry=0x0) at Objects/abstract.c:2529
#44 0x00007ffff7a57630 in instancemethod_call (func=0x7fffedce8b90, 
    arg=0x7fffc4fed950, kw=0x0) at Objects/classobject.c:2578
#45 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc526cb90, 
    arg=arg@entry=0x7fffc500bed0, kw=kw@entry=0x0) at Objects/abstract.c:2529
#46 0x00007ffff7aad1ec in slot_tp_call (self=0xd5d500, args=0x7fffc500bed0, 
    kwds=0x0) at Objects/typeobject.c:5403
#47 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5d500, 
    arg=arg@entry=0x7fffc500bed0, kw=kw@entry=0x0) at Objects/abstract.c:2529
#48 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffa900, func=0xd5d500) at Python/ceval.c:4239
#49 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa900)
    at Python/ceval.c:4044
#50 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#51 0x00007ffff7af1099 in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffab40, func=0x7fffedce8cf8)
    at Python/ceval.c:4107
#52 call_function (oparg=<optimized out>, pp_stack=0x7fffffffab40)
    at Python/ceval.c:4042
#53 PyEval_EvalFrameEx (f=f@entry=0x27f8010, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#54 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x27f7fd0, kwcount=0, defs=0x7fffe7a9d1d0, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#55 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffffae30, func=0x7fffe7aa18c0)
    at Python/ceval.c:4117
#56 call_function (oparg=<optimized out>, pp_stack=0x7fffffffae30)
    at Python/ceval.c:4042
#57 PyEval_EvalFrameEx (f=f@entry=0x27f7e20, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#58 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4ffd428, argcount=1, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#59 0x00007ffff7a74106 in function_call (func=0x7fffedceb050, 
    arg=0x7fffc4ffd410, kw=0x0) at Objects/funcobject.c:526
#60 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffedceb050, 
    arg=arg@entry=0x7fffc4ffd410, kw=kw@entry=0x0) at Objects/abstract.c:2529
#61 0x00007ffff7a57630 in instancemethod_call (func=0x7fffedceb050, 
    arg=0x7fffc4ffd410, kw=0x0) at Objects/classobject.c:2578
#62 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270370, 
    arg=arg@entry=0x7ffff7f8e050, kw=kw@entry=0x0) at Objects/abstract.c:2529
#63 0x00007ffff7aad1ec in slot_tp_call (self=0x7fffc500be90, 
    args=0x7ffff7f8e050, kwds=0x0) at Objects/typeobject.c:5403
#64 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc500be90, 
    arg=arg@entry=0x7ffff7f8e050, kw=kw@entry=0x0) at Objects/abstract.c:2529
#65 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffb4e0, func=0x7fffc500be90) at Python/ceval.c:4239
#66 call_function (oparg=<optimized out>, pp_stack=0x7fffffffb4e0)
    at Python/ceval.c:4044
#67 PyEval_EvalFrameEx (f=f@entry=0x2b594b0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#68 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7fffc4ff4d30, 
    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470, 
    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=closure@entry=0x0) at Python/ceval.c:3253
#69 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7fffc4ff4d30, 
    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470)
    at Python/ceval.c:667
#70 0x00007ffff7aef9f9 in exec_statement (locals=0x2dac470, 
    globals=0x2dac470, prog=0x7fffc4ff4d30, f=0x2b42780)
    at Python/ceval.c:4718
#71 PyEval_EvalFrameEx (f=f@entry=0x2b42780, throwflag=throwflag@entry=0)
    at Python/ceval.c:1880
#72 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc527bf68, argcount=5, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#73 0x00007ffff7a74106 in function_call (func=0x7fffc5002500, 
    arg=0x7fffc527bf50, kw=0x0) at Objects/funcobject.c:526
#74 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002500, 
    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529
#75 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002500, 
    arg=0x7fffc527bf50, kw=0x0) at Objects/classobject.c:2578
#76 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270230, 
    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529
#77 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffbe40, func=0x7fffc5270230) at Python/ceval.c:4239
#78 call_function (oparg=<optimized out>, pp_stack=0x7fffffffbe40)
    at Python/ceval.c:4044
#79 PyEval_EvalFrameEx (f=f@entry=0x2b4c410, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#80 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=5, kws=0x2b1d6e8, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#81 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=5, pp_stack=0x7fffffffc130, func=0x7fffc5005050)
    at Python/ceval.c:4117
#82 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc130)
    at Python/ceval.c:4042
#83 PyEval_EvalFrameEx (f=f@entry=0x2b1d480, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#84 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc54db640, argcount=4, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#85 0x00007ffff7a74106 in function_call (func=0x7fffc5002578, 
    arg=0x7fffc54db628, kw=0x0) at Objects/funcobject.c:526
#86 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002578, 
    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529
#87 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002578, 
    arg=0x7fffc54db628, kw=0x0) at Objects/classobject.c:2578
#88 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffd3015f00, 
    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529
#89 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffc770, func=0x7fffd3015f00) at Python/ceval.c:4239
#90 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc770)
    at Python/ceval.c:4044
#91 PyEval_EvalFrameEx (f=f@entry=0x2b47c10, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#92 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x2f61c90, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#93 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffffca60, func=0x7fffc5004f50)
    at Python/ceval.c:4117
#94 call_function (oparg=<optimized out>, pp_stack=0x7fffffffca60)
    at Python/ceval.c:4042
#95 PyEval_EvalFrameEx (f=f@entry=0x2f61ac0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#96 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4fed7b8, argcount=2, kws=kws@entry=0x7fffc526d548, 
    kwcount=kwcount@entry=3, defs=defs@entry=0x7fffc4ffe1f8, 
    defcount=defcount@entry=3, closure=0x0) at Python/ceval.c:3253
#97 0x00007ffff7a74217 in function_call (func=0x7fffc50026e0, 
    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/funcobject.c:526
#98 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc50026e0, 
    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)
    at Objects/abstract.c:2529
#99 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc50026e0, 
    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/classobject.c:2578
#100 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5ba3af0, 
    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)
    at Objects/abstract.c:2529
#101 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffd0a0, func=0x7fffc5ba3af0) at Python/ceval.c:4239
#102 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd0a0)
    at Python/ceval.c:4044
#103 PyEval_EvalFrameEx (f=f@entry=0x2b1de50, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#104 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2b3ced0, kwcount=0, defs=0x7fffc4ff2748, defcount=3, 
    closure=0x0) at Python/ceval.c:3253
#105 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffd390, func=0x7fffc5004ed8)
    at Python/ceval.c:4117
#106 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd390)
    at Python/ceval.c:4042
#107 PyEval_EvalFrameEx (f=f@entry=0x2b3cce0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#108 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=0, kws=0x2b3d410, kwcount=10, defs=0x7fffc54dd860, defcount=10, 
    closure=0x0) at Python/ceval.c:3253
#109 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=20, pp_stack=0x7fffffffd680, func=0x7fffc4ff98c0)
    at Python/ceval.c:4117
#110 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd680)
    at Python/ceval.c:4042
#111 PyEval_EvalFrameEx (f=f@entry=0x2b3d240, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#112 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=1, kws=0x6ed7e8, kwcount=3, defs=0x7fffc54dda80, defcount=10, 
    closure=0x0) at Python/ceval.c:3253
#113 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=7, pp_stack=0x7fffffffd970, func=0x7fffc5004de8)
    at Python/ceval.c:4117
#114 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd970)
    at Python/ceval.c:4042
#115 PyEval_EvalFrameEx (f=f@entry=0x6ed660, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#116 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7ffff7ec8d30, 
    globals=globals@entry=0x640820, locals=locals@entry=0x640820, 
    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=closure@entry=0x0) at Python/ceval.c:3253
#117 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7ffff7ec8d30, 
    globals=globals@entry=0x640820, locals=locals@entry=0x640820)
    at Python/ceval.c:667
#118 0x00007ffff7b134ea in run_mod (arena=0x6c9cd0, flags=0x7fffffffdbb0, 
    locals=0x640820, globals=0x640820, filename=<optimized out>, 
    mod=<optimized out>) at Python/pythonrun.c:1353
#119 PyRun_FileExFlags (fp=fp@entry=0x6c9a80, 
    filename=filename@entry=0x7fffffffe227 "/home/jp/.sage//tmp/lisp_8717.py", start=start@entry=257, globals=globals@entry=0x640820, 
    locals=locals@entry=0x640820, closeit=closeit@entry=1, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:1339
#120 0x00007ffff7b13f1b in PyRun_SimpleFileExFlags (fp=fp@entry=0x6c9a80, 
    filename=0x7fffffffe227 "/home/jp/.sage//tmp/lisp_8717.py", closeit=1, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:943
#121 0x00007ffff7b14b89 in PyRun_AnyFileExFlags (fp=fp@entry=0x6c9a80, 
    filename=<optimized out>, closeit=<optimized out>, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:747
#122 0x00007ffff7b29972 in Py_Main (argc=<optimized out>, 
    argv=<optimized out>) at Modules/main.c:639
#123 0x00007ffff6d576ad in __libc_start_main (main=0x400720 <main>, argc=2, 
    ubp_av=0x7fffffffdd68, init=<optimized out>, fini=<optimized out>, 
    rtld_fini=<optimized out>, stack_end=0x7fffffffdd58) at libc-start.c:227
#124 0x0000000000400751 in _start ()
(gdb) 
```




---

archive/issue_comments_160263.json:
```json
{
    "body": "Another one:\n\n```\nTrying:\n    lisp(Integer(10)).factorial()###line 31:_sage_    >>> lisp(10).factorial()\nExpecting:\n    3628800\n^C\nProgram received signal SIGINT, Interrupt.\n0x00007ffff6e168c3 in __select_nocancel ()\n    at ../sysdeps/unix/syscall-template.S:81\n81\t../sysdeps/unix/syscall-template.S: Aucun fichier ou dossier de ce type.\n(gdb) bt\n#0  0x00007ffff6e168c3 in __select_nocancel ()\n    at ../sysdeps/unix/syscall-template.S:81\n#1  0x00007ffff0fcc228 in select_select (self=<optimized out>, \n    args=<optimized out>)\n    at /home/jp/boulot/sage/sage-5.5.rc0/spkg/build/python-2.7.3.p2/src/Modules/selectmodule.c:271\n#2  0x00007ffff7af0da2 in call_function (oparg=<optimized out>, \n    pp_stack=0x7fffffff8b30) at Python/ceval.c:4021\n#3  PyEval_EvalFrameEx (f=f@entry=0x2bdb5b0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#4  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=3, kws=0x2bdb560, kwcount=0, defs=0x7fffef901c38, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#5  0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=3, pp_stack=0x7fffffff8e20, func=0x7fffef904500)\n    at Python/ceval.c:4117\n#6  call_function (oparg=<optimized out>, pp_stack=0x7fffffff8e20)\n    at Python/ceval.c:4042\n#7  PyEval_EvalFrameEx (f=f@entry=0x2bdb370, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#8  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x2bdb130, kwcount=0, defs=0x7fffef901cc8, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#9  0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffff9110, func=0x7fffef483050)\n    at Python/ceval.c:4117\n#10 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9110)\n    at Python/ceval.c:4042\n#11 PyEval_EvalFrameEx (f=f@entry=0x2bdaf70, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#12 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2bd5570, kwcount=0, defs=0x7fffef901c80, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#13 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffff9400, func=0x7fffef904f50)\n    at Python/ceval.c:4117\n#14 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9400)\n    at Python/ceval.c:4042\n#15 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#16 0x00007ffff7af1099 in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=1, pp_stack=0x7fffffff9640, func=0x7fffe7aa1140)\n    at Python/ceval.c:4107\n#17 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9640)\n    at Python/ceval.c:4042\n#18 PyEval_EvalFrameEx (f=f@entry=0x2bd4fb0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#19 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2bdccf0, kwcount=0, defs=0x7fffe7a9c3a8, defcount=1, \n    closure=0x0) at Python/ceval.c:3253\n#20 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffff9930, func=0x7fffe7a96e60)\n    at Python/ceval.c:4117\n#21 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9930)\n    at Python/ceval.c:4042\n#22 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#23 0x00007ffff7af1099 in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=3, pp_stack=0x7fffffff9b70, func=0x7fffe7a96f50)\n    at Python/ceval.c:4107\n#24 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9b70)\n    at Python/ceval.c:4042\n#25 PyEval_EvalFrameEx (f=f@entry=0x2bdc780, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#26 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2bdc708, kwcount=1, defs=0x7fffedcb4d68, defcount=1, \n    closure=0x0) at Python/ceval.c:3253\n#27 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffff9e60, func=0x7fffedcea668)\n    at Python/ceval.c:4117\n#28 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9e60)\n    at Python/ceval.c:4042\n#29 PyEval_EvalFrameEx (f=f@entry=0x2bdc550, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#30 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc780da68, argcount=3, kws=kws@entry=0x7fffc4fffde8, \n    kwcount=kwcount@entry=1, defs=defs@entry=0x7fffecde56e0, \n    defcount=defcount@entry=2, closure=0x0) at Python/ceval.c:3253\n#31 0x00007ffff7a74217 in function_call (func=0x7fffecde6ed8, \n    arg=0x7fffc780da50, kw=0x27f77f0) at Objects/funcobject.c:526\n#32 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffecde6ed8, \n    arg=arg@entry=0x7fffc780da50, kw=kw@entry=0x27f77f0)\n    at Objects/abstract.c:2529\n#33 0x00007ffff7a57630 in instancemethod_call (func=0x7fffecde6ed8, \n    arg=0x7fffc780da50, kw=0x27f77f0) at Objects/classobject.c:2578\n#34 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270320, \n    arg=arg@entry=0x7fffc4fedfc8, kw=kw@entry=0x27f77f0)\n    at Objects/abstract.c:2529\n#35 0x00007ffff7aacde0 in slot_tp_init (self=0x7fffc500c780, \n    args=0x7fffc4fedfc8, kwds=0x27f77f0) at Objects/typeobject.c:5663\n#36 0x00007ffff7aa964c in type_call (type=<optimized out>, \n    args=0x7fffc4fedfc8, kwds=0x27f77f0) at Objects/typeobject.c:737\n#37 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5c8b0, \n    arg=arg@entry=0x7fffc4fedfc8, kw=kw@entry=0x27f77f0)\n    at Objects/abstract.c:2529\n#38 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffa540, func=0xd5c8b0) at Python/ceval.c:4239\n#39 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa540)\n    at Python/ceval.c:4044\n#40 PyEval_EvalFrameEx (f=f@entry=0x27f8b50, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#41 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4fff260, argcount=2, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x7fffedcb4ce8, \n    defcount=defcount@entry=1, closure=0x0) at Python/ceval.c:3253\n#42 0x00007ffff7a74106 in function_call (func=0x7fffedce8b90, \n    arg=0x7fffc4fff248, kw=0x0) at Objects/funcobject.c:526\n#43 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffedce8b90, \n    arg=arg@entry=0x7fffc4fff248, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#44 0x00007ffff7a57630 in instancemethod_call (func=0x7fffedce8b90, \n    arg=0x7fffc4fff248, kw=0x0) at Objects/classobject.c:2578\n#45 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc526cb90, \n    arg=arg@entry=0x7fffc4ffd410, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#46 0x00007ffff7aad1ec in slot_tp_call (self=0xd5d500, args=0x7fffc4ffd410, \n    kwds=0x0) at Objects/typeobject.c:5403\n#47 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5d500, \n    arg=arg@entry=0x7fffc4ffd410, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#48 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffabf0, func=0xd5d500) at Python/ceval.c:4239\n#49 call_function (oparg=<optimized out>, pp_stack=0x7fffffffabf0)\n    at Python/ceval.c:4044\n#50 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#51 0x00007ffff7af1099 in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffae30, func=0x7fffedce8c08)\n    at Python/ceval.c:4107\n#52 call_function (oparg=<optimized out>, pp_stack=0x7fffffffae30)\n    at Python/ceval.c:4042\n#53 PyEval_EvalFrameEx (f=f@entry=0x2bde0f0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#54 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4fff9b0, argcount=2, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x7fffedcb4ce8, \n    defcount=defcount@entry=1, closure=0x0) at Python/ceval.c:3253\n#55 0x00007ffff7a74106 in function_call (func=0x7fffedce8b90, \n    arg=0x7fffc4fff998, kw=0x0) at Objects/funcobject.c:526\n#56 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffedce8b90, \n    arg=arg@entry=0x7fffc4fff998, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#57 0x00007ffff7a57630 in instancemethod_call (func=0x7fffedce8b90, \n    arg=0x7fffc4fff998, kw=0x0) at Objects/classobject.c:2578\n#58 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270370, \n    arg=arg@entry=0x7ffff7ebdd10, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#59 0x00007ffff7aad1ec in slot_tp_call (self=0xd5d500, args=0x7ffff7ebdd10, \n    kwds=0x0) at Objects/typeobject.c:5403\n#60 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5d500, \n    arg=arg@entry=0x7ffff7ebdd10, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#61 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffb4e0, func=0xd5d500) at Python/ceval.c:4239\n#62 call_function (oparg=<optimized out>, pp_stack=0x7fffffffb4e0)\n    at Python/ceval.c:4044\n#63 PyEval_EvalFrameEx (f=f@entry=0x2bddb10, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#64 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7fffc4ff4d30, \n    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470, \n    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=closure@entry=0x0) at Python/ceval.c:3253\n#65 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7fffc4ff4d30, \n    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470)\n    at Python/ceval.c:667\n#66 0x00007ffff7aef9f9 in exec_statement (locals=0x2dac470, \n    globals=0x2dac470, prog=0x7fffc4ff4d30, f=0x2b42780)\n    at Python/ceval.c:4718\n#67 PyEval_EvalFrameEx (f=f@entry=0x2b42780, throwflag=throwflag@entry=0)\n    at Python/ceval.c:1880\n#68 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc527bf68, argcount=5, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#69 0x00007ffff7a74106 in function_call (func=0x7fffc5002500, \n    arg=0x7fffc527bf50, kw=0x0) at Objects/funcobject.c:526\n#70 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002500, \n    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#71 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002500, \n    arg=0x7fffc527bf50, kw=0x0) at Objects/classobject.c:2578\n#72 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270230, \n    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#73 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffbe40, func=0x7fffc5270230) at Python/ceval.c:4239\n#74 call_function (oparg=<optimized out>, pp_stack=0x7fffffffbe40)\n    at Python/ceval.c:4044\n#75 PyEval_EvalFrameEx (f=f@entry=0x2b4c410, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#76 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=5, kws=0x2b1d6e8, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#77 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=5, pp_stack=0x7fffffffc130, func=0x7fffc5005050)\n    at Python/ceval.c:4117\n#78 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc130)\n    at Python/ceval.c:4042\n#79 PyEval_EvalFrameEx (f=f@entry=0x2b1d480, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#80 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc54db640, argcount=4, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#81 0x00007ffff7a74106 in function_call (func=0x7fffc5002578, \n    arg=0x7fffc54db628, kw=0x0) at Objects/funcobject.c:526\n#82 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002578, \n    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#83 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002578, \n    arg=0x7fffc54db628, kw=0x0) at Objects/classobject.c:2578\n#84 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffd3015f00, \n    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#85 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffc770, func=0x7fffd3015f00) at Python/ceval.c:4239\n#86 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc770)\n    at Python/ceval.c:4044\n#87 PyEval_EvalFrameEx (f=f@entry=0x2b47c10, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#88 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x2f61c90, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#89 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffffca60, func=0x7fffc5004f50)\n    at Python/ceval.c:4117\n#90 call_function (oparg=<optimized out>, pp_stack=0x7fffffffca60)\n    at Python/ceval.c:4042\n#91 PyEval_EvalFrameEx (f=f@entry=0x2f61ac0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#92 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4fed7b8, argcount=2, kws=kws@entry=0x7fffc526d548, \n    kwcount=kwcount@entry=3, defs=defs@entry=0x7fffc4ffe1f8, \n    defcount=defcount@entry=3, closure=0x0) at Python/ceval.c:3253\n#93 0x00007ffff7a74217 in function_call (func=0x7fffc50026e0, \n    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/funcobject.c:526\n#94 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc50026e0, \n    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)\n    at Objects/abstract.c:2529\n#95 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc50026e0, \n    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/classobject.c:2578\n#96 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5ba3af0, \n    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)\n    at Objects/abstract.c:2529\n#97 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffd0a0, func=0x7fffc5ba3af0) at Python/ceval.c:4239\n#98 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd0a0)\n    at Python/ceval.c:4044\n#99 PyEval_EvalFrameEx (f=f@entry=0x2b1de50, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#100 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2b3ced0, kwcount=0, defs=0x7fffc4ff2748, defcount=3, \n    closure=0x0) at Python/ceval.c:3253\n#101 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffd390, func=0x7fffc5004ed8)\n    at Python/ceval.c:4117\n#102 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd390)\n    at Python/ceval.c:4042\n#103 PyEval_EvalFrameEx (f=f@entry=0x2b3cce0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#104 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=0, kws=0x2b3d410, kwcount=10, defs=0x7fffc54dd860, defcount=10, \n    closure=0x0) at Python/ceval.c:3253\n#105 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=20, pp_stack=0x7fffffffd680, func=0x7fffc4ff98c0)\n    at Python/ceval.c:4117\n#106 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd680)\n    at Python/ceval.c:4042\n#107 PyEval_EvalFrameEx (f=f@entry=0x2b3d240, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#108 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=1, kws=0x6ed7e8, kwcount=3, defs=0x7fffc54dda80, defcount=10, \n    closure=0x0) at Python/ceval.c:3253\n#109 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=7, pp_stack=0x7fffffffd970, func=0x7fffc5004de8)\n    at Python/ceval.c:4117\n#110 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd970)\n    at Python/ceval.c:4042\n#111 PyEval_EvalFrameEx (f=f@entry=0x6ed660, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#112 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7ffff7ec8d30, \n    globals=globals@entry=0x640820, locals=locals@entry=0x640820, \n    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=closure@entry=0x0) at Python/ceval.c:3253\n#113 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7ffff7ec8d30, \n    globals=globals@entry=0x640820, locals=locals@entry=0x640820)\n    at Python/ceval.c:667\n#114 0x00007ffff7b134ea in run_mod (arena=0x6c9cd0, flags=0x7fffffffdbb0, \n    locals=0x640820, globals=0x640820, filename=<optimized out>, \n    mod=<optimized out>) at Python/pythonrun.c:1353\n#115 PyRun_FileExFlags (fp=fp@entry=0x6c9a80, \n    filename=filename@entry=0x7fffffffe227 \"/home/jp/.sage//tmp/lisp_8796.py\", start=start@entry=257, globals=globals@entry=0x640820, \n    locals=locals@entry=0x640820, closeit=closeit@entry=1, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:1339\n#116 0x00007ffff7b13f1b in PyRun_SimpleFileExFlags (fp=fp@entry=0x6c9a80, \n    filename=0x7fffffffe227 \"/home/jp/.sage//tmp/lisp_8796.py\", closeit=1, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:943\n#117 0x00007ffff7b14b89 in PyRun_AnyFileExFlags (fp=fp@entry=0x6c9a80, \n    filename=<optimized out>, closeit=<optimized out>, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:747\n#118 0x00007ffff7b29972 in Py_Main (argc=<optimized out>, \n    argv=<optimized out>) at Modules/main.c:639\n#119 0x00007ffff6d576ad in __libc_start_main (main=0x400720 <main>, argc=2, \n    ubp_av=0x7fffffffdd68, init=<optimized out>, fini=<optimized out>, \n    rtld_fini=<optimized out>, stack_end=0x7fffffffdd58) at libc-start.c:227\n#120 0x0000000000400751 in _start ()\n(gdb) \n```\n",
    "created_at": "2012-11-27T22:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160263",
    "user": "jpflori"
}
```

Another one:

```
Trying:
    lisp(Integer(10)).factorial()###line 31:_sage_    >>> lisp(10).factorial()
Expecting:
    3628800
^C
Program received signal SIGINT, Interrupt.
0x00007ffff6e168c3 in __select_nocancel ()
    at ../sysdeps/unix/syscall-template.S:81
81	../sysdeps/unix/syscall-template.S: Aucun fichier ou dossier de ce type.
(gdb) bt
#0  0x00007ffff6e168c3 in __select_nocancel ()
    at ../sysdeps/unix/syscall-template.S:81
#1  0x00007ffff0fcc228 in select_select (self=<optimized out>, 
    args=<optimized out>)
    at /home/jp/boulot/sage/sage-5.5.rc0/spkg/build/python-2.7.3.p2/src/Modules/selectmodule.c:271
#2  0x00007ffff7af0da2 in call_function (oparg=<optimized out>, 
    pp_stack=0x7fffffff8b30) at Python/ceval.c:4021
#3  PyEval_EvalFrameEx (f=f@entry=0x2bdb5b0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#4  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=3, kws=0x2bdb560, kwcount=0, defs=0x7fffef901c38, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#5  0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=3, pp_stack=0x7fffffff8e20, func=0x7fffef904500)
    at Python/ceval.c:4117
#6  call_function (oparg=<optimized out>, pp_stack=0x7fffffff8e20)
    at Python/ceval.c:4042
#7  PyEval_EvalFrameEx (f=f@entry=0x2bdb370, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#8  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x2bdb130, kwcount=0, defs=0x7fffef901cc8, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#9  0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffff9110, func=0x7fffef483050)
    at Python/ceval.c:4117
#10 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9110)
    at Python/ceval.c:4042
#11 PyEval_EvalFrameEx (f=f@entry=0x2bdaf70, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#12 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2bd5570, kwcount=0, defs=0x7fffef901c80, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#13 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffff9400, func=0x7fffef904f50)
    at Python/ceval.c:4117
#14 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9400)
    at Python/ceval.c:4042
#15 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#16 0x00007ffff7af1099 in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=1, pp_stack=0x7fffffff9640, func=0x7fffe7aa1140)
    at Python/ceval.c:4107
#17 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9640)
    at Python/ceval.c:4042
#18 PyEval_EvalFrameEx (f=f@entry=0x2bd4fb0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#19 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2bdccf0, kwcount=0, defs=0x7fffe7a9c3a8, defcount=1, 
    closure=0x0) at Python/ceval.c:3253
#20 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffff9930, func=0x7fffe7a96e60)
    at Python/ceval.c:4117
#21 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9930)
    at Python/ceval.c:4042
#22 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#23 0x00007ffff7af1099 in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=3, pp_stack=0x7fffffff9b70, func=0x7fffe7a96f50)
    at Python/ceval.c:4107
#24 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9b70)
    at Python/ceval.c:4042
#25 PyEval_EvalFrameEx (f=f@entry=0x2bdc780, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#26 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2bdc708, kwcount=1, defs=0x7fffedcb4d68, defcount=1, 
    closure=0x0) at Python/ceval.c:3253
#27 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffff9e60, func=0x7fffedcea668)
    at Python/ceval.c:4117
#28 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9e60)
    at Python/ceval.c:4042
#29 PyEval_EvalFrameEx (f=f@entry=0x2bdc550, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#30 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc780da68, argcount=3, kws=kws@entry=0x7fffc4fffde8, 
    kwcount=kwcount@entry=1, defs=defs@entry=0x7fffecde56e0, 
    defcount=defcount@entry=2, closure=0x0) at Python/ceval.c:3253
#31 0x00007ffff7a74217 in function_call (func=0x7fffecde6ed8, 
    arg=0x7fffc780da50, kw=0x27f77f0) at Objects/funcobject.c:526
#32 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffecde6ed8, 
    arg=arg@entry=0x7fffc780da50, kw=kw@entry=0x27f77f0)
    at Objects/abstract.c:2529
#33 0x00007ffff7a57630 in instancemethod_call (func=0x7fffecde6ed8, 
    arg=0x7fffc780da50, kw=0x27f77f0) at Objects/classobject.c:2578
#34 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270320, 
    arg=arg@entry=0x7fffc4fedfc8, kw=kw@entry=0x27f77f0)
    at Objects/abstract.c:2529
#35 0x00007ffff7aacde0 in slot_tp_init (self=0x7fffc500c780, 
    args=0x7fffc4fedfc8, kwds=0x27f77f0) at Objects/typeobject.c:5663
#36 0x00007ffff7aa964c in type_call (type=<optimized out>, 
    args=0x7fffc4fedfc8, kwds=0x27f77f0) at Objects/typeobject.c:737
#37 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5c8b0, 
    arg=arg@entry=0x7fffc4fedfc8, kw=kw@entry=0x27f77f0)
    at Objects/abstract.c:2529
#38 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffa540, func=0xd5c8b0) at Python/ceval.c:4239
#39 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa540)
    at Python/ceval.c:4044
#40 PyEval_EvalFrameEx (f=f@entry=0x27f8b50, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#41 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4fff260, argcount=2, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x7fffedcb4ce8, 
    defcount=defcount@entry=1, closure=0x0) at Python/ceval.c:3253
#42 0x00007ffff7a74106 in function_call (func=0x7fffedce8b90, 
    arg=0x7fffc4fff248, kw=0x0) at Objects/funcobject.c:526
#43 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffedce8b90, 
    arg=arg@entry=0x7fffc4fff248, kw=kw@entry=0x0) at Objects/abstract.c:2529
#44 0x00007ffff7a57630 in instancemethod_call (func=0x7fffedce8b90, 
    arg=0x7fffc4fff248, kw=0x0) at Objects/classobject.c:2578
#45 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc526cb90, 
    arg=arg@entry=0x7fffc4ffd410, kw=kw@entry=0x0) at Objects/abstract.c:2529
#46 0x00007ffff7aad1ec in slot_tp_call (self=0xd5d500, args=0x7fffc4ffd410, 
    kwds=0x0) at Objects/typeobject.c:5403
#47 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5d500, 
    arg=arg@entry=0x7fffc4ffd410, kw=kw@entry=0x0) at Objects/abstract.c:2529
#48 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffabf0, func=0xd5d500) at Python/ceval.c:4239
#49 call_function (oparg=<optimized out>, pp_stack=0x7fffffffabf0)
    at Python/ceval.c:4044
#50 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#51 0x00007ffff7af1099 in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffae30, func=0x7fffedce8c08)
    at Python/ceval.c:4107
#52 call_function (oparg=<optimized out>, pp_stack=0x7fffffffae30)
    at Python/ceval.c:4042
#53 PyEval_EvalFrameEx (f=f@entry=0x2bde0f0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#54 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4fff9b0, argcount=2, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x7fffedcb4ce8, 
    defcount=defcount@entry=1, closure=0x0) at Python/ceval.c:3253
#55 0x00007ffff7a74106 in function_call (func=0x7fffedce8b90, 
    arg=0x7fffc4fff998, kw=0x0) at Objects/funcobject.c:526
#56 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffedce8b90, 
    arg=arg@entry=0x7fffc4fff998, kw=kw@entry=0x0) at Objects/abstract.c:2529
#57 0x00007ffff7a57630 in instancemethod_call (func=0x7fffedce8b90, 
    arg=0x7fffc4fff998, kw=0x0) at Objects/classobject.c:2578
#58 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270370, 
    arg=arg@entry=0x7ffff7ebdd10, kw=kw@entry=0x0) at Objects/abstract.c:2529
#59 0x00007ffff7aad1ec in slot_tp_call (self=0xd5d500, args=0x7ffff7ebdd10, 
    kwds=0x0) at Objects/typeobject.c:5403
#60 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0xd5d500, 
    arg=arg@entry=0x7ffff7ebdd10, kw=kw@entry=0x0) at Objects/abstract.c:2529
#61 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffb4e0, func=0xd5d500) at Python/ceval.c:4239
#62 call_function (oparg=<optimized out>, pp_stack=0x7fffffffb4e0)
    at Python/ceval.c:4044
#63 PyEval_EvalFrameEx (f=f@entry=0x2bddb10, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#64 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7fffc4ff4d30, 
    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470, 
    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=closure@entry=0x0) at Python/ceval.c:3253
#65 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7fffc4ff4d30, 
    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470)
    at Python/ceval.c:667
#66 0x00007ffff7aef9f9 in exec_statement (locals=0x2dac470, 
    globals=0x2dac470, prog=0x7fffc4ff4d30, f=0x2b42780)
    at Python/ceval.c:4718
#67 PyEval_EvalFrameEx (f=f@entry=0x2b42780, throwflag=throwflag@entry=0)
    at Python/ceval.c:1880
#68 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc527bf68, argcount=5, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#69 0x00007ffff7a74106 in function_call (func=0x7fffc5002500, 
    arg=0x7fffc527bf50, kw=0x0) at Objects/funcobject.c:526
#70 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002500, 
    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529
#71 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002500, 
    arg=0x7fffc527bf50, kw=0x0) at Objects/classobject.c:2578
#72 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270230, 
    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529
#73 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffbe40, func=0x7fffc5270230) at Python/ceval.c:4239
#74 call_function (oparg=<optimized out>, pp_stack=0x7fffffffbe40)
    at Python/ceval.c:4044
#75 PyEval_EvalFrameEx (f=f@entry=0x2b4c410, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#76 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=5, kws=0x2b1d6e8, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#77 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=5, pp_stack=0x7fffffffc130, func=0x7fffc5005050)
    at Python/ceval.c:4117
#78 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc130)
    at Python/ceval.c:4042
#79 PyEval_EvalFrameEx (f=f@entry=0x2b1d480, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#80 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc54db640, argcount=4, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#81 0x00007ffff7a74106 in function_call (func=0x7fffc5002578, 
    arg=0x7fffc54db628, kw=0x0) at Objects/funcobject.c:526
#82 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002578, 
    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529
#83 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002578, 
    arg=0x7fffc54db628, kw=0x0) at Objects/classobject.c:2578
#84 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffd3015f00, 
    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529
#85 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffc770, func=0x7fffd3015f00) at Python/ceval.c:4239
#86 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc770)
    at Python/ceval.c:4044
#87 PyEval_EvalFrameEx (f=f@entry=0x2b47c10, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#88 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x2f61c90, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#89 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffffca60, func=0x7fffc5004f50)
    at Python/ceval.c:4117
#90 call_function (oparg=<optimized out>, pp_stack=0x7fffffffca60)
    at Python/ceval.c:4042
#91 PyEval_EvalFrameEx (f=f@entry=0x2f61ac0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#92 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4fed7b8, argcount=2, kws=kws@entry=0x7fffc526d548, 
    kwcount=kwcount@entry=3, defs=defs@entry=0x7fffc4ffe1f8, 
    defcount=defcount@entry=3, closure=0x0) at Python/ceval.c:3253
#93 0x00007ffff7a74217 in function_call (func=0x7fffc50026e0, 
    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/funcobject.c:526
#94 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc50026e0, 
    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)
    at Objects/abstract.c:2529
#95 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc50026e0, 
    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/classobject.c:2578
#96 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5ba3af0, 
    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)
    at Objects/abstract.c:2529
#97 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffd0a0, func=0x7fffc5ba3af0) at Python/ceval.c:4239
#98 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd0a0)
    at Python/ceval.c:4044
#99 PyEval_EvalFrameEx (f=f@entry=0x2b1de50, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#100 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2b3ced0, kwcount=0, defs=0x7fffc4ff2748, defcount=3, 
    closure=0x0) at Python/ceval.c:3253
#101 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffd390, func=0x7fffc5004ed8)
    at Python/ceval.c:4117
#102 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd390)
    at Python/ceval.c:4042
#103 PyEval_EvalFrameEx (f=f@entry=0x2b3cce0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#104 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=0, kws=0x2b3d410, kwcount=10, defs=0x7fffc54dd860, defcount=10, 
    closure=0x0) at Python/ceval.c:3253
#105 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=20, pp_stack=0x7fffffffd680, func=0x7fffc4ff98c0)
    at Python/ceval.c:4117
#106 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd680)
    at Python/ceval.c:4042
#107 PyEval_EvalFrameEx (f=f@entry=0x2b3d240, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#108 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=1, kws=0x6ed7e8, kwcount=3, defs=0x7fffc54dda80, defcount=10, 
    closure=0x0) at Python/ceval.c:3253
#109 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=7, pp_stack=0x7fffffffd970, func=0x7fffc5004de8)
    at Python/ceval.c:4117
#110 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd970)
    at Python/ceval.c:4042
#111 PyEval_EvalFrameEx (f=f@entry=0x6ed660, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#112 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7ffff7ec8d30, 
    globals=globals@entry=0x640820, locals=locals@entry=0x640820, 
    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=closure@entry=0x0) at Python/ceval.c:3253
#113 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7ffff7ec8d30, 
    globals=globals@entry=0x640820, locals=locals@entry=0x640820)
    at Python/ceval.c:667
#114 0x00007ffff7b134ea in run_mod (arena=0x6c9cd0, flags=0x7fffffffdbb0, 
    locals=0x640820, globals=0x640820, filename=<optimized out>, 
    mod=<optimized out>) at Python/pythonrun.c:1353
#115 PyRun_FileExFlags (fp=fp@entry=0x6c9a80, 
    filename=filename@entry=0x7fffffffe227 "/home/jp/.sage//tmp/lisp_8796.py", start=start@entry=257, globals=globals@entry=0x640820, 
    locals=locals@entry=0x640820, closeit=closeit@entry=1, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:1339
#116 0x00007ffff7b13f1b in PyRun_SimpleFileExFlags (fp=fp@entry=0x6c9a80, 
    filename=0x7fffffffe227 "/home/jp/.sage//tmp/lisp_8796.py", closeit=1, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:943
#117 0x00007ffff7b14b89 in PyRun_AnyFileExFlags (fp=fp@entry=0x6c9a80, 
    filename=<optimized out>, closeit=<optimized out>, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:747
#118 0x00007ffff7b29972 in Py_Main (argc=<optimized out>, 
    argv=<optimized out>) at Modules/main.c:639
#119 0x00007ffff6d576ad in __libc_start_main (main=0x400720 <main>, argc=2, 
    ubp_av=0x7fffffffdd68, init=<optimized out>, fini=<optimized out>, 
    rtld_fini=<optimized out>, stack_end=0x7fffffffdd58) at libc-start.c:227
#120 0x0000000000400751 in _start ()
(gdb) 
```




---

archive/issue_comments_160264.json:
```json
{
    "body": "Another one\n\n```\nTrying:\n    one < two###line 394:_sage_    >>> one < two\nExpecting:\n    True\n\nProgram received signal SIGINT, Interrupt.\n0x00007ffff6e168c3 in __select_nocancel ()\n    at ../sysdeps/unix/syscall-template.S:81\n81\t../sysdeps/unix/syscall-template.S: Aucun fichier ou dossier de ce type.\n(gdb) (gdb) #0  0x00007ffff6e168c3 in __select_nocancel ()\n    at ../sysdeps/unix/syscall-template.S:81\n#1  0x00007ffff0fcc228 in select_select (self=<optimized out>, \n    args=<optimized out>)\n    at /home/jp/boulot/sage/sage-5.5.rc0/spkg/build/python-2.7.3.p2/src/Modules/selectmodule.c:271\n#2  0x00007ffff7af0da2 in call_function (oparg=<optimized out>, \n    pp_stack=0x7fffffff9f50) at Python/ceval.c:4021\n#3  PyEval_EvalFrameEx (f=f@entry=0x2bdb5b0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#4  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=3, kws=0x2bdb560, kwcount=0, defs=0x7fffef901c38, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#5  0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=3, pp_stack=0x7fffffffa240, func=0x7fffef904500)\n    at Python/ceval.c:4117\n#6  call_function (oparg=<optimized out>, pp_stack=0x7fffffffa240)\n    at Python/ceval.c:4042\n#7  PyEval_EvalFrameEx (f=f@entry=0x2bdb370, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#8  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x2bdb130, kwcount=0, defs=0x7fffef901cc8, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#9  0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffffa530, func=0x7fffef483050)\n    at Python/ceval.c:4117\n#10 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa530)\n    at Python/ceval.c:4042\n#11 PyEval_EvalFrameEx (f=f@entry=0x2bdaf70, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#12 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2bd5570, kwcount=0, defs=0x7fffef901c80, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#13 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffa820, func=0x7fffef904f50)\n    at Python/ceval.c:4117\n#14 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa820)\n    at Python/ceval.c:4042\n#15 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#16 0x00007ffff7af1099 in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=1, pp_stack=0x7fffffffaa60, func=0x7fffe7aa1140)\n    at Python/ceval.c:4107\n#17 call_function (oparg=<optimized out>, pp_stack=0x7fffffffaa60)\n    at Python/ceval.c:4042\n#18 PyEval_EvalFrameEx (f=f@entry=0x2bd4fb0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#19 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2c0eb70, kwcount=0, defs=0x7fffe7a9c3a8, defcount=1, \n    closure=0x0) at Python/ceval.c:3253\n#20 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffad50, func=0x7fffe7a96e60)\n    at Python/ceval.c:4117\n#21 call_function (oparg=<optimized out>, pp_stack=0x7fffffffad50)\n    at Python/ceval.c:4042\n#22 PyEval_EvalFrameEx (f=f@entry=0x2c0e9d0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#23 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4feda40, argcount=2, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#24 0x00007ffff7a74106 in function_call (func=0x7fffe7aa1938, \n    arg=0x7fffc4feda28, kw=0x0) at Objects/funcobject.c:526\n#25 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffe7aa1938, \n    arg=arg@entry=0x7fffc4feda28, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#26 0x00007ffff7a57630 in instancemethod_call (func=0x7fffe7aa1938, \n    arg=0x7fffc4feda28, kw=0x0) at Objects/classobject.c:2578\n#27 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc526cc80, \n    arg=<optimized out>, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#28 0x00007fffee377423 in __pyx_f_4sage_9structure_7element_7Element__richcmp\n    (__pyx_v_left=0x7fffc4f38aa0, __pyx_v_right=0x7fffc4f38a00, __pyx_v_op=0)\n    at sage/structure/element.c:8390\n#29 0x00007fffee35e1fb in __pyx_pf_4sage_9structure_7element_7Element_64__richcmp__ (__pyx_v_op=<optimized out>, __pyx_v_right=<optimized out>, \n    __pyx_v_left=<optimized out>) at sage/structure/element.c:8528\n#30 __pyx_pw_4sage_9structure_7element_7Element_65__richcmp__ (\n    __pyx_v_left=<optimized out>, __pyx_v_right=<optimized out>, \n    __pyx_v_op=<optimized out>) at sage/structure/element.c:8498\n#31 0x00007ffff7a8dcc3 in PyObject_RichCompare (v=v@entry=0x7fffc4f38aa0, \n    w=w@entry=0x7fffc4f38a00, op=<optimized out>) at Objects/object.c:956\n#32 0x00007ffff7aee18b in cmp_outcome (w=0x7fffc4f38a00, v=0x7fffc4f38aa0, \n    op=<optimized out>) at Python/ceval.c:4526\n#33 PyEval_EvalFrameEx (f=f@entry=0x2beb030, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2287\n#34 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7fffc4ff4630, \n    globals=globals@entry=0x2ceedc0, locals=locals@entry=0x2ceedc0, \n    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=closure@entry=0x0) at Python/ceval.c:3253\n#35 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7fffc4ff4630, \n    globals=globals@entry=0x2ceedc0, locals=locals@entry=0x2ceedc0)\n    at Python/ceval.c:667\n#36 0x00007ffff7aef9f9 in exec_statement (locals=0x2ceedc0, \n    globals=0x2ceedc0, prog=0x7fffc4ff4630, f=0x2b42780)\n    at Python/ceval.c:4718\n#37 PyEval_EvalFrameEx (f=f@entry=0x2b42780, throwflag=throwflag@entry=0)\n    at Python/ceval.c:1880\n#38 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc527bf68, argcount=5, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#39 0x00007ffff7a74106 in function_call (func=0x7fffc5002500, \n    arg=0x7fffc527bf50, kw=0x0) at Objects/funcobject.c:526\n#40 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002500, \n    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#41 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002500, \n    arg=0x7fffc527bf50, kw=0x0) at Objects/classobject.c:2578\n#42 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270320, \n    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#43 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffbe40, func=0x7fffc5270320) at Python/ceval.c:4239\n#44 call_function (oparg=<optimized out>, pp_stack=0x7fffffffbe40)\n    at Python/ceval.c:4044\n#45 PyEval_EvalFrameEx (f=f@entry=0x2b4c410, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#46 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=5, kws=0x2be8fa8, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#47 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=5, pp_stack=0x7fffffffc130, func=0x7fffc5005050)\n    at Python/ceval.c:4117\n#48 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc130)\n    at Python/ceval.c:4042\n#49 PyEval_EvalFrameEx (f=f@entry=0x2be8d40, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#50 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc54db640, argcount=4, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#51 0x00007ffff7a74106 in function_call (func=0x7fffc5002578, \n    arg=0x7fffc54db628, kw=0x0) at Objects/funcobject.c:526\n#52 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002578, \n    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#53 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002578, \n    arg=0x7fffc54db628, kw=0x0) at Objects/classobject.c:2578\n#54 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffd3015f00, \n    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#55 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffc770, func=0x7fffd3015f00) at Python/ceval.c:4239\n#56 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc770)\n    at Python/ceval.c:4044\n#57 PyEval_EvalFrameEx (f=f@entry=0x2c0ca50, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#58 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x2c0ca10, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#59 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffffca60, func=0x7fffc5004f50)\n    at Python/ceval.c:4117\n#60 call_function (oparg=<optimized out>, pp_stack=0x7fffffffca60)\n    at Python/ceval.c:4042\n#61 PyEval_EvalFrameEx (f=f@entry=0x2c0c840, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#62 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4fed7b8, argcount=2, kws=kws@entry=0x7fffc526d548, \n    kwcount=kwcount@entry=3, defs=defs@entry=0x7fffc4ffe1f8, \n    defcount=defcount@entry=3, closure=0x0) at Python/ceval.c:3253\n#63 0x00007ffff7a74217 in function_call (func=0x7fffc50026e0, \n    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/funcobject.c:526\n#64 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc50026e0, \n    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)\n    at Objects/abstract.c:2529\n#65 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc50026e0, \n    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/classobject.c:2578\n#66 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5ba3af0, \n    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)\n    at Objects/abstract.c:2529\n#67 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffd0a0, func=0x7fffc5ba3af0) at Python/ceval.c:4239\n#68 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd0a0)\n    at Python/ceval.c:4044\n#69 PyEval_EvalFrameEx (f=f@entry=0x2beb270, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#70 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2b3ced0, kwcount=0, defs=0x7fffc4ff2748, defcount=3, \n    closure=0x0) at Python/ceval.c:3253\n#71 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffd390, func=0x7fffc5004ed8)\n    at Python/ceval.c:4117\n#72 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd390)\n    at Python/ceval.c:4042\n#73 PyEval_EvalFrameEx (f=f@entry=0x2b3cce0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#74 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=0, kws=0x2b3d410, kwcount=10, defs=0x7fffc54dd860, defcount=10, \n    closure=0x0) at Python/ceval.c:3253\n#75 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=20, pp_stack=0x7fffffffd680, func=0x7fffc4ff98c0)\n    at Python/ceval.c:4117\n#76 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd680)\n    at Python/ceval.c:4042\n#77 PyEval_EvalFrameEx (f=f@entry=0x2b3d240, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#78 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=1, kws=0x6ed7e8, kwcount=3, defs=0x7fffc54dda80, defcount=10, \n    closure=0x0) at Python/ceval.c:3253\n#79 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=7, pp_stack=0x7fffffffd970, func=0x7fffc5004de8)\n    at Python/ceval.c:4117\n#80 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd970)\n    at Python/ceval.c:4042\n#81 PyEval_EvalFrameEx (f=f@entry=0x6ed660, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#82 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7ffff7ec8d30, \n    globals=globals@entry=0x640820, locals=locals@entry=0x640820, \n    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=closure@entry=0x0) at Python/ceval.c:3253\n#83 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7ffff7ec8d30, \n    globals=globals@entry=0x640820, locals=locals@entry=0x640820)\n    at Python/ceval.c:667\n#84 0x00007ffff7b134ea in run_mod (arena=0x6c9cd0, flags=0x7fffffffdbb0, \n    locals=0x640820, globals=0x640820, filename=<optimized out>, \n    mod=<optimized out>) at Python/pythonrun.c:1353\n#85 PyRun_FileExFlags (fp=fp@entry=0x6c9a80, \n    filename=filename@entry=0x7fffffffe227 \"/home/jp/.sage//tmp/lisp_8969.py\", start=start@entry=257, globals=globals@entry=0x640820, \n    locals=locals@entry=0x640820, closeit=closeit@entry=1, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:1339\n#86 0x00007ffff7b13f1b in PyRun_SimpleFileExFlags (fp=fp@entry=0x6c9a80, \n    filename=0x7fffffffe227 \"/home/jp/.sage//tmp/lisp_8969.py\", closeit=1, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:943\n#87 0x00007ffff7b14b89 in PyRun_AnyFileExFlags (fp=fp@entry=0x6c9a80, \n    filename=<optimized out>, closeit=<optimized out>, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:747\n#88 0x00007ffff7b29972 in Py_Main (argc=<optimized out>, argv=<optimized out>)\n    at Modules/main.c:639\n#89 0x00007ffff6d576ad in __libc_start_main (main=0x400720 <main>, argc=2, \n    ubp_av=0x7fffffffdd68, init=<optimized out>, fini=<optimized out>, \n    rtld_fini=<optimized out>, stack_end=0x7fffffffdd58) at libc-start.c:227\n#90 0x0000000000400751 in _start ()\n(gdb) \n```\n",
    "created_at": "2012-11-27T22:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160264",
    "user": "jpflori"
}
```

Another one

```
Trying:
    one < two###line 394:_sage_    >>> one < two
Expecting:
    True

Program received signal SIGINT, Interrupt.
0x00007ffff6e168c3 in __select_nocancel ()
    at ../sysdeps/unix/syscall-template.S:81
81	../sysdeps/unix/syscall-template.S: Aucun fichier ou dossier de ce type.
(gdb) (gdb) #0  0x00007ffff6e168c3 in __select_nocancel ()
    at ../sysdeps/unix/syscall-template.S:81
#1  0x00007ffff0fcc228 in select_select (self=<optimized out>, 
    args=<optimized out>)
    at /home/jp/boulot/sage/sage-5.5.rc0/spkg/build/python-2.7.3.p2/src/Modules/selectmodule.c:271
#2  0x00007ffff7af0da2 in call_function (oparg=<optimized out>, 
    pp_stack=0x7fffffff9f50) at Python/ceval.c:4021
#3  PyEval_EvalFrameEx (f=f@entry=0x2bdb5b0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#4  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=3, kws=0x2bdb560, kwcount=0, defs=0x7fffef901c38, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#5  0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=3, pp_stack=0x7fffffffa240, func=0x7fffef904500)
    at Python/ceval.c:4117
#6  call_function (oparg=<optimized out>, pp_stack=0x7fffffffa240)
    at Python/ceval.c:4042
#7  PyEval_EvalFrameEx (f=f@entry=0x2bdb370, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#8  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x2bdb130, kwcount=0, defs=0x7fffef901cc8, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#9  0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffffa530, func=0x7fffef483050)
    at Python/ceval.c:4117
#10 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa530)
    at Python/ceval.c:4042
#11 PyEval_EvalFrameEx (f=f@entry=0x2bdaf70, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#12 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2bd5570, kwcount=0, defs=0x7fffef901c80, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#13 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffa820, func=0x7fffef904f50)
    at Python/ceval.c:4117
#14 call_function (oparg=<optimized out>, pp_stack=0x7fffffffa820)
    at Python/ceval.c:4042
#15 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#16 0x00007ffff7af1099 in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=1, pp_stack=0x7fffffffaa60, func=0x7fffe7aa1140)
    at Python/ceval.c:4107
#17 call_function (oparg=<optimized out>, pp_stack=0x7fffffffaa60)
    at Python/ceval.c:4042
#18 PyEval_EvalFrameEx (f=f@entry=0x2bd4fb0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#19 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2c0eb70, kwcount=0, defs=0x7fffe7a9c3a8, defcount=1, 
    closure=0x0) at Python/ceval.c:3253
#20 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffad50, func=0x7fffe7a96e60)
    at Python/ceval.c:4117
#21 call_function (oparg=<optimized out>, pp_stack=0x7fffffffad50)
    at Python/ceval.c:4042
#22 PyEval_EvalFrameEx (f=f@entry=0x2c0e9d0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#23 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4feda40, argcount=2, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#24 0x00007ffff7a74106 in function_call (func=0x7fffe7aa1938, 
    arg=0x7fffc4feda28, kw=0x0) at Objects/funcobject.c:526
#25 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffe7aa1938, 
    arg=arg@entry=0x7fffc4feda28, kw=kw@entry=0x0) at Objects/abstract.c:2529
#26 0x00007ffff7a57630 in instancemethod_call (func=0x7fffe7aa1938, 
    arg=0x7fffc4feda28, kw=0x0) at Objects/classobject.c:2578
#27 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc526cc80, 
    arg=<optimized out>, kw=kw@entry=0x0) at Objects/abstract.c:2529
#28 0x00007fffee377423 in __pyx_f_4sage_9structure_7element_7Element__richcmp
    (__pyx_v_left=0x7fffc4f38aa0, __pyx_v_right=0x7fffc4f38a00, __pyx_v_op=0)
    at sage/structure/element.c:8390
#29 0x00007fffee35e1fb in __pyx_pf_4sage_9structure_7element_7Element_64__richcmp__ (__pyx_v_op=<optimized out>, __pyx_v_right=<optimized out>, 
    __pyx_v_left=<optimized out>) at sage/structure/element.c:8528
#30 __pyx_pw_4sage_9structure_7element_7Element_65__richcmp__ (
    __pyx_v_left=<optimized out>, __pyx_v_right=<optimized out>, 
    __pyx_v_op=<optimized out>) at sage/structure/element.c:8498
#31 0x00007ffff7a8dcc3 in PyObject_RichCompare (v=v@entry=0x7fffc4f38aa0, 
    w=w@entry=0x7fffc4f38a00, op=<optimized out>) at Objects/object.c:956
#32 0x00007ffff7aee18b in cmp_outcome (w=0x7fffc4f38a00, v=0x7fffc4f38aa0, 
    op=<optimized out>) at Python/ceval.c:4526
#33 PyEval_EvalFrameEx (f=f@entry=0x2beb030, throwflag=throwflag@entry=0)
    at Python/ceval.c:2287
#34 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7fffc4ff4630, 
    globals=globals@entry=0x2ceedc0, locals=locals@entry=0x2ceedc0, 
    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=closure@entry=0x0) at Python/ceval.c:3253
#35 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7fffc4ff4630, 
    globals=globals@entry=0x2ceedc0, locals=locals@entry=0x2ceedc0)
    at Python/ceval.c:667
#36 0x00007ffff7aef9f9 in exec_statement (locals=0x2ceedc0, 
    globals=0x2ceedc0, prog=0x7fffc4ff4630, f=0x2b42780)
    at Python/ceval.c:4718
#37 PyEval_EvalFrameEx (f=f@entry=0x2b42780, throwflag=throwflag@entry=0)
    at Python/ceval.c:1880
#38 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc527bf68, argcount=5, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#39 0x00007ffff7a74106 in function_call (func=0x7fffc5002500, 
    arg=0x7fffc527bf50, kw=0x0) at Objects/funcobject.c:526
#40 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002500, 
    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529
#41 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002500, 
    arg=0x7fffc527bf50, kw=0x0) at Objects/classobject.c:2578
#42 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270320, 
    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529
#43 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffbe40, func=0x7fffc5270320) at Python/ceval.c:4239
#44 call_function (oparg=<optimized out>, pp_stack=0x7fffffffbe40)
    at Python/ceval.c:4044
#45 PyEval_EvalFrameEx (f=f@entry=0x2b4c410, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#46 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=5, kws=0x2be8fa8, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#47 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=5, pp_stack=0x7fffffffc130, func=0x7fffc5005050)
    at Python/ceval.c:4117
#48 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc130)
    at Python/ceval.c:4042
#49 PyEval_EvalFrameEx (f=f@entry=0x2be8d40, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#50 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc54db640, argcount=4, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#51 0x00007ffff7a74106 in function_call (func=0x7fffc5002578, 
    arg=0x7fffc54db628, kw=0x0) at Objects/funcobject.c:526
#52 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002578, 
    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529
#53 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002578, 
    arg=0x7fffc54db628, kw=0x0) at Objects/classobject.c:2578
#54 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffd3015f00, 
    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529
#55 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffc770, func=0x7fffd3015f00) at Python/ceval.c:4239
#56 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc770)
    at Python/ceval.c:4044
#57 PyEval_EvalFrameEx (f=f@entry=0x2c0ca50, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#58 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x2c0ca10, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#59 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffffca60, func=0x7fffc5004f50)
    at Python/ceval.c:4117
#60 call_function (oparg=<optimized out>, pp_stack=0x7fffffffca60)
    at Python/ceval.c:4042
#61 PyEval_EvalFrameEx (f=f@entry=0x2c0c840, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#62 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4fed7b8, argcount=2, kws=kws@entry=0x7fffc526d548, 
    kwcount=kwcount@entry=3, defs=defs@entry=0x7fffc4ffe1f8, 
    defcount=defcount@entry=3, closure=0x0) at Python/ceval.c:3253
#63 0x00007ffff7a74217 in function_call (func=0x7fffc50026e0, 
    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/funcobject.c:526
#64 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc50026e0, 
    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)
    at Objects/abstract.c:2529
#65 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc50026e0, 
    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/classobject.c:2578
#66 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5ba3af0, 
    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)
    at Objects/abstract.c:2529
#67 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffd0a0, func=0x7fffc5ba3af0) at Python/ceval.c:4239
#68 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd0a0)
    at Python/ceval.c:4044
#69 PyEval_EvalFrameEx (f=f@entry=0x2beb270, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#70 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2b3ced0, kwcount=0, defs=0x7fffc4ff2748, defcount=3, 
    closure=0x0) at Python/ceval.c:3253
#71 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffd390, func=0x7fffc5004ed8)
    at Python/ceval.c:4117
#72 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd390)
    at Python/ceval.c:4042
#73 PyEval_EvalFrameEx (f=f@entry=0x2b3cce0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#74 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=0, kws=0x2b3d410, kwcount=10, defs=0x7fffc54dd860, defcount=10, 
    closure=0x0) at Python/ceval.c:3253
#75 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=20, pp_stack=0x7fffffffd680, func=0x7fffc4ff98c0)
    at Python/ceval.c:4117
#76 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd680)
    at Python/ceval.c:4042
#77 PyEval_EvalFrameEx (f=f@entry=0x2b3d240, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#78 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=1, kws=0x6ed7e8, kwcount=3, defs=0x7fffc54dda80, defcount=10, 
    closure=0x0) at Python/ceval.c:3253
#79 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=7, pp_stack=0x7fffffffd970, func=0x7fffc5004de8)
    at Python/ceval.c:4117
#80 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd970)
    at Python/ceval.c:4042
#81 PyEval_EvalFrameEx (f=f@entry=0x6ed660, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#82 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7ffff7ec8d30, 
    globals=globals@entry=0x640820, locals=locals@entry=0x640820, 
    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=closure@entry=0x0) at Python/ceval.c:3253
#83 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7ffff7ec8d30, 
    globals=globals@entry=0x640820, locals=locals@entry=0x640820)
    at Python/ceval.c:667
#84 0x00007ffff7b134ea in run_mod (arena=0x6c9cd0, flags=0x7fffffffdbb0, 
    locals=0x640820, globals=0x640820, filename=<optimized out>, 
    mod=<optimized out>) at Python/pythonrun.c:1353
#85 PyRun_FileExFlags (fp=fp@entry=0x6c9a80, 
    filename=filename@entry=0x7fffffffe227 "/home/jp/.sage//tmp/lisp_8969.py", start=start@entry=257, globals=globals@entry=0x640820, 
    locals=locals@entry=0x640820, closeit=closeit@entry=1, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:1339
#86 0x00007ffff7b13f1b in PyRun_SimpleFileExFlags (fp=fp@entry=0x6c9a80, 
    filename=0x7fffffffe227 "/home/jp/.sage//tmp/lisp_8969.py", closeit=1, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:943
#87 0x00007ffff7b14b89 in PyRun_AnyFileExFlags (fp=fp@entry=0x6c9a80, 
    filename=<optimized out>, closeit=<optimized out>, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:747
#88 0x00007ffff7b29972 in Py_Main (argc=<optimized out>, argv=<optimized out>)
    at Modules/main.c:639
#89 0x00007ffff6d576ad in __libc_start_main (main=0x400720 <main>, argc=2, 
    ubp_av=0x7fffffffdd68, init=<optimized out>, fini=<optimized out>, 
    rtld_fini=<optimized out>, stack_end=0x7fffffffdd58) at libc-start.c:227
#90 0x0000000000400751 in _start ()
(gdb) 
```




---

archive/issue_comments_160265.json:
```json
{
    "body": "A last and quick one\n\n```\nTrying:\n    lisp.eval('(* 4 5)')###line 5:_sage_    >>> lisp.eval('(* 4 5)')\nExpecting:\n    '20'\n\nProgram received signal SIGINT, Interrupt.\n0x00007ffff6e168c3 in __select_nocancel ()\n    at ../sysdeps/unix/syscall-template.S:81\n81\t../sysdeps/unix/syscall-template.S: Aucun fichier ou dossier de ce type.\n(gdb) #0  0x00007ffff6e168c3 in __select_nocancel ()\n    at ../sysdeps/unix/syscall-template.S:81\n#1  0x00007ffff0fcc228 in select_select (self=<optimized out>, \n    args=<optimized out>)\n    at /home/jp/boulot/sage/sage-5.5.rc0/spkg/build/python-2.7.3.p2/src/Modules/selectmodule.c:271\n#2  0x00007ffff7af0da2 in call_function (oparg=<optimized out>, \n    pp_stack=0x7fffffffa6e0) at Python/ceval.c:4021\n#3  PyEval_EvalFrameEx (f=f@entry=0x2bdb5b0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#4  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=3, kws=0x2bdb560, kwcount=0, defs=0x7fffef901c38, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#5  0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=3, pp_stack=0x7fffffffa9d0, func=0x7fffef904500)\n    at Python/ceval.c:4117\n#6  call_function (oparg=<optimized out>, pp_stack=0x7fffffffa9d0)\n    at Python/ceval.c:4042\n#7  PyEval_EvalFrameEx (f=f@entry=0x2bdb370, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#8  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x2bdb130, kwcount=0, defs=0x7fffef901cc8, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#9  0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffffacc0, func=0x7fffef483050)\n    at Python/ceval.c:4117\n#10 call_function (oparg=<optimized out>, pp_stack=0x7fffffffacc0)\n    at Python/ceval.c:4042\n#11 PyEval_EvalFrameEx (f=f@entry=0x2bdaf70, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#12 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2bd5570, kwcount=0, defs=0x7fffef901c80, defcount=2, \n    closure=0x0) at Python/ceval.c:3253\n#13 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffafb0, func=0x7fffef904f50)\n    at Python/ceval.c:4117\n#14 call_function (oparg=<optimized out>, pp_stack=0x7fffffffafb0)\n    at Python/ceval.c:4042\n#15 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#16 0x00007ffff7af1099 in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=1, pp_stack=0x7fffffffb1f0, func=0x7fffe7aa1140)\n    at Python/ceval.c:4107\n#17 call_function (oparg=<optimized out>, pp_stack=0x7fffffffb1f0)\n    at Python/ceval.c:4042\n#18 PyEval_EvalFrameEx (f=f@entry=0x2bd4fb0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#19 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2b48328, kwcount=0, defs=0x7fffe7a9c3a8, defcount=1, \n    closure=0x0) at Python/ceval.c:3253\n#20 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffb4e0, func=0x7fffe7a96e60)\n    at Python/ceval.c:4117\n#21 call_function (oparg=<optimized out>, pp_stack=0x7fffffffb4e0)\n    at Python/ceval.c:4042\n#22 PyEval_EvalFrameEx (f=f@entry=0x2b481a0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#23 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7fffc4ff4d30, \n    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470, \n    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=closure@entry=0x0) at Python/ceval.c:3253\n#24 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7fffc4ff4d30, \n    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470)\n    at Python/ceval.c:667\n#25 0x00007ffff7aef9f9 in exec_statement (locals=0x2dac470, \n    globals=0x2dac470, prog=0x7fffc4ff4d30, f=0x2b42780)\n    at Python/ceval.c:4718\n#26 PyEval_EvalFrameEx (f=f@entry=0x2b42780, throwflag=throwflag@entry=0)\n    at Python/ceval.c:1880\n#27 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc527bf68, argcount=5, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#28 0x00007ffff7a74106 in function_call (func=0x7fffc5002500, \n    arg=0x7fffc527bf50, kw=0x0) at Objects/funcobject.c:526\n#29 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002500, \n    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#30 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002500, \n    arg=0x7fffc527bf50, kw=0x0) at Objects/classobject.c:2578\n#31 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270230, \n    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#32 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffbe40, func=0x7fffc5270230) at Python/ceval.c:4239\n#33 call_function (oparg=<optimized out>, pp_stack=0x7fffffffbe40)\n    at Python/ceval.c:4044\n#34 PyEval_EvalFrameEx (f=f@entry=0x2b4c410, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#35 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=5, kws=0x2b1d6e8, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#36 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=5, pp_stack=0x7fffffffc130, func=0x7fffc5005050)\n    at Python/ceval.c:4117\n#37 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc130)\n    at Python/ceval.c:4042\n#38 PyEval_EvalFrameEx (f=f@entry=0x2b1d480, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#39 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc54db640, argcount=4, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=0x0) at Python/ceval.c:3253\n#40 0x00007ffff7a74106 in function_call (func=0x7fffc5002578, \n    arg=0x7fffc54db628, kw=0x0) at Objects/funcobject.c:526\n#41 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002578, \n    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#42 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002578, \n    arg=0x7fffc54db628, kw=0x0) at Objects/classobject.c:2578\n#43 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffd3015f00, \n    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529\n#44 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffc770, func=0x7fffd3015f00) at Python/ceval.c:4239\n#45 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc770)\n    at Python/ceval.c:4044\n#46 PyEval_EvalFrameEx (f=f@entry=0x2b47c10, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#47 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=4, kws=0x2f61c90, kwcount=0, defs=0x0, defcount=0, closure=0x0)\n    at Python/ceval.c:3253\n#48 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=4, pp_stack=0x7fffffffca60, func=0x7fffc5004f50)\n    at Python/ceval.c:4117\n#49 call_function (oparg=<optimized out>, pp_stack=0x7fffffffca60)\n    at Python/ceval.c:4042\n#50 PyEval_EvalFrameEx (f=f@entry=0x2f61ac0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#51 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, \n    args=args@entry=0x7fffc4fed7b8, argcount=2, kws=kws@entry=0x7fffc526d548, \n    kwcount=kwcount@entry=3, defs=defs@entry=0x7fffc4ffe1f8, \n    defcount=defcount@entry=3, closure=0x0) at Python/ceval.c:3253\n#52 0x00007ffff7a74217 in function_call (func=0x7fffc50026e0, \n    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/funcobject.c:526\n#53 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc50026e0, \n    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)\n    at Objects/abstract.c:2529\n#54 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc50026e0, \n    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/classobject.c:2578\n#55 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5ba3af0, \n    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)\n    at Objects/abstract.c:2529\n#56 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, \n    pp_stack=0x7fffffffd0a0, func=0x7fffc5ba3af0) at Python/ceval.c:4239\n#57 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd0a0)\n    at Python/ceval.c:4044\n#58 PyEval_EvalFrameEx (f=f@entry=0x2b1de50, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#59 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=2, kws=0x2b3ced0, kwcount=0, defs=0x7fffc4ff2748, defcount=3, \n    closure=0x0) at Python/ceval.c:3253\n#60 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=2, pp_stack=0x7fffffffd390, func=0x7fffc5004ed8)\n    at Python/ceval.c:4117\n#61 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd390)\n    at Python/ceval.c:4042\n#62 PyEval_EvalFrameEx (f=f@entry=0x2b3cce0, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#63 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=0, kws=0x2b3d410, kwcount=10, defs=0x7fffc54dd860, defcount=10, \n    closure=0x0) at Python/ceval.c:3253\n#64 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=20, pp_stack=0x7fffffffd680, func=0x7fffc4ff98c0)\n    at Python/ceval.c:4117\n#65 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd680)\n    at Python/ceval.c:4042\n#66 PyEval_EvalFrameEx (f=f@entry=0x2b3d240, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#67 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, \n    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, \n    argcount=1, kws=0x6ed7e8, kwcount=3, defs=0x7fffc54dda80, defcount=10, \n    closure=0x0) at Python/ceval.c:3253\n#68 0x00007ffff7aef89d in fast_function (nk=<optimized out>, \n    na=<optimized out>, n=7, pp_stack=0x7fffffffd970, func=0x7fffc5004de8)\n    at Python/ceval.c:4117\n#69 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd970)\n    at Python/ceval.c:4042\n#70 PyEval_EvalFrameEx (f=f@entry=0x6ed660, throwflag=throwflag@entry=0)\n    at Python/ceval.c:2666\n#71 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7ffff7ec8d30, \n    globals=globals@entry=0x640820, locals=locals@entry=0x640820, \n    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, \n    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, \n    closure=closure@entry=0x0) at Python/ceval.c:3253\n#72 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7ffff7ec8d30, \n    globals=globals@entry=0x640820, locals=locals@entry=0x640820)\n    at Python/ceval.c:667\n#73 0x00007ffff7b134ea in run_mod (arena=0x6c9cd0, flags=0x7fffffffdbb0, \n    locals=0x640820, globals=0x640820, filename=<optimized out>, \n    mod=<optimized out>) at Python/pythonrun.c:1353\n#74 PyRun_FileExFlags (fp=fp@entry=0x6c9a80, \n    filename=filename@entry=0x7fffffffe226 \"/home/jp/.sage//tmp/lisp_10135.py\", start=start@entry=257, globals=globals@entry=0x640820, \n    locals=locals@entry=0x640820, closeit=closeit@entry=1, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:1339\n#75 0x00007ffff7b13f1b in PyRun_SimpleFileExFlags (fp=fp@entry=0x6c9a80, \n    filename=0x7fffffffe226 \"/home/jp/.sage//tmp/lisp_10135.py\", closeit=1, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:943\n#76 0x00007ffff7b14b89 in PyRun_AnyFileExFlags (fp=fp@entry=0x6c9a80, \n    filename=<optimized out>, closeit=<optimized out>, \n    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:747\n#77 0x00007ffff7b29972 in Py_Main (argc=<optimized out>, argv=<optimized out>)\n    at Modules/main.c:639\n#78 0x00007ffff6d576ad in __libc_start_main (main=0x400720 <main>, argc=2, \n    ubp_av=0x7fffffffdd68, init=<optimized out>, fini=<optimized out>, \n    rtld_fini=<optimized out>, stack_end=0x7fffffffdd58) at libc-start.c:227\n#79 0x0000000000400751 in _start ()\n(gdb) \n```\n",
    "created_at": "2012-11-27T22:24:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160265",
    "user": "jpflori"
}
```

A last and quick one

```
Trying:
    lisp.eval('(* 4 5)')###line 5:_sage_    >>> lisp.eval('(* 4 5)')
Expecting:
    '20'

Program received signal SIGINT, Interrupt.
0x00007ffff6e168c3 in __select_nocancel ()
    at ../sysdeps/unix/syscall-template.S:81
81	../sysdeps/unix/syscall-template.S: Aucun fichier ou dossier de ce type.
(gdb) #0  0x00007ffff6e168c3 in __select_nocancel ()
    at ../sysdeps/unix/syscall-template.S:81
#1  0x00007ffff0fcc228 in select_select (self=<optimized out>, 
    args=<optimized out>)
    at /home/jp/boulot/sage/sage-5.5.rc0/spkg/build/python-2.7.3.p2/src/Modules/selectmodule.c:271
#2  0x00007ffff7af0da2 in call_function (oparg=<optimized out>, 
    pp_stack=0x7fffffffa6e0) at Python/ceval.c:4021
#3  PyEval_EvalFrameEx (f=f@entry=0x2bdb5b0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#4  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=3, kws=0x2bdb560, kwcount=0, defs=0x7fffef901c38, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#5  0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=3, pp_stack=0x7fffffffa9d0, func=0x7fffef904500)
    at Python/ceval.c:4117
#6  call_function (oparg=<optimized out>, pp_stack=0x7fffffffa9d0)
    at Python/ceval.c:4042
#7  PyEval_EvalFrameEx (f=f@entry=0x2bdb370, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#8  0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x2bdb130, kwcount=0, defs=0x7fffef901cc8, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#9  0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffffacc0, func=0x7fffef483050)
    at Python/ceval.c:4117
#10 call_function (oparg=<optimized out>, pp_stack=0x7fffffffacc0)
    at Python/ceval.c:4042
#11 PyEval_EvalFrameEx (f=f@entry=0x2bdaf70, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#12 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2bd5570, kwcount=0, defs=0x7fffef901c80, defcount=2, 
    closure=0x0) at Python/ceval.c:3253
#13 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffafb0, func=0x7fffef904f50)
    at Python/ceval.c:4117
#14 call_function (oparg=<optimized out>, pp_stack=0x7fffffffafb0)
    at Python/ceval.c:4042
#15 PyEval_EvalFrameEx (f=<optimized out>, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#16 0x00007ffff7af1099 in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=1, pp_stack=0x7fffffffb1f0, func=0x7fffe7aa1140)
    at Python/ceval.c:4107
#17 call_function (oparg=<optimized out>, pp_stack=0x7fffffffb1f0)
    at Python/ceval.c:4042
#18 PyEval_EvalFrameEx (f=f@entry=0x2bd4fb0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#19 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2b48328, kwcount=0, defs=0x7fffe7a9c3a8, defcount=1, 
    closure=0x0) at Python/ceval.c:3253
#20 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffb4e0, func=0x7fffe7a96e60)
    at Python/ceval.c:4117
#21 call_function (oparg=<optimized out>, pp_stack=0x7fffffffb4e0)
    at Python/ceval.c:4042
#22 PyEval_EvalFrameEx (f=f@entry=0x2b481a0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#23 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7fffc4ff4d30, 
    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470, 
    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=closure@entry=0x0) at Python/ceval.c:3253
#24 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7fffc4ff4d30, 
    globals=globals@entry=0x2dac470, locals=locals@entry=0x2dac470)
    at Python/ceval.c:667
#25 0x00007ffff7aef9f9 in exec_statement (locals=0x2dac470, 
    globals=0x2dac470, prog=0x7fffc4ff4d30, f=0x2b42780)
    at Python/ceval.c:4718
#26 PyEval_EvalFrameEx (f=f@entry=0x2b42780, throwflag=throwflag@entry=0)
    at Python/ceval.c:1880
#27 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc527bf68, argcount=5, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#28 0x00007ffff7a74106 in function_call (func=0x7fffc5002500, 
    arg=0x7fffc527bf50, kw=0x0) at Objects/funcobject.c:526
#29 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002500, 
    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529
#30 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002500, 
    arg=0x7fffc527bf50, kw=0x0) at Objects/classobject.c:2578
#31 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5270230, 
    arg=arg@entry=0x7fffc527bf50, kw=kw@entry=0x0) at Objects/abstract.c:2529
#32 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffbe40, func=0x7fffc5270230) at Python/ceval.c:4239
#33 call_function (oparg=<optimized out>, pp_stack=0x7fffffffbe40)
    at Python/ceval.c:4044
#34 PyEval_EvalFrameEx (f=f@entry=0x2b4c410, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#35 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=5, kws=0x2b1d6e8, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#36 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=5, pp_stack=0x7fffffffc130, func=0x7fffc5005050)
    at Python/ceval.c:4117
#37 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc130)
    at Python/ceval.c:4042
#38 PyEval_EvalFrameEx (f=f@entry=0x2b1d480, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#39 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc54db640, argcount=4, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=0x0) at Python/ceval.c:3253
#40 0x00007ffff7a74106 in function_call (func=0x7fffc5002578, 
    arg=0x7fffc54db628, kw=0x0) at Objects/funcobject.c:526
#41 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5002578, 
    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529
#42 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc5002578, 
    arg=0x7fffc54db628, kw=0x0) at Objects/classobject.c:2578
#43 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffd3015f00, 
    arg=arg@entry=0x7fffc54db628, kw=kw@entry=0x0) at Objects/abstract.c:2529
#44 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffc770, func=0x7fffd3015f00) at Python/ceval.c:4239
#45 call_function (oparg=<optimized out>, pp_stack=0x7fffffffc770)
    at Python/ceval.c:4044
#46 PyEval_EvalFrameEx (f=f@entry=0x2b47c10, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#47 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=4, kws=0x2f61c90, kwcount=0, defs=0x0, defcount=0, closure=0x0)
    at Python/ceval.c:3253
#48 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=4, pp_stack=0x7fffffffca60, func=0x7fffc5004f50)
    at Python/ceval.c:4117
#49 call_function (oparg=<optimized out>, pp_stack=0x7fffffffca60)
    at Python/ceval.c:4042
#50 PyEval_EvalFrameEx (f=f@entry=0x2f61ac0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#51 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, 
    args=args@entry=0x7fffc4fed7b8, argcount=2, kws=kws@entry=0x7fffc526d548, 
    kwcount=kwcount@entry=3, defs=defs@entry=0x7fffc4ffe1f8, 
    defcount=defcount@entry=3, closure=0x0) at Python/ceval.c:3253
#52 0x00007ffff7a74217 in function_call (func=0x7fffc50026e0, 
    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/funcobject.c:526
#53 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc50026e0, 
    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)
    at Objects/abstract.c:2529
#54 0x00007ffff7a57630 in instancemethod_call (func=0x7fffc50026e0, 
    arg=0x7fffc4fed7a0, kw=0x2b3bd20) at Objects/classobject.c:2578
#55 0x00007ffff7a491ee in PyObject_Call (func=func@entry=0x7fffc5ba3af0, 
    arg=arg@entry=0x7fffc4fed7a0, kw=kw@entry=0x2b3bd20)
    at Objects/abstract.c:2529
#56 0x00007ffff7aece99 in do_call (nk=<optimized out>, na=<optimized out>, 
    pp_stack=0x7fffffffd0a0, func=0x7fffc5ba3af0) at Python/ceval.c:4239
#57 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd0a0)
    at Python/ceval.c:4044
#58 PyEval_EvalFrameEx (f=f@entry=0x2b1de50, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#59 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=2, kws=0x2b3ced0, kwcount=0, defs=0x7fffc4ff2748, defcount=3, 
    closure=0x0) at Python/ceval.c:3253
#60 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=2, pp_stack=0x7fffffffd390, func=0x7fffc5004ed8)
    at Python/ceval.c:4117
#61 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd390)
    at Python/ceval.c:4042
#62 PyEval_EvalFrameEx (f=f@entry=0x2b3cce0, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#63 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=0, kws=0x2b3d410, kwcount=10, defs=0x7fffc54dd860, defcount=10, 
    closure=0x0) at Python/ceval.c:3253
#64 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=20, pp_stack=0x7fffffffd680, func=0x7fffc4ff98c0)
    at Python/ceval.c:4117
#65 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd680)
    at Python/ceval.c:4042
#66 PyEval_EvalFrameEx (f=f@entry=0x2b3d240, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#67 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=<optimized out>, 
    globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, 
    argcount=1, kws=0x6ed7e8, kwcount=3, defs=0x7fffc54dda80, defcount=10, 
    closure=0x0) at Python/ceval.c:3253
#68 0x00007ffff7aef89d in fast_function (nk=<optimized out>, 
    na=<optimized out>, n=7, pp_stack=0x7fffffffd970, func=0x7fffc5004de8)
    at Python/ceval.c:4117
#69 call_function (oparg=<optimized out>, pp_stack=0x7fffffffd970)
    at Python/ceval.c:4042
#70 PyEval_EvalFrameEx (f=f@entry=0x6ed660, throwflag=throwflag@entry=0)
    at Python/ceval.c:2666
#71 0x00007ffff7af1bf8 in PyEval_EvalCodeEx (co=co@entry=0x7ffff7ec8d30, 
    globals=globals@entry=0x640820, locals=locals@entry=0x640820, 
    args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, 
    kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, 
    closure=closure@entry=0x0) at Python/ceval.c:3253
#72 0x00007ffff7af1d32 in PyEval_EvalCode (co=co@entry=0x7ffff7ec8d30, 
    globals=globals@entry=0x640820, locals=locals@entry=0x640820)
    at Python/ceval.c:667
#73 0x00007ffff7b134ea in run_mod (arena=0x6c9cd0, flags=0x7fffffffdbb0, 
    locals=0x640820, globals=0x640820, filename=<optimized out>, 
    mod=<optimized out>) at Python/pythonrun.c:1353
#74 PyRun_FileExFlags (fp=fp@entry=0x6c9a80, 
    filename=filename@entry=0x7fffffffe226 "/home/jp/.sage//tmp/lisp_10135.py", start=start@entry=257, globals=globals@entry=0x640820, 
    locals=locals@entry=0x640820, closeit=closeit@entry=1, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:1339
#75 0x00007ffff7b13f1b in PyRun_SimpleFileExFlags (fp=fp@entry=0x6c9a80, 
    filename=0x7fffffffe226 "/home/jp/.sage//tmp/lisp_10135.py", closeit=1, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:943
#76 0x00007ffff7b14b89 in PyRun_AnyFileExFlags (fp=fp@entry=0x6c9a80, 
    filename=<optimized out>, closeit=<optimized out>, 
    flags=flags@entry=0x7fffffffdbb0) at Python/pythonrun.c:747
#77 0x00007ffff7b29972 in Py_Main (argc=<optimized out>, argv=<optimized out>)
    at Modules/main.c:639
#78 0x00007ffff6d576ad in __libc_start_main (main=0x400720 <main>, argc=2, 
    ubp_av=0x7fffffffdd68, init=<optimized out>, fini=<optimized out>, 
    rtld_fini=<optimized out>, stack_end=0x7fffffffdd58) at libc-start.c:227
#79 0x0000000000400751 in _start ()
(gdb) 
```




---

archive/issue_comments_160266.json:
```json
{
    "body": "Running some trivial infinite loop involving lisp() from Sage stucks and when interrupted spits\n\n```\n^C---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/home/jp/boulot/sage/sage-5.5.rc0/devel/sage-main/<ipython console> in <module>()\n\n/home/jp/boulot/sage/sage-5.5.rc0/local/lib/python2.7/site-packages/sage/interfaces/interface.pyc in __call__(self, x, name)\n    193             \n    194         if isinstance(x, basestring):\n--> 195             return cls(self, x, name=name)\n    196         try:\n    197             return self._coerce_from_special_method(x)\n\n/home/jp/boulot/sage/sage-5.5.rc0/local/lib/python2.7/site-packages/sage/interfaces/expect.pyc in __init__(self, parent, value, is_name, name)\n   1311             except (TypeError, KeyboardInterrupt, RuntimeError, ValueError), x:\n   1312                 self._session_number = -1\n-> 1313                 raise TypeError, x\n   1314         self._session_number = parent._session_number\n   1315 \n\nTypeError: \n```\n",
    "created_at": "2012-11-27T22:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160266",
    "user": "jpflori"
}
```

Running some trivial infinite loop involving lisp() from Sage stucks and when interrupted spits

```
^C---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/home/jp/boulot/sage/sage-5.5.rc0/devel/sage-main/<ipython console> in <module>()

/home/jp/boulot/sage/sage-5.5.rc0/local/lib/python2.7/site-packages/sage/interfaces/interface.pyc in __call__(self, x, name)
    193             
    194         if isinstance(x, basestring):
--> 195             return cls(self, x, name=name)
    196         try:
    197             return self._coerce_from_special_method(x)

/home/jp/boulot/sage/sage-5.5.rc0/local/lib/python2.7/site-packages/sage/interfaces/expect.pyc in __init__(self, parent, value, is_name, name)
   1311             except (TypeError, KeyboardInterrupt, RuntimeError, ValueError), x:
   1312                 self._session_number = -1
-> 1313                 raise TypeError, x
   1314         self._session_number = parent._session_number
   1315 

TypeError: 
```




---

archive/issue_comments_160267.json:
```json
{
    "body": "And we got fixes upstream for the signal stuff at:\n* http://sourceforge.net/p/ecls/ecl/ci/c4a538dd278407f91f6105ebbeadf1b371c1124f/\n* http://sourceforge.net/p/ecls/ecl/ci/15033d5a8ad7297e5f76e2e70446b0eea2f2d2a7/\n* http://sourceforge.net/p/ecls/ecl/ci/ec1fe8781a5f137284cc6c0d0cfa6b0cc9b9b291/\n\nUpdated spkg with upstream patches at same address.",
    "created_at": "2012-11-27T23:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160267",
    "user": "jpflori"
}
```

And we got fixes upstream for the signal stuff at:
* http://sourceforge.net/p/ecls/ecl/ci/c4a538dd278407f91f6105ebbeadf1b371c1124f/
* http://sourceforge.net/p/ecls/ecl/ci/15033d5a8ad7297e5f76e2e70446b0eea2f2d2a7/
* http://sourceforge.net/p/ecls/ecl/ci/ec1fe8781a5f137284cc6c0d0cfa6b0cc9b9b291/

Updated spkg with upstream patches at same address.



---

archive/issue_comments_160268.json:
```json
{
    "body": "Ok, as expected we still get the lisp.py issue.",
    "created_at": "2012-11-28T00:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160268",
    "user": "jpflori"
}
```

Ok, as expected we still get the lisp.py issue.



---

archive/issue_comments_160269.json:
```json
{
    "body": "Hummm, in the above examples, Sage does not really gets stucky, after a long time (let's say 10 minutes, not really sure) the tests go on.",
    "created_at": "2012-11-28T00:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160269",
    "user": "jpflori"
}
```

Hummm, in the above examples, Sage does not really gets stucky, after a long time (let's say 10 minutes, not really sure) the tests go on.



---

archive/issue_comments_160270.json:
```json
{
    "body": "And I just realized ECL is built with threads enabled.",
    "created_at": "2012-11-28T00:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160270",
    "user": "jpflori"
}
```

And I just realized ECL is built with threads enabled.



---

archive/issue_comments_160271.json:
```json
{
    "body": "And tada, with the single threaded interface, I still got no problems with lisp.py, I guess it gave bad interaction with pexpect.\nNew spkg at same address.",
    "created_at": "2012-11-28T01:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160271",
    "user": "jpflori"
}
```

And tada, with the single threaded interface, I still got no problems with lisp.py, I guess it gave bad interaction with pexpect.
New spkg at same address.



---

archive/issue_comments_160272.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-11-28T01:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160272",
    "user": "jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_160273.json:
```json
{
    "body": "I'm getting to work earlier tomorrow, I'll try to set up an XP Cygwin build and test this - may not have feedback for several days, though!",
    "created_at": "2012-11-28T02:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160273",
    "user": "kcrisman"
}
```

I'm getting to work earlier tomorrow, I'll try to set up an XP Cygwin build and test this - may not have feedback for several days, though!



---

archive/issue_comments_160274.json:
```json
{
    "body": "Replying to [comment:49 kcrisman]:\n> I'm getting to work earlier tomorrow, I'll try to set up an XP Cygwin build and test this - may not have feedback for several days, though!\nThanks, that's great.\n\nNonetheless the new patches should not influence the spkg on Cygwin, so your and my previous tests are still valid for Cygwin.\nI'll be working on the remaining issue this week end hopefully (#9167) and propose patches upstream.\n\nThe important thing to test is the timeout problems and this now looks fine.\nIt passed make ptestlong on two different Linux x86_64 Debian and Ubuntu for me and stressful testing of the previous problematic files.\n\nSo I guess that if someone thinks that the changes are ok, with minimal additional testing, we can put this as positive_review and let the patchbot make their work (or rather the release manager, as it seems spkg are not tested by patchbot, am I wrong?).",
    "created_at": "2012-11-28T12:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160274",
    "user": "jpflori"
}
```

Replying to [comment:49 kcrisman]:
> I'm getting to work earlier tomorrow, I'll try to set up an XP Cygwin build and test this - may not have feedback for several days, though!
Thanks, that's great.

Nonetheless the new patches should not influence the spkg on Cygwin, so your and my previous tests are still valid for Cygwin.
I'll be working on the remaining issue this week end hopefully (#9167) and propose patches upstream.

The important thing to test is the timeout problems and this now looks fine.
It passed make ptestlong on two different Linux x86_64 Debian and Ubuntu for me and stressful testing of the previous problematic files.

So I guess that if someone thinks that the changes are ok, with minimal additional testing, we can put this as positive_review and let the patchbot make their work (or rather the release manager, as it seems spkg are not tested by patchbot, am I wrong?).



---

archive/issue_comments_160275.json:
```json
{
    "body": "I see, I didn't read the emails carefully and thought there was something significant.\n\nI have an ecl-12.7.1.p1 here.  where did that come from?  Anyway, I'll just `./sage -f` this spkg and apply the patch and see what happens!",
    "created_at": "2012-11-28T13:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160275",
    "user": "kcrisman"
}
```

I see, I didn't read the emails carefully and thought there was something significant.

I have an ecl-12.7.1.p1 here.  where did that come from?  Anyway, I'll just `./sage -f` this spkg and apply the patch and see what happens!



---

archive/issue_comments_160276.json:
```json
{
    "body": "Replying to [comment:51 kcrisman]:\n> I see, I didn't read the emails carefully and thought there was something significant.\n> \n> I have an ecl-12.7.1.p1 here.  where did that come from?  Anyway, I'll just `./sage -f` this spkg and apply the patch and see what happens!\nThis spkg is an old spkg from #9167 and is not up to date with the one here and should be rebased once the one here gets positive review.\nIndeed, the one here does not contain the fixes in the one from #9167 and I don't plan to do so because the changes there still need some work.\n\nAnyway these fixes at #9167 are not needed to build Sage on Cygwin, they are needed to be able to import maxima in Sage.\nThe fixes here let Sage build on Cygwin and prevent signal problems with the updated ECL.",
    "created_at": "2012-11-28T13:51:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160276",
    "user": "jpflori"
}
```

Replying to [comment:51 kcrisman]:
> I see, I didn't read the emails carefully and thought there was something significant.
> 
> I have an ecl-12.7.1.p1 here.  where did that come from?  Anyway, I'll just `./sage -f` this spkg and apply the patch and see what happens!
This spkg is an old spkg from #9167 and is not up to date with the one here and should be rebased once the one here gets positive review.
Indeed, the one here does not contain the fixes in the one from #9167 and I don't plan to do so because the changes there still need some work.

Anyway these fixes at #9167 are not needed to build Sage on Cygwin, they are needed to be able to import maxima in Sage.
The fixes here let Sage build on Cygwin and prevent signal problems with the updated ECL.



---

archive/issue_comments_160277.json:
```json
{
    "body": "Well, it builds but I get all sorts of forking errors when I test the two files in question.  Of course, that probably happened before as well!",
    "created_at": "2012-11-28T14:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160277",
    "user": "kcrisman"
}
```

Well, it builds but I get all sorts of forking errors when I test the two files in question.  Of course, that probably happened before as well!



---

archive/issue_comments_160278.json:
```json
{
    "body": "I don't think I mentioned it here but the bug page upstream was\nhttp://sourceforge.net/p/ecls/bugs/216/\n\nTo produce a completely correct library would need\nhttp://sourceforge.net/p/ecls/bugs/222/\nbut that might be done in a follow up ticket.\n\nThe spgk here fulfill its purpose (in fact more than what originally planned):\n- upgrade to 12.7.1,\n- build on cygwin (with backported patches).\n\nSo I guess it should be integrated asap.",
    "created_at": "2012-12-03T22:38:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160278",
    "user": "jpflori"
}
```

I don't think I mentioned it here but the bug page upstream was
http://sourceforge.net/p/ecls/bugs/216/

To produce a completely correct library would need
http://sourceforge.net/p/ecls/bugs/222/
but that might be done in a follow up ticket.

The spgk here fulfill its purpose (in fact more than what originally planned):
- upgrade to 12.7.1,
- build on cygwin (with backported patches).

So I guess it should be integrated asap.



---

archive/issue_comments_160279.json:
```json
{
    "body": "I agree.  What testing and/or review do you think is still needed?  This does build fine on Cygwin on XP, and Maxima builds with it.",
    "created_at": "2012-12-06T02:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160279",
    "user": "kcrisman"
}
```

I agree.  What testing and/or review do you think is still needed?  This does build fine on Cygwin on XP, and Maxima builds with it.



---

archive/issue_comments_160280.json:
```json
{
    "body": "I can't do much else without #9167, of course, in terms of testing.   But what needs to be done here?  A look at the spkg, the patches (which seems okay) and testing that Maxima still works right on Linux and Mac, at least, with this, right?",
    "created_at": "2012-12-06T16:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160280",
    "user": "kcrisman"
}
```

I can't do much else without #9167, of course, in terms of testing.   But what needs to be done here?  A look at the spkg, the patches (which seems okay) and testing that Maxima still works right on Linux and Mac, at least, with this, right?



---

archive/issue_comments_160281.json:
```json
{
    "body": "I guess that's all indeed.",
    "created_at": "2012-12-06T16:06:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160281",
    "user": "jpflori"
}
```

I guess that's all indeed.



---

archive/issue_comments_160282.json:
```json
{
    "body": "(FYI I've tested this extensively on Linux (Debian and Ubuntu).)",
    "created_at": "2012-12-06T16:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160282",
    "user": "jpflori"
}
```

(FYI I've tested this extensively on Linux (Debian and Ubuntu).)



---

archive/issue_comments_160283.json:
```json
{
    "body": "For info, ECL 12.12.1 which includes the fixes needed here (and much more) was released:\nhttp://sourceforge.net/mailarchive/forum.php?thread_name=10634799-3AE2-408D-94F5-5F96A38E60B6%40gmail.com&forum_name=ecls-list",
    "created_at": "2012-12-10T11:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160283",
    "user": "jpflori"
}
```

For info, ECL 12.12.1 which includes the fixes needed here (and much more) was released:
http://sourceforge.net/mailarchive/forum.php?thread_name=10634799-3AE2-408D-94F5-5F96A38E60B6%40gmail.com&forum_name=ecls-list



---

archive/issue_comments_160284.json:
```json
{
    "body": "Tentative updated spkg at\nhttp://boxen.math.washington.edu/home/jpflori/ecl-12.12.1.p0.spkg\n\nI guess it would be more sensible to get this new spkg into Sage.\nOn the Sage side, the only changes are that I removed the two patches backported for 12.7.1.",
    "created_at": "2012-12-10T13:37:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160284",
    "user": "jpflori"
}
```

Tentative updated spkg at
http://boxen.math.washington.edu/home/jpflori/ecl-12.12.1.p0.spkg

I guess it would be more sensible to get this new spkg into Sage.
On the Sage side, the only changes are that I removed the two patches backported for 12.7.1.



---

archive/issue_comments_160285.json:
```json
{
    "body": "I'll also remove the old stat.h fix which is upstream for some time now:\nhttp://sourceforge.net/p/ecls/ecl/ci/d3e59164d0e1da1a5a591b3e6a251db1c428b223/",
    "created_at": "2012-12-10T14:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160285",
    "user": "jpflori"
}
```

I'll also remove the old stat.h fix which is upstream for some time now:
http://sourceforge.net/p/ecls/ecl/ci/d3e59164d0e1da1a5a591b3e6a251db1c428b223/



---

archive/issue_comments_160286.json:
```json
{
    "body": "Updated spkg and diff uploaded.\nNot tested yet.",
    "created_at": "2012-12-10T14:04:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160286",
    "user": "jpflori"
}
```

Updated spkg and diff uploaded.
Not tested yet.



---

archive/issue_comments_160287.json:
```json
{
    "body": "\n```\n### ecl-12.7.1.p0 (Jean-Pierre Flori, 10 December 2012)\n```\n\nI think there is a typo there.",
    "created_at": "2012-12-10T17:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160287",
    "user": "kcrisman"
}
```


```
### ecl-12.7.1.p0 (Jean-Pierre Flori, 10 December 2012)
```

I think there is a typo there.



---

archive/issue_comments_160288.json:
```json
{
    "body": "Indeed, corrected spkg uploaded.\nI just posted a diff for the previous version of ECL.\nThe right one is coming.",
    "created_at": "2012-12-11T10:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160288",
    "user": "jpflori"
}
```

Indeed, corrected spkg uploaded.
I just posted a diff for the previous version of ECL.
The right one is coming.



---

archive/issue_comments_160289.json:
```json
{
    "body": "There is a small problem with the current 12.12.1 spkg because the patch directory is empty.",
    "created_at": "2012-12-11T15:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160289",
    "user": "jpflori"
}
```

There is a small problem with the current 12.12.1 spkg because the patch directory is empty.



---

archive/issue_comments_160290.json:
```json
{
    "body": "I seem to have problem compiling SLATEC:DBESJ in Maxima with both spkg posted here.",
    "created_at": "2012-12-11T15:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160290",
    "user": "jpflori"
}
```

I seem to have problem compiling SLATEC:DBESJ in Maxima with both spkg posted here.



---

archive/issue_comments_160291.json:
```json
{
    "body": "No such problem on Linux, so it might be a Cygwin problem.\nIt reminds me of the fact that for some of my attempts I had to rebase *during* the build of Maxima to be able to finish the build.",
    "created_at": "2012-12-11T16:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160291",
    "user": "jpflori"
}
```

No such problem on Linux, so it might be a Cygwin problem.
It reminds me of the fact that for some of my attempts I had to rebase *during* the build of Maxima to be able to finish the build.



---

archive/issue_comments_160292.json:
```json
{
    "body": "But that does not seem to be the case here.",
    "created_at": "2012-12-11T16:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160292",
    "user": "jpflori"
}
```

But that does not seem to be the case here.



---

archive/issue_comments_160293.json:
```json
{
    "body": "Oops, and I just realized I'm configuring ECL with no assembly everywhere.",
    "created_at": "2012-12-11T17:14:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160293",
    "user": "jpflori"
}
```

Oops, and I just realized I'm configuring ECL with no assembly everywhere.



---

archive/issue_comments_160294.json:
```json
{
    "body": "> Oops, and I just realized I'm configuring ECL with no assembly everywhere.\nI assume that means \"needs work\" for now... Just let me know when you have something to be tested, and I'll try it out again.",
    "created_at": "2012-12-12T15:40:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160294",
    "user": "kcrisman"
}
```

> Oops, and I just realized I'm configuring ECL with no assembly everywhere.
I assume that means "needs work" for now... Just let me know when you have something to be tested, and I'll try it out again.



---

archive/issue_comments_160295.json:
```json
{
    "body": "Yes that means needs work...\nBut I think you can already test the updated spkg, a priori, there won't be anything drastically different with ffi added (from the Sage point of view at least; unless you happen to have the problematic system the fix was meant for).",
    "created_at": "2012-12-13T12:49:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160295",
    "user": "jpflori"
}
```

Yes that means needs work...
But I think you can already test the updated spkg, a priori, there won't be anything drastically different with ffi added (from the Sage point of view at least; unless you happen to have the problematic system the fix was meant for).



---

archive/issue_comments_160296.json:
```json
{
    "body": "Oh, I see what you mean!  I was thinking it was something else, but you mean that in attachment:ecl-12.7.1.p0.diff you have the same configure options in both cases, but need to remove `--with-dffi=no` from the `else` clause?",
    "created_at": "2012-12-13T16:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160296",
    "user": "kcrisman"
}
```

Oh, I see what you mean!  I was thinking it was something else, but you mean that in attachment:ecl-12.7.1.p0.diff you have the same configure options in both cases, but need to remove `--with-dffi=no` from the `else` clause?



---

archive/issue_comments_160297.json:
```json
{
    "body": "Exactly!",
    "created_at": "2012-12-13T16:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160297",
    "user": "jpflori"
}
```

Exactly!



---

archive/issue_comments_160298.json:
```json
{
    "body": "In any case I got some weird rebase problem when I did this - ECL installed fine, but Maxima refused to build due to memory not accessible things.  Now I'm trying to rebase but having trouble getting `find` to find anything other than stuff in the `SAGE_ROOT` directory, it's like it's not looking in `SAGE_LOCAL/lib`...",
    "created_at": "2012-12-13T17:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160298",
    "user": "kcrisman"
}
```

In any case I got some weird rebase problem when I did this - ECL installed fine, but Maxima refused to build due to memory not accessible things.  Now I'm trying to rebase but having trouble getting `find` to find anything other than stuff in the `SAGE_ROOT` directory, it's like it's not looking in `SAGE_LOCAL/lib`...



---

archive/issue_comments_160299.json:
```json
{
    "body": "I also had rebase problems once when building Maxima, this was quite horrible to deal with.\nI had to let it fail, rebase and restart from where it failed.\n\nAnd now I found something more problematic, Maxima does not seem to build as a library on my Linux system with the 12.12.1 version.\nAnd the Maxima spkg does not detect that (although there should be code to detect this), if confirmed, this should go on another trac ticket.",
    "created_at": "2012-12-14T11:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160299",
    "user": "jpflori"
}
```

I also had rebase problems once when building Maxima, this was quite horrible to deal with.
I had to let it fail, rebase and restart from where it failed.

And now I found something more problematic, Maxima does not seem to build as a library on my Linux system with the 12.12.1 version.
And the Maxima spkg does not detect that (although there should be code to detect this), if confirmed, this should go on another trac ticket.



---

archive/issue_comments_160300.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-12-14T11:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160300",
    "user": "jpflori"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_160301.json:
```json
{
    "body": "This sounds like my problem, though of course I didn't get far enough to see the no library thing.  If that is the case, we should definitely just use the (`--with-dffi=no` fixed) 12.7.1 spkg.  The perfect is the enemy of the sufficient.  Let me know when you have that (as my tar seems to be causing trouble) and I should be able to review it next week.",
    "created_at": "2012-12-14T13:18:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160301",
    "user": "kcrisman"
}
```

This sounds like my problem, though of course I didn't get far enough to see the no library thing.  If that is the case, we should definitely just use the (`--with-dffi=no` fixed) 12.7.1 spkg.  The perfect is the enemy of the sufficient.  Let me know when you have that (as my tar seems to be causing trouble) and I should be able to review it next week.



---

archive/issue_comments_160302.json:
```json
{
    "body": "I think the library is not missing but its name changed from maxima.fasb to maxima-system.fasb, potentially due to an upgraded ASDF.\nSeen from Sage, this \"new\" file seems to work just as well.\nI don't really know this stuff, so I've asked upstream for confirmation.\n\nAnyway, I'm recrafting cleaner 12.7.1 AND 12.12.1 spkgs.",
    "created_at": "2012-12-14T13:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160302",
    "user": "jpflori"
}
```

I think the library is not missing but its name changed from maxima.fasb to maxima-system.fasb, potentially due to an upgraded ASDF.
Seen from Sage, this "new" file seems to work just as well.
I don't really know this stuff, so I've asked upstream for confirmation.

Anyway, I'm recrafting cleaner 12.7.1 AND 12.12.1 spkgs.



---

archive/issue_comments_160303.json:
```json
{
    "body": "Replying to [comment:77 jpflori]:\n> I think the library is not missing but its name changed from maxima.fasb to maxima-system.fasb, potentially due to an upgraded ASDF.\n> Seen from Sage, this \"new\" file seems to work just as well.\n> I don't really know this stuff, so I've asked upstream for confirmation.\n> \n> Anyway, I'm recrafting cleaner 12.7.1 AND 12.12.1 spkgs.\n\nwhy won't we concentrate on 12.12.1?",
    "created_at": "2012-12-14T13:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160303",
    "user": "dimpase"
}
```

Replying to [comment:77 jpflori]:
> I think the library is not missing but its name changed from maxima.fasb to maxima-system.fasb, potentially due to an upgraded ASDF.
> Seen from Sage, this "new" file seems to work just as well.
> I don't really know this stuff, so I've asked upstream for confirmation.
> 
> Anyway, I'm recrafting cleaner 12.7.1 AND 12.12.1 spkgs.

why won't we concentrate on 12.12.1?



---

archive/issue_comments_160304.json:
```json
{
    "body": "I am, it is just I'm also giving away something which definitely looks right (apart from the stupid dffi things I had no problem at all with 12.7.1, except that recently I can no longer build Maxima on Cygwin, but that might be something else) as well in case other concerns appear with 12.12.1.",
    "created_at": "2012-12-14T13:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160304",
    "user": "jpflori"
}
```

I am, it is just I'm also giving away something which definitely looks right (apart from the stupid dffi things I had no problem at all with 12.7.1, except that recently I can no longer build Maxima on Cygwin, but that might be something else) as well in case other concerns appear with 12.12.1.



---

archive/issue_comments_160305.json:
```json
{
    "body": "> I am, it is just I'm also giving away something which definitely looks right (apart from the stupid dffi things I had no problem at all with 12.7.1, except that recently I can no longer build Maxima on Cygwin, but that might be something else) as well in case other concerns appear with 12.12.1.\nWell anyway, whichever one you come up with within the next 7 hours or so I can try to get set up for a weekend build (Windoze only at work, a poor orphaned computer no one wanted...)",
    "created_at": "2012-12-14T13:48:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160305",
    "user": "kcrisman"
}
```

> I am, it is just I'm also giving away something which definitely looks right (apart from the stupid dffi things I had no problem at all with 12.7.1, except that recently I can no longer build Maxima on Cygwin, but that might be something else) as well in case other concerns appear with 12.12.1.
Well anyway, whichever one you come up with within the next 7 hours or so I can try to get set up for a weekend build (Windoze only at work, a poor orphaned computer no one wanted...)



---

archive/issue_comments_160306.json:
```json
{
    "body": "> I am, it is just I'm also giving away something which definitely looks right (apart from the stupid dffi things I had no problem at all with 12.7.1, except that recently I can no longer build Maxima on Cygwin, but that might be something else) as well in case other concerns appear with 12.12.1.\n\nAfter (finally) a successful rebase I can only build Maxima with 12.7.1 (in this case the p1 spkg from #9167, but whatever), so maybe this is the wiser option currently.  Especially if we can quickly get #9167 ready based on something here, that would be ideal; it's wonderful to not have that be an issue soon.",
    "created_at": "2012-12-14T16:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160306",
    "user": "kcrisman"
}
```

> I am, it is just I'm also giving away something which definitely looks right (apart from the stupid dffi things I had no problem at all with 12.7.1, except that recently I can no longer build Maxima on Cygwin, but that might be something else) as well in case other concerns appear with 12.12.1.

After (finally) a successful rebase I can only build Maxima with 12.7.1 (in this case the p1 spkg from #9167, but whatever), so maybe this is the wiser option currently.  Especially if we can quickly get #9167 ready based on something here, that would be ideal; it's wonderful to not have that be an issue soon.



---

archive/issue_comments_160307.json:
```json
{
    "body": "What fails exactly with 12.12.1 and Maxima?",
    "created_at": "2012-12-14T16:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160307",
    "user": "jpflori"
}
```

What fails exactly with 12.12.1 and Maxima?



---

archive/issue_comments_160308.json:
```json
{
    "body": "Oh I guess that if the same thing as on Linux happens, then the compile ecl file is not copied but the error not caught.\n\nSo more precisely, does the spkg build fails? or does it seem to be ok, but you cannot import maxima then?",
    "created_at": "2012-12-14T16:17:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160308",
    "user": "jpflori"
}
```

Oh I guess that if the same thing as on Linux happens, then the compile ecl file is not copied but the error not caught.

So more precisely, does the spkg build fails? or does it seem to be ok, but you cannot import maxima then?



---

archive/issue_comments_160309.json:
```json
{
    "body": "> So more precisely, does the spkg build fails? or does it seem to be ok, but you cannot import maxima then?\nPrecisely what happens is that it raises an error that smells of needing rebasing, and drops me into an interactive (ECL, I think) terminal for whether I want to continue compiling, does that a few times, and then just plain old fails, again smelling of needing a rebase.  But the rebase doesn't help.\n\nI'll try it all again just now, now that I confirmed I can get it working again by going back to the old (well, 12.7.1) ECL, rebasing, then doing `sage -f maxima`.  I should be able to report back in about 15-20 minutes...",
    "created_at": "2012-12-14T16:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160309",
    "user": "kcrisman"
}
```

> So more precisely, does the spkg build fails? or does it seem to be ok, but you cannot import maxima then?
Precisely what happens is that it raises an error that smells of needing rebasing, and drops me into an interactive (ECL, I think) terminal for whether I want to continue compiling, does that a few times, and then just plain old fails, again smelling of needing a rebase.  But the rebase doesn't help.

I'll try it all again just now, now that I confirmed I can get it working again by going back to the old (well, 12.7.1) ECL, rebasing, then doing `sage -f maxima`.  I should be able to report back in about 15-20 minutes...



---

archive/issue_comments_160310.json:
```json
{
    "body": "This is after installing the 12.12.1 ECL and then *immediately* rebasing:\n\n```\nSummary:\nECL enabled. Executable name: \"ecl\"\ndefault lisp: ecl\nwish executable name: \"wish\"\n\nNow building Maxima...\nMaking all in admin\nmake[1]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/admin'\nmake[1]: Nothing to be done for `all'.\nmake[1]: Leaving directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/admin'\nMaking all in src\nmake[1]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'\ntest -d binary-ecl || mkdir binary-ecl\necl -norc -eval '(progn (load \"../lisp-utils/defsystem.lisp\") (load \"../lisp-utils/make-depends.lisp\") (funcall (intern \"CREATE-DEPENDENCY-FILE\" :mk) \"binary-ecl/maxima\" \"ecl-depends.mk\") (quit))'\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/../lisp-utils/defsystem.lisp\"\n;;; Loading #P\"/home/newsagetest/sage-5.5.rc0/local/lib/ecl/cmp.fas\"\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/../lisp-utils/make-depends.lisp\"\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima.system\"\n cd .. && /bin/sh /home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/missing --run automake-1.9 --gnu  src/Makefile\n/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/missing: line 52: automake-1.9: command not found\nWARNING: `automake-1.9' is missing on your system.  You should only need it if\n         you modified `Makefile.am', `acinclude.m4' or `configure.in'.\n         You might want to install the `Automake' and `Perl' packages.\n         Grab them from any GNU archive site.\n cd .. && /bin/sh ./config.status src/Makefile\nconfig.status: creating src/Makefile\nmake[1]: Leaving directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'\nmake[1]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'\n../admin/make_share_list\ntest -d binary-ecl || mkdir binary-ecl\necl -norc -eval '(progn (load \"../lisp-utils/defsystem.lisp\") (funcall (intern (symbol-name :operate-on-system) :mk) \"maxima\" :compile :verbose t) (build-maxima-lib))' -eval '(ext:quit)'\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/../lisp-utils/defsystem.lisp\"\n;;; Loading #P\"/home/newsagetest/sage-5.5.rc0/local/lib/ecl/cmp.fas\"\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima.system\"\n\n;  - Compiling defsystem \"maxima\"\n;    - Compiling module \"package\"\n;      - Compiling source file\n;        \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima-package.lisp\"\n;;;\n;;; Compiling /home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima-package.lisp.\n;;; OPTIMIZE levels: Safety=2, Space=0, Speed=3, Debug=2\n;;;\n;;; End of Pass 1.\n;;; Finished compiling /home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima-package.lisp.\n;;;\n\n;      - Loading binary file \"binary-ecl/maxima-package.fas\"\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/binary-ecl/maxima-package.fas\"\n\nCondition of type: SEGMENTATION-VIOLATION\nDetected access to an invalid or protected memory address.\nAvailable restarts:\n\n1. (CONTINUE) Ignore signal\n2. (CONTINUE) Ignore initialization errors and continue.\n3. (ABORT) Quit ECL unsafely, ignoring all existing threads.\n\nTop level.\n>\n```\n\n(I didn't include the configuration stuff.)\n\nI couldn't get out of the debugger with `1` or `2` and so I just did `Ctrl-D`, which led to a lot more stuff, then \n\n```\nmake[1]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'\n../admin/make_share_list\ntest -d binary-ecl || mkdir binary-ecl\necl -norc -eval '(progn (load \"../lisp-utils/defsystem.lisp\") (funcall (intern (symbol-name :operate-on-system) :mk) \"maxima\" :compile :verbose t) (build-maxima-lib))' -eval '(ext:quit)'\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/../lisp-utils/defsystem.lisp\"\n;;; Loading #P\"/home/newsagetest/sage-5.5.rc0/local/lib/ecl/cmp.fas\"\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima.system\"\n\n;  - Compiling defsystem \"maxima\"\n;    - Compiling module \"package\"\n;      - Loading binary file \"binary-ecl/maxima-package.fas\"\n;;; Loading \"/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/binary-ecl/maxima-package.fas\"\n\nCondition of type: SEGMENTATION-VIOLATION\nDetected access to an invalid or protected memory address.\nAvailable restarts:\n\n1. (CONTINUE) Ignore signal\n2. (CONTINUE) Ignore initialization errors and continue.\n3. (ABORT) Quit ECL unsafely, ignoring all existing threads.\n\nTop level.\n>\n```\n\nand after `Ctrl-D` again,\n\n```\nmake[2]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'\ntest -z \"/home/newsagetest/sage-5.5.rc0/local/bin\" || mkdir -p -- \"/home/newsagetest/sage-5.5.rc0/local/bin\"\n /usr/bin/install -c 'maxima' '/home/newsagetest/sage-5.5.rc0/local/bin/maxima'\n /usr/bin/install -c 'maxima-command.ico' '/home/newsagetest/sage-5.5.rc0/local/bin/maxima-command.ico'\n /usr/bin/install -c 'maxima.bat' '/home/newsagetest/sage-5.5.rc0/local/bin/maxima.bat'\n /usr/bin/install -c 'set_lang.vbs' '/home/newsagetest/sage-5.5.rc0/local/bin/set_lang.vbs'\n/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/install-sh -d \"/home/newsagetest/sage-5.5.rc0/local/lib/maxima/5.26.0/binary-ecl\"\n/usr/bin/install -c binary-ecl/maxima \"/home/newsagetest/sage-5.5.rc0/local/lib/maxima/5.26.0/binary-ecl/maxima\"\n/usr/bin/install: cannot stat `binary-ecl/maxima': No such file or directory\nMakefile:3088: recipe for target `install-ecl' failed\nmake[2]: *** [install-ecl] Error 1\nmake[2]: Leaving directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'\nMakefile:676: recipe for target `install-am' failed\nmake[1]: *** [install-am] Error 2\nmake[1]: Leaving directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'\nMakefile:320: recipe for target `install-recursive' failed\nmake: *** [install-recursive] Error 1\n***********************************************************\nError: Failed to install Maxima.\n***********************************************************\n\nreal    7m38.501s\nuser    1m58.201s\nsys     1m37.148s\n************************************************************************\nError installing package maxima-5.26.0.p0\n************************************************************************\n```\n\nI have no idea why, especially since rebasing seems to have nothing to do with it even though there is this inaccessible comment.  There is indeed a `maxima-package.{fas,o}` in the build directory in `src/src/binary-ecl`, but I don't see any `maxima-system`.  Is this similar to the problem you had?  And if you have an idea on how to continue in the ECL debugger, that would be great - probably that is part of my problem...",
    "created_at": "2012-12-14T16:53:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160310",
    "user": "kcrisman"
}
```

This is after installing the 12.12.1 ECL and then *immediately* rebasing:

```
Summary:
ECL enabled. Executable name: "ecl"
default lisp: ecl
wish executable name: "wish"

Now building Maxima...
Making all in admin
make[1]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/admin'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/admin'
Making all in src
make[1]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'
test -d binary-ecl || mkdir binary-ecl
ecl -norc -eval '(progn (load "../lisp-utils/defsystem.lisp") (load "../lisp-utils/make-depends.lisp") (funcall (intern "CREATE-DEPENDENCY-FILE" :mk) "binary-ecl/maxima" "ecl-depends.mk") (quit))'
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/../lisp-utils/defsystem.lisp"
;;; Loading #P"/home/newsagetest/sage-5.5.rc0/local/lib/ecl/cmp.fas"
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/../lisp-utils/make-depends.lisp"
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima.system"
 cd .. && /bin/sh /home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/missing --run automake-1.9 --gnu  src/Makefile
/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/missing: line 52: automake-1.9: command not found
WARNING: `automake-1.9' is missing on your system.  You should only need it if
         you modified `Makefile.am', `acinclude.m4' or `configure.in'.
         You might want to install the `Automake' and `Perl' packages.
         Grab them from any GNU archive site.
 cd .. && /bin/sh ./config.status src/Makefile
config.status: creating src/Makefile
make[1]: Leaving directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'
make[1]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'
../admin/make_share_list
test -d binary-ecl || mkdir binary-ecl
ecl -norc -eval '(progn (load "../lisp-utils/defsystem.lisp") (funcall (intern (symbol-name :operate-on-system) :mk) "maxima" :compile :verbose t) (build-maxima-lib))' -eval '(ext:quit)'
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/../lisp-utils/defsystem.lisp"
;;; Loading #P"/home/newsagetest/sage-5.5.rc0/local/lib/ecl/cmp.fas"
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima.system"

;  - Compiling defsystem "maxima"
;    - Compiling module "package"
;      - Compiling source file
;        "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima-package.lisp"
;;;
;;; Compiling /home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima-package.lisp.
;;; OPTIMIZE levels: Safety=2, Space=0, Speed=3, Debug=2
;;;
;;; End of Pass 1.
;;; Finished compiling /home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima-package.lisp.
;;;

;      - Loading binary file "binary-ecl/maxima-package.fas"
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/binary-ecl/maxima-package.fas"

Condition of type: SEGMENTATION-VIOLATION
Detected access to an invalid or protected memory address.
Available restarts:

1. (CONTINUE) Ignore signal
2. (CONTINUE) Ignore initialization errors and continue.
3. (ABORT) Quit ECL unsafely, ignoring all existing threads.

Top level.
>
```

(I didn't include the configuration stuff.)

I couldn't get out of the debugger with `1` or `2` and so I just did `Ctrl-D`, which led to a lot more stuff, then 

```
make[1]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'
../admin/make_share_list
test -d binary-ecl || mkdir binary-ecl
ecl -norc -eval '(progn (load "../lisp-utils/defsystem.lisp") (funcall (intern (symbol-name :operate-on-system) :mk) "maxima" :compile :verbose t) (build-maxima-lib))' -eval '(ext:quit)'
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/../lisp-utils/defsystem.lisp"
;;; Loading #P"/home/newsagetest/sage-5.5.rc0/local/lib/ecl/cmp.fas"
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/maxima.system"

;  - Compiling defsystem "maxima"
;    - Compiling module "package"
;      - Loading binary file "binary-ecl/maxima-package.fas"
;;; Loading "/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src/binary-ecl/maxima-package.fas"

Condition of type: SEGMENTATION-VIOLATION
Detected access to an invalid or protected memory address.
Available restarts:

1. (CONTINUE) Ignore signal
2. (CONTINUE) Ignore initialization errors and continue.
3. (ABORT) Quit ECL unsafely, ignoring all existing threads.

Top level.
>
```

and after `Ctrl-D` again,

```
make[2]: Entering directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'
test -z "/home/newsagetest/sage-5.5.rc0/local/bin" || mkdir -p -- "/home/newsagetest/sage-5.5.rc0/local/bin"
 /usr/bin/install -c 'maxima' '/home/newsagetest/sage-5.5.rc0/local/bin/maxima'
 /usr/bin/install -c 'maxima-command.ico' '/home/newsagetest/sage-5.5.rc0/local/bin/maxima-command.ico'
 /usr/bin/install -c 'maxima.bat' '/home/newsagetest/sage-5.5.rc0/local/bin/maxima.bat'
 /usr/bin/install -c 'set_lang.vbs' '/home/newsagetest/sage-5.5.rc0/local/bin/set_lang.vbs'
/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/install-sh -d "/home/newsagetest/sage-5.5.rc0/local/lib/maxima/5.26.0/binary-ecl"
/usr/bin/install -c binary-ecl/maxima "/home/newsagetest/sage-5.5.rc0/local/lib/maxima/5.26.0/binary-ecl/maxima"
/usr/bin/install: cannot stat `binary-ecl/maxima': No such file or directory
Makefile:3088: recipe for target `install-ecl' failed
make[2]: *** [install-ecl] Error 1
make[2]: Leaving directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'
Makefile:676: recipe for target `install-am' failed
make[1]: *** [install-am] Error 2
make[1]: Leaving directory `/home/newsagetest/sage-5.5.rc0/spkg/build/maxima-5.26.0.p0/src/src'
Makefile:320: recipe for target `install-recursive' failed
make: *** [install-recursive] Error 1
***********************************************************
Error: Failed to install Maxima.
***********************************************************

real    7m38.501s
user    1m58.201s
sys     1m37.148s
************************************************************************
Error installing package maxima-5.26.0.p0
************************************************************************
```

I have no idea why, especially since rebasing seems to have nothing to do with it even though there is this inaccessible comment.  There is indeed a `maxima-package.{fas,o}` in the build directory in `src/src/binary-ecl`, but I don't see any `maxima-system`.  Is this similar to the problem you had?  And if you have an idea on how to continue in the ECL debugger, that would be great - probably that is part of my problem...



---

archive/issue_comments_160311.json:
```json
{
    "body": "That looks very scary and completely different from what I get.\n\nI think that in my case (on Cygwin, not on Linux where the problem looks different and much easier to solve), the compilation goes much further.",
    "created_at": "2012-12-14T17:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160311",
    "user": "jpflori"
}
```

That looks very scary and completely different from what I get.

I think that in my case (on Cygwin, not on Linux where the problem looks different and much easier to solve), the compilation goes much further.



---

archive/issue_comments_160312.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-12-14T17:28:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160312",
    "user": "jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_160313.json:
```json
{
    "body": "Ok here comes an updated 12.7.1 spkg.\nIt should be fine although I'm not sure anymore it properly compiles on my Cygwin.\n\nWe can postpone 12.12.1 to another ticket if it looks even more problematic.",
    "created_at": "2012-12-14T17:28:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160313",
    "user": "jpflori"
}
```

Ok here comes an updated 12.7.1 spkg.
It should be fine although I'm not sure anymore it properly compiles on my Cygwin.

We can postpone 12.12.1 to another ticket if it looks even more problematic.



---

archive/issue_comments_160314.json:
```json
{
    "body": "Spkg diff, for review only.",
    "created_at": "2012-12-14T17:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160314",
    "user": "jpflori"
}
```

Spkg diff, for review only.



---

archive/issue_comments_160315.json:
```json
{
    "body": "Attachment\n\nThe new 12.7.1 spkg looks fine on Linux.",
    "created_at": "2012-12-14T17:52:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160315",
    "user": "jpflori"
}
```

Attachment

The new 12.7.1 spkg looks fine on Linux.



---

archive/issue_comments_160316.json:
```json
{
    "body": "On my Cywgin (64 bits windows 7) I still get stuck when compiling SLATEC:DBESJ.\nNevertheless, I don't think it should be a blocker.\nThat may be some rebase or Cygwin crap.\nI'll try a clean install later, this one suffered too much.",
    "created_at": "2012-12-14T18:00:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160316",
    "user": "jpflori"
}
```

On my Cywgin (64 bits windows 7) I still get stuck when compiling SLATEC:DBESJ.
Nevertheless, I don't think it should be a blocker.
That may be some rebase or Cygwin crap.
I'll try a clean install later, this one suffered too much.



---

archive/issue_comments_160317.json:
```json
{
    "body": "Updated 12.12.1 spkg uploaded as well.\nBeware that Maxima will not get properly installed (and pretend to do so because the spkg-install script there is somehow broken) on all system including Linux.",
    "created_at": "2012-12-14T18:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160317",
    "user": "jpflori"
}
```

Updated 12.12.1 spkg uploaded as well.
Beware that Maxima will not get properly installed (and pretend to do so because the spkg-install script there is somehow broken) on all system including Linux.



---

archive/issue_comments_160318.json:
```json
{
    "body": "Spkg diff, for review only.",
    "created_at": "2012-12-14T18:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160318",
    "user": "jpflori"
}
```

Spkg diff, for review only.



---

archive/issue_comments_160319.json:
```json
{
    "body": "Attachment\n\nI don't seem to have the compilation problem with the old ecl 11-*cvs.p2 spkg I posted a long time ago...\nIt has not finished building Maxima 5.26.p0 yet but went through the problematic SLATEC:DBESJ.\nToo bad.\n\nBy the way, I did not need any rebase so far (for ECL or Maxima, I think the only one I did here was to start Sage, nothing needed before).\n\nMaybe we should go back to 12.2.1 if my problem disappears with it.",
    "created_at": "2012-12-14T18:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160319",
    "user": "jpflori"
}
```

Attachment

I don't seem to have the compilation problem with the old ecl 11-*cvs.p2 spkg I posted a long time ago...
It has not finished building Maxima 5.26.p0 yet but went through the problematic SLATEC:DBESJ.
Too bad.

By the way, I did not need any rebase so far (for ECL or Maxima, I think the only one I did here was to start Sage, nothing needed before).

Maybe we should go back to 12.2.1 if my problem disappears with it.



---

archive/issue_comments_160320.json:
```json
{
    "body": "I'm getting the same problem now even with 12.7.1.p0 now.  And in fact I think I had not tested the p0 spkg before with Sage 5.5.rc0, only with 5.4.rc2.  Aargh.  Is it possible that it's the changes in 12.7.1.p1 at #9167 actually fix the problem I'm having?  So far, that's the only one of the three that worked in building Maxima with 5.5.rc0.  And of course the old spkg you mention was fine.",
    "created_at": "2012-12-14T18:46:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160320",
    "user": "kcrisman"
}
```

I'm getting the same problem now even with 12.7.1.p0 now.  And in fact I think I had not tested the p0 spkg before with Sage 5.5.rc0, only with 5.4.rc2.  Aargh.  Is it possible that it's the changes in 12.7.1.p1 at #9167 actually fix the problem I'm having?  So far, that's the only one of the three that worked in building Maxima with 5.5.rc0.  And of course the old spkg you mention was fine.



---

archive/issue_comments_160321.json:
```json
{
    "body": "> I'm getting the same problem now even with 12.7.1.p0 now.  And in fact I think I had not tested the p0 spkg before with Sage 5.5.rc0, only with 5.4.rc2.  Aargh.  Is it possible that it's the changes in 12.7.1.p1 at #9167 actually fix the problem I'm having?  So far, that's the only one of the three that worked in building Maxima with 5.5.rc0.  And of course the old spkg you mention was fine.\nIndeed, the spkg at 12.7.1.p1 at #9167, even if it isn't 100% updated, is letting Maxima build normally.\n\nCan you provide a new spkg there based on your p0 here?  I don't see how that fixed things, but somehow it does.  So maybe this allows us to at least keep 12.7.1 instead of 12.2.1, though I would be open to that too...",
    "created_at": "2012-12-14T19:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160321",
    "user": "kcrisman"
}
```

> I'm getting the same problem now even with 12.7.1.p0 now.  And in fact I think I had not tested the p0 spkg before with Sage 5.5.rc0, only with 5.4.rc2.  Aargh.  Is it possible that it's the changes in 12.7.1.p1 at #9167 actually fix the problem I'm having?  So far, that's the only one of the three that worked in building Maxima with 5.5.rc0.  And of course the old spkg you mention was fine.
Indeed, the spkg at 12.7.1.p1 at #9167, even if it isn't 100% updated, is letting Maxima build normally.

Can you provide a new spkg there based on your p0 here?  I don't see how that fixed things, but somehow it does.  So maybe this allows us to at least keep 12.7.1 instead of 12.2.1, though I would be open to that too...



---

archive/issue_comments_160322.json:
```json
{
    "body": "Replying to [comment:92 kcrisman]:\n> I'm getting the same problem now even with 12.7.1.p0 now.  And in fact I think I had not tested the p0 spkg before with Sage 5.5.rc0, only with 5.4.rc2.  Aargh.  Is it possible that it's the changes in 12.7.1.p1 at #9167 actually fix the problem I'm having?  So far, that's the only one of the three that worked in building Maxima with 5.5.rc0.  And of course the old spkg you mention was fine.\nWhat same problem do you mean?\nGetting stuck at SLATE:DBESJ?\n\nBecause what #9167 deals with is completely unrelated.",
    "created_at": "2012-12-14T19:01:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160322",
    "user": "jpflori"
}
```

Replying to [comment:92 kcrisman]:
> I'm getting the same problem now even with 12.7.1.p0 now.  And in fact I think I had not tested the p0 spkg before with Sage 5.5.rc0, only with 5.4.rc2.  Aargh.  Is it possible that it's the changes in 12.7.1.p1 at #9167 actually fix the problem I'm having?  So far, that's the only one of the three that worked in building Maxima with 5.5.rc0.  And of course the old spkg you mention was fine.
What same problem do you mean?
Getting stuck at SLATE:DBESJ?

Because what #9167 deals with is completely unrelated.



---

archive/issue_comments_160323.json:
```json
{
    "body": "Changing from 5.5.rc0 to 5.4.rc2 also looks unrelated...\nReally strange.\n\nThe point here is that ECL gets stuck while compiling Maxima.\nAll the (other) pieces of Sage have nothing to do with that.",
    "created_at": "2012-12-14T19:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160323",
    "user": "jpflori"
}
```

Changing from 5.5.rc0 to 5.4.rc2 also looks unrelated...
Really strange.

The point here is that ECL gets stuck while compiling Maxima.
All the (other) pieces of Sage have nothing to do with that.



---

archive/issue_comments_160324.json:
```json
{
    "body": "With the 11.*cvs.p2 spkg, maxima was correctly built finally (without rebase!!)...\n\nI've uploaded a completely untested 12.2.1 spkg at\nhttp://boxen.math.washington.edu/home/jpflori/ecl-12.2.1.p0.spkg",
    "created_at": "2012-12-14T19:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160324",
    "user": "jpflori"
}
```

With the 11.*cvs.p2 spkg, maxima was correctly built finally (without rebase!!)...

I've uploaded a completely untested 12.2.1 spkg at
http://boxen.math.washington.edu/home/jpflori/ecl-12.2.1.p0.spkg



---

archive/issue_comments_160325.json:
```json
{
    "body": "Attachment\n\nSpkg diff, for review only.",
    "created_at": "2012-12-14T19:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160325",
    "user": "jpflori"
}
```

Attachment

Spkg diff, for review only.



---

archive/issue_comments_160326.json:
```json
{
    "body": "Replying to [comment:94 jpflori]:\n> Replying to [comment:92 kcrisman]:\n> > I'm getting the same problem now even with 12.7.1.p0 now.  And in fact I think I had not tested the p0 spkg before with Sage 5.5.rc0, only with 5.4.rc2.  Aargh.  Is it possible that it's the changes in 12.7.1.p1 at #9167 actually fix the problem I'm having?  So far, that's the only one of the three that worked in building Maxima with 5.5.rc0.  And of course the old spkg you mention was fine.\n> What same problem do you mean?\n\nNo, I mean the problem I had in comment:85, which you called \"very scary\".\n\n> I've uploaded a completely untested 12.2.1 spkg\nThis one doesn't need the signals stuff, I take it?",
    "created_at": "2012-12-14T19:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160326",
    "user": "kcrisman"
}
```

Replying to [comment:94 jpflori]:
> Replying to [comment:92 kcrisman]:
> > I'm getting the same problem now even with 12.7.1.p0 now.  And in fact I think I had not tested the p0 spkg before with Sage 5.5.rc0, only with 5.4.rc2.  Aargh.  Is it possible that it's the changes in 12.7.1.p1 at #9167 actually fix the problem I'm having?  So far, that's the only one of the three that worked in building Maxima with 5.5.rc0.  And of course the old spkg you mention was fine.
> What same problem do you mean?

No, I mean the problem I had in comment:85, which you called "very scary".

> I've uploaded a completely untested 12.2.1 spkg
This one doesn't need the signals stuff, I take it?



---

archive/issue_comments_160327.json:
```json
{
    "body": "Yup it still has an older signal handling code and our patch should not be needed (it does not apply whence my guess...).",
    "created_at": "2012-12-14T19:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160327",
    "user": "jpflori"
}
```

Yup it still has an older signal handling code and our patch should not be needed (it does not apply whence my guess...).



---

archive/issue_comments_160328.json:
```json
{
    "body": "With ECL 12.2.1, the Maxima spkg goes past SLATEC::DBESJ (not finished yet though).\nIf it is fine on XP as well, let's go with it for the time being.\n\nPotentially both our problems are incarnation of the same problem.\n\nWe should also try the 12.7.1 and 12.12.1 ECLs with the new Maxima 5.299.1 from #13364, who knows...\nIt might not fix the ECL bug if any, but make it so that it is not triggered for us.",
    "created_at": "2012-12-14T19:24:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160328",
    "user": "jpflori"
}
```

With ECL 12.2.1, the Maxima spkg goes past SLATEC::DBESJ (not finished yet though).
If it is fine on XP as well, let's go with it for the time being.

Potentially both our problems are incarnation of the same problem.

We should also try the 12.7.1 and 12.12.1 ECLs with the new Maxima 5.299.1 from #13364, who knows...
It might not fix the ECL bug if any, but make it so that it is not triggered for us.



---

archive/issue_comments_160329.json:
```json
{
    "body": "> With ECL 12.2.1, the Maxima spkg goes past SLATEC::DBESJ (not finished yet though).\n> If it is fine on XP as well, let's go with it for the time being.\nAgreed.\n> Potentially both our problems are incarnation of the same problem.\nI wouldn't be surprised.\n> We should also try the 12.7.1 and 12.12.1 ECLs with the new Maxima 5.299.1 from #13364, who knows...\n> It might not fix the ECL bug if any, but make it so that it is not triggered for us.\nAack!  I think I'm going to skip that for today.  Monday, if 12.2.1 doesn't help us.",
    "created_at": "2012-12-14T19:45:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160329",
    "user": "kcrisman"
}
```

> With ECL 12.2.1, the Maxima spkg goes past SLATEC::DBESJ (not finished yet though).
> If it is fine on XP as well, let's go with it for the time being.
Agreed.
> Potentially both our problems are incarnation of the same problem.
I wouldn't be surprised.
> We should also try the 12.7.1 and 12.12.1 ECLs with the new Maxima 5.299.1 from #13364, who knows...
> It might not fix the ECL bug if any, but make it so that it is not triggered for us.
Aack!  I think I'm going to skip that for today.  Monday, if 12.2.1 doesn't help us.



---

archive/issue_comments_160330.json:
```json
{
    "body": "> > If it is fine on XP as well, let's go with it for the time being.\n> Agreed.\nUnfortunately, same problem.  Only the ecl-11* spkg and the p1 spkg at #9167 work properly for me.  And that is reproducible.\n\nI have to go somewhere, but I'm going to at least set it to trying 12.2.1.p0 with #13364.  But I don't expect anything happy.\n\nAre you *sure* that the changes at #9167 wouldn't make a difference?  You do change where certain files are sent, and maybe that has some relation to it.",
    "created_at": "2012-12-14T20:01:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160330",
    "user": "kcrisman"
}
```

> > If it is fine on XP as well, let's go with it for the time being.
> Agreed.
Unfortunately, same problem.  Only the ecl-11* spkg and the p1 spkg at #9167 work properly for me.  And that is reproducible.

I have to go somewhere, but I'm going to at least set it to trying 12.2.1.p0 with #13364.  But I don't expect anything happy.

Are you *sure* that the changes at #9167 wouldn't make a difference?  You do change where certain files are sent, and maybe that has some relation to it.



---

archive/issue_comments_160331.json:
```json
{
    "body": "Maybe in your case, some file are not properly deleted and then you're using different versions of ECL and that segfaults.\nNot sure.\n\nI think the best to do is to try to build all of this outside of Sage, but that is more involved.\nOr relauunch a clean build with the new spkg directly in spkg/standard to avoid messing different versions together.\n\nIn my case, using 12.2.1, the Maxima 5.26.0 spkg installs cleanly.\nSo my problem was introduced between 12.2.1 and 12.7.1 if that's on the ECL side.\n\nAnd i now doubt both issues are related.",
    "created_at": "2012-12-14T20:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160331",
    "user": "jpflori"
}
```

Maybe in your case, some file are not properly deleted and then you're using different versions of ECL and that segfaults.
Not sure.

I think the best to do is to try to build all of this outside of Sage, but that is more involved.
Or relauunch a clean build with the new spkg directly in spkg/standard to avoid messing different versions together.

In my case, using 12.2.1, the Maxima 5.26.0 spkg installs cleanly.
So my problem was introduced between 12.2.1 and 12.7.1 if that's on the ECL side.

And i now doubt both issues are related.



---

archive/issue_comments_160332.json:
```json
{
    "body": "Nice chat... ;-)",
    "created_at": "2012-12-14T20:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160332",
    "user": "leif"
}
```

Nice chat... ;-)



---

archive/issue_comments_160333.json:
```json
{
    "body": "> And i now doubt both issues are related.\nThey must not be, because I get the same problem as before with 12.2.1 and Maxima 5.29.1.  Why not the p1 from #9167?  I don't understand...\n\nAnyway, I'll probably have just enough time to set up a completely new build from scratch with the 12.12.1 from this ticket to run over the weekend; since you have a clean fix (probably) for the Maxima library issue, maybe it just turned out my installation was somehow problematic.",
    "created_at": "2012-12-14T21:07:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160333",
    "user": "kcrisman"
}
```

> And i now doubt both issues are related.
They must not be, because I get the same problem as before with 12.2.1 and Maxima 5.29.1.  Why not the p1 from #9167?  I don't understand...

Anyway, I'll probably have just enough time to set up a completely new build from scratch with the 12.12.1 from this ticket to run over the weekend; since you have a clean fix (probably) for the Maxima library issue, maybe it just turned out my installation was somehow problematic.



---

archive/issue_comments_160334.json:
```json
{
    "body": "Replying to [comment:104 kcrisman]:\n> > And i now doubt both issues are related.\n> They must not be, because I get the same problem as before with 12.2.1 and Maxima 5.29.1.  Why not the p1 from #9167?  I don't understand...\nBecause I would not not understand why the fixes of #9167 could fix your problem.\nFrom what I understand, there really would be no reason.\nWhat I did in #9167 is just renaming some files produced when building ECL, and more precisely the most relevant thing is moving lib/ecl.dll to bin/cygecl.dll and creating a new lib/libecl.dll.a.\nAnd frankly I see no reason why this should prevent a segfault when building Maxima with ECL.\nMaybe it does, I cannot say it's not the case, but if it it is then I cannot say why...\n\nMy point was that if you got these differently named files (cygecl.dll and libecl.dll.a) and the customary one (ecl.dll), maybe somthing got mixed up and lead to a segfault, but that's just a guess.\n> \n> Anyway, I'll probably have just enough time to set up a completely new build from scratch with the 12.12.1 from this ticket to run over the weekend; since you have a clean fix (probably) for the Maxima library issue, maybe it just turned out my installation was somehow problematic.",
    "created_at": "2012-12-15T01:21:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160334",
    "user": "jpflori"
}
```

Replying to [comment:104 kcrisman]:
> > And i now doubt both issues are related.
> They must not be, because I get the same problem as before with 12.2.1 and Maxima 5.29.1.  Why not the p1 from #9167?  I don't understand...
Because I would not not understand why the fixes of #9167 could fix your problem.
From what I understand, there really would be no reason.
What I did in #9167 is just renaming some files produced when building ECL, and more precisely the most relevant thing is moving lib/ecl.dll to bin/cygecl.dll and creating a new lib/libecl.dll.a.
And frankly I see no reason why this should prevent a segfault when building Maxima with ECL.
Maybe it does, I cannot say it's not the case, but if it it is then I cannot say why...

My point was that if you got these differently named files (cygecl.dll and libecl.dll.a) and the customary one (ecl.dll), maybe somthing got mixed up and lead to a segfault, but that's just a guess.
> 
> Anyway, I'll probably have just enough time to set up a completely new build from scratch with the 12.12.1 from this ticket to run over the weekend; since you have a clean fix (probably) for the Maxima library issue, maybe it just turned out my installation was somehow problematic.



---

archive/issue_comments_160335.json:
```json
{
    "body": "Good news, upstream found the cause of my problem and a fix is on the way.\n\nSo if we clear the other issue or confirm its bad interaction between different versions of ECL, we can go ahead with 12.12.1!",
    "created_at": "2012-12-15T01:24:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160335",
    "user": "jpflori"
}
```

Good news, upstream found the cause of my problem and a fix is on the way.

So if we clear the other issue or confirm its bad interaction between different versions of ECL, we can go ahead with 12.12.1!



---

archive/issue_comments_160336.json:
```json
{
    "body": "> Because I would not not understand why the fixes of #9167 could fix your problem.\n> What I did in #9167 is just renaming some files produced when building ECL, and more precisely the most relevant thing is moving lib/ecl.dll to bin/cygecl.dll and creating a new lib/libecl.dll.a.\n> My point was that if you got these differently named files (cygecl.dll and libecl.dll.a) and the customary one (ecl.dll), maybe somthing got mixed up and lead to a segfault, but that's just a guess.\nI see, that's what you were saying.  I can believe that having the new files along with the usual one would do that, since it was similar conflicts that led to other messes on Cygwin.  I had compiled it first with the package from #9167 before trying all of these.  So your diagnosis that #9167 wasn't solving a problem, but that doing these was causing it, seems reasonable.\n\nIf so, could this cause problems on upgrade on Cygwin?  Not that we are expecting Cygwin users to do upgrades necessarily.\n\nAnyway, I'll try to get by that machine on Monday and see how it did over the weekend with the compile from scratch with 12.12.1!  Then we can test it quick on some Macs (you have Linux covered, I guess) and hopefully get this positive review as well.",
    "created_at": "2012-12-15T01:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160336",
    "user": "kcrisman"
}
```

> Because I would not not understand why the fixes of #9167 could fix your problem.
> What I did in #9167 is just renaming some files produced when building ECL, and more precisely the most relevant thing is moving lib/ecl.dll to bin/cygecl.dll and creating a new lib/libecl.dll.a.
> My point was that if you got these differently named files (cygecl.dll and libecl.dll.a) and the customary one (ecl.dll), maybe somthing got mixed up and lead to a segfault, but that's just a guess.
I see, that's what you were saying.  I can believe that having the new files along with the usual one would do that, since it was similar conflicts that led to other messes on Cygwin.  I had compiled it first with the package from #9167 before trying all of these.  So your diagnosis that #9167 wasn't solving a problem, but that doing these was causing it, seems reasonable.

If so, could this cause problems on upgrade on Cygwin?  Not that we are expecting Cygwin users to do upgrades necessarily.

Anyway, I'll try to get by that machine on Monday and see how it did over the weekend with the compile from scratch with 12.12.1!  Then we can test it quick on some Macs (you have Linux covered, I guess) and hopefully get this positive review as well.



---

archive/issue_comments_160337.json:
```json
{
    "body": "The problem I encountered should be fixed by upstream commit at\nhttp://sourceforge.net/p/ecls/ecl/ci/13459a98f0c0c58ccc4e9241c3bf0625e39f2383/\n\nSee the discussion as well\nhttp://sourceforge.net/mailarchive/message.php?msg_id=30231870\n\nI'll post a new 12.12.1 spkg over the weekend because I feel we can finally target this release.",
    "created_at": "2012-12-15T11:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160337",
    "user": "jpflori"
}
```

The problem I encountered should be fixed by upstream commit at
http://sourceforge.net/p/ecls/ecl/ci/13459a98f0c0c58ccc4e9241c3bf0625e39f2383/

See the discussion as well
http://sourceforge.net/mailarchive/message.php?msg_id=30231870

I'll post a new 12.12.1 spkg over the weekend because I feel we can finally target this release.



---

archive/issue_comments_160338.json:
```json
{
    "body": "Attachment\n\nSpkg diff, for review only.",
    "created_at": "2012-12-15T12:51:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160338",
    "user": "jpflori"
}
```

Attachment

Spkg diff, for review only.



---

archive/issue_comments_160339.json:
```json
{
    "body": "New spkg with upstream patch for infinite loops.\n\nMaxima spkg will need modification.",
    "created_at": "2012-12-15T12:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160339",
    "user": "jpflori"
}
```

New spkg with upstream patch for infinite loops.

Maxima spkg will need modification.



---

archive/issue_comments_160340.json:
```json
{
    "body": "FWIW, the (vanilla upstream?) patch to `src/lsp/format.lsp` in the current 12.12.1.p0 spkg applies with fuzz 2 ...\n\n(Most probably harmless, but we should fix that for a final spkg I think.)",
    "created_at": "2012-12-15T13:48:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160340",
    "user": "leif"
}
```

FWIW, the (vanilla upstream?) patch to `src/lsp/format.lsp` in the current 12.12.1.p0 spkg applies with fuzz 2 ...

(Most probably harmless, but we should fix that for a final spkg I think.)



---

archive/issue_comments_160341.json:
```json
{
    "body": "Yes the fuzz is harmless.\nI'll fix it if that's the only blocker.",
    "created_at": "2012-12-15T18:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160341",
    "user": "jpflori"
}
```

Yes the fuzz is harmless.
I'll fix it if that's the only blocker.



---

archive/issue_comments_160342.json:
```json
{
    "body": "Replying to [comment:112 jpflori]:\n> Yes the fuzz is harmless.\n> I'll fix it if that's the only blocker.\n\nWell, to me that's certainly not a blocker.  (But I'm not sure whether Jeroen's merger will catch that, rejecting the spkg -- fuzz 2 is \"forbidden\" for Sage library patches at least.)\n\nI could probably take a look at the spkg (which I haven't done yet), but positive review needs to be given by some Cygwin guru (like Karl-Dieter) I think.",
    "created_at": "2012-12-15T19:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160342",
    "user": "leif"
}
```

Replying to [comment:112 jpflori]:
> Yes the fuzz is harmless.
> I'll fix it if that's the only blocker.

Well, to me that's certainly not a blocker.  (But I'm not sure whether Jeroen's merger will catch that, rejecting the spkg -- fuzz 2 is "forbidden" for Sage library patches at least.)

I could probably take a look at the spkg (which I haven't done yet), but positive review needs to be given by some Cygwin guru (like Karl-Dieter) I think.



---

archive/issue_comments_160343.json:
```json
{
    "body": "> I could probably take a look at the spkg (which I haven't done yet), \nPlease do! It would be very helpful to have another eye on it.\n> but positive review needs to be given by some Cygwin guru (like Karl-Dieter) I think.\nI am only a Cygwin guru in the sense that I am a PPC Mac guru - I have access to such a machine and am stubborn enough to try building Sage on the platform, many, many times.",
    "created_at": "2012-12-16T02:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160343",
    "user": "kcrisman"
}
```

> I could probably take a look at the spkg (which I haven't done yet), 
Please do! It would be very helpful to have another eye on it.
> but positive review needs to be given by some Cygwin guru (like Karl-Dieter) I think.
I am only a Cygwin guru in the sense that I am a PPC Mac guru - I have access to such a machine and am stubborn enough to try building Sage on the platform, many, many times.



---

archive/issue_comments_160344.json:
```json
{
    "body": "Replying to [comment:114 kcrisman]:\n> > I could probably take a look at the spkg (which I haven't done yet), \n> Please do! It would be very helpful to have another eye on it.\n> > but positive review needs to be given by some Cygwin guru (like Karl-Dieter) I think.\n> I am only a Cygwin guru in the sense that I am a PPC Mac guru - I have access to such a machine and am stubborn enough to try building Sage on the platform, many, many times.\nI say that count  for your guru status.",
    "created_at": "2012-12-16T03:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160344",
    "user": "fbissey"
}
```

Replying to [comment:114 kcrisman]:
> > I could probably take a look at the spkg (which I haven't done yet), 
> Please do! It would be very helpful to have another eye on it.
> > but positive review needs to be given by some Cygwin guru (like Karl-Dieter) I think.
> I am only a Cygwin guru in the sense that I am a PPC Mac guru - I have access to such a machine and am stubborn enough to try building Sage on the platform, many, many times.
I say that count  for your guru status.



---

archive/issue_comments_160345.json:
```json
{
    "body": "Here comes a new spkg without fuzz.",
    "created_at": "2012-12-17T10:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160345",
    "user": "jpflori"
}
```

Here comes a new spkg without fuzz.



---

archive/issue_comments_160346.json:
```json
{
    "body": "Spkg diff, for review only.",
    "created_at": "2012-12-17T10:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160346",
    "user": "jpflori"
}
```

Spkg diff, for review only.



---

archive/issue_comments_160347.json:
```json
{
    "body": "Attachment\n\n> Anyway, I'll try to get by that machine on Monday and see how it did over the weekend with the compile from scratch with 12.12.1!  Then we can test it quick on some Macs (you have Linux covered, I guess) and hopefully get this positive review as well.\n\nOkay, ecl-12.12.1.p0 built over the weekend and maxima-5.26.0.p0 built with it.  The Sage library failed but that was expected due to the various patches needed.  I'm trying 5.29.1.p0 now.",
    "created_at": "2012-12-17T13:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160347",
    "user": "kcrisman"
}
```

Attachment

> Anyway, I'll try to get by that machine on Monday and see how it did over the weekend with the compile from scratch with 12.12.1!  Then we can test it quick on some Macs (you have Linux covered, I guess) and hopefully get this positive review as well.

Okay, ecl-12.12.1.p0 built over the weekend and maxima-5.26.0.p0 built with it.  The Sage library failed but that was expected due to the various patches needed.  I'm trying 5.29.1.p0 now.



---

archive/issue_comments_160348.json:
```json
{
    "body": "> Okay, ecl-12.12.1.p0 built over the weekend and maxima-5.26.0.p0 built with it.  The Sage library failed but that was expected due to the various patches needed.  I'm trying 5.29.1.p0 now.\nThat installed fine in a build from scratch, and `./sage -maxima` works.  So hopefully the problem was the name clash earlier.",
    "created_at": "2012-12-17T15:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160348",
    "user": "kcrisman"
}
```

> Okay, ecl-12.12.1.p0 built over the weekend and maxima-5.26.0.p0 built with it.  The Sage library failed but that was expected due to the various patches needed.  I'm trying 5.29.1.p0 now.
That installed fine in a build from scratch, and `./sage -maxima` works.  So hopefully the problem was the name clash earlier.



---

archive/issue_comments_160349.json:
```json
{
    "body": "Replying to [comment:116 jpflori]:\n> Here comes a new spkg without fuzz.\n\nOk.  Still not sure whether the way the Maxima library now crashes Sage (cf. #13364) is caused by the new ECL, just our interface, or both...\n\nAt least the ticket description mentions new (or better) interrupt handling; haven't looked at that though.",
    "created_at": "2012-12-17T19:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160349",
    "user": "leif"
}
```

Replying to [comment:116 jpflori]:
> Here comes a new spkg without fuzz.

Ok.  Still not sure whether the way the Maxima library now crashes Sage (cf. #13364) is caused by the new ECL, just our interface, or both...

At least the ticket description mentions new (or better) interrupt handling; haven't looked at that though.



---

archive/issue_comments_160350.json:
```json
{
    "body": "Replying to [comment:119 leif]:\n> Replying to [comment:116 jpflori]:\n> > Here comes a new spkg without fuzz.\n> \n> Ok.  Still not sure whether the way the Maxima library now crashes Sage (cf. #13364) is caused by the new ECL, just our interface, or both...\n> \n> At least the ticket description mentions new (or better) interrupt handling; haven't looked at that though.\n\nI think we have pretty much established that ecl is not the problem since we have reproduced the crash in maxima with at least 3 different lisp interpreters (ecl, clisp and sbcl).",
    "created_at": "2012-12-17T20:28:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160350",
    "user": "fbissey"
}
```

Replying to [comment:119 leif]:
> Replying to [comment:116 jpflori]:
> > Here comes a new spkg without fuzz.
> 
> Ok.  Still not sure whether the way the Maxima library now crashes Sage (cf. #13364) is caused by the new ECL, just our interface, or both...
> 
> At least the ticket description mentions new (or better) interrupt handling; haven't looked at that though.

I think we have pretty much established that ecl is not the problem since we have reproduced the crash in maxima with at least 3 different lisp interpreters (ecl, clisp and sbcl).



---

archive/issue_comments_160351.json:
```json
{
    "body": "Replying to [comment:120 fbissey]:\n> Replying to [comment:119 leif]:\n> > Still not sure whether the way the Maxima library now crashes Sage (cf. #13364) is caused by the new ECL, just our interface, or both...\n> > \n> > At least the ticket description mentions new (or better) interrupt handling; haven't looked at that though.\n> \n> I think we have pretty much established that ecl is not the problem since we have reproduced the crash in maxima with at least 3 different lisp interpreters (ecl, clisp and sbcl).\n\nWell, still IMHO *Sage* should catch the segfault (or whatever).\n\n[Note that CLISP IIRC detected a (Lisp) *stack overflow*, which ECL did only on some systems; to me this is pretty different to a few thousand times issuing \"access to protected memory detected\", finally really crashing with an uncatched segfault.]",
    "created_at": "2012-12-17T20:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160351",
    "user": "leif"
}
```

Replying to [comment:120 fbissey]:
> Replying to [comment:119 leif]:
> > Still not sure whether the way the Maxima library now crashes Sage (cf. #13364) is caused by the new ECL, just our interface, or both...
> > 
> > At least the ticket description mentions new (or better) interrupt handling; haven't looked at that though.
> 
> I think we have pretty much established that ecl is not the problem since we have reproduced the crash in maxima with at least 3 different lisp interpreters (ecl, clisp and sbcl).

Well, still IMHO *Sage* should catch the segfault (or whatever).

[Note that CLISP IIRC detected a (Lisp) *stack overflow*, which ECL did only on some systems; to me this is pretty different to a few thousand times issuing "access to protected memory detected", finally really crashing with an uncatched segfault.]



---

archive/issue_comments_160352.json:
```json
{
    "body": "Just for your information leif this is what sbcl says:\n\n```\nMaxima 5.29.1 http://maxima.sourceforge.net\nusing Lisp SBCL 1.0.55\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) load(abs_integrate);\nSTYLE-WARNING: redefining MAXIMA::OPAPPLY in DEFMACRO\nSTYLE-WARNING: redefining MAXIMA::OPCONS in DEFMACRO\nSTYLE-WARNING: redefining MAXIMA::SIMP-ISREAL-P in DEFUN\n(%o1) /usr/share/maxima/5.29.1/share/contrib/integration/abs_integrate.mac\n(%i2)  integrate(abs(sin(x)),x,0,2*%pi);\nINFO: Control stack guard page unprotected\nControl stack guard page temporarily disabled: proceed with caution\n\nMaxima encountered a Lisp error:\n\n Control stack exhausted (no more space for function call frames).\nThis is probably due to heavily nested or infinitely recursive function\ncalls, or a tail call that SBCL cannot or has not optimized away.\n\nPROCEED WITH CAUTION.\n\nAutomatically continuing.\nTo enable the Lisp debugger set *debugger-hook* to nil.\n(%i3)\n```\n\nNote that with sbcl the crash is rather graceful in that maxima is still running.",
    "created_at": "2012-12-17T22:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160352",
    "user": "fbissey"
}
```

Just for your information leif this is what sbcl says:

```
Maxima 5.29.1 http://maxima.sourceforge.net
using Lisp SBCL 1.0.55
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) load(abs_integrate);
STYLE-WARNING: redefining MAXIMA::OPAPPLY in DEFMACRO
STYLE-WARNING: redefining MAXIMA::OPCONS in DEFMACRO
STYLE-WARNING: redefining MAXIMA::SIMP-ISREAL-P in DEFUN
(%o1) /usr/share/maxima/5.29.1/share/contrib/integration/abs_integrate.mac
(%i2)  integrate(abs(sin(x)),x,0,2*%pi);
INFO: Control stack guard page unprotected
Control stack guard page temporarily disabled: proceed with caution

Maxima encountered a Lisp error:

 Control stack exhausted (no more space for function call frames).
This is probably due to heavily nested or infinitely recursive function
calls, or a tail call that SBCL cannot or has not optimized away.

PROCEED WITH CAUTION.

Automatically continuing.
To enable the Lisp debugger set *debugger-hook* to nil.
(%i3)
```

Note that with sbcl the crash is rather graceful in that maxima is still running.



---

archive/issue_comments_160353.json:
```json
{
    "body": "Replying to [comment:122 fbissey]:\n> Note that with sbcl the crash is rather graceful in that maxima is still running.\n\nYes, that's nearly what I meant.  I think -- if ECL doesn't [properly] -- Sage should catch the segfault, abort the current computation, and [ideally] return to the `sage:` prompt.\n\nSo, as I see it, ECL currently doesn't properly detect or handle the stack overflow (returning with an error instead of doing whatever it currently tries to, if the behavior is [partially] intentional at all), nor does Sage catch the segfault apparently because ECL installs its own signal handler(s).",
    "created_at": "2012-12-17T22:22:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160353",
    "user": "leif"
}
```

Replying to [comment:122 fbissey]:
> Note that with sbcl the crash is rather graceful in that maxima is still running.

Yes, that's nearly what I meant.  I think -- if ECL doesn't [properly] -- Sage should catch the segfault, abort the current computation, and [ideally] return to the `sage:` prompt.

So, as I see it, ECL currently doesn't properly detect or handle the stack overflow (returning with an error instead of doing whatever it currently tries to, if the behavior is [partially] intentional at all), nor does Sage catch the segfault apparently because ECL installs its own signal handler(s).



---

archive/issue_comments_160354.json:
```json
{
    "body": "I'll report the uncaught error to upstream ECL.\nReaction happens quite quickly usually.",
    "created_at": "2012-12-17T22:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160354",
    "user": "jpflori"
}
```

I'll report the uncaught error to upstream ECL.
Reaction happens quite quickly usually.



---

archive/issue_comments_160355.json:
```json
{
    "body": "Dima's Maxima 5.26.0.p1 spkg from #13860 builds with the old (our current) as well as the new ECL from here.",
    "created_at": "2012-12-24T17:14:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160355",
    "user": "leif"
}
```

Dima's Maxima 5.26.0.p1 spkg from #13860 builds with the old (our current) as well as the new ECL from here.



---

archive/issue_comments_160356.json:
```json
{
    "body": "> I'll report the uncaught error to upstream ECL.\n> Reaction happens quite quickly usually.\nWhat is the status of this ticket?  I can't help on the Cygwin side for a while yet but am happy to do any sage.math or recent Mac testing.  Is it \"needs work\" on the uncaught error?  And is there a link to the upstream report?  Just trying to gauge the status, thanks.",
    "created_at": "2012-12-29T03:53:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160356",
    "user": "kcrisman"
}
```

> I'll report the uncaught error to upstream ECL.
> Reaction happens quite quickly usually.
What is the status of this ticket?  I can't help on the Cygwin side for a while yet but am happy to do any sage.math or recent Mac testing.  Is it "needs work" on the uncaught error?  And is there a link to the upstream report?  Just trying to gauge the status, thanks.



---

archive/issue_comments_160357.json:
```json
{
    "body": "Replying to [comment:127 kcrisman]:\n> > I'll report the uncaught error to upstream ECL.\n> > Reaction happens quite quickly usually.\n> What is the status of this ticket?  I can't help on the Cygwin side for a while yet but am happy to do any sage.math or recent Mac testing.  Is it \"needs work\" on the uncaught error?  And is there a link to the upstream report?  Just trying to gauge the status, thanks.\n\n[here](http://www.mail-archive.com/ecls-list`@`lists.sourceforge.net/msg02367.html) you can see an easy way to reproduce this using only ECL and the latest Maxima. There was no reaction from upstream. Although the ECL maintainer  [says](http://www.mail-archive.com/ecls-list`@`lists.sourceforge.net/msg02391.html) he's not doing a lot on ECL now. Probably one has to file a proper detailed bug report via an appropriate SF bug tracker. \n\nHowever, I am not really sure ECL must fix this. Indeed, this is caused by a bug in maxima, a compiled component. I don't see why one should demand more grace from a Lisp compiler than from a C compiler. The maxima bug can [apparently](http://sourceforge.net/p/maxima/bugs/2520/?limit=10&page=1#e3a5) be [patched](http://sourceforge.net/p/maxima/bugs/_discuss/thread/5a346754/e3a5/attachment/0001-taylor2-Avoid-blowing-the-stack-when-diff-expand-isn.patch).",
    "created_at": "2012-12-29T04:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160357",
    "user": "dimpase"
}
```

Replying to [comment:127 kcrisman]:
> > I'll report the uncaught error to upstream ECL.
> > Reaction happens quite quickly usually.
> What is the status of this ticket?  I can't help on the Cygwin side for a while yet but am happy to do any sage.math or recent Mac testing.  Is it "needs work" on the uncaught error?  And is there a link to the upstream report?  Just trying to gauge the status, thanks.

[here](http://www.mail-archive.com/ecls-list`@`lists.sourceforge.net/msg02367.html) you can see an easy way to reproduce this using only ECL and the latest Maxima. There was no reaction from upstream. Although the ECL maintainer  [says](http://www.mail-archive.com/ecls-list`@`lists.sourceforge.net/msg02391.html) he's not doing a lot on ECL now. Probably one has to file a proper detailed bug report via an appropriate SF bug tracker. 

However, I am not really sure ECL must fix this. Indeed, this is caused by a bug in maxima, a compiled component. I don't see why one should demand more grace from a Lisp compiler than from a C compiler. The maxima bug can [apparently](http://sourceforge.net/p/maxima/bugs/2520/?limit=10&page=1#e3a5) be [patched](http://sourceforge.net/p/maxima/bugs/_discuss/thread/5a346754/e3a5/attachment/0001-taylor2-Avoid-blowing-the-stack-when-diff-expand-isn.patch).



---

archive/issue_comments_160358.json:
```json
{
    "body": "Just updating things slightly since the needed Maxima changes are in 5.6.beta2.  Note that #13364 (Maxima upgrade) is now ready as well.",
    "created_at": "2013-01-03T20:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160358",
    "user": "kcrisman"
}
```

Just updating things slightly since the needed Maxima changes are in 5.6.beta2.  Note that #13364 (Maxima upgrade) is now ready as well.



---

archive/issue_comments_160359.json:
```json
{
    "body": "Replying to [comment:128 dimpase]:\n> However, I am not really sure ECL must fix this. Indeed, this is caused by a bug in maxima, a compiled component. I don't see why one should demand more grace from a Lisp compiler than from a C compiler. The maxima bug can [apparently](http://sourceforge.net/p/maxima/bugs/2520/?limit=10&page=1#e3a5) be [patched](http://sourceforge.net/p/maxima/bugs/_discuss/thread/5a346754/e3a5/attachment/0001-taylor2-Avoid-blowing-the-stack-when-diff-expand-isn.patch). \nI agree.\n\nSo would you consider positive review this?",
    "created_at": "2013-01-04T10:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160359",
    "user": "jpflori"
}
```

Replying to [comment:128 dimpase]:
> However, I am not really sure ECL must fix this. Indeed, this is caused by a bug in maxima, a compiled component. I don't see why one should demand more grace from a Lisp compiler than from a C compiler. The maxima bug can [apparently](http://sourceforge.net/p/maxima/bugs/2520/?limit=10&page=1#e3a5) be [patched](http://sourceforge.net/p/maxima/bugs/_discuss/thread/5a346754/e3a5/attachment/0001-taylor2-Avoid-blowing-the-stack-when-diff-expand-isn.patch). 
I agree.

So would you consider positive review this?



---

archive/issue_comments_160360.json:
```json
{
    "body": "Replying to [comment:130 jpflori]:\n> Replying to [comment:128 dimpase]:\n> > However, I am not really sure ECL must fix this. Indeed, this is caused by a bug in maxima, a compiled component. I don't see why one should demand more grace from a Lisp compiler than from a C compiler. The maxima bug can [apparently](http://sourceforge.net/p/maxima/bugs/2520/?limit=10&page=1#e3a5) be [patched](http://sourceforge.net/p/maxima/bugs/_discuss/thread/5a346754/e3a5/attachment/0001-taylor2-Avoid-blowing-the-stack-when-diff-expand-isn.patch). \n> I agree.\n> \n> So would you consider positive review this?\n\nI would prefer maxima being updated (#13364) first. Otherwise it's double work.",
    "created_at": "2013-01-05T03:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160360",
    "user": "dimpase"
}
```

Replying to [comment:130 jpflori]:
> Replying to [comment:128 dimpase]:
> > However, I am not really sure ECL must fix this. Indeed, this is caused by a bug in maxima, a compiled component. I don't see why one should demand more grace from a Lisp compiler than from a C compiler. The maxima bug can [apparently](http://sourceforge.net/p/maxima/bugs/2520/?limit=10&page=1#e3a5) be [patched](http://sourceforge.net/p/maxima/bugs/_discuss/thread/5a346754/e3a5/attachment/0001-taylor2-Avoid-blowing-the-stack-when-diff-expand-isn.patch). 
> I agree.
> 
> So would you consider positive review this?

I would prefer maxima being updated (#13364) first. Otherwise it's double work.



---

archive/issue_comments_160361.json:
```json
{
    "body": "> > So would you consider positive review this?\n> \n> I would prefer maxima being updated (#13364) first. Otherwise it's double work. \n\nGood point.  So... making #13364 a dependency.  Would that satisfy you?",
    "created_at": "2013-01-05T03:33:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160361",
    "user": "kcrisman"
}
```

> > So would you consider positive review this?
> 
> I would prefer maxima being updated (#13364) first. Otherwise it's double work. 

Good point.  So... making #13364 a dependency.  Would that satisfy you?



---

archive/issue_comments_160362.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-08T10:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160362",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_160363.json:
```json
{
    "body": "looks good, positive review.",
    "created_at": "2013-01-08T10:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160363",
    "user": "dimpase"
}
```

looks good, positive review.



---

archive/issue_comments_160364.json:
```json
{
    "body": "I am moving this to sage-5.7, such that maxima can be merged in sage-5.6 (hopefully) and receive some more testing before ECL is merged.",
    "created_at": "2013-01-08T10:57:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160364",
    "user": "jdemeyer"
}
```

I am moving this to sage-5.7, such that maxima can be merged in sage-5.6 (hopefully) and receive some more testing before ECL is merged.



---

archive/issue_comments_160365.json:
```json
{
    "body": "Replying to [comment:134 jdemeyer]:\n> I am moving this to sage-5.7, such that maxima can be merged in sage-5.6 (hopefully) and receive some more testing before ECL is merged.\n\nWell, we actually intended the opposite order, the main reason for #13860.",
    "created_at": "2013-01-08T14:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160365",
    "user": "leif"
}
```

Replying to [comment:134 jdemeyer]:
> I am moving this to sage-5.7, such that maxima can be merged in sage-5.6 (hopefully) and receive some more testing before ECL is merged.

Well, we actually intended the opposite order, the main reason for #13860.



---

archive/issue_comments_160366.json:
```json
{
    "body": "Testing on the buildbot showed the following non-reproducible timeout on bsd (OS X 10.6 x86_64):\n\n```\nsage -t  -force_lib devel/sage/sage/interfaces/lisp.py\n*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n\n\t [360.6 s]\n```\n\nI have never before seen this file timeout, normally it should only take a few seconds.",
    "created_at": "2013-01-10T13:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160366",
    "user": "jdemeyer"
}
```

Testing on the buildbot showed the following non-reproducible timeout on bsd (OS X 10.6 x86_64):

```
sage -t  -force_lib devel/sage/sage/interfaces/lisp.py
*** *** Error: TIMED OUT! PROCESS KILLED! *** ***

	 [360.6 s]
```

I have never before seen this file timeout, normally it should only take a few seconds.



---

archive/issue_comments_160367.json:
```json
{
    "body": "This happens on other systems as well, rosemary (RHEL 5.6 x86_64):\n\n```\nsage -t  --long -force_lib devel/sage/sage/interfaces/lisp.py\n*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n\n\t [1800.2 s]\n```\n",
    "created_at": "2013-01-10T14:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160367",
    "user": "jdemeyer"
}
```

This happens on other systems as well, rosemary (RHEL 5.6 x86_64):

```
sage -t  --long -force_lib devel/sage/sage/interfaces/lisp.py
*** *** Error: TIMED OUT! PROCESS KILLED! *** ***

	 [1800.2 s]
```




---

archive/issue_comments_160368.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-01-10T14:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160368",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_160369.json:
```json
{
    "body": "On rosemary, I did 1000 tests (without `--long`) of `lisp.py` and 5 of them timed out.",
    "created_at": "2013-01-10T15:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160369",
    "user": "jdemeyer"
}
```

On rosemary, I did 1000 tests (without `--long`) of `lisp.py` and 5 of them timed out.



---

archive/issue_comments_160370.json:
```json
{
    "body": "Again with `--verbose`, several equal timeouts:\n\n```\nsage -t --verbose \"devel/sage/sage/interfaces/lisp.py\"\n[...]\nTrying:\n    lisp.version()###line 294:_sage_    >>> lisp.version()\nExpecting:\n    'Version information is given by lisp.console().'\nok\nTrying:\n    sig_on_count()\nExpecting:\n    0\nok\nTrying:\n    set_random_seed(0L)\nExpecting nothin*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n\n         [360.1 s]\n\n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t --verbose \"devel/sage/sage/interfaces/lisp.py\" # Time out\nTotal time for all tests: 360.2 seconds\n\n```\n",
    "created_at": "2013-01-10T21:29:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160370",
    "user": "jdemeyer"
}
```

Again with `--verbose`, several equal timeouts:

```
sage -t --verbose "devel/sage/sage/interfaces/lisp.py"
[...]
Trying:
    lisp.version()###line 294:_sage_    >>> lisp.version()
Expecting:
    'Version information is given by lisp.console().'
ok
Trying:
    sig_on_count()
Expecting:
    0
ok
Trying:
    set_random_seed(0L)
Expecting nothin*** *** Error: TIMED OUT! PROCESS KILLED! *** ***

         [360.1 s]

----------------------------------------------------------------------
The following tests failed:


        sage -t --verbose "devel/sage/sage/interfaces/lisp.py" # Time out
Total time for all tests: 360.2 seconds

```




---

archive/issue_comments_160371.json:
```json
{
    "body": "Replying to [comment:140 jdemeyer]:\n> Again with `--verbose`, several equal timeouts:\n> {{{\n> ...\n> Trying:\n>     set_random_seed(0L)\n> Expecting nothin*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n> \n>          [360.1 s]\n> \n> ----------------------------------------------------------------------\n> The following tests failed:\n> \n> \n>         sage -t --verbose \"devel/sage/sage/interfaces/lisp.py\" # Time out\n> Total time for all tests: 360.2 seconds\n> \n> }}}\nWhere does this come from?\nThere is no `set_random_seed()` call in `devel/sage/sage/interfaces/lisp.py` in `Sage 5.6.beta2`.",
    "created_at": "2013-01-11T06:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160371",
    "user": "dimpase"
}
```

Replying to [comment:140 jdemeyer]:
> Again with `--verbose`, several equal timeouts:
> {{{
> ...
> Trying:
>     set_random_seed(0L)
> Expecting nothin*** *** Error: TIMED OUT! PROCESS KILLED! *** ***
> 
>          [360.1 s]
> 
> ----------------------------------------------------------------------
> The following tests failed:
> 
> 
>         sage -t --verbose "devel/sage/sage/interfaces/lisp.py" # Time out
> Total time for all tests: 360.2 seconds
> 
> }}}
Where does this come from?
There is no `set_random_seed()` call in `devel/sage/sage/interfaces/lisp.py` in `Sage 5.6.beta2`.



---

archive/issue_comments_160372.json:
```json
{
    "body": "`set_random_seed()` is added by the doctesting script.",
    "created_at": "2013-01-11T07:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160372",
    "user": "jdemeyer"
}
```

`set_random_seed()` is added by the doctesting script.



---

archive/issue_comments_160373.json:
```json
{
    "body": "Replying to [comment:142 jdemeyer]:\n> `set_random_seed()` is added by the doctesting script.\n\nOK, but still, what is the docstring called, which leads to this?",
    "created_at": "2013-01-11T07:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160373",
    "user": "dimpase"
}
```

Replying to [comment:142 jdemeyer]:
> `set_random_seed()` is added by the doctesting script.

OK, but still, what is the docstring called, which leads to this?



---

archive/issue_comments_160374.json:
```json
{
    "body": "I don't know because of output buffering (note the \"nothin\").  I am running 1000 verbose tests again, but with\n\n```\nPYTHONUNBUFFERED=yes\n```\n",
    "created_at": "2013-01-11T07:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160374",
    "user": "jdemeyer"
}
```

I don't know because of output buffering (note the "nothin").  I am running 1000 verbose tests again, but with

```
PYTHONUNBUFFERED=yes
```




---

archive/issue_comments_160375.json:
```json
{
    "body": "Replying to [comment:144 jdemeyer]:\n> I don't know because of output buffering (note the \"nothin\").  I am running 1000 verbose tests again, but with\n> {{{\n> PYTHONUNBUFFERED=yes\n> }}}\n\nOh, didn't know that.\n\nAlternatively, you could apply [this patch](http://boxen.math.washington.edu/home/leif/Sage/patches/ncadoctest-flush_output_in_verbose_mode-scripts_repo.patch) to `$SAGE_ROOT/local/bin/ncadoctest.py`, to see which test times out.  (I think it still applies, haven't tried for a while.)",
    "created_at": "2013-01-11T08:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160375",
    "user": "leif"
}
```

Replying to [comment:144 jdemeyer]:
> I don't know because of output buffering (note the "nothin").  I am running 1000 verbose tests again, but with
> {{{
> PYTHONUNBUFFERED=yes
> }}}

Oh, didn't know that.

Alternatively, you could apply [this patch](http://boxen.math.washington.edu/home/leif/Sage/patches/ncadoctest-flush_output_in_verbose_mode-scripts_repo.patch) to `$SAGE_ROOT/local/bin/ncadoctest.py`, to see which test times out.  (I think it still applies, haven't tried for a while.)



---

archive/issue_comments_160376.json:
```json
{
    "body": "I remember having problems with previous versions of the spkg because it was build multi-threaded (not really thought about this deeply), and then rebuilding it single-threaded seemed to have solved all the problems, but it seems it was not enough...",
    "created_at": "2013-01-11T08:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160376",
    "user": "jpflori"
}
```

I remember having problems with previous versions of the spkg because it was build multi-threaded (not really thought about this deeply), and then rebuilding it single-threaded seemed to have solved all the problems, but it seems it was not enough...



---

archive/issue_comments_160377.json:
```json
{
    "body": "Jean-Pierre: I would find it quite surprising that *building in parallel* succeeded but that the resulting installation is subtly broken.  Usually, when there are problems with parallel builds, it simply fails to build outright.",
    "created_at": "2013-01-11T08:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160377",
    "user": "jdemeyer"
}
```

Jean-Pierre: I would find it quite surprising that *building in parallel* succeeded but that the resulting installation is subtly broken.  Usually, when there are problems with parallel builds, it simply fails to build outright.



---

archive/issue_comments_160378.json:
```json
{
    "body": "I meant building ECL multi-threaded (i.e. let ECL use multiple threads while running).\n\nThat does not make that much sense at once either, but eh, you can try with removing the --disable-threads flag from configure and IIRC you'll get a lot of similarly strange failures (like lisp does not answer when asked to compute 1+1).\nMaybe some signal handling crap, I really don't know.",
    "created_at": "2013-01-11T08:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160378",
    "user": "jpflori"
}
```

I meant building ECL multi-threaded (i.e. let ECL use multiple threads while running).

That does not make that much sense at once either, but eh, you can try with removing the --disable-threads flag from configure and IIRC you'll get a lot of similarly strange failures (like lisp does not answer when asked to compute 1+1).
Maybe some signal handling crap, I really don't know.



---

archive/issue_comments_160379.json:
```json
{
    "body": "Replying to [comment:148 jpflori]:\n> I meant building ECL multi-threaded (i.e. let ECL use multiple threads while running).\n> \n> That does not make that much sense at once either, but eh, you can try with removing the --disable-threads flag from configure and IIRC you'll get a lot of similarly strange failures (like lisp does not answer when asked to compute 1+1).\n> Maybe some signal handling crap, I really don't know.\n\nSo you currently build it multi-threaded and you say there are issues if built single threaded?",
    "created_at": "2013-01-11T08:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160379",
    "user": "fbissey"
}
```

Replying to [comment:148 jpflori]:
> I meant building ECL multi-threaded (i.e. let ECL use multiple threads while running).
> 
> That does not make that much sense at once either, but eh, you can try with removing the --disable-threads flag from configure and IIRC you'll get a lot of similarly strange failures (like lisp does not answer when asked to compute 1+1).
> Maybe some signal handling crap, I really don't know.

So you currently build it multi-threaded and you say there are issues if built single threaded?



---

archive/issue_comments_160380.json:
```json
{
    "body": "No the converse.",
    "created_at": "2013-01-11T08:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160380",
    "user": "jpflori"
}
```

No the converse.



---

archive/issue_comments_160381.json:
```json
{
    "body": "The point is that maybe the problem is deeper and is only more exposed when ECL is multi-threaded, but still present when it is single-threaded.",
    "created_at": "2013-01-11T08:49:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160381",
    "user": "jpflori"
}
```

The point is that maybe the problem is deeper and is only more exposed when ECL is multi-threaded, but still present when it is single-threaded.



---

archive/issue_comments_160382.json:
```json
{
    "body": "I can explore that quickly but the only time out I have ever seen with ecl were unicode related.",
    "created_at": "2013-01-11T08:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160382",
    "user": "fbissey"
}
```

I can explore that quickly but the only time out I have ever seen with ecl were unicode related.



---

archive/issue_comments_160383.json:
```json
{
    "body": "The timeouts happen during various tests, seemingly at random.  These are the results of 1000 verbose unbuffered non-long tests, 4 timeouts:\n\n```\nTrying:\n    lisp(Integer(2)).bool()###line 418:_sage_    >>> lisp(2).bool()\nExpecting:\n    True\n*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n```\n\n\n\n```\nTrying:\n    one == one###line 390:_sage_    >>> one == one\nExpecting:\n    True\n*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n```\n\n\n\n```\nTrying:\n    lisp.eval('(+ 2 2)')###line 107:_sage_    >>> lisp.eval('(+ 2 2)')\nExpecting:\n    '4'\n*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n```\n\n\n\n```\nTrying:\n    a = lisp(Integer(3)); b = lisp(Integer(5))###line 7:_sage_    >>> a = lisp(3); b = lisp(5)\nExpecting nothing\n*** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n```\n",
    "created_at": "2013-01-11T09:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160383",
    "user": "jdemeyer"
}
```

The timeouts happen during various tests, seemingly at random.  These are the results of 1000 verbose unbuffered non-long tests, 4 timeouts:

```
Trying:
    lisp(Integer(2)).bool()###line 418:_sage_    >>> lisp(2).bool()
Expecting:
    True
*** *** Error: TIMED OUT! PROCESS KILLED! *** ***
```



```
Trying:
    one == one###line 390:_sage_    >>> one == one
Expecting:
    True
*** *** Error: TIMED OUT! PROCESS KILLED! *** ***
```



```
Trying:
    lisp.eval('(+ 2 2)')###line 107:_sage_    >>> lisp.eval('(+ 2 2)')
Expecting:
    '4'
*** *** Error: TIMED OUT! PROCESS KILLED! *** ***
```



```
Trying:
    a = lisp(Integer(3)); b = lisp(Integer(5))###line 7:_sage_    >>> a = lisp(3); b = lisp(5)
Expecting nothing
*** *** Error: TIMED OUT! PROCESS KILLED! *** ***
```




---

archive/issue_comments_160384.json:
```json
{
    "body": "I am lazy and have other things to do. Could you post your 1000 run script so I can try it (like I said I am too lazy to write one).",
    "created_at": "2013-01-11T09:08:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160384",
    "user": "fbissey"
}
```

I am lazy and have other things to do. Could you post your 1000 run script so I can try it (like I said I am too lazy to write one).



---

archive/issue_comments_160385.json:
```json
{
    "body": "In `bash`:\n\n```sh\nexport PYTHONUNBUFFERED=yes\nmkdir -p res\nfor ((i=0; i<1000; i++)); do\n    ./sage -t --verbose devel/sage/sage/interfaces/lisp.py &>res/$i\n    echo $i\ndone\n```\n\n\nResults will be in directory `res/`.  To see which tests failed:\n\n```\ngrep -L '^All tests pass' res/*\n```\n",
    "created_at": "2013-01-11T09:11:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160385",
    "user": "jdemeyer"
}
```

In `bash`:

```sh
export PYTHONUNBUFFERED=yes
mkdir -p res
for ((i=0; i<1000; i++)); do
    ./sage -t --verbose devel/sage/sage/interfaces/lisp.py &>res/$i
    echo $i
done
```


Results will be in directory `res/`.  To see which tests failed:

```
grep -L '^All tests pass' res/*
```




---

archive/issue_comments_160386.json:
```json
{
    "body": "Replying to [comment:153 jdemeyer]:\n> The timeouts happen during various tests, seemingly at random.  These are the results of 1000 verbose unbuffered non-long tests, 4 timeouts:\n> {{{\n> Trying:\n>     lisp(Integer(2)).bool()###line 418:_sage_    >>> lisp(2).bool()\n> Expecting:\n>     True\n> *** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n> }}}\n> \nToo ad, that's exactly the kind of issues I had and thought to be solved by building ECL single threaded (which I intended to do anyway, it is just I forgot to configure it so in the first place, i don't think the way we handle signals woud be compatible with a multi-threaded ECL, Nils surely have an opinion on that, there are also potentiel problems with Maxima as written in SPKG.txt, but I have not looked at this).\n\nSo the new ECL interacts badly with pexpect?\n> Trying:\n>     one == one###line 390:_sage_    >>> one == one\n> Expecting:\n>     True\n> *** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n> }}}\n> \n> {{{\n> Trying:\n>     lisp.eval('(+ 2 2)')###line 107:_sage_    >>> lisp.eval('(+ 2 2)')\n> Expecting:\n>     '4'\n> *** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n> }}}\n> \n> {{{\n> Trying:\n>     a = lisp(Integer(3)); b = lisp(Integer(5))###line 7:_sage_    >>> a = lisp(3); b = lisp(5)\n> Expecting nothing\n> *** *** Error: TIMED OUT! PROCESS KILLED! *** ***\n> }}}",
    "created_at": "2013-01-11T09:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160386",
    "user": "jpflori"
}
```

Replying to [comment:153 jdemeyer]:
> The timeouts happen during various tests, seemingly at random.  These are the results of 1000 verbose unbuffered non-long tests, 4 timeouts:
> {{{
> Trying:
>     lisp(Integer(2)).bool()###line 418:_sage_    >>> lisp(2).bool()
> Expecting:
>     True
> *** *** Error: TIMED OUT! PROCESS KILLED! *** ***
> }}}
> 
Too ad, that's exactly the kind of issues I had and thought to be solved by building ECL single threaded (which I intended to do anyway, it is just I forgot to configure it so in the first place, i don't think the way we handle signals woud be compatible with a multi-threaded ECL, Nils surely have an opinion on that, there are also potentiel problems with Maxima as written in SPKG.txt, but I have not looked at this).

So the new ECL interacts badly with pexpect?
> Trying:
>     one == one###line 390:_sage_    >>> one == one
> Expecting:
>     True
> *** *** Error: TIMED OUT! PROCESS KILLED! *** ***
> }}}
> 
> {{{
> Trying:
>     lisp.eval('(+ 2 2)')###line 107:_sage_    >>> lisp.eval('(+ 2 2)')
> Expecting:
>     '4'
> *** *** Error: TIMED OUT! PROCESS KILLED! *** ***
> }}}
> 
> {{{
> Trying:
>     a = lisp(Integer(3)); b = lisp(Integer(5))###line 7:_sage_    >>> a = lisp(3); b = lisp(5)
> Expecting nothing
> *** *** Error: TIMED OUT! PROCESS KILLED! *** ***
> }}}



---

archive/issue_comments_160387.json:
```json
{
    "body": "Yes I had a time out in progress on the 25th tests - I didn't have verbose so restarting.",
    "created_at": "2013-01-11T09:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160387",
    "user": "fbissey"
}
```

Yes I had a time out in progress on the 25th tests - I didn't have verbose so restarting.



---

archive/issue_comments_160388.json:
```json
{
    "body": "I can confirm it happens randomly on my Linux install as well...\nThe one I got is even in different tests that the one above, so I guess it can happen anywhere.",
    "created_at": "2013-01-11T09:39:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160388",
    "user": "jpflori"
}
```

I can confirm it happens randomly on my Linux install as well...
The one I got is even in different tests that the one above, so I guess it can happen anywhere.



---

archive/issue_comments_160389.json:
```json
{
    "body": "Do we know if it happened with the previous ecl?",
    "created_at": "2013-01-11T09:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160389",
    "user": "fbissey"
}
```

Do we know if it happened with the previous ecl?



---

archive/issue_comments_160390.json:
```json
{
    "body": "As I said, I *never* saw this before and I do a lot of tests of Sage, I assure you :-)",
    "created_at": "2013-01-11T09:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160390",
    "user": "jdemeyer"
}
```

As I said, I *never* saw this before and I do a lot of tests of Sage, I assure you :-)



---

archive/issue_comments_160391.json:
```json
{
    "body": "Replying to [comment:159 fbissey]:\n> Do we know if it happened with the previous ecl?\n\nWell, give it a try... ;-P\n\nThis still doesn't tell us whether the Python or the ECL process (or both) are busy before a test times out.",
    "created_at": "2013-01-11T09:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160391",
    "user": "leif"
}
```

Replying to [comment:159 fbissey]:
> Do we know if it happened with the previous ecl?

Well, give it a try... ;-P

This still doesn't tell us whether the Python or the ECL process (or both) are busy before a test times out.



---

archive/issue_comments_160392.json:
```json
{
    "body": "I'll admit to a fair amount of testing as part of sage-on-gentoo but I don't do that kind of torture test. And I wouldn't even pretend to reach the number of tests you run across the sagemath cluster... For the record I also see it on my sage-on-gentoo install on x86_64.\n\nleif: As far as I can see neither (time out in progress)\n\n```\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nfbissey   5088  0.0  0.0  11672  1464 pts/0    S    22:34   0:00 bash thousand.sh\nfbissey   5096  0.0  0.0  51120  6248 pts/0    S    22:34   0:00 /usr//bin//python2.7 /usr//bin/sage-cleaner\nfbissey   9699  0.0  0.0  14096  4388 pts/2    S+   22:49   0:00 nano -w /scratch/portage/dev-python/sympy-0.7.2/work/sympy-0.7.2/sympy/utilities/runtests.py\nfbissey  11689  0.0  0.0  11800  1572 pts/0    S    22:53   0:00 bash /usr/bin/sage -t -verbose /usr/share/sage/devel/sage-main/sage/interfaces/lisp.py\nfbissey  11690  0.0  0.0  34372  4972 pts/0    S    22:53   0:00 /usr/bin/python2.7 /usr/bin/sage -test -verbose /usr/share/sage/devel/sage-main/sage/interfaces/lisp.py\nfbissey  11692  0.0  0.0  57624  6668 pts/0    S    22:53   0:00 /usr/bin/python2.7 /usr/bin/sage -doctest -verbose /usr/share/sage/devel/sage-main/sage/interfaces/lisp.py\nfbissey  11693  0.4  0.6 969368 151608 pts/0   S    22:53   0:00 /usr/bin/python2.7 /home/fbissey/.sage/tmp/lisp_11692.py\nfbissey  11694  0.0  0.0  32460  7396 pts/3    Ss+  22:53   0:00 /usr//bin/ecl\nfbissey  11705  0.0  0.0  15144  1128 pts/0    R+   22:57   0:00 ps ux\nfbissey  11706  0.0  0.0   6644   800 pts/0    S+   22:57   0:00 more\nfbissey  25062  0.0  0.0  41056  1656 ?        S    21:42   0:02 sshd: fbissey@pts/0\nfbissey  25063  0.0  0.0  20488  2424 pts/0    Ss   21:42   0:00 -bash\nfbissey  29298  0.0  0.0  41056  1656 ?        S    21:53   0:00 sshd: fbissey@pts/2\nfbissey  29300  0.0  0.0  20488  2436 pts/2    Ss   21:53   0:00 -bash\n```\n",
    "created_at": "2013-01-11T09:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160392",
    "user": "fbissey"
}
```

I'll admit to a fair amount of testing as part of sage-on-gentoo but I don't do that kind of torture test. And I wouldn't even pretend to reach the number of tests you run across the sagemath cluster... For the record I also see it on my sage-on-gentoo install on x86_64.

leif: As far as I can see neither (time out in progress)

```
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
fbissey   5088  0.0  0.0  11672  1464 pts/0    S    22:34   0:00 bash thousand.sh
fbissey   5096  0.0  0.0  51120  6248 pts/0    S    22:34   0:00 /usr//bin//python2.7 /usr//bin/sage-cleaner
fbissey   9699  0.0  0.0  14096  4388 pts/2    S+   22:49   0:00 nano -w /scratch/portage/dev-python/sympy-0.7.2/work/sympy-0.7.2/sympy/utilities/runtests.py
fbissey  11689  0.0  0.0  11800  1572 pts/0    S    22:53   0:00 bash /usr/bin/sage -t -verbose /usr/share/sage/devel/sage-main/sage/interfaces/lisp.py
fbissey  11690  0.0  0.0  34372  4972 pts/0    S    22:53   0:00 /usr/bin/python2.7 /usr/bin/sage -test -verbose /usr/share/sage/devel/sage-main/sage/interfaces/lisp.py
fbissey  11692  0.0  0.0  57624  6668 pts/0    S    22:53   0:00 /usr/bin/python2.7 /usr/bin/sage -doctest -verbose /usr/share/sage/devel/sage-main/sage/interfaces/lisp.py
fbissey  11693  0.4  0.6 969368 151608 pts/0   S    22:53   0:00 /usr/bin/python2.7 /home/fbissey/.sage/tmp/lisp_11692.py
fbissey  11694  0.0  0.0  32460  7396 pts/3    Ss+  22:53   0:00 /usr//bin/ecl
fbissey  11705  0.0  0.0  15144  1128 pts/0    R+   22:57   0:00 ps ux
fbissey  11706  0.0  0.0   6644   800 pts/0    S+   22:57   0:00 more
fbissey  25062  0.0  0.0  41056  1656 ?        S    21:42   0:02 sshd: fbissey@pts/0
fbissey  25063  0.0  0.0  20488  2424 pts/0    Ss   21:42   0:00 -bash
fbissey  29298  0.0  0.0  41056  1656 ?        S    21:53   0:00 sshd: fbissey@pts/2
fbissey  29300  0.0  0.0  20488  2436 pts/2    Ss   21:53   0:00 -bash
```




---

archive/issue_comments_160393.json:
```json
{
    "body": "Btw, you can also do\n\n```sh\nenv SAGE_TEST_ITER=1000 SAGE_TIMEOUT=60 ./sage -tp 1 devel/sage/sage/interfaces/lisp.py &> foo.log\n```\n\n\n(Add `--verbose`, change the number of threads, or the timeout as you like.)\n\nAfterwards grep the log...",
    "created_at": "2013-01-11T10:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160393",
    "user": "leif"
}
```

Btw, you can also do

```sh
env SAGE_TEST_ITER=1000 SAGE_TIMEOUT=60 ./sage -tp 1 devel/sage/sage/interfaces/lisp.py &> foo.log
```


(Add `--verbose`, change the number of threads, or the timeout as you like.)

Afterwards grep the log...



---

archive/issue_comments_160394.json:
```json
{
    "body": "Replying to [comment:163 leif]:\n> Btw, you can also do\n> {{{\n> #!sh\n> env SAGE_TEST_ITER=1000 SAGE_TIMEOUT=60 ./sage -tp 1 devel/sage/sage/interfaces/lisp.py &> foo.log\n> }}}\n\nI tried this with the *old* ECL (on Linux x86_64) and didn't get a single failure / timeout, so the timeouts are definitely a regression.  (Although I must admit I haven't tried with the new ECL [on the same machine].)",
    "created_at": "2013-01-11T14:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160394",
    "user": "leif"
}
```

Replying to [comment:163 leif]:
> Btw, you can also do
> {{{
> #!sh
> env SAGE_TEST_ITER=1000 SAGE_TIMEOUT=60 ./sage -tp 1 devel/sage/sage/interfaces/lisp.py &> foo.log
> }}}

I tried this with the *old* ECL (on Linux x86_64) and didn't get a single failure / timeout, so the timeouts are definitely a regression.  (Although I must admit I haven't tried with the new ECL [on the same machine].)



---

archive/issue_comments_160395.json:
```json
{
    "body": "Ok, I think I got a little more info on this one by enabling the pexpect logs in our Sage classes:\n* we throw (+ 1 random) to ECL for synchronization,\n* it seems the output is somehow split on multiple lines randomly, e.g. on the last failing example I got we threw (+ 1 937780183) and here is what is in the log\n\n```\n...\n> (+ 1 937780183)\n\n(+ 1 937780183)^M\n^M\n93^M\n7780184^M\n> \n```\n\nSo indeed we will never read 937780184 back.\n(Not sure what `^M` exactly is)\n\nBy the way, the lisp.py file needs a big cleanup, especially all the :: for the examples and tests.",
    "created_at": "2013-01-11T14:23:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160395",
    "user": "jpflori"
}
```

Ok, I think I got a little more info on this one by enabling the pexpect logs in our Sage classes:
* we throw (+ 1 random) to ECL for synchronization,
* it seems the output is somehow split on multiple lines randomly, e.g. on the last failing example I got we threw (+ 1 937780183) and here is what is in the log

```
...
> (+ 1 937780183)

(+ 1 937780183)^M
^M
93^M
7780184^M
> 
```

So indeed we will never read 937780184 back.
(Not sure what `^M` exactly is)

By the way, the lisp.py file needs a big cleanup, especially all the :: for the examples and tests.



---

archive/issue_comments_160396.json:
```json
{
    "body": "All our troubles may be caused by the fact that the sync command we send is\n\n```\n\"(+ 1 s)\\n\"\n```\n\nNote the \"\\n\" which is superfulous and might get intersparsed with the output of \"(+ 1 s)\" if ECL does not handle it gracefully so leading to our problem.",
    "created_at": "2013-01-11T14:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160396",
    "user": "jpflori"
}
```

All our troubles may be caused by the fact that the sync command we send is

```
"(+ 1 s)\n"
```

Note the "\n" which is superfulous and might get intersparsed with the output of "(+ 1 s)" if ECL does not handle it gracefully so leading to our problem.



---

archive/issue_comments_160397.json:
```json
{
    "body": "Could you test lisp.py after removing that extra \\n in _synchronize in lisp.py?\nThat may not be a real fix, but at least a workaround.",
    "created_at": "2013-01-11T14:29:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160397",
    "user": "jpflori"
}
```

Could you test lisp.py after removing that extra \n in _synchronize in lisp.py?
That may not be a real fix, but at least a workaround.



---

archive/issue_comments_160398.json:
```json
{
    "body": "`^M` is a carriage return, it's normal that this appears at the end of every line.",
    "created_at": "2013-01-11T14:30:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160398",
    "user": "jdemeyer"
}
```

`^M` is a carriage return, it's normal that this appears at the end of every line.



---

archive/issue_comments_160399.json:
```json
{
    "body": "Replying to [comment:168 jdemeyer]:\n> `^M` is a carriage return, it's normal that this appears at the end of every line.\n\nYes, a *carriage return* (rather than a newline, `\\n`), which is quite DOSsy (`\\r\\n`).",
    "created_at": "2013-01-11T14:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160399",
    "user": "leif"
}
```

Replying to [comment:168 jdemeyer]:
> `^M` is a carriage return, it's normal that this appears at the end of every line.

Yes, a *carriage return* (rather than a newline, `\n`), which is quite DOSsy (`\r\n`).



---

archive/issue_comments_160400.json:
```json
{
    "body": "Cleanup lisp.py and remove problematic \\n from synchronize",
    "created_at": "2013-01-11T14:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160400",
    "user": "jpflori"
}
```

Cleanup lisp.py and remove problematic \n from synchronize



---

archive/issue_comments_160401.json:
```json
{
    "body": "Attachment",
    "created_at": "2013-01-11T14:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160401",
    "user": "jpflori"
}
```

Attachment



---

archive/issue_comments_160402.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-01-11T14:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160402",
    "user": "jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_160403.json:
```json
{
    "body": "I went through one thousand tests without problem with the last patch.",
    "created_at": "2013-01-11T15:46:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160403",
    "user": "jpflori"
}
```

I went through one thousand tests without problem with the last patch.



---

archive/issue_comments_160404.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-12T07:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160404",
    "user": "fbissey"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_160405.json:
```json
{
    "body": "It's gone here too. I think that did the trick. In fact I am wondering if that has got rid of the problems I was seeing in #12985 but that's a discusion for that other ticket. I am putting this back to positive review.",
    "created_at": "2013-01-12T07:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160405",
    "user": "fbissey"
}
```

It's gone here too. I think that did the trick. In fact I am wondering if that has got rid of the problems I was seeing in #12985 but that's a discusion for that other ticket. I am putting this back to positive review.



---

archive/issue_comments_160406.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-21T21:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160406",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_160407.json:
```json
{
    "body": "This is a massive regression due to this ECL upgrade:\n\nExecute\n\n```\ntime print(len(maxima._commands(verbose=False)))\n```\n\n\n- Before: about 2.5s\n- After: about 20s\n\nIt makes we wonder whether we should unmerge this upgrade, what if more ECL-related functionality has slowed down?",
    "created_at": "2013-02-05T08:31:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160407",
    "user": "jdemeyer"
}
```

This is a massive regression due to this ECL upgrade:

Execute

```
time print(len(maxima._commands(verbose=False)))
```


- Before: about 2.5s
- After: about 20s

It makes we wonder whether we should unmerge this upgrade, what if more ECL-related functionality has slowed down?



---

archive/issue_comments_160408.json:
```json
{
    "body": "Replying to [comment:174 jdemeyer]:\n> This is a massive regression due to this ECL upgrade:\n> \n> Execute\n> {{{\n> time print(len(maxima._commands(verbose=False)))\n> }}}\n> \n> - Before: about 2.5s\n> - After: about 20s\n> \n> It makes we wonder whether we should unmerge this upgrade, what if more ECL-related functionality has slowed down?\n\nwhat time do you measure?\n\n```\nsage: time print(len(maxima._commands(verbose=False)))\n1926\nTime: CPU 0.91 s, Wall: 28.65 s\n```\n\nand do you get  1926 with the older ECL, too?",
    "created_at": "2013-02-05T09:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160408",
    "user": "dimpase"
}
```

Replying to [comment:174 jdemeyer]:
> This is a massive regression due to this ECL upgrade:
> 
> Execute
> {{{
> time print(len(maxima._commands(verbose=False)))
> }}}
> 
> - Before: about 2.5s
> - After: about 20s
> 
> It makes we wonder whether we should unmerge this upgrade, what if more ECL-related functionality has slowed down?

what time do you measure?

```
sage: time print(len(maxima._commands(verbose=False)))
1926
Time: CPU 0.91 s, Wall: 28.65 s
```

and do you get  1926 with the older ECL, too?



---

archive/issue_comments_160409.json:
```json
{
    "body": "Replying to [comment:175 dimpase]:\n> and do you get  1926 with the older ECL, too?\nNo, I get 1871 which is close enough.",
    "created_at": "2013-02-05T09:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160409",
    "user": "jdemeyer"
}
```

Replying to [comment:175 dimpase]:
> and do you get  1926 with the older ECL, too?
No, I get 1871 which is close enough.



---

archive/issue_comments_160410.json:
```json
{
    "body": "Also,\n\n```\n/Users/.../sage-5.7.beta2/local/lib/python2.7/site-packages/sage/misc/sage_extension.py:359: DeprecationWarning: Use %time instead of time.\nSee http://trac.sagemath.org/12719 for details.\n```\n\n\nAnyway, it's only the very first time that this is really slow, presumably due to Maxima starting up.  However, there is a brief slowdown.\n\n```\nsage: time print(len(maxima._commands(verbose=False)))\n1926\nCPU times: user 0.32 s, sys: 0.07 s, total: 0.39 s\nWall time: 16.06 s\nsage: time print(len(maxima._commands(verbose=False)))\n1926\nCPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s\nWall time: 0.00 s\nsage: %timeit print(len(maxima._commands(verbose=False)))\n<many 1926 later>\n100000 loops, best of 3: 5.09 us per loop\n```\n\n\nWith 5.6:\n\n```\nsage: time print(len(maxima._commands(verbose=False)))\n1871\nTime: CPU 0.37 s, Wall: 16.32 s\nsage: time print(len(maxima._commands(verbose=False)))\n1871\nTime: CPU 0.00 s, Wall: 0.00 s\nsage: %timeit print(len(maxima._commands(verbose=False)))\n625 loops, best of 3: 2.16 \u00b5s per loop\n```\n\n\nTesting another command.  Old:\n\n```\nsage: %timeit integrate(cos(x^2),x)\n25 loops, best of 3: 21.4 ms per loop\n```\n\n\nNew:\n\n```\nsage: %timeit integrate(cos(x^2),x)\n1 loops, best of 3: 21.2 ms per loop\n```\n\n\nI think this is a non-issue.  How often are people going to need really fast listing of all Maxima commands?",
    "created_at": "2013-02-05T15:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160410",
    "user": "kcrisman"
}
```

Also,

```
/Users/.../sage-5.7.beta2/local/lib/python2.7/site-packages/sage/misc/sage_extension.py:359: DeprecationWarning: Use %time instead of time.
See http://trac.sagemath.org/12719 for details.
```


Anyway, it's only the very first time that this is really slow, presumably due to Maxima starting up.  However, there is a brief slowdown.

```
sage: time print(len(maxima._commands(verbose=False)))
1926
CPU times: user 0.32 s, sys: 0.07 s, total: 0.39 s
Wall time: 16.06 s
sage: time print(len(maxima._commands(verbose=False)))
1926
CPU times: user 0.00 s, sys: 0.00 s, total: 0.00 s
Wall time: 0.00 s
sage: %timeit print(len(maxima._commands(verbose=False)))
<many 1926 later>
100000 loops, best of 3: 5.09 us per loop
```


With 5.6:

```
sage: time print(len(maxima._commands(verbose=False)))
1871
Time: CPU 0.37 s, Wall: 16.32 s
sage: time print(len(maxima._commands(verbose=False)))
1871
Time: CPU 0.00 s, Wall: 0.00 s
sage: %timeit print(len(maxima._commands(verbose=False)))
625 loops, best of 3: 2.16 µs per loop
```


Testing another command.  Old:

```
sage: %timeit integrate(cos(x^2),x)
25 loops, best of 3: 21.4 ms per loop
```


New:

```
sage: %timeit integrate(cos(x^2),x)
1 loops, best of 3: 21.2 ms per loop
```


I think this is a non-issue.  How often are people going to need really fast listing of all Maxima commands?



---

archive/issue_comments_160411.json:
```json
{
    "body": "Replying to [comment:177 kcrisman]:\n> How often are people going to need really fast listing of all Maxima commands?\nI was going to say \"TAB completion\", but that's apparently cached in `$DOT_SAGE`.",
    "created_at": "2013-02-05T16:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160411",
    "user": "jdemeyer"
}
```

Replying to [comment:177 kcrisman]:
> How often are people going to need really fast listing of all Maxima commands?
I was going to say "TAB completion", but that's apparently cached in `$DOT_SAGE`.



---

archive/issue_comments_160412.json:
```json
{
    "body": "Replying to [comment:177 kcrisman]:\n> presumably due to Maxima starting up.\nThat can't be the explanation, as other maxima commands don't take 20 seconds...",
    "created_at": "2013-02-05T16:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160412",
    "user": "jdemeyer"
}
```

Replying to [comment:177 kcrisman]:
> presumably due to Maxima starting up.
That can't be the explanation, as other maxima commands don't take 20 seconds...



---

archive/issue_comments_160413.json:
```json
{
    "body": "> > presumably due to Maxima starting up.\n> That can't be the explanation, as other maxima commands don't take 20 seconds...\nHmm, true.  On startup, it only seems to add an extra 1.5 seconds for Maxima to start, so the list seems to take 15+ seconds. \n\nOkay, it seems to be creating the whole list for tab completion, actually.   I'm used to seeing this slowness, but on my 10-year-old machine with a 1/2 G of memory.\n\nMy guess? This line from `maxima.completions??`:\n\n```\ncmd_list = self._eval_line('apropos(\"%s\")'%s, error_check=False).replace('\\\\ - ','-')\n```\n\nRecall that we also upgraded Maxima in 5.7.beta0, #13364.  Perhaps \"apropos\" slowed down.\n\nOr maybe the IPython upgrade in #12719 made\n\n```\nsys.stdout.flush()\n```\n\nslower, if this only shows up in 5.7.beta1.  I'm going to check this momentarily.",
    "created_at": "2013-02-05T20:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160413",
    "user": "kcrisman"
}
```

> > presumably due to Maxima starting up.
> That can't be the explanation, as other maxima commands don't take 20 seconds...
Hmm, true.  On startup, it only seems to add an extra 1.5 seconds for Maxima to start, so the list seems to take 15+ seconds. 

Okay, it seems to be creating the whole list for tab completion, actually.   I'm used to seeing this slowness, but on my 10-year-old machine with a 1/2 G of memory.

My guess? This line from `maxima.completions??`:

```
cmd_list = self._eval_line('apropos("%s")'%s, error_check=False).replace('\\ - ','-')
```

Recall that we also upgraded Maxima in 5.7.beta0, #13364.  Perhaps "apropos" slowed down.

Or maybe the IPython upgrade in #12719 made

```
sys.stdout.flush()
```

slower, if this only shows up in 5.7.beta1.  I'm going to check this momentarily.



---

archive/issue_comments_160414.json:
```json
{
    "body": "> Or maybe the IPython upgrade in #12719 made\n> {{{\n> sys.stdout.flush()\n> }}}\n> slower, if this only shows up in 5.7.beta1.  I'm going to check this momentarily.\nOkay, it also is in beta0, and in retrospect that was a silly comment by me, because that is only called with `verbose=True`.\n\nSo I wonder about \"apropos\".\n\n>> How often are people going to need really fast listing of all Maxima commands?\n> I was going to say \"TAB completion\", but that's apparently cached in $DOT_SAGE.\nAnd \n\n```\n        try:\n            return self.__commands\n        except AttributeError:\n```\n\nSo it's cached there as well.\n\nWell, I would say open a ticket, and let's see if we can find a way to find a Maxima command to mimic this slowdown in this listing command to report upstream.",
    "created_at": "2013-02-05T20:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13152#issuecomment-160414",
    "user": "kcrisman"
}
```

> Or maybe the IPython upgrade in #12719 made
> {{{
> sys.stdout.flush()
> }}}
> slower, if this only shows up in 5.7.beta1.  I'm going to check this momentarily.
Okay, it also is in beta0, and in retrospect that was a silly comment by me, because that is only called with `verbose=True`.

So I wonder about "apropos".

>> How often are people going to need really fast listing of all Maxima commands?
> I was going to say "TAB completion", but that's apparently cached in $DOT_SAGE.
And 

```
        try:
            return self.__commands
        except AttributeError:
```

So it's cached there as well.

Well, I would say open a ticket, and let's see if we can find a way to find a Maxima command to mimic this slowdown in this listing command to report upstream.
