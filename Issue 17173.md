# Issue 17173: unambiguously doctest longest_path()

Issue created by migration from https://trac.sagemath.org/ticket/17410

Original creator: charpent

Original creation time: 2014-11-27 20:06:47

A doctest or longest_path() is ambiguous :

```
sage: l = [(0, 1), (0, 3), (2, 0)]
sage: G = DiGraph(l)
sage: G.longest_path().edges()
[(0, 3, None), (2, 0, None)]
```


Starting with sage 6.5beta1, sage gives the equally valid answer 

```
[(0, 1, None), (2, 0, None)]
```

but this is detected as a failure by sage ptestlong.

So let's use a problem with a unique solution.


---

Comment by charpent created at 2014-11-27 20:46:11

Passes "make ptestlong"
----
New commits:


---

Comment by charpent created at 2014-11-27 20:46:11

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2014-11-27 20:50:43

Hello,

Are you sure that it is unique ? Why the output can not be the same path in the other direction

```
[(3, 4, None), (2, 0, None), (0, 3, None)]
```

EDIT: it is not even sure that the list of edges is output in any sorted way, is it ?

You can at least test the length, or the vertices/edges as a set.

Vincent


---

Comment by git created at 2014-11-27 21:50:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by charpent created at 2014-11-27 21:55:55

Damn. You're right. The path is unique (G is directed). But edges() has no special reason to sort them in any specified way. So the new version tests only set equality.

This passes "make ptestlong".

And you're co-author.


---

Comment by vdelecroix created at 2014-11-28 00:04:10

Hi Emmanuel,

I changed my status from author to reviewer. That's more reasonable.

why `bool(something)` instead of `something` like in

```
sage: p = G.longest_path()
sage: set(p.edges(labels=False)) == {(0,3), (2,0), (3,4)}
True
```

(and by the way, the option `labels=False` of the method `.edges` is really cool)

Sorry for being so picky.

Vincent


---

Comment by git created at 2014-11-28 08:58:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by charpent created at 2014-11-28 09:00:11

New commit, up to reviewer's cosmetic wishes.

Passes "make ptestlong".


---

Comment by vdelecroix created at 2014-11-28 13:25:27

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2014-11-28 13:25:27

Wonderful ;-) Thanks.

Vincent


---

Comment by vbraun created at 2014-11-29 01:06:53

Resolution: fixed
