# Issue 24212: doctest failure in matrix/special.py

archive/issues_024212.json:
```json
{
    "body": "On sage-8.2.beta1 with many optional package installed\n\n```\nsage -t --long src/sage/matrix/special.py\n**********************************************************************\nFile \"src/sage/matrix/special.py\", line 413, in sage.matrix.special.random_matrix\nFailed example:\n    random_matrix(K, 2, 5)\nExpected:\n    [      1       a       1 2*a + 1       2]\n    [    2*a   a + 2       0       2       1]\nGot:\n    [      a       0       2       2       1]\n    [      a   a + 2   a + 1 2*a + 1       2]\n**********************************************************************\nFile \"src/sage/matrix/special.py\", line 417, in sage.matrix.special.random_matrix\nFailed example:\n    random_matrix(RR, 3, 4, density=0.66)\nExpected:\n    [ 0.000000000000000 -0.806696574554030 -0.693915509972359  0.000000000000000]\n    [ 0.629781664418083  0.000000000000000 -0.833709843116637  0.000000000000000]\n    [ 0.922346867410064  0.000000000000000  0.000000000000000 -0.940316454178921]\nGot:\n    [ 0.000000000000000  0.676820913302280 -0.940316454178921  0.000000000000000]\n    [ 0.605928518093544  0.000000000000000 -0.693915509972359  0.000000000000000]\n    [ 0.629781664418083  0.000000000000000  0.000000000000000 -0.741052529138296]\n**********************************************************************\nFile \"src/sage/matrix/special.py\", line 422, in sage.matrix.special.random_matrix\nFailed example:\n    A = random_matrix(ComplexField(32), 3, density=0.8, sparse=True); A\nExpected:\n    [                 0.000000000  0.399739209 + 0.909948633*I                  0.000000000]\n    [-0.361911424 - 0.455087671*I -0.687810605 + 0.460619713*I  0.625520058 - 0.360952012*I]\n    [                 0.000000000                  0.000000000 -0.162196416 - 0.193242896*I]\nGot:\n    [                 0.000000000  0.332155072 - 0.728572036*I                  0.000000000]\n    [ 0.577682751 - 0.276405104*I -0.307172821 + 0.611092515*I -0.162196416 - 0.193242896*I]\n    [                 0.000000000                  0.000000000  0.399739209 + 0.909948633*I]\n**********************************************************************\n1 item had failures:\n   3 of  62 in sage.matrix.special.random_matrix\n    [439 tests, 3 failures, 1.88 s]\n```\n\nSee full patchbot log at [quasar log](https://patchbot.sagemath.org/log/0/Ubuntu/16.04/x86_64/4.4.0-104-generic/quasar/2017-12-28%2017:39:23).\n\nIssue created by migration from https://trac.sagemath.org/ticket/24449\n\n",
    "created_at": "2017-12-30T09:41:25Z",
    "labels": [
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "doctest failure in matrix/special.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24212",
    "user": "https://github.com/videlec"
}
```
On sage-8.2.beta1 with many optional package installed

```
sage -t --long src/sage/matrix/special.py
**********************************************************************
File "src/sage/matrix/special.py", line 413, in sage.matrix.special.random_matrix
Failed example:
    random_matrix(K, 2, 5)
Expected:
    [      1       a       1 2*a + 1       2]
    [    2*a   a + 2       0       2       1]
Got:
    [      a       0       2       2       1]
    [      a   a + 2   a + 1 2*a + 1       2]
**********************************************************************
File "src/sage/matrix/special.py", line 417, in sage.matrix.special.random_matrix
Failed example:
    random_matrix(RR, 3, 4, density=0.66)
Expected:
    [ 0.000000000000000 -0.806696574554030 -0.693915509972359  0.000000000000000]
    [ 0.629781664418083  0.000000000000000 -0.833709843116637  0.000000000000000]
    [ 0.922346867410064  0.000000000000000  0.000000000000000 -0.940316454178921]
Got:
    [ 0.000000000000000  0.676820913302280 -0.940316454178921  0.000000000000000]
    [ 0.605928518093544  0.000000000000000 -0.693915509972359  0.000000000000000]
    [ 0.629781664418083  0.000000000000000  0.000000000000000 -0.741052529138296]
**********************************************************************
File "src/sage/matrix/special.py", line 422, in sage.matrix.special.random_matrix
Failed example:
    A = random_matrix(ComplexField(32), 3, density=0.8, sparse=True); A
Expected:
    [                 0.000000000  0.399739209 + 0.909948633*I                  0.000000000]
    [-0.361911424 - 0.455087671*I -0.687810605 + 0.460619713*I  0.625520058 - 0.360952012*I]
    [                 0.000000000                  0.000000000 -0.162196416 - 0.193242896*I]
Got:
    [                 0.000000000  0.332155072 - 0.728572036*I                  0.000000000]
    [ 0.577682751 - 0.276405104*I -0.307172821 + 0.611092515*I -0.162196416 - 0.193242896*I]
    [                 0.000000000                  0.000000000  0.399739209 + 0.909948633*I]
**********************************************************************
1 item had failures:
   3 of  62 in sage.matrix.special.random_matrix
    [439 tests, 3 failures, 1.88 s]
```

See full patchbot log at [quasar log](https://patchbot.sagemath.org/log/0/Ubuntu/16.04/x86_64/4.4.0-104-generic/quasar/2017-12-28%2017:39:23).

Issue created by migration from https://trac.sagemath.org/ticket/24449





---

archive/issue_comments_338715.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to documentation.",
    "created_at": "2017-12-30T09:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24212",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24212#issuecomment-338715",
    "user": "https://github.com/videlec"
}
```

Changing component from PLEASE CHANGE to documentation.



---

archive/issue_comments_338716.json:
```json
{
    "body": "Could this be a \"duplicate\" of #24445?",
    "created_at": "2017-12-30T17:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24212",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24212#issuecomment-338716",
    "user": "https://github.com/jdemeyer"
}
```

Could this be a "duplicate" of #24445?



---

archive/issue_comments_338717.json:
```json
{
    "body": "Replying to [comment:5 jdemeyer]:\n> Could this be a \"duplicate\" of #24445?\n\n\nI believe the answer is yes. Thanks for the pointer.",
    "created_at": "2017-12-30T18:00:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24212",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24212#issuecomment-338717",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:5 jdemeyer]:
> Could this be a "duplicate" of #24445?


I believe the answer is yes. Thanks for the pointer.



---

archive/issue_comments_338718.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-12-30T18:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24212",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24212#issuecomment-338718",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_events_061741.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-30T18:18:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24212",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24212#event-61741"
}
```



---

archive/issue_events_061742.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-12-30T18:20:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24212",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24212#event-61742"
}
```



---

archive/issue_comments_338719.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2017-12-30T18:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24212",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24212#issuecomment-338719",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate
