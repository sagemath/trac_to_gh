# Issue 3541: graph multiedge plotting

archive/issues_003541.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-ekirkman"
    ],
    "body": "Wanted:  New code to make a pretty plot of graphs with multiedges.  I'm working on a patch now and will post it soon.\n\nCC:  @rlmill @sagetrac-mabshoff\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3541_\n\n",
    "closed_at": "2009-02-14T13:31:16Z",
    "created_at": "2008-07-01T21:57:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "graph multiedge plotting",
    "type": "issue",
    "updated_at": "2009-02-20T03:18:57Z",
    "url": "https://github.com/sagemath/sage/issues/3541",
    "user": "https://github.com/sagetrac-ekirkman"
}
```
Wanted:  New code to make a pretty plot of graphs with multiedges.  I'm working on a patch now and will post it soon.

CC:  @rlmill @sagetrac-mabshoff

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/3541_





---

archive/issue_events_038781.json:
```json
{
    "actor": "https://github.com/sagetrac-ekirkman",
    "created_at": "2008-07-01T21:57:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38781"
}
```



---

archive/issue_events_038782.json:
```json
{
    "actor": "https://github.com/sagetrac-ekirkman",
    "created_at": "2008-07-01T21:57:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38782"
}
```



---

archive/issue_events_038783.json:
```json
{
    "actor": "https://github.com/sagetrac-ekirkman",
    "created_at": "2008-07-01T21:57:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38783"
}
```



---

archive/issue_events_038784.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2008-07-01T21:57:08Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "subject": "https://github.com/sagetrac-ekirkman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38784"
}
```



---

archive/issue_comments_019316.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAwesome!",
    "created_at": "2008-07-01T22:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19316",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:1" align="right">comment:1</div>

Awesome!



---

archive/issue_comments_019317.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSome code from Ashley Saunders up at http://wiki.wstein.org/2008/480a/theprojects",
    "created_at": "2008-07-02T05:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19317",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:2" align="right">comment:2</div>

Some code from Ashley Saunders up at http://wiki.wstein.org/2008/480a/theprojects



---

archive/issue_events_038785.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2008-08-10T03:24:53Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "subject": "https://github.com/rlmill",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38785"
}
```



---

archive/issue_events_038786.json:
```json
{
    "actor": "https://github.com/sagetrac-ekirkman",
    "created_at": "2008-08-10T03:24:53Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "subject": "https://github.com/rlmill",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38786"
}
```



---

archive/issue_events_038787.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-17T11:55:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "milestone_number": null,
    "milestone_title": "sage-3.1.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38787"
}
```



---

archive/issue_comments_019318.json:
```json
{
    "body": "This depends on #4774, and implements multiple edges for graphs only.",
    "created_at": "2009-02-07T02:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19318",
    "user": "https://github.com/rlmill"
}
```

This depends on #4774, and implements multiple edges for graphs only.



---

archive/issue_comments_019319.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[trac_3541-multiedge-1.patch.gz](https://github.com/sagemath/sage/files/ticket3541/trac_3541-multiedge-1.patch.gz)**\n\nThis set of patches should fix #5248.",
    "created_at": "2009-02-12T17:33:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19319",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[trac_3541-multiedge-1.patch.gz](https://github.com/sagemath/sage/files/ticket3541/trac_3541-multiedge-1.patch.gz)**

This set of patches should fix #5248.



---

archive/issue_comments_019320.json:
```json
{
    "body": "Attachment: **[trac_3541_beezy.patch.gz](https://github.com/sagemath/sage/files/ticket3541/trac_3541_beezy.patch.gz)**",
    "created_at": "2009-02-14T01:51:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19320",
    "user": "https://github.com/sagetrac-ekirkman"
}
```

Attachment: **[trac_3541_beezy.patch.gz](https://github.com/sagemath/sage/files/ticket3541/trac_3541_beezy.patch.gz)**



---

archive/issue_comments_019321.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis is still a little quirky, due to issues with #4774, but it will be great to get this merged. The only problems left are on a different ticket.\n\n+ exp[(10!)^(10!)]",
    "created_at": "2009-02-14T01:59:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19321",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:6" align="right">comment:6</div>

This is still a little quirky, due to issues with #4774, but it will be great to get this merged. The only problems left are on a different ticket.

+ exp[(10!)^(10!)]



---

archive/issue_events_038788.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-02-14T01:59:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38788"
}
```



---

archive/issue_comments_019322.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nApply both patches in order.",
    "created_at": "2009-02-14T01:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19322",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:7" align="right">comment:7</div>

Apply both patches in order.



---

archive/issue_comments_019323.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis is going into 3.3.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T02:59:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19323",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:8" align="right">comment:8</div>

This is going into 3.3.

Cheers,

Michael



---

archive/issue_events_038789.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-02-14T02:59:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38789"
}
```



---

archive/issue_events_038790.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-02-14T02:59:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "milestone_number": null,
    "milestone_title": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38790"
}
```



---

archive/issue_comments_019324.json:
```json
{
    "body": "Just fixes edge_color and adds a doctest",
    "created_at": "2009-02-14T03:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19324",
    "user": "https://github.com/sagetrac-ekirkman"
}
```

Just fixes edge_color and adds a doctest



---

archive/issue_events_038791.json:
```json
{
    "actor": "https://github.com/sagetrac-ekirkman",
    "created_at": "2009-02-14T03:47:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "title_is": "[with patch, needs tiny review (2 lines) on third patch only] graph multiedge plotting",
    "title_was": "graph multiedge plotting",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38791"
}
```



---

archive/issue_comments_019325.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAttachment: **[trac_3541_tinyfixes.patch.gz](https://github.com/sagemath/sage/files/ticket3541/trac_3541_tinyfixes.patch.gz)**\n\nI caught some things while looking at the plots.  It should be a pretty quick review-- hopefully I got it in fast enough.",
    "created_at": "2009-02-14T03:47:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19325",
    "user": "https://github.com/sagetrac-ekirkman"
}
```

<div id="comment:9" align="right">comment:9</div>

Attachment: **[trac_3541_tinyfixes.patch.gz](https://github.com/sagemath/sage/files/ticket3541/trac_3541_tinyfixes.patch.gz)**

I caught some things while looking at the plots.  It should be a pretty quick review-- hopefully I got it in fast enough.



---

archive/issue_events_038792.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-02-14T04:46:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "title_is": "graph multiedge plotting",
    "title_was": "[with patch, needs tiny review (2 lines) on third patch only] graph multiedge plotting",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38792"
}
```



---

archive/issue_comments_019326.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWhat is the credit situation here? I assume Emily as author, Robert for review?\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T13:13:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19326",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:11" align="right">comment:11</div>

What is the credit situation here? I assume Emily as author, Robert for review?

Cheers,

Michael



---

archive/issue_comments_019327.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThere is one doctest failure:\n\n```\nmabshoff@sage:/scratch/mabshoff/sage-3.3.rc1$ ./sage -t -long devel/sage/sage/combinat/crystals/crystals.py\nsage -t -long \"devel/sage/sage/combinat/crystals/crystals.py\"\n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.3.rc1/devel/sage/sage/combinat/crystals/crystals.py\", line 553:\n    sage: C.plot()\nExpected:\n    Graphics object consisting of 11 graphics primitives\nGot:\n    Graphics object consisting of 17 graphics primitives\n**********************************************************************\n```\nI assume this is becase previously the graph was incorrect.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T13:16:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19327",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:12" align="right">comment:12</div>

There is one doctest failure:

```
mabshoff@sage:/scratch/mabshoff/sage-3.3.rc1$ ./sage -t -long devel/sage/sage/combinat/crystals/crystals.py
sage -t -long "devel/sage/sage/combinat/crystals/crystals.py"
**********************************************************************
File "/scratch/mabshoff/sage-3.3.rc1/devel/sage/sage/combinat/crystals/crystals.py", line 553:
    sage: C.plot()
Expected:
    Graphics object consisting of 11 graphics primitives
Got:
    Graphics object consisting of 17 graphics primitives
**********************************************************************
```
I assume this is becase previously the graph was incorrect.

Cheers,

Michael



---

archive/issue_comments_019328.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAfter checking with Mike Hansen he gave me the thumbs up for the change, so I will post a tiny reviewer patch in a second. Note that trac_3541_tinyfixes.patch is a diff, but I committed in Emily's name :)\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T13:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19328",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:13" align="right">comment:13</div>

After checking with Mike Hansen he gave me the thumbs up for the change, so I will post a tiny reviewer patch in a second. Note that trac_3541_tinyfixes.patch is a diff, but I committed in Emily's name :)

Cheers,

Michael



---

archive/issue_comments_019329.json:
```json
{
    "body": "Attachment: **[trac_3541-reviewer-doctest.patch.gz](https://github.com/sagemath/sage/files/ticket3541/trac_3541-reviewer-doctest.patch.gz)**",
    "created_at": "2009-02-14T13:30:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19329",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Attachment: **[trac_3541-reviewer-doctest.patch.gz](https://github.com/sagemath/sage/files/ticket3541/trac_3541-reviewer-doctest.patch.gz)**



---

archive/issue_events_038793.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-02-14T13:31:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38793"
}
```



---

archive/issue_events_038794.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-02-14T13:31:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3541#event-38794"
}
```



---

archive/issue_comments_019330.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMerged \n\n* trac_3541-multiedge-1.patch\n* trac_3541_beezy.patch\n* trac_3541_tinyfixes.patch\n* trac_3541-reviewer-doctest.patch\n\nin Sage 3.3.rc1. :)\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T13:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19330",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:14" align="right">comment:14</div>

Merged 

* trac_3541-multiedge-1.patch
* trac_3541_beezy.patch
* trac_3541_tinyfixes.patch
* trac_3541-reviewer-doctest.patch

in Sage 3.3.rc1. :)

Cheers,

Michael



---

archive/issue_comments_019331.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nEmily wrote all that by herself. I only reviewed and helped her with matplotlib.",
    "created_at": "2009-02-14T18:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19331",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:15" align="right">comment:15</div>

Emily wrote all that by herself. I only reviewed and helped her with matplotlib.



---

archive/issue_comments_019332.json:
```json
{
    "body": "Attachment: **[trac_3541-multiedge-graph-example-plot.png](https://github.com/sagemath/sage/files/ticket3541/trac_3541-multiedge-graph-example-plot.png)**\n\nsample plot of a multi-edge graph",
    "created_at": "2009-02-20T03:07:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19332",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Attachment: **[trac_3541-multiedge-graph-example-plot.png](https://github.com/sagemath/sage/files/ticket3541/trac_3541-multiedge-graph-example-plot.png)**

sample plot of a multi-edge graph



---

archive/issue_comments_019333.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nUploaded an image of a sample plot of a multi-edge graph. The graph was produced using the following code from the docstring of `sage.graphs.graph.GenericGraph.plot`:\n\n```\nsage: g = Graph({}, loops=True, multiedges=True)\nsage: g.add_edges([(0,0,'a'),(0,0,'b'),(0,1,'c'),(0,1,'d'), \n...     (0,1,'e'),(0,1,'f'),(0,1,'f'),(2,1,'g'),(2,2,'h')]) \nsage: g.plot(edge_labels=True, color_by_label=True, edge_style='dashed')\n```\nI uploaded the image here, so it can be referred to in the release tour of 3.3.",
    "created_at": "2009-02-20T03:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3541#issuecomment-19333",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:16" align="right">comment:16</div>

Uploaded an image of a sample plot of a multi-edge graph. The graph was produced using the following code from the docstring of `sage.graphs.graph.GenericGraph.plot`:

```
sage: g = Graph({}, loops=True, multiedges=True)
sage: g.add_edges([(0,0,'a'),(0,0,'b'),(0,1,'c'),(0,1,'d'), 
...     (0,1,'e'),(0,1,'f'),(0,1,'f'),(2,1,'g'),(2,2,'h')]) 
sage: g.plot(edge_labels=True, color_by_label=True, edge_style='dashed')
```
I uploaded the image here, so it can be referred to in the release tour of 3.3.
