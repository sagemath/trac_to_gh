# Issue 3313: Add code to lift SLm(Z/NZ) to SLm(Z) (also for m not equal 2)

archive/issues_003313.json:
```json
{
    "body": "This is very handy in the theory of abelian varieties... here's some code to do it.  Maybe someday I'll write the patch.\n\n```\ndef lift(A, N):\n    r\"\"\"\n    Lift a matrix A from SL_m(Z/NZ) to SL_m(Z).\n\n    Follows Shimura, Lemma 1.38, p21.\n\n    sage: N = 11\n    sage: A = matrix(ZZ, 4, 4, [6, 0, 0, 9, 1, 6, 9, 4, 4, 4, 8, 0, 4, 0, 0, 8])\n    sage: A.det()\n    144\n    sage: A.change_ring(Zmod(N)).det()\n    1\n    sage: L = lift(A, N)\n    sage: L.det()\n    1\n    sage: (L - A) * Mod(1, N) == 0\n    True\n\n    sage: N = 19\n    sage: B = matrix(ZZ, 4, 4, [1, 6, 10, 4, 4, 14, 15, 4, 13, 0, 1, 15, 15, 15, 17, 10])\n    sage: B.det()\n    4447\n    sage: B.change_ring(Zmod(N)).det()\n    1\n    sage: L = lift(B, N)\n    sage: L.det()\n    1\n    sage: (L - B) * Mod(1, N) == 0\n    True\n    \"\"\"\n    assert A.is_square()\n    assert det(A) != 0\n    m = A.nrows()\n    if m == 1:\n        return identity_matrix(1)\n\n    D, U, V = A.smith_form()\n    assert det(U) == 1\n    assert det(V) == 1\n#     print\n#     print \"D\"\n#     print D\n\n    a = [ D[i, i] for i in range(m) ]\n    b = prod(a[1:])\n    W = identity_matrix(m)\n    W[0, 0] = b\n    W[1, 0] = b-1\n    W[0, 1] = 1\n#     print\n#     print \"W\"\n#     print W\n\n    X = identity_matrix(m)\n    X[0, 1] = -a[1]\n#     print\n#     print \"X\"\n#     print X\n\n    Ap = D.copy()\n    Ap[0, 0] = 1\n    Ap[1, 0] = 1-a[0]\n    Ap[1, 1] *= a[0]\n#     print\n#     print \"Ap\"\n#     print Ap\n\n    assert (W*U*A*V*X).change_ring(Zmod(N)) == Ap.change_ring(Zmod(N))\n    Cp = diagonal_matrix(a[1:])\n    Cp[0, 0] *= a[0]\n    C = lift(Cp, N)\n#     print \"C\"\n#     print C\n\n    Cpp = block_diagonal_matrix(identity_matrix(1), C)\n    Cpp[1, 0] = 1-a[0]\n#     print \"Cpp\"\n#     print Cpp\n\n#     print\n    return (~U * ~W * Cpp * ~X * ~V).change_ring(ZZ)\n```\n\n**Assignee:** @williamstein\n\n**CC:**  @ncalexan @mstreng @mmasdeu\n\n**Keywords:** lift symplectic sl sl2 sl2z special linear\n\n**Branch/Commit:** [0d26272b81d7768c26650a6693d705449ec7e102](https://github.com/sagemath/sagetrac-mirror/commit/0d26272b81d7768c26650a6693d705449ec7e102)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Nick Alexander, Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/3313\n\n",
    "closed_at": "2018-01-20T10:42:45Z",
    "created_at": "2008-05-27T04:30:49Z",
    "labels": [
        "component: number theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "title": "Add code to lift SLm(Z/NZ) to SLm(Z) (also for m not equal 2)",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/3313",
    "user": "https://github.com/ncalexan"
}
```
This is very handy in the theory of abelian varieties... here's some code to do it.  Maybe someday I'll write the patch.

```
def lift(A, N):
    r"""
    Lift a matrix A from SL_m(Z/NZ) to SL_m(Z).

    Follows Shimura, Lemma 1.38, p21.

    sage: N = 11
    sage: A = matrix(ZZ, 4, 4, [6, 0, 0, 9, 1, 6, 9, 4, 4, 4, 8, 0, 4, 0, 0, 8])
    sage: A.det()
    144
    sage: A.change_ring(Zmod(N)).det()
    1
    sage: L = lift(A, N)
    sage: L.det()
    1
    sage: (L - A) * Mod(1, N) == 0
    True

    sage: N = 19
    sage: B = matrix(ZZ, 4, 4, [1, 6, 10, 4, 4, 14, 15, 4, 13, 0, 1, 15, 15, 15, 17, 10])
    sage: B.det()
    4447
    sage: B.change_ring(Zmod(N)).det()
    1
    sage: L = lift(B, N)
    sage: L.det()
    1
    sage: (L - B) * Mod(1, N) == 0
    True
    """
    assert A.is_square()
    assert det(A) != 0
    m = A.nrows()
    if m == 1:
        return identity_matrix(1)

    D, U, V = A.smith_form()
    assert det(U) == 1
    assert det(V) == 1
#     print
#     print "D"
#     print D

    a = [ D[i, i] for i in range(m) ]
    b = prod(a[1:])
    W = identity_matrix(m)
    W[0, 0] = b
    W[1, 0] = b-1
    W[0, 1] = 1
#     print
#     print "W"
#     print W

    X = identity_matrix(m)
    X[0, 1] = -a[1]
#     print
#     print "X"
#     print X

    Ap = D.copy()
    Ap[0, 0] = 1
    Ap[1, 0] = 1-a[0]
    Ap[1, 1] *= a[0]
#     print
#     print "Ap"
#     print Ap

    assert (W*U*A*V*X).change_ring(Zmod(N)) == Ap.change_ring(Zmod(N))
    Cp = diagonal_matrix(a[1:])
    Cp[0, 0] *= a[0]
    C = lift(Cp, N)
#     print "C"
#     print C

    Cpp = block_diagonal_matrix(identity_matrix(1), C)
    Cpp[1, 0] = 1-a[0]
#     print "Cpp"
#     print Cpp

#     print
    return (~U * ~W * Cpp * ~X * ~V).change_ring(ZZ)
```

**Assignee:** @williamstein

**CC:**  @ncalexan @mstreng @mmasdeu

**Keywords:** lift symplectic sl sl2 sl2z special linear

**Branch/Commit:** [0d26272b81d7768c26650a6693d705449ec7e102](https://github.com/sagemath/sagetrac-mirror/commit/0d26272b81d7768c26650a6693d705449ec7e102)

**Reviewer:** Vincent Delecroix

**Author:** Nick Alexander, Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/3313





---

archive/issue_comments_018312.json:
```json
{
    "body": "<a id='comment:2'></a>\nThere seems to be a fix for matrices arising with determinant -1 instead of +1 at [this ask question](http://ask.sagemath.org/question/2634/lifting-matrices-to-sl_2mathbbz).",
    "created_at": "2013-06-01T11:18:21Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18312",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:2'></a>
There seems to be a fix for matrices arising with determinant -1 instead of +1 at [this ask question](http://ask.sagemath.org/question/2634/lifting-matrices-to-sl_2mathbbz).



---

archive/issue_events_017734.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2017-06-30T09:53:12Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "rename": {
        "from": "Add code to lift SL2(Z/NZ) to SL2(Z) (and for m not equal 2)",
        "to": "Add code to lift SLm(Z/NZ) to SLm(Z) (also for m not equal 2)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17734"
}
```



---

archive/issue_comments_018313.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe case m=2 is already in there, but a bit hidden.\n\n```\nsage: from sage.modular.local_comp.liftings import lift_matrix_to_sl2z\nsage: Matrix(ZZ, 2, lift_matrix_to_sl2z([3,7,5,6], 18))\n\n[21 25]\n[ 5  6]\n```\nIt also has no examples in its documentation: [http://doc.sagemath.org/html/en/reference/modmisc/sage/modular/local_comp/liftings.html](http://doc.sagemath.org/html/en/reference/modmisc/sage/modular/local_comp/liftings.html)",
    "created_at": "2017-06-30T09:53:12Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18313",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:3'></a>
The case m=2 is already in there, but a bit hidden.

```
sage: from sage.modular.local_comp.liftings import lift_matrix_to_sl2z
sage: Matrix(ZZ, 2, lift_matrix_to_sl2z([3,7,5,6], 18))

[21 25]
[ 5  6]
```
It also has no examples in its documentation: [http://doc.sagemath.org/html/en/reference/modmisc/sage/modular/local_comp/liftings.html](http://doc.sagemath.org/html/en/reference/modmisc/sage/modular/local_comp/liftings.html)



---

archive/issue_events_017735.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-09-13T20:07:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17735"
}
```



---

archive/issue_comments_018314.json:
```json
{
    "body": "**Commit:** [5b88fd72731ae7669a95ec78b66e28badc46c092](https://github.com/sagemath/sagetrac-mirror/commit/5b88fd72731ae7669a95ec78b66e28badc46c092)",
    "created_at": "2017-09-13T20:07:43Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18314",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [5b88fd72731ae7669a95ec78b66e28badc46c092](https://github.com/sagemath/sagetrac-mirror/commit/5b88fd72731ae7669a95ec78b66e28badc46c092)



---

archive/issue_comments_018315.json:
```json
{
    "body": "<a id='comment:4'></a>\ndone\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b88fd72731ae7669a95ec78b66e28badc46c092\">5b88fd7</a></td><td><code>trac 3313 lift from SL_m(Z/N) to SL_m(Z)</code></td></tr></table>\n",
    "created_at": "2017-09-13T20:07:43Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18315",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
done

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b88fd72731ae7669a95ec78b66e28badc46c092">5b88fd7</a></td><td><code>trac 3313 lift from SL_m(Z/N) to SL_m(Z)</code></td></tr></table>




---

archive/issue_comments_018316.json:
```json
{
    "body": "**Branch:** [u/chapoton/3313](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/3313)",
    "created_at": "2017-09-13T20:07:43Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18316",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/3313](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/3313)



---

archive/issue_comments_018317.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/defa4706cbdb23d70b615160387d39e41fe8a6a5\">defa470</a></td><td><code>trac 3313 make the tests appear</code></td></tr></table>\n",
    "created_at": "2017-09-14T08:36:08Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/defa4706cbdb23d70b615160387d39e41fe8a6a5">defa470</a></td><td><code>trac 3313 make the tests appear</code></td></tr></table>




---

archive/issue_comments_018318.json:
```json
{
    "body": "**Changing commit** from \"[5b88fd72731ae7669a95ec78b66e28badc46c092](https://github.com/sagemath/sagetrac-mirror/commit/5b88fd72731ae7669a95ec78b66e28badc46c092)\" to \"[defa4706cbdb23d70b615160387d39e41fe8a6a5](https://github.com/sagemath/sagetrac-mirror/commit/defa4706cbdb23d70b615160387d39e41fe8a6a5)\".",
    "created_at": "2017-09-14T08:36:08Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5b88fd72731ae7669a95ec78b66e28badc46c092](https://github.com/sagemath/sagetrac-mirror/commit/5b88fd72731ae7669a95ec78b66e28badc46c092)" to "[defa4706cbdb23d70b615160387d39e41fe8a6a5](https://github.com/sagemath/sagetrac-mirror/commit/defa4706cbdb23d70b615160387d39e41fe8a6a5)".



---

archive/issue_comments_018319.json:
```json
{
    "body": "<a id='comment:6'></a>\ngreen bot, please review",
    "created_at": "2017-09-14T18:11:41Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18319",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
green bot, please review



---

archive/issue_events_017736.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-19T14:59:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17736"
}
```



---

archive/issue_events_017737.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-19T14:59:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17737"
}
```



---

archive/issue_comments_018320.json:
```json
{
    "body": "<a id='comment:7'></a>\nCould you tell me which article of Shimura you are following? That makes it easier to review.\n\nAlso the reference to shimura should be formatted as explained under the references section in http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings",
    "created_at": "2017-09-19T14:59:43Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18320",
    "user": "https://github.com/koffie"
}
```

<a id='comment:7'></a>
Could you tell me which article of Shimura you are following? That makes it easier to review.

Also the reference to shimura should be formatted as explained under the references section in http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings



---

archive/issue_comments_018321.json:
```json
{
    "body": "<a id='comment:8'></a>\nAs you may guess, given the number of the ticket, this was archeological work..\n\nI can only guess that this refers to Shimura's book \"Introduction to the arithmetic theory of automorphic functions\".\n\nSee https://math.stackexchange.com/questions/1409197/induced-group-homomorphism-textsl-n-mathbbz-twoheadrightarrow-textsl\n\nand https://mathoverflow.net/questions/164232/modular-group-modulo-n",
    "created_at": "2017-09-19T15:09:45Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18321",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
As you may guess, given the number of the ticket, this was archeological work..

I can only guess that this refers to Shimura's book "Introduction to the arithmetic theory of automorphic functions".

See https://math.stackexchange.com/questions/1409197/induced-group-homomorphism-textsl-n-mathbbz-twoheadrightarrow-textsl

and https://mathoverflow.net/questions/164232/modular-group-modulo-n



---

archive/issue_comments_018322.json:
```json
{
    "body": "**Changing commit** from \"[defa4706cbdb23d70b615160387d39e41fe8a6a5](https://github.com/sagemath/sagetrac-mirror/commit/defa4706cbdb23d70b615160387d39e41fe8a6a5)\" to \"[650c674e0a2cb3fb9370ea1a2dfffb5494a72831](https://github.com/sagemath/sagetrac-mirror/commit/650c674e0a2cb3fb9370ea1a2dfffb5494a72831)\".",
    "created_at": "2017-09-19T16:36:27Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[defa4706cbdb23d70b615160387d39e41fe8a6a5](https://github.com/sagemath/sagetrac-mirror/commit/defa4706cbdb23d70b615160387d39e41fe8a6a5)" to "[650c674e0a2cb3fb9370ea1a2dfffb5494a72831](https://github.com/sagemath/sagetrac-mirror/commit/650c674e0a2cb3fb9370ea1a2dfffb5494a72831)".



---

archive/issue_comments_018323.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/650c674e0a2cb3fb9370ea1a2dfffb5494a72831\">650c674</a></td><td><code>trac 3313 added ref to shimura</code></td></tr></table>\n",
    "created_at": "2017-09-19T16:36:27Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/650c674e0a2cb3fb9370ea1a2dfffb5494a72831">650c674</a></td><td><code>trac 3313 added ref to shimura</code></td></tr></table>




---

archive/issue_events_017738.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-09-19T16:37:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17738"
}
```



---

archive/issue_events_017739.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-09-19T16:37:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17739"
}
```



---

archive/issue_comments_018324.json:
```json
{
    "body": "<a id='comment:10'></a>\ndone",
    "created_at": "2017-09-19T16:37:34Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18324",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
done



---

archive/issue_comments_018325.json:
```json
{
    "body": "<a id='comment:11'></a>\nauthor?",
    "created_at": "2017-09-29T06:49:47Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18325",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
author?



---

archive/issue_comments_018326.json:
```json
{
    "body": "**Author:** Nick Alexander, Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2017-09-29T07:07:07Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18326",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Nick Alexander, Frédéric Chapoton



---

archive/issue_comments_018327.json:
```json
{
    "body": "<a id='comment:13'></a>\nreview?",
    "created_at": "2017-09-30T12:12:58Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18327",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
review?



---

archive/issue_comments_018328.json:
```json
{
    "body": "<a id='comment:14'></a>\n- `INPUT` section of the doc is missing\n\n- such function would better accept matrices from `SL(m, Z/NZ)` (in which case the `N` argument should be optional)\n\n```\nsage: A = matrix(Zmod(7), 2, [1,0,0,1])\nsage: L = lift_for_SL(A, 7)\nTraceback (most recent call last):\n...\nTypeError: unsupported operand parent(s) for *: 'Full MatrixSpace of 2 by 2 dense matrices over Ring of integers modulo 7' and 'Full MatrixSpace of 2 by 2 dense matrices over Rational Field'\n```\n\n- you are using inverses `~U * ~W * Cpp * ~X * ~V` but at least two of them are trivial (`W` and `X`). Why not constructing the inverses directly?\n\n- The matrix `Ap` is constructed but not used\n\n- in the matrix `D = U * A * V` you seem to be using only the diagonal terms. Would be smarter to compute only them (that would result in computing `n` terms instead of `n^2`).\n\n- the call to `C = lift_for_SL(Cp, N)` is making the function recursive. But `Cp` is a diagonal matrix, case for which the lifting is trivial.",
    "created_at": "2017-10-03T17:16:51Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18328",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>
- `INPUT` section of the doc is missing

- such function would better accept matrices from `SL(m, Z/NZ)` (in which case the `N` argument should be optional)

```
sage: A = matrix(Zmod(7), 2, [1,0,0,1])
sage: L = lift_for_SL(A, 7)
Traceback (most recent call last):
...
TypeError: unsupported operand parent(s) for *: 'Full MatrixSpace of 2 by 2 dense matrices over Ring of integers modulo 7' and 'Full MatrixSpace of 2 by 2 dense matrices over Rational Field'
```

- you are using inverses `~U * ~W * Cpp * ~X * ~V` but at least two of them are trivial (`W` and `X`). Why not constructing the inverses directly?

- The matrix `Ap` is constructed but not used

- in the matrix `D = U * A * V` you seem to be using only the diagonal terms. Would be smarter to compute only them (that would result in computing `n` terms instead of `n^2`).

- the call to `C = lift_for_SL(Cp, N)` is making the function recursive. But `Cp` is a diagonal matrix, case for which the lifting is trivial.



---

archive/issue_comments_018329.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2017-10-03T17:16:51Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18329",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_events_017740.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-03T17:16:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17740"
}
```



---

archive/issue_events_017741.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-03T17:16:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17741"
}
```



---

archive/issue_events_017742.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-03T17:16:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17742"
}
```



---

archive/issue_comments_018330.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29b9433b25808853773dc4e7a1f95c29e8000853\">29b9433</a></td><td><code>Merge branch 'u/chapoton/3313' in 8.1.rc3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a889c310d1ced386492facc9412fd13e4285227f\">a889c31</a></td><td><code>trac 3313 some enhancements</code></td></tr></table>\n",
    "created_at": "2017-11-30T16:55:33Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29b9433b25808853773dc4e7a1f95c29e8000853">29b9433</a></td><td><code>Merge branch 'u/chapoton/3313' in 8.1.rc3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a889c310d1ced386492facc9412fd13e4285227f">a889c31</a></td><td><code>trac 3313 some enhancements</code></td></tr></table>




---

archive/issue_comments_018331.json:
```json
{
    "body": "**Changing commit** from \"[650c674e0a2cb3fb9370ea1a2dfffb5494a72831](https://github.com/sagemath/sagetrac-mirror/commit/650c674e0a2cb3fb9370ea1a2dfffb5494a72831)\" to \"[a889c310d1ced386492facc9412fd13e4285227f](https://github.com/sagemath/sagetrac-mirror/commit/a889c310d1ced386492facc9412fd13e4285227f)\".",
    "created_at": "2017-11-30T16:55:33Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[650c674e0a2cb3fb9370ea1a2dfffb5494a72831](https://github.com/sagemath/sagetrac-mirror/commit/650c674e0a2cb3fb9370ea1a2dfffb5494a72831)" to "[a889c310d1ced386492facc9412fd13e4285227f](https://github.com/sagemath/sagetrac-mirror/commit/a889c310d1ced386492facc9412fd13e4285227f)".



---

archive/issue_comments_018332.json:
```json
{
    "body": "<a id='comment:16'></a>\nsome work done. Remains to get rid of the recursive call.",
    "created_at": "2017-11-30T16:56:06Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18332",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
some work done. Remains to get rid of the recursive call.



---

archive/issue_comments_018333.json:
```json
{
    "body": "**Changing commit** from \"[a889c310d1ced386492facc9412fd13e4285227f](https://github.com/sagemath/sagetrac-mirror/commit/a889c310d1ced386492facc9412fd13e4285227f)\" to \"[f58b626dbd062617c585412ffc9c9a51c1a0f1a2](https://github.com/sagemath/sagetrac-mirror/commit/f58b626dbd062617c585412ffc9c9a51c1a0f1a2)\".",
    "created_at": "2017-12-06T12:41:55Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18333",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a889c310d1ced386492facc9412fd13e4285227f](https://github.com/sagemath/sagetrac-mirror/commit/a889c310d1ced386492facc9412fd13e4285227f)" to "[f58b626dbd062617c585412ffc9c9a51c1a0f1a2](https://github.com/sagemath/sagetrac-mirror/commit/f58b626dbd062617c585412ffc9c9a51c1a0f1a2)".



---

archive/issue_comments_018334.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20e4e418be1f2d9a117db87e3795ec1957901972\">20e4e41</a></td><td><code>Merge branch 'u/chapoton/3313' in 8.1.rc4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f58b626dbd062617c585412ffc9c9a51c1a0f1a2\">f58b626</a></td><td><code>trac 3313 some details, allow ZZ matrices as input again</code></td></tr></table>\n",
    "created_at": "2017-12-06T12:41:55Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20e4e418be1f2d9a117db87e3795ec1957901972">20e4e41</a></td><td><code>Merge branch 'u/chapoton/3313' in 8.1.rc4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f58b626dbd062617c585412ffc9c9a51c1a0f1a2">f58b626</a></td><td><code>trac 3313 some details, allow ZZ matrices as input again</code></td></tr></table>




---

archive/issue_comments_018335.json:
```json
{
    "body": "<a id='comment:18'></a>\nIt is not true that the lift of diagonal matrices is trivial.\n\nSo this is now ready for review.",
    "created_at": "2017-12-06T12:43:00Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18335",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
It is not true that the lift of diagonal matrices is trivial.

So this is now ready for review.



---

archive/issue_events_017743.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-06T12:43:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17743"
}
```



---

archive/issue_events_017744.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-12-06T12:43:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17744"
}
```



---

archive/issue_comments_018336.json:
```json
{
    "body": "**Changing commit** from \"[f58b626dbd062617c585412ffc9c9a51c1a0f1a2](https://github.com/sagemath/sagetrac-mirror/commit/f58b626dbd062617c585412ffc9c9a51c1a0f1a2)\" to \"[42108d59dd989161960dbab4933eeae4cd7d05dc](https://github.com/sagemath/sagetrac-mirror/commit/42108d59dd989161960dbab4933eeae4cd7d05dc)\".",
    "created_at": "2017-12-06T17:00:09Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f58b626dbd062617c585412ffc9c9a51c1a0f1a2](https://github.com/sagemath/sagetrac-mirror/commit/f58b626dbd062617c585412ffc9c9a51c1a0f1a2)" to "[42108d59dd989161960dbab4933eeae4cd7d05dc](https://github.com/sagemath/sagetrac-mirror/commit/42108d59dd989161960dbab4933eeae4cd7d05dc)".



---

archive/issue_comments_018337.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42108d59dd989161960dbab4933eeae4cd7d05dc\">42108d5</a></td><td><code>trac 3313 one more enhancement</code></td></tr></table>\n",
    "created_at": "2017-12-06T17:00:09Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42108d59dd989161960dbab4933eeae4cd7d05dc">42108d5</a></td><td><code>trac 3313 one more enhancement</code></td></tr></table>




---

archive/issue_comments_018338.json:
```json
{
    "body": "<a id='comment:20'></a>\nSalut Fr\u00e9d\u00e9ric,\n\nI don't understand completely why recursion is needed. In the recursive call, you are calling the function with a diagonal matrix as input that only depends on the Smith form. But this Smith form is trivial (U=V=identit\u00e9 and D=the input matrix). Of course `Winv` and `Xinv` are non trivial. But it should not be so complicated to include them in a loop. Though I did not give a try. Perhaps you want me to?\n\nInstead of\n\n```\n    diag = diagonal_matrix([-1] + [1] * (m - 1))\n    if U.det() == -1:\n        U = diag * U\n    if V.det() == -1:\n        V = V * diag\n```\nwouldn't\n\n```\n    if U.det() * V.det() == -1:\n        diag = diagonal_matrix([-1] + [1] * (m - 1))\n        U = diag * U\n```\nbe ok?",
    "created_at": "2017-12-06T20:16:21Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18338",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
Salut Frédéric,

I don't understand completely why recursion is needed. In the recursive call, you are calling the function with a diagonal matrix as input that only depends on the Smith form. But this Smith form is trivial (U=V=identité and D=the input matrix). Of course `Winv` and `Xinv` are non trivial. But it should not be so complicated to include them in a loop. Though I did not give a try. Perhaps you want me to?

Instead of

```
    diag = diagonal_matrix([-1] + [1] * (m - 1))
    if U.det() == -1:
        U = diag * U
    if V.det() == -1:
        V = V * diag
```
wouldn't

```
    if U.det() * V.det() == -1:
        diag = diagonal_matrix([-1] + [1] * (m - 1))
        U = diag * U
```
be ok?



---

archive/issue_comments_018339.json:
```json
{
    "body": "<a id='comment:21'></a>\nI would rather not spend a too large amount of time on that ticket. I would prefer to have feedback on #22397, potentially useful for my research.\n\nSmith form of a diagonal matrix may not be totally trivial:\n\n```\nsage: m = diagonal_matrix(ZZ,[2*2*3,2*3*5,2*3*5*7])\nsage: m.smith_form()\n\n(\n[  6   0   0]  [  1   0   1]  [-17   0 -35]\n[  0  30   0]  [  0   1   0]  [  0   1   0]\n[  0   0 420], [-35   0 -34], [  1   0   2]\n)\n```",
    "created_at": "2017-12-07T16:56:00Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18339",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
I would rather not spend a too large amount of time on that ticket. I would prefer to have feedback on #22397, potentially useful for my research.

Smith form of a diagonal matrix may not be totally trivial:

```
sage: m = diagonal_matrix(ZZ,[2*2*3,2*3*5,2*3*5*7])
sage: m.smith_form()

(
[  6   0   0]  [  1   0   1]  [-17   0 -35]
[  0  30   0]  [  0   1   0]  [  0   1   0]
[  0   0 420], [-35   0 -34], [  1   0   2]
)
```



---

archive/issue_comments_018340.json:
```json
{
    "body": "<a id='comment:22'></a>\nI see now. Thanks for the example.\n\n- What about input matrices being defined over `ZZ/N ZZ`? (see also [This is the Trac macro *comment:14* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#comment:14-macro)) \n\n- Could you add some random tests\n\n```\nsage: for _ in range(100):\n....:     d = randint(0, 10)\n....:     p = choice([2,3,5,7,11])\n....:     M = random_matrix(Zmod(p), d, algorithm='unimodular')\n....:     lift_for_SL(M)\n```",
    "created_at": "2017-12-08T22:12:54Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18340",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
I see now. Thanks for the example.

- What about input matrices being defined over `ZZ/N ZZ`? (see also [This is the Trac macro *comment:14* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#comment:14-macro)) 

- Could you add some random tests

```
sage: for _ in range(100):
....:     d = randint(0, 10)
....:     p = choice([2,3,5,7,11])
....:     M = random_matrix(Zmod(p), d, algorithm='unimodular')
....:     lift_for_SL(M)
```



---

archive/issue_comments_018341.json:
```json
{
    "body": "**Changing commit** from \"[42108d59dd989161960dbab4933eeae4cd7d05dc](https://github.com/sagemath/sagetrac-mirror/commit/42108d59dd989161960dbab4933eeae4cd7d05dc)\" to \"[2a0765a947feef6e61d4bff50dde7635c1711198](https://github.com/sagemath/sagetrac-mirror/commit/2a0765a947feef6e61d4bff50dde7635c1711198)\".",
    "created_at": "2017-12-09T07:57:43Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18341",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[42108d59dd989161960dbab4933eeae4cd7d05dc](https://github.com/sagemath/sagetrac-mirror/commit/42108d59dd989161960dbab4933eeae4cd7d05dc)" to "[2a0765a947feef6e61d4bff50dde7635c1711198](https://github.com/sagemath/sagetrac-mirror/commit/2a0765a947feef6e61d4bff50dde7635c1711198)".



---

archive/issue_comments_018342.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6aa4f53e9582ea8415e7c6046fb4fc0e74283103\">6aa4f53</a></td><td><code>Merge branch 'u/chapoton/3313' in 8.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a0765a947feef6e61d4bff50dde7635c1711198\">2a0765a</a></td><td><code>trac 3313 add random tests</code></td></tr></table>\n",
    "created_at": "2017-12-09T07:57:43Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18342",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6aa4f53e9582ea8415e7c6046fb4fc0e74283103">6aa4f53</a></td><td><code>Merge branch 'u/chapoton/3313' in 8.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a0765a947feef6e61d4bff50dde7635c1711198">2a0765a</a></td><td><code>trac 3313 add random tests</code></td></tr></table>




---

archive/issue_comments_018343.json:
```json
{
    "body": "<a id='comment:24'></a>\nRandom tests were added.\n\nAnd the function already accepts both matrices in ZZ and in Zmod.",
    "created_at": "2017-12-09T07:59:24Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18343",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>
Random tests were added.

And the function already accepts both matrices in ZZ and in Zmod.



---

archive/issue_events_017745.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-15T14:33:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17745"
}
```



---

archive/issue_events_017746.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-15T14:33:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17746"
}
```



---

archive/issue_events_017747.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-15T14:33:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17747"
}
```



---

archive/issue_events_017748.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-12-15T14:33:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17748"
}
```



---

archive/issue_events_017749.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-17T10:52:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17749"
}
```



---

archive/issue_events_017750.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-17T10:52:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17750"
}
```



---

archive/issue_comments_018344.json:
```json
{
    "body": "<a id='comment:26'></a>\nMerge conflict",
    "created_at": "2017-12-17T10:52:16Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18344",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>
Merge conflict



---

archive/issue_comments_018345.json:
```json
{
    "body": "**Changing commit** from \"[2a0765a947feef6e61d4bff50dde7635c1711198](https://github.com/sagemath/sagetrac-mirror/commit/2a0765a947feef6e61d4bff50dde7635c1711198)\" to \"[734dead038f36f15ac24badcf400b092d49be06f](https://github.com/sagemath/sagetrac-mirror/commit/734dead038f36f15ac24badcf400b092d49be06f)\".",
    "created_at": "2018-01-12T13:02:17Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2a0765a947feef6e61d4bff50dde7635c1711198](https://github.com/sagemath/sagetrac-mirror/commit/2a0765a947feef6e61d4bff50dde7635c1711198)" to "[734dead038f36f15ac24badcf400b092d49be06f](https://github.com/sagemath/sagetrac-mirror/commit/734dead038f36f15ac24badcf400b092d49be06f)".



---

archive/issue_comments_018346.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/734dead038f36f15ac24badcf400b092d49be06f\">734dead</a></td><td><code>Merge branch 'u/chapoton/3313' of trac.sagemath.org:sage into 8.2.b2</code></td></tr></table>\n",
    "created_at": "2018-01-12T13:02:17Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/734dead038f36f15ac24badcf400b092d49be06f">734dead</a></td><td><code>Merge branch 'u/chapoton/3313' of trac.sagemath.org:sage into 8.2.b2</code></td></tr></table>




---

archive/issue_events_017751.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-12T13:02:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17751"
}
```



---

archive/issue_events_017752.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-12T13:02:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17752"
}
```



---

archive/issue_comments_018347.json:
```json
{
    "body": "<a id='comment:28'></a>\nafter a trivial rebase, I allow myself to set this back to positive",
    "created_at": "2018-01-12T13:02:51Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18347",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'></a>
after a trivial rebase, I allow myself to set this back to positive



---

archive/issue_comments_018348.json:
```json
{
    "body": "<a id='comment:29'></a>\nDocumentation doesn't build (see patchbot)",
    "created_at": "2018-01-14T12:03:22Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18348",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>
Documentation doesn't build (see patchbot)



---

archive/issue_events_017753.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-14T12:03:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17753"
}
```



---

archive/issue_events_017754.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-14T12:03:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17754"
}
```



---

archive/issue_comments_018349.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d26272b81d7768c26650a6693d705449ec7e102\">0d26272</a></td><td><code>trac 3313 fix doc</code></td></tr></table>\n",
    "created_at": "2018-01-14T15:40:56Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18349",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d26272b81d7768c26650a6693d705449ec7e102">0d26272</a></td><td><code>trac 3313 fix doc</code></td></tr></table>




---

archive/issue_comments_018350.json:
```json
{
    "body": "**Changing commit** from \"[734dead038f36f15ac24badcf400b092d49be06f](https://github.com/sagemath/sagetrac-mirror/commit/734dead038f36f15ac24badcf400b092d49be06f)\" to \"[0d26272b81d7768c26650a6693d705449ec7e102](https://github.com/sagemath/sagetrac-mirror/commit/0d26272b81d7768c26650a6693d705449ec7e102)\".",
    "created_at": "2018-01-14T15:40:56Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18350",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[734dead038f36f15ac24badcf400b092d49be06f](https://github.com/sagemath/sagetrac-mirror/commit/734dead038f36f15ac24badcf400b092d49be06f)" to "[0d26272b81d7768c26650a6693d705449ec7e102](https://github.com/sagemath/sagetrac-mirror/commit/0d26272b81d7768c26650a6693d705449ec7e102)".



---

archive/issue_events_017755.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-14T18:00:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17755"
}
```



---

archive/issue_events_017756.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-01-14T18:00:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17756"
}
```



---

archive/issue_comments_018351.json:
```json
{
    "body": "<a id='comment:31'></a>\nok, bot is now green",
    "created_at": "2018-01-14T18:00:37Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18351",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
ok, bot is now green



---

archive/issue_comments_018352.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/3313](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/3313)\" to \"[0d26272b81d7768c26650a6693d705449ec7e102](https://github.com/sagemath/sagetrac-mirror/commit/0d26272b81d7768c26650a6693d705449ec7e102)\".",
    "created_at": "2018-01-20T10:42:45Z",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3313#issuecomment-18352",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/3313](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/3313)" to "[0d26272b81d7768c26650a6693d705449ec7e102](https://github.com/sagemath/sagetrac-mirror/commit/0d26272b81d7768c26650a6693d705449ec7e102)".



---

archive/issue_events_017757.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-20T10:42:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17757"
}
```



---

archive/issue_events_017758.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5b64807c9484556486fb9556241684468cdad857",
    "created_at": "2018-01-20T10:42:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3313",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3313#event-17758"
}
```
