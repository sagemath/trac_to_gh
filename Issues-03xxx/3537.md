# Issue 3537: Change $RM in sage-env

archive/issues_003537.json:
```json
{
    "body": "The env variable RM is set to `rm` instead of `rm -f`. This breaks newer libtools, for example anything in Fedora 12 or later (libtool 2.2.6, autoconf 2.63, automake 1.11.1). They assume that `$RM` is either unset or `RM=\"rm -f\"`, that is, deleting non-existing files must not cause an error.\n\nOne of the symptoms of this breakage is that configure ends with\n\n```\nrm: cannot remove `libtoolT': No such file or directory\n```\nCompile will break later on...\n\n---\n\nThere are three approaches presented here:\n\n- change $RM from \"rm\" to \"rm -f\": [attachment:trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch)\n- keep $RM as it is, but document it: [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch) (needs_work)\n- don't set $RM at all: [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)\n\nApply [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)\n\n**Assignee:** @garyfurnish\n\n**CC:**  mabshoff Snark drkirkby @jdemeyer\n\n**Author:** Jeroen Demeyer\n\n**Reviewer:** Mariah Lenox\n\n**Merged:** sage-4.7.1.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/3537\n\n",
    "closed_at": "2011-05-17T08:47:22Z",
    "created_at": "2008-06-30T03:24:02Z",
    "labels": [
        "component: scripts",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.1",
    "title": "Change $RM in sage-env",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/3537",
    "user": "https://github.com/garyfurnish"
}
```
The env variable RM is set to `rm` instead of `rm -f`. This breaks newer libtools, for example anything in Fedora 12 or later (libtool 2.2.6, autoconf 2.63, automake 1.11.1). They assume that `$RM` is either unset or `RM="rm -f"`, that is, deleting non-existing files must not cause an error.

One of the symptoms of this breakage is that configure ends with

```
rm: cannot remove `libtoolT': No such file or directory
```
Compile will break later on...

---

There are three approaches presented here:

- change $RM from "rm" to "rm -f": [attachment:trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch)
- keep $RM as it is, but document it: [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch) (needs_work)
- don't set $RM at all: [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)

Apply [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)

**Assignee:** @garyfurnish

**CC:**  mabshoff Snark drkirkby @jdemeyer

**Author:** Jeroen Demeyer

**Reviewer:** Mariah Lenox

**Merged:** sage-4.7.1.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/3537





---

archive/attachments_003673.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_3537_scripts.patch",
    "asset_url": "tarball://root/attachments/ticket3537/trac_3537_scripts.patch",
    "created_at": "2008-06-30T03:27:30Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch",
    "user": "https://github.com/garyfurnish"
}
```



---

archive/issue_comments_020091.json:
```json
{
    "body": "**Attachment:** [trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch)",
    "created_at": "2008-06-30T03:27:30Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20091",
    "user": "https://github.com/garyfurnish"
}
```

**Attachment:** [trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch)



---

archive/issue_events_019526.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-06-30T03:28:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone": "sage-3.0.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19526"
}
```



---

archive/issue_comments_020092.json:
```json
{
    "body": "**Changing assignee** from mabshoff to @garyfurnish.",
    "created_at": "2008-06-30T03:28:37Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20092",
    "user": "https://github.com/garyfurnish"
}
```

**Changing assignee** from mabshoff to @garyfurnish.



---

archive/issue_events_019527.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/ghtdak",
    "created_at": "2008-06-30T03:57:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19527"
}
```



---

archive/issue_comments_020093.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe intent of -f is to avoid errors for the conditions cited as a problem.",
    "created_at": "2008-06-30T03:57:42Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20093",
    "user": "https://trac.sagemath.org/admin/accounts/users/ghtdak"
}
```

<a id='comment:2'></a>
The intent of -f is to avoid errors for the conditions cited as a problem.



---

archive/issue_events_019528.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-06-30T04:45:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "rename": {
        "from": "sage-env breaks makefile RM",
        "to": "[mixed review] sage-env breaks makefile RM"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19528"
}
```



---

archive/issue_events_019529.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-06-30T04:45:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19529"
}
```



---

archive/issue_comments_020094.json:
```json
{
    "body": "<a id='comment:3'></a>\nI am not convinced yet that this is the right thing to do and it is rather likely that this will break something else in the tree. The solution to M2's problem is to unset RM in spkg-install and then to set RM to some value you desire.\n\nAnd this is definitely not a blocker for 3.0.4.\n\nCheers,\n\nMichael",
    "created_at": "2008-06-30T04:45:17Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20094",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
I am not convinced yet that this is the right thing to do and it is rather likely that this will break something else in the tree. The solution to M2's problem is to unset RM in spkg-install and then to set RM to some value you desire.

And this is definitely not a blocker for 3.0.4.

Cheers,

Michael



---

archive/issue_comments_020095.json:
```json
{
    "body": "<a id='comment:4'></a>\nIf M2 depends on the default behavior of RM in its Makefiles it should set RM in its top level makefile. I see no reason to change Sage's behavior and as is if someone sets RM outside of sage-env it is propagated anyway. So this is wontfix.\n\nCheers,\n\nMichael",
    "created_at": "2008-07-01T04:40:38Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20095",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:4'></a>
If M2 depends on the default behavior of RM in its Makefiles it should set RM in its top level makefile. I see no reason to change Sage's behavior and as is if someone sets RM outside of sage-env it is propagated anyway. So this is wontfix.

Cheers,

Michael



---

archive/issue_events_019530.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19530"
}
```



---

archive/issue_events_019531.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19531"
}
```



---

archive/issue_events_019532.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19532"
}
```



---

archive/issue_events_019533.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone": "sage-3.0.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19533"
}
```



---

archive/issue_events_019534.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T11:58:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "rename": {
        "from": "[mixed review] sage-env breaks makefile RM",
        "to": "sage-env should set RM=\"rm -f\""
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19534"
}
```



---

archive/issue_events_019535.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T11:58:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19535"
}
```



---

archive/issue_comments_020096.json:
```json
{
    "body": "<a id='comment:5'></a>\nI'm reopening this bug since people keep tripping over this issue. We need to fix this or we'll end up with every spkg working around the `RM=rm` issue. As the spkg maintainer/author, I know that `cddlib` and `TOPCOM` both need to `unset RM` or they won't build. In #10285 it was noted a few days ago that Boehm GC 7.2 also trips over this issue. More and more packages will fail because of this issue as soon as upsteam re-runs autotools...\n\nFor the record, gfurnish's patch applies cleanly on Sage-4.6.1.alpha3 (apply to the $SAGE_LOCAL/bin repo)\n\nI'd be happy to give this a positive review. Maybe mabshoff can reconsider his objections?",
    "created_at": "2010-12-11T11:58:59Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20096",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>
I'm reopening this bug since people keep tripping over this issue. We need to fix this or we'll end up with every spkg working around the `RM=rm` issue. As the spkg maintainer/author, I know that `cddlib` and `TOPCOM` both need to `unset RM` or they won't build. In #10285 it was noted a few days ago that Boehm GC 7.2 also trips over this issue. More and more packages will fail because of this issue as soon as upsteam re-runs autotools...

For the record, gfurnish's patch applies cleanly on Sage-4.6.1.alpha3 (apply to the $SAGE_LOCAL/bin repo)

I'd be happy to give this a positive review. Maybe mabshoff can reconsider his objections?



---

archive/issue_comments_020097.json:
```json
{
    "body": "**Author:** gfurnish",
    "created_at": "2010-12-11T11:58:59Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20097",
    "user": "https://github.com/vbraun"
}
```

**Author:** gfurnish



---

archive/issue_events_019536.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T11:58:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19536"
}
```



---

archive/issue_comments_020098.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,10 @@\n-The env variable RM is set to rm instead of rm -rf.  This breaks some functionality of make (such as compiling .l files) which breaks the ability to compile M2 with sage-env sourced.\n+The env variable RM is set to `rm` instead of `rm -f`. This breaks newer libtools, for example anything in Fedora 12 or later (libtool 2.2.6, autoconf 2.63, automake 1.11.1). They assume that `$RM` is either unset or `RM=\"rm -f\"`, that is, deleting non-existing files must not cause an error.\n \n+One of the symptoms of this breakage is that configure ends with\n+\n+```\n+rm: cannot remove `libtoolT': No such file or directory\n+```\n+Compile will break later on...\n+\n+\n``````\n",
    "created_at": "2010-12-11T11:58:59Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20098",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,10 @@
-The env variable RM is set to rm instead of rm -rf.  This breaks some functionality of make (such as compiling .l files) which breaks the ability to compile M2 with sage-env sourced.
+The env variable RM is set to `rm` instead of `rm -f`. This breaks newer libtools, for example anything in Fedora 12 or later (libtool 2.2.6, autoconf 2.63, automake 1.11.1). They assume that `$RM` is either unset or `RM="rm -f"`, that is, deleting non-existing files must not cause an error.
 
+One of the symptoms of this breakage is that configure ends with
+
+```
+rm: cannot remove `libtoolT': No such file or directory
+```
+Compile will break later on...
+
+
``````




---

archive/issue_events_019537.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T12:07:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19537"
}
```



---

archive/issue_comments_020099.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@vbraun](#comment%3A5):\n> I'm reopening this bug since people keep tripping over this issue. We need to fix this or we'll end up with every spkg working around the `RM=rm` issue.\n\nWell, is this a bug? \n\n> More and more packages will fail because of this issue as soon as upsteam re-runs autotools...\n\nThat's IMHO a problem of autotools. `$RM` is in general not supposed to *not return an error* on non-existing files; if autotools were a bit smarter, they would just add `-f` or whatever might be appropriate. If they redefine the meaning of `RM`, that's not Sage's problem in the first place; of course spkg maintainers would have to `unset RM` for upstream packages using (newer) autotools.\n\n\n> I'd be happy to give this a positive review. Maybe mabshoff can reconsider his objections?\n\nMichael has quit a while ago, though he perhaps still reads trac notifications... ;-)\n\n\nNote that redefining `RM` in `sage-env` could actually break other parts of Sage, not necessarily limited to spkgs, since e.g. removing a file which is expected to exist, but doesn't, without raising an error might hide other errors and cause arbitrary behavior.\n\nAlso, as Michael said, changing the default value in `sage-env` doesn't help if `RM` was already defined (intentionally or not) by the user, so w.r.t. autotools really *won't fix*. We have to `unset RM` (or add an appropriate flag to force deletion if it's not already contained) in `spkg-install`s of such packages anyway to be safe.\n\n\nI think we should prominently document this issue, and close this ticket again.",
    "created_at": "2010-12-17T15:54:32Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20099",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Replying to [@vbraun](#comment%3A5):
> I'm reopening this bug since people keep tripping over this issue. We need to fix this or we'll end up with every spkg working around the `RM=rm` issue.

Well, is this a bug? 

> More and more packages will fail because of this issue as soon as upsteam re-runs autotools...

That's IMHO a problem of autotools. `$RM` is in general not supposed to *not return an error* on non-existing files; if autotools were a bit smarter, they would just add `-f` or whatever might be appropriate. If they redefine the meaning of `RM`, that's not Sage's problem in the first place; of course spkg maintainers would have to `unset RM` for upstream packages using (newer) autotools.


> I'd be happy to give this a positive review. Maybe mabshoff can reconsider his objections?

Michael has quit a while ago, though he perhaps still reads trac notifications... ;-)


Note that redefining `RM` in `sage-env` could actually break other parts of Sage, not necessarily limited to spkgs, since e.g. removing a file which is expected to exist, but doesn't, without raising an error might hide other errors and cause arbitrary behavior.

Also, as Michael said, changing the default value in `sage-env` doesn't help if `RM` was already defined (intentionally or not) by the user, so w.r.t. autotools really *won't fix*. We have to `unset RM` (or add an appropriate flag to force deletion if it's not already contained) in `spkg-install`s of such packages anyway to be safe.


I think we should prominently document this issue, and close this ticket again.



---

archive/issue_comments_020100.json:
```json
{
    "body": "<a id='comment:8'></a>\nWhy does `RM` need to be defined at all?",
    "created_at": "2010-12-17T16:00:28Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20100",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Why does `RM` need to be defined at all?



---

archive/issue_comments_020101.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [@jdemeyer](#comment%3A8):\n> Why does `RM` need to be defined at all?\n\nBecause\n\n```sh\n${RM} some_file\n```\nwill (hopefully) fail if `RM` is not set or empty?\n\nImagine `some_file` was executable in that case...\n\n\n\n\nIt would be a bit odd to test and eventually set all such variables individually in every script that uses some of these, therefore we have `sage-env`.\n\nThough `CP`, `RM` etc. are meanwhile hardly used within Sage; perhaps because setting them isn't necessary on any proper OS...\n\nInstead, it would be better to have e.g. `EGREP`, (POSIX-conformant) `GREP` etc., detected / set by Sage's `configure`.",
    "created_at": "2010-12-17T17:53:11Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20101",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>
Replying to [@jdemeyer](#comment%3A8):
> Why does `RM` need to be defined at all?

Because

```sh
${RM} some_file
```
will (hopefully) fail if `RM` is not set or empty?

Imagine `some_file` was executable in that case...




It would be a bit odd to test and eventually set all such variables individually in every script that uses some of these, therefore we have `sage-env`.

Though `CP`, `RM` etc. are meanwhile hardly used within Sage; perhaps because setting them isn't necessary on any proper OS...

Instead, it would be better to have e.g. `EGREP`, (POSIX-conformant) `GREP` etc., detected / set by Sage's `configure`.



---

archive/issue_comments_020102.json:
```json
{
    "body": "<a id='comment:10'></a>\nI seriously doubt that anybody uses the \"destructive existence test\" `$RM filename || ...` :-)\n\nAutomake has an official list of variables that it looks at. Perhaps it is a bug that `RM` is on the list, but its still our problem and I doubt upstream will change because some guys from Sage have a variable name collision. See also http://www.gnu.org/software/automake/manual/make/Implicit-Variables.html",
    "created_at": "2010-12-17T20:04:28Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20102",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>
I seriously doubt that anybody uses the "destructive existence test" `$RM filename || ...` :-)

Automake has an official list of variables that it looks at. Perhaps it is a bug that `RM` is on the list, but its still our problem and I doubt upstream will change because some guys from Sage have a variable name collision. See also http://www.gnu.org/software/automake/manual/make/Implicit-Variables.html



---

archive/issue_comments_020103.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [@nexttime](#comment%3A9):\n> Because\n> \n> ```sh\n> ${RM} some_file\n> ```\n> will (hopefully) fail if `RM` is not set or empty?\n\nWhere is such code used?  My guess: nowhere.",
    "created_at": "2010-12-18T13:19:41Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20103",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Replying to [@nexttime](#comment%3A9):
> Because
> 
> ```sh
> ${RM} some_file
> ```
> will (hopefully) fail if `RM` is not set or empty?

Where is such code used?  My guess: nowhere.



---

archive/issue_comments_020104.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [@jdemeyer](#comment%3A11):\n> Replying to [@nexttime](#comment%3A9):\n> > Because\n\n\n```sh\n${RM} some_file\n```\n> > will (hopefully) fail if `RM` is not set or empty?\n\n> \n> Where is such code used?  My guess: nowhere.\n\nE.g. Singular's `spkg-install` does. (It actually does `$RM -f ...`.)\n\nI wouldn't base such changes on guesses... ;-)",
    "created_at": "2010-12-26T18:33:20Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20104",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>
Replying to [@jdemeyer](#comment%3A11):
> Replying to [@nexttime](#comment%3A9):
> > Because


```sh
${RM} some_file
```
> > will (hopefully) fail if `RM` is not set or empty?

> 
> Where is such code used?  My guess: nowhere.

E.g. Singular's `spkg-install` does. (It actually does `$RM -f ...`.)

I wouldn't base such changes on guesses... ;-)



---

archive/issue_comments_020105.json:
```json
{
    "body": "<a id='comment:13'></a>\nFor the record:\n\n```\n[vbraun@volker-desktop spkg-unpacked]$ grep '\\$RM' */*\ngap-4.4.12.p4/SPKG.txt: * #7873 Remove references to $LN, $MKIDR and $RM and replace\nmercurial-1.6.4.p0/SPKG.txt: * Changes occurrences of $RM to 'rm', $CP to 'cp' and similar.\nsage_scripts-4.6.1.alpha3.p0/sage-env:if [ \"$RM\" = \"\" ]; then\nsingular-3-1-1-4.p3/spkg-install:        $RM -f LIB\nsingular-3-1-1-4.p3/spkg-install:    $RM -f Singular singular\nsingular-3-1-1-4.p3/spkg-install:        $RM -f Singular-1-0-2   # remove previous version of Singular.\n```",
    "created_at": "2010-12-26T19:16:57Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20105",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>
For the record:

```
[vbraun@volker-desktop spkg-unpacked]$ grep '\$RM' */*
gap-4.4.12.p4/SPKG.txt: * #7873 Remove references to $LN, $MKIDR and $RM and replace
mercurial-1.6.4.p0/SPKG.txt: * Changes occurrences of $RM to 'rm', $CP to 'cp' and similar.
sage_scripts-4.6.1.alpha3.p0/sage-env:if [ "$RM" = "" ]; then
singular-3-1-1-4.p3/spkg-install:        $RM -f LIB
singular-3-1-1-4.p3/spkg-install:    $RM -f Singular singular
singular-3-1-1-4.p3/spkg-install:        $RM -f Singular-1-0-2   # remove previous version of Singular.
```



---

archive/issue_comments_020106.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [@vbraun](#comment%3A13):\n> For the record:\n\n\n```sh\n[vbraun@volker-desktop spkg-unpacked]$ grep '\\$RM' */*\n```\n\nRedo for `${RM}`, too? (Also `$(RM)` in Makefiles.)\n\nNot sure if there are some \"deeper\" instances as well.",
    "created_at": "2010-12-26T22:23:40Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20106",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'></a>
Replying to [@vbraun](#comment%3A13):
> For the record:


```sh
[vbraun@volker-desktop spkg-unpacked]$ grep '\$RM' */*
```

Redo for `${RM}`, too? (Also `$(RM)` in Makefiles.)

Not sure if there are some "deeper" instances as well.



---

archive/issue_comments_020107.json:
```json
{
    "body": "<a id='comment:15'></a>\n\n```\n[vbraun@volker-desktop spkg-unpacked]$ grep '\\$.RM' */*\nsingular-3-1-1-4.p3/install-sh:rmprog=\"${RMPROG-rm}\"\n```\nand\n\n```\n[vbraun@volker-desktop spkg-unpacked]$ grep '\\$.*RM' */*\ngap-4.4.12.p4/SPKG.txt: * #7873 Remove references to $LN, $MKIDR and $RM and replace\nmercurial-1.6.4.p0/SPKG.txt: * Changes occurrences of $RM to 'rm', $CP to 'cp' and similar.\nsage_scripts-4.6.1.alpha3.p0/sage-check-64:\t\tcase $CONFIRM in\nsage_scripts-4.6.1.alpha3.p0/sage-env:if [ \"$RM\" = \"\" ]; then\nsingular-3-1-1-4.p3/install-sh:rmprog=\"${RMPROG-rm}\"\nsingular-3-1-1-4.p3/spkg-install:        $RM -f LIB\nsingular-3-1-1-4.p3/spkg-install:    $RM -f Singular singular\nsingular-3-1-1-4.p3/spkg-install:        $RM -f Singular-1-0-2   # remove previous version of Singular.\n```",
    "created_at": "2010-12-26T22:51:26Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20107",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>

```
[vbraun@volker-desktop spkg-unpacked]$ grep '\$.RM' */*
singular-3-1-1-4.p3/install-sh:rmprog="${RMPROG-rm}"
```
and

```
[vbraun@volker-desktop spkg-unpacked]$ grep '\$.*RM' */*
gap-4.4.12.p4/SPKG.txt: * #7873 Remove references to $LN, $MKIDR and $RM and replace
mercurial-1.6.4.p0/SPKG.txt: * Changes occurrences of $RM to 'rm', $CP to 'cp' and similar.
sage_scripts-4.6.1.alpha3.p0/sage-check-64:		case $CONFIRM in
sage_scripts-4.6.1.alpha3.p0/sage-env:if [ "$RM" = "" ]; then
singular-3-1-1-4.p3/install-sh:rmprog="${RMPROG-rm}"
singular-3-1-1-4.p3/spkg-install:        $RM -f LIB
singular-3-1-1-4.p3/spkg-install:    $RM -f Singular singular
singular-3-1-1-4.p3/spkg-install:        $RM -f Singular-1-0-2   # remove previous version of Singular.
```



---

archive/issue_comments_020108.json:
```json
{
    "body": "<a id='comment:16'></a>\nSo right now, singular is the only place this is used, and it consistently uses \"$RM -f\", right?  Given this, rather than set `RM=\"rm -f\"`, it seems better to leave it as is and document it in the developer's guide (in the section on producing new spkg's), and perhaps also in the installation guide (in the section on environment variables).  Here's a patch doing that; what do you think?",
    "created_at": "2011-03-26T17:02:28Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20108",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>
So right now, singular is the only place this is used, and it consistently uses "$RM -f", right?  Given this, rather than set `RM="rm -f"`, it seems better to leave it as is and document it in the developer's guide (in the section on producing new spkg's), and perhaps also in the installation guide (in the section on environment variables).  Here's a patch doing that; what do you think?



---

archive/attachments_003674.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_3537-doc.patch",
    "asset_url": "tarball://root/attachments/ticket3537/trac_3537-doc.patch",
    "created_at": "2011-03-26T17:04:47Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_020109.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Attachment:** [trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch)",
    "created_at": "2011-03-26T17:04:47Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20109",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>
**Attachment:** [trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch)



---

archive/issue_comments_020110.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,4 +7,11 @@\n ```\n Compile will break later on...\n \n+---\n \n+There are two approaches presented here:\n+\n+- change $RM from \"rm\" to \"rm -f\"  (this is [attachment:trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch))\n+- keep $RM as it is, but document it (this is [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch))\n+\n+Only one should be applied, not both.\n``````\n",
    "created_at": "2011-03-26T17:04:47Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20110",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,4 +7,11 @@
 ```
 Compile will break later on...
 
+---
 
+There are two approaches presented here:
+
+- change $RM from "rm" to "rm -f"  (this is [attachment:trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch))
+- keep $RM as it is, but document it (this is [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch))
+
+Only one should be applied, not both.
``````




---

archive/issue_comments_020111.json:
```json
{
    "body": "<a id='comment:18'></a>\nMy opinion still is that `RM` should simply be left unset (of course, a few install scripts will have to be changed).",
    "created_at": "2011-03-26T18:03:41Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20111",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
My opinion still is that `RM` should simply be left unset (of course, a few install scripts will have to be changed).



---

archive/issue_comments_020112.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [@jdemeyer](#comment%3A18):\n> My opinion still is that `RM` should simply be left unset (of course, a few install scripts will have to be changed).\n\nI agree 100%. \n\nI can understand the logic of variables like $CC, $CXX, $MAKE, but not $RM. I don't know of any system where one might want to specify what version of `rm` gets used, so I don't see the point in having a variable for it. If some dump package needs `$RM` defined, then either try to fix the code so it is not so dumb, or add `$RM` to `dump_package.spkg`. \n\nBTW, take a look at\n\nhttp://boxen.math.washington.edu/home/kirkby/bad-code/sympow-1.018.1.p7/src/Configure\n\nwhere you will find some *interesting* use of variable names. A script which starts \n\n```/bin/sh}}}\n\nhas a function \n\n{{{whichexe()}}}\n\nThis function makes use of a non-POSIX command {{{which}}}, so there's no reason for {{{which}}} to exist. Then {{{whichexe()}}} function sets variables for things like SH, RM, SED, whilst checking if the commands (including {{{sh}}}) exist. If not the script exits. An abbreviated version is below. \n\n{{{\n#!/bin/sh\nwhichexe() {\n    if [ -f /bin/$1 ]; then\n        echo /bin/$1\n        return;\n    fi;\n    if [ -f /usr/bin/$1 ]; then\n        echo /usr/bin/$1\n        return;\n    fi;\n    if [ -f /usr/local/bin/$1 ]; then\n        echo /usr/local/bin/$1\n        return;\n    fi;\n    echo `which $1`\n}\nRM=`whichexe rm`\nGREP=`whichexe grep` && echo \"#define GREP \\\"$GREP\\\"\" >> $CONFIG\nSED=`whichexe sed` && echo \"#define SED \\\"$SED\\\"\" >> $CONFIG\nSH=`whichexe sh` && echo \"#define SH \\\"$SH\\\"\" >> $CONFIG\nif [ -z \"$SH\" ]; then\n  echo \"**ERROR**: Could not find sh\"; exit 1;\nelse\n  echo \"SH = $SH\"\nfi\n}}}\n\nI might have cleaned this up, so the current version in Sage might not be quite so dumb. \n\nDave",
    "created_at": "2011-03-26T18:32:15Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20112",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:19'></a>
Replying to [@jdemeyer](#comment%3A18):
> My opinion still is that `RM` should simply be left unset (of course, a few install scripts will have to be changed).

I agree 100%. 

I can understand the logic of variables like $CC, $CXX, $MAKE, but not $RM. I don't know of any system where one might want to specify what version of `rm` gets used, so I don't see the point in having a variable for it. If some dump package needs `$RM` defined, then either try to fix the code so it is not so dumb, or add `$RM` to `dump_package.spkg`. 

BTW, take a look at

http://boxen.math.washington.edu/home/kirkby/bad-code/sympow-1.018.1.p7/src/Configure

where you will find some *interesting* use of variable names. A script which starts 

```/bin/sh}}}

has a function 

{{{whichexe()}}}

This function makes use of a non-POSIX command {{{which}}}, so there's no reason for {{{which}}} to exist. Then {{{whichexe()}}} function sets variables for things like SH, RM, SED, whilst checking if the commands (including {{{sh}}}) exist. If not the script exits. An abbreviated version is below. 

{{{
#!/bin/sh
whichexe() {
    if [ -f /bin/$1 ]; then
        echo /bin/$1
        return;
    fi;
    if [ -f /usr/bin/$1 ]; then
        echo /usr/bin/$1
        return;
    fi;
    if [ -f /usr/local/bin/$1 ]; then
        echo /usr/local/bin/$1
        return;
    fi;
    echo `which $1`
}
RM=`whichexe rm`
GREP=`whichexe grep` && echo "#define GREP \"$GREP\"" >> $CONFIG
SED=`whichexe sed` && echo "#define SED \"$SED\"" >> $CONFIG
SH=`whichexe sh` && echo "#define SH \"$SH\"" >> $CONFIG
if [ -z "$SH" ]; then
  echo "**ERROR**: Could not find sh"; exit 1;
else
  echo "SH = $SH"
fi
}}}

I might have cleaned this up, so the current version in Sage might not be quite so dumb. 

Dave



---

archive/issue_comments_020113.json:
```json
{
    "body": "<a id='comment:20'></a>\nSee #9497 for a patch to change \"$RM\" to \"rm\" in Singular's spkg-install script.",
    "created_at": "2011-03-26T23:53:25Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20113",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'></a>
See #9497 for a patch to change "$RM" to "rm" in Singular's spkg-install script.



---

archive/issue_comments_020114.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,3 +15,5 @@\n - keep $RM as it is, but document it (this is [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch))\n \n Only one should be applied, not both.\n+\n+**Apply** [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch)\n``````\n",
    "created_at": "2011-05-12T14:30:01Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20114",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,3 +15,5 @@
 - keep $RM as it is, but document it (this is [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch))
 
 Only one should be applied, not both.
+
+**Apply** [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch)
``````




---

archive/issue_comments_020115.json:
```json
{
    "body": "**Reviewer:** Mariah Lenox",
    "created_at": "2011-05-12T14:30:01Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20115",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

**Reviewer:** Mariah Lenox



---

archive/issue_comments_020116.json:
```json
{
    "body": "<a id='comment:21'></a>\nWhen 50 percent or more of spkgs require $RM to be \"rm -f\" then\nchange $RM from \"rm\" to \"rm -f\".  Until then document.\n\nPositive review.",
    "created_at": "2011-05-12T14:30:01Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20116",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

<a id='comment:21'></a>
When 50 percent or more of spkgs require $RM to be "rm -f" then
change $RM from "rm" to "rm -f".  Until then document.

Positive review.



---

archive/issue_events_019538.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2011-05-12T14:30:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19538"
}
```



---

archive/issue_events_019539.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2011-05-12T14:30:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19539"
}
```



---

archive/issue_comments_020117.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,11 +9,10 @@\n \n ---\n \n-There are two approaches presented here:\n+There are three approaches presented here:\n \n-- change $RM from \"rm\" to \"rm -f\"  (this is [attachment:trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch))\n-- keep $RM as it is, but document it (this is [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch))\n+- change $RM from \"rm\" to \"rm -f\": [attachment:trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch)\n+- keep $RM as it is, but document it: [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch) (needs_work)\n+- don't set $RM at all: [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)\n \n-Only one should be applied, not both.\n-\n-**Apply** [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch)\n+Apply [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)\n``````\n",
    "created_at": "2011-05-12T14:57:46Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20117",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,11 +9,10 @@
 
 ---
 
-There are two approaches presented here:
+There are three approaches presented here:
 
-- change $RM from "rm" to "rm -f"  (this is [attachment:trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch))
-- keep $RM as it is, but document it (this is [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch))
+- change $RM from "rm" to "rm -f": [attachment:trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch)
+- keep $RM as it is, but document it: [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch) (needs_work)
+- don't set $RM at all: [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)
 
-Only one should be applied, not both.
-
-**Apply** [attachment:trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch)
+Apply [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)
``````




---

archive/issue_events_019540.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "component: build",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19540"
}
```



---

archive/issue_events_019541.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "component: scripts",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19541"
}
```



---

archive/issue_comments_020118.json:
```json
{
    "body": "<a id='comment:22'></a>\nSingular's spkg-install no longer uses $RM, so the documentation is not up to date.",
    "created_at": "2011-05-12T14:57:46Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20118",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Singular's spkg-install no longer uses $RM, so the documentation is not up to date.



---

archive/issue_events_019542.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "rename": {
        "from": "sage-env should set RM=\"rm -f\"",
        "to": "Change $RM in sage-env"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19542"
}
```



---

archive/issue_events_019543.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19543"
}
```



---

archive/issue_events_019544.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19544"
}
```



---

archive/issue_events_019545.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19545"
}
```



---

archive/issue_events_019546.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19546"
}
```



---

archive/issue_comments_020119.json:
```json
{
    "body": "Do not set $RM in sage-env",
    "created_at": "2011-05-12T14:58:09Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20119",
    "user": "https://github.com/jdemeyer"
}
```

Do not set $RM in sage-env



---

archive/attachments_003675.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_3537-unset-RM.patch",
    "asset_url": "tarball://root/attachments/ticket3537/trac_3537-unset-RM.patch",
    "created_at": "2011-05-12T20:40:02Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```



---

archive/issue_comments_020120.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Attachment:** [trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)\n\n[attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch) applied to sage-4.7.rc2 tested on skynet/taurus with make testlong.  All tests passed.  Positive review.",
    "created_at": "2011-05-12T20:40:02Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20120",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

<a id='comment:23'></a>
**Attachment:** [trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch)

[attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch) applied to sage-4.7.rc2 tested on skynet/taurus with make testlong.  All tests passed.  Positive review.



---

archive/issue_events_019547.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2011-05-12T20:40:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19547"
}
```



---

archive/issue_events_019548.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2011-05-12T20:40:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19548"
}
```



---

archive/issue_comments_020121.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [mariah](#comment%3A23):\n> [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch) applied to sage-4.7.rc2 tested on skynet/taurus with make testlong.  All tests passed.  Positive review.\n\nDid you try building Sage from source with this patch applied?  Because this patch affects the Sage **build**, not the Sage library.",
    "created_at": "2011-05-12T20:47:58Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20121",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>
Replying to [mariah](#comment%3A23):
> [attachment:trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch) applied to sage-4.7.rc2 tested on skynet/taurus with make testlong.  All tests passed.  Positive review.

Did you try building Sage from source with this patch applied?  Because this patch affects the Sage **build**, not the Sage library.



---

archive/issue_comments_020122.json:
```json
{
    "body": "<a id='comment:25'></a>\nApologies for not be clear.  I first applied the patch to the sage-4.7.rc2 source, then built the source, then did make testlong.",
    "created_at": "2011-05-13T13:10:56Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20122",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

<a id='comment:25'></a>
Apologies for not be clear.  I first applied the patch to the sage-4.7.rc2 source, then built the source, then did make testlong.



---

archive/issue_comments_020123.json:
```json
{
    "body": "**Changing author** from \"gfurnish\" to \"Jeroen Demeyer\".",
    "created_at": "2011-05-15T14:59:12Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20123",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "gfurnish" to "Jeroen Demeyer".



---

archive/issue_events_019549.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-17T08:47:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19549"
}
```



---

archive/issue_events_019550.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-17T08:47:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-19550"
}
```



---

archive/issue_comments_020124.json:
```json
{
    "body": "<a id='comment:27'></a>\nI just checked all spkg-install scripts and `$RM` is used nowhere anymore.",
    "created_at": "2011-05-17T08:47:22Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20124",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>
I just checked all spkg-install scripts and `$RM` is used nowhere anymore.



---

archive/issue_comments_020125.json:
```json
{
    "body": "**Merged:** sage-4.7.1.alpha1",
    "created_at": "2011-05-17T08:47:22Z",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-20125",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.7.1.alpha1
