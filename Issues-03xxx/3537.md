# Issue 3537: Change $RM in sage-env

archive/issues_003537.json:
```json
{
    "assignees": [
        "https://github.com/garyfurnish"
    ],
    "body": "The env variable RM is set to `rm` instead of `rm -f`. This breaks newer libtools, for example anything in Fedora 12 or later (libtool 2.2.6, autoconf 2.63, automake 1.11.1). They assume that `$RM` is either unset or `RM=\"rm -f\"`, that is, deleting non-existing files must not cause an error.\n\nOne of the symptoms of this breakage is that configure ends with\n\n```\nrm: cannot remove `libtoolT': No such file or directory\n```\nCompile will break later on...\n\n---\n\nThere are three approaches presented here:\n\n- change $RM from \"rm\" to \"rm -f\": [attachment: trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz)\n- keep $RM as it is, but document it: [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz) (needs_work)\n- don't set $RM at all: [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)\n\nApply [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)\n\nCC:  @sagetrac-mabshoff @SnarkBoojum @sagetrac-drkirkby @jdemeyer\n\nComponent: **scripts**\n\nAuthor: **Jeroen Demeyer**\n\nReviewer: **Mariah Lenox**\n\nMerged: **sage-4.7.1.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3537_\n\n",
    "closed_at": "2011-05-17T08:47:22Z",
    "created_at": "2008-06-30T03:24:02Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20scripts",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Change $RM in sage-env",
    "type": "issue",
    "updated_at": "2011-05-17T08:47:22Z",
    "url": "https://github.com/sagemath/sage/issues/3537",
    "user": "https://github.com/garyfurnish"
}
```
The env variable RM is set to `rm` instead of `rm -f`. This breaks newer libtools, for example anything in Fedora 12 or later (libtool 2.2.6, autoconf 2.63, automake 1.11.1). They assume that `$RM` is either unset or `RM="rm -f"`, that is, deleting non-existing files must not cause an error.

One of the symptoms of this breakage is that configure ends with

```
rm: cannot remove `libtoolT': No such file or directory
```
Compile will break later on...

---

There are three approaches presented here:

- change $RM from "rm" to "rm -f": [attachment: trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz)
- keep $RM as it is, but document it: [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz) (needs_work)
- don't set $RM at all: [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)

Apply [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)

CC:  @sagetrac-mabshoff @SnarkBoojum @sagetrac-drkirkby @jdemeyer

Component: **scripts**

Author: **Jeroen Demeyer**

Reviewer: **Mariah Lenox**

Merged: **sage-4.7.1.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/3537_





---

archive/issue_events_038380.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-06-30T03:24:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38380"
}
```



---

archive/issue_events_038381.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-06-30T03:24:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38381"
}
```



---

archive/issue_events_038382.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-06-30T03:24:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38382"
}
```



---

archive/issue_events_038383.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-30T03:24:02Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "subject": "https://github.com/garyfurnish",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38383"
}
```



---

archive/issue_events_038384.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-06-30T03:24:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38384"
}
```



---

archive/issue_comments_019227.json:
```json
{
    "body": "Attachment: **[trac_3537_scripts.patch.gz](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz)**",
    "created_at": "2008-06-30T03:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19227",
    "user": "https://github.com/garyfurnish"
}
```

Attachment: **[trac_3537_scripts.patch.gz](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz)**



---

archive/issue_events_038385.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-06-30T03:28:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone_number": null,
    "milestone_title": "sage-3.0.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38385"
}
```



---

archive/issue_events_038386.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-30T03:28:37Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "subject": "https://github.com/garyfurnish",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38386"
}
```



---

archive/issue_events_038387.json:
```json
{
    "actor": "https://github.com/garyfurnish",
    "created_at": "2008-06-30T03:28:37Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "subject": "https://github.com/garyfurnish",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38387"
}
```



---

archive/issue_events_038388.json:
```json
{
    "actor": "https://github.com/sagetrac-ghtdak",
    "created_at": "2008-06-30T03:57:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38388"
}
```



---

archive/issue_comments_019228.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThe intent of -f is to avoid errors for the conditions cited as a problem.",
    "created_at": "2008-06-30T03:57:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19228",
    "user": "https://github.com/sagetrac-ghtdak"
}
```

<div id="comment:2" align="right">comment:2</div>

The intent of -f is to avoid errors for the conditions cited as a problem.



---

archive/issue_events_038389.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-30T04:45:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "title_is": "[mixed review] sage-env breaks makefile RM",
    "title_was": "sage-env breaks makefile RM",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38389"
}
```



---

archive/issue_events_038390.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-30T04:45:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38390"
}
```



---

archive/issue_events_038391.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-30T04:45:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38391"
}
```



---

archive/issue_comments_019229.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI am not convinced yet that this is the right thing to do and it is rather likely that this will break something else in the tree. The solution to M2's problem is to unset RM in spkg-install and then to set RM to some value you desire.\n\nAnd this is definitely not a blocker for 3.0.4.\n\nCheers,\n\nMichael",
    "created_at": "2008-06-30T04:45:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19229",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">comment:3</div>

I am not convinced yet that this is the right thing to do and it is rather likely that this will break something else in the tree. The solution to M2's problem is to unset RM in spkg-install and then to set RM to some value you desire.

And this is definitely not a blocker for 3.0.4.

Cheers,

Michael



---

archive/issue_comments_019230.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIf M2 depends on the default behavior of RM in its Makefiles it should set RM in its top level makefile. I see no reason to change Sage's behavior and as is if someone sets RM outside of sage-env it is propagated anyway. So this is wontfix.\n\nCheers,\n\nMichael",
    "created_at": "2008-07-01T04:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19230",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">comment:4</div>

If M2 depends on the default behavior of RM in its Makefiles it should set RM in its top level makefile. I see no reason to change Sage's behavior and as is if someone sets RM outside of sage-env it is propagated anyway. So this is wontfix.

Cheers,

Michael



---

archive/issue_events_038392.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38392"
}
```



---

archive/issue_events_038393.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "c6c6c6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38393"
}
```



---

archive/issue_events_038394.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38394"
}
```



---

archive/issue_events_038395.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38395"
}
```



---

archive/issue_events_038396.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-07-01T04:40:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone_number": null,
    "milestone_title": "sage-3.0.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38396"
}
```



---

archive/issue_events_038397.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T11:58:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "title_is": "sage-env should set RM=\"rm -f\"",
    "title_was": "[mixed review] sage-env breaks makefile RM",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38397"
}
```



---

archive/issue_events_038398.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T11:58:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38398"
}
```



---

archive/issue_events_038399.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T11:58:59Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38399"
}
```



---

archive/issue_comments_019231.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI'm reopening this bug since people keep tripping over this issue. We need to fix this or we'll end up with every spkg working around the `RM=rm` issue. As the spkg maintainer/author, I know that `cddlib` and `TOPCOM` both need to `unset RM` or they won't build. In #10285 it was noted a few days ago that Boehm GC 7.2 also trips over this issue. More and more packages will fail because of this issue as soon as upsteam re-runs autotools...\n\nFor the record, gfurnish's patch applies cleanly on Sage-4.6.1.alpha3 (apply to the $SAGE_LOCAL/bin repo)\n\nI'd be happy to give this a positive review. Maybe mabshoff can reconsider his objections?",
    "created_at": "2010-12-11T11:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19231",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:5" align="right">comment:5</div>

I'm reopening this bug since people keep tripping over this issue. We need to fix this or we'll end up with every spkg working around the `RM=rm` issue. As the spkg maintainer/author, I know that `cddlib` and `TOPCOM` both need to `unset RM` or they won't build. In #10285 it was noted a few days ago that Boehm GC 7.2 also trips over this issue. More and more packages will fail because of this issue as soon as upsteam re-runs autotools...

For the record, gfurnish's patch applies cleanly on Sage-4.6.1.alpha3 (apply to the $SAGE_LOCAL/bin repo)

I'd be happy to give this a positive review. Maybe mabshoff can reconsider his objections?



---

archive/issue_comments_019232.json:
```json
{
    "body": "Author: **gfurnish**",
    "created_at": "2010-12-11T11:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19232",
    "user": "https://github.com/vbraun"
}
```

Author: **gfurnish**



---

archive/issue_events_038400.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T11:58:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "c6c6c6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38400"
}
```



---

archive/issue_comments_019233.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,10 @@\n-The env variable RM is set to rm instead of rm -rf.  This breaks some functionality of make (such as compiling .l files) which breaks the ability to compile M2 with sage-env sourced.\n+The env variable RM is set to `rm` instead of `rm -f`. This breaks newer libtools, for example anything in Fedora 12 or later (libtool 2.2.6, autoconf 2.63, automake 1.11.1). They assume that `$RM` is either unset or `RM=\"rm -f\"`, that is, deleting non-existing files must not cause an error.\n \n+One of the symptoms of this breakage is that configure ends with\n+\n+```\n+rm: cannot remove `libtoolT': No such file or directory\n+```\n+Compile will break later on...\n+\n+\n``````\n",
    "created_at": "2010-12-11T11:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19233",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,10 @@
-The env variable RM is set to rm instead of rm -rf.  This breaks some functionality of make (such as compiling .l files) which breaks the ability to compile M2 with sage-env sourced.
+The env variable RM is set to `rm` instead of `rm -f`. This breaks newer libtools, for example anything in Fedora 12 or later (libtool 2.2.6, autoconf 2.63, automake 1.11.1). They assume that `$RM` is either unset or `RM="rm -f"`, that is, deleting non-existing files must not cause an error.
 
+One of the symptoms of this breakage is that configure ends with
+
+```
+rm: cannot remove `libtoolT': No such file or directory
+```
+Compile will break later on...
+
+
``````




---

archive/issue_events_038401.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-11T12:07:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38401"
}
```



---

archive/issue_comments_019234.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@vbraun](#comment%3A5):\n> I'm reopening this bug since people keep tripping over this issue. We need to fix this or we'll end up with every spkg working around the `RM=rm` issue.\n\nWell, is this a bug? \n\n> More and more packages will fail because of this issue as soon as upsteam re-runs autotools...\n\nThat's IMHO a problem of autotools. `$RM` is in general not supposed to *not return an error* on non-existing files; if autotools were a bit smarter, they would just add `-f` or whatever might be appropriate. If they redefine the meaning of `RM`, that's not Sage's problem in the first place; of course spkg maintainers would have to `unset RM` for upstream packages using (newer) autotools.\n\n\n> I'd be happy to give this a positive review. Maybe mabshoff can reconsider his objections?\n\nMichael has quit a while ago, though he perhaps still reads trac notifications... ;-)\n\n\nNote that redefining `RM` in `sage-env` could actually break other parts of Sage, not necessarily limited to spkgs, since e.g. removing a file which is expected to exist, but doesn't, without raising an error might hide other errors and cause arbitrary behavior.\n\nAlso, as Michael said, changing the default value in `sage-env` doesn't help if `RM` was already defined (intentionally or not) by the user, so w.r.t. autotools really *won't fix*. We have to `unset RM` (or add an appropriate flag to force deletion if it's not already contained) in `spkg-install`s of such packages anyway to be safe.\n\n\nI think we should prominently document this issue, and close this ticket again.",
    "created_at": "2010-12-17T15:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19234",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@vbraun](#comment%3A5):
> I'm reopening this bug since people keep tripping over this issue. We need to fix this or we'll end up with every spkg working around the `RM=rm` issue.

Well, is this a bug? 

> More and more packages will fail because of this issue as soon as upsteam re-runs autotools...

That's IMHO a problem of autotools. `$RM` is in general not supposed to *not return an error* on non-existing files; if autotools were a bit smarter, they would just add `-f` or whatever might be appropriate. If they redefine the meaning of `RM`, that's not Sage's problem in the first place; of course spkg maintainers would have to `unset RM` for upstream packages using (newer) autotools.


> I'd be happy to give this a positive review. Maybe mabshoff can reconsider his objections?

Michael has quit a while ago, though he perhaps still reads trac notifications... ;-)


Note that redefining `RM` in `sage-env` could actually break other parts of Sage, not necessarily limited to spkgs, since e.g. removing a file which is expected to exist, but doesn't, without raising an error might hide other errors and cause arbitrary behavior.

Also, as Michael said, changing the default value in `sage-env` doesn't help if `RM` was already defined (intentionally or not) by the user, so w.r.t. autotools really *won't fix*. We have to `unset RM` (or add an appropriate flag to force deletion if it's not already contained) in `spkg-install`s of such packages anyway to be safe.


I think we should prominently document this issue, and close this ticket again.



---

archive/issue_comments_019235.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWhy does `RM` need to be defined at all?",
    "created_at": "2010-12-17T16:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19235",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Why does `RM` need to be defined at all?



---

archive/issue_comments_019236.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jdemeyer](#comment%3A8):\n> Why does `RM` need to be defined at all?\n\nBecause\n\n```sh\n${RM} some_file\n```\nwill (hopefully) fail if `RM` is not set or empty?\n\nImagine `some_file` was executable in that case...\n\n\n\n\nIt would be a bit odd to test and eventually set all such variables individually in every script that uses some of these, therefore we have `sage-env`.\n\nThough `CP`, `RM` etc. are meanwhile hardly used within Sage; perhaps because setting them isn't necessary on any proper OS...\n\nInstead, it would be better to have e.g. `EGREP`, (POSIX-conformant) `GREP` etc., detected / set by Sage's `configure`.",
    "created_at": "2010-12-17T17:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19236",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jdemeyer](#comment%3A8):
> Why does `RM` need to be defined at all?

Because

```sh
${RM} some_file
```
will (hopefully) fail if `RM` is not set or empty?

Imagine `some_file` was executable in that case...




It would be a bit odd to test and eventually set all such variables individually in every script that uses some of these, therefore we have `sage-env`.

Though `CP`, `RM` etc. are meanwhile hardly used within Sage; perhaps because setting them isn't necessary on any proper OS...

Instead, it would be better to have e.g. `EGREP`, (POSIX-conformant) `GREP` etc., detected / set by Sage's `configure`.



---

archive/issue_comments_019237.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI seriously doubt that anybody uses the \"destructive existence test\" `$RM filename || ...` :-)\n\nAutomake has an official list of variables that it looks at. Perhaps it is a bug that `RM` is on the list, but its still our problem and I doubt upstream will change because some guys from Sage have a variable name collision. See also http://www.gnu.org/software/automake/manual/make/Implicit-Variables.html",
    "created_at": "2010-12-17T20:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19237",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

I seriously doubt that anybody uses the "destructive existence test" `$RM filename || ...` :-)

Automake has an official list of variables that it looks at. Perhaps it is a bug that `RM` is on the list, but its still our problem and I doubt upstream will change because some guys from Sage have a variable name collision. See also http://www.gnu.org/software/automake/manual/make/Implicit-Variables.html



---

archive/issue_comments_019238.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@nexttime](#comment%3A9):\n> Because\n> \n> ```sh\n> ${RM} some_file\n> ```\n> will (hopefully) fail if `RM` is not set or empty?\n\nWhere is such code used?  My guess: nowhere.",
    "created_at": "2010-12-18T13:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19238",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@nexttime](#comment%3A9):
> Because
> 
> ```sh
> ${RM} some_file
> ```
> will (hopefully) fail if `RM` is not set or empty?

Where is such code used?  My guess: nowhere.



---

archive/issue_comments_019239.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@jdemeyer](#comment%3A11):\n> Replying to [@nexttime](#comment%3A9):\n> > Because\n\n\n```sh\n${RM} some_file\n```\n> > will (hopefully) fail if `RM` is not set or empty?\n\n> \n> Where is such code used?  My guess: nowhere.\n\nE.g. Singular's `spkg-install` does. (It actually does `$RM -f ...`.)\n\nI wouldn't base such changes on guesses... ;-)",
    "created_at": "2010-12-26T18:33:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19239",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@jdemeyer](#comment%3A11):
> Replying to [@nexttime](#comment%3A9):
> > Because


```sh
${RM} some_file
```
> > will (hopefully) fail if `RM` is not set or empty?

> 
> Where is such code used?  My guess: nowhere.

E.g. Singular's `spkg-install` does. (It actually does `$RM -f ...`.)

I wouldn't base such changes on guesses... ;-)



---

archive/issue_comments_019240.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nFor the record:\n\n```\n[vbraun@volker-desktop spkg-unpacked]$ grep '\\$RM' */*\ngap-4.4.12.p4/SPKG.txt: * #7873 Remove references to $LN, $MKIDR and $RM and replace\nmercurial-1.6.4.p0/SPKG.txt: * Changes occurrences of $RM to 'rm', $CP to 'cp' and similar.\nsage_scripts-4.6.1.alpha3.p0/sage-env:if [ \"$RM\" = \"\" ]; then\nsingular-3-1-1-4.p3/spkg-install:        $RM -f LIB\nsingular-3-1-1-4.p3/spkg-install:    $RM -f Singular singular\nsingular-3-1-1-4.p3/spkg-install:        $RM -f Singular-1-0-2   # remove previous version of Singular.\n```",
    "created_at": "2010-12-26T19:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19240",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

For the record:

```
[vbraun@volker-desktop spkg-unpacked]$ grep '\$RM' */*
gap-4.4.12.p4/SPKG.txt: * #7873 Remove references to $LN, $MKIDR and $RM and replace
mercurial-1.6.4.p0/SPKG.txt: * Changes occurrences of $RM to 'rm', $CP to 'cp' and similar.
sage_scripts-4.6.1.alpha3.p0/sage-env:if [ "$RM" = "" ]; then
singular-3-1-1-4.p3/spkg-install:        $RM -f LIB
singular-3-1-1-4.p3/spkg-install:    $RM -f Singular singular
singular-3-1-1-4.p3/spkg-install:        $RM -f Singular-1-0-2   # remove previous version of Singular.
```



---

archive/issue_comments_019241.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@vbraun](#comment%3A13):\n> For the record:\n\n\n```sh\n[vbraun@volker-desktop spkg-unpacked]$ grep '\\$RM' */*\n```\n\nRedo for `${RM}`, too? (Also `$(RM)` in Makefiles.)\n\nNot sure if there are some \"deeper\" instances as well.",
    "created_at": "2010-12-26T22:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19241",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@vbraun](#comment%3A13):
> For the record:


```sh
[vbraun@volker-desktop spkg-unpacked]$ grep '\$RM' */*
```

Redo for `${RM}`, too? (Also `$(RM)` in Makefiles.)

Not sure if there are some "deeper" instances as well.



---

archive/issue_comments_019242.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n\n```\n[vbraun@volker-desktop spkg-unpacked]$ grep '\\$.RM' */*\nsingular-3-1-1-4.p3/install-sh:rmprog=\"${RMPROG-rm}\"\n```\nand\n\n```\n[vbraun@volker-desktop spkg-unpacked]$ grep '\\$.*RM' */*\ngap-4.4.12.p4/SPKG.txt: * #7873 Remove references to $LN, $MKIDR and $RM and replace\nmercurial-1.6.4.p0/SPKG.txt: * Changes occurrences of $RM to 'rm', $CP to 'cp' and similar.\nsage_scripts-4.6.1.alpha3.p0/sage-check-64:\t\tcase $CONFIRM in\nsage_scripts-4.6.1.alpha3.p0/sage-env:if [ \"$RM\" = \"\" ]; then\nsingular-3-1-1-4.p3/install-sh:rmprog=\"${RMPROG-rm}\"\nsingular-3-1-1-4.p3/spkg-install:        $RM -f LIB\nsingular-3-1-1-4.p3/spkg-install:    $RM -f Singular singular\nsingular-3-1-1-4.p3/spkg-install:        $RM -f Singular-1-0-2   # remove previous version of Singular.\n```",
    "created_at": "2010-12-26T22:51:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19242",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>


```
[vbraun@volker-desktop spkg-unpacked]$ grep '\$.RM' */*
singular-3-1-1-4.p3/install-sh:rmprog="${RMPROG-rm}"
```
and

```
[vbraun@volker-desktop spkg-unpacked]$ grep '\$.*RM' */*
gap-4.4.12.p4/SPKG.txt: * #7873 Remove references to $LN, $MKIDR and $RM and replace
mercurial-1.6.4.p0/SPKG.txt: * Changes occurrences of $RM to 'rm', $CP to 'cp' and similar.
sage_scripts-4.6.1.alpha3.p0/sage-check-64:		case $CONFIRM in
sage_scripts-4.6.1.alpha3.p0/sage-env:if [ "$RM" = "" ]; then
singular-3-1-1-4.p3/install-sh:rmprog="${RMPROG-rm}"
singular-3-1-1-4.p3/spkg-install:        $RM -f LIB
singular-3-1-1-4.p3/spkg-install:    $RM -f Singular singular
singular-3-1-1-4.p3/spkg-install:        $RM -f Singular-1-0-2   # remove previous version of Singular.
```



---

archive/issue_comments_019243.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nSo right now, singular is the only place this is used, and it consistently uses \"$RM -f\", right?  Given this, rather than set `RM=\"rm -f\"`, it seems better to leave it as is and document it in the developer's guide (in the section on producing new spkg's), and perhaps also in the installation guide (in the section on environment variables).  Here's a patch doing that; what do you think?",
    "created_at": "2011-03-26T17:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19243",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:16" align="right">comment:16</div>

So right now, singular is the only place this is used, and it consistently uses "$RM -f", right?  Given this, rather than set `RM="rm -f"`, it seems better to leave it as is and document it in the developer's guide (in the section on producing new spkg's), and perhaps also in the installation guide (in the section on environment variables).  Here's a patch doing that; what do you think?



---

archive/issue_comments_019244.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAttachment: **[trac_3537-doc.patch.gz](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz)**",
    "created_at": "2011-03-26T17:04:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19244",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:17" align="right">comment:17</div>

Attachment: **[trac_3537-doc.patch.gz](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz)**



---

archive/issue_comments_019245.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,11 @@\n ```\n Compile will break later on...\n \n+---\n \n+There are two approaches presented here:\n+\n+- change $RM from \"rm\" to \"rm -f\"  (this is [attachment: trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz))\n+- keep $RM as it is, but document it (this is [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz))\n+\n+Only one should be applied, not both.\n``````\n",
    "created_at": "2011-03-26T17:04:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19245",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,11 @@
 ```
 Compile will break later on...
 
+---
 
+There are two approaches presented here:
+
+- change $RM from "rm" to "rm -f"  (this is [attachment: trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz))
+- keep $RM as it is, but document it (this is [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz))
+
+Only one should be applied, not both.
``````




---

archive/issue_comments_019246.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nMy opinion still is that `RM` should simply be left unset (of course, a few install scripts will have to be changed).",
    "created_at": "2011-03-26T18:03:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19246",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

My opinion still is that `RM` should simply be left unset (of course, a few install scripts will have to be changed).



---

archive/issue_comments_019247.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment%3A18):\n> My opinion still is that `RM` should simply be left unset (of course, a few install scripts will have to be changed).\n\nI agree 100%. \n\nI can understand the logic of variables like $CC, $CXX, $MAKE, but not $RM. I don't know of any system where one might want to specify what version of `rm` gets used, so I don't see the point in having a variable for it. If some dump package needs `$RM` defined, then either try to fix the code so it is not so dumb, or add `$RM` to `dump_package.spkg`. \n\nBTW, take a look at\n\nhttp://boxen.math.washington.edu/home/kirkby/bad-code/sympow-1.018.1.p7/src/Configure\n\nwhere you will find some *interesting* use of variable names. A script which starts \n\n```/bin/sh}}}\n\nhas a function \n\n{{{whichexe()}}}\n\nThis function makes use of a non-POSIX command {{{which}}}, so there's no reason for {{{which}}} to exist. Then {{{whichexe()}}} function sets variables for things like SH, RM, SED, whilst checking if the commands (including {{{sh}}}) exist. If not the script exits. An abbreviated version is below. \n\n{{{\n#!/bin/sh\nwhichexe() {\n    if [ -f /bin/$1 ]; then\n        echo /bin/$1\n        return;\n    fi;\n    if [ -f /usr/bin/$1 ]; then\n        echo /usr/bin/$1\n        return;\n    fi;\n    if [ -f /usr/local/bin/$1 ]; then\n        echo /usr/local/bin/$1\n        return;\n    fi;\n    echo `which $1`\n}\nRM=`whichexe rm`\nGREP=`whichexe grep` && echo \"#define GREP \\\"$GREP\\\"\" >> $CONFIG\nSED=`whichexe sed` && echo \"#define SED \\\"$SED\\\"\" >> $CONFIG\nSH=`whichexe sh` && echo \"#define SH \\\"$SH\\\"\" >> $CONFIG\nif [ -z \"$SH\" ]; then\n  echo \"**ERROR**: Could not find sh\"; exit 1;\nelse\n  echo \"SH = $SH\"\nfi\n}}}\n\nI might have cleaned this up, so the current version in Sage might not be quite so dumb. \n\nDave",
    "created_at": "2011-03-26T18:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19247",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment%3A18):
> My opinion still is that `RM` should simply be left unset (of course, a few install scripts will have to be changed).

I agree 100%. 

I can understand the logic of variables like $CC, $CXX, $MAKE, but not $RM. I don't know of any system where one might want to specify what version of `rm` gets used, so I don't see the point in having a variable for it. If some dump package needs `$RM` defined, then either try to fix the code so it is not so dumb, or add `$RM` to `dump_package.spkg`. 

BTW, take a look at

http://boxen.math.washington.edu/home/kirkby/bad-code/sympow-1.018.1.p7/src/Configure

where you will find some *interesting* use of variable names. A script which starts 

```/bin/sh}}}

has a function 

{{{whichexe()}}}

This function makes use of a non-POSIX command {{{which}}}, so there's no reason for {{{which}}} to exist. Then {{{whichexe()}}} function sets variables for things like SH, RM, SED, whilst checking if the commands (including {{{sh}}}) exist. If not the script exits. An abbreviated version is below. 

{{{
#!/bin/sh
whichexe() {
    if [ -f /bin/$1 ]; then
        echo /bin/$1
        return;
    fi;
    if [ -f /usr/bin/$1 ]; then
        echo /usr/bin/$1
        return;
    fi;
    if [ -f /usr/local/bin/$1 ]; then
        echo /usr/local/bin/$1
        return;
    fi;
    echo `which $1`
}
RM=`whichexe rm`
GREP=`whichexe grep` && echo "#define GREP \"$GREP\"" >> $CONFIG
SED=`whichexe sed` && echo "#define SED \"$SED\"" >> $CONFIG
SH=`whichexe sh` && echo "#define SH \"$SH\"" >> $CONFIG
if [ -z "$SH" ]; then
  echo "**ERROR**: Could not find sh"; exit 1;
else
  echo "SH = $SH"
fi
}}}

I might have cleaned this up, so the current version in Sage might not be quite so dumb. 

Dave



---

archive/issue_comments_019248.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nSee #9497 for a patch to change \"$RM\" to \"rm\" in Singular's spkg-install script.",
    "created_at": "2011-03-26T23:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19248",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

See #9497 for a patch to change "$RM" to "rm" in Singular's spkg-install script.



---

archive/issue_comments_019249.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,3 +15,5 @@\n - keep $RM as it is, but document it (this is [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz))\n \n Only one should be applied, not both.\n+\n+**Apply** [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz)\n``````\n",
    "created_at": "2011-05-12T14:30:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19249",
    "user": "https://github.com/sagetrac-mariah"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,3 +15,5 @@
 - keep $RM as it is, but document it (this is [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz))
 
 Only one should be applied, not both.
+
+**Apply** [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz)
``````




---

archive/issue_comments_019250.json:
```json
{
    "body": "Reviewer: **Mariah Lenox**",
    "created_at": "2011-05-12T14:30:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19250",
    "user": "https://github.com/sagetrac-mariah"
}
```

Reviewer: **Mariah Lenox**



---

archive/issue_comments_019251.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nWhen 50 percent or more of spkgs require $RM to be \"rm -f\" then\nchange $RM from \"rm\" to \"rm -f\".  Until then document.\n\nPositive review.",
    "created_at": "2011-05-12T14:30:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19251",
    "user": "https://github.com/sagetrac-mariah"
}
```

<div id="comment:21" align="right">comment:21</div>

When 50 percent or more of spkgs require $RM to be "rm -f" then
change $RM from "rm" to "rm -f".  Until then document.

Positive review.



---

archive/issue_events_038402.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-05-12T14:30:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38402"
}
```



---

archive/issue_events_038403.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-05-12T14:30:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38403"
}
```



---

archive/issue_comments_019252.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,11 +9,10 @@\n \n ---\n \n-There are two approaches presented here:\n+There are three approaches presented here:\n \n-- change $RM from \"rm\" to \"rm -f\"  (this is [attachment: trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz))\n-- keep $RM as it is, but document it (this is [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz))\n+- change $RM from \"rm\" to \"rm -f\": [attachment: trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz)\n+- keep $RM as it is, but document it: [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz) (needs_work)\n+- don't set $RM at all: [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)\n \n-Only one should be applied, not both.\n-\n-**Apply** [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz)\n+Apply [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)\n``````\n",
    "created_at": "2011-05-12T14:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19252",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,11 +9,10 @@
 
 ---
 
-There are two approaches presented here:
+There are three approaches presented here:
 
-- change $RM from "rm" to "rm -f"  (this is [attachment: trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz))
-- keep $RM as it is, but document it (this is [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz))
+- change $RM from "rm" to "rm -f": [attachment: trac_3537_scripts.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537_scripts.patch.gz)
+- keep $RM as it is, but document it: [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz) (needs_work)
+- don't set $RM at all: [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)
 
-Only one should be applied, not both.
-
-**Apply** [attachment: trac_3537-doc.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-doc.patch.gz)
+Apply [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)
``````




---

archive/issue_events_038404.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38404"
}
```



---

archive/issue_events_038405.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20scripts",
    "label_color": "0000b0",
    "label_name": "c: scripts",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38405"
}
```



---

archive/issue_comments_019253.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nSingular's spkg-install no longer uses $RM, so the documentation is not up to date.",
    "created_at": "2011-05-12T14:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19253",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Singular's spkg-install no longer uses $RM, so the documentation is not up to date.



---

archive/issue_events_038406.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "title_is": "Change $RM in sage-env",
    "title_was": "sage-env should set RM=\"rm -f\"",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38406"
}
```



---

archive/issue_events_038407.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38407"
}
```



---

archive/issue_events_038408.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38408"
}
```



---

archive/issue_events_038409.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38409"
}
```



---

archive/issue_events_038410.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-12T14:57:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38410"
}
```



---

archive/issue_comments_019254.json:
```json
{
    "body": "Do not set $RM in sage-env",
    "created_at": "2011-05-12T14:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19254",
    "user": "https://github.com/jdemeyer"
}
```

Do not set $RM in sage-env



---

archive/issue_comments_019255.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAttachment: **[trac_3537-unset-RM.patch.gz](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)**\n\n[attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz) applied to sage-4.7.rc2 tested on skynet/taurus with make testlong.  All tests passed.  Positive review.",
    "created_at": "2011-05-12T20:40:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19255",
    "user": "https://github.com/sagetrac-mariah"
}
```

<div id="comment:23" align="right">comment:23</div>

Attachment: **[trac_3537-unset-RM.patch.gz](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz)**

[attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz) applied to sage-4.7.rc2 tested on skynet/taurus with make testlong.  All tests passed.  Positive review.



---

archive/issue_events_038411.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-05-12T20:40:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38411"
}
```



---

archive/issue_events_038412.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-05-12T20:40:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38412"
}
```



---

archive/issue_comments_019256.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@sagetrac-mariah](#comment%3A23):\n> [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz) applied to sage-4.7.rc2 tested on skynet/taurus with make testlong.  All tests passed.  Positive review.\n\nDid you try building Sage from source with this patch applied?  Because this patch affects the Sage **build**, not the Sage library.",
    "created_at": "2011-05-12T20:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19256",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@sagetrac-mariah](#comment%3A23):
> [attachment: trac_3537-unset-RM.patch](https://github.com/sagemath/sage/files/ticket3537/trac_3537-unset-RM.patch.gz) applied to sage-4.7.rc2 tested on skynet/taurus with make testlong.  All tests passed.  Positive review.

Did you try building Sage from source with this patch applied?  Because this patch affects the Sage **build**, not the Sage library.



---

archive/issue_comments_019257.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nApologies for not be clear.  I first applied the patch to the sage-4.7.rc2 source, then built the source, then did make testlong.",
    "created_at": "2011-05-13T13:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19257",
    "user": "https://github.com/sagetrac-mariah"
}
```

<div id="comment:25" align="right">comment:25</div>

Apologies for not be clear.  I first applied the patch to the sage-4.7.rc2 source, then built the source, then did make testlong.



---

archive/issue_comments_019258.json:
```json
{
    "body": "Changed author from **gfurnish** to **Jeroen Demeyer**",
    "created_at": "2011-05-15T14:59:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19258",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **gfurnish** to **Jeroen Demeyer**



---

archive/issue_events_038413.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-17T08:47:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38413"
}
```



---

archive/issue_events_038414.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-17T08:47:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3537#event-38414"
}
```



---

archive/issue_comments_019259.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI just checked all spkg-install scripts and `$RM` is used nowhere anymore.",
    "created_at": "2011-05-17T08:47:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19259",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

I just checked all spkg-install scripts and `$RM` is used nowhere anymore.



---

archive/issue_comments_019260.json:
```json
{
    "body": "Merged: **sage-4.7.1.alpha1**",
    "created_at": "2011-05-17T08:47:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3537#issuecomment-19260",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.1.alpha1**
