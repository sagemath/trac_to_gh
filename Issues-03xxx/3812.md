# Issue 3812: add apply_morphism to ideal

archive/issues_003812.json:
```json
{
    "body": "apply_morphism is so useful on matrices, and I didn't know that psi(J) was valid for ideals -- so here is documentation and tests for both functions for general ideals.\n\n**Assignee:** @ncalexan\n\n**Keywords:** ideal apply_morphism morphism apply\n\nIssue created by migration from https://trac.sagemath.org/ticket/3812\n\n",
    "closed_at": "2009-04-11T01:04:46Z",
    "created_at": "2008-08-12T05:30:18Z",
    "labels": [
        "component: commutative algebra",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.4.1",
    "title": "add apply_morphism to ideal",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/3812",
    "user": "https://github.com/ncalexan"
}
```
apply_morphism is so useful on matrices, and I didn't know that psi(J) was valid for ideals -- so here is documentation and tests for both functions for general ideals.

**Assignee:** @ncalexan

**Keywords:** ideal apply_morphism morphism apply

Issue created by migration from https://trac.sagemath.org/ticket/3812





---

archive/attachments_003928.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "3812-ncalexan-number-field-ideal-apply-morphism.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket3812/3812-ncalexan-number-field-ideal-apply-morphism.patch",
    "created_at": "2008-08-12T05:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ncalexan"
}
```



---

archive/issue_comments_027743.json:
```json
{
    "body": "",
    "created_at": "2008-08-12T05:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27743",
    "user": "https://github.com/ncalexan"
}
```





---

archive/issue_comments_027744.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2008-08-12T05:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27744",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from new to needs_review.



---

archive/issue_events_011084.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-08-12T05:37:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "milestone": "sage-3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3812#event-11084"
}
```



---

archive/issue_comments_027745.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2008-08-13T02:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27745",
    "user": "https://github.com/williamstein"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_027746.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe `__call__` method on morphisms implements the same thing already.\n\n```\nsage: psi = CC['x'].hom([-CC['x'].0]) \nsage: J = ideal([CC['x'].0 + 1]); J \nPrincipal ideal (1.00000000000000*x + 1.00000000000000) of Univariate Polynomial Ring in x over Complex Field with 53 bits of precision\nsage: psi(J)\nPrincipal ideal ((-1.00000000000000)*x + 1.00000000000000) of Univariate Polynomial Ring in x over Complex Field with 53 bits of precision\n```\n\nThus it seems to me that  the following three lines \n\n```\n \t337\t        R = phi.codomain() \n \t338\t        image = R.ideal([phi(z) for z in self.gens()]) \n \t339\t        return image \n```\n\nshould be replaced by\n\n```\nreturn phi(R)\n```\n\n -- William",
    "created_at": "2008-08-13T02:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27746",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:2'></a>
The `__call__` method on morphisms implements the same thing already.

```
sage: psi = CC['x'].hom([-CC['x'].0]) 
sage: J = ideal([CC['x'].0 + 1]); J 
Principal ideal (1.00000000000000*x + 1.00000000000000) of Univariate Polynomial Ring in x over Complex Field with 53 bits of precision
sage: psi(J)
Principal ideal ((-1.00000000000000)*x + 1.00000000000000) of Univariate Polynomial Ring in x over Complex Field with 53 bits of precision
```

Thus it seems to me that  the following three lines 

```
 	337	        R = phi.codomain() 
 	338	        image = R.ideal([phi(z) for z in self.gens()]) 
 	339	        return image 
```

should be replaced by

```
return phi(R)
```

 -- William



---

archive/issue_comments_027747.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2008-08-13T22:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27747",
    "user": "https://github.com/ncalexan"
}
```

**Changing status** from needs_work to needs_review.



---

archive/attachments_003929.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "3812-ncalexan-number-field-ideal-apply-morphism-2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket3812/3812-ncalexan-number-field-ideal-apply-morphism-2.patch",
    "created_at": "2008-08-13T22:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ncalexan"
}
```



---

archive/issue_comments_027748.json:
```json
{
    "body": "<a id='comment:3'></a>\n`3812-ncalexan-number-field-ideal-apply-morphism-2.patch` replaces earlier patch and addresses referee comment.",
    "created_at": "2008-08-13T22:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27748",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:3'></a>
`3812-ncalexan-number-field-ideal-apply-morphism-2.patch` replaces earlier patch and addresses referee comment.



---

archive/issue_comments_027749.json:
```json
{
    "body": "**Changing assignee** from @malb to @ncalexan.",
    "created_at": "2008-08-18T14:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27749",
    "user": "https://github.com/malb"
}
```

**Changing assignee** from @malb to @ncalexan.



---

archive/issue_comments_027750.json:
```json
{
    "body": "<a id='comment:5'></a>\nIn view of William's comment that this already works, do we need the patch at all?  In other words, why implement a function I.apply_morphism(tau) when all it does is tau(I)?\n\nHaving said that, the patch does apply ok and works.",
    "created_at": "2008-08-23T17:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27750",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:5'></a>
In view of William's comment that this already works, do we need the patch at all?  In other words, why implement a function I.apply_morphism(tau) when all it does is tau(I)?

Having said that, the patch does apply ok and works.



---

archive/issue_events_011085.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "rename": {
        "from": "add apply_morphism to ideal",
        "to": "[with review] add apply_morphism to ideal"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3812#event-11085"
}
```



---

archive/issue_events_011086.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "rename": {
        "from": "[with review] add apply_morphism to ideal",
        "to": "add apply_morphism to ideal"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3812#event-11086"
}
```



---

archive/issue_comments_027751.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-04-06T05:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27751",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_027752.json:
```json
{
    "body": "<a id='comment:6'></a>\nJohn: Is this a positive review? I am changing this to \"needs review\" so it is picked up by the right reports.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-06T05:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27752",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:6'></a>
John: Is this a positive review? I am changing this to "needs review" so it is picked up by the right reports.

Cheers,

Michael



---

archive/attachments_003930.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "3812_doctest.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket3812/3812_doctest.patch",
    "created_at": "2009-04-06T09:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/JohnCremona"
}
```



---

archive/issue_comments_027753.json:
```json
{
    "body": "Apply after previous patch",
    "created_at": "2009-04-06T09:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27753",
    "user": "https://github.com/JohnCremona"
}
```

Apply after previous patch



---

archive/issue_comments_027754.json:
```json
{
    "body": "<a id='comment:7'></a>\nApologies.  My original thought had been that this was unnecessary, but now (in the light of many more months of Sage experience) I can see that it is a Good Thing, since anyone with an ideal can now see that apply_morphism() is something valid to do to the ideal.\n\nThe patch applies fine to 3.4.1.rc0.  Some doctests needed purely cosmetic adjustments (halrdly surprising after 8 months) which are in the patch 3812_doctest.patch (which need to be applied after Nick's patch).",
    "created_at": "2009-04-06T09:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27754",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:7'></a>
Apologies.  My original thought had been that this was unnecessary, but now (in the light of many more months of Sage experience) I can see that it is a Good Thing, since anyone with an ideal can now see that apply_morphism() is something valid to do to the ideal.

The patch applies fine to 3.4.1.rc0.  Some doctests needed purely cosmetic adjustments (halrdly surprising after 8 months) which are in the patch 3812_doctest.patch (which need to be applied after Nick's patch).



---

archive/issue_comments_027755.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-04-06T09:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27755",
    "user": "https://github.com/JohnCremona"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_027756.json:
```json
{
    "body": "<a id='comment:8'></a>\nOk, looking at all the patches it seems that 3812_doctest.patch contains the previous latest release of Nick's patch with the doctest fix by John. The credit of the patch still goes to Nick, so assuming this patch only passes doctests for me I will merge it shortly. \n\nCheers,\n\nMichael",
    "created_at": "2009-04-11T00:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27756",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:8'></a>
Ok, looking at all the patches it seems that 3812_doctest.patch contains the previous latest release of Nick's patch with the doctest fix by John. The credit of the patch still goes to Nick, so assuming this patch only passes doctests for me I will merge it shortly. 

Cheers,

Michael



---

archive/issue_events_011087.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-11T01:04:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3812#event-11087"
}
```



---

archive/issue_events_011088.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-11T01:04:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "milestone": "sage-3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3812#event-11088"
}
```



---

archive/issue_events_011089.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-11T01:04:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "milestone": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3812#event-11089"
}
```



---

archive/issue_comments_027757.json:
```json
{
    "body": "<a id='comment:9'></a>\nMerged 3812_doctest.patch **only** in Sage 3.4.1.rc2.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-11T01:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27757",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:9'></a>
Merged 3812_doctest.patch **only** in Sage 3.4.1.rc2.

Cheers,

Michael



---

archive/issue_comments_027758.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mabshoff](#comment%3A9):\n> Merged 3812_doctest.patch **only** in Sage 3.4.1.rc2.\n> \n> Cheers,\n> \n> Michael\n\nSorry for the confusion: you are right, 100% credit to Nick and the last patch on its own includes his original plus my trivial fix.  John",
    "created_at": "2009-04-11T13:46:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3812#issuecomment-27758",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:10'></a>
Replying to [mabshoff](#comment%3A9):
> Merged 3812_doctest.patch **only** in Sage 3.4.1.rc2.
> 
> Cheers,
> 
> Michael

Sorry for the confusion: you are right, 100% credit to Nick and the last patch on its own includes his original plus my trivial fix.  John
