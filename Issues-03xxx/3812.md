# Issue 3812: add apply_morphism to ideal

archive/issues_003812.json:
```json
{
    "assignees": [
        "https://github.com/ncalexan"
    ],
    "body": "apply_morphism is so useful on matrices, and I didn't know that psi(J) was valid for ideals -- so here is documentation and tests for both functions for general ideals.\n\nKeywords: **ideal apply_morphism morphism apply**\n\nComponent: **commutative algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3812_\n\n",
    "closed_at": "2009-04-11T01:04:46Z",
    "created_at": "2008-08-12T05:30:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.4.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add apply_morphism to ideal",
    "type": "issue",
    "updated_at": "2009-04-11T13:46:47Z",
    "url": "https://github.com/sagemath/sage/issues/3812",
    "user": "https://github.com/ncalexan"
}
```
apply_morphism is so useful on matrices, and I didn't know that psi(J) was valid for ideals -- so here is documentation and tests for both functions for general ideals.

Keywords: **ideal apply_morphism morphism apply**

Component: **commutative algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/3812_





---

archive/issue_events_041836.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-12T05:30:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41836"
}
```



---

archive/issue_events_041837.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-12T05:30:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41837"
}
```



---

archive/issue_events_041838.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-12T05:30:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41838"
}
```



---

archive/issue_events_041839.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-12T05:30:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41839"
}
```



---

archive/issue_events_041840.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-08-12T05:30:18Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "subject": "https://github.com/ncalexan",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41840"
}
```



---

archive/issue_comments_021015.json:
```json
{
    "body": "Attachment: **[3812-ncalexan-number-field-ideal-apply-morphism.patch.gz](https://github.com/sagemath/sage/files/ticket3812/3812-ncalexan-number-field-ideal-apply-morphism.patch.gz)**",
    "created_at": "2008-08-12T05:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21015",
    "user": "https://github.com/ncalexan"
}
```

Attachment: **[3812-ncalexan-number-field-ideal-apply-morphism.patch.gz](https://github.com/sagemath/sage/files/ticket3812/3812-ncalexan-number-field-ideal-apply-morphism.patch.gz)**



---

archive/issue_events_041841.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-08-12T05:37:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41841"
}
```



---

archive/issue_events_041842.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-08-12T05:37:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "milestone_number": null,
    "milestone_title": "sage-3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41842"
}
```



---

archive/issue_events_041843.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-08-12T05:37:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41843"
}
```



---

archive/issue_events_041844.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-08-13T02:48:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41844"
}
```



---

archive/issue_events_041845.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-08-13T02:48:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41845"
}
```



---

archive/issue_comments_021016.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThe `__call__` method on morphisms implements the same thing already.\n\n```\nsage: psi = CC['x'].hom([-CC['x'].0]) \nsage: J = ideal([CC['x'].0 + 1]); J \nPrincipal ideal (1.00000000000000*x + 1.00000000000000) of Univariate Polynomial Ring in x over Complex Field with 53 bits of precision\nsage: psi(J)\nPrincipal ideal ((-1.00000000000000)*x + 1.00000000000000) of Univariate Polynomial Ring in x over Complex Field with 53 bits of precision\n```\n\nThus it seems to me that  the following three lines \n\n```\n \t337\t        R = phi.codomain() \n \t338\t        image = R.ideal([phi(z) for z in self.gens()]) \n \t339\t        return image \n```\n\nshould be replaced by\n\n```\nreturn phi(R)\n```\n\n -- William",
    "created_at": "2008-08-13T02:48:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21016",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:2" align="right">comment:2</div>

The `__call__` method on morphisms implements the same thing already.

```
sage: psi = CC['x'].hom([-CC['x'].0]) 
sage: J = ideal([CC['x'].0 + 1]); J 
Principal ideal (1.00000000000000*x + 1.00000000000000) of Univariate Polynomial Ring in x over Complex Field with 53 bits of precision
sage: psi(J)
Principal ideal ((-1.00000000000000)*x + 1.00000000000000) of Univariate Polynomial Ring in x over Complex Field with 53 bits of precision
```

Thus it seems to me that  the following three lines 

```
 	337	        R = phi.codomain() 
 	338	        image = R.ideal([phi(z) for z in self.gens()]) 
 	339	        return image 
```

should be replaced by

```
return phi(R)
```

 -- William



---

archive/issue_events_041846.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-13T22:03:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41846"
}
```



---

archive/issue_events_041847.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-13T22:03:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41847"
}
```



---

archive/issue_comments_021017.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[3812-ncalexan-number-field-ideal-apply-morphism-2.patch.gz](https://github.com/sagemath/sage/files/ticket3812/3812-ncalexan-number-field-ideal-apply-morphism-2.patch.gz)**\n\n`3812-ncalexan-number-field-ideal-apply-morphism-2.patch` replaces earlier patch and addresses referee comment.",
    "created_at": "2008-08-13T22:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21017",
    "user": "https://github.com/ncalexan"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[3812-ncalexan-number-field-ideal-apply-morphism-2.patch.gz](https://github.com/sagemath/sage/files/ticket3812/3812-ncalexan-number-field-ideal-apply-morphism-2.patch.gz)**

`3812-ncalexan-number-field-ideal-apply-morphism-2.patch` replaces earlier patch and addresses referee comment.



---

archive/issue_events_041848.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-08-18T14:06:34Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "subject": "https://github.com/malb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41848"
}
```



---

archive/issue_events_041849.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-18T14:06:34Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "subject": "https://github.com/malb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41849"
}
```



---

archive/issue_comments_021018.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIn view of William's comment that this already works, do we need the patch at all?  In other words, why implement a function I.apply_morphism(tau) when all it does is tau(I)?\n\nHaving said that, the patch does apply ok and works.",
    "created_at": "2008-08-23T17:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21018",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:5" align="right">comment:5</div>

In view of William's comment that this already works, do we need the patch at all?  In other words, why implement a function I.apply_morphism(tau) when all it does is tau(I)?

Having said that, the patch does apply ok and works.



---

archive/issue_events_041850.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2008-08-23T17:54:43Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "title_is": "[with review] add apply_morphism to ideal",
    "title_was": "add apply_morphism to ideal",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41850"
}
```



---

archive/issue_events_041851.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-06T05:56:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "title_is": "add apply_morphism to ideal",
    "title_was": "[with review] add apply_morphism to ideal",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41851"
}
```



---

archive/issue_comments_021019.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nJohn: Is this a positive review? I am changing this to \"needs review\" so it is picked up by the right reports.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-06T05:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21019",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:6" align="right">comment:6</div>

John: Is this a positive review? I am changing this to "needs review" so it is picked up by the right reports.

Cheers,

Michael



---

archive/issue_comments_021020.json:
```json
{
    "body": "Attachment: **[3812_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket3812/3812_doctest.patch.gz)**\n\nApply after previous patch",
    "created_at": "2009-04-06T09:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21020",
    "user": "https://github.com/JohnCremona"
}
```

Attachment: **[3812_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket3812/3812_doctest.patch.gz)**

Apply after previous patch



---

archive/issue_comments_021021.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nApologies.  My original thought had been that this was unnecessary, but now (in the light of many more months of Sage experience) I can see that it is a Good Thing, since anyone with an ideal can now see that apply_morphism() is something valid to do to the ideal.\n\nThe patch applies fine to 3.4.1.rc0.  Some doctests needed purely cosmetic adjustments (halrdly surprising after 8 months) which are in the patch 3812_doctest.patch (which need to be applied after Nick's patch).",
    "created_at": "2009-04-06T09:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21021",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:7" align="right">comment:7</div>

Apologies.  My original thought had been that this was unnecessary, but now (in the light of many more months of Sage experience) I can see that it is a Good Thing, since anyone with an ideal can now see that apply_morphism() is something valid to do to the ideal.

The patch applies fine to 3.4.1.rc0.  Some doctests needed purely cosmetic adjustments (halrdly surprising after 8 months) which are in the patch 3812_doctest.patch (which need to be applied after Nick's patch).



---

archive/issue_events_041852.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-04-06T09:35:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41852"
}
```



---

archive/issue_events_041853.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-04-06T09:35:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41853"
}
```



---

archive/issue_comments_021022.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nOk, looking at all the patches it seems that 3812_doctest.patch contains the previous latest release of Nick's patch with the doctest fix by John. The credit of the patch still goes to Nick, so assuming this patch only passes doctests for me I will merge it shortly. \n\nCheers,\n\nMichael",
    "created_at": "2009-04-11T00:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21022",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:8" align="right">comment:8</div>

Ok, looking at all the patches it seems that 3812_doctest.patch contains the previous latest release of Nick's patch with the doctest fix by John. The credit of the patch still goes to Nick, so assuming this patch only passes doctests for me I will merge it shortly. 

Cheers,

Michael



---

archive/issue_events_041854.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-11T01:04:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41854"
}
```



---

archive/issue_events_041855.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-11T01:04:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41855"
}
```



---

archive/issue_events_041856.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-11T01:04:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "milestone_number": null,
    "milestone_title": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41856"
}
```



---

archive/issue_events_041857.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-11T01:04:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3812#event-41857"
}
```



---

archive/issue_comments_021023.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nMerged 3812_doctest.patch **only** in Sage 3.4.1.rc2.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-11T01:04:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21023",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:9" align="right">comment:9</div>

Merged 3812_doctest.patch **only** in Sage 3.4.1.rc2.

Cheers,

Michael



---

archive/issue_comments_021024.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@sagetrac-mabshoff](#comment%3A9):\n> Merged 3812_doctest.patch **only** in Sage 3.4.1.rc2.\n> \n> Cheers,\n> \n> Michael\n\nSorry for the confusion: you are right, 100% credit to Nick and the last patch on its own includes his original plus my trivial fix.  John",
    "created_at": "2009-04-11T13:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3812",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3812#issuecomment-21024",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@sagetrac-mabshoff](#comment%3A9):
> Merged 3812_doctest.patch **only** in Sage 3.4.1.rc2.
> 
> Cheers,
> 
> Michael

Sorry for the confusion: you are right, 100% credit to Nick and the last patch on its own includes his original plus my trivial fix.  John
