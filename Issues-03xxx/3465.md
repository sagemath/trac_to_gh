# Issue 3465: Number Field base rings for NumberFieldTower

archive/issues_003465.json:
```json
{
    "assignees": [],
    "body": "When creating towers of number fields, the base rings don't behave as I think they should.  The following is from the coercion branch (the opposite problem exists in the normal branch).\n\n```\nsage: sage: L.<cuberoot2, zeta3> = CyclotomicField(3).extension(x^3 - 2)\nsage: type(L)\n<class 'sage.rings.number_field.number_field.NumberField_relative'>\nsage: L.ngens()\n1 (2 in current Sage, I think it should be 1)\nsage: L.base_ring()\nCyclotomic Field of order 3 and degree 2 (I agree)\nsage: L.base_field()\nCyclotomic Field of order 3 and degree 2 (I agree)\nsage: L.base()\nRational Field (I think it should be Cyclotomic Field of order 3 and degree 2)\nsage: K.<a, b> = NumberField( [x^2 + x + 1, x^3 + 2] )\nsage: K.ngens()\n1 (2 in current Sage, I think it should be 2)sage: type(K)\n<class 'sage.rings.number_field.number_field.NumberField_relative'>  \nsage: K.base_ring()\nNumber Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)\nsage: K.base_field()\nNumber Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)\nsage: K.base()\nRational Field (um... ok, I agree)\n```\n\nAssignee: **@loefflerd**\n\nCC:  @craigcitro\n\nKeywords: **relative number fields**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3465_\n\n",
    "closed_at": "2010-07-20T07:03:14Z",
    "created_at": "2008-06-18T22:29:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Number Field base rings for NumberFieldTower",
    "type": "issue",
    "updated_at": "2010-07-20T07:03:14Z",
    "url": "https://github.com/sagemath/sage/issues/3465",
    "user": "https://github.com/roed314"
}
```
When creating towers of number fields, the base rings don't behave as I think they should.  The following is from the coercion branch (the opposite problem exists in the normal branch).

```
sage: sage: L.<cuberoot2, zeta3> = CyclotomicField(3).extension(x^3 - 2)
sage: type(L)
<class 'sage.rings.number_field.number_field.NumberField_relative'>
sage: L.ngens()
1 (2 in current Sage, I think it should be 1)
sage: L.base_ring()
Cyclotomic Field of order 3 and degree 2 (I agree)
sage: L.base_field()
Cyclotomic Field of order 3 and degree 2 (I agree)
sage: L.base()
Rational Field (I think it should be Cyclotomic Field of order 3 and degree 2)
sage: K.<a, b> = NumberField( [x^2 + x + 1, x^3 + 2] )
sage: K.ngens()
1 (2 in current Sage, I think it should be 2)sage: type(K)
<class 'sage.rings.number_field.number_field.NumberField_relative'>  
sage: K.base_ring()
Number Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)
sage: K.base_field()
Number Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)
sage: K.base()
Rational Field (um... ok, I agree)
```

Assignee: **@loefflerd**

CC:  @craigcitro

Keywords: **relative number fields**

_Issue created by migration from https://trac.sagemath.org/ticket/3465_





---

archive/issue_events_033512.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2008-06-18T22:29:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "milestone_number": null,
    "milestone_title": "sage-4.5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33512"
}
```



---

archive/issue_events_033513.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2008-06-18T22:29:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33513"
}
```



---

archive/issue_events_033514.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2008-06-18T22:29:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33514"
}
```



---

archive/issue_events_033515.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2008-06-18T22:29:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33515"
}
```



---

archive/issue_comments_019660.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n When creating towers of number fields, the base rings don't behave as I think they should.  The following is from the coercion branch (the opposite problem exists in the normal branch).\n \n+```\n sage: sage: L.<cuberoot2, zeta3> = CyclotomicField(3).extension(x^3 - 2)\n sage: type(L)\n <class 'sage.rings.number_field.number_field.NumberField_relative'>\n@@ -21,4 +22,4 @@\n Number Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)\n sage: K.base()\n Rational Field (um... ok, I agree)\n-\n+```\n``````\n",
    "created_at": "2008-06-18T22:30:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3465#issuecomment-19660",
    "user": "https://github.com/robertwb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 When creating towers of number fields, the base rings don't behave as I think they should.  The following is from the coercion branch (the opposite problem exists in the normal branch).
 
+```
 sage: sage: L.<cuberoot2, zeta3> = CyclotomicField(3).extension(x^3 - 2)
 sage: type(L)
 <class 'sage.rings.number_field.number_field.NumberField_relative'>
@@ -21,4 +22,4 @@
 Number Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)
 sage: K.base()
 Rational Field (um... ok, I agree)
-
+```
``````




---

archive/issue_comments_019661.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNote that this affects the doctests for sage.rings.number_field.RelativeNumberFieldHomset.list",
    "created_at": "2008-06-18T22:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3465#issuecomment-19661",
    "user": "https://github.com/roed314"
}
```

<div id="comment:2" align="right">Comment 2</div>

Note that this affects the doctests for sage.rings.number_field.RelativeNumberFieldHomset.list



---

archive/issue_comments_019662.json:
```json
{
    "body": "Changed assignee from **@williamstein** to **@loefflerd**",
    "created_at": "2009-07-20T20:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3465#issuecomment-19662",
    "user": "https://github.com/loefflerd"
}
```

Changed assignee from **@williamstein** to **@loefflerd**



---

archive/issue_events_033516.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-07-20T20:01:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33516"
}
```



---

archive/issue_events_033517.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-07-20T20:01:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "component: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33517"
}
```



---

archive/issue_events_033518.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-07-02T23:39:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33518"
}
```



---

archive/issue_comments_019663.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThis ticket has been idle for nearly two years, and moreover it's not really clear to me exactly what the reporter considers to be a bug. Is the suggestion that the objects created via the NumberFieldTower constructor should somehow behave differently from ones created via the extension() method? That sounds like a bad idea to me.\n\nI suggest closing this as wontfix. I'm setting this to \"needs review\" in order to request a second opinion on my proposal not to fix this.",
    "created_at": "2010-07-02T23:39:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3465#issuecomment-19663",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:5" align="right">Comment 5</div>

This ticket has been idle for nearly two years, and moreover it's not really clear to me exactly what the reporter considers to be a bug. Is the suggestion that the objects created via the NumberFieldTower constructor should somehow behave differently from ones created via the extension() method? That sounds like a bad idea to me.

I suggest closing this as wontfix. I'm setting this to "needs review" in order to request a second opinion on my proposal not to fix this.



---

archive/issue_events_033519.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2010-07-03T10:27:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33519"
}
```



---

archive/issue_events_033520.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2010-07-03T10:27:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33520"
}
```



---

archive/issue_comments_019664.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI agree, the result should be homogenenous no matter how you have constructed the field.\n\nI think that the problem is that base had no documentation.",
    "created_at": "2010-07-03T10:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3465#issuecomment-19664",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:6" align="right">Comment 6</div>

I agree, the result should be homogenenous no matter how you have constructed the field.

I think that the problem is that base had no documentation.



---

archive/issue_events_033521.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T07:03:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "milestone_number": null,
    "milestone_title": "sage-4.5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33521"
}
```



---

archive/issue_events_033522.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T07:03:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33522"
}
```



---

archive/issue_events_033523.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T07:03:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33523"
}
```



---

archive/issue_events_033524.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T07:03:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33524"
}
```



---

archive/issue_events_033525.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T07:03:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33525"
}
```



---

archive/issue_events_033526.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T07:03:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3465",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3465#event-33526"
}
```
