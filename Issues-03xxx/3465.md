# Issue 3465: Number Field base rings for NumberFieldTower

archive/issues_003465.json:
```json
{
    "body": "When creating towers of number fields, the base rings don't behave as I think they should.  The following is from the coercion branch (the opposite problem exists in the normal branch).\n\n```\nsage: sage: L.<cuberoot2, zeta3> = CyclotomicField(3).extension(x^3 - 2)\nsage: type(L)\n<class 'sage.rings.number_field.number_field.NumberField_relative'>\nsage: L.ngens()\n1 (2 in current Sage, I think it should be 1)\nsage: L.base_ring()\nCyclotomic Field of order 3 and degree 2 (I agree)\nsage: L.base_field()\nCyclotomic Field of order 3 and degree 2 (I agree)\nsage: L.base()\nRational Field (I think it should be Cyclotomic Field of order 3 and degree 2)\nsage: K.<a, b> = NumberField( [x^2 + x + 1, x^3 + 2] )\nsage: K.ngens()\n1 (2 in current Sage, I think it should be 2)sage: type(K)\n<class 'sage.rings.number_field.number_field.NumberField_relative'>  \nsage: K.base_ring()\nNumber Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)\nsage: K.base_field()\nNumber Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)\nsage: K.base()\nRational Field (um... ok, I agree)\n```\n\nAssignee: @loefflerd\n\nCC:  @craigcitro\n\nKeywords: relative number fields\n\nResolution: wontfix\n\nIssue created by migration from https://trac.sagemath.org/ticket/3465\n\n",
    "closed_at": "2010-07-20T07:03:14Z",
    "created_at": "2008-06-18T22:29:07Z",
    "labels": [
        "component: number fields",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Number Field base rings for NumberFieldTower",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/3465",
    "user": "https://github.com/roed314"
}
```
When creating towers of number fields, the base rings don't behave as I think they should.  The following is from the coercion branch (the opposite problem exists in the normal branch).

```
sage: sage: L.<cuberoot2, zeta3> = CyclotomicField(3).extension(x^3 - 2)
sage: type(L)
<class 'sage.rings.number_field.number_field.NumberField_relative'>
sage: L.ngens()
1 (2 in current Sage, I think it should be 1)
sage: L.base_ring()
Cyclotomic Field of order 3 and degree 2 (I agree)
sage: L.base_field()
Cyclotomic Field of order 3 and degree 2 (I agree)
sage: L.base()
Rational Field (I think it should be Cyclotomic Field of order 3 and degree 2)
sage: K.<a, b> = NumberField( [x^2 + x + 1, x^3 + 2] )
sage: K.ngens()
1 (2 in current Sage, I think it should be 2)sage: type(K)
<class 'sage.rings.number_field.number_field.NumberField_relative'>  
sage: K.base_ring()
Number Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)
sage: K.base_field()
Number Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)
sage: K.base()
Rational Field (um... ok, I agree)
```

Assignee: @loefflerd

CC:  @craigcitro

Keywords: relative number fields

Resolution: wontfix

Issue created by migration from https://trac.sagemath.org/ticket/3465





---

archive/issue_comments_027980.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n When creating towers of number fields, the base rings don't behave as I think they should.  The following is from the coercion branch (the opposite problem exists in the normal branch).\n \n+```\n sage: sage: L.<cuberoot2, zeta3> = CyclotomicField(3).extension(x^3 - 2)\n sage: type(L)\n <class 'sage.rings.number_field.number_field.NumberField_relative'>\n@@ -21,4 +22,4 @@\n Number Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)\n sage: K.base()\n Rational Field (um... ok, I agree)\n-\n+```\n``````\n",
    "created_at": "2008-06-18T22:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27980",
    "user": "https://github.com/robertwb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 When creating towers of number fields, the base rings don't behave as I think they should.  The following is from the coercion branch (the opposite problem exists in the normal branch).
 
+```
 sage: sage: L.<cuberoot2, zeta3> = CyclotomicField(3).extension(x^3 - 2)
 sage: type(L)
 <class 'sage.rings.number_field.number_field.NumberField_relative'>
@@ -21,4 +22,4 @@
 Number Field in b with defining polynomial x^3 + 2 (I think it should be Rational Field)
 sage: K.base()
 Rational Field (um... ok, I agree)
-
+```
``````




---

archive/issue_comments_027981.json:
```json
{
    "body": "<a id='comment:2'></a>\nNote that this affects the doctests for sage.rings.number_field.RelativeNumberFieldHomset.list",
    "created_at": "2008-06-18T22:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27981",
    "user": "https://github.com/roed314"
}
```

<a id='comment:2'></a>
Note that this affects the doctests for sage.rings.number_field.RelativeNumberFieldHomset.list



---

archive/issue_comments_027982.json:
```json
{
    "body": "Changing assignee from @williamstein to @loefflerd.",
    "created_at": "2009-07-20T20:01:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27982",
    "user": "https://github.com/loefflerd"
}
```

Changing assignee from @williamstein to @loefflerd.



---

archive/issue_comments_027983.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2010-07-02T23:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27983",
    "user": "https://github.com/loefflerd"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_027984.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-07-02T23:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27984",
    "user": "https://github.com/loefflerd"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_027985.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis ticket has been idle for nearly two years, and moreover it's not really clear to me exactly what the reporter considers to be a bug. Is the suggestion that the objects created via the NumberFieldTower constructor should somehow behave differently from ones created via the extension() method? That sounds like a bad idea to me.\n\nI suggest closing this as wontfix. I'm setting this to \"needs review\" in order to request a second opinion on my proposal not to fix this.",
    "created_at": "2010-07-02T23:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27985",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:5'></a>
This ticket has been idle for nearly two years, and moreover it's not really clear to me exactly what the reporter considers to be a bug. Is the suggestion that the objects created via the NumberFieldTower constructor should somehow behave differently from ones created via the extension() method? That sounds like a bad idea to me.

I suggest closing this as wontfix. I'm setting this to "needs review" in order to request a second opinion on my proposal not to fix this.



---

archive/issue_comments_027986.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-07-03T10:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27986",
    "user": "https://github.com/lftabera"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_027987.json:
```json
{
    "body": "<a id='comment:6'></a>\nI agree, the result should be homogenenous no matter how you have constructed the field.\n\nI think that the problem is that base had no documentation.",
    "created_at": "2010-07-03T10:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27987",
    "user": "https://github.com/lftabera"
}
```

<a id='comment:6'></a>
I agree, the result should be homogenenous no matter how you have constructed the field.

I think that the problem is that base had no documentation.



---

archive/issue_events_010221.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T07:03:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3465#event-10221"
}
```



---

archive/issue_events_010222.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T07:03:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3465#event-10222"
}
```



---

archive/issue_comments_027988.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2010-07-20T07:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3465#issuecomment-27988",
    "user": "https://github.com/qed777"
}
```

Resolution: wontfix
