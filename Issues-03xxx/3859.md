# Issue 3859: Line's corner_cutoff is poorly documented, and buggy

archive/issues_003859.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "sage.plot.plot3d.shapes2.Line defines a corner_cutoff parameter.\n\nIt functions to smooth lines passed to it if the cosine of the angle is greater than corner_cutoff (why??? - I'm filing another ticket about this).\n\nWe want to be able to turn the smoothing of lines off, which would happen if corner_cutoff = 1 worked.\n\nExample of breakage:  (line3d calles sage.plot.plot3d.shapes2.Line)\n\n```\nline3d([[-1, 3, 369.26], [-1, -10.11, 125.33], [0.21, -10.13, 99.42]], corner_cutoff = 1)\n```\nA doctest sage: from sage.plot.plot3d.shapes2 import Line\n\n```\n              sage: Line([(0,0,0),(1,0,0),(2,1,0),(0,1,0)], corner_cutoff=1).corners()\n              [(0, 0, 0), (1, 0, 0), (2, 1, 0)]\n```\nWorks, but calling line3d or Line with these parameters fails with NoneType object unsubscriptable.\n\n\n\n\n\nCC:  @jasongrout @kcrisman\n\nKeywords: **plot3d, Line, corner_cutoff, smoothing**\n\nBranch/Commit: **[`bc5b08a`](https://github.com/sagemath/sagetrac-mirror/commit/bc5b08a9516f877b5a82f286a39f2779b8518e2d)**\n\nReviewer: **Karl-Dieter Crisman, Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3859_\n\n",
    "closed_at": "2016-01-23T20:42:40Z",
    "created_at": "2008-08-14T22:11:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Line's corner_cutoff is poorly documented, and buggy",
    "type": "issue",
    "updated_at": "2021-04-27T22:09:44Z",
    "url": "https://github.com/sagemath/sage/issues/3859",
    "user": "https://github.com/sagetrac-mclean"
}
```
sage.plot.plot3d.shapes2.Line defines a corner_cutoff parameter.

It functions to smooth lines passed to it if the cosine of the angle is greater than corner_cutoff (why??? - I'm filing another ticket about this).

We want to be able to turn the smoothing of lines off, which would happen if corner_cutoff = 1 worked.

Example of breakage:  (line3d calles sage.plot.plot3d.shapes2.Line)

```
line3d([[-1, 3, 369.26], [-1, -10.11, 125.33], [0.21, -10.13, 99.42]], corner_cutoff = 1)
```
A doctest sage: from sage.plot.plot3d.shapes2 import Line

```
              sage: Line([(0,0,0),(1,0,0),(2,1,0),(0,1,0)], corner_cutoff=1).corners()
              [(0, 0, 0), (1, 0, 0), (2, 1, 0)]
```
Works, but calling line3d or Line with these parameters fails with NoneType object unsubscriptable.





CC:  @jasongrout @kcrisman

Keywords: **plot3d, Line, corner_cutoff, smoothing**

Branch/Commit: **[`bc5b08a`](https://github.com/sagemath/sagetrac-mirror/commit/bc5b08a9516f877b5a82f286a39f2779b8518e2d)**

Reviewer: **Karl-Dieter Crisman, Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/3859_





---

archive/issue_events_042819.json:
```json
{
    "actor": "https://github.com/sagetrac-mclean",
    "created_at": "2008-08-14T22:11:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42819"
}
```



---

archive/issue_events_042820.json:
```json
{
    "actor": "https://github.com/sagetrac-mclean",
    "created_at": "2008-08-14T22:11:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42820"
}
```



---

archive/issue_events_042821.json:
```json
{
    "actor": "https://github.com/sagetrac-mclean",
    "created_at": "2008-08-14T22:11:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42821"
}
```



---

archive/issue_events_042822.json:
```json
{
    "actor": "https://github.com/sagetrac-mclean",
    "created_at": "2008-08-14T22:11:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42822"
}
```



---

archive/issue_events_042823.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-08-14T22:11:31Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "subject": "https://github.com/sagetrac-mclean",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42823"
}
```



---

archive/issue_comments_021370.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSee also the related: #3861",
    "created_at": "2008-08-14T22:28:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21370",
    "user": "https://github.com/sagetrac-mclean"
}
```

<div id="comment:1" align="right">comment:1</div>

See also the related: #3861



---

archive/issue_events_042824.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42824"
}
```



---

archive/issue_events_042825.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42825"
}
```



---

archive/issue_events_042826.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42826"
}
```



---

archive/issue_events_042827.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42827"
}
```



---

archive/issue_events_042828.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42828"
}
```



---

archive/issue_events_042829.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42829"
}
```



---

archive/issue_events_042830.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42830"
}
```



---

archive/issue_events_042831.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42831"
}
```



---

archive/issue_events_042832.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-27T21:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42832"
}
```



---

archive/issue_comments_021371.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHere is a proposal, that corrects several minor wrong points in the code of **Line** and add more doc.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ff1e76a73b72c651d3a79b7c7c3f313b606372c\"><code>6ff1e76</code></a></td><td><code>trac #3859 solving issues with Line in 3d</code></td></tr></table>\n",
    "created_at": "2014-12-27T21:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21371",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

Here is a proposal, that corrects several minor wrong points in the code of **Line** and add more doc.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ff1e76a73b72c651d3a79b7c7c3f313b606372c"><code>6ff1e76</code></a></td><td><code>trac #3859 solving issues with Line in 3d</code></td></tr></table>




---

archive/issue_comments_021372.json:
```json
{
    "body": "Branch: **[u/chapoton/3859](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/3859)**",
    "created_at": "2014-12-27T21:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21372",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/3859](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/3859)**



---

archive/issue_comments_021373.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2014-12-27T21:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21373",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_021374.json:
```json
{
    "body": "Commit: **[`6ff1e76`](https://github.com/sagemath/sagetrac-mirror/commit/6ff1e76a73b72c651d3a79b7c7c3f313b606372c)**",
    "created_at": "2014-12-27T21:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21374",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`6ff1e76`](https://github.com/sagemath/sagetrac-mirror/commit/6ff1e76a73b72c651d3a79b7c7c3f313b606372c)**



---

archive/issue_comments_021375.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSee also http://ask.sagemath.org/question/25609/how-to-find-the-full-argument-list-of-a-built-in-function/ - amazingly, I have never heard of this!",
    "created_at": "2015-01-27T02:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21375",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:8" align="right">comment:8</div>

See also http://ask.sagemath.org/question/25609/how-to-find-the-full-argument-list-of-a-built-in-function/ - amazingly, I have never heard of this!



---

archive/issue_events_042833.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-13T21:05:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42833"
}
```



---

archive/issue_events_042834.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-13T21:05:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42834"
}
```



---

archive/issue_events_042835.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-23T19:25:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42835"
}
```



---

archive/issue_events_042836.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-02-23T19:25:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42836"
}
```



---

archive/issue_comments_021376.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHello, review, anybody ?",
    "created_at": "2015-03-25T20:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21376",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

Hello, review, anybody ?



---

archive/issue_comments_021377.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nEither I don't understand the description of what `corner_cutoff` is supposed to do, or the first example from the ticket's description still doesn't work for me:\n\n```\nsage: line3d([[-1, 3, 369.26], [-1, -10.11, 125.33], [0.21, -10.13, 99.42]], corner_cutoff = 1)\n```\nproduces a smooth line in jmol.",
    "created_at": "2015-04-09T08:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21377",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:12" align="right">comment:12</div>

Either I don't understand the description of what `corner_cutoff` is supposed to do, or the first example from the ticket's description still doesn't work for me:

```
sage: line3d([[-1, 3, 369.26], [-1, -10.11, 125.33], [0.21, -10.13, 99.42]], corner_cutoff = 1)
```
produces a smooth line in jmol.



---

archive/issue_comments_021378.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI guess there is still a problem.",
    "created_at": "2015-04-29T12:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21378",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

I guess there is still a problem.



---

archive/issue_events_042837.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-29T12:48:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42837"
}
```



---

archive/issue_events_042838.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-29T12:48:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42838"
}
```



---

archive/issue_events_042839.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-29T12:48:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42839"
}
```



---

archive/issue_events_042840.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-29T12:48:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42840"
}
```



---

archive/issue_events_042841.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-17T12:05:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42841"
}
```



---

archive/issue_events_042842.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-17T12:05:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42842"
}
```



---

archive/issue_comments_021379.json:
```json
{
    "body": "Changed commit from **[`6ff1e76`](https://github.com/sagemath/sagetrac-mirror/commit/6ff1e76a73b72c651d3a79b7c7c3f313b606372c)** to **[`10c880c`](https://github.com/sagemath/sagetrac-mirror/commit/10c880c4db6e1c621c96419dbcd33e469033d2c6)**",
    "created_at": "2015-10-19T19:33:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21379",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6ff1e76`](https://github.com/sagemath/sagetrac-mirror/commit/6ff1e76a73b72c651d3a79b7c7c3f313b606372c)** to **[`10c880c`](https://github.com/sagemath/sagetrac-mirror/commit/10c880c4db6e1c621c96419dbcd33e469033d2c6)**



---

archive/issue_comments_021380.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc911471aa22ec87fbbdd52c81d6e8220be53075\"><code>dc91147</code></a></td><td><code>Merge branch 'u/chapoton/3859' into 6.10.b0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10c880c4db6e1c621c96419dbcd33e469033d2c6\"><code>10c880c</code></a></td><td><code>trac #3859 fixing corner_cutoff</code></td></tr></table>\n",
    "created_at": "2015-10-19T19:33:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21380",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc911471aa22ec87fbbdd52c81d6e8220be53075"><code>dc91147</code></a></td><td><code>Merge branch 'u/chapoton/3859' into 6.10.b0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10c880c4db6e1c621c96419dbcd33e469033d2c6"><code>10c880c</code></a></td><td><code>trac #3859 fixing corner_cutoff</code></td></tr></table>




---

archive/issue_events_042843.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-19T19:37:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42843"
}
```



---

archive/issue_events_042844.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-19T19:37:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42844"
}
```



---

archive/issue_comments_021381.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThis should be better now:\n\n`corner_cutoff = -1` : no smoothing\n\n`corner_cutoff = 1` : all points smoothed\n\nand smoothing is performed in general if the angle is close enough to pi, meaning\nthat successive segments are close to being aligned.",
    "created_at": "2015-10-19T19:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21381",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

This should be better now:

`corner_cutoff = -1` : no smoothing

`corner_cutoff = 1` : all points smoothed

and smoothing is performed in general if the angle is close enough to pi, meaning
that successive segments are close to being aligned.



---

archive/issue_events_042845.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-19T19:37:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42845"
}
```



---

archive/issue_events_042846.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-19T19:37:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42846"
}
```



---

archive/issue_comments_021382.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nping ? should be an easy review !",
    "created_at": "2015-11-09T16:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21382",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

ping ? should be an easy review !



---

archive/issue_comments_021383.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nPING ? nobody out there ?",
    "created_at": "2015-12-14T19:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21383",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

PING ? nobody out there ?



---

archive/issue_comments_021384.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWell, someone is out there but they don't always have time... My only Sage time has been with sagenb lately.  But I felt sorry for your ping so I try to make time tonight.\n\n```\nThe parameter ``corner_cutoff`` is a bound for the cosine of the\n        angle made by two successive segments. This angle is close to\n        `\\pi` if the two successive segments are almost aligned and close\n        to `0` if the path has a strong peak. \n```\nMaybe one could add parenthetically \"(and hence the cosine is close to 1)\" or the like as appropriate in the two places this occurs?\n\n```\n+        sage: N = 11\n+        sage: c = -0.4\n+        sage: sum([Line([(i,1,0), (i,0,0), (i,cos(2*pi*i/N), sin(2*pi*i/N))],\n+        ....:     corner_cutoff=c,\n+        ....:     color='red' if cos(2*pi*i/N)>=c else 'blue')\n+        ....:     for i in range(N+1)])\n```\nSuper-useful!  I made it into an interact to test things, very nice.\n\nI do have a question about this.  Why do you have to change the way this works?  Why not leave the bounds at 1 and -1 and not switch them?  I hate to say the magic word deprecation, and in any case this is just a flat-out change.\n\nFor instance, I would say that the angle is nearly *zero* if the segments \"keep on going\" and is close to 180 degrees if the segments change direction (peak).  So the original seems closer to my thinking - it's not the angle at the actual point of contact of the two segments, but rather the angle between the *vectors* formed by the two (directed) line segments that is in question.\n\nDoes that make sense?\n\nI also have to admit that with #3861 that the output of \n\n```\nLine([(0,0,0),(1,0,0),(2,1,0),(0,1,0)],corner_cutoff=-.5) # current ticket\n```\nis bizarre and does not look like the 2d version style in any case.\n\nAnyway, otherwise this seems to work as advertised.  Should end users have access to `max_len` in `Line`?  Currently I don't think that's really possible.  But maybe that's okay.",
    "created_at": "2015-12-16T03:40:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21384",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:20" align="right">comment:20</div>

Well, someone is out there but they don't always have time... My only Sage time has been with sagenb lately.  But I felt sorry for your ping so I try to make time tonight.

```
The parameter ``corner_cutoff`` is a bound for the cosine of the
        angle made by two successive segments. This angle is close to
        `\pi` if the two successive segments are almost aligned and close
        to `0` if the path has a strong peak. 
```
Maybe one could add parenthetically "(and hence the cosine is close to 1)" or the like as appropriate in the two places this occurs?

```
+        sage: N = 11
+        sage: c = -0.4
+        sage: sum([Line([(i,1,0), (i,0,0), (i,cos(2*pi*i/N), sin(2*pi*i/N))],
+        ....:     corner_cutoff=c,
+        ....:     color='red' if cos(2*pi*i/N)>=c else 'blue')
+        ....:     for i in range(N+1)])
```
Super-useful!  I made it into an interact to test things, very nice.

I do have a question about this.  Why do you have to change the way this works?  Why not leave the bounds at 1 and -1 and not switch them?  I hate to say the magic word deprecation, and in any case this is just a flat-out change.

For instance, I would say that the angle is nearly *zero* if the segments "keep on going" and is close to 180 degrees if the segments change direction (peak).  So the original seems closer to my thinking - it's not the angle at the actual point of contact of the two segments, but rather the angle between the *vectors* formed by the two (directed) line segments that is in question.

Does that make sense?

I also have to admit that with #3861 that the output of 

```
Line([(0,0,0),(1,0,0),(2,1,0),(0,1,0)],corner_cutoff=-.5) # current ticket
```
is bizarre and does not look like the 2d version style in any case.

Anyway, otherwise this seems to work as advertised.  Should end users have access to `max_len` in `Line`?  Currently I don't think that's really possible.  But maybe that's okay.



---

archive/issue_comments_021385.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41641f6be555db3c092f4baf28092f8003794f8c\"><code>41641f6</code></a></td><td><code>Merge branch 'u/chapoton/3859' into 6.10</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc5b08a9516f877b5a82f286a39f2779b8518e2d\"><code>bc5b08a</code></a></td><td><code>trac #3859 back to the original convention : angle 0 means going straight</code></td></tr></table>\n",
    "created_at": "2015-12-20T20:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21385",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41641f6be555db3c092f4baf28092f8003794f8c"><code>41641f6</code></a></td><td><code>Merge branch 'u/chapoton/3859' into 6.10</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc5b08a9516f877b5a82f286a39f2779b8518e2d"><code>bc5b08a</code></a></td><td><code>trac #3859 back to the original convention : angle 0 means going straight</code></td></tr></table>




---

archive/issue_comments_021386.json:
```json
{
    "body": "Changed commit from **[`10c880c`](https://github.com/sagemath/sagetrac-mirror/commit/10c880c4db6e1c621c96419dbcd33e469033d2c6)** to **[`bc5b08a`](https://github.com/sagemath/sagetrac-mirror/commit/bc5b08a9516f877b5a82f286a39f2779b8518e2d)**",
    "created_at": "2015-12-20T20:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21386",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`10c880c`](https://github.com/sagemath/sagetrac-mirror/commit/10c880c4db6e1c621c96419dbcd33e469033d2c6)** to **[`bc5b08a`](https://github.com/sagemath/sagetrac-mirror/commit/bc5b08a9516f877b5a82f286a39f2779b8518e2d)**



---

archive/issue_comments_021387.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks for having a look. I know well that time is precious.\n\nI have now, as required, changed back to the original convention that angle 0 means that\nthe path goes straight. I hope I have made no error in doing that.\n\nMaybe this is good enough, for a 7 years old ticket ?",
    "created_at": "2015-12-20T20:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21387",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks for having a look. I know well that time is precious.

I have now, as required, changed back to the original convention that angle 0 means that
the path goes straight. I hope I have made no error in doing that.

Maybe this is good enough, for a 7 years old ticket ?



---

archive/issue_events_042847.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-12-30T09:10:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42847"
}
```



---

archive/issue_events_042848.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-12-30T09:10:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42848"
}
```



---

archive/issue_comments_021388.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n***ping*** ?",
    "created_at": "2016-01-21T20:21:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21388",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

***ping*** ?



---

archive/issue_events_042849.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-21T20:21:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42849"
}
```



---

archive/issue_events_042850.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-01-21T20:21:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42850"
}
```



---

archive/issue_comments_021389.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThis LGTM, but I'd like to see if Karl-Dieter has any more comments before we set this to a positive review.",
    "created_at": "2016-01-21T22:03:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21389",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:26" align="right">comment:26</div>

This LGTM, but I'd like to see if Karl-Dieter has any more comments before we set this to a positive review.



---

archive/issue_comments_021390.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman, Travis Scrimshaw**",
    "created_at": "2016-01-21T22:03:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21390",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Karl-Dieter Crisman, Travis Scrimshaw**



---

archive/issue_comments_021391.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIf Travis can confirm that the original convention is now followed and that the awesome examples still look as they should, please do put it to positive!  I just continue to have no time for anything involving branches :( somehow that takes me much more time than e.g. reporting tickets.",
    "created_at": "2016-01-22T00:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21391",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:27" align="right">comment:27</div>

If Travis can confirm that the original convention is now followed and that the awesome examples still look as they should, please do put it to positive!  I just continue to have no time for anything involving branches :( somehow that takes me much more time than e.g. reporting tickets.



---

archive/issue_comments_021392.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nAFAIK it is correct. At the very least, it is better than the current behavior of erroring out.",
    "created_at": "2016-01-22T02:30:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21392",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

AFAIK it is correct. At the very least, it is better than the current behavior of erroring out.



---

archive/issue_events_042851.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-01-22T02:30:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42851"
}
```



---

archive/issue_events_042852.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-01-22T02:30:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42852"
}
```



---

archive/issue_events_042853.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-23T20:42:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42853"
}
```



---

archive/issue_events_042854.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d066eaa902c0bfd2c5a8449c8cfb06e636dc12fb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-01-23T20:42:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3859#event-42854"
}
```



---

archive/issue_comments_021393.json:
```json
{
    "body": "Changed branch from **[u/chapoton/3859](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/3859)** to **[`bc5b08a`](https://github.com/sagemath/sagetrac-mirror/commit/bc5b08a9516f877b5a82f286a39f2779b8518e2d)**",
    "created_at": "2016-01-23T20:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3859#issuecomment-21393",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/3859](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/3859)** to **[`bc5b08a`](https://github.com/sagemath/sagetrac-mirror/commit/bc5b08a9516f877b5a82f286a39f2779b8518e2d)**
