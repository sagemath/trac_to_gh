# Issue 3460: add power_basis() to number fields

archive/issues_003460.json:
```json
{
    "assignees": [],
    "body": "The patch describes it best.  Very useful.\n\nCC:  @craigcitro\n\nKeywords: **number field power basis**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3460_\n\n",
    "closed_at": "2008-08-10T20:21:19Z",
    "created_at": "2008-06-18T03:40:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add power_basis() to number fields",
    "type": "issue",
    "updated_at": "2023-01-08T09:58:41Z",
    "url": "https://github.com/sagemath/sage/issues/3460",
    "user": "https://github.com/ncalexan"
}
```
The patch describes it best.  Very useful.

CC:  @craigcitro

Keywords: **number field power basis**

_Issue created by migration from https://trac.sagemath.org/ticket/3460_





---

archive/issue_events_032741.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-06-18T03:40:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "milestone_number": null,
    "milestone_title": "sage-3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32741"
}
```



---

archive/issue_events_032742.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-06-18T03:40:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32742"
}
```



---

archive/issue_events_032743.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-06-18T03:40:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32743"
}
```



---

archive/issue_events_032744.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-06-18T03:40:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32744"
}
```



---

archive/issue_events_032745.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-06-18T03:40:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32745"
}
```



---

archive/issue_events_032746.json:
```json
{
    "actor": "https://github.com/sagetrac-dmharvey",
    "created_at": "2008-06-21T19:04:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "title_is": "[mostly positive review] add power_basis() to number fields",
    "title_was": "add power_basis() to number fields",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32746"
}
```



---

archive/issue_comments_019637.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttachment: **[3460-ncalexan-nf-power-basis-1.patch.gz](https://github.com/sagemath/sage/files/ticket3460/3460-ncalexan-nf-power-basis-1.patch.gz)**\n\nMostly okay, couple of issues:\n\n* in the docstring, `t^d` should be `t^{d-1} `\n* shouldn't QQ get this method too? I suppose this is a more general problem, it's not just this method. Maybe that should be a different ticket.\n* the docstring is slightly ambiguous. \"Return the power basis for this number field over its base field.\": it's not \"the\" power basis, it's \"a\" power basis. Also, \"and t is a root of f(x) in this field\": it's not just any root, it's the root that's being used to represent the elements. Perhaps just merge these sentences.",
    "created_at": "2008-06-21T19:04:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19637",
    "user": "https://github.com/sagetrac-dmharvey"
}
```

<a id='comment:1'>Comment 1:</a>
Attachment: **[3460-ncalexan-nf-power-basis-1.patch.gz](https://github.com/sagemath/sage/files/ticket3460/3460-ncalexan-nf-power-basis-1.patch.gz)**

Mostly okay, couple of issues:

* in the docstring, `t^d` should be `t^{d-1} `
* shouldn't QQ get this method too? I suppose this is a more general problem, it's not just this method. Maybe that should be a different ticket.
* the docstring is slightly ambiguous. "Return the power basis for this number field over its base field.": it's not "the" power basis, it's "a" power basis. Also, "and t is a root of f(x) in this field": it's not just any root, it's the root that's being used to represent the elements. Perhaps just merge these sentences.



---

archive/issue_events_032747.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-08-10T05:59:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "milestone_number": null,
    "milestone_title": "sage-3.1.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32747"
}
```



---

archive/issue_events_032748.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-08-10T05:59:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "milestone_number": null,
    "milestone_title": "sage-3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32748"
}
```



---

archive/issue_events_032749.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-08-10T05:59:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32749"
}
```



---

archive/issue_comments_019638.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nMerged in Sage 3.1.alpha1",
    "created_at": "2008-08-10T05:59:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19638",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:2'>Comment 2:</a>
Merged in Sage 3.1.alpha1



---

archive/issue_comments_019639.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nOops, Nick will hopefully get the issues addressed before 3.1.alpha1, so that we can properly close this. \n\nCheers,\n\nMichael",
    "created_at": "2008-08-10T06:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19639",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:3'>Comment 3:</a>
Oops, Nick will hopefully get the issues addressed before 3.1.alpha1, so that we can properly close this. 

Cheers,

Michael



---

archive/issue_comments_019640.json:
```json
{
    "body": "Attachment: **[3460-ncalexan-nf-power-basis-2.patch.gz](https://github.com/sagemath/sage/files/ticket3460/3460-ncalexan-nf-power-basis-2.patch.gz)**",
    "created_at": "2008-08-10T06:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19640",
    "user": "https://github.com/ncalexan"
}
```

Attachment: **[3460-ncalexan-nf-power-basis-2.patch.gz](https://github.com/sagemath/sage/files/ticket3460/3460-ncalexan-nf-power-basis-2.patch.gz)**



---

archive/issue_comments_019641.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nThis addresses the comments about the docstring and adds the desired function to QQ.\n\nIt also addresses a bug in residue_field that I just noticed... sorry for the crosspost.",
    "created_at": "2008-08-10T06:41:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19641",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:4'>Comment 4:</a>
This addresses the comments about the docstring and adds the desired function to QQ.

It also addresses a bug in residue_field that I just noticed... sorry for the crosspost.



---

archive/issue_comments_019642.json:
```json
{
    "body": "Attachment: **[3460-ncalexan-nf-power-basis-3.patch.gz](https://github.com/sagemath/sage/files/ticket3460/3460-ncalexan-nf-power-basis-3.patch.gz)**",
    "created_at": "2008-08-10T18:21:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19642",
    "user": "https://github.com/ncalexan"
}
```

Attachment: **[3460-ncalexan-nf-power-basis-3.patch.gz](https://github.com/sagemath/sage/files/ticket3460/3460-ncalexan-nf-power-basis-3.patch.gz)**



---

archive/issue_events_032750.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-10T18:22:12Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "title_is": "add power_basis() to number fields",
    "title_was": "[mostly positive review] add power_basis() to number fields",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32750"
}
```



---

archive/issue_events_032751.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-08-10T18:22:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32751"
}
```



---

archive/issue_comments_019643.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nFinal patch fixes a one word type in the doctest :)\n\nHopefully it's good now.  All patches are \"from scratch\", i.e. apply only the last patch.",
    "created_at": "2008-08-10T18:22:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19643",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:5'>Comment 5:</a>
Final patch fixes a one word type in the doctest :)

Hopefully it's good now.  All patches are "from scratch", i.e. apply only the last patch.



---

archive/issue_events_032752.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2008-08-10T19:18:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "title_is": "[woth positive review] add power_basis() to number fields",
    "title_was": "add power_basis() to number fields",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32752"
}
```



---

archive/issue_comments_019644.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nLooks good to me.\n\nPatch number 3 applies cleanly to 3.1.alpha0, and all tests in sage.rings pass.\n\nI note that the implementation for QQ relies on its gen() being 1.  It might be safer to use self(1) instead.  But that's very minor.",
    "created_at": "2008-08-10T19:18:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19644",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:6'>Comment 6:</a>
Looks good to me.

Patch number 3 applies cleanly to 3.1.alpha0, and all tests in sage.rings pass.

I note that the implementation for QQ relies on its gen() being 1.  It might be safer to use self(1) instead.  But that's very minor.



---

archive/issue_events_032753.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2008-08-10T19:19:27Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "title_is": "add power_basis() to number fields",
    "title_was": "[woth positive review] add power_basis() to number fields",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32753"
}
```



---

archive/issue_events_032754.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2008-08-10T19:19:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32754"
}
```



---

archive/issue_events_032755.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2008-08-10T19:19:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32755"
}
```



---

archive/issue_events_032756.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-08-10T20:21:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32756"
}
```



---

archive/issue_events_032757.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-08-10T20:21:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3460#event-32757"
}
```



---

archive/issue_comments_019645.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nMerged 3460-ncalexan-nf-power-basis-3.patch in Sage 3.1.alpha1",
    "created_at": "2008-08-10T20:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3460",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3460#issuecomment-19645",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:8'>Comment 8:</a>
Merged 3460-ncalexan-nf-power-basis-3.patch in Sage 3.1.alpha1
