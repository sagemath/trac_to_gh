# Issue 3668: Functionality of "Set"

archive/issues_003668.json:
```json
{
    "body": "In the documentation for the function \"Set\" (Reference Manual 11.8) it would be helpful to explicitly point out that Set allows objects of different types, so \n\n```\nsage: Set([Sequence(my_seq),3,QQ])\nRational Field, 3, [2, 3]\n```\n\nis perfectly OK.\n\nAlso, it would be nice if Set allowed one to use lists, so\n\n`Set([This is the Trac macro *2,3* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#2,3-macro))`\n\nworked, rather than giving the error message ``TypeError: list objects are unhashable''.\n\n\nAssignee: @tscrim\n\nCC:  sage-combinat\n\nKeywords: documentation\n\nReviewer: Nathann Cohen\n\nAuthor: Travis Scrimshaw\n\nMerged: sage-5.12.beta2\n\nDependencies: #11366\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/3668\n\n",
    "closed_at": "2013-08-16T21:17:12Z",
    "created_at": "2008-07-16T22:25:58Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Functionality of \"Set\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/3668",
    "user": "https://trac.sagemath.org/admin/accounts/users/ljpk"
}
```
In the documentation for the function "Set" (Reference Manual 11.8) it would be helpful to explicitly point out that Set allows objects of different types, so 

```
sage: Set([Sequence(my_seq),3,QQ])
Rational Field, 3, [2, 3]
```

is perfectly OK.

Also, it would be nice if Set allowed one to use lists, so

`Set([This is the Trac macro *2,3* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#2,3-macro))`

worked, rather than giving the error message ``TypeError: list objects are unhashable''.


Assignee: @tscrim

CC:  sage-combinat

Keywords: documentation

Reviewer: Nathann Cohen

Author: Travis Scrimshaw

Merged: sage-5.12.beta2

Dependencies: #11366

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/3668





---

archive/issue_events_010907.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-08-14T23:03:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "milestone": "sage-3.1.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3668#event-10907"
}
```



---

archive/issue_comments_029837.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,13 +2,14 @@\n \n ```\n sage: Set([Sequence(my_seq),3,QQ])\n-{Rational Field, 3, [2, 3]}}}}\n+Rational Field, 3, [2, 3]\n+```\n \n is perfectly OK.\n \n Also, it would be nice if Set allowed one to use lists, so\n \n-`Set([[2,3]])`\n+`Set([This is the Trac macro *2,3* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#2,3-macro))`\n \n worked, rather than giving the error message ``TypeError: list objects are unhashable''.\n \n``````\n",
    "created_at": "2008-09-16T00:13:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29837",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,13 +2,14 @@
 
 ```
 sage: Set([Sequence(my_seq),3,QQ])
-{Rational Field, 3, [2, 3]}}}}
+Rational Field, 3, [2, 3]
+```
 
 is perfectly OK.
 
 Also, it would be nice if Set allowed one to use lists, so
 
-`Set([[2,3]])`
+`Set([This is the Trac macro *2,3* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#2,3-macro))`
 
 worked, rather than giving the error message ``TypeError: list objects are unhashable''.
 
``````




---

archive/issue_comments_029838.json:
```json
{
    "body": "Author: Travis Scrimshaw",
    "created_at": "2012-11-18T04:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29838",
    "user": "https://github.com/tscrim"
}
```

Author: Travis Scrimshaw



---

archive/issue_comments_029839.json:
```json
{
    "body": "Dependencies: #11366",
    "created_at": "2012-11-18T04:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29839",
    "user": "https://github.com/tscrim"
}
```

Dependencies: #11366



---

archive/issue_comments_029840.json:
```json
{
    "body": "<a id='comment:3'></a>\nAdded documentation that `Set` can take arbitrary hashable objects and raises an exception if one of the objects is not. Also cleaned up some of the documentation. Based on the (one line change) #11366.",
    "created_at": "2012-11-18T04:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29840",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
Added documentation that `Set` can take arbitrary hashable objects and raises an exception if one of the objects is not. Also cleaned up some of the documentation. Based on the (one line change) #11366.



---

archive/issue_comments_029841.json:
```json
{
    "body": "Upstream: N/A",
    "created_at": "2012-11-18T04:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29841",
    "user": "https://github.com/tscrim"
}
```

Upstream: N/A



---

archive/issue_comments_029842.json:
```json
{
    "body": "Changing keywords from \"\" to \"documentation\".",
    "created_at": "2012-11-18T04:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29842",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "" to "documentation".



---

archive/issue_comments_029843.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-11-18T04:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29843",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_029844.json:
```json
{
    "body": "Changing assignee from tba to @tscrim.",
    "created_at": "2012-11-26T06:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29844",
    "user": "https://github.com/tscrim"
}
```

Changing assignee from tba to @tscrim.



---

archive/issue_comments_029845.json:
```json
{
    "body": "Reviewer: Nathann Cohen",
    "created_at": "2013-04-21T19:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29845",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: Nathann Cohen



---

archive/issue_comments_029846.json:
```json
{
    "body": "<a id='comment:6'></a>\nGood to go !\n\nNathann",
    "created_at": "2013-04-21T19:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29846",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'></a>
Good to go !

Nathann



---

archive/issue_comments_029847.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-21T19:17:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29847",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_029848.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks for the review Nathann.",
    "created_at": "2013-04-21T20:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29848",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Thanks for the review Nathann.



---

archive/issue_comments_029849.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-04-22T05:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29849",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_029850.json:
```json
{
    "body": "<a id='comment:9'></a>\nWhat's the point of tests like\n\n```\nsage: hash(s) == hash(s) \nTrue\n```\n\nI prefer to keep the actual hash in this case:\n\n```\nsage: hash(s)\n1234   # 32-bit\n56789  # 64-bit\n```\n\nMinor comment: `#indirect doctest` isn't needed for `_underscored_` methods.",
    "created_at": "2013-04-22T05:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29850",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
What's the point of tests like

```
sage: hash(s) == hash(s) 
True
```

I prefer to keep the actual hash in this case:

```
sage: hash(s)
1234   # 32-bit
56789  # 64-bit
```

Minor comment: `#indirect doctest` isn't needed for `_underscored_` methods.



---

archive/issue_comments_029851.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jdemeyer](#comment%3A9):\n> What's the point of tests like\n> \n> ```\n> sage: hash(s) == hash(s) \n> True\n> ```\n> \n> I prefer to keep the actual hash in this case:\n> \n> ```\n> sage: hash(s)\n> 1234   # 32-bit\n> 56789  # 64-bit\n> ```\n\n\nThe main reason is so that the output does not change if the hash value of the underlying object changes, but it still tests that it is hashable. (Plus it means we don't need to find a 32 and 64 bit machine to test.) I remember there being a discussion about this, but I don't remember/can't find which ticket this came up in (I believe there was a sage-devel topic on this, but I can't find it either).\n\nHowever I can reset the one doctest back and change the other one to reflect the behavior of the `__hash__()` function.\n\n> Minor comment: `#indirect doctest` isn't needed for `_underscored_` methods.\n\n\nI wrote this before the switch to the new doctesting framework and were needed then if `_underscored_` methods weren't explicity called. I'll remove them on the next version of the patch.",
    "created_at": "2013-04-22T21:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29851",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
Replying to [jdemeyer](#comment%3A9):
> What's the point of tests like
> 
> ```
> sage: hash(s) == hash(s) 
> True
> ```
> 
> I prefer to keep the actual hash in this case:
> 
> ```
> sage: hash(s)
> 1234   # 32-bit
> 56789  # 64-bit
> ```


The main reason is so that the output does not change if the hash value of the underlying object changes, but it still tests that it is hashable. (Plus it means we don't need to find a 32 and 64 bit machine to test.) I remember there being a discussion about this, but I don't remember/can't find which ticket this came up in (I believe there was a sage-devel topic on this, but I can't find it either).

However I can reset the one doctest back and change the other one to reflect the behavior of the `__hash__()` function.

> Minor comment: `#indirect doctest` isn't needed for `_underscored_` methods.


I wrote this before the switch to the new doctesting framework and were needed then if `_underscored_` methods weren't explicity called. I'll remove them on the next version of the patch.



---

archive/issue_comments_029852.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-12T09:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29852",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_029853.json:
```json
{
    "body": "<a id='comment:11'></a>\nAttachment [trac_3668-set_doc_update-ts.patch](tarball://root/attachments/some-uuid/ticket3668/trac_3668-set_doc_update-ts.patch) by @tscrim created at 2013-07-12 09:41:02\n\nNew version which keeps the actual hash and removes now unneeded `#indirect doctests`.",
    "created_at": "2013-07-12T09:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29853",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
Attachment [trac_3668-set_doc_update-ts.patch](tarball://root/attachments/some-uuid/ticket3668/trac_3668-set_doc_update-ts.patch) by @tscrim created at 2013-07-12 09:41:02

New version which keeps the actual hash and removes now unneeded `#indirect doctests`.



---

archive/issue_comments_029854.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-12T10:19:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29854",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_029855.json:
```json
{
    "body": "<a id='comment:12'></a>\nWellllllll, then `:-)`\n\nNathann",
    "created_at": "2013-07-12T10:19:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29855",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
Wellllllll, then `:-)`

Nathann



---

archive/issue_events_010908.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-24T06:36:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "milestone": "sage-3.1.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3668#event-10908"
}
```



---

archive/issue_events_010909.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-24T06:36:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3668#event-10909"
}
```



---

archive/issue_comments_029856.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-16T21:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29856",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_029857.json:
```json
{
    "body": "Merged: sage-5.12.beta2",
    "created_at": "2013-08-16T21:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3668#issuecomment-29857",
    "user": "https://github.com/jdemeyer"
}
```

Merged: sage-5.12.beta2



---

archive/issue_events_010910.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-16T21:17:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/3668",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3668#event-10910"
}
```
