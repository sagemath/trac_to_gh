# Issue 3768: move jsmath into its own spkg and update to latest upstream (3.6a)

archive/issues_003768.json:
```json
{
    "assignees": [],
    "body": "We should move jsmath into its own spkg.  Like jquery, there seem to be two copies of it, and it'd be good to get rid of this duplication and track its versioning explicitly.\n\nAssignee: **@sagetrac-mabshoff**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3768_\n\n",
    "closed_at": "2008-12-04T18:09:39Z",
    "created_at": "2008-08-03T19:29:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "move jsmath into its own spkg and update to latest upstream (3.6a)",
    "type": "issue",
    "updated_at": "2008-12-04T18:16:00Z",
    "url": "https://github.com/sagemath/sage/issues/3768",
    "user": "https://github.com/timabbott"
}
```
We should move jsmath into its own spkg.  Like jquery, there seem to be two copies of it, and it'd be good to get rid of this duplication and track its versioning explicitly.

Assignee: **@sagetrac-mabshoff**

_Issue created by migration from https://trac.sagemath.org/ticket/3768_





---

archive/issue_events_037092.json:
```json
{
    "actor": "https://github.com/timabbott",
    "created_at": "2008-08-03T19:29:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "milestone_number": null,
    "milestone_title": "sage-3.2.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3768#event-37092"
}
```



---

archive/issue_events_037093.json:
```json
{
    "actor": "https://github.com/timabbott",
    "created_at": "2008-08-03T19:29:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3768#event-37093"
}
```



---

archive/issue_events_037094.json:
```json
{
    "actor": "https://github.com/timabbott",
    "created_at": "2008-08-03T19:29:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3768#event-37094"
}
```



---

archive/issue_comments_021702.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI'm working on this.",
    "created_at": "2008-10-10T23:33:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21702",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:1" align="right">Comment 1</div>

I'm working on this.



---

archive/issue_events_037095.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-04T17:42:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "title_is": "move jsmath into its own spkg and update to latest upstream (3.6a)",
    "title_was": "move jsmath into its own spkg",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3768#event-37095"
}
```



---

archive/issue_comments_021703.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nJason,\n\ncan you post the spkg here? This should be fairly orthogonal to all the other javascript work you are doing. Since the other patches need to be rebased anyway this would likey make it easier.",
    "created_at": "2008-12-04T17:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21703",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:2" align="right">Comment 2</div>

Jason,

can you post the spkg here? This should be fairly orthogonal to all the other javascript work you are doing. Since the other patches need to be rebased anyway this would likey make it easier.



---

archive/issue_comments_021704.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThis is posted at #4267 :\n\nhttp://sage.math.washington.edu/home/jason/notebook/jsmath-3.6a.spkg",
    "created_at": "2008-12-04T17:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21704",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:3" align="right">Comment 3</div>

This is posted at #4267 :

http://sage.math.washington.edu/home/jason/notebook/jsmath-3.6a.spkg



---

archive/issue_comments_021705.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI think it relies on changes in #4267, though, since it changes the paths that the notebook uses to include jsmath.  All of these changes are intertangled at #4267.",
    "created_at": "2008-12-04T17:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21705",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:4" align="right">Comment 4</div>

I think it relies on changes in #4267, though, since it changes the paths that the notebook uses to include jsmath.  All of these changes are intertangled at #4267.



---

archive/issue_comments_021706.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nReplying to [@jasongrout](#comment%3A4):\n> I think it relies on changes in #4267, though, since it changes the paths that the notebook uses to include jsmath.  All of these changes are intertangled at #4267.\n\nMmh, the jsmath changes should be pretty harmless and as is #4267 is a mess. So taking care of jsmath independently and then redoing #4267 might be an option, but unless somebody else is doing the work I guess it is your call :)\n\nCheers,\n\nMichael",
    "created_at": "2008-12-04T17:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21706",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:5" align="right">Comment 5</div>

Replying to [@jasongrout](#comment%3A4):
> I think it relies on changes in #4267, though, since it changes the paths that the notebook uses to include jsmath.  All of these changes are intertangled at #4267.

Mmh, the jsmath changes should be pretty harmless and as is #4267 is a mess. So taking care of jsmath independently and then redoing #4267 might be an option, but unless somebody else is doing the work I guess it is your call :)

Cheers,

Michael



---

archive/issue_comments_021707.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nI'd rather try doing it all at once, since once I'm sifting through the changes in #4267, it'll be easiest just to break it up all at once.  I'll try to get this done before the Joint Meetings (hopefully way before).",
    "created_at": "2008-12-04T18:01:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21707",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:6" align="right">Comment 6</div>

I'd rather try doing it all at once, since once I'm sifting through the changes in #4267, it'll be easiest just to break it up all at once.  I'll try to get this done before the Joint Meetings (hopefully way before).



---

archive/issue_comments_021708.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\n(when I say \"all at once\", I mean \"breaking up #4267 into functional tickets\" instead of trying to just pull out one change and then redo #4267).\n\nLikely, #4267 will end up as several tickets:\n\n1. Make all the existing javascript code spkgs\n2. Various jquery-related cleanups of the javascript code\n3. Add TinyMCE as an (optional?) spkg\n4. Make the shift-click work (in-place wysiwyg editing).",
    "created_at": "2008-12-04T18:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21708",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:7" align="right">Comment 7</div>

(when I say "all at once", I mean "breaking up #4267 into functional tickets" instead of trying to just pull out one change and then redo #4267).

Likely, #4267 will end up as several tickets:

1. Make all the existing javascript code spkgs
2. Various jquery-related cleanups of the javascript code
3. Add TinyMCE as an (optional?) spkg
4. Make the shift-click work (in-place wysiwyg editing).



---

archive/issue_comments_021709.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\n#4674 is also a ticket about updating jsmath (but also includes one other thing).",
    "created_at": "2008-12-04T18:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21709",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:8" align="right">Comment 8</div>

#4674 is also a ticket about updating jsmath (but also includes one other thing).



---

archive/issue_comments_021710.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@jasongrout](#comment%3A8):\n> #4674 is also a ticket about updating jsmath (but also includes one other thing).\n\nI agree, so I am closing this as a dupe of #4674.\n\nCheers,\n\nMichael",
    "created_at": "2008-12-04T18:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21710",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@jasongrout](#comment%3A8):
> #4674 is also a ticket about updating jsmath (but also includes one other thing).

I agree, so I am closing this as a dupe of #4674.

Cheers,

Michael



---

archive/issue_events_037096.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-04T18:09:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3768#event-37096"
}
```



---

archive/issue_events_037097.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-04T18:09:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3768#event-37097"
}
```



---

archive/issue_events_037098.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-04T18:09:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "milestone_number": null,
    "milestone_title": "sage-3.2.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3768#event-37098"
}
```



---

archive/issue_events_037099.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-12-04T18:09:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3768#event-37099"
}
```



---

archive/issue_comments_021711.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@jasongrout](#comment%3A7):\n> (when I say \"all at once\", I mean \"breaking up #4267 into functional tickets\" instead of trying to just pull out one change and then redo #4267).\n> \n> Likely, #4267 will end up as several tickets:\n> \n> 1. Make all the existing javascript code spkgs\n> 2. Various jquery-related cleanups of the javascript code\n> 3. Add TinyMCE as an (optional?) spkg\n> 4. Make the shift-click work (in-place wysiwyg editing).\n> \n\nI would much rather have individual tickers:\n\n* move jsmath to its own spkg (#4674)\n* move jquery to its own spkg and remove both in tree copies (#3767)\n* cleanups of jquery code\n* TinyMCE\n* in place wysiwyg editing \n\nin exactly that order. Feel free to open three tickets (since we already have the jsmath and the jquery one) and then nuke #4267 and #4184 since both of them are a mess.\n\nDoing multiple related, but independent tasks always leads to giant screw ups like #4276 where one small issue with one aspect of the ticket leads to the whole ticket going stale. \n\nCheers,\n\nMichael",
    "created_at": "2008-12-04T18:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3768#issuecomment-21711",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@jasongrout](#comment%3A7):
> (when I say "all at once", I mean "breaking up #4267 into functional tickets" instead of trying to just pull out one change and then redo #4267).
> 
> Likely, #4267 will end up as several tickets:
> 
> 1. Make all the existing javascript code spkgs
> 2. Various jquery-related cleanups of the javascript code
> 3. Add TinyMCE as an (optional?) spkg
> 4. Make the shift-click work (in-place wysiwyg editing).
> 

I would much rather have individual tickers:

* move jsmath to its own spkg (#4674)
* move jquery to its own spkg and remove both in tree copies (#3767)
* cleanups of jquery code
* TinyMCE
* in place wysiwyg editing 

in exactly that order. Feel free to open three tickets (since we already have the jsmath and the jquery one) and then nuke #4267 and #4184 since both of them are a mess.

Doing multiple related, but independent tasks always leads to giant screw ups like #4276 where one small issue with one aspect of the ticket leads to the whole ticket going stale. 

Cheers,

Michael
