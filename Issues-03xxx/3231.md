# Issue 3231: Use the randgen framework to set the seeds for controlled Magma, Singular, etc. sessions

archive/issues_003231.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-cwitty"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nThe interfaces to gp, gap, r, scilab, magma, etc., should use the randgen framework to initialize/set the seed for their respective random number generators.\n\nThe purpose of this ticket is to add a `set_seed` method to each interface which takes the appropriate input to modify the random number generator's seed value. It should also make the interfaces initialize their seed value with a random value generated from the randgen framework.\n\nComponent: **interfaces**\n\nAuthor: **Travis Scholl**\n\nBranch/Commit: **[`38256ae`](https://github.com/sagemath/sagetrac-mirror/commit/38256aea80c972caecb14cfcd22fae0fe0adbe38)**\n\nReviewer: **Martin Albrecht**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3231_\n\n",
    "closed_at": "2015-06-22T22:25:10Z",
    "created_at": "2008-05-16T23:14:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Use the randgen framework to set the seeds for controlled Magma, Singular, etc. sessions",
    "type": "issue",
    "updated_at": "2015-06-22T22:25:10Z",
    "url": "https://github.com/sagemath/sage/issues/3231",
    "user": "https://github.com/malb"
}
```
<div id="comment:0"></div>

The interfaces to gp, gap, r, scilab, magma, etc., should use the randgen framework to initialize/set the seed for their respective random number generators.

The purpose of this ticket is to add a `set_seed` method to each interface which takes the appropriate input to modify the random number generator's seed value. It should also make the interfaces initialize their seed value with a random value generated from the randgen framework.

Component: **interfaces**

Author: **Travis Scholl**

Branch/Commit: **[`38256ae`](https://github.com/sagemath/sagetrac-mirror/commit/38256aea80c972caecb14cfcd22fae0fe0adbe38)**

Reviewer: **Martin Albrecht**

_Issue created by migration from https://trac.sagemath.org/ticket/3231_





---

archive/issue_events_034403.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-05-16T23:14:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34403"
}
```



---

archive/issue_events_034404.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-05-16T23:14:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34404"
}
```



---

archive/issue_events_034405.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-05-16T23:14:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34405"
}
```



---

archive/issue_events_034406.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-05-16T23:14:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34406"
}
```



---

archive/issue_events_034407.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-05-16T23:14:33Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "subject": "https://github.com/malb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34407"
}
```



---

archive/issue_events_034408.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-02-24T02:15:43Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "subject": "https://github.com/sagetrac-cwitty",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34408"
}
```



---

archive/issue_events_034409.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2009-02-24T02:15:43Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "subject": "https://github.com/sagetrac-cwitty",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34409"
}
```



---

archive/issue_events_034410.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34410"
}
```



---

archive/issue_events_034411.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34411"
}
```



---

archive/issue_events_034412.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34412"
}
```



---

archive/issue_events_034413.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34413"
}
```



---

archive/issue_events_034414.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34414"
}
```



---

archive/issue_events_034415.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34415"
}
```



---

archive/issue_events_034416.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34416"
}
```



---

archive/issue_events_034417.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34417"
}
```



---

archive/issue_comments_017026.json:
```json
{
    "body": "Commit: **[`141e8e9`](https://github.com/sagemath/sagetrac-mirror/commit/141e8e9b10ef8e775d73838f17fab604fcdd3d18)**",
    "created_at": "2015-05-25T22:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17026",
    "user": "https://github.com/tscholl2"
}
```

Commit: **[`141e8e9`](https://github.com/sagemath/sagetrac-mirror/commit/141e8e9b10ef8e775d73838f17fab604fcdd3d18)**



---

archive/issue_comments_017027.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e532a6c1930a1f86637ae78f661b43151851ea74\"><code>e532a6c</code></a></td><td><code>added set_seed support for singular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa2b61b6dfab4ad7a573869e149cdcb9a5dcd138\"><code>aa2b61b</code></a></td><td><code>used randstate to initialize seed in some interfaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/141e8e9b10ef8e775d73838f17fab604fcdd3d18\"><code>141e8e9</code></a></td><td><code>Added set_seed functionality to more interfaces.</code></td></tr></table>\n",
    "created_at": "2015-05-25T22:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17027",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:6"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e532a6c1930a1f86637ae78f661b43151851ea74"><code>e532a6c</code></a></td><td><code>added set_seed support for singular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa2b61b6dfab4ad7a573869e149cdcb9a5dcd138"><code>aa2b61b</code></a></td><td><code>used randstate to initialize seed in some interfaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/141e8e9b10ef8e775d73838f17fab604fcdd3d18"><code>141e8e9</code></a></td><td><code>Added set_seed functionality to more interfaces.</code></td></tr></table>




---

archive/issue_comments_017028.json:
```json
{
    "body": "Author: **Travis Scholl**",
    "created_at": "2015-05-25T22:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17028",
    "user": "https://github.com/tscholl2"
}
```

Author: **Travis Scholl**



---

archive/issue_comments_017029.json:
```json
{
    "body": "Branch: **[u/tscholl2/seeds_3231](https://github.com/sagemath/sagetrac-mirror/tree/u/tscholl2/seeds_3231)**",
    "created_at": "2015-05-25T22:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17029",
    "user": "https://github.com/tscholl2"
}
```

Branch: **[u/tscholl2/seeds_3231](https://github.com/sagemath/sagetrac-mirror/tree/u/tscholl2/seeds_3231)**



---

archive/issue_comments_017030.json:
```json
{
    "body": "Changed commit from **[`141e8e9`](https://github.com/sagemath/sagetrac-mirror/commit/141e8e9b10ef8e775d73838f17fab604fcdd3d18)** to **[`33abf28`](https://github.com/sagemath/sagetrac-mirror/commit/33abf288e74d1685d5bb09b37c1fa2bb9e5d67e2)**",
    "created_at": "2015-05-26T13:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17030",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`141e8e9`](https://github.com/sagemath/sagetrac-mirror/commit/141e8e9b10ef8e775d73838f17fab604fcdd3d18)** to **[`33abf28`](https://github.com/sagemath/sagetrac-mirror/commit/33abf288e74d1685d5bb09b37c1fa2bb9e5d67e2)**



---

archive/issue_comments_017031.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33abf288e74d1685d5bb09b37c1fa2bb9e5d67e2\"><code>33abf28</code></a></td><td><code>Added Magma example</code></td></tr></table>\n",
    "created_at": "2015-05-26T13:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17031",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33abf288e74d1685d5bb09b37c1fa2bb9e5d67e2"><code>33abf28</code></a></td><td><code>Added Magma example</code></td></tr></table>




---

archive/issue_comments_017032.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f8533ac115e5a446b2df92271eb6feb5b643efa\"><code>3f8533a</code></a></td><td><code>fixed randstate singular example</code></td></tr></table>\n",
    "created_at": "2015-05-26T15:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17032",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f8533ac115e5a446b2df92271eb6feb5b643efa"><code>3f8533a</code></a></td><td><code>fixed randstate singular example</code></td></tr></table>




---

archive/issue_comments_017033.json:
```json
{
    "body": "Changed commit from **[`33abf28`](https://github.com/sagemath/sagetrac-mirror/commit/33abf288e74d1685d5bb09b37c1fa2bb9e5d67e2)** to **[`3f8533a`](https://github.com/sagemath/sagetrac-mirror/commit/3f8533ac115e5a446b2df92271eb6feb5b643efa)**",
    "created_at": "2015-05-26T15:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17033",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`33abf28`](https://github.com/sagemath/sagetrac-mirror/commit/33abf288e74d1685d5bb09b37c1fa2bb9e5d67e2)** to **[`3f8533a`](https://github.com/sagemath/sagetrac-mirror/commit/3f8533ac115e5a446b2df92271eb6feb5b643efa)**



---

archive/issue_events_034418.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2015-05-26T15:51:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34418"
}
```



---

archive/issue_comments_017034.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI added a `set_seed` function on a lot of the interfaces such as gap, gp, magma, maxima, R, and singular. This allows setting the seed for the corresponding random number generator.\n\nThis made solving the ticket very easy by just calling \"set_seed\" when the interface is started with `_start`.\n\nI think someone should rewrite the `randstate` class to use these methods if possible. However that would require someone with more cython knowledge.\n\nAlso `set_seed` still needs to be implemented on a few more interfaces, but those are not free so they are not as easy to test with.",
    "created_at": "2015-05-26T15:55:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17034",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:10" align="right">comment:10</div>

I added a `set_seed` function on a lot of the interfaces such as gap, gp, magma, maxima, R, and singular. This allows setting the seed for the corresponding random number generator.

This made solving the ticket very easy by just calling "set_seed" when the interface is started with `_start`.

I think someone should rewrite the `randstate` class to use these methods if possible. However that would require someone with more cython knowledge.

Also `set_seed` still needs to be implemented on a few more interfaces, but those are not free so they are not as easy to test with.



---

archive/issue_comments_017035.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nMaybe this ticket should be repurposed then and another ticket created to realise the integration into the randgen() framework? It'd be a shame if this bitrots.",
    "created_at": "2015-05-27T09:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17035",
    "user": "https://github.com/malb"
}
```

<div id="comment:11" align="right">comment:11</div>

Maybe this ticket should be repurposed then and another ticket created to realise the integration into the randgen() framework? It'd be a shame if this bitrots.



---

archive/issue_comments_017036.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI think this ticket is fine because it's still a step in the right direction. In my mind the best framework would be for every interface to have a `set_seed` function like these. Then `randstate` would have methods that take in an instance of an interface and set it's seed using that method. Right now there is no control over multiple instances of interfaces, which it seems like there could/should be, and it might even simplify some of the `randstate` code.\n\nAlso `randstate` would still set seeds for non-interfaces such as libraries like `libc` and `python.random` (or wrap the random calls as it does). All of the `set_seed` methods I wrote default to `interface.rand_seed` on startup which uses `randstate`, so I think this fit the description of this ticket.\n\nI think the next ticket should be specifically about `randstate` and be dependent on this one. I am worried repurposing this ticket to do both might be a bit much. Or did you have something else in mind?",
    "created_at": "2015-05-27T14:31:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17036",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:12" align="right">comment:12</div>

I think this ticket is fine because it's still a step in the right direction. In my mind the best framework would be for every interface to have a `set_seed` function like these. Then `randstate` would have methods that take in an instance of an interface and set it's seed using that method. Right now there is no control over multiple instances of interfaces, which it seems like there could/should be, and it might even simplify some of the `randstate` code.

Also `randstate` would still set seeds for non-interfaces such as libraries like `libc` and `python.random` (or wrap the random calls as it does). All of the `set_seed` methods I wrote default to `interface.rand_seed` on startup which uses `randstate`, so I think this fit the description of this ticket.

I think the next ticket should be specifically about `randstate` and be dependent on this one. I am worried repurposing this ticket to do both might be a bit much. Or did you have something else in mind?



---

archive/issue_comments_017037.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI agree: let's deal with what you've done in this ticket (and change the description accordingly) and then open another follow up ticket which deals with the `randstate` business.",
    "created_at": "2015-05-28T10:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17037",
    "user": "https://github.com/malb"
}
```

<div id="comment:13" align="right">comment:13</div>

I agree: let's deal with what you've done in this ticket (and change the description accordingly) and then open another follow up ticket which deals with the `randstate` business.



---

archive/issue_comments_017038.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8601eb9749e1b9bf96af14ecf7347e4f67c143ad\"><code>8601eb9</code></a></td><td><code>reverted changes in randstate</code></td></tr></table>\n",
    "created_at": "2015-05-29T02:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17038",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8601eb9749e1b9bf96af14ecf7347e4f67c143ad"><code>8601eb9</code></a></td><td><code>reverted changes in randstate</code></td></tr></table>




---

archive/issue_comments_017039.json:
```json
{
    "body": "Changed commit from **[`3f8533a`](https://github.com/sagemath/sagetrac-mirror/commit/3f8533ac115e5a446b2df92271eb6feb5b643efa)** to **[`8601eb9`](https://github.com/sagemath/sagetrac-mirror/commit/8601eb9749e1b9bf96af14ecf7347e4f67c143ad)**",
    "created_at": "2015-05-29T02:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17039",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3f8533a`](https://github.com/sagemath/sagetrac-mirror/commit/3f8533ac115e5a446b2df92271eb6feb5b643efa)** to **[`8601eb9`](https://github.com/sagemath/sagetrac-mirror/commit/8601eb9749e1b9bf96af14ecf7347e4f67c143ad)**



---

archive/issue_comments_017040.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cbc95b7a2bf9bae8efafdf8ded0fd3577a6425d\"><code>6cbc95b</code></a></td><td><code>missed .pxd file</code></td></tr></table>\n",
    "created_at": "2015-05-29T02:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17040",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cbc95b7a2bf9bae8efafdf8ded0fd3577a6425d"><code>6cbc95b</code></a></td><td><code>missed .pxd file</code></td></tr></table>




---

archive/issue_comments_017041.json:
```json
{
    "body": "Changed commit from **[`8601eb9`](https://github.com/sagemath/sagetrac-mirror/commit/8601eb9749e1b9bf96af14ecf7347e4f67c143ad)** to **[`6cbc95b`](https://github.com/sagemath/sagetrac-mirror/commit/6cbc95b7a2bf9bae8efafdf8ded0fd3577a6425d)**",
    "created_at": "2015-05-29T02:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17041",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8601eb9`](https://github.com/sagemath/sagetrac-mirror/commit/8601eb9749e1b9bf96af14ecf7347e4f67c143ad)** to **[`6cbc95b`](https://github.com/sagemath/sagetrac-mirror/commit/6cbc95b7a2bf9bae8efafdf8ded0fd3577a6425d)**



---

archive/issue_comments_017042.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-If e.g. Magma is started from Sage then the seed parameter (`-S seed`) should be set using the randgen framework maybe.\n+The interfaces to gp, gap, r, scilab, magma, etc., should use the randgen framework to initialize/set the seed for their respective random number generators.\n+\n+The purpose of this ticket is to add a `set_seed` method to each interface which takes the appropriate input to modify the random number generator's seed value. It should also make the interfaces initialize their seed value with a random value generated from the randgen framework.\n``````\n",
    "created_at": "2015-05-29T02:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17042",
    "user": "https://github.com/tscholl2"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-If e.g. Magma is started from Sage then the seed parameter (`-S seed`) should be set using the randgen framework maybe.
+The interfaces to gp, gap, r, scilab, magma, etc., should use the randgen framework to initialize/set the seed for their respective random number generators.
+
+The purpose of this ticket is to add a `set_seed` method to each interface which takes the appropriate input to modify the random number generator's seed value. It should also make the interfaces initialize their seed value with a random value generated from the randgen framework.
``````




---

archive/issue_comments_017043.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI repurposed this ticket to match the new directions for the `randstate` class. This ticket is now focused on setting the seeds for the interfaces as the code I uploaded does for many of the interfaces.\n\nThere will be a new ticket to rewrite the `randstate` class to use these methods as well as allow for setting the seed on particular instances of interfaces. This may force a small change in the `randstate` api, but that is for the next ticket.",
    "created_at": "2015-05-29T02:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17043",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:17" align="right">comment:17</div>

I repurposed this ticket to match the new directions for the `randstate` class. This ticket is now focused on setting the seeds for the interfaces as the code I uploaded does for many of the interfaces.

There will be a new ticket to rewrite the `randstate` class to use these methods as well as allow for setting the seed on particular instances of interfaces. This may force a small change in the `randstate` api, but that is for the next ticket.



---

archive/issue_comments_017044.json:
```json
{
    "body": "Reviewer: **Martin Albrecht**",
    "created_at": "2015-06-12T17:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17044",
    "user": "https://github.com/malb"
}
```

Reviewer: **Martin Albrecht**



---

archive/issue_events_034419.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-12T17:28:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34419"
}
```



---

archive/issue_events_034420.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-12T17:28:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34420"
}
```



---

archive/issue_comments_017045.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nIn /src/sage/interfaces/interface.py the new function\n\n```\n+    def get_seed(self):\n+        return self._seed\n```\n\nlacks documentation and a doctest. The next two functions lack doctests (I know it's silly)\n\nOther than that, it looks good to me.",
    "created_at": "2015-06-12T17:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17045",
    "user": "https://github.com/malb"
}
```

<div id="comment:18" align="right">comment:18</div>

In /src/sage/interfaces/interface.py the new function

```
+    def get_seed(self):
+        return self._seed
```

lacks documentation and a doctest. The next two functions lack doctests (I know it's silly)

Other than that, it looks good to me.



---

archive/issue_comments_017046.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0cacaa381ee71a0aef0e64ca711ce8e178c2355\"><code>a0cacaa</code></a></td><td><code>added/fixed doc tests</code></td></tr></table>\n",
    "created_at": "2015-06-12T20:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17046",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0cacaa381ee71a0aef0e64ca711ce8e178c2355"><code>a0cacaa</code></a></td><td><code>added/fixed doc tests</code></td></tr></table>




---

archive/issue_comments_017047.json:
```json
{
    "body": "Changed commit from **[`6cbc95b`](https://github.com/sagemath/sagetrac-mirror/commit/6cbc95b7a2bf9bae8efafdf8ded0fd3577a6425d)** to **[`a0cacaa`](https://github.com/sagemath/sagetrac-mirror/commit/a0cacaa381ee71a0aef0e64ca711ce8e178c2355)**",
    "created_at": "2015-06-12T20:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17047",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6cbc95b`](https://github.com/sagemath/sagetrac-mirror/commit/6cbc95b7a2bf9bae8efafdf8ded0fd3577a6425d)** to **[`a0cacaa`](https://github.com/sagemath/sagetrac-mirror/commit/a0cacaa381ee71a0aef0e64ca711ce8e178c2355)**



---

archive/issue_comments_017048.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWoops, examples are always helpful!\n\nI added documentation and doctests to the functions in interfaces. I copied them out of octave's file, hopefully that works.",
    "created_at": "2015-06-12T20:17:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17048",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:20" align="right">comment:20</div>

Woops, examples are always helpful!

I added documentation and doctests to the functions in interfaces. I copied them out of octave's file, hopefully that works.



---

archive/issue_events_034421.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2015-06-12T20:17:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34421"
}
```



---

archive/issue_events_034422.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2015-06-12T20:17:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34422"
}
```



---

archive/issue_events_034423.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-13T09:55:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34423"
}
```



---

archive/issue_events_034424.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-13T09:55:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34424"
}
```



---

archive/issue_comments_017049.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nWhy does your patch drop `set_seed` for Gap? \n\nI'd also say, if possible, then it shouldn't be tested with the Octave example: Octave is optional, e.g. Singular is not. Secondly, the closer to the actual code, the better. So if we can instantiate an `Interface` object directly that'd be best.",
    "created_at": "2015-06-13T09:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17049",
    "user": "https://github.com/malb"
}
```

<div id="comment:21" align="right">comment:21</div>

Why does your patch drop `set_seed` for Gap? 

I'd also say, if possible, then it shouldn't be tested with the Octave example: Octave is optional, e.g. Singular is not. Secondly, the closer to the actual code, the better. So if we can instantiate an `Interface` object directly that'd be best.



---

archive/issue_comments_017050.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1324d4105c9c5adbc9888bad703ec2c74cb88585\"><code>1324d41</code></a></td><td><code>tests use Singular/Interface directly</code></td></tr></table>\n",
    "created_at": "2015-06-13T14:23:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17050",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1324d4105c9c5adbc9888bad703ec2c74cb88585"><code>1324d41</code></a></td><td><code>tests use Singular/Interface directly</code></td></tr></table>




---

archive/issue_comments_017051.json:
```json
{
    "body": "Changed commit from **[`a0cacaa`](https://github.com/sagemath/sagetrac-mirror/commit/a0cacaa381ee71a0aef0e64ca711ce8e178c2355)** to **[`1324d41`](https://github.com/sagemath/sagetrac-mirror/commit/1324d4105c9c5adbc9888bad703ec2c74cb88585)**",
    "created_at": "2015-06-13T14:23:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17051",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a0cacaa`](https://github.com/sagemath/sagetrac-mirror/commit/a0cacaa381ee71a0aef0e64ca711ce8e178c2355)** to **[`1324d41`](https://github.com/sagemath/sagetrac-mirror/commit/1324d4105c9c5adbc9888bad703ec2c74cb88585)**



---

archive/issue_comments_017052.json:
```json
{
    "body": "Changed commit from **[`1324d41`](https://github.com/sagemath/sagetrac-mirror/commit/1324d4105c9c5adbc9888bad703ec2c74cb88585)** to **[`033118e`](https://github.com/sagemath/sagetrac-mirror/commit/033118ec0631a49be43a589aa5ce18a95769744d)**",
    "created_at": "2015-06-13T14:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17052",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1324d41`](https://github.com/sagemath/sagetrac-mirror/commit/1324d4105c9c5adbc9888bad703ec2c74cb88585)** to **[`033118e`](https://github.com/sagemath/sagetrac-mirror/commit/033118ec0631a49be43a589aa5ce18a95769744d)**



---

archive/issue_comments_017053.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/033118ec0631a49be43a589aa5ce18a95769744d\"><code>033118e</code></a></td><td><code>changed get_seed example to use Singular</code></td></tr></table>\n",
    "created_at": "2015-06-13T14:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17053",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/033118ec0631a49be43a589aa5ce18a95769744d"><code>033118e</code></a></td><td><code>changed get_seed example to use Singular</code></td></tr></table>




---

archive/issue_comments_017054.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThere was actually two `set_seed` for Gap. The file was long and I accidentally copied another to a slightly different place. You can still see the actual `set_seed` function under the total diff.\n\nThese new pushes change the doc tests in `interface.py` to use Singular (so less optional packages) and also use an instance of `Interface` directly. This is ok for `rand_seed` and `get_seed` but not for `set_seed` as that has to be implemented by the specific interface. Do you think we need a doc test which raises the `NotImplementedError`?",
    "created_at": "2015-06-13T14:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17054",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:24" align="right">comment:24</div>

There was actually two `set_seed` for Gap. The file was long and I accidentally copied another to a slightly different place. You can still see the actual `set_seed` function under the total diff.

These new pushes change the doc tests in `interface.py` to use Singular (so less optional packages) and also use an instance of `Interface` directly. This is ok for `rand_seed` and `get_seed` but not for `set_seed` as that has to be implemented by the specific interface. Do you think we need a doc test which raises the `NotImplementedError`?



---

archive/issue_events_034425.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-15T07:31:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34425"
}
```



---

archive/issue_events_034426.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-15T07:31:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34426"
}
```



---

archive/issue_comments_017055.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nLooks good to me. \n\nI guess technically we should actually doctest a `NotImplementedError` but I'll leave it up to you.",
    "created_at": "2015-06-15T07:31:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17055",
    "user": "https://github.com/malb"
}
```

<div id="comment:25" align="right">comment:25</div>

Looks good to me. 

I guess technically we should actually doctest a `NotImplementedError` but I'll leave it up to you.



---

archive/issue_comments_017056.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/773a1f300096fb5c40cf4375f805375edd5cbf09\"><code>773a1f3</code></a></td><td><code>doc test for interface.set_seed</code></td></tr></table>\n",
    "created_at": "2015-06-15T15:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17056",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/773a1f300096fb5c40cf4375f805375edd5cbf09"><code>773a1f3</code></a></td><td><code>doc test for interface.set_seed</code></td></tr></table>




---

archive/issue_events_034427.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2015-06-15T15:07:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34427"
}
```



---

archive/issue_events_034428.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2015-06-15T15:07:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34428"
}
```



---

archive/issue_comments_017057.json:
```json
{
    "body": "Changed commit from **[`033118e`](https://github.com/sagemath/sagetrac-mirror/commit/033118ec0631a49be43a589aa5ce18a95769744d)** to **[`773a1f3`](https://github.com/sagemath/sagetrac-mirror/commit/773a1f300096fb5c40cf4375f805375edd5cbf09)**",
    "created_at": "2015-06-15T15:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17057",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`033118e`](https://github.com/sagemath/sagetrac-mirror/commit/033118ec0631a49be43a589aa5ce18a95769744d)** to **[`773a1f3`](https://github.com/sagemath/sagetrac-mirror/commit/773a1f300096fb5c40cf4375f805375edd5cbf09)**



---

archive/issue_comments_017058.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI added a doc test for the `set_seed` method for the general interface. It was easy to add.",
    "created_at": "2015-06-15T15:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17058",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:27" align="right">comment:27</div>

I added a doc test for the `set_seed` method for the general interface. It was easy to add.



---

archive/issue_events_034429.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-15T16:36:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34429"
}
```



---

archive/issue_events_034430.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-15T16:36:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34430"
}
```



---

archive/issue_comments_017059.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nLooks good to me.",
    "created_at": "2015-06-15T16:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17059",
    "user": "https://github.com/malb"
}
```

<div id="comment:28" align="right">comment:28</div>

Looks good to me.



---

archive/issue_comments_017060.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\n\n```\nsage -t --long src/sage/interfaces/magma.py  # 2 doctests failed\nsage -t --long src/sage/interfaces/octave.py  # 2 doctests failed\nsage -t --long src/sage/interfaces/scilab.py  # 2 doctests failed\nsage -t --long src/sage/repl/interpreter.py  # 1 doctest failed\n```",
    "created_at": "2015-06-15T20:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17060",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>


```
sage -t --long src/sage/interfaces/magma.py  # 2 doctests failed
sage -t --long src/sage/interfaces/octave.py  # 2 doctests failed
sage -t --long src/sage/interfaces/scilab.py  # 2 doctests failed
sage -t --long src/sage/repl/interpreter.py  # 1 doctest failed
```



---

archive/issue_events_034431.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-15T20:23:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34431"
}
```



---

archive/issue_events_034432.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-15T20:23:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34432"
}
```



---

archive/issue_comments_017061.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI get the first 3 errors if I run `sage -t --long src/sage/interfaces/magma.py` but not if I run `./sage -t --long src/sage/interfaces/magma.py`. Shouldn't I only be checking if it runs with the version of Sage on the branch and not the user's systems' version?\n\nThe last error seems to be something I didn't notice. Apparently some of the interfaces keep a counter of the commands used and label things with it. The `set_seed` function for some interfaces raises this counter because it needs to call a command in the interface. So running the test in `src/sage/repl/interpreter.py` the counter is off from what it used to be.\n\nThis error doesn't occur if I comment out line 626 in `src/sage/interfaces/maxima.py`:\n\n```\n625 # set random seed\n626 self.set_seed(self._seed)\n```\n\nI'm not sure what to do about this. It seems like there is a few options:\n\n* We could reset the counter after the `set_seed` function is called (I actually don't know if this is possible yet).\n* We could change all the doc tests in functions which use this counter and increment it manually.\n* We could not run `set_seed` on start and leave it up to the user to run it.\n\nMartin, do you have any suggestions on which way to proceed?",
    "created_at": "2015-06-17T02:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17061",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:30" align="right">comment:30</div>

I get the first 3 errors if I run `sage -t --long src/sage/interfaces/magma.py` but not if I run `./sage -t --long src/sage/interfaces/magma.py`. Shouldn't I only be checking if it runs with the version of Sage on the branch and not the user's systems' version?

The last error seems to be something I didn't notice. Apparently some of the interfaces keep a counter of the commands used and label things with it. The `set_seed` function for some interfaces raises this counter because it needs to call a command in the interface. So running the test in `src/sage/repl/interpreter.py` the counter is off from what it used to be.

This error doesn't occur if I comment out line 626 in `src/sage/interfaces/maxima.py`:

```
625 # set random seed
626 self.set_seed(self._seed)
```

I'm not sure what to do about this. It seems like there is a few options:

* We could reset the counter after the `set_seed` function is called (I actually don't know if this is possible yet).
* We could change all the doc tests in functions which use this counter and increment it manually.
* We could not run `set_seed` on start and leave it up to the user to run it.

Martin, do you have any suggestions on which way to proceed?



---

archive/issue_comments_017062.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAh, crap my comments from yesterday seem not to have arrived:\n\n- You are not seeing these errors because you have octave et al. installed in your local development environment. In other words: some doctests are not marked optional but you should be marked optional. \n\n- I'd just update the doctest, `set_seed()` is a proper call, so no point in resetting the counter.",
    "created_at": "2015-06-18T14:39:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17062",
    "user": "https://github.com/malb"
}
```

<div id="comment:31" align="right">comment:31</div>

Ah, crap my comments from yesterday seem not to have arrived:

- You are not seeing these errors because you have octave et al. installed in your local development environment. In other words: some doctests are not marked optional but you should be marked optional. 

- I'd just update the doctest, `set_seed()` is a proper call, so no point in resetting the counter.



---

archive/issue_comments_017063.json:
```json
{
    "body": "Changed commit from **[`773a1f3`](https://github.com/sagemath/sagetrac-mirror/commit/773a1f300096fb5c40cf4375f805375edd5cbf09)** to **[`df73e17`](https://github.com/sagemath/sagetrac-mirror/commit/df73e176ae9cde0e06e7e6074192977f07ae1e54)**",
    "created_at": "2015-06-18T16:10:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17063",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`773a1f3`](https://github.com/sagemath/sagetrac-mirror/commit/773a1f300096fb5c40cf4375f805375edd5cbf09)** to **[`df73e17`](https://github.com/sagemath/sagetrac-mirror/commit/df73e176ae9cde0e06e7e6074192977f07ae1e54)**



---

archive/issue_comments_017064.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df73e176ae9cde0e06e7e6074192977f07ae1e54\"><code>df73e17</code></a></td><td><code>added # optional to set_seed doc tests</code></td></tr></table>\n",
    "created_at": "2015-06-18T16:10:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17064",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df73e176ae9cde0e06e7e6074192977f07ae1e54"><code>df73e17</code></a></td><td><code>added # optional to set_seed doc tests</code></td></tr></table>




---

archive/issue_comments_017065.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI added `# optional -` tags to the corresponding doc tests. I think I got all of them, but someone should check. Strangely enough, this also fixed the other test `sage -t --long src/sage/repl/interpreter.py`. Which may mean that either it wasn't actually counting the calls to the interpreter, or something else happened with the optional flags which affected it.",
    "created_at": "2015-06-18T18:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17065",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:33" align="right">comment:33</div>

I added `# optional -` tags to the corresponding doc tests. I think I got all of them, but someone should check. Strangely enough, this also fixed the other test `sage -t --long src/sage/repl/interpreter.py`. Which may mean that either it wasn't actually counting the calls to the interpreter, or something else happened with the optional flags which affected it.



---

archive/issue_events_034433.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2015-06-18T18:32:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34433"
}
```



---

archive/issue_events_034434.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2015-06-18T18:32:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34434"
}
```



---

archive/issue_comments_017066.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI still get \n\n```\nsage -t --warn-long 33.6 src/sage/repl/interpreter.py  # 1 doctest failed\n**********************************************************************\nFile \"src/sage/repl/interpreter.py\", line 561, in sage.repl.interpreter.InterfaceShellTransformer.preparse_imports_from_sage\nFailed example:\n    ift.preparse_imports_from_sage('2 + maxima(a)')\nExpected:\n    '2 +  sage1 '\nGot:\n    '2 +  sage4 '\n```\n\nbut the other three are gone.",
    "created_at": "2015-06-19T08:10:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17066",
    "user": "https://github.com/malb"
}
```

<div id="comment:34" align="right">comment:34</div>

I still get 

```
sage -t --warn-long 33.6 src/sage/repl/interpreter.py  # 1 doctest failed
**********************************************************************
File "src/sage/repl/interpreter.py", line 561, in sage.repl.interpreter.InterfaceShellTransformer.preparse_imports_from_sage
Failed example:
    ift.preparse_imports_from_sage('2 + maxima(a)')
Expected:
    '2 +  sage1 '
Got:
    '2 +  sage4 '
```

but the other three are gone.



---

archive/issue_events_034435.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-19T08:10:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34435"
}
```



---

archive/issue_events_034436.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-19T08:10:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34436"
}
```



---

archive/issue_comments_017067.json:
```json
{
    "body": "Changed commit from **[`df73e17`](https://github.com/sagemath/sagetrac-mirror/commit/df73e176ae9cde0e06e7e6074192977f07ae1e54)** to **[`38256ae`](https://github.com/sagemath/sagetrac-mirror/commit/38256aea80c972caecb14cfcd22fae0fe0adbe38)**",
    "created_at": "2015-06-21T17:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17067",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`df73e17`](https://github.com/sagemath/sagetrac-mirror/commit/df73e176ae9cde0e06e7e6074192977f07ae1e54)** to **[`38256ae`](https://github.com/sagemath/sagetrac-mirror/commit/38256aea80c972caecb14cfcd22fae0fe0adbe38)**



---

archive/issue_comments_017068.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38256aea80c972caecb14cfcd22fae0fe0adbe38\"><code>38256ae</code></a></td><td><code>changed doc test because set_seed call</code></td></tr></table>\n",
    "created_at": "2015-06-21T17:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17068",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38256aea80c972caecb14cfcd22fae0fe0adbe38"><code>38256ae</code></a></td><td><code>changed doc test because set_seed call</code></td></tr></table>




---

archive/issue_comments_017069.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI removed some white space and changed a doctest in `src/sage/repl/interpreter.py`.\n\nThe doc test was failing because `maxima` now calls `set_seed` on startup which uses several calls to the maxima interpreter. Therefore instead of getting back `2 +  sage1`, it should get back `2 + sage4`.",
    "created_at": "2015-06-21T17:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17069",
    "user": "https://github.com/tscholl2"
}
```

<div id="comment:36" align="right">comment:36</div>

I removed some white space and changed a doctest in `src/sage/repl/interpreter.py`.

The doc test was failing because `maxima` now calls `set_seed` on startup which uses several calls to the maxima interpreter. Therefore instead of getting back `2 +  sage1`, it should get back `2 + sage4`.



---

archive/issue_events_034437.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2015-06-21T17:54:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34437"
}
```



---

archive/issue_events_034438.json:
```json
{
    "actor": "https://github.com/tscholl2",
    "created_at": "2015-06-21T17:54:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34438"
}
```



---

archive/issue_comments_017070.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\ntests pass here & looks good.",
    "created_at": "2015-06-22T13:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17070",
    "user": "https://github.com/malb"
}
```

<div id="comment:37" align="right">comment:37</div>

tests pass here & looks good.



---

archive/issue_events_034439.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-22T13:09:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34439"
}
```



---

archive/issue_events_034440.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2015-06-22T13:09:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34440"
}
```



---

archive/issue_events_034441.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-06-22T22:25:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34441"
}
```



---

archive/issue_events_034442.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f12ba082c9de4d51a0818d466df181fc035bd036",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-06-22T22:25:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3231#event-34442"
}
```



---

archive/issue_comments_017071.json:
```json
{
    "body": "Changed branch from **[u/tscholl2/seeds_3231](https://github.com/sagemath/sagetrac-mirror/tree/u/tscholl2/seeds_3231)** to **[`38256ae`](https://github.com/sagemath/sagetrac-mirror/commit/38256aea80c972caecb14cfcd22fae0fe0adbe38)**",
    "created_at": "2015-06-22T22:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3231#issuecomment-17071",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tscholl2/seeds_3231](https://github.com/sagemath/sagetrac-mirror/tree/u/tscholl2/seeds_3231)** to **[`38256ae`](https://github.com/sagemath/sagetrac-mirror/commit/38256aea80c972caecb14cfcd22fae0fe0adbe38)**
