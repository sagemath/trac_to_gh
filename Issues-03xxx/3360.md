# Issue 3360: Upgrade sympow to 2.023.6 (for GCC 10 support)

archive/issues_003360.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-mabshoff"
    ],
    "body": "Fork now maintained by the debian sympow maintainer (gh-jgmbenoit).\n\nhttps://gitlab.com/rezozer/forks/sympow\n\nUpstream URL: see checksums.ini\n\nSee also:\n- #25856 Elliptic curve failures in 8.3.rc0: sympow issue\n\nCC:  @slel @timokau @saraedum @isuruf @antonio-rojas @orlitzky @embray @dimpase @tscrim\n\nKeywords: **upgrade, sympow**\n\nBranch/Commit: **[`2e3dd4d`](https://github.com/sagemath/sagetrac-mirror/commit/2e3dd4d90d6eaef23746891bd03230485d30e1e3)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Timo Kaufmann, Matthias Koeppe**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/3360_\n\n",
    "closed_at": "2020-08-07T19:05:26Z",
    "created_at": "2008-06-04T15:51:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade sympow to 2.023.6 (for GCC 10 support)",
    "type": "issue",
    "updated_at": "2020-08-07T19:05:26Z",
    "url": "https://github.com/sagemath/sage/issues/3360",
    "user": "https://github.com/sagetrac-mabshoff"
}
```
Fork now maintained by the debian sympow maintainer (gh-jgmbenoit).

https://gitlab.com/rezozer/forks/sympow

Upstream URL: see checksums.ini

See also:
- #25856 Elliptic curve failures in 8.3.rc0: sympow issue

CC:  @slel @timokau @saraedum @isuruf @antonio-rojas @orlitzky @embray @dimpase @tscrim

Keywords: **upgrade, sympow**

Branch/Commit: **[`2e3dd4d`](https://github.com/sagemath/sagetrac-mirror/commit/2e3dd4d90d6eaef23746891bd03230485d30e1e3)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **Dima Pasechnik**

Author: **Timo Kaufmann, Matthias Koeppe**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/3360_





---

archive/issue_events_035990.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-04T15:51:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35990"
}
```



---

archive/issue_events_035991.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-04T15:51:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35991"
}
```



---

archive/issue_events_035992.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-04T15:51:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35992"
}
```



---

archive/issue_events_035993.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-04T15:51:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35993"
}
```



---

archive/issue_events_035994.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-06-04T15:51:07Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "subject": "https://github.com/sagetrac-mabshoff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35994"
}
```



---

archive/issue_events_035995.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-03-02T04:55:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "title_is": "Upgrade sympow to the 1.023 release and also fix Solaris/x86 problem",
    "title_was": "Upgarde sympow to the 1.019 release",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35995"
}
```



---

archive/issue_comments_017912.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThe latest release is 1.023 at\n\n http://magma.maths.usyd.edu.au/~watkins/sympow.tar.bz2\n http://magma.maths.usyd.edu.au/~watkins/sympow.src.tar.bz2\n\nCheers,\n\nMichael",
    "created_at": "2009-03-02T04:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17912",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:1" align="right">comment:1</div>

The latest release is 1.023 at

 http://magma.maths.usyd.edu.au/~watkins/sympow.tar.bz2
 http://magma.maths.usyd.edu.au/~watkins/sympow.src.tar.bz2

Cheers,

Michael



---

archive/issue_events_035996.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35996"
}
```



---

archive/issue_events_035997.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35997"
}
```



---

archive/issue_events_035998.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35998"
}
```



---

archive/issue_events_035999.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-35999"
}
```



---

archive/issue_events_036000.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36000"
}
```



---

archive/issue_events_036001.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36001"
}
```



---

archive/issue_events_036002.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36002"
}
```



---

archive/issue_events_036003.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36003"
}
```



---

archive/issue_comments_017913.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,4 @@\n-Sympow 1.019 is already upstream in Debian, so let's upgrade.\n+Debian already ships Sympow 1.023, see\n \n-Cheers,\n+- https://tracker.debian.org/pkg/sympow\n \n-Michael\n``````\n",
    "created_at": "2018-04-20T20:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17913",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,4 @@
-Sympow 1.019 is already upstream in Debian, so let's upgrade.
+Debian already ships Sympow 1.023, see
 
-Cheers,
+- https://tracker.debian.org/pkg/sympow
 
-Michael
``````




---

archive/issue_comments_017914.json:
```json
{
    "body": "Changed keywords from none to **upgrade, sympow**",
    "created_at": "2018-04-20T20:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17914",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **upgrade, sympow**



---

archive/issue_events_036004.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-04-20T20:26:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36004"
}
```



---

archive/issue_events_036005.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-04-20T20:26:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36005"
}
```



---

archive/issue_comments_017915.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nDidn't realise there was a newer version. Considering sympow's code, an upgrade can only be an improvement.",
    "created_at": "2018-04-20T22:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17915",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">comment:7</div>

Didn't realise there was a newer version. Considering sympow's code, an upgrade can only be an improvement.



---

archive/issue_comments_017916.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSee also #25099 \"Add DESTDIR support for sympow\".",
    "created_at": "2018-06-02T09:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17916",
    "user": "https://github.com/slel"
}
```

<div id="comment:8" align="right">comment:8</div>

See also #25099 "Add DESTDIR support for sympow".



---

archive/issue_comments_017917.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nsympow 1.023 segfaults (in Debian) on some inputs that used to work with 1.018\n\n```\n$ sympow -analrank -curve \"[0,1,1,-2,0]\"\nsympow 1.023 RELEASE (Debian 1.023-8)  (c) Mark Watkins --- see README and COPYING for details\nMinimal model of curve  is [0,1,1,-2,0]\nAt 389: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\nConductor is 389\nsp 1: Conductor at 389 is 1+0, root number is -1\nsp 1: Euler factor at 389 is 1-1*x\n1st sym power conductor is 389, global root number is 1\nNT 1d0: 43\nMaximal number of terms is 43\n0.0E+00\nDone with small primes 1049\nSegmentation fault (core dumped)\n```",
    "created_at": "2018-06-14T10:35:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17917",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:9" align="right">comment:9</div>

sympow 1.023 segfaults (in Debian) on some inputs that used to work with 1.018

```
$ sympow -analrank -curve "[0,1,1,-2,0]"
sympow 1.023 RELEASE (Debian 1.023-8)  (c) Mark Watkins --- see README and COPYING for details
Minimal model of curve  is [0,1,1,-2,0]
At 389: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
Conductor is 389
sp 1: Conductor at 389 is 1+0, root number is -1
sp 1: Euler factor at 389 is 1-1*x
1st sym power conductor is 389, global root number is 1
NT 1d0: 43
Maximal number of terms is 43
0.0E+00
Done with small primes 1049
Segmentation fault (core dumped)
```



---

archive/issue_comments_017918.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis is essentially a known bug: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=863919. I submitted a patch for it on salsa: https://salsa.debian.org/science-team/sympow/merge_requests/1.",
    "created_at": "2018-06-14T12:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17918",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:10" align="right">comment:10</div>

This is essentially a known bug: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=863919. I submitted a patch for it on salsa: https://salsa.debian.org/science-team/sympow/merge_requests/1.



---

archive/issue_comments_017919.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIn an effort to update the sympow package in nix, I contacted the debian maintainer (Jerome Benoit).\n\nHe told me that he really did receive their tarball in a private email (how did you guys manage to find that file on his homepage?). He also told me that \"the upstream author is responsive (and he did not have a GIT because the code was written before the GIT revolution)\".\n\nDebian adds sage's patches and some more[1], as for example the bug fix saraedum mentions. It seems like Debian effectively became the new upstream of this package. I asked the maintainer if he had considered making it official and forking it, which he declined.\n\n[1] https://salsa.debian.org/science-team/sympow/tree/master/debian/patches",
    "created_at": "2018-07-13T19:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17919",
    "user": "https://github.com/timokau"
}
```

<div id="comment:12" align="right">comment:12</div>

In an effort to update the sympow package in nix, I contacted the debian maintainer (Jerome Benoit).

He told me that he really did receive their tarball in a private email (how did you guys manage to find that file on his homepage?). He also told me that "the upstream author is responsive (and he did not have a GIT because the code was written before the GIT revolution)".

Debian adds sage's patches and some more[1], as for example the bug fix saraedum mentions. It seems like Debian effectively became the new upstream of this package. I asked the maintainer if he had considered making it official and forking it, which he declined.

[1] https://salsa.debian.org/science-team/sympow/tree/master/debian/patches



---

archive/issue_comments_017920.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@timokau](#comment:12):\n> He told me that he really did receive their tarball in a private email (how did you guys manage to find that file on his homepage?).\n\nIn my case: I wrote a private email to the sympow author and he told me about the URL.\n\n> He also told me that \"the upstream author is responsive (and he did not have a GIT because the code was written before the GIT revolution)\".\n> Debian adds sage's patches and some more[1], as for example the bug fix saraedum mentions. It seems like Debian effectively became the new upstream of this package. I asked the maintainer if he had considered making it official and forking it, which he declined.\n> \n> [1] https://salsa.debian.org/science-team/sympow/tree/master/debian/patches\n\nI was in correspondence with the sympow author about the recent segfault patch. Afterwards I proposed to move the project to github and basically take over maintenance but I have not heard back for a while since then.",
    "created_at": "2018-07-13T19:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17920",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@timokau](#comment:12):
> He told me that he really did receive their tarball in a private email (how did you guys manage to find that file on his homepage?).

In my case: I wrote a private email to the sympow author and he told me about the URL.

> He also told me that "the upstream author is responsive (and he did not have a GIT because the code was written before the GIT revolution)".
> Debian adds sage's patches and some more[1], as for example the bug fix saraedum mentions. It seems like Debian effectively became the new upstream of this package. I asked the maintainer if he had considered making it official and forking it, which he declined.
> 
> [1] https://salsa.debian.org/science-team/sympow/tree/master/debian/patches

I was in correspondence with the sympow author about the recent segfault patch. Afterwards I proposed to move the project to github and basically take over maintenance but I have not heard back for a while since then.



---

archive/issue_comments_017921.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIs the URL still valid ?\nOtherwise, after all, I may also consider to maintain a fork of sympow.",
    "created_at": "2018-07-13T19:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17921",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:14" align="right">comment:14</div>

Is the URL still valid ?
Otherwise, after all, I may also consider to maintain a fork of sympow.



---

archive/issue_comments_017922.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nsympow still seems to be hosted at that URL. Its just not advertised anywhere. But there are still all those semi-mandatory patches flying around that should probably be upstreamed. Having the project in some public version control would be great.",
    "created_at": "2018-07-13T21:22:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17922",
    "user": "https://github.com/timokau"
}
```

<div id="comment:15" align="right">comment:15</div>

sympow still seems to be hosted at that URL. Its just not advertised anywhere. But there are still all those semi-mandatory patches flying around that should probably be upstreamed. Having the project in some public version control would be great.



---

archive/issue_comments_017923.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nMy notes about the url at\n[#25099 comment:13](https://github.com/sagemath/sage/issues/25099#comment:13)\nstill hold. Public version control of the original code\nand the existing extra patches would definitely help,\nas well as a home page for the project.",
    "created_at": "2018-07-14T03:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17923",
    "user": "https://github.com/slel"
}
```

<div id="comment:16" align="right">comment:16</div>

My notes about the url at
[#25099 comment:13](https://github.com/sagemath/sage/issues/25099#comment:13)
still hold. Public version control of the original code
and the existing extra patches would definitely help,
as well as a home page for the project.



---

archive/issue_comments_017924.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI am on my way to fork sympow on gitlab. My concern will be only the unix part (read not the mathematical part) in view to harmonize related patches and integration in unix systems.\nNotes: My time being counted and limited, it would be question of weekends, rather of days.",
    "created_at": "2018-07-15T04:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17924",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:17" align="right">comment:17</div>

I am on my way to fork sympow on gitlab. My concern will be only the unix part (read not the mathematical part) in view to harmonize related patches and integration in unix systems.
Notes: My time being counted and limited, it would be question of weekends, rather of days.



---

archive/issue_comments_017925.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nGreat! Thank you for doing that.",
    "created_at": "2018-07-15T09:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17925",
    "user": "https://github.com/timokau"
}
```

<div id="comment:18" align="right">comment:18</div>

Great! Thank you for doing that.



---

archive/issue_comments_017926.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI have just rendered public my fork at [GitLab](../wiki/GitLab): https://gitlab.com/rezozer/forks/sympow\nPlease test and report !",
    "created_at": "2018-07-21T06:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17926",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:19" align="right">comment:19</div>

I have just rendered public my fork at [GitLab](../wiki/GitLab): https://gitlab.com/rezozer/forks/sympow
Please test and report !



---

archive/issue_comments_017927.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nUpdating from 1.018.1, this breaks the sage testsuite (looks like pretty much all the sympow interaction is broken):\n\n```\nsage -t --long /nix/store/7bi7v0bxwrcs5f510i1d54qqd5jqqj2r-sage-src-8.2/src/sage/lfunctions/sympow.py  # 13 doctests failed\nsage -t --long /nix/store/7bi7v0bxwrcs5f510i1d54qqd5jqqj2r-sage-src-8.2/src/sage/modular/abvar/abvar.py  # 1 doctest failed\nsage -t --long /nix/store/7bi7v0bxwrcs5f510i1d54qqd5jqqj2r-sage-src-8.2/src/sage/modular/hecke/submodule.py  # 1 doctest failed\nsage -t --long /nix/store/7bi7v0bxwrcs5f510i1d54qqd5jqqj2r-sage-src-8.2/src/sage/schemes/elliptic_curves/ell_rational_field.py  # 17 doctests failed\n```\n\nProbably just some minor change in output formatting that breaks the parser. Before I investigate further, this is presumably already fixed on Debian? Julian do you know the cause?",
    "created_at": "2018-07-23T13:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17927",
    "user": "https://github.com/timokau"
}
```

<div id="comment:20" align="right">comment:20</div>

Updating from 1.018.1, this breaks the sage testsuite (looks like pretty much all the sympow interaction is broken):

```
sage -t --long /nix/store/7bi7v0bxwrcs5f510i1d54qqd5jqqj2r-sage-src-8.2/src/sage/lfunctions/sympow.py  # 13 doctests failed
sage -t --long /nix/store/7bi7v0bxwrcs5f510i1d54qqd5jqqj2r-sage-src-8.2/src/sage/modular/abvar/abvar.py  # 1 doctest failed
sage -t --long /nix/store/7bi7v0bxwrcs5f510i1d54qqd5jqqj2r-sage-src-8.2/src/sage/modular/hecke/submodule.py  # 1 doctest failed
sage -t --long /nix/store/7bi7v0bxwrcs5f510i1d54qqd5jqqj2r-sage-src-8.2/src/sage/schemes/elliptic_curves/ell_rational_field.py  # 17 doctests failed
```

Probably just some minor change in output formatting that breaks the parser. Before I investigate further, this is presumably already fixed on Debian? Julian do you know the cause?



---

archive/issue_comments_017928.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n@jgmbenoit does the original author know about the fork? Has he said anything about it?",
    "created_at": "2018-07-23T13:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17928",
    "user": "https://github.com/timokau"
}
```

<div id="comment:21" align="right">comment:21</div>

@jgmbenoit does the original author know about the fork? Has he said anything about it?



---

archive/issue_comments_017929.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n@saraedum I am not surprised that it breaks the sage testsuite because the patched version runs more like any regular program. In fact it must break the sage related code itself: see the section [SYMPOW Data set](https://gitlab.com/rezozer/forks/sympow#sympow-data-setup) up for details.\nOtherwise, since it works on Debian, I guess it was fixed there. But I am not the one who did the fix.\nSo you want to check the Debian patches. Feel free to send email to the Debian Sage Team: the person who did it may guide you.",
    "created_at": "2018-07-23T13:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17929",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:22" align="right">comment:22</div>

@saraedum I am not surprised that it breaks the sage testsuite because the patched version runs more like any regular program. In fact it must break the sage related code itself: see the section [SYMPOW Data set](https://gitlab.com/rezozer/forks/sympow#sympow-data-setup) up for details.
Otherwise, since it works on Debian, I guess it was fixed there. But I am not the one who did the fix.
So you want to check the Debian patches. Feel free to send email to the Debian Sage Team: the person who did it may guide you.



---

archive/issue_comments_017930.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@timokau](#comment:21):\n> @jgmbenoit does the original author know about the fork? Has he said anything about it?\n\nI sent an email to the upstream author just before I announced here my intention to fork it. So, far I got no feed back.",
    "created_at": "2018-07-23T13:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17930",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@timokau](#comment:21):
> @jgmbenoit does the original author know about the fork? Has he said anything about it?

I sent an email to the upstream author just before I announced here my intention to fork it. So, far I got no feed back.



---

archive/issue_comments_017931.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> So you want to check the Debian patches. Feel free to send email to the Debian Sage Team: the person who did it may guide you. \n\nThat's why I added saraedum (Julian R\u00fcdth). I was under the impression that he is the Debian maintainer. Is he not?\n\n> I sent an email to the upstream author just before I announced here my intention to fork it. So, far I got no feed back. \n\nGreat. Please keep me posted (for example by posting here) in case you get feedback. It would be nice to be able to add that note to the update.",
    "created_at": "2018-07-23T14:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17931",
    "user": "https://github.com/timokau"
}
```

<div id="comment:24" align="right">comment:24</div>

> So you want to check the Debian patches. Feel free to send email to the Debian Sage Team: the person who did it may guide you. 

That's why I added saraedum (Julian Rüdth). I was under the impression that he is the Debian maintainer. Is he not?

> I sent an email to the upstream author just before I announced here my intention to fork it. So, far I got no feed back. 

Great. Please keep me posted (for example by posting here) in case you get feedback. It would be nice to be able to add that note to the update.



---

archive/issue_comments_017932.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@timokau](#comment:24):\n> > So you want to check the Debian patches. Feel free to send email to the Debian Sage Team: the person who did it may guide you. \n\n> \n> That's why I added saraedum (Julian R\u00fcdth). I was under the impression that he is the Debian maintainer. Is he not?\n> \n> > I sent an email to the upstream author just before I announced here my intention to fork it. So, far I got no feed back. \n\n> \n> Great. Please keep me posted (for example by posting here) in case you get feedback. It would be nice to be able to add that note to the update.\n\nIt is a team work. To my knowledge, Julian is a new comer. Whatever, it was certainly fix a long time given that I wrote the Debian patches a long time ago, at least before that Stretch was frozen.\nConcerning Sage on Debian, the best is to send an email to the dedicated list:\n\ndebian-science-sagemath `_at_` alioth-lists.debian.net",
    "created_at": "2018-07-23T14:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17932",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@timokau](#comment:24):
> > So you want to check the Debian patches. Feel free to send email to the Debian Sage Team: the person who did it may guide you. 

> 
> That's why I added saraedum (Julian Rüdth). I was under the impression that he is the Debian maintainer. Is he not?
> 
> > I sent an email to the upstream author just before I announced here my intention to fork it. So, far I got no feed back. 

> 
> Great. Please keep me posted (for example by posting here) in case you get feedback. It would be nice to be able to add that note to the update.

It is a team work. To my knowledge, Julian is a new comer. Whatever, it was certainly fix a long time given that I wrote the Debian patches a long time ago, at least before that Stretch was frozen.
Concerning Sage on Debian, the best is to send an email to the dedicated list:

debian-science-sagemath `_at_` alioth-lists.debian.net



---

archive/issue_comments_017933.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI cross-posted to that mailing list and sage-packaging: https://groups.google.com/forum/#!topic/sage-packaging/B3yTZ8eIbwM",
    "created_at": "2018-07-23T15:24:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17933",
    "user": "https://github.com/timokau"
}
```

<div id="comment:26" align="right">comment:26</div>

I cross-posted to that mailing list and sage-packaging: https://groups.google.com/forum/#!topic/sage-packaging/B3yTZ8eIbwM



---

archive/issue_comments_017934.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nBy the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.",
    "created_at": "2018-07-23T15:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17934",
    "user": "https://github.com/timokau"
}
```

<div id="comment:27" align="right">comment:27</div>

By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.



---

archive/issue_comments_017935.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@timokau](#comment:27):\n> By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.\n\nGitLab allows one to create groups and subgroups: rezozer is a group , forks a subgroup, sympow a project. My [GitLab](../wiki/GitLab) webpage is https://gitlab.com/jgmbenoit",
    "created_at": "2018-07-23T16:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17935",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@timokau](#comment:27):
> By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.

GitLab allows one to create groups and subgroups: rezozer is a group , forks a subgroup, sympow a project. My [GitLab](../wiki/GitLab) webpage is https://gitlab.com/jgmbenoit



---

archive/issue_comments_017936.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@timokau](#comment:26):\n> I cross-posted to that mailing list and sage-packaging: https://groups.google.com/forum/#!topic/sage-packaging/B3yTZ8eIbwM\n\nThanks, I should do it. Anyway, I guess that the Debian maintainer for sympow was aware.",
    "created_at": "2018-07-23T16:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17936",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@timokau](#comment:26):
> I cross-posted to that mailing list and sage-packaging: https://groups.google.com/forum/#!topic/sage-packaging/B3yTZ8eIbwM

Thanks, I should do it. Anyway, I guess that the Debian maintainer for sympow was aware.



---

archive/issue_comments_017937.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@jgmbenoit](#comment:28):\n> Replying to [@timokau](#comment:27):\n> > By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.\n\n> \n> GitLab allows one to create groups and subgroups: rezozer is a group , forks a subgroup, sympow a project. My [GitLab](../wiki/GitLab) webpage is https://gitlab.com/jgmbenoit\n\nCan that be nested further or is subgroup the limit?\n\n> Thanks, I should do it. Anyway, I guess that the Debian maintainer for sympow was aware. \n\nWere they? I haven't received a reply yet (besides that my post is awaiting approval).",
    "created_at": "2018-07-23T16:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17937",
    "user": "https://github.com/timokau"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@jgmbenoit](#comment:28):
> Replying to [@timokau](#comment:27):
> > By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.

> 
> GitLab allows one to create groups and subgroups: rezozer is a group , forks a subgroup, sympow a project. My [GitLab](../wiki/GitLab) webpage is https://gitlab.com/jgmbenoit

Can that be nested further or is subgroup the limit?

> Thanks, I should do it. Anyway, I guess that the Debian maintainer for sympow was aware. 

Were they? I haven't received a reply yet (besides that my post is awaiting approval).



---

archive/issue_comments_017938.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@timokau](#comment:30):\n> Replying to [@jgmbenoit](#comment:28):\n> > Replying to [@timokau](#comment:27):\n> > > By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.\n\n> > \n> > GitLab allows one to create groups and subgroups: rezozer is a group , forks a subgroup, sympow a project. My [GitLab](../wiki/GitLab) webpage is https://gitlab.com/jgmbenoit\n\n> \n> Can that be nested further or is subgroup the limit?\n\nit can be nested further. I do not know the limit.\n\n> \n> > Thanks, I should do it. Anyway, I guess that the Debian maintainer for sympow was aware. \n\n> \n> Were they? \n\nat least, I am :-)\n\n I haven't received a reply yet (besides that my post is awaiting approval).\n\nBe patient, it is summer time.",
    "created_at": "2018-07-23T16:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17938",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@timokau](#comment:30):
> Replying to [@jgmbenoit](#comment:28):
> > Replying to [@timokau](#comment:27):
> > > By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.

> > 
> > GitLab allows one to create groups and subgroups: rezozer is a group , forks a subgroup, sympow a project. My [GitLab](../wiki/GitLab) webpage is https://gitlab.com/jgmbenoit

> 
> Can that be nested further or is subgroup the limit?

it can be nested further. I do not know the limit.

> 
> > Thanks, I should do it. Anyway, I guess that the Debian maintainer for sympow was aware. 

> 
> Were they? 

at least, I am :-)

 I haven't received a reply yet (besides that my post is awaiting approval).

Be patient, it is summer time.



---

archive/issue_comments_017939.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@jgmbenoit](#comment:31):\n> Replying to [@timokau](#comment:30):\n> > Replying to [@jgmbenoit](#comment:28):\n> > > Replying to [@timokau](#comment:27):\n> > > > By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.\n\n> > > \n> > > GitLab allows one to create groups and subgroups: rezozer is a group , forks a subgroup, sympow a project. My [GitLab](../wiki/GitLab) webpage is https://gitlab.com/jgmbenoit\n\n> > \n> > Can that be nested further or is subgroup the limit?\n\n> \n> it can be nested further. I do not know the limit.\n\nAlright, thanks.\n\n\n> \n> > \n> > > Thanks, I should do it. Anyway, I guess that the Debian maintainer for sympow was aware. \n\n> > \n> > Were they? \n\n> \n> at least, I am :-)\n> \n>  I haven't received a reply yet (besides that my post is awaiting approval).\n> \n> Be patient, it is summer time.\n\nOf course :) I must've misunderstood your message, I thought you were referring to a reply to that email.",
    "created_at": "2018-07-23T16:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17939",
    "user": "https://github.com/timokau"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@jgmbenoit](#comment:31):
> Replying to [@timokau](#comment:30):
> > Replying to [@jgmbenoit](#comment:28):
> > > Replying to [@timokau](#comment:27):
> > > > By the way what is the `forks` in the URL to your repo? Does gitlab allow subfolders or something? I'm asking because I never saw that before (always only `owner/repo`) and our infrastructure currently doesn't support fetching source from such a subfolder.

> > > 
> > > GitLab allows one to create groups and subgroups: rezozer is a group , forks a subgroup, sympow a project. My [GitLab](../wiki/GitLab) webpage is https://gitlab.com/jgmbenoit

> > 
> > Can that be nested further or is subgroup the limit?

> 
> it can be nested further. I do not know the limit.

Alright, thanks.


> 
> > 
> > > Thanks, I should do it. Anyway, I guess that the Debian maintainer for sympow was aware. 

> > 
> > Were they? 

> 
> at least, I am :-)
> 
>  I haven't received a reply yet (besides that my post is awaiting approval).
> 
> Be patient, it is summer time.

Of course :) I must've misunderstood your message, I thought you were referring to a reply to that email.



---

archive/issue_comments_017940.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOkay turns out I just messed up packaging. Its not strictly relevant for this ticket and I thought about just emailing you, but maybe the sage package upgrade will run into the same problems.\n\nSo nix installs every package in its own prefix. That means sympow would go into `/nix/store/some-sympow-specific-folder-name/`. Only the sympow files would be in that folder.\n\nI'm currently achieving that by setting the install flag `DESTDIR=$out` ($out pointing to that sympow directory). However when launching an example from the README, it fails because it looks for the `new_data` script in `/usr/local/lib/sympow`. That script is in `$out/usr/local/lib/sympow`. Here's the error:\n\n```\n$ result/bin/sympow -sp 2p16 -curve \"[1,2,3,4,5]\"\nsympow 2.023.2 RELEASE  (c) Mark Watkins --- see README and COPYING for details\n**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\nMinimal model of curve  is [1,-1,0,4,3]\nAt 11: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\nAt 941: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\nConductor is 10351\nP02L not found in param_data file\nWill compute data mesh file for `2'\nMake data for  symmetric power 2\n/bin/sh: /usr/local/lib/sympow/new_data: No such file or directory\n**ERROR** [FAILED]\nMay be tried with 'sympow -new_data `2'\n```\n\nIn the README I see that I can set the `SYMPOW_PKGLIBDIR` environment variable (although that shouldn't be necessary). After doing that, I get\n\n```\n$ result/bin/sympow -sp 2p16 -curve \"[1,2,3,4,5]\"\n**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\nRunning the new_data script for -sp 2\nMaking the datafiles for -sp 2\n\n**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\nRewarping param_data file /home/timo/.sympow/datafiles/param_data\nLeft with 0 entries in param_data file /home/timo/.sympow/datafiles/param_data\n**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\nRemoving any old data files\nremoved '/home/timo/.sympow/datafiles/P02HM.txt'\nremoved '/home/timo/.sympow/datafiles/P02HS.txt'\nremoved '/home/timo/.sympow/datafiles/P02LM.txt'\nremoved '/home/timo/.sympow/datafiles/P02LS.txt'\nRunning the gp script\n\n**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\n***   error opening input file: `/usr/local/share/sympow/standard1.gp'.\n***   error opening input file: `/usr/local/share/sympow/standard2.gp'.\n***   error opening input file: `/usr/local/share/sympow/standard3.gp'.\n***   at top-level: coeffs(0)\n***                 ^---------\n***   not a function in function call\n***   at top-level: coeffE(1)\n***                 ^---------\n***   not a function in function call\n***   error opening input file: `/usr/local/share/sympow/standard1.gp'.\n***   error opening input file: `/usr/local/share/sympow/standard2.gp'.\n***   error opening input file: `/usr/local/share/sympow/standard3.gp'.\n***   at top-level: coeffs(0)\n***                 ^---------\n***   not a function in function call\n***   at top-level: coeffO(1)\n***                 ^---------\n***   not a function in function call\n\n**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\nTrimming the data files\ntrimmed `/home/timo/.sympow/datafiles/P02HM.txt'\ntrimmed `/home/timo/.sympow/datafiles/P02HS.txt'\ntrimmed `/home/timo/.sympow/datafiles/P02LM.txt'\ntrimmed `/home/timo/.sympow/datafiles/P02LS.txt'\n**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\nRewarping param_data file /home/timo/.sympow/datafiles/param_data\nLeft with 0 entries in param_data file /home/timo/.sympow/datafiles/param_data\nFinished with -sp 2\n**ERROR** P02L not found in param_data file in second round\nsympow 2.023.2 RELEASE  (c) Mark Watkins --- see README and COPYING for details\nMinimal model of curve  is [1,-1,0,4,3]\nAt 11: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\nAt 941: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\nConductor is 10351\nP02L not found in param_data file\nWill compute data mesh file for `2'\nHas computed data mesh file for `2'\n```\n\nAm I doing something wrong or is that an issue with the `Configure` script? I'm executing `./Configure` without parameters. pari is included in the build dependencies.\n\nAlso in case you find the time, it would be great if you could add a handful of test cases. I see that you already have some tests in the debian package. Otherwilse I'll just take some from the README, but having them included in the package is better of course.",
    "created_at": "2018-07-27T14:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17940",
    "user": "https://github.com/timokau"
}
```

<div id="comment:33" align="right">comment:33</div>

Okay turns out I just messed up packaging. Its not strictly relevant for this ticket and I thought about just emailing you, but maybe the sage package upgrade will run into the same problems.

So nix installs every package in its own prefix. That means sympow would go into `/nix/store/some-sympow-specific-folder-name/`. Only the sympow files would be in that folder.

I'm currently achieving that by setting the install flag `DESTDIR=$out` ($out pointing to that sympow directory). However when launching an example from the README, it fails because it looks for the `new_data` script in `/usr/local/lib/sympow`. That script is in `$out/usr/local/lib/sympow`. Here's the error:

```
$ result/bin/sympow -sp 2p16 -curve "[1,2,3,4,5]"
sympow 2.023.2 RELEASE  (c) Mark Watkins --- see README and COPYING for details
**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
Minimal model of curve  is [1,-1,0,4,3]
At 11: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
At 941: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
Conductor is 10351
P02L not found in param_data file
Will compute data mesh file for `2'
Make data for  symmetric power 2
/bin/sh: /usr/local/lib/sympow/new_data: No such file or directory
**ERROR** [FAILED]
May be tried with 'sympow -new_data `2'
```

In the README I see that I can set the `SYMPOW_PKGLIBDIR` environment variable (although that shouldn't be necessary). After doing that, I get

```
$ result/bin/sympow -sp 2p16 -curve "[1,2,3,4,5]"
**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
Running the new_data script for -sp 2
Making the datafiles for -sp 2

**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
Rewarping param_data file /home/timo/.sympow/datafiles/param_data
Left with 0 entries in param_data file /home/timo/.sympow/datafiles/param_data
**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
Removing any old data files
removed '/home/timo/.sympow/datafiles/P02HM.txt'
removed '/home/timo/.sympow/datafiles/P02HS.txt'
removed '/home/timo/.sympow/datafiles/P02LM.txt'
removed '/home/timo/.sympow/datafiles/P02LS.txt'
Running the gp script

**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
***   error opening input file: `/usr/local/share/sympow/standard1.gp'.
***   error opening input file: `/usr/local/share/sympow/standard2.gp'.
***   error opening input file: `/usr/local/share/sympow/standard3.gp'.
***   at top-level: coeffs(0)
***                 ^---------
***   not a function in function call
***   at top-level: coeffE(1)
***                 ^---------
***   not a function in function call
***   error opening input file: `/usr/local/share/sympow/standard1.gp'.
***   error opening input file: `/usr/local/share/sympow/standard2.gp'.
***   error opening input file: `/usr/local/share/sympow/standard3.gp'.
***   at top-level: coeffs(0)
***                 ^---------
***   not a function in function call
***   at top-level: coeffO(1)
***                 ^---------
***   not a function in function call

**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
Trimming the data files
trimmed `/home/timo/.sympow/datafiles/P02HM.txt'
trimmed `/home/timo/.sympow/datafiles/P02HS.txt'
trimmed `/home/timo/.sympow/datafiles/P02LM.txt'
trimmed `/home/timo/.sympow/datafiles/P02LS.txt'
**WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
Rewarping param_data file /home/timo/.sympow/datafiles/param_data
Left with 0 entries in param_data file /home/timo/.sympow/datafiles/param_data
Finished with -sp 2
**ERROR** P02L not found in param_data file in second round
sympow 2.023.2 RELEASE  (c) Mark Watkins --- see README and COPYING for details
Minimal model of curve  is [1,-1,0,4,3]
At 11: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
At 941: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
Conductor is 10351
P02L not found in param_data file
Will compute data mesh file for `2'
Has computed data mesh file for `2'
```

Am I doing something wrong or is that an issue with the `Configure` script? I'm executing `./Configure` without parameters. pari is included in the build dependencies.

Also in case you find the time, it would be great if you could add a handful of test cases. I see that you already have some tests in the debian package. Otherwilse I'll just take some from the README, but having them included in the package is better of course.



---

archive/issue_comments_017941.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@timokau](#comment:33):\n> Okay turns out I just messed up packaging. Its not strictly relevant for this ticket\n\nI guess it would be a relevant ticket for the fork.\n\n and I thought about just emailing you, but maybe the sage package upgrade will run into the same problems.\n> \n> So nix installs every package in its own prefix. That means sympow would go into `/nix/store/some-sympow-specific-folder-name/`. Only the sympow files would be in that folder.\n> \n> I'm currently achieving that by setting the install flag `DESTDIR=$out` ($out pointing to that sympow directory). However when launching an example from the README, it fails because it looks for the `new_data` script in `/usr/local/lib/sympow`. That script is in `$out/usr/local/lib/sympow`. Here's the error:\n> \n> ```\n> $ result/bin/sympow -sp 2p16 -curve \"[1,2,3,4,5]\"\n> sympow 2.023.2 RELEASE  (c) Mark Watkins --- see README and COPYING for details\n> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\n> Minimal model of curve  is [1,-1,0,4,3]\n> At 11: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\n> At 941: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\n> Conductor is 10351\n> P02L not found in param_data file\n> Will compute data mesh file for `2'\n> Make data for  symmetric power 2\n> /bin/sh: /usr/local/lib/sympow/new_data: No such file or directory\n> **ERROR** [FAILED]\n> May be tried with 'sympow -new_data `2'\n> ```\n> \n> In the README I see that I can set the `SYMPOW_PKGLIBDIR` environment variable (although that shouldn't be necessary\n\nit is why it is written that they are meant mainly for development and debugging purpose\n\nHere you are misusing PREFIX, VARPREFIX, and DESTDIR (see below)\n\n). After doing that, I get\n> \n> ```\n> $ result/bin/sympow -sp 2p16 -curve \"[1,2,3,4,5]\"\n> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\n> Running the new_data script for -sp 2\n> Making the datafiles for -sp 2\n> \n> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\n> Rewarping param_data file /home/timo/.sympow/datafiles/param_data\n> Left with 0 entries in param_data file /home/timo/.sympow/datafiles/param_data\n> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\n> Removing any old data files\n> removed '/home/timo/.sympow/datafiles/P02HM.txt'\n> removed '/home/timo/.sympow/datafiles/P02HS.txt'\n> removed '/home/timo/.sympow/datafiles/P02LM.txt'\n> removed '/home/timo/.sympow/datafiles/P02LS.txt'\n> Running the gp script\n> \n> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\n> ***   error opening input file: `/usr/local/share/sympow/standard1.gp'.\n> ***   error opening input file: `/usr/local/share/sympow/standard2.gp'.\n> ***   error opening input file: `/usr/local/share/sympow/standard3.gp'.\n> ***   at top-level: coeffs(0)\n> ***                 ^---------\n> ***   not a function in function call\n> ***   at top-level: coeffE(1)\n> ***                 ^---------\n> ***   not a function in function call\n> ***   error opening input file: `/usr/local/share/sympow/standard1.gp'.\n> ***   error opening input file: `/usr/local/share/sympow/standard2.gp'.\n> ***   error opening input file: `/usr/local/share/sympow/standard3.gp'.\n> ***   at top-level: coeffs(0)\n> ***                 ^---------\n> ***   not a function in function call\n> ***   at top-level: coeffO(1)\n> ***                 ^---------\n> ***   not a function in function call\n> \n> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\n> Trimming the data files\n> trimmed `/home/timo/.sympow/datafiles/P02HM.txt'\n> trimmed `/home/timo/.sympow/datafiles/P02HS.txt'\n> trimmed `/home/timo/.sympow/datafiles/P02LM.txt'\n> trimmed `/home/timo/.sympow/datafiles/P02LS.txt'\n> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64\n> Rewarping param_data file /home/timo/.sympow/datafiles/param_data\n> Left with 0 entries in param_data file /home/timo/.sympow/datafiles/param_data\n> Finished with -sp 2\n> **ERROR** P02L not found in param_data file in second round\n> sympow 2.023.2 RELEASE  (c) Mark Watkins --- see README and COPYING for details\n> Minimal model of curve  is [1,-1,0,4,3]\n> At 11: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\n> At 941: Inertia Group is  C1 MULTIPLICATIVE REDUCTION\n> Conductor is 10351\n> P02L not found in param_data file\n> Will compute data mesh file for `2'\n> Has computed data mesh file for `2'\n> ```\n> \n> Am I doing something wrong or is that an issue with the `Configure` script? I'm executing `./Configure` without parameters.\n\nDESTDIR is mainly meant for packaging in custom Makefile (not for testing)\n\nTo do what you want, I guess that you have to set up PREFIX (and maybe VARPREFIX) as it is done with customary Makefile.\n\nThe patches I brought from Debian are meant to ease integration in Unix for maintainers and users (compare to the original version): DESTDIR, PREFIX, and VARPREFIX have the customary meaning.\n\nBasically you cannot test in DESTDIR unless you set correctly the environment variables because\nPREFIXed  paths are hard coded.\n\n pari is included in the build dependencies.\n> \n> Also in case you find the time, it would be great if you could add a handful of test cases. I see that you already have some tests in the debian package.\n\nThe test in debian/tests are not meant to run at building time but once sympow is installed; they are CI tests. I am considering to write a test script for checking at building in view to migrate to autotools.\n\n\n> Otherwilse I'll just take some from the README, but having them included in the package is better of course.",
    "created_at": "2018-07-27T18:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17941",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@timokau](#comment:33):
> Okay turns out I just messed up packaging. Its not strictly relevant for this ticket

I guess it would be a relevant ticket for the fork.

 and I thought about just emailing you, but maybe the sage package upgrade will run into the same problems.
> 
> So nix installs every package in its own prefix. That means sympow would go into `/nix/store/some-sympow-specific-folder-name/`. Only the sympow files would be in that folder.
> 
> I'm currently achieving that by setting the install flag `DESTDIR=$out` ($out pointing to that sympow directory). However when launching an example from the README, it fails because it looks for the `new_data` script in `/usr/local/lib/sympow`. That script is in `$out/usr/local/lib/sympow`. Here's the error:
> 
> ```
> $ result/bin/sympow -sp 2p16 -curve "[1,2,3,4,5]"
> sympow 2.023.2 RELEASE  (c) Mark Watkins --- see README and COPYING for details
> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
> Minimal model of curve  is [1,-1,0,4,3]
> At 11: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
> At 941: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
> Conductor is 10351
> P02L not found in param_data file
> Will compute data mesh file for `2'
> Make data for  symmetric power 2
> /bin/sh: /usr/local/lib/sympow/new_data: No such file or directory
> **ERROR** [FAILED]
> May be tried with 'sympow -new_data `2'
> ```
> 
> In the README I see that I can set the `SYMPOW_PKGLIBDIR` environment variable (although that shouldn't be necessary

it is why it is written that they are meant mainly for development and debugging purpose

Here you are misusing PREFIX, VARPREFIX, and DESTDIR (see below)

). After doing that, I get
> 
> ```
> $ result/bin/sympow -sp 2p16 -curve "[1,2,3,4,5]"
> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
> Running the new_data script for -sp 2
> Making the datafiles for -sp 2
> 
> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
> Rewarping param_data file /home/timo/.sympow/datafiles/param_data
> Left with 0 entries in param_data file /home/timo/.sympow/datafiles/param_data
> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
> Removing any old data files
> removed '/home/timo/.sympow/datafiles/P02HM.txt'
> removed '/home/timo/.sympow/datafiles/P02HS.txt'
> removed '/home/timo/.sympow/datafiles/P02LM.txt'
> removed '/home/timo/.sympow/datafiles/P02LS.txt'
> Running the gp script
> 
> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
> ***   error opening input file: `/usr/local/share/sympow/standard1.gp'.
> ***   error opening input file: `/usr/local/share/sympow/standard2.gp'.
> ***   error opening input file: `/usr/local/share/sympow/standard3.gp'.
> ***   at top-level: coeffs(0)
> ***                 ^---------
> ***   not a function in function call
> ***   at top-level: coeffE(1)
> ***                 ^---------
> ***   not a function in function call
> ***   error opening input file: `/usr/local/share/sympow/standard1.gp'.
> ***   error opening input file: `/usr/local/share/sympow/standard2.gp'.
> ***   error opening input file: `/usr/local/share/sympow/standard3.gp'.
> ***   at top-level: coeffs(0)
> ***                 ^---------
> ***   not a function in function call
> ***   at top-level: coeffO(1)
> ***                 ^---------
> ***   not a function in function call
> 
> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
> Trimming the data files
> trimmed `/home/timo/.sympow/datafiles/P02HM.txt'
> trimmed `/home/timo/.sympow/datafiles/P02HS.txt'
> trimmed `/home/timo/.sympow/datafiles/P02LM.txt'
> trimmed `/home/timo/.sympow/datafiles/P02LS.txt'
> **WARNING** failed to create data bin package cache folder /var/cache/sympow/datafiles/le64
> Rewarping param_data file /home/timo/.sympow/datafiles/param_data
> Left with 0 entries in param_data file /home/timo/.sympow/datafiles/param_data
> Finished with -sp 2
> **ERROR** P02L not found in param_data file in second round
> sympow 2.023.2 RELEASE  (c) Mark Watkins --- see README and COPYING for details
> Minimal model of curve  is [1,-1,0,4,3]
> At 11: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
> At 941: Inertia Group is  C1 MULTIPLICATIVE REDUCTION
> Conductor is 10351
> P02L not found in param_data file
> Will compute data mesh file for `2'
> Has computed data mesh file for `2'
> ```
> 
> Am I doing something wrong or is that an issue with the `Configure` script? I'm executing `./Configure` without parameters.

DESTDIR is mainly meant for packaging in custom Makefile (not for testing)

To do what you want, I guess that you have to set up PREFIX (and maybe VARPREFIX) as it is done with customary Makefile.

The patches I brought from Debian are meant to ease integration in Unix for maintainers and users (compare to the original version): DESTDIR, PREFIX, and VARPREFIX have the customary meaning.

Basically you cannot test in DESTDIR unless you set correctly the environment variables because
PREFIXed  paths are hard coded.

 pari is included in the build dependencies.
> 
> Also in case you find the time, it would be great if you could add a handful of test cases. I see that you already have some tests in the debian package.

The test in debian/tests are not meant to run at building time but once sympow is installed; they are CI tests. I am considering to write a test script for checking at building in view to migrate to autotools.


> Otherwilse I'll just take some from the README, but having them included in the package is better of course.



---

archive/issue_comments_017942.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@jgmbenoit](#comment:34):\n> Replying to [@timokau](#comment:33):\n> > ...\n> > Am I doing something wrong or is that an issue with the `Configure` script? I'm executing `./Configure` without parameters.\n\n> \n> DESTDIR is mainly meant for packaging in custom Makefile (not for testing)\n> \n> To do what you want, I guess that you have to set up PREFIX (and maybe VARPREFIX) as it is done with customary Makefile.\n\nRight, `DESTDIR` was a leftover from the old way to package sympow. Using `PREFIX` instead fixes the issue.\n\nThank you.\n\n> > Also in case you find the time, it would be great if you could add a handful of test cases. I see that you already have some tests in the debian package.\n\n> \n> The test in debian/tests are not meant to run at building time but once sympow is installed; they are CI tests. I am considering to write a test script for checking at building in view to migrate to autotools.\n\nYes, install checks is exactly what I'd want. To catch issues like this early. I assumed the sage interface was at fault, even though it was just faulty packaging. So after installation (which at least for nix is the same as packaging; the installation result can just be put in an archive and distributed), something like autotools `make installcheck` would be what I want.\n\n\nWhat is the difference between `/var/cache/sympow` and `~/.sympow`? When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about \"precomputed\" for `/var` and \"user computed\" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?",
    "created_at": "2018-07-28T12:36:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17942",
    "user": "https://github.com/timokau"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@jgmbenoit](#comment:34):
> Replying to [@timokau](#comment:33):
> > ...
> > Am I doing something wrong or is that an issue with the `Configure` script? I'm executing `./Configure` without parameters.

> 
> DESTDIR is mainly meant for packaging in custom Makefile (not for testing)
> 
> To do what you want, I guess that you have to set up PREFIX (and maybe VARPREFIX) as it is done with customary Makefile.

Right, `DESTDIR` was a leftover from the old way to package sympow. Using `PREFIX` instead fixes the issue.

Thank you.

> > Also in case you find the time, it would be great if you could add a handful of test cases. I see that you already have some tests in the debian package.

> 
> The test in debian/tests are not meant to run at building time but once sympow is installed; they are CI tests. I am considering to write a test script for checking at building in view to migrate to autotools.

Yes, install checks is exactly what I'd want. To catch issues like this early. I assumed the sage interface was at fault, even though it was just faulty packaging. So after installation (which at least for nix is the same as packaging; the installation result can just be put in an archive and distributed), something like autotools `make installcheck` would be what I want.


What is the difference between `/var/cache/sympow` and `~/.sympow`? When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about "precomputed" for `/var` and "user computed" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?



---

archive/issue_comments_017943.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@timokau](#comment:35):\n> Replying to [@jgmbenoit](#comment:34):\n> > Replying to [@timokau](#comment:33):\n> > > ...\n> > > Am I doing something wrong or is that an issue with the `Configure` script? I'm executing `./Configure` without parameters.\n\n> > \n> > DESTDIR is mainly meant for packaging in custom Makefile (not for testing)\n> > \n> > To do what you want, I guess that you have to set up PREFIX (and maybe VARPREFIX) as it is done with customary Makefile.\n\n> \n> Right, `DESTDIR` was a leftover from the old way to package sympow. Using `PREFIX` instead fixes the issue.\n> \n> Thank you.\n> \n> > > Also in case you find the time, it would be great if you could add a handful of test cases. I see that you already have some tests in the debian package.\n\n> > \n> > The test in debian/tests are not meant to run at building time but once sympow is installed; they are CI tests. I am considering to write a test script for checking at building in view to migrate to autotools.\n\n> \n> Yes, install checks is exactly what I'd want. To catch issues like this early. I assumed the sage interface was at fault, even though it was just faulty packaging. So after installation (which at least for nix is the same as packaging; the installation result can just be put in an archive and distributed), something like autotools `make installcheck` would be what I want.\n> \n> \n> What is the difference between `/var/cache/sympow` and `~/.sympow`?\n\n/var/cache/sympow/datafiles/ goes in pair with /usr/share/sympow/datafiles/ :\n1] /usr/share/sympow/datafiles/ contains data files in clear which are assumed to be manage at the superuser scale (basically a set of precomputed data installed at installation time);\n2] /var/cache/sympow/datafiles/le64 contains the associated binaries (which are architecture dependent) that are not distributed but computed on the fly when necessary by the first user.\n\n\n~/.sympow/datafiles/ will contain data files (clear versions and binaries) generated by USER when the clear version whenever the clear version is not readable in  /usr/share/sympow/datafiles/ .\nBehind this, there is a community policy: we can reuse data computed by other users.\n\nThe data in HOME/.sympow are autoritative over the one system-wide ones,\nand The data in SYMPOW_CACHEDIR and SYMPOW_CACHEDIR/sympow are authoritative\nover the ones in HOME/.sympow . Nothing special here from a UNIX user point of view.\n\nMy aim was to keep the spirit of the original version. Some data were distributed to avoid the user some maneuvers and to wait a while (at this glorious time, computers were extremely slow and the users have to run GP themselves: thanks to Intel and its competitors and to my patches, this time is over and we can now enjoy the full power of SYMPOW).\n\nIf you look the code, for the right to read or write, something inspired by openssh code was implemented (I do not remember the details, but I remember that I tested it heavily). For Debian, beside the historical data, extra data are provided (and guessed that I took the list from Sage (must be double checked)). We can image to provide more data. You can find the job and a script to generate jobs in the material provided by Debian. These data are computed at packaging time, somehow it is also a `check'.\n\nHaving said that, it is okay to distributed no precomputed data.\n\nMy point is that some examples or tests in the literature may depend on the historical data,\nso having them can speed up tests and keep the end users cool.\nI strongly suggest to distribute the historical precomputed data (and the Sage ones).\n\n\n\n\n\n When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about \"precomputed\" for `/var` and \"user computed\" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?\n\nJust cleanup /usr/share/sympow/datafiles/ to let the  possibility to superuser to provide system wide data.\n\nJerome",
    "created_at": "2018-07-28T17:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17943",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@timokau](#comment:35):
> Replying to [@jgmbenoit](#comment:34):
> > Replying to [@timokau](#comment:33):
> > > ...
> > > Am I doing something wrong or is that an issue with the `Configure` script? I'm executing `./Configure` without parameters.

> > 
> > DESTDIR is mainly meant for packaging in custom Makefile (not for testing)
> > 
> > To do what you want, I guess that you have to set up PREFIX (and maybe VARPREFIX) as it is done with customary Makefile.

> 
> Right, `DESTDIR` was a leftover from the old way to package sympow. Using `PREFIX` instead fixes the issue.
> 
> Thank you.
> 
> > > Also in case you find the time, it would be great if you could add a handful of test cases. I see that you already have some tests in the debian package.

> > 
> > The test in debian/tests are not meant to run at building time but once sympow is installed; they are CI tests. I am considering to write a test script for checking at building in view to migrate to autotools.

> 
> Yes, install checks is exactly what I'd want. To catch issues like this early. I assumed the sage interface was at fault, even though it was just faulty packaging. So after installation (which at least for nix is the same as packaging; the installation result can just be put in an archive and distributed), something like autotools `make installcheck` would be what I want.
> 
> 
> What is the difference between `/var/cache/sympow` and `~/.sympow`?

/var/cache/sympow/datafiles/ goes in pair with /usr/share/sympow/datafiles/ :
1] /usr/share/sympow/datafiles/ contains data files in clear which are assumed to be manage at the superuser scale (basically a set of precomputed data installed at installation time);
2] /var/cache/sympow/datafiles/le64 contains the associated binaries (which are architecture dependent) that are not distributed but computed on the fly when necessary by the first user.


~/.sympow/datafiles/ will contain data files (clear versions and binaries) generated by USER when the clear version whenever the clear version is not readable in  /usr/share/sympow/datafiles/ .
Behind this, there is a community policy: we can reuse data computed by other users.

The data in HOME/.sympow are autoritative over the one system-wide ones,
and The data in SYMPOW_CACHEDIR and SYMPOW_CACHEDIR/sympow are authoritative
over the ones in HOME/.sympow . Nothing special here from a UNIX user point of view.

My aim was to keep the spirit of the original version. Some data were distributed to avoid the user some maneuvers and to wait a while (at this glorious time, computers were extremely slow and the users have to run GP themselves: thanks to Intel and its competitors and to my patches, this time is over and we can now enjoy the full power of SYMPOW).

If you look the code, for the right to read or write, something inspired by openssh code was implemented (I do not remember the details, but I remember that I tested it heavily). For Debian, beside the historical data, extra data are provided (and guessed that I took the list from Sage (must be double checked)). We can image to provide more data. You can find the job and a script to generate jobs in the material provided by Debian. These data are computed at packaging time, somehow it is also a `check'.

Having said that, it is okay to distributed no precomputed data.

My point is that some examples or tests in the literature may depend on the historical data,
so having them can speed up tests and keep the end users cool.
I strongly suggest to distribute the historical precomputed data (and the Sage ones).





 When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about "precomputed" for `/var` and "user computed" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?

Just cleanup /usr/share/sympow/datafiles/ to let the  possibility to superuser to provide system wide data.

Jerome



---

archive/issue_comments_017944.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@jgmbenoit](#comment:36):\n> Replying to [@timokau](#comment:35):\n> > What is the difference between `/var/cache/sympow` and `~/.sympow`?\n\n> \n> /var/cache/sympow/datafiles/ goes in pair with /usr/share/sympow/datafiles/ :\n\n>\n>* /usr/share/sympow/datafiles/ contains data files in clear which are assumed to be manage at the superuser scale (basically a set of precomputed data installed at installation time);\n>\n>* /var/cache/sympow/datafiles/le64 contains the associated binaries (which are architecture dependent) that are not distributed but computed on the fly when necessary by the first user.\n\nDependant on the exact CPU model or just x86/aarch, 32/64 bits?\n\n\n> ~/.sympow/datafiles/ will contain data files (clear versions and binaries) generated by USER whenever the clear version is not readable in  /usr/share/sympow/datafiles/ .\n> Behind this, there is a community policy: we can reuse data computed by other users.\n> \n> The data in HOME/.sympow are autoritative over the one system-wide ones,\n> and The data in SYMPOW_CACHEDIR and SYMPOW_CACHEDIR/sympow are authoritative\n> over the ones in HOME/.sympow . Nothing special here from a UNIX user point of view.\n> \n> My aim was to keep the spirit of the original version. Some data were distributed to avoid the user some maneuvers and to wait a while (at this glorious time, computers were extremely slow and the users have to run GP themselves: thanks to Intel and its competitors and to my patches, this time is over and we can now enjoy the full power of SYMPOW).\n> \n> If you look the code, for the right to read or write, something inspired by openssh code was implemented (I do not remember the details, but I remember that I tested it heavily). For Debian, beside the historical data, extra data are provided (and guessed that I took the list from Sage (must be double checked)). We can image to provide more data. You can find the job and a script to generate jobs in the material provided by Debian. These data are computed at packaging time, somehow it is also a `check'.\n\nIf I read the debian post install scripts correctly, doesn't everybody just have r+w access to the /var/cache directory?\n\n\n> Having said that, it is okay to distributed no precomputed data.\n\nI'm not having any problems with the /usr/share precomputed data. What isn't ideal is that the user needs runtime write-access to the /var/cache directory.\n\n\n> I strongly suggest to distribute the historical precomputed data (and the Sage ones).\n\nSo basically running `sympow -new_data` with all the arguments listed in debians `precomputed_data-lisof_parameter.data`? It looks like the debian package still calls gp manually. So that'd be\n\n```\nfor data in 1d0 2 2d0h 3d0 3d1 4; do\n\tsympow -new_data \"$data\"\ndone\n```\n\nBut that tries to access HOME/.sympow. So you're generating user-level cache files at install time?\n\n>  When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about \"precomputed\" for `/var` and \"user computed\" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?\n> \n> Just cleanup /usr/share/sympow/datafiles/ to let the  possibility to superuser to provide system wide data.\n\nEven after deleting that, sympow still gives a warning about not being able to write to /var/cache/sympow.",
    "created_at": "2018-07-29T13:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17944",
    "user": "https://github.com/timokau"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@jgmbenoit](#comment:36):
> Replying to [@timokau](#comment:35):
> > What is the difference between `/var/cache/sympow` and `~/.sympow`?

> 
> /var/cache/sympow/datafiles/ goes in pair with /usr/share/sympow/datafiles/ :

>
>* /usr/share/sympow/datafiles/ contains data files in clear which are assumed to be manage at the superuser scale (basically a set of precomputed data installed at installation time);
>
>* /var/cache/sympow/datafiles/le64 contains the associated binaries (which are architecture dependent) that are not distributed but computed on the fly when necessary by the first user.

Dependant on the exact CPU model or just x86/aarch, 32/64 bits?


> ~/.sympow/datafiles/ will contain data files (clear versions and binaries) generated by USER whenever the clear version is not readable in  /usr/share/sympow/datafiles/ .
> Behind this, there is a community policy: we can reuse data computed by other users.
> 
> The data in HOME/.sympow are autoritative over the one system-wide ones,
> and The data in SYMPOW_CACHEDIR and SYMPOW_CACHEDIR/sympow are authoritative
> over the ones in HOME/.sympow . Nothing special here from a UNIX user point of view.
> 
> My aim was to keep the spirit of the original version. Some data were distributed to avoid the user some maneuvers and to wait a while (at this glorious time, computers were extremely slow and the users have to run GP themselves: thanks to Intel and its competitors and to my patches, this time is over and we can now enjoy the full power of SYMPOW).
> 
> If you look the code, for the right to read or write, something inspired by openssh code was implemented (I do not remember the details, but I remember that I tested it heavily). For Debian, beside the historical data, extra data are provided (and guessed that I took the list from Sage (must be double checked)). We can image to provide more data. You can find the job and a script to generate jobs in the material provided by Debian. These data are computed at packaging time, somehow it is also a `check'.

If I read the debian post install scripts correctly, doesn't everybody just have r+w access to the /var/cache directory?


> Having said that, it is okay to distributed no precomputed data.

I'm not having any problems with the /usr/share precomputed data. What isn't ideal is that the user needs runtime write-access to the /var/cache directory.


> I strongly suggest to distribute the historical precomputed data (and the Sage ones).

So basically running `sympow -new_data` with all the arguments listed in debians `precomputed_data-lisof_parameter.data`? It looks like the debian package still calls gp manually. So that'd be

```
for data in 1d0 2 2d0h 3d0 3d1 4; do
	sympow -new_data "$data"
done
```

But that tries to access HOME/.sympow. So you're generating user-level cache files at install time?

>  When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about "precomputed" for `/var` and "user computed" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?
> 
> Just cleanup /usr/share/sympow/datafiles/ to let the  possibility to superuser to provide system wide data.

Even after deleting that, sympow still gives a warning about not being able to write to /var/cache/sympow.



---

archive/issue_comments_017945.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@timokau](#comment:37):\n> Replying to [@jgmbenoit](#comment:36):\n> > Replying to [@timokau](#comment:35):\n> > > What is the difference between `/var/cache/sympow` and `~/.sympow`?\n\n> > \n> > /var/cache/sympow/datafiles/ goes in pair with /usr/share/sympow/datafiles/ :\n\n> >\n> >* /usr/share/sympow/datafiles/ contains data files in clear which are assumed to be manage at the superuser scale (basically a set of precomputed data installed at installation time);\n> >\n> >* /var/cache/sympow/datafiles/le64 contains the associated binaries (which are architecture dependent) that are not distributed but computed on the fly when necessary by the first user.\n\n> \n> Dependant on the exact CPU model or just x86/aarch, 32/64 bits?\n\nendianness\n\n\n\n> \n> \n> > ~/.sympow/datafiles/ will contain data files (clear versions and binaries) generated by USER whenever the clear version is not readable in  /usr/share/sympow/datafiles/ .\n> > Behind this, there is a community policy: we can reuse data computed by other users.\n> > \n> > The data in HOME/.sympow are autoritative over the one system-wide ones,\n> > and The data in SYMPOW_CACHEDIR and SYMPOW_CACHEDIR/sympow are authoritative\n> > over the ones in HOME/.sympow . Nothing special here from a UNIX user point of view.\n> > \n> > My aim was to keep the spirit of the original version. Some data were distributed to avoid the user some maneuvers and to wait a while (at this glorious time, computers were extremely slow and the users have to run GP themselves: thanks to Intel and its competitors and to my patches, this time is over and we can now enjoy the full power of SYMPOW).\n> > \n> > If you look the code, for the right to read or write, something inspired by openssh code was implemented (I do not remember the details, but I remember that I tested it heavily). For Debian, beside the historical data, extra data are provided (and guessed that I took the list from Sage (must be double checked)). We can image to provide more data. You can find the job and a script to generate jobs in the material provided by Debian. These data are computed at packaging time, somehow it is also a `check'.\n\n> \n> If I read the debian post install scripts correctly, doesn't everybody just have r+w access to the /var/cache directory?\n\nyes but just to write the binary data, which the binary version of the clean data:\n1] so whoever write it, the output must be the same ;\n2] any USER can bypass them by writting their own clean file in HOME/.sympow \n3] any USER can remove them;\n4] if faulty binary are set, we can trace back the faulty USER ;\n5] the superuser can create a specific group.\n\n\n\n> \n> \n> > Having said that, it is okay to distributed no precomputed data.\n\n> \n> I'm not having any problems with the /usr/share precomputed data. What isn't ideal is that the user needs runtime write-access to the /var/cache directory.\n> \n\nHe does not: he will get a warning message, but sympow will continue.\nThe USER can pass the -quiet option to silence the warnings.\nNo warning will not be ideal: the user must be aware if the set up is not correct.\n\n> \n> > I strongly suggest to distribute the historical precomputed data (and the Sage ones).\n\n> \n> So basically running `sympow -new_data` with all the arguments listed in debians `precomputed_data-lisof_parameter.data`?\n\nThere is no such file but a script in debian/adhoc/job which is called at packaging time \nand which complete the original armd.sh . I could merge them, but I will not because it will touch\nthe math part (what I want to avoid).\n\n\n It looks like the debian package still calls gp manually. So that'd be\n> \n> ```\n> for data in 1d0 2 2d0h 3d0 3d1 4; do\n> \tsympow -new_data \"$data\"\n> done\n> ```\n\nBut it is not.\n\n\nA debian centric patch is applies to add the extra data: debain/patches/debianization.patch \nAt packaging time, besides the original script armd.sh , the script debian/adhoc/job/sympow-new_data.job  is launched : those scripts call gp (and not sympow).\n\n> \n> But that tries to access HOME/.sympow. So you're generating user-level cache files at install time?\n\nsee above\n\n\n\n> \n> >  When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about \"precomputed\" for `/var` and \"user computed\" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?\n> > \n> > Just cleanup /usr/share/sympow/datafiles/ to let the  possibility to superuser to provide system wide data.\n\n> \n> Even after deleting that, sympow still gives a warning about not being able to write to /var/cache/sympow.\n\nso it is a warning (an not an ERROR message followed but an exit(-1)): I would consider it as a feature but not as a bug.\nIn fact, a couple of checks are performed to detect a corrupted folder set up and avoid surprises . \n\n\nThe bug is in the installation process:\nthe correct privileges must be encoded in Configure : I will try to fix this the next week-end .\nAnd in the README.md file: I should document better this part.\n\nFor now, to silent this warning, just set the right privilege or pass the option  -quiet : no will be write if /usr/share/sympow/datafiles is empty .\n\nLet me know if you think that a mechanism must be implemented to avoid this warning message.\n\nJerome",
    "created_at": "2018-07-29T15:05:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17945",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@timokau](#comment:37):
> Replying to [@jgmbenoit](#comment:36):
> > Replying to [@timokau](#comment:35):
> > > What is the difference between `/var/cache/sympow` and `~/.sympow`?

> > 
> > /var/cache/sympow/datafiles/ goes in pair with /usr/share/sympow/datafiles/ :

> >
> >* /usr/share/sympow/datafiles/ contains data files in clear which are assumed to be manage at the superuser scale (basically a set of precomputed data installed at installation time);
> >
> >* /var/cache/sympow/datafiles/le64 contains the associated binaries (which are architecture dependent) that are not distributed but computed on the fly when necessary by the first user.

> 
> Dependant on the exact CPU model or just x86/aarch, 32/64 bits?

endianness



> 
> 
> > ~/.sympow/datafiles/ will contain data files (clear versions and binaries) generated by USER whenever the clear version is not readable in  /usr/share/sympow/datafiles/ .
> > Behind this, there is a community policy: we can reuse data computed by other users.
> > 
> > The data in HOME/.sympow are autoritative over the one system-wide ones,
> > and The data in SYMPOW_CACHEDIR and SYMPOW_CACHEDIR/sympow are authoritative
> > over the ones in HOME/.sympow . Nothing special here from a UNIX user point of view.
> > 
> > My aim was to keep the spirit of the original version. Some data were distributed to avoid the user some maneuvers and to wait a while (at this glorious time, computers were extremely slow and the users have to run GP themselves: thanks to Intel and its competitors and to my patches, this time is over and we can now enjoy the full power of SYMPOW).
> > 
> > If you look the code, for the right to read or write, something inspired by openssh code was implemented (I do not remember the details, but I remember that I tested it heavily). For Debian, beside the historical data, extra data are provided (and guessed that I took the list from Sage (must be double checked)). We can image to provide more data. You can find the job and a script to generate jobs in the material provided by Debian. These data are computed at packaging time, somehow it is also a `check'.

> 
> If I read the debian post install scripts correctly, doesn't everybody just have r+w access to the /var/cache directory?

yes but just to write the binary data, which the binary version of the clean data:
1] so whoever write it, the output must be the same ;
2] any USER can bypass them by writting their own clean file in HOME/.sympow 
3] any USER can remove them;
4] if faulty binary are set, we can trace back the faulty USER ;
5] the superuser can create a specific group.



> 
> 
> > Having said that, it is okay to distributed no precomputed data.

> 
> I'm not having any problems with the /usr/share precomputed data. What isn't ideal is that the user needs runtime write-access to the /var/cache directory.
> 

He does not: he will get a warning message, but sympow will continue.
The USER can pass the -quiet option to silence the warnings.
No warning will not be ideal: the user must be aware if the set up is not correct.

> 
> > I strongly suggest to distribute the historical precomputed data (and the Sage ones).

> 
> So basically running `sympow -new_data` with all the arguments listed in debians `precomputed_data-lisof_parameter.data`?

There is no such file but a script in debian/adhoc/job which is called at packaging time 
and which complete the original armd.sh . I could merge them, but I will not because it will touch
the math part (what I want to avoid).


 It looks like the debian package still calls gp manually. So that'd be
> 
> ```
> for data in 1d0 2 2d0h 3d0 3d1 4; do
> 	sympow -new_data "$data"
> done
> ```

But it is not.


A debian centric patch is applies to add the extra data: debain/patches/debianization.patch 
At packaging time, besides the original script armd.sh , the script debian/adhoc/job/sympow-new_data.job  is launched : those scripts call gp (and not sympow).

> 
> But that tries to access HOME/.sympow. So you're generating user-level cache files at install time?

see above



> 
> >  When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about "precomputed" for `/var` and "user computed" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?
> > 
> > Just cleanup /usr/share/sympow/datafiles/ to let the  possibility to superuser to provide system wide data.

> 
> Even after deleting that, sympow still gives a warning about not being able to write to /var/cache/sympow.

so it is a warning (an not an ERROR message followed but an exit(-1)): I would consider it as a feature but not as a bug.
In fact, a couple of checks are performed to detect a corrupted folder set up and avoid surprises . 


The bug is in the installation process:
the correct privileges must be encoded in Configure : I will try to fix this the next week-end .
And in the README.md file: I should document better this part.

For now, to silent this warning, just set the right privilege or pass the option  -quiet : no will be write if /usr/share/sympow/datafiles is empty .

Let me know if you think that a mechanism must be implemented to avoid this warning message.

Jerome



---

archive/issue_comments_017946.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\n> But that tries to access HOME/.sympow. So you're generating user-level cache files at install time?\n\nThis is the behaviour of the original source, hence the patch.",
    "created_at": "2018-07-29T15:11:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17946",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:39" align="right">comment:39</div>

> But that tries to access HOME/.sympow. So you're generating user-level cache files at install time?

This is the behaviour of the original source, hence the patch.



---

archive/issue_comments_017947.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@jgmbenoit](#comment:38):\n> Replying to [@timokau](#comment:37):\n> > Replying to [@jgmbenoit](#comment:36):\n> > > Replying to [@timokau](#comment:35):\n> > > > What is the difference between `/var/cache/sympow` and `~/.sympow`?\n\n> > > \n> > > /var/cache/sympow/datafiles/ goes in pair with /usr/share/sympow/datafiles/ :\n\n> > >\n> > >* /usr/share/sympow/datafiles/ contains data files in clear which are assumed to be manage at the superuser scale (basically a set of precomputed data installed at installation time);\n> > >\n> > >* /var/cache/sympow/datafiles/le64 contains the associated binaries (which are architecture dependent) that are not distributed but computed on the fly when necessary by the first user.\n\n> > \n> > Dependant on the exact CPU model or just x86/aarch, 32/64 bits?\n\n> \n> endianness\n\nSo would it be reasonable to pre-compute and distribute all the /var/cache data?\n\n> > > ~/.sympow/datafiles/ will contain data files (clear versions and binaries) generated by USER whenever the clear version is not readable in  /usr/share/sympow/datafiles/ .\n> > > Behind this, there is a community policy: we can reuse data computed by other users.\n> > > \n> > > The data in HOME/.sympow are autoritative over the one system-wide ones,\n> > > and The data in SYMPOW_CACHEDIR and SYMPOW_CACHEDIR/sympow are authoritative\n> > > over the ones in HOME/.sympow . Nothing special here from a UNIX user point of view.\n> > > \n> > > My aim was to keep the spirit of the original version. Some data were distributed to avoid the user some maneuvers and to wait a while (at this glorious time, computers were extremely slow and the users have to run GP themselves: thanks to Intel and its competitors and to my patches, this time is over and we can now enjoy the full power of SYMPOW).\n> > > \n> > > If you look the code, for the right to read or write, something inspired by openssh code was implemented (I do not remember the details, but I remember that I tested it heavily). For Debian, beside the historical data, extra data are provided (and guessed that I took the list from Sage (must be double checked)). We can image to provide more data. You can find the job and a script to generate jobs in the material provided by Debian. These data are computed at packaging time, somehow it is also a `check'.\n\n> > \n> > If I read the debian post install scripts correctly, doesn't everybody just have r+w access to the /var/cache directory?\n\n> \n> yes but just to write the binary data, which the binary version of the clean data:\n> 1] so whoever write it, the output must be the same ;\n> 2] any USER can bypass them by writting their own clean file in HOME/.sympow \n> 3] any USER can remove them;\n> 4] if faulty binary are set, we can trace back the faulty USER ;\n> 5] the superuser can create a specific group.\n> \n> > \n> > \n> > > Having said that, it is okay to distributed no precomputed data.\n\n> > \n> > I'm not having any problems with the /usr/share precomputed data. What isn't ideal is that the user needs runtime write-access to the /var/cache directory.\n> > \n\n> He does not: he will get a warning message, but sympow will continue.\n> The USER can pass the -quiet option to silence the warnings.\n> No warning will not be ideal: the user must be aware if the set up is not correct.\n\nAnd then sympow will fall back to `~/.sympow` and behave exactly as usual?\n\n> > > I strongly suggest to distribute the historical precomputed data (and the Sage ones).\n\n> > \n> > So basically running `sympow -new_data` with all the arguments listed in debians `precomputed_data-lisof_parameter.data`?\n\n> \n> There is no such file but a script in debian/adhoc/job which is called at packaging time \n> and which complete the original armd.sh . I could merge them, but I will not because it will touch\n> the math part (what I want to avoid).\n> \n> \n>  It looks like the debian package still calls gp manually. So that'd be\n> > \n> > ```\n> > for data in 1d0 2 2d0h 3d0 3d1 4; do\n> > \tsympow -new_data \"$data\"\n> > done\n> > ```\n\n> \n> But it is not.\n> \n> \n> A debian centric patch is applies to add the extra data: debain/patches/debianization.patch \n> At packaging time, besides the original script armd.sh , the script debian/adhoc/job/sympow-new_data.job  is launched : those scripts call gp (and not sympow).\n\nSo what does the debian version do differntly?\n\n> > But that tries to access HOME/.sympow. So you're generating user-level cache files at install time?\n\n> \n> see above\n\nDoes that mean I should use the debian scripts if I want to distribute the cached binaries?\n\n> > >  When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about \"precomputed\" for `/var` and \"user computed\" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?\n> > > \n> > > Just cleanup /usr/share/sympow/datafiles/ to let the  possibility to superuser to provide system wide data.\n\n> > \n> > Even after deleting that, sympow still gives a warning about not being able to write to /var/cache/sympow.\n\n> \n> so it is a warning (an not an ERROR message followed but an exit(-1)): I would consider it as a feature but not as a bug.\n> In fact, a couple of checks are performed to detect a corrupted folder set up and avoid surprises . \n\nI would disagree. If I understand correctly the shared cache is only really useful in the nowadays nieche case where a lot of users use the same sympow instance on one PC. And even then it will not have a huge impact because computing power is usually sufficient. Not having the shared state makes things easier to reason about and in general global state is annoying to deal with for packaging.\n\n> The bug is in the installation process:\n> the correct privileges must be encoded in Configure : I will try to fix this the next week-end .\n\nWhat do you mean by that?\n\n> And in the README.md file: I should document better this part.\n> \n> For now, to silent this warning, just set the right privilege or pass the option  -quiet : no will be write if /usr/share/sympow/datafiles is empty .\n\nDoes `-quiet` have any other effects besides surpressing that message?\n\n> Let me know if you think that a mechanism must be implemented to avoid this warning message.\n\nTo make my motivations mroe clear: In nix, every package lives in an immutable subfolder of /nix/store after installation. The name of that subfolder contains a hash describing the recipe used to build the package and all its dependencies. That has a lot of advantages. Two relevant examples:\n\n- packages can be installed with user privileges. That is because installing a package only downlaods a couple of archives and unpacks that at /nix/store. It does not in any way affect other users. The issue with /var here is that we'd need superuser privileges at install time. Also nix doesn't even have the concept of install time scripts, so I'd have to do some ugly hack like creating a wrapper for sympow that sets up the /var folder on first use.\n\n- multiple versions of a package can be installed side-by-side. For example different users may have different versions of sympow. Again, global state is difficult in this situation.\n\nSo if it is not strictly necessary, I'd like to either\n\n- avoid the global cache and use the user cache instead or\n\n- pre-populate the cache at build time. The cache dir would then be read-only at runtime.\n\nIt sounds like currently I can kind of do the first option by writing a wrapper for sympow that always passes the `-quiet` option. Of course it would be nicer to just disable the shared state through a ./Configure option and even nicer to use option two instead.\n\nAm I misunderstanding this?\n\nThank you again for not only taking the time to improve the state of the singular package, but also patiently explaining the details to me :)",
    "created_at": "2018-07-29T17:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17947",
    "user": "https://github.com/timokau"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@jgmbenoit](#comment:38):
> Replying to [@timokau](#comment:37):
> > Replying to [@jgmbenoit](#comment:36):
> > > Replying to [@timokau](#comment:35):
> > > > What is the difference between `/var/cache/sympow` and `~/.sympow`?

> > > 
> > > /var/cache/sympow/datafiles/ goes in pair with /usr/share/sympow/datafiles/ :

> > >
> > >* /usr/share/sympow/datafiles/ contains data files in clear which are assumed to be manage at the superuser scale (basically a set of precomputed data installed at installation time);
> > >
> > >* /var/cache/sympow/datafiles/le64 contains the associated binaries (which are architecture dependent) that are not distributed but computed on the fly when necessary by the first user.

> > 
> > Dependant on the exact CPU model or just x86/aarch, 32/64 bits?

> 
> endianness

So would it be reasonable to pre-compute and distribute all the /var/cache data?

> > > ~/.sympow/datafiles/ will contain data files (clear versions and binaries) generated by USER whenever the clear version is not readable in  /usr/share/sympow/datafiles/ .
> > > Behind this, there is a community policy: we can reuse data computed by other users.
> > > 
> > > The data in HOME/.sympow are autoritative over the one system-wide ones,
> > > and The data in SYMPOW_CACHEDIR and SYMPOW_CACHEDIR/sympow are authoritative
> > > over the ones in HOME/.sympow . Nothing special here from a UNIX user point of view.
> > > 
> > > My aim was to keep the spirit of the original version. Some data were distributed to avoid the user some maneuvers and to wait a while (at this glorious time, computers were extremely slow and the users have to run GP themselves: thanks to Intel and its competitors and to my patches, this time is over and we can now enjoy the full power of SYMPOW).
> > > 
> > > If you look the code, for the right to read or write, something inspired by openssh code was implemented (I do not remember the details, but I remember that I tested it heavily). For Debian, beside the historical data, extra data are provided (and guessed that I took the list from Sage (must be double checked)). We can image to provide more data. You can find the job and a script to generate jobs in the material provided by Debian. These data are computed at packaging time, somehow it is also a `check'.

> > 
> > If I read the debian post install scripts correctly, doesn't everybody just have r+w access to the /var/cache directory?

> 
> yes but just to write the binary data, which the binary version of the clean data:
> 1] so whoever write it, the output must be the same ;
> 2] any USER can bypass them by writting their own clean file in HOME/.sympow 
> 3] any USER can remove them;
> 4] if faulty binary are set, we can trace back the faulty USER ;
> 5] the superuser can create a specific group.
> 
> > 
> > 
> > > Having said that, it is okay to distributed no precomputed data.

> > 
> > I'm not having any problems with the /usr/share precomputed data. What isn't ideal is that the user needs runtime write-access to the /var/cache directory.
> > 

> He does not: he will get a warning message, but sympow will continue.
> The USER can pass the -quiet option to silence the warnings.
> No warning will not be ideal: the user must be aware if the set up is not correct.

And then sympow will fall back to `~/.sympow` and behave exactly as usual?

> > > I strongly suggest to distribute the historical precomputed data (and the Sage ones).

> > 
> > So basically running `sympow -new_data` with all the arguments listed in debians `precomputed_data-lisof_parameter.data`?

> 
> There is no such file but a script in debian/adhoc/job which is called at packaging time 
> and which complete the original armd.sh . I could merge them, but I will not because it will touch
> the math part (what I want to avoid).
> 
> 
>  It looks like the debian package still calls gp manually. So that'd be
> > 
> > ```
> > for data in 1d0 2 2d0h 3d0 3d1 4; do
> > 	sympow -new_data "$data"
> > done
> > ```

> 
> But it is not.
> 
> 
> A debian centric patch is applies to add the extra data: debain/patches/debianization.patch 
> At packaging time, besides the original script armd.sh , the script debian/adhoc/job/sympow-new_data.job  is launched : those scripts call gp (and not sympow).

So what does the debian version do differntly?

> > But that tries to access HOME/.sympow. So you're generating user-level cache files at install time?

> 
> see above

Does that mean I should use the debian scripts if I want to distribute the cached binaries?

> > >  When is which one used? Is it possible to disable the global cache in favor of the user one? The readme talks about "precomputed" for `/var` and "user computed" for `~/.sympow`. Does that mean runtime write access to `VARPREFIX` is not actually necessary?
> > > 
> > > Just cleanup /usr/share/sympow/datafiles/ to let the  possibility to superuser to provide system wide data.

> > 
> > Even after deleting that, sympow still gives a warning about not being able to write to /var/cache/sympow.

> 
> so it is a warning (an not an ERROR message followed but an exit(-1)): I would consider it as a feature but not as a bug.
> In fact, a couple of checks are performed to detect a corrupted folder set up and avoid surprises . 

I would disagree. If I understand correctly the shared cache is only really useful in the nowadays nieche case where a lot of users use the same sympow instance on one PC. And even then it will not have a huge impact because computing power is usually sufficient. Not having the shared state makes things easier to reason about and in general global state is annoying to deal with for packaging.

> The bug is in the installation process:
> the correct privileges must be encoded in Configure : I will try to fix this the next week-end .

What do you mean by that?

> And in the README.md file: I should document better this part.
> 
> For now, to silent this warning, just set the right privilege or pass the option  -quiet : no will be write if /usr/share/sympow/datafiles is empty .

Does `-quiet` have any other effects besides surpressing that message?

> Let me know if you think that a mechanism must be implemented to avoid this warning message.

To make my motivations mroe clear: In nix, every package lives in an immutable subfolder of /nix/store after installation. The name of that subfolder contains a hash describing the recipe used to build the package and all its dependencies. That has a lot of advantages. Two relevant examples:

- packages can be installed with user privileges. That is because installing a package only downlaods a couple of archives and unpacks that at /nix/store. It does not in any way affect other users. The issue with /var here is that we'd need superuser privileges at install time. Also nix doesn't even have the concept of install time scripts, so I'd have to do some ugly hack like creating a wrapper for sympow that sets up the /var folder on first use.

- multiple versions of a package can be installed side-by-side. For example different users may have different versions of sympow. Again, global state is difficult in this situation.

So if it is not strictly necessary, I'd like to either

- avoid the global cache and use the user cache instead or

- pre-populate the cache at build time. The cache dir would then be read-only at runtime.

It sounds like currently I can kind of do the first option by writing a wrapper for sympow that always passes the `-quiet` option. Of course it would be nicer to just disable the shared state through a ./Configure option and even nicer to use option two instead.

Am I misunderstanding this?

Thank you again for not only taking the time to improve the state of the singular package, but also patiently explaining the details to me :)



---

archive/issue_comments_017948.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17948",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">comment:41</div>

update milestone 8.3 -> 8.4



---

archive/issue_events_036006.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36006"
}
```



---

archive/issue_events_036007.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36007"
}
```



---

archive/issue_comments_017949.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\n@jgmbenoit ping",
    "created_at": "2018-08-26T20:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17949",
    "user": "https://github.com/timokau"
}
```

<div id="comment:42" align="right">comment:42</div>

@jgmbenoit ping



---

archive/issue_comments_017950.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\npong !\n\nDoes -quiet have any other effects besides surpressing that message?  NO. Once again, the custom GNU/Linux behaviour are followed.\n\nYou only issue is that there is a Warning message: I guess it is not necessary to write a wrapper for that. Second, I guess sympow is mainly used by Sage, which acts as wrapper.\n\n((Is it that hard to read C source file ?))",
    "created_at": "2018-08-27T03:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17950",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:43" align="right">comment:43</div>

pong !

Does -quiet have any other effects besides surpressing that message?  NO. Once again, the custom GNU/Linux behaviour are followed.

You only issue is that there is a Warning message: I guess it is not necessary to write a wrapper for that. Second, I guess sympow is mainly used by Sage, which acts as wrapper.

((Is it that hard to read C source file ?))



---

archive/issue_comments_017951.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@jgmbenoit](#comment:43):\n> Does -quiet have any other effects besides surpressing that message?  NO. Once again, the custom GNU/Linux behaviour are followed.\n> \n> You only issue is that there is a Warning message: I guess it is not necessary to write a wrapper for that. Second, I guess sympow is mainly used by Sage, which acts as wrapper.\n\nThat is the only blocking issue, but it would still be better to be able to pre-compute the global cache at build time instead of lazily computing it at runtime. You didn't respond to all of my questions, which is understandable considering what a monster of message that was. So I'll summarize:\n\n- could the global cache reasonably be pre-computed at build time?\n- does sympow without a global cache behave exatly as usual, just computing the cache per-user instead?\n- if the debian/adhoc/job file to pre-compute some data is recommended, I would prefer if you would include it in sympow proper. However I understand your reservations about touching the math.\n\n> ((Is it that hard to read C source file ?))\n\nHonestly yes, the sympow code is very hard to read for me. Its a mix of very non-standard formatting, a lack of comments and my limited C and domain knowledge. That is why I'm glad that you have taken up the maintenance.\n\nI'll try a `-quiet` wrapper for now.",
    "created_at": "2018-08-27T10:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17951",
    "user": "https://github.com/timokau"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@jgmbenoit](#comment:43):
> Does -quiet have any other effects besides surpressing that message?  NO. Once again, the custom GNU/Linux behaviour are followed.
> 
> You only issue is that there is a Warning message: I guess it is not necessary to write a wrapper for that. Second, I guess sympow is mainly used by Sage, which acts as wrapper.

That is the only blocking issue, but it would still be better to be able to pre-compute the global cache at build time instead of lazily computing it at runtime. You didn't respond to all of my questions, which is understandable considering what a monster of message that was. So I'll summarize:

- could the global cache reasonably be pre-computed at build time?
- does sympow without a global cache behave exatly as usual, just computing the cache per-user instead?
- if the debian/adhoc/job file to pre-compute some data is recommended, I would prefer if you would include it in sympow proper. However I understand your reservations about touching the math.

> ((Is it that hard to read C source file ?))

Honestly yes, the sympow code is very hard to read for me. Its a mix of very non-standard formatting, a lack of comments and my limited C and domain knowledge. That is why I'm glad that you have taken up the maintenance.

I'll try a `-quiet` wrapper for now.



---

archive/issue_comments_017952.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@timokau](#comment:44):\n> Replying to [@jgmbenoit](#comment:43):\n> > Does -quiet have any other effects besides surpressing that message?  NO. Once again, the custom GNU/Linux behaviour are followed.\n> > \n> > You only issue is that there is a Warning message: I guess it is not necessary to write a wrapper for that. Second, I guess sympow is mainly used by Sage, which acts as wrapper.\n\n> \n> That is the only blocking issue, but it would still be better to be able to pre-compute the global cache at build time instead of lazily computing it at runtime. You didn't respond to all of my questions, which is understandable considering what a monster of message that was. So I'll summarize:\n> \n> - could the global cache reasonably be pre-computed at build time?\n\nNo for security reasons: those files are binary files: for security matter you want to avoid to distribute binary files. Anyway, their computation time is very short: the hard part is contained in the corresponding clear data.\n\n> - does sympow without a global cache behave exatly as usual, just computing the cache per-user instead?\n\nYes. \n\n> - if the debian/adhoc/job file to pre-compute some data is recommended, I would prefer if you would include it in sympow proper. However I understand your reservations about touching the math.\n\nI plan to incorporated them latter: the issue is now time.\n\n> \n> > ((Is it that hard to read C source file ?))\n\n> \n> Honestly yes, the sympow code is very hard to read for me. Its a mix of very non-standard formatting, a lack of comments and my limited C and domain knowledge. That is why I'm glad that you have taken up the maintenance.\n> \n> I'll try a `-quiet` wrapper for now.\n\nI would forget it and spend my time else where.\n\nI plan to change the verbosity level of this message (once I have time before me).\n\nJerome",
    "created_at": "2018-08-27T11:03:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17952",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@timokau](#comment:44):
> Replying to [@jgmbenoit](#comment:43):
> > Does -quiet have any other effects besides surpressing that message?  NO. Once again, the custom GNU/Linux behaviour are followed.
> > 
> > You only issue is that there is a Warning message: I guess it is not necessary to write a wrapper for that. Second, I guess sympow is mainly used by Sage, which acts as wrapper.

> 
> That is the only blocking issue, but it would still be better to be able to pre-compute the global cache at build time instead of lazily computing it at runtime. You didn't respond to all of my questions, which is understandable considering what a monster of message that was. So I'll summarize:
> 
> - could the global cache reasonably be pre-computed at build time?

No for security reasons: those files are binary files: for security matter you want to avoid to distribute binary files. Anyway, their computation time is very short: the hard part is contained in the corresponding clear data.

> - does sympow without a global cache behave exatly as usual, just computing the cache per-user instead?

Yes. 

> - if the debian/adhoc/job file to pre-compute some data is recommended, I would prefer if you would include it in sympow proper. However I understand your reservations about touching the math.

I plan to incorporated them latter: the issue is now time.

> 
> > ((Is it that hard to read C source file ?))

> 
> Honestly yes, the sympow code is very hard to read for me. Its a mix of very non-standard formatting, a lack of comments and my limited C and domain knowledge. That is why I'm glad that you have taken up the maintenance.
> 
> I'll try a `-quiet` wrapper for now.

I would forget it and spend my time else where.

I plan to change the verbosity level of this message (once I have time before me).

Jerome



---

archive/issue_comments_017953.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@jgmbenoit](#comment:45):\n> Replying to [@timokau](#comment:44):\n> > - could the global cache reasonably be pre-computed at build time?\n\n> \n> No for security reasons: those files are binary files: for security matter you want to avoid to distribute binary files. Anyway, their computation time is very short: the hard part is contained in the corresponding clear data.\n\nI don't understand what you mean. The `sympow` binary is also a distributed binary file. The data would be computed in the build script just as the executables would be. Any user could verify that by building it themselves.\n\n> > I'll try a `-quiet` wrapper for now.\n\n> \n> I would forget it and spend my time else where.\n> \n> I plan to change the verbosity level of this message (once I have time before me).\n\nWell it seems to break sages parsing, so I'll need to add that wrapper. After that sages tests still fail. I'm now trying to update sages spkg first to find out if thats a quirk with nix's build system or a parsing issue.\nHowever while packaging the spkg I've hit another issue: the `./Configure` script now relies on autotools to generate the endian tuple. autotools apparently is an \"experimental\" package that currently isn't included in the sage distribution by default. I would replace it by this python script:\n\n```\nimport sys\nimport platform\n\nif sys.byteorder == \"little\":\n    endian = \"le\"\nelse:\n    endian = \"be\"\n\nbits = platform.architecture()[0][:-3]\n\n# for example \"le64\" or \"be32\"\nprint(endian + bits)\n```\n\nIs that correct?",
    "created_at": "2018-08-27T14:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17953",
    "user": "https://github.com/timokau"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@jgmbenoit](#comment:45):
> Replying to [@timokau](#comment:44):
> > - could the global cache reasonably be pre-computed at build time?

> 
> No for security reasons: those files are binary files: for security matter you want to avoid to distribute binary files. Anyway, their computation time is very short: the hard part is contained in the corresponding clear data.

I don't understand what you mean. The `sympow` binary is also a distributed binary file. The data would be computed in the build script just as the executables would be. Any user could verify that by building it themselves.

> > I'll try a `-quiet` wrapper for now.

> 
> I would forget it and spend my time else where.
> 
> I plan to change the verbosity level of this message (once I have time before me).

Well it seems to break sages parsing, so I'll need to add that wrapper. After that sages tests still fail. I'm now trying to update sages spkg first to find out if thats a quirk with nix's build system or a parsing issue.
However while packaging the spkg I've hit another issue: the `./Configure` script now relies on autotools to generate the endian tuple. autotools apparently is an "experimental" package that currently isn't included in the sage distribution by default. I would replace it by this python script:

```
import sys
import platform

if sys.byteorder == "little":
    endian = "le"
else:
    endian = "be"

bits = platform.architecture()[0][:-3]

# for example "le64" or "be32"
print(endian + bits)
```

Is that correct?



---

archive/issue_comments_017954.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@timokau](#comment:46):\n> Replying to [@jgmbenoit](#comment:45):\n> > Replying to [@timokau](#comment:44):\n> > > - could the global cache reasonably be pre-computed at build time?\n\n> > \n> > No for security reasons: those files are binary files: for security matter you want to avoid to distribute binary files. Anyway, their computation time is very short: the hard part is contained in the corresponding clear data.\n\n> \n> I don't understand what you mean. The `sympow` binary is also a distributed binary file. The data would be computed in the build script just as the executables would be. Any user could verify that by building it themselves.\n\nthe data are stored as binary, so the data binary file can be detected as an arbitrary binary file,\nnamely as a suspicious file.\n\nOn my box:\n\n$ file ~/.sympow/datafiles/le64/P014M.bin\n\ngives\n\n$ /home/jgmb/.sympow/datafiles/le64/P014M.bin: data\n\nFor any regular binary files, file(1) should be able to identified.\n\n\n> \n> > > I'll try a `-quiet` wrapper for now.\n\n> > \n> > I would forget it and spend my time else where.\n> > \n> > I plan to change the verbosity level of this message (once I have time before me).\n\n> \n> Well it seems to break sages parsing, so I'll need to add that wrapper. After that sages tests still fail. I'm now trying to update sages spkg first to find out if thats a quirk with nix's build system or a parsing issue.\n\n\nThis is indeed an issue.\n\n\n> However while packaging the spkg I've hit another issue: the `./Configure` script now relies on autotools to generate the endian tuple. autotools apparently is an \"experimental\" package that currently isn't included in the sage distribution by default. I would replace it by this python script:\n> \n> ```\n> import sys\n> import platform\n> \n> if sys.byteorder == \"little\":\n>     endian = \"le\"\n> else:\n>     endian = \"be\"\n> \n> bits = platform.architecture()[0][:-3]\n> \n> # for example \"le64\" or \"be32\"\n> print(endian + bits)\n> ```\n> \n> Is that correct?\n\n\nit looks correct.",
    "created_at": "2018-08-27T15:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17954",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@timokau](#comment:46):
> Replying to [@jgmbenoit](#comment:45):
> > Replying to [@timokau](#comment:44):
> > > - could the global cache reasonably be pre-computed at build time?

> > 
> > No for security reasons: those files are binary files: for security matter you want to avoid to distribute binary files. Anyway, their computation time is very short: the hard part is contained in the corresponding clear data.

> 
> I don't understand what you mean. The `sympow` binary is also a distributed binary file. The data would be computed in the build script just as the executables would be. Any user could verify that by building it themselves.

the data are stored as binary, so the data binary file can be detected as an arbitrary binary file,
namely as a suspicious file.

On my box:

$ file ~/.sympow/datafiles/le64/P014M.bin

gives

$ /home/jgmb/.sympow/datafiles/le64/P014M.bin: data

For any regular binary files, file(1) should be able to identified.


> 
> > > I'll try a `-quiet` wrapper for now.

> > 
> > I would forget it and spend my time else where.
> > 
> > I plan to change the verbosity level of this message (once I have time before me).

> 
> Well it seems to break sages parsing, so I'll need to add that wrapper. After that sages tests still fail. I'm now trying to update sages spkg first to find out if thats a quirk with nix's build system or a parsing issue.


This is indeed an issue.


> However while packaging the spkg I've hit another issue: the `./Configure` script now relies on autotools to generate the endian tuple. autotools apparently is an "experimental" package that currently isn't included in the sage distribution by default. I would replace it by this python script:
> 
> ```
> import sys
> import platform
> 
> if sys.byteorder == "little":
>     endian = "le"
> else:
>     endian = "be"
> 
> bits = platform.architecture()[0][:-3]
> 
> # for example "le64" or "be32"
> print(endian + bits)
> ```
> 
> Is that correct?


it looks correct.



---

archive/issue_comments_017955.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ff111f82f23bd20ce072571d21566774ea2810e\"><code>3ff111f</code></a></td><td><code>Enable fflas_ffpack tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c29badb7d9da504b97c98794d0811e4b74c62651\"><code>c29badb</code></a></td><td><code>Upgrade sympow to 2.23.2</code></td></tr></table>\n",
    "created_at": "2018-08-27T23:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17955",
    "user": "https://github.com/timokau"
}
```

<div id="comment:48"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ff111f82f23bd20ce072571d21566774ea2810e"><code>3ff111f</code></a></td><td><code>Enable fflas_ffpack tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c29badb7d9da504b97c98794d0811e4b74c62651"><code>c29badb</code></a></td><td><code>Upgrade sympow to 2.23.2</code></td></tr></table>




---

archive/issue_comments_017956.json:
```json
{
    "body": "Author: **Timo Kaufmann**",
    "created_at": "2018-08-27T23:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17956",
    "user": "https://github.com/timokau"
}
```

Author: **Timo Kaufmann**



---

archive/issue_comments_017957.json:
```json
{
    "body": "Branch: **[u/gh-timokau/sympow-2.23.2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/sympow-2.23.2)**",
    "created_at": "2018-08-27T23:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17957",
    "user": "https://github.com/timokau"
}
```

Branch: **[u/gh-timokau/sympow-2.23.2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/sympow-2.23.2)**



---

archive/issue_comments_017958.json:
```json
{
    "body": "Commit: **[`c29badb`](https://github.com/sagemath/sagetrac-mirror/commit/c29badb7d9da504b97c98794d0811e4b74c62651)**",
    "created_at": "2018-08-27T23:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17958",
    "user": "https://github.com/timokau"
}
```

Commit: **[`c29badb`](https://github.com/sagemath/sagetrac-mirror/commit/c29badb7d9da504b97c98794d0811e4b74c62651)**



---

archive/issue_comments_017959.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14dd58c287a7e21862188ae833f961b908d17a3c\"><code>14dd58c</code></a></td><td><code>Upgrade sympow to 2.23.2</code></td></tr></table>\n",
    "created_at": "2018-08-27T23:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17959",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14dd58c287a7e21862188ae833f961b908d17a3c"><code>14dd58c</code></a></td><td><code>Upgrade sympow to 2.23.2</code></td></tr></table>




---

archive/issue_comments_017960.json:
```json
{
    "body": "Changed commit from **[`c29badb`](https://github.com/sagemath/sagetrac-mirror/commit/c29badb7d9da504b97c98794d0811e4b74c62651)** to **[`14dd58c`](https://github.com/sagemath/sagetrac-mirror/commit/14dd58c287a7e21862188ae833f961b908d17a3c)**",
    "created_at": "2018-08-27T23:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17960",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c29badb`](https://github.com/sagemath/sagetrac-mirror/commit/c29badb7d9da504b97c98794d0811e4b74c62651)** to **[`14dd58c`](https://github.com/sagemath/sagetrac-mirror/commit/14dd58c287a7e21862188ae833f961b908d17a3c)**



---

archive/issue_comments_017961.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14dd58c287a7e21862188ae833f961b908d17a3c\"><code>14dd58c</code></a></td><td><code>Upgrade sympow to 2.23.2</code></td></tr></table>\n",
    "created_at": "2018-08-27T23:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17961",
    "user": "https://github.com/timokau"
}
```

<div id="comment:50"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14dd58c287a7e21862188ae833f961b908d17a3c"><code>14dd58c</code></a></td><td><code>Upgrade sympow to 2.23.2</code></td></tr></table>




---

archive/issue_events_036008.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-27T23:29:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36008"
}
```



---

archive/issue_comments_017962.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,3 @@\n-Debian already ships Sympow 1.023, see\n+Fork now maintained by the debian sympow maintainer (gh-jgmbenoit).\n \n-- https://tracker.debian.org/pkg/sympow\n-\n+Tarball: https://gitlab.com/rezozer/forks/sympow/-/archive/v2.023.3/sympow-v2.023.3.tar.gz\n``````\n",
    "created_at": "2018-08-27T23:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17962",
    "user": "https://github.com/timokau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,3 @@
-Debian already ships Sympow 1.023, see
+Fork now maintained by the debian sympow maintainer (gh-jgmbenoit).
 
-- https://tracker.debian.org/pkg/sympow
-
+Tarball: https://gitlab.com/rezozer/forks/sympow/-/archive/v2.023.3/sympow-v2.023.3.tar.gz
``````




---

archive/issue_comments_017963.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@jgmbenoit](#comment:47):\n> Replying to [@timokau](#comment:46):\n> > I don't understand what you mean. The `sympow` binary is also a distributed binary file. The data would be computed in the build script just as the executables would be. Any user could verify that by building it themselves.\n\n> \n> the data are stored as binary, so the data binary file can be detected as an arbitrary binary file,\n> namely as a suspicious file.\n\nWhy is a binary data file any more suspicious than a binary executable?\n\n> \n> > However while packaging the spkg I've hit another issue: the `./Configure` script now relies on autotools to generate the endian tuple. autotools apparently is an \"experimental\" package that currently isn't included in the sage distribution by default. I would replace it by this python script:\n> > \n\n[...]\n> \n> \n> it looks correct.\n\nI've implemented it. Its really a shame sagemath doesn't provide autotools by default.",
    "created_at": "2018-08-27T23:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17963",
    "user": "https://github.com/timokau"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@jgmbenoit](#comment:47):
> Replying to [@timokau](#comment:46):
> > I don't understand what you mean. The `sympow` binary is also a distributed binary file. The data would be computed in the build script just as the executables would be. Any user could verify that by building it themselves.

> 
> the data are stored as binary, so the data binary file can be detected as an arbitrary binary file,
> namely as a suspicious file.

Why is a binary data file any more suspicious than a binary executable?

> 
> > However while packaging the spkg I've hit another issue: the `./Configure` script now relies on autotools to generate the endian tuple. autotools apparently is an "experimental" package that currently isn't included in the sage distribution by default. I would replace it by this python script:
> > 

[...]
> 
> 
> it looks correct.

I've implemented it. Its really a shame sagemath doesn't provide autotools by default.



---

archive/issue_comments_017964.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nPoints for reviewers to focus on I'm not sure about:\n\n- this creates a `SAGE_LOCAL/var/cache` folder. There is no precedence for that.\n- it also creates a `.sympow` folder in the user's home directory at runtime. Not sure if that was already the case before.",
    "created_at": "2018-08-27T23:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17964",
    "user": "https://github.com/timokau"
}
```

<div id="comment:52" align="right">comment:52</div>

Points for reviewers to focus on I'm not sure about:

- this creates a `SAGE_LOCAL/var/cache` folder. There is no precedence for that.
- it also creates a `.sympow` folder in the user's home directory at runtime. Not sure if that was already the case before.



---

archive/issue_comments_017965.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@timokau](#comment:51):\n> Replying to [@jgmbenoit](#comment:47):\n> > Replying to [@timokau](#comment:46):\n> > > I don't understand what you mean. The `sympow` binary is also a distributed binary file. The data would be computed in the build script just as the executables would be. Any user could verify that by building it themselves.\n\n> > \n> > the data are stored as binary, so the data binary file can be detected as an arbitrary binary file,\n> > namely as a suspicious file.\n\n> \n> Why is a binary data file any more suspicious than a binary executable?\n\nA binary executable is recognized as such by file(1): so it recognisable as such.\n\n\n> \n> > \n> > > However while packaging the spkg I've hit another issue: the `./Configure` script now relies on autotools to generate the endian tuple. autotools apparently is an \"experimental\" package that currently isn't included in the sage distribution by default. I would replace it by this python script:\n> > > \n\n> [...]\n> > \n> > \n> > it looks correct.\n\n> \n> I've implemented it. Its really a shame sagemath doesn't provide autotools by default.",
    "created_at": "2018-08-28T03:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17965",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@timokau](#comment:51):
> Replying to [@jgmbenoit](#comment:47):
> > Replying to [@timokau](#comment:46):
> > > I don't understand what you mean. The `sympow` binary is also a distributed binary file. The data would be computed in the build script just as the executables would be. Any user could verify that by building it themselves.

> > 
> > the data are stored as binary, so the data binary file can be detected as an arbitrary binary file,
> > namely as a suspicious file.

> 
> Why is a binary data file any more suspicious than a binary executable?

A binary executable is recognized as such by file(1): so it recognisable as such.


> 
> > 
> > > However while packaging the spkg I've hit another issue: the `./Configure` script now relies on autotools to generate the endian tuple. autotools apparently is an "experimental" package that currently isn't included in the sage distribution by default. I would replace it by this python script:
> > > 

> [...]
> > 
> > 
> > it looks correct.

> 
> I've implemented it. Its really a shame sagemath doesn't provide autotools by default.



---

archive/issue_comments_017966.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@jgmbenoit](#comment:53):\n> Replying to [@timokau](#comment:51):\n> > Why is a binary data file any more suspicious than a binary executable?\n\n> \n> A binary executable is recognized as such by file(1): so it recognisable as such.\n\nWhy does that matter? I don't understand why an executable that is recognized as such is any less suspicious or security relevant than a binary data file. The executable is arguably more security relevant.",
    "created_at": "2018-08-28T16:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17966",
    "user": "https://github.com/timokau"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@jgmbenoit](#comment:53):
> Replying to [@timokau](#comment:51):
> > Why is a binary data file any more suspicious than a binary executable?

> 
> A binary executable is recognized as such by file(1): so it recognisable as such.

Why does that matter? I don't understand why an executable that is recognized as such is any less suspicious or security relevant than a binary data file. The executable is arguably more security relevant.



---

archive/issue_events_036009.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-28T19:42:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "title_is": "Upgrade sympow to the 2.023.2 release and also fix Solaris/x86 problem",
    "title_was": "Upgrade sympow to the 1.023 release and also fix Solaris/x86 problem",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36009"
}
```



---

archive/issue_events_036010.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-13T14:33:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36010"
}
```



---

archive/issue_events_036011.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-13T14:33:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36011"
}
```



---

archive/issue_events_036012.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36012"
}
```



---

archive/issue_events_036013.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36013"
}
```



---

archive/issue_comments_017967.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17967",
    "user": "https://github.com/embray"
}
```

<div id="comment:57" align="right">comment:57</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_036014.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36014"
}
```



---

archive/issue_events_036015.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36015"
}
```



---

archive/issue_comments_017968.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17968",
    "user": "https://github.com/embray"
}
```

<div id="comment:58" align="right">comment:58</div>

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_036016.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36016"
}
```



---

archive/issue_events_036017.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36017"
}
```



---

archive/issue_comments_017969.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17969",
    "user": "https://github.com/embray"
}
```

<div id="comment:59" align="right">comment:59</div>

Ticket retargeted after milestone closed



---

archive/issue_comments_017970.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@timokau](#comment:51):\n> I've implemented it. Its really a shame sagemath doesn't provide autotools by default.\n\nAutotools are supposed to be run by maintainers at \"make dist\" time, not at installation time",
    "created_at": "2020-04-01T13:46:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17970",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@timokau](#comment:51):
> I've implemented it. Its really a shame sagemath doesn't provide autotools by default.

Autotools are supposed to be run by maintainers at "make dist" time, not at installation time



---

archive/issue_comments_017971.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nWhat are other distributions doing about sympow? \n\nRunning into compilation errors on Fedora-32 (gcc 10) - https://github.com/mkoeppe/sage/runs/546662577?check_suite_focus=true",
    "created_at": "2020-04-01T13:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17971",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:61" align="right">comment:61</div>

What are other distributions doing about sympow? 

Running into compilation errors on Fedora-32 (gcc 10) - https://github.com/mkoeppe/sage/runs/546662577?check_suite_focus=true



---

archive/issue_events_036018.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-01T14:34:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36018"
}
```



---

archive/issue_events_036019.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-01T14:34:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36019"
}
```



---

archive/issue_comments_017972.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@mkoeppe](#comment:60):\n> Replying to [@timokau](#comment:51):\n> > I've implemented it. Its really a shame sagemath doesn't provide autotools by default.\n\n> \n> Autotools are supposed to be run by maintainers at \"make dist\" time, not at installation time \n\nThis is true.\n\nI have just tried to refresh my memory about:\nbasically the Autotools part jsut run some c code: so I guess that we can replace it with a C source.",
    "created_at": "2020-04-01T15:15:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17972",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@mkoeppe](#comment:60):
> Replying to [@timokau](#comment:51):
> > I've implemented it. Its really a shame sagemath doesn't provide autotools by default.

> 
> Autotools are supposed to be run by maintainers at "make dist" time, not at installation time 

This is true.

I have just tried to refresh my memory about:
basically the Autotools part jsut run some c code: so I guess that we can replace it with a C source.



---

archive/issue_comments_017973.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nReplying to [@mkoeppe](#comment:61):\n> What are other distributions doing about sympow? \n\nWhat do you mean ?\n\n> \n> Running into compilation errors on Fedora-32 (gcc 10) - https://github.com/mkoeppe/sage/runs/546662577?check_suite_focus=true\n\nI have just seen the merge request on gitlab. Next week I might be on vacation, I will a look then.",
    "created_at": "2020-04-01T15:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17973",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:64" align="right">comment:64</div>

Replying to [@mkoeppe](#comment:61):
> What are other distributions doing about sympow? 

What do you mean ?

> 
> Running into compilation errors on Fedora-32 (gcc 10) - https://github.com/mkoeppe/sage/runs/546662577?check_suite_focus=true

I have just seen the merge request on gitlab. Next week I might be on vacation, I will a look then.



---

archive/issue_comments_017974.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nReplying to [@jgmbenoit](#comment:64):\n> Replying to [@mkoeppe](#comment:61):\n> > What are other distributions doing about sympow? \n\nconda-forge, arch, etc. are packaging sage and the packages they need. Just wondering whether they are using the fork, and how they have adjusted the sage interface and doctests if necessary.",
    "created_at": "2020-04-01T15:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17974",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">comment:65</div>

Replying to [@jgmbenoit](#comment:64):
> Replying to [@mkoeppe](#comment:61):
> > What are other distributions doing about sympow? 

conda-forge, arch, etc. are packaging sage and the packages they need. Just wondering whether they are using the fork, and how they have adjusted the sage interface and doctests if necessary.



---

archive/issue_comments_017975.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\n`conda-forge` switched to debian's fork more than a year ago.",
    "created_at": "2020-04-01T15:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17975",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:66" align="right">comment:66</div>

`conda-forge` switched to debian's fork more than a year ago.



---

archive/issue_comments_017976.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nnixpkgs is using the fork as well. I've switched it over here: https://github.com/NixOS/nixpkgs/commit/5e58c5f900e51c4dd89de8a4518c5bb13581f3c6\n\nNo patches to sage were necessary to pass the test suite. I still added a patch that puts the cache directory under the `.sage` directory though: https://github.com/NixOS/nixpkgs/commit/9ef44b34316cb47c0bda49f05c57ca2ea6c96816",
    "created_at": "2020-04-01T15:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17976",
    "user": "https://github.com/timokau"
}
```

<div id="comment:67" align="right">comment:67</div>

nixpkgs is using the fork as well. I've switched it over here: https://github.com/NixOS/nixpkgs/commit/5e58c5f900e51c4dd89de8a4518c5bb13581f3c6

No patches to sage were necessary to pass the test suite. I still added a patch that puts the cache directory under the `.sage` directory though: https://github.com/NixOS/nixpkgs/commit/9ef44b34316cb47c0bda49f05c57ca2ea6c96816



---

archive/issue_comments_017977.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nAnything missing on this ticket other than rebasing?",
    "created_at": "2020-04-01T15:53:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17977",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:68" align="right">comment:68</div>

Anything missing on this ticket other than rebasing?



---

archive/issue_comments_017978.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nReplying to [@timokau](#comment:52):\n> Points for reviewers to focus on I'm not sure about:\n> \n> - this creates a `SAGE_LOCAL/var/cache` folder. There is no precedence for that.\n> - it also creates a `.sympow` folder in the user's home directory at runtime. Not sure if that was already the case before.\n\nThis is probably still relevant. Other than that, I don't remember. I won't continue working on this for now, so anybody else should feel free to pick this up.",
    "created_at": "2020-04-01T17:15:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17978",
    "user": "https://github.com/timokau"
}
```

<div id="comment:69" align="right">comment:69</div>

Replying to [@timokau](#comment:52):
> Points for reviewers to focus on I'm not sure about:
> 
> - this creates a `SAGE_LOCAL/var/cache` folder. There is no precedence for that.
> - it also creates a `.sympow` folder in the user's home directory at runtime. Not sure if that was already the case before.

This is probably still relevant. Other than that, I don't remember. I won't continue working on this for now, so anybody else should feel free to pick this up.



---

archive/issue_events_036020.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-03T09:53:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36020"
}
```



---

archive/issue_events_036021.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-03T09:53:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36021"
}
```



---

archive/issue_comments_017979.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@jgmbenoit](#comment:63):\n> Replying to [@mkoeppe](#comment:60):\n> > Replying to [@timokau](#comment:51):\n> > > I've implemented it. Its really a shame sagemath doesn't provide autotools by default.\n\n> > \n> > Autotools are supposed to be run by maintainers at \"make dist\" time, not at installation time \n\n> \n> This is true.\n> \n> I have just tried to refresh my memory about:\n> basically the Autotools part jsut run some c code: so I guess that we can replace it with a C source.\n\nIn version 2.023.6, the autotools dependency was discarded: the endianess is now determine via a C program. Please check it on exotic architectures if you can, and let me know if any issue arises.",
    "created_at": "2020-04-17T06:38:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17979",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@jgmbenoit](#comment:63):
> Replying to [@mkoeppe](#comment:60):
> > Replying to [@timokau](#comment:51):
> > > I've implemented it. Its really a shame sagemath doesn't provide autotools by default.

> > 
> > Autotools are supposed to be run by maintainers at "make dist" time, not at installation time 

> 
> This is true.
> 
> I have just tried to refresh my memory about:
> basically the Autotools part jsut run some c code: so I guess that we can replace it with a C source.

In version 2.023.6, the autotools dependency was discarded: the endianess is now determine via a C program. Please check it on exotic architectures if you can, and let me know if any issue arises.



---

archive/issue_comments_017980.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nReplying to [@jgmbenoit](#comment:64):\n> Replying to [@mkoeppe](#comment:61):\n> > What are other distributions doing about sympow? \n\n> \n> What do you mean ?\n> \n> > \n> > Running into compilation errors on Fedora-32 (gcc 10) - https://github.com/mkoeppe/sage/runs/546662577?check_suite_focus=true\n\n> \n> I have just seen the merge request on gitlab. Next week I might be on vacation, I will a look then.\n\nI applied the patch in version 2.023.6 .",
    "created_at": "2020-04-17T06:41:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17980",
    "user": "https://github.com/jgmbenoit"
}
```

<div id="comment:72" align="right">comment:72</div>

Replying to [@jgmbenoit](#comment:64):
> Replying to [@mkoeppe](#comment:61):
> > What are other distributions doing about sympow? 

> 
> What do you mean ?
> 
> > 
> > Running into compilation errors on Fedora-32 (gcc 10) - https://github.com/mkoeppe/sage/runs/546662577?check_suite_focus=true

> 
> I have just seen the merge request on gitlab. Next week I might be on vacation, I will a look then.

I applied the patch in version 2.023.6 .



---

archive/issue_comments_017981.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nReplying to [@timokau](#comment:69):\n> Replying to [@timokau](#comment:52):\n> > Points for reviewers to focus on I'm not sure about:\n> > \n> > - this creates a `SAGE_LOCAL/var/cache` folder. There is no precedence for that.\n> > - it also creates a `.sympow` folder in the user's home directory at runtime. Not sure if that was already the case before.\n\n> \n> This is probably still relevant. Other than that, I don't remember. I won't continue working on this for now, so anybody else should feel free to pick this up.\n\n\nIf sage-the-distribution still supports multi-user installs, that location will generally not be writable. The default of `$HOME/.sympow` is probably the best you can do. And given that this is binary data and the quality of the code, I'm not sure that it's wise to share the cache among a \"sympow\" group anywhere else. So FWIW I would leave it at the default.",
    "created_at": "2020-05-12T19:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17981",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:74" align="right">comment:74</div>

Replying to [@timokau](#comment:69):
> Replying to [@timokau](#comment:52):
> > Points for reviewers to focus on I'm not sure about:
> > 
> > - this creates a `SAGE_LOCAL/var/cache` folder. There is no precedence for that.
> > - it also creates a `.sympow` folder in the user's home directory at runtime. Not sure if that was already the case before.

> 
> This is probably still relevant. Other than that, I don't remember. I won't continue working on this for now, so anybody else should feel free to pick this up.


If sage-the-distribution still supports multi-user installs, that location will generally not be writable. The default of `$HOME/.sympow` is probably the best you can do. And given that this is binary data and the quality of the code, I'm not sure that it's wise to share the cache among a "sympow" group anywhere else. So FWIW I would leave it at the default.



---

archive/issue_comments_017982.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nReplying to [@orlitzky](#comment:74):\n> \n> If sage-the-distribution still supports multi-user installs, that location will generally not be writable. The default of `$HOME/.sympow` is probably the best you can do.\n\nActually, there are two different cache directories to worry about. The one that defaults to `$HOME/.sympow` is different from the one that goes under `VARPREFIX`. I'm not sure what to do about that one; a wrapper or launcher script (that overrides that directory and uses something under `$HOME`) is the only way I've been able to make it work so far. More details eventually on https://gitlab.com/rezozer/forks/sympow/-/issues/3",
    "created_at": "2020-05-15T14:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17982",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:75" align="right">comment:75</div>

Replying to [@orlitzky](#comment:74):
> 
> If sage-the-distribution still supports multi-user installs, that location will generally not be writable. The default of `$HOME/.sympow` is probably the best you can do.

Actually, there are two different cache directories to worry about. The one that defaults to `$HOME/.sympow` is different from the one that goes under `VARPREFIX`. I'm not sure what to do about that one; a wrapper or launcher script (that overrides that directory and uses something under `$HOME`) is the only way I've been able to make it work so far. More details eventually on https://gitlab.com/rezozer/forks/sympow/-/issues/3



---

archive/issue_comments_017983.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nReplying to [@orlitzky](#comment:75):\n> Replying to [@orlitzky](#comment:74):\n> > \n> > If sage-the-distribution still supports multi-user installs, that location will generally not be writable. The default of `$HOME/.sympow` is probably the best you can do.\n\n> \n> Actually, there are two different cache directories to worry about. The one that defaults to `$HOME/.sympow` is different from the one that goes under `VARPREFIX`.\n\nThis is true, but turns out to not be a problem. The fork tries to use the directory under `VARPREFIX`, and if that doesn't work, it falls back to using `$HOME/.sympow` for that data as well. The only \"problem\" with that is that a warning is displayed to the user if he runs sympow by hand.\n\nSo, the sage SPKG should leave `VARPREFIX` alone. In Gentoo I'm going to patch out the expected warning (see the gitlab issue), and that may make sense for sage as well since `/var` will not generally be writable by whoever is running sage. The data will ultimately get stored under `$HOME/.sympow`, and that's what we want in the SPKG.",
    "created_at": "2020-05-16T12:46:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17983",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:76" align="right">comment:76</div>

Replying to [@orlitzky](#comment:75):
> Replying to [@orlitzky](#comment:74):
> > 
> > If sage-the-distribution still supports multi-user installs, that location will generally not be writable. The default of `$HOME/.sympow` is probably the best you can do.

> 
> Actually, there are two different cache directories to worry about. The one that defaults to `$HOME/.sympow` is different from the one that goes under `VARPREFIX`.

This is true, but turns out to not be a problem. The fork tries to use the directory under `VARPREFIX`, and if that doesn't work, it falls back to using `$HOME/.sympow` for that data as well. The only "problem" with that is that a warning is displayed to the user if he runs sympow by hand.

So, the sage SPKG should leave `VARPREFIX` alone. In Gentoo I'm going to patch out the expected warning (see the gitlab issue), and that may make sense for sage as well since `/var` will not generally be writable by whoever is running sage. The data will ultimately get stored under `$HOME/.sympow`, and that's what we want in the SPKG.



---

archive/issue_comments_017984.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nReplying to [@orlitzky](#comment:75):\n> Replying to [@orlitzky](#comment:74):\n> > \n> > If sage-the-distribution still supports multi-user installs, that location will generally not be writable. The default of `$HOME/.sympow` is probably the best you can do.\n\n> \n> Actually, there are two different cache directories to worry about. The one that defaults to `$HOME/.sympow` is different from the one that goes under `VARPREFIX`. I'm not sure what to do about that one; a wrapper or launcher script (that overrides that directory and uses something under `$HOME`) is the only way I've been able to make it work so far. More details eventually on https://gitlab.com/rezozer/forks/sympow/-/issues/3\n\nThere was already quite a bit of discussion about this issue here, see the posts following this message: [#3360 comment:35](https://github.com/sagemath/sage/issues/3360#comment:35)\n\nFor nixpkgs, I decided to use a wrapper instead of a patch: https://github.com/NixOS/nixpkgs/blob/962f93c46b1eaaedbc118c06adfd439ce341a0db/pkgs/development/libraries/science/math/sympow/default.nix#L44",
    "created_at": "2020-05-18T16:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17984",
    "user": "https://github.com/timokau"
}
```

<div id="comment:77" align="right">comment:77</div>

Replying to [@orlitzky](#comment:75):
> Replying to [@orlitzky](#comment:74):
> > 
> > If sage-the-distribution still supports multi-user installs, that location will generally not be writable. The default of `$HOME/.sympow` is probably the best you can do.

> 
> Actually, there are two different cache directories to worry about. The one that defaults to `$HOME/.sympow` is different from the one that goes under `VARPREFIX`. I'm not sure what to do about that one; a wrapper or launcher script (that overrides that directory and uses something under `$HOME`) is the only way I've been able to make it work so far. More details eventually on https://gitlab.com/rezozer/forks/sympow/-/issues/3

There was already quite a bit of discussion about this issue here, see the posts following this message: [#3360 comment:35](https://github.com/sagemath/sage/issues/3360#comment:35)

For nixpkgs, I decided to use a wrapper instead of a patch: https://github.com/NixOS/nixpkgs/blob/962f93c46b1eaaedbc118c06adfd439ce341a0db/pkgs/development/libraries/science/math/sympow/default.nix#L44



---

archive/issue_events_036022.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T19:59:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "title_is": "Upgrade sympow to 2.023.6",
    "title_was": "Upgrade sympow to the 2.023.2 release and also fix Solaris/x86 problem",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36022"
}
```



---

archive/issue_comments_017985.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Fork now maintained by the debian sympow maintainer (gh-jgmbenoit).\n \n-Tarball: https://gitlab.com/rezozer/forks/sympow/-/archive/v2.023.3/sympow-v2.023.3.tar.gz\n+https://gitlab.com/rezozer/forks/sympow\n``````\n",
    "created_at": "2020-06-14T19:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17985",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Fork now maintained by the debian sympow maintainer (gh-jgmbenoit).
 
-Tarball: https://gitlab.com/rezozer/forks/sympow/-/archive/v2.023.3/sympow-v2.023.3.tar.gz
+https://gitlab.com/rezozer/forks/sympow
``````




---

archive/issue_events_036023.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T20:00:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "title_is": "Upgrade sympow to 2.023.6 (for GCC 10 support)",
    "title_was": "Upgrade sympow to 2.023.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36023"
}
```



---

archive/issue_events_036024.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T20:00:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36024"
}
```



---

archive/issue_events_036025.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T20:00:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36025"
}
```



---

archive/issue_comments_017986.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n Fork now maintained by the debian sympow maintainer (gh-jgmbenoit).\n \n https://gitlab.com/rezozer/forks/sympow\n+\n+See also:\n+- #25856 Elliptic curve failures in 8.3.rc0: sympow issue\n``````\n",
    "created_at": "2020-06-26T16:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17986",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 Fork now maintained by the debian sympow maintainer (gh-jgmbenoit).
 
 https://gitlab.com/rezozer/forks/sympow
+
+See also:
+- #25856 Elliptic curve failures in 8.3.rc0: sympow issue
``````




---

archive/issue_comments_017987.json:
```json
{
    "body": "Changed branch from **[u/gh-timokau/sympow-2.23.2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/sympow-2.23.2)** to **[u/mkoeppe/sympow-2.23.2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sympow-2.23.2)**",
    "created_at": "2020-07-05T17:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17987",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/gh-timokau/sympow-2.23.2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/sympow-2.23.2)** to **[u/mkoeppe/sympow-2.23.2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sympow-2.23.2)**



---

archive/issue_comments_017988.json:
```json
{
    "body": "<div id=\"comment:83\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1255d0470f88ee57a13e337f0edb05b4c80422a\"><code>d1255d0</code></a></td><td><code>build/pkgs/sympow: Update to 2.023.6, add upstream_url</code></td></tr></table>\n",
    "created_at": "2020-07-05T17:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17988",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:83"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1255d0470f88ee57a13e337f0edb05b4c80422a"><code>d1255d0</code></a></td><td><code>build/pkgs/sympow: Update to 2.023.6, add upstream_url</code></td></tr></table>




---

archive/issue_comments_017989.json:
```json
{
    "body": "Changed commit from **[`14dd58c`](https://github.com/sagemath/sagetrac-mirror/commit/14dd58c287a7e21862188ae833f961b908d17a3c)** to **[`d1255d0`](https://github.com/sagemath/sagetrac-mirror/commit/d1255d0470f88ee57a13e337f0edb05b4c80422a)**",
    "created_at": "2020-07-05T17:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17989",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14dd58c`](https://github.com/sagemath/sagetrac-mirror/commit/14dd58c287a7e21862188ae833f961b908d17a3c)** to **[`d1255d0`](https://github.com/sagemath/sagetrac-mirror/commit/d1255d0470f88ee57a13e337f0edb05b4c80422a)**



---

archive/issue_comments_017990.json:
```json
{
    "body": "<div id=\"comment:84\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61202922f683ebb9c6548a1205d1b1e5c8317d2d\"><code>6120292</code></a></td><td><code>build/pkgs/sympow/patches/0001-Remove-the-ENDIANTUPLE-detection.patch: Remove</code></td></tr></table>\n",
    "created_at": "2020-07-05T17:51:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17990",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61202922f683ebb9c6548a1205d1b1e5c8317d2d"><code>6120292</code></a></td><td><code>build/pkgs/sympow/patches/0001-Remove-the-ENDIANTUPLE-detection.patch: Remove</code></td></tr></table>




---

archive/issue_comments_017991.json:
```json
{
    "body": "Changed commit from **[`d1255d0`](https://github.com/sagemath/sagetrac-mirror/commit/d1255d0470f88ee57a13e337f0edb05b4c80422a)** to **[`6120292`](https://github.com/sagemath/sagetrac-mirror/commit/61202922f683ebb9c6548a1205d1b1e5c8317d2d)**",
    "created_at": "2020-07-05T17:51:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17991",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d1255d0`](https://github.com/sagemath/sagetrac-mirror/commit/d1255d0470f88ee57a13e337f0edb05b4c80422a)** to **[`6120292`](https://github.com/sagemath/sagetrac-mirror/commit/61202922f683ebb9c6548a1205d1b1e5c8317d2d)**



---

archive/issue_comments_017992.json:
```json
{
    "body": "<div id=\"comment:85\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fd14222a656332d2e7a1a85c621dd2e748467cd\"><code>8fd1422</code></a></td><td><code>build/pkgs/sympow: Remove old endiantuple configure workarounds</code></td></tr></table>\n",
    "created_at": "2020-07-05T17:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17992",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:85"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fd14222a656332d2e7a1a85c621dd2e748467cd"><code>8fd1422</code></a></td><td><code>build/pkgs/sympow: Remove old endiantuple configure workarounds</code></td></tr></table>




---

archive/issue_comments_017993.json:
```json
{
    "body": "Changed commit from **[`6120292`](https://github.com/sagemath/sagetrac-mirror/commit/61202922f683ebb9c6548a1205d1b1e5c8317d2d)** to **[`8fd1422`](https://github.com/sagemath/sagetrac-mirror/commit/8fd14222a656332d2e7a1a85c621dd2e748467cd)**",
    "created_at": "2020-07-05T17:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17993",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6120292`](https://github.com/sagemath/sagetrac-mirror/commit/61202922f683ebb9c6548a1205d1b1e5c8317d2d)** to **[`8fd1422`](https://github.com/sagemath/sagetrac-mirror/commit/8fd14222a656332d2e7a1a85c621dd2e748467cd)**



---

archive/issue_comments_017994.json:
```json
{
    "body": "Changed author from **Timo Kaufmann** to **Timo Kaufmann, Matthias Koeppe**",
    "created_at": "2020-07-05T17:56:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17994",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Timo Kaufmann** to **Timo Kaufmann, Matthias Koeppe**



---

archive/issue_events_036026.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T17:56:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36026"
}
```



---

archive/issue_events_036027.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T17:56:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36027"
}
```



---

archive/issue_comments_017995.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nBuilds on macOS, haven't tested anything else yet.",
    "created_at": "2020-07-05T17:57:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17995",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:87" align="right">comment:87</div>

Builds on macOS, haven't tested anything else yet.



---

archive/issue_comments_017996.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,7 @@\n \n https://gitlab.com/rezozer/forks/sympow\n \n+Upstream URL: see tox.ini\n+\n See also:\n - #25856 Elliptic curve failures in 8.3.rc0: sympow issue\n``````\n",
    "created_at": "2020-07-05T18:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17996",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,7 @@
 
 https://gitlab.com/rezozer/forks/sympow
 
+Upstream URL: see tox.ini
+
 See also:
 - #25856 Elliptic curve failures in 8.3.rc0: sympow issue
``````




---

archive/issue_comments_017997.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n https://gitlab.com/rezozer/forks/sympow\n \n-Upstream URL: see tox.ini\n+Upstream URL: see checksums.ini\n \n See also:\n - #25856 Elliptic curve failures in 8.3.rc0: sympow issue\n``````\n",
    "created_at": "2020-07-05T18:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17997",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 https://gitlab.com/rezozer/forks/sympow
 
-Upstream URL: see tox.ini
+Upstream URL: see checksums.ini
 
 See also:
 - #25856 Elliptic curve failures in 8.3.rc0: sympow issue
``````




---

archive/issue_comments_017998.json:
```json
{
    "body": "Changed commit from **[`8fd1422`](https://github.com/sagemath/sagetrac-mirror/commit/8fd14222a656332d2e7a1a85c621dd2e748467cd)** to **[`2fede6f`](https://github.com/sagemath/sagetrac-mirror/commit/2fede6f6ae077c086ff5ef4881d5e3cb07ecdbf5)**",
    "created_at": "2020-07-05T18:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17998",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8fd1422`](https://github.com/sagemath/sagetrac-mirror/commit/8fd14222a656332d2e7a1a85c621dd2e748467cd)** to **[`2fede6f`](https://github.com/sagemath/sagetrac-mirror/commit/2fede6f6ae077c086ff5ef4881d5e3cb07ecdbf5)**



---

archive/issue_comments_017999.json:
```json
{
    "body": "<div id=\"comment:90\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90\"><code>539c182</code></a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24\"><code>761092c</code></a></td><td><code>Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5\"><code>f2efa6a</code></a></td><td><code>src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9\"><code>b7bf43b</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e\"><code>365ce61</code></a></td><td><code>Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71\"><code>1e7becc</code></a></td><td><code>tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166\"><code>fb61a31</code></a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fede6f6ae077c086ff5ef4881d5e3cb07ecdbf5\"><code>2fede6f</code></a></td><td><code>Merge branch '9.2.beta3+ci-fixes' into t/3360/sympow-2.23.2</code></td></tr></table>\n",
    "created_at": "2020-07-05T18:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-17999",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:90"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90"><code>539c182</code></a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24"><code>761092c</code></a></td><td><code>Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5"><code>f2efa6a</code></a></td><td><code>src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9"><code>b7bf43b</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e"><code>365ce61</code></a></td><td><code>Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71"><code>1e7becc</code></a></td><td><code>tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166"><code>fb61a31</code></a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fede6f6ae077c086ff5ef4881d5e3cb07ecdbf5"><code>2fede6f</code></a></td><td><code>Merge branch '9.2.beta3+ci-fixes' into t/3360/sympow-2.23.2</code></td></tr></table>




---

archive/issue_comments_018000.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nTests run at https://github.com/mkoeppe/sage/actions/runs/158805080",
    "created_at": "2020-07-06T02:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18000",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:91" align="right">comment:91</div>

Tests run at https://github.com/mkoeppe/sage/actions/runs/158805080



---

archive/issue_comments_018001.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\n\n```\n  [sympow-2.023.6]     File \"/usr/lib/python3.6/urllib/request.py\", line 1952, in http_error\n  [sympow-2.023.6]       return self.http_error_default(url, fp, errcode, errmsg, headers)\n  [sympow-2.023.6]     File \"/cygdrive/d/a/sage/sage/build/bin/../sage_bootstrap/download/transfer.py\", line 107, in http_error_default\n  [sympow-2.023.6]       raise DownloadError(errcode, errmsg, url)\n  [sympow-2.023.6]   OSError: [Errno socket error] [Errno 403] Forbidden: '//gitlab.com/rezozer/forks/sympow/-/archive/v2.023.6/sympow-v2.023.6.tar.gz'\n  [sympow-2.023.6]   \n```",
    "created_at": "2020-07-06T12:31:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18001",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:92" align="right">comment:92</div>


```
  [sympow-2.023.6]     File "/usr/lib/python3.6/urllib/request.py", line 1952, in http_error
  [sympow-2.023.6]       return self.http_error_default(url, fp, errcode, errmsg, headers)
  [sympow-2.023.6]     File "/cygdrive/d/a/sage/sage/build/bin/../sage_bootstrap/download/transfer.py", line 107, in http_error_default
  [sympow-2.023.6]       raise DownloadError(errcode, errmsg, url)
  [sympow-2.023.6]   OSError: [Errno socket error] [Errno 403] Forbidden: '//gitlab.com/rezozer/forks/sympow/-/archive/v2.023.6/sympow-v2.023.6.tar.gz'
  [sympow-2.023.6]   
```



---

archive/issue_comments_018002.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nReplying to [@mkoeppe](#comment:92):\n> \n> ```\n>   [sympow-2.023.6]     File \"/usr/lib/python3.6/urllib/request.py\", line 1952, in http_error\n>   [sympow-2.023.6]       return self.http_error_default(url, fp, errcode, errmsg, headers)\n>   [sympow-2.023.6]     File \"/cygdrive/d/a/sage/sage/build/bin/../sage_bootstrap/download/transfer.py\", line 107, in http_error_default\n>   [sympow-2.023.6]       raise DownloadError(errcode, errmsg, url)\n>   [sympow-2.023.6]   OSError: [Errno socket error] [Errno 403] Forbidden: '//gitlab.com/rezozer/forks/sympow/-/archive/v2.023.6/sympow-v2.023.6.tar.gz'\n>   [sympow-2.023.6]   \n> ```\n\nthe link works from the browser for me.",
    "created_at": "2020-07-06T14:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18002",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:93" align="right">comment:93</div>

Replying to [@mkoeppe](#comment:92):
> 
> ```
>   [sympow-2.023.6]     File "/usr/lib/python3.6/urllib/request.py", line 1952, in http_error
>   [sympow-2.023.6]       return self.http_error_default(url, fp, errcode, errmsg, headers)
>   [sympow-2.023.6]     File "/cygdrive/d/a/sage/sage/build/bin/../sage_bootstrap/download/transfer.py", line 107, in http_error_default
>   [sympow-2.023.6]       raise DownloadError(errcode, errmsg, url)
>   [sympow-2.023.6]   OSError: [Errno socket error] [Errno 403] Forbidden: '//gitlab.com/rezozer/forks/sympow/-/archive/v2.023.6/sympow-v2.023.6.tar.gz'
>   [sympow-2.023.6]   
> ```

the link works from the browser for me.



---

archive/issue_comments_018003.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nhttps://gitlab.com/gitlab-org/gitlab-runner/-/issues/3230",
    "created_at": "2020-07-06T21:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18003",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:94" align="right">comment:94</div>

https://gitlab.com/gitlab-org/gitlab-runner/-/issues/3230



---

archive/issue_comments_018004.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nTests using a temporary github url at https://github.com/mkoeppe/sage/actions/runs/160116395",
    "created_at": "2020-07-07T03:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18004",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:95" align="right">comment:95</div>

Tests using a temporary github url at https://github.com/mkoeppe/sage/actions/runs/160116395



---

archive/issue_comments_018005.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\n`ubuntu-trusty-minimal` (https://github.com/mkoeppe/sage/runs/844024596):\n\n```\ngcc version 4.8.4 (Ubuntu 4.8.4-2ubuntu1~14.04.4) \n****************************************************\nPackage 'sympow' is currently not installed\nNo legacy uninstaller found for 'sympow'; nothing to do\nCFLAGS for SYMPOW: -fno-fast-math -mfpmath=sse -Dx86 -ffp-contract=on \nThe double precision of your FPU is 53 bits.\nCFLAGS for SYMPOW:  -std=gnu11 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH \nThe double precision of your FPU is 53 bits.\nconfig/endiantuple.c:6:2: error: #error \"require C11 or higher\"\n #error \"require C11 or higher\"\n  ^\nError: the command below failed:\ngcc config/endiantuple.c -o config/endiantuple\n********************************************************************************\nError configuring SYMPOW\n```\nLikewise on `debian-jessie-minimal`, `linuxmint-17-minimal`.",
    "created_at": "2020-07-07T16:07:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18005",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:96" align="right">comment:96</div>

`ubuntu-trusty-minimal` (https://github.com/mkoeppe/sage/runs/844024596):

```
gcc version 4.8.4 (Ubuntu 4.8.4-2ubuntu1~14.04.4) 
****************************************************
Package 'sympow' is currently not installed
No legacy uninstaller found for 'sympow'; nothing to do
CFLAGS for SYMPOW: -fno-fast-math -mfpmath=sse -Dx86 -ffp-contract=on 
The double precision of your FPU is 53 bits.
CFLAGS for SYMPOW:  -std=gnu11 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH 
The double precision of your FPU is 53 bits.
config/endiantuple.c:6:2: error: #error "require C11 or higher"
 #error "require C11 or higher"
  ^
Error: the command below failed:
gcc config/endiantuple.c -o config/endiantuple
********************************************************************************
Error configuring SYMPOW
```
Likewise on `debian-jessie-minimal`, `linuxmint-17-minimal`.



---

archive/issue_events_036028.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-07T16:08:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36028"
}
```



---

archive/issue_events_036029.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-07T16:08:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36029"
}
```



---

archive/issue_comments_018006.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nThis is now https://gitlab.com/rezozer/forks/sympow/-/issues/4",
    "created_at": "2020-07-08T18:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18006",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:98" align="right">comment:98</div>

This is now https://gitlab.com/rezozer/forks/sympow/-/issues/4



---

archive/issue_comments_018007.json:
```json
{
    "body": "Changed commit from **[`2fede6f`](https://github.com/sagemath/sagetrac-mirror/commit/2fede6f6ae077c086ff5ef4881d5e3cb07ecdbf5)** to **[`acbc3e8`](https://github.com/sagemath/sagetrac-mirror/commit/acbc3e811fb011462b3ff78537b2fd8b2fda804f)**",
    "created_at": "2020-07-08T18:31:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18007",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2fede6f`](https://github.com/sagemath/sagetrac-mirror/commit/2fede6f6ae077c086ff5ef4881d5e3cb07ecdbf5)** to **[`acbc3e8`](https://github.com/sagemath/sagetrac-mirror/commit/acbc3e811fb011462b3ff78537b2fd8b2fda804f)**



---

archive/issue_comments_018008.json:
```json
{
    "body": "<div id=\"comment:99\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc602600c0c08c4243f8d0be2aa45d8037900dbb\"><code>bc60260</code></a></td><td><code>build/pkgs/sympow/checksums.ini: Use a github URL for testing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acbc3e811fb011462b3ff78537b2fd8b2fda804f\"><code>acbc3e8</code></a></td><td><code>build/pkgs/sympow/spkg-install.in: Remove upstreamed configuration bits</code></td></tr></table>\n",
    "created_at": "2020-07-08T18:31:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18008",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:99"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc602600c0c08c4243f8d0be2aa45d8037900dbb"><code>bc60260</code></a></td><td><code>build/pkgs/sympow/checksums.ini: Use a github URL for testing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acbc3e811fb011462b3ff78537b2fd8b2fda804f"><code>acbc3e8</code></a></td><td><code>build/pkgs/sympow/spkg-install.in: Remove upstreamed configuration bits</code></td></tr></table>




---

archive/issue_comments_018009.json:
```json
{
    "body": "<div id=\"comment:100\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54038914043134c95a5b033e3c8dd30b8f7668bc\"><code>5403891</code></a></td><td><code>build/pkgs/sympow/spkg-install.in: Remove upstreamed configuration C files</code></td></tr></table>\n",
    "created_at": "2020-07-08T18:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18009",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:100"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54038914043134c95a5b033e3c8dd30b8f7668bc"><code>5403891</code></a></td><td><code>build/pkgs/sympow/spkg-install.in: Remove upstreamed configuration C files</code></td></tr></table>




---

archive/issue_comments_018010.json:
```json
{
    "body": "Changed commit from **[`acbc3e8`](https://github.com/sagemath/sagetrac-mirror/commit/acbc3e811fb011462b3ff78537b2fd8b2fda804f)** to **[`5403891`](https://github.com/sagemath/sagetrac-mirror/commit/54038914043134c95a5b033e3c8dd30b8f7668bc)**",
    "created_at": "2020-07-08T18:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18010",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`acbc3e8`](https://github.com/sagemath/sagetrac-mirror/commit/acbc3e811fb011462b3ff78537b2fd8b2fda804f)** to **[`5403891`](https://github.com/sagemath/sagetrac-mirror/commit/54038914043134c95a5b033e3c8dd30b8f7668bc)**



---

archive/issue_comments_018011.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2020-07-08T18:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18011",
    "user": "https://github.com/mkoeppe"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_018012.json:
```json
{
    "body": "<div id=\"comment:102\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ef375ea861186460cb02f9cfce01000e206371b\"><code>1ef375e</code></a></td><td><code>build/pkgs/sympow/patches/0001-Configure-Use-the-discovered-CFLAGS-for-the-next-tes.patch: New</code></td></tr></table>\n",
    "created_at": "2020-07-08T19:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18012",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:102"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ef375ea861186460cb02f9cfce01000e206371b"><code>1ef375e</code></a></td><td><code>build/pkgs/sympow/patches/0001-Configure-Use-the-discovered-CFLAGS-for-the-next-tes.patch: New</code></td></tr></table>




---

archive/issue_comments_018013.json:
```json
{
    "body": "Changed commit from **[`5403891`](https://github.com/sagemath/sagetrac-mirror/commit/54038914043134c95a5b033e3c8dd30b8f7668bc)** to **[`1ef375e`](https://github.com/sagemath/sagetrac-mirror/commit/1ef375ea861186460cb02f9cfce01000e206371b)**",
    "created_at": "2020-07-08T19:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18013",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5403891`](https://github.com/sagemath/sagetrac-mirror/commit/54038914043134c95a5b033e3c8dd30b8f7668bc)** to **[`1ef375e`](https://github.com/sagemath/sagetrac-mirror/commit/1ef375ea861186460cb02f9cfce01000e206371b)**



---

archive/issue_events_036030.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-08T19:11:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36030"
}
```



---

archive/issue_events_036031.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-08T19:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36031"
}
```



---

archive/issue_comments_018014.json:
```json
{
    "body": "<div id=\"comment:104\" align=\"right\">comment:104</div>\n\nTests run at https://github.com/mkoeppe/sage/pull/41/checks?check_run_id=851182060",
    "created_at": "2020-07-08T19:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18014",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:104" align="right">comment:104</div>

Tests run at https://github.com/mkoeppe/sage/pull/41/checks?check_run_id=851182060



---

archive/issue_comments_018015.json:
```json
{
    "body": "<div id=\"comment:105\" align=\"right\">comment:105</div>\n\n(comment for the wrong ticket)",
    "created_at": "2020-07-09T18:13:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18015",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:105" align="right">comment:105</div>

(comment for the wrong ticket)



---

archive/issue_events_036032.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-09T18:13:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36032"
}
```



---

archive/issue_events_036033.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-09T18:13:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36033"
}
```



---

archive/issue_events_036034.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-09T18:14:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36034"
}
```



---

archive/issue_events_036035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-09T18:14:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36035"
}
```



---

archive/issue_comments_018016.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\nTests look OK. Ready for review",
    "created_at": "2020-07-09T18:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18016",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:107" align="right">comment:107</div>

Tests look OK. Ready for review



---

archive/issue_comments_018017.json:
```json
{
    "body": "<div id=\"comment:108\" align=\"right\">comment:108</div>\n\ndo you test with gcc10?",
    "created_at": "2020-07-09T20:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18017",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:108" align="right">comment:108</div>

do you test with gcc10?



---

archive/issue_comments_018018.json:
```json
{
    "body": "<div id=\"comment:109\" align=\"right\">comment:109</div>\n\nHaven't yet. I trust upstream there",
    "created_at": "2020-07-09T20:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18018",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:109" align="right">comment:109</div>

Haven't yet. I trust upstream there



---

archive/issue_comments_018019.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nWe can reuse #30067 as a GCC 10 upgrade test ticket",
    "created_at": "2020-07-09T20:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18019",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:110" align="right">comment:110</div>

We can reuse #30067 as a GCC 10 upgrade test ticket



---

archive/issue_comments_018020.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">comment:111</div>\n\nor #29456",
    "created_at": "2020-07-09T20:25:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18020",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:111" align="right">comment:111</div>

or #29456



---

archive/issue_comments_018021.json:
```json
{
    "body": "<div id=\"comment:112\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/283685ce1155daf1f0ae6169756917f797ff20a9\"><code>283685c</code></a></td><td><code>Merge tag '9.2.beta4' into t/3360/sympow-2.23.2</code></td></tr></table>\n",
    "created_at": "2020-07-10T07:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18021",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:112"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/283685ce1155daf1f0ae6169756917f797ff20a9"><code>283685c</code></a></td><td><code>Merge tag '9.2.beta4' into t/3360/sympow-2.23.2</code></td></tr></table>




---

archive/issue_comments_018022.json:
```json
{
    "body": "Changed commit from **[`1ef375e`](https://github.com/sagemath/sagetrac-mirror/commit/1ef375ea861186460cb02f9cfce01000e206371b)** to **[`283685c`](https://github.com/sagemath/sagetrac-mirror/commit/283685ce1155daf1f0ae6169756917f797ff20a9)**",
    "created_at": "2020-07-10T07:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18022",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1ef375e`](https://github.com/sagemath/sagetrac-mirror/commit/1ef375ea861186460cb02f9cfce01000e206371b)** to **[`283685c`](https://github.com/sagemath/sagetrac-mirror/commit/283685ce1155daf1f0ae6169756917f797ff20a9)**



---

archive/issue_comments_018023.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">comment:113</div>\n\nReplying to [@mkoeppe](#comment:111):\n> or #29456\n\nGCC10 testing is happening on #29456 now.",
    "created_at": "2020-07-10T17:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18023",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:113" align="right">comment:113</div>

Replying to [@mkoeppe](#comment:111):
> or #29456

GCC10 testing is happening on #29456 now.



---

archive/issue_comments_018024.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nBut this ticket does not need to wait for it -- ready for review.",
    "created_at": "2020-07-10T17:49:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18024",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:114" align="right">comment:114</div>

But this ticket does not need to wait for it -- ready for review.



---

archive/issue_comments_018025.json:
```json
{
    "body": "<div id=\"comment:116\" align=\"right\">comment:116</div>\n\n`sympow` builds OK on all platforms (including with gcc 10 for `fedora-32-minimal`) at https://github.com/mkoeppe/sage/actions/runs/168165380\n\nHowever, I see many test failures in sagelib that seem related to `sympow` in `fedora-32-standard` (https://github.com/mkoeppe/sage/runs/867731204) -- where `sympow` comes from the system after #29673!\n\n```\n**********************************************************************\nFile \"src/sage/lfunctions/sympow.py\", line 225, in sage.lfunctions.sympow.Sympow.modular_degree\nFailed example:\n    sympow.modular_degree(EllipticCurve('11a'))\nException raised:\n    Traceback (most recent call last):\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 707, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1132, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.lfunctions.sympow.Sympow.modular_degree[0]>\", line 1, in <module>\n        sympow.modular_degree(EllipticCurve('11a'))\n      File \"/sage/local/lib/python3.7/site-packages/sage/lfunctions/sympow.py\", line 241, in modular_degree\n        raise RuntimeError(\"failed to compute modular degree\")\n    RuntimeError: failed to compute modular degree\n----------------------------------------------------------------------\nsage -t src/sage/lfunctions/sympow.py  # 10 doctests failed\nsage -t src/sage/modular/abvar/abvar.py  # 1 doctest failed\nsage -t src/sage/modular/hecke/submodule.py  # 1 doctest failed\nsage -t src/sage/schemes/elliptic_curves/ell_rational_field.py  # 14 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2020-07-14T22:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18025",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:116" align="right">comment:116</div>

`sympow` builds OK on all platforms (including with gcc 10 for `fedora-32-minimal`) at https://github.com/mkoeppe/sage/actions/runs/168165380

However, I see many test failures in sagelib that seem related to `sympow` in `fedora-32-standard` (https://github.com/mkoeppe/sage/runs/867731204) -- where `sympow` comes from the system after #29673!

```
**********************************************************************
File "src/sage/lfunctions/sympow.py", line 225, in sage.lfunctions.sympow.Sympow.modular_degree
Failed example:
    sympow.modular_degree(EllipticCurve('11a'))
Exception raised:
    Traceback (most recent call last):
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 707, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1132, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.lfunctions.sympow.Sympow.modular_degree[0]>", line 1, in <module>
        sympow.modular_degree(EllipticCurve('11a'))
      File "/sage/local/lib/python3.7/site-packages/sage/lfunctions/sympow.py", line 241, in modular_degree
        raise RuntimeError("failed to compute modular degree")
    RuntimeError: failed to compute modular degree
----------------------------------------------------------------------
sage -t src/sage/lfunctions/sympow.py  # 10 doctests failed
sage -t src/sage/modular/abvar/abvar.py  # 1 doctest failed
sage -t src/sage/modular/hecke/submodule.py  # 1 doctest failed
sage -t src/sage/schemes/elliptic_curves/ell_rational_field.py  # 14 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_018026.json:
```json
{
    "body": "<div id=\"comment:117\" align=\"right\">comment:117</div>\n\nReplying to [@mkoeppe](#comment:116):\n> I see many test failures in sagelib that seem related to `sympow` in `fedora-32-standard` (https://github.com/mkoeppe/sage/runs/867731204) -- where `sympow` comes from the system after #29673!\n\nI have opened #30147 (Fix `spkg-configure.m4` for `sympow`) for this.\n\nThe present ticket is ready for review.",
    "created_at": "2020-07-14T22:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18026",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:117" align="right">comment:117</div>

Replying to [@mkoeppe](#comment:116):
> I see many test failures in sagelib that seem related to `sympow` in `fedora-32-standard` (https://github.com/mkoeppe/sage/runs/867731204) -- where `sympow` comes from the system after #29673!

I have opened #30147 (Fix `spkg-configure.m4` for `sympow`) for this.

The present ticket is ready for review.



---

archive/issue_comments_018027.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-07-17T13:12:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18027",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_018028.json:
```json
{
    "body": "<div id=\"comment:119\" align=\"right\">comment:119</div>\n\nlgtm",
    "created_at": "2020-07-17T22:59:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18028",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:119" align="right">comment:119</div>

lgtm



---

archive/issue_events_036036.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-07-17T22:59:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36036"
}
```



---

archive/issue_events_036037.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-07-17T22:59:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36037"
}
```



---

archive/issue_comments_018029.json:
```json
{
    "body": "<div id=\"comment:120\" align=\"right\">comment:120</div>\n\nThanks.",
    "created_at": "2020-07-17T23:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18029",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:120" align="right">comment:120</div>

Thanks.



---

archive/issue_comments_018030.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\nI'm getting lots of errors of the form:\n\n```\n**********************************************************************\nFile \"src/sage/schemes/elliptic_curves/ell_rational_field.py\", line 3845, in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.congruence_number\nFailed example:\n    E.modular_degree()\nExpected:\n    16\nGot:\n    **WARNING** failed to create data bin package cache folder /home/buildbot/slave/sage_git/build/local/var/cache/sympow/datafiles/le64\n    16\n**********************************************************************\n```",
    "created_at": "2020-07-22T22:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18030",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:121" align="right">comment:121</div>

I'm getting lots of errors of the form:

```
**********************************************************************
File "src/sage/schemes/elliptic_curves/ell_rational_field.py", line 3845, in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.congruence_number
Failed example:
    E.modular_degree()
Expected:
    16
Got:
    **WARNING** failed to create data bin package cache folder /home/buildbot/slave/sage_git/build/local/var/cache/sympow/datafiles/le64
    16
**********************************************************************
```



---

archive/issue_events_036038.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-22T22:39:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36038"
}
```



---

archive/issue_events_036039.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-22T22:39:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36039"
}
```



---

archive/issue_comments_018031.json:
```json
{
    "body": "<div id=\"comment:122\" align=\"right\">comment:122</div>\n\non what machine",
    "created_at": "2020-07-22T22:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18031",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:122" align="right">comment:122</div>

on what machine



---

archive/issue_comments_018032.json:
```json
{
    "body": "<div id=\"comment:123\" align=\"right\">comment:123</div>\n\nThat \"error\" is expected, in general, and shouldn't be output at the default verbosity (in my opinion). I already patched it:\n\nhttps://gitweb.gentoo.org/repo/gentoo.git/plain/sci-mathematics/sympow/files/sympow-2.023.6-no-pkgdatafilesbindir-warnings.patch\n\nThe discussion is here,\n\nhttps://gitlab.com/rezozer/forks/sympow/-/issues/3\n\nif you want to ask upstream about including it.",
    "created_at": "2020-07-23T00:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18032",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:123" align="right">comment:123</div>

That "error" is expected, in general, and shouldn't be output at the default verbosity (in my opinion). I already patched it:

https://gitweb.gentoo.org/repo/gentoo.git/plain/sci-mathematics/sympow/files/sympow-2.023.6-no-pkgdatafilesbindir-warnings.patch

The discussion is here,

https://gitlab.com/rezozer/forks/sympow/-/issues/3

if you want to ask upstream about including it.



---

archive/issue_comments_018033.json:
```json
{
    "body": "<div id=\"comment:124\" align=\"right\">comment:124</div>\n\nLet's just include your patch on this ticket",
    "created_at": "2020-07-23T00:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18033",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:124" align="right">comment:124</div>

Let's just include your patch on this ticket



---

archive/issue_comments_018034.json:
```json
{
    "body": "Changed commit from **[`283685c`](https://github.com/sagemath/sagetrac-mirror/commit/283685ce1155daf1f0ae6169756917f797ff20a9)** to **[`ae0f113`](https://github.com/sagemath/sagetrac-mirror/commit/ae0f11358ebfa721a7bddde18db1ce258d2c4929)**",
    "created_at": "2020-07-23T01:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18034",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`283685c`](https://github.com/sagemath/sagetrac-mirror/commit/283685ce1155daf1f0ae6169756917f797ff20a9)** to **[`ae0f113`](https://github.com/sagemath/sagetrac-mirror/commit/ae0f11358ebfa721a7bddde18db1ce258d2c4929)**



---

archive/issue_comments_018035.json:
```json
{
    "body": "<div id=\"comment:125\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae0f11358ebfa721a7bddde18db1ce258d2c4929\"><code>ae0f113</code></a></td><td><code>build/pkgs/sympow: Add sympow-2.023.6-no-pkgdatafilesbindir-warnings.patch</code></td></tr></table>\n",
    "created_at": "2020-07-23T01:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18035",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:125"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae0f11358ebfa721a7bddde18db1ce258d2c4929"><code>ae0f113</code></a></td><td><code>build/pkgs/sympow: Add sympow-2.023.6-no-pkgdatafilesbindir-warnings.patch</code></td></tr></table>




---

archive/issue_events_036040.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-23T01:06:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36040"
}
```



---

archive/issue_events_036041.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-23T01:06:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36041"
}
```



---

archive/issue_comments_018036.json:
```json
{
    "body": "<div id=\"comment:127\" align=\"right\">comment:127</div>\n\nover to the bots",
    "created_at": "2020-07-26T22:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18036",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:127" align="right">comment:127</div>

over to the bots



---

archive/issue_events_036042.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-07-26T22:22:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36042"
}
```



---

archive/issue_events_036043.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-07-26T22:22:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36043"
}
```



---

archive/issue_events_036044.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-29T19:55:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36044"
}
```



---

archive/issue_events_036045.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-29T19:55:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36045"
}
```



---

archive/issue_comments_018037.json:
```json
{
    "body": "<div id=\"comment:128\" align=\"right\">comment:128</div>\n\n\n```\nmake[5]: Entering directory '/home/release/Sage/local/var/tmp/sage/build/sympow-2.023.6/src'\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o fpu.o fpu.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o analrank.o analrank.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o analytic.o analytic.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o compute.o compute.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o compute2.o compute2.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o help.o help.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o conductors.o conductors.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o disk.o disk.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o ec_ap.o ec_ap.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o ec_ap_bsgs.o ec_ap_bsgs.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o ec_ap_large.o ec_ap_large.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o eulerfactors.o eulerfactors.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o factor.o factor.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o generate.o generate.c\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o init_curve.o init_curve.c\ngenerate.c: In function 'new_data':\ngenerate.c:234:32: error: 'GP' undeclared (first use in this function)\n  234 |  execlp(SH,SH,newdatascript,SH,GP,ARGS,NULL);}\n      |                                ^~\ngenerate.c:234:32: note: each undeclared identifier is reported only once for each function it appears in\ngcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o main.o main.c\nmake[5]: *** [Makefile:39: generate.o] Error 1\n```",
    "created_at": "2020-07-29T19:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18037",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:128" align="right">comment:128</div>


```
make[5]: Entering directory '/home/release/Sage/local/var/tmp/sage/build/sympow-2.023.6/src'
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o fpu.o fpu.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o analrank.o analrank.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o analytic.o analytic.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o compute.o compute.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o compute2.o compute2.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o help.o help.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o conductors.o conductors.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o disk.o disk.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o ec_ap.o ec_ap.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o ec_ap_bsgs.o ec_ap_bsgs.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o ec_ap_large.o ec_ap_large.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o eulerfactors.o eulerfactors.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o factor.o factor.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o generate.o generate.c
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o init_curve.o init_curve.c
generate.c: In function 'new_data':
generate.c:234:32: error: 'GP' undeclared (first use in this function)
  234 |  execlp(SH,SH,newdatascript,SH,GP,ARGS,NULL);}
      |                                ^~
generate.c:234:32: note: each undeclared identifier is reported only once for each function it appears in
gcc   -O3  -std=gnu17 -fno-fast-math -mfpmath=sse -ffp-contract=on -DFPUCONTROLH   -c -o main.o main.c
make[5]: *** [Makefile:39: generate.o] Error 1
```



---

archive/issue_comments_018038.json:
```json
{
    "body": "<div id=\"comment:129\" align=\"right\">comment:129</div>\n\non what machine",
    "created_at": "2020-07-29T20:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18038",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:129" align="right">comment:129</div>

on what machine



---

archive/issue_comments_018039.json:
```json
{
    "body": "<div id=\"comment:130\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f522ea6aa29f068c3fe6b25847aadb431b5961d8\"><code>f522ea6</code></a></td><td><code>Merge tag '9.2.beta6' into t/3360/sympow-2.23.2</code></td></tr></table>\n",
    "created_at": "2020-07-29T21:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18039",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:130"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f522ea6aa29f068c3fe6b25847aadb431b5961d8"><code>f522ea6</code></a></td><td><code>Merge tag '9.2.beta6' into t/3360/sympow-2.23.2</code></td></tr></table>




---

archive/issue_comments_018040.json:
```json
{
    "body": "Changed commit from **[`ae0f113`](https://github.com/sagemath/sagetrac-mirror/commit/ae0f11358ebfa721a7bddde18db1ce258d2c4929)** to **[`f522ea6`](https://github.com/sagemath/sagetrac-mirror/commit/f522ea6aa29f068c3fe6b25847aadb431b5961d8)**",
    "created_at": "2020-07-29T21:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18040",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ae0f113`](https://github.com/sagemath/sagetrac-mirror/commit/ae0f11358ebfa721a7bddde18db1ce258d2c4929)** to **[`f522ea6`](https://github.com/sagemath/sagetrac-mirror/commit/f522ea6aa29f068c3fe6b25847aadb431b5961d8)**



---

archive/issue_comments_018041.json:
```json
{
    "body": "<div id=\"comment:131\" align=\"right\">comment:131</div>\n\nTests run at https://github.com/mkoeppe/sage/actions/runs/187726088",
    "created_at": "2020-07-29T21:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18041",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:131" align="right">comment:131</div>

Tests run at https://github.com/mkoeppe/sage/actions/runs/187726088



---

archive/issue_comments_018042.json:
```json
{
    "body": "<div id=\"comment:132\" align=\"right\">comment:132</div>\n\nBuilds correctly on all platforms.",
    "created_at": "2020-07-30T17:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18042",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:132" align="right">comment:132</div>

Builds correctly on all platforms.



---

archive/issue_events_036046.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-30T17:21:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36046"
}
```



---

archive/issue_events_036047.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-30T17:21:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36047"
}
```



---

archive/issue_comments_018043.json:
```json
{
    "body": "<div id=\"comment:133\" align=\"right\">comment:133</div>\n\nFedora 32 x86_64 for the record",
    "created_at": "2020-07-30T23:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18043",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:133" align="right">comment:133</div>

Fedora 32 x86_64 for the record



---

archive/issue_comments_018044.json:
```json
{
    "body": "<div id=\"comment:134\" align=\"right\">comment:134</div>\n\nReplying to [@vbraun](#comment:133):\n> Fedora 32 x86_64 for the record\n\nThanks. Works fine on both `fedora-32-minimal` and `fedora-32-standard` (see above link). Would need more information about the system where it fails.",
    "created_at": "2020-07-31T00:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18044",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:134" align="right">comment:134</div>

Replying to [@vbraun](#comment:133):
> Fedora 32 x86_64 for the record

Thanks. Works fine on both `fedora-32-minimal` and `fedora-32-standard` (see above link). Would need more information about the system where it fails.



---

archive/issue_comments_018045.json:
```json
{
    "body": "<div id=\"comment:135\" align=\"right\">comment:135</div>\n\nStill doesn't work. My build log has a\n\n```\nwhich: no gp in (/home/release/Sage/build/bin:/home/release/Sage/src/bin:/home/release/Sage/local/bin:/home/release/Sage/build/bin:/home/release/Sage/src/bin:/home/release/Sage/local/bin:/home/release/.local/bin:/home/release/opt/bin:/usr/share/Modules/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/release/.composer/vendor/bin)\n*WARNING*: Could not find gp --- will not be able to build new_data\n```\nthats not in yours;  Build race with pari/gp? Seems like this would explain the `error: 'GP' undeclared`",
    "created_at": "2020-08-03T22:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18045",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:135" align="right">comment:135</div>

Still doesn't work. My build log has a

```
which: no gp in (/home/release/Sage/build/bin:/home/release/Sage/src/bin:/home/release/Sage/local/bin:/home/release/Sage/build/bin:/home/release/Sage/src/bin:/home/release/Sage/local/bin:/home/release/.local/bin:/home/release/opt/bin:/usr/share/Modules/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/release/.composer/vendor/bin)
*WARNING*: Could not find gp --- will not be able to build new_data
```
thats not in yours;  Build race with pari/gp? Seems like this would explain the `error: 'GP' undeclared`



---

archive/issue_events_036048.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-03T22:59:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36048"
}
```



---

archive/issue_events_036049.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-03T22:59:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36049"
}
```



---

archive/issue_comments_018046.json:
```json
{
    "body": "<div id=\"comment:136\" align=\"right\">comment:136</div>\n\nYes, seems like we may need to add pari as a dependency",
    "created_at": "2020-08-03T23:02:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18046",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:136" align="right">comment:136</div>

Yes, seems like we may need to add pari as a dependency



---

archive/issue_comments_018047.json:
```json
{
    "body": "<div id=\"comment:137\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6173795050ce87a3e94815e187276ee3c7534fdb\"><code>6173795</code></a></td><td><code>Merge tag '9.2.beta7' into t/3360/sympow-2.23.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e3dd4d90d6eaef23746891bd03230485d30e1e3\"><code>2e3dd4d</code></a></td><td><code>build/pkgs/sympow/dependencies: Add pari as an order-only dependency</code></td></tr></table>\n",
    "created_at": "2020-08-03T23:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18047",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:137"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6173795050ce87a3e94815e187276ee3c7534fdb"><code>6173795</code></a></td><td><code>Merge tag '9.2.beta7' into t/3360/sympow-2.23.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e3dd4d90d6eaef23746891bd03230485d30e1e3"><code>2e3dd4d</code></a></td><td><code>build/pkgs/sympow/dependencies: Add pari as an order-only dependency</code></td></tr></table>




---

archive/issue_comments_018048.json:
```json
{
    "body": "Changed commit from **[`f522ea6`](https://github.com/sagemath/sagetrac-mirror/commit/f522ea6aa29f068c3fe6b25847aadb431b5961d8)** to **[`2e3dd4d`](https://github.com/sagemath/sagetrac-mirror/commit/2e3dd4d90d6eaef23746891bd03230485d30e1e3)**",
    "created_at": "2020-08-03T23:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18048",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f522ea6`](https://github.com/sagemath/sagetrac-mirror/commit/f522ea6aa29f068c3fe6b25847aadb431b5961d8)** to **[`2e3dd4d`](https://github.com/sagemath/sagetrac-mirror/commit/2e3dd4d90d6eaef23746891bd03230485d30e1e3)**



---

archive/issue_events_036050.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-03T23:05:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36050"
}
```



---

archive/issue_events_036051.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-03T23:05:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36051"
}
```



---

archive/issue_comments_018049.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/sympow-2.23.2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sympow-2.23.2)** to **[`2e3dd4d`](https://github.com/sagemath/sagetrac-mirror/commit/2e3dd4d90d6eaef23746891bd03230485d30e1e3)**",
    "created_at": "2020-08-07T19:05:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/3360#issuecomment-18049",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/sympow-2.23.2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sympow-2.23.2)** to **[`2e3dd4d`](https://github.com/sagemath/sagetrac-mirror/commit/2e3dd4d90d6eaef23746891bd03230485d30e1e3)**



---

archive/issue_events_036052.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-07T19:05:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36052"
}
```



---

archive/issue_events_036053.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "775cce3cf339f332a970be212881f02c3607c935",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-07T19:05:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/3360",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/3360#event-36053"
}
```
