# Issue 3646: Implement paren matching

archive/issues_003646.json:
```json
{
    "body": "People have been complaining about a lack of paren matching in the notebook.  Do something.\n\nDiscussions: [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/8f32d3c432aca590), [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/0fef21d0334766e4/6a209ab618a508ac?#6a209ab618a508ac).\n\nAssignee: boothby\n\nCC:  @williamstein tclemans yiqiang\n\nResolution: fixed\n\nAuthor: Tom Boothby\n\nReviewer: John Palmieri\n\nMerged: Sage 4.1.2.alpha4\n\nIssue created by migration from https://trac.sagemath.org/ticket/3646\n\n",
    "closed_at": "2009-09-24T07:54:10Z",
    "created_at": "2008-07-11T22:15:08Z",
    "labels": [
        "component: notebook",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.2",
    "title": "Implement paren matching",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/3646",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```
People have been complaining about a lack of paren matching in the notebook.  Do something.

Discussions: [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/8f32d3c432aca590), [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/0fef21d0334766e4/6a209ab618a508ac?#6a209ab618a508ac).

Assignee: boothby

CC:  @williamstein tclemans yiqiang

Resolution: fixed

Author: Tom Boothby

Reviewer: John Palmieri

Merged: Sage 4.1.2.alpha4

Issue created by migration from https://trac.sagemath.org/ticket/3646





---

archive/issue_comments_029640.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2008-07-11T22:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29640",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from new to needs_review.



---

archive/issue_events_010855.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/boothby",
    "created_at": "2008-07-12T03:29:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "milestone": "sage-3.0.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3646#event-10855"
}
```



---

archive/issue_comments_029641.json:
```json
{
    "body": "<a id='comment:3'></a>\nOn my intel mac: works for me in Safari, and works in Firefox but noisily: it beeps whenever I hit ctrl-0 (whether it matches a parenthesis or not).",
    "created_at": "2008-07-18T20:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29641",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
On my intel mac: works for me in Safari, and works in Firefox but noisily: it beeps whenever I hit ctrl-0 (whether it matches a parenthesis or not).



---

archive/issue_comments_029642.json:
```json
{
    "body": "<a id='comment:4'></a>\nAttachment [3646-paren-matching-all.patch](tarball://root/attachments/some-uuid/ticket3646/3646-paren-matching-all.patch) by boothby created at 2008-07-29 17:22:55\n\nI just discovered quilt!  4 patches all rolled into one.",
    "created_at": "2008-07-29T17:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29642",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:4'></a>
Attachment [3646-paren-matching-all.patch](tarball://root/attachments/some-uuid/ticket3646/3646-paren-matching-all.patch) by boothby created at 2008-07-29 17:22:55

I just discovered quilt!  4 patches all rolled into one.



---

archive/issue_comments_029643.json:
```json
{
    "body": "<a id='comment:5'></a>\nOh, and this patch addresses jhpalmieri's issue.",
    "created_at": "2008-07-29T17:23:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29643",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:5'></a>
Oh, and this patch addresses jhpalmieri's issue.



---

archive/issue_comments_029644.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2008-07-29T17:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29644",
    "user": "https://github.com/williamstein"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_029645.json:
```json
{
    "body": "<a id='comment:6'></a>\nREVIEW:\n\n* Looks very good but does *not* address jhpalmieri's issue successfully.  I can replicate the bing, which is OK, but pressing ctrl-] does not get recognized at all.  I'm using a macbookpro.",
    "created_at": "2008-07-29T17:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29645",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:6'></a>
REVIEW:

* Looks very good but does *not* address jhpalmieri's issue successfully.  I can replicate the bing, which is OK, but pressing ctrl-] does not get recognized at all.  I'm using a macbookpro.



---

archive/issue_comments_029646.json:
```json
{
    "body": "Attachment [3646-paren-matching-all.2.patch](tarball://root/attachments/some-uuid/ticket3646/3646-paren-matching-all.2.patch) by boothby created at 2009-06-16 20:22:56\n\nrebased against #6307",
    "created_at": "2009-06-16T20:22:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29646",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Attachment [3646-paren-matching-all.2.patch](tarball://root/attachments/some-uuid/ticket3646/3646-paren-matching-all.2.patch) by boothby created at 2009-06-16 20:22:56

rebased against #6307



---

archive/issue_comments_029647.json:
```json
{
    "body": "Attachment [3646-silent.patch](tarball://root/attachments/some-uuid/ticket3646/3646-silent.patch) by boothby created at 2009-06-16 20:23:16",
    "created_at": "2009-06-16T20:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29647",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Attachment [3646-silent.patch](tarball://root/attachments/some-uuid/ticket3646/3646-silent.patch) by boothby created at 2009-06-16 20:23:16



---

archive/issue_comments_029648.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2009-06-16T20:24:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29648",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_029649.json:
```json
{
    "body": "<a id='comment:7'></a>\nOk, this really solves jhpalmieri's issue.  This time, I tested it on a mac with firefox!  I removed the ctrl-] keycode.",
    "created_at": "2009-06-16T20:24:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29649",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:7'></a>
Ok, this really solves jhpalmieri's issue.  This time, I tested it on a mac with firefox!  I removed the ctrl-] keycode.



---

archive/issue_comments_029650.json:
```json
{
    "body": "<a id='comment:8'></a>\nIf I create a cell with\n\n```\n3+2)\n```\nput the cursor at the end and hit ctrl-0, the parenthesis gets replaced with \"undefined\".  Is this the intended behavior?  It doesn't seem ideal to me; maybe ctrl-0 should do nothing in this situation?\n\n(Otherwise, it works well for me.)",
    "created_at": "2009-06-20T00:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29650",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'></a>
If I create a cell with

```
3+2)
```
put the cursor at the end and hit ctrl-0, the parenthesis gets replaced with "undefined".  Is this the intended behavior?  It doesn't seem ideal to me; maybe ctrl-0 should do nothing in this situation?

(Otherwise, it works well for me.)



---

archive/issue_comments_029651.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2009-06-20T00:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29651",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_029652.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n People have been complaining about a lack of paren matching in the notebook.  Do something.\n+\n+Discussions: [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/8f32d3c432aca590), [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/0fef21d0334766e4/6a209ab618a508ac?#6a209ab618a508ac).\n``````\n",
    "created_at": "2009-09-11T18:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29652",
    "user": "https://github.com/qed777"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 People have been complaining about a lack of paren matching in the notebook.  Do something.
+
+Discussions: [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/8f32d3c432aca590), [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/0fef21d0334766e4/6a209ab618a508ac?#6a209ab618a508ac).
``````




---

archive/issue_comments_029653.json:
```json
{
    "body": "replaces all previous",
    "created_at": "2009-09-22T05:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29653",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

replaces all previous



---

archive/issue_comments_029654.json:
```json
{
    "body": "<a id='comment:10'></a>\nAttachment [3646-paren-matching.patch](tarball://root/attachments/some-uuid/ticket3646/3646-paren-matching.patch) by boothby created at 2009-09-22 05:15:25",
    "created_at": "2009-09-22T05:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29654",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:10'></a>
Attachment [3646-paren-matching.patch](tarball://root/attachments/some-uuid/ticket3646/3646-paren-matching.patch) by boothby created at 2009-09-22 05:15:25



---

archive/issue_comments_029655.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2009-09-22T05:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29655",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_029656.json:
```json
{
    "body": "<a id='comment:11'></a>\nThis looks good to me.",
    "created_at": "2009-09-22T18:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29656",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
This looks good to me.



---

archive/issue_comments_029657.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2009-09-22T18:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29657",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_029658.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2009-09-22T18:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29658",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_029659.json:
```json
{
    "body": "<a id='comment:12'></a>\nOops, sorry, I forgot: the patch doesn't apply cleanly for me against 4.1.2.alpha2.  I'm attaching a rebased patch, but all credit should still go to boothby.",
    "created_at": "2009-09-22T18:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29659",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>
Oops, sorry, I forgot: the patch doesn't apply cleanly for me against 4.1.2.alpha2.  I'm attaching a rebased patch, but all credit should still go to boothby.



---

archive/issue_comments_029660.json:
```json
{
    "body": "Changing author from \"\" to \"Tom Boothby\"",
    "created_at": "2009-09-22T18:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29660",
    "user": "https://github.com/jhpalmieri"
}
```

Changing author from "" to "Tom Boothby"



---

archive/issue_comments_029661.json:
```json
{
    "body": "replaces all previous patches",
    "created_at": "2009-09-22T18:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29661",
    "user": "https://github.com/jhpalmieri"
}
```

replaces all previous patches



---

archive/issue_comments_029662.json:
```json
{
    "body": "Attachment [trac_3646-rebased.patch](tarball://root/attachments/some-uuid/ticket3646/trac_3646-rebased.patch) by mvngu created at 2009-09-24 07:24:45\n\nreplaces all previous patches + boothby's name as author",
    "created_at": "2009-09-24T07:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29662",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Attachment [trac_3646-rebased.patch](tarball://root/attachments/some-uuid/ticket3646/trac_3646-rebased.patch) by mvngu created at 2009-09-24 07:24:45

replaces all previous patches + boothby's name as author



---

archive/issue_comments_029663.json:
```json
{
    "body": "<a id='comment:13'></a>\nAttachment [trac_3646-rebased-v2.patch](tarball://root/attachments/some-uuid/ticket3646/trac_3646-rebased-v2.patch) by mvngu created at 2009-09-24 07:26:43\n\nThe patch `trac_3646-rebased-v2.patch` is the same as `trac_3646-rebased.patch`. The only difference is that v2 has the author name set to Tom Boothby.",
    "created_at": "2009-09-24T07:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29663",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:13'></a>
Attachment [trac_3646-rebased-v2.patch](tarball://root/attachments/some-uuid/ticket3646/trac_3646-rebased-v2.patch) by mvngu created at 2009-09-24 07:26:43

The patch `trac_3646-rebased-v2.patch` is the same as `trac_3646-rebased.patch`. The only difference is that v2 has the author name set to Tom Boothby.



---

archive/issue_comments_029664.json:
```json
{
    "body": "Changing merged from \"\" to \"Sage 4.1.2.alpha3\"",
    "created_at": "2009-09-24T07:54:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29664",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "" to "Sage 4.1.2.alpha3"



---

archive/issue_events_010856.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-24T07:54:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3646#event-10856"
}
```



---

archive/issue_comments_029665.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-09-24T07:54:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29665",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution: fixed



---

archive/issue_comments_029666.json:
```json
{
    "body": "<a id='comment:14'></a>\nMerged `trac_3646-rebased-v2.patch`.",
    "created_at": "2009-09-24T07:54:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29666",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:14'></a>
Merged `trac_3646-rebased-v2.patch`.



---

archive/issue_comments_029667.json:
```json
{
    "body": "<a id='comment:15'></a>\nThere is no 4.1.2.alpha3. Sage 4.1.2.alpha3 was William Stein's release for working on making the notebook a standalone package.",
    "created_at": "2009-09-27T10:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29667",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:15'></a>
There is no 4.1.2.alpha3. Sage 4.1.2.alpha3 was William Stein's release for working on making the notebook a standalone package.



---

archive/issue_comments_029668.json:
```json
{
    "body": "Changing merged from \"Sage 4.1.2.alpha3\" to \"Sage 4.1.2.alpha4\"",
    "created_at": "2009-09-27T10:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29668",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "Sage 4.1.2.alpha3" to "Sage 4.1.2.alpha4"



---

archive/issue_comments_029669.json:
```json
{
    "body": "Rebase v. #7196.  Apply only this patch.",
    "created_at": "2009-10-15T18:47:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29669",
    "user": "https://github.com/qed777"
}
```

Rebase v. #7196.  Apply only this patch.



---

archive/issue_comments_029670.json:
```json
{
    "body": "<a id='comment:16'></a>\nAttachment [trac_3646-sagenb_paren_match.patch](tarball://root/attachments/some-uuid/ticket3646/trac_3646-sagenb_paren_match.patch) by @qed777 created at 2009-10-15 18:50:41\n\n[attachment:trac_3646-sagenb_paren_match.patch Patch] rebased against SageNB's #7196.",
    "created_at": "2009-10-15T18:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29670",
    "user": "https://github.com/qed777"
}
```

<a id='comment:16'></a>
Attachment [trac_3646-sagenb_paren_match.patch](tarball://root/attachments/some-uuid/ticket3646/trac_3646-sagenb_paren_match.patch) by @qed777 created at 2009-10-15 18:50:41

[attachment:trac_3646-sagenb_paren_match.patch Patch] rebased against SageNB's #7196.



---

archive/issue_events_010857.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-17T05:15:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "milestone": "sage-3.0.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3646#event-10857"
}
```



---

archive/issue_events_010858.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-17T05:15:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "milestone": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/3646#event-10858"
}
```



---

archive/issue_comments_029671.json:
```json
{
    "body": "<a id='comment:17'></a>\nMerged into sagenb (for the sage-4.2 release cycle).",
    "created_at": "2009-10-17T05:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3646#issuecomment-29671",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:17'></a>
Merged into sagenb (for the sage-4.2 release cycle).
