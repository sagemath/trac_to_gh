# Issue 26139: py3: fix a bunch of syntax errors

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2018-10-01 13:49:31




---

Comment by chapoton created at 2018-10-01 14:02:55

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-10-01 14:02:55

New commits:


---

Comment by tscrim created at 2018-10-01 22:28:55

This change induces a syntax error on Python2:

```diff
diff --git a/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst b/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst
index 0285291..7ac5a9e 100644
--- a/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst
+++ b/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst
`@``@` -60,9 +60,9 `@``@` can use the direction option in subcrystal::
     sage: La = R.weight_space(extended = True).basis()
     sage: LS = crystals.LSPaths(La[1]-La[0]); LS
     The crystal of LS paths of type ['A', 2, 1] and weight -Lambda[0] + Lambda[1]
-    sage: C = LS.subcrystal(max_depth=2, direction = 'both')
+    sage: C = LS.subcrystal(max_depth=2, direction='both')
     sage: G = LS.digraph(subset = C)
-    sage: G.set_latex_options(edge_options = lambda (u,v,label): ({}))
+    sage: G.set_latex_options(edge_options=lambda u,v,label: ({}))
     sage: view(G, tightpage=True)  # optional - dot2tex graphviz, not tested (opens external window)
 
 .. image:: ../media/level_zero_crystal.png
```

Which comes from this:

```
sage: l = lambda (x,y,z): x + y + z
sage: l([1,2,3])
6
sage: l(1,2,3)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-6-ad1d3bb1c2ba> in <module>()
----> 1 l(Integer(1),Integer(2),Integer(3))

TypeError: <lambda>() takes exactly 1 argument (3 given)
```

I think the correct thing would be to change it to

```
sage: G.set_latex_options(edge_options=lambda uvl: ({}))
```



---

Comment by tscrim created at 2018-10-01 22:28:55

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-10-02 07:25:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-10-02 08:32:03

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-10-02 08:32:03

done, thanks !


---

Comment by tscrim created at 2018-10-02 12:34:21

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-10-02 12:34:21

Thanks.


---

Comment by vbraun created at 2018-10-03 21:56:22

Resolution: fixed
