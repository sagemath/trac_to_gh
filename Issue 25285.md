# Issue 25285: ipython cell magic to disable preparser

archive/issues_025285.json:
```json
{
    "body": "CC:  nbruin\n\nI'm opening this ticket because of nbruin's suggestion for my answer https://ask.sagemath.org/question/9277/preparser-state-for-regexs/?answer=42530#post-id-42530\n\nThere I shared code for an IPython extension which registers a cell magic which disables the Sage preparser (by toggling the state of the global variable sage.repl.interpreter._do_preparse before and after running the cell).\n\nIssue created by migration from https://trac.sagemath.org/ticket/25522\n\n",
    "created_at": "2018-06-07T00:16:19Z",
    "labels": [
        "notebook",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "ipython cell magic to disable preparser",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25285",
    "user": "@bryangingechen"
}
```
CC:  nbruin

I'm opening this ticket because of nbruin's suggestion for my answer https://ask.sagemath.org/question/9277/preparser-state-for-regexs/?answer=42530#post-id-42530

There I shared code for an IPython extension which registers a cell magic which disables the Sage preparser (by toggling the state of the global variable sage.repl.interpreter._do_preparse before and after running the cell).

Issue created by migration from https://trac.sagemath.org/ticket/25522





---

archive/issue_comments_356435.json:
```json
{
    "body": "Before I create a branch, I'd like to get feedback on the following:\n\nDoes the name %%noparse work, or should I change it to something else?\n\nI was thinking of adding the magic to the end of the class SageMagics in sage/repl/ipython_extension.py . Any objections?\n\nAnything else for a first-time contributor to keep in mind?",
    "created_at": "2018-06-07T00:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356435",
    "user": "@bryangingechen"
}
```

Before I create a branch, I'd like to get feedback on the following:

Does the name %%noparse work, or should I change it to something else?

I was thinking of adding the magic to the end of the class SageMagics in sage/repl/ipython_extension.py . Any objections?

Anything else for a first-time contributor to keep in mind?



---

archive/issue_comments_356436.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-17T07:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356436",
    "user": "@bryangingechen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_356437.json:
```json
{
    "body": "I decided to use the name `%%nopreparse` instead.\n----\nNew commits:",
    "created_at": "2018-07-17T07:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356437",
    "user": "@bryangingechen"
}
```

I decided to use the name `%%nopreparse` instead.
----
New commits:



---

archive/issue_comments_356438.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-20T07:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356438",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356439.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-20T07:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356439",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356440.json:
```json
{
    "body": "no_preparse seems to be more in line with the accepted Python code style.",
    "created_at": "2018-07-20T07:19:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356440",
    "user": "@bryangingechen"
}
```

no_preparse seems to be more in line with the accepted Python code style.



---

archive/issue_comments_356441.json:
```json
{
    "body": "patchbot failures seem unrelated",
    "created_at": "2018-08-16T00:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356441",
    "user": "@bryangingechen"
}
```

patchbot failures seem unrelated



---

archive/issue_comments_356442.json:
```json
{
    "body": "Changing keywords from \"\" to \"ipython magic\".",
    "created_at": "2018-08-16T00:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356442",
    "user": "@bryangingechen"
}
```

Changing keywords from "" to "ipython magic".



---

archive/issue_comments_356443.json:
```json
{
    "body": "Changing component from notebook to user interface.",
    "created_at": "2018-08-16T00:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25285#issuecomment-356443",
    "user": "@bryangingechen"
}
```

Changing component from notebook to user interface.
