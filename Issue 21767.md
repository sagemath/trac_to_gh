# Issue 21767: Allow algorithm='sympy' in symbolic_sum function

Issue created by migration from Trac.

Original creator: slabbe

Original creation time: 2016-12-01 11:56:13

CC:  kcrisman

I want this to work:

```
sage: n = var('n')
sage: sum(1/((2*n+1)^2-4)^2, n, 0, Infinity, algorithm='sympy')
```


See [this question on ask.sagemath.org](https://ask.sagemath.org/question/35839/sage-incorrectly-evaluates-series/)


---

Comment by slabbe created at 2016-12-01 12:34:46

Changing status from new to needs_review.


---

Comment by git created at 2016-12-01 12:36:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kcrisman created at 2016-12-01 14:07:09

(Incidentally, the example here, which doesn't work right with Maxima, may be related to https://sourceforge.net/p/maxima/bugs/3236/.)


---

Comment by kcrisman created at 2016-12-01 14:08:23

Also,

```
         sage: symbolic_sum(1/(1+k^2), k, -oo, oo, algorithm = 'giac')           # optional - giac
         (pi*e^(2*pi) - pi*e^(-2*pi))/(e^(2*pi) + e^(-2*pi) - 2)
+    SymPy can't solve that summation::
+
```


You will need an extra blank line for formatting.  I'd also say that Maxima can't do the sum in this ticket, not that Sage per se can't - indeed, Sage can after this patch!


---

Comment by kcrisman created at 2016-12-01 14:08:23

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-12-01 15:22:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slabbe created at 2016-12-01 15:23:42

Changing status from needs_work to needs_review.


---

Comment by slabbe created at 2016-12-01 15:23:42

On my screen, the extra blank line is already there. Can you confirm this problem?

I wrote Maxima instead of Sage. Needs review!


---

Comment by kcrisman created at 2016-12-01 15:36:18

Huh, now it appears fine.  Go figure.

Wish I had time to do proper review :( don't even have up-to-date Sage  (compiling).  These comments are what I could do for now, and as long as someone checks it works right and "corner cases" don't yield errors you haven't caught, I definitely say positive review!


---

Comment by rws created at 2016-12-02 08:38:12

I really see no problem with this addition. Now that there is a symbolic sum in Sage the conversion of unsolved sums from SymPy will only need a small SymPy patch (in the SymPy repo or in `build/pkgs/sympy`) to work.


---

Comment by rws created at 2016-12-02 08:38:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-12-02 23:38:04

Author name is missing...


---

Comment by vbraun created at 2016-12-02 23:38:04

Changing status from positive_review to needs_work.


---

Comment by tscrim created at 2016-12-03 16:02:30

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2016-12-05 00:44:24

Resolution: fixed
