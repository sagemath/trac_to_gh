# Issue 23178: Let 'sage -rst2ipynb' output error messages provided by rst2ipynb

Issue created by migration from Trac.

Original creator: tmonteil

Original creation time: 2017-07-12 21:40:03

CC:  vdelecroix

Let 'sage -rst2ipynb' command output error messages provided by rst2ipynb.

Related to #23361 and #23362.


---

Comment by tmonteil created at 2017-07-12 21:45:26

Changing status from new to needs_review.


---

Comment by tmonteil created at 2017-07-12 21:45:26

There should be a way to first print the help and then print the error with some fancy redirections, but unless someone knows how to do it, let us move forward.
----
New commits:


---

Comment by tmonteil created at 2017-07-13 22:20:43

Changing component from PLEASE CHANGE to user interface.


---

Comment by jdemeyer created at 2017-10-09 10:04:28

Why are you even adding `|| ( echo -e '\n' ; help ) `? I would go for

```
exec rst2ipynb --kernel='sagemath' ${1};;
```



---

Comment by jdemeyer created at 2017-10-09 11:55:01

I think that upgrading rst2ipynb to version 0.2.2 (#23985) would remove the need for the `sage-rst2ipynb` script in the first place.


---

Comment by jdemeyer created at 2017-10-12 12:47:39

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2017-10-12 12:48:58

New commits:


---

Comment by jdemeyer created at 2017-10-12 12:48:58

Changing status from needs_work to needs_review.


---

Comment by slabbe created at 2017-10-19 13:35:24

I tested `sage -rst2ipynb` on a file I created and everything is fine. I get All tests passed with make ptestlong. I was going to give positive review, put I have one issue: after installing rst2ipynb, rst2ipynb is not part of my default list of optional packages to test:


```
slabbe`@`labbe-laptop sage $ sage -i rst2ipynb
make build/make/Makefile
make[1] : on entre dans le répertoire « /home/slabbe/GitBox/sage »
make[1]: « build/make/Makefile » est à jour.
make[1] : on quitte le répertoire « /home/slabbe/GitBox/sage »
build/bin/sage-logger \
	"cd build/make && ./install 'all-toolchain'" logs/install.log
Nothing to (re)build / all up-to-date.

make build/make/Makefile
make[1] : on entre dans le répertoire « /home/slabbe/GitBox/sage »
make[1]: « build/make/Makefile » est à jour.
make[1] : on quitte le répertoire « /home/slabbe/GitBox/sage »
build/bin/sage-logger \
	"cd build/make && ./install 'rst2ipynb'" logs/install.log
Nothing to (re)build / all up-to-date.
```



```
slabbe`@`labbe-laptop sage $ sage -t --show-skipped src/sage/tests/cmdline.py 
Running doctests with ID 2017-10-19-15-33-52-a53fc644.
Git branch: 23415
Using --optional=ccache,mpir,pandoc_attributes,pandocfilters,python2,sage
Doctesting 1 file.
sage -t --warn-long 53.9 src/sage/tests/cmdline.py
    3 gdb tests not run
    12 internet tests not run
    4 kash tests not run
    6 rst2ipynb tests not run
    [244 tests, 29.19 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 29.2 seconds
    cpu time: 0.5 seconds
    cumulative wall time: 29.2 seconds
```


why?


---

Comment by jdemeyer created at 2017-10-19 20:07:53

Set assignee to jdemeyer.


---

Comment by jdemeyer created at 2017-10-19 20:07:53

Replying to [comment:9 slabbe]:
> after installing rst2ipynb, rst2ipynb is not part of my default list of optional packages to test:

Fixed in #23997


---

Comment by slabbe created at 2017-10-20 06:30:25

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-10-21 19:01:50

Resolution: fixed


---

Comment by slabbe created at 2018-06-07 20:52:05

follow-up ticket: #25537
