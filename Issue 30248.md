# Issue 30248: Bug with 3D Text on Cocalc.

Issue created by migration from https://trac.sagemath.org/ticket/30485

Original creator: tdupu

Original creation time: 2020-09-02 00:23:38

CC:  slelievre

From a cocalc notebook.

from sage.plot.plot3d.shapes import Text
Text("hello world")

Error in lines 2-2
Traceback (most recent call last):
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/sage_server.py", line 1234, in execute
    flags=compile_flags), namespace, locals)
  File "", line 1, in <module>
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/sage_salvus.py", line 4013, in displayhook
    show(obj)
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/sage_salvus.py", line 2974, in show
    s = show0(objs, combine_all=True)
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/sage_salvus.py", line 2933, in show0
    b = show0(a)
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/sage_salvus.py", line 2918, in show0
    salvus.threed(obj, **kwds)
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/sage_server.py", line 890, in threed
    scene = {'opts': opts, 'obj': graphics3d_to_jsonable(g)}
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/graphics.py", line 519, in graphics3d_to_jsonable
    handler(p)(p, None, None)
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/graphics.py", line 452, in convert_text3d
    str(extra_kwds.get('fontface', 'Arial')),
AttributeError: 'NoneType' object has no attribute 'get'


---

Comment by tdupu created at 2020-09-02 00:24:21

Ugh formatting. Why don't we just move this to git?


---

Comment by slelievre created at 2020-09-02 05:42:44

Changing component from PLEASE CHANGE to graphics.


---

Comment by slelievre created at 2020-09-02 12:43:42

Replying to [comment:1 tdupu]:
> Ugh formatting. Why don't we just move this to git?

Did you mean "to GitHub"?

That is where the CoCalc issue tracker is, by the way:

- https://github.com/sagemathinc/cocalc/issues/


---

Comment by paulmasson created at 2020-09-02 20:29:28

This works fine on [SageCell](https://sagecell.sagemath.org/?z=eJxLK8rPVShOTE_VK8jJLwETxil6xRmJBanFCpm5BflFJQohqRUlvFwgUkMpIzUnJ1-hPL8oJ0VJEwC27hXF&lang=sage&interacts=eJyLjgUAARUAuQ==). Not a Sage issue.


---

Comment by paulmasson created at 2020-09-02 20:29:28

Changing status from new to needs_review.


---

Comment by @DaveWitteMorris created at 2020-09-03 04:59:35

The two lines work fine for me on `CoCalc`. No error.


---

Comment by @DaveWitteMorris created at 2020-09-11 21:26:07

Changing status from needs_review to positive_review.


---

Comment by @DaveWitteMorris created at 2020-09-11 21:26:07

Can close this as invalid (not a sage issue).


---

Comment by slelievre created at 2020-09-11 22:00:39

Resolution: invalid
