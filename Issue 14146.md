# Issue 14146: Implement multiplicative inverses of cycle index series

Issue created by migration from https://trac.sagemath.org/ticket/14350

Original creator: agd

Original creation time: 2013-03-23 22:51:29

Assignee: agd

CC:  sage-combinat martinrubey

Keywords: species, cycle index

In the context of virtual species (see #14348), it is also possible to define multiplicative inverses of many species. This patch incorporates code to compute the cycle indices of these multiplicative inverse species and a __div__ method for cycle index series.


---

Comment by agd created at 2013-03-24 01:36:56

If someone with permissions to do so could delete the ".path" file I accidentally attached, that would be swell.


---

Comment by nthiery created at 2013-03-24 21:18:20

Replying to [comment:1 agd]:
> If someone with permissions to do so could delete the ".path" file I accidentally attached, that would be swell.

Done.


---

Comment by nthiery created at 2013-03-24 21:21:45

You probably want to call your method __invert__ (see http://docs.python.org/2/reference/datamodel.html). And then it's likely that __div__'s default implementation will do exactly what you want.

Other than this, you might want to ask MartinRubey to review this patch!

Cheers,
                         Nicolas


---

Comment by agd created at 2013-03-24 21:54:25

Nicolas,

__invert__ looks like it should be exactly what's needed here, but it doesn't seem to work; Sage doesn't seem to know to try to use it for __div__. My guess is that there's some additional step I'd need to take to tell Sage that CycleIndexSeriesRing now (usually) has division, but I'm not sure what that is. (For this purpose, is it likely to be a problem that not every element has a multiplicative inverse?)

Thanks again for your help!

--Andrew


---

Comment by agd created at 2013-03-25 03:05:42

Rename inversion function to __inverse__


---

Attachment

I've renamed the cycle index multiplicative inversion method as __invert__ as per Nicolas' suggestion. However, I haven't been able to find a way to convince Sage to use this method on its own, so the patch still includes a thin _div_ method as well.

(Also, once again, I've made a mess of the attachments. Could the next person through with privileges to do so please remove --.2.patch? Thanks!)


---

Comment by agd created at 2013-03-25 03:11:05

Per Nicolas' suggestion, I've CC'ed Martin Rubey on this ticket. (If this is not the correct way to bring it to your attention, I am very sorry! I'm still very new to this.)


---

Comment by nthiery created at 2013-03-25 05:05:56

Replying to [comment:7 agd]:
> Per Nicolas' suggestion, I've CC'ed Martin Rubey on this ticket. (If this is not the correct way to bring it to your attention, I am very sorry! I'm still very new to this.)

That usually works. I am not sure what his login is though; you might want to make a quick search
(in principle the list of login's in on trac's main web page, but I haven't found him there).

A private e-mail can increase the chances of success :-) In this case you probably want to send an e-mail on sage-combinat-devel for advertising your work.

Cheers,
                     Nicolas


---

Comment by mhansen created at 2013-03-25 15:33:32

I'll take a look at this.


---

Comment by agd created at 2013-03-25 16:08:08

Rename inversion function to __invert__


---

Comment by agd created at 2013-04-27 17:20:16

Changing status from new to needs_review.


---

Attachment

Per discussions elsewhere, I've uploaded a new version of the patch which was generated using "hg export tip". The content is the same.


---

Comment by chapoton created at 2013-04-30 12:56:24

for the bot: apply trac_14350_cycle_index_mult_inverses.patch

You should use python3 syntax for raise:

```
raise ValueError("constant term must be non-zero")
```


you could avoid to define parent by using directly self.parent()

you should doctest the _div_ function


---

Comment by agd created at 2013-05-03 20:48:52

Replying to [comment:11 chapoton]:
> 
> You should use python3 syntax for raise:
> {{{
> raise ValueError("constant term must be non-zero")
> }}}
> 
> you could avoid to define parent by using directly self.parent()
> 
> you should doctest the _div_ function

I have uploaded a new patch which makes these changes. Thanks for the review!


---

Attachment


---

Comment by chapoton created at 2013-05-22 10:05:23

for the bot: apply trac_14350_cycle_index_mult_inverses.patch


---

Comment by chapoton created at 2013-06-03 20:27:21

ok, looks good to me, positive review.


---

Comment by mhansen created at 2013-06-04 13:28:45

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-06-10 08:41:22

Resolution: fixed
