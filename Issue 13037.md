# Issue 13037: Fix some minor Cayley table documentation problems

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2012-07-06 02:02:45

Assignee: joyner

CC:  rbeezer ryan

Keywords: cayley doc table beginner

Things like `letters` should be `'letters'`, and I'm pretty sure that the list in `elements` should be a list of strings?  This would be easy for people to check - just try out all options!

```
           INPUT:

            - ``names`` - the type of names used, values are:

              * ``letters`` - lowercase ASCII letters are used
                for a base 26 representation of the elements'
                positions in the list given by :meth:`list`,
                padded to a common width with leading 'a's.
              * ``digits`` - base 10 representation of the
                elements' positions in the list given by
                :meth:`~sage.matrix.operation_table.OperationTable.column_keys`,
                padded to a common width with leading zeros.
              * ``elements`` - the string representations
                of the elements themselves.
              * a list - a list of strings, where the length
                of the list equals the number of elements.

            - ``elements`` - default = ``None``.  A list of
              elements of the set.  This may be used to impose an
              alternate ordering on the elements, perhaps
              when this is used in the context of a particular structure.
              The default is to use whatever ordering is provided by the
              the group, which is reported by the 
              :meth:`~sage.matrix.operation_table.OperationTable.column_keys`
              method.  Or the ``elements`` can be a subset
              which is closed under the operation. In particular,
              this can be used when the base set is infinite.
```



---

Comment by knsam created at 2012-11-27 18:19:23

I am unable to follow what this ticket is reporting. Since this is marked beginner, I would like to have a go at this one. Can someone please leave me a pointer or two at what is expected so I could try? Thank you. (Sorry if this is unconventional way of doing it.)


---

Comment by kcrisman created at 2012-11-28 02:18:05

Thanks for trying, knsam!  The issue is that ```letters``` should be ```'letters'``` and so should the others in that list be changed.  Secondly, if you look at the thing that is actually done in the method for Cayley tables (a good beginner exercise is to search for where this code is!), you'll see that ```elements``` actually returns a list of strings, not the actual list of elements - I think!

Don't hesitate to ask more, of course.  We like to make the curve as easy as possible to developing, though it could be even easier.


---

Comment by knsam created at 2012-11-28 10:30:07

Replying to [comment:2 kcrisman]:
**Thanks for your prompt reply! 
> Thanks for trying, knsam!  The issue is that ```letters``` should be ```'letters'``` and so should the others in that list be changed.  Secondly, if you look at the thing that is actually done in the method for Cayley tables (a good beginner exercise is to search for where this code is!), you'll see that ```elements``` actually returns a list of strings, not the actual list of elements - I think!
I have figured out where this piece of code is. But, I don't follow what you mean when you say ``elements`` returns a list of string as opposed to actual elements. Here's what I tried: 


```
sage: G = CyclicPermutationGroup(4) 
sage: L = G.list()
[(), (1,2,3,4), (1,3)(2,4), (1,4,3,2)]
sage: L[2] * L[3] 
(1,2,3,4)
```

So, it does return a list of elements, not strings. 

> Don't hesitate to ask more, of course.  We like to make the curve as easy as possible to developing, though it could be even easier.
Thanks for offerring to help. 

Finally, you'd like that ``letters``, ``elements`` be changed to ``'letters'`` and ``'elements'``, right?


---

Comment by kcrisman created at 2012-11-28 13:11:03

> So, it does return a list of elements, not strings. 
Sure.  But that's not what the keyword `elements` is referring to.  Try using that keyword and see what happens if you pass elements and not strings.
> Finally, you'd like that ```letters```, ```elements``` be changed to ```'letters'``` and ```'elements'```, right? 
And ```digits``` as well.  Not the elements referred to in the first half of this comment, though!

By the way, `{{{stuff`}}} is one way to mark up things that are code in these comments.  The [WikiFormatting](WikiFormatting) link you should see also will have lots of other help for that.


---

Comment by knsam created at 2012-11-28 15:53:58

Changing status from new to needs_review.


---

Comment by kcrisman created at 2012-11-28 19:59:27

Changing status from needs_review to needs_work.


---

Comment by kcrisman created at 2012-11-28 19:59:27

Sounds like you need to fix the "thingy", so "needs work".

This is weird.

```
sage: search_src('lowercase ASCII letters')
categories/additive_magmas.py:123:              * ``letters`` - lowercase ASCII letters are used
categories/additive_magmas.py:158:            elements as lowercase ASCII letters.  ::
categories/groups.py:113:              * ``letters`` - lowercase ASCII letters are used
categories/magmas.py:151:              * ``letters`` - lowercase ASCII letters are used
matrix/operation_table.py:39:      * ``letters`` - lowercase ASCII letters are used
matrix/operation_table.py:102:    The default symbol set for elements is lowercase ASCII letters,
matrix/operation_table.py:768:          * ``letters`` - lowercase ASCII letters are used
```

Apparently there are *FIVE* places where this is done?  I guess it all uses OperationTable though.  But these would all have to be fixed in the doc :(


---

Comment by knsam created at 2012-11-28 20:57:59

Replying to [comment:6 kcrisman]:
> Sounds like you need to fix the "thingy", so "needs work".
Yes, true! I'll try to get this fixed.
> This is weird.
> {{{
> sage: search_src('lowercase ASCII letters')
> categories/additive_magmas.py:123:              * ``letters`` - lowercase ASCII letters are used
> categories/additive_magmas.py:158:            elements as lowercase ASCII letters.  ::
> categories/groups.py:113:              * ``letters`` - lowercase ASCII letters are used
> categories/magmas.py:151:              * ``letters`` - lowercase ASCII letters are used
> matrix/operation_table.py:39:      * ``letters`` - lowercase ASCII letters are used
> matrix/operation_table.py:102:    The default symbol set for elements is lowercase ASCII letters,
> matrix/operation_table.py:768:          * ``letters`` - lowercase ASCII letters are used
> }}}
> Apparently there are *FIVE* places where this is done?  I guess it all uses OperationTable though.  But these would all have to be fixed in the doc :(

Here's what my Sage returns for this query: 

```
matrix/operation_table.py:39:      * ``'letters'`` - lowercase ASCII letters are used
matrix/operation_table.py:102:    The default symbol set for elements is lowercase ASCII letters,
matrix/operation_table.py:768:          * ``'letters'`` - lowercase ASCII letters are used
categories/groups.py:113:              * ``letters`` - lowercase ASCII letters are used
categories/magmas.py:151:              * ``letters`` - lowercase ASCII letters are used
categories/additive_magmas.py:123:              * ``letters`` - lowercase ASCII letters are used
categories/additive_magmas.py:158:            elements as lowercase ASCII letters.  ::
}}} 

Clearly, the first and third have been fixed. And, the second is of irrelevant nature.  Similarly, the last one. And, the other two required fix. I have fixed it.


---

Comment by knsam created at 2012-11-28 21:49:25

Replying to [comment:4 kcrisman]:
> > So, it does return a list of elements, not strings. 
> Sure.  But that's not what the keyword `elements` is referring to.  Try using that keyword and see what happens if you pass elements and not strings.

Alright, I think there is no real issue with this one. Well, what I mean is, since `(foo, bar)` stands for a tuple, having things like `(1,2)(3,4)` scares Sage. Reasonable. I looked at how its overcome in general: 

```
sage: G = SymmetricGroup(5)
sage: sigma = G("(1,3) (2,5,4)")
```

which is basically coercion at play. 
So, there are two work arounds: 
1. Pass the elements as strings, because after all the code coerces them into an element of the said group. *(done in the documentation)*
2. Or, suppose you have a group G. List its elements using `G.list()`. Now determine the indices which you'd like to include in the list and use a for loop to iterate. 

Here's a test case: 

```
sage: H = CyclicPermutationGroup(4)
sage: L = H.list()
sage: elts = [] 
sage: for i in {0, 2}: 
...      elts.append(L[i])
...
sage: elts
[(), (1,3) (2,4)] 
sage: from sage.matrix.operation_table import OperationTable
sage: T = OperationTable(H, operator.mul, elements = elts) 
sage: T
*  a b
 +----
a| a b
b| b a

```


So, does this solve the "thingy" issue? I will submit a patch for the other two OperationTable docs. And, should this alternative way of passing elements be documented?


---

Comment by kcrisman created at 2012-11-29 02:20:39

I think you didn't attach the right patch; this one doesn't have any changes to the categories directory.

I see what is going on.  So you are saying that one can pass elements either as a list of elements OR as a list of strings?  I guess I must have never actually tried doing it as elements!  Yes, in that case every relevant case should probably have a (brief) example demonstrating that you can pass strings as well, and the documentation should say that it can be a list of strings or a list of elements.


---

Attachment

All Work relevant to this ticket has been carried out in this patch. No need to apply the previous patches... just this one will suffice.


---

Comment by knsam created at 2012-11-29 12:36:16

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2012-11-29 16:11:18

Looking better!  Thanks for working with the often-multistep process.

A couple things:
 * Very minor - you may want to name the patch after the ticket issue, like `trac_13209-cayley.patch` or something.  No biggie.
 * Slightly less minor - the commit message is very long.  Try to have a short one first, then in the next lines more detail.  I think the limit is 88 characters or whatever the standard terminal window is.  I thought this was in the [developer guide](http://www.sagemath.org/doc/developer/) but I can't find it...
 * Same issue with the documentation changes.  They look good, but you made some lines too long.  Try to keep them the same length as the current lines.  This is a big enough deal to make it "needs work".
 * Also, although you are probably right about the "able to be coerced" thing, it would be nice to make it explicit that strings work.  That is why I originally opened the ticket.  Maybe "such as strings" or something.  I know this is just my personal preference, but I think it's likely that it's a use case; people may not be able to easily get the exact elements they want for passing in in a given order (if it's a strange order) but it's easy to type those elements in, in which case they will need to be strings, like in one of the examples.


---

Comment by knsam created at 2012-11-29 16:26:00

Replying to [comment:11 kcrisman]:
> Looking better!  Thanks for working with the often-multistep process.
Thank you! I'll take care of the commit message and the renaming the patch. 
> A couple things:
>  * Same issue with the documentation changes.  They look good, but you made some lines too long.  Try to keep them the same length as the current lines.  This is a big enough deal to make it "needs work".
Did you mean to say that the language is verbose or the 88 character-bound is being broken too often? 
>  * Also, although you are probably right about the "able to be coerced" thing, it would be nice to make it explicit that strings work.  That is why I originally opened the ticket.  Maybe "such as strings" or something.  I know this is just my personal preference, but I think it's likely that it's a use case; people may not be able to easily get the exact elements they want for passing in in a given order (if it's a strange order) but it's easy to type those elements in, in which case they will need to be strings, like in one of the examples.
Noted! I will do this one now.


---

Comment by kcrisman created at 2012-11-29 16:32:01

> >  * Same issue with the documentation changes.  They look good, but you made some lines too long.  Try to keep them the same length as the current lines.  This is a big enough deal to make it "needs work".
> Did you mean to say that the language is verbose or the 88 character-bound is being broken too often? 

The latter.  In principle, it shouldn't be broken at all, though there are exceptions.  I hope it actually is 88 characters - maybe 80 characters?  That's why I just make it no longer than existing documentation!


---

Comment by knsam created at 2012-11-29 18:07:17

This recent patch addresses referees comments.


---

Attachment

Okay, patchbot says yes, and although this isn't how I would have written it I think it is definitely better than before - we each have our own style, n'est pas?.  Thanks!

Also, I think I have the correct patches selected - let me know if the description needs to be changed for which patches are to be merged!


---

Comment by kcrisman created at 2013-03-13 15:43:48

Changing status from needs_review to positive_review.


---

Comment by knsam created at 2013-03-13 16:14:07

Replying to [comment:14 kcrisman]:
> Okay, patchbot says yes, and although this isn't how I would have written it I think it is definitely better than before - we each have our own style, n'est pas?.  Thanks!
> 
> Also, I think I have the correct patches selected - let me know if the description needs to be changed for which patches are to be merged!

Hello! The patches to be merged are indicated correctly. Hmm, I'd also be glad to know if I should change the style of my writing - your comments are always welcome. As you know, I am new to this and would like to be corrected.


---

Comment by kcrisman created at 2013-03-13 17:50:14

Style is just that - style.  If there was something mathematically wrong (that I noticed) or different from our guidelines I'd say so (and did above); no worries.


---

Comment by jdemeyer created at 2013-03-17 15:32:06

Resolution: fixed
