# Issue 16847: Cleanup of assert in root systems

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2014-10-01 18:49:39

Assignee: tscrim

CC:  sage-combinat jdemeyer nthiery

Keywords: assert

As noted by [comment:39 jdemeyer] in #15948.


---

Comment by tscrim created at 2014-10-02 00:23:10

Changing status from new to needs_review.


---

Comment by tscrim created at 2014-10-02 00:23:10

New commits:


---

Comment by jdemeyer created at 2014-10-03 20:24:01

Looks very good! I just changed a few exception types. If you agree, please set positive_review.
----
New commits:


---

Comment by tscrim created at 2014-10-03 21:28:42

I not in favor of changing the `i not in self.index_set()` to raise an `IndexError` for two reasons:

1. This is user input into a function, not a key or an index of a sequence.
2. In the crystals code, there are related methods which do the check `i not in self.index_set()` which currently raise a `ValueError`. I think overall we should be consistent. If you feel that it should be an `IndexError`, we should change all of those as well.

I don't hold such a strong opinion on the first, but I'm more concerned about the second. The other changes are okay with me.


---

Comment by git created at 2014-10-04 06:56:45

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2014-10-04 06:57:27

I don't care so much, so I have reverted those `IndexError` back to `ValueError`.


---

Comment by jdemeyer created at 2014-10-04 06:57:27

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-05 22:39:03

Resolution: fixed
