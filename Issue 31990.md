# Issue 31990: Deprecate methods arguments (alias: args), number_of_arguments, _fast_callable_ for non-callable symbolic expressions

Issue created by migration from https://trac.sagemath.org/ticket/32227

Original creator: mkoeppe

Original creation time: 2021-07-17 22:45:14

CC:  mjo egourgoulhon

Follow up from #14270.

We deprecate the use of methods `arguments` (alias: `args`) and `number_of_arguments` on non-callable symbolic expressions, as well as `_fast_callable_`.


---

Comment by mkoeppe created at 2021-07-17 22:48:36

This will need adjustments in the plotting code, which seems to use `arguments` 
----
Last 10 new commits:


---

Comment by saliola created at 2021-07-21 01:12:03

I just noticed that the docstring for `__len__` in `expression.pyx` says it returns the **number of arguments** of the expression, but it really should say **number of operands** since that is what is actually returned. I guess it would make sense to correct the docstring on this ticket.


---

Comment by mkoeppe created at 2021-07-21 01:46:22

Let's make this change in #29738, which deprecates the `__len__` method


---

Comment by git created at 2021-08-15 02:58:13

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mkoeppe created at 2021-08-15 03:01:19

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-08-15 03:01:19

Setting to `needs_review` only to run the patchbot


---

Comment by mkoeppe created at 2021-09-06 05:34:00

Changing status from needs_review to needs_work.


---

Comment by git created at 2022-03-08 20:23:40

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2022-03-08 20:25:30

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2022-03-08 20:25:30

rebased, let's see what the patchbot says


---

Comment by mkoeppe created at 2022-03-09 05:24:03

These deprecation warnings are triggered by examples like this:

```
File "src/sage/plot/animate.py", line 34, in sage.plot.animate
Failed example:
    sines = [plot(c*sin(x), (-2*pi,2*pi), color=Color(c,0,0), ymin=-1, ymax=1) for c in sxrange(0,1,.2)]
File "src/sage/plot/graphics.py", line 1842, in sage.plot.graphics.Graphics.show
Failed example:
    p = plot_vector_field(f.gradient(), (u,-2,2), (v,-2,2))
```

and

```
File "src/sage/symbolic/relation.py", line 183, in sage.symbolic.relation
Failed example:
    (x == sin(x)).find_root(-2,2)
File "src/sage/tests/books/computational-mathematics-with-sagemath/integration_doctest.py", line 59, in sage.tests.books.computational-mathematics-with-sagemath.integration_doctest
Failed example:
    numerical_integral(cos(log(cos(x))), 0, pi/4)  # rel tol 2e-11
```

and

```
File "src/sage/plot/plot3d/plot3d.py", line 389, in sage.plot.plot3d.plot3d._find_arguments_for_callable
Failed example:
    _find_arguments_for_callable(a+b)
```

and

```
File "src/sage/modules/free_module_element.pyx", line 4459, in sage.modules.free_module_element.FreeModuleElement_generic_dense.__call__
Failed example:
    g = f.gradient()
```



---

Comment by mkoeppe created at 2022-03-09 05:24:03

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2022-03-09 06:35:56

I think most of these uses of `arguments` in the code would be best rewritten using a new method that converts a symbolic expression with at most 1 variable to a callable.
