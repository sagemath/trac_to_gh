# Issue 12115: numpy array to matrix does not respect ring spesification

Issue created by migration from Trac.

Original creator: vlima

Original creation time: 2012-01-09 20:03:31

Assignee: jason, was

Keywords: numpy, matrix

Example:


```
sage: import numpy as np
sage: A = np.random.randint(2,size=(2,2))
sage: B = matrix(QQ,A)
sage: B.parent()
Full MatrixSpace of 2 by 2 dense matrices over Integer Ring
```


Expected result would be matrix over the rationals:

```
Full MatrixSpace of 2 by 2 dense matrices over Rational Field
```



---

Comment by vlima created at 2012-01-09 20:29:26

In sage/matrix/constructor.py line 606 (sage-4.7.2):

```
    if isinstance(args[0], numpy.ndarray):
```

If this is true, then the ring argument to matrix() will be ignored
and <numpy array>.dtype determines the ring for the matrix. F.ex:

```
   elif str_dtype.count('int') == 1:
                    m = matrix(ZZ, [list(row) for row in list(num_array)])
```



---

Comment by vdelecroix created at 2016-08-31 15:48:35

Does work on recent Sage

```
sage: import numpy as np
sage: A = np.random.randint(2,size=(2,2))
sage: B = matrix(QQ,A)
sage: B.parent()
Full MatrixSpace of 2 by 2 dense matrices over Rational Field
```



---

Comment by jdemeyer created at 2016-09-01 15:58:33

Duplicate of #20286.


---

Comment by jdemeyer created at 2016-09-01 15:58:33

Resolution: duplicate
