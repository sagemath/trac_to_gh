# Issue 19542: Hadamard difference set

archive/issues_019542.json:
```json
{
    "body": "CC:  @nathanncohen @dimpase\n\nWe implement the product construction of Hadamard difference sets and the example of Turyn from his 1965 paper.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19779\n\n",
    "created_at": "2015-12-24T19:57:04Z",
    "labels": [
        "combinatorial designs",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Hadamard difference set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19542",
    "user": "@videlec"
}
```
CC:  @nathanncohen @dimpase

We implement the product construction of Hadamard difference sets and the example of Turyn from his 1965 paper.

Issue created by migration from https://trac.sagemath.org/ticket/19779





---

archive/issue_comments_268526.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-12-24T20:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268526",
    "user": "@videlec"
}
```

New commits:



---

archive/issue_comments_268527.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-12-24T20:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268527",
    "user": "@videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_268528.json:
```json
{
    "body": "Input blocks ?...",
    "created_at": "2015-12-29T11:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268528",
    "user": "@nathanncohen"
}
```

Input blocks ?...



---

archive/issue_comments_268529.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-12-29T11:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268529",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_268530.json:
```json
{
    "body": "This branch is in conflict with #19778. If you do not want to checkout 7.0+, you can update the branch of #19778 and cherry-pick my commits where you please, below 7.0.\n\nNathann",
    "created_at": "2015-12-29T11:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268530",
    "user": "@nathanncohen"
}
```

This branch is in conflict with #19778. If you do not want to checkout 7.0+, you can update the branch of #19778 and cherry-pick my commits where you please, below 7.0.

Nathann



---

archive/issue_comments_268531.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-12-29T12:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268531",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_268532.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-29T12:27:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268532",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268533.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-29T12:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268533",
    "user": "@videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_268534.json:
```json
{
    "body": "Okayyyyyy back to work `:-D`\n\nThanks,\n\nNathann",
    "created_at": "2015-12-29T12:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268534",
    "user": "@nathanncohen"
}
```

Okayyyyyy back to work `:-D`

Thanks,

Nathann



---

archive/issue_comments_268535.json:
```json
{
    "body": "Helloooooo Vincent,\n\nHere is the review for this second ticket:\n\n- In the docstring of `hadamard_difference_set_product_parameters`, could you\n  specify the inputs of the product construction (i.e. could you specify which\n  difference sets you are looking for)?\n\n- This look like something that should not be there:\n\n  {{{\n+    try:\n+        fac1 = tuple(G1.cartesian_factors())\n+        tup1 = tuple\n+    except AttributeError:\n+        fac1 = (G1,)\n+        tup1 = lambda x: (x,)\n  }}}\n\n  Can you explain why you need this (twice)?\n\n- docstring of `turyn_1965_3x3xK` -- can you wrap the `C3x...` with backticks so\n  that it displays properly as mathematics notations?\n\n- As this functions is only building two difference families, shouldn't it be in some kind\n  of database instead?\n\n- Typo:\n  `\"can not exists\"`\n\n- Is it correct to have a 'else' inside of `elif\n  are_hadamard_difference_set_parameters(v,k,l)` which says that no construction\n  is known? Couldn't another construction be able to build it?\n\n- To simplify the flow of those if/else if you need to break it into several\n  smaller ones, you can use a trick like that:\n  {{{\n  if are_hadamard_difference_set_parameters(v,k,l) and (k-2*lmbda).is_prime():\n      <whatever>\n  }}}\n\nNathann",
    "created_at": "2015-12-29T15:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268535",
    "user": "@nathanncohen"
}
```

Helloooooo Vincent,

Here is the review for this second ticket:

- In the docstring of `hadamard_difference_set_product_parameters`, could you
  specify the inputs of the product construction (i.e. could you specify which
  difference sets you are looking for)?

- This look like something that should not be there:

  {{{
+    try:
+        fac1 = tuple(G1.cartesian_factors())
+        tup1 = tuple
+    except AttributeError:
+        fac1 = (G1,)
+        tup1 = lambda x: (x,)
  }}}

  Can you explain why you need this (twice)?

- docstring of `turyn_1965_3x3xK` -- can you wrap the `C3x...` with backticks so
  that it displays properly as mathematics notations?

- As this functions is only building two difference families, shouldn't it be in some kind
  of database instead?

- Typo:
  `"can not exists"`

- Is it correct to have a 'else' inside of `elif
  are_hadamard_difference_set_parameters(v,k,l)` which says that no construction
  is known? Couldn't another construction be able to build it?

- To simplify the flow of those if/else if you need to break it into several
  smaller ones, you can use a trick like that:
  {{{
  if are_hadamard_difference_set_parameters(v,k,l) and (k-2*lmbda).is_prime():
      <whatever>
  }}}

Nathann



---

archive/issue_comments_268536.json:
```json
{
    "body": "Hello,\n\nReplying to [comment:10 ncohen]:\n> Helloooooo Vincent,\n> \n> Here is the review for this second ticket:\n> \n> - In the docstring of `hadamard_difference_set_product_parameters`, could you\n>   specify the inputs of the product construction (i.e. could you specify which\n>   difference sets you are looking for)?\n\ndone\n \n> - This look like something that should not be there:\n> \n>   {{{\n> +    try:\n> +        fac1 = tuple(G1.cartesian_factors())\n> +        tup1 = tuple\n> +    except AttributeError:\n> +        fac1 = (G1,)\n> +        tup1 = lambda x: (x,)\n>   }}}\n> \n>   Can you explain why you need this (twice)?\n\nBecause cartesian product does not flatten stuff.\n\n```\nsage: G1 = cartesian_product([Zmod(2),Zmod(2)])\nsage: G2 = cartesian_product([Zmod(3),Zmod(5)])\nsage: cartesian_product(G1,G2)\nThe cartesian product of (The cartesian product of (Ring of integers modulo 2, Ring of integers modulo 2), The cartesian product of (Ring of integers modulo 3, Ring of integers modulo 5))\n```\n\nversus\n\n```\nsage: cartesian_product(G1.cartesian_factors() + G2.cartesian_factors())\nThe cartesian product of (Ring of integers modulo 2, Ring of integers modulo 2, Ring of integers modulo 3, Ring of integers modulo 5)\n```\n\n\n> - docstring of `turyn_1965_3x3xK` -- can you wrap the `C3x...` with backticks so\n>   that it displays properly as mathematics notations?\n\ndone\n\n> - As this functions is only building two difference families, shouldn't it be in some kind\n>   of database instead?\n\nA database with one function? Hum...\n\n> - Typo:\n>   `\"can not exists\"`\n\ndone\n\n> - Is it correct to have a 'else' inside of `elif\n>   are_hadamard_difference_set_parameters(v,k,l)` which says that no construction\n>   is known? Couldn't another construction be able to build it?\n\nNot the one which are after. `4N^2` is a prime power if and only if `N=2^k`. In which case the construction is taken care before (McFarland 1973). The twin primes construction does not apply.\n\n> - To simplify the flow of those if/else if you need to break it into several\n>   smaller ones, you can use a trick like that:\n>   {{{\n>   if are_hadamard_difference_set_parameters(v,k,l) and (k-2*lmbda).is_prime():\n>       <whatever>\n>   }}}\n\nIt will cost 3 of them and I need the `N` to dispatch to the constructors.",
    "created_at": "2015-12-29T15:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268536",
    "user": "@videlec"
}
```

Hello,

Replying to [comment:10 ncohen]:
> Helloooooo Vincent,
> 
> Here is the review for this second ticket:
> 
> - In the docstring of `hadamard_difference_set_product_parameters`, could you
>   specify the inputs of the product construction (i.e. could you specify which
>   difference sets you are looking for)?

done
 
> - This look like something that should not be there:
> 
>   {{{
> +    try:
> +        fac1 = tuple(G1.cartesian_factors())
> +        tup1 = tuple
> +    except AttributeError:
> +        fac1 = (G1,)
> +        tup1 = lambda x: (x,)
>   }}}
> 
>   Can you explain why you need this (twice)?

Because cartesian product does not flatten stuff.

```
sage: G1 = cartesian_product([Zmod(2),Zmod(2)])
sage: G2 = cartesian_product([Zmod(3),Zmod(5)])
sage: cartesian_product(G1,G2)
The cartesian product of (The cartesian product of (Ring of integers modulo 2, Ring of integers modulo 2), The cartesian product of (Ring of integers modulo 3, Ring of integers modulo 5))
```

versus

```
sage: cartesian_product(G1.cartesian_factors() + G2.cartesian_factors())
The cartesian product of (Ring of integers modulo 2, Ring of integers modulo 2, Ring of integers modulo 3, Ring of integers modulo 5)
```


> - docstring of `turyn_1965_3x3xK` -- can you wrap the `C3x...` with backticks so
>   that it displays properly as mathematics notations?

done

> - As this functions is only building two difference families, shouldn't it be in some kind
>   of database instead?

A database with one function? Hum...

> - Typo:
>   `"can not exists"`

done

> - Is it correct to have a 'else' inside of `elif
>   are_hadamard_difference_set_parameters(v,k,l)` which says that no construction
>   is known? Couldn't another construction be able to build it?

Not the one which are after. `4N^2` is a prime power if and only if `N=2^k`. In which case the construction is taken care before (McFarland 1973). The twin primes construction does not apply.

> - To simplify the flow of those if/else if you need to break it into several
>   smaller ones, you can use a trick like that:
>   {{{
>   if are_hadamard_difference_set_parameters(v,k,l) and (k-2*lmbda).is_prime():
>       <whatever>
>   }}}

It will cost 3 of them and I need the `N` to dispatch to the constructors.



---

archive/issue_comments_268537.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-29T15:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268537",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268538.json:
```json
{
    "body": "> Because cartesian product does not flatten stuff.\n\nAnd you need it to be flattened?\n\n> > - As this functions is only building two difference families, shouldn't it be in some kind\n> >   of database instead?\n> \n> A database with one function? Hum...\n\nI was more thinking of moving its two difference families into the existing database of difference families, in database.py.\n\n> Not the one which are after.\n\nI see. But then the order is important, and it is not really straightforward to figure it out.\n\n> It will cost 3 of them and I need the `N` to dispatch to the constructors.\n\nOnly two if the `turyn_1965_3x3xK` enters the database. We can also hardcode the parameters in the if/else, given that they are known.\n\nNathann",
    "created_at": "2015-12-29T15:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268538",
    "user": "@nathanncohen"
}
```

> Because cartesian product does not flatten stuff.

And you need it to be flattened?

> > - As this functions is only building two difference families, shouldn't it be in some kind
> >   of database instead?
> 
> A database with one function? Hum...

I was more thinking of moving its two difference families into the existing database of difference families, in database.py.

> Not the one which are after.

I see. But then the order is important, and it is not really straightforward to figure it out.

> It will cost 3 of them and I need the `N` to dispatch to the constructors.

Only two if the `turyn_1965_3x3xK` enters the database. We can also hardcode the parameters in the if/else, given that they are known.

Nathann



---

archive/issue_comments_268539.json:
```json
{
    "body": "P.S.: About 'needing the N to dispatch the constructors' --> you can use `k-2lmda`.",
    "created_at": "2015-12-29T15:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268539",
    "user": "@nathanncohen"
}
```

P.S.: About 'needing the N to dispatch the constructors' --> you can use `k-2lmda`.



---

archive/issue_comments_268540.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-29T16:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268540",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268541.json:
```json
{
    "body": "I do prefer use a function for `turyn_1965_3x3xK`. The reason is that the construction is made explicit. The database is nice for knowing existence but it does not help to understand things. Ideally, there should be very few items in the database.\n\nVincent",
    "created_at": "2015-12-29T16:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268541",
    "user": "@videlec"
}
```

I do prefer use a function for `turyn_1965_3x3xK`. The reason is that the construction is made explicit. The database is nice for knowing existence but it does not help to understand things. Ideally, there should be very few items in the database.

Vincent



---

archive/issue_comments_268542.json:
```json
{
    "body": "Okay. I'm still interested about the flattening issue and the 12 lines of try/except. What is this for btw?\n\n```\n+    v = ZZ(v)\n+    k = ZZ(k)\n+    l = ZZ(l)\n```\n\n\nNathann",
    "created_at": "2015-12-29T16:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268542",
    "user": "@nathanncohen"
}
```

Okay. I'm still interested about the flattening issue and the 12 lines of try/except. What is this for btw?

```
+    v = ZZ(v)
+    k = ZZ(k)
+    l = ZZ(l)
```


Nathann



---

archive/issue_comments_268543.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-29T16:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268543",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268544.json:
```json
{
    "body": "Replying to [comment:17 ncohen]:\n> Okay. I'm still interested about the flattening issue and the 12 lines of try/except. What is this for btw?\n> {{{\n> +    v = ZZ(v)\n> +    k = ZZ(k)\n> +    l = ZZ(l)\n> }}}\n\n`(k-2*l).is_prime()`",
    "created_at": "2015-12-29T16:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268544",
    "user": "@videlec"
}
```

Replying to [comment:17 ncohen]:
> Okay. I'm still interested about the flattening issue and the 12 lines of try/except. What is this for btw?
> {{{
> +    v = ZZ(v)
> +    k = ZZ(k)
> +    l = ZZ(l)
> }}}

`(k-2*l).is_prime()`



---

archive/issue_comments_268545.json:
```json
{
    "body": "You mean `is_prime(k-2*l)` ? `:-P`\n\nAnyway, despite being a useless abstraction, I expect that ZZ is in a better state than the combinat parents.\n\nNathann",
    "created_at": "2015-12-29T16:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268545",
    "user": "@nathanncohen"
}
```

You mean `is_prime(k-2*l)` ? `:-P`

Anyway, despite being a useless abstraction, I expect that ZZ is in a better state than the combinat parents.

Nathann



---

archive/issue_comments_268546.json:
```json
{
    "body": "Replying to [comment:20 ncohen]:\n> You mean `is_prime(k-2*l)` ? `:-P`\n> \n> Anyway, despite being a useless abstraction, I expect that ZZ is in a better state than the combinat parents.\n\nat least\n\n```\nsage: a = 3\nsage: ZZ(a) is a\nTrue\nsage: %timeit ZZ(a)\n10000000 loops, best of 3: 109 ns per loop\n```\n",
    "created_at": "2015-12-29T16:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268546",
    "user": "@videlec"
}
```

Replying to [comment:20 ncohen]:
> You mean `is_prime(k-2*l)` ? `:-P`
> 
> Anyway, despite being a useless abstraction, I expect that ZZ is in a better state than the combinat parents.

at least

```
sage: a = 3
sage: ZZ(a) is a
True
sage: %timeit ZZ(a)
10000000 loops, best of 3: 109 ns per loop
```




---

archive/issue_comments_268547.json:
```json
{
    "body": "Replying to [comment:19 vdelecroix]:\n> Replying to [comment:17 ncohen]:\n> I'm still interested about the flattening issue\n\nOne option is to add a `flatten` option to the cartesian product functor... but I will still have an issue to build an element of `G1 x G2` from an element of `G1` and `G2`.",
    "created_at": "2015-12-29T16:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268547",
    "user": "@videlec"
}
```

Replying to [comment:19 vdelecroix]:
> Replying to [comment:17 ncohen]:
> I'm still interested about the flattening issue

One option is to add a `flatten` option to the cartesian product functor... but I will still have an issue to build an element of `G1 x G2` from an element of `G1` and `G2`.



---

archive/issue_comments_268548.json:
```json
{
    "body": "> One option is to add a `flatten` option to the cartesian product functor... but I will still have an issue to build an element of `G1 x G2` from an element of `G1` and `G2`.\n\nYou still haven't said why you did it. If it is for performance reason the answer must be found inside of the `cartesian_product` function, or in the `******` that it returns.\n\nNathann",
    "created_at": "2015-12-29T16:36:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268548",
    "user": "@nathanncohen"
}
```

> One option is to add a `flatten` option to the cartesian product functor... but I will still have an issue to build an element of `G1 x G2` from an element of `G1` and `G2`.

You still haven't said why you did it. If it is for performance reason the answer must be found inside of the `cartesian_product` function, or in the `******` that it returns.

Nathann



---

archive/issue_comments_268549.json:
```json
{
    "body": "The reason is readability of the output. But anyway, I guess that soon enough I will have to normalize the group of difference families to introduce `v = [3,2]` notation (that corresponds to `C3 x C2`).",
    "created_at": "2015-12-29T17:04:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268549",
    "user": "@videlec"
}
```

The reason is readability of the output. But anyway, I guess that soon enough I will have to normalize the group of difference families to introduce `v = [3,2]` notation (that corresponds to `C3 x C2`).



---

archive/issue_comments_268550.json:
```json
{
    "body": "> The reason is readability of the output.\n\nI don't believe that this justifies 10 lines of try/except. Your readability problem cannot be solved by such workarounds.\n\nNathann",
    "created_at": "2015-12-29T17:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268550",
    "user": "@nathanncohen"
}
```

> The reason is readability of the output.

I don't believe that this justifies 10 lines of try/except. Your readability problem cannot be solved by such workarounds.

Nathann



---

archive/issue_comments_268551.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-29T17:35:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268551",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268552.json:
```json
{
    "body": "Thanks. Well, I was about to set this ticket to `positive_review` but it's likely to be in conflict with whatever Volker merged already `:-/`",
    "created_at": "2015-12-29T22:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268552",
    "user": "@nathanncohen"
}
```

Thanks. Well, I was about to set this ticket to `positive_review` but it's likely to be in conflict with whatever Volker merged already `:-/`



---

archive/issue_comments_268553.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-12-31T08:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268553",
    "user": "@dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_268554.json:
```json
{
    "body": "there is an extra ':' in 'INPUT::' in function `turyn_1965_3x3xK`. Please remove...",
    "created_at": "2015-12-31T08:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268554",
    "user": "@dimpase"
}
```

there is an extra ':' in 'INPUT::' in function `turyn_1965_3x3xK`. Please remove...



---

archive/issue_comments_268555.json:
```json
{
    "body": "rebased and removed that ':'...",
    "created_at": "2015-12-31T09:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268555",
    "user": "@dimpase"
}
```

rebased and removed that ':'...



---

archive/issue_comments_268556.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-31T09:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268556",
    "user": "@dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_268557.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-12-31T10:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268557",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_268558.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-31T10:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268558",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268559.json:
```json
{
    "body": "this is 19777-clean now, too...\n----\nNew commits:\n----\nNew commits:",
    "created_at": "2015-12-31T10:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268559",
    "user": "@dimpase"
}
```

this is 19777-clean now, too...
----
New commits:
----
New commits:



---

archive/issue_comments_268560.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-07-11T19:19:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268560",
    "user": "@videlec"
}
```

New commits:



---

archive/issue_comments_268561.json:
```json
{
    "body": "rebased...",
    "created_at": "2016-07-11T19:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268561",
    "user": "@videlec"
}
```

rebased...



---

archive/issue_comments_268562.json:
```json
{
    "body": "you need to replace (in the references)\n\n```\n[Tu1965] R. J. Turyn\n```\n\nby \n\n```\n[Tu1965] \\R. J. Turyn\n```\n\nand same for the other ref.\n\nAlso typo `J. Combit. Theory`",
    "created_at": "2016-07-11T20:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268562",
    "user": "@fchapoton"
}
```

you need to replace (in the references)

```
[Tu1965] R. J. Turyn
```

by 

```
[Tu1965] \R. J. Turyn
```

and same for the other ref.

Also typo `J. Combit. Theory`



---

archive/issue_comments_268563.json:
```json
{
    "body": "why `\\R` instead of `R`?",
    "created_at": "2016-07-11T20:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268563",
    "user": "@videlec"
}
```

why `\R` instead of `R`?



---

archive/issue_comments_268564.json:
```json
{
    "body": "This is because otherwise sphinx thinks this is the numbering (by letters) of something (see the other references below and above). There was a ticket about that, I do no known the number.",
    "created_at": "2016-07-11T20:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268564",
    "user": "@fchapoton"
}
```

This is because otherwise sphinx thinks this is the numbering (by letters) of something (see the other references below and above). There was a ticket about that, I do no known the number.



---

archive/issue_comments_268565.json:
```json
{
    "body": "> This is because otherwise sphinx thinks this is the numbering (by letters) of something (see the other references below and above). There was a ticket about that, I do no known the number.\n\nAhahahahahah. That would have driven me mad some time ago, but nowadays I take it as a very good joke. Keep it up `:-P`\n\nNathann",
    "created_at": "2016-07-11T20:18:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268565",
    "user": "@nathanncohen"
}
```

> This is because otherwise sphinx thinks this is the numbering (by letters) of something (see the other references below and above). There was a ticket about that, I do no known the number.

Ahahahahahah. That would have driven me mad some time ago, but nowadays I take it as a very good joke. Keep it up `:-P`

Nathann



---

archive/issue_comments_268566.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-11T20:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268566",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268567.json:
```json
{
    "body": "done",
    "created_at": "2016-07-11T20:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268567",
    "user": "@videlec"
}
```

done



---

archive/issue_comments_268568.json:
```json
{
    "body": "While at it, could you perhaps canonise journal names in references, e.g. following the usual AMS abbreviations: J. Number Theory (not Num. Th.), J. Combin. Theory (this one is written differently in different places), Pacific J. Math. (drop \"of\")?",
    "created_at": "2016-07-12T10:04:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268568",
    "user": "@dimpase"
}
```

While at it, could you perhaps canonise journal names in references, e.g. following the usual AMS abbreviations: J. Number Theory (not Num. Th.), J. Combin. Theory (this one is written differently in different places), Pacific J. Math. (drop "of")?



---

archive/issue_comments_268569.json:
```json
{
    "body": "Take it from a guy who is parsing citation data: don't try to canonise journal names, it's hopeless.\n\n\n```\nJ. Combinatorial Theory B\nJ. Combinatorial Theory Ser. B\nJ. Combinatorial Theory, Ser. B\nJ. Combinatorial Theory, Series B\nJ. Combin. Theory B\nJ. Combin. Theory Ser. B\nJ. Combin. Theory, Ser. B\nJ. Combin. Theory Series B\nJ. Combin. Th. Ser. B\nJ. Comb. Th. B\nJ. Comb. Theory B\nJ. Comb. Theory Ser. B\nJ. Comb. Theory, Ser. B\nJournal of Combinatorial Theory B\nJournal of Combinatorial Theory Series B\nJournal of Combinatorial Theory, Series B\nJournal of Combinatorial Theory. Series B\n```\n",
    "created_at": "2016-07-12T10:08:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268569",
    "user": "@nathanncohen"
}
```

Take it from a guy who is parsing citation data: don't try to canonise journal names, it's hopeless.


```
J. Combinatorial Theory B
J. Combinatorial Theory Ser. B
J. Combinatorial Theory, Ser. B
J. Combinatorial Theory, Series B
J. Combin. Theory B
J. Combin. Theory Ser. B
J. Combin. Theory, Ser. B
J. Combin. Theory Series B
J. Combin. Th. Ser. B
J. Comb. Th. B
J. Comb. Theory B
J. Comb. Theory Ser. B
J. Comb. Theory, Ser. B
Journal of Combinatorial Theory B
Journal of Combinatorial Theory Series B
Journal of Combinatorial Theory, Series B
Journal of Combinatorial Theory. Series B
```




---

archive/issue_comments_268570.json:
```json
{
    "body": "well, consistency in one file can and should be achieved, in order not to distract the reader. (besides, `J. Num. Th.` is really fckng crpp abbrv)",
    "created_at": "2016-07-12T10:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268570",
    "user": "@dimpase"
}
```

well, consistency in one file can and should be achieved, in order not to distract the reader. (besides, `J. Num. Th.` is really fckng crpp abbrv)



---

archive/issue_comments_268571.json:
```json
{
    "body": "Please use python-3 compatible syntax for print.",
    "created_at": "2016-07-12T13:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268571",
    "user": "@fchapoton"
}
```

Please use python-3 compatible syntax for print.



---

archive/issue_comments_268572.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-12T18:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268572",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268573.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-12T18:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268573",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268574.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-07-12T18:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268574",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_268575.json:
```json
{
    "body": "done",
    "created_at": "2016-07-12T18:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268575",
    "user": "@videlec"
}
```

done



---

archive/issue_comments_268576.json:
```json
{
    "body": "diff of the suggested change",
    "created_at": "2016-07-12T21:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268576",
    "user": "@dimpase"
}
```

diff of the suggested change



---

archive/issue_comments_268577.json:
```json
{
    "body": "Attachment [refdiff.patch](tarball://root/attachments/some-uuid/ticket19779/refdiff.patch) by @dimpase created at 2016-07-12 21:25:52\n\nHow about the attached diff, for real consistency? :-)",
    "created_at": "2016-07-12T21:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268577",
    "user": "@dimpase"
}
```

Attachment [refdiff.patch](tarball://root/attachments/some-uuid/ticket19779/refdiff.patch) by @dimpase created at 2016-07-12 21:25:52

How about the attached diff, for real consistency? :-)



---

archive/issue_comments_268578.json:
```json
{
    "body": "It is not consistent. Some reference have a comma between the journal and the volume while some other not...",
    "created_at": "2016-07-12T21:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268578",
    "user": "@videlec"
}
```

It is not consistent. Some reference have a comma between the journal and the volume while some other not...



---

archive/issue_comments_268579.json:
```json
{
    "body": "Replying to [comment:50 vdelecroix]:\n> It is not consistent. Some reference have a comma between the journal and the volume while some other not...\n\nthere is comma if there is no dot! :-)\n\nanyhow, at least is has page numbers everywhere...",
    "created_at": "2016-07-12T21:41:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268579",
    "user": "@dimpase"
}
```

Replying to [comment:50 vdelecroix]:
> It is not consistent. Some reference have a comma between the journal and the volume while some other not...

there is comma if there is no dot! :-)

anyhow, at least is has page numbers everywhere...



---

archive/issue_comments_268580.json:
```json
{
    "body": "Replying to [comment:51 dimpase]:\n> Replying to [comment:50 vdelecroix]:\n> > It is not consistent. Some reference have a comma between the journal and the volume while some other not...\n> \n> there is comma is there is no dot! :-)\n\nhum\n\n```diff\n-       J. of Combinatorial Theory (A) vol 15 (1973).\n+       J. Combinatorial Theory (A) 15 (1973) 1--10.\n```\n\n\n> anyhow, at least is has page numbers everywhere...\n\nthat's indeed better.",
    "created_at": "2016-07-12T21:43:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268580",
    "user": "@videlec"
}
```

Replying to [comment:51 dimpase]:
> Replying to [comment:50 vdelecroix]:
> > It is not consistent. Some reference have a comma between the journal and the volume while some other not...
> 
> there is comma is there is no dot! :-)

hum

```diff
-       J. of Combinatorial Theory (A) vol 15 (1973).
+       J. Combinatorial Theory (A) 15 (1973) 1--10.
```


> anyhow, at least is has page numbers everywhere...

that's indeed better.



---

archive/issue_comments_268581.json:
```json
{
    "body": "Replying to [comment:52 vdelecroix]:\n> Replying to [comment:51 dimpase]:\n> > Replying to [comment:50 vdelecroix]:\n> > > It is not consistent. Some reference have a comma between the journal and the volume while some other not...\n> > \n> > there is comma is there is no dot! :-)\n\nno dot or other delimiter.\n\n(yes, I do sound like `bash` now :-))\n \n> \n> hum\n> {{{#!diff\n> -       J. of Combinatorial Theory (A) vol 15 (1973).\n> +       J. Combinatorial Theory (A) 15 (1973) 1--10.\n> }}}\n> \n> > anyhow, at least is has page numbers everywhere...\n> \n> that's indeed better.",
    "created_at": "2016-07-12T21:47:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268581",
    "user": "@dimpase"
}
```

Replying to [comment:52 vdelecroix]:
> Replying to [comment:51 dimpase]:
> > Replying to [comment:50 vdelecroix]:
> > > It is not consistent. Some reference have a comma between the journal and the volume while some other not...
> > 
> > there is comma is there is no dot! :-)

no dot or other delimiter.

(yes, I do sound like `bash` now :-))
 
> 
> hum
> {{{#!diff
> -       J. of Combinatorial Theory (A) vol 15 (1973).
> +       J. Combinatorial Theory (A) 15 (1973) 1--10.
> }}}
> 
> > anyhow, at least is has page numbers everywhere...
> 
> that's indeed better.



---

archive/issue_comments_268582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-13T13:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268582",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_268583.json:
```json
{
    "body": "patch applied",
    "created_at": "2016-07-13T13:55:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268583",
    "user": "@videlec"
}
```

patch applied



---

archive/issue_comments_268584.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-13T14:07:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268584",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_268585.json:
```json
{
    "body": "looks good to me.",
    "created_at": "2016-07-13T14:07:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268585",
    "user": "@dimpase"
}
```

looks good to me.



---

archive/issue_comments_268586.json:
```json
{
    "body": "Thanks!",
    "created_at": "2016-07-13T14:08:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268586",
    "user": "@videlec"
}
```

Thanks!



---

archive/issue_comments_268587.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-13T23:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19542#issuecomment-268587",
    "user": "@vbraun"
}
```

Resolution: fixed
