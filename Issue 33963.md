# Issue 33963: Add importlib_metadata to Sphinx's dependencies

Issue created by migration from https://trac.sagemath.org/ticket/34200

Original creator: jhpalmieri

Original creation time: 2022-07-19 20:49:53

Right now `./configure && make sphinx` finishes successfully, but the `sphinx` log file says

```
ERROR: Could not find a version that satisfies the requirement importlib-metadata>=4.4; python_version < "3.10" (from sphinx) (from versions: none)
ERROR: No matching distribution found for importlib-metadata>=4.4; python_version < "3.10"
```

We can fix this by adding `importlib_metadata` to the `sphinx/dependencies` file.


---

Comment by mkoeppe created at 2022-07-19 20:58:37

I think `six` can be removed - it no longer appears in https://github.com/sphinx-doc/sphinx/blob/v4.4.0/setup.py (install_requires)
----
New commits:


---

Comment by jhpalmieri created at 2022-07-19 21:09:21

`sphinx` builds without `six` and doesn't report any errors, so let's remove that, too.


---

Comment by git created at 2022-07-19 21:10:01

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2022-07-19 21:14:18

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-07-19 21:14:27

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2022-07-19 21:31:39

Thanks! I think we can also remove `six` from a few other dependencies: `cycler`, `prompt_toolkit`, and `traitlets`. But we're far from being able to excise it altogether since lots of other packages require it.


---

Comment by vbraun created at 2022-08-01 20:22:56

Resolution: fixed
