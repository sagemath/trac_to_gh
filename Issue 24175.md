# Issue 24175: wrap arb elliptic functions

Issue created by migration from https://trac.sagemath.org/ticket/24412

Original creator: vdelecroix

Original creation time: 2017-12-21 08:48:55

CC:  mmezzarobba cheuberg

New functions available in arb
- header acb_elliptic.h
- doc at http://arblib.org/acb_elliptic.html


---

Comment by vdelecroix created at 2018-03-16 15:00:20

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2018-03-16 15:00:20

New commits:


---

Comment by mmezzarobba created at 2018-03-16 16:57:12

I'm not sure that wrapping the `pi=...` option is useful, but if you want to do it, then I guess it should be tested...


---

Comment by git created at 2018-03-16 22:02:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2018-03-16 22:02:30

No more pi option.


---

Comment by mmezzarobba created at 2018-03-18 20:09:07

LGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.


---

Comment by mmezzarobba created at 2018-03-18 20:09:07

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2018-03-18 21:08:35

Thanks for the review.

Replying to [comment:5 mmezzarobba]:
> LGTM. I wonder though why you chose to introduce separate `..._inc()` methods for incomplete elliptic integrals rather than having two-argument variants of `elliptic_e()` and `elliptic_pi()`.

This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).


---

Comment by vbraun created at 2018-03-19 22:48:18

Author / reviewer name?


---

Comment by vbraun created at 2018-03-19 22:48:18

Changing status from positive_review to needs_work.


---

Comment by vdelecroix created at 2018-03-19 22:49:39

sorry


---

Comment by vdelecroix created at 2018-03-19 22:49:39

Changing status from needs_work to positive_review.


---

Comment by mmezzarobba created at 2018-03-20 09:28:54

Replying to [comment:6 vdelecroix]:
> This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).

I don't understand. I was thinking of something similar to

```
    def gamma(self, z=None):
        """
        Return the image of this ball by the Euler Gamma function (if
        ``z = None``) or the incomplete Gamma function (otherwise).

        EXAMPLES::

            sage: CBF(1, 1).gamma()
            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I
            sage: CBF(-1).gamma()
            nan
            sage: CBF(1, 1).gamma(0)
            [0.498015668118356 +/- 9.16e-16] + [-0.154949828301811 +/- 7.08e-16]*I
            sage: CBF(1, 1).gamma(100)
            [-3.6143867454139e-45 +/- 6.88e-59] + [-3.7022961377791e-44 +/- 4.41e-58]*I
            sage: CBF(1, 1).gamma(CLF(i))
            [0.32886684193500 +/- 5.04e-15] + [-0.18974945045621 +/- 1.26e-15]*I
        """
        cdef ComplexBall my_z
        cdef ComplexBall res = self._new()
        if z is None:
            if _do_sig(prec(self)): sig_on()
            acb_gamma(res.value, self.value, prec(self))
            if _do_sig(prec(self)): sig_off()
        else:
            my_z = self._parent.coerce(z)
            if _do_sig(prec(self)): sig_on()
            acb_hypgeom_gamma_upper(res.value, self.value, my_z.value, 0, prec(self))
            if _do_sig(prec(self)): sig_off()
        return res
```



---

Comment by vdelecroix created at 2018-03-20 12:51:02

Replying to [comment:9 mmezzarobba]:
> Replying to [comment:6 vdelecroix]:
> > This would have been inconvenient as the incomplete function has an extra argument (the point up to which you integrate).
> 
> I don't understand. I was thinking of something similar to
> {{{
> SNIP
> }}}

Indeed, that would have been a solution. On the plus side: less methods. On the minus side: less consistent with arb names... I don't have a strong opinion.


---

Comment by vbraun created at 2018-03-21 06:18:58

Resolution: fixed
