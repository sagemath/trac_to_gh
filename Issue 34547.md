# Issue 34547: some care for E275

Issue created by migration from https://trac.sagemath.org/ticket/34784

Original creator: chapoton

Original creation time: 2022-11-24 19:49:49

in (algebras, dynamics, matrix, schemes, categories) folders



---

Comment by chapoton created at 2022-11-24 19:50:27

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-11-24 19:50:27

New commits:


---

Comment by klee created at 2022-11-25 01:11:01

Space after comma in this line and many more after:

```diff
-                    else("T{}".format(p._names[p._index_to_pos[k[0]]]),v) \
+                    else ("T{}".format(p._names[p._index_to_pos[k[0]]]),v) \
```


This

```diff
             terms = [("T^({0}){1}".format(k[1], p._repr_generator(k[0])),v)\
-                      if k[1] > 1 else("T{}".format(p._repr_generator(k[0])),v)\
-                      if k[1] == 1 else ("{}".format(p._repr_generator(k[0])),
-                      v) for k,v in self.monomial_coefficients().items()]
+                     if k[1] > 1 else ("T{}".format(p._repr_generator(k[0])),v)\
+                     if k[1] == 1 else ("{}".format(p._repr_generator(k[0])),v)
+                     for k, v in self.monomial_coefficients().items()]
```

really needs a massive rewriting but at least 

```
   [... if ...
    else ... if ...
    else ...
    for ...]
```

would make it more readable.

This 

```diff
             terms = [("T^{{({0})}}{1}".format(k[1], latex(k[0])),v) if k[1] > 1 \
-                      else("T{}".format(latex(k[0])),v) if k[1] == 1 \
+                      else ("T{}".format(latex(k[0])),v) if k[1] == 1 \
                         else ("{}".format(latex(k[0])),v)\
                         for k, v in self.monomial_coefficients().items()]
```

needs to make `else` and `for` below aligned.


---

Comment by git created at 2022-11-25 08:46:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-11-25 08:46:56

voil√†, done


---

Comment by klee created at 2022-11-25 10:31:49

LGTM. Set positive review when Build & Test passes.


---

Comment by chapoton created at 2022-11-25 13:46:01

thanks a lot

setting to positive


---

Comment by chapoton created at 2022-11-25 13:46:01

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2022-12-11 15:43:14

Changing priority from minor to major.


---

Comment by vbraun created at 2022-12-14 22:11:57

Resolution: fixed
