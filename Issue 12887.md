# Issue 12887: Creating multivariate polynomial rings change singular's global state

archive/issues_012887.json:
```json
{
    "body": "Assignee: @malb\n\nCC:  jpflori jakobkroeker\n\nThe following seems bad.  It was revealed by the change in doctest framework at #12415.  That ticket introduces a workaround (just resetting `opt['red_tail']` to True).\n\n\n```\nsage: from sage.libs.singular.option import opt\nsage: opt['red_tail']\nTrue\nsage: Rlocal.<x,y,z> = PolynomialRing(QQ, order='ds')\nsage: opt['red_tail']\nFalse\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13059\n\n",
    "created_at": "2012-05-29T09:23:17Z",
    "labels": [
        "commutative algebra",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Creating multivariate polynomial rings change singular's global state",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12887",
    "user": "@roed314"
}
```
Assignee: @malb

CC:  jpflori jakobkroeker

The following seems bad.  It was revealed by the change in doctest framework at #12415.  That ticket introduces a workaround (just resetting `opt['red_tail']` to True).


```
sage: from sage.libs.singular.option import opt
sage: opt['red_tail']
True
sage: Rlocal.<x,y,z> = PolynomialRing(QQ, order='ds')
sage: opt['red_tail']
False
```


Issue created by migration from https://trac.sagemath.org/ticket/13059





---

archive/issue_comments_155084.json:
```json
{
    "body": "`J.groebner_basis(mult_bound=100)` also resets `opt['red_tail']`, but `J.groebner_basis()` doesn't.",
    "created_at": "2012-05-29T09:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12887#issuecomment-155084",
    "user": "@roed314"
}
```

`J.groebner_basis(mult_bound=100)` also resets `opt['red_tail']`, but `J.groebner_basis()` doesn't.
