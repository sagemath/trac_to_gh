# Issue 19493: build gcc with objective-c support on Darwin

Issue created by migration from https://trac.sagemath.org/ticket/19730

Original creator: cnassau

Original creation time: 2015-12-15 15:59:21

A recent change has restricted the languages supported by the Sage-built gcc 
   http://git.sagemath.org/sage.git/diff/?id=afa95419fc45be354358dc797b113c29cdde9f02

This is occasionally `(*)` problematic on Darwin, since some external packages might require objective-c as well. The "Tk" package, for example, can only be built with objective-c support on OSX `(**)`. This ticket suggests to re-introduce support for objective-c.

`(*)` I'm working on a package for Steenrod algebra cohomology that requires a functional, modern `Tcl/Tk`.

`(**)` objective-c is required if the "-enable-aqua" option is selected for Tk. without this option X11 headers are required which are usually not present on OSX.


---

Comment by cnassau created at 2015-12-15 16:01:08

Changing status from new to needs_review.


---

Comment by cnassau created at 2015-12-15 16:01:08

New commits:


---

Comment by jdemeyer created at 2015-12-22 13:41:02

What prevents you from using the objective C compiler which comes with Xcode?


---

Comment by jdemeyer created at 2015-12-22 13:41:22

Author name please.


---

Comment by jdemeyer created at 2015-12-22 13:41:22

Changing status from needs_review to needs_info.


---

Comment by cnassau created at 2015-12-22 14:45:54

Changing status from needs_info to needs_review.


---

Comment by cnassau created at 2015-12-22 14:45:54

Replying to [comment:2 jdemeyer]:
> What prevents you from using the objective C compiler which comes with Xcode?

One *can* use the Xcode compiler, so that is a functional workaround. I just wouldn't want to force users of the package to install X-code.

To be honest, my package isn't going to be finished or released anytime soon, so for me this ticket is not actually urgent in any sense.


---

Comment by jdemeyer created at 2015-12-22 14:54:55

Changing status from needs_review to needs_info.


---

Comment by jdemeyer created at 2015-12-22 14:54:55

Replying to [comment:4 cnassau]:
> I just wouldn't want to force users of the package to install X-code.

But you need Xcode anyway to compile anything (regardless of whether you use `GCC` from Sage).

I think you need to better explain what the problem is and how this branch solves that problem.


---

Comment by cnassau created at 2015-12-22 15:27:44

Replying to [comment:5 jdemeyer]:
> Replying to [comment:4 cnassau]:
> > I just wouldn't want to force users of the package to install X-code.
> 
> But you need Xcode anyway to compile anything (regardless of whether you use `GCC` from Sage).

I was under the impression that the Sage gcc is by itself a sufficient compiler for external library code (+ interfacing the OSX-Windows system) without an X-code installation. I might be wrong here, will recheck in time ...


---

Comment by jdemeyer created at 2015-12-22 15:40:20

Replying to [comment:6 cnassau]:
> I was under the impression that the Sage gcc is by itself a sufficient compiler for external library code (+ interfacing the OSX-Windows system) without an X-code installation.

That's far from true. A C compiler alone won't do much without a complete toolchain: you need header files, libraries, a linker...

Close as invalid?


---

Comment by cnassau created at 2015-12-22 16:27:46

Replying to [comment:7 jdemeyer]:
> Replying to [comment:6 cnassau]:
> > I was under the impression that the Sage gcc is by itself a sufficient compiler for external library code (+ interfacing the OSX-Windows system) without an X-code installation.
> 
> That's far from true. A C compiler alone won't do much without a complete toolchain: you need header files, libraries, a linker...
> 
> Close as invalid?

If you feel like closing it, go ahead.

[I currently don't have a machine without X-Code to recheck whether the Sage gcc is really so powerless without X-Code.]


---

Comment by jdemeyer created at 2015-12-26 12:08:12

Changing status from needs_info to positive_review.


---

Comment by vbraun created at 2015-12-28 11:15:08

Resolution: wontfix
