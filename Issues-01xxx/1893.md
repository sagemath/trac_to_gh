# Issue 1893: [needs additional review] Added graphical plotting to discrete random variables.

archive/issues_001893.json:
```json
{
    "assignees": [],
    "body": "This example explains the functionality for the new function 'plot':\n\n```\nsage: import urllib2\nsage: S = AlphabeticStrings()\nsage: ISARC = 'http://iml.univ-mrs.fr/~kohel/tch/ISARC/'\nsage: en = S.encoding(urllib2.urlopen(ISARC + 'blackcat.txt').read())\nsage: F_en = en.frequency_distribution()\nsage: F_en.plot()\nsage: fr = S.encoding(urllib2.urlopen(ISARC + 'chapitre.1.txt').read())\nsage: F_fr = fr.frequency_distribution()\nsage: F_fr.plot()\n```\nUnfortunately, I did not include such an example in the function \nsince it hard-codes an external web address, and would otherwise \nrequire a reasonably sized sample text for a proper demonstration.\n\n\nAssignee: **@boothby**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/1893_\n\n",
    "created_at": "2008-01-23T14:14:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "[needs additional review] Added graphical plotting to discrete random variables.",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/1893",
    "user": "https://github.com/sagetrac-kohel"
}
```
This example explains the functionality for the new function 'plot':

```
sage: import urllib2
sage: S = AlphabeticStrings()
sage: ISARC = 'http://iml.univ-mrs.fr/~kohel/tch/ISARC/'
sage: en = S.encoding(urllib2.urlopen(ISARC + 'blackcat.txt').read())
sage: F_en = en.frequency_distribution()
sage: F_en.plot()
sage: fr = S.encoding(urllib2.urlopen(ISARC + 'chapitre.1.txt').read())
sage: F_fr = fr.frequency_distribution()
sage: F_fr.plot()
```
Unfortunately, I did not include such an example in the function 
since it hard-codes an external web address, and would otherwise 
require a reasonably sized sample text for a proper demonstration.


Assignee: **@boothby**

_Issue created by migration from https://trac.sagemath.org/ticket/1893_





---

archive/issue_events_016464.json:
```json
{
    "actor": "https://github.com/sagetrac-kohel",
    "created_at": "2008-01-23T14:14:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16464"
}
```



---

archive/issue_events_016465.json:
```json
{
    "actor": "https://github.com/sagetrac-kohel",
    "created_at": "2008-01-23T14:14:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16465"
}
```



---

archive/issue_events_016466.json:
```json
{
    "actor": "https://github.com/sagetrac-kohel",
    "created_at": "2008-01-23T14:14:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16466"
}
```



---

archive/issue_events_016467.json:
```json
{
    "actor": "https://github.com/sagetrac-kohel",
    "created_at": "2008-01-23T14:14:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16467"
}
```



---

archive/issue_comments_009242.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nAttachment: **[probabiity.hg.gz](https://github.com/sagemath/sage/files/ticket1893/probabiity.hg.gz)**",
    "created_at": "2008-01-23T23:02:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1893#issuecomment-9242",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:1" align="right">Comment 1</div>

Attachment: **[probabiity.hg.gz](https://github.com/sagemath/sage/files/ticket1893/probabiity.hg.gz)**



---

archive/issue_events_016468.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-01-23T23:02:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-2.10.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16468"
}
```



---

archive/issue_events_016469.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-01-28T00:51:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16469"
}
```



---

archive/issue_events_016470.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-01-28T00:51:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16470"
}
```



---

archive/issue_comments_009243.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThis patch has been submitted (twice!) in the bundle accompanying #2153.\n\nWhether it should be applied... I say yes, but I'm worried that it will fail on infinite domains.",
    "created_at": "2008-02-15T04:45:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1893#issuecomment-9243",
    "user": "https://github.com/ncalexan"
}
```

<div id="comment:3" align="right">Comment 3</div>

This patch has been submitted (twice!) in the bundle accompanying #2153.

Whether it should be applied... I say yes, but I'm worried that it will fail on infinite domains.



---

archive/issue_events_016471.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-02-15T04:45:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16471"
}
```



---

archive/issue_events_016472.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-02-15T04:45:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16472"
}
```



---

archive/issue_comments_009244.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n This example explains the functionality for the new function 'plot':\n+\n+```\n sage: import urllib2\n sage: S = AlphabeticStrings()\n sage: ISARC = 'http://iml.univ-mrs.fr/~kohel/tch/ISARC/'\n@@ -8,7 +10,7 @@\n sage: fr = S.encoding(urllib2.urlopen(ISARC + 'chapitre.1.txt').read())\n sage: F_fr = fr.frequency_distribution()\n sage: F_fr.plot()\n-\n+```\n Unfortunately, I did not include such an example in the function \n since it hard-codes an external web address, and would otherwise \n require a reasonably sized sample text for a proper demonstration.\n``````\n",
    "created_at": "2008-02-18T13:48:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1893#issuecomment-9244",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 This example explains the functionality for the new function 'plot':
+
+```
 sage: import urllib2
 sage: S = AlphabeticStrings()
 sage: ISARC = 'http://iml.univ-mrs.fr/~kohel/tch/ISARC/'
@@ -8,7 +10,7 @@
 sage: fr = S.encoding(urllib2.urlopen(ISARC + 'chapitre.1.txt').read())
 sage: F_fr = fr.frequency_distribution()
 sage: F_fr.plot()
-
+```
 Unfortunately, I did not include such an example in the function 
 since it hard-codes an external web address, and would otherwise 
 require a reasonably sized sample text for a proper demonstration.
``````




---

archive/issue_events_016473.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-03-12T01:08:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "title_is": "[needs additional review] Added graphical plotting to discrete random variables.",
    "title_was": "Added graphical plotting to discrete random variables.",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16473"
}
```



---

archive/issue_comments_009245.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nNick raised some issue which should be addressed.\n\nCheers,\n\nMichael",
    "created_at": "2008-03-12T01:08:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1893#issuecomment-9245",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:5" align="right">Comment 5</div>

Nick raised some issue which should be addressed.

Cheers,

Michael



---

archive/issue_events_016474.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-01-18T11:33:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16474"
}
```



---

archive/issue_events_016475.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-01-18T11:33:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "component: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16475"
}
```



---

archive/issue_comments_009246.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAccording to `hg in probabiity.hg -p` in 4.3.1.rc0,\n\n```diff\nsummary:     Added plotting function for graphical display of a discrete random variable.\n\ndiff --git a/sage/probability/random_variable.py b/sage/probability/random_variable.py\n--- a/sage/probability/random_variable.py\n+++ b/sage/probability/random_variable.py\n@@ -21,6 +21,7 @@ from sage.structure.parent_base import P\n from sage.misc.functional import sqrt, log\n from sage.rings.all import RealField, RationalField\n from sage.sets.set import Set\n+import sage.plot.plot as plot\n \n ################################################################################\n ################################################################################\n@@ -265,6 +266,25 @@ class DiscreteRandomVariable(RandomVaria\n                \"Correlation not defined if standard deviations are not both nonzero.\"\n        return cov/(sigX*sigY)\n \n+    def plot(f, rgbcolor=(1,0,0)):\n+        \"\"\"\n+        Create a histogram from a frequency distribution or random variable.\n+        \"\"\"\n+       X = f.domain()\n+       Text = []\n+        Bars = []\n+        fnc_max = 0.0\n+        N = len(X)\n+        for n in range(N):\n+            x = X[n]\n+            y = f(x)\n+            fnc_max = max(fnc_max,y)\n+            Text.append(plot.text(str(x),(n+0.5,-0.01),rgbcolor = (0,0,0)))\n+            Bars.append(plot.polygon([ [n,0], [n,y], [n+1,y], [n+1,0] ], rgbcolor = rgbcolor))\n+        Hist = sum(Text+Bars)\n+        Hist.range(xmin=0,xmax=N,ymin=0,ymax=fnc_max)\n+        return Hist\n+\n```\nDoes this belong in [graphics](http://trac.sagemath.org/sage_trac/query?component=graphics&order=priority)?",
    "created_at": "2010-01-18T11:33:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1893#issuecomment-9246",
    "user": "https://github.com/qed777"
}
```

<div id="comment:6" align="right">Comment 6</div>

According to `hg in probabiity.hg -p` in 4.3.1.rc0,

```diff
summary:     Added plotting function for graphical display of a discrete random variable.

diff --git a/sage/probability/random_variable.py b/sage/probability/random_variable.py
--- a/sage/probability/random_variable.py
+++ b/sage/probability/random_variable.py
@@ -21,6 +21,7 @@ from sage.structure.parent_base import P
 from sage.misc.functional import sqrt, log
 from sage.rings.all import RealField, RationalField
 from sage.sets.set import Set
+import sage.plot.plot as plot
 
 ################################################################################
 ################################################################################
@@ -265,6 +266,25 @@ class DiscreteRandomVariable(RandomVaria
                "Correlation not defined if standard deviations are not both nonzero."
        return cov/(sigX*sigY)
 
+    def plot(f, rgbcolor=(1,0,0)):
+        """
+        Create a histogram from a frequency distribution or random variable.
+        """
+       X = f.domain()
+       Text = []
+        Bars = []
+        fnc_max = 0.0
+        N = len(X)
+        for n in range(N):
+            x = X[n]
+            y = f(x)
+            fnc_max = max(fnc_max,y)
+            Text.append(plot.text(str(x),(n+0.5,-0.01),rgbcolor = (0,0,0)))
+            Bars.append(plot.polygon([ [n,0], [n,y], [n+1,y], [n+1,0] ], rgbcolor = rgbcolor))
+        Hist = sum(Text+Bars)
+        Hist.range(xmin=0,xmax=N,ymin=0,ymax=fnc_max)
+        return Hist
+
```
Does this belong in [graphics](http://trac.sagemath.org/sage_trac/query?component=graphics&order=priority)?



---

archive/issue_events_016476.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16476"
}
```



---

archive/issue_events_016477.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16477"
}
```



---

archive/issue_events_016478.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16478"
}
```



---

archive/issue_events_016479.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16479"
}
```



---

archive/issue_events_016480.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16480"
}
```



---

archive/issue_events_016481.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16481"
}
```



---

archive/issue_events_016482.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16482"
}
```



---

archive/issue_events_016483.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16483"
}
```



---

archive/issue_comments_009247.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI have a feeling that #9671 will address this sufficiently if one could plug it into the class in question.",
    "created_at": "2014-10-28T20:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1893#issuecomment-9247",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">Comment 11</div>

I have a feeling that #9671 will address this sufficiently if one could plug it into the class in question.



---

archive/issue_events_016484.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1893",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1893#event-16484"
}
```
