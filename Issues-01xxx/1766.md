# Issue 1766: enhancing latex embedding with plots

archive/issues_001766.json:
```json
{
    "body": "This is patch for the latex_embed inside the ${SAGE_BASE}/examples directory.\n\nNow embedding plots works and makes it more usable!\n\n\nRead included README.txt for more information and open the included PDF example.pdf to see the result.\n\n**Assignee:** @mwhansen\n\n**Keywords:** latex, sagetex, latex_embed\n\nIssue created by migration from https://trac.sagemath.org/ticket/1766\n\n",
    "closed_at": "2008-04-15T06:35:23Z",
    "created_at": "2008-01-13T22:58:57Z",
    "labels": [
        "component: documentation",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.0",
    "title": "enhancing latex embedding with plots",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/1766",
    "user": "https://github.com/haraldschilly"
}
```
This is patch for the latex_embed inside the ${SAGE_BASE}/examples directory.

Now embedding plots works and makes it more usable!


Read included README.txt for more information and open the included PDF example.pdf to see the result.

**Assignee:** @mwhansen

**Keywords:** latex, sagetex, latex_embed

Issue created by migration from https://trac.sagemath.org/ticket/1766





---

archive/issue_comments_008575.json:
```json
{
    "body": "<a id='comment:1'></a>\n[here a zip file of the folder](http://homepage.univie.ac.at/harald.schilly/sage/latex_embed.zip)",
    "created_at": "2008-01-14T00:51:02Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8575",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:1'></a>
[here a zip file of the folder](http://homepage.univie.ac.at/harald.schilly/sage/latex_embed.zip)



---

archive/attachments_001418.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "latex_embedding.hg",
    "asset_url": "tarball://root/attachments/ticket1766/latex_embedding.hg",
    "created_at": "2008-01-16T21:57:26Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket1766/latex_embedding.hg",
    "user": "https://github.com/haraldschilly"
}
```



---

archive/issue_comments_008576.json:
```json
{
    "body": "**Attachment:** [latex_embedding.hg](https://github.com/sagemath/sage/files/ticket1766/latex_embedding.hg)\n\nignore the .hg, it is outdated and i cannot upload the current one because of it's size\n\n\n\n** use the link above to the zip file! **",
    "created_at": "2008-01-16T21:57:26Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8576",
    "user": "https://github.com/haraldschilly"
}
```

**Attachment:** [latex_embedding.hg](https://github.com/sagemath/sage/files/ticket1766/latex_embedding.hg)

ignore the .hg, it is outdated and i cannot upload the current one because of it's size



** use the link above to the zip file! **



---

archive/issue_events_008151.json:
```json
{
    "actor": "https://github.com/haraldschilly",
    "created_at": "2008-01-16T22:08:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8151"
}
```



---

archive/issue_events_008152.json:
```json
{
    "actor": "https://github.com/haraldschilly",
    "created_at": "2008-01-16T22:08:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8152"
}
```



---

archive/issue_comments_008577.json:
```json
{
    "body": "<a id='comment:4'></a>\nIt might be nice to change the filenames used for plotting to .pdf instead of .png.\nThis should automagically turn the included plots into vector graphics instead of bitmaps. It works for the example.tex in the .zip, but I'm not familiar enough with the plotting code to know if it has any drawbacks.",
    "created_at": "2008-01-16T22:23:55Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8577",
    "user": "https://github.com/wjp"
}
```

<a id='comment:4'></a>
It might be nice to change the filenames used for plotting to .pdf instead of .png.
This should automagically turn the included plots into vector graphics instead of bitmaps. It works for the example.tex in the .zip, but I'm not familiar enough with the plotting code to know if it has any drawbacks.



---

archive/issue_comments_008578.json:
```json
{
    "body": "<a id='comment:5'></a>\nPlotting pdf's by default may have drawbacks -- at least last time I checked the pdf rendering for matplotlib was less mature than the png renderer.   This could be an issue in some cases.  However, of course getting vector graphics is a huge plus.",
    "created_at": "2008-01-17T02:06:46Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8578",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:5'></a>
Plotting pdf's by default may have drawbacks -- at least last time I checked the pdf rendering for matplotlib was less mature than the png renderer.   This could be an issue in some cases.  However, of course getting vector graphics is a huge plus.



---

archive/issue_comments_008579.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [wjp](#comment%3A4):\n> This should automagically turn the included plots into vector graphics instead of bitmaps. \n\n\nahh okay, if this works for all types of plots (plot, matrix_plot, graphs, 3d graphs, ...) then it should be done that way. i'll try this. perhaps i'm able to make the extension customizable, then the user can select it and pdf is default. or if there are useful errors, it fallbacks from pdf to png.",
    "created_at": "2008-01-17T11:00:45Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8579",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:6'></a>
Replying to [wjp](#comment%3A4):
> This should automagically turn the included plots into vector graphics instead of bitmaps. 


ahh okay, if this works for all types of plots (plot, matrix_plot, graphs, 3d graphs, ...) then it should be done that way. i'll try this. perhaps i'm able to make the extension customizable, then the user can select it and pdf is default. or if there are useful errors, it fallbacks from pdf to png.



---

archive/issue_comments_008580.json:
```json
{
    "body": "<a id='comment:7'></a>\nI've updated the code to default to .pdf files now. Plots are fine and output-quality much better now!\n\n\nIt's also possible to pass more arguments to the show command. Therefore it is possible to switch back to .png if there are problems.\n\n\nBut plotting 3d-Graphs doesn't work (and has never) because the .show(..) command of the tachyon renderer has no filename= option. essentially, this .show() is entirely different (also docstring missing) - i'll open a ticket for this and possibly related problems.",
    "created_at": "2008-01-17T23:28:39Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8580",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:7'></a>
I've updated the code to default to .pdf files now. Plots are fine and output-quality much better now!


It's also possible to pass more arguments to the show command. Therefore it is possible to switch back to .png if there are problems.


But plotting 3d-Graphs doesn't work (and has never) because the .show(..) command of the tachyon renderer has no filename= option. essentially, this .show() is entirely different (also docstring missing) - i'll open a ticket for this and possibly related problems.



---

archive/issue_comments_008581.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [schilly](#comment%3A7):\n> ...the .show(..) command of the tachyon renderer has no filename= option. essentially, this .show() is entirely different (also docstring missing) - i'll open a ticket for this and possibly related problems.\n\n\nThis is now #1925",
    "created_at": "2008-01-25T12:50:24Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8581",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:8'></a>
Replying to [schilly](#comment%3A7):
> ...the .show(..) command of the tachyon renderer has no filename= option. essentially, this .show() is entirely different (also docstring missing) - i'll open a ticket for this and possibly related problems.


This is now #1925



---

archive/issue_events_008153.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-02-15T23:38:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8153"
}
```



---

archive/attachments_001419.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "latex_embed_updates.hg",
    "asset_url": "tarball://root/attachments/ticket1766/latex_embed_updates.hg",
    "created_at": "2008-02-25T05:55:13Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket1766/latex_embed_updates.hg",
    "user": "https://github.com/dandrake"
}
```



---

archive/issue_comments_008582.json:
```json
{
    "body": "**Attachment:** [latex_embed_updates.hg](https://github.com/sagemath/sage/files/ticket1766/latex_embed_updates.hg)\n\npatch to current version of sagetex.{sty,py}",
    "created_at": "2008-02-25T05:55:13Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8582",
    "user": "https://github.com/dandrake"
}
```

**Attachment:** [latex_embed_updates.hg](https://github.com/sagemath/sage/files/ticket1766/latex_embed_updates.hg)

patch to current version of sagetex.{sty,py}



---

archive/issue_comments_008583.json:
```json
{
    "body": "patch to current version of sagetex.{sty,py}",
    "created_at": "2008-02-25T06:00:53Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8583",
    "user": "https://github.com/dandrake"
}
```

patch to current version of sagetex.{sty,py}



---

archive/attachments_001420.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "latex_embed_updates.2.hg",
    "asset_url": "tarball://root/attachments/ticket1766/latex_embed_updates.2.hg",
    "created_at": "2008-02-25T07:03:21Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket1766/latex_embed_updates.2.hg",
    "user": "https://github.com/dandrake"
}
```



---

archive/issue_comments_008584.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Attachment:** [latex_embed_updates.2.hg](https://github.com/sagemath/sage/files/ticket1766/latex_embed_updates.2.hg)\n\nPlease ignore the bundles! I'm still new to Mercurial.\n\nThe patch updates sagetex.{sty,py}, but there's more to be done. The biggest issue is that when running Sage on the produced .sage file, it pops up windows with all the plots. (In Ubuntu gutsy, at least.) We need to find a way to keep Sage from doing this while processing the script.",
    "created_at": "2008-02-25T07:03:21Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8584",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:10'></a>
**Attachment:** [latex_embed_updates.2.hg](https://github.com/sagemath/sage/files/ticket1766/latex_embed_updates.2.hg)

Please ignore the bundles! I'm still new to Mercurial.

The patch updates sagetex.{sty,py}, but there's more to be done. The biggest issue is that when running Sage on the produced .sage file, it pops up windows with all the plots. (In Ubuntu gutsy, at least.) We need to find a way to keep Sage from doing this while processing the script.



---

archive/issue_comments_008585.json:
```json
{
    "body": "<a id='comment:11'></a>\nI've made huge improvements to the sagetex stuff. The .sty file has been rewritten and now works much better; all the previous problems have been fixed. The source code for both the .sty and .py files are bundled into a Docstrip .dtx file, which allows much better documentation.\n\nPlease try this out! I'd like to get it in soon.",
    "created_at": "2008-03-03T11:22:09Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8585",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:11'></a>
I've made huge improvements to the sagetex stuff. The .sty file has been rewritten and now works much better; all the previous problems have been fixed. The source code for both the .sty and .py files are bundled into a Docstrip .dtx file, which allows much better documentation.

Please try this out! I'd like to get it in soon.



---

archive/issue_comments_008586.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"latex, sagetex, latex_embed\".",
    "created_at": "2008-03-03T11:22:09Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8586",
    "user": "https://github.com/dandrake"
}
```

**Changing keywords** from "" to "latex, sagetex, latex_embed".



---

archive/issue_comments_008587.json:
```json
{
    "body": "<a id='comment:12'></a>\nI can't apply this cleanly...\n\n```\ndfdeshom@sage:~/custom/sage/examples$ ../sage -hg import 1766.patch\napplying 1766.patch\nnot in dirstate: latex_embed/auto/example.el!\nnot in dirstate: latex_embed/auto/sagetex.el!\n```\n\nShould I have the above-mentioned files? in latex_embed/?",
    "created_at": "2008-03-04T03:29:12Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8587",
    "user": "https://github.com/dfdeshom"
}
```

<a id='comment:12'></a>
I can't apply this cleanly...

```
dfdeshom@sage:~/custom/sage/examples$ ../sage -hg import 1766.patch
applying 1766.patch
not in dirstate: latex_embed/auto/example.el!
not in dirstate: latex_embed/auto/sagetex.el!
```

Should I have the above-mentioned files? in latex_embed/?



---

archive/issue_comments_008588.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [dfdeshom](#comment%3A12):\n> I can't apply this cleanly...\n\n...\n> Should I have the above-mentioned files? in latex_embed/?\n\n\nThose aren't related to the sagetex stuff; they are something that emacs makes. I deleted them since they're not directly related to sagetex (and because I'm a vim person :).\n\nAt any rate, they are not important and you can ignore problems related to them. I can redo the patch if you'd like.",
    "created_at": "2008-03-04T03:39:32Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8588",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:13'></a>
Replying to [dfdeshom](#comment%3A12):
> I can't apply this cleanly...

...
> Should I have the above-mentioned files? in latex_embed/?


Those aren't related to the sagetex stuff; they are something that emacs makes. I deleted them since they're not directly related to sagetex (and because I'm a vim person :).

At any rate, they are not important and you can ignore problems related to them. I can redo the patch if you'd like.



---

archive/issue_comments_008589.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [ddrake](#comment%3A13):\n> \n> At any rate, they are not important and you can ignore problems related to them. I can redo the patch if you'd like.\n\n\nYes, could you please redo it?",
    "created_at": "2008-03-04T03:50:39Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8589",
    "user": "https://github.com/dfdeshom"
}
```

<a id='comment:14'></a>
Replying to [ddrake](#comment%3A13):
> 
> At any rate, they are not important and you can ignore problems related to them. I can redo the patch if you'd like.


Yes, could you please redo it?



---

archive/issue_events_008154.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2008-03-04T04:56:24Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "rename": {
        "from": "enhancing latex embedding with plots",
        "to": "[positive review pending a few concerns] enhancing latex embedding with plots"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8154"
}
```



---

archive/issue_comments_008590.json:
```json
{
    "body": "<a id='comment:15'></a>\nThis patch applies cleanly to 2.10.2 for me.\n\nOverall, I think this is great stuff!  I give this a positive review pending addressing a few concerns:\n\n* when latexing a file, if a plot does not exist, the texing stops and gives an error.  Pressing enter through the errors, running sage, and then texing again works, but it is still disconcerting.  Is there any way to ignore the non-existence of a plot file, maybe with a warning that sage needs to be run?\n\n* The patch says that E2.sobj changed.  Can we delete the file?\n\n* In the readme, at first glance, it looks like I just need to follow the 1, 2, 3, 4 instructions, which of course give an error if I haven't latexed the dtx file yet.  Can you somehow highlight that in the readme instead of it being buried right before what looks like the important, step-by-step instructions?\n\n* credit: somewhere, I think you ought to mention the people that did the original interface.  Maybe a note in the readme might be appropriate.  It also looks weird to have \"and others\" in the documentation...how about either explicitly putting their names there or just put your name there and a note mentioning that it is based on an original interface by whoever.  I'm not sure the best way to handle this (you're the one that knows how much code was there before and how much code you've done), but some note somewhere probably is in order.\n\nThat said, as soon as I saw this patch I immediately tested it, saw that it worked great, and sent the example pdf and tex file to a friend who was discussing the sage and tex combination just this last weekend.  I know he'll be excited!",
    "created_at": "2008-03-04T04:56:24Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8590",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:15'></a>
This patch applies cleanly to 2.10.2 for me.

Overall, I think this is great stuff!  I give this a positive review pending addressing a few concerns:

* when latexing a file, if a plot does not exist, the texing stops and gives an error.  Pressing enter through the errors, running sage, and then texing again works, but it is still disconcerting.  Is there any way to ignore the non-existence of a plot file, maybe with a warning that sage needs to be run?

* The patch says that E2.sobj changed.  Can we delete the file?

* In the readme, at first glance, it looks like I just need to follow the 1, 2, 3, 4 instructions, which of course give an error if I haven't latexed the dtx file yet.  Can you somehow highlight that in the readme instead of it being buried right before what looks like the important, step-by-step instructions?

* credit: somewhere, I think you ought to mention the people that did the original interface.  Maybe a note in the readme might be appropriate.  It also looks weird to have "and others" in the documentation...how about either explicitly putting their names there or just put your name there and a note mentioning that it is based on an original interface by whoever.  I'm not sure the best way to handle this (you're the one that knows how much code was there before and how much code you've done), but some note somewhere probably is in order.

That said, as soon as I saw this patch I immediately tested it, saw that it worked great, and sent the example pdf and tex file to a friend who was discussing the sage and tex combination just this last weekend.  I know he'll be excited!



---

archive/issue_comments_008591.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [jason](#comment%3A15):\n>\n>* when latexing a file, if a plot does not exist, the texing stops and gives an error.  Pressing enter through the errors, running sage, and then texing again works, but it is still disconcerting.  Is there any way to ignore the non-existence of a plot file, maybe with a warning that sage needs to be run?\n\n\n\nThis can be done, but then the only way to tell that you need to run Sage is the package warning issued at the end of running latex, which I tried to make reasonably obvious but can be missed. As it is, the missing file error looks like\n\n```\n! LaTeX Error: File `sage-plots-for-example.tex/plot-0' not found.\n```\n\nwhich, along with the package warning at the end of the run, is reasonably informative, and it behaves like `\\includegraphics` commands.\n\nIf you really want latex to run without stopping, you can always use `latex -interaction=nonstopmode`. \n\nThe current behavior seems more natural to me, but I can change it if that's the consensus. I can also have the behavior be toggle-able via a package option.\n\n \n>  * The patch says that E2.sobj changed.  Can we delete the file?\n\n\n\nYes. It's just cruft that `example.tex` produces. It gets regenerated when you run Sage on the example.sage script.\n\n\n>  * In the readme, at first glance, it looks like I just need to follow the 1, 2, 3, 4 instructions, which of course give an error if I haven't latexed the dtx file yet.  Can you somehow highlight that in the readme instead of it being buried right before what looks like the important, step-by-step instructions?\n\n\n\nAh, so you couldn't be bothered to read the text, and took the easy way out? :)\n\nI changed the readme to make that a bit more obvious. Perhaps I'm just too accustomed to `.dtx` and `.ins` files -- ideally we will eventually distribute this with some processing already done, so that the prospective user can read the documentation and see the example file without doing any processing.\n\n>  * credit: somewhere, I think you ought to mention the people that did the original interface.  Maybe a note in the readme might be appropriate.  It also looks weird to have \"and others\" in the documentation...how about either explicitly putting their names there or just put your name there and a note mentioning that it is based on an original interface by whoever.  I'm not sure the best way to handle this (you're the one that knows how much code was there before and how much code you've done), but some note somewhere probably is in order.\n\n\nI already had some credits at the end of the documentation, but I added a line in the readme pointing to them.\n\n> That said, as soon as I saw this patch I immediately tested it, saw that it worked great, and sent the example pdf and tex file to a friend who was discussing the sage and tex combination just this last weekend.  I know he'll be excited!\n\n\nSweet! I'm glad to hear that other people think this is as cool as I do.",
    "created_at": "2008-03-04T06:25:10Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8591",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:16'></a>
Replying to [jason](#comment%3A15):
>
>* when latexing a file, if a plot does not exist, the texing stops and gives an error.  Pressing enter through the errors, running sage, and then texing again works, but it is still disconcerting.  Is there any way to ignore the non-existence of a plot file, maybe with a warning that sage needs to be run?



This can be done, but then the only way to tell that you need to run Sage is the package warning issued at the end of running latex, which I tried to make reasonably obvious but can be missed. As it is, the missing file error looks like

```
! LaTeX Error: File `sage-plots-for-example.tex/plot-0' not found.
```

which, along with the package warning at the end of the run, is reasonably informative, and it behaves like `\includegraphics` commands.

If you really want latex to run without stopping, you can always use `latex -interaction=nonstopmode`. 

The current behavior seems more natural to me, but I can change it if that's the consensus. I can also have the behavior be toggle-able via a package option.

 
>  * The patch says that E2.sobj changed.  Can we delete the file?



Yes. It's just cruft that `example.tex` produces. It gets regenerated when you run Sage on the example.sage script.


>  * In the readme, at first glance, it looks like I just need to follow the 1, 2, 3, 4 instructions, which of course give an error if I haven't latexed the dtx file yet.  Can you somehow highlight that in the readme instead of it being buried right before what looks like the important, step-by-step instructions?



Ah, so you couldn't be bothered to read the text, and took the easy way out? :)

I changed the readme to make that a bit more obvious. Perhaps I'm just too accustomed to `.dtx` and `.ins` files -- ideally we will eventually distribute this with some processing already done, so that the prospective user can read the documentation and see the example file without doing any processing.

>  * credit: somewhere, I think you ought to mention the people that did the original interface.  Maybe a note in the readme might be appropriate.  It also looks weird to have "and others" in the documentation...how about either explicitly putting their names there or just put your name there and a note mentioning that it is based on an original interface by whoever.  I'm not sure the best way to handle this (you're the one that knows how much code was there before and how much code you've done), but some note somewhere probably is in order.


I already had some credits at the end of the documentation, but I added a line in the readme pointing to them.

> That said, as soon as I saw this patch I immediately tested it, saw that it worked great, and sent the example pdf and tex file to a friend who was discussing the sage and tex combination just this last weekend.  I know he'll be excited!


Sweet! I'm glad to hear that other people think this is as cool as I do.



---

archive/issue_comments_008592.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe current version of the patch only modifies files and adds them; this will avoid problems with missing cruft files. It addresses all of jason's concerns except for the first bullet point; I'm not sure what to do with that yet. \n\nI do think we need to get those files out of the repo; we are version controlling `.aux` and `.log` files from LaTeX, as well as a `.pyc` file! Is it okay for me to upload bundles, or should I stick to patches? On #sage-devel it seemed like patches are preferred.",
    "created_at": "2008-03-04T06:45:08Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8592",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:17'></a>
The current version of the patch only modifies files and adds them; this will avoid problems with missing cruft files. It addresses all of jason's concerns except for the first bullet point; I'm not sure what to do with that yet. 

I do think we need to get those files out of the repo; we are version controlling `.aux` and `.log` files from LaTeX, as well as a `.pyc` file! Is it okay for me to upload bundles, or should I stick to patches? On #sage-devel it seemed like patches are preferred.



---

archive/issue_comments_008593.json:
```json
{
    "body": "<a id='comment:18'></a>\nI've updated [the all-in-one zip file](http://homepage.univie.ac.at/harald.schilly/sage/latex_embed.zip). \n\nIn my opinion the README should be more detailed and there is a small problem: when just running the latex/sage/latex commands, the graphics are not included (white boxes with black border). I don't know why that's just how it does it ;) ... using pdflatex at the last step does what's now in the .zip file!\n\nThe repository must be cleaned up, because there are files tracked which should not. See .zip file for all necessary files plus the prerendered .pdf docs - they could be included in the repository, because i think it's nice for a new user to instantaneously see what's possible.\n\nthx again to dan.",
    "created_at": "2008-03-04T23:01:50Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8593",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:18'></a>
I've updated [the all-in-one zip file](http://homepage.univie.ac.at/harald.schilly/sage/latex_embed.zip). 

In my opinion the README should be more detailed and there is a small problem: when just running the latex/sage/latex commands, the graphics are not included (white boxes with black border). I don't know why that's just how it does it ;) ... using pdflatex at the last step does what's now in the .zip file!

The repository must be cleaned up, because there are files tracked which should not. See .zip file for all necessary files plus the prerendered .pdf docs - they could be included in the repository, because i think it's nice for a new user to instantaneously see what's possible.

thx again to dan.



---

archive/issue_comments_008594.json:
```json
{
    "body": "<a id='comment:19'></a>\nThe current version of the patch addresses [Jason's first bullet point](http://trac.sagemath.org/sage_trac/ticket/1766#comment:15): missing graphics files no longer cause an error, but they do make LaTeX issue a warning.",
    "created_at": "2008-03-05T09:21:00Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8594",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:19'></a>
The current version of the patch addresses [Jason's first bullet point](http://trac.sagemath.org/sage_trac/ticket/1766#comment:15): missing graphics files no longer cause an error, but they do make LaTeX issue a warning.



---

archive/issue_comments_008595.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [schilly](#comment%3A18):\n> and there is a small problem: when just running the latex/sage/latex commands, the graphics are not included (white boxes with black border). I don't know why that's just how it does it ;) ... using pdflatex at the last step does what's now in the .zip file!\n\n\nHrm, that's odd. I don't have that behavior. But the current version deals with graphics better, so perhaps that will work for you.\n\n> The repository must be cleaned up, because there are files tracked which should not. See .zip file for all necessary files plus the prerendered .pdf docs - they could be included in the repository, because i think it's nice for a new user to instantaneously see what's possible.\n\n\nI agree. No extra cruft beyond the source files, except for PDFs of the documentation and the example file.",
    "created_at": "2008-03-05T09:23:13Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8595",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:20'></a>
Replying to [schilly](#comment%3A18):
> and there is a small problem: when just running the latex/sage/latex commands, the graphics are not included (white boxes with black border). I don't know why that's just how it does it ;) ... using pdflatex at the last step does what's now in the .zip file!


Hrm, that's odd. I don't have that behavior. But the current version deals with graphics better, so perhaps that will work for you.

> The repository must be cleaned up, because there are files tracked which should not. See .zip file for all necessary files plus the prerendered .pdf docs - they could be included in the repository, because i think it's nice for a new user to instantaneously see what's possible.


I agree. No extra cruft beyond the source files, except for PDFs of the documentation and the example file.



---

archive/issue_comments_008596.json:
```json
{
    "body": "<a id='comment:21'></a>\nThe current version of the patch fixes a misplaced brace, and adds the imagemagick option.",
    "created_at": "2008-03-07T05:24:14Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8596",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:21'></a>
The current version of the patch fixes a misplaced brace, and adds the imagemagick option.



---

archive/attachments_001421.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "sagetex.patch",
    "asset_url": "tarball://root/attachments/ticket1766/sagetex.patch",
    "created_at": "2008-03-12T04:49:24Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket1766/sagetex.patch",
    "user": "https://github.com/williamstein"
}
```



---

archive/issue_comments_008597.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Attachment:** [sagetex.patch](https://github.com/sagemath/sage/files/ticket1766/sagetex.patch)",
    "created_at": "2008-03-12T04:49:24Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8597",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:22'></a>
**Attachment:** [sagetex.patch](https://github.com/sagemath/sage/files/ticket1766/sagetex.patch)



---

archive/issue_events_008155.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-12T04:49:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "milestone": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8155"
}
```



---

archive/issue_events_008156.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-12T04:49:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "milestone": "sage-2.10.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8156"
}
```



---

archive/issue_comments_008598.json:
```json
{
    "body": "<a id='comment:23'></a>\nlast words on this: [sage-devel info about SageTeX@CTAN](http://groups.google.com/group/sage-devel/browse_frm/thread/82f8c4a3d1bb076d).\n\nTherefore the entire latex_embed directory should be replaced by [these files](http://tug.ctan.org/tex-archive/macros/latex/contrib/sagetex/).",
    "created_at": "2008-03-13T12:03:54Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8598",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:23'></a>
last words on this: [sage-devel info about SageTeX@CTAN](http://groups.google.com/group/sage-devel/browse_frm/thread/82f8c4a3d1bb076d).

Therefore the entire latex_embed directory should be replaced by [these files](http://tug.ctan.org/tex-archive/macros/latex/contrib/sagetex/).



---

archive/issue_comments_008599.json:
```json
{
    "body": "**Assignee:** @mwhansen",
    "created_at": "2008-03-31T14:36:27Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8599",
    "user": "https://github.com/mwhansen"
}
```

**Assignee:** @mwhansen



---

archive/issue_events_008157.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-03-31T14:36:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8157"
}
```



---

archive/issue_events_008158.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-04-14T10:09:10Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "rename": {
        "from": "[positive review pending a few concerns] enhancing latex embedding with plots",
        "to": "enhancing latex embedding with plots"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8158"
}
```



---

archive/issue_events_008159.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-04-14T10:09:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8159"
}
```



---

archive/issue_comments_008600.json:
```json
{
    "body": "<a id='comment:25'></a>\nI've made http://sage.math.washington.edu/home/mhansen/1766.hg which replaces the current contents of examples/latex_embed with the CTAN files.",
    "created_at": "2008-04-14T10:09:10Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8600",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:25'></a>
I've made http://sage.math.washington.edu/home/mhansen/1766.hg which replaces the current contents of examples/latex_embed with the CTAN files.



---

archive/issue_events_008160.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-04-15T06:35:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8160"
}
```



---

archive/issue_events_008161.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-04-15T06:35:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1766#event-8161"
}
```



---

archive/issue_comments_008601.json:
```json
{
    "body": "<a id='comment:26'></a>\nMerged in Sage 3.0.alpha5",
    "created_at": "2008-04-15T06:35:23Z",
    "issue": "https://github.com/sagemath/sage/issues/1766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1766#issuecomment-8601",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:26'></a>
Merged in Sage 3.0.alpha5
