# Issue 1877: same range variables -- bug in 3d plotting (probably very very very easy to fix)

archive/issues_001877.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: var('x,y')\nsage: plot3d(sin(x*y), (x,-1,1), (x,-1,1))\nboom!\n```\n\nThe problem is that both ranges use the variable x.  The fix is to make\nsure that the two variables are different and if not raise an exception (do this also in parametric_plot3d). \n\n\nAssignee: **@sagetrac-thomag**\n\nKeywords: **editor_mhansen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/1877_\n\n",
    "closed_at": "2008-09-06T23:12:27Z",
    "created_at": "2008-01-21T06:40:06Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.1.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "same range variables -- bug in 3d plotting (probably very very very easy to fix)",
    "type": "issue",
    "updated_at": "2008-09-06T23:12:27Z",
    "url": "https://github.com/sagemath/sage/issues/1877",
    "user": "https://github.com/williamstein"
}
```

```
sage: var('x,y')
sage: plot3d(sin(x*y), (x,-1,1), (x,-1,1))
boom!
```

The problem is that both ranges use the variable x.  The fix is to make
sure that the two variables are different and if not raise an exception (do this also in parametric_plot3d). 


Assignee: **@sagetrac-thomag**

Keywords: **editor_mhansen**

_Issue created by migration from https://trac.sagemath.org/ticket/1877_





---

archive/issue_events_016311.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-01-21T06:40:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "milestone_number": null,
    "milestone_title": "sage-3.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16311"
}
```



---

archive/issue_events_016312.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-01-21T06:40:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "component: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16312"
}
```



---

archive/issue_events_016313.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-01-21T06:40:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16313"
}
```



---

archive/issue_events_016314.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-01-21T06:40:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16314"
}
```



---

archive/issue_comments_009152.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nAttachment: **[1877fix.hg.gz](https://github.com/sagemath/sage/files/ticket1877/1877fix.hg.gz)**\n\nplot3d and parametric_plot3d should fail a tiny bit more gracefully if they're given two ranges using the same variable:\n\n```\nsage: var('x,y')\nsage: plot3d(sin(x*y), (x,-1,1), (x,-1,1))\nValueError: If the ranges in the argument of plot3d are 3-tuples, then the first components of those 3-tuples must be different.\nsage: var('u,v')\nsage: parametric_plot3d((cos(u), sin(u) + cos(v), sin(v)), (u, 0, 2*pi), (u, -pi, pi))\nValueError: If the ranges in the argument of parametric_plot3d are both 3-tuples, then the first components of those 3-tuples must be different.\n```",
    "created_at": "2008-08-26T15:52:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9152",
    "user": "https://github.com/sagetrac-thomag"
}
```

<div id="comment:1" align="right">Comment 1</div>

Attachment: **[1877fix.hg.gz](https://github.com/sagemath/sage/files/ticket1877/1877fix.hg.gz)**

plot3d and parametric_plot3d should fail a tiny bit more gracefully if they're given two ranges using the same variable:

```
sage: var('x,y')
sage: plot3d(sin(x*y), (x,-1,1), (x,-1,1))
ValueError: If the ranges in the argument of plot3d are 3-tuples, then the first components of those 3-tuples must be different.
sage: var('u,v')
sage: parametric_plot3d((cos(u), sin(u) + cos(v), sin(v)), (u, 0, 2*pi), (u, -pi, pi))
ValueError: If the ranges in the argument of parametric_plot3d are both 3-tuples, then the first components of those 3-tuples must be different.
```



---

archive/issue_comments_009153.json:
```json
{
    "body": "Changed assignee from **@williamstein** to **@sagetrac-thomag**",
    "created_at": "2008-08-26T15:52:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9153",
    "user": "https://github.com/sagetrac-thomag"
}
```

Changed assignee from **@williamstein** to **@sagetrac-thomag**



---

archive/issue_events_016315.json:
```json
{
    "actor": "https://github.com/sagetrac-thomag",
    "created_at": "2008-08-26T16:04:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16315"
}
```



---

archive/issue_comments_009154.json:
```json
{
    "body": "Changed keywords from **** to **editor_mhansen**",
    "created_at": "2008-08-29T00:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9154",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Changed keywords from **** to **editor_mhansen**



---

archive/issue_comments_009155.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nPlease give a message with the raised value error. Pending that, I'd give a positive review.",
    "created_at": "2008-09-02T08:39:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9155",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:4" align="right">Comment 4</div>

Please give a message with the raised value error. Pending that, I'd give a positive review.



---

archive/issue_comments_009156.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nAttachment: **[trac_1877.patch.gz](https://github.com/sagemath/sage/files/ticket1877/trac_1877.patch.gz)**\n\nthomag, your patch is along the right lines, but the implementation wasn't quite right.  You don't need to catch an error after raising it and then print something to the screen.  Just supply a message with the error, and it will show up unless it's caught somewhere else.  Also, when you fix a bug, you should add a doctest demonstrating the new, correct behavior.\n\nI've posted a new patch that raises an error in the usual way, and provides a briefer but still clear error message.  If this is accepted, only trac_1877.patch should be applied.",
    "created_at": "2008-09-02T23:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9156",
    "user": "https://github.com/jicama"
}
```

<div id="comment:5" align="right">Comment 5</div>

Attachment: **[trac_1877.patch.gz](https://github.com/sagemath/sage/files/ticket1877/trac_1877.patch.gz)**

thomag, your patch is along the right lines, but the implementation wasn't quite right.  You don't need to catch an error after raising it and then print something to the screen.  Just supply a message with the error, and it will show up unless it's caught somewhere else.  Also, when you fix a bug, you should add a doctest demonstrating the new, correct behavior.

I've posted a new patch that raises an error in the usual way, and provides a briefer but still clear error message.  If this is accepted, only trac_1877.patch should be applied.



---

archive/issue_comments_009157.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAttachment: **[trac_1877_review.patch.gz](https://github.com/sagemath/sage/files/ticket1877/trac_1877_review.patch.gz)**\n\ntrac_1877_review.patch does some minor cosmetic adjustements on top of trac_1877.patch (like not starting the error messages with a capital).  Otherwise this gets a positive review from me.\n\nIt might still my part still needs to be reviewed so I'll leave it as needs review.",
    "created_at": "2008-09-06T15:43:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9157",
    "user": "https://github.com/sagetrac-anakha"
}
```

<div id="comment:6" align="right">Comment 6</div>

Attachment: **[trac_1877_review.patch.gz](https://github.com/sagemath/sage/files/ticket1877/trac_1877_review.patch.gz)**

trac_1877_review.patch does some minor cosmetic adjustements on top of trac_1877.patch (like not starting the error messages with a capital).  Otherwise this gets a positive review from me.

It might still my part still needs to be reviewed so I'll leave it as needs review.



---

archive/issue_comments_009158.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nYour review patch looks good to me, positive review.  Both trac_1877.patch and trac_1877_review.patch should be applied",
    "created_at": "2008-09-06T15:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9158",
    "user": "https://github.com/jicama"
}
```

<div id="comment:7" align="right">Comment 7</div>

Your review patch looks good to me, positive review.  Both trac_1877.patch and trac_1877_review.patch should be applied



---

archive/issue_events_016316.json:
```json
{
    "actor": "https://github.com/jicama",
    "created_at": "2008-09-06T15:59:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16316"
}
```



---

archive/issue_events_016317.json:
```json
{
    "actor": "https://github.com/jicama",
    "created_at": "2008-09-06T15:59:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16317"
}
```



---

archive/issue_comments_009159.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nOops, this won't pass it's doctests as written, since the review patch alters the error message thrown, but not the doctest.",
    "created_at": "2008-09-06T16:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9159",
    "user": "https://github.com/jicama"
}
```

<div id="comment:8" align="right">Comment 8</div>

Oops, this won't pass it's doctests as written, since the review patch alters the error message thrown, but not the doctest.



---

archive/issue_events_016318.json:
```json
{
    "actor": "https://github.com/jicama",
    "created_at": "2008-09-06T16:02:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16318"
}
```



---

archive/issue_events_016319.json:
```json
{
    "actor": "https://github.com/jicama",
    "created_at": "2008-09-06T16:02:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16319"
}
```



---

archive/issue_events_016320.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-09-06T16:14:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16320"
}
```



---

archive/issue_events_016321.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-09-06T16:14:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16321"
}
```



---

archive/issue_comments_009160.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nShame on me.  But with the new patch the doctests are changed and they pass.",
    "created_at": "2008-09-06T16:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9160",
    "user": "https://github.com/sagetrac-anakha"
}
```

<div id="comment:9" align="right">Comment 9</div>

Shame on me.  But with the new patch the doctests are changed and they pass.



---

archive/issue_comments_009161.json:
```json
{
    "body": "Attachment: **[trac_1877_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket1877/trac_1877_doctests.patch.gz)**",
    "created_at": "2008-09-06T16:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9161",
    "user": "https://github.com/sagetrac-anakha"
}
```

Attachment: **[trac_1877_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket1877/trac_1877_doctests.patch.gz)**



---

archive/issue_events_016322.json:
```json
{
    "actor": "https://github.com/jicama",
    "created_at": "2008-09-06T16:17:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16322"
}
```



---

archive/issue_events_016323.json:
```json
{
    "actor": "https://github.com/jicama",
    "created_at": "2008-09-06T16:17:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16323"
}
```



---

archive/issue_comments_009162.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nMerged trac_1877.patch, trac_1877_review.patch and trac_1877_doctests.patch in Sage 3.1.2.rc0.",
    "created_at": "2008-09-06T23:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1877#issuecomment-9162",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:11" align="right">Comment 11</div>

Merged trac_1877.patch, trac_1877_review.patch and trac_1877_doctests.patch in Sage 3.1.2.rc0.



---

archive/issue_events_016324.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-06T23:12:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16324"
}
```



---

archive/issue_events_016325.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-06T23:12:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/1877",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1877#event-16325"
}
```
