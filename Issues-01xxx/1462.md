# Issue 1462: speed up "sage -b" -- don't do anything cython stuff if no .pyx, .pxd, or .pxi file changes (not a dupe!)

archive/issues_001462.json:
```json
{
    "assignees": [],
    "body": "This is a very very simple patch that makes it so \n\n  sage -b\n\ntakes 1 seconds (on my mac laptop) instead of 10 seconds, so long as \nno Cython code has changed.  Otherwise it works just as before.\n\nThis is orthogonal to Bobby Moretti's patch for caching Cython dependencies.\nBoth should be used.\n\nThis is much simpler -- all it does is -- in 1/100th of a second (or so) compute a hash got from all cython-related files in the repo, and if that hasn't changed from last time, skip all cython-ing of code. \n\n\n\nAssignee: **@williamstein**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/1462_\n\n",
    "closed_at": "2007-12-12T15:55:20Z",
    "created_at": "2007-12-11T20:17:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-2.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "speed up \"sage -b\" -- don't do anything cython stuff if no .pyx, .pxd, or .pxi file changes (not a dupe!)",
    "type": "issue",
    "updated_at": "2007-12-12T15:55:20Z",
    "url": "https://github.com/sagemath/sage/issues/1462",
    "user": "https://github.com/williamstein"
}
```
This is a very very simple patch that makes it so 

  sage -b

takes 1 seconds (on my mac laptop) instead of 10 seconds, so long as 
no Cython code has changed.  Otherwise it works just as before.

This is orthogonal to Bobby Moretti's patch for caching Cython dependencies.
Both should be used.

This is much simpler -- all it does is -- in 1/100th of a second (or so) compute a hash got from all cython-related files in the repo, and if that hasn't changed from last time, skip all cython-ing of code. 



Assignee: **@williamstein**

_Issue created by migration from https://trac.sagemath.org/ticket/1462_





---

archive/issue_events_012500.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-11T20:17:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1462",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1462#event-12500"
}
```



---

archive/issue_events_012501.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-11T20:17:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1462",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "component: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1462#event-12501"
}
```



---

archive/issue_events_012502.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-11T20:17:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1462",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1462#event-12502"
}
```



---

archive/issue_events_012503.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-11T20:17:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1462",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1462#event-12503"
}
```



---

archive/issue_comments_007285.json:
```json
{
    "body": "Attachment: **[trac-1462.patch.gz](https://github.com/sagemath/sage/files/ticket1462/trac-1462.patch.gz)**",
    "created_at": "2007-12-11T20:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1462#issuecomment-7285",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[trac-1462.patch.gz](https://github.com/sagemath/sage/files/ticket1462/trac-1462.patch.gz)**



---

archive/issue_comments_007286.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nI applied this for 2.9.",
    "created_at": "2007-12-12T15:55:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1462#issuecomment-7286",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:1'>Comment 1:</a>
I applied this for 2.9.



---

archive/issue_events_012504.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-12T15:55:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/1462",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1462#event-12504"
}
```



---

archive/issue_comments_007287.json:
```json
{
    "body": "Attachment: **[trac-1462-part2.patch.gz](https://github.com/sagemath/sage/files/ticket1462/trac-1462-part2.patch.gz)**",
    "created_at": "2007-12-13T23:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1462",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1462#issuecomment-7287",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[trac-1462-part2.patch.gz](https://github.com/sagemath/sage/files/ticket1462/trac-1462-part2.patch.gz)**
