# Issue 1365: golden_ratio._algebraic_() should synthesize the value

archive/issues_001365.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-cwitty"
    ],
    "body": "Robert Bradshaw points out that golden_ratio._algebraic_ might as well synthesize the value, instead of using a special-purpose function in qqbar.py (and there's a patch to do this as part of Robert's patch at #1275).  But I want to make qqbar.py a bit more efficient for that case, before making the change.\n\nCC:  @sagetrac-donmorrison @robertwb\n\nComponent: **basic arithmetic**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/1365_\n\n",
    "closed_at": "2011-12-17T20:07:04Z",
    "created_at": "2007-12-02T05:28:02Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "golden_ratio._algebraic_() should synthesize the value",
    "type": "issue",
    "updated_at": "2011-12-17T20:07:04Z",
    "url": "https://github.com/sagemath/sage/issues/1365",
    "user": "https://github.com/sagetrac-cwitty"
}
```
Robert Bradshaw points out that golden_ratio._algebraic_ might as well synthesize the value, instead of using a special-purpose function in qqbar.py (and there's a patch to do this as part of Robert's patch at #1275).  But I want to make qqbar.py a bit more efficient for that case, before making the change.

CC:  @sagetrac-donmorrison @robertwb

Component: **basic arithmetic**

_Issue created by migration from https://trac.sagemath.org/ticket/1365_





---

archive/issue_events_013441.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2007-12-02T05:28:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "milestone_number": null,
    "milestone_title": "sage-2.8.15",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13441"
}
```



---

archive/issue_events_013442.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2007-12-02T05:28:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13442"
}
```



---

archive/issue_events_013443.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2007-12-02T05:28:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13443"
}
```



---

archive/issue_events_013444.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2007-12-02T05:28:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13444"
}
```



---

archive/issue_events_013445.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-02T05:28:02Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "subject": "https://github.com/sagetrac-cwitty",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13445"
}
```



---

archive/issue_events_013446.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-02T18:24:31Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "subject": "https://github.com/sagetrac-cwitty",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13446"
}
```



---

archive/issue_events_013447.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2007-12-02T18:24:31Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "subject": "https://github.com/sagetrac-cwitty",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13447"
}
```



---

archive/issue_events_013448.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2007-12-02T18:24:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "milestone_number": null,
    "milestone_title": "sage-2.8.15",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13448"
}
```



---

archive/issue_events_013449.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2007-12-02T18:24:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "milestone_number": null,
    "milestone_title": "sage-2.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13449"
}
```



---

archive/issue_comments_006328.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHas this been resolved by #1275?  This ticket has had no change for nearly two years.",
    "created_at": "2009-09-28T20:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1365#issuecomment-6328",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Has this been resolved by #1275?  This ticket has had no change for nearly two years.



---

archive/issue_comments_006329.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe docstring examples look like they return RLF(1/2*sqrt(5) + 1/2).  Since phi is known to be algebraic, would it be ok to just return that?",
    "created_at": "2010-11-07T19:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1365#issuecomment-6329",
    "user": "https://github.com/sagetrac-donmorrison"
}
```

<div id="comment:3" align="right">comment:3</div>

The docstring examples look like they return RLF(1/2*sqrt(5) + 1/2).  Since phi is known to be algebraic, would it be ok to just return that?



---

archive/issue_events_013450.json:
```json
{
    "actor": "https://github.com/sagetrac-donmorrison",
    "created_at": "2010-11-07T19:34:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13450"
}
```



---

archive/issue_comments_006330.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI tried RLF, and it's not the correct datatype for the current doctests and/or framework.  Certainly someone familiar with the internals must know the correct datatype...the ticket is only 3 years old.  If it's straightforward, I have a spare machine...",
    "created_at": "2010-11-09T00:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1365#issuecomment-6330",
    "user": "https://github.com/sagetrac-donmorrison"
}
```

<div id="comment:4" align="right">comment:4</div>

I tried RLF, and it's not the correct datatype for the current doctests and/or framework.  Certainly someone familiar with the internals must know the correct datatype...the ticket is only 3 years old.  If it's straightforward, I have a spare machine...



---

archive/issue_comments_006331.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n\"return (field(5).sqrt() + 1) / 2\"\n\nWorks except for one test:\n\nFile \"/home/donmorrison/sage46fromsrc/sage/devel/sage/sage/rings/qqbar.py\",\nline 135:\n   sage: AA(golden_ratio)^2 - AA(golden_ratio)\nExpected:\n   1\nGot:\n   1.000000000000000?\n\nThe doctest could be changed to \nsage: bool(1 == AA(golden_ratio)^2 - AA(golden_ratio))\nTrue\n\nbut Robert says that's not good.  What's the next step?",
    "created_at": "2010-11-09T03:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1365#issuecomment-6331",
    "user": "https://github.com/sagetrac-donmorrison"
}
```

<div id="comment:5" align="right">comment:5</div>

"return (field(5).sqrt() + 1) / 2"

Works except for one test:

File "/home/donmorrison/sage46fromsrc/sage/devel/sage/sage/rings/qqbar.py",
line 135:
   sage: AA(golden_ratio)^2 - AA(golden_ratio)
Expected:
   1
Got:
   1.000000000000000?

The doctest could be changed to 
sage: bool(1 == AA(golden_ratio)^2 - AA(golden_ratio))
True

but Robert says that's not good.  What's the next step?



---

archive/issue_comments_006332.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSorry, I didn't notice there was special trac markup obscuring my last update.\n\nThe former and proposed doctests should read:\n\nFile \"/home/donmorrison/sage46fromsrc/sage/devel/sage/sage/rings/qqbar.py\",\nline 135:\n\u00a0 \u00a0sage: AA(golden_ratio)!^2 - AA(golden_ratio)\nExpected:\n\u00a0 \u00a01\nGot:\n\u00a0 \u00a01.000000000000000?\n\nvs.\n\nsage: bool(1 ==\u00a0AA(golden_ratio)!^2 - AA(golden_ratio))\n\nTrue",
    "created_at": "2010-11-09T03:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1365#issuecomment-6332",
    "user": "https://github.com/sagetrac-donmorrison"
}
```

<div id="comment:6" align="right">comment:6</div>

Sorry, I didn't notice there was special trac markup obscuring my last update.

The former and proposed doctests should read:

File "/home/donmorrison/sage46fromsrc/sage/devel/sage/sage/rings/qqbar.py",
line 135:
   sage: AA(golden_ratio)!^2 - AA(golden_ratio)
Expected:
   1
Got:
   1.000000000000000?

vs.

sage: bool(1 == AA(golden_ratio)!^2 - AA(golden_ratio))

True



---

archive/issue_events_013451.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-11-09T07:29:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13451"
}
```



---

archive/issue_events_013452.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2010-11-09T07:29:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13452"
}
```



---

archive/issue_comments_006333.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI'm thinking this ticket could just be closed--the current way of doing things works fine (lots has changed since this ticket was opened, in particular the entire Sage symbolics system was moved to PyNaC, so this isn't very relevant anymore. In particular, I don't see any benefit to the `AA(golden_ratio)^2 - AA(golden_ratio)` regression.",
    "created_at": "2010-11-09T07:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1365#issuecomment-6333",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:7" align="right">comment:7</div>

I'm thinking this ticket could just be closed--the current way of doing things works fine (lots has changed since this ticket was opened, in particular the entire Sage symbolics system was moved to PyNaC, so this isn't very relevant anymore. In particular, I don't see any benefit to the `AA(golden_ratio)^2 - AA(golden_ratio)` regression.



---

archive/issue_events_013453.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T20:07:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13453"
}
```



---

archive/issue_events_013454.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T20:07:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13454"
}
```



---

archive/issue_comments_006334.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI agree with Robert's analysis.",
    "created_at": "2011-12-17T20:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1365#issuecomment-6334",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:8" align="right">comment:8</div>

I agree with Robert's analysis.



---

archive/issue_events_013455.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T20:07:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13455"
}
```



---

archive/issue_events_013456.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T20:07:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "c6c6c6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13456"
}
```



---

archive/issue_events_013457.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T20:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1365",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1365#event-13457"
}
```
