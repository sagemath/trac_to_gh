# Issue 1431: basic plotting: add support for setting the location and labels of all tick marks on the x and y axes

archive/issues_001431.json:
```json
{
    "assignees": [
        "https://github.com/kcrisman"
    ],
    "body": "Amazingly some very basic functionality for plotting hasn't yet been implemented!  In particular, there is nothing yet for setting the location and labels of all tick marks on the x and y axes.  This needs to be implemented. \n\nComponent: **graphics**\n\nAuthor: **Jason Grout, Karl-Dieter Crisman**\n\nReviewer: **Karl-Dieter Crisman**\n\nMerged: **sage-4.6.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/1431_\n\n",
    "closed_at": "2010-09-15T10:40:29Z",
    "created_at": "2007-12-09T02:49:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "basic plotting: add support for setting the location and labels of all tick marks on the x and y axes",
    "type": "issue",
    "updated_at": "2010-09-15T10:40:29Z",
    "url": "https://github.com/sagemath/sage/issues/1431",
    "user": "https://github.com/williamstein"
}
```
Amazingly some very basic functionality for plotting hasn't yet been implemented!  In particular, there is nothing yet for setting the location and labels of all tick marks on the x and y axes.  This needs to be implemented. 

Component: **graphics**

Author: **Jason Grout, Karl-Dieter Crisman**

Reviewer: **Karl-Dieter Crisman**

Merged: **sage-4.6.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/1431_





---

archive/issue_events_014020.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-09T02:49:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "milestone_number": null,
    "milestone_title": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14020"
}
```



---

archive/issue_events_014021.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-09T02:49:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14021"
}
```



---

archive/issue_events_014022.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-09T02:49:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14022"
}
```



---

archive/issue_events_014023.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-09T02:49:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14023"
}
```



---

archive/issue_events_014024.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-09T02:49:00Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "subject": "https://github.com/williamstein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14024"
}
```



---

archive/issue_events_014025.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-09T02:49:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14025"
}
```



---

archive/issue_events_014026.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2007-12-09T02:49:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14026"
}
```



---

archive/issue_comments_006698.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis should be available now with #5448, but this ticket would now be to expose that functionality from matplotlib.",
    "created_at": "2009-09-15T17:28:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6698",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

This should be available now with #5448, but this ticket would now be to expose that functionality from matplotlib.



---

archive/issue_events_014027.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-11-12T00:17:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14027"
}
```



---

archive/issue_comments_006699.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[formatter.patch.gz](https://github.com/sagemath/sage/files/ticket1431/formatter.patch.gz)**\n\nStill needs doctest examples.\n\nExample:\n\n```\n\ndef multiple_of_pi(n,pos):\n    m = n*1.0/float(pi)\n    c=[i for i in convergents(m) if i.denominator()<12]\n    q=c[-1]\n    if q.denominator()==1:\n        if q.numerator()==1:\n            return r'$\\pi$'\n        elif q.numerator()==-1:\n            return r'$-\\pi$'            \n        else:\n            return r'$%s\\pi$'%q\n    else:\n        if q.numerator()==1:\n            return r'$\\frac{\\pi}{%s}$'%q.denominator()\n        elif q.numerator()==-1:\n            return r'$\\frac{-\\pi}{%s}$'%q.denominator()\n        else:\n            return r'$\\frac{%s\\pi}{%s}$'%(q.numerator(),q.denominator())\n\nfrom matplotlib.ticker import MultipleLocator, FuncFormatter\nplot(sin(x), (x, -4, 4), tick_locator=MultipleLocator(float(pi/3)), tick_formatter=FuncFormatter(multiple_of_pi))\n\n```",
    "created_at": "2009-11-12T00:17:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6699",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[formatter.patch.gz](https://github.com/sagemath/sage/files/ticket1431/formatter.patch.gz)**

Still needs doctest examples.

Example:

```

def multiple_of_pi(n,pos):
    m = n*1.0/float(pi)
    c=[i for i in convergents(m) if i.denominator()<12]
    q=c[-1]
    if q.denominator()==1:
        if q.numerator()==1:
            return r'$\pi$'
        elif q.numerator()==-1:
            return r'$-\pi$'            
        else:
            return r'$%s\pi$'%q
    else:
        if q.numerator()==1:
            return r'$\frac{\pi}{%s}$'%q.denominator()
        elif q.numerator()==-1:
            return r'$\frac{-\pi}{%s}$'%q.denominator()
        else:
            return r'$\frac{%s\pi}{%s}$'%(q.numerator(),q.denominator())

from matplotlib.ticker import MultipleLocator, FuncFormatter
plot(sin(x), (x, -4, 4), tick_locator=MultipleLocator(float(pi/3)), tick_formatter=FuncFormatter(multiple_of_pi))

```



---

archive/issue_comments_006700.json:
```json
{
    "body": "Author: **Jason Grout**",
    "created_at": "2009-11-12T00:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6700",
    "user": "https://github.com/jasongrout"
}
```

Author: **Jason Grout**



---

archive/issue_comments_006701.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis looks like a great start.  Now we need a wrapper to make creating the formatters and locators easy for the average user.  I will try to help with that, and documentation, as I get a chance.  Thanks!",
    "created_at": "2009-11-12T03:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6701",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

This looks like a great start.  Now we need a wrapper to make creating the formatters and locators easy for the average user.  I will try to help with that, and documentation, as I get a chance.  Thanks!



---

archive/issue_comments_006702.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPersonally, I think creating formatters and locators *is* easy.  Notice what I did to create the locator: `MultipleLocator(float(pi/3))`.  The formatter is slightly harder because it's a harder problem I was trying to solve---given a floating point number, find a nice multiple of pi expression for a label.  In general, though, it's easy to just give a list of tick values and strings.\n\nWhat did you have in mind for an easier wrapper?",
    "created_at": "2009-11-12T03:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6702",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:6" align="right">comment:6</div>

Personally, I think creating formatters and locators *is* easy.  Notice what I did to create the locator: `MultipleLocator(float(pi/3))`.  The formatter is slightly harder because it's a harder problem I was trying to solve---given a floating point number, find a nice multiple of pi expression for a label.  In general, though, it's easy to just give a list of tick values and strings.

What did you have in mind for an easier wrapper?



---

archive/issue_comments_006703.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nA simpler example:\n\n```\ndef multiple_of_pi(n,pos):\n    m = n*1.0/float(pi)\n    c=[i for i in convergents(m) if i.denominator()<12]\n    q=c[-1]\n    return '$%s$'%latex(q*pi)\n\nfrom matplotlib.ticker import MultipleLocator, FuncFormatter\nplot(sin(x), (x, -4, 4), tick_locator=MultipleLocator(float(pi/4)), tick_formatter=FuncFormatter(multiple_of_pi))\n\n```",
    "created_at": "2009-11-12T03:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6703",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:7" align="right">comment:7</div>

A simpler example:

```
def multiple_of_pi(n,pos):
    m = n*1.0/float(pi)
    c=[i for i in convergents(m) if i.denominator()<12]
    q=c[-1]
    return '$%s$'%latex(q*pi)

from matplotlib.ticker import MultipleLocator, FuncFormatter
plot(sin(x), (x, -4, 4), tick_locator=MultipleLocator(float(pi/4)), tick_formatter=FuncFormatter(multiple_of_pi))

```



---

archive/issue_comments_006704.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSee #4529 for a related ticket---logarithmic scales.",
    "created_at": "2009-11-12T04:13:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6704",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:8" align="right">comment:8</div>

See #4529 for a related ticket---logarithmic scales.



---

archive/issue_comments_006705.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOne last one that is even simpler:\n\n```\ndef multiple_of_pi(n,pos):\n    c=[i for i in convergents(n/pi) if i.denominator()<=12]\n    return '$%s$'%latex(c[-1]*pi)\n\nfrom matplotlib.ticker import MultipleLocator, FuncFormatter\nplot(sin(x), (x, -10, 10), tick_locator=MultipleLocator(float(pi/2)), tick_formatter=FuncFormatter(multiple_of_pi),figsize=[10,4])\n```",
    "created_at": "2009-11-12T04:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6705",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:9" align="right">comment:9</div>

One last one that is even simpler:

```
def multiple_of_pi(n,pos):
    c=[i for i in convergents(n/pi) if i.denominator()<=12]
    return '$%s$'%latex(c[-1]*pi)

from matplotlib.ticker import MultipleLocator, FuncFormatter
plot(sin(x), (x, -10, 10), tick_locator=MultipleLocator(float(pi/2)), tick_formatter=FuncFormatter(multiple_of_pi),figsize=[10,4])
```



---

archive/issue_events_014028.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-11-12T15:38:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14028"
}
```



---

archive/issue_events_014029.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-11-12T15:38:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14029"
}
```



---

archive/issue_comments_006706.json:
```json
{
    "body": "Changed author from **Jason Grout** to **Jason Grout, Karl-Dieter Crisman**",
    "created_at": "2009-11-12T15:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6706",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **Jason Grout** to **Jason Grout, Karl-Dieter Crisman**



---

archive/issue_comments_006707.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2009-11-12T15:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6707",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_006708.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis is what I meant:\n\n```\nsage: plot(sin(x), (x,0,2*pi), tick_locator=pi/3, tick_formatter='pi')\nsage: plot(1.5/(1+e^(-x)), (x,-10,10), tick_locator=[None, 1.5/4]) # shows the inflection point height!\n```\n\nSee soon-to-be-attached patch.  Thanks SO much for making this possible - my additions just make it easier for people like me who don't know matplotlib :)\n\nAlso, positive review to the parts I didn't do.",
    "created_at": "2009-11-12T15:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6708",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">comment:10</div>

This is what I meant:

```
sage: plot(sin(x), (x,0,2*pi), tick_locator=pi/3, tick_formatter='pi')
sage: plot(1.5/(1+e^(-x)), (x,-10,10), tick_locator=[None, 1.5/4]) # shows the inflection point height!
```

See soon-to-be-attached patch.  Thanks SO much for making this possible - my additions just make it easier for people like me who don't know matplotlib :)

Also, positive review to the parts I didn't do.



---

archive/issue_comments_006709.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nPerhaps a followup is what sort of object is a Locator?  Just a list?  I couldn't find this in the built-in documentation for ticker (and wasn't online when I created it).  If so, then the documentation should be updated to reflect that; I still think this having the option of just a number is a good one, though I was cludgy in dealing with some of the Errors that might arise.",
    "created_at": "2009-11-12T15:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6709",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">comment:11</div>

Perhaps a followup is what sort of object is a Locator?  Just a list?  I couldn't find this in the built-in documentation for ticker (and wasn't online when I created it).  If so, then the documentation should be updated to reflect that; I still think this having the option of just a number is a good one, though I was cludgy in dealing with some of the Errors that might arise.



---

archive/issue_comments_006710.json:
```json
{
    "body": "Based on 4.2",
    "created_at": "2009-11-12T15:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6710",
    "user": "https://github.com/kcrisman"
}
```

Based on 4.2



---

archive/issue_comments_006711.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAttachment: **[trac_1431.patch.gz](https://github.com/sagemath/sage/files/ticket1431/trac_1431.patch.gz)**\n\nTwo comments:\n\n* tick_formatter should accept rational multiples of *any* symbolic constant.  I think the code ought to be generalized before going into Sage.  For example, I should have ticks that are rational multiples of e as well.\n\n* I like the idea of having tick_locator be a number.  I think it should be expanded to being a list (if symbolic expressions, then latexing them can give the formatters), or a function.\n\nSee http://reference.wolfram.com/mathematica/ref/Ticks.html for the equivalent mathematica feature.",
    "created_at": "2009-11-12T17:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6711",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:12" align="right">comment:12</div>

Attachment: **[trac_1431.patch.gz](https://github.com/sagemath/sage/files/ticket1431/trac_1431.patch.gz)**

Two comments:

* tick_formatter should accept rational multiples of *any* symbolic constant.  I think the code ought to be generalized before going into Sage.  For example, I should have ticks that are rational multiples of e as well.

* I like the idea of having tick_locator be a number.  I think it should be expanded to being a list (if symbolic expressions, then latexing them can give the formatters), or a function.

See http://reference.wolfram.com/mathematica/ref/Ticks.html for the equivalent mathematica feature.



---

archive/issue_events_014030.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-11-12T17:46:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14030"
}
```



---

archive/issue_events_014031.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-11-12T17:46:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14031"
}
```



---

archive/issue_comments_006712.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI'm putting this as needs_work while we flush out a nice design.",
    "created_at": "2009-11-12T17:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6712",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:14" align="right">comment:14</div>

I'm putting this as needs_work while we flush out a nice design.



---

archive/issue_comments_006713.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Amazingly some very basic functionality for plotting hasn't yet been implemented!  In particular, there is nothing yet for setting the location and labels of all tick marks on the x and y axes.  This need to be implemented. \n+Amazingly some very basic functionality for plotting hasn't yet been implemented!  In particular, there is nothing yet for setting the location and labels of all tick marks on the x and y axes.  This needs to be implemented. \n``````\n",
    "created_at": "2009-11-12T18:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6713",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Amazingly some very basic functionality for plotting hasn't yet been implemented!  In particular, there is nothing yet for setting the location and labels of all tick marks on the x and y axes.  This need to be implemented. 
+Amazingly some very basic functionality for plotting hasn't yet been implemented!  In particular, there is nothing yet for setting the location and labels of all tick marks on the x and y axes.  This needs to be implemented. 
``````




---

archive/issue_comments_006714.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jasongrout](#comment%3A12):\n> Two comments:\n> \n> * tick_formatter should accept rational multiples of *any* symbolic constant.  I think the code ought to be generalized before going into Sage.  For example, I should have ticks that are rational multiples of e as well.\n> \n> * I like the idea of having tick_locator be a number.  I think it should be expanded to being a list (if symbolic expressions, then latexing them can give the formatters), or a function.\n\nThese make lots of sense.  It should be easy to check if the string is in symbolic.constants or something (or even accept those as input), and then of course one would have to check if there was a symbolic expression in the list, and (possibly override) use tick_formatter appropriately.  After all, multiple_of_pi could be made generic to multiple_of_symbolic_constant, and then we could make a dummy function to input into FuncFormatter or something.",
    "created_at": "2009-11-12T18:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6714",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jasongrout](#comment%3A12):
> Two comments:
> 
> * tick_formatter should accept rational multiples of *any* symbolic constant.  I think the code ought to be generalized before going into Sage.  For example, I should have ticks that are rational multiples of e as well.
> 
> * I like the idea of having tick_locator be a number.  I think it should be expanded to being a list (if symbolic expressions, then latexing them can give the formatters), or a function.

These make lots of sense.  It should be easy to check if the string is in symbolic.constants or something (or even accept those as input), and then of course one would have to check if there was a symbolic expression in the list, and (possibly override) use tick_formatter appropriately.  After all, multiple_of_pi could be made generic to multiple_of_symbolic_constant, and then we could make a dummy function to input into FuncFormatter or something.



---

archive/issue_comments_006715.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOkay, I've finally had time to return to this, and I'm almost done dealing with this.  It is actually really cool!\n\nFormatting by multiples of constants (or numbers) will be implemented, as well as locating by arbitrary lists.  Note that \n\n```\n    ``LogLocator``\n       logarithmically ticks from min to max\n```\ncould solve our log problems, though I think that would not belong on this ticket (and I think there is one for this).",
    "created_at": "2010-04-20T17:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6715",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

Okay, I've finally had time to return to this, and I'm almost done dealing with this.  It is actually really cool!

Formatting by multiples of constants (or numbers) will be implemented, as well as locating by arbitrary lists.  Note that 

```
    ``LogLocator``
       logarithmically ticks from min to max
```
could solve our log problems, though I think that would not belong on this ticket (and I think there is one for this).



---

archive/issue_comments_006716.json:
```json
{
    "body": "Attachment: **[trac_1431-ticks-and-formatting.patch.gz](https://github.com/sagemath/sage/files/ticket1431/trac_1431-ticks-and-formatting.patch.gz)**\n\nBased on 4.3.5, apply only this patch to Sage library",
    "created_at": "2010-04-20T19:42:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6716",
    "user": "https://github.com/kcrisman"
}
```

Attachment: **[trac_1431-ticks-and-formatting.patch.gz](https://github.com/sagemath/sage/files/ticket1431/trac_1431-ticks-and-formatting.patch.gz)**

Based on 4.3.5, apply only this patch to Sage library



---

archive/issue_events_014032.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-04-20T19:42:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14032"
}
```



---

archive/issue_events_014033.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-04-20T19:42:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14033"
}
```



---

archive/issue_events_014034.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-20T20:29:52Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14034"
}
```



---

archive/issue_events_014035.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-20T20:29:52Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14035"
}
```



---

archive/issue_comments_006717.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n1. \"Private\" functions (like the first one) should begin with an underscore\n   1. plot(2*x+1,(x,0,5),tick_locator=[[0,1,e,pi,sqrt(20)],2],tick_formatter=\"latex\") looks really bad since the minor ticks do not pay attention to the major ticks\n   2. in general, it looks really weird to have very small latex numbers on one axis while having large non-latex numbers on the other axis.\u00a0 I'm not sure what we can do about this.",
    "created_at": "2010-04-20T20:29:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6717",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:18" align="right">comment:18</div>

1. "Private" functions (like the first one) should begin with an underscore
   1. plot(2*x+1,(x,0,5),tick_locator=[[0,1,e,pi,sqrt(20)],2],tick_formatter="latex") looks really bad since the minor ticks do not pay attention to the major ticks
   2. in general, it looks really weird to have very small latex numbers on one axis while having large non-latex numbers on the other axis.  I'm not sure what we can do about this.



---

archive/issue_events_014036.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-20T20:29:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14036"
}
```



---

archive/issue_events_014037.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-20T20:29:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14037"
}
```



---

archive/issue_events_014038.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-20T20:30:23Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14038"
}
```



---

archive/issue_events_014039.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-04-20T20:30:23Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14039"
}
```



---

archive/issue_comments_006718.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jasongrout](#comment%3A18):\n> 1. \"Private\" functions (like the first one) should begin with an underscore\n\nYou mean the multiple one?  Ok.\n> 1. plot(2*x+1,(x,0,5),tick_locator=[[0,1,e,pi,sqrt(20)],2],tick_formatter=\"latex\") looks really bad since the minor ticks do not pay attention to the major ticks\n\nI totally agree, but I figured it was best to respond to your suggestion first, and then take ideas for how to fix this issue.  Any ideas?\n> 1. in general, it looks really weird to have very small latex numbers on one axis while having large non-latex numbers on the other axis.\u00a0 I'm not sure what we can do about this.\n\nI see.  I don't think this is a problem - we can just make it so that \"latex\" is applied to both axes, if used.  What do you think?",
    "created_at": "2010-04-20T20:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6718",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jasongrout](#comment%3A18):
> 1. "Private" functions (like the first one) should begin with an underscore

You mean the multiple one?  Ok.
> 1. plot(2*x+1,(x,0,5),tick_locator=[[0,1,e,pi,sqrt(20)],2],tick_formatter="latex") looks really bad since the minor ticks do not pay attention to the major ticks

I totally agree, but I figured it was best to respond to your suggestion first, and then take ideas for how to fix this issue.  Any ideas?
> 1. in general, it looks really weird to have very small latex numbers on one axis while having large non-latex numbers on the other axis.  I'm not sure what we can do about this.

I see.  I don't think this is a problem - we can just make it so that "latex" is applied to both axes, if used.  What do you think?



---

archive/issue_comments_006719.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOkay, I've fixed all of these things.  Note that Mma only includes major ticks for lists of ticks, so I just went with that (much easier!).  The latex thing was annoying - there was a bug in sage.misc.latex.str_function:\n\n```\nsage: sage.misc.latex.str_function('4')\n'4'\nsage: sage.misc.latex.str_function('4.0')\n'\\\\texttt{4.0}'\n```\nAt least I view this as a bug, and in any case it prevents the latexing from working properly even if the tick_locator had [0,1.0,e] rather than [0,1,e].  Unified patch coming up.",
    "created_at": "2010-04-21T03:20:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6719",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:22" align="right">comment:22</div>

Okay, I've fixed all of these things.  Note that Mma only includes major ticks for lists of ticks, so I just went with that (much easier!).  The latex thing was annoying - there was a bug in sage.misc.latex.str_function:

```
sage: sage.misc.latex.str_function('4')
'4'
sage: sage.misc.latex.str_function('4.0')
'\\texttt{4.0}'
```
At least I view this as a bug, and in any case it prevents the latexing from working properly even if the tick_locator had [0,1.0,e] rather than [0,1,e].  Unified patch coming up.



---

archive/issue_comments_006720.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nApply only ticks, formatting, and latex patch.",
    "created_at": "2010-04-21T03:27:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6720",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">comment:23</div>

Apply only ticks, formatting, and latex patch.



---

archive/issue_events_014040.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-04-21T03:27:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14040"
}
```



---

archive/issue_events_014041.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-04-21T03:27:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14041"
}
```



---

archive/issue_events_014042.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-21T03:40:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14042"
}
```



---

archive/issue_events_014043.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-04-21T03:40:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14043"
}
```



---

archive/issue_comments_006721.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nVery nice now!\u00a0 One last thing that I saw: the examples for _multiple_... still have the problem of halfof the ticks being in latex and the other half not.\u00a0 For example, plot(x!^2, (x, -2, 2), tick_formatter=pi) has the vertical labels in the standard font and the horizontal labels in tex.",
    "created_at": "2010-04-21T03:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6721",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:24" align="right">comment:24</div>

Very nice now!  One last thing that I saw: the examples for _multiple_... still have the problem of halfof the ticks being in latex and the other half not.  For example, plot(x!^2, (x, -2, 2), tick_formatter=pi) has the vertical labels in the standard font and the horizontal labels in tex.



---

archive/issue_comments_006722.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jasongrout](#comment%3A24):\n> Very nice now!\u00a0 One last thing that I saw: the examples for _multiple_... still have the problem of halfof the ticks being in latex and the other half not.\u00a0 For example, plot(x!^2, (x, -2, 2), tick_formatter=pi) has the vertical labels in the standard font and the horizontal labels in tex.\n\nHmm, that's true.  I don't know - this is more of a design decision than anything.  In theory, we could latex ALL our tick labels, but that seems overkill.  On the other hand, the solution to this would be kind of cludgy.\n\nAlso, I was thinking about it this morning and wondered whether it would make sense to have the \"tick_locator\" keyword be just \"ticks\" or \"tick\" instead.  Mma using \"ticks\", and \"tick_locator\" is a little longish (\"tick_formatter\" makes sense, though).\n\nLet me know if you have any ideas.",
    "created_at": "2010-04-21T12:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6722",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jasongrout](#comment%3A24):
> Very nice now!  One last thing that I saw: the examples for _multiple_... still have the problem of halfof the ticks being in latex and the other half not.  For example, plot(x!^2, (x, -2, 2), tick_formatter=pi) has the vertical labels in the standard font and the horizontal labels in tex.

Hmm, that's true.  I don't know - this is more of a design decision than anything.  In theory, we could latex ALL our tick labels, but that seems overkill.  On the other hand, the solution to this would be kind of cludgy.

Also, I was thinking about it this morning and wondered whether it would make sense to have the "tick_locator" keyword be just "ticks" or "tick" instead.  Mma using "ticks", and "tick_locator" is a little longish ("tick_formatter" makes sense, though).

Let me know if you have any ideas.



---

archive/issue_comments_006723.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThanks for all the work on this ticket.  I'm helping my wife with a final project for an environmental science class (involving measuring \"smog\"), and not having tick control is devastating.   Finally, for the first time, I personally really need this capability :-)\n\nAnother killer is not have a legend.  Is that also easy to add via something similar?  (Probably.)",
    "created_at": "2010-05-18T05:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6723",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:26" align="right">comment:26</div>

Thanks for all the work on this ticket.  I'm helping my wife with a final project for an environmental science class (involving measuring "smog"), and not having tick control is devastating.   Finally, for the first time, I personally really need this capability :-)

Another killer is not have a legend.  Is that also easy to add via something similar?  (Probably.)



---

archive/issue_comments_006724.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@williamstein](#comment%3A26):\n\n> Another killer is not have a legend.  Is that also easy to add via something similar?  (Probably.)\n\nSee #4342",
    "created_at": "2010-05-18T05:31:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6724",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@williamstein](#comment%3A26):

> Another killer is not have a legend.  Is that also easy to add via something similar?  (Probably.)

See #4342



---

archive/issue_comments_006725.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOf course, you can also always use straight matplotlib to do these things right now.",
    "created_at": "2010-05-18T05:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6725",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:28" align="right">comment:28</div>

Of course, you can also always use straight matplotlib to do these things right now.



---

archive/issue_comments_006726.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAnd it turned out that this patch 100% totally worked to solve my problem.  Yes!  \n\n  http://tutorial.sagenb.org/home/pub/19/\n\nOf course, it will be nice when the capabilities are doctested. \n\nRegarding using \"straight matplotlib\", that would be a bit annoying, since all my plot commands are in Sage, so I have to get at the secret underlying matplotlib fig/canvas, right?  Or rewrite all my code to use pylab directly.   I don't want to do that \"on principle\".",
    "created_at": "2010-05-18T05:53:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6726",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:29" align="right">comment:29</div>

And it turned out that this patch 100% totally worked to solve my problem.  Yes!  

  http://tutorial.sagenb.org/home/pub/19/

Of course, it will be nice when the capabilities are doctested. 

Regarding using "straight matplotlib", that would be a bit annoying, since all my plot commands are in Sage, so I have to get at the secret underlying matplotlib fig/canvas, right?  Or rewrite all my code to use pylab directly.   I don't want to do that "on principle".



---

archive/issue_comments_006727.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@williamstein](#comment%3A29):\n\n> Regarding using \"straight matplotlib\", that would be a bit annoying, since all my plot commands are in Sage, so I have to get at the secret underlying matplotlib fig/canvas, right?  \n\nWell, it's not so secret, though, as it is exposed in a public function:\n\np=plot(x^2,(x,-3,4))\nfigure=p.matplotlib()\nfrom matplotlib.backends.backend_agg import FigureCanvasAgg\nfigure.set_canvas(FigureCanvasAgg(figure))\nfigure.savefig('test.png')\n\n(the last three lines are a bit esoteric, but they are fairly straightforward matplotlib...)",
    "created_at": "2010-05-18T06:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6727",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@williamstein](#comment%3A29):

> Regarding using "straight matplotlib", that would be a bit annoying, since all my plot commands are in Sage, so I have to get at the secret underlying matplotlib fig/canvas, right?  

Well, it's not so secret, though, as it is exposed in a public function:

p=plot(x^2,(x,-3,4))
figure=p.matplotlib()
from matplotlib.backends.backend_agg import FigureCanvasAgg
figure.set_canvas(FigureCanvasAgg(figure))
figure.savefig('test.png')

(the last three lines are a bit esoteric, but they are fairly straightforward matplotlib...)



---

archive/issue_comments_006728.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@williamstein](#comment%3A29):\n> And it turned out that this patch 100% totally worked to solve my problem.  Yes!  \n> \n>   http://tutorial.sagenb.org/home/pub/19/\n\nSweet!  Looks great.\n\n> \n> Of course, it will be nice when the capabilities are doctested. \n\nOkay, that and figuring out what to do with the Latex situation are all this ticket needs, then.  I can't work on this until after the first PREP workshop, but after that it's very high on my list.",
    "created_at": "2010-05-18T16:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6728",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@williamstein](#comment%3A29):
> And it turned out that this patch 100% totally worked to solve my problem.  Yes!  
> 
>   http://tutorial.sagenb.org/home/pub/19/

Sweet!  Looks great.

> 
> Of course, it will be nice when the capabilities are doctested. 

Okay, that and figuring out what to do with the Latex situation are all this ticket needs, then.  I can't work on this until after the first PREP workshop, but after that it's very high on my list.



---

archive/issue_comments_006729.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nFrom private email, in response to kcrisman's comment above:\n\n>\n>\n> Hmm, that's true. I don't know - this is more of a design decision\n> than anything. In theory, we could latex ALL our tick labels, but that\n> seems overkill. On the other hand, the solution to this would be kind\n> of cludgy.\n>\n> Also, I was thinking about it this morning and wondered whether it\n> would make sense to have the \"tick_locator\" keyword be just \"ticks\" or\n> \"tick\" instead. Mma using \"ticks\", and \"tick_locator\" is a little\n> longish (\"tick_formatter\" makes sense, though).\n>\n> Let me know if you have any ideas.\n\n+1 to \"ticks\"\n\nI'm not sure what to do about the latex issue.  I suppose the real problem here is that matplotlib does not use compatible fonts for $1$ and just straight 1.  That's a bummer.  Still, in the common case (i.e., people didn't specify formatters), I think we should make it all latex or all not latex.  plot(sin(x), (x,0,pi), tick_formatter=pi) is likely to be a very common case, and we shouldn't have \"ugly\" output for it.  It looks like it might be as easy as changing the line:\n\n```\n 1818            if y_formatter is None:  \n1819                y_formatter = OldScalarFormatter()\n```\nto\n\n```\nif y_formatter is None:\n    y_formatter = copy(x_formatter)  # maybe copy isn't needed\n```\nWe could then also delete the if statement above dealing with setting both formatters to \"latex\" if tick_formatter=\"latex\".\n\nThe one problem with this is that plot(..., ticks=pi) would change both the x and the y axis.  Maybe we could special-case that situation.",
    "created_at": "2010-05-25T15:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6729",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:32" align="right">comment:32</div>

From private email, in response to kcrisman's comment above:

>
>
> Hmm, that's true. I don't know - this is more of a design decision
> than anything. In theory, we could latex ALL our tick labels, but that
> seems overkill. On the other hand, the solution to this would be kind
> of cludgy.
>
> Also, I was thinking about it this morning and wondered whether it
> would make sense to have the "tick_locator" keyword be just "ticks" or
> "tick" instead. Mma using "ticks", and "tick_locator" is a little
> longish ("tick_formatter" makes sense, though).
>
> Let me know if you have any ideas.

+1 to "ticks"

I'm not sure what to do about the latex issue.  I suppose the real problem here is that matplotlib does not use compatible fonts for $1$ and just straight 1.  That's a bummer.  Still, in the common case (i.e., people didn't specify formatters), I think we should make it all latex or all not latex.  plot(sin(x), (x,0,pi), tick_formatter=pi) is likely to be a very common case, and we shouldn't have "ugly" output for it.  It looks like it might be as easy as changing the line:

```
 1818            if y_formatter is None:  
1819                y_formatter = OldScalarFormatter()
```
to

```
if y_formatter is None:
    y_formatter = copy(x_formatter)  # maybe copy isn't needed
```
We could then also delete the if statement above dealing with setting both formatters to "latex" if tick_formatter="latex".

The one problem with this is that plot(..., ticks=pi) would change both the x and the y axis.  Maybe we could special-case that situation.



---

archive/issue_comments_006730.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\n> > Also, I was thinking about it this morning and wondered whether it\n> > would make sense to have the \"tick_locator\" keyword be just \"ticks\" or\n> > \"tick\" instead. Mma using \"ticks\", and \"tick_locator\" is a little\n> > longish (\"tick_formatter\" makes sense, though).\n\n> >\n\n> +1 to \"ticks\"\n\nOk, done.\n\n> I'm not sure what to do about the latex issue.  I suppose the real problem here is that matplotlib does not use compatible fonts for $1$ and just straight 1.  That's a bummer.  Still, in the common case (i.e., people didn't specify formatters), I think we should make it all latex or all not latex.  plot(sin(x), (x,0,pi), tick_formatter=pi) is likely to be a very common case, and we shouldn't have \"ugly\" output for it.  It looks like it might be as easy as changing the line:\n> \n> ```\n>  1818            if y_formatter is None:  \n> 1819                y_formatter = OldScalarFormatter()\n> ```\n> to\n> \n> ```\n> if y_formatter is None:\n>     y_formatter = copy(x_formatter)  # maybe copy isn't needed\n> ```\n> We could then also delete the if statement above dealing with setting both formatters to \"latex\" if tick_formatter=\"latex\".\n> \n> The one problem with this is that plot(..., ticks=pi) would change both the x and the y axis.  Maybe we could special-case that situation.\n\nIf you note, the documentation is already quite explicit that you should not do that example in 'real life' :-)  though I'll make it even more explicit.  Luckily that example is also in an underscore function.\n\nI think a better solution is that if y_formatter is None and x_formatter was in SR, then we should do y_formatter='latex'.  I propose to do this via \n\n```\n        from sage.symbolic.ring import SR\n        if not isinstance(tick_formatter, (list, tuple)):\n            if tick_formatter == \"latex\" or tick_formatter in SR:\n                tick_formatter = (tick_formatter, \"latex\")\n            else:\n                tick_formatter = (tick_formatter, None)        \n```\nI also will check for the much rarer case of plotting arcsin, so to speak.  Patch coming up.",
    "created_at": "2010-05-25T18:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6730",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:33" align="right">comment:33</div>

> > Also, I was thinking about it this morning and wondered whether it
> > would make sense to have the "tick_locator" keyword be just "ticks" or
> > "tick" instead. Mma using "ticks", and "tick_locator" is a little
> > longish ("tick_formatter" makes sense, though).

> >

> +1 to "ticks"

Ok, done.

> I'm not sure what to do about the latex issue.  I suppose the real problem here is that matplotlib does not use compatible fonts for $1$ and just straight 1.  That's a bummer.  Still, in the common case (i.e., people didn't specify formatters), I think we should make it all latex or all not latex.  plot(sin(x), (x,0,pi), tick_formatter=pi) is likely to be a very common case, and we shouldn't have "ugly" output for it.  It looks like it might be as easy as changing the line:
> 
> ```
>  1818            if y_formatter is None:  
> 1819                y_formatter = OldScalarFormatter()
> ```
> to
> 
> ```
> if y_formatter is None:
>     y_formatter = copy(x_formatter)  # maybe copy isn't needed
> ```
> We could then also delete the if statement above dealing with setting both formatters to "latex" if tick_formatter="latex".
> 
> The one problem with this is that plot(..., ticks=pi) would change both the x and the y axis.  Maybe we could special-case that situation.

If you note, the documentation is already quite explicit that you should not do that example in 'real life' :-)  though I'll make it even more explicit.  Luckily that example is also in an underscore function.

I think a better solution is that if y_formatter is None and x_formatter was in SR, then we should do y_formatter='latex'.  I propose to do this via 

```
        from sage.symbolic.ring import SR
        if not isinstance(tick_formatter, (list, tuple)):
            if tick_formatter == "latex" or tick_formatter in SR:
                tick_formatter = (tick_formatter, "latex")
            else:
                tick_formatter = (tick_formatter, None)        
```
I also will check for the much rarer case of plotting arcsin, so to speak.  Patch coming up.



---

archive/issue_comments_006731.json:
```json
{
    "body": "Based on 4.3.5, apply only this patch to Sage library",
    "created_at": "2010-05-25T18:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6731",
    "user": "https://github.com/kcrisman"
}
```

Based on 4.3.5, apply only this patch to Sage library



---

archive/issue_comments_006732.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nAttachment: **[trac_1431-ticks-and-formatting-and-latex.patch.gz](https://github.com/sagemath/sage/files/ticket1431/trac_1431-ticks-and-formatting-and-latex.patch.gz)**\n\nNeeds review.  Notice that for some reason it kept the old message - but this latest one is based on 4.4.2, no worries :-)",
    "created_at": "2010-05-25T18:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6732",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:34" align="right">comment:34</div>

Attachment: **[trac_1431-ticks-and-formatting-and-latex.patch.gz](https://github.com/sagemath/sage/files/ticket1431/trac_1431-ticks-and-formatting-and-latex.patch.gz)**

Needs review.  Notice that for some reason it kept the old message - but this latest one is based on 4.4.2, no worries :-)



---

archive/issue_events_014044.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-05-25T18:46:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14044"
}
```



---

archive/issue_events_014045.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-05-25T18:46:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14045"
}
```



---

archive/issue_comments_006733.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nLooks great, applies to 4.5.2, and doctests pass in changed files.  Great job!",
    "created_at": "2010-09-03T22:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6733",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:35" align="right">comment:35</div>

Looks great, applies to 4.5.2, and doctests pass in changed files.  Great job!



---

archive/issue_events_014046.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-09-03T22:06:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14046"
}
```



---

archive/issue_events_014047.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-09-03T22:06:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14047"
}
```



---

archive/issue_events_014048.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-15T10:40:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14048"
}
```



---

archive/issue_events_014049.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-15T10:40:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1431#event-14049"
}
```



---

archive/issue_comments_006734.json:
```json
{
    "body": "Merged: **sage-4.6.alpha1**",
    "created_at": "2010-09-15T10:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1431#issuecomment-6734",
    "user": "https://github.com/qed777"
}
```

Merged: **sage-4.6.alpha1**
