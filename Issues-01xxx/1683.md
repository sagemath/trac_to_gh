# Issue 1683: [with workaround, needs proper patch] sage -t cubegroup.py & stops instead of running in background

archive/issues_001683.json:
```json
{
    "body": "When running sage -t cubegroup.py & (to run it in the background), the process is stopped.\n\nThis is caused by pexpect.sendeof() (called from rubik.py) calling termios.tcsetattr() on stdin which causes the process to be stopped with a SIGTTOU (=write to tty from a background process).\n\nThe pexpect.sendeof() function has been entirely changed in the current version of pexpect, and using that new sendeof() fixes this problem. So, updating to a newer pexpect (ticket #502) should fix this as well.\n\n**Assignee:** @williamstein\n\n**Resolution:** invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/1683\n\n",
    "closed_at": "2013-07-22T13:51:12Z",
    "created_at": "2008-01-04T22:38:30Z",
    "labels": [
        "component: interfaces",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.11",
    "title": "[with workaround, needs proper patch] sage -t cubegroup.py & stops instead of running in background",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/1683",
    "user": "https://github.com/wjp"
}
```
When running sage -t cubegroup.py & (to run it in the background), the process is stopped.

This is caused by pexpect.sendeof() (called from rubik.py) calling termios.tcsetattr() on stdin which causes the process to be stopped with a SIGTTOU (=write to tty from a background process).

The pexpect.sendeof() function has been entirely changed in the current version of pexpect, and using that new sendeof() fixes this problem. So, updating to a newer pexpect (ticket #502) should fix this as well.

**Assignee:** @williamstein

**Resolution:** invalid

Issue created by migration from https://trac.sagemath.org/ticket/1683





---

archive/issue_comments_011537.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis issue was reported by William Stein on IRC.",
    "created_at": "2008-01-04T22:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/1683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/1683#issuecomment-11537",
    "user": "https://github.com/wjp"
}
```

<a id='comment:1'></a>
This issue was reported by William Stein on IRC.



---

archive/issue_comments_011538.json:
```json
{
    "body": "a temporary workaround for linux only by William",
    "created_at": "2008-01-04T23:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/1683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/1683#issuecomment-11538",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

a temporary workaround for linux only by William



---

archive/issue_comments_011539.json:
```json
{
    "body": "<a id='comment:2'></a>\nAttachment [trac-1683-partial.patch](tarball://root/attachments/some-uuid/ticket1683/trac-1683-partial.patch) by mabshoff created at 2008-01-04 23:29:14\n\nI merged trac-1683-partial.patch into Sage 2.9.2.rc1. But the ticket remains open for now since the workaround doesn't work on OSX.\n\nCheers,\n\nMichael",
    "created_at": "2008-01-04T23:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/1683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/1683#issuecomment-11539",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>
Attachment [trac-1683-partial.patch](tarball://root/attachments/some-uuid/ticket1683/trac-1683-partial.patch) by mabshoff created at 2008-01-04 23:29:14

I merged trac-1683-partial.patch into Sage 2.9.2.rc1. But the ticket remains open for now since the workaround doesn't work on OSX.

Cheers,

Michael



---

archive/issue_events_004947.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/1683",
    "rename": {
        "from": "sage -t cubegroup.py & stops instead of running in background",
        "to": "[with workaround, needs proper patch] sage -t cubegroup.py & stops instead of running in background"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/1683#event-4947"
}
```



---

archive/issue_comments_011540.json:
```json
{
    "body": "<a id='comment:4'></a>\nI suggest that we can close this ticket now with the new doctest system.",
    "created_at": "2013-07-22T13:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/1683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/1683#issuecomment-11540",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:4'></a>
I suggest that we can close this ticket now with the new doctest system.



---

archive/issue_events_004948.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2013-07-22T13:51:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/1683",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/1683#event-4948"
}
```



---

archive/issue_comments_011541.json:
```json
{
    "body": "**Resolution:** invalid",
    "created_at": "2013-07-22T13:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/1683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/1683#issuecomment-11541",
    "user": "https://github.com/mwhansen"
}
```

**Resolution:** invalid



---

archive/issue_comments_011542.json:
```json
{
    "body": "**Upstream:** N/A",
    "created_at": "2013-07-22T13:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/1683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/1683#issuecomment-11542",
    "user": "https://github.com/mwhansen"
}
```

**Upstream:** N/A
