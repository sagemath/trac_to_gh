# Issue 1907: matrix kernel() is broken (disagrees with nullity())

archive/issues_001907.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "The nullity() function for matrices is supposed to return the dimension of the kernel, but:\n\n```\nsage: M=Matrix(QQ,[[1,0,0,1],[0,1,1,0],[1,1,1,0]])\nsage: M.nullity()\n1\nsage: M.kernel().dimension()\n0\n```\n\nThe correct value is indeed 0.\n\n\nComponent: **linear algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/1907_\n\n",
    "closed_at": "2008-03-12T22:04:20Z",
    "created_at": "2008-01-24T03:43:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-2.10.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "matrix kernel() is broken (disagrees with nullity())",
    "type": "issue",
    "updated_at": "2008-03-12T22:04:20Z",
    "url": "https://github.com/sagemath/sage/issues/1907",
    "user": "https://github.com/aghitza"
}
```
The nullity() function for matrices is supposed to return the dimension of the kernel, but:

```
sage: M=Matrix(QQ,[[1,0,0,1],[0,1,1,0],[1,1,1,0]])
sage: M.nullity()
1
sage: M.kernel().dimension()
0
```

The correct value is indeed 0.


Component: **linear algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/1907_





---

archive/issue_events_019012.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-01-24T03:43:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "milestone_number": null,
    "milestone_title": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19012"
}
```



---

archive/issue_events_019013.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-01-24T03:43:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19013"
}
```



---

archive/issue_events_019014.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-01-24T03:43:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19014"
}
```



---

archive/issue_events_019015.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-01-24T03:43:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19015"
}
```



---

archive/issue_events_019016.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-01-24T03:43:52Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "subject": "https://github.com/aghitza",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19016"
}
```



---

archive/issue_comments_008782.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nSorry, I should sleep more before filing bugs.  The nullity is indeed 1.  It is the kernel() function that seems to be broken.  For the matrix in question, it should be one-dimensional generated by [0,1,-1,0].\n\n```\nsage: M=Matrix(QQ,[[1,0,0,1],[0,1,1,0],[1,1,1,0]])\nsage: M\n\n[1 0 0 1]\n[0 1 1 0]\n[1 1 1 0]\nsage: M.kernel()\n\nVector space of degree 3 and dimension 0 over Rational Field\nBasis matrix:\n[]\n```",
    "created_at": "2008-01-24T04:10:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1907#issuecomment-8782",
    "user": "https://github.com/aghitza"
}
```

<div id="comment:1" align="right">comment:1</div>

Sorry, I should sleep more before filing bugs.  The nullity is indeed 1.  It is the kernel() function that seems to be broken.  For the matrix in question, it should be one-dimensional generated by [0,1,-1,0].

```
sage: M=Matrix(QQ,[[1,0,0,1],[0,1,1,0],[1,1,1,0]])
sage: M

[1 0 0 1]
[0 1 1 0]
[1 1 1 0]
sage: M.kernel()

Vector space of degree 3 and dimension 0 over Rational Field
Basis matrix:
[]
```



---

archive/issue_events_019017.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-01-24T04:10:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "title_is": "matrix kernel() is broken (disagrees with nullity())",
    "title_was": "matrix nullity returns wrong value",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19017"
}
```



---

archive/issue_comments_008783.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nOK, so it's again a left-versus-right thing, see #1607.  But the documentation for nullity() clearly states that it is the dimension of the kernel(), which definitely is not happening at the moment, so we need to do something about it.",
    "created_at": "2008-01-24T04:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1907#issuecomment-8783",
    "user": "https://github.com/aghitza"
}
```

<div id="comment:2" align="right">comment:2</div>

OK, so it's again a left-versus-right thing, see #1607.  But the documentation for nullity() clearly states that it is the dimension of the kernel(), which definitely is not happening at the moment, so we need to do something about it.



---

archive/issue_comments_008784.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[trac-1907-matrix_nullity.patch.gz](https://github.com/sagemath/sage/files/ticket1907/trac-1907-matrix_nullity.patch.gz)**\n\nLooks good, applies cleanly against sage-2.10.3.rc3, and passes tests.",
    "created_at": "2008-03-11T01:02:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1907#issuecomment-8784",
    "user": "https://github.com/aghitza"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[trac-1907-matrix_nullity.patch.gz](https://github.com/sagemath/sage/files/ticket1907/trac-1907-matrix_nullity.patch.gz)**

Looks good, applies cleanly against sage-2.10.3.rc3, and passes tests.



---

archive/issue_events_019018.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-03-11T01:02:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19018"
}
```



---

archive/issue_events_019019.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-12T04:59:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "milestone_number": null,
    "milestone_title": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19019"
}
```



---

archive/issue_events_019020.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-12T04:59:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "milestone_number": null,
    "milestone_title": "sage-2.10.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19020"
}
```



---

archive/issue_comments_008785.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nMerged in Sage 2.10.4.alpha0",
    "created_at": "2008-03-12T22:04:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1907#issuecomment-8785",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:6" align="right">comment:6</div>

Merged in Sage 2.10.4.alpha0



---

archive/issue_events_019021.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-03-12T22:04:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19021"
}
```



---

archive/issue_events_019022.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-03-12T22:04:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-19022"
}
```
