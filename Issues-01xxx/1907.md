# Issue 1907: matrix kernel() is broken (disagrees with nullity())

archive/issues_001907.json:
```json
{
    "body": "The nullity() function for matrices is supposed to return the dimension of the kernel, but:\n\n```\nsage: M=Matrix(QQ,[[1,0,0,1],[0,1,1,0],[1,1,1,0]])\nsage: M.nullity()\n1\nsage: M.kernel().dimension()\n0\n```\n\nThe correct value is indeed 0.\n\n\n**Assignee:** @williamstein\n\nIssue created by migration from https://trac.sagemath.org/ticket/1907\n\n",
    "closed_at": "2008-03-12T22:04:20Z",
    "created_at": "2008-01-24T03:43:52Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-2.10.4",
    "title": "matrix kernel() is broken (disagrees with nullity())",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/1907",
    "user": "https://github.com/aghitza"
}
```
The nullity() function for matrices is supposed to return the dimension of the kernel, but:

```
sage: M=Matrix(QQ,[[1,0,0,1],[0,1,1,0],[1,1,1,0]])
sage: M.nullity()
1
sage: M.kernel().dimension()
0
```

The correct value is indeed 0.


**Assignee:** @williamstein

Issue created by migration from https://trac.sagemath.org/ticket/1907





---

archive/issue_comments_009308.json:
```json
{
    "body": "<a id='comment:1'></a>\nSorry, I should sleep more before filing bugs.  The nullity is indeed 1.  It is the kernel() function that seems to be broken.  For the matrix in question, it should be one-dimensional generated by [0,1,-1,0].\n\n```\nsage: M=Matrix(QQ,[[1,0,0,1],[0,1,1,0],[1,1,1,0]])\nsage: M\n\n[1 0 0 1]\n[0 1 1 0]\n[1 1 1 0]\nsage: M.kernel()\n\nVector space of degree 3 and dimension 0 over Rational Field\nBasis matrix:\n[]\n```",
    "created_at": "2008-01-24T04:10:04Z",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1907#issuecomment-9308",
    "user": "https://github.com/aghitza"
}
```

<a id='comment:1'></a>
Sorry, I should sleep more before filing bugs.  The nullity is indeed 1.  It is the kernel() function that seems to be broken.  For the matrix in question, it should be one-dimensional generated by [0,1,-1,0].

```
sage: M=Matrix(QQ,[[1,0,0,1],[0,1,1,0],[1,1,1,0]])
sage: M

[1 0 0 1]
[0 1 1 0]
[1 1 1 0]
sage: M.kernel()

Vector space of degree 3 and dimension 0 over Rational Field
Basis matrix:
[]
```



---

archive/issue_events_008953.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-01-24T04:10:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "rename": {
        "from": "matrix nullity returns wrong value",
        "to": "matrix kernel() is broken (disagrees with nullity())"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-8953"
}
```



---

archive/issue_comments_009309.json:
```json
{
    "body": "<a id='comment:2'></a>\nOK, so it's again a left-versus-right thing, see #1607.  But the documentation for nullity() clearly states that it is the dimension of the kernel(), which definitely is not happening at the moment, so we need to do something about it.",
    "created_at": "2008-01-24T04:25:38Z",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1907#issuecomment-9309",
    "user": "https://github.com/aghitza"
}
```

<a id='comment:2'></a>
OK, so it's again a left-versus-right thing, see #1607.  But the documentation for nullity() clearly states that it is the dimension of the kernel(), which definitely is not happening at the moment, so we need to do something about it.



---

archive/attachments_001570.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac-1907-matrix_nullity.patch",
    "asset_url": "tarball://root/attachments/ticket1907/trac-1907-matrix_nullity.patch",
    "created_at": "2008-03-11T01:02:46Z",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket1907/trac-1907-matrix_nullity.patch",
    "user": "https://github.com/aghitza"
}
```



---

archive/issue_comments_009310.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Attachment:** [trac-1907-matrix_nullity.patch](https://github.com/sagemath/sage/files/ticket1907/trac-1907-matrix_nullity.patch)\n\nLooks good, applies cleanly against sage-2.10.3.rc3, and passes tests.",
    "created_at": "2008-03-11T01:02:46Z",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1907#issuecomment-9310",
    "user": "https://github.com/aghitza"
}
```

<a id='comment:4'></a>
**Attachment:** [trac-1907-matrix_nullity.patch](https://github.com/sagemath/sage/files/ticket1907/trac-1907-matrix_nullity.patch)

Looks good, applies cleanly against sage-2.10.3.rc3, and passes tests.



---

archive/issue_events_008954.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-03-11T01:02:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-8954"
}
```



---

archive/issue_events_008955.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-12T04:59:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "milestone": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-8955"
}
```



---

archive/issue_events_008956.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-12T04:59:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "milestone": "sage-2.10.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-8956"
}
```



---

archive/issue_comments_009311.json:
```json
{
    "body": "<a id='comment:6'></a>\nMerged in Sage 2.10.4.alpha0",
    "created_at": "2008-03-12T22:04:20Z",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/1907#issuecomment-9311",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:6'></a>
Merged in Sage 2.10.4.alpha0



---

archive/issue_events_008957.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-03-12T22:04:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-8957"
}
```



---

archive/issue_events_008958.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-03-12T22:04:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/1907",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/1907#event-8958"
}
```
