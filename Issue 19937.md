# Issue 19937: Avoid recomputing vacancy numbers for rigged configurations

Issue created by migration from https://trac.sagemath.org/ticket/20174

Original creator: tscrim

Original creation time: 2016-03-07 08:25:05

Assignee: sage-combinat

CC:  sage-combinat aschilling bsalisbury1

Keywords: rigged configurations

Many of rigged configuration operations, such as `e()` and `f()`, needlessly recompute the vacancy numbers. We simply need to tell the constructor to avoid doing these computations.


---

Comment by tscrim created at 2016-03-07 08:29:31

With branch:

```
sage: RC = RiggedConfigurations(['B',4,1], [[2,1],[3,1]])
sage: %time len(list(RC))
CPU times: user 3.33 s, sys: 19.6 ms, total: 3.35 s
Wall time: 3.33 s
3441
sage: RC = RiggedConfigurations(['A',4,1], [[2,1],[3,1]])
sage: %time len(list(RC))
CPU times: user 41.9 ms, sys: 4.27 ms, total: 46.1 ms
Wall time: 38.8 ms
100
sage: RC = RiggedConfigurations(['D',6,1], [[2,1],[3,1]])
sage: %time len(list(RC))
CPU times: user 7.17 s, sys: 36 ms, total: 7.21 s
Wall time: 7.19 s
15544
```

vs old version

```
sage: RC = RiggedConfigurations(['B',4,1], [[2,1],[3,1]])
sage: %time len(list(RC))
CPU times: user 12.5 s, sys: 45 ms, total: 12.5 s
Wall time: 12.5 s
3441
sage: RC = RiggedConfigurations(['A',4,1], [[2,1],[3,1]])
sage: %time len(list(RC))
CPU times: user 97.5 ms, sys: 4.16 ms, total: 102 ms
Wall time: 88.4 ms
100
sage: RC = RiggedConfigurations(['D',6,1], [[2,1],[3,1]])
sage: %time len(list(RC))
CPU times: user 26.5 s, sys: 52.1 ms, total: 26.6 s
Wall time: 26.5 s
15544
```


Slightly annoying how simple changes these were and resulting in such a large speed gain...
----
New commits:


---

Comment by tscrim created at 2016-03-07 08:29:31

Changing status from new to needs_review.


---

Comment by git created at 2016-03-07 08:37:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by aschilling created at 2016-03-25 05:56:32

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-03-26 11:30:54

Resolution: fixed
