# Issue 31757: Sigma invariants for P^N, N > 1

archive/issues_031757.json:
```json
{
    "body": "CC:  bhutz\n\nKeywords: gsoc2021\n\nCurrently, the sigma invariants method for dynamical systems on projective space is not implemented when the projective space has dimension greater than 1. Using the algorithm described in [https://arxiv.org/pdf/1908.03184.pdf](https://arxiv.org/pdf/1908.03184.pdf), this ticket implements that functionality.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31994\n\n",
    "created_at": "2021-06-16T20:58:56Z",
    "labels": [
        "dynamics",
        "minor",
        "enhancement"
    ],
    "title": "Sigma invariants for P^N, N > 1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31757",
    "user": "@EnderWannabe"
}
```
CC:  bhutz

Keywords: gsoc2021

Currently, the sigma invariants method for dynamical systems on projective space is not implemented when the projective space has dimension greater than 1. Using the algorithm described in [https://arxiv.org/pdf/1908.03184.pdf](https://arxiv.org/pdf/1908.03184.pdf), this ticket implements that functionality.

Issue created by migration from https://trac.sagemath.org/ticket/31994





---

archive/issue_comments_453710.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-06-18T21:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453710",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_453711.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-21T20:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453711",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453712.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-06-30T18:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453712",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_453713.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-30T18:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453713",
    "user": "@EnderWannabe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_453714.json:
```json
{
    "body": "I pushed a branch with a few comments in the main algorithm. Feel free to add some more.\n\n\nHere are the issues I've found:\n\n- I don't think putting the degrees as the first two coordinates is appropriate since unless you understand the full form of the sigma invariant polynomials it's not that helpful. If you do know the full form, then then information is not needed.\n\n- need examples for\n  - formal=True\n  - finite fields\n  - polynomial rings\n\n- cycle is ignored for dimension > 1, but seems like a not implemented error should be thrown instead of simply ignoring the parameter. Also, should mention in the INPUT documentation that it is only for dim=1.\n\n- You need to fix the signs as you pull off the coefficients in\n\n```\nsigmas.append(sigma_dictionary.pop(w**i*t**j, 0))\n```\n\n\n- Formal doesn't seem to work as these both give the same result\n\n```\nP.<x,y,z>=ProjectiveSpace(QQ,2)\nf=DynamicalSystem([x^2-z^2,y^2,z^2])\nf.sigma_invariants(2,return_polynomial=True,formal = False)\nf.sigma_invariants(2,return_polynomial=True,formal = True)\n```\n\n\n- random error\n\n\n```\nP.<x,y,z>=ProjectiveSpace(QQbar,2)\nf=DynamicalSystem([x^2-z^2,y^2,z^2])\nf.sigma_invariants(2,return_polynomial=True,formal = False)\n```\n\n\n- shouldn't these work?\n\n```\nR.<c>=QQ[]\nP.<x,y>=ProjectiveSpace(R,1)\nf=DynamicalSystem([x^2+c*y^2,y^2])\nf.sigma_invariants(1,return_polynomial=True)\n\nR.<c,d>=QQ[]\nP.<x,y,z>=ProjectiveSpace(R,2)\nf=DynamicalSystem([x^2+c*z^2,y^2+d*z^2,z^2])\nf.sigma_invariants(1,return_polynomial=True)\n\nR.<c,d>=QQ[]\nP.<x,y,z>=ProjectiveSpace(FractionField(R),2)\nf=DynamicalSystem([x^2+c*z^2,y^2+d*z^2,z^2])\nf.sigma_invariants(1,return_polynomial=True)\n```\n\n\n- This is wrong\n\n```\nP.<x,y>=ProjectiveSpace(QQ,1)\nf=DynamicalSystem([x^2+3*y^2,x*y])\nf.sigma_invariants(1,return_polynomial=True, chow=True)\n```\n",
    "created_at": "2021-07-06T17:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453714",
    "user": "bhutz"
}
```

I pushed a branch with a few comments in the main algorithm. Feel free to add some more.


Here are the issues I've found:

- I don't think putting the degrees as the first two coordinates is appropriate since unless you understand the full form of the sigma invariant polynomials it's not that helpful. If you do know the full form, then then information is not needed.

- need examples for
  - formal=True
  - finite fields
  - polynomial rings

- cycle is ignored for dimension > 1, but seems like a not implemented error should be thrown instead of simply ignoring the parameter. Also, should mention in the INPUT documentation that it is only for dim=1.

- You need to fix the signs as you pull off the coefficients in

```
sigmas.append(sigma_dictionary.pop(w**i*t**j, 0))
```


- Formal doesn't seem to work as these both give the same result

```
P.<x,y,z>=ProjectiveSpace(QQ,2)
f=DynamicalSystem([x^2-z^2,y^2,z^2])
f.sigma_invariants(2,return_polynomial=True,formal = False)
f.sigma_invariants(2,return_polynomial=True,formal = True)
```


- random error


```
P.<x,y,z>=ProjectiveSpace(QQbar,2)
f=DynamicalSystem([x^2-z^2,y^2,z^2])
f.sigma_invariants(2,return_polynomial=True,formal = False)
```


- shouldn't these work?

```
R.<c>=QQ[]
P.<x,y>=ProjectiveSpace(R,1)
f=DynamicalSystem([x^2+c*y^2,y^2])
f.sigma_invariants(1,return_polynomial=True)

R.<c,d>=QQ[]
P.<x,y,z>=ProjectiveSpace(R,2)
f=DynamicalSystem([x^2+c*z^2,y^2+d*z^2,z^2])
f.sigma_invariants(1,return_polynomial=True)

R.<c,d>=QQ[]
P.<x,y,z>=ProjectiveSpace(FractionField(R),2)
f=DynamicalSystem([x^2+c*z^2,y^2+d*z^2,z^2])
f.sigma_invariants(1,return_polynomial=True)
```


- This is wrong

```
P.<x,y>=ProjectiveSpace(QQ,1)
f=DynamicalSystem([x^2+3*y^2,x*y])
f.sigma_invariants(1,return_polynomial=True, chow=True)
```




---

archive/issue_comments_453715.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-06T17:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453715",
    "user": "bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_453716.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-06T22:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453716",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_453717.json:
```json
{
    "body": "Pushed a change fixing the random QQbar issue, and fixing the signs.\n\nI also added flattening and unflattening for the families with a parameter - those should work now.\n\nThere does seem to be a big bug in the code. This one is correct:\n\n```\nR.<c>=QQ[]\nP.<x,y>=ProjectiveSpace(R,1)\nf=DynamicalSystem([x^2+c*y^2,y^2])\nf.sigma_invariants(1,return_polynomial=True,chow=True)\nw^3 + (-3)*w^2*t + 2*w^2 + 3*w*t^2 + (-4)*w*t + 4*c*w - t^3 + 2*t^2 + (-4*c)*t\n```\n\n\nBut this fails:\n\n```\nR.<c>=QQ[]\nP.<x,y>=ProjectiveSpace(FractionField(R),1)\nf=DynamicalSystem([x^2+c*y^2,y^2])\nf.sigma_invariants(1,return_polynomial=True, chow=True)\nw - t\n```\n\nNot sure what is going on there.\n\nAs for putting the degrees in the first two coordinates, I did that so that the full form of the polynomial could be specified. I think the two degrees plus the list of coefficients with 0's is enough to fully specify the polynomial, so that doing a check of\n\n```\nf.sigma_invariants(1) == g.sigma_invariants(1)\n```\n\nactually tells us if f and g are not conjugate.",
    "created_at": "2021-07-06T22:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453717",
    "user": "@EnderWannabe"
}
```

Pushed a change fixing the random QQbar issue, and fixing the signs.

I also added flattening and unflattening for the families with a parameter - those should work now.

There does seem to be a big bug in the code. This one is correct:

```
R.<c>=QQ[]
P.<x,y>=ProjectiveSpace(R,1)
f=DynamicalSystem([x^2+c*y^2,y^2])
f.sigma_invariants(1,return_polynomial=True,chow=True)
w^3 + (-3)*w^2*t + 2*w^2 + 3*w*t^2 + (-4)*w*t + 4*c*w - t^3 + 2*t^2 + (-4*c)*t
```


But this fails:

```
R.<c>=QQ[]
P.<x,y>=ProjectiveSpace(FractionField(R),1)
f=DynamicalSystem([x^2+c*y^2,y^2])
f.sigma_invariants(1,return_polynomial=True, chow=True)
w - t
```

Not sure what is going on there.

As for putting the degrees in the first two coordinates, I did that so that the full form of the polynomial could be specified. I think the two degrees plus the list of coefficients with 0's is enough to fully specify the polynomial, so that doing a check of

```
f.sigma_invariants(1) == g.sigma_invariants(1)
```

actually tells us if f and g are not conjugate.



---

archive/issue_comments_453718.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-07T16:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453718",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453719.json:
```json
{
    "body": "Latest push should address all the comments except for the last.\n\nI've been looking for the bug in\n\n```\nP.<x,y>=ProjectiveSpace(QQ,1)\nf=DynamicalSystem([x^2+3*y^2,x*y])\nf.sigma_invariants(1,return_polynomial=True, chow=True)\n```\n\n\nThis map has a fixed point at infinity with multiplicity 3, which we try to account for in the second affine chart. However, it only shows up with multiplicity 1 in that affine chart. Not sure how to fix that.",
    "created_at": "2021-07-07T16:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453719",
    "user": "@EnderWannabe"
}
```

Latest push should address all the comments except for the last.

I've been looking for the bug in

```
P.<x,y>=ProjectiveSpace(QQ,1)
f=DynamicalSystem([x^2+3*y^2,x*y])
f.sigma_invariants(1,return_polynomial=True, chow=True)
```


This map has a fixed point at infinity with multiplicity 3, which we try to account for in the second affine chart. However, it only shows up with multiplicity 1 in that affine chart. Not sure how to fix that.



---

archive/issue_comments_453720.json:
```json
{
    "body": "I think this needs to be deformed as was done in the formal periodic points.\n\nI see four cases\n\n- all periodic points and multipliers are distinct (typical case): runs as normal\n- all periodic points distinct, but multipliers not all distinct: chow method works\n- periodic points not all distinct, all other multipliers distinct: deform and use normal method\n- periodic points not all distinct and multipliers not all distinct: deform + chow method",
    "created_at": "2021-07-08T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453720",
    "user": "bhutz"
}
```

I think this needs to be deformed as was done in the formal periodic points.

I see four cases

- all periodic points and multipliers are distinct (typical case): runs as normal
- all periodic points distinct, but multipliers not all distinct: chow method works
- periodic points not all distinct, all other multipliers distinct: deform and use normal method
- periodic points not all distinct and multipliers not all distinct: deform + chow method



---

archive/issue_comments_453721.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-09T20:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453721",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_453722.json:
```json
{
    "body": "Replying to [comment:14 bhutz]:\n> I think this needs to be deformed as was done in the formal periodic points.\n\nDeformation added, that example works now.",
    "created_at": "2021-07-09T20:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453722",
    "user": "@EnderWannabe"
}
```

Replying to [comment:14 bhutz]:
> I think this needs to be deformed as was done in the formal periodic points.

Deformation added, that example works now.



---

archive/issue_comments_453723.json:
```json
{
    "body": "I know this is not marked as ready for review yet, but a quick comment.\n\nThe valueerror for degree counting only seems to occur for Formal=False.\n\nAlso the error should probably read '...and/or deform=True.'",
    "created_at": "2021-07-12T19:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453723",
    "user": "bhutz"
}
```

I know this is not marked as ready for review yet, but a quick comment.

The valueerror for degree counting only seems to occur for Formal=False.

Also the error should probably read '...and/or deform=True.'



---

archive/issue_comments_453724.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-13T18:15:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453724",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453725.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-13T18:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453725",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453726.json:
```json
{
    "body": "Replying to [comment:17 bhutz]:\n> The valueerror for degree counting only seems to occur for Formal=False.\n\nAdded",
    "created_at": "2021-07-13T18:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453726",
    "user": "@EnderWannabe"
}
```

Replying to [comment:17 bhutz]:
> The valueerror for degree counting only seems to occur for Formal=False.

Added



---

archive/issue_comments_453727.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-15T15:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453727",
    "user": "@EnderWannabe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_453728.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-15T15:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453728",
    "user": "bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_453729.json:
```json
{
    "body": "The functionality is working correctly, but the documentation needs to be updated. The description is still the dimension 1 description.",
    "created_at": "2021-07-15T15:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453729",
    "user": "bhutz"
}
```

The functionality is working correctly, but the documentation needs to be updated. The description is still the dimension 1 description.



---

archive/issue_comments_453730.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-15T15:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453730",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453731.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-15T15:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453731",
    "user": "@EnderWannabe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_453732.json:
```json
{
    "body": "Please look over my doc changes. Otherwise I think we ready to mark this positive.\n----\nNew commits:",
    "created_at": "2021-07-20T14:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453732",
    "user": "bhutz"
}
```

Please look over my doc changes. Otherwise I think we ready to mark this positive.
----
New commits:



---

archive/issue_comments_453733.json:
```json
{
    "body": "Docs look good to me",
    "created_at": "2021-07-20T16:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453733",
    "user": "@EnderWannabe"
}
```

Docs look good to me



---

archive/issue_comments_453734.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-20T16:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453734",
    "user": "@EnderWannabe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_453735.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-25T18:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453735",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_453736.json:
```json
{
    "body": "Random failure:\n\n```\n**********************************************************************\nFile \"src/sage/dynamics/arithmetic_dynamics/projective_ds.py\", line 4021, in sage.dynamics.arithmetic_dynamics.projective_ds.?.preperiodic_points\nFailed example:\n    f.preperiodic_points(2, 1, R=K)\nExpected:\n    [(v : 1), (-v : 1)]\nGot:\n    [(-v : 1), (v : 1)]\n**********************************************************************\n1 item had failures:\n   1 of  68 in sage.dynamics.arithmetic_dynamics.projective_ds.?.preperiodic_points\n    [1406 tests, 1 failure, 49.93 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/dynamics/arithmetic_dynamics/projective_ds.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2021-07-26T21:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453736",
    "user": "vbraun"
}
```

Random failure:

```
**********************************************************************
File "src/sage/dynamics/arithmetic_dynamics/projective_ds.py", line 4021, in sage.dynamics.arithmetic_dynamics.projective_ds.?.preperiodic_points
Failed example:
    f.preperiodic_points(2, 1, R=K)
Expected:
    [(v : 1), (-v : 1)]
Got:
    [(-v : 1), (v : 1)]
**********************************************************************
1 item had failures:
   1 of  68 in sage.dynamics.arithmetic_dynamics.projective_ds.?.preperiodic_points
    [1406 tests, 1 failure, 49.93 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/dynamics/arithmetic_dynamics/projective_ds.py  # 1 doctest failed
----------------------------------------------------------------------
```




---

archive/issue_comments_453737.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2021-07-26T21:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453737",
    "user": "vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_453738.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2021-07-26T21:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453738",
    "user": "vbraun"
}
```

Changing status from closed to new.



---

archive/issue_comments_453739.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-07-27T14:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453739",
    "user": "@EnderWannabe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_453740.json:
```json
{
    "body": "Added 2 lines to sort the list before returning to avoid such issues.\n----\nNew commits:",
    "created_at": "2021-07-27T14:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453740",
    "user": "@EnderWannabe"
}
```

Added 2 lines to sort the list before returning to avoid such issues.
----
New commits:



---

archive/issue_comments_453741.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-27T15:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453741",
    "user": "bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_453742.json:
```json
{
    "body": "need to merge in fix for doctest failure in #32322",
    "created_at": "2021-08-03T18:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453742",
    "user": "bhutz"
}
```

need to merge in fix for doctest failure in #32322



---

archive/issue_comments_453743.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-08-03T18:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453743",
    "user": "bhutz"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_453744.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-09T20:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453744",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_453745.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-08-09T20:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453745",
    "user": "@EnderWannabe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_453746.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-13T15:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453746",
    "user": "bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_453747.json:
```json
{
    "body": "I removed the duplicated import that pyflakes caught. Otherwise looks fine. Patchbot hasn't picked it up since the #32322 merge, but that ticket is now closed, so no issues there.\n----\nNew commits:",
    "created_at": "2021-08-13T15:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453747",
    "user": "bhutz"
}
```

I removed the duplicated import that pyflakes caught. Otherwise looks fine. Patchbot hasn't picked it up since the #32322 merge, but that ticket is now closed, so no issues there.
----
New commits:



---

archive/issue_comments_453748.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-19T20:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31757#issuecomment-453748",
    "user": "vbraun"
}
```

Resolution: fixed
