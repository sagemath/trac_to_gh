# Issue 14137: More doctests from the book "Calcul mathématique avec Sage"--Chap. "programmation"

archive/issues_014137.json:
```json
{
    "body": "Assignee: tbd\n\nThe attached file provides doctests for examples in the chapter on Python/Sage programming. See #9395 for some background.\n\nThough I prepared the patch, the main authors of the tests are Alexandre Casamayou and Fran\u00e7ois Maltey.\n\nAll tests pass with Sage 5.9\u03b20 on my machine.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14341\n\n",
    "created_at": "2013-03-22T21:10:43Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "PLEASE CHANGE"
    ],
    "title": "More doctests from the book \"Calcul math\u00e9matique avec Sage\"--Chap. \"programmation\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14137",
    "user": "mmezzarobba"
}
```
Assignee: tbd

The attached file provides doctests for examples in the chapter on Python/Sage programming. See #9395 for some background.

Though I prepared the patch, the main authors of the tests are Alexandre Casamayou and François Maltey.

All tests pass with Sage 5.9β0 on my machine.

Issue created by migration from https://trac.sagemath.org/ticket/14341





---

archive/issue_comments_177400.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-22T21:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177400",
    "user": "mmezzarobba"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_177401.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to documentation.",
    "created_at": "2013-06-03T18:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177401",
    "user": "vdelecroix"
}
```

Changing component from PLEASE CHANGE to documentation.



---

archive/issue_comments_177402.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2013-06-03T18:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177402",
    "user": "vdelecroix"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_177403.json:
```json
{
    "body": "Hello,\n\n1) Strangely enough, in the patchbot log\n\n```\n**********************************************************************\nFile \"/data/patchbot/sage-5.9/devel/sage/sage/symbolic/constants.py\", line 203, in sage.symbolic.constants\nFailed example:\n    maxima('infinity').sage()\nExpected:\n    Infinity\nGot:\n    Maxima crashed -- automatically restarting.\n    Infinity\n**********************************************************************\n```\n\n\n2) The doctest framework for multiline statement has changed. You should replace\n\n```\nsage: for i in truc:\n...     print bidule\n```\n\nby\n\n```\nsage: for i in truc\n....:     print bidule\n```\n\n\n3) I do not understand why patchbot complains about non ascii characters...\n\nDo you have any idea about 1) ?",
    "created_at": "2013-06-03T18:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177403",
    "user": "vdelecroix"
}
```

Hello,

1) Strangely enough, in the patchbot log

```
**********************************************************************
File "/data/patchbot/sage-5.9/devel/sage/sage/symbolic/constants.py", line 203, in sage.symbolic.constants
Failed example:
    maxima('infinity').sage()
Expected:
    Infinity
Got:
    Maxima crashed -- automatically restarting.
    Infinity
**********************************************************************
```


2) The doctest framework for multiline statement has changed. You should replace

```
sage: for i in truc:
...     print bidule
```

by

```
sage: for i in truc
....:     print bidule
```


3) I do not understand why patchbot complains about non ascii characters...

Do you have any idea about 1) ?



---

archive/issue_comments_177404.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-06-03T18:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177404",
    "user": "vdelecroix"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_177405.json:
```json
{
    "body": "Same comment as for #10983. Plus the `....:` thing.\n\nNathann",
    "created_at": "2013-07-04T09:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177405",
    "user": "ncohen"
}
```

Same comment as for #10983. Plus the `....:` thing.

Nathann



---

archive/issue_comments_177406.json:
```json
{
    "body": "patch modified to take into account the output ordering change due to #9880.\nWorks fine with Sage 5.11. Ready for review. See also #10983 and #14340.\nI left `...` instead of `....:` since it works with the current doctest framework\n(it would be better to do a global change for that).\n\nPaul",
    "created_at": "2013-08-23T09:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177406",
    "user": "zimmerma"
}
```

patch modified to take into account the output ordering change due to #9880.
Works fine with Sage 5.11. Ready for review. See also #10983 and #14340.
I left `...` instead of `....:` since it works with the current doctest framework
(it would be better to do a global change for that).

Paul



---

archive/issue_comments_177407.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-08-23T09:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177407",
    "user": "zimmerma"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_177408.json:
```json
{
    "body": "Replying to [comment:6 zimmerma]:\n> I left `...` instead of `....:` since it works with the current doctest framework\n> (it would be better to do a global change for that).\nI don't really understand this. You are strongly encouraged to use `....:` because it is what you get in the Sage interactive shell, it is like that in the book and because it makes the doctest examples line up better. I see absolutely no reason to add *new* doctests using the old `...` syntax.",
    "created_at": "2013-08-23T11:47:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177408",
    "user": "jdemeyer"
}
```

Replying to [comment:6 zimmerma]:
> I left `...` instead of `....:` since it works with the current doctest framework
> (it would be better to do a global change for that).
I don't really understand this. You are strongly encouraged to use `....:` because it is what you get in the Sage interactive shell, it is like that in the book and because it makes the doctest examples line up better. I see absolutely no reason to add *new* doctests using the old `...` syntax.



---

archive/issue_comments_177409.json:
```json
{
    "body": "Replying to [comment:7 jdemeyer]:\n> Replying to [comment:6 zimmerma]:\n> > I left `...` instead of `....:` since it works with the current doctest framework\n> > (it would be better to do a global change for that).\n> I don't really understand this. You are strongly encouraged to use `....:` because it is what you get in the Sage interactive shell and because it makes the doctest examples line up better. I see absolutely no reason to add *new* doctests using the old `...` syntax.\n\nJeroen, ok I will change this, but since I spent about 4 hours today in updating or creating new doctests, I'd like to find a easy way.\n\nI assume if I simply replace `...` by `....:` in the patch it won't work?\n\nPaul",
    "created_at": "2013-08-23T11:51:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177409",
    "user": "zimmerma"
}
```

Replying to [comment:7 jdemeyer]:
> Replying to [comment:6 zimmerma]:
> > I left `...` instead of `....:` since it works with the current doctest framework
> > (it would be better to do a global change for that).
> I don't really understand this. You are strongly encouraged to use `....:` because it is what you get in the Sage interactive shell and because it makes the doctest examples line up better. I see absolutely no reason to add *new* doctests using the old `...` syntax.

Jeroen, ok I will change this, but since I spent about 4 hours today in updating or creating new doctests, I'd like to find a easy way.

I assume if I simply replace `...` by `....:` in the patch it won't work?

Paul



---

archive/issue_comments_177410.json:
```json
{
    "body": "Attachment\n\nnew patch with `....:` attached.\n\nPaul",
    "created_at": "2013-08-23T11:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177410",
    "user": "zimmerma"
}
```

Attachment

new patch with `....:` attached.

Paul



---

archive/issue_comments_177411.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-08-29T11:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177411",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_177412.json:
```json
{
    "body": "ok, good to go",
    "created_at": "2013-08-29T11:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177412",
    "user": "chapoton"
}
```

ok, good to go



---

archive/issue_comments_177413.json:
```json
{
    "body": "> ok, good to go \n\nthank you!\n\nPaul",
    "created_at": "2013-08-29T16:30:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177413",
    "user": "zimmerma"
}
```

> ok, good to go 

thank you!

Paul



---

archive/issue_comments_177414.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-09-04T08:06:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14137",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14137#issuecomment-177414",
    "user": "jdemeyer"
}
```

Resolution: fixed
