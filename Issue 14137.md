# Issue 14137: More doctests from the book "Calcul mathématique avec Sage"--Chap. "programmation"

Issue created by migration from Trac.

Original creator: mmezzarobba

Original creation time: 2013-03-22 21:10:43

Assignee: tbd

The attached file provides doctests for examples in the chapter on Python/Sage programming. See #9395 for some background.

Though I prepared the patch, the main authors of the tests are Alexandre Casamayou and François Maltey.

All tests pass with Sage 5.9β0 on my machine.


---

Comment by mmezzarobba created at 2013-03-22 21:12:13

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2013-06-03 18:54:38

Changing component from PLEASE CHANGE to documentation.


---

Comment by vdelecroix created at 2013-06-03 18:54:38

Changing type from PLEASE CHANGE to enhancement.


---

Comment by vdelecroix created at 2013-06-03 18:54:38

Hello,

1) Strangely enough, in the patchbot log

```
**********************************************************************
File "/data/patchbot/sage-5.9/devel/sage/sage/symbolic/constants.py", line 203, in sage.symbolic.constants
Failed example:
    maxima('infinity').sage()
Expected:
    Infinity
Got:
    Maxima crashed -- automatically restarting.
    Infinity
**********************************************************************
```


2) The doctest framework for multiline statement has changed. You should replace

```
sage: for i in truc:
...     print bidule
```

by

```
sage: for i in truc
....:     print bidule
```


3) I do not understand why patchbot complains about non ascii characters...

Do you have any idea about 1) ?


---

Comment by vdelecroix created at 2013-06-03 18:54:38

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2013-07-04 09:53:08

Same comment as for #10983. Plus the `....:` thing.

Nathann


---

Comment by zimmerma created at 2013-08-23 09:35:11

patch modified to take into account the output ordering change due to #9880.
Works fine with Sage 5.11. Ready for review. See also #10983 and #14340.
I left `...` instead of `....:` since it works with the current doctest framework
(it would be better to do a global change for that).

Paul


---

Comment by zimmerma created at 2013-08-23 09:35:11

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2013-08-23 11:47:16

Replying to [comment:6 zimmerma]:
> I left `...` instead of `....:` since it works with the current doctest framework
> (it would be better to do a global change for that).
I don't really understand this. You are strongly encouraged to use `....:` because it is what you get in the Sage interactive shell, it is like that in the book and because it makes the doctest examples line up better. I see absolutely no reason to add _new_ doctests using the old `...` syntax.


---

Comment by zimmerma created at 2013-08-23 11:51:30

Replying to [comment:7 jdemeyer]:
> Replying to [comment:6 zimmerma]:
> > I left `...` instead of `....:` since it works with the current doctest framework
> > (it would be better to do a global change for that).
> I don't really understand this. You are strongly encouraged to use `....:` because it is what you get in the Sage interactive shell and because it makes the doctest examples line up better. I see absolutely no reason to add _new_ doctests using the old `...` syntax.

Jeroen, ok I will change this, but since I spent about 4 hours today in updating or creating new doctests, I'd like to find a easy way.

I assume if I simply replace `...` by `....:` in the patch it won't work?

Paul


---

Attachment

new patch with `....:` attached.

Paul


---

Comment by chapoton created at 2013-08-29 11:30:05

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2013-08-29 11:30:05

ok, good to go


---

Comment by zimmerma created at 2013-08-29 16:30:09

> ok, good to go 

thank you!

Paul


---

Comment by jdemeyer created at 2013-09-04 08:06:15

Resolution: fixed
