# Issue 18382: A combinatorial formula for upper cluster algebra elements

archive/issues_018382.json:
```json
{
    "body": "CC:  mattmills lli\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18619\n\n",
    "created_at": "2015-06-05T18:56:40Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "A combinatorial formula for upper cluster algebra elements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18382",
    "user": "mattmills"
}
```
CC:  mattmills lli



Issue created by migration from https://trac.sagemath.org/ticket/18619





---

archive/issue_comments_249600.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2015-06-05T19:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249600",
    "user": "mattmills"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_249601.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2015-06-05T19:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249601",
    "user": "mattmills"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_249602.json:
```json
{
    "body": "Changing keywords from \"\" to \"sagedays64.5\".",
    "created_at": "2015-06-05T19:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249602",
    "user": "mattmills"
}
```

Changing keywords from "" to "sagedays64.5".



---

archive/issue_comments_249603.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-08T14:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249603",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249604.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-08T15:49:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249604",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249605.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-29T16:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249605",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249606.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-30T18:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249606",
    "user": "mattmills"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_249607.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2015-06-30T18:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249607",
    "user": "mattmills"
}
```

Changing priority from major to minor.



---

archive/issue_comments_249608.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-07-30T17:06:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249608",
    "user": "@fchapoton"
}
```

New commits:



---

archive/issue_comments_249609.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-14T16:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249609",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249610.json:
```json
{
    "body": "Changing keywords from \"sagedays64.5\" to \"sagedays64.5, cluster\".",
    "created_at": "2015-10-14T16:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249610",
    "user": "@fchapoton"
}
```

Changing keywords from "sagedays64.5" to "sagedays64.5, cluster".



---

archive/issue_comments_249611.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-15T17:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249611",
    "user": "@fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_249612.json:
```json
{
    "body": "the names of the function should be more explicit (less abbreviated)\n\nand the code would also need a clean-up, I think",
    "created_at": "2015-10-15T17:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249612",
    "user": "@fchapoton"
}
```

the names of the function should be more explicit (less abbreviated)

and the code would also need a clean-up, I think



---

archive/issue_comments_249613.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-15T18:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249613",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249614.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-10T02:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249614",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249615.json:
```json
{
    "body": "Tried to pull this ticket and got a syntax error when I built Sage:\n\nin the procedure _vector_decomposition, the line\n\n\"ap[i]- = 1\"\n\nappears.  Should this be \"ap[i] = 1\" or \"ap[i] -= 1\"?",
    "created_at": "2016-08-08T16:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249615",
    "user": "gmoose05"
}
```

Tried to pull this ticket and got a syntax error when I built Sage:

in the procedure _vector_decomposition, the line

"ap[i]- = 1"

appears.  Should this be "ap[i] = 1" or "ap[i] -= 1"?



---

archive/issue_comments_249616.json:
```json
{
    "body": "Replying to [comment:15 gmoose05]:\n> Tried to pull this ticket and got a syntax error when I built Sage:\n> \n> in the procedure _vector_decomposition, the line\n> \n> \"ap[i]- = 1\"\n> \n> appears.  Should this be \"ap[i] = 1\" or \"ap[i] -= 1\"?\n\n\nIt should be  \"ap[i] -= 1\". Thanks.",
    "created_at": "2016-08-08T16:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249616",
    "user": "mattmills"
}
```

Replying to [comment:15 gmoose05]:
> Tried to pull this ticket and got a syntax error when I built Sage:
> 
> in the procedure _vector_decomposition, the line
> 
> "ap[i]- = 1"
> 
> appears.  Should this be "ap[i] = 1" or "ap[i] -= 1"?


It should be  "ap[i] -= 1". Thanks.



---

archive/issue_comments_249617.json:
```json
{
    "body": "Fixed a few typos in the code.",
    "created_at": "2016-08-08T16:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249617",
    "user": "gmoose05"
}
```

Fixed a few typos in the code.



---

archive/issue_comments_249618.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2016-08-08T16:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249618",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_249619.json:
```json
{
    "body": "Added the lines\n\n+        from sage.modules.free_module import VectorSpace\n\n+        from sage.rings.finite_rings.finite_field_constructor import GF\n\nbut still getting an error because in\n\n        # For each vector a in vd. check if a vector s in {0,1}^n is compatible.\n\n        compatibleList = []\n\n        psetvect = VectorSpace(GF(2), num_cols).list()\n\n        for p in psetvect:\n\n            while len(p) < len(vd[0][0]):\n\n                p.append(0)\n\nit is not possible to simply append a zero to a vector since vectors have a fixed dimension.",
    "created_at": "2016-08-08T16:40:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249619",
    "user": "gmoose05"
}
```

Added the lines

+        from sage.modules.free_module import VectorSpace

+        from sage.rings.finite_rings.finite_field_constructor import GF

but still getting an error because in

        # For each vector a in vd. check if a vector s in {0,1}^n is compatible.

        compatibleList = []

        psetvect = VectorSpace(GF(2), num_cols).list()

        for p in psetvect:

            while len(p) < len(vd[0][0]):

                p.append(0)

it is not possible to simply append a zero to a vector since vectors have a fixed dimension.



---

archive/issue_comments_249620.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-24T16:17:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249620",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249621.json:
```json
{
    "body": "Replying to [comment:20 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> ||[22f3cfc](https://git.sagemath.org/sage.git/commit/?id=22f3cfc26e1ce410bd1cf14a3f80599e47512b10)||`merged to 8.1.beta3`||",
    "created_at": "2017-08-24T16:18:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249621",
    "user": "gmoose05"
}
```

Replying to [comment:20 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> ||[22f3cfc](https://git.sagemath.org/sage.git/commit/?id=22f3cfc26e1ce410bd1cf14a3f80599e47512b10)||`merged to 8.1.beta3`||



---

archive/issue_comments_249622.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-24T16:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249622",
    "user": "gmoose05"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_249623.json:
```json
{
    "body": "Changing keywords from \"sagedays64.5, cluster\" to \"sagedays64.5, cluster, days88\".",
    "created_at": "2017-08-24T16:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249623",
    "user": "gmoose05"
}
```

Changing keywords from "sagedays64.5, cluster" to "sagedays64.5, cluster, days88".



---

archive/issue_comments_249624.json:
```json
{
    "body": "do not use xrange, for compatibility with python3, please\n----\nNew commits:",
    "created_at": "2017-08-26T13:03:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249624",
    "user": "@fchapoton"
}
```

do not use xrange, for compatibility with python3, please
----
New commits:



---

archive/issue_comments_249625.json:
```json
{
    "body": "Frederic, to help out a new sage developer from the recent Sage Days, should Li change the use of 'xrange' to 'range' or 'list(range)' depending on the use case, or is there a significant change that needs to be made to xrange?\n\nThanks,\nGregg",
    "created_at": "2017-08-26T14:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249625",
    "user": "gmoose05"
}
```

Frederic, to help out a new sage developer from the recent Sage Days, should Li change the use of 'xrange' to 'range' or 'list(range)' depending on the use case, or is there a significant change that needs to be made to xrange?

Thanks,
Gregg



---

archive/issue_comments_249626.json:
```json
{
    "body": "The best way to proceed is\n\n1) to add \"from six.moves import range\" in the imports at the beginning of the file\n\n2) to use only range (which is an iterator because of (1) and should be wrapped with list(..) when necessary)\n\nThis is only for .py files. xrange is ok in .pyx files",
    "created_at": "2017-08-26T17:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249626",
    "user": "@fchapoton"
}
```

The best way to proceed is

1) to add "from six.moves import range" in the imports at the beginning of the file

2) to use only range (which is an iterator because of (1) and should be wrapped with list(..) when necessary)

This is only for .py files. xrange is ok in .pyx files



---

archive/issue_comments_249627.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-26T18:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249627",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249628.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-29T00:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249628",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_249629.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-31T00:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249629",
    "user": "gmoose05"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_249630.json:
```json
{
    "body": "Confirmed with Matt Mills by email that the changes work correctly.",
    "created_at": "2017-08-31T00:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249630",
    "user": "gmoose05"
}
```

Confirmed with Matt Mills by email that the changes work correctly.



---

archive/issue_comments_249631.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-10T11:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18382#issuecomment-249631",
    "user": "@vbraun"
}
```

Resolution: fixed
