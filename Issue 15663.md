# Issue 15663: Move local/share/texmf/tex/generic/sagetex to local/share/texmf/tex/latex/sagetex

Issue created by migration from https://trac.sagemath.org/ticket/15900

Original creator: cheuberg

Original creation time: 2014-03-06 15:05:12

CC:  dkrenn ddrake

Keywords: sagetex, directory structure

The TeX directory structure (TDS) reserves "generic" for macro files that do "not rely on any particular format" (cf. `http://tug.org/tds/tds.html#Macros`). This does certainly not apply to sagetex, which is clearly a latex package. Therefore, `local/share/texmf/tex/generic/sagetex` should be moved to `local/share/texmf/tex/latex/sagetex` and the documentation should be adapted to reflect this fact.

Apart from violating the TDS, this is also annoying: on my system, a prepackaged version of sagetex.sty comes with the package texlive-latex-extra (version 2009-10ubuntu1). While outdated, it is installed in a TDS compliant location (`/usr/share/texmf-texlive/tex/latex/sagetex/sagetex.sty`).

The standard search path for _latex_ is (removed non-pertinent items and
inserted line breaks as separators)


```
$kpsepath -n latex tex |tr ':' '\n'
  .
  /home/[...]/texmf/tex/latex//
  !!/usr/local/share/texmf/tex/latex//
  !!/usr/share/texmf/tex/latex//
  /home/[...]/texmf/tex/generic//
  !!/usr/share/texmf/tex/generic//
```


which means that the systems version of sagetex.sty is given
precedence over that in my homedirectory resulting from
	`cp -R SAGE_ROOT/local/share/texmf/tex TEXMFHOME`
as recommended by
	`http://www.sagemath.org/doc/installation/sagetex.html`

I'd like to push a git branch correcting the problem, but sagetex seems to be developed outside the sage git respository?


---

Comment by jhpalmieri created at 2014-03-06 17:55:32

[Here is the web page for sagetex](https://bitbucket.org/ddrake/sagetex). You could submit a pull request there, and meanwhile fix whatever needs fixing in the Sage library. (Maybe the Sage tutorial is the only place that needs modification? Edit: and the installation guide.)

cc'ing ddrake, who wrote and maintains sagetex.


---

Comment by ddrake created at 2014-03-07 14:19:56

This'll be easy to fix.

Two other notes...first, please try to update your TeX distribution! The sagetex.sty in the 2009 distribution has caused no end of trouble. It's necessary to keep the LaTeX and Python sides of SageTeX synchronized. Second, I guess I should move SageTeX over to github, since that's what all the cool kids are using.


---

Comment by ddrake created at 2014-03-10 13:34:17

Okay, I've made the fix and pushed it to bitbucket. If someone else wants to make a spkg, that's fine with me -- I'm busy this week and won't be able to work on it until next week.


---

Comment by dkrenn created at 2014-03-13 15:41:46

Replying to [comment:3 ddrake]:
> It's necessary to keep the LaTeX and Python sides of SageTeX synchronized. Second, I guess I should move SageTeX over to github, since that's what all the cool kids are using.

It would be really nice to see sagetex fully inside the sage repository (so also on trac, which is IMHO mirrored on github).


---

Comment by kcrisman created at 2017-03-02 18:27:29

See #22499 which might make this easier, as per comment:5.


---

Comment by paulmasson created at 2017-03-03 03:23:55

This was fixed some time ago upstream and integrated into Sage. As of at least 7.6.beta5 the directory correctly reads "latex" instead of "generic".

Pushing a branch to update the documentation where needed.


---

Comment by paulmasson created at 2017-03-03 03:24:59

New commits:


---

Comment by paulmasson created at 2017-03-03 03:24:59

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-03-08 13:46:13

lgtm


---

Comment by chapoton created at 2017-03-08 13:46:13

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-03-10 23:12:47

Resolution: fixed
