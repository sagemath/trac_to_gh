# Issue 13579: Set Partitions, either a bug or something is unclear.

Issue created by migration from Trac.

Original creator: startakovsky

Original creation time: 2012-12-01 01:23:04

Assignee: tbd

Consider the following code.  The first is an example of not being able to verify the type Set Partition, the second is an analogous example with Permutations.  Please advise on this discrepancy and how to get around it.

    > sage: sp = SetPartitions(5).random_element()
    > sage: sp
      {{5}, {2, 3}, {1, 4}}
    > sage: type(sp)
      <class 'sage.sets.set.Set_object_enumerated_with_category'>
    > sage: type(sp) == Set_object_enumerated_with_category
      ----------------------------------------------- NameError                             
      Traceback (most recent call last)
      /home/sage-admin/<ipython console> in <module>()
      NameError: name  'Set_object_enumerated_with_category' is not defined
    > sage:
    > sage:
    > sage: p = Permutations(5).random_element()
    > sage: p
      (1,4,3,5,2)
    > sage: type(p)
      <class 'sage.combinat.permutation.Permutation_class'>
    > sage: type(p) == Permutation_class  
      True


---

Comment by tscrim created at 2013-03-20 22:31:35

Changing status from new to needs_review.


---

Comment by tscrim created at 2013-03-20 22:31:35

This is taken care of by #14140:

```
sage: sp = SetPartitions(5).random_element(); sp
{{1, 4}, {2, 5}, {3}}
sage: type(sp)
sage.combinat.set_partition.SetPartitions_set_with_category.element_class
sage: sp.parent()
Set partitions of {1, 2, 3, 4, 5}
```


There were two problems:

1. The underlying/central problem was that there was no specified element class before #14140.

2. The `Set_object_enumerated` class (which is a subclass of `Parent`) is changed by the category framework into the `with_category` class which doesn't exist as code. There's also the fact that permutations are not yet in the category framework.

Hope that clarifies some things.


---

Comment by tscrim created at 2013-03-20 22:31:35

Changing type from PLEASE CHANGE to defect.


---

Comment by tscrim created at 2013-03-20 22:31:35

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by ncohen created at 2013-03-24 18:58:22

(cc me)


---

Comment by bsalisbury1 created at 2013-05-01 19:40:26

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-05-03 08:02:54

Resolution: duplicate
