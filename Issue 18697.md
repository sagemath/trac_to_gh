# Issue 18697: new BIBD: (91,7,1), (66,6,1), (76,6,1), (96,6,1)

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2015-07-21 09:53:33

CC:  dimpase vdelecroix

This branch adds new BIBD to our database. They are stolen from the La Jolla Covering Repository (https://www.ccrwest.org/cover.html), and are useful to generate strongly regular graphs from Brouwer's database (www.win.tue.nl/~aeb/)

Nathann


---

Comment by ncohen created at 2015-07-21 09:54:06

New commits:


---

Comment by ncohen created at 2015-07-21 09:54:06

Changing status from new to needs_review.


---

Comment by git created at 2015-07-21 12:53:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-07-21 13:02:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-07-21 13:23:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2015-07-25 21:16:52

Was this interface https://www.ccrwest.org/cover/sage.html, to the database you get these designs, removed?


---

Comment by dimpase created at 2015-07-25 21:18:34

See http://trac.sagemath.org/ticket/4859


---

Comment by ncohen created at 2015-07-25 21:21:24

> Was this interface https://www.ccrwest.org/cover/sage.html, to the database you get these designs, removed?


```
sage: designs.best_known_covering_design_from_LJCR?
```


Nathann


---

Comment by ncohen created at 2015-07-25 21:22:52

Most of these designs do not come from there, though. The references are in the doc.


---

Comment by dimpase created at 2015-07-25 21:33:42

Replying to [comment:10 ncohen]:
> Most of these designs do not come from there, though. The references are in the doc.

well, I read the ticket description, and it tells a different story :-)

Still, why just do

```
sage: designs.best_known_covering_design_from_LJCR(66,6,2)
(66,6,2)-covering design of size 143
Lower bound: 143
Created by: Colin Barker
Submitted on: 2008-11-14 09:35:27

sage: designs.best_known_covering_design_from_LJCR(76,6,2)
(76,6,2)-covering design of size 190
Lower bound: 190
Created by: Colin Barker
Submitted on: 2008-11-14 09:37:55
```

for these values for parameters? (And contributing the other implementations upstream?)


---

Comment by ncohen created at 2015-07-25 21:36:37

Yo,

> well, I read the ticket description, and it tells a different story :-)

Oh, true.

> for these values for parameters? (And contributing the other implementations upstream?)

Because it would means that anything that uses those constructions requires internet. And that database does not contain anything above v=100.

Nathann


---

Comment by ncohen created at 2015-07-25 21:37:32

And this data is "not exactly" the one found upstream either. What is advertised there as a covering has a nice automorphism group, and is actually a difference family. So I added it as such in Sage.


---

Comment by dimpase created at 2015-07-25 21:56:00

Anyhow, the references to the database better be in the form 

```
designs.best_known_covering_design_from_LJCR(66,6,2)
designs.best_known_covering_design_from_LJCR(76,6,2)
```


Otherwise, looks good to go.


---

Comment by dimpase created at 2015-07-25 22:07:21

and, by the way:

```
sage: designs.best_known_covering_design_from_LJCR(91,7,2)
(91,7,2)-covering design of size 195
Lower bound: 195
Created by: Jan de Heer and Steve Muir
Method: Cyclic Steiner System
Submitted on: 2008-12-07 02:34:05
```

is this the same (91,7,1)-example as on this ticket?


---

Comment by ncohen created at 2015-07-26 05:59:35

> Anyhow, the references to the database better be in the form 
> {{{
> designs.best_known_covering_design_from_LJCR(66,6,2)
> designs.best_known_covering_design_from_LJCR(76,6,2)
> }}}

I do not understand what you mean.


---

Comment by ncohen created at 2015-07-26 06:18:21

> is this the same (91,7,1)-example as on this ticket?

Yes it is. I fixed the reference.


---

Comment by git created at 2015-07-26 06:18:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2015-07-31 11:18:36

merges cleanly in Sage 6.8. 

What I meant by comment 14, is that it takes some research to dig up the way to actually get these from the database (e.g. instead of `...,1)` it needs `...,2)`), and it would be good to include the corresponding Sage commands in the doc. Otherwise good to go.


---

Comment by dimpase created at 2015-07-31 11:18:36

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2015-07-31 11:21:23

I still do not understand what you mean.


---

Comment by ncohen created at 2015-07-31 11:22:36

Can you say what modification to this branch you request?


---

Comment by dimpase created at 2015-07-31 12:03:02

OK, OK, you will get my branch in a moment...


---

Comment by dimpase created at 2015-07-31 12:36:26

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2015-07-31 12:36:26

well, if you're happy with my additions, set it to positive review...
----
New commits:


---

Comment by ncohen created at 2015-07-31 12:41:55

`O_o`

Bu *WHY* would you want to make sure that they are the same as upstream? What if upstream changes them? `O_o`


---

Comment by ncohen created at 2015-07-31 12:51:49

By the way: you do not need to import BalancedIncompleteBlockDesign nor the individual functions because they are imported in the previous doctest. Also, `.sort()` returns 'None' and that's why `b==b0` always returns 'True'.

Finally, there is an equality test defined over incidence which you should use (and it says that they are not equal, though they will be isomorphic as I relabeled them).

Nathann


---

Comment by dimpase created at 2015-07-31 13:03:32

Replying to [comment:25 ncohen]:
> By the way: you do not need to import BalancedIncompleteBlockDesign nor the individual functions because they are imported in the previous doctest.

ah, OK, I never knew whether EXAMPLES and TESTS are done in the same sweep...


 Also, `.sort()` returns 'None' and that's why `b==b0` always returns 'True'.

oops. Anyhow, I merely wanted the actual calls to that `designs...._LJCR` be shown in the docs somewhere.

We can try isomorphism testing, but I bet it is as slow as a turtle...


---

Comment by ncohen created at 2015-07-31 17:16:03

> oops. Anyhow, I merely wanted the actual calls to that `designs...._LJCR` be shown in the docs somewhere.

I still can't see the point of that. All we care about (all that the function promises) is that it returns "some" bibd. If that works, then it rolls.

> We can try isomorphism testing, but I bet it is as slow as a turtle...

If it is, install 'bliss'. Should go way faster.

Nathann


---

Comment by dimpase created at 2015-07-31 17:47:45

Replying to [comment:27 ncohen]:
> > oops. Anyhow, I merely wanted the actual calls to that `designs...._LJCR` be shown in the docs somewhere.
> 
> I still can't see the point of that. All we care about (all that the function promises) is that it returns "some" bibd. If that works, then it rolls.

Well, you seem to prefer to hide the know-how how to use LJCR in this case.
It's not fair to a user that might need to use it for a similar task.

> 
> > We can try isomorphism testing, but I bet it is as slow as a turtle...
> 
> If it is, install 'bliss'. Should go way faster.
> 
> Nathann


---

Comment by ncohen created at 2015-07-31 20:51:46

> Well, you seem to prefer to hide the know-how how to use LJCR in this case.

The interface with LJCR  has nothing to do with this function. There is no certitude that their entry will not change, there is no reason to carve in doctests that ours and theirs should match. This doctest tests more than the function claims, so it has no reason to be.

> It's not fair to a user that might need to use it for a similar task.

Nobody will have to. With this addition, there is no BIBD to be found on LJCR that Sage cannot build alone:


```
sage: missing = [(v,k) for v in range(101) for k in range(1,v) if designs.balanced_incomplete_block_design(v,k,existence=True) is Unknown]
sage: for v,k in missing:
....:     try:
....:         designs.balanced_incomplete_block_design(v,k,use_LJCR=True)
....:         print "found"
....:     except:
....:         pass
....:     
sage:
```


Do you intend to remove/fix the commit that contains the 'None == None' tests?

Nathann


---

Comment by dimpase created at 2015-07-31 22:39:57

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2015-07-31 22:39:57

Replying to [comment:29 ncohen]:
> > Well, you seem to prefer to hide the know-how how to use LJCR in this case.
> 
> The interface with LJCR  has nothing to do with this function. There is no certitude that their entry will not change, there is no reason to carve in doctests that ours and theirs should match. This doctest tests more than the function claims, so it has no reason to be.
> 
> > It's not fair to a user that might need to use it for a similar task.
> 
> Nobody will have to. With this addition, there is no BIBD to be found on LJCR that Sage cannot build alone:
> 
> {{{
> sage: missing = [(v,k) for v in range(101) for k in range(1,v) if designs.balanced_incomplete_block_design(v,k,existence=True) is Unknown]
> sage: for v,k in missing:
> ....:     try:
> ....:         designs.balanced_incomplete_block_design(v,k,use_LJCR=True)
> ....:         print "found"
> ....:     except:
> ....:         pass
> ....:     
> sage:
> }}}
> 
> Do you intend to remove/fix the commit that contains the 'None == None' tests?

never mind. You get your branch back :)


---

Comment by ncohen created at 2015-08-01 08:01:32

Thanks !


---

Comment by vbraun created at 2015-08-01 11:37:49

Resolution: fixed
