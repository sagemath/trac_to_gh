# Issue 25472: inject_variables is broken for orders of number fields

Issue created by migration from Trac.

Original creator: lftabera

Original creation time: 2018-06-29 16:58:15

Keywords: days94

inject_variables may have wrong results:


```
sage: A = ZZ[sqrt(2)]
sage: A.inject_variables()
Defining sqrt2
sage: sqrt2
1
sage: A.gens()
(1, sqrt2)
sage: A.variable_names()
('sqrt2',)
sage: B=ZZ[sqrt(2),sqrt(3)]
sage: B.inject_variables()
Defining sqrt2, sqrt3
sage: sqrt2
-sqrt3*sqrt2 + 3
sage: sqrt3
6*sqrt2 - 5*sqrt3
```






---

Comment by lftabera created at 2018-06-30 11:56:40

inject_variables uses self.gens to determine the objects to map to variable_names, while the preparser uses _first_ngens. 

I suspect that the preparser is correct here. Since gens may have different meanings for subclasses.
