# Issue 14165: Misc doctesting improvements

archive/issues_014165.json:
```json
{
    "body": "Assignee: mvngu\n\nCC:  roed\n\nA collection of small patches to the doctesting framework.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14369\n\n",
    "created_at": "2013-03-27T17:55:10Z",
    "labels": [
        "doctest",
        "minor",
        "bug"
    ],
    "title": "Misc doctesting improvements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14165",
    "user": "jdemeyer"
}
```
Assignee: mvngu

CC:  roed

A collection of small patches to the doctesting framework.

Issue created by migration from https://trac.sagemath.org/ticket/14369





---

archive/issue_comments_177894.json:
```json
{
    "body": "Changing assignee from mvngu to roed.",
    "created_at": "2013-03-28T22:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177894",
    "user": "roed"
}
```

Changing assignee from mvngu to roed.



---

archive/issue_comments_177895.json:
```json
{
    "body": "Changing component from doctest to doctest framework.",
    "created_at": "2013-03-28T22:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177895",
    "user": "roed"
}
```

Changing component from doctest to doctest framework.



---

archive/issue_comments_177896.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-29T01:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177896",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_177897.json:
```json
{
    "body": "Attachment [14369_doctest_misc.patch](tarball://root/attachments/some-uuid/ticket14369/14369_doctest_misc.patch) by jdemeyer created at 2013-03-29 02:00:58",
    "created_at": "2013-03-29T02:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177897",
    "user": "jdemeyer"
}
```

Attachment [14369_doctest_misc.patch](tarball://root/attachments/some-uuid/ticket14369/14369_doctest_misc.patch) by jdemeyer created at 2013-03-29 02:00:58



---

archive/issue_comments_177898.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2013-03-29T02:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177898",
    "user": "roed"
}
```

Looks good to me.



---

archive/issue_comments_177899.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-29T02:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177899",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_177900.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-01T10:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177900",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_177901.json:
```json
{
    "body": "For the record: Running `sage -t -optional -long` on a .py file does not work anymore, but used to work under sage-5.8. I tried to change this into `sage -t --optional --long`, but it does not work either.\n\nIt would be less disappointing if the changes in the doctesting framework would somehow be documented, or if at least the doctesting framework would give a hint what it is complaining about. All I get is\n\n```\nRunning doctests with ID 2013-04-26-16-31-00-2eee1fc7.\nDoctesting 1 file.\nsage -t /home/simon/.sage/temp/linux-sqwp.site/11900/dir_vpH6Jb/file_5.py\n    [0 tests, 0.00 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 0.0 seconds\n    cpu time: 0.0 seconds\n    cumulative wall time: 0.0 seconds\n\n```\n\ni.e., the tests are not even attempted to run, but it is reported that the tests pass.",
    "created_at": "2013-04-26T17:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177901",
    "user": "SimonKing"
}
```

For the record: Running `sage -t -optional -long` on a .py file does not work anymore, but used to work under sage-5.8. I tried to change this into `sage -t --optional --long`, but it does not work either.

It would be less disappointing if the changes in the doctesting framework would somehow be documented, or if at least the doctesting framework would give a hint what it is complaining about. All I get is

```
Running doctests with ID 2013-04-26-16-31-00-2eee1fc7.
Doctesting 1 file.
sage -t /home/simon/.sage/temp/linux-sqwp.site/11900/dir_vpH6Jb/file_5.py
    [0 tests, 0.00 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 0.0 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds

```

i.e., the tests are not even attempted to run, but it is reported that the tests pass.



---

archive/issue_comments_177902.json:
```json
{
    "body": "`--optional=all` works.",
    "created_at": "2013-04-26T18:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177902",
    "user": "jdemeyer"
}
```

`--optional=all` works.



---

archive/issue_comments_177903.json:
```json
{
    "body": "I guess running `sage -t -optional=all -long ...` might be a solution.",
    "created_at": "2013-04-26T19:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177903",
    "user": "jhpalmieri"
}
```

I guess running `sage -t -optional=all -long ...` might be a solution.



---

archive/issue_comments_177904.json:
```json
{
    "body": "Replying to [comment:6 jdemeyer]:\n> `--optional=all` works.\n\nGreat, thank you!",
    "created_at": "2013-04-26T19:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14165",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14165#issuecomment-177904",
    "user": "SimonKing"
}
```

Replying to [comment:6 jdemeyer]:
> `--optional=all` works.

Great, thank you!
