# Issue 14165: Misc doctesting improvements

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2013-03-27 17:55:10

Assignee: mvngu

CC:  roed

A collection of small patches to the doctesting framework.


---

Comment by roed created at 2013-03-28 22:47:40

Changing assignee from mvngu to roed.


---

Comment by roed created at 2013-03-28 22:47:40

Changing component from doctest to doctest framework.


---

Comment by jdemeyer created at 2013-03-29 01:48:36

Changing status from new to needs_review.


---

Attachment


---

Comment by roed created at 2013-03-29 02:57:55

Looks good to me.


---

Comment by roed created at 2013-03-29 02:57:55

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-01 10:39:06

Resolution: fixed


---

Comment by SimonKing created at 2013-04-26 17:14:59

For the record: Running `sage -t -optional -long` on a .py file does not work anymore, but used to work under sage-5.8. I tried to change this into `sage -t --optional --long`, but it does not work either.

It would be less disappointing if the changes in the doctesting framework would somehow be documented, or if at least the doctesting framework would give a hint what it is complaining about. All I get is

```
Running doctests with ID 2013-04-26-16-31-00-2eee1fc7.
Doctesting 1 file.
sage -t /home/simon/.sage/temp/linux-sqwp.site/11900/dir_vpH6Jb/file_5.py
    [0 tests, 0.00 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 0.0 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds

```

i.e., the tests are not even attempted to run, but it is reported that the tests pass.


---

Comment by jdemeyer created at 2013-04-26 18:44:28

`--optional=all` works.


---

Comment by jhpalmieri created at 2013-04-26 19:07:52

I guess running `sage -t -optional=all -long ...` might be a solution.


---

Comment by SimonKing created at 2013-04-26 19:15:24

Replying to [comment:6 jdemeyer]:
> `--optional=all` works.

Great, thank you!
