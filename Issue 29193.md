# Issue 29193: spkg-configure.m4 for flintqs

archive/issues_029193.json:
```json
{
    "body": "CC:  dimpase embray mkoeppe fbissey\n\nThis package only installs the `QuadraticSieve` executable, which needs to be in the `PATH` for `qsieve()` to work in Sage.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29430\n\n",
    "created_at": "2020-03-30T12:50:40Z",
    "labels": [
        "build: configure",
        "major",
        "enhancement"
    ],
    "title": "spkg-configure.m4 for flintqs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29193",
    "user": "mjo"
}
```
CC:  dimpase embray mkoeppe fbissey

This package only installs the `QuadraticSieve` executable, which needs to be in the `PATH` for `qsieve()` to work in Sage.

Issue created by migration from https://trac.sagemath.org/ticket/29430





---

archive/issue_comments_413665.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-03-30T12:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413665",
    "user": "mjo"
}
```

New commits:



---

archive/issue_comments_413666.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-30T12:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413666",
    "user": "mjo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_413667.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-30T16:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413667",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_413668.json:
```json
{
    "body": "Needs distros/",
    "created_at": "2020-03-30T16:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413668",
    "user": "mkoeppe"
}
```

Needs distros/



---

archive/issue_comments_413669.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-30T16:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413669",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_413670.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-30T16:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413670",
    "user": "mjo"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_413671.json:
```json
{
    "body": "I added debian, fedora, and gentoo (I added the Gentoo package a few seconds before opening this ticket) based on repology.org results. Ubuntu and nix have packages too, but I don't see ubuntu.txt or nix.txt anywhere in the tree.",
    "created_at": "2020-03-30T16:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413671",
    "user": "mjo"
}
```

I added debian, fedora, and gentoo (I added the Gentoo package a few seconds before opening this ticket) based on repology.org results. Ubuntu and nix have packages too, but I don't see ubuntu.txt or nix.txt anywhere in the tree.



---

archive/issue_comments_413672.json:
```json
{
    "body": "ubuntu uses debian.txt",
    "created_at": "2020-03-30T16:22:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413672",
    "user": "mkoeppe"
}
```

ubuntu uses debian.txt



---

archive/issue_comments_413673.json:
```json
{
    "body": "See #29130 for nix",
    "created_at": "2020-03-30T16:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413673",
    "user": "mkoeppe"
}
```

See #29130 for nix



---

archive/issue_comments_413674.json:
```json
{
    "body": "Have you checked arch?",
    "created_at": "2020-03-30T16:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413674",
    "user": "mkoeppe"
}
```

Have you checked arch?



---

archive/issue_comments_413675.json:
```json
{
    "body": "on conda it's `flintqs` too.",
    "created_at": "2020-03-30T16:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413675",
    "user": "dimpase"
}
```

on conda it's `flintqs` too.



---

archive/issue_comments_413676.json:
```json
{
    "body": "and on arch, cf https://www.archlinux.org/packages/community/x86_64/flintqs/",
    "created_at": "2020-03-30T16:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413676",
    "user": "dimpase"
}
```

and on arch, cf https://www.archlinux.org/packages/community/x86_64/flintqs/



---

archive/issue_comments_413677.json:
```json
{
    "body": "Fedora does not have flintqs",
    "created_at": "2020-03-30T17:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413677",
    "user": "dimpase"
}
```

Fedora does not have flintqs



---

archive/issue_comments_413678.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-30T17:51:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413678",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_413679.json:
```json
{
    "body": "Force pushed a rename fedora -> conda. The arch.txt was already there (before I added the m4 file).",
    "created_at": "2020-03-30T17:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413679",
    "user": "mjo"
}
```

Force pushed a rename fedora -> conda. The arch.txt was already there (before I added the m4 file).



---

archive/issue_comments_413680.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-30T17:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413680",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_413681.json:
```json
{
    "body": "lgtm - but add author's name",
    "created_at": "2020-03-30T17:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413681",
    "user": "dimpase"
}
```

lgtm - but add author's name



---

archive/issue_comments_413682.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-03-30T18:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413682",
    "user": "mkoeppe"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_413683.json:
```json
{
    "body": "Let me run some tests first.",
    "created_at": "2020-03-30T18:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413683",
    "user": "mkoeppe"
}
```

Let me run some tests first.



---

archive/issue_comments_413684.json:
```json
{
    "body": "well, I did test on Debian. There is basically one version of this packages around.",
    "created_at": "2020-03-30T18:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413684",
    "user": "dimpase"
}
```

well, I did test on Debian. There is basically one version of this packages around.



---

archive/issue_comments_413685.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-31T11:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413685",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_413686.json:
```json
{
    "body": "Tests ran at https://github.com/mkoeppe/sage/actions/runs/66814284",
    "created_at": "2020-03-31T11:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413686",
    "user": "mkoeppe"
}
```

Tests ran at https://github.com/mkoeppe/sage/actions/runs/66814284



---

archive/issue_comments_413687.json:
```json
{
    "body": "Sorry, I'll have to add \"mpir\" to the DEPCHECK here. I didn't realize sage installed it in place of gmp with everything renamed mpir->gmp.",
    "created_at": "2020-04-03T00:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413687",
    "user": "mjo"
}
```

Sorry, I'll have to add "mpir" to the DEPCHECK here. I didn't realize sage installed it in place of gmp with everything renamed mpir->gmp.



---

archive/issue_comments_413688.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-04-03T00:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413688",
    "user": "mjo"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_413689.json:
```json
{
    "body": "you need to check for BOTH gmp and mpir, not just one of them.",
    "created_at": "2020-04-03T00:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413689",
    "user": "dimpase"
}
```

you need to check for BOTH gmp and mpir, not just one of them.



---

archive/issue_comments_413690.json:
```json
{
    "body": "e.g.\n\n```\nSAGE_SPKG_CONFIGURE([givaro], [\n    m4_pushdef([SAGE_GIVARO_MINVER],[\"40101\"])\n    SAGE_SPKG_DEPCHECK([gmp mpir], [\n...\n```\n",
    "created_at": "2020-04-03T00:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413690",
    "user": "dimpase"
}
```

e.g.

```
SAGE_SPKG_CONFIGURE([givaro], [
    m4_pushdef([SAGE_GIVARO_MINVER],["40101"])
    SAGE_SPKG_DEPCHECK([gmp mpir], [
...
```




---

archive/issue_comments_413691.json:
```json
{
    "body": "Thanks, I see that now. I was rather confused about how all these packages explicitly looking for libgmp in ./configure could use MPIR in sage. I'm halfway through a build test for a ppl spkg-configure but as soon as it finishes I'll fix this up.",
    "created_at": "2020-04-03T01:05:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413691",
    "user": "mjo"
}
```

Thanks, I see that now. I was rather confused about how all these packages explicitly looking for libgmp in ./configure could use MPIR in sage. I'm halfway through a build test for a ppl spkg-configure but as soon as it finishes I'll fix this up.



---

archive/issue_comments_413692.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-03T03:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413692",
    "user": "dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_413693.json:
```json
{
    "body": "added this fix, rebased over latest beta\n----\nNew commits:",
    "created_at": "2020-04-03T03:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413693",
    "user": "dimpase"
}
```

added this fix, rebased over latest beta
----
New commits:



---

archive/issue_comments_413694.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-03T03:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413694",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_413695.json:
```json
{
    "body": "lgtm",
    "created_at": "2020-04-03T03:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413695",
    "user": "dimpase"
}
```

lgtm



---

archive/issue_comments_413696.json:
```json
{
    "body": "If this only installs an executable, I don't think we need any depcheck at all because there cannot be a library conflict.",
    "created_at": "2020-04-03T09:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413696",
    "user": "mkoeppe"
}
```

If this only installs an executable, I don't think we need any depcheck at all because there cannot be a library conflict.



---

archive/issue_comments_413697.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2020-04-03T09:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413697",
    "user": "mkoeppe"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_413698.json:
```json
{
    "body": "The `QuadraticSieve` executable is the only thing used, and if it exists on the system, it should work fine.. does anyone philosophically object if `--without-system-gmp` (or mpir) is ignored for some packages?",
    "created_at": "2020-04-03T10:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413698",
    "user": "mjo"
}
```

The `QuadraticSieve` executable is the only thing used, and if it exists on the system, it should work fine.. does anyone philosophically object if `--without-system-gmp` (or mpir) is ignored for some packages?



---

archive/issue_comments_413699.json:
```json
{
    "body": "Replying to [comment:26 mjo]:\n> does anyone philosophically object if `--without-system-gmp` (or mpir) is ignored for some packages?\nI don't think this is a concern.",
    "created_at": "2020-04-03T10:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413699",
    "user": "mkoeppe"
}
```

Replying to [comment:26 mjo]:
> does anyone philosophically object if `--without-system-gmp` (or mpir) is ignored for some packages?
I don't think this is a concern.



---

archive/issue_comments_413700.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-04-03T10:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413700",
    "user": "mjo"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_413701.json:
```json
{
    "body": "Ok, depcheck is gone.\n----\nNew commits:",
    "created_at": "2020-04-03T10:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413701",
    "user": "mjo"
}
```

Ok, depcheck is gone.
----
New commits:



---

archive/issue_comments_413702.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-03T14:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413702",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_413703.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-09T22:44:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29193#issuecomment-413703",
    "user": "vbraun"
}
```

Resolution: fixed
