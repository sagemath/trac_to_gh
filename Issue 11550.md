# Issue 11550: document the SAGE_PARALLEL_SPKG_BUILD environment variable

Issue created by migration from Trac.

Original creator: mderickx

Original creation time: 2011-08-23 17:31:09

Assignee: mvngu

It's very usefull in speeding up building but is documented nowhere!


---

Comment by mderickx created at 2011-08-23 17:48:37

apply to root repository


---

Attachment


---

Comment by mderickx created at 2011-08-23 17:49:15

Changing status from new to needs_review.


---

Attachment

Replaces previous patch


---

Comment by spice created at 2011-08-23 19:54:02

Changing priority from major to minor.


---

Comment by spice created at 2011-08-23 19:54:02

One minor typo ('ammount' -> 'amount'), fixed in the new patch. Otherwise looks good.


---

Comment by spice created at 2011-08-23 19:54:50

Changing status from needs_review to positive_review.


---

Comment by was created at 2011-08-24 23:48:49

Changing keywords from "" to "sd32".


---

Comment by jhpalmieri created at 2011-08-25 02:39:08

Changing status from positive_review to needs_work.


---

Comment by jhpalmieri created at 2011-08-25 02:39:08

This variable is not documented nowhere: it's in the installation guide.  But I agree that it's a good idea to put it in the top-level README, also.

A few comments: in other parts of the README file, we use "spkg" instead of "SPKG".  Also, at the end of line 182, the word "the" should be deleted.  I think we should also mention that using `SAGE_CHECK=yes` almost always causes a failure when building Python.  I've attached a referee patch making all of these changes.  (Sorry for the length of the first chunk: it just adds the phrase `"spkg" stands for "Sage package"`, but then the linebreaks for the paragraph needed reworking.)


---

Comment by jhpalmieri created at 2011-08-25 02:39:20

Changing status from needs_work to needs_review.


---

Comment by jhpalmieri created at 2011-08-25 02:39:20

Only the referee patch needs review.


---

Comment by jhpalmieri created at 2011-08-25 02:39:39

apply on top of other patch


---

Attachment


---

Comment by mderickx created at 2011-08-25 03:43:42

Changing status from needs_review to positive_review.


---

Comment by mderickx created at 2011-08-25 03:43:42

Looks ok to me :)


---

Comment by leif created at 2011-09-08 12:04:48

Setting `MAKE` without setting `SAGE_PARALLEL_SPKG_BUILD=yes` can (currently) have strange effects, so in principle one shouldn't set one without setting the other.

`-j` is an option to GNU `make`, which isn't mentioned in the `README.txt` at all. (Sage is unlikely to build with any other `make`.)

Btw, `SAGE_PARALLEL_SPKG_BUILD` _is_ documented in the [Sage Installation Guide](http://sagemath.org/doc/installation/source.html#environment-variables), which is referenced from the `README.txt`, though not prominently.

Also, the Sage library is built in parallel even if `MAKE` is *not* set (which I consider a bug).

Cf. #11622.


---

Comment by leif created at 2011-09-12 19:32:42

Resolution: fixed
