# Issue 27399: Return edges from Depth_First_Search

archive/issues_027399.json:
```json
{
    "body": "There is no current way to get edges from the depth_first_search traversal of the graph.\\\\\nAdd an extra parameter 'get_edges' to return the edges from the depth_first_search.\n\nIssue created by migration from https://trac.sagemath.org/ticket/27636\n\n",
    "created_at": "2019-04-10T17:19:41Z",
    "labels": [
        "component: graph theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Return edges from Depth_First_Search",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27399",
    "user": "https://github.com/JhaPrajjwal"
}
```
There is no current way to get edges from the depth_first_search traversal of the graph.\\
Add an extra parameter 'get_edges' to return the edges from the depth_first_search.

Issue created by migration from https://trac.sagemath.org/ticket/27636





---

archive/issue_comments_385757.json:
```json
{
    "body": "Can anyone tell me the importance of this requirement?",
    "created_at": "2019-05-03T16:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385757",
    "user": "https://github.com/Rithesh17"
}
```

Can anyone tell me the importance of this requirement?



---

archive/issue_comments_385758.json:
```json
{
    "body": "Replying to [comment:1 gh-Rithesh17]:\n> Can anyone tell me the importance of this requirement?\nHello, I have already worked on this for BFS(https://trac.sagemath.org/ticket/18855#comment:1) and that ticket is now closed. So, it would be good to implement a similar thing for DFS.",
    "created_at": "2019-05-06T21:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385758",
    "user": "https://github.com/JhaPrajjwal"
}
```

Replying to [comment:1 gh-Rithesh17]:
> Can anyone tell me the importance of this requirement?
Hello, I have already worked on this for BFS(https://trac.sagemath.org/ticket/18855#comment:1) and that ticket is now closed. So, it would be good to implement a similar thing for DFS.



---

archive/issue_comments_385759.json:
```json
{
    "body": "As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385759",
    "user": "https://github.com/embray"
}
```

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_385760.json:
```json
{
    "body": "I am willing to work on this ticket.\n\nI think, one way to implement this is to use a list of visited nodes(in the same sequence in which they were visited) to get the connecting node for the edge. Or is there a better way?\n\nShould I do `git trac checkout 27636` to start?",
    "created_at": "2020-02-03T22:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385760",
    "user": "https://github.com/akshat1136"
}
```

I am willing to work on this ticket.

I think, one way to implement this is to use a list of visited nodes(in the same sequence in which they were visited) to get the connecting node for the edge. Or is there a better way?

Should I do `git trac checkout 27636` to start?



---

archive/issue_comments_385761.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2020-02-04T09:22:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385761",
    "user": "https://github.com/akshat1136"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_385762.json:
```json
{
    "body": "Look at http://doc.sagemath.org/html/en/developer/manual_git.html#pushing-your-changes-to-a-ticket for more details on how to start creating branches.",
    "created_at": "2020-02-05T17:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385762",
    "user": "https://github.com/dcoudert"
}
```

Look at http://doc.sagemath.org/html/en/developer/manual_git.html#pushing-your-changes-to-a-ticket for more details on how to start creating branches.



---

archive/issue_comments_385763.json:
```json
{
    "body": "I have made the required changes to get edges as output and committed it. And added the test as well.",
    "created_at": "2020-02-05T21:23:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385763",
    "user": "https://github.com/akshat1136"
}
```

I have made the required changes to get edges as output and committed it. And added the test as well.



---

archive/issue_comments_385764.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-02-05T21:23:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385764",
    "user": "https://github.com/akshat1136"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_385765.json:
```json
{
    "body": "The method you propose is not good: instead of a linear time algorithm, you propose a quadratic time algorithm.\n\nI suggest to distinguish 2 cases, the aloe one that reports vertices, and the new one to report edges.\nThen, for edges, instead of adding vertices to the queue, you add edges (with root to leaf orientation). Then, you yield an edge after a pop and add out edges to the queue.\n\n\n\n\n```diff\n- (default ``False``)\n+ (default: ``False``)\n```\n",
    "created_at": "2020-02-07T13:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385765",
    "user": "https://github.com/dcoudert"
}
```

The method you propose is not good: instead of a linear time algorithm, you propose a quadratic time algorithm.

I suggest to distinguish 2 cases, the aloe one that reports vertices, and the new one to report edges.
Then, for edges, instead of adding vertices to the queue, you add edges (with root to leaf orientation). Then, you yield an edge after a pop and add out edges to the queue.




```diff
- (default ``False``)
+ (default: ``False``)
```




---

archive/issue_comments_385766.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-07T13:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385766",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_385767.json:
```json
{
    "body": "Replying to [comment:9 dcoudert]:\n> Then, for edges, instead of adding vertices to the queue, you add edges (with root to leaf orientation). Then, you yield an edge after a pop and add out edges to the queue.\n\nImplemented this. Please review. \n----\nNew commits:",
    "created_at": "2020-02-27T11:49:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385767",
    "user": "https://github.com/SagnikDey92"
}
```

Replying to [comment:9 dcoudert]:
> Then, for edges, instead of adding vertices to the queue, you add edges (with root to leaf orientation). Then, you yield an edge after a pop and add out edges to the queue.

Implemented this. Please review. 
----
New commits:



---

archive/issue_comments_385768.json:
```json
{
    "body": "- a `:` is missing\n\n```diff\n-        - ``edges`` -- boolean (default ``False``); whether to return the edges\n+        - ``edges`` -- boolean (default: ``False``); whether to return the edges\n```\n\n\n- excessive indentation. \n\n```\n+                        if distance is None or d < distance:\n+                                for w in neighbors(v):\n+                                    if w not in seen:\n+                                        queue.append((w, d + 1))\n```\n\n\n- an error to fix\n\n```\nsage: G = digraphs.Circuit(10)\nsage: list(G.depth_first_search([0], edges=True))\n[(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 8), (8, 9)]\nsage: list(G.depth_first_search([0, 5], edges=True))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-3-7e9a0ee8fcbe> in <module>()\n----> 1 list(G.depth_first_search([Integer(0), Integer(5)], edges=True))\n\n/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in depth_first_search(self, start, ignore_direction, distance, neighbors, edges)\n  17812                 queue.append((None, v, d))\n  17813                 while queue:\n> 17814                     v, w, d = queue.pop()\n  17815                     if w not in seen:\n  17816                         if v is not None:\n\nValueError: not enough values to unpack (expected 3, got 2)\n```\n\n- and also\n\n```\nsage: list(G.depth_first_search([], edges=False))\n[]\nsage: list(G.depth_first_search([], edges=True))\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n<ipython-input-5-bd352d9e6783> in <module>()\n----> 1 list(G.depth_first_search([], edges=True))\n\n/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in depth_first_search(self, start, ignore_direction, distance, neighbors, edges)\n  17809 \n  17810             else:\n> 17811                 v, d = queue.pop()\n  17812                 queue.append((None, v, d))\n  17813                 while queue:\n\nIndexError: pop from empty list\n```\n",
    "created_at": "2020-02-27T12:10:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385768",
    "user": "https://github.com/dcoudert"
}
```

- a `:` is missing

```diff
-        - ``edges`` -- boolean (default ``False``); whether to return the edges
+        - ``edges`` -- boolean (default: ``False``); whether to return the edges
```


- excessive indentation. 

```
+                        if distance is None or d < distance:
+                                for w in neighbors(v):
+                                    if w not in seen:
+                                        queue.append((w, d + 1))
```


- an error to fix

```
sage: G = digraphs.Circuit(10)
sage: list(G.depth_first_search([0], edges=True))
[(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 8), (8, 9)]
sage: list(G.depth_first_search([0, 5], edges=True))
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-3-7e9a0ee8fcbe> in <module>()
----> 1 list(G.depth_first_search([Integer(0), Integer(5)], edges=True))

/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in depth_first_search(self, start, ignore_direction, distance, neighbors, edges)
  17812                 queue.append((None, v, d))
  17813                 while queue:
> 17814                     v, w, d = queue.pop()
  17815                     if w not in seen:
  17816                         if v is not None:

ValueError: not enough values to unpack (expected 3, got 2)
```

- and also

```
sage: list(G.depth_first_search([], edges=False))
[]
sage: list(G.depth_first_search([], edges=True))
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
<ipython-input-5-bd352d9e6783> in <module>()
----> 1 list(G.depth_first_search([], edges=True))

/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in depth_first_search(self, start, ignore_direction, distance, neighbors, edges)
  17809 
  17810             else:
> 17811                 v, d = queue.pop()
  17812                 queue.append((None, v, d))
  17813                 while queue:

IndexError: pop from empty list
```




---

archive/issue_comments_385769.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-27T14:12:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385769",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385770.json:
```json
{
    "body": "Replying to [comment:12 dcoudert]:\n> \n> - a `:` is missing\n> {{{#!diff\n> -        - ``edges`` -- boolean (default ``False``); whether to return the edges\n> +        - ``edges`` -- boolean (default: ``False``); whether to return the edges\n> }}}\nI've corrected this and in several other places as well.\n> - excessive indentation. \n> {{{\n> +                        if distance is None or d < distance:\n> +                                for w in neighbors(v):\n> +                                    if w not in seen:\n> +                                        queue.append((w, d + 1))\n> }}}\nFixed\n> - an error to fix\n> {{{\n> sage: G = digraphs.Circuit(10)\n> sage: list(G.depth_first_search([0], edges=True))\n> [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 8), (8, 9)]\n> sage: list(G.depth_first_search([0, 5], edges=True))\n> ---------------------------------------------------------------------------\n> ValueError                                Traceback (most recent call last)\n> <ipython-input-3-7e9a0ee8fcbe> in <module>()\n> ----> 1 list(G.depth_first_search([Integer(0), Integer(5)], edges=True))\n> \n> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in depth_first_search(self, start, ignore_direction, distance, neighbors, edges)\n>   17812                 queue.append((None, v, d))\n>   17813                 while queue:\n> > 17814                     v, w, d = queue.pop()\n>   17815                     if w not in seen:\n>   17816                         if v is not None:\n> \n> ValueError: not enough values to unpack (expected 3, got 2)\n> }}}\nfixed\n> - and also\n> {{{\n> sage: list(G.depth_first_search([], edges=False))\n> []\n> sage: list(G.depth_first_search([], edges=True))\n> ---------------------------------------------------------------------------\n> IndexError                                Traceback (most recent call last)\n> <ipython-input-5-bd352d9e6783> in <module>()\n> ----> 1 list(G.depth_first_search([], edges=True))\n> \n> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in depth_first_search(self, start, ignore_direction, distance, neighbors, edges)\n>   17809 \n>   17810             else:\n> > 17811                 v, d = queue.pop()\n>   17812                 queue.append((None, v, d))\n>   17813                 while queue:\n> \n> IndexError: pop from empty list\n> }}}\nfixed\nPlease review",
    "created_at": "2020-02-27T14:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385770",
    "user": "https://github.com/SagnikDey92"
}
```

Replying to [comment:12 dcoudert]:
> 
> - a `:` is missing
> {{{#!diff
> -        - ``edges`` -- boolean (default ``False``); whether to return the edges
> +        - ``edges`` -- boolean (default: ``False``); whether to return the edges
> }}}
I've corrected this and in several other places as well.
> - excessive indentation. 
> {{{
> +                        if distance is None or d < distance:
> +                                for w in neighbors(v):
> +                                    if w not in seen:
> +                                        queue.append((w, d + 1))
> }}}
Fixed
> - an error to fix
> {{{
> sage: G = digraphs.Circuit(10)
> sage: list(G.depth_first_search([0], edges=True))
> [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 8), (8, 9)]
> sage: list(G.depth_first_search([0, 5], edges=True))
> ---------------------------------------------------------------------------
> ValueError                                Traceback (most recent call last)
> <ipython-input-3-7e9a0ee8fcbe> in <module>()
> ----> 1 list(G.depth_first_search([Integer(0), Integer(5)], edges=True))
> 
> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in depth_first_search(self, start, ignore_direction, distance, neighbors, edges)
>   17812                 queue.append((None, v, d))
>   17813                 while queue:
> > 17814                     v, w, d = queue.pop()
>   17815                     if w not in seen:
>   17816                         if v is not None:
> 
> ValueError: not enough values to unpack (expected 3, got 2)
> }}}
fixed
> - and also
> {{{
> sage: list(G.depth_first_search([], edges=False))
> []
> sage: list(G.depth_first_search([], edges=True))
> ---------------------------------------------------------------------------
> IndexError                                Traceback (most recent call last)
> <ipython-input-5-bd352d9e6783> in <module>()
> ----> 1 list(G.depth_first_search([], edges=True))
> 
> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in depth_first_search(self, start, ignore_direction, distance, neighbors, edges)
>   17809 
>   17810             else:
> > 17811                 v, d = queue.pop()
>   17812                 queue.append((None, v, d))
>   17813                 while queue:
> 
> IndexError: pop from empty list
> }}}
fixed
Please review



---

archive/issue_comments_385771.json:
```json
{
    "body": "In general, it is better to not touch parts of the code that have nothing to do with the method you are currently modifying. This is to avoid possible conflicts with other tickets. A better approach is to open a dedicated ticket.\n\nAlso, you have done partial corrections only like\n\n```diff\n-        -  ``quotient_matrix`` - (default False) if True, and\n+        -  ``quotient_matrix`` - (default: ``False``) if True, and\n```\n\na better formatting is\n\n```diff\n+        -  ``quotient_matrix`` -- (default: ``False``); if ``True``, and\n```\n\n\n\nNext, a simpler version could be\n\n```diff\n-                for i in range(len(queue)):\n-                    v, d = queue[i]\n-                    queue[i] = (None, v, d)\n+                queue = [(None, v, d) for v, d in queue]\n```\n",
    "created_at": "2020-02-27T18:33:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385771",
    "user": "https://github.com/dcoudert"
}
```

In general, it is better to not touch parts of the code that have nothing to do with the method you are currently modifying. This is to avoid possible conflicts with other tickets. A better approach is to open a dedicated ticket.

Also, you have done partial corrections only like

```diff
-        -  ``quotient_matrix`` - (default False) if True, and
+        -  ``quotient_matrix`` - (default: ``False``) if True, and
```

a better formatting is

```diff
+        -  ``quotient_matrix`` -- (default: ``False``); if ``True``, and
```



Next, a simpler version could be

```diff
-                for i in range(len(queue)):
-                    v, d = queue[i]
-                    queue[i] = (None, v, d)
+                queue = [(None, v, d) for v, d in queue]
```




---

archive/issue_comments_385772.json:
```json
{
    "body": "Ok. I'll remove the changes I made to other function documentations and add the simplification you mentioned. Should I open a ticket regarding making the documentation in this file uniform?",
    "created_at": "2020-02-27T18:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385772",
    "user": "https://github.com/SagnikDey92"
}
```

Ok. I'll remove the changes I made to other function documentations and add the simplification you mentioned. Should I open a ticket regarding making the documentation in this file uniform?



---

archive/issue_comments_385773.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-02-28T04:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385773",
    "user": "https://github.com/SagnikDey92"
}
```

New commits:



---

archive/issue_comments_385774.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-02-28T04:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385774",
    "user": "https://github.com/SagnikDey92"
}
```

New commits:



---

archive/issue_comments_385775.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-28T04:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_385776.json:
```json
{
    "body": "Sorry about the forced push. Since I wanted to remove the changes made to documentation of other functions, I wanted to revert that and a sage devel forum earlier said to use a force push.\nPlease review",
    "created_at": "2020-02-28T04:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385776",
    "user": "https://github.com/SagnikDey92"
}
```

Sorry about the forced push. Since I wanted to remove the changes made to documentation of other functions, I wanted to revert that and a sage devel forum earlier said to use a force push.
Please review



---

archive/issue_comments_385777.json:
```json
{
    "body": "- you can open a new ticket to unify the documentation. I suggest to name the ticket `pep8 cleaning in generic_graph.py (part 15)`, as we already had several tickets to clean this file. See e.g., #26680, #26679.\n\n- in this ticket, add the tests of #comment:12 to show that all cases have been considered.",
    "created_at": "2020-02-28T07:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385777",
    "user": "https://github.com/dcoudert"
}
```

- you can open a new ticket to unify the documentation. I suggest to name the ticket `pep8 cleaning in generic_graph.py (part 15)`, as we already had several tickets to clean this file. See e.g., #26680, #26679.

- in this ticket, add the tests of #comment:12 to show that all cases have been considered.



---

archive/issue_comments_385778.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-28T09:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385779.json:
```json
{
    "body": "I've added the tests but I've found a potential bug:\n\n```\nsage: D = DiGraph({1: [2, 3], 3: [4, 6], 4: [6], 5: [4, 7], 6: [7]})\nsage: list(D.depth_first_search(1, edges=True))\n[(1, 3), (3, 6), (6, 7), (3, 4), (1, 2)]\nsage: list(D.depth_first_search([1, 5], edges=True))\n[(1, 3), (3, 6), (6, 7), (3, 4), (1, 2)]\n```\n\nObviously 5 is not getting printed since there is no edge involving 5 even though it is visited. Should't we still somehow indicate that 5 was visited? If so how? As in please suggest some appropriate output for that case and I'll make the necessary changes.",
    "created_at": "2020-02-28T09:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385779",
    "user": "https://github.com/SagnikDey92"
}
```

I've added the tests but I've found a potential bug:

```
sage: D = DiGraph({1: [2, 3], 3: [4, 6], 4: [6], 5: [4, 7], 6: [7]})
sage: list(D.depth_first_search(1, edges=True))
[(1, 3), (3, 6), (6, 7), (3, 4), (1, 2)]
sage: list(D.depth_first_search([1, 5], edges=True))
[(1, 3), (3, 6), (6, 7), (3, 4), (1, 2)]
```

Obviously 5 is not getting printed since there is no edge involving 5 even though it is visited. Should't we still somehow indicate that 5 was visited? If so how? As in please suggest some appropriate output for that case and I'll make the necessary changes.



---

archive/issue_comments_385780.json:
```json
{
    "body": "What you observed is a normal behavior, so it's OK I guess.\nThe exemple of #comment:12 is with a circuit of order 10, so we should get edges starting from 5. Add this one.",
    "created_at": "2020-02-28T10:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385780",
    "user": "https://github.com/dcoudert"
}
```

What you observed is a normal behavior, so it's OK I guess.
The exemple of #comment:12 is with a circuit of order 10, so we should get edges starting from 5. Add this one.



---

archive/issue_comments_385781.json:
```json
{
    "body": "Replying to [comment:24 dcoudert]:\n> What you observed is a normal behavior, so it's OK I guess.\n> The exemple of #comment:12 is with a circuit of order 10, so we should get edges starting from 5. Add this one.\nI added it in my local repository but I don't see how the output between starting from [0] or from [0, 5] should be any different? It is a circuit so the DFS from 0 just covers every vertex. For checking this case, shouldn't I make a graph with two disjoint trees for a DFS?",
    "created_at": "2020-02-28T10:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385781",
    "user": "https://github.com/SagnikDey92"
}
```

Replying to [comment:24 dcoudert]:
> What you observed is a normal behavior, so it's OK I guess.
> The exemple of #comment:12 is with a circuit of order 10, so we should get edges starting from 5. Add this one.
I added it in my local repository but I don't see how the output between starting from [0] or from [0, 5] should be any different? It is a circuit so the DFS from 0 just covers every vertex. For checking this case, shouldn't I make a graph with two disjoint trees for a DFS?



---

archive/issue_comments_385782.json:
```json
{
    "body": "Right, you can take `G = DiGraph([(0, 1), (1, 2), (3, 4), (4, 5)])`, so 2 disjoint paths and start from `[0]` and `[0, 3]`.",
    "created_at": "2020-02-28T11:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385782",
    "user": "https://github.com/dcoudert"
}
```

Right, you can take `G = DiGraph([(0, 1), (1, 2), (3, 4), (4, 5)])`, so 2 disjoint paths and start from `[0]` and `[0, 3]`.



---

archive/issue_comments_385783.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-28T12:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_385784.json:
```json
{
    "body": "Replying to [comment:26 dcoudert]:\n> Right, you can take `G = DiGraph([(0, 1), (1, 2), (3, 4), (4, 5)])`, so 2 disjoint paths and start from `[0]` and `[0, 3]`.\n\nDone. Please review.",
    "created_at": "2020-02-28T12:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385784",
    "user": "https://github.com/SagnikDey92"
}
```

Replying to [comment:26 dcoudert]:
> Right, you can take `G = DiGraph([(0, 1), (1, 2), (3, 4), (4, 5)])`, so 2 disjoint paths and start from `[0]` and `[0, 3]`.

Done. Please review.



---

archive/issue_comments_385785.json:
```json
{
    "body": "Please add your full name in the authors field",
    "created_at": "2020-03-01T15:39:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385785",
    "user": "https://github.com/dcoudert"
}
```

Please add your full name in the authors field



---

archive/issue_comments_385786.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-03-01T15:39:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385786",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_385787.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-03-02T00:31:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385787",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_385788.json:
```json
{
    "body": "I'm not sure why the status changed to needs work again after positive review. Is it because of the author name adding? Or do I need to run all doctests on this before sending PR?\n\nedit: I'll try rebasing with current develop because I got an issue in another ticket.",
    "created_at": "2020-03-02T18:05:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385788",
    "user": "https://github.com/SagnikDey92"
}
```

I'm not sure why the status changed to needs work again after positive review. Is it because of the author name adding? Or do I need to run all doctests on this before sending PR?

edit: I'll try rebasing with current develop because I got an issue in another ticket.



---

archive/issue_comments_385789.json:
```json
{
    "body": "I just rebased it and ran doctests in src/sage again. 3 error cropped up which I don;t think is related to my change really. Can you please confirm what this is:\n\n```\nFile \"src/sage/rings/padics/padic_lattice_element.py\", line 19, in sage.rings.padics.padic_lattice_element\nFailed example:\n    R = ZpLF(2) # py3\nExpected:\n    doctest:...: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.\n    See http://trac.sagemath.org/23505 for details.\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/rings/padics/padic_lattice_element.py\", line 25, in sage.rings.padics.padic_lattice_element\nFailed example:\n    R = QpLC(2) # py3\nExpected:\n    doctest:...: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.\n    See http://trac.sagemath.org/23505 for details.\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/rings/padics/padic_lattice_element.py\", line 31, in sage.rings.padics.padic_lattice_element\nFailed example:\n    R = QpLF(2) # py3\nExpected:\n    doctest:...: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.\n    See http://trac.sagemath.org/23505 for details.\nGot:\n    <BLANKLINE>\n**********************************************************************\n1 item had failures:\n   3 of   5 in sage.rings.padics.padic_lattice_element\n    [270 tests, 3 failures, 0.61 s]\n----------------------------------------------------------------------\nsage -t --warn-long 68.1 src/sage/rings/padics/padic_lattice_element.py  # 3 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 0.8 seconds\n    cpu time: 0.6 seconds\n    cumulative wall time: 0.6 seconds\n```\n",
    "created_at": "2020-03-02T21:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385789",
    "user": "https://github.com/SagnikDey92"
}
```

I just rebased it and ran doctests in src/sage again. 3 error cropped up which I don;t think is related to my change really. Can you please confirm what this is:

```
File "src/sage/rings/padics/padic_lattice_element.py", line 19, in sage.rings.padics.padic_lattice_element
Failed example:
    R = ZpLF(2) # py3
Expected:
    doctest:...: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.
    See http://trac.sagemath.org/23505 for details.
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/rings/padics/padic_lattice_element.py", line 25, in sage.rings.padics.padic_lattice_element
Failed example:
    R = QpLC(2) # py3
Expected:
    doctest:...: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.
    See http://trac.sagemath.org/23505 for details.
Got:
    <BLANKLINE>
**********************************************************************
File "src/sage/rings/padics/padic_lattice_element.py", line 31, in sage.rings.padics.padic_lattice_element
Failed example:
    R = QpLF(2) # py3
Expected:
    doctest:...: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.
    See http://trac.sagemath.org/23505 for details.
Got:
    <BLANKLINE>
**********************************************************************
1 item had failures:
   3 of   5 in sage.rings.padics.padic_lattice_element
    [270 tests, 3 failures, 0.61 s]
----------------------------------------------------------------------
sage -t --warn-long 68.1 src/sage/rings/padics/padic_lattice_element.py  # 3 doctests failed
----------------------------------------------------------------------
Total time for all tests: 0.8 seconds
    cpu time: 0.6 seconds
    cumulative wall time: 0.6 seconds
```




---

archive/issue_comments_385790.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-02T21:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_385791.json:
```json
{
    "body": "The error reported in #comment:32 has nothing to do with this ticket. I have it when testing the develop branch of 9.1.beta6. You can open a new ticket to fix it (check first that no ticket has already been open for this purpose), and we will send a message on sage-devel.\n\nI'm setting this ticket to needs review to check if the patchbot reports something.",
    "created_at": "2020-03-03T08:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385791",
    "user": "https://github.com/dcoudert"
}
```

The error reported in #comment:32 has nothing to do with this ticket. I have it when testing the develop branch of 9.1.beta6. You can open a new ticket to fix it (check first that no ticket has already been open for this purpose), and we will send a message on sage-devel.

I'm setting this ticket to needs review to check if the patchbot reports something.



---

archive/issue_comments_385792.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-03T08:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385792",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_385793.json:
```json
{
    "body": "Replying to [comment:34 dcoudert]:\n> The error reported in #comment:32 has nothing to do with this ticket. I have it when testing the develop branch of 9.1.beta6. You can open a new ticket to fix it (check first that no ticket has already been open for this purpose), and we will send a message on sage-devel.\n> \n> I'm setting this ticket to needs review to check if the patchbot reports something.\nI created a new ticket #29272 since I couldn't find any other ticket referencing this (I searched by keyword). Also, I think the patchbot has finished the testing.",
    "created_at": "2020-03-03T10:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385793",
    "user": "https://github.com/SagnikDey92"
}
```

Replying to [comment:34 dcoudert]:
> The error reported in #comment:32 has nothing to do with this ticket. I have it when testing the develop branch of 9.1.beta6. You can open a new ticket to fix it (check first that no ticket has already been open for this purpose), and we will send a message on sage-devel.
> 
> I'm setting this ticket to needs review to check if the patchbot reports something.
I created a new ticket #29272 since I couldn't find any other ticket referencing this (I searched by keyword). Also, I think the patchbot has finished the testing.



---

archive/issue_comments_385794.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-03T10:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385794",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_385795.json:
```json
{
    "body": "LGTM",
    "created_at": "2020-03-03T10:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385795",
    "user": "https://github.com/dcoudert"
}
```

LGTM



---

archive/issue_comments_385796.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-05T23:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27399",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27399#issuecomment-385796",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
