# Issue 30298: conda-forge-macos-standard: sagelib build fails with linbox-related error

Issue created by migration from https://trac.sagemath.org/ticket/30535

Original creator: mkoeppe

Original creation time: 2020-09-09 04:22:21

CC:  isuruf saraedum cpernet dimpase jhpalmieri

conda-forge-macos-standard (https://github.com/sagemath/sage/runs/1078909711): 

```
  [sagelib-9.2.beta12]   /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/local/include/linbox/algorithms/det-rational.h:96:39: error: no viable overloaded '='
  [sagelib-9.2.beta12]                   void detMul (const Integer& m) {mul = m;}
  [sagelib-9.2.beta12]                                                   ~~~ ^ ~
  [sagelib-9.2.beta12]   /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include/gmp++/gmp++_int.h:236:34: note: candidate function not viable: 'this' argument has type 'const LinBox::Integer' (aka 'const Givaro::Integer'), but method is not marked const
  [sagelib-9.2.beta12]           giv_all_inlined Integer& operator = (const Integer& n);
  [sagelib-9.2.beta12]                                    ^
  [sagelib-9.2.beta12]   build/cythonized/sage/matrix/matrix_integer_sparse.cpp:12289:35: warning: comparison of integers of different signs: 'size_t' (aka 'unsigned long') and 'long' [-Wsign-compare]
  [sagelib-9.2.beta12]     for (__pyx_t_12 = 0; __pyx_t_12 < __pyx_t_11; __pyx_t_12+=1) {
  [sagelib-9.2.beta12]                          ~~~~~~~~~~ ^ ~~~~~~~~~~
  [sagelib-9.2.beta12]   1 warning and 2 errors generated.
  [sagelib-9.2.beta12]   error: command 'x86_64-apple-darwin13.4.0-clang' failed with exit status 1

```


Regression from 9.1, which supported `conda-forge-macos-standard`.


---

Comment by mkoeppe created at 2020-09-09 18:16:49

Same as reported in https://github.com/linbox-team/givaro/pull/161
and solved in https://github.com/linbox-team/linbox/pull/256


---

Comment by mkoeppe created at 2020-09-09 19:36:37

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-09-09 19:36:37

New commits:


---

Comment by isuruf created at 2020-09-10 17:29:17

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-09-10 17:34:49

Thanks!


---

Comment by vbraun created at 2020-09-15 22:00:44

Resolution: fixed
