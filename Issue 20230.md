# Issue 20230: stackoverflow in Maxima integral

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2016-04-19 14:51:45

CC:  nbruin tmonteil


```
sage: k=var('k')
sage: integral(sin(k*x)/x*erf(x^2), x, 0, oo)
RuntimeError: ECL says: C-STACK overflow at size 4259840. Stack can probably be resized.
```

This is related to [this ask.sagemath question](http://ask.sagemath.org/question/33144/unable-to-make-sense-of-maxima-expression-as-result-of-integration/) though I couldn't reproduce this behavior.


---

Comment by nbruin created at 2016-04-19 19:26:02

As far as I can see, this happens in vanilla maxima on SBCL too:


```
Maxima 5.36.1 http://maxima.sourceforge.net
using Lisp SBCL 1.2.11-1.fc22
(%i1) integrate(sin(k*x)/x*erf(x^2),x,0,inf);
Maxima encountered a Lisp error:
Control stack exhausted (no more space for function call frames).
```

This is not the latest version, but it's the kind of bug that, unless it's been specifically addressed, it's probably still there. Might want to report it (why is there no online maxima calculator with an up-to-date maxima? maximacell or something like that?)


---

Comment by mkoeppe created at 2020-08-29 18:36:20

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-08-29 18:36:20

Seems fixed in 9.2.beta10


---

Comment by kcrisman created at 2020-08-29 20:35:56

Changing status from needs_review to needs_work.


---

Comment by kcrisman created at 2020-08-29 20:35:56

As always, verify with doctest :-)


---

Comment by chapoton created at 2022-09-18 09:50:39

here is a doctest
----
New commits:


---

Comment by chapoton created at 2022-09-18 09:50:39

Changing status from needs_work to needs_review.


---

Comment by nbruin created at 2022-09-18 18:06:01

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-09-19 22:52:12

Merge failure on top of:

cb51da16e9b Trac #17965: Uniformize the API to compute the inverse of an element

a833b0e9c81 Trac #34491: Upgrade igraph to 0.9.10

7747f43b0d1 Trac #34467: fix random doctest failure in EllipticCurveHom_velusqrt

cba244ef373 Trac #34466: fix various linter errors

5d89d36f1f9 Trac #34228: tox -e docker-...-incremental

627b2bdfe92 Updated [SageMath](SageMath) version to 9.7



author '' does not look right


---

Comment by vbraun created at 2022-09-19 22:52:12

Changing status from positive_review to needs_work.


---

Comment by nbruin created at 2022-09-20 02:17:59

Changing status from needs_work to positive_review.


---

Comment by nbruin created at 2022-09-20 02:17:59

Indeed. Since there's now a doctest submitted, there is actually something to be committed, so there needs to be an author.


---

Comment by vbraun created at 2022-09-20 20:23:46

Merge failure on top of:

527891674e8 Trac #34203: Find and uninstall broken installed SPKGs and wheels

ed76311f002 Trac #34118: Update sympy to 1.11.1

97beeae9521 Trac #33981: latte_int: ExponentialSubst.h:62:3: error: ISO C++17 does not allow dynamic exception specifications

787b4bed4cf Trac #33640: sage fails to factor some easy expressions

700a1f538d0 Trac #33613: Add pip packages to conda environments, add missing conda.txt files

92b1db1a327 Trac #33431: Category of submodules of sage.modules.free_module.FreeModule_ambient_pid

d238396ec64 Trac #33093: 5 doctests failing related to external program octave

509ed920b2a Trac #33002: Method tikz of polyhedron class can now return an object of type TikzPicture

2a41c6ee213 Trac #32669: Adding upper and lower Bruhat cones of M. Dyer to sage/combinat/root_system/reflection_group_real.py

12756f654c7 Trac #29619: Matrix and Components should have a sparse iterator

cb51da16e9b Trac #17965: Uniformize the API to compute the inverse of an element

a833b0e9c81 Trac #34491: Upgrade igraph to 0.9.10

7747f43b0d1 Trac #34467: fix random doctest failure in EllipticCurveHom_velusqrt

cba244ef373 Trac #34466: fix various linter errors

5d89d36f1f9 Trac #34228: tox -e docker-...-incremental

627b2bdfe92 Updated [SageMath](SageMath) version to 9.7



reviewer 'nbruin' does not look right


---

Comment by vbraun created at 2022-09-20 20:23:46

Changing status from positive_review to needs_work.


---

Comment by nbruin created at 2022-09-21 01:00:19

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2022-09-25 16:34:26

Resolution: fixed
