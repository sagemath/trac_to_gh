# Issue 18296: New-style package for ccache

Issue created by migration from https://trac.sagemath.org/ticket/18533

Original creator: jdemeyer

Original creation time: 2015-05-28 07:12:01




---

Comment by jdemeyer created at 2015-05-28 08:53:16

New commits:


---

Comment by jdemeyer created at 2015-05-28 08:53:16

Changing status from new to needs_review.


---

Comment by git created at 2015-06-06 08:30:20

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2015-06-12 18:43:50

Looks good to me. I have installed, run the testsuite, and looked at the diff.

Should I set a positive review, or do you hope for a more thorough discussion ?


---

Comment by jdemeyer created at 2015-06-12 19:45:06

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-06-13 22:09:20

Resolution: fixed


---

Comment by jhpalmieri created at 2015-06-17 21:03:02

I'm not sure where to post this, but note that if the tar file fails to download, the log file is not formatted correctly, so Sage doesn't report which package failed to build. From the end of `install.log`:

```
Error building Sage.

The following package(s) may have failed to build:

The build directory may contain configuration files and other potentially
helpful information. WARNING: if you now run 'make' again, the build
directory will, by default, be deleted. Set the environment variable
SAGE_KEEP_BUILT_SPKGS to 'yes' to prevent this.
```

From the end of `ccache-3.2.2.log`:

```
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
[Errno 404] Not Found: '//sagepad.org/spkg/upstream/ccache/ccache-3.2.2.tar.bz2'
Traceback (most recent call last):
  File "/Users/palmieri/Desktop/Sage_stuff/git/sage/src/bin/sage-download-file", line 457, in <module>
    tarball.download()
  File "/Users/palmieri/Desktop/Sage_stuff/git/sage/src/bin/sage-download-file", line 402, in download
    raise FileNotMirroredError('tarball does not exist on mirror')
__main__.FileNotMirroredError: tarball does not exist on mirror
```

This is presumably not specific to ccache. Does it belong on a brand-new ticket, or  #18710, or somewhere else?


---

Comment by jdemeyer created at 2015-06-18 07:51:33

Replying to [comment:9 jhpalmieri]:
> Does it belong on a brand-new ticket
Yes please (very similar to #16774 actually)
