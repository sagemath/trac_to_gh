# Issue 29115: more system pkgs info

Issue created by migration from https://trac.sagemath.org/ticket/29352

Original creator: dimpase

Original creation time: 2020-03-17 18:37:35

CC:  mkoeppe mjo

this is a followup to #29273


---

Comment by git created at 2020-03-17 18:44:43

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2020-03-17 18:47:32

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2020-03-17 19:00:10

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2020-03-17 19:03:58

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2020-03-17 20:06:07

Tests (on top of the other tickets) at https://github.com/mkoeppe/sage/actions/runs/57722778


---

Comment by dimpase created at 2020-03-18 02:07:39

it is impossibe to find from #29104 or its deps that it touches fedora-related stuff.


---

Comment by dimpase created at 2020-03-18 02:11:44

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-03-18 02:16:48

Replying to [comment:8 dimpase]:
> it is impossibe to find from #29104 or its deps that it touches fedora-related stuff.
Sorry that this caused you to duplicate work.


---

Comment by dimpase created at 2020-03-18 02:19:12

Mind you, patchbombs are hard to review. If the stuff on #29104 was spilt into meaningful chunks a good part of it was probably already done with.


---

Comment by mkoeppe created at 2020-03-18 02:49:00

Changing status from needs_review to needs_work.


---

Comment by git created at 2020-03-18 02:57:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-03-18 02:58:34

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2020-03-18 03:19:22

Actually.... Your follow-up on #29273 forgot to merge #29273 (which is already closed but not in the current beta).
My changes on the "patch bomb" were just #29273!


---

Comment by git created at 2020-03-18 03:19:53

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by mkoeppe created at 2020-03-18 03:20:37

Fixed that. Now on top of #29273.


---

Comment by dimpase created at 2020-03-18 07:32:13

This branch shows a bug in `./bootstrap`: it looks like the `fedora-optional.txt` is the union of packages for Debian and Fedora

```
$ less src/doc/en/installation/fedora-optional.txt
    $ sudo yum install boost-devel cmake cmake coin-or-Cbc coin-or-Cbc-devel coinor-cbc coinor-libcbc-dev isl-devel libboost-dev libisl-dev libterm-readline-gnu-perl ninja-build ninja-build pari-galpol pari-gp2c pari-seadata perl-Term-ReadLine-Gnu
$ less src/doc/en/installation/debian-optional.txt
    $ sudo apt-get install cmake coinor-cbc coinor-libcbc-dev libboost-dev libisl-dev libterm-readline-gnu-perl ninja-build pari-gp2c
```


(by the way, I started on this ticket to be able to reproduce openblas Fedora 31+ issues locally, so I made an `lxc` container, and wanted as many system packages as possible used :-))


---

Comment by dimpase created at 2020-03-18 12:00:12

one needs

```diff
--- a/src/doc/bootstrap
+++ b/src/doc/bootstrap
@@ -25,6 +25,7 @@ shopt -s extglob
 
 for SYSTEM in debian fedora; do
     SYSTEM_PACKAGES=$(echo $(${STRIP_COMMENTS} build/pkgs/$SYSTEM.txt))
+    OPTIONAL_SYSTEM_PACKAGES=""
     for PKG_SCRIPTS in build/pkgs/*; do
         if [ -d $PKG_SCRIPTS ]; then
             PKG_BASE=$(basename $PKG_SCRIPTS)
```



---

Comment by git created at 2020-03-18 15:55:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-03-18 16:26:57

Thanks for catching this!


---

Comment by mkoeppe created at 2020-03-18 16:50:02

Tests (on top of a few other tickets) at https://github.com/mkoeppe/sage/actions/runs/57924835


---

Comment by mkoeppe created at 2020-03-18 17:02:17

`fedora-26-standard`:
  configure: notice: the following SPKGs did not find equivalent system packages: `arb boost boost_cropped cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_term_readline_gnu planarity r symmetrica zeromq`

`fedora-28-standard`:
  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x givaro glpk gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_term_readline_gnu r zeromq`

`fedora-31-standard`:
  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x givaro gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build ntl openblas perl_term_readline_gnu r`

`fedora-32-standard`:
  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpfi ninja_build ntl openblas perl_term_readline_gnu r`

Among the ones for `fedora-32-standard`, have `fedora.txt`:
  `cbc cmake eclib ecm gsl isl lcalc libgd ninja_build ntl openblas perl_term_readline_gnu r`


---

Comment by git created at 2020-03-19 00:13:38

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2020-03-19 00:13:47

Rebased on 9.1.beta8


---

Comment by git created at 2020-03-19 12:56:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2020-03-19 16:33:37

I suppose this is ready for review now.


---

Comment by mkoeppe created at 2020-03-19 16:39:58

Any comment on my lists from comment 25?


---

Comment by dimpase created at 2020-03-19 16:48:25

Replying to [comment:31 mkoeppe]:
> Any comment on my lists from comment 25?

a good catch. checking now.


---

Comment by git created at 2020-03-19 17:29:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-03-19 20:32:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-03-19 20:32:58

(from #29087)


---

Comment by mkoeppe created at 2020-03-20 00:42:09

libpython3.7-dev seems to have been eliminated from ubuntu-focal - https://github.com/mkoeppe/sage/runs/520449400


---

Comment by git created at 2020-03-20 00:52:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-03-20 00:53:22

eclib-tools provides mwrank (see doctest failures at https://github.com/mkoeppe/sage/runs/520449412)


---

Comment by dimpase created at 2020-03-20 04:16:47

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-03-20 04:16:47

OK, let us get this in.


---

Comment by vbraun created at 2020-03-25 22:48:40

Resolution: fixed
