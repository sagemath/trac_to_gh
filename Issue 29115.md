# Issue 29115: more system pkgs info

archive/issues_029115.json:
```json
{
    "body": "CC:  mkoeppe mjo\n\nthis is a followup to #29273\n\nIssue created by migration from https://trac.sagemath.org/ticket/29352\n\n",
    "created_at": "2020-03-17T18:37:35Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "title": "more system pkgs info",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29115",
    "user": "dimpase"
}
```
CC:  mkoeppe mjo

this is a followup to #29273

Issue created by migration from https://trac.sagemath.org/ticket/29352





---

archive/issue_comments_412191.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-17T18:44:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412191",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_412192.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-17T18:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412192",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_412193.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-17T19:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412193",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_412194.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-17T19:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412194",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_412195.json:
```json
{
    "body": "Tests (on top of the other tickets) at https://github.com/mkoeppe/sage/actions/runs/57722778",
    "created_at": "2020-03-17T20:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412195",
    "user": "mkoeppe"
}
```

Tests (on top of the other tickets) at https://github.com/mkoeppe/sage/actions/runs/57722778



---

archive/issue_comments_412196.json:
```json
{
    "body": "it is impossibe to find from #29104 or its deps that it touches fedora-related stuff.",
    "created_at": "2020-03-18T02:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412196",
    "user": "dimpase"
}
```

it is impossibe to find from #29104 or its deps that it touches fedora-related stuff.



---

archive/issue_comments_412197.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-18T02:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412197",
    "user": "dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_412198.json:
```json
{
    "body": "Replying to [comment:8 dimpase]:\n> it is impossibe to find from #29104 or its deps that it touches fedora-related stuff.\nSorry that this caused you to duplicate work.",
    "created_at": "2020-03-18T02:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412198",
    "user": "mkoeppe"
}
```

Replying to [comment:8 dimpase]:
> it is impossibe to find from #29104 or its deps that it touches fedora-related stuff.
Sorry that this caused you to duplicate work.



---

archive/issue_comments_412199.json:
```json
{
    "body": "Mind you, patchbombs are hard to review. If the stuff on #29104 was spilt into meaningful chunks a good part of it was probably already done with.",
    "created_at": "2020-03-18T02:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412199",
    "user": "dimpase"
}
```

Mind you, patchbombs are hard to review. If the stuff on #29104 was spilt into meaningful chunks a good part of it was probably already done with.



---

archive/issue_comments_412200.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-18T02:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412200",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_412201.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-18T02:57:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412201",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412202.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-18T02:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412202",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_412203.json:
```json
{
    "body": "Actually.... Your follow-up on #29273 forgot to merge #29273 (which is already closed but not in the current beta).\nMy changes on the \"patch bomb\" were just #29273!",
    "created_at": "2020-03-18T03:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412203",
    "user": "mkoeppe"
}
```

Actually.... Your follow-up on #29273 forgot to merge #29273 (which is already closed but not in the current beta).
My changes on the "patch bomb" were just #29273!



---

archive/issue_comments_412204.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-03-18T03:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412204",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_412205.json:
```json
{
    "body": "Fixed that. Now on top of #29273.",
    "created_at": "2020-03-18T03:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412205",
    "user": "mkoeppe"
}
```

Fixed that. Now on top of #29273.



---

archive/issue_comments_412206.json:
```json
{
    "body": "This branch shows a bug in `./bootstrap`: it looks like the `fedora-optional.txt` is the union of packages for Debian and Fedora\n\n```\n$ less src/doc/en/installation/fedora-optional.txt\n    $ sudo yum install boost-devel cmake cmake coin-or-Cbc coin-or-Cbc-devel coinor-cbc coinor-libcbc-dev isl-devel libboost-dev libisl-dev libterm-readline-gnu-perl ninja-build ninja-build pari-galpol pari-gp2c pari-seadata perl-Term-ReadLine-Gnu\n$ less src/doc/en/installation/debian-optional.txt\n    $ sudo apt-get install cmake coinor-cbc coinor-libcbc-dev libboost-dev libisl-dev libterm-readline-gnu-perl ninja-build pari-gp2c\n```\n\n\n(by the way, I started on this ticket to be able to reproduce openblas Fedora 31+ issues locally, so I made an `lxc` container, and wanted as many system packages as possible used :-))",
    "created_at": "2020-03-18T07:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412206",
    "user": "dimpase"
}
```

This branch shows a bug in `./bootstrap`: it looks like the `fedora-optional.txt` is the union of packages for Debian and Fedora

```
$ less src/doc/en/installation/fedora-optional.txt
    $ sudo yum install boost-devel cmake cmake coin-or-Cbc coin-or-Cbc-devel coinor-cbc coinor-libcbc-dev isl-devel libboost-dev libisl-dev libterm-readline-gnu-perl ninja-build ninja-build pari-galpol pari-gp2c pari-seadata perl-Term-ReadLine-Gnu
$ less src/doc/en/installation/debian-optional.txt
    $ sudo apt-get install cmake coinor-cbc coinor-libcbc-dev libboost-dev libisl-dev libterm-readline-gnu-perl ninja-build pari-gp2c
```


(by the way, I started on this ticket to be able to reproduce openblas Fedora 31+ issues locally, so I made an `lxc` container, and wanted as many system packages as possible used :-))



---

archive/issue_comments_412207.json:
```json
{
    "body": "one needs\n\n```diff\n--- a/src/doc/bootstrap\n+++ b/src/doc/bootstrap\n@@ -25,6 +25,7 @@ shopt -s extglob\n \n for SYSTEM in debian fedora; do\n     SYSTEM_PACKAGES=$(echo $(${STRIP_COMMENTS} build/pkgs/$SYSTEM.txt))\n+    OPTIONAL_SYSTEM_PACKAGES=\"\"\n     for PKG_SCRIPTS in build/pkgs/*; do\n         if [ -d $PKG_SCRIPTS ]; then\n             PKG_BASE=$(basename $PKG_SCRIPTS)\n```\n",
    "created_at": "2020-03-18T12:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412207",
    "user": "dimpase"
}
```

one needs

```diff
--- a/src/doc/bootstrap
+++ b/src/doc/bootstrap
@@ -25,6 +25,7 @@ shopt -s extglob
 
 for SYSTEM in debian fedora; do
     SYSTEM_PACKAGES=$(echo $(${STRIP_COMMENTS} build/pkgs/$SYSTEM.txt))
+    OPTIONAL_SYSTEM_PACKAGES=""
     for PKG_SCRIPTS in build/pkgs/*; do
         if [ -d $PKG_SCRIPTS ]; then
             PKG_BASE=$(basename $PKG_SCRIPTS)
```




---

archive/issue_comments_412208.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-18T15:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412208",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412209.json:
```json
{
    "body": "Thanks for catching this!",
    "created_at": "2020-03-18T16:26:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412209",
    "user": "mkoeppe"
}
```

Thanks for catching this!



---

archive/issue_comments_412210.json:
```json
{
    "body": "Tests (on top of a few other tickets) at https://github.com/mkoeppe/sage/actions/runs/57924835",
    "created_at": "2020-03-18T16:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412210",
    "user": "mkoeppe"
}
```

Tests (on top of a few other tickets) at https://github.com/mkoeppe/sage/actions/runs/57924835



---

archive/issue_comments_412211.json:
```json
{
    "body": "`fedora-26-standard`:\n  configure: notice: the following SPKGs did not find equivalent system packages: `arb boost boost_cropped cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_term_readline_gnu planarity r symmetrica zeromq`\n\n`fedora-28-standard`:\n  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x givaro glpk gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_term_readline_gnu r zeromq`\n\n`fedora-31-standard`:\n  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x givaro gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build ntl openblas perl_term_readline_gnu r`\n\n`fedora-32-standard`:\n  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpfi ninja_build ntl openblas perl_term_readline_gnu r`\n\nAmong the ones for `fedora-32-standard`, have `fedora.txt`:\n  `cbc cmake eclib ecm gsl isl lcalc libgd ninja_build ntl openblas perl_term_readline_gnu r`",
    "created_at": "2020-03-18T17:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412211",
    "user": "mkoeppe"
}
```

`fedora-26-standard`:
  configure: notice: the following SPKGs did not find equivalent system packages: `arb boost boost_cropped cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_term_readline_gnu planarity r symmetrica zeromq`

`fedora-28-standard`:
  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x givaro glpk gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small perl_term_readline_gnu r zeromq`

`fedora-31-standard`:
  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x givaro gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpc mpfi mpfr ninja_build ntl openblas perl_term_readline_gnu r`

`fedora-32-standard`:
  configure: notice: the following SPKGs did not find equivalent system packages: `arb cbc cliquer cmake eclib ecm fflas_ffpack flint fplll gf2x gp2c gsl isl lcalc libatomic_ops libffi libgd libsemigroups mpfi ninja_build ntl openblas perl_term_readline_gnu r`

Among the ones for `fedora-32-standard`, have `fedora.txt`:
  `cbc cmake eclib ecm gsl isl lcalc libgd ninja_build ntl openblas perl_term_readline_gnu r`



---

archive/issue_comments_412212.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-19T00:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412212",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_412213.json:
```json
{
    "body": "Rebased on 9.1.beta8",
    "created_at": "2020-03-19T00:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412213",
    "user": "mkoeppe"
}
```

Rebased on 9.1.beta8



---

archive/issue_comments_412214.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-19T12:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412214",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412215.json:
```json
{
    "body": "I suppose this is ready for review now.",
    "created_at": "2020-03-19T16:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412215",
    "user": "dimpase"
}
```

I suppose this is ready for review now.



---

archive/issue_comments_412216.json:
```json
{
    "body": "Any comment on my lists from comment 25?",
    "created_at": "2020-03-19T16:39:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412216",
    "user": "mkoeppe"
}
```

Any comment on my lists from comment 25?



---

archive/issue_comments_412217.json:
```json
{
    "body": "Replying to [comment:31 mkoeppe]:\n> Any comment on my lists from comment 25?\n\na good catch. checking now.",
    "created_at": "2020-03-19T16:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412217",
    "user": "dimpase"
}
```

Replying to [comment:31 mkoeppe]:
> Any comment on my lists from comment 25?

a good catch. checking now.



---

archive/issue_comments_412218.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-19T17:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412218",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412219.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-19T20:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412219",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412220.json:
```json
{
    "body": "(from #29087)",
    "created_at": "2020-03-19T20:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412220",
    "user": "mkoeppe"
}
```

(from #29087)



---

archive/issue_comments_412221.json:
```json
{
    "body": "libpython3.7-dev seems to have been eliminated from ubuntu-focal - https://github.com/mkoeppe/sage/runs/520449400",
    "created_at": "2020-03-20T00:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412221",
    "user": "mkoeppe"
}
```

libpython3.7-dev seems to have been eliminated from ubuntu-focal - https://github.com/mkoeppe/sage/runs/520449400



---

archive/issue_comments_412222.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-20T00:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412222",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412223.json:
```json
{
    "body": "eclib-tools provides mwrank (see doctest failures at https://github.com/mkoeppe/sage/runs/520449412)",
    "created_at": "2020-03-20T00:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412223",
    "user": "mkoeppe"
}
```

eclib-tools provides mwrank (see doctest failures at https://github.com/mkoeppe/sage/runs/520449412)



---

archive/issue_comments_412224.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-20T04:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412224",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_412225.json:
```json
{
    "body": "OK, let us get this in.",
    "created_at": "2020-03-20T04:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412225",
    "user": "dimpase"
}
```

OK, let us get this in.



---

archive/issue_comments_412226.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-25T22:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29115",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29115#issuecomment-412226",
    "user": "vbraun"
}
```

Resolution: fixed
