# Issue 32382: lazy_import: Muffle diagnostic messages for "at_startup"

archive/issues_032382.json:
```json
{
    "body": "CC:  tscrim jhpalmieri nthiery\n\nWhen loading a modularized part of Sage instead of `sage.all`, we should suppress the second of these two messages:\n\n```\n        if startup_guard and not self._at_startup:\n            print(f\"Resolving lazy import {self._name} during startup\")\n        elif self._at_startup and not startup_guard:\n            print(f\"Option ``at_startup=True`` for lazy import {self._name} not needed anymore\")\n```\n\n\nAlso, instead of `print`, we should use `warnings.warn`.\n\nPrevious discussion:\n- #30748\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32619\n\n",
    "created_at": "2021-10-04T02:05:32Z",
    "labels": [
        "refactoring",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "lazy_import: Muffle diagnostic messages for \"at_startup\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32382",
    "user": "mkoeppe"
}
```
CC:  tscrim jhpalmieri nthiery

When loading a modularized part of Sage instead of `sage.all`, we should suppress the second of these two messages:

```
        if startup_guard and not self._at_startup:
            print(f"Resolving lazy import {self._name} during startup")
        elif self._at_startup and not startup_guard:
            print(f"Option ``at_startup=True`` for lazy import {self._name} not needed anymore")
```


Also, instead of `print`, we should use `warnings.warn`.

Previous discussion:
- #30748


Issue created by migration from https://trac.sagemath.org/ticket/32619





---

archive/issue_comments_462032.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-10-04T02:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462032",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_462033.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-04T02:39:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462033",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462034.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-04T02:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462034",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_462035.json:
```json
{
    "body": "Green bot => positive review.",
    "created_at": "2021-10-04T02:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462035",
    "user": "tscrim"
}
```

Green bot => positive review.



---

archive/issue_comments_462036.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-10-04T07:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462036",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_462037.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-05T17:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462037",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462038.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-10-05T17:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462038",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_462039.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-05T23:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462039",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462040.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-06T02:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462040",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462041.json:
```json
{
    "body": "There still is one doctest failure in `misc/lazy_import.pyx`.",
    "created_at": "2021-10-06T05:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462041",
    "user": "tscrim"
}
```

There still is one doctest failure in `misc/lazy_import.pyx`.



---

archive/issue_comments_462042.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-06T05:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462042",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462043.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-10-06T16:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462043",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_462044.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-10T05:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462044",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462045.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-10-10T05:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462045",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_462046.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-10T12:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462046",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_462047.json:
```json
{
    "body": "LGTM.",
    "created_at": "2021-10-10T12:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462047",
    "user": "tscrim"
}
```

LGTM.



---

archive/issue_comments_462048.json:
```json
{
    "body": "Thanks!",
    "created_at": "2021-10-10T16:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462048",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_462049.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-13T22:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32382#issuecomment-462049",
    "user": "vbraun"
}
```

Resolution: fixed
