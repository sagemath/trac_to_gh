# Issue 22972: Large performance regression since MPIR upgrade

Issue created by migration from https://trac.sagemath.org/ticket/23209

Original creator: mmezzarobba

Original creation time: 2017-06-10 12:54:21

CC:  vdelecroix jpflori jdemeyer vbraun

Due to a bug introduced in #22493, MPIR is built without assembly support on many systems, causing a significant performance regression for pretty much everything in sage.


---

Comment by mmezzarobba created at 2017-06-10 12:54:40

Changing status from new to needs_review.


---

Comment by mmezzarobba created at 2017-06-10 12:54:40

Changing component from PLEASE CHANGE to performance.


---

Comment by tscrim created at 2017-06-10 12:57:07

You should also bump the version to make sure this gets recompiled (i.e., treat this like a changed patch).


---

Comment by git created at 2017-06-10 13:03:54

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mmezzarobba created at 2017-06-10 13:04:33

Replying to [comment:2 tscrim]:
> You should also bump the version to make sure this gets recompiled (i.e., treat this like a changed patch).

Done, thanks. (I hate working with sage packages.)


---

Comment by tscrim created at 2017-06-10 13:17:41

Unfortunately I don't have the technical expertise to comment on the change itself.


---

Comment by tscrim created at 2017-06-11 23:11:41

This conflicts with beta10.


---

Comment by tscrim created at 2017-06-12 03:52:54

Actually, I think this was inadvertently fixed by #23146.


---

Comment by mmezzarobba created at 2017-06-12 08:17:04

Changing status from needs_review to positive_review.


---

Comment by mmezzarobba created at 2017-06-12 08:17:04

Replying to [comment:8 tscrim]:
> Actually, I think this was inadvertently fixed by #23146.

Indeed.


---

Comment by jdemeyer created at 2017-06-28 13:46:11

Resolution: duplicate
