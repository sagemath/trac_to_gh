# Issue 16746: Fix finite field modulus handling

archive/issues_016746.json:
```json
{
    "body": "CC:  pbruin jpflori\n\nFor prime finite fields, we should support a custom modulus:\n\n```\nsage: x = polygen(GF(7))\nsage: k = GF(7, modulus=x+5)\nsage: k.modulus()\nx + 6\nsage: k.gen()\n1\n```\n\n\nWe should also make the modulus monic:\n\n```\nsage: x = polygen(GF(7))\nsage: k.<a> = GF(7^2, modulus=2*x^2-3, impl=\"pari_ffelt\")\nsage: k.modulus()\n2*x^2 + 4\n```\n\n(the Givaro backend already does this)\n\nIssue created by migration from https://trac.sagemath.org/ticket/16983\n\n",
    "created_at": "2014-09-15T08:20:27Z",
    "labels": [
        "finite rings",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Fix finite field modulus handling",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16746",
    "user": "jdemeyer"
}
```
CC:  pbruin jpflori

For prime finite fields, we should support a custom modulus:

```
sage: x = polygen(GF(7))
sage: k = GF(7, modulus=x+5)
sage: k.modulus()
x + 6
sage: k.gen()
1
```


We should also make the modulus monic:

```
sage: x = polygen(GF(7))
sage: k.<a> = GF(7^2, modulus=2*x^2-3, impl="pari_ffelt")
sage: k.modulus()
2*x^2 + 4
```

(the Givaro backend already does this)

Issue created by migration from https://trac.sagemath.org/ticket/16983





---

archive/issue_comments_221343.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-09-16T13:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221343",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_221344.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-09-16T13:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221344",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_221345.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-16T13:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221345",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_221346.json:
```json
{
    "body": "I get a failing doctest in `src/sage/rings/finite_rings/homset.py` because some ordering changed.",
    "created_at": "2014-10-27T20:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221346",
    "user": "jpflori"
}
```

I get a failing doctest in `src/sage/rings/finite_rings/homset.py` because some ordering changed.



---

archive/issue_comments_221347.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-27T20:32:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221347",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_221348.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-10-28T07:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221348",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_221349.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-28T08:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221349",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_221350.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-28T10:07:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221350",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_221351.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-28T10:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221351",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_221352.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-10-28T10:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221352",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_221353.json:
```json
{
    "body": "There is something missing here:\n\n```\n+ def polynomial(self, name=None):\n+ \"\"\"\n+ Return the irreducible characteristic polynomial of the\n+ generator of this finite field, i.e., the polynomial `f(x)` so\n+ elements of the finite field as elements modulo `f`.\n```\n",
    "created_at": "2014-10-28T10:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221353",
    "user": "jpflori"
}
```

There is something missing here:

```
+ def polynomial(self, name=None):
+ """
+ Return the irreducible characteristic polynomial of the
+ generator of this finite field, i.e., the polynomial `f(x)` so
+ elements of the finite field as elements modulo `f`.
```




---

archive/issue_comments_221354.json:
```json
{
    "body": "Otherwise, this looks fine to me and all tests pass.\nI'll give a final look a little bit later this afternoon.",
    "created_at": "2014-10-28T12:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221354",
    "user": "jpflori"
}
```

Otherwise, this looks fine to me and all tests pass.
I'll give a final look a little bit later this afternoon.



---

archive/issue_comments_221355.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-28T13:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221355",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_221356.json:
```json
{
    "body": "Replying to [comment:15 jpflori]:\n> There is something missing here:\n> {{{\n> + def polynomial(self, name=None):\n> + \"\"\"\n> + Return the irreducible characteristic polynomial of the\n> + generator of this finite field, i.e., the polynomial `f(x)` so\n> + elements of the finite field as elements modulo `f`.\n> }}}\n\nI just moved that sentence, in fact it dates back to\n\n```\ncommit a4928b0cf450b765c3bde6e5328f0146603526a8\nAuthor: tornaria <tornaria@math.utexas.edu>\nDate:   Sat Feb 11 01:13:08 2006 +0000\n\n    [project @ original sage-0.10.12]\n\n```\n\n----\nNew commits:",
    "created_at": "2014-10-28T13:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221356",
    "user": "jdemeyer"
}
```

Replying to [comment:15 jpflori]:
> There is something missing here:
> {{{
> + def polynomial(self, name=None):
> + """
> + Return the irreducible characteristic polynomial of the
> + generator of this finite field, i.e., the polynomial `f(x)` so
> + elements of the finite field as elements modulo `f`.
> }}}

I just moved that sentence, in fact it dates back to

```
commit a4928b0cf450b765c3bde6e5328f0146603526a8
Author: tornaria <tornaria@math.utexas.edu>
Date:   Sat Feb 11 01:13:08 2006 +0000

    [project @ original sage-0.10.12]

```

----
New commits:



---

archive/issue_comments_221357.json:
```json
{
    "body": "Ok, looks good to me.",
    "created_at": "2014-10-29T09:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221357",
    "user": "jpflori"
}
```

Ok, looks good to me.



---

archive/issue_comments_221358.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-29T09:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221358",
    "user": "jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_221359.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-29T22:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16746#issuecomment-221359",
    "user": "vbraun"
}
```

Resolution: fixed
