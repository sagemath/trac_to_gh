# Issue 20238: Upgrade to Pynac-0.6.5

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2016-04-20 14:50:31

That Pynac version has:
 * fix for: `assume(x>0)` sets integer flag (#20456)
 * fix Maxima crashes by implementing fast Hermite (#20297) and Gegenbauer (#20428) polynomials in Pynac
 * some fixes to handling of elements of rings with positive characteristics (#20162)
 * Python 3 build fix
 * automatic trigonometric and log simplifications

https://github.com/pynac/pynac/releases/download/pynac-0.6.5/pynac-0.6.5.tar.bz2


---

Comment by rws created at 2016-04-20 15:38:52

New commits:


---

Comment by rws created at 2016-04-20 15:38:52

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2016-04-21 15:00:10

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2016-04-21 15:00:10

I consider this a bug:

```
         sage: S.<y> = PolynomialRing(RR)
         sage: hermite(3,y)
         8*y^3 - 12*y
```



---

Comment by jdemeyer created at 2016-04-21 15:03:26

Does Sage use Ginac for other polynomial functions?


---

Comment by rws created at 2016-04-21 15:15:36

Replying to [comment:3 jdemeyer]:
> I consider this a bug:
> {{{
>          sage: S.<y> = PolynomialRing(RR)
>          sage: hermite(3,y)
>          8*y^3 - 12*y
> }}}
Indeed, see #20312.
> Does Sage use Ginac for other polynomial functions?
No. So?


---

Comment by jdemeyer created at 2016-04-21 15:21:43

Replying to [comment:5 rws]:
> No. So?

Because we should look for a solution which would work generally for all polynomial symbolic functions.

For this ticket, I suggest to remove the changes to the hermite function since that's probably not easily fixed.


---

Comment by rws created at 2016-04-21 15:34:17

Replying to [comment:6 jdemeyer]:
> Replying to [comment:5 rws]:
> > No. So?
> 
> Because we should look for a solution which would work generally for all polynomial symbolic functions.
The problem has nothing to do with just polynomial symbolic functions. See the example in #20312 or #20060.
> 
> For this ticket, I suggest to remove the changes to the hermite function since that's probably not easily fixed.
I intend to try to fix this (EDIT: I mean #20312), so any hints from you would be welcome.


---

Comment by git created at 2016-04-23 06:53:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2016-04-23 06:53:57

Changing status from needs_work to needs_review.


---

Comment by git created at 2016-05-06 05:19:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by egourgoulhon created at 2016-05-06 09:34:29

I gave a try and it looks good to me. It would be nice if this is merged in Sage 7.2 before the final release, to correct #20456 (a rather severe bug IMHO). `@`jdemeyer: do you agree to set the ticket to positive review?


---

Comment by dimpase created at 2016-05-06 09:54:54

Changing priority from major to blocker.


---

Comment by egourgoulhon created at 2016-05-06 10:20:34

sage -coverage says:

```
SCORE src/sage/symbolic/pynac.pyx: 97.4% (37 of 38)

Missing doctests:
     * line 2271: def init_function_table()
```



---

Comment by rws created at 2016-05-06 13:25:07

Come on, we didn't have a doctest for this since it was added 6 years ago and I don't think we need one. Most of these functions aren't used anyway because the `Function` code already bypasses Pynac with FP evaluation, and Pynac itself does not need it.


---

Comment by egourgoulhon created at 2016-05-06 14:34:30

Replying to [comment:14 rws]:
> Come on, we didn't have a doctest for this since it was added 6 years ago and I don't think we need one. Most of these functions aren't used anyway because the `Function` code already bypasses Pynac with FP evaluation, and Pynac itself does not need it.

OK, I see.


---

Comment by vbraun created at 2016-05-06 22:09:06

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-05-06 22:10:37

Resolution: fixed
