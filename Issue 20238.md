# Issue 20238: Upgrade to Pynac-0.6.5

archive/issues_020238.json:
```json
{
    "body": "That Pynac version has:\n* fix for: `assume(x>0)` sets integer flag (#20456)\n* fix Maxima crashes by implementing fast Hermite (#20297) and Gegenbauer (#20428) polynomials in Pynac\n* some fixes to handling of elements of rings with positive characteristics (#20162)\n* Python 3 build fix\n* automatic trigonometric and log simplifications\n\nhttps://github.com/pynac/pynac/releases/download/pynac-0.6.5/pynac-0.6.5.tar.bz2\n\nIssue created by migration from https://trac.sagemath.org/ticket/20475\n\n",
    "created_at": "2016-04-20T14:50:31Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Upgrade to Pynac-0.6.5",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20238",
    "user": "@rwst"
}
```
That Pynac version has:
* fix for: `assume(x>0)` sets integer flag (#20456)
* fix Maxima crashes by implementing fast Hermite (#20297) and Gegenbauer (#20428) polynomials in Pynac
* some fixes to handling of elements of rings with positive characteristics (#20162)
* Python 3 build fix
* automatic trigonometric and log simplifications

https://github.com/pynac/pynac/releases/download/pynac-0.6.5/pynac-0.6.5.tar.bz2

Issue created by migration from https://trac.sagemath.org/ticket/20475





---

archive/issue_comments_278878.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-04-20T15:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278878",
    "user": "@rwst"
}
```

New commits:



---

archive/issue_comments_278879.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-04-20T15:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278879",
    "user": "@rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_278880.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-21T15:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278880",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_278881.json:
```json
{
    "body": "I consider this a bug:\n\n```\n         sage: S.<y> = PolynomialRing(RR)\n         sage: hermite(3,y)\n         8*y^3 - 12*y\n```\n",
    "created_at": "2016-04-21T15:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278881",
    "user": "@jdemeyer"
}
```

I consider this a bug:

```
         sage: S.<y> = PolynomialRing(RR)
         sage: hermite(3,y)
         8*y^3 - 12*y
```




---

archive/issue_comments_278882.json:
```json
{
    "body": "Does Sage use Ginac for other polynomial functions?",
    "created_at": "2016-04-21T15:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278882",
    "user": "@jdemeyer"
}
```

Does Sage use Ginac for other polynomial functions?



---

archive/issue_comments_278883.json:
```json
{
    "body": "Replying to [comment:3 jdemeyer]:\n> I consider this a bug:\n> {{{\n>          sage: S.<y> = PolynomialRing(RR)\n>          sage: hermite(3,y)\n>          8*y^3 - 12*y\n> }}}\nIndeed, see #20312.\n> Does Sage use Ginac for other polynomial functions?\nNo. So?",
    "created_at": "2016-04-21T15:15:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278883",
    "user": "@rwst"
}
```

Replying to [comment:3 jdemeyer]:
> I consider this a bug:
> {{{
>          sage: S.<y> = PolynomialRing(RR)
>          sage: hermite(3,y)
>          8*y^3 - 12*y
> }}}
Indeed, see #20312.
> Does Sage use Ginac for other polynomial functions?
No. So?



---

archive/issue_comments_278884.json:
```json
{
    "body": "Replying to [comment:5 rws]:\n> No. So?\n\nBecause we should look for a solution which would work generally for all polynomial symbolic functions.\n\nFor this ticket, I suggest to remove the changes to the hermite function since that's probably not easily fixed.",
    "created_at": "2016-04-21T15:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278884",
    "user": "@jdemeyer"
}
```

Replying to [comment:5 rws]:
> No. So?

Because we should look for a solution which would work generally for all polynomial symbolic functions.

For this ticket, I suggest to remove the changes to the hermite function since that's probably not easily fixed.



---

archive/issue_comments_278885.json:
```json
{
    "body": "Replying to [comment:6 jdemeyer]:\n> Replying to [comment:5 rws]:\n> > No. So?\n> \n> Because we should look for a solution which would work generally for all polynomial symbolic functions.\nThe problem has nothing to do with just polynomial symbolic functions. See the example in #20312 or #20060.\n> \n> For this ticket, I suggest to remove the changes to the hermite function since that's probably not easily fixed.\nI intend to try to fix this (EDIT: I mean #20312), so any hints from you would be welcome.",
    "created_at": "2016-04-21T15:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278885",
    "user": "@rwst"
}
```

Replying to [comment:6 jdemeyer]:
> Replying to [comment:5 rws]:
> > No. So?
> 
> Because we should look for a solution which would work generally for all polynomial symbolic functions.
The problem has nothing to do with just polynomial symbolic functions. See the example in #20312 or #20060.
> 
> For this ticket, I suggest to remove the changes to the hermite function since that's probably not easily fixed.
I intend to try to fix this (EDIT: I mean #20312), so any hints from you would be welcome.



---

archive/issue_comments_278886.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-23T06:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278886",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278887.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-23T06:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278887",
    "user": "@rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_278888.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-06T05:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278888",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278889.json:
```json
{
    "body": "I gave a try and it looks good to me. It would be nice if this is merged in Sage 7.2 before the final release, to correct #20456 (a rather severe bug IMHO). `@`jdemeyer: do you agree to set the ticket to positive review?",
    "created_at": "2016-05-06T09:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278889",
    "user": "@egourgoulhon"
}
```

I gave a try and it looks good to me. It would be nice if this is merged in Sage 7.2 before the final release, to correct #20456 (a rather severe bug IMHO). `@`jdemeyer: do you agree to set the ticket to positive review?



---

archive/issue_comments_278890.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2016-05-06T09:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278890",
    "user": "@dimpase"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_278891.json:
```json
{
    "body": "sage -coverage says:\n\n```\nSCORE src/sage/symbolic/pynac.pyx: 97.4% (37 of 38)\n\nMissing doctests:\n     * line 2271: def init_function_table()\n```\n",
    "created_at": "2016-05-06T10:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278891",
    "user": "@egourgoulhon"
}
```

sage -coverage says:

```
SCORE src/sage/symbolic/pynac.pyx: 97.4% (37 of 38)

Missing doctests:
     * line 2271: def init_function_table()
```




---

archive/issue_comments_278892.json:
```json
{
    "body": "Come on, we didn't have a doctest for this since it was added 6 years ago and I don't think we need one. Most of these functions aren't used anyway because the `Function` code already bypasses Pynac with FP evaluation, and Pynac itself does not need it.",
    "created_at": "2016-05-06T13:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278892",
    "user": "@rwst"
}
```

Come on, we didn't have a doctest for this since it was added 6 years ago and I don't think we need one. Most of these functions aren't used anyway because the `Function` code already bypasses Pynac with FP evaluation, and Pynac itself does not need it.



---

archive/issue_comments_278893.json:
```json
{
    "body": "Replying to [comment:14 rws]:\n> Come on, we didn't have a doctest for this since it was added 6 years ago and I don't think we need one. Most of these functions aren't used anyway because the `Function` code already bypasses Pynac with FP evaluation, and Pynac itself does not need it.\n\nOK, I see.",
    "created_at": "2016-05-06T14:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278893",
    "user": "@egourgoulhon"
}
```

Replying to [comment:14 rws]:
> Come on, we didn't have a doctest for this since it was added 6 years ago and I don't think we need one. Most of these functions aren't used anyway because the `Function` code already bypasses Pynac with FP evaluation, and Pynac itself does not need it.

OK, I see.



---

archive/issue_comments_278894.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-06T22:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278894",
    "user": "@vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_278895.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-05-06T22:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20238#issuecomment-278895",
    "user": "@vbraun"
}
```

Resolution: fixed
