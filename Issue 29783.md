# Issue 29783: 1 internet doctest failing in combinat/species/library.py + combinat/tutorial.py

Issue created by migration from https://trac.sagemath.org/ticket/30020

Original creator: slabbe

Original creation time: 2020-06-29 13:42:58

With `SageMath version 9.2.beta2, Release Date: 2020-06-26`, the command 


```
sage -t --optional=sage,internet src/sage/combinat/species/library.py src/sage/combinat/tutorial.py
```


gives


```
Doctesting 2 files.
sage -t src/sage/combinat/species/library.py
**********************************************************************
File "src/sage/combinat/species/library.py", line 104, in sage.combinat.species.library.BinaryTreeSpecies
Failed example:
    oeis(seq)[0]                              # optional -- internet
Expected:
    A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). Also called Segner numbers.
Got:
    A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!).
**********************************************************************
1 item had failures:
   1 of  10 in sage.combinat.species.library.BinaryTreeSpecies
    [23 tests, 1 failure, 3.88 s]
sage -t src/sage/combinat/tutorial.py
**********************************************************************
File "src/sage/combinat/tutorial.py", line 224, in sage.combinat.tutorial
Failed example:
    oeis([1,1,2,5,14])                            # optional -- internet
Expected:
    0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). Also called Segner numbers.
    1: ...
    2: ...
Got:
    0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!).
    1: A022562: Number of connected claw-free unlabeled graphs on n nodes.
    2: A124302: Number of set partitions with at most 3 blocks; number of Dyck paths of height at most 4; dimension of space of symmetric polynomials in 3 noncommuting variables.
**********************************************************************
1 item had failures:
   1 of 245 in sage.combinat.tutorial
    [244 tests, 1 failure, 6.98 s]
----------------------------------------------------------------------
sage -t src/sage/combinat/species/library.py  # 1 doctest failed
sage -t src/sage/combinat/tutorial.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 11.0 seconds
    cpu time: 6.3 seconds
    cumulative wall time: 10.9 seconds
```



---

Comment by slabbe created at 2020-06-29 13:53:34

removing beaver failing doctest, because it was already dealt in #29787


---

Comment by slabbe created at 2020-06-29 13:57:09

New commits:


---

Comment by slabbe created at 2020-06-29 13:57:09

Changing status from new to needs_review.


---

Comment by tscrim created at 2020-07-01 02:06:54

It might be good to adopt a similar strategy to #29787 and add some `...` to hopefully make sure this doesn't happen again from other OEIS changes.


---

Comment by git created at 2020-07-06 12:04:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slabbe created at 2020-07-06 12:06:22

Ok, I think this is now more robust.


---

Comment by tscrim created at 2020-07-06 14:20:53

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-07-06 14:20:53

Thanks. LGTM.


---

Comment by vbraun created at 2020-07-10 19:33:37

Resolution: fixed
