# Issue 22379: Doctest failure in a corner case for gap package testing.

Issue created by migration from https://trac.sagemath.org/ticket/22616

Original creator: fbissey

Original creation time: 2017-03-16 08:38:26

Keywords: days85

Spotted on sage-on-gentoo but could happen anywhere:

```
sage -t --long /usr/lib64/python2.7/site-packages/sage/tests/gap_packages.py
**********************************************************************
File "/usr/lib64/python2.7/site-packages/sage/tests/gap_packages.py", line 104, in sage.tests.gap_packages.all_installed_packages
Failed example:
    all_installed_packages()
Expected:
    (...'GAPDoc',...)
Got:
    ('AtlasRep', 'GAPDoc')
```

I have `AtlasRep` installed in `~/.gap/pkg/` which is one of the standard place for installing `gap` packages. It looks like the tests fails if there is more than one package and `GAPDoc` is the last one.
Fix is trivial.


---

Comment by fbissey created at 2017-03-16 08:39:43

New commits:


---

Comment by fbissey created at 2017-03-16 08:39:43

Changing status from new to needs_review.


---

Comment by fbissey created at 2017-03-16 09:41:15

Changing component from PLEASE CHANGE to distribution.


---

Comment by fbissey created at 2017-03-16 09:41:15

Changing priority from major to minor.


---

Comment by chapoton created at 2017-03-16 12:46:35

lgtm


---

Comment by chapoton created at 2017-03-16 12:46:35

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-04-03 20:59:02

Resolution: fixed
