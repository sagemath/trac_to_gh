# Issue 26390: clean generic_graph.py (part 2)

Issue created by migration from https://trac.sagemath.org/ticket/26627

Original creator: dcoudert

Original creation time: 2018-11-03 17:52:07

CC:  tscrim chapoton

Keywords: py3, graph

Done here:
- alignment and PEP8 cleaning from method `is_immutable` to `igraph_graph`

- in `networkx_graph`: use the order of `.edge_iterator()` to add edges to the graph instead of `.edges()`. This is safe but a doctest in `graph.py` must be updated

- in `igraph_graph`:
 1. add parameter `vertex_list` to define the mapping vertices to consecutive integers. By default, use `.vertices()`.
 1. use `vertex_list` in method `flow` accordingly.
 1. correct all doctest to show that edge attributes must be given in the order of `.edge_iterator()`, as documented, and not `.edges()`.



---

Comment by dcoudert created at 2018-11-03 17:53:28

New commits:


---

Comment by dcoudert created at 2018-11-03 17:53:28

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-11-03 17:59:20

Did you fix here "weighted_adjacency_matrix" so that it no longer use .vertices ?

This would be useful for the sandpiles.


---

Comment by dcoudert created at 2018-11-03 18:10:10

No, it will be in next ticket (If I'm able to fix the issue). It's such a big file that I'm processing almost linearly and commit a ticket each time some non trivial change is done.


---

Comment by dcoudert created at 2018-11-03 18:37:02

Changing component from PLEASE CHANGE to graph theory.


---

Comment by dcoudert created at 2018-11-03 18:37:02

Changing type from PLEASE CHANGE to enhancement.


---

Comment by dcoudert created at 2018-11-03 20:07:13

See #26630 for "weighted_adjacency_matrix".


---

Comment by tscrim created at 2018-11-04 12:17:35

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-11-04 12:17:35

LGTM.


---

Comment by vbraun created at 2018-11-07 11:27:45

Resolution: fixed
