# Issue 16220: Rename xrange() to range()

Issue created by migration from https://trac.sagemath.org/ticket/16457

Original creator: aapitzsch

Original creation time: 2014-06-07 21:58:01

CC:  jdemeyer tscrim aapitzsch embray

In python3 xrange() was renamed to range().

With this patch iterators will become lists till we switch to python 3. But this should be okay for small intervals. (That's the reason for not changing all.)

This is part of #16081.


---

Comment by aapitzsch created at 2014-06-07 22:01:34

Changing status from new to needs_review.


---

Comment by aapitzsch created at 2014-06-07 22:01:34

New commits:


---

Comment by aapitzsch created at 2014-06-07 22:01:34

Changing keywords from "" to "python3".


---

Comment by vdelecroix created at 2014-06-08 17:22:16

I am strongly against that this ticket is being merge now. We are far from having the Python 3 switch tomorrow (is it even a blocker for sage-6.3?). It will slow down everything. `xrange` is faster by 40% on lists of size 100:

```
sage: timeit("for i in xrange(100):\n for j in xrange(100): pass")
625 loops, best of 3: 362 µs per loop
sage: timeit("for i in range(100):\n for j in range(100): pass")
625 loops, best of 3: 501 µs per loop
```

And there are many of them in Sage source code.


---

Comment by kcrisman created at 2014-06-10 00:10:35

Yeah, this does seem somewhat premature due to this.  However, it's still good to have a trial version here, especially if someone decided to make a 'Sage-py3' branch for testing at some point.


---

Comment by jdemeyer created at 2014-10-16 11:25:58

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2016-08-16 16:29:53

Changing component from misc to python3.


---

Comment by chapoton created at 2016-08-30 18:30:59

see #21375 for a step in this direction


---

Comment by chapoton created at 2016-09-12 14:53:54

NOTE: xrange can (and should) stay inside the code of .pyx files


---

Comment by chapoton created at 2016-09-21 17:35:29

see #21478, #21530, #21531, #21548 for some further steps


---

Comment by chapoton created at 2016-10-26 11:47:40

after #21763, #21751, #21677 we will be almost done


---

Comment by chapoton created at 2016-11-07 20:44:33

This is now essentially done. There remains only very few xrange in the code. Let us get rid of them here if possible.


---

Comment by chapoton created at 2016-11-19 20:24:47

ok, here is a simple branch eliminating essentially all the remaining instances of xrange, mostly in the doc.

There will remain to handle ticket #16081.
----
New commits:


---

Comment by chapoton created at 2016-11-19 20:24:47

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2016-11-25 09:28:32

at least one bot is green, please review


---

Comment by chapoton created at 2016-12-02 12:45:06

*ping* ?


---

Comment by tscrim created at 2016-12-02 14:54:20

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-12-05 00:44:38

Resolution: fixed
