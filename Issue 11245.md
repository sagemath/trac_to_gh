# Issue 11245: binomial of polynomial is not polynomial

Issue created by migration from Trac.

Original creator: Henryk.Trappmann

Original creation time: 2011-05-31 20:39:05

Assignee: AlexGhitza

sage: P=PolynomialRing(RR,'z')                           
sage: z=P.gen()                                
sage: binomial(z,2)                      
(z^2 - z)/2.00000000000000

On would expect here to get the polynomial
0.5*z^2-0.5*z


---

Comment by fwclarke created at 2011-06-01 05:56:09

Continuing,

```
sage: b = binomial(z, 2)
sage: b in P
True
sage: b.parent()
Fraction Field of Univariate Polynomial Ring in z over Real Field with 53 bits of precision
sage: P(b)
0.500000000000000*z^2 - 0.500000000000000*z
```



---

Comment by scotts created at 2011-12-18 18:02:53

The attached patch changes functionality of the binomial function of a polynomial to return a polynomial over a fraction field of the base ring.

With the patch, we get the following behaviour:

```
sage: P=PolynomialRing(RR,'z')
sage: z=P.gen()
sage: binomial(z,2)                       
0.500000000000000*z^2 - 0.500000000000000*z

sage: R.<x> = ZZ[]
sage: binomial(x,3)
1/6*x^3 - 1/2*x^2 + 1/3*x
binomial(x,3).parent()
Univariate Polynomial Ring in x over Rational Field
}}

Which is more like what we would expect.


---

Comment by scotts created at 2011-12-18 18:11:49

Changing status from new to needs_review.


---

Attachment


---

Comment by scotts created at 2011-12-18 20:43:30

(Patch was uploaded again due to issues with the Windows line-break character...)


---

Attachment


---

Comment by scotts created at 2011-12-20 01:41:10

Much simpler patch, same effect but much quicker.


---

Comment by johanbosman created at 2011-12-21 13:49:19

Changing status from needs_review to needs_work.


---

Comment by johanbosman created at 2011-12-21 13:49:19

In the documentation, the line

```
Test symbolic and uni/multivariate polynomials:
```

should end in two colons.  This is used to generate nice html code.


---

Comment by johanbosman created at 2011-12-21 15:02:42

Changing keywords from "" to "sd35".


---

Attachment

reviewer patch


---

Comment by johanbosman created at 2011-12-21 21:34:52

Changing status from needs_work to positive_review.


---

Comment by johanbosman created at 2011-12-21 21:34:52

Having added this change, I give it a positive review.


---

Comment by jdemeyer created at 2011-12-29 07:02:58

Resolution: fixed


---

Comment by scotts created at 2012-01-08 23:52:37

Thanks for that. Sorry for not replying, I was away without an internet connection.
