# Issue 11245: binomial of polynomial is not polynomial

archive/issues_011245.json:
```json
{
    "body": "Assignee: AlexGhitza\n\nsage: P=PolynomialRing(RR,'z')                           \nsage: z=P.gen()                                \nsage: binomial(z,2)                      \n(z^2 - z)/2.00000000000000\n\nOn would expect here to get the polynomial\n0.5*z^2-0.5*z\n\nIssue created by migration from https://trac.sagemath.org/ticket/11417\n\n",
    "created_at": "2011-05-31T20:39:05Z",
    "labels": [
        "basic arithmetic",
        "major",
        "enhancement"
    ],
    "title": "binomial of polynomial is not polynomial",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11245",
    "user": "Henryk.Trappmann"
}
```
Assignee: AlexGhitza

sage: P=PolynomialRing(RR,'z')                           
sage: z=P.gen()                                
sage: binomial(z,2)                      
(z^2 - z)/2.00000000000000

On would expect here to get the polynomial
0.5*z^2-0.5*z

Issue created by migration from https://trac.sagemath.org/ticket/11417





---

archive/issue_comments_123859.json:
```json
{
    "body": "Continuing,\n\n```\nsage: b = binomial(z, 2)\nsage: b in P\nTrue\nsage: b.parent()\nFraction Field of Univariate Polynomial Ring in z over Real Field with 53 bits of precision\nsage: P(b)\n0.500000000000000*z^2 - 0.500000000000000*z\n```\n",
    "created_at": "2011-06-01T05:56:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123859",
    "user": "fwclarke"
}
```

Continuing,

```
sage: b = binomial(z, 2)
sage: b in P
True
sage: b.parent()
Fraction Field of Univariate Polynomial Ring in z over Real Field with 53 bits of precision
sage: P(b)
0.500000000000000*z^2 - 0.500000000000000*z
```




---

archive/issue_comments_123860.json:
```json
{
    "body": "The attached patch changes functionality of the binomial function of a polynomial to return a polynomial over a fraction field of the base ring.\n\nWith the patch, we get the following behaviour:\n\n```\nsage: P=PolynomialRing(RR,'z')\nsage: z=P.gen()\nsage: binomial(z,2)                       \n0.500000000000000*z^2 - 0.500000000000000*z\n\nsage: R.<x> = ZZ[]\nsage: binomial(x,3)\n1/6*x^3 - 1/2*x^2 + 1/3*x\nbinomial(x,3).parent()\nUnivariate Polynomial Ring in x over Rational Field\n}}\n\nWhich is more like what we would expect.",
    "created_at": "2011-12-18T18:02:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123860",
    "user": "scotts"
}
```

The attached patch changes functionality of the binomial function of a polynomial to return a polynomial over a fraction field of the base ring.

With the patch, we get the following behaviour:

```
sage: P=PolynomialRing(RR,'z')
sage: z=P.gen()
sage: binomial(z,2)                       
0.500000000000000*z^2 - 0.500000000000000*z

sage: R.<x> = ZZ[]
sage: binomial(x,3)
1/6*x^3 - 1/2*x^2 + 1/3*x
binomial(x,3).parent()
Univariate Polynomial Ring in x over Rational Field
}}

Which is more like what we would expect.



---

archive/issue_comments_123861.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-12-18T18:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123861",
    "user": "scotts"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_123862.json:
```json
{
    "body": "Attachment",
    "created_at": "2011-12-18T20:42:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123862",
    "user": "scotts"
}
```

Attachment



---

archive/issue_comments_123863.json:
```json
{
    "body": "(Patch was uploaded again due to issues with the Windows line-break character...)",
    "created_at": "2011-12-18T20:43:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123863",
    "user": "scotts"
}
```

(Patch was uploaded again due to issues with the Windows line-break character...)



---

archive/issue_comments_123864.json:
```json
{
    "body": "Attachment",
    "created_at": "2011-12-20T01:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123864",
    "user": "scotts"
}
```

Attachment



---

archive/issue_comments_123865.json:
```json
{
    "body": "Much simpler patch, same effect but much quicker.",
    "created_at": "2011-12-20T01:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123865",
    "user": "scotts"
}
```

Much simpler patch, same effect but much quicker.



---

archive/issue_comments_123866.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-12-21T13:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123866",
    "user": "johanbosman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_123867.json:
```json
{
    "body": "In the documentation, the line\n\n```\nTest symbolic and uni/multivariate polynomials:\n```\n\nshould end in two colons.  This is used to generate nice html code.",
    "created_at": "2011-12-21T13:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123867",
    "user": "johanbosman"
}
```

In the documentation, the line

```
Test symbolic and uni/multivariate polynomials:
```

should end in two colons.  This is used to generate nice html code.



---

archive/issue_comments_123868.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd35\".",
    "created_at": "2011-12-21T15:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123868",
    "user": "johanbosman"
}
```

Changing keywords from "" to "sd35".



---

archive/issue_comments_123869.json:
```json
{
    "body": "Attachment\n\nreviewer patch",
    "created_at": "2011-12-21T21:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123869",
    "user": "johanbosman"
}
```

Attachment

reviewer patch



---

archive/issue_comments_123870.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-12-21T21:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123870",
    "user": "johanbosman"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_123871.json:
```json
{
    "body": "Having added this change, I give it a positive review.",
    "created_at": "2011-12-21T21:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123871",
    "user": "johanbosman"
}
```

Having added this change, I give it a positive review.



---

archive/issue_comments_123872.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-12-29T07:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123872",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_123873.json:
```json
{
    "body": "Thanks for that. Sorry for not replying, I was away without an internet connection.",
    "created_at": "2012-01-08T23:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11245",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11245#issuecomment-123873",
    "user": "scotts"
}
```

Thanks for that. Sorry for not replying, I was away without an internet connection.
