# Issue 15954: FiniteStateMachine: implement final_word_out

archive/issues_015954.json:
```json
{
    "body": "CC:  skropf dkrenn\n\nKeywords: finite_state_machine\n\nImplement `FSMState.final_word_out` in order to accomodate subsequential transducers in this package. A transducer is said to be subsequential if it is deterministic, every state\nis final and it has a final output word for each final state, i.e., when reading an input and reaching some final state along some path, then the final output word of this state is appended to the output labels collected along the path.\n\nThis will facilitate various transducers, e.g., when we currently have to read a sufficiently large number of zeros in order to flush some more output.\n\nOnce this is implemented, `FiniteStateMachine.asymptotic_moments` (cf. #16145) should be modified: enforce that all states are final and simplify the examples by introducing final output words.\n\nI do know that Sara Kropf is working on that; I currently need a ticket number in order to include a warning in `FiniteStateMachine.asymptotic_moments` (cf. #16145).\n\nIssue created by migration from https://trac.sagemath.org/ticket/16191\n\n",
    "created_at": "2014-04-19T12:49:25Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "title": "FiniteStateMachine: implement final_word_out",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15954",
    "user": "cheuberg"
}
```
CC:  skropf dkrenn

Keywords: finite_state_machine

Implement `FSMState.final_word_out` in order to accomodate subsequential transducers in this package. A transducer is said to be subsequential if it is deterministic, every state
is final and it has a final output word for each final state, i.e., when reading an input and reaching some final state along some path, then the final output word of this state is appended to the output labels collected along the path.

This will facilitate various transducers, e.g., when we currently have to read a sufficiently large number of zeros in order to flush some more output.

Once this is implemented, `FiniteStateMachine.asymptotic_moments` (cf. #16145) should be modified: enforce that all states are final and simplify the examples by introducing final output words.

I do know that Sara Kropf is working on that; I currently need a ticket number in order to include a warning in `FiniteStateMachine.asymptotic_moments` (cf. #16145).

Issue created by migration from https://trac.sagemath.org/ticket/16191





---

archive/issue_comments_207058.json:
```json
{
    "body": "Changing component from combinatorics to finite state machines.",
    "created_at": "2014-05-24T15:52:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-207058",
    "user": "cheuberg"
}
```

Changing component from combinatorics to finite state machines.



---

archive/issue_comments_207059.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-26T11:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-207059",
    "user": "skropf"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_207060.json:
```json
{
    "body": "I reviewed the patch. Builds, doctests pass. I added one commit with rather minor changes (punctuation, indentation, `.. TODO::` tag) and moved the new example from the private method `_composition_explorative_` to the public method `composition`.\n\nPlease cross-review these changes and feel free to set the status to positive_review.\n----\nLast 10 new commits:",
    "created_at": "2014-06-26T16:18:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-207060",
    "user": "cheuberg"
}
```

I reviewed the patch. Builds, doctests pass. I added one commit with rather minor changes (punctuation, indentation, `.. TODO::` tag) and moved the new example from the private method `_composition_explorative_` to the public method `composition`.

Please cross-review these changes and feel free to set the status to positive_review.
----
Last 10 new commits:



---

archive/issue_comments_207061.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-26T16:33:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-207061",
    "user": "dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_207062.json:
```json
{
    "body": "Reviewed your changes (and looked at changes of skropf as well). Fine for me.",
    "created_at": "2014-06-26T16:33:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-207062",
    "user": "dkrenn"
}
```

Reviewed your changes (and looked at changes of skropf as well). Fine for me.



---

archive/issue_comments_207063.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-27T01:43:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15954",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15954#issuecomment-207063",
    "user": "vbraun"
}
```

Resolution: fixed
