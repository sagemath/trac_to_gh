# Issue 32918: Broken install using system python 3.9.9 from python.org macOS package

Issue created by migration from https://trac.sagemath.org/ticket/33155

Original creator: mkoeppe

Original creation time: 2022-01-13 02:36:07

CC:  @davewittemorris dimpase vbraun

As reported in https://groups.google.com/g/sage-release/c/gTNMEVbzb6M/m/2lXjD6tFAgAJ:

Installation of pplpy fails:

```
ERROR: pplpy-0.8.6-cp39-cp39-macosx_11_0_x86_64.whl is not a supported wheel on this platform." 
```

(`wheel` uses this tag based on the inspection of the deployment targets of the built dynamic libraries - this is done in https://github.com/pypa/wheel/blob/main/src/wheel/macosx_libfile.py)

The wheel tagged such then does not pass the compatibility test because of:
https://github.com/pypa/packaging/issues/497


---

Comment by mkoeppe created at 2022-01-14 00:35:49

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-01-14 00:35:49

New commits:


---

Comment by @DaveWitteMorris created at 2022-01-14 06:13:16

+1 - I do not have the expertise to review this ticket, but I can provide a testimonial:  9.5rc1 failed to build (because the pplpy wheel was rejected), but the build succeeded after I merged this ticket.  This is on MacOS 11.5.2.


---

Comment by dimpase created at 2022-01-14 09:29:59

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2022-01-14 09:29:59

lgtm (I don't have macOS 11, though)


---

Comment by mkoeppe created at 2022-01-14 15:56:57

Thanks!


---

Comment by mkoeppe created at 2022-01-15 17:03:21

Changing priority from critical to blocker.


---

Comment by vbraun created at 2022-01-16 14:14:45

Resolution: fixed
