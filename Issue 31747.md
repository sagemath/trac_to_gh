# Issue 31747: Pynac should be more careful when it uses std::abs

archive/issues_031747.json:
```json
{
    "body": "Keywords: pynac, overflow, absolute value\n\nThe C++ function `std::abs` can overflow, because the twos-complement binary representation has a negative number (all 1s) whose negative requires an additional bit. Some bugs resulting from this are fixed in #31585, but the other occurrences of `std::abs` in the pynac source code should also be examined, to determine whether they are also buggy. \n\n(There is one other occurrence of `std::abs` in numeric.cpp, and several in inifcns_nstdsums.cpp.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/31984\n\n",
    "created_at": "2021-06-15T17:51:41Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Pynac should be more careful when it uses std::abs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31747",
    "user": "https://github.com/DaveWitteMorris"
}
```
Keywords: pynac, overflow, absolute value

The C++ function `std::abs` can overflow, because the twos-complement binary representation has a negative number (all 1s) whose negative requires an additional bit. Some bugs resulting from this are fixed in #31585, but the other occurrences of `std::abs` in the pynac source code should also be examined, to determine whether they are also buggy. 

(There is one other occurrence of `std::abs` in numeric.cpp, and several in inifcns_nstdsums.cpp.)

Issue created by migration from https://trac.sagemath.org/ticket/31984





---

archive/issue_comments_453059.json:
```json
{
    "body": "Changing keywords from \"pynac, overflow, absolute value\" to \"pynac, overflow, absolute value, special functions\".",
    "created_at": "2021-06-17T02:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31747#issuecomment-453059",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing keywords from "pynac, overflow, absolute value" to "pynac, overflow, absolute value, special functions".
