# Issue 31747: Pynac should be more careful when it uses std::abs

archive/issues_031747.json:
```json
{
    "body": "Keywords: pynac, overflow, absolute value\n\nThe C++ function `std::abs` can overflow, because the twos-complement binary representation has a negative number (all 1s) whose negative requires an additional bit. Some bugs resulting from this are fixed in #31585, but the other occurrences of `std::abs` in the pynac source code should also be examined, to determine whether they are also buggy. \n\n(There is one other occurrence of `std::abs` in numeric.cpp, and several in inifcns_nstdsums.cpp.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/31984\n\n",
    "created_at": "2021-06-15T17:51:41Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Pynac should be more careful when it uses std::abs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31747",
    "user": "https://github.com/DaveWitteMorris"
}
```
Keywords: pynac, overflow, absolute value

The C++ function `std::abs` can overflow, because the twos-complement binary representation has a negative number (all 1s) whose negative requires an additional bit. Some bugs resulting from this are fixed in #31585, but the other occurrences of `std::abs` in the pynac source code should also be examined, to determine whether they are also buggy. 

(There is one other occurrence of `std::abs` in numeric.cpp, and several in inifcns_nstdsums.cpp.)

Issue created by migration from https://trac.sagemath.org/ticket/31984





---

archive/issue_comments_453059.json:
```json
{
    "body": "Changing keywords from \"pynac, overflow, absolute value\" to \"pynac, overflow, absolute value, special functions\".",
    "created_at": "2021-06-17T02:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31747#issuecomment-453059",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing keywords from "pynac, overflow, absolute value" to "pynac, overflow, absolute value, special functions".



---

archive/issue_events_084574.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31747#event-84574"
}
```



---

archive/issue_events_084575.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31747#event-84575"
}
```



---

archive/issue_events_084576.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31747#event-84576"
}
```



---

archive/issue_events_084577.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31747#event-84577"
}
```



---

archive/issue_events_084578.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31747#event-84578"
}
```



---

archive/issue_events_084579.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31747#event-84579"
}
```



---

archive/issue_events_084580.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31747",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31747#event-84580"
}
```
