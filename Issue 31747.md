# Issue 31747: Pynac should be more careful when it uses std::abs

Issue created by migration from https://trac.sagemath.org/ticket/31984

Original creator: @DaveWitteMorris

Original creation time: 2021-06-15 17:51:41

Keywords: pynac, overflow, absolute value

The C++ function `std::abs` can overflow, because the twos-complement binary representation has a negative number (all 1s) whose negative requires an additional bit. Some bugs resulting from this are fixed in #31585, but the other occurrences of `std::abs` in the pynac source code should also be examined, to determine whether they are also buggy. 

(There is one other occurrence of `std::abs` in numeric.cpp, and several in inifcns_nstdsums.cpp.)


---

Comment by @DaveWitteMorris created at 2021-06-17 02:22:39

Changing keywords from "pynac, overflow, absolute value" to "pynac, overflow, absolute value, special functions".
