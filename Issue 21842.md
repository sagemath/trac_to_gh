# Issue 21842: Arb NaN infinite loop

archive/issues_021842.json:
```json
{
    "body": "CC:  @videlec @mezzarobba\n\n\n```\nsage: RealBallField(NaN)\n...\nTypeError: maximum recursion depth exceeded while calling a Python object\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/22079\n\n",
    "created_at": "2016-12-19T16:36:36Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Arb NaN infinite loop",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21842",
    "user": "https://github.com/rwst"
}
```
CC:  @videlec @mezzarobba


```
sage: RealBallField(NaN)
...
TypeError: maximum recursion depth exceeded while calling a Python object
```


Issue created by migration from https://trac.sagemath.org/ticket/22079





---

archive/issue_comments_302826.json:
```json
{
    "body": "This had nothing to do with arb. The problem is the conversion `NaN` -> Python `int`.",
    "created_at": "2016-12-19T19:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302826",
    "user": "https://github.com/jdemeyer"
}
```

This had nothing to do with arb. The problem is the conversion `NaN` -> Python `int`.



---

archive/issue_comments_302827.json:
```json
{
    "body": "Will hopefully be fixed by the rewrite in progress at #12121.",
    "created_at": "2016-12-19T19:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302827",
    "user": "https://github.com/mezzarobba"
}
```

Will hopefully be fixed by the rewrite in progress at #12121.



---

archive/issue_comments_302828.json:
```json
{
    "body": "Replying to [comment:7 mmezzarobba]:\n> Will hopefully be fixed by the rewrite in progress at #12121.\n\n... which is still not fixed.\n\nI just got hit by this again. Do you have any objections to just remove the \"infinite loop\" block from `ceil()` and `floor()`?",
    "created_at": "2017-09-04T12:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302828",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:7 mmezzarobba]:
> Will hopefully be fixed by the rewrite in progress at #12121.

... which is still not fixed.

I just got hit by this again. Do you have any objections to just remove the "infinite loop" block from `ceil()` and `floor()`?



---

archive/issue_comments_302829.json:
```json
{
    "body": "Replying to [comment:8 jdemeyer]:\n> I just got hit by this again. Do you have any objections to just remove the \"infinite loop\" block from `ceil()` and `floor()`?\n\nI don't, but maybe you should ask Vincent. (I just rebased his code from #12121 to see how far we are from a solution there, more news on that hopefully after I run the tests!)",
    "created_at": "2017-09-04T14:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302829",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:8 jdemeyer]:
> I just got hit by this again. Do you have any objections to just remove the "infinite loop" block from `ceil()` and `floor()`?

I don't, but maybe you should ask Vincent. (I just rebased his code from #12121 to see how far we are from a solution there, more news on that hopefully after I run the tests!)



---

archive/issue_comments_302830.json:
```json
{
    "body": "I am also working on a proper solution both for this ticket and for #12121. Hang on...",
    "created_at": "2017-09-04T14:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302830",
    "user": "https://github.com/jdemeyer"
}
```

I am also working on a proper solution both for this ticket and for #12121. Hang on...



---

archive/issue_comments_302831.json:
```json
{
    "body": "Replying to [comment:10 jdemeyer]:\n> I am also working on a proper solution both for this ticket and for #12121. Hang on...\n\nOk. I pushed the rebased branch (builds, not tested) to `u/mmezzarobba/ticket/12121-rebased` just in case.",
    "created_at": "2017-09-04T14:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302831",
    "user": "https://github.com/mezzarobba"
}
```

Replying to [comment:10 jdemeyer]:
> I am also working on a proper solution both for this ticket and for #12121. Hang on...

Ok. I pushed the rebased branch (builds, not tested) to `u/mmezzarobba/ticket/12121-rebased` just in case.



---

archive/issue_comments_302832.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-04T15:04:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302832",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_302833.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-09-04T15:04:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302833",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_comments_302834.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-09-05T07:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302834",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_302835.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-09-05T08:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302835",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_302836.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-05T08:45:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302836",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_302837.json:
```json
{
    "body": "This passes tests on the patchbot.",
    "created_at": "2017-09-05T11:50:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302837",
    "user": "https://github.com/jdemeyer"
}
```

This passes tests on the patchbot.



---

archive/issue_comments_302838.json:
```json
{
    "body": "How is this different from the function `incremental_rounding` of #12121 (that proposes a useful `maximum_bits` argument)!? It would be definitely more coherent to work on only one ticket...\n\nI just stopped working on #12121 because of the unreliable equality tests of the symbolic ring. Did you know that pi was a rational number\n\n```\nsage: n = continued_fraction(pi).convergent(20)\nsage: num = n.numerator()\nsage: den = n.denominator()\nsage: print bool(den*pi == num)\n```\n",
    "created_at": "2017-09-05T21:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302838",
    "user": "https://github.com/videlec"
}
```

How is this different from the function `incremental_rounding` of #12121 (that proposes a useful `maximum_bits` argument)!? It would be definitely more coherent to work on only one ticket...

I just stopped working on #12121 because of the unreliable equality tests of the symbolic ring. Did you know that pi was a rational number

```
sage: n = continued_fraction(pi).convergent(20)
sage: num = n.numerator()
sage: den = n.denominator()
sage: print bool(den*pi == num)
```




---

archive/issue_comments_302839.json:
```json
{
    "body": "Have you opened a bug ticket?",
    "created_at": "2017-09-06T04:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302839",
    "user": "https://github.com/rwst"
}
```

Have you opened a bug ticket?



---

archive/issue_comments_302840.json:
```json
{
    "body": "Replying to [comment:21 vdelecroix]:\n> It would be definitely more coherent to work on only one ticket...\n\nRight. It was not really my intention to start a \"competing\" implementation. I initially intented to do a simple fix but then realized that a simple fix wasn't possible. So I continue working on my initially-simple fix until I ended up with this.",
    "created_at": "2017-09-06T07:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302840",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:21 vdelecroix]:
> It would be definitely more coherent to work on only one ticket...

Right. It was not really my intention to start a "competing" implementation. I initially intented to do a simple fix but then realized that a simple fix wasn't possible. So I continue working on my initially-simple fix until I ended up with this.



---

archive/issue_comments_302841.json:
```json
{
    "body": "Replying to [comment:21 vdelecroix]:\n> I just stopped working on #12121 because of the unreliable equality tests of the symbolic ring.\n\nMy branch doesn't require equality tests in the symbolic ring.",
    "created_at": "2017-09-06T07:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302841",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:21 vdelecroix]:
> I just stopped working on #12121 because of the unreliable equality tests of the symbolic ring.

My branch doesn't require equality tests in the symbolic ring.



---

archive/issue_comments_302842.json:
```json
{
    "body": "Replying to [comment:21 vdelecroix]:\n> that proposes a useful `maximum_bits` argument\n\nRight, I do see the point of that.",
    "created_at": "2017-09-06T07:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302842",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:21 vdelecroix]:
> that proposes a useful `maximum_bits` argument

Right, I do see the point of that.



---

archive/issue_comments_302843.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-09-19T11:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_302844.json:
```json
{
    "body": "Now with a `bits` argument (easier to type and less confusing than `maximum_bits`)\n\nSorry for duplicating part of #12121. I did not intend to do that, it just ended up that way. Anyway, this ticket here fixes real problems so please consider it for review.",
    "created_at": "2017-09-19T11:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302844",
    "user": "https://github.com/jdemeyer"
}
```

Now with a `bits` argument (easier to type and less confusing than `maximum_bits`)

Sorry for duplicating part of #12121. I did not intend to do that, it just ended up that way. Anyway, this ticket here fixes real problems so please consider it for review.



---

archive/issue_comments_302845.json:
```json
{
    "body": "typo `the taregt number`",
    "created_at": "2017-09-19T12:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302845",
    "user": "https://github.com/videlec"
}
```

typo `the taregt number`



---

archive/issue_comments_302846.json:
```json
{
    "body": "About\n\n```\nif isinstance(x, (float, complex)):\n    m = getattr(math, method)\n    return Integer(m(x))\n```\n\nTwo questions:\n\n- with complex inputs, the `math` library gives an error\n\n```\nsage: \nsage: math.floor(0jr)\nTraceback (most recent call last):\n...\nTypeError: can't convert complex to float\nsage: math.ceil(0jr)\nTraceback (most recent call last):\n...\nTypeError: can't convert complex to float\n```\n\n   hence there is a bit of contradiction here.\n\n- why would you convert to an `Integer` and not just use the result of whatever `math.floor`, `math.ceil` is actually giving you. That would be more Python friendly. As an example the result of `cos` is not a Sage floating point\n\n```\nsage: cos(1.0r)\n0.5403023058681398\nsage: type(_)\n<type 'float'>\n```\n",
    "created_at": "2017-09-19T12:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302846",
    "user": "https://github.com/videlec"
}
```

About

```
if isinstance(x, (float, complex)):
    m = getattr(math, method)
    return Integer(m(x))
```

Two questions:

- with complex inputs, the `math` library gives an error

```
sage: 
sage: math.floor(0jr)
Traceback (most recent call last):
...
TypeError: can't convert complex to float
sage: math.ceil(0jr)
Traceback (most recent call last):
...
TypeError: can't convert complex to float
```

   hence there is a bit of contradiction here.

- why would you convert to an `Integer` and not just use the result of whatever `math.floor`, `math.ceil` is actually giving you. That would be more Python friendly. As an example the result of `cos` is not a Sage floating point

```
sage: cos(1.0r)
0.5403023058681398
sage: type(_)
<type 'float'>
```




---

archive/issue_comments_302847.json:
```json
{
    "body": "You may or may not be right, but I consider that outside the scope of this ticket. I am not changing the return types or handling of complex numbers here.",
    "created_at": "2017-09-19T12:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302847",
    "user": "https://github.com/jdemeyer"
}
```

You may or may not be right, but I consider that outside the scope of this ticket. I am not changing the return types or handling of complex numbers here.



---

archive/issue_comments_302848.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-09-19T13:02:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302848",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_302849.json:
```json
{
    "body": "Does not apply.",
    "created_at": "2017-11-28T07:11:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302849",
    "user": "https://github.com/rwst"
}
```

Does not apply.



---

archive/issue_comments_302850.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-11-28T07:11:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302850",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_302851.json:
```json
{
    "body": "Do you plan to review this ticket if I fix the conflict?",
    "created_at": "2017-11-28T08:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302851",
    "user": "https://github.com/jdemeyer"
}
```

Do you plan to review this ticket if I fix the conflict?



---

archive/issue_comments_302852.json:
```json
{
    "body": "Yes. It's time to get that done.",
    "created_at": "2017-11-28T09:04:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302852",
    "user": "https://github.com/rwst"
}
```

Yes. It's time to get that done.



---

archive/issue_comments_302853.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-28T09:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302853",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302854.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-28T09:35:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302854",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302855.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-11-28T09:35:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302855",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_302856.json:
```json
{
    "body": "Patchbot is green, the documentation looks good. The code is well documented and improves the present implementation. This all represents my minimum criterion to include code in Sage. There are a few things I'd ask you to change/add:\n- there is one typo (`immediatly`)\n- the ticket makes #12121 mostly a duplicate, and it would be nice if you could add the most relevant doctests from there, I'd suggest\n\n```\nsage: floor(log(4) / log(2))\n2\nsage: a = floor(5.4 + x); a\nfloor(x + 5.40000000000000)\nsage: a.subs(x==2)\n7\nsage: floor(log(2**(3/2)) / log(2) + 1/2)\n2\nsage: floor(log(2**(-3/2)) / log(2) + 1/2)\n-1\nsage: e1 = pi - continued_fraction(pi).convergent(2785)\nsage: e2 = e - continued_fraction(e).convergent(1500)\nsage: f = e1/e2\nsage: f = 1 / (f - continued_fraction(f).convergent(1000))\nsage: f = f - continued_fraction(f).convergent(1)\nsage: floor(f, bits=40000)\n-1\nsage: ceil(f, bits=40000)\n0\n```\n\nYou can set positive after the above changes. If you don't agree with my above criterion however then don't.\n\nFinally for a later ticket, one doctest from #12121 cannot be solved. I agree not everything can be solved. This one however would be easy if you had some heuristic to call QQbar on algebraic expressions:\n\n```\nsage: z = (11/9*sqrt(3)*sqrt(2) + 3)^(1/3) + 1/3/(11/9*sqrt(3)*sqrt(2) + 3)^(1/3) - 1\nsage: ceil(z, bits=400000)\n...fails\n```\n\nThis is still better than current Sage so we should think of a way to limit or predict the effort QQbar is making, e.g. by predicting the degree of the minimal polynomial involved and calling QQbar from `floor()` when it does not take forever.",
    "created_at": "2017-11-28T15:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302856",
    "user": "https://github.com/rwst"
}
```

Patchbot is green, the documentation looks good. The code is well documented and improves the present implementation. This all represents my minimum criterion to include code in Sage. There are a few things I'd ask you to change/add:
- there is one typo (`immediatly`)
- the ticket makes #12121 mostly a duplicate, and it would be nice if you could add the most relevant doctests from there, I'd suggest

```
sage: floor(log(4) / log(2))
2
sage: a = floor(5.4 + x); a
floor(x + 5.40000000000000)
sage: a.subs(x==2)
7
sage: floor(log(2**(3/2)) / log(2) + 1/2)
2
sage: floor(log(2**(-3/2)) / log(2) + 1/2)
-1
sage: e1 = pi - continued_fraction(pi).convergent(2785)
sage: e2 = e - continued_fraction(e).convergent(1500)
sage: f = e1/e2
sage: f = 1 / (f - continued_fraction(f).convergent(1000))
sage: f = f - continued_fraction(f).convergent(1)
sage: floor(f, bits=40000)
-1
sage: ceil(f, bits=40000)
0
```

You can set positive after the above changes. If you don't agree with my above criterion however then don't.

Finally for a later ticket, one doctest from #12121 cannot be solved. I agree not everything can be solved. This one however would be easy if you had some heuristic to call QQbar on algebraic expressions:

```
sage: z = (11/9*sqrt(3)*sqrt(2) + 3)^(1/3) + 1/3/(11/9*sqrt(3)*sqrt(2) + 3)^(1/3) - 1
sage: ceil(z, bits=400000)
...fails
```

This is still better than current Sage so we should think of a way to limit or predict the effort QQbar is making, e.g. by predicting the degree of the minimal polynomial involved and calling QQbar from `floor()` when it does not take forever.



---

archive/issue_comments_302857.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-11-29T15:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302857",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_302858.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-11-29T15:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302858",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_302859.json:
```json
{
    "body": "conflicts with #22024",
    "created_at": "2017-12-02T23:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302859",
    "user": "https://github.com/vbraun"
}
```

conflicts with #22024



---

archive/issue_comments_302860.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-12-02T23:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302860",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_302861.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-12-03T15:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302861",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_302862.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-12-03T15:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302862",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_302863.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-12-11T01:04:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21842#issuecomment-302863",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_020603.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2017-12-11T01:04:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21842",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21842#event-20603"
}
```
