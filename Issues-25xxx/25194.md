# Issue 25194: Make ZZ['x'].random_element return leading coefficient in chosen range

archive/issues_024957.json:
```json
{
    "assignees": [],
    "body": "According to the documentation, `ZZ['x'].random_element(d, a, b)` should generate a random polynomial of degree `d`, with coefficients in `[a .. b-1]`. But it seems the leading coefficient is sometimes out of this range, in Sage 8.0:\n\n```\nsage: ZZ['x'].random_element(1,0,2)\n-10*x\nsage: ZZ['x'].random_element(0,0,2)\n217\n```\n\nCC:  @slel\n\nKeywords: **random polynomial**\n\nBranch/Commit: **[`9e28c88`](https://github.com/sagemath/sagetrac-mirror/commit/9e28c88b71aa8bb2634ddd0c0a90f6a1b862adaa)**\n\nReviewer: **Paul Zimmermann, Samuel Leli\u00e8vre, Marc Mezzarobba**\n\nAuthor: **Alex Sun**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25194_\n\n",
    "closed_at": "2018-08-05T08:42:45Z",
    "created_at": "2018-04-17T14:34:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make ZZ['x'].random_element return leading coefficient in chosen range",
    "type": "issue",
    "updated_at": "2018-08-05T08:42:45Z",
    "url": "https://github.com/sagemath/sage/issues/25194",
    "user": "https://github.com/zimmermann6"
}
```
According to the documentation, `ZZ['x'].random_element(d, a, b)` should generate a random polynomial of degree `d`, with coefficients in `[a .. b-1]`. But it seems the leading coefficient is sometimes out of this range, in Sage 8.0:

```
sage: ZZ['x'].random_element(1,0,2)
-10*x
sage: ZZ['x'].random_element(0,0,2)
217
```

CC:  @slel

Keywords: **random polynomial**

Branch/Commit: **[`9e28c88`](https://github.com/sagemath/sagetrac-mirror/commit/9e28c88b71aa8bb2634ddd0c0a90f6a1b862adaa)**

Reviewer: **Paul Zimmermann, Samuel Lelièvre, Marc Mezzarobba**

Author: **Alex Sun**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/25194_





---

archive/issue_events_350303.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-04-17T14:34:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350303"
}
```



---

archive/issue_events_350304.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-04-17T14:34:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350304"
}
```



---

archive/issue_events_350305.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-04-17T14:34:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350305"
}
```



---

archive/issue_events_350306.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-04-17T14:34:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350306"
}
```



---

archive/issue_comments_385067.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-according to the documentation, ZZ[x].random_element(d,a,b) should generate a random polynomial of degree d, with coefficients in [a, b-1]. But this seems to be wrong, at least for the leading coefficient:\n+according to the documentation, ZZ[x].random_element(d,a,b) should generate a random polynomial of degree d, with coefficients in [a, b-1]. But this seems to be wrong, at least for the leading coefficient, in Sage 8.0:\n \n ```\n sage: ZZ[x].random_element(1,0,2)\n``````\n",
    "created_at": "2018-04-17T14:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385067",
    "user": "https://github.com/zimmermann6"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-according to the documentation, ZZ[x].random_element(d,a,b) should generate a random polynomial of degree d, with coefficients in [a, b-1]. But this seems to be wrong, at least for the leading coefficient:
+according to the documentation, ZZ[x].random_element(d,a,b) should generate a random polynomial of degree d, with coefficients in [a, b-1]. But this seems to be wrong, at least for the leading coefficient, in Sage 8.0:
 
 ```
 sage: ZZ[x].random_element(1,0,2)
``````




---

archive/issue_comments_385068.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-according to the documentation, ZZ[x].random_element(d,a,b) should generate a random polynomial of degree d, with coefficients in [a, b-1]. But this seems to be wrong, at least for the leading coefficient, in Sage 8.0:\n+According to the documentation, `ZZ['x'].random_element(d, a, b)` should generate a random polynomial of degree `d`, with coefficients in `[a .. b-1]`. But it seems the leading coefficient is sometimes out of this range, in Sage 8.0:\n \n ```\n-sage: ZZ[x].random_element(1,0,2)\n+sage: ZZ['x'].random_element(1,0,2)\n -10*x\n-sage: ZZ[x].random_element(0,0,2)\n+sage: ZZ['x'].random_element(0,0,2)\n 217\n ```\n``````\n",
    "created_at": "2018-04-20T11:25:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385068",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-according to the documentation, ZZ[x].random_element(d,a,b) should generate a random polynomial of degree d, with coefficients in [a, b-1]. But this seems to be wrong, at least for the leading coefficient, in Sage 8.0:
+According to the documentation, `ZZ['x'].random_element(d, a, b)` should generate a random polynomial of degree `d`, with coefficients in `[a .. b-1]`. But it seems the leading coefficient is sometimes out of this range, in Sage 8.0:
 
 ```
-sage: ZZ[x].random_element(1,0,2)
+sage: ZZ['x'].random_element(1,0,2)
 -10*x
-sage: ZZ[x].random_element(0,0,2)
+sage: ZZ['x'].random_element(0,0,2)
 217
 ```
``````




---

archive/issue_comments_385069.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI believe I've found the error.\n\nIn this file https://github.com/sagemath/sage/blob/master/src/sage/rings/polynomial/polynomial_ring.py#L1242,\n\n```python\n1242         p = self([R.random_element(*args,**kwds) for _ in range(degree[1]+1)])\n1243\n1244         if p.degree() < degree[0]:\n1245             p += R._random_nonzero_element() * self.gen()**randint(degree[0],degree[1])\n1246\n1247         return p\n```\n\nline 1242 creates a valid polynomial with random coefficients. However, there's a possibility that the leading coefficients will be 0, so we'll get a polynomial with degree less than the values passed in. The if statement then adds on the leading term, and sets the coefficient to R._random_nonzero_element(). \n\nUnfortunately, whoever wrote this forgot that the coefficients must be in between a and b, therefore there's a chance of getting an incorrect leading coefficient. Changing this to \n\n```python\n1242         p = self([R.random_element(*args,**kwds) for _ in range(degree[1]+1)])\n1243\n1244         if p.degree() < degree[0]:\n1245             p += R._random_nonzero_element(*args, **kwds) * self.gen()**randint(degree[0],degree[1])\n1246\n1247         return p\n```\n\nseems to fix it.",
    "created_at": "2018-04-20T23:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385069",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:3" align="right">comment:3</div>

I believe I've found the error.

In this file https://github.com/sagemath/sage/blob/master/src/sage/rings/polynomial/polynomial_ring.py#L1242,

```python
1242         p = self([R.random_element(*args,**kwds) for _ in range(degree[1]+1)])
1243
1244         if p.degree() < degree[0]:
1245             p += R._random_nonzero_element() * self.gen()**randint(degree[0],degree[1])
1246
1247         return p
```

line 1242 creates a valid polynomial with random coefficients. However, there's a possibility that the leading coefficients will be 0, so we'll get a polynomial with degree less than the values passed in. The if statement then adds on the leading term, and sets the coefficient to R._random_nonzero_element(). 

Unfortunately, whoever wrote this forgot that the coefficients must be in between a and b, therefore there's a chance of getting an incorrect leading coefficient. Changing this to 

```python
1242         p = self([R.random_element(*args,**kwds) for _ in range(degree[1]+1)])
1243
1244         if p.degree() < degree[0]:
1245             p += R._random_nonzero_element(*args, **kwds) * self.gen()**randint(degree[0],degree[1])
1246
1247         return p
```

seems to fix it.



---

archive/issue_comments_385070.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\ngreat, thank you for the analysis! But I fear the 2nd call to `R._random_nonzero_element` can also give a zero coefficient, thus maybe a while loop is needed, ensuring first that a non-zero element exists in the given coefficient range.",
    "created_at": "2018-04-21T05:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385070",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:4" align="right">comment:4</div>

great, thank you for the analysis! But I fear the 2nd call to `R._random_nonzero_element` can also give a zero coefficient, thus maybe a while loop is needed, ensuring first that a non-zero element exists in the given coefficient range.



---

archive/issue_comments_385071.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nR._random_nonzero_element is already written as a while loop\n\n```\nwhile True:\n    x = self.random_element(*args, **kwds)\n    if not x.is_zero():\n        return x\n```\n\nYou bring up a good point though, if we pass in a = 0 and b = 1, then there are no non-zero elements in the ring and we end up in an infinite loop... I've fixed this by returning 0 if args is (0, 1).\n\n```\n1337         # If the bounds are 0 and 1, the only choice for coefficients is 0\n1338         if args == (0, 1):\n1339             return 0\n1340\n1341         p = self([R.random_element(*args, **kwds) for _ in range(degree[1] + 1)])\n1342\n1343         if p.degree() < degree[0]:\n1344             p += R._random_nonzero_element(*args, **kwds) * self.gen() ** randint(de     gree[0], degree[1])\n1345\n1346         return p\n```\n\nWhile we're at this topic, it seems to me that line 1341 is not quite correct - we want a random polynomial with degree between degree[0] and degree[1], so we should generate the degree randomly too. The current code generates degree[1] + 1 coefficients, so there is a higher chance of generating a polynomial with large degree. Even worse, if the coefficient bounds do not include 0, we **always** get a polynomial of degree degree[1]\n\n```\nsage: l = []\nsage: for _ in range(1000):\n....:     l.append( ZZ[x].random_element((1, 100), 1, 4) )\n....:\nsage: min( p.degree() for p in l )\n100\n```\n\nHowever, this might be the intended behavior... should this be fixed?",
    "created_at": "2018-04-21T15:16:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385071",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:5" align="right">comment:5</div>

R._random_nonzero_element is already written as a while loop

```
while True:
    x = self.random_element(*args, **kwds)
    if not x.is_zero():
        return x
```

You bring up a good point though, if we pass in a = 0 and b = 1, then there are no non-zero elements in the ring and we end up in an infinite loop... I've fixed this by returning 0 if args is (0, 1).

```
1337         # If the bounds are 0 and 1, the only choice for coefficients is 0
1338         if args == (0, 1):
1339             return 0
1340
1341         p = self([R.random_element(*args, **kwds) for _ in range(degree[1] + 1)])
1342
1343         if p.degree() < degree[0]:
1344             p += R._random_nonzero_element(*args, **kwds) * self.gen() ** randint(de     gree[0], degree[1])
1345
1346         return p
```

While we're at this topic, it seems to me that line 1341 is not quite correct - we want a random polynomial with degree between degree[0] and degree[1], so we should generate the degree randomly too. The current code generates degree[1] + 1 coefficients, so there is a higher chance of generating a polynomial with large degree. Even worse, if the coefficient bounds do not include 0, we **always** get a polynomial of degree degree[1]

```
sage: l = []
sage: for _ in range(1000):
....:     l.append( ZZ[x].random_element((1, 100), 1, 4) )
....:
sage: min( p.degree() for p in l )
100
```

However, this might be the intended behavior... should this be fixed?



---

archive/issue_comments_385072.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nsorry I missed the fact that `R._random_nonzero_element` could not give 0.\n\nYes the current behaviour does not seem to match the documentation in case the degree range contains several values. I suggest one first draws a random degree d uniformly in [degree[0],degree[1]], then a random polynomial of degree d.",
    "created_at": "2018-04-21T15:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385072",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:6" align="right">comment:6</div>

sorry I missed the fact that `R._random_nonzero_element` could not give 0.

Yes the current behaviour does not seem to match the documentation in case the degree range contains several values. I suggest one first draws a random degree d uniformly in [degree[0],degree[1]], then a random polynomial of degree d.



---

archive/issue_comments_385073.json:
```json
{
    "body": "Branch: **[u/gh-black-stones/25194](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-black-stones/25194)**",
    "created_at": "2018-04-24T11:34:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385073",
    "user": "https://github.com/black-stones"
}
```

Branch: **[u/gh-black-stones/25194](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-black-stones/25194)**



---

archive/issue_comments_385074.json:
```json
{
    "body": "Commit: **[`160e2b8`](https://github.com/sagemath/sagetrac-mirror/commit/160e2b84e3264d4f26dafd62e02459e011102c6e)**",
    "created_at": "2018-04-24T11:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385074",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`160e2b8`](https://github.com/sagemath/sagetrac-mirror/commit/160e2b84e3264d4f26dafd62e02459e011102c6e)**



---

archive/issue_comments_385075.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/160e2b84e3264d4f26dafd62e02459e011102c6e\"><code>160e2b8</code></a></td><td><code>Fix 3 bugs in polynomial random_element</code></td></tr></table>\n",
    "created_at": "2018-04-24T11:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385075",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/160e2b84e3264d4f26dafd62e02459e011102c6e"><code>160e2b8</code></a></td><td><code>Fix 3 bugs in polynomial random_element</code></td></tr></table>




---

archive/issue_events_350307.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-04-24T11:43:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350307"
}
```



---

archive/issue_comments_385076.json:
```json
{
    "body": "Author: **Alex Sun**",
    "created_at": "2018-04-24T11:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385076",
    "user": "https://github.com/black-stones"
}
```

Author: **Alex Sun**



---

archive/issue_events_350308.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-04-25T08:30:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350308"
}
```



---

archive/issue_events_350309.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-04-25T08:30:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350309"
}
```



---

archive/issue_comments_385077.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nthere is something strange with this patch: `ZZ['x'].random_element(1,0,2)` seems to only generate the polynomial `x`, whereas it should also generate `x+1` with the same proabability.\n\nSage 8.0:\n\n```\nsage: add(1 for i in range(1000) if ZZ['x'].random_element(1,0,2)[0]==1)\n510\n```\n\nWith this patch:\n\n```\nsage: add(1 for i in range(1000) if ZZ['x'].random_element(1,0,2)[0]==1)\n0\n```",
    "created_at": "2018-04-25T08:30:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385077",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:10" align="right">comment:10</div>

there is something strange with this patch: `ZZ['x'].random_element(1,0,2)` seems to only generate the polynomial `x`, whereas it should also generate `x+1` with the same proabability.

Sage 8.0:

```
sage: add(1 for i in range(1000) if ZZ['x'].random_element(1,0,2)[0]==1)
510
```

With this patch:

```
sage: add(1 for i in range(1000) if ZZ['x'].random_element(1,0,2)[0]==1)
0
```



---

archive/issue_comments_385078.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nMy bad, thanks for catching that. I had a loop from 0 to d - 1 when it should have been from 0 to d, which caused the polynomial to be missing a term.\n\nI've fixed this error now:\n\n```\nsage: add(1 for i in range(1000) if ZZ['x'].random_element(1,0,2)[0]==1)\n512\n```",
    "created_at": "2018-04-25T11:05:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385078",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:11" align="right">comment:11</div>

My bad, thanks for catching that. I had a loop from 0 to d - 1 when it should have been from 0 to d, which caused the polynomial to be missing a term.

I've fixed this error now:

```
sage: add(1 for i in range(1000) if ZZ['x'].random_element(1,0,2)[0]==1)
512
```



---

archive/issue_comments_385079.json:
```json
{
    "body": "Changed commit from **[`160e2b8`](https://github.com/sagemath/sagetrac-mirror/commit/160e2b84e3264d4f26dafd62e02459e011102c6e)** to **[`26041ff`](https://github.com/sagemath/sagetrac-mirror/commit/26041fff5d3f54f6e76f7d033c1e6547d706b28a)**",
    "created_at": "2018-04-25T11:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385079",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`160e2b8`](https://github.com/sagemath/sagetrac-mirror/commit/160e2b84e3264d4f26dafd62e02459e011102c6e)** to **[`26041ff`](https://github.com/sagemath/sagetrac-mirror/commit/26041fff5d3f54f6e76f7d033c1e6547d706b28a)**



---

archive/issue_comments_385080.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26041fff5d3f54f6e76f7d033c1e6547d706b28a\"><code>26041ff</code></a></td><td><code>Fix error when generating coefficients</code></td></tr></table>\n",
    "created_at": "2018-04-25T11:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385080",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26041fff5d3f54f6e76f7d033c1e6547d706b28a"><code>26041ff</code></a></td><td><code>Fix error when generating coefficients</code></td></tr></table>




---

archive/issue_events_350310.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-04-25T11:08:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350310"
}
```



---

archive/issue_events_350311.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-04-25T11:08:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350311"
}
```



---

archive/issue_comments_385081.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nthank you. This is better now. Still two small things:\n\n1) maybe we should document that for degree=(a,b) the degree is first chosen uniformly between a and b\n\n2) I'm not sure about `ZZ['x'].random_element(d,0,1)` giving 0 for d non-negative. Indeed, this violates the fact that it should return a polynomial of degree d. Maybe raise an error like in the case where the coefficient range is empty? Or at least document this corner case?\n\nPaul",
    "created_at": "2018-04-25T12:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385081",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:14" align="right">comment:14</div>

thank you. This is better now. Still two small things:

1) maybe we should document that for degree=(a,b) the degree is first chosen uniformly between a and b

2) I'm not sure about `ZZ['x'].random_element(d,0,1)` giving 0 for d non-negative. Indeed, this violates the fact that it should return a polynomial of degree d. Maybe raise an error like in the case where the coefficient range is empty? Or at least document this corner case?

Paul



---

archive/issue_comments_385082.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n1) Yes, I will add this to documentation\n\n2) This is a good point, I think this is a case of bad user input. The user wants a polynomial of degree d, but simultaneously wants the 0 polynomial. Maybe\n\n```\nif d > 0 and args == (0, 1):\n    raise ValueError(\"Polynomial of degree d specified but coefficients will all be 0\")\n```\n\nDoes this seem ok?",
    "created_at": "2018-04-25T13:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385082",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:15" align="right">comment:15</div>

1) Yes, I will add this to documentation

2) This is a good point, I think this is a case of bad user input. The user wants a polynomial of degree d, but simultaneously wants the 0 polynomial. Maybe

```
if d > 0 and args == (0, 1):
    raise ValueError("Polynomial of degree d specified but coefficients will all be 0")
```

Does this seem ok?



---

archive/issue_comments_385083.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> Does this seem ok? \n\nyes, except it should be `if d >= 0` since the zero polynomial has degree -1.\n\nPaul",
    "created_at": "2018-04-25T15:45:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385083",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:16" align="right">comment:16</div>

> Does this seem ok? 

yes, except it should be `if d >= 0` since the zero polynomial has degree -1.

Paul



---

archive/issue_comments_385084.json:
```json
{
    "body": "Changed commit from **[`26041ff`](https://github.com/sagemath/sagetrac-mirror/commit/26041fff5d3f54f6e76f7d033c1e6547d706b28a)** to **[`2b1c4e8`](https://github.com/sagemath/sagetrac-mirror/commit/2b1c4e8515821979247643563236562ac21cfd39)**",
    "created_at": "2018-04-25T17:41:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385084",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`26041ff`](https://github.com/sagemath/sagetrac-mirror/commit/26041fff5d3f54f6e76f7d033c1e6547d706b28a)** to **[`2b1c4e8`](https://github.com/sagemath/sagetrac-mirror/commit/2b1c4e8515821979247643563236562ac21cfd39)**



---

archive/issue_comments_385085.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b1c4e8515821979247643563236562ac21cfd39\"><code>2b1c4e8</code></a></td><td><code>Update documentation, raise ValueError for corner case</code></td></tr></table>\n",
    "created_at": "2018-04-25T17:41:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385085",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b1c4e8515821979247643563236562ac21cfd39"><code>2b1c4e8</code></a></td><td><code>Update documentation, raise ValueError for corner case</code></td></tr></table>




---

archive/issue_comments_385086.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nUsing `self.zero()` instead of `self(0)` would be a cleaner and faster.",
    "created_at": "2018-04-26T13:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385086",
    "user": "https://github.com/slel"
}
```

<div id="comment:18" align="right">comment:18</div>

Using `self.zero()` instead of `self(0)` would be a cleaner and faster.



---

archive/issue_comments_385087.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/937a21a8f5160e936b61f191371fb89583a1fbcf\"><code>937a21a</code></a></td><td><code>Use self.zero()</code></td></tr></table>\n",
    "created_at": "2018-04-26T19:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385087",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/937a21a8f5160e936b61f191371fb89583a1fbcf"><code>937a21a</code></a></td><td><code>Use self.zero()</code></td></tr></table>




---

archive/issue_comments_385088.json:
```json
{
    "body": "Changed commit from **[`2b1c4e8`](https://github.com/sagemath/sagetrac-mirror/commit/2b1c4e8515821979247643563236562ac21cfd39)** to **[`937a21a`](https://github.com/sagemath/sagetrac-mirror/commit/937a21a8f5160e936b61f191371fb89583a1fbcf)**",
    "created_at": "2018-04-26T19:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385088",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2b1c4e8`](https://github.com/sagemath/sagetrac-mirror/commit/2b1c4e8515821979247643563236562ac21cfd39)** to **[`937a21a`](https://github.com/sagemath/sagetrac-mirror/commit/937a21a8f5160e936b61f191371fb89583a1fbcf)**



---

archive/issue_comments_385089.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAs a last minor nitpick, could you change\n\n```\n        # If coefficients will all be 0, return the 0 polynomial if the degree could be -1, otherwise raise ValueError\n        if args == (0, 1):\n            if degree[0] == -1:\n                return self.zero()\n            else:\n                raise ValueError(\"Polynomial degree > -1 specified but coefficients will all be 0\")\n```\nto\n\n```\n        # If the coefficient range only contains 0, then\n        # * if the degree range includes -1, return the zero polynomial,\n        # * otherwise raise a value error\n        if args == (0, 1):\n            if degree[0] == -1:\n                return self.zero()\n            else:\n                s = \"No nonzero polynomial has all coefficients zero\"\n                raise ValueError(s)\n```",
    "created_at": "2018-04-27T10:00:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385089",
    "user": "https://github.com/slel"
}
```

<div id="comment:20" align="right">comment:20</div>

As a last minor nitpick, could you change

```
        # If coefficients will all be 0, return the 0 polynomial if the degree could be -1, otherwise raise ValueError
        if args == (0, 1):
            if degree[0] == -1:
                return self.zero()
            else:
                raise ValueError("Polynomial degree > -1 specified but coefficients will all be 0")
```
to

```
        # If the coefficient range only contains 0, then
        # * if the degree range includes -1, return the zero polynomial,
        # * otherwise raise a value error
        if args == (0, 1):
            if degree[0] == -1:
                return self.zero()
            else:
                s = "No nonzero polynomial has all coefficients zero"
                raise ValueError(s)
```



---

archive/issue_comments_385090.json:
```json
{
    "body": "Changed commit from **[`937a21a`](https://github.com/sagemath/sagetrac-mirror/commit/937a21a8f5160e936b61f191371fb89583a1fbcf)** to **[`3b71558`](https://github.com/sagemath/sagetrac-mirror/commit/3b71558405eaa11471cf0b8b1fd6732dfcb50db6)**",
    "created_at": "2018-04-27T10:45:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385090",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`937a21a`](https://github.com/sagemath/sagetrac-mirror/commit/937a21a8f5160e936b61f191371fb89583a1fbcf)** to **[`3b71558`](https://github.com/sagemath/sagetrac-mirror/commit/3b71558405eaa11471cf0b8b1fd6732dfcb50db6)**



---

archive/issue_comments_385091.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b71558405eaa11471cf0b8b1fd6732dfcb50db6\"><code>3b71558</code></a></td><td><code>Update comments, error message</code></td></tr></table>\n",
    "created_at": "2018-04-27T10:45:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385091",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b71558405eaa11471cf0b8b1fd6732dfcb50db6"><code>3b71558</code></a></td><td><code>Update comments, error message</code></td></tr></table>




---

archive/issue_events_350312.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-04-27T11:37:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "title_is": "Make ZZ['x'].random_element return leading coefficient in chosen range",
    "title_was": "ZZ[x].random_element is wrong",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350312"
}
```



---

archive/issue_comments_385092.json:
```json
{
    "body": "Reviewer: **Paul Zimmermann, Samuel Leli\u00e8vre**",
    "created_at": "2018-04-27T11:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385092",
    "user": "https://github.com/slel"
}
```

Reviewer: **Paul Zimmermann, Samuel Lelièvre**



---

archive/issue_comments_385093.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nLooks good to me. Paul, you can set to positive_review if it looks good to you.",
    "created_at": "2018-04-27T11:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385093",
    "user": "https://github.com/slel"
}
```

<div id="comment:22" align="right">comment:22</div>

Looks good to me. Paul, you can set to positive_review if it looks good to you.



---

archive/issue_comments_385094.json:
```json
{
    "body": "Changed keywords from none to **random polynomial**",
    "created_at": "2018-04-27T11:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385094",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **random polynomial**



---

archive/issue_comments_385095.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nsorry to be nit-picking:\n\n```\nsage: ZZ['x'].random_element(0,0,1)\n...\nValueError: No nonzero polynomial has all coefficients zero\n```\nshould be I believe:\n\n```\nValueError: No polynomial of degree >= 0 has all coefficients zero\n```",
    "created_at": "2018-04-27T12:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385095",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:23" align="right">comment:23</div>

sorry to be nit-picking:

```
sage: ZZ['x'].random_element(0,0,1)
...
ValueError: No nonzero polynomial has all coefficients zero
```
should be I believe:

```
ValueError: No polynomial of degree >= 0 has all coefficients zero
```



---

archive/issue_comments_385096.json:
```json
{
    "body": "Changed commit from **[`3b71558`](https://github.com/sagemath/sagetrac-mirror/commit/3b71558405eaa11471cf0b8b1fd6732dfcb50db6)** to **[`25bf92b`](https://github.com/sagemath/sagetrac-mirror/commit/25bf92b102cf43cadde2a42cd6a92e1376f9ea6a)**",
    "created_at": "2018-04-27T12:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385096",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3b71558`](https://github.com/sagemath/sagetrac-mirror/commit/3b71558405eaa11471cf0b8b1fd6732dfcb50db6)** to **[`25bf92b`](https://github.com/sagemath/sagetrac-mirror/commit/25bf92b102cf43cadde2a42cd6a92e1376f9ea6a)**



---

archive/issue_comments_385097.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25bf92b102cf43cadde2a42cd6a92e1376f9ea6a\"><code>25bf92b</code></a></td><td><code>Update error message</code></td></tr></table>\n",
    "created_at": "2018-04-27T12:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385097",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25bf92b102cf43cadde2a42cd6a92e1376f9ea6a"><code>25bf92b</code></a></td><td><code>Update error message</code></td></tr></table>




---

archive/issue_events_350313.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-31T13:14:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350313"
}
```



---

archive/issue_events_350314.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-31T13:14:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350314"
}
```



---

archive/issue_comments_385098.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nWith sage-8.3.beta3:\n\n```\n----------------------------------------------------------------------\nsage -t --warn-long 98.3 src/sage/rings/qqbar.py  # 2 doctests failed\nsage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py  # Timed out\nsage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # Timed out\nsage -t --warn-long 98.3 src/sage/rings/number_field/number_field.py  # 1 doctest failed\nsage -t --warn-long 98.3 src/sage/rings/polynomial/polynomial_element.pyx  # 8 doctests failed\nsage -t --warn-long 98.3 src/sage/matrix/matrix2.pyx  # 3 doctests failed\nsage -t --warn-long 98.3 src/sage/rings/tests.py  # 5 doctests failed\nsage -t --warn-long 98.3 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed\nsage -t --warn-long 98.3 src/sage/misc/randstate.pyx  # 13 doctests failed\nsage -t --warn-long 98.3 src/sage/rings/polynomial/polynomial_quotient_ring.py  # 1 doctest failed\nsage -t --warn-long 98.3 src/sage/ext/fast_callable.pyx  # 8 doctests failed\nsage -t --warn-long 98.3 src/sage/rings/polynomial/polynomial_ring.py  # 7 doctests failed\nsage -t --warn-long 98.3 src/sage/rings/polynomial/polynomial_number_field.pyx  # 2 doctests failed\nsage -t --warn-long 98.3 src/sage/rings/polynomial/multi_polynomial_element.py  # 1 doctest failed\nsage -t --warn-long 98.3 src/sage/rings/finite_rings/element_givaro.pyx  # 1 doctest failed\nsage -t --warn-long 98.3 src/sage/rings/finite_rings/finite_field_givaro.py  # 1 doctest failed\nsage -t --warn-long 98.3 src/sage/crypto/lwe.py  # 6 doctests failed\nsage -t --warn-long 98.3 src/sage/rings/polynomial/skew_polynomial_element.pyx  # 12 doctests failed\nsage -t --warn-long 98.3 src/sage/libs/flint/nmod_poly_linkage.pxi  # 28 doctests failed\nsage -t --warn-long 98.3 src/sage/matrix/matrix_generic_dense.pyx  # 2 doctests failed\nsage -t --warn-long 98.3 src/sage/crypto/lattice.py  # 3 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2018-05-31T13:14:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385098",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:25" align="right">comment:25</div>

With sage-8.3.beta3:

```
----------------------------------------------------------------------
sage -t --warn-long 98.3 src/sage/rings/qqbar.py  # 2 doctests failed
sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py  # Timed out
sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # Timed out
sage -t --warn-long 98.3 src/sage/rings/number_field/number_field.py  # 1 doctest failed
sage -t --warn-long 98.3 src/sage/rings/polynomial/polynomial_element.pyx  # 8 doctests failed
sage -t --warn-long 98.3 src/sage/matrix/matrix2.pyx  # 3 doctests failed
sage -t --warn-long 98.3 src/sage/rings/tests.py  # 5 doctests failed
sage -t --warn-long 98.3 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed
sage -t --warn-long 98.3 src/sage/misc/randstate.pyx  # 13 doctests failed
sage -t --warn-long 98.3 src/sage/rings/polynomial/polynomial_quotient_ring.py  # 1 doctest failed
sage -t --warn-long 98.3 src/sage/ext/fast_callable.pyx  # 8 doctests failed
sage -t --warn-long 98.3 src/sage/rings/polynomial/polynomial_ring.py  # 7 doctests failed
sage -t --warn-long 98.3 src/sage/rings/polynomial/polynomial_number_field.pyx  # 2 doctests failed
sage -t --warn-long 98.3 src/sage/rings/polynomial/multi_polynomial_element.py  # 1 doctest failed
sage -t --warn-long 98.3 src/sage/rings/finite_rings/element_givaro.pyx  # 1 doctest failed
sage -t --warn-long 98.3 src/sage/rings/finite_rings/finite_field_givaro.py  # 1 doctest failed
sage -t --warn-long 98.3 src/sage/crypto/lwe.py  # 6 doctests failed
sage -t --warn-long 98.3 src/sage/rings/polynomial/skew_polynomial_element.pyx  # 12 doctests failed
sage -t --warn-long 98.3 src/sage/libs/flint/nmod_poly_linkage.pxi  # 28 doctests failed
sage -t --warn-long 98.3 src/sage/matrix/matrix_generic_dense.pyx  # 2 doctests failed
sage -t --warn-long 98.3 src/sage/crypto/lattice.py  # 3 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_385099.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThat's a lot of doctests, I apologize for not catching these. I looked at the first 4 to see what was going on:\n\nReplying to [@mezzarobba](#comment:25):\n> With sage-8.3.beta3:\n> \n> ```\n> ----------------------------------------------------------------------\n> sage -t --warn-long 98.3 src/sage/rings/qqbar.py  # 2 doctests failed\n> sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py  # Timed out\n> sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # Timed out\n> sage -t --warn-long 98.3 src/sage/rings/number_field/number_field.py  # 1 doctest failed> \n> ```\n\nFor the first file, the failing test is \n\n```\n2993             sage: K.<x> = QQ[]\n2994             sage: p = K.random_element(4); p\n2995             1/2*x^4 - 1/95*x^3 - 1/2*x^2 - 4\n```\n\nI don't see how this test could always pass because the code generates a random element in the polynomial field. My guess is that the RNG is seeded with some constant value, if this is true, do I just update the doctest to change this polynomial?\n\nFor the next 2 files, I actually got that the tests passed. \n\n```\nmacOS\u279c  sage : gh-black-stones/25194 \u2714 : \u1405  sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py\nRunning doctests with ID 2018-05-31-12-52-48-7d6e0031.\nGit branch: gh-black-stones/25194\nUsing --optional=mpir,python2,sage\nDoctesting 1 file.\nsage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py\n    [214 tests, 18.62 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 18.8 seconds\n    cpu time: 18.4 seconds\n    cumulative wall time: 18.6 seconds\nmacOS\u279c  sage : gh-black-stones/25194 \u2714 : \u1405  sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py\nRunning doctests with ID 2018-05-31-12-53-25-6b68a451.\nGit branch: gh-black-stones/25194\nUsing --optional=mpir,python2,sage\nDoctesting 1 file.\nsage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py\n    [267 tests, 59.19 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 59.3 seconds\n    cpu time: 54.8 seconds\n    cumulative wall time: 59.2 seconds\n```\n\nFor the 4th file, the failing test is\n\n```\n 1749             sage: K.<a> = NumberField(x^3 + 17)\n 1750             sage: b = K.polynomial_quotient_ring().random_element()\n 1751             sage: K(b)\n 1752             -1/2*a^2 - 4\n```\n\nAgain, this should be generating a random element of K each time, so I don't see why this doctest should always pass. If this is again a RNG thing, do I just change the doctest to use the new polynomial?",
    "created_at": "2018-05-31T17:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385099",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:26" align="right">comment:26</div>

That's a lot of doctests, I apologize for not catching these. I looked at the first 4 to see what was going on:

Replying to [@mezzarobba](#comment:25):
> With sage-8.3.beta3:
> 
> ```
> ----------------------------------------------------------------------
> sage -t --warn-long 98.3 src/sage/rings/qqbar.py  # 2 doctests failed
> sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py  # Timed out
> sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # Timed out
> sage -t --warn-long 98.3 src/sage/rings/number_field/number_field.py  # 1 doctest failed> 
> ```

For the first file, the failing test is 

```
2993             sage: K.<x> = QQ[]
2994             sage: p = K.random_element(4); p
2995             1/2*x^4 - 1/95*x^3 - 1/2*x^2 - 4
```

I don't see how this test could always pass because the code generates a random element in the polynomial field. My guess is that the RNG is seeded with some constant value, if this is true, do I just update the doctest to change this polynomial?

For the next 2 files, I actually got that the tests passed. 

```
macOS➜  sage : gh-black-stones/25194 ✔ : ᐅ  sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py
Running doctests with ID 2018-05-31-12-52-48-7d6e0031.
Git branch: gh-black-stones/25194
Using --optional=mpir,python2,sage
Doctesting 1 file.
sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py
    [214 tests, 18.62 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 18.8 seconds
    cpu time: 18.4 seconds
    cumulative wall time: 18.6 seconds
macOS➜  sage : gh-black-stones/25194 ✔ : ᐅ  sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py
Running doctests with ID 2018-05-31-12-53-25-6b68a451.
Git branch: gh-black-stones/25194
Using --optional=mpir,python2,sage
Doctesting 1 file.
sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py
    [267 tests, 59.19 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 59.3 seconds
    cpu time: 54.8 seconds
    cumulative wall time: 59.2 seconds
```

For the 4th file, the failing test is

```
 1749             sage: K.<a> = NumberField(x^3 + 17)
 1750             sage: b = K.polynomial_quotient_ring().random_element()
 1751             sage: K(b)
 1752             -1/2*a^2 - 4
```

Again, this should be generating a random element of K each time, so I don't see why this doctest should always pass. If this is again a RNG thing, do I just change the doctest to use the new polynomial?



---

archive/issue_comments_385100.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAlex, you can use the `#random` flag to tell the doctests do generate random output.",
    "created_at": "2018-05-31T17:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385100",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:27" align="right">comment:27</div>

Alex, you can use the `#random` flag to tell the doctests do generate random output.



---

archive/issue_comments_385101.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nsee for example in `calculus/functional.py`:\n\n```\n        sage: numerical_integral(f, -4, 4)                    # random output   \n        (0.99993665751633376, 1.1101527003413533e-14)                           \n```",
    "created_at": "2018-05-31T17:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385101",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:28" align="right">comment:28</div>

see for example in `calculus/functional.py`:

```
        sage: numerical_integral(f, -4, 4)                    # random output   
        (0.99993665751633376, 1.1101527003413533e-14)                           
```



---

archive/issue_comments_385102.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nSo doing this made the doctest not fail\n\n```\n2993             sage: K.<x> = QQ[]\n2994             sage: p = K.random_element(4); p    # random\n2995             1/2*x^4 - 1/95*x^3 - 1/2*x^2 - 4\n```\n\nWithout the `# random`, I get\n\n```\n**********************************************************************\nFile \"src/sage/rings/qqbar.py\", line 2994, in sage.rings.qqbar.AlgebraicNumber_base._sage_input_\nFailed example:\n    p = K.random_element(4); p\nExpected:\n    1/2*x^4 - 1/95*x^3 - 1/2*x^2 - 4\nGot:\n    -x^4 - 12*x^3 + 1/2*x^2 - 1/95*x - 1/2\n**********************************************************************\n```\n\nWould it be better to change line 2995 so to use this new polynomial `-x^4 - 12*x^3 + 1/2*x^2 - 1/95*x - 1/2`? Or is it preferred to use `# random`? This is my first time changing doctests so I am not really sure here.",
    "created_at": "2018-05-31T17:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385102",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:29" align="right">comment:29</div>

So doing this made the doctest not fail

```
2993             sage: K.<x> = QQ[]
2994             sage: p = K.random_element(4); p    # random
2995             1/2*x^4 - 1/95*x^3 - 1/2*x^2 - 4
```

Without the `# random`, I get

```
**********************************************************************
File "src/sage/rings/qqbar.py", line 2994, in sage.rings.qqbar.AlgebraicNumber_base._sage_input_
Failed example:
    p = K.random_element(4); p
Expected:
    1/2*x^4 - 1/95*x^3 - 1/2*x^2 - 4
Got:
    -x^4 - 12*x^3 + 1/2*x^2 - 1/95*x - 1/2
**********************************************************************
```

Would it be better to change line 2995 so to use this new polynomial `-x^4 - 12*x^3 + 1/2*x^2 - 1/95*x - 1/2`? Or is it preferred to use `# random`? This is my first time changing doctests so I am not really sure here.



---

archive/issue_comments_385103.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@black-stones](#comment:29):\n> Would it be better to change line 2995 so to use this new polynomial `-x^4 - 12*x^3 + 1/2*x^2 - 1/95*x - 1/2`? Or is it preferred to use `# random`? This is my first time changing doctests so I am not really sure here.\n\nIf there was no `# random` marker before, it is probably better to change the expected output.",
    "created_at": "2018-06-01T04:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385103",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@black-stones](#comment:29):
> Would it be better to change line 2995 so to use this new polynomial `-x^4 - 12*x^3 + 1/2*x^2 - 1/95*x - 1/2`? Or is it preferred to use `# random`? This is my first time changing doctests so I am not really sure here.

If there was no `# random` marker before, it is probably better to change the expected output.



---

archive/issue_comments_385104.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76067c9a715e8f296b1cc21b482639e425b64356\"><code>76067c9</code></a></td><td><code>Fix some doctests</code></td></tr></table>\n",
    "created_at": "2018-06-01T18:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385104",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76067c9a715e8f296b1cc21b482639e425b64356"><code>76067c9</code></a></td><td><code>Fix some doctests</code></td></tr></table>




---

archive/issue_comments_385105.json:
```json
{
    "body": "Changed commit from **[`25bf92b`](https://github.com/sagemath/sagetrac-mirror/commit/25bf92b102cf43cadde2a42cd6a92e1376f9ea6a)** to **[`76067c9`](https://github.com/sagemath/sagetrac-mirror/commit/76067c9a715e8f296b1cc21b482639e425b64356)**",
    "created_at": "2018-06-01T18:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385105",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`25bf92b`](https://github.com/sagemath/sagetrac-mirror/commit/25bf92b102cf43cadde2a42cd6a92e1376f9ea6a)** to **[`76067c9`](https://github.com/sagemath/sagetrac-mirror/commit/76067c9a715e8f296b1cc21b482639e425b64356)**



---

archive/issue_comments_385106.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI've updated some of the doctests, I do not have the time to fix them all right now but I will get around to them all eventually.\n\nReplying to [@mezzarobba](#comment:25):\n> \n> ```\n> sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py  # Timed out\n> sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # Timed out\n> ```\n\nCould you check these? When I run them I get \"All tests passed!\" (comment:26)",
    "created_at": "2018-06-01T18:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385106",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:32" align="right">comment:32</div>

I've updated some of the doctests, I do not have the time to fix them all right now but I will get around to them all eventually.

Replying to [@mezzarobba](#comment:25):
> 
> ```
> sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py  # Timed out
> sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # Timed out
> ```

Could you check these? When I run them I get "All tests passed!" (comment:26)



---

archive/issue_comments_385107.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nthe first one passes for me too, but the second one produces lots of errors:\n\n```\n    [267 tests, 255 failures, 3.91 s]\n----------------------------------------------------------------------\nsage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # 255 doctests failed\n```",
    "created_at": "2018-06-02T07:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385107",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:33" align="right">comment:33</div>

the first one passes for me too, but the second one produces lots of errors:

```
    [267 tests, 255 failures, 3.91 s]
----------------------------------------------------------------------
sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # 255 doctests failed
```



---

archive/issue_comments_385108.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@black-stones](#comment:32):\n> I've updated some of the doctests, I do not have the time to fix them all right now but I will get around to them all eventually.\n> \n> Replying to [@mezzarobba](#comment:25):\n> > \n> > ```\n> > sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py  # Timed out\n> > sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # Timed out\n> > ```\n\n> \n> Could you check these? When I run them I get \"All tests passed!\" (comment:26)\n\nThese timeouts probably don't have anything to do with this ticket, there have been issues of that kind with new p-adic code or tests lately (see the discussions on sage-devel). The same thing may apply to the failures Paul is seeing, I don't know for sure.",
    "created_at": "2018-06-02T08:02:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385108",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@black-stones](#comment:32):
> I've updated some of the doctests, I do not have the time to fix them all right now but I will get around to them all eventually.
> 
> Replying to [@mezzarobba](#comment:25):
> > 
> > ```
> > sage -t --warn-long 98.3 src/sage/rings/padics/padic_base_leaves.py  # Timed out
> > sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # Timed out
> > ```

> 
> Could you check these? When I run them I get "All tests passed!" (comment:26)

These timeouts probably don't have anything to do with this ticket, there have been issues of that kind with new p-adic code or tests lately (see the discussions on sage-devel). The same thing may apply to the failures Paul is seeing, I don't know for sure.



---

archive/issue_comments_385109.json:
```json
{
    "body": "Changed commit from **[`76067c9`](https://github.com/sagemath/sagetrac-mirror/commit/76067c9a715e8f296b1cc21b482639e425b64356)** to **[`12c09ce`](https://github.com/sagemath/sagetrac-mirror/commit/12c09ce92499f5d6b92eda8f3afe759db51af73b)**",
    "created_at": "2018-06-02T16:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385109",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`76067c9`](https://github.com/sagemath/sagetrac-mirror/commit/76067c9a715e8f296b1cc21b482639e425b64356)** to **[`12c09ce`](https://github.com/sagemath/sagetrac-mirror/commit/12c09ce92499f5d6b92eda8f3afe759db51af73b)**



---

archive/issue_comments_385110.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12c09ce92499f5d6b92eda8f3afe759db51af73b\"><code>12c09ce</code></a></td><td><code>Fix some doctests</code></td></tr></table>\n",
    "created_at": "2018-06-02T16:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385110",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12c09ce92499f5d6b92eda8f3afe759db51af73b"><code>12c09ce</code></a></td><td><code>Fix some doctests</code></td></tr></table>




---

archive/issue_comments_385111.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@zimmermann6](#comment:33):\n> the first one passes for me too, but the second one produces lots of errors:\n> \n> ```\n>     [267 tests, 255 failures, 3.91 s]\n> ----------------------------------------------------------------------\n> sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # 255 doctests failed\n> ```\n\nReplying to [@mezzarobba](#comment:34):\n> These timeouts probably don't have anything to do with this ticket, there have been issues of that kind with new p-adic code or tests lately (see the discussions on sage-devel). The same thing may apply to the failures Paul is seeing, I don't know for sure.\n\nOk, thanks for letting me know. I only see 11 calls to random_element() in padic_lattice_element so those 255 failures hopefully don't come from this ticket. I'll just ignore those two files for this.",
    "created_at": "2018-06-02T17:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385111",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@zimmermann6](#comment:33):
> the first one passes for me too, but the second one produces lots of errors:
> 
> ```
>     [267 tests, 255 failures, 3.91 s]
> ----------------------------------------------------------------------
> sage -t --warn-long 98.3 src/sage/rings/padics/padic_lattice_element.py  # 255 doctests failed
> ```

Replying to [@mezzarobba](#comment:34):
> These timeouts probably don't have anything to do with this ticket, there have been issues of that kind with new p-adic code or tests lately (see the discussions on sage-devel). The same thing may apply to the failures Paul is seeing, I don't know for sure.

Ok, thanks for letting me know. I only see 11 calls to random_element() in padic_lattice_element so those 255 failures hopefully don't come from this ticket. I'll just ignore those two files for this.



---

archive/issue_comments_385112.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28abb50718e5ff2b966a388fcef7f9df1a1125ac\"><code>28abb50</code></a></td><td><code>Fix more doctests</code></td></tr></table>\n",
    "created_at": "2018-06-03T14:17:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385112",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28abb50718e5ff2b966a388fcef7f9df1a1125ac"><code>28abb50</code></a></td><td><code>Fix more doctests</code></td></tr></table>




---

archive/issue_comments_385113.json:
```json
{
    "body": "Changed commit from **[`12c09ce`](https://github.com/sagemath/sagetrac-mirror/commit/12c09ce92499f5d6b92eda8f3afe759db51af73b)** to **[`28abb50`](https://github.com/sagemath/sagetrac-mirror/commit/28abb50718e5ff2b966a388fcef7f9df1a1125ac)**",
    "created_at": "2018-06-03T14:17:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`12c09ce`](https://github.com/sagemath/sagetrac-mirror/commit/12c09ce92499f5d6b92eda8f3afe759db51af73b)** to **[`28abb50`](https://github.com/sagemath/sagetrac-mirror/commit/28abb50718e5ff2b966a388fcef7f9df1a1125ac)**



---

archive/issue_comments_385114.json:
```json
{
    "body": "Changed commit from **[`28abb50`](https://github.com/sagemath/sagetrac-mirror/commit/28abb50718e5ff2b966a388fcef7f9df1a1125ac)** to **[`1a9d94f`](https://github.com/sagemath/sagetrac-mirror/commit/1a9d94fadd242428987dad57895ac9ee48c297ae)**",
    "created_at": "2018-06-08T17:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385114",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`28abb50`](https://github.com/sagemath/sagetrac-mirror/commit/28abb50718e5ff2b966a388fcef7f9df1a1125ac)** to **[`1a9d94f`](https://github.com/sagemath/sagetrac-mirror/commit/1a9d94fadd242428987dad57895ac9ee48c297ae)**



---

archive/issue_comments_385115.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a9d94fadd242428987dad57895ac9ee48c297ae\"><code>1a9d94f</code></a></td><td><code>Fix more doctests</code></td></tr></table>\n",
    "created_at": "2018-06-08T17:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385115",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a9d94fadd242428987dad57895ac9ee48c297ae"><code>1a9d94f</code></a></td><td><code>Fix more doctests</code></td></tr></table>




---

archive/issue_comments_385116.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79a9a04aef5f7e75e43c52a6ae0edd35e2ebd0ae\"><code>79a9a04</code></a></td><td><code>Implement _random_nonzero_element for MatrixSpace</code></td></tr></table>\n",
    "created_at": "2018-06-10T15:30:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385116",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79a9a04aef5f7e75e43c52a6ae0edd35e2ebd0ae"><code>79a9a04</code></a></td><td><code>Implement _random_nonzero_element for MatrixSpace</code></td></tr></table>




---

archive/issue_comments_385117.json:
```json
{
    "body": "Changed commit from **[`1a9d94f`](https://github.com/sagemath/sagetrac-mirror/commit/1a9d94fadd242428987dad57895ac9ee48c297ae)** to **[`79a9a04`](https://github.com/sagemath/sagetrac-mirror/commit/79a9a04aef5f7e75e43c52a6ae0edd35e2ebd0ae)**",
    "created_at": "2018-06-10T15:30:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385117",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1a9d94f`](https://github.com/sagemath/sagetrac-mirror/commit/1a9d94fadd242428987dad57895ac9ee48c297ae)** to **[`79a9a04`](https://github.com/sagemath/sagetrac-mirror/commit/79a9a04aef5f7e75e43c52a6ae0edd35e2ebd0ae)**



---

archive/issue_comments_385118.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/874ecfe56002ccda34a659370547ef78f75c9c94\"><code>874ecfe</code></a></td><td><code>Add doctests for _random_nonzero_element</code></td></tr></table>\n",
    "created_at": "2018-06-16T17:49:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385118",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/874ecfe56002ccda34a659370547ef78f75c9c94"><code>874ecfe</code></a></td><td><code>Add doctests for _random_nonzero_element</code></td></tr></table>




---

archive/issue_comments_385119.json:
```json
{
    "body": "Changed commit from **[`79a9a04`](https://github.com/sagemath/sagetrac-mirror/commit/79a9a04aef5f7e75e43c52a6ae0edd35e2ebd0ae)** to **[`874ecfe`](https://github.com/sagemath/sagetrac-mirror/commit/874ecfe56002ccda34a659370547ef78f75c9c94)**",
    "created_at": "2018-06-16T17:49:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385119",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79a9a04`](https://github.com/sagemath/sagetrac-mirror/commit/79a9a04aef5f7e75e43c52a6ae0edd35e2ebd0ae)** to **[`874ecfe`](https://github.com/sagemath/sagetrac-mirror/commit/874ecfe56002ccda34a659370547ef78f75c9c94)**



---

archive/issue_comments_385120.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/251ba0456b146fb3bfa3bb390bddb2a1e26415dc\"><code>251ba04</code></a></td><td><code>Merge branch 'u/gh-black-stones/25194' of git://trac.sagemath.org/sage into u/gh-black-stones/25194</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4594c3cfb01f514397a833e878b0c7feb520b9f\"><code>b4594c3</code></a></td><td><code>Change doctests</code></td></tr></table>\n",
    "created_at": "2018-06-19T12:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385120",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/251ba0456b146fb3bfa3bb390bddb2a1e26415dc"><code>251ba04</code></a></td><td><code>Merge branch 'u/gh-black-stones/25194' of git://trac.sagemath.org/sage into u/gh-black-stones/25194</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4594c3cfb01f514397a833e878b0c7feb520b9f"><code>b4594c3</code></a></td><td><code>Change doctests</code></td></tr></table>




---

archive/issue_comments_385121.json:
```json
{
    "body": "Changed commit from **[`874ecfe`](https://github.com/sagemath/sagetrac-mirror/commit/874ecfe56002ccda34a659370547ef78f75c9c94)** to **[`b4594c3`](https://github.com/sagemath/sagetrac-mirror/commit/b4594c3cfb01f514397a833e878b0c7feb520b9f)**",
    "created_at": "2018-06-19T12:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385121",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`874ecfe`](https://github.com/sagemath/sagetrac-mirror/commit/874ecfe56002ccda34a659370547ef78f75c9c94)** to **[`b4594c3`](https://github.com/sagemath/sagetrac-mirror/commit/b4594c3cfb01f514397a833e878b0c7feb520b9f)**



---

archive/issue_events_350315.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-06-20T19:01:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350315"
}
```



---

archive/issue_events_350316.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-06-20T19:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350316"
}
```



---

archive/issue_events_350317.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-06-20T19:01:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350317"
}
```



---

archive/issue_events_350318.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-06-20T19:01:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350318"
}
```



---

archive/issue_events_350319.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-06-21T07:29:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350319"
}
```



---

archive/issue_events_350320.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-06-21T07:29:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350320"
}
```



---

archive/issue_comments_385122.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI checked all tests from comment [comment:25] now pass, thus as far as the build bot is ok, this is fine with me.",
    "created_at": "2018-06-21T07:29:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385122",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:43" align="right">comment:43</div>

I checked all tests from comment [comment:25] now pass, thus as far as the build bot is ok, this is fine with me.



---

archive/issue_comments_385123.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nPatchbot says that tests failed\n\n```\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/coercion_and_categories.rst\", line 452, in doc.en.thematic_tutorials.coercion_and_categories\nFailed example:\n    len([s for s in dir(MS1) if inspect.ismethod(getattr(MS1,s,None))])\nExpected:\n    79\nGot:\n    80\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/coercion_and_categories.rst\", line 454, in doc.en.thematic_tutorials.coercion_and_categories\nFailed example:\n    len([s for s in dir(MS2) if inspect.ismethod(getattr(MS2,s,None))])\nExpected:\n    118\nGot:\n    119\n**********************************************************************\n```\n\nThe values before were 78 and 117, then I implemented a `_random_nonzero_element()` for MatrixSpace and I incremented those numbers to 79 and 118 in this commit https://github.com/sagemath/sagetrac-mirror/commit/b4594c3cfb01f514397a833e878b0c7feb520b9f. I am not sure why they increased again.",
    "created_at": "2018-06-21T12:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385123",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:44" align="right">comment:44</div>

Patchbot says that tests failed

```
**********************************************************************
File "src/doc/en/thematic_tutorials/coercion_and_categories.rst", line 452, in doc.en.thematic_tutorials.coercion_and_categories
Failed example:
    len([s for s in dir(MS1) if inspect.ismethod(getattr(MS1,s,None))])
Expected:
    79
Got:
    80
**********************************************************************
File "src/doc/en/thematic_tutorials/coercion_and_categories.rst", line 454, in doc.en.thematic_tutorials.coercion_and_categories
Failed example:
    len([s for s in dir(MS2) if inspect.ismethod(getattr(MS2,s,None))])
Expected:
    118
Got:
    119
**********************************************************************
```

The values before were 78 and 117, then I implemented a `_random_nonzero_element()` for MatrixSpace and I incremented those numbers to 79 and 118 in this commit https://github.com/sagemath/sagetrac-mirror/commit/b4594c3cfb01f514397a833e878b0c7feb520b9f. I am not sure why they increased again.



---

archive/issue_comments_385124.json:
```json
{
    "body": "Changed commit from **[`b4594c3`](https://github.com/sagemath/sagetrac-mirror/commit/b4594c3cfb01f514397a833e878b0c7feb520b9f)** to **[`5163df7`](https://github.com/sagemath/sagetrac-mirror/commit/5163df77a61c60afc49ac4ab3098a7945cf1931e)**",
    "created_at": "2018-06-21T12:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385124",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b4594c3`](https://github.com/sagemath/sagetrac-mirror/commit/b4594c3cfb01f514397a833e878b0c7feb520b9f)** to **[`5163df7`](https://github.com/sagemath/sagetrac-mirror/commit/5163df77a61c60afc49ac4ab3098a7945cf1931e)**



---

archive/issue_events_350321.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2018-06-21T12:50:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350321"
}
```



---

archive/issue_events_350322.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2018-06-21T12:50:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350322"
}
```



---

archive/issue_comments_385125.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5163df77a61c60afc49ac4ab3098a7945cf1931e\"><code>5163df7</code></a></td><td><code>Fix doctest in src/doc/en/thematic_tutorials/coercion_and_categories.rst</code></td></tr></table>\n",
    "created_at": "2018-06-21T12:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385125",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5163df77a61c60afc49ac4ab3098a7945cf1931e"><code>5163df7</code></a></td><td><code>Fix doctest in src/doc/en/thematic_tutorials/coercion_and_categories.rst</code></td></tr></table>




---

archive/issue_comments_385126.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nLooks like it was in here: https://github.com/sagemath/sagetrac-mirror/commit/779dffbbb514290400d2b164b80ddb1a6c8ba04e, we both implemented a new function and then incremented the values in the doctest.\n\nAnyways, the doctests should be correct now.",
    "created_at": "2018-06-21T12:51:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385126",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:46" align="right">comment:46</div>

Looks like it was in here: https://github.com/sagemath/sagetrac-mirror/commit/779dffbbb514290400d2b164b80ddb1a6c8ba04e, we both implemented a new function and then incremented the values in the doctest.

Anyways, the doctests should be correct now.



---

archive/issue_comments_385127.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\non my side I get with revision 5163df7:\n\n```\nzimmerma@tomate:/localdisk/tmp/sage-8.2$ ./sage -t src/doc/en/thematic_tutorials/coercion_and_categories.rst\nRunning doctests with ID 2018-06-22-17-10-24-b55ce2fb.\nGit branch: u/gh-black-stones/25194\nUsing --optional=mpir,python2,sage\nDoctesting 1 file.\nsage -t --warn-long 39.8 src/doc/en/thematic_tutorials/coercion_and_categories.rst\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/coercion_and_categories.rst\", line 455, in doc.en.thematic_tutorials.coercion_and_categories\nFailed example:\n    len([s for s in dir(MS1) if inspect.ismethod(getattr(MS1,s,None))])\nExpected:\n    80\nGot:\n    79\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/coercion_and_categories.rst\", line 457, in doc.en.thematic_tutorials.coercion_and_categories\nFailed example:\n    len([s for s in dir(MS2) if inspect.ismethod(getattr(MS2,s,None))])\nExpected:\n    119\nGot:\n    118\n**********************************************************************\n1 item had failures:\n   2 of 192 in doc.en.thematic_tutorials.coercion_and_categories\n    [191 tests, 2 failures, 1.26 s]\n----------------------------------------------------------------------\nsage -t --warn-long 39.8 src/doc/en/thematic_tutorials/coercion_and_categories.rst  # 2 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 4.3 seconds\n    cpu time: 0.6 seconds\n    cumulative wall time: 1.3 seconds\n```\nMaybe the patchbot does not only consider the patch of this ticket?",
    "created_at": "2018-06-22T15:12:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385127",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:47" align="right">comment:47</div>

on my side I get with revision 5163df7:

```
zimmerma@tomate:/localdisk/tmp/sage-8.2$ ./sage -t src/doc/en/thematic_tutorials/coercion_and_categories.rst
Running doctests with ID 2018-06-22-17-10-24-b55ce2fb.
Git branch: u/gh-black-stones/25194
Using --optional=mpir,python2,sage
Doctesting 1 file.
sage -t --warn-long 39.8 src/doc/en/thematic_tutorials/coercion_and_categories.rst
**********************************************************************
File "src/doc/en/thematic_tutorials/coercion_and_categories.rst", line 455, in doc.en.thematic_tutorials.coercion_and_categories
Failed example:
    len([s for s in dir(MS1) if inspect.ismethod(getattr(MS1,s,None))])
Expected:
    80
Got:
    79
**********************************************************************
File "src/doc/en/thematic_tutorials/coercion_and_categories.rst", line 457, in doc.en.thematic_tutorials.coercion_and_categories
Failed example:
    len([s for s in dir(MS2) if inspect.ismethod(getattr(MS2,s,None))])
Expected:
    119
Got:
    118
**********************************************************************
1 item had failures:
   2 of 192 in doc.en.thematic_tutorials.coercion_and_categories
    [191 tests, 2 failures, 1.26 s]
----------------------------------------------------------------------
sage -t --warn-long 39.8 src/doc/en/thematic_tutorials/coercion_and_categories.rst  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 4.3 seconds
    cpu time: 0.6 seconds
    cumulative wall time: 1.3 seconds
```
Maybe the patchbot does not only consider the patch of this ticket?



---

archive/issue_comments_385128.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI think it's because you are using sage 8.2. In this commit https://github.com/sagemath/sagetrac-mirror/commit/779dffbbb514290400d2b164b80ddb1a6c8ba04e, which was part of one of the 8.3 beta releases, a new method in _random_nonzero_element() was implemented. The patchbot is running on 8.3 beta 6.",
    "created_at": "2018-06-22T17:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385128",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:48" align="right">comment:48</div>

I think it's because you are using sage 8.2. In this commit https://github.com/sagemath/sagetrac-mirror/commit/779dffbbb514290400d2b164b80ddb1a6c8ba04e, which was part of one of the 8.3 beta releases, a new method in _random_nonzero_element() was implemented. The patchbot is running on 8.3 beta 6.



---

archive/issue_comments_385129.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI thought that if I do `git co u/gh-black-stones/25194`, whatever the initial situation, I would get the same branch. Isn't it the case?",
    "created_at": "2018-06-22T19:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385129",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:49" align="right">comment:49</div>

I thought that if I do `git co u/gh-black-stones/25194`, whatever the initial situation, I would get the same branch. Isn't it the case?



---

archive/issue_comments_385130.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI believe git checkout just copies and applies the changes in the branch. It will not update Sage from 8.2 to 8.3b6. Either way, I was also using 8.2 so I did not realize there was another change to the MatrixSpace class.\n\nAccording to the log, the merge failed: https://patchbot.sagemath.org/log/25194/LinuxMint/18.2/x86_64/4.4.0-122-generic/rk02-math/2018-06-21%2013:55:58. Is there a way to get more detailed information on what went wrong?",
    "created_at": "2018-06-22T19:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385130",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:50" align="right">comment:50</div>

I believe git checkout just copies and applies the changes in the branch. It will not update Sage from 8.2 to 8.3b6. Either way, I was also using 8.2 so I did not realize there was another change to the MatrixSpace class.

According to the log, the merge failed: https://patchbot.sagemath.org/log/25194/LinuxMint/18.2/x86_64/4.4.0-122-generic/rk02-math/2018-06-21%2013:55:58. Is there a way to get more detailed information on what went wrong?



---

archive/issue_comments_385131.json:
```json
{
    "body": "Changed commit from **[`5163df7`](https://github.com/sagemath/sagetrac-mirror/commit/5163df77a61c60afc49ac4ab3098a7945cf1931e)** to **[`010ba97`](https://github.com/sagemath/sagetrac-mirror/commit/010ba97de0a6f5ea5d67da7d05f2f37f82b5102f)**",
    "created_at": "2018-06-27T20:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385131",
    "user": "https://github.com/black-stones"
}
```

Changed commit from **[`5163df7`](https://github.com/sagemath/sagetrac-mirror/commit/5163df77a61c60afc49ac4ab3098a7945cf1931e)** to **[`010ba97`](https://github.com/sagemath/sagetrac-mirror/commit/010ba97de0a6f5ea5d67da7d05f2f37f82b5102f)**



---

archive/issue_events_350323.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-06-27T20:05:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350323"
}
```



---

archive/issue_events_350324.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-06-27T20:05:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350324"
}
```



---

archive/issue_comments_385132.json:
```json
{
    "body": "Changed branch from **[u/gh-black-stones/25194](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-black-stones/25194)** to **[u/gh-black-stones/25194_2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-black-stones/25194_2)**",
    "created_at": "2018-06-27T20:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385132",
    "user": "https://github.com/black-stones"
}
```

Changed branch from **[u/gh-black-stones/25194](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-black-stones/25194)** to **[u/gh-black-stones/25194_2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-black-stones/25194_2)**



---

archive/issue_comments_385133.json:
```json
{
    "body": "Changed commit from **[`010ba97`](https://github.com/sagemath/sagetrac-mirror/commit/010ba97de0a6f5ea5d67da7d05f2f37f82b5102f)** to **[`e69534b`](https://github.com/sagemath/sagetrac-mirror/commit/e69534b17780dd4a49ced769ed68374e92d8b42c)**",
    "created_at": "2018-06-27T20:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385133",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`010ba97`](https://github.com/sagemath/sagetrac-mirror/commit/010ba97de0a6f5ea5d67da7d05f2f37f82b5102f)** to **[`e69534b`](https://github.com/sagemath/sagetrac-mirror/commit/e69534b17780dd4a49ced769ed68374e92d8b42c)**



---

archive/issue_comments_385134.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e69534b17780dd4a49ced769ed68374e92d8b42c\"><code>e69534b</code></a></td><td><code>Fix bugs in polynomial random_element() and change doctests</code></td></tr></table>\n",
    "created_at": "2018-06-27T20:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385134",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e69534b17780dd4a49ced769ed68374e92d8b42c"><code>e69534b</code></a></td><td><code>Fix bugs in polynomial random_element() and change doctests</code></td></tr></table>




---

archive/issue_comments_385135.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nThe doctests should all be fixed now. I had to change the branch because I lost my .git folder, which is why there were merge conflicts. I decided making a new branch and applying the patch was the simplest way to fix it.",
    "created_at": "2018-06-27T20:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385135",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:53" align="right">comment:53</div>

The doctests should all be fixed now. I had to change the branch because I lost my .git folder, which is why there were merge conflicts. I decided making a new branch and applying the patch was the simplest way to fix it.



---

archive/issue_events_350325.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-06-27T20:09:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350325"
}
```



---

archive/issue_events_350326.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-06-27T20:09:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350326"
}
```



---

archive/issue_comments_385136.json:
```json
{
    "body": "Changed commit from **[`e69534b`](https://github.com/sagemath/sagetrac-mirror/commit/e69534b17780dd4a49ced769ed68374e92d8b42c)** to **[`0df7ab5`](https://github.com/sagemath/sagetrac-mirror/commit/0df7ab5dfbc16564563978f9d5b7f2c9175e61dc)**",
    "created_at": "2018-06-28T02:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385136",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e69534b`](https://github.com/sagemath/sagetrac-mirror/commit/e69534b17780dd4a49ced769ed68374e92d8b42c)** to **[`0df7ab5`](https://github.com/sagemath/sagetrac-mirror/commit/0df7ab5dfbc16564563978f9d5b7f2c9175e61dc)**



---

archive/issue_comments_385137.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0df7ab5dfbc16564563978f9d5b7f2c9175e61dc\"><code>0df7ab5</code></a></td><td><code>Fix doctest for 32-bit system</code></td></tr></table>\n",
    "created_at": "2018-06-28T02:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385137",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0df7ab5dfbc16564563978f9d5b7f2c9175e61dc"><code>0df7ab5</code></a></td><td><code>Fix doctest for 32-bit system</code></td></tr></table>




---

archive/issue_comments_385138.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nPositive review on my side:\n\n```\nzimmerma@tomate:/localdisk/tmp/sage$ ./sage -tp 4 --all --long\n...\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 4627.4 seconds\n    cpu time: 7754.4 seconds\n    cumulative wall time: 17894.4 seconds\n```",
    "created_at": "2018-07-03T08:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385138",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:55" align="right">comment:55</div>

Positive review on my side:

```
zimmerma@tomate:/localdisk/tmp/sage$ ./sage -tp 4 --all --long
...
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 4627.4 seconds
    cpu time: 7754.4 seconds
    cumulative wall time: 17894.4 seconds
```



---

archive/issue_comments_385139.json:
```json
{
    "body": "Changed reviewer from **Paul Zimmermann, Samuel Leli\u00e8vre** to **Paul Zimmermann, Samuel Leli\u00e8vre, Marc Mezzarobba**",
    "created_at": "2018-07-03T08:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385139",
    "user": "https://github.com/zimmermann6"
}
```

Changed reviewer from **Paul Zimmermann, Samuel Lelièvre** to **Paul Zimmermann, Samuel Lelièvre, Marc Mezzarobba**



---

archive/issue_events_350327.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-07-03T08:33:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350327"
}
```



---

archive/issue_events_350328.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-07-03T08:33:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350328"
}
```



---

archive/issue_comments_385140.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nThanks for the review.\n\nOnly problem is that there was a merge conflict https://patchbot.sagemath.org/log/25194/Gentoo%20Base%20System/2.2/x86_64/4.4.26-gentoo/sage4/2018-07-02%2001:54:32?short\n\nIs there anyway I can see exactly what went wrong?",
    "created_at": "2018-07-03T10:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385140",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:56" align="right">comment:56</div>

Thanks for the review.

Only problem is that there was a merge conflict https://patchbot.sagemath.org/log/25194/Gentoo%20Base%20System/2.2/x86_64/4.4.26-gentoo/sage4/2018-07-02%2001:54:32?short

Is there anyway I can see exactly what went wrong?



---

archive/issue_comments_385141.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nyou can try to reproduce the commands in https://patchbot.sagemath.org/log/25194/Gentoo%20Base%20System/2.2/x86_64/4.4.26-gentoo/sage4/2018-07-02%2001:54:32?short, maybe using the description on https://wiki.sagemath.org/buildbot (but this page does not seem to be up-to-date, for example the following fails in the Sage directory:\n\n```\n$ git checkout develop -b patchbot/base\nfatal: 'develop' is not a commit and a branch 'patchbot/base' cannot be created from it\n```",
    "created_at": "2018-07-03T11:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385141",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:57" align="right">comment:57</div>

you can try to reproduce the commands in https://patchbot.sagemath.org/log/25194/Gentoo%20Base%20System/2.2/x86_64/4.4.26-gentoo/sage4/2018-07-02%2001:54:32?short, maybe using the description on https://wiki.sagemath.org/buildbot (but this page does not seem to be up-to-date, for example the following fails in the Sage directory:

```
$ git checkout develop -b patchbot/base
fatal: 'develop' is not a commit and a branch 'patchbot/base' cannot be created from it
```



---

archive/issue_comments_385142.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nMerge conflict",
    "created_at": "2018-07-04T08:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385142",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:58" align="right">comment:58</div>

Merge conflict



---

archive/issue_events_350329.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-04T08:09:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350329"
}
```



---

archive/issue_events_350330.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-04T08:09:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350330"
}
```



---

archive/issue_comments_385143.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nVolker, how can we know what the conflict is? The log of the patchbot only tells it is in `matrix_space.py`, but not where.",
    "created_at": "2018-07-04T08:29:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385143",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:59" align="right">comment:59</div>

Volker, how can we know what the conflict is? The log of the patchbot only tells it is in `matrix_space.py`, but not where.



---

archive/issue_comments_385144.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nMerge in the latest beta, then you'll see (and be able to fix it)",
    "created_at": "2018-07-04T08:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385144",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:60" align="right">comment:60</div>

Merge in the latest beta, then you'll see (and be able to fix it)



---

archive/issue_comments_385145.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@vbraun](#comment:60):\n> Merge in the latest beta, then you'll see (and be able to fix it)\n\nSee https://github.com/sagemath/git-trac-command/pull/30 for trying to help the release manager to tell where the conflict happens.",
    "created_at": "2018-07-04T09:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385145",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@vbraun](#comment:60):
> Merge in the latest beta, then you'll see (and be able to fix it)

See https://github.com/sagemath/git-trac-command/pull/30 for trying to help the release manager to tell where the conflict happens.



---

archive/issue_comments_385146.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nok, Alex, the commands to do are the following (in the Sage directory):\n\n```\ngit co develop\ngit fetch git://trac.sagemath.org/sage.git +u/gh-black-stones/25194_2:patchbot/\\\nticket_upstream\ngit merge patchbot/ticket_upstream\n```\nThe conflict is that the function `_random_nonzero_element` has been removed in the develop branch.",
    "created_at": "2018-07-04T09:07:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385146",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:62" align="right">comment:62</div>

ok, Alex, the commands to do are the following (in the Sage directory):

```
git co develop
git fetch git://trac.sagemath.org/sage.git +u/gh-black-stones/25194_2:patchbot/\
ticket_upstream
git merge patchbot/ticket_upstream
```
The conflict is that the function `_random_nonzero_element` has been removed in the develop branch.



---

archive/issue_comments_385147.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e28c88b71aa8bb2634ddd0c0a90f6a1b862adaa\"><code>9e28c88</code></a></td><td><code>Merge branch 'patchbot/ticket_upstream' into develop</code></td></tr></table>\n",
    "created_at": "2018-07-05T06:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385147",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e28c88b71aa8bb2634ddd0c0a90f6a1b862adaa"><code>9e28c88</code></a></td><td><code>Merge branch 'patchbot/ticket_upstream' into develop</code></td></tr></table>




---

archive/issue_comments_385148.json:
```json
{
    "body": "Changed commit from **[`0df7ab5`](https://github.com/sagemath/sagetrac-mirror/commit/0df7ab5dfbc16564563978f9d5b7f2c9175e61dc)** to **[`9e28c88`](https://github.com/sagemath/sagetrac-mirror/commit/9e28c88b71aa8bb2634ddd0c0a90f6a1b862adaa)**",
    "created_at": "2018-07-05T06:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385148",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0df7ab5`](https://github.com/sagemath/sagetrac-mirror/commit/0df7ab5dfbc16564563978f9d5b7f2c9175e61dc)** to **[`9e28c88`](https://github.com/sagemath/sagetrac-mirror/commit/9e28c88b71aa8bb2634ddd0c0a90f6a1b862adaa)**



---

archive/issue_comments_385149.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nThank you everyone for all of your help. This is the first time I've had to fix a merge conflict, so thanks for the advice.",
    "created_at": "2018-07-05T06:50:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385149",
    "user": "https://github.com/black-stones"
}
```

<div id="comment:64" align="right">comment:64</div>

Thank you everyone for all of your help. This is the first time I've had to fix a merge conflict, so thanks for the advice.



---

archive/issue_events_350331.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-07-06T01:39:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350331"
}
```



---

archive/issue_events_350332.json:
```json
{
    "actor": "https://github.com/black-stones",
    "created_at": "2018-07-06T01:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350332"
}
```



---

archive/issue_events_350333.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-07-10T07:40:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350333"
}
```



---

archive/issue_events_350334.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-07-10T07:40:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350334"
}
```



---

archive/issue_comments_385150.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nall tests still pass: positive review.",
    "created_at": "2018-07-10T07:40:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385150",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:66" align="right">comment:66</div>

all tests still pass: positive review.



---

archive/issue_events_350335.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350335"
}
```



---

archive/issue_events_350336.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350336"
}
```



---

archive/issue_comments_385151.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385151",
    "user": "https://github.com/videlec"
}
```

<div id="comment:67" align="right">comment:67</div>

update milestone 8.3 -> 8.4



---

archive/issue_comments_385152.json:
```json
{
    "body": "Changed branch from **[u/gh-black-stones/25194_2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-black-stones/25194_2)** to **[`9e28c88`](https://github.com/sagemath/sagetrac-mirror/commit/9e28c88b71aa8bb2634ddd0c0a90f6a1b862adaa)**",
    "created_at": "2018-08-05T08:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25194#issuecomment-385152",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-black-stones/25194_2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-black-stones/25194_2)** to **[`9e28c88`](https://github.com/sagemath/sagetrac-mirror/commit/9e28c88b71aa8bb2634ddd0c0a90f6a1b862adaa)**



---

archive/issue_events_350337.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:42:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350337"
}
```



---

archive/issue_events_350338.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "081df3eb4ab08342865ee50baae0640814b6a7e0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-08-05T08:42:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25194",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25194#event-350338"
}
```
