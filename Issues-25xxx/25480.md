# Issue 25480: Upgrade to cryptominisat 5.6.6 (and make it an optional package again)

archive/issues_025243.json:
```json
{
    "body": "Update cryptominisat to 5.6.6.\n\nTarball at\n\n    https://github.com/msoos/cryptominisat/archive/5.6.6.tar.gz\n\n(to be renamed cryptominisat-5.6.6.tar.gz)\n\nCompilation issues which had caused cryptominisat to be downgraded from \"optional\" to \"experimental\" in Sage are fixed in the 5.6.x releases. Note that old installations have to be removed because of interference of header files (see e.g. [issue 5](https://github.com/msoos/cryptominisat/issues/496)).\n\nCC:  tmonteil @embray @saraedum @slel\n\nKeywords: cryptominisat, upgrade\n\nBranch/Commit: d48386132cb3e2646647f14b8465f0eb4aa58543\n\nReviewer: Jeroen Demeyer, Vincent Delecroix\n\nAuthor: Vincent Delecroix, Thierry Monteil\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25480\n\n",
    "closed_at": "2019-01-23T14:18:17Z",
    "created_at": "2018-05-31T10:32:30Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Upgrade to cryptominisat 5.6.6 (and make it an optional package again)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25480",
    "user": "https://github.com/videlec"
}
```
Update cryptominisat to 5.6.6.

Tarball at

    https://github.com/msoos/cryptominisat/archive/5.6.6.tar.gz

(to be renamed cryptominisat-5.6.6.tar.gz)

Compilation issues which had caused cryptominisat to be downgraded from "optional" to "experimental" in Sage are fixed in the 5.6.x releases. Note that old installations have to be removed because of interference of header files (see e.g. [issue 5](https://github.com/msoos/cryptominisat/issues/496)).

CC:  tmonteil @embray @saraedum @slel

Keywords: cryptominisat, upgrade

Branch/Commit: d48386132cb3e2646647f14b8465f0eb4aa58543

Reviewer: Jeroen Demeyer, Vincent Delecroix

Author: Vincent Delecroix, Thierry Monteil

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25480





---

archive/issue_comments_355408.json:
```json
{
    "body": "<a id='comment:1'></a>Experimental branch (for the prerelease). I will update the branch as soon as the definitive release is out. Please test in the meantime (works for me with Python2 but did not check with Python3).\n\n---\nNew commits:",
    "created_at": "2018-05-31T10:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355408",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>Experimental branch (for the prerelease). I will update the branch as soon as the definitive release is out. Please test in the meantime (works for me with Python2 but did not check with Python3).

---
New commits:



---

archive/issue_comments_355409.json:
```json
{
    "body": "Changing keywords from \"\" to \"cryptominisat, upgrade\".",
    "created_at": "2018-05-31T10:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355409",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "cryptominisat, upgrade".



---

archive/issue_comments_355410.json:
```json
{
    "body": "<a id='comment:4'></a>Cryptominisat 5.6.3 was released, do you mind using that instead of 5.6.1?",
    "created_at": "2018-06-11T12:09:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355410",
    "user": "https://github.com/slel"
}
```

<a id='comment:4'></a>Cryptominisat 5.6.3 was released, do you mind using that instead of 5.6.1?



---

archive/issue_comments_355411.json:
```json
{
    "body": "<a id='comment:7'></a>Still not able to build crypotiminisat (archlinux and gcc 8.1.1)\n\n```\n[ 84%] Building CXX object cmsat5-src/CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o\ncd /opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/cmsat5-src && /usr/lib/ccache/bin/g++  -DBOOST_TEST_DYN_LINK -DUSE_GAUSS -DUSE_M4RI -DUSE_ZLIB -Dlibcryptominisat5_EXPORTS -I/opt\n/sage/local/include -I/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src -I/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/cmsat5-src  -mtune=native -Wall -Wextra -Wunused \n-Wsign-compare -fno-omit-frame-pointer -Wtype-limits -Wuninitialized -Wno-deprecated -Wstrict-aliasing -Wpointer-arith -Wpointer-arith -Wformat-nonliteral -Winit-self -Wparentheses -Wunreacha\nble-code -ggdb3 -Wlogical-op -Wrestrict -Wnull-dereference -Wdouble-promotion -Wshadow -Wformat=2 -Wextra-semi -pedantic -Wno-class-memaccess -fPIC   -g -pthread -O2 -mtune=native -fPIC -std=\ngnu++11 -o CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o -c /opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/src/cryptominisat.cpp\n../src/cryptominisat.cpp:1059:17: error: no declaration matches 'void CMSat::SATSolver::start_getting_small_clauses(uint32_t, uint32_t)'\n void DLL_PUBLIC SATSolver::start_getting_small_clauses(uint32_t max_len, uint32_t max_glue)\n                 ^~~~~~~~~\n../src/cryptominisat.cpp:1059:17: note: no functions named 'void CMSat::SATSolver::start_getting_small_clauses(uint32_t, uint32_t)'\nIn file included from ../src/cryptominisat.cpp:24:\n../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here\n     class SATSolver\n           ^~~~~~~~~\n../src/cryptominisat.cpp:1065:17: error: no declaration matches 'bool CMSat::SATSolver::get_next_small_clause(std::vector<CMSat::Lit>&)'\n bool DLL_PUBLIC SATSolver::get_next_small_clause(std::vector<Lit>& out)\n                 ^~~~~~~~~\n../src/cryptominisat.cpp:1065:17: note: no functions named 'bool CMSat::SATSolver::get_next_small_clause(std::vector<CMSat::Lit>&)'\nIn file included from ../src/cryptominisat.cpp:24:\n../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here\n     class SATSolver\n           ^~~~~~~~~\n../src/cryptominisat.cpp:1071:17: error: no declaration matches 'void CMSat::SATSolver::end_getting_small_clauses()'\n void DLL_PUBLIC SATSolver::end_getting_small_clauses()\n                 ^~~~~~~~~\n../src/cryptominisat.cpp:1071:17: note: no functions named 'void CMSat::SATSolver::end_getting_small_clauses()'\nIn file included from ../src/cryptominisat.cpp:24:\n../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here\n     class SATSolver\n           ^~~~~~~~~\nmake[4]: *** [cmsat5-src/CMakeFiles/libcryptominisat5.dir/build.make:596: cmsat5-src/CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o] Error 1\nmake[4]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'\nmake[3]: *** [CMakeFiles/Makefile2:198: cmsat5-src/CMakeFiles/libcryptominisat5.dir/all] Error 2\nmake[3]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'\nmake[2]: *** [Makefile:130: all] Error 2\nmake[2]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'\n********************************************************************************\nError building cryptominisat-5.6.3\n********************************************************************************\n```",
    "created_at": "2018-06-17T10:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355411",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>Still not able to build crypotiminisat (archlinux and gcc 8.1.1)

```
[ 84%] Building CXX object cmsat5-src/CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o
cd /opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/cmsat5-src && /usr/lib/ccache/bin/g++  -DBOOST_TEST_DYN_LINK -DUSE_GAUSS -DUSE_M4RI -DUSE_ZLIB -Dlibcryptominisat5_EXPORTS -I/opt
/sage/local/include -I/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src -I/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/cmsat5-src  -mtune=native -Wall -Wextra -Wunused 
-Wsign-compare -fno-omit-frame-pointer -Wtype-limits -Wuninitialized -Wno-deprecated -Wstrict-aliasing -Wpointer-arith -Wpointer-arith -Wformat-nonliteral -Winit-self -Wparentheses -Wunreacha
ble-code -ggdb3 -Wlogical-op -Wrestrict -Wnull-dereference -Wdouble-promotion -Wshadow -Wformat=2 -Wextra-semi -pedantic -Wno-class-memaccess -fPIC   -g -pthread -O2 -mtune=native -fPIC -std=
gnu++11 -o CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o -c /opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src/src/cryptominisat.cpp
../src/cryptominisat.cpp:1059:17: error: no declaration matches 'void CMSat::SATSolver::start_getting_small_clauses(uint32_t, uint32_t)'
 void DLL_PUBLIC SATSolver::start_getting_small_clauses(uint32_t max_len, uint32_t max_glue)
                 ^~~~~~~~~
../src/cryptominisat.cpp:1059:17: note: no functions named 'void CMSat::SATSolver::start_getting_small_clauses(uint32_t, uint32_t)'
In file included from ../src/cryptominisat.cpp:24:
../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here
     class SATSolver
           ^~~~~~~~~
../src/cryptominisat.cpp:1065:17: error: no declaration matches 'bool CMSat::SATSolver::get_next_small_clause(std::vector<CMSat::Lit>&)'
 bool DLL_PUBLIC SATSolver::get_next_small_clause(std::vector<Lit>& out)
                 ^~~~~~~~~
../src/cryptominisat.cpp:1065:17: note: no functions named 'bool CMSat::SATSolver::get_next_small_clause(std::vector<CMSat::Lit>&)'
In file included from ../src/cryptominisat.cpp:24:
../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here
     class SATSolver
           ^~~~~~~~~
../src/cryptominisat.cpp:1071:17: error: no declaration matches 'void CMSat::SATSolver::end_getting_small_clauses()'
 void DLL_PUBLIC SATSolver::end_getting_small_clauses()
                 ^~~~~~~~~
../src/cryptominisat.cpp:1071:17: note: no functions named 'void CMSat::SATSolver::end_getting_small_clauses()'
In file included from ../src/cryptominisat.cpp:24:
../../../../../../../include/cryptominisat5/cryptominisat.h:41:11: note: 'class CMSat::SATSolver' defined here
     class SATSolver
           ^~~~~~~~~
make[4]: *** [cmsat5-src/CMakeFiles/libcryptominisat5.dir/build.make:596: cmsat5-src/CMakeFiles/libcryptominisat5.dir/cryptominisat.cpp.o] Error 1
make[4]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'
make[3]: *** [CMakeFiles/Makefile2:198: cmsat5-src/CMakeFiles/libcryptominisat5.dir/all] Error 2
make[3]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'
make[2]: *** [Makefile:130: all] Error 2
make[2]: Leaving directory '/opt/sage/local/var/tmp/sage/build/cryptominisat-5.6.3/src'
********************************************************************************
Error building cryptominisat-5.6.3
********************************************************************************
```



---

archive/issue_comments_355412.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-17T10:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_355413.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-05T06:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_355414.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-05T06:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355414",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355415.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-05T06:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355415",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_355416.json:
```json
{
    "body": "<a id='comment:13'></a>cryptominisat links to libm4ri, so that should be a normal dependency:\n\n```\n        linux-vdso64.so.1 =>  (0x00003fff925a0000)\n        libm4ri-0.0.20140914.so => /home/jdemeyer/sage-test/local/lib/libm4ri-0.0.20140914.so (0x00003fff923f0000)\n        libstdc++.so.6 => /usr/lib/powerpc64le-linux-gnu/libstdc++.so.6 (0x00003fff921d0000)\n        libm.so.6 => /lib/powerpc64le-linux-gnu/libm.so.6 (0x00003fff920e0000)\n        libgcc_s.so.1 => /lib/powerpc64le-linux-gnu/libgcc_s.so.1 (0x00003fff920b0000)\n        libpthread.so.0 => /lib/powerpc64le-linux-gnu/libpthread.so.0 (0x00003fff92070000)\n        libc.so.6 => /lib/powerpc64le-linux-gnu/libc.so.6 (0x00003fff91ea0000)\n        libpng16.so.16 => /home/jdemeyer/sage-test/local/lib/libpng16.so.16 (0x00003fff91e20000)\n        /lib64/ld64.so.2 (0x00003fff925c0000)\n        libz.so.1 => /home/jdemeyer/sage-test/local/lib/libz.so.1 (0x00003fff91de0000)\n```",
    "created_at": "2018-07-05T09:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355416",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>cryptominisat links to libm4ri, so that should be a normal dependency:

```
        linux-vdso64.so.1 =>  (0x00003fff925a0000)
        libm4ri-0.0.20140914.so => /home/jdemeyer/sage-test/local/lib/libm4ri-0.0.20140914.so (0x00003fff923f0000)
        libstdc++.so.6 => /usr/lib/powerpc64le-linux-gnu/libstdc++.so.6 (0x00003fff921d0000)
        libm.so.6 => /lib/powerpc64le-linux-gnu/libm.so.6 (0x00003fff920e0000)
        libgcc_s.so.1 => /lib/powerpc64le-linux-gnu/libgcc_s.so.1 (0x00003fff920b0000)
        libpthread.so.0 => /lib/powerpc64le-linux-gnu/libpthread.so.0 (0x00003fff92070000)
        libc.so.6 => /lib/powerpc64le-linux-gnu/libc.so.6 (0x00003fff91ea0000)
        libpng16.so.16 => /home/jdemeyer/sage-test/local/lib/libpng16.so.16 (0x00003fff91e20000)
        /lib64/ld64.so.2 (0x00003fff925c0000)
        libz.so.1 => /home/jdemeyer/sage-test/local/lib/libz.so.1 (0x00003fff91de0000)
```



---

archive/issue_comments_355417.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-05T09:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355417",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_355418.json:
```json
{
    "body": "<a id='comment:14'></a>Same for libz and libpng.",
    "created_at": "2018-07-05T09:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355418",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>Same for libz and libpng.



---

archive/issue_comments_355419.json:
```json
{
    "body": "<a id='comment:16'></a>This seems to build only Python 3 bindings. From the logfile:\n\n```\n-- Found PythonInterp: /home/jdemeyer/sage-git/local/bin/python3 (found suitable version \"3.6.1\", minimum required is \"3\")\n-- Found PythonLibs: /home/jdemeyer/sage-git/local/lib/libpython3.6m.so (found suitable version \"3.6.1\", minimum required is \"3\")\n-- Python 3 -- PYTHON_EXECUTABLE=/home/jdemeyer/sage-git/local/bin/python3\n-- Python 3 -- PYTHON_LIBRARIES=/home/jdemeyer/sage-git/local/lib/libpython3.6m.so\n-- Python 3 -- PYTHON_INCLUDE_DIRS=/home/jdemeyer/sage-git/local/include/python3.6m\n-- Python 3 -- PYTHONLIBS_VERSION_STRING=3.6.1\n```",
    "created_at": "2018-07-05T14:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355419",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>This seems to build only Python 3 bindings. From the logfile:

```
-- Found PythonInterp: /home/jdemeyer/sage-git/local/bin/python3 (found suitable version "3.6.1", minimum required is "3")
-- Found PythonLibs: /home/jdemeyer/sage-git/local/lib/libpython3.6m.so (found suitable version "3.6.1", minimum required is "3")
-- Python 3 -- PYTHON_EXECUTABLE=/home/jdemeyer/sage-git/local/bin/python3
-- Python 3 -- PYTHON_LIBRARIES=/home/jdemeyer/sage-git/local/lib/libpython3.6m.so
-- Python 3 -- PYTHON_INCLUDE_DIRS=/home/jdemeyer/sage-git/local/include/python3.6m
-- Python 3 -- PYTHONLIBS_VERSION_STRING=3.6.1
```



---

archive/issue_comments_355420.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-05T15:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355421.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-05T16:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355421",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_355422.json:
```json
{
    "body": "<a id='comment:18'></a>It is apparently not possible to compile for both Python2 and Python3 (see [issue 498](https://github.com/msoos/cryptominisat/issues/498)). For now Python2 is forced.",
    "created_at": "2018-07-05T16:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355422",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>It is apparently not possible to compile for both Python2 and Python3 (see [issue 498](https://github.com/msoos/cryptominisat/issues/498)). For now Python2 is forced.



---

archive/issue_comments_355423.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-05T16:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355423",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_355424.json:
```json
{
    "body": "<a id='comment:19'></a>This is annoying\n\n```\n-- Found m4ri: /usr/lib/libm4ri.so  \n-- OK, Found M4RI lib at /usr/lib/libm4ri.so and includes at /usr/include\n```\nshould be using the one from Sage...",
    "created_at": "2018-07-05T16:04:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355424",
    "user": "https://github.com/videlec"
}
```

<a id='comment:19'></a>This is annoying

```
-- Found m4ri: /usr/lib/libm4ri.so  
-- OK, Found M4RI lib at /usr/lib/libm4ri.so and includes at /usr/include
```
should be using the one from Sage...



---

archive/issue_comments_355425.json:
```json
{
    "body": "<a id='comment:20'></a>Though linking looks fine\n\n```\n$ ldd /opt/sage/local/lib/libcryptominisat5.so\n...\n        libm4ri-0.0.20140914.so => /opt/sage/local/lib/libm4ri-0.0.20140914.so (0x00007f10dc270000)\n...\n```",
    "created_at": "2018-07-05T16:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355425",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>Though linking looks fine

```
$ ldd /opt/sage/local/lib/libcryptominisat5.so
...
        libm4ri-0.0.20140914.so => /opt/sage/local/lib/libm4ri-0.0.20140914.so (0x00007f10dc270000)
...
```



---

archive/issue_comments_355426.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-09T14:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355426",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_355427.json:
```json
{
    "body": "<a id='comment:22'></a>rebased on rc0. Installation should work with both python2 and python3.\n\nI was not able to properly fix the configuration to detect m4ri nicely.",
    "created_at": "2018-07-09T14:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355427",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>rebased on rc0. Installation should work with both python2 and python3.

I was not able to properly fix the configuration to detect m4ri nicely.



---

archive/issue_comments_355428.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-09T14:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355428",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_355429.json:
```json
{
    "body": "<a id='comment:23'></a>[comment:13]",
    "created_at": "2018-07-09T18:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355429",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>[comment:13]



---

archive/issue_comments_355430.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-09T18:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355430",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_355431.json:
```json
{
    "body": "<a id='comment:24'></a>Not happy with?\n\n```diff\ndiff --git a/build/pkgs/cryptominisat/dependencies b/build/pkgs/cryptominisat/dependencies\nindex df51e31274..a199426946 100644\n--- a/build/pkgs/cryptominisat/dependencies\n+++ b/build/pkgs/cryptominisat/dependencies\n@@ -1,4 +1,4 @@\n-$(PYTHON) | cmake sqlite m4ri boost_cropped\n+$(PYTHON) | cmake sqlite m4ri boost_cropped zlib libpng\n```",
    "created_at": "2018-07-10T07:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355431",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>Not happy with?

```diff
diff --git a/build/pkgs/cryptominisat/dependencies b/build/pkgs/cryptominisat/dependencies
index df51e31274..a199426946 100644
--- a/build/pkgs/cryptominisat/dependencies
+++ b/build/pkgs/cryptominisat/dependencies
@@ -1,4 +1,4 @@
-$(PYTHON) | cmake sqlite m4ri boost_cropped
+$(PYTHON) | cmake sqlite m4ri boost_cropped zlib libpng
```



---

archive/issue_comments_355432.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2018-07-10T07:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355432",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_355433.json:
```json
{
    "body": "<a id='comment:25'></a>I meant **normal dependencies** meaning before the `|` symbol.",
    "created_at": "2018-07-10T07:32:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355433",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>I meant **normal dependencies** meaning before the `|` symbol.



---

archive/issue_comments_355434.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-10T19:57:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355434",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355435.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2018-07-10T19:59:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355435",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_355436.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-11T11:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355436",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_355437.json:
```json
{
    "body": "<a id='comment:28'></a>*sigh* It seems shortly after [my fix to DESTDIR support](https://github.com/msoos/cryptominisat/commit/697e4c446c58219b0075f2956a4a71df87447e69) they broke it again with https://github.com/msoos/cryptominisat/commit/63a629f5e363a467abff1fa29becf42fe55b79f9 and https://github.com/msoos/cryptominisat/commit/b3cd73f369d4ea14f12824f0f3c4a06a9aa0e1b1 by not understanding the difference between \"root\", \"prefix\", and \"DESTDIR\".  I will raise this issue once again upstream, but in the meantime, unless we want to wait for another upstream release, this will have to be patched again...",
    "created_at": "2018-07-11T11:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355437",
    "user": "https://github.com/embray"
}
```

<a id='comment:28'></a>*sigh* It seems shortly after [my fix to DESTDIR support](https://github.com/msoos/cryptominisat/commit/697e4c446c58219b0075f2956a4a71df87447e69) they broke it again with https://github.com/msoos/cryptominisat/commit/63a629f5e363a467abff1fa29becf42fe55b79f9 and https://github.com/msoos/cryptominisat/commit/b3cd73f369d4ea14f12824f0f3c4a06a9aa0e1b1 by not understanding the difference between "root", "prefix", and "DESTDIR".  I will raise this issue once again upstream, but in the meantime, unless we want to wait for another upstream release, this will have to be patched again...



---

archive/issue_comments_355438.json:
```json
{
    "body": "<a id='comment:29'></a>Upstream PR if you want to make a patch from it: https://github.com/msoos/cryptominisat/pull/499",
    "created_at": "2018-07-11T11:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355438",
    "user": "https://github.com/embray"
}
```

<a id='comment:29'></a>Upstream PR if you want to make a patch from it: https://github.com/msoos/cryptominisat/pull/499



---

archive/issue_comments_355439.json:
```json
{
    "body": "<a id='comment:30'></a>Other than that issue, LGTM.",
    "created_at": "2018-07-11T11:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355439",
    "user": "https://github.com/embray"
}
```

<a id='comment:30'></a>Other than that issue, LGTM.



---

archive/issue_events_063917.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-08-05T16:09:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25480#event-63917"
}
```



---

archive/issue_comments_355440.json:
```json
{
    "body": "<a id='comment:31'></a>Cryptominisat 5.6.4 was released. Would be nice to get this in Sage 8.4.",
    "created_at": "2018-08-05T16:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355440",
    "user": "https://github.com/slel"
}
```

<a id='comment:31'></a>Cryptominisat 5.6.4 was released. Would be nice to get this in Sage 8.4.



---

archive/issue_comments_355441.json:
```json
{
    "body": "<a id='comment:32'></a>CryptoMiniSat 5.6.5 is out and contains Erik's fix, let's see how it works.",
    "created_at": "2018-09-11T08:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355441",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:32'></a>CryptoMiniSat 5.6.5 is out and contains Erik's fix, let's see how it works.



---

archive/issue_comments_355442.json:
```json
{
    "body": "Attachment [cryptominisat-5.6.5.log](tarball://root/attachments/some-uuid/ticket25480/cryptominisat-5.6.5.log) by tmonteil created at 2018-09-11 08:20:36",
    "created_at": "2018-09-11T08:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355442",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Attachment [cryptominisat-5.6.5.log](tarball://root/attachments/some-uuid/ticket25480/cryptominisat-5.6.5.log) by tmonteil created at 2018-09-11 08:20:36



---

archive/issue_comments_355443.json:
```json
{
    "body": "<a id='comment:34'></a>Not happy (see log).\n\n---\nNew commits:",
    "created_at": "2018-09-11T08:21:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355443",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:34'></a>Not happy (see log).

---
New commits:



---

archive/issue_comments_355444.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-21T17:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_355445.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-12-21T17:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355445",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_355446.json:
```json
{
    "body": "<a id='comment:36'></a>Seems to work well with 5.6.6 ! The only problem i found is when the `help2man` command from the `autotools` experimental package is available.",
    "created_at": "2018-12-21T17:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355446",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:36'></a>Seems to work well with 5.6.6 ! The only problem i found is when the `help2man` command from the `autotools` experimental package is available.



---

archive/issue_comments_355447.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-04T20:15:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355447",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_063918.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2019-01-04T20:17:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25480#event-63918"
}
```



---

archive/issue_events_063919.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2019-01-04T20:17:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25480#event-63919"
}
```



---

archive/issue_comments_355448.json:
```json
{
    "body": "<a id='comment:38'></a>I updated a doctest coming from #26676 (which has been merged). Still needs review.",
    "created_at": "2019-01-04T20:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355448",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:38'></a>I updated a doctest coming from #26676 (which has been merged). Still needs review.



---

archive/issue_comments_355449.json:
```json
{
    "body": "<a id='comment:39'></a>builds fine and tests pass for me.",
    "created_at": "2019-01-05T08:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355449",
    "user": "https://github.com/videlec"
}
```

<a id='comment:39'></a>builds fine and tests pass for me.



---

archive/issue_events_063920.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-05T08:30:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25480#event-63920"
}
```



---

archive/issue_events_063921.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-01-05T08:30:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25480#event-63921"
}
```



---

archive/issue_comments_355450.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-05T08:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355450",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_063922.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-23T14:18:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25480#event-63922"
}
```



---

archive/issue_comments_355451.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-23T14:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25480#issuecomment-355451",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
