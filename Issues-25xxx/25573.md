# Issue 25573: pyflakes cleanup in number fields

archive/issues_025336.json:
```json
{
    "body": "\n\nCC:  @jdemeyer @tscrim @kiwifb @embray wstein\n\nBranch/Commit: dc00f686f9128afeafd6f166763c85363a9e4d56\n\nReviewer: Jeroen Demeyer\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25573\n\n",
    "closed_at": "2018-07-08T13:05:15Z",
    "created_at": "2018-06-13T20:04:10Z",
    "labels": [
        "component: number fields"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "pyflakes cleanup in number fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25573",
    "user": "https://github.com/fchapoton"
}
```


CC:  @jdemeyer @tscrim @kiwifb @embray wstein

Branch/Commit: dc00f686f9128afeafd6f166763c85363a9e4d56

Reviewer: Jeroen Demeyer

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25573





---

archive/issue_comments_483720.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2018-06-13T20:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483720",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_483721.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[10032e7](https://github.com/sagemath/sagetrac-mirror/commit/10032e72b5ae963458edc93ba65d3aa3d668e135)|`pyflakes cleanup in number fields`|",
    "created_at": "2018-06-13T20:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483721",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[10032e7](https://github.com/sagemath/sagetrac-mirror/commit/10032e72b5ae963458edc93ba65d3aa3d668e135)|`pyflakes cleanup in number fields`|



---

archive/issue_comments_483722.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/25573\"",
    "created_at": "2018-06-13T20:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483722",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/25573"



---

archive/issue_comments_483723.json:
```json
{
    "body": "Changing commit from \"\" to \"10032e72b5ae963458edc93ba65d3aa3d668e135\"",
    "created_at": "2018-06-13T20:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483723",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "10032e72b5ae963458edc93ba65d3aa3d668e135"



---

archive/issue_comments_483724.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-13T20:04:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483724",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_483725.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+some failing doctests\n``````\n",
    "created_at": "2018-06-14T05:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483725",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+some failing doctests
``````




---

archive/issue_comments_483726.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-06-14T05:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483726",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_483727.json:
```json
{
    "body": "Changing commit from \"10032e72b5ae963458edc93ba65d3aa3d668e135\" to \"62e7ce3b1e039f8ab3c3f3923106d3dbb7c2ea95\"",
    "created_at": "2018-06-14T07:11:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483727",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "10032e72b5ae963458edc93ba65d3aa3d668e135" to "62e7ce3b1e039f8ab3c3f3923106d3dbb7c2ea95"



---

archive/issue_comments_483728.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[62e7ce3](https://github.com/sagemath/sagetrac-mirror/commit/62e7ce3b1e039f8ab3c3f3923106d3dbb7c2ea95)|`trac 25573 fixing a mistake, and code clarification`|",
    "created_at": "2018-06-14T07:11:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483728",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[62e7ce3](https://github.com/sagemath/sagetrac-mirror/commit/62e7ce3b1e039f8ab3c3f3923106d3dbb7c2ea95)|`trac 25573 fixing a mistake, and code clarification`|



---

archive/issue_comments_483729.json:
```json
{
    "body": "Changing commit from \"62e7ce3b1e039f8ab3c3f3923106d3dbb7c2ea95\" to \"5b7c041540c751c6be8ed2bb0b69b0612722f976\"",
    "created_at": "2018-06-14T18:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483729",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "62e7ce3b1e039f8ab3c3f3923106d3dbb7c2ea95" to "5b7c041540c751c6be8ed2bb0b69b0612722f976"



---

archive/issue_comments_483730.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[5b7c041](https://github.com/sagemath/sagetrac-mirror/commit/5b7c041540c751c6be8ed2bb0b69b0612722f976)|`fixing doctest`|",
    "created_at": "2018-06-14T18:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[5b7c041](https://github.com/sagemath/sagetrac-mirror/commit/5b7c041540c751c6be8ed2bb0b69b0612722f976)|`fixing doctest`|



---

archive/issue_comments_483731.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-06-15T06:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483731",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_483732.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-some failing doctests\n+\n``````\n",
    "created_at": "2018-06-15T06:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483732",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-some failing doctests
+
``````




---

archive/issue_comments_483733.json:
```json
{
    "body": "<a id='comment:7'></a>\nbots are morally green, please review",
    "created_at": "2018-06-20T12:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483733",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
bots are morally green, please review



---

archive/issue_comments_483734.json:
```json
{
    "body": "<a id='comment:8'></a>\nWhat about:\n\n```\n========== pyflakes ==========\n\n--- 8.3.beta6\n\n+++ 8.3.beta6 + #25573\n\n\n-found 0 pyflakes errors in the modified files\n+src/sage/rings/number_field/order.py:2053: local variable 'c' is assigned to but never used\n+found 1 pyflakes errors in the modified files\n+Traceback (most recent call last):\n+  File \"/home/chapoton/sage-patchbot/sage_patchbot/patchbot.py\", line 1118, in test_a_ticket\n+    baseline=baseline, **kwds)\n+  File \"/home/chapoton/sage-patchbot/sage_patchbot/plugins.py\", line 269, in pyflakes\n+    raise ValueError(full_msg)\n+ValueError: found 1 pyflakes errors in the modified files\n```\n\n?",
    "created_at": "2018-06-20T12:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483734",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>
What about:

```
========== pyflakes ==========

--- 8.3.beta6

+++ 8.3.beta6 + #25573


-found 0 pyflakes errors in the modified files
+src/sage/rings/number_field/order.py:2053: local variable 'c' is assigned to but never used
+found 1 pyflakes errors in the modified files
+Traceback (most recent call last):
+  File "/home/chapoton/sage-patchbot/sage_patchbot/patchbot.py", line 1118, in test_a_ticket
+    baseline=baseline, **kwds)
+  File "/home/chapoton/sage-patchbot/sage_patchbot/plugins.py", line 269, in pyflakes
+    raise ValueError(full_msg)
+ValueError: found 1 pyflakes errors in the modified files
```

?



---

archive/issue_comments_483735.json:
```json
{
    "body": "<a id='comment:9'></a>\nwell, this one needs more brain time, so I kept it for future handling.. No idea if one can safely remove `c =` or even safely remove the whole line..",
    "created_at": "2018-06-20T12:40:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483735",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
well, this one needs more brain time, so I kept it for future handling.. No idea if one can safely remove `c =` or even safely remove the whole line..



---

archive/issue_comments_483736.json:
```json
{
    "body": "<a id='comment:10'></a>\nAFAICT that entire line can be removed.  It's not used, and it doesn't appear to have any side-effects.",
    "created_at": "2018-06-20T12:53:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483736",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>
AFAICT that entire line can be removed.  It's not used, and it doesn't appear to have any side-effects.



---

archive/issue_comments_483737.json:
```json
{
    "body": "<a id='comment:11'></a>\nBut then there is an entire code paragraph that looks completely useless, as neither z nor alpha is used anywhere else.",
    "created_at": "2018-06-20T12:57:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483737",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
But then there is an entire code paragraph that looks completely useless, as neither z nor alpha is used anywhere else.



---

archive/issue_comments_483738.json:
```json
{
    "body": "<a id='comment:12'></a>\nPerhaps the person who wrote that code (albeit way back in 2007) should chime in.  It does appear to be incomplete.  You get the same result if you pass `allow_subfield=False, check_rank=False`.",
    "created_at": "2018-06-20T13:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483738",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>
Perhaps the person who wrote that code (albeit way back in 2007) should chime in.  It does appear to be incomplete.  You get the same result if you pass `allow_subfield=False, check_rank=False`.



---

archive/issue_comments_483739.json:
```json
{
    "body": "<a id='comment:13'></a>\nWell... I would rather move on by putting this aside, but let us wait and see if any answer comes back.",
    "created_at": "2018-06-20T13:53:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483739",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
Well... I would rather move on by putting this aside, but let us wait and see if any answer comes back.



---

archive/issue_comments_483740.json:
```json
{
    "body": "<a id='comment:14'></a>\nI think we should now move on. The remaining issue can be handled later.",
    "created_at": "2018-06-23T07:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483740",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
I think we should now move on. The remaining issue can be handled later.



---

archive/issue_comments_483741.json:
```json
{
    "body": "<a id='comment:15'></a>\nIsn't this pointing out a \"bug\" in `coprime_integers`?\n\n```\n        if n == 1:\n            X = [0]\n        else:\n            X = n.coprime_integers(n)\n```\nI wonder whether it would be more useful to return `[0]` in `1.coprime_integers(1)`...",
    "created_at": "2018-06-25T08:32:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483741",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Isn't this pointing out a "bug" in `coprime_integers`?

```
        if n == 1:
            X = [0]
        else:
            X = n.coprime_integers(n)
```
I wonder whether it would be more useful to return `[0]` in `1.coprime_integers(1)`...



---

archive/issue_comments_483742.json:
```json
{
    "body": "<a id='comment:16'></a>\nI opened #25657 for the `coprime_integers` issue. Maybe it's better to revert that change on this ticket?",
    "created_at": "2018-06-25T08:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483742",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
I opened #25657 for the `coprime_integers` issue. Maybe it's better to revert that change on this ticket?



---

archive/issue_comments_483743.json:
```json
{
    "body": "<a id='comment:17'></a>\nI think the ticket here could just go as it is.",
    "created_at": "2018-06-27T05:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483743",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
I think the ticket here could just go as it is.



---

archive/issue_comments_483744.json:
```json
{
    "body": "Changing branch from \"u/chapoton/25573\" to \"u/jdemeyer/25573\"",
    "created_at": "2018-07-01T06:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483744",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "u/chapoton/25573" to "u/jdemeyer/25573"



---

archive/issue_comments_483745.json:
```json
{
    "body": "<a id='comment:19'></a>\nI removed the `coprime_integers` change, we can discuss that at #25657. The rest gets positive review.\n\n---\nNew commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[dc00f68](https://github.com/sagemath/sagetrac-mirror/commit/dc00f686f9128afeafd6f166763c85363a9e4d56)|`pyflakes cleanup in number fields`|",
    "created_at": "2018-07-01T06:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483745",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
I removed the `coprime_integers` change, we can discuss that at #25657. The rest gets positive review.

---
New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[dc00f68](https://github.com/sagemath/sagetrac-mirror/commit/dc00f686f9128afeafd6f166763c85363a9e4d56)|`pyflakes cleanup in number fields`|



---

archive/issue_comments_483746.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-01T06:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483746",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_483747.json:
```json
{
    "body": "Changing commit from \"5b7c041540c751c6be8ed2bb0b69b0612722f976\" to \"dc00f686f9128afeafd6f166763c85363a9e4d56\"",
    "created_at": "2018-07-01T06:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483747",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "5b7c041540c751c6be8ed2bb0b69b0612722f976" to "dc00f686f9128afeafd6f166763c85363a9e4d56"



---

archive/issue_comments_483748.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2018-07-01T06:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483748",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_483749.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-07-08T13:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483749",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_483750.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/25573\" to \"dc00f686f9128afeafd6f166763c85363a9e4d56\"",
    "created_at": "2018-07-08T13:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25573#issuecomment-483750",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/25573" to "dc00f686f9128afeafd6f166763c85363a9e4d56"



---

archive/issue_events_080724.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-08T13:05:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25573",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25573#event-80724"
}
```
