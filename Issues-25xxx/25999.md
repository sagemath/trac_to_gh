# Issue 25999: Compile errors due to struct

archive/issues_025762.json:
```json
{
    "assignees": [],
    "body": "On conda we are seeing compile errors like the following:\n\n```\nbuild/cythonized/sage/libs/eclib/wrap.cpp:136:36: error: using typedef-name \u2018bigint\u2019 after \u2018struct\u2019\n                       const struct bigint* x, const struct bigint* y,\n```\n\nRemoving the `struct` fixes the problem. I am not an expert when it comes to C++ but since bigint is already typedef, I don't think the struct should be there, see https://stackoverflow.com/questions/612328/difference-between-struct-and-typedef-struct-in-c for the meaning of the struct keyword.\n\nCC:  @embray @jdemeyer\n\nKeywords: **conda, eclib, gcc**\n\nBranch/Commit: **[`6a31f1e`](https://github.com/sagemath/sagetrac-mirror/commit/6a31f1e08ff711ecbf2da41d12280004a4184d2b)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Julian R\u00fcth**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25999_\n\n",
    "closed_at": "2018-08-09T21:27:39Z",
    "created_at": "2018-08-04T15:13:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Compile errors due to struct",
    "type": "issue",
    "updated_at": "2018-08-09T21:27:39Z",
    "url": "https://github.com/sagemath/sage/issues/25999",
    "user": "https://github.com/saraedum"
}
```
On conda we are seeing compile errors like the following:

```
build/cythonized/sage/libs/eclib/wrap.cpp:136:36: error: using typedef-name ‘bigint’ after ‘struct’
                       const struct bigint* x, const struct bigint* y,
```

Removing the `struct` fixes the problem. I am not an expert when it comes to C++ but since bigint is already typedef, I don't think the struct should be there, see https://stackoverflow.com/questions/612328/difference-between-struct-and-typedef-struct-in-c for the meaning of the struct keyword.

CC:  @embray @jdemeyer

Keywords: **conda, eclib, gcc**

Branch/Commit: **[`6a31f1e`](https://github.com/sagemath/sagetrac-mirror/commit/6a31f1e08ff711ecbf2da41d12280004a4184d2b)**

Reviewer: **Jeroen Demeyer**

Author: **Julian Rüth**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/25999_





---

archive/issue_events_359166.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-04T15:13:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359166"
}
```



---

archive/issue_events_359167.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-04T15:13:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359167"
}
```



---

archive/issue_events_359168.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-04T15:13:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359168"
}
```



---

archive/issue_events_359169.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-04T15:13:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359169"
}
```



---

archive/issue_comments_400517.json:
```json
{
    "body": "Branch: **[u/saraedum/25999](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/25999)**",
    "created_at": "2018-08-04T15:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400517",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/25999](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/25999)**



---

archive/issue_comments_400518.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nCCing the usual suspects\u2026\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a31f1e08ff711ecbf2da41d12280004a4184d2b\">6a31f1e</a></td><td><code>Drop struct keyword</code></td></tr></table>\n",
    "created_at": "2018-08-04T15:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400518",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:2" align="right">comment:2</div>

CCing the usual suspects…

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a31f1e08ff711ecbf2da41d12280004a4184d2b">6a31f1e</a></td><td><code>Drop struct keyword</code></td></tr></table>




---

archive/issue_comments_400519.json:
```json
{
    "body": "Commit: **[`6a31f1e`](https://github.com/sagemath/sagetrac-mirror/commit/6a31f1e08ff711ecbf2da41d12280004a4184d2b)**",
    "created_at": "2018-08-04T15:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400519",
    "user": "https://github.com/saraedum"
}
```

Commit: **[`6a31f1e`](https://github.com/sagemath/sagetrac-mirror/commit/6a31f1e08ff711ecbf2da41d12280004a4184d2b)**



---

archive/issue_comments_400520.json:
```json
{
    "body": "Work Issues: **is the patchbot happy?**",
    "created_at": "2018-08-04T15:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400520",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **is the patchbot happy?**



---

archive/issue_events_359170.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-04T15:15:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359170"
}
```



---

archive/issue_comments_400521.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nPositive review if the patchbot passes.",
    "created_at": "2018-08-04T17:24:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400521",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Positive review if the patchbot passes.



---

archive/issue_comments_400522.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2018-08-04T17:24:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400522",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_400523.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIndeed, I'm surprised that worked at all.  Perhaps on other compilers there were just warnings that we were ignoring.\n\nI've long wanted to take stock of some of our compilation warnings and see if there's anything worth doing about any of them, but it's been pretty low on the list.",
    "created_at": "2018-08-06T14:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400523",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">comment:5</div>

Indeed, I'm surprised that worked at all.  Perhaps on other compilers there were just warnings that we were ignoring.

I've long wanted to take stock of some of our compilation warnings and see if there's anything worth doing about any of them, but it's been pretty low on the list.



---

archive/issue_comments_400524.json:
```json
{
    "body": "Changed work issues from **is the patchbot happy?** to none",
    "created_at": "2018-08-06T14:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400524",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **is the patchbot happy?** to none



---

archive/issue_events_359171.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-06T14:56:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359171"
}
```



---

archive/issue_events_359172.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-06T14:56:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359172"
}
```



---

archive/issue_comments_400525.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@embray](#comment:5):\n> I've long wanted to take stock of some of our compilation warnings and see if there's anything worth doing about any of them, but it's been pretty low on the list.\n\nMe too. Sometimes, when I work on a particular file, I fix some warnings.",
    "created_at": "2018-08-06T14:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400525",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@embray](#comment:5):
> I've long wanted to take stock of some of our compilation warnings and see if there's anything worth doing about any of them, but it's been pretty low on the list.

Me too. Sometimes, when I work on a particular file, I fix some warnings.



---

archive/issue_comments_400526.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nCuriously on previous conda builds, the error already happened but somehow the compiler still produced an output (or at least a zero exit code.)",
    "created_at": "2018-08-06T15:40:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400526",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:8" align="right">comment:8</div>

Curiously on previous conda builds, the error already happened but somehow the compiler still produced an output (or at least a zero exit code.)



---

archive/issue_events_359173.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-09T21:27:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359173"
}
```



---

archive/issue_events_359174.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0e78774b033439140939a638f51132cab3d3bef4",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-08-09T21:27:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25999#event-359174"
}
```



---

archive/issue_comments_400527.json:
```json
{
    "body": "Changed branch from **[u/saraedum/25999](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/25999)** to **[`6a31f1e`](https://github.com/sagemath/sagetrac-mirror/commit/6a31f1e08ff711ecbf2da41d12280004a4184d2b)**",
    "created_at": "2018-08-09T21:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25999#issuecomment-400527",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/saraedum/25999](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/25999)** to **[`6a31f1e`](https://github.com/sagemath/sagetrac-mirror/commit/6a31f1e08ff711ecbf2da41d12280004a4184d2b)**
