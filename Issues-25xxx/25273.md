# Issue 25273: Unprefixed libGAP interface

archive/issues_025036.json:
```json
{
    "body": "Use Cython cname declarations to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.\n\nObvious exceptions:\n\n- `libGAP_True`\n- `libGAP_False`\n\nCC:  @slel\n\nBranch: [u/dimpase/unprefixed_libgap_interface](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/unprefixed_libgap_interface)\n\nCommit: [48e4f7b9ec98c13acf6345689bea442b30ac316f](https://github.com/sagemath/sagetrac-mirror/commit/48e4f7b9ec98c13acf6345689bea442b30ac316f)\n\nAuthor: Jeroen Demeyer\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/25273\n\n",
    "closed_at": "2019-01-11T14:30:05Z",
    "created_at": "2018-05-01T09:43:19Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Unprefixed libGAP interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25273",
    "user": "https://github.com/jdemeyer"
}
```
Use Cython cname declarations to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.

Obvious exceptions:

- `libGAP_True`
- `libGAP_False`

CC:  @slel

Branch: [u/dimpase/unprefixed_libgap_interface](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/unprefixed_libgap_interface)

Commit: [48e4f7b9ec98c13acf6345689bea442b30ac316f](https://github.com/sagemath/sagetrac-mirror/commit/48e4f7b9ec98c13acf6345689bea442b30ac316f)

Author: Jeroen Demeyer

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/25273





---

archive/issue_comments_484656.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Use some Cython/C macro magic to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.\n``````\n",
    "created_at": "2018-05-01T09:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484656",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Use some Cython/C macro magic to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.
``````




---

archive/issue_comments_484657.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n-Use some Cython/C macro magic to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.\n+Use Cython cname declarations to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.\n+\n+Obvious exceptions:\n+\n+- ``libGAP_True``\n+- ``libGAP_False``\n``````\n",
    "created_at": "2018-05-01T09:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484657",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
-Use some Cython/C macro magic to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.
+Use Cython cname declarations to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.
+
+Obvious exceptions:
+
+- ``libGAP_True``
+- ``libGAP_False``
``````




---

archive/issue_comments_484658.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#25274\"",
    "created_at": "2018-05-01T09:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484658",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#25274"



---

archive/issue_comments_484659.json:
```json
{
    "body": "Changing dependencies from \"#25274\" to \"\"",
    "created_at": "2018-05-01T09:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484659",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "#25274" to ""



---

archive/issue_comments_484660.json:
```json
{
    "body": "<a id='comment:4'></a>\nDoes this mean that `libgap.Blah` syntax won't be needed, too?",
    "created_at": "2018-05-01T09:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484660",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
Does this mean that `libgap.Blah` syntax won't be needed, too?



---

archive/issue_comments_484661.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#25274\"",
    "created_at": "2018-05-01T09:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484661",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "" to "#25274"



---

archive/issue_comments_484662.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/unprefixed_libgap_interface\"",
    "created_at": "2018-05-01T11:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484662",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/unprefixed_libgap_interface"



---

archive/issue_comments_484663.json:
```json
{
    "body": "<a id='comment:7'></a>\nNew commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[b8c3c12](https://github.com/sagemath/sagetrac-mirror/commit/b8c3c12a65c71f4612577f8bd7c29d0825bfe18a)|`Clean up cimports in libgap`|\n|[ea2e39c](https://github.com/sagemath/sagetrac-mirror/commit/ea2e39c7374b03b97366f264c89a0f4c75a7c172)|`Unprefixed libGAP interface`|",
    "created_at": "2018-05-01T11:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484663",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[b8c3c12](https://github.com/sagemath/sagetrac-mirror/commit/b8c3c12a65c71f4612577f8bd7c29d0825bfe18a)|`Clean up cimports in libgap`|
|[ea2e39c](https://github.com/sagemath/sagetrac-mirror/commit/ea2e39c7374b03b97366f264c89a0f4c75a7c172)|`Unprefixed libGAP interface`|



---

archive/issue_comments_484664.json:
```json
{
    "body": "Changing commit from \"\" to \"ea2e39c7374b03b97366f264c89a0f4c75a7c172\"",
    "created_at": "2018-05-01T11:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484664",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "ea2e39c7374b03b97366f264c89a0f4c75a7c172"



---

archive/issue_comments_484665.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-01T11:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484665",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_484666.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,3 @@\n Use Cython cname declarations to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.\n \n-Obvious exceptions:\n-\n-- ``libGAP_True``\n-- ``libGAP_False``\n+Obvious exceptions are `libGAP_True` and `libGAP_False`. We don't want to write `True` and `False` there.\n``````\n",
    "created_at": "2018-05-01T11:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484666",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,3 @@
 Use Cython cname declarations to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.
 
-Obvious exceptions:
-
-- ``libGAP_True``
-- ``libGAP_False``
+Obvious exceptions are `libGAP_True` and `libGAP_False`. We don't want to write `True` and `False` there.
``````




---

archive/issue_comments_484667.json:
```json
{
    "body": "<a id='comment:9'></a>\nIn libgap.pyx you have\n\n```\nThe ``foobar`` methods are\nthe original GAP methods simply prefixed with the string\n````.\n```\nwhich looks like an artefact of non-interactive editing...\n\nI presume there is no prefix any more.",
    "created_at": "2018-05-01T11:21:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484667",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
In libgap.pyx you have

```
The ``foobar`` methods are
the original GAP methods simply prefixed with the string
````.
```
which looks like an artefact of non-interactive editing...

I presume there is no prefix any more.



---

archive/issue_comments_484668.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n Use Cython cname declarations to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.\n \n-Obvious exceptions are `libGAP_True` and `libGAP_False`. We don't want to write `True` and `False` there.\n+Obvious exceptions:\n+\n+- ``libGAP_True``\n+- ``libGAP_False``\n``````\n",
    "created_at": "2018-05-01T11:21:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484668",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 Use Cython cname declarations to use unprefixed libGAP names in Sage. The libGAP package is not changed at all, only the Sage interface.
 
-Obvious exceptions are `libGAP_True` and `libGAP_False`. We don't want to write `True` and `False` there.
+Obvious exceptions:
+
+- ``libGAP_True``
+- ``libGAP_False``
``````




---

archive/issue_comments_484669.json:
```json
{
    "body": "Changing commit from \"ea2e39c7374b03b97366f264c89a0f4c75a7c172\" to \"72b5066bb6b1606bef5d7e88c1a8d5fab62b5192\"",
    "created_at": "2018-05-01T11:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ea2e39c7374b03b97366f264c89a0f4c75a7c172" to "72b5066bb6b1606bef5d7e88c1a8d5fab62b5192"



---

archive/issue_comments_484670.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[72b5066](https://github.com/sagemath/sagetrac-mirror/commit/72b5066bb6b1606bef5d7e88c1a8d5fab62b5192)|`Unprefixed libGAP interface`|",
    "created_at": "2018-05-01T11:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484670",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[72b5066](https://github.com/sagemath/sagetrac-mirror/commit/72b5066bb6b1606bef5d7e88c1a8d5fab62b5192)|`Unprefixed libGAP interface`|



---

archive/issue_comments_484671.json:
```json
{
    "body": "Changing commit from \"72b5066bb6b1606bef5d7e88c1a8d5fab62b5192\" to \"d28b5757ad45cd54ae70adf25c72fcefef8b1a01\"",
    "created_at": "2018-05-01T11:38:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484671",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "72b5066bb6b1606bef5d7e88c1a8d5fab62b5192" to "d28b5757ad45cd54ae70adf25c72fcefef8b1a01"



---

archive/issue_comments_484672.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[d28b575](https://github.com/sagemath/sagetrac-mirror/commit/d28b5757ad45cd54ae70adf25c72fcefef8b1a01)|`Unprefixed libGAP interface`|",
    "created_at": "2018-05-01T11:38:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484672",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[d28b575](https://github.com/sagemath/sagetrac-mirror/commit/d28b5757ad45cd54ae70adf25c72fcefef8b1a01)|`Unprefixed libGAP interface`|



---

archive/issue_comments_484673.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe only `libGAP_` things left are `libGAP_True/False`. There are also `libgap_`-things, but this is another story. The docs about `libGAP_` ought to be more explicit about this.",
    "created_at": "2018-05-01T11:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484673",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
The only `libGAP_` things left are `libGAP_True/False`. There are also `libgap_`-things, but this is another story. The docs about `libGAP_` ought to be more explicit about this.



---

archive/issue_comments_484674.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,5 @@\n \n Obvious exceptions:\n \n-- ``libGAP_True``\n-- ``libGAP_False``\n+- `libGAP_True`\n+- `libGAP_False`\n``````\n",
    "created_at": "2018-05-02T03:55:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484674",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,5 @@
 
 Obvious exceptions:
 
-- ``libGAP_True``
-- ``libGAP_False``
+- `libGAP_True`
+- `libGAP_False`
``````




---

archive/issue_events_072058.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-05-02T07:33:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25273#event-72058"
}
```



---

archive/issue_comments_484675.json:
```json
{
    "body": "<a id='comment:14'></a>\nI'm not sure anymore that we should do this because it's not at all clear what upstream GAP is going to do. Now that merging libGAP upstream looks further away, they might be convinced to change (some of) these names.",
    "created_at": "2018-05-02T07:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484675",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
I'm not sure anymore that we should do this because it's not at all clear what upstream GAP is going to do. Now that merging libGAP upstream looks further away, they might be convinced to change (some of) these names.



---

archive/issue_comments_484676.json:
```json
{
    "body": "<a id='comment:15'></a>\nBut it's just two names that need special treatment - I don't see why you want to postpone this.\n\nAs well, I think that if one tells GAP people that a couple of macros need to be renamed to be able to inter-operate with Python etc, they would be happy with such a change.",
    "created_at": "2018-05-02T10:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484676",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
But it's just two names that need special treatment - I don't see why you want to postpone this.

As well, I think that if one tells GAP people that a couple of macros need to be renamed to be able to inter-operate with Python etc, they would be happy with such a change.



---

archive/issue_comments_484677.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/unprefixed_libgap_interface\" to \"u/dimpase/unprefixed_libgap_interface\"",
    "created_at": "2018-09-18T09:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484677",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/jdemeyer/unprefixed_libgap_interface" to "u/dimpase/unprefixed_libgap_interface"



---

archive/issue_comments_484678.json:
```json
{
    "body": "Changing commit from \"d28b5757ad45cd54ae70adf25c72fcefef8b1a01\" to \"48e4f7b9ec98c13acf6345689bea442b30ac316f\"",
    "created_at": "2018-09-18T09:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484678",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "d28b5757ad45cd54ae70adf25c72fcefef8b1a01" to "48e4f7b9ec98c13acf6345689bea442b30ac316f"



---

archive/issue_comments_484679.json:
```json
{
    "body": "<a id='comment:16'></a>\nrebased over the latest beta, fixed bug. We could perhaps finish and merge this, as an intermediate step towards #22626.\n\n---\nNew commits:\n|                                                                                                                                          |                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[f9bdacd](https://github.com/sagemath/sagetrac-mirror/commit/f9bdacd7b419be4fa7d7eb5389af9991c226a851)|`rebased over 8.4.b4`|\n|[12cc10c](https://github.com/sagemath/sagetrac-mirror/commit/12cc10c05e6e4c8eda12e7b4ca01d03e0f68b3a2)|`Merge branch 'develop' of trac.sagemath.org:sage into HEAD`|\n|[48e4f7b](https://github.com/sagemath/sagetrac-mirror/commit/48e4f7b9ec98c13acf6345689bea442b30ac316f)|`correcting a typo (?)`|",
    "created_at": "2018-09-18T09:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484679",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>
rebased over the latest beta, fixed bug. We could perhaps finish and merge this, as an intermediate step towards #22626.

---
New commits:
|                                                                                                                                          |                     |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[f9bdacd](https://github.com/sagemath/sagetrac-mirror/commit/f9bdacd7b419be4fa7d7eb5389af9991c226a851)|`rebased over 8.4.b4`|
|[12cc10c](https://github.com/sagemath/sagetrac-mirror/commit/12cc10c05e6e4c8eda12e7b4ca01d03e0f68b3a2)|`Merge branch 'develop' of trac.sagemath.org:sage into HEAD`|
|[48e4f7b](https://github.com/sagemath/sagetrac-mirror/commit/48e4f7b9ec98c13acf6345689bea442b30ac316f)|`correcting a typo (?)`|



---

archive/issue_comments_484680.json:
```json
{
    "body": "Changing dependencies from \"#25274\" to \"\"",
    "created_at": "2018-09-18T09:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484680",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "#25274" to ""



---

archive/issue_comments_484681.json:
```json
{
    "body": "<a id='comment:17'></a>\nIs it clear what upstream's policy on the naming and prefixing is? See #22626#comment:66",
    "created_at": "2018-09-18T09:41:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484681",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Is it clear what upstream's policy on the naming and prefixing is? See #22626#comment:66



---

archive/issue_comments_484682.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2018-09-18T09:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484682",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_484683.json:
```json
{
    "body": "<a id='comment:19'></a>\nWell, GAP people are reluctant to change names; in particular T_NUM is merely a C enum, and we don't even need to use it (certainly not with the new, since GAP 4.9, functions).",
    "created_at": "2018-09-18T12:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484683",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>
Well, GAP people are reluctant to change names; in particular T_NUM is merely a C enum, and we don't even need to use it (certainly not with the new, since GAP 4.9, functions).



---

archive/issue_comments_484684.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [dimpase](#comment%3A19):\n> Well, GAP people are reluctant to change names\n\n\nDid anybody actually try to convince them? Ideally, they would change their names to reduce changes of name collisions. Since this is C, this matters regardless of whether we actually *use* those names.",
    "created_at": "2018-09-18T15:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484684",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
Replying to [dimpase](#comment%3A19):
> Well, GAP people are reluctant to change names


Did anybody actually try to convince them? Ideally, they would change their names to reduce changes of name collisions. Since this is C, this matters regardless of whether we actually *use* those names.



---

archive/issue_comments_484685.json:
```json
{
    "body": "<a id='comment:21'></a>\nI am at https://www.gapdays.de/gapdays2018-fall/ and spent some time yesterday and today talking about this issue with Markus and Max. They say that as they have no control over their packages, changing API is tricky. \n\nIf you can come up with a convincing argument, please do, I'd do my best to communicate it while here. Are there any name clashes in exported symbols in their new libgap-API? IMHO there are none.",
    "created_at": "2018-09-18T16:01:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484685",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
I am at https://www.gapdays.de/gapdays2018-fall/ and spent some time yesterday and today talking about this issue with Markus and Max. They say that as they have no control over their packages, changing API is tricky. 

If you can come up with a convincing argument, please do, I'd do my best to communicate it while here. Are there any name clashes in exported symbols in their new libgap-API? IMHO there are none.



---

archive/issue_comments_484686.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2018-10-04T12:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484686",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_484687.json:
```json
{
    "body": "<a id='comment:22'></a>\nWhile we at it, are `libgap_enter()` and `libgap_exit()` needed? GAP people told me that they are not. I tried removing them and running ptestlong (with gap_packages installed for a better coverage), no errors (apart from the expected one in libs/gap/util.pyx).\n\nI suggest we proceed with this ticket - it does not look as if #22626 will be ready soon, perhaps we should rather try rebasing libGAP to GAP 4.10, which looks a less daunting task now than a total replacement with \"native\" GAP's libgap.",
    "created_at": "2018-10-04T12:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484687",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'></a>
While we at it, are `libgap_enter()` and `libgap_exit()` needed? GAP people told me that they are not. I tried removing them and running ptestlong (with gap_packages installed for a better coverage), no errors (apart from the expected one in libs/gap/util.pyx).

I suggest we proceed with this ticket - it does not look as if #22626 will be ready soon, perhaps we should rather try rebasing libGAP to GAP 4.10, which looks a less daunting task now than a total replacement with "native" GAP's libgap.



---

archive/issue_events_072059.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-04T12:03:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25273#event-72059"
}
```



---

archive/issue_events_072060.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-04T12:03:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25273#event-72060"
}
```



---

archive/issue_comments_484688.json:
```json
{
    "body": "<a id='comment:23'></a>\n(sorry I seem to have missed your previous comment)\n\nReplying to [dimpase](#comment%3A21):\n> They say that as they have no control over their packages, changing API is tricky.\n\n\nChanging API should not be tricky if you add a compatibility layer changing the new names to the old names. My proposal should literally be 100% API-compatible for GAP packages.\n\n> Are there any name clashes in exported symbols in their new libgap-API?\n\n\nI haven't tried the new libgap-API, so I cannot tell. But it's not only about exported symbols, it's about anything defined in the GAP header files. In particular `T_INT` is problematic that way (assuming that it still exists in the new libgap-API).",
    "created_at": "2018-10-04T12:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484688",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
(sorry I seem to have missed your previous comment)

Replying to [dimpase](#comment%3A21):
> They say that as they have no control over their packages, changing API is tricky.


Changing API should not be tricky if you add a compatibility layer changing the new names to the old names. My proposal should literally be 100% API-compatible for GAP packages.

> Are there any name clashes in exported symbols in their new libgap-API?


I haven't tried the new libgap-API, so I cannot tell. But it's not only about exported symbols, it's about anything defined in the GAP header files. In particular `T_INT` is problematic that way (assuming that it still exists in the new libgap-API).



---

archive/issue_comments_484689.json:
```json
{
    "body": "<a id='comment:24'></a>\nWhat I did on #22626 is just simply not use `T_INT` (this is a constant equal to 0), I just used 0 instead.",
    "created_at": "2018-10-04T12:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484689",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
What I did on #22626 is just simply not use `T_INT` (this is a constant equal to 0), I just used 0 instead.



---

archive/issue_comments_484690.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [dimpase](#comment%3A24):\n> What I did on #22626 is just simply not use `T_INT` (this is a constant equal to 0), I just used 0 instead.\n\n\nFirst of all, I'd consider that very bad style. For example, what if GAP suddenly decided to change the value of `T_INT`?\n\nSecond, the question is not whether `T_INT` is *used*. The question is whether it's defined in a header file.",
    "created_at": "2018-10-04T12:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484690",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
Replying to [dimpase](#comment%3A24):
> What I did on #22626 is just simply not use `T_INT` (this is a constant equal to 0), I just used 0 instead.


First of all, I'd consider that very bad style. For example, what if GAP suddenly decided to change the value of `T_INT`?

Second, the question is not whether `T_INT` is *used*. The question is whether it's defined in a header file.



---

archive/issue_comments_484691.json:
```json
{
    "body": "<a id='comment:26'></a>\n`T_INT` won't change \"suddenly\", for sure, as these `T_*` things are heavily used in GAP's low-level type system.\n\nAs I said, as I didn't understand the problem fully (and still don't), I wasn't able to convince GAP devs that something needs to be done about it.",
    "created_at": "2018-10-04T12:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484691",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
`T_INT` won't change "suddenly", for sure, as these `T_*` things are heavily used in GAP's low-level type system.

As I said, as I didn't understand the problem fully (and still don't), I wasn't able to convince GAP devs that something needs to be done about it.



---

archive/issue_comments_484692.json:
```json
{
    "body": "<a id='comment:27'></a>\nFor the record, in GAP `T_INT` is a part of  `enum` type `TNUM` in `src/objects.h`, i.e. one sees there \n\n```\nenum TNUM {\n ....\n T_INT;\n ...\n};\n```",
    "created_at": "2018-10-04T12:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484692",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
For the record, in GAP `T_INT` is a part of  `enum` type `TNUM` in `src/objects.h`, i.e. one sees there 

```
enum TNUM {
 ....
 T_INT;
 ...
};
```



---

archive/issue_comments_484693.json:
```json
{
    "body": "<a id='comment:28'></a>\nThe problem is that the Python header `structmember.h` file also does\n\n```\n#define T_INT       1\n```\n\nYou can hope that the GAP headers won't be included after that Python header, but that seems dangerous to me especially because we cannot really control the code that Cython generates.",
    "created_at": "2018-10-04T13:01:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484693",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
The problem is that the Python header `structmember.h` file also does

```
#define T_INT       1
```

You can hope that the GAP headers won't be included after that Python header, but that seems dangerous to me especially because we cannot really control the code that Cython generates.



---

archive/issue_comments_484694.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [jdemeyer](#comment%3A28):\n> The problem is that the Python header `structmember.h` file also does\n> \n> ```\n> #define T_INT       1\n> ```\n> \n> You can hope that the GAP headers won't be included after that Python header, but that seems dangerous to me especially because we cannot really control the code that Cython generates.\n\n\nIf GAP's headers are included after Python's, you'd get a compilation error. Indeed\n\n```\n#include <stdio.h>\n#define T_INT 42\nenum TNUM { T_INT, T_FOO };\nint main(){\n    int i;\n    i = T_INT;\n    printf(\"%d\\n\", i);\n    return 0;}\n```\nand\n\n```\n$ gcc t.c \nt.c:2:15: error: expected identifier before numeric constant\n #define T_INT 42\n               ^~\nt.c:3:13: note: in expansion of macro \u2018T_INT\u2019\n enum TNUM { T_INT, T_FOO };\n             ^~~~~\n```\n\nBut if you swap the inclusion order, then yes, everything compiles, and overrides the enum. Indeed\n\n```\n#include <stdio.h>\nenum TNUM { T_INT, T_FOO };\n#define T_INT 42\nint main(){\n    int i;\n    i = T_INT;\n    printf(\"%d\\n\", i);\n    return 0;}\n```\ncompiles and outputs 42.\n\nNot sure whether and how this could affect libgap...",
    "created_at": "2018-10-04T13:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484694",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
Replying to [jdemeyer](#comment%3A28):
> The problem is that the Python header `structmember.h` file also does
> 
> ```
> #define T_INT       1
> ```
> 
> You can hope that the GAP headers won't be included after that Python header, but that seems dangerous to me especially because we cannot really control the code that Cython generates.


If GAP's headers are included after Python's, you'd get a compilation error. Indeed

```
#include <stdio.h>
#define T_INT 42
enum TNUM { T_INT, T_FOO };
int main(){
    int i;
    i = T_INT;
    printf("%d\n", i);
    return 0;}
```
and

```
$ gcc t.c 
t.c:2:15: error: expected identifier before numeric constant
 #define T_INT 42
               ^~
t.c:3:13: note: in expansion of macro ‘T_INT’
 enum TNUM { T_INT, T_FOO };
             ^~~~~
```

But if you swap the inclusion order, then yes, everything compiles, and overrides the enum. Indeed

```
#include <stdio.h>
enum TNUM { T_INT, T_FOO };
#define T_INT 42
int main(){
    int i;
    i = T_INT;
    printf("%d\n", i);
    return 0;}
```
compiles and outputs 42.

Not sure whether and how this could affect libgap...



---

archive/issue_comments_484695.json:
```json
{
    "body": "<a id='comment:30'></a>\nI'd rather not make the compilation of Sage depend on a specific order of includes.",
    "created_at": "2018-10-04T13:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484695",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
I'd rather not make the compilation of Sage depend on a specific order of includes.



---

archive/issue_comments_484696.json:
```json
{
    "body": "<a id='comment:31'></a>\nI'd be more concerned about Python's `#define` shadowing `T_INT`: a compilation error is much easier to deal with than a vague runtime one...\n\nI'd also say that here Python is the bad guy, not using `enum` for its `T_*` constants.\n(I'd say it should rather be using `enum`, no?)",
    "created_at": "2018-10-04T15:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484696",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
I'd be more concerned about Python's `#define` shadowing `T_INT`: a compilation error is much easier to deal with than a vague runtime one...

I'd also say that here Python is the bad guy, not using `enum` for its `T_*` constants.
(I'd say it should rather be using `enum`, no?)



---

archive/issue_comments_484697.json:
```json
{
    "body": "<a id='comment:32'></a>\nObsolete by #22626",
    "created_at": "2019-01-11T14:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484697",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>
Obsolete by #22626



---

archive/issue_comments_484698.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2019-01-11T14:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25273#issuecomment-484698",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: invalid



---

archive/issue_events_072061.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T14:30:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25273#event-72061"
}
```



---

archive/issue_events_072062.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T14:30:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25273#event-72062"
}
```



---

archive/issue_events_072063.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T14:30:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25273",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25273#event-72063"
}
```
