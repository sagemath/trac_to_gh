# Issue 25159: Fix connected sum of knots

archive/issues_024922.json:
```json
{
    "body": "As pointed in https://ask.sagemath.org/question/41985/connected-sum-of-knots/ the connected sum of knots is not correctly computed.\n\nBefore this ticket, the connected sum of the trefoil knot with itself is incorrect,\nand computing the connected sum with a third trefoil knot fails:\n\n```\nsage: c = Knot.connected_sum\nsage: B = BraidGroup(2)\nsage: t = Knot(B([1, 1, 1])); t\nKnot represented by 3 crossings\nsage: tt = c(t, t); tt\nKnot represented by 7 crossings\nsage: tt_t = c(tt, t); tt_t\nTraceback (most recent call last)\n...\nValueError: the input has more than 1 connected component\nsage: t_tt = c(t, tt); t_tt\nTraceback (most recent call last)\n...\nValueError: generators not in the group\n```\nAfter this ticket, these problems are fixed:\n\n```\nsage: c = Knot.connected_sum\nsage: B = BraidGroup(2)\nsage: t = Knot(B([1, 1, 1])); t\nKnot represented by 3 crossings\nsage: tt = c(t, t); tt\nKnot represented by 6 crossings\nsage: t_tt = c(t, tt); t_tt\nKnot represented by 9 crossings\nsage: tt_t = c(tt, t); tt_t\nKnot represented by 9 crossings\nsage: t_tt = tt_t\nTrue\n```\n\nCC:  @slel\n\nKeywords: connected_sum, knot\n\nBranch/Commit: d8cb5c1fd9b25a4b9d5c089dddca1c9db4010245\n\nReviewer: Samuel Leli\u00e8vre\n\nAuthor: Miguel Marco\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25159\n\n",
    "closed_at": "2018-05-27T17:01:22Z",
    "created_at": "2018-04-13T08:30:24Z",
    "labels": [
        "component: algebraic topology",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Fix connected sum of knots",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25159",
    "user": "https://github.com/miguelmarco"
}
```
As pointed in https://ask.sagemath.org/question/41985/connected-sum-of-knots/ the connected sum of knots is not correctly computed.

Before this ticket, the connected sum of the trefoil knot with itself is incorrect,
and computing the connected sum with a third trefoil knot fails:

```
sage: c = Knot.connected_sum
sage: B = BraidGroup(2)
sage: t = Knot(B([1, 1, 1])); t
Knot represented by 3 crossings
sage: tt = c(t, t); tt
Knot represented by 7 crossings
sage: tt_t = c(tt, t); tt_t
Traceback (most recent call last)
...
ValueError: the input has more than 1 connected component
sage: t_tt = c(t, tt); t_tt
Traceback (most recent call last)
...
ValueError: generators not in the group
```
After this ticket, these problems are fixed:

```
sage: c = Knot.connected_sum
sage: B = BraidGroup(2)
sage: t = Knot(B([1, 1, 1])); t
Knot represented by 3 crossings
sage: tt = c(t, t); tt
Knot represented by 6 crossings
sage: t_tt = c(t, tt); t_tt
Knot represented by 9 crossings
sage: tt_t = c(tt, t); tt_t
Knot represented by 9 crossings
sage: t_tt = tt_t
True
```

CC:  @slel

Keywords: connected_sum, knot

Branch/Commit: d8cb5c1fd9b25a4b9d5c089dddca1c9db4010245

Reviewer: Samuel Leli√®vre

Author: Miguel Marco

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25159





---

archive/issue_comments_373354.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-04-13T17:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373354",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_373355.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2018-04-13T17:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373355",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_373356.json:
```json
{
    "body": "<a id='comment:3'></a>This makes `connected_sum` correct (and a little faster it seems!).",
    "created_at": "2018-04-17T09:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373356",
    "user": "https://github.com/slel"
}
```

<a id='comment:3'></a>This makes `connected_sum` correct (and a little faster it seems!).



---

archive/issue_comments_373357.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-17T09:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373357",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_373358.json:
```json
{
    "body": "Changing keywords from \"\" to \"connected_sum, knot\".",
    "created_at": "2018-04-17T09:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373358",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "connected_sum, knot".



---

archive/issue_comments_373359.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,39 @@\n As pointed in https://ask.sagemath.org/question/41985/connected-sum-of-knots/ the connected sum of knots is not correctly computed.\n+\n+Before this ticket:\n+\n+```\n+sage: c = Knot.connected_sum\n+sage: B = BraidGroup(2)\n+sage: t = Knot(B([1, 1, 1])); t\n+Knot represented by 3 crossings\n+sage: tt = c(t, t); tt\n+Knot represented by 7 crossings\n+sage: tt_t = c(tt, t); tt_t\n+Traceback (most recent call last)\n+...\n+ValueError: the input has more than 1 connected component\n+sage: t_tt = c(t, tt); t_tt\n+Traceback (most recent call last)\n+...\n+ValueError: generators not in the group\n+```\n+After this ticket:\n+\n+```\n+sage: c = Knot.connected_sum\n+sage: B = BraidGroup(2)\n+sage: t = Knot(B([1, 1, 1])); t\n+Knot represented by 3 crossings\n+sage: tt = c(t, t); tt\n+Knot represented by 6 crossings\n+sage: t_tt = c(t, tt); t_tt\n+Knot represented by 9 crossings\n+sage: tt_t = c(tt, t); tt_t\n+Knot represented by 9 crossings\n+sage: t_tt = tt_t\n+True\n+```\n \n Author: Miguel Marco\n \n``````\n",
    "created_at": "2018-04-17T09:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373359",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,39 @@
 As pointed in https://ask.sagemath.org/question/41985/connected-sum-of-knots/ the connected sum of knots is not correctly computed.
+
+Before this ticket:
+
+```
+sage: c = Knot.connected_sum
+sage: B = BraidGroup(2)
+sage: t = Knot(B([1, 1, 1])); t
+Knot represented by 3 crossings
+sage: tt = c(t, t); tt
+Knot represented by 7 crossings
+sage: tt_t = c(tt, t); tt_t
+Traceback (most recent call last)
+...
+ValueError: the input has more than 1 connected component
+sage: t_tt = c(t, tt); t_tt
+Traceback (most recent call last)
+...
+ValueError: generators not in the group
+```
+After this ticket:
+
+```
+sage: c = Knot.connected_sum
+sage: B = BraidGroup(2)
+sage: t = Knot(B([1, 1, 1])); t
+Knot represented by 3 crossings
+sage: tt = c(t, t); tt
+Knot represented by 6 crossings
+sage: t_tt = c(t, tt); t_tt
+Knot represented by 9 crossings
+sage: tt_t = c(tt, t); tt_t
+Knot represented by 9 crossings
+sage: t_tt = tt_t
+True
+```
 
 Author: Miguel Marco
 
``````




---

archive/issue_comments_373360.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,40 @@\n+As pointed in https://ask.sagemath.org/question/41985/connected-sum-of-knots/ the connected sum of knots is not correctly computed.\n \n+Before this ticket, the connected sum of the trefoil knot with itself is incorrect,\n+and computing the connected sum with a third trefoil knot fails:\n+\n+```\n+sage: c = Knot.connected_sum\n+sage: B = BraidGroup(2)\n+sage: t = Knot(B([1, 1, 1])); t\n+Knot represented by 3 crossings\n+sage: tt = c(t, t); tt\n+Knot represented by 7 crossings\n+sage: tt_t = c(tt, t); tt_t\n+Traceback (most recent call last)\n+...\n+ValueError: the input has more than 1 connected component\n+sage: t_tt = c(t, tt); t_tt\n+Traceback (most recent call last)\n+...\n+ValueError: generators not in the group\n+```\n+After this ticket, these problems are fixed:\n+\n+```\n+sage: c = Knot.connected_sum\n+sage: B = BraidGroup(2)\n+sage: t = Knot(B([1, 1, 1])); t\n+Knot represented by 3 crossings\n+sage: tt = c(t, t); tt\n+Knot represented by 6 crossings\n+sage: t_tt = c(t, tt); t_tt\n+Knot represented by 9 crossings\n+sage: tt_t = c(tt, t); tt_t\n+Knot represented by 9 crossings\n+sage: t_tt = tt_t\n+True\n+```\n \n Author: Miguel Marco\n \n``````\n",
    "created_at": "2018-04-17T11:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373360",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,40 @@
+As pointed in https://ask.sagemath.org/question/41985/connected-sum-of-knots/ the connected sum of knots is not correctly computed.
 
+Before this ticket, the connected sum of the trefoil knot with itself is incorrect,
+and computing the connected sum with a third trefoil knot fails:
+
+```
+sage: c = Knot.connected_sum
+sage: B = BraidGroup(2)
+sage: t = Knot(B([1, 1, 1])); t
+Knot represented by 3 crossings
+sage: tt = c(t, t); tt
+Knot represented by 7 crossings
+sage: tt_t = c(tt, t); tt_t
+Traceback (most recent call last)
+...
+ValueError: the input has more than 1 connected component
+sage: t_tt = c(t, tt); t_tt
+Traceback (most recent call last)
+...
+ValueError: generators not in the group
+```
+After this ticket, these problems are fixed:
+
+```
+sage: c = Knot.connected_sum
+sage: B = BraidGroup(2)
+sage: t = Knot(B([1, 1, 1])); t
+Knot represented by 3 crossings
+sage: tt = c(t, t); tt
+Knot represented by 6 crossings
+sage: t_tt = c(t, tt); t_tt
+Knot represented by 9 crossings
+sage: tt_t = c(tt, t); tt_t
+Knot represented by 9 crossings
+sage: t_tt = tt_t
+True
+```
 
 Author: Miguel Marco
 
``````




---

archive/issue_events_063123.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2018-05-17T11:06:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25159#event-63123"
}
```



---

archive/issue_comments_373361.json:
```json
{
    "body": "<a id='comment:8'></a>Why hasn't this been merged?",
    "created_at": "2018-05-17T11:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373361",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:8'></a>Why hasn't this been merged?



---

archive/issue_comments_373362.json:
```json
{
    "body": "<a id='comment:9'></a>There was an invisible unicode in the reviewer name",
    "created_at": "2018-05-24T22:32:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373362",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:9'></a>There was an invisible unicode in the reviewer name



---

archive/issue_events_063124.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-27T17:01:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25159#event-63124"
}
```



---

archive/issue_comments_373363.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-27T17:01:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25159#issuecomment-373363",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
