# Issue 25136: Add monomial basis to FQSym

archive/issues_024899.json:
```json
{
    "body": "The monomial basis of Aguiar and Sottile (see 1.3 in \u200bhttp://www.math.tamu.edu/~sottile/research/pdf/SSym.pdf ; the formula (1.13) is most important, and triangularity should do the rest, if we make sure that the order is right).\n\nCC:  sage-combinat @darijgr @alauve @zabrocki @saliola amypang\n\nKeywords: IMA coding sprint, CHAs, permutations\n\nReviewer: Travis Scrimshaw\n\nAuthor: Darij Grinberg\n\nBranch: 8dc0c5c9f5dea1f78a6cdac21db48b787ceaa8d0\n\nDependencies: #25131, #25141\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25136\n\n",
    "closed_at": "2018-05-22T06:56:02Z",
    "created_at": "2018-04-10T15:31:35Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Add monomial basis to FQSym",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25136",
    "user": "https://github.com/tscrim"
}
```
The monomial basis of Aguiar and Sottile (see 1.3 in â€‹http://www.math.tamu.edu/~sottile/research/pdf/SSym.pdf ; the formula (1.13) is most important, and triangularity should do the rest, if we make sure that the order is right).

CC:  sage-combinat @darijgr @alauve @zabrocki @saliola amypang

Keywords: IMA coding sprint, CHAs, permutations

Reviewer: Travis Scrimshaw

Author: Darij Grinberg

Branch: 8dc0c5c9f5dea1f78a6cdac21db48b787ceaa8d0

Dependencies: #25131, #25141

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25136





---

archive/issue_comments_479254.json:
```json
{
    "body": "Changing branch from \"\" to \"public/combinat/fqsym2\"",
    "created_at": "2018-04-11T16:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479254",
    "user": "https://github.com/darijgr"
}
```

Changing branch from "" to "public/combinat/fqsym2"



---

archive/issue_comments_479255.json:
```json
{
    "body": "Changing commit from \"\" to \"e79d2d398a032086f542d651f561d0f18c51a21b\"",
    "created_at": "2018-04-11T16:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479255",
    "user": "https://github.com/darijgr"
}
```

Changing commit from "" to "e79d2d398a032086f542d651f561d0f18c51a21b"



---

archive/issue_comments_479256.json:
```json
{
    "body": "Changing author from \"\" to \"Darij Grinberg\"",
    "created_at": "2018-04-11T16:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479256",
    "user": "https://github.com/darijgr"
}
```

Changing author from "" to "Darij Grinberg"



---

archive/issue_comments_479257.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2018-04-11T16:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479257",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_479258.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-04-11T23:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479258",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_479259.json:
```json
{
    "body": "Changing commit from \"e79d2d398a032086f542d651f561d0f18c51a21b\" to \"2acec0011d92c0a65e689e6dde250230a53cf26b\"",
    "created_at": "2018-04-11T23:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479259",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e79d2d398a032086f542d651f561d0f18c51a21b" to "2acec0011d92c0a65e689e6dde250230a53cf26b"



---

archive/issue_comments_479260.json:
```json
{
    "body": "Changing commit from \"2acec0011d92c0a65e689e6dde250230a53cf26b\" to \"78a4253e73accdc58060e7f20ac77a1027ce2db1\"",
    "created_at": "2018-04-11T23:47:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479260",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2acec0011d92c0a65e689e6dde250230a53cf26b" to "78a4253e73accdc58060e7f20ac77a1027ce2db1"



---

archive/issue_comments_479261.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-11T23:47:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479261",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_479262.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-04-11T23:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479262",
    "user": "https://github.com/darijgr"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_479263.json:
```json
{
    "body": "Changing dependencies from \"#25131\" to \"#25131, #25141\"",
    "created_at": "2018-04-11T23:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479263",
    "user": "https://github.com/darijgr"
}
```

Changing dependencies from "#25131" to "#25131, #25141"



---

archive/issue_comments_479264.json:
```json
{
    "body": "<a id='comment:4'></a>There it is. (I'm Darij, logging in through github.)",
    "created_at": "2018-04-11T23:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479264",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:4'></a>There it is. (I'm Darij, logging in through github.)



---

archive/issue_comments_479265.json:
```json
{
    "body": "Changing commit from \"78a4253e73accdc58060e7f20ac77a1027ce2db1\" to \"ef1f3b78ff16516ee9b25f8c767ca9bc34ca6c39\"",
    "created_at": "2018-04-11T23:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479265",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "78a4253e73accdc58060e7f20ac77a1027ce2db1" to "ef1f3b78ff16516ee9b25f8c767ca9bc34ca6c39"



---

archive/issue_comments_479266.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-11T23:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_479267.json:
```json
{
    "body": "<a id='comment:6'></a>PS. Since the branch has become rather tortuous, here are all the commits that need reviewing:\n\nhttps://git.sagemath.org/sage.git/commit/?id=7dd85ffbc88a285b4057be6e8ba482715067e85e\n\nhttps://git.sagemath.org/sage.git/commit/?id=faad4617d3a0cd44f489e0183ad0ce32f0471036\n\nhttps://git.sagemath.org/sage.git/commit/?id=78a4253e73accdc58060e7f20ac77a1027ce2db1\n\nhttps://git.sagemath.org/sage.git/commit/?id=ef1f3b78ff16516ee9b25f8c767ca9bc34ca6c39",
    "created_at": "2018-04-12T01:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479267",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:6'></a>PS. Since the branch has become rather tortuous, here are all the commits that need reviewing:

https://git.sagemath.org/sage.git/commit/?id=7dd85ffbc88a285b4057be6e8ba482715067e85e

https://git.sagemath.org/sage.git/commit/?id=faad4617d3a0cd44f489e0183ad0ce32f0471036

https://git.sagemath.org/sage.git/commit/?id=78a4253e73accdc58060e7f20ac77a1027ce2db1

https://git.sagemath.org/sage.git/commit/?id=ef1f3b78ff16516ee9b25f8c767ca9bc34ca6c39



---

archive/issue_comments_479268.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-12T15:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_479269.json:
```json
{
    "body": "Changing commit from \"ef1f3b78ff16516ee9b25f8c767ca9bc34ca6c39\" to \"98fca9c1edca09366037b5b900496f4cde39bd89\"",
    "created_at": "2018-04-12T15:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479269",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ef1f3b78ff16516ee9b25f8c767ca9bc34ca6c39" to "98fca9c1edca09366037b5b900496f4cde39bd89"



---

archive/issue_comments_479270.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-12T15:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_479271.json:
```json
{
    "body": "Changing commit from \"98fca9c1edca09366037b5b900496f4cde39bd89\" to \"416a8c086d21c467e0510564c99ae64a415f2e58\"",
    "created_at": "2018-04-12T15:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "98fca9c1edca09366037b5b900496f4cde39bd89" to "416a8c086d21c467e0510564c99ae64a415f2e58"



---

archive/issue_comments_479272.json:
```json
{
    "body": "Changing commit from \"416a8c086d21c467e0510564c99ae64a415f2e58\" to \"6e4066617f6365c415ef25281b9fdf0026572544\"",
    "created_at": "2018-04-12T20:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "416a8c086d21c467e0510564c99ae64a415f2e58" to "6e4066617f6365c415ef25281b9fdf0026572544"



---

archive/issue_comments_479273.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-12T20:11:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_479274.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2018-04-12T20:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479274",
    "user": "https://github.com/darijgr"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_479275.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-12T20:14:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479275",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_479276.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:",
    "created_at": "2018-05-10T07:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:



---

archive/issue_comments_479277.json:
```json
{
    "body": "Changing commit from \"6e4066617f6365c415ef25281b9fdf0026572544\" to \"8dc0c5c9f5dea1f78a6cdac21db48b787ceaa8d0\"",
    "created_at": "2018-05-10T07:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6e4066617f6365c415ef25281b9fdf0026572544" to "8dc0c5c9f5dea1f78a6cdac21db48b787ceaa8d0"



---

archive/issue_comments_479278.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-05-10T07:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_479279.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-05-10T07:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479279",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_479280.json:
```json
{
    "body": "<a id='comment:12'></a>Trivial rebase over one of the dependencies.",
    "created_at": "2018-05-10T07:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479280",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:12'></a>Trivial rebase over one of the dependencies.



---

archive/issue_comments_479281.json:
```json
{
    "body": "<a id='comment:13'></a>wake up patchbots",
    "created_at": "2018-05-15T23:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479281",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:13'></a>wake up patchbots



---

archive/issue_events_063056.json:
```json
{
    "actor": "https://github.com/darijgr",
    "created_at": "2018-05-15T23:37:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25136#event-63056"
}
```



---

archive/issue_comments_479282.json:
```json
{
    "body": "<a id='comment:14'></a>\n```\nFile \"src/sage/combinat/ncsym/bases.py\", line 640, in sage.combinat.ncsym.bases.NCSymBases.ElementMethods.to_wqsym\nFailed example:\n    (4*p[[1,3],[2]]-p[[1]]).to_wqsym()\nExpected:\n    4*M[{1, 2, 3}] + 4*M[{2}, {1, 3}] + 4*M[{1, 3}, {2}] - M[{1}]\nGot:\n    4*M[{2}, {1, 3}] - M[{1}] + 4*M[{1, 2, 3}] + 4*M[{1, 3}, {2}]\n```\nCan't reproduce this one. But it's from a few versions ago, so maybe it's fixed now.",
    "created_at": "2018-05-16T11:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479282",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:14'></a>
```
File "src/sage/combinat/ncsym/bases.py", line 640, in sage.combinat.ncsym.bases.NCSymBases.ElementMethods.to_wqsym
Failed example:
    (4*p[[1,3],[2]]-p[[1]]).to_wqsym()
Expected:
    4*M[{1, 2, 3}] + 4*M[{2}, {1, 3}] + 4*M[{1, 3}, {2}] - M[{1}]
Got:
    4*M[{2}, {1, 3}] - M[{1}] + 4*M[{1, 2, 3}] + 4*M[{1, 3}, {2}]
```
Can't reproduce this one. But it's from a few versions ago, so maybe it's fixed now.



---

archive/issue_comments_479283.json:
```json
{
    "body": "<a id='comment:15'></a>The last patchbot is happy now, so I think this is ready to go.",
    "created_at": "2018-05-17T21:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479283",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:15'></a>The last patchbot is happy now, so I think this is ready to go.



---

archive/issue_comments_479284.json:
```json
{
    "body": "Changing branch from \"public/combinat/fqsym2\" to \"8dc0c5c9f5dea1f78a6cdac21db48b787ceaa8d0\"",
    "created_at": "2018-05-22T06:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479284",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/combinat/fqsym2" to "8dc0c5c9f5dea1f78a6cdac21db48b787ceaa8d0"



---

archive/issue_events_063057.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-22T06:56:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25136#event-63057"
}
```



---

archive/issue_comments_479285.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-22T06:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479285",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_479286.json:
```json
{
    "body": "Changing commit from \"8dc0c5c9f5dea1f78a6cdac21db48b787ceaa8d0\" to \"\"",
    "created_at": "2018-06-11T19:05:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479286",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "8dc0c5c9f5dea1f78a6cdac21db48b787ceaa8d0" to ""



---

archive/issue_comments_479287.json:
```json
{
    "body": "<a id='comment:17'></a>FQSYM doctests now take way too long..",
    "created_at": "2018-06-11T19:05:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479287",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>FQSYM doctests now take way too long..



---

archive/issue_comments_479288.json:
```json
{
    "body": "<a id='comment:18'></a>Are they still taking too long if you pull #25326 as well? One of the things I did in #25326 was optimizing FQSym, particularly the M basis.\n\n(NB: I don't know how long doctests *should* take on Cygwin, so I have no way to tell if I'm doing things right.)",
    "created_at": "2018-06-11T19:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25136#issuecomment-479288",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:18'></a>Are they still taking too long if you pull #25326 as well? One of the things I did in #25326 was optimizing FQSym, particularly the M basis.

(NB: I don't know how long doctests *should* take on Cygwin, so I have no way to tell if I'm doing things right.)
