# Issue 25894: Add subgroup method to MatrixGroup_base

archive/issues_025657.json:
```json
{
    "body": "Only for those matrix groups which are inherited from ParentLibGAP a `subgroup` method is available. But for other matrix groups such as classical groups over rings other than finite fields or ZZ this makes sense as well.\n\nExample:\n\n```\nsage: G = GL(2,QQ)\nsage: m = matrix(QQ, 2,2, [[3, 0],[~5,1]])\nsage: S = G.subgroup([m])\nTraceback (most recent call last):\n...\nAttributeError: 'LinearMatrixGroup_generic_with_category' object has no attribute 'subgroup'\n```\n\n**CC:**  @tscrim @rbeezer\n\n**Keywords:** subgroup, ambient, matrix groups\n\n**Branch/Commit:** [c1280b9fbd954c5f43be122cafd4606872ed353c](https://github.com/sagemath/sagetrac-mirror/commit/c1280b9fbd954c5f43be122cafd4606872ed353c)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Sebastian Oehms\n\nIssue created by migration from https://trac.sagemath.org/ticket/25894\n\n",
    "closed_at": "2019-03-03T22:38:17Z",
    "created_at": "2018-07-22T06:58:41Z",
    "labels": [
        "component: group theory",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Add subgroup method to MatrixGroup_base",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25894",
    "user": "https://github.com/soehms"
}
```
Only for those matrix groups which are inherited from ParentLibGAP a `subgroup` method is available. But for other matrix groups such as classical groups over rings other than finite fields or ZZ this makes sense as well.

Example:

```
sage: G = GL(2,QQ)
sage: m = matrix(QQ, 2,2, [[3, 0],[~5,1]])
sage: S = G.subgroup([m])
Traceback (most recent call last):
...
AttributeError: 'LinearMatrixGroup_generic_with_category' object has no attribute 'subgroup'
```

**CC:**  @tscrim @rbeezer

**Keywords:** subgroup, ambient, matrix groups

**Branch/Commit:** [c1280b9fbd954c5f43be122cafd4606872ed353c](https://github.com/sagemath/sagetrac-mirror/commit/c1280b9fbd954c5f43be122cafd4606872ed353c)

**Reviewer:** Travis Scrimshaw

**Author:** Sebastian Oehms

Issue created by migration from https://trac.sagemath.org/ticket/25894





---

archive/issue_comments_400675.json:
```json
{
    "body": "**Branch:** [u/soehms/matrix_groups_subgroups-25894](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/matrix_groups_subgroups-25894)",
    "created_at": "2018-07-22T07:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400675",
    "user": "https://github.com/soehms"
}
```

**Branch:** [u/soehms/matrix_groups_subgroups-25894](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/matrix_groups_subgroups-25894)



---

archive/issue_comments_400676.json:
```json
{
    "body": "<a id='comment:2'></a>\nI add the `subgroup` method to the MatrixGroup_base class, but I avoid overwriting the code from ParentLibGAP. In analogy to the permutation groups I also modify the `__repr__` method such that for a subgroup the ambient group is referred. But for instances of ParentLibGAP this would change existing behavior and many doc-strings. Therefore, I exclude this case, even though I would prefer a corrected representation string in that cases, as well.\n\nWith respect to the `ambient` method I don't distinguish the case ParentLibGAP, since this a just a few lines of identical code. Maybe, this better should be moved to the categorial framework.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0133335af28cebd62cf34d93f8efb7872ced2fe2\">0133335</a></td><td><code>implement subgroup / ambient methods for MatrixGroup_base</code></td></tr></table>\n",
    "created_at": "2018-07-22T07:19:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400676",
    "user": "https://github.com/soehms"
}
```

<a id='comment:2'></a>
I add the `subgroup` method to the MatrixGroup_base class, but I avoid overwriting the code from ParentLibGAP. In analogy to the permutation groups I also modify the `__repr__` method such that for a subgroup the ambient group is referred. But for instances of ParentLibGAP this would change existing behavior and many doc-strings. Therefore, I exclude this case, even though I would prefer a corrected representation string in that cases, as well.

With respect to the `ambient` method I don't distinguish the case ParentLibGAP, since this a just a few lines of identical code. Maybe, this better should be moved to the categorial framework.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0133335af28cebd62cf34d93f8efb7872ced2fe2">0133335</a></td><td><code>implement subgroup / ambient methods for MatrixGroup_base</code></td></tr></table>




---

archive/issue_events_229804.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2018-07-22T07:19:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25894#event-229804"
}
```



---

archive/issue_comments_400677.json:
```json
{
    "body": "**Commit:** [0133335af28cebd62cf34d93f8efb7872ced2fe2](https://github.com/sagemath/sagetrac-mirror/commit/0133335af28cebd62cf34d93f8efb7872ced2fe2)",
    "created_at": "2018-07-22T07:19:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400677",
    "user": "https://github.com/soehms"
}
```

**Commit:** [0133335af28cebd62cf34d93f8efb7872ced2fe2](https://github.com/sagemath/sagetrac-mirror/commit/0133335af28cebd62cf34d93f8efb7872ced2fe2)



---

archive/issue_comments_400678.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/747bc167ecc5986f9426e8763fc89b0ef75beba3\">747bc16</a></td><td><code>removed unused keyword</code></td></tr></table>\n",
    "created_at": "2018-07-22T07:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400678",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/747bc167ecc5986f9426e8763fc89b0ef75beba3">747bc16</a></td><td><code>removed unused keyword</code></td></tr></table>




---

archive/issue_comments_400679.json:
```json
{
    "body": "**Changing commit** from \"[0133335af28cebd62cf34d93f8efb7872ced2fe2](https://github.com/sagemath/sagetrac-mirror/commit/0133335af28cebd62cf34d93f8efb7872ced2fe2)\" to \"[747bc167ecc5986f9426e8763fc89b0ef75beba3](https://github.com/sagemath/sagetrac-mirror/commit/747bc167ecc5986f9426e8763fc89b0ef75beba3)\".",
    "created_at": "2018-07-22T07:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400679",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0133335af28cebd62cf34d93f8efb7872ced2fe2](https://github.com/sagemath/sagetrac-mirror/commit/0133335af28cebd62cf34d93f8efb7872ced2fe2)" to "[747bc167ecc5986f9426e8763fc89b0ef75beba3](https://github.com/sagemath/sagetrac-mirror/commit/747bc167ecc5986f9426e8763fc89b0ef75beba3)".



---

archive/issue_comments_400680.json:
```json
{
    "body": "<a id='comment:4'></a>\nSorry for letting this ticket drop off my radar. Some comments:\n\n- It is not good practice to have a bare `except:`. Could you give what error(s) you expect it to raise?\n- Error messages should start with lower case letters (following a Python convention).\n- `SubGroup` -> `subgroup` for PEP8.\n- `if ambient_group == None:` -> `if ambient_group is None:`.\n- Is the `if hasattr(self, '_ambient'):` test really necessary?\n- In general, is that entire block even necessary? I feel like there shouldn't be a need to not extend this output. Or is there a reason I am not seeing?",
    "created_at": "2019-02-16T17:12:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400680",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
Sorry for letting this ticket drop off my radar. Some comments:

- It is not good practice to have a bare `except:`. Could you give what error(s) you expect it to raise?
- Error messages should start with lower case letters (following a Python convention).
- `SubGroup` -> `subgroup` for PEP8.
- `if ambient_group == None:` -> `if ambient_group is None:`.
- Is the `if hasattr(self, '_ambient'):` test really necessary?
- In general, is that entire block even necessary? I feel like there shouldn't be a need to not extend this output. Or is there a reason I am not seeing?



---

archive/issue_comments_400681.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [tscrim](#comment%3A4):\n> Sorry for letting this ticket drop off my radar.\n\n\nNo problem (I know you have a long list)!\n\n> - It is not good practice to have a bare `except:`. Could you give what error(s) you expect it to raise?\n> - `if ambient_group == None:` -> `if ambient_group is None:`.\n \nI've learned that in the meantime! Sorry, for not revising this ticket, any more!\n\n> - Error messages should start with lower case letters (following a Python convention).\n> - `SubGroup` -> `subgroup` for PEP8.\n \nSorry! I should read the PEP8 more often, since much of it is contrary to what I am used to. You will find such things in #27302, as well. Please wait with that ticket until I have fixed them. But there are conventions in PEP8, the purpose of which I really don't understand. For example that about blanklines. IMO that reduces readability of the code. If you kwow a reason, please let me know. That would make it more easier to follow this convention.\n\n> - Is the `if hasattr(self, '_ambient'):` test really necessary?\n> - In general, is that entire block even necessary? I feel like there shouldn't be a need to not extend this output. Or is there a reason I am not seeing?\n\n\nI inserted the block, since I was not sure if I should change the previous behaviour that much. Removing that block will change the representation string of subgroups of finite groups, as well. Of course, it will be improved:\n\n```\nUsing --optional=dochtml,memlimit,mpir,python2,sage\nDoctesting 1 file.\nsage -t src/sage/groups/matrix_gps/matrix_group.py\n**********************************************************************\nFile \"src/sage/groups/matrix_gps/matrix_group.py\", line 720, in sage.groups.matrix_gps.matrix_group.MatrixGroup_gap._subgroup_constructor\nFailed example:\n    G = SL2Z.subgroup([T^2]); G   # indirect doctest\nExpected:\n    Matrix group over Integer Ring with 1 generators (\n    [1 2]\n    [0 1]\n    )\nGot:\n    Subgroup of Special Linear Group of degree 2 over Integer Ring with 1 generators (\n    [1 2]\n    [0 1]\n    )\n\nsage -t src/sage/groups/libgap_wrapper.pyx  # 1 doctest failed\nsage -t src/sage/groups/libgap_mixin.py  # 8 doctests failed\nsage -t src/sage/groups/libgap_morphism.py  # 4 doctests failed\nsage -t src/sage/groups/matrix_gps/matrix_group.py  # 1 doctest failed\nsage -t src/sage/groups/matrix_gps/finitely_generated.py  # 1 doctest failed\nsage -t src/sage/misc/sagedoc.py  # 4 doctests failed\nsage -t src/doc/en/constructions/groups.rst  # 1 doctest failed\nsage -t src/doc/common/conf.py  # 1 doctest failed\n```\n\nIf you agree I will remove the block and fix all that doctests. But, will this be o.K. for external code (packages,..), as well?",
    "created_at": "2019-02-18T08:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400681",
    "user": "https://github.com/soehms"
}
```

<a id='comment:5'></a>
Replying to [tscrim](#comment%3A4):
> Sorry for letting this ticket drop off my radar.


No problem (I know you have a long list)!

> - It is not good practice to have a bare `except:`. Could you give what error(s) you expect it to raise?
> - `if ambient_group == None:` -> `if ambient_group is None:`.
 
I've learned that in the meantime! Sorry, for not revising this ticket, any more!

> - Error messages should start with lower case letters (following a Python convention).
> - `SubGroup` -> `subgroup` for PEP8.
 
Sorry! I should read the PEP8 more often, since much of it is contrary to what I am used to. You will find such things in #27302, as well. Please wait with that ticket until I have fixed them. But there are conventions in PEP8, the purpose of which I really don't understand. For example that about blanklines. IMO that reduces readability of the code. If you kwow a reason, please let me know. That would make it more easier to follow this convention.

> - Is the `if hasattr(self, '_ambient'):` test really necessary?
> - In general, is that entire block even necessary? I feel like there shouldn't be a need to not extend this output. Or is there a reason I am not seeing?


I inserted the block, since I was not sure if I should change the previous behaviour that much. Removing that block will change the representation string of subgroups of finite groups, as well. Of course, it will be improved:

```
Using --optional=dochtml,memlimit,mpir,python2,sage
Doctesting 1 file.
sage -t src/sage/groups/matrix_gps/matrix_group.py
**********************************************************************
File "src/sage/groups/matrix_gps/matrix_group.py", line 720, in sage.groups.matrix_gps.matrix_group.MatrixGroup_gap._subgroup_constructor
Failed example:
    G = SL2Z.subgroup([T^2]); G   # indirect doctest
Expected:
    Matrix group over Integer Ring with 1 generators (
    [1 2]
    [0 1]
    )
Got:
    Subgroup of Special Linear Group of degree 2 over Integer Ring with 1 generators (
    [1 2]
    [0 1]
    )

sage -t src/sage/groups/libgap_wrapper.pyx  # 1 doctest failed
sage -t src/sage/groups/libgap_mixin.py  # 8 doctests failed
sage -t src/sage/groups/libgap_morphism.py  # 4 doctests failed
sage -t src/sage/groups/matrix_gps/matrix_group.py  # 1 doctest failed
sage -t src/sage/groups/matrix_gps/finitely_generated.py  # 1 doctest failed
sage -t src/sage/misc/sagedoc.py  # 4 doctests failed
sage -t src/doc/en/constructions/groups.rst  # 1 doctest failed
sage -t src/doc/common/conf.py  # 1 doctest failed
```

If you agree I will remove the block and fix all that doctests. But, will this be o.K. for external code (packages,..), as well?



---

archive/issue_comments_400682.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [soehms](#comment%3A5):\n> Replying to [tscrim](#comment%3A4):\n> > - It is not good practice to have a bare `except:`. Could you give what error(s) you expect it to raise?\n> > - `if ambient_group == None:` -> `if ambient_group is None:`.\n \n> I've learned that in the meantime! Sorry, for not revising this ticket, any more!\n\nNo problem. I think it is fine to wait for a review before making such changes anyways.\n\n> > - Error messages should start with lower case letters (following a Python convention).\n> > - `SubGroup` -> `subgroup` for PEP8.\n \n> Sorry! I should read the PEP8 more often, since much of it is contrary to what I am used to. You will find such things in #27302, as well. Please wait with that ticket until I have fixed them. But there are conventions in PEP8, the purpose of which I really don't understand. For example that about blanklines. IMO that reduces readability of the code. If you kwow a reason, please let me know. That would make it more easier to follow this convention.\n\nThey are guidelines, so no need to follow them exactly. Use your judgement to what you think makes the code the most readable (including consistency with other code in Sage).\n\n> > - Is the `if hasattr(self, '_ambient'):` test really necessary?\n> > - In general, is that entire block even necessary? I feel like there shouldn't be a need to not extend this output. Or is there a reason I am not seeing?\n \n> \n> I inserted the block, since I was not sure if I should change the previous behaviour that much. Removing that block will change the representation string of subgroups of finite groups, as well. Of course, it will be improved:\n> \n> ```\n> sage -t src/sage/groups/libgap_wrapper.pyx  # 1 doctest failed\n> sage -t src/sage/groups/libgap_mixin.py  # 8 doctests failed\n> sage -t src/sage/groups/libgap_morphism.py  # 4 doctests failed\n> sage -t src/sage/groups/matrix_gps/matrix_group.py  # 1 doctest failed\n> sage -t src/sage/groups/matrix_gps/finitely_generated.py  # 1 doctest failed\n> sage -t src/sage/misc/sagedoc.py  # 4 doctests failed\n> sage -t src/doc/en/constructions/groups.rst  # 1 doctest failed\n> sage -t src/doc/common/conf.py  # 1 doctest failed\n> ```\n> \n> If you agree I will remove the block and fix all that doctests. But, will this be o.K. for external code (packages,..), as well?\n\n\nI think it is good for those tests to change as it gives more information about the groups in question and are otherwise trivial changes. So +1 to the change in behavior.",
    "created_at": "2019-02-20T07:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400682",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Replying to [soehms](#comment%3A5):
> Replying to [tscrim](#comment%3A4):
> > - It is not good practice to have a bare `except:`. Could you give what error(s) you expect it to raise?
> > - `if ambient_group == None:` -> `if ambient_group is None:`.
 
> I've learned that in the meantime! Sorry, for not revising this ticket, any more!

No problem. I think it is fine to wait for a review before making such changes anyways.

> > - Error messages should start with lower case letters (following a Python convention).
> > - `SubGroup` -> `subgroup` for PEP8.
 
> Sorry! I should read the PEP8 more often, since much of it is contrary to what I am used to. You will find such things in #27302, as well. Please wait with that ticket until I have fixed them. But there are conventions in PEP8, the purpose of which I really don't understand. For example that about blanklines. IMO that reduces readability of the code. If you kwow a reason, please let me know. That would make it more easier to follow this convention.

They are guidelines, so no need to follow them exactly. Use your judgement to what you think makes the code the most readable (including consistency with other code in Sage).

> > - Is the `if hasattr(self, '_ambient'):` test really necessary?
> > - In general, is that entire block even necessary? I feel like there shouldn't be a need to not extend this output. Or is there a reason I am not seeing?
 
> 
> I inserted the block, since I was not sure if I should change the previous behaviour that much. Removing that block will change the representation string of subgroups of finite groups, as well. Of course, it will be improved:
> 
> ```
> sage -t src/sage/groups/libgap_wrapper.pyx  # 1 doctest failed
> sage -t src/sage/groups/libgap_mixin.py  # 8 doctests failed
> sage -t src/sage/groups/libgap_morphism.py  # 4 doctests failed
> sage -t src/sage/groups/matrix_gps/matrix_group.py  # 1 doctest failed
> sage -t src/sage/groups/matrix_gps/finitely_generated.py  # 1 doctest failed
> sage -t src/sage/misc/sagedoc.py  # 4 doctests failed
> sage -t src/doc/en/constructions/groups.rst  # 1 doctest failed
> sage -t src/doc/common/conf.py  # 1 doctest failed
> ```
> 
> If you agree I will remove the block and fix all that doctests. But, will this be o.K. for external code (packages,..), as well?


I think it is good for those tests to change as it gives more information about the groups in question and are otherwise trivial changes. So +1 to the change in behavior.



---

archive/issue_comments_400683.json:
```json
{
    "body": "**Changing commit** from \"[747bc167ecc5986f9426e8763fc89b0ef75beba3](https://github.com/sagemath/sagetrac-mirror/commit/747bc167ecc5986f9426e8763fc89b0ef75beba3)\" to \"[80aabe61590f84c3aa210ecd4403a8d3a44bd288](https://github.com/sagemath/sagetrac-mirror/commit/80aabe61590f84c3aa210ecd4403a8d3a44bd288)\".",
    "created_at": "2019-02-24T10:56:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400683",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[747bc167ecc5986f9426e8763fc89b0ef75beba3](https://github.com/sagemath/sagetrac-mirror/commit/747bc167ecc5986f9426e8763fc89b0ef75beba3)" to "[80aabe61590f84c3aa210ecd4403a8d3a44bd288](https://github.com/sagemath/sagetrac-mirror/commit/80aabe61590f84c3aa210ecd4403a8d3a44bd288)".



---

archive/issue_comments_400684.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9c61710b02494bdfb7d0b2a9ebd899e0ca0b2ef\">e9c6171</a></td><td><code>Merge branch 'u/soehms/matrix_groups_subgroups-25894' of git://trac.sagemath.org/sage into matrix_groups_subgroups_25894</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80aabe61590f84c3aa210ecd4403a8d3a44bd288\">80aabe6</a></td><td><code>25894: implement reviewers suggestions</code></td></tr></table>\n",
    "created_at": "2019-02-24T10:56:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9c61710b02494bdfb7d0b2a9ebd899e0ca0b2ef">e9c6171</a></td><td><code>Merge branch 'u/soehms/matrix_groups_subgroups-25894' of git://trac.sagemath.org/sage into matrix_groups_subgroups_25894</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80aabe61590f84c3aa210ecd4403a8d3a44bd288">80aabe6</a></td><td><code>25894: implement reviewers suggestions</code></td></tr></table>




---

archive/issue_comments_400685.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1997ad77f29188e07c8e804da84d2a6747cfa5df\">1997ad7</a></td><td><code>25894: missing long-doctest fixed, as well</code></td></tr></table>\n",
    "created_at": "2019-02-24T23:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1997ad77f29188e07c8e804da84d2a6747cfa5df">1997ad7</a></td><td><code>25894: missing long-doctest fixed, as well</code></td></tr></table>




---

archive/issue_comments_400686.json:
```json
{
    "body": "**Changing commit** from \"[80aabe61590f84c3aa210ecd4403a8d3a44bd288](https://github.com/sagemath/sagetrac-mirror/commit/80aabe61590f84c3aa210ecd4403a8d3a44bd288)\" to \"[1997ad77f29188e07c8e804da84d2a6747cfa5df](https://github.com/sagemath/sagetrac-mirror/commit/1997ad77f29188e07c8e804da84d2a6747cfa5df)\".",
    "created_at": "2019-02-24T23:02:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[80aabe61590f84c3aa210ecd4403a8d3a44bd288](https://github.com/sagemath/sagetrac-mirror/commit/80aabe61590f84c3aa210ecd4403a8d3a44bd288)" to "[1997ad77f29188e07c8e804da84d2a6747cfa5df](https://github.com/sagemath/sagetrac-mirror/commit/1997ad77f29188e07c8e804da84d2a6747cfa5df)".



---

archive/issue_comments_400687.json:
```json
{
    "body": "<a id='comment:9'></a>\nI had a thought/question. I think we should consider putting the generators of the subgroup first then the ambient group after it in the repr. Maybe something like\n\n```\nSubgroup with <n> generators (\n<generators>\n) of <ambient_group>\n```\nThat way the most pertinent information is first and it is a little easier to parse. What do you think?\n\nAlso, some little details more:\n\n```\n        TESTS:\n\n            sage: TestSuite(G).run()\n            sage: TestSuite(S).run()\n```\nshould be `TESTS::`\n\nWhat type of error are you expecting here:\n\n```\n            try:\n                return ParentLibGAP.subgroup(self, generators)\n            except:\n                pass\n```\nIt is better to be explicit about what errors you want to handle.\n\n`raise ValueError(\"Generator %s is not in the group\"%(g))` to lowercase `generator` (this is a Python convention that we try to follow).",
    "created_at": "2019-02-25T02:19:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400687",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
I had a thought/question. I think we should consider putting the generators of the subgroup first then the ambient group after it in the repr. Maybe something like

```
Subgroup with <n> generators (
<generators>
) of <ambient_group>
```
That way the most pertinent information is first and it is a little easier to parse. What do you think?

Also, some little details more:

```
        TESTS:

            sage: TestSuite(G).run()
            sage: TestSuite(S).run()
```
should be `TESTS::`

What type of error are you expecting here:

```
            try:
                return ParentLibGAP.subgroup(self, generators)
            except:
                pass
```
It is better to be explicit about what errors you want to handle.

`raise ValueError("Generator %s is not in the group"%(g))` to lowercase `generator` (this is a Python convention that we try to follow).



---

archive/issue_comments_400688.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49a04afe2382e25904ab938d5baf489f42893426\">49a04af</a></td><td><code>25894: restore lost changes</code></td></tr></table>\n",
    "created_at": "2019-02-25T19:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400688",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49a04afe2382e25904ab938d5baf489f42893426">49a04af</a></td><td><code>25894: restore lost changes</code></td></tr></table>




---

archive/issue_comments_400689.json:
```json
{
    "body": "**Changing commit** from \"[1997ad77f29188e07c8e804da84d2a6747cfa5df](https://github.com/sagemath/sagetrac-mirror/commit/1997ad77f29188e07c8e804da84d2a6747cfa5df)\" to \"[49a04afe2382e25904ab938d5baf489f42893426](https://github.com/sagemath/sagetrac-mirror/commit/49a04afe2382e25904ab938d5baf489f42893426)\".",
    "created_at": "2019-02-25T19:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400689",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1997ad77f29188e07c8e804da84d2a6747cfa5df](https://github.com/sagemath/sagetrac-mirror/commit/1997ad77f29188e07c8e804da84d2a6747cfa5df)" to "[49a04afe2382e25904ab938d5baf489f42893426](https://github.com/sagemath/sagetrac-mirror/commit/49a04afe2382e25904ab938d5baf489f42893426)".



---

archive/issue_comments_400690.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [tscrim](#comment%3A9):\n> I had a thought/question. I think we should consider putting the generators of the subgroup first then the ambient group after it in the repr. Maybe something like\n> \n> ```\n> Subgroup with <n> generators (\n> <generators>\n> ) of <ambient_group>\n> ```\n> That way the most pertinent information is first and it is a little easier to parse. What do you think?\n> \n\n\nI agree! The reason why I choose it that way was to be consistent with `PermutationGroup_subgroup`. I think we should have it accordingly. So your suggestion would mean to change that representation string, as well. Shall I do that?\n\n\n> What type of error are you expecting here:\n> \n> ```\n>             try:\n>                 return ParentLibGAP.subgroup(self, generators)\n>             except:\n>                 pass\n> ```\n> It is better to be explicit about what errors you want to handle.\n> \n> `raise ValueError(\"Generator %s is not in the group\"%(g))` to lowercase `generator` (this is a Python convention that we try to follow).\n\n\nSorry again, I was sure to have those things fixed, but unfortunately I've lost them since my nice mint coloured `Acer One Happy` was damaged last week (the display crashed because of a full brake application in the subway). I think I lost these changes when migrating to the new computer.",
    "created_at": "2019-02-25T20:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400690",
    "user": "https://github.com/soehms"
}
```

<a id='comment:11'></a>
Replying to [tscrim](#comment%3A9):
> I had a thought/question. I think we should consider putting the generators of the subgroup first then the ambient group after it in the repr. Maybe something like
> 
> ```
> Subgroup with <n> generators (
> <generators>
> ) of <ambient_group>
> ```
> That way the most pertinent information is first and it is a little easier to parse. What do you think?
> 


I agree! The reason why I choose it that way was to be consistent with `PermutationGroup_subgroup`. I think we should have it accordingly. So your suggestion would mean to change that representation string, as well. Shall I do that?


> What type of error are you expecting here:
> 
> ```
>             try:
>                 return ParentLibGAP.subgroup(self, generators)
>             except:
>                 pass
> ```
> It is better to be explicit about what errors you want to handle.
> 
> `raise ValueError("Generator %s is not in the group"%(g))` to lowercase `generator` (this is a Python convention that we try to follow).


Sorry again, I was sure to have those things fixed, but unfortunately I've lost them since my nice mint coloured `Acer One Happy` was damaged last week (the display crashed because of a full brake application in the subway). I think I lost these changes when migrating to the new computer.



---

archive/issue_comments_400691.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [soehms](#comment%3A11):\n> Replying to [tscrim](#comment%3A9):\n> > I had a thought/question. I think we should consider putting the generators of the subgroup first then the ambient group after it in the repr. Maybe something like\n> > \n> > ```\n> > Subgroup with <n> generators (\n> > <generators>\n> > ) of <ambient_group>\n> > ```\n> > That way the most pertinent information is first and it is a little easier to parse. What do you think?\n> > \n\n> \n> I agree! The reason why I choose it that way was to be consistent with `PermutationGroup_subgroup`. I think we should have it accordingly. So your suggestion would mean to change that representation string, as well. Shall I do that?\n\n\nYes, and yes please. (I should note that it is somewhat awkward English, so that might be why `PermutationGroup_subgroup` is that way. Although I think that should also (eventually) change for the same reasons.)\n\n\n> > What type of error are you expecting here:\n> > \n> > ```\n> >             try:\n> >                 return ParentLibGAP.subgroup(self, generators)\n> >             except:\n> >                 pass\n> > ```\n> > It is better to be explicit about what errors you want to handle.\n> > \n> > `raise ValueError(\"Generator %s is not in the group\"%(g))` to lowercase `generator` (this is a Python convention that we try to follow).\n\n> \n> Sorry again, I was sure to have those things fixed, but unfortunately I've lost them since my nice mint coloured `Acer One Happy` was damaged last week (the display crashed because of a full brake application in the subway). I think I lost these changes when migrating to the new computer.\n\n\nNo problem. I am sorry to hear about your computer, but I am glad you are okay.",
    "created_at": "2019-02-25T22:22:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400691",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Replying to [soehms](#comment%3A11):
> Replying to [tscrim](#comment%3A9):
> > I had a thought/question. I think we should consider putting the generators of the subgroup first then the ambient group after it in the repr. Maybe something like
> > 
> > ```
> > Subgroup with <n> generators (
> > <generators>
> > ) of <ambient_group>
> > ```
> > That way the most pertinent information is first and it is a little easier to parse. What do you think?
> > 

> 
> I agree! The reason why I choose it that way was to be consistent with `PermutationGroup_subgroup`. I think we should have it accordingly. So your suggestion would mean to change that representation string, as well. Shall I do that?


Yes, and yes please. (I should note that it is somewhat awkward English, so that might be why `PermutationGroup_subgroup` is that way. Although I think that should also (eventually) change for the same reasons.)


> > What type of error are you expecting here:
> > 
> > ```
> >             try:
> >                 return ParentLibGAP.subgroup(self, generators)
> >             except:
> >                 pass
> > ```
> > It is better to be explicit about what errors you want to handle.
> > 
> > `raise ValueError("Generator %s is not in the group"%(g))` to lowercase `generator` (this is a Python convention that we try to follow).

> 
> Sorry again, I was sure to have those things fixed, but unfortunately I've lost them since my nice mint coloured `Acer One Happy` was damaged last week (the display crashed because of a full brake application in the subway). I think I lost these changes when migrating to the new computer.


No problem. I am sorry to hear about your computer, but I am glad you are okay.



---

archive/issue_comments_400692.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7cb49f96cbe981ba5b245df431abfff14b21d5f\">c7cb49f</a></td><td><code>Merge branch 'u/soehms/matrix_groups_subgroups-25894' of git://trac.sagemath.org/sage into matrix_group_subgroups_25894</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0aec3cc92bc13009b97bab8b42bce4772edcafb4\">0aec3cc</a></td><td><code>change representation strings according to reviewers suggestion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/455bd170e362b4e26cbc2804a083dd2a5e97766b\">455bd17</a></td><td><code>fixing further doctests</code></td></tr></table>\n",
    "created_at": "2019-02-27T23:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400692",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7cb49f96cbe981ba5b245df431abfff14b21d5f">c7cb49f</a></td><td><code>Merge branch 'u/soehms/matrix_groups_subgroups-25894' of git://trac.sagemath.org/sage into matrix_group_subgroups_25894</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0aec3cc92bc13009b97bab8b42bce4772edcafb4">0aec3cc</a></td><td><code>change representation strings according to reviewers suggestion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/455bd170e362b4e26cbc2804a083dd2a5e97766b">455bd17</a></td><td><code>fixing further doctests</code></td></tr></table>




---

archive/issue_comments_400693.json:
```json
{
    "body": "**Changing commit** from \"[49a04afe2382e25904ab938d5baf489f42893426](https://github.com/sagemath/sagetrac-mirror/commit/49a04afe2382e25904ab938d5baf489f42893426)\" to \"[455bd170e362b4e26cbc2804a083dd2a5e97766b](https://github.com/sagemath/sagetrac-mirror/commit/455bd170e362b4e26cbc2804a083dd2a5e97766b)\".",
    "created_at": "2019-02-27T23:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400693",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[49a04afe2382e25904ab938d5baf489f42893426](https://github.com/sagemath/sagetrac-mirror/commit/49a04afe2382e25904ab938d5baf489f42893426)" to "[455bd170e362b4e26cbc2804a083dd2a5e97766b](https://github.com/sagemath/sagetrac-mirror/commit/455bd170e362b4e26cbc2804a083dd2a5e97766b)".



---

archive/issue_comments_400694.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2019-03-01T03:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400694",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_400695.json:
```json
{
    "body": "<a id='comment:14'></a>\nOne last little thing: could you change the doctests in the `tests/books/judson-abstract-algebra/*` to be close to how they were previously? This way we fit (close to) the 80 char/line. For example\n\n```\nSubgroup generated by\n[(2,18)(3,17)(4,16)(5,15)(6,14)(7,13)(8,12)(9,11),\n (1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)]\nof (Dihedral group of order 36 as a permutation group)\n```\nOnce all of those are changed, you can set this to a positive review.\n\nRob, I am cc-ing you since you were the one who originally added these book tests.",
    "created_at": "2019-03-01T03:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400695",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
One last little thing: could you change the doctests in the `tests/books/judson-abstract-algebra/*` to be close to how they were previously? This way we fit (close to) the 80 char/line. For example

```
Subgroup generated by
[(2,18)(3,17)(4,16)(5,15)(6,14)(7,13)(8,12)(9,11),
 (1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)]
of (Dihedral group of order 36 as a permutation group)
```
Once all of those are changed, you can set this to a positive review.

Rob, I am cc-ing you since you were the one who originally added these book tests.



---

archive/issue_events_229805.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-03-01T03:52:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25894#event-229805"
}
```



---

archive/issue_events_229806.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-03-01T03:52:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25894#event-229806"
}
```



---

archive/issue_comments_400696.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1280b9fbd954c5f43be122cafd4606872ed353c\">c1280b9</a></td><td><code>25894: corrections on doctest layout</code></td></tr></table>\n",
    "created_at": "2019-03-02T22:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400696",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1280b9fbd954c5f43be122cafd4606872ed353c">c1280b9</a></td><td><code>25894: corrections on doctest layout</code></td></tr></table>




---

archive/issue_comments_400697.json:
```json
{
    "body": "**Changing commit** from \"[455bd170e362b4e26cbc2804a083dd2a5e97766b](https://github.com/sagemath/sagetrac-mirror/commit/455bd170e362b4e26cbc2804a083dd2a5e97766b)\" to \"[c1280b9fbd954c5f43be122cafd4606872ed353c](https://github.com/sagemath/sagetrac-mirror/commit/c1280b9fbd954c5f43be122cafd4606872ed353c)\".",
    "created_at": "2019-03-02T22:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400697",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[455bd170e362b4e26cbc2804a083dd2a5e97766b](https://github.com/sagemath/sagetrac-mirror/commit/455bd170e362b4e26cbc2804a083dd2a5e97766b)" to "[c1280b9fbd954c5f43be122cafd4606872ed353c](https://github.com/sagemath/sagetrac-mirror/commit/c1280b9fbd954c5f43be122cafd4606872ed353c)".



---

archive/issue_events_229807.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2019-03-02T22:11:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25894#event-229807"
}
```



---

archive/issue_events_229808.json:
```json
{
    "actor": "https://github.com/soehms",
    "created_at": "2019-03-02T22:11:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25894#event-229808"
}
```



---

archive/issue_comments_400698.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks for the review, Travis!",
    "created_at": "2019-03-02T22:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400698",
    "user": "https://github.com/soehms"
}
```

<a id='comment:16'></a>
Thanks for the review, Travis!



---

archive/issue_comments_400699.json:
```json
{
    "body": "**Changing branch** from \"[u/soehms/matrix_groups_subgroups-25894](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/matrix_groups_subgroups-25894)\" to \"[c1280b9fbd954c5f43be122cafd4606872ed353c](https://github.com/sagemath/sagetrac-mirror/commit/c1280b9fbd954c5f43be122cafd4606872ed353c)\".",
    "created_at": "2019-03-03T22:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25894#issuecomment-400699",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/soehms/matrix_groups_subgroups-25894](https://github.com/sagemath/sagetrac-mirror/tree/u/soehms/matrix_groups_subgroups-25894)" to "[c1280b9fbd954c5f43be122cafd4606872ed353c](https://github.com/sagemath/sagetrac-mirror/commit/c1280b9fbd954c5f43be122cafd4606872ed353c)".



---

archive/issue_events_229809.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-03T22:38:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25894#event-229809"
}
```



---

archive/issue_events_229810.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-03T22:38:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25894",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25894#event-229810"
}
```
