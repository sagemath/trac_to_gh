# Issue 25344: Upgrade cddlib to 0.94j

archive/issues_025107.json:
```json
{
    "body": "and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n    \nSo why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,\n\n```    \n%timeit polytopes.six_hundred_cell(exact=False)\n```\nwent from 993ms to 246ms\n    \nSome other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.\n\nNote that we also don't need the patched random number generator as upstream now uses a portable rng.\n\n**Tarball:** https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz\n\nCC:  @kiwifb @vbraun @timokau\n\nReviewer: Erik Bray\n\nAuthor: Julian R\u00fcth\n\nBranch: u/saraedum/25344\n\nCommit: 9b7ee991f39918753d3b47ac33edce2fc919fe00\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25344\n\n",
    "closed_at": "2018-08-05T08:41:58Z",
    "created_at": "2018-05-11T15:25:02Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Upgrade cddlib to 0.94j",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25344",
    "user": "https://github.com/saraedum"
}
```
and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
    
So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,

```    
%timeit polytopes.six_hundred_cell(exact=False)
```
went from 993ms to 246ms
    
Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.

Note that we also don't need the patched random number generator as upstream now uses a portable rng.

**Tarball:** https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz

CC:  @kiwifb @vbraun @timokau

Reviewer: Erik Bray

Author: Julian Rüth

Branch: u/saraedum/25344

Commit: 9b7ee991f39918753d3b47ac33edce2fc919fe00

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25344





---

archive/issue_comments_375987.json:
```json
{
    "body": "<a id='comment:2'></a>Why wait? If we have the tarball we can do it now, and it will be uploaded to Sage's mirrors.",
    "created_at": "2018-05-14T16:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375987",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>Why wait? If we have the tarball we can do it now, and it will be uploaded to Sage's mirrors.



---

archive/issue_comments_375988.json:
```json
{
    "body": "<a id='comment:3'></a>Because I would still like to get your cygwin fixes into upstream.",
    "created_at": "2018-05-15T10:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375988",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:3'></a>Because I would still like to get your cygwin fixes into upstream.



---

archive/issue_comments_375989.json:
```json
{
    "body": "<a id='comment:4'></a>Ah, ok.",
    "created_at": "2018-05-16T15:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375989",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'></a>Ah, ok.



---

archive/issue_comments_375990.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-13T23:39:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375990",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_375991.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-13T23:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375991",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_375992.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-13T23:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375992",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_375993.json:
```json
{
    "body": "<a id='comment:8'></a>I am running --long doctests for all of Sage currently; everything in `geometry/` passes.",
    "created_at": "2018-06-13T23:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375993",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:8'></a>I am running --long doctests for all of Sage currently; everything in `geometry/` passes.



---

archive/issue_comments_375994.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,25 @@\n-Mostly this is about using `cddexec` instead of `cdd_both_reps`.\n+    and use cddexec instead of cdd_both_reps. cddexec should be faster and is,\n+    according to upstream, \"done the right way\". The change to cddexec makes some\n+    numerical issues visible, so some things that worked before are not supported\n+anymore. Essentially, we now require an inexact redundancy-free representation\n+    to be convertible back and forth between V and H representation (without loss\n+    of vertices/inequalities) before we trust it. Some standard examples, fail this\n+check. I can not really make the call on whether these are bugs in cddlib or\n+    numerical issues that could not possibly be fixed (as I do not understand this\n+    well enough.)\n+    \n+    So why this change? Mostly because we do not patch cddlib anymore and just use\n+    it as is. It is also faster in some cases (that's what upstream cared most\n+    about when the cddlib author heard about our cdd_both_reps,) e.g.,\n+    \n+    %timeit polytopes.six_hundred_cell(exact=False)\n+    went from 993ms to 246ms\n+    \n+    Some other examples see minor slowdowns because of the additional\n+    transformation that we compute initially to make sure that the conversion back\n+    and forth worked out.\n+\n+Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n \n Author: Julian R\u00fcth\n \n```\n",
    "created_at": "2018-06-13T23:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375994",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,25 @@
-Mostly this is about using `cddexec` instead of `cdd_both_reps`.
+    and use cddexec instead of cdd_both_reps. cddexec should be faster and is,
+    according to upstream, "done the right way". The change to cddexec makes some
+    numerical issues visible, so some things that worked before are not supported
+anymore. Essentially, we now require an inexact redundancy-free representation
+    to be convertible back and forth between V and H representation (without loss
+    of vertices/inequalities) before we trust it. Some standard examples, fail this
+check. I can not really make the call on whether these are bugs in cddlib or
+    numerical issues that could not possibly be fixed (as I do not understand this
+    well enough.)
+    
+    So why this change? Mostly because we do not patch cddlib anymore and just use
+    it as is. It is also faster in some cases (that's what upstream cared most
+    about when the cddlib author heard about our cdd_both_reps,) e.g.,
+    
+    %timeit polytopes.six_hundred_cell(exact=False)
+    went from 993ms to 246ms
+    
+    Some other examples see minor slowdowns because of the additional
+    transformation that we compute initially to make sure that the conversion back
+    and forth worked out.
+
+Note that we also don't need the patched random number generator as upstream now uses a portable rng.
 
 Author: Julian Rüth
 
```




---

archive/issue_comments_375995.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,15 @@\n+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec makes some numerical issues visible, so some things that worked before are not supported anymore. Essentially, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n+    \n+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,\n \n+```    \n+%timeit polytopes.six_hundred_cell(exact=False)\n+```\n+went from 993ms to 246ms\n+    \n+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.\n+\n+Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n \n Author: Julian R\u00fcth\n \n```\n",
    "created_at": "2018-06-13T23:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375995",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,15 @@
+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec makes some numerical issues visible, so some things that worked before are not supported anymore. Essentially, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
+    
+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,
 
+```    
+%timeit polytopes.six_hundred_cell(exact=False)
+```
+went from 993ms to 246ms
+    
+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.
+
+Note that we also don't need the patched random number generator as upstream now uses a portable rng.
 
 Author: Julian Rüth
 
```




---

archive/issue_comments_375996.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-14T10:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375996",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375997.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,15 @@\n+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n+    \n+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,\n \n+```    \n+%timeit polytopes.six_hundred_cell(exact=False)\n+```\n+went from 993ms to 246ms\n+    \n+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.\n+\n+Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n \n Author: Julian R\u00fcth\n \n```\n",
    "created_at": "2018-06-14T10:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375997",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,15 @@
+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
+    
+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,
 
+```    
+%timeit polytopes.six_hundred_cell(exact=False)
+```
+went from 993ms to 246ms
+    
+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.
+
+Note that we also don't need the patched random number generator as upstream now uses a portable rng.
 
 Author: Julian Rüth
 
```




---

archive/issue_comments_375998.json:
```json
{
    "body": "<a id='comment:15'></a>ccing people who previously touched the cddlib integration code.",
    "created_at": "2018-06-14T10:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375998",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:15'></a>ccing people who previously touched the cddlib integration code.



---

archive/issue_comments_375999.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-21T10:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-375999",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_376000.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-21T14:30:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376000",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_376001.json:
```json
{
    "body": "<a id='comment:19'></a>New commits:",
    "created_at": "2018-06-21T14:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376001",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:19'></a>New commits:



---

archive/issue_comments_376002.json:
```json
{
    "body": "<a id='comment:20'></a>I assume this has the Cygwin fixes in it now?",
    "created_at": "2018-06-22T14:24:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376002",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>I assume this has the Cygwin fixes in it now?



---

archive/issue_comments_376003.json:
```json
{
    "body": "<a id='comment:21'></a>Yes.",
    "created_at": "2018-07-03T15:55:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376003",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:21'></a>Yes.



---

archive/issue_comments_376004.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-03T15:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376004",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_376005.json:
```json
{
    "body": "<a id='comment:24'></a>All tests pass.",
    "created_at": "2018-07-03T17:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376005",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:24'></a>All tests pass.



---

archive/issue_comments_376006.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-10T13:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376006",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_376007.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n+    \n+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,\n \n+```    \n+%timeit polytopes.six_hundred_cell(exact=False)\n+```\n+went from 993ms to 246ms\n+    \n+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.\n+\n+Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n+\n+**Tarball:** https://trac.sagemath.org/attachment/ticket/25344/cddlib-0.94j.tar.gz\n \n Author: Julian R\u00fcth\n \n```\n",
    "created_at": "2018-07-10T13:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376007",
    "user": "https://github.com/embray"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,17 @@
+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
+    
+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,
 
+```    
+%timeit polytopes.six_hundred_cell(exact=False)
+```
+went from 993ms to 246ms
+    
+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.
+
+Note that we also don't need the patched random number generator as upstream now uses a portable rng.
+
+**Tarball:** https://trac.sagemath.org/attachment/ticket/25344/cddlib-0.94j.tar.gz
 
 Author: Julian Rüth
 
```




---

archive/issue_comments_376008.json:
```json
{
    "body": "<a id='comment:26'></a>Is the [GitHub](GitHub) (https://github.com/cddlib/cddlib) repo considered the official upstream (with approval of the original author) now or is that a fork?",
    "created_at": "2018-07-11T20:59:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376008",
    "user": "https://github.com/timokau"
}
```

<a id='comment:26'></a>Is the [GitHub](GitHub) (https://github.com/cddlib/cddlib) repo considered the official upstream (with approval of the original author) now or is that a fork?



---

archive/issue_comments_376009.json:
```json
{
    "body": "<a id='comment:27'></a>https://www.inf.ethz.ch/personal/fukudak/cdd_home/index.html still points to 0.94i.",
    "created_at": "2018-07-11T21:03:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376009",
    "user": "https://github.com/timokau"
}
```

<a id='comment:27'></a>https://www.inf.ethz.ch/personal/fukudak/cdd_home/index.html still points to 0.94i.



---

archive/issue_comments_376010.json:
```json
{
    "body": "<a id='comment:28'></a>It has the author's approval. However, the author is considering to abandon it if the recent acquisiton of github turns the platform the wrong way.",
    "created_at": "2018-07-11T21:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376010",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:28'></a>It has the author's approval. However, the author is considering to abandon it if the recent acquisiton of github turns the platform the wrong way.



---

archive/issue_comments_376011.json:
```json
{
    "body": "<a id='comment:29'></a>In any case I think we would prefer to have a link to an official tarball rather than an attachment - especially for distros (well me in Gentoo in particular).",
    "created_at": "2018-07-11T21:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376011",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:29'></a>In any case I think we would prefer to have a link to an official tarball rather than an attachment - especially for distros (well me in Gentoo in particular).



---

archive/issue_comments_376012.json:
```json
{
    "body": "<a id='comment:30'></a>Thanks for your work, that greatly simplifies packaging :) Every patch replaced by something upstream supported is a win.\n\nCould you maybe ask them to make a note on the cddlib homepage? That would help people that stumble there and also make it seem a bit more legit.",
    "created_at": "2018-07-11T21:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376012",
    "user": "https://github.com/timokau"
}
```

<a id='comment:30'></a>Thanks for your work, that greatly simplifies packaging :) Every patch replaced by something upstream supported is a win.

Could you maybe ask them to make a note on the cddlib homepage? That would help people that stumble there and also make it seem a bit more legit.



---

archive/issue_comments_376013.json:
```json
{
    "body": "<a id='comment:31'></a>Sorry, I wasn't aware of the details of the SPKG upgrade process. Actually, the checksums are for the tarball on github.",
    "created_at": "2018-07-11T21:30:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376013",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:31'></a>Sorry, I wasn't aware of the details of the SPKG upgrade process. Actually, the checksums are for the tarball on github.



---

archive/issue_comments_376014.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n+    \n+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,\n \n+```    \n+%timeit polytopes.six_hundred_cell(exact=False)\n+```\n+went from 993ms to 246ms\n+    \n+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.\n+\n+Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n+\n+**Tarball:** https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz\n \n Author: Julian R\u00fcth\n \n```\n",
    "created_at": "2018-07-11T21:30:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376014",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,17 @@
+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
+    
+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,
 
+```    
+%timeit polytopes.six_hundred_cell(exact=False)
+```
+went from 993ms to 246ms
+    
+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.
+
+Note that we also don't need the patched random number generator as upstream now uses a portable rng.
+
+**Tarball:** https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz
 
 Author: Julian Rüth
 
```




---

archive/issue_comments_376015.json:
```json
{
    "body": "The latest cddlib release",
    "created_at": "2018-07-11T21:31:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376015",
    "user": "https://github.com/saraedum"
}
```

The latest cddlib release



---

archive/issue_comments_376016.json:
```json
{
    "body": "<a id='comment:32'></a>Attachment [cddlib-0.94j.tar.gz](tarball://root/attachments/some-uuid/ticket25344/cddlib-0.94j.tar.gz) by @saraedum created at 2018-07-11 21:36:08\n\nReplying to [comment:30 gh-timokau]:\n> Thanks for your work, that greatly simplifies packaging :) Every patch replaced by something upstream supported is a win.\n> \n> Could you maybe ask them to make a note on the cddlib homepage? That would help people that stumble there and also make it seem a bit more legit.\n\nThis is now https://github.com/cddlib/cddlib/issues/18.",
    "created_at": "2018-07-11T21:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376016",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:32'></a>Attachment [cddlib-0.94j.tar.gz](tarball://root/attachments/some-uuid/ticket25344/cddlib-0.94j.tar.gz) by @saraedum created at 2018-07-11 21:36:08

Replying to [comment:30 gh-timokau]:
> Thanks for your work, that greatly simplifies packaging :) Every patch replaced by something upstream supported is a win.
> 
> Could you maybe ask them to make a note on the cddlib homepage? That would help people that stumble there and also make it seem a bit more legit.

This is now https://github.com/cddlib/cddlib/issues/18.



---

archive/issue_comments_376017.json:
```json
{
    "body": "<a id='comment:33'></a>A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.",
    "created_at": "2018-07-11T22:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376017",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:33'></a>A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.



---

archive/issue_comments_376018.json:
```json
{
    "body": "<a id='comment:34'></a>Replying to [comment:33 fbissey]:\n> A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.\n\n\nThe tarball came out of `make distcheck`. I don't understand the question about the intermediate autotools files.",
    "created_at": "2018-07-12T09:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376018",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:34'></a>Replying to [comment:33 fbissey]:
> A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.


The tarball came out of `make distcheck`. I don't understand the question about the intermediate autotools files.



---

archive/issue_comments_376019.json:
```json
{
    "body": "<a id='comment:35'></a>Replying to [comment:34 saraedum]:\n> Replying to [comment:33 fbissey]:\n> > A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.\n\n> \n> The tarball came out of `make distcheck`. I don't understand the question about the intermediate autotools files.\n\n\nGood enough I guess, although I never used that target. The question about intermediate autotools files is related to `spkg-src`, I looked at what it is supposed to do. `spkg-src` is usually to take upstream and then produce a new tarball for distribution in sage for whatever reasons. That particular `spkg-src` mostly does cleaning. But if we use the tarball produced by `make distcheck` we don't need it at all and can remove it.",
    "created_at": "2018-07-12T09:14:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376019",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'></a>Replying to [comment:34 saraedum]:
> Replying to [comment:33 fbissey]:
> > A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.

> 
> The tarball came out of `make distcheck`. I don't understand the question about the intermediate autotools files.


Good enough I guess, although I never used that target. The question about intermediate autotools files is related to `spkg-src`, I looked at what it is supposed to do. `spkg-src` is usually to take upstream and then produce a new tarball for distribution in sage for whatever reasons. That particular `spkg-src` mostly does cleaning. But if we use the tarball produced by `make distcheck` we don't need it at all and can remove it.



---

archive/issue_comments_376020.json:
```json
{
    "body": "<a id='comment:36'></a>update milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376020",
    "user": "https://github.com/videlec"
}
```

<a id='comment:36'></a>update milestone 8.3 -> 8.4



---

archive/issue_events_063541.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25344#event-63541"
}
```



---

archive/issue_comments_376021.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-08-04T21:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_376022.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2018-08-04T21:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376022",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_376023.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-08-05T03:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376023",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_376024.json:
```json
{
    "body": "<a id='comment:38'></a>trivial merge",
    "created_at": "2018-08-05T03:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376024",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:38'></a>trivial merge



---

archive/issue_comments_376025.json:
```json
{
    "body": "<a id='comment:39'></a>Don't modify positively reviewed tickets unless you have a reason. There was no merge conflict, so no need to do anything. I'll ignore the superfluous merge.",
    "created_at": "2018-08-05T08:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376025",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:39'></a>Don't modify positively reviewed tickets unless you have a reason. There was no merge conflict, so no need to do anything. I'll ignore the superfluous merge.



---

archive/issue_comments_376026.json:
```json
{
    "body": "<a id='comment:40'></a>New commits:",
    "created_at": "2018-08-05T08:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376026",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'></a>New commits:



---

archive/issue_events_063542.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:41:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25344#event-63542"
}
```



---

archive/issue_comments_376027.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-05T08:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376027",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_376028.json:
```json
{
    "body": "<a id='comment:42'></a>New commits:",
    "created_at": "2018-08-05T08:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376028",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:42'></a>New commits:



---

archive/issue_comments_376029.json:
```json
{
    "body": "<a id='comment:43'></a>The trac plugin automatically updates the commit field to the branch head, even though this is not the version that was merged (=c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4).",
    "created_at": "2018-08-05T08:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376029",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:43'></a>The trac plugin automatically updates the commit field to the branch head, even though this is not the version that was merged (=c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4).



---

archive/issue_comments_376030.json:
```json
{
    "body": "<a id='comment:44'></a>I needed a clean patch against 8.3 for Debian and Conda distribution so I decided to push the merge so that I can say in the packaging scripts that this is actually the patch exactly as it is going into upstream.\n\nI am sorry if this caused some trouble for you. I didn't see the harm of merging in develop. What is the problem other than some noise here on the ticket?",
    "created_at": "2018-08-05T12:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376030",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:44'></a>I needed a clean patch against 8.3 for Debian and Conda distribution so I decided to push the merge so that I can say in the packaging scripts that this is actually the patch exactly as it is going into upstream.

I am sorry if this caused some trouble for you. I didn't see the harm of merging in develop. What is the problem other than some noise here on the ticket?



---

archive/issue_comments_376031.json:
```json
{
    "body": "<a id='comment:45'></a>The problem is that I find that the branch has changed after running the buildbot, when I'm about to close the ticket....",
    "created_at": "2018-08-05T17:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376031",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:45'></a>The problem is that I find that the branch has changed after running the buildbot, when I'm about to close the ticket....



---

archive/issue_comments_376032.json:
```json
{
    "body": "<a id='comment:46'></a>I see. Sorry for that then.",
    "created_at": "2018-08-05T18:00:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25344#issuecomment-376032",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:46'></a>I see. Sorry for that then.
