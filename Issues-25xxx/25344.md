# Issue 25344: Upgrade cddlib to 0.94j

archive/issues_025107.json:
```json
{
    "assignees": [],
    "body": "and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n    \nSo why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,\n\n```    \n%timeit polytopes.six_hundred_cell(exact=False)\n```\nwent from 993ms to 246ms\n    \nSome other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.\n\nNote that we also don't need the patched random number generator as upstream now uses a portable rng.\n\n**Tarball:** https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz\n\nCC:  @kiwifb @vbraun @timokau\n\nComponent: **packages: standard**\n\nAuthor: **Julian R\u00fcth**\n\nBranch/Commit: **[u/saraedum/25344](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/25344) @ [`9b7ee99`](https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00)**\n\nReviewer: **Erik Bray**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25344_\n\n",
    "closed_at": "2018-08-05T08:41:58Z",
    "created_at": "2018-05-11T15:25:02Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade cddlib to 0.94j",
    "type": "issue",
    "updated_at": "2018-08-05T18:00:25Z",
    "url": "https://github.com/sagemath/sage/issues/25344",
    "user": "https://github.com/saraedum"
}
```
and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
    
So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,

```    
%timeit polytopes.six_hundred_cell(exact=False)
```
went from 993ms to 246ms
    
Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.

Note that we also don't need the patched random number generator as upstream now uses a portable rng.

**Tarball:** https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz

CC:  @kiwifb @vbraun @timokau

Component: **packages: standard**

Author: **Julian RÃ¼th**

Branch/Commit: **[u/saraedum/25344](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/25344) @ [`9b7ee99`](https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00)**

Reviewer: **Erik Bray**

_Issue created by migration from https://trac.sagemath.org/ticket/25344_





---

archive/issue_events_347637.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-05-11T15:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347637"
}
```



---

archive/issue_events_347638.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-05-11T15:25:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347638"
}
```



---

archive/issue_events_347639.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-05-11T15:25:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347639"
}
```



---

archive/issue_comments_387453.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWhy wait? If we have the tarball we can do it now, and it will be uploaded to Sage's mirrors.",
    "created_at": "2018-05-14T16:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387453",
    "user": "https://github.com/embray"
}
```

<div id="comment:2" align="right">comment:2</div>

Why wait? If we have the tarball we can do it now, and it will be uploaded to Sage's mirrors.



---

archive/issue_comments_387454.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nBecause I would still like to get your cygwin fixes into upstream.",
    "created_at": "2018-05-15T10:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387454",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:3" align="right">comment:3</div>

Because I would still like to get your cygwin fixes into upstream.



---

archive/issue_comments_387455.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAh, ok.",
    "created_at": "2018-05-16T15:26:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387455",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

Ah, ok.



---

archive/issue_comments_387456.json:
```json
{
    "body": "Branch: **[u/saraedum/25344](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/25344)**",
    "created_at": "2018-06-13T23:33:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387456",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/25344](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/25344)**



---

archive/issue_comments_387457.json:
```json
{
    "body": "Commit: **[`3df595d`](https://github.com/sagemath/sagetrac-mirror/commit/3df595dfb1b407861e699259bde90aa715bb2e31)**",
    "created_at": "2018-06-13T23:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387457",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`3df595d`](https://github.com/sagemath/sagetrac-mirror/commit/3df595dfb1b407861e699259bde90aa715bb2e31)**



---

archive/issue_comments_387458.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3df595dfb1b407861e699259bde90aa715bb2e31\"><code>3df595d</code></a></td><td><code>Upgrade cddlib</code></td></tr></table>\n",
    "created_at": "2018-06-13T23:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387458",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3df595dfb1b407861e699259bde90aa715bb2e31"><code>3df595d</code></a></td><td><code>Upgrade cddlib</code></td></tr></table>




---

archive/issue_comments_387459.json:
```json
{
    "body": "Changed commit from **[`3df595d`](https://github.com/sagemath/sagetrac-mirror/commit/3df595dfb1b407861e699259bde90aa715bb2e31)** to **[`4e87711`](https://github.com/sagemath/sagetrac-mirror/commit/4e877117498f1cbd0c8f0cc32539ccbf3c9b1c01)**",
    "created_at": "2018-06-13T23:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387459",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3df595d`](https://github.com/sagemath/sagetrac-mirror/commit/3df595dfb1b407861e699259bde90aa715bb2e31)** to **[`4e87711`](https://github.com/sagemath/sagetrac-mirror/commit/4e877117498f1cbd0c8f0cc32539ccbf3c9b1c01)**



---

archive/issue_comments_387460.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e877117498f1cbd0c8f0cc32539ccbf3c9b1c01\"><code>4e87711</code></a></td><td><code>Upgrade cddlib</code></td></tr></table>\n",
    "created_at": "2018-06-13T23:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387460",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e877117498f1cbd0c8f0cc32539ccbf3c9b1c01"><code>4e87711</code></a></td><td><code>Upgrade cddlib</code></td></tr></table>




---

archive/issue_comments_387461.json:
```json
{
    "body": "Work Issues: **do all doctests pass?**",
    "created_at": "2018-06-13T23:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387461",
    "user": "https://github.com/saraedum"
}
```

Work Issues: **do all doctests pass?**



---

archive/issue_events_347640.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-06-13T23:44:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347640"
}
```



---

archive/issue_comments_387462.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI am running --long doctests for all of Sage currently; everything in `geometry/` passes.",
    "created_at": "2018-06-13T23:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387462",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:8" align="right">comment:8</div>

I am running --long doctests for all of Sage currently; everything in `geometry/` passes.



---

archive/issue_comments_387463.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,22 @@\n-Mostly this is about using `cddexec` instead of `cdd_both_reps`.\n+    and use cddexec instead of cdd_both_reps. cddexec should be faster and is,\n+    according to upstream, \"done the right way\". The change to cddexec makes some\n+    numerical issues visible, so some things that worked before are not supported\n+anymore. Essentially, we now require an inexact redundancy-free representation\n+    to be convertible back and forth between V and H representation (without loss\n+    of vertices/inequalities) before we trust it. Some standard examples, fail this\n+check. I can not really make the call on whether these are bugs in cddlib or\n+    numerical issues that could not possibly be fixed (as I do not understand this\n+    well enough.)\n+    \n+    So why this change? Mostly because we do not patch cddlib anymore and just use\n+    it as is. It is also faster in some cases (that's what upstream cared most\n+    about when the cddlib author heard about our cdd_both_reps,) e.g.,\n+    \n+    %timeit polytopes.six_hundred_cell(exact=False)\n+    went from 993ms to 246ms\n+    \n+    Some other examples see minor slowdowns because of the additional\n+    transformation that we compute initially to make sure that the conversion back\n+    and forth worked out.\n+\n+Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n``````\n",
    "created_at": "2018-06-13T23:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387463",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,22 @@
-Mostly this is about using `cddexec` instead of `cdd_both_reps`.
+    and use cddexec instead of cdd_both_reps. cddexec should be faster and is,
+    according to upstream, "done the right way". The change to cddexec makes some
+    numerical issues visible, so some things that worked before are not supported
+anymore. Essentially, we now require an inexact redundancy-free representation
+    to be convertible back and forth between V and H representation (without loss
+    of vertices/inequalities) before we trust it. Some standard examples, fail this
+check. I can not really make the call on whether these are bugs in cddlib or
+    numerical issues that could not possibly be fixed (as I do not understand this
+    well enough.)
+    
+    So why this change? Mostly because we do not patch cddlib anymore and just use
+    it as is. It is also faster in some cases (that's what upstream cared most
+    about when the cddlib author heard about our cdd_both_reps,) e.g.,
+    
+    %timeit polytopes.six_hundred_cell(exact=False)
+    went from 993ms to 246ms
+    
+    Some other examples see minor slowdowns because of the additional
+    transformation that we compute initially to make sure that the conversion back
+    and forth worked out.
+
+Note that we also don't need the patched random number generator as upstream now uses a portable rng.
``````




---

archive/issue_comments_387464.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,22 +1,12 @@\n-    and use cddexec instead of cdd_both_reps. cddexec should be faster and is,\n-    according to upstream, \"done the right way\". The change to cddexec makes some\n-    numerical issues visible, so some things that worked before are not supported\n-anymore. Essentially, we now require an inexact redundancy-free representation\n-    to be convertible back and forth between V and H representation (without loss\n-    of vertices/inequalities) before we trust it. Some standard examples, fail this\n-check. I can not really make the call on whether these are bugs in cddlib or\n-    numerical issues that could not possibly be fixed (as I do not understand this\n-    well enough.)\n+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec makes some numerical issues visible, so some things that worked before are not supported anymore. Essentially, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n     \n-    So why this change? Mostly because we do not patch cddlib anymore and just use\n-    it as is. It is also faster in some cases (that's what upstream cared most\n-    about when the cddlib author heard about our cdd_both_reps,) e.g.,\n+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,\n+\n+```    \n+%timeit polytopes.six_hundred_cell(exact=False)\n+```\n+went from 993ms to 246ms\n     \n-    %timeit polytopes.six_hundred_cell(exact=False)\n-    went from 993ms to 246ms\n-    \n-    Some other examples see minor slowdowns because of the additional\n-    transformation that we compute initially to make sure that the conversion back\n-    and forth worked out.\n+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.\n \n Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n``````\n",
    "created_at": "2018-06-13T23:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387464",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,22 +1,12 @@
-    and use cddexec instead of cdd_both_reps. cddexec should be faster and is,
-    according to upstream, "done the right way". The change to cddexec makes some
-    numerical issues visible, so some things that worked before are not supported
-anymore. Essentially, we now require an inexact redundancy-free representation
-    to be convertible back and forth between V and H representation (without loss
-    of vertices/inequalities) before we trust it. Some standard examples, fail this
-check. I can not really make the call on whether these are bugs in cddlib or
-    numerical issues that could not possibly be fixed (as I do not understand this
-    well enough.)
+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec makes some numerical issues visible, so some things that worked before are not supported anymore. Essentially, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
     
-    So why this change? Mostly because we do not patch cddlib anymore and just use
-    it as is. It is also faster in some cases (that's what upstream cared most
-    about when the cddlib author heard about our cdd_both_reps,) e.g.,
+So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,
+
+```    
+%timeit polytopes.six_hundred_cell(exact=False)
+```
+went from 993ms to 246ms
     
-    %timeit polytopes.six_hundred_cell(exact=False)
-    went from 993ms to 246ms
-    
-    Some other examples see minor slowdowns because of the additional
-    transformation that we compute initially to make sure that the conversion back
-    and forth worked out.
+Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.
 
 Note that we also don't need the patched random number generator as upstream now uses a portable rng.
``````




---

archive/issue_comments_387465.json:
```json
{
    "body": "Changed work issues from **do all doctests pass?** to **do all doctests pass?, the tarball is not final yet**",
    "created_at": "2018-06-13T23:46:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387465",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **do all doctests pass?** to **do all doctests pass?, the tarball is not final yet**



---

archive/issue_comments_387466.json:
```json
{
    "body": "Changed work issues from **do all doctests pass?, the tarball is not final yet** to **the tarball is not final yet**",
    "created_at": "2018-06-14T09:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387466",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **do all doctests pass?, the tarball is not final yet** to **the tarball is not final yet**



---

archive/issue_comments_387467.json:
```json
{
    "body": "Changed commit from **[`4e87711`](https://github.com/sagemath/sagetrac-mirror/commit/4e877117498f1cbd0c8f0cc32539ccbf3c9b1c01)** to **[`af9d5be`](https://github.com/sagemath/sagetrac-mirror/commit/af9d5be91821223f0f191910a3a8d5f0e38169a0)**",
    "created_at": "2018-06-14T10:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387467",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4e87711`](https://github.com/sagemath/sagetrac-mirror/commit/4e877117498f1cbd0c8f0cc32539ccbf3c9b1c01)** to **[`af9d5be`](https://github.com/sagemath/sagetrac-mirror/commit/af9d5be91821223f0f191910a3a8d5f0e38169a0)**



---

archive/issue_comments_387468.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14f2c328045b8326ddb279a3d5b49a4419fb2650\"><code>14f2c32</code></a></td><td><code>Fix failing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af9d5be91821223f0f191910a3a8d5f0e38169a0\"><code>af9d5be</code></a></td><td><code>Relax cddlib sanity checks</code></td></tr></table>\n",
    "created_at": "2018-06-14T10:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387468",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14f2c328045b8326ddb279a3d5b49a4419fb2650"><code>14f2c32</code></a></td><td><code>Fix failing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af9d5be91821223f0f191910a3a8d5f0e38169a0"><code>af9d5be</code></a></td><td><code>Relax cddlib sanity checks</code></td></tr></table>




---

archive/issue_comments_387469.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec makes some numerical issues visible, so some things that worked before are not supported anymore. Essentially, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, \"done the right way\". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)\n     \n So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,\n \n``````\n",
    "created_at": "2018-06-14T10:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387469",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec makes some numerical issues visible, so some things that worked before are not supported anymore. Essentially, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
+and use cddexec instead of cdd_both_reps. cddexec should be faster and is, according to upstream, "done the right way". The change to cddexec and the version upgrade make some numerical issues visible, so some things that worked before are not supported anymore. Additionally, we now require an inexact redundancy-free representation to be convertible back and forth between V and H representation (without loss of vertices/inequalities) before we trust it. Some standard examples, fail this check. I can not really make the call on whether these are bugs in cddlib or numerical issues that could not possibly be fixed (as I do not understand this well enough.)
     
 So why this change? Mostly because we do not patch cddlib anymore and just use it as is. It is also faster in some cases (that's what upstream cared most about when the cddlib author heard about our cdd_both_reps,) e.g.,
 
``````




---

archive/issue_comments_387470.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nccing people who previously touched the cddlib integration code.",
    "created_at": "2018-06-14T10:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387470",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:15" align="right">comment:15</div>

ccing people who previously touched the cddlib integration code.



---

archive/issue_comments_387471.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9a9a03d7e78b4942a62204080805cc05c018b35\"><code>b9a9a03</code></a></td><td><code>Upgrade cddlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a649fcb48922f2e211df3f5c6ee000342465711\"><code>9a649fc</code></a></td><td><code>Fix failing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4048677393f7088d1aa9a2c1392ed95d809d31c\"><code>c404867</code></a></td><td><code>Relax cddlib sanity checks</code></td></tr></table>\n",
    "created_at": "2018-06-21T10:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387471",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9a9a03d7e78b4942a62204080805cc05c018b35"><code>b9a9a03</code></a></td><td><code>Upgrade cddlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a649fcb48922f2e211df3f5c6ee000342465711"><code>9a649fc</code></a></td><td><code>Fix failing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4048677393f7088d1aa9a2c1392ed95d809d31c"><code>c404867</code></a></td><td><code>Relax cddlib sanity checks</code></td></tr></table>




---

archive/issue_comments_387472.json:
```json
{
    "body": "Changed commit from **[`af9d5be`](https://github.com/sagemath/sagetrac-mirror/commit/af9d5be91821223f0f191910a3a8d5f0e38169a0)** to **[`c404867`](https://github.com/sagemath/sagetrac-mirror/commit/c4048677393f7088d1aa9a2c1392ed95d809d31c)**",
    "created_at": "2018-06-21T10:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387472",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`af9d5be`](https://github.com/sagemath/sagetrac-mirror/commit/af9d5be91821223f0f191910a3a8d5f0e38169a0)** to **[`c404867`](https://github.com/sagemath/sagetrac-mirror/commit/c4048677393f7088d1aa9a2c1392ed95d809d31c)**



---

archive/issue_comments_387473.json:
```json
{
    "body": "Changed work issues from **the tarball is not final yet** to **do all doctests pass?**",
    "created_at": "2018-06-21T14:27:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387473",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **the tarball is not final yet** to **do all doctests pass?**



---

archive/issue_comments_387474.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32987a6aa197b274cb4bf550a8fa5567250924a5\"><code>32987a6</code></a></td><td><code>Update hashes with actual release hashes</code></td></tr></table>\n",
    "created_at": "2018-06-21T14:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387474",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32987a6aa197b274cb4bf550a8fa5567250924a5"><code>32987a6</code></a></td><td><code>Update hashes with actual release hashes</code></td></tr></table>




---

archive/issue_comments_387475.json:
```json
{
    "body": "Changed commit from **[`c404867`](https://github.com/sagemath/sagetrac-mirror/commit/c4048677393f7088d1aa9a2c1392ed95d809d31c)** to **[`32987a6`](https://github.com/sagemath/sagetrac-mirror/commit/32987a6aa197b274cb4bf550a8fa5567250924a5)**",
    "created_at": "2018-06-21T14:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387475",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c404867`](https://github.com/sagemath/sagetrac-mirror/commit/c4048677393f7088d1aa9a2c1392ed95d809d31c)** to **[`32987a6`](https://github.com/sagemath/sagetrac-mirror/commit/32987a6aa197b274cb4bf550a8fa5567250924a5)**



---

archive/issue_comments_387476.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32987a6aa197b274cb4bf550a8fa5567250924a5\"><code>32987a6</code></a></td><td><code>Update hashes with actual release hashes</code></td></tr></table>\n",
    "created_at": "2018-06-21T14:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387476",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:19"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32987a6aa197b274cb4bf550a8fa5567250924a5"><code>32987a6</code></a></td><td><code>Update hashes with actual release hashes</code></td></tr></table>




---

archive/issue_events_347641.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-06-21T14:30:08Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "title_is": "Upgrade cddlib to 0.94j",
    "title_was": "Upgrade cddlib to 0.94j (once it's released)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347641"
}
```



---

archive/issue_comments_387477.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI assume this has the Cygwin fixes in it now?",
    "created_at": "2018-06-22T14:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387477",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

I assume this has the Cygwin fixes in it now?



---

archive/issue_comments_387478.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nYes.",
    "created_at": "2018-07-03T15:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387478",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:21" align="right">comment:21</div>

Yes.



---

archive/issue_comments_387479.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4\"><code>c4b0f10</code></a></td><td><code>Merge branch '25344' into HEAD</code></td></tr></table>\n",
    "created_at": "2018-07-03T15:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387479",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4"><code>c4b0f10</code></a></td><td><code>Merge branch '25344' into HEAD</code></td></tr></table>




---

archive/issue_comments_387480.json:
```json
{
    "body": "Changed commit from **[`32987a6`](https://github.com/sagemath/sagetrac-mirror/commit/32987a6aa197b274cb4bf550a8fa5567250924a5)** to **[`c4b0f10`](https://github.com/sagemath/sagetrac-mirror/commit/c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4)**",
    "created_at": "2018-07-03T15:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387480",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`32987a6`](https://github.com/sagemath/sagetrac-mirror/commit/32987a6aa197b274cb4bf550a8fa5567250924a5)** to **[`c4b0f10`](https://github.com/sagemath/sagetrac-mirror/commit/c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4)**



---

archive/issue_comments_387481.json:
```json
{
    "body": "Changed work issues from **do all doctests pass?** to none",
    "created_at": "2018-07-03T17:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387481",
    "user": "https://github.com/saraedum"
}
```

Changed work issues from **do all doctests pass?** to none



---

archive/issue_comments_387482.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAll tests pass.",
    "created_at": "2018-07-03T17:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387482",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:24" align="right">comment:24</div>

All tests pass.



---

archive/issue_comments_387483.json:
```json
{
    "body": "Reviewer: **Erik Bray**",
    "created_at": "2018-07-10T13:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387483",
    "user": "https://github.com/embray"
}
```

Reviewer: **Erik Bray**



---

archive/issue_events_347642.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-10T13:53:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347642"
}
```



---

archive/issue_events_347643.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-10T13:53:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347643"
}
```



---

archive/issue_comments_387484.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,3 +10,5 @@\n Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.\n \n Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n+\n+**Tarball:** https://github.com/sagemath/sage/files/ticket25344/cddlib-0.94j.tar.gz\n``````\n",
    "created_at": "2018-07-10T13:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387484",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,3 +10,5 @@
 Some other examples see minor slowdowns because of the additional transformation that we compute initially to make sure that the conversion back and forth worked out.
 
 Note that we also don't need the patched random number generator as upstream now uses a portable rng.
+
+**Tarball:** https://github.com/sagemath/sage/files/ticket25344/cddlib-0.94j.tar.gz
``````




---

archive/issue_comments_387485.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nIs the [GitHub](../wiki/GitHub) (https://github.com/cddlib/cddlib) repo considered the official upstream (with approval of the original author) now or is that a fork?",
    "created_at": "2018-07-11T20:59:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387485",
    "user": "https://github.com/timokau"
}
```

<div id="comment:26" align="right">comment:26</div>

Is the [GitHub](../wiki/GitHub) (https://github.com/cddlib/cddlib) repo considered the official upstream (with approval of the original author) now or is that a fork?



---

archive/issue_comments_387486.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nhttps://www.inf.ethz.ch/personal/fukudak/cdd_home/index.html still points to 0.94i.",
    "created_at": "2018-07-11T21:03:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387486",
    "user": "https://github.com/timokau"
}
```

<div id="comment:27" align="right">comment:27</div>

https://www.inf.ethz.ch/personal/fukudak/cdd_home/index.html still points to 0.94i.



---

archive/issue_comments_387487.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIt has the author's approval. However, the author is considering to abandon it if the recent acquisiton of github turns the platform the wrong way.",
    "created_at": "2018-07-11T21:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387487",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:28" align="right">comment:28</div>

It has the author's approval. However, the author is considering to abandon it if the recent acquisiton of github turns the platform the wrong way.



---

archive/issue_comments_387488.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nIn any case I think we would prefer to have a link to an official tarball rather than an attachment - especially for distros (well me in Gentoo in particular).",
    "created_at": "2018-07-11T21:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387488",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:29" align="right">comment:29</div>

In any case I think we would prefer to have a link to an official tarball rather than an attachment - especially for distros (well me in Gentoo in particular).



---

archive/issue_comments_387489.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThanks for your work, that greatly simplifies packaging :) Every patch replaced by something upstream supported is a win.\n\nCould you maybe ask them to make a note on the cddlib homepage? That would help people that stumble there and also make it seem a bit more legit.",
    "created_at": "2018-07-11T21:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387489",
    "user": "https://github.com/timokau"
}
```

<div id="comment:30" align="right">comment:30</div>

Thanks for your work, that greatly simplifies packaging :) Every patch replaced by something upstream supported is a win.

Could you maybe ask them to make a note on the cddlib homepage? That would help people that stumble there and also make it seem a bit more legit.



---

archive/issue_comments_387490.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nSorry, I wasn't aware of the details of the SPKG upgrade process. Actually, the checksums are for the tarball on github.",
    "created_at": "2018-07-11T21:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387490",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:31" align="right">comment:31</div>

Sorry, I wasn't aware of the details of the SPKG upgrade process. Actually, the checksums are for the tarball on github.



---

archive/issue_comments_387491.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n \n Note that we also don't need the patched random number generator as upstream now uses a portable rng.\n \n-**Tarball:** https://github.com/sagemath/sage/files/ticket25344/cddlib-0.94j.tar.gz\n+**Tarball:** https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz\n``````\n",
    "created_at": "2018-07-11T21:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387491",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 
 Note that we also don't need the patched random number generator as upstream now uses a portable rng.
 
-**Tarball:** https://github.com/sagemath/sage/files/ticket25344/cddlib-0.94j.tar.gz
+**Tarball:** https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz
``````




---

archive/issue_comments_387492.json:
```json
{
    "body": "The latest cddlib release",
    "created_at": "2018-07-11T21:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387492",
    "user": "https://github.com/saraedum"
}
```

The latest cddlib release



---

archive/issue_comments_387493.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nAttachment: **[cddlib-0.94j.tar.gz](https://github.com/sagemath/sage/files/ticket25344/cddlib-0.94j.tar.gz)**\n\nReplying to [@timokau](#comment%3A30):\n> Thanks for your work, that greatly simplifies packaging :) Every patch replaced by something upstream supported is a win.\n> \n> Could you maybe ask them to make a note on the cddlib homepage? That would help people that stumble there and also make it seem a bit more legit.\n\nThis is now https://github.com/cddlib/cddlib/issues/18.",
    "created_at": "2018-07-11T21:36:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387493",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:32" align="right">comment:32</div>

Attachment: **[cddlib-0.94j.tar.gz](https://github.com/sagemath/sage/files/ticket25344/cddlib-0.94j.tar.gz)**

Replying to [@timokau](#comment%3A30):
> Thanks for your work, that greatly simplifies packaging :) Every patch replaced by something upstream supported is a win.
> 
> Could you maybe ask them to make a note on the cddlib homepage? That would help people that stumble there and also make it seem a bit more legit.

This is now https://github.com/cddlib/cddlib/issues/18.



---

archive/issue_comments_387494.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nA link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.",
    "created_at": "2018-07-11T22:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387494",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:33" align="right">comment:33</div>

A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.



---

archive/issue_comments_387495.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@kiwifb](#comment%3A33):\n> A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.\n\nThe tarball came out of `make distcheck`. I don't understand the question about the intermediate autotools files.",
    "created_at": "2018-07-12T09:07:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387495",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@kiwifb](#comment%3A33):
> A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.

The tarball came out of `make distcheck`. I don't understand the question about the intermediate autotools files.



---

archive/issue_comments_387496.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@saraedum](#comment%3A34):\n> Replying to [@kiwifb](#comment%3A33):\n> > A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.\n\n> \n> The tarball came out of `make distcheck`. I don't understand the question about the intermediate autotools files.\n\nGood enough I guess, although I never used that target. The question about intermediate autotools files is related to `spkg-src`, I looked at what it is supposed to do. `spkg-src` is usually to take upstream and then produce a new tarball for distribution in sage for whatever reasons. That particular `spkg-src` mostly does cleaning. But if we use the tarball produced by `make distcheck` we don't need it at all and can remove it.",
    "created_at": "2018-07-12T09:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387496",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@saraedum](#comment%3A34):
> Replying to [@kiwifb](#comment%3A33):
> > A link is enough. If we are going to use the tarball  https://github.com/cddlib/cddlib/releases/download/0.94j/cddlib-0.94j.tar.gz then spkg-src is not needed. As it been prepared with `make sdist` (and then why not `sdist-bzip2` or whatever the option is)? If so there shouldn't be any intermediate autotools files to clean.

> 
> The tarball came out of `make distcheck`. I don't understand the question about the intermediate autotools files.

Good enough I guess, although I never used that target. The question about intermediate autotools files is related to `spkg-src`, I looked at what it is supposed to do. `spkg-src` is usually to take upstream and then produce a new tarball for distribution in sage for whatever reasons. That particular `spkg-src` mostly does cleaning. But if we use the tarball produced by `make distcheck` we don't need it at all and can remove it.



---

archive/issue_comments_387497.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387497",
    "user": "https://github.com/videlec"
}
```

<div id="comment:36" align="right">comment:36</div>

update milestone 8.3 -> 8.4



---

archive/issue_events_347644.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347644"
}
```



---

archive/issue_events_347645.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347645"
}
```



---

archive/issue_comments_387498.json:
```json
{
    "body": "Changed commit from **[`c4b0f10`](https://github.com/sagemath/sagetrac-mirror/commit/c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4)** to **[`9b7ee99`](https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00)**",
    "created_at": "2018-08-04T21:37:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387498",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c4b0f10`](https://github.com/sagemath/sagetrac-mirror/commit/c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4)** to **[`9b7ee99`](https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00)**



---

archive/issue_events_347646.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2018-08-04T21:37:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347646"
}
```



---

archive/issue_events_347647.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2018-08-04T21:37:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347647"
}
```



---

archive/issue_comments_387499.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00\"><code>9b7ee99</code></a></td><td><code>Merge remote-tracking branch 'trac/develop' into 25344</code></td></tr></table>\n",
    "created_at": "2018-08-04T21:37:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387499",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00"><code>9b7ee99</code></a></td><td><code>Merge remote-tracking branch 'trac/develop' into 25344</code></td></tr></table>




---

archive/issue_events_347648.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-05T03:41:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347648"
}
```



---

archive/issue_events_347649.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-05T03:41:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347649"
}
```



---

archive/issue_comments_387500.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\ntrivial merge",
    "created_at": "2018-08-05T03:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387500",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:38" align="right">comment:38</div>

trivial merge



---

archive/issue_comments_387501.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nDon't modify positively reviewed tickets unless you have a reason. There was no merge conflict, so no need to do anything. I'll ignore the superfluous merge.",
    "created_at": "2018-08-05T08:39:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387501",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

Don't modify positively reviewed tickets unless you have a reason. There was no merge conflict, so no need to do anything. I'll ignore the superfluous merge.



---

archive/issue_comments_387502.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00\"><code>9b7ee99</code></a></td><td><code>Merge remote-tracking branch 'trac/develop' into 25344</code></td></tr></table>\n",
    "created_at": "2018-08-05T08:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387502",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:40"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00"><code>9b7ee99</code></a></td><td><code>Merge remote-tracking branch 'trac/develop' into 25344</code></td></tr></table>




---

archive/issue_events_347650.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:41:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347650"
}
```



---

archive/issue_events_347651.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:41:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25344#event-347651"
}
```



---

archive/issue_comments_387503.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00\"><code>9b7ee99</code></a></td><td><code>Merge remote-tracking branch 'trac/develop' into 25344</code></td></tr></table>\n",
    "created_at": "2018-08-05T08:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387503",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:42"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b7ee991f39918753d3b47ac33edce2fc919fe00"><code>9b7ee99</code></a></td><td><code>Merge remote-tracking branch 'trac/develop' into 25344</code></td></tr></table>




---

archive/issue_comments_387504.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nThe trac plugin automatically updates the commit field to the branch head, even though this is not the version that was merged (=c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4).",
    "created_at": "2018-08-05T08:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387504",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:43" align="right">comment:43</div>

The trac plugin automatically updates the commit field to the branch head, even though this is not the version that was merged (=c4b0f10c614c7bfa5efaa8ab3908ccb687e992e4).



---

archive/issue_comments_387505.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nI needed a clean patch against 8.3 for Debian and Conda distribution so I decided to push the merge so that I can say in the packaging scripts that this is actually the patch exactly as it is going into upstream.\n\nI am sorry if this caused some trouble for you. I didn't see the harm of merging in develop. What is the problem other than some noise here on the ticket?",
    "created_at": "2018-08-05T12:02:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387505",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:44" align="right">comment:44</div>

I needed a clean patch against 8.3 for Debian and Conda distribution so I decided to push the merge so that I can say in the packaging scripts that this is actually the patch exactly as it is going into upstream.

I am sorry if this caused some trouble for you. I didn't see the harm of merging in develop. What is the problem other than some noise here on the ticket?



---

archive/issue_comments_387506.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThe problem is that I find that the branch has changed after running the buildbot, when I'm about to close the ticket....",
    "created_at": "2018-08-05T17:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387506",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:45" align="right">comment:45</div>

The problem is that I find that the branch has changed after running the buildbot, when I'm about to close the ticket....



---

archive/issue_comments_387507.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI see. Sorry for that then.",
    "created_at": "2018-08-05T18:00:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25344#issuecomment-387507",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:46" align="right">comment:46</div>

I see. Sorry for that then.
