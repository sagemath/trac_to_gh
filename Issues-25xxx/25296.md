# Issue 25296: RingConverter should handle named variables by default

archive/issues_025059.json:
```json
{
    "body": "In the current version of Sage, when a RingConverter is used to convert from the symbolic ring to an algebraic ring, all converted variables must be specified in the RingConverter's dictionary.  For example,\n\n```\nsage: from sage.symbolic.expression_conversions import RingConverter\nsage: R = QQ['x']\nsage: RC = RingConverter(R, {x: R.0})\nsage: RC(x)\nx\n```\n\nAttempting to convert without a dictionary produces an error:\n\n```\nsage: RC = RingConverter(R)\nsage: RC(x)\n...\nTypeError:\n```\n\nThis patch changes this behavior so that if a variable is not found in the RingConverter's dictionary, an attempt is make to convert it to the ring using the ring's element constructor.  This allows the last example to work as expected; the symbolic variable \"x\" is converted to the ring element of the same name.\n\n```\nsage: from sage.symbolic.expression_conversions import RingConverter\nsage: R = QQ['x']\nsage: RC = RingConverter(R)\nsage: R(x)\nx\nsage: x.parent()\nSymbolic Ring\nsage: R(x).parent()\nUnivariate Polynomial Ring in x over Rational Field\n```\n\nCC:  @rwst\n\nBranch/Commit: 2a55bc25076431e8db679177026c923f336e6126\n\nReviewer: Marc Mezzarobba\n\nAuthor: Brent Baccala\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25296\n\n",
    "closed_at": "2018-06-02T16:11:33Z",
    "created_at": "2018-05-06T02:51:35Z",
    "labels": [
        "component: algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "RingConverter should handle named variables by default",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25296",
    "user": "https://github.com/BrentBaccala"
}
```
In the current version of Sage, when a RingConverter is used to convert from the symbolic ring to an algebraic ring, all converted variables must be specified in the RingConverter's dictionary.  For example,

```
sage: from sage.symbolic.expression_conversions import RingConverter
sage: R = QQ['x']
sage: RC = RingConverter(R, {x: R.0})
sage: RC(x)
x
```

Attempting to convert without a dictionary produces an error:

```
sage: RC = RingConverter(R)
sage: RC(x)
...
TypeError:
```

This patch changes this behavior so that if a variable is not found in the RingConverter's dictionary, an attempt is make to convert it to the ring using the ring's element constructor.  This allows the last example to work as expected; the symbolic variable "x" is converted to the ring element of the same name.

```
sage: from sage.symbolic.expression_conversions import RingConverter
sage: R = QQ['x']
sage: RC = RingConverter(R)
sage: R(x)
x
sage: x.parent()
Symbolic Ring
sage: R(x).parent()
Univariate Polynomial Ring in x over Rational Field
```

CC:  @rwst

Branch/Commit: 2a55bc25076431e8db679177026c923f336e6126

Reviewer: Marc Mezzarobba

Author: Brent Baccala

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25296





---

archive/issue_comments_483005.json:
```json
{
    "body": "Changing author from \"\" to \"Brent Baccala\"",
    "created_at": "2018-05-06T02:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483005",
    "user": "https://github.com/BrentBaccala"
}
```

Changing author from "" to "Brent Baccala"



---

archive/issue_comments_483006.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[2a55bc2](https://git.sagemath.org/sage.git/commit?id=2a55bc25076431e8db679177026c923f336e6126)|`Trac #25296: RingConverter now attempts to use ring element constructor`|",
    "created_at": "2018-05-06T02:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483006",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[2a55bc2](https://git.sagemath.org/sage.git/commit?id=2a55bc25076431e8db679177026c923f336e6126)|`Trac #25296: RingConverter now attempts to use ring element constructor`|



---

archive/issue_comments_483007.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-06T02:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483007",
    "user": "https://github.com/BrentBaccala"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_483008.json:
```json
{
    "body": "Changing branch from \"\" to \"public/25296\"",
    "created_at": "2018-05-06T02:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483008",
    "user": "https://github.com/BrentBaccala"
}
```

Changing branch from "" to "public/25296"



---

archive/issue_comments_483009.json:
```json
{
    "body": "Changing commit from \"\" to \"2a55bc25076431e8db679177026c923f336e6126\"",
    "created_at": "2018-05-06T02:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483009",
    "user": "https://github.com/BrentBaccala"
}
```

Changing commit from "" to "2a55bc25076431e8db679177026c923f336e6126"



---

archive/issue_comments_483010.json:
```json
{
    "body": "<a id='comment:3'></a>\n`RingConverter` is no longer used in Sage itself since 1b82d7, and it is really unlikely that anyone else was relying on it failing in that case...",
    "created_at": "2018-06-01T12:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483010",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:3'></a>
`RingConverter` is no longer used in Sage itself since 1b82d7, and it is really unlikely that anyone else was relying on it failing in that case...



---

archive/issue_comments_483011.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-01T12:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483011",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_483012.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Marc Mezzarobba\"",
    "created_at": "2018-06-01T12:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483012",
    "user": "https://github.com/mezzarobba"
}
```

Changing reviewer from "" to "Marc Mezzarobba"



---

archive/issue_comments_483013.json:
```json
{
    "body": "Changing branch from \"public/25296\" to \"2a55bc25076431e8db679177026c923f336e6126\"",
    "created_at": "2018-06-02T16:11:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483013",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/25296" to "2a55bc25076431e8db679177026c923f336e6126"



---

archive/issue_events_063408.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-02T16:11:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25296#event-63408"
}
```



---

archive/issue_comments_483014.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-06-02T16:11:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25296",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25296#issuecomment-483014",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
