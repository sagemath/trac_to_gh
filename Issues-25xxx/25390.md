# Issue 25390: multivariate factorization over QQbar

archive/issues_025153.json:
```json
{
    "body": "CC:  @tom111\n\nWe can currently (#8544) factor univariate polynomials over QQbar:\n\n```\nsage: R.<x>=QQbar[]\nsage: (x^2+1).factor()\n(x - I) * (x + I)\n```\n\nWe can factor over multivariate rings, if the polynomial is actually univariate:\n\n```\nsage: R.<x,y>=QQbar[]\nsage: (x^2+1).factor()\n(x - I) * (x + I)\n```\n\nBut we can't do full \"absolute factorization\" (that's what it's called in the literature):\n\n```\nsage: R.<x,y>=QQbar[]\nsage: (x^2+y^2).factor()\n...\nNotImplementedError: proof = True factorization not implemented.  Call factor with proof=False.\nsage: (x^2+y^2).factor(proof=False)\n...\nTypeError: no conversion of this ring to a Singular ring defined\n```\n\nThis ticket implements absolute factorization by calling Singular's `absfact.lib`, which works for rings over Q (or transcendental extensions thereof), and uses a technique described in the attached document to handle number fields.\n\nI flagged it `major` because polynomial factorization is a fundamental feature that blocks the implementation of other things, like primary decomposition of ideals.\n\nIssue created by migration from https://trac.sagemath.org/ticket/25390\n\n",
    "closed_at": "2019-10-30T23:47:53Z",
    "created_at": "2018-05-17T21:44:34Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "multivariate factorization over QQbar",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25390",
    "user": "https://github.com/BrentBaccala"
}
```
CC:  @tom111

We can currently (#8544) factor univariate polynomials over QQbar:

```
sage: R.<x>=QQbar[]
sage: (x^2+1).factor()
(x - I) * (x + I)
```

We can factor over multivariate rings, if the polynomial is actually univariate:

```
sage: R.<x,y>=QQbar[]
sage: (x^2+1).factor()
(x - I) * (x + I)
```

But we can't do full "absolute factorization" (that's what it's called in the literature):

```
sage: R.<x,y>=QQbar[]
sage: (x^2+y^2).factor()
...
NotImplementedError: proof = True factorization not implemented.  Call factor with proof=False.
sage: (x^2+y^2).factor(proof=False)
...
TypeError: no conversion of this ring to a Singular ring defined
```

This ticket implements absolute factorization by calling Singular's `absfact.lib`, which works for rings over Q (or transcendental extensions thereof), and uses a technique described in the attached document to handle number fields.

I flagged it `major` because polynomial factorization is a fundamental feature that blocks the implementation of other things, like primary decomposition of ideals.

Issue created by migration from https://trac.sagemath.org/ticket/25390





---

archive/issue_comments_353797.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-18T19:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353797",
    "user": "https://github.com/BrentBaccala"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_353798.json:
```json
{
    "body": "I added code to call Singular's `absFactorize` if the polynomial's coefficients are in `QQ`.\n\nHere's what's now possible:\n\n```\nsage: R.<x,y> = QQbar[]\n\nsage: L = (x^2+y^2).factor()\nsage: L\n((-1*I)*x - y) * (1*I*x - y)\nsage: L.value()\nx^2 + y^2\n\nsage: p = (-7*x^2 + 2*x*y^2 + 6*x + y^4 + 14*y^2 + 47)*(5*x^2+y^2)^3*(x-y)^4\nsage: F = p.factor()\nsage: F\n...\nsage: F.value() == p\nTrue\n```\n\nBut something like this still doesn't work (because the coefficients aren't in `QQ`):\n\n```\nsage: (x+QQbar(sqrt(2))*y).factor()\n```\n\nIt's something, which is better than nothing, so I think we should move it towards `master`, but there's still a lot of work to be done before this ticket is closed.\n\n---\nNew commits:",
    "created_at": "2018-05-18T19:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353798",
    "user": "https://github.com/BrentBaccala"
}
```

I added code to call Singular's `absFactorize` if the polynomial's coefficients are in `QQ`.

Here's what's now possible:

```
sage: R.<x,y> = QQbar[]

sage: L = (x^2+y^2).factor()
sage: L
((-1*I)*x - y) * (1*I*x - y)
sage: L.value()
x^2 + y^2

sage: p = (-7*x^2 + 2*x*y^2 + 6*x + y^4 + 14*y^2 + 47)*(5*x^2+y^2)^3*(x-y)^4
sage: F = p.factor()
sage: F
...
sage: F.value() == p
True
```

But something like this still doesn't work (because the coefficients aren't in `QQ`):

```
sage: (x+QQbar(sqrt(2))*y).factor()
```

It's something, which is better than nothing, so I think we should move it towards `master`, but there's still a lot of work to be done before this ticket is closed.

---
New commits:



---

archive/issue_comments_353799.json:
```json
{
    "body": "I agree that small improvements are good. We can always do followup tickets to add more functionality. I do have some comments:\n\nCan we use `libsingular` instead of calls to `singular` (which uses the pexpect interface and is much slower)?\n\nDoc tweaks:\n\n```diff\n         ALGORITHM:\n \n-        Uses Singular's `absfact` library.\n+        Uses Singular's ``absfact`` library.\n \n-        TODO:\n+        .. TODO::\n \n-        Implement absolute factorization over number fields\n+            Implement absolute factorization over number fields.\n```\nAlso if you could split the long output line so that it is at most ~80 chars per line.\n\nInstead of `elem_map`, you could just use `elem_dict.__getitem__`.\n\nI don't see the need for the internal functions `polynomial_map` and `reverse_polynomial_map`. These little trivial functions make the code harder to follow.\n\nIn Python, usually `assert`s are with spaces, e.g., `assert minpoly.degree() == 0`.",
    "created_at": "2018-05-19T03:54:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353799",
    "user": "https://github.com/tscrim"
}
```

I agree that small improvements are good. We can always do followup tickets to add more functionality. I do have some comments:

Can we use `libsingular` instead of calls to `singular` (which uses the pexpect interface and is much slower)?

Doc tweaks:

```diff
         ALGORITHM:
 
-        Uses Singular's `absfact` library.
+        Uses Singular's ``absfact`` library.
 
-        TODO:
+        .. TODO::
 
-        Implement absolute factorization over number fields
+            Implement absolute factorization over number fields.
```
Also if you could split the long output line so that it is at most ~80 chars per line.

Instead of `elem_map`, you could just use `elem_dict.__getitem__`.

I don't see the need for the internal functions `polynomial_map` and `reverse_polynomial_map`. These little trivial functions make the code harder to follow.

In Python, usually `assert`s are with spaces, e.g., `assert minpoly.degree() == 0`.



---

archive/issue_comments_353800.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-05-19T04:14:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353800",
    "user": "https://github.com/BrentBaccala"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_353801.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-24T01:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353801",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353802.json:
```json
{
    "body": "Over the weekend I remembered a technique that I read years ago for factoring over a number field - factor the norm of the polynomial, which has rational coefficients and is a multiple of the original polynomial.\n\nSo, this ticket is moving towards `closed` more quickly that I had thought possible.  I think it can now factor any polynomial over `QQbar`.\n\nThe algorithm is tricky enough that I'm planning to write up a short paper describing it, post it on arxiv, and link to it from the documentation.  If anybody has a better suggestion for how to incorporate a three page paper explaining the algorithm of a Sage method, please let me know.\n\nI took most of `tscrim`'s suggestions, but I can't figure out how to access a Singular variable from `libsingular`.  I posted a [question](https://ask.sagemath.org/question/42413) on asksage, but so far no answer.\n\nI also intend to implement factorization over `AA` before flipping this ticket to `needs_review`.",
    "created_at": "2018-05-24T02:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353802",
    "user": "https://github.com/BrentBaccala"
}
```

Over the weekend I remembered a technique that I read years ago for factoring over a number field - factor the norm of the polynomial, which has rational coefficients and is a multiple of the original polynomial.

So, this ticket is moving towards `closed` more quickly that I had thought possible.  I think it can now factor any polynomial over `QQbar`.

The algorithm is tricky enough that I'm planning to write up a short paper describing it, post it on arxiv, and link to it from the documentation.  If anybody has a better suggestion for how to incorporate a three page paper explaining the algorithm of a Sage method, please let me know.

I took most of `tscrim`'s suggestions, but I can't figure out how to access a Singular variable from `libsingular`.  I posted a [question](https://ask.sagemath.org/question/42413) on asksage, but so far no answer.

I also intend to implement factorization over `AA` before flipping this ticket to `needs_review`.



---

archive/issue_comments_353803.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-14T03:40:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353803",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353804.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-14T03:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353804",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353805.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-06-14T20:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353805",
    "user": "https://github.com/BrentBaccala"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_353806.json:
```json
{
    "body": "Still haven't figured out how to access the Singular variable from `libsingular`; got an answer to that [SageMath question](https://ask.sagemath.org/question/42413) that made sense, but `nbruin` (the responder) said that it was \"tricky\" and he was right.\n\nI spent two weeks trying to figure out to make this code work without doing division in polynomial rings over `QQbar` but it's a lot harder than I thought.  I'm attaching a PDF that describes the progress I've made and the problems that I've had.\n\nRight now, the code is fairly straightforward, but does require polynomial division over `QQbar`, and therefore requires Trac #25351 to be applied before it works.  I've spent enough time trying to break that dependency, so I'm flipping this ticket to `needs_review` and leaving it the way it is.  See the attached PDF for more details.",
    "created_at": "2018-06-14T20:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353806",
    "user": "https://github.com/BrentBaccala"
}
```

Still haven't figured out how to access the Singular variable from `libsingular`; got an answer to that [SageMath question](https://ask.sagemath.org/question/42413) that made sense, but `nbruin` (the responder) said that it was "tricky" and he was right.

I spent two weeks trying to figure out to make this code work without doing division in polynomial rings over `QQbar` but it's a lot harder than I thought.  I'm attaching a PDF that describes the progress I've made and the problems that I've had.

Right now, the code is fairly straightforward, but does require polynomial division over `QQbar`, and therefore requires Trac #25351 to be applied before it works.  I've spent enough time trying to break that dependency, so I'm flipping this ticket to `needs_review` and leaving it the way it is.  See the attached PDF for more details.



---

archive/issue_comments_353807.json:
```json
{
    "body": "Attachment [qqbar.pdf](tarball://root/attachments/some-uuid/ticket25390/qqbar.pdf) by @tscrim created at 2018-06-15 02:08:21\n\nI didn't realize that my suggestion would have been so complicated. Thank you for looking into it. I have two small additional nitpicks, but otherwise this ticket is a positive review assuming #25351 (which I cannot review as that is much more involved mathematically, you should cc some people who work more in that area, such as jdemeyer).\n\nYou do not need to create a list:\n\n```diff\nnorm_f = prod([numfield_f.map_coefficients(h) for h in numfield.embeddings(QQbar)]).change_ring(QQ)\nnorm_f = prod(numfield_f.map_coefficients(h) for h in numfield.embeddings(QQbar)).change_ring(QQ)\n```\n\n```diff\n-        REFERENCE::\n+        REFERENCES:\n \n-            Geddes, et. al, \"Algorithms for Computer Algebra\", Section 8.8\n+        - Geddes, et. al, \"Algorithms for Computer Algebra\", Section 8.8\n```\nalthough I think it would be better to reference the book in the master ref file and use `- [Geddes1234]_ Section 8.8` as the reference.",
    "created_at": "2018-06-15T02:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353807",
    "user": "https://github.com/tscrim"
}
```

Attachment [qqbar.pdf](tarball://root/attachments/some-uuid/ticket25390/qqbar.pdf) by @tscrim created at 2018-06-15 02:08:21

I didn't realize that my suggestion would have been so complicated. Thank you for looking into it. I have two small additional nitpicks, but otherwise this ticket is a positive review assuming #25351 (which I cannot review as that is much more involved mathematically, you should cc some people who work more in that area, such as jdemeyer).

You do not need to create a list:

```diff
norm_f = prod([numfield_f.map_coefficients(h) for h in numfield.embeddings(QQbar)]).change_ring(QQ)
norm_f = prod(numfield_f.map_coefficients(h) for h in numfield.embeddings(QQbar)).change_ring(QQ)
```

```diff
-        REFERENCE::
+        REFERENCES:
 
-            Geddes, et. al, "Algorithms for Computer Algebra", Section 8.8
+        - Geddes, et. al, "Algorithms for Computer Algebra", Section 8.8
```
although I think it would be better to reference the book in the master ref file and use `- [Geddes1234]_ Section 8.8` as the reference.



---

archive/issue_comments_353808.json:
```json
{
    "body": "If at all possible, you'll probably want to avoid computing norms by multiplying complex embeddings together. Especially when you have your polynomial over a number field, it's probably much better to avoid floats altogether. For instance, if your number field is given as K=QQ[t]/(h(t)) (with h(t) monic) and you have a polynomial f(x) in K[x], then you can represent your polynomial as F(x,t) in QQ[x,t], via the isomorphism K[x] ~ Q[x,t]/(h(t)). Then you have that\n\nNorm_(K[x]/Q[x]) (f) = Resultant(F,h,t)\n\nCode for computing resultants is usually quite optimized. You can experiment a bit to see which approach works best, but I'd expect the resultant to work quite well.",
    "created_at": "2018-06-15T16:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353808",
    "user": "https://github.com/nbruin"
}
```

If at all possible, you'll probably want to avoid computing norms by multiplying complex embeddings together. Especially when you have your polynomial over a number field, it's probably much better to avoid floats altogether. For instance, if your number field is given as K=QQ[t]/(h(t)) (with h(t) monic) and you have a polynomial f(x) in K[x], then you can represent your polynomial as F(x,t) in QQ[x,t], via the isomorphism K[x] ~ Q[x,t]/(h(t)). Then you have that

Norm_(K[x]/Q[x]) (f) = Resultant(F,h,t)

Code for computing resultants is usually quite optimized. You can experiment a bit to see which approach works best, but I'd expect the resultant to work quite well.



---

archive/issue_comments_353809.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-18T02:32:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353809",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353810.json:
```json
{
    "body": "I made the changes suggested by tscrim and nbruin; thanks for your feedback.\n\nUsing the resultant was more of a pain that I thought it should be.  The difficulty lay mainly in needing to introduce a new variable, different from the others.  If anybody can suggest a better way that what I came up with, please let me know.",
    "created_at": "2018-06-18T02:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353810",
    "user": "https://github.com/BrentBaccala"
}
```

I made the changes suggested by tscrim and nbruin; thanks for your feedback.

Using the resultant was more of a pain that I thought it should be.  The difficulty lay mainly in needing to introduce a new variable, different from the others.  If anybody can suggest a better way that what I came up with, please let me know.



---

archive/issue_comments_353811.json:
```json
{
    "body": "Variable names might be haunting us here:\n\n```\nsage: k=NumberField(x^2+1,\"x\")\nsage: R=PolynomialRing(k,\"x,y\")\nsage: P=PolynomialRing(QQ,k.gens()+R.gens())\nValueError: variable name 'x' appears more than once\n```\nUnless you can guarantee the variable names of the number field and the polynomial ring aren't clashing, it seems you cannot go about the problem this way. While it would be reasonable to assume that a user wouldn't intentionally throw this kind of awful naming at you, it's quite conceivable that automatic code would end up doing something like this. Example:\n\n```\nsage: matrix(k,2,2,[k.0,0,0,1]).charpoly()\nx^2 + (-x - 1)*x + x\n```\nSo it would seem the names of your variables for the trivariate ring should be unrelated to the names that occur for the others. Assuming you have a polynomial g in a ring P over a number field k over QQ, I think you can do your conversion with something along the lines of\n\n```\nR=g.parent()\nk=R.base_ring()\nP=PolynomialRing(QQ,len(k.gens()+R.gens()),'T')   \nG=sum(P({(0,)+tuple(k):1})*v.polynomial()(P.0) for k,v in g.dict().iteritems())\nNG=G.resultant(k.polynomial()(P.0),P.0)\nRQ=PolynomialRing(QQ,R.gens())\nNGQ=NG((0,)+RQ.gens())\n```\nDoing your conversions like this has the advantage that you don't rely on names of generators at all.",
    "created_at": "2018-06-18T06:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353811",
    "user": "https://github.com/nbruin"
}
```

Variable names might be haunting us here:

```
sage: k=NumberField(x^2+1,"x")
sage: R=PolynomialRing(k,"x,y")
sage: P=PolynomialRing(QQ,k.gens()+R.gens())
ValueError: variable name 'x' appears more than once
```
Unless you can guarantee the variable names of the number field and the polynomial ring aren't clashing, it seems you cannot go about the problem this way. While it would be reasonable to assume that a user wouldn't intentionally throw this kind of awful naming at you, it's quite conceivable that automatic code would end up doing something like this. Example:

```
sage: matrix(k,2,2,[k.0,0,0,1]).charpoly()
x^2 + (-x - 1)*x + x
```
So it would seem the names of your variables for the trivariate ring should be unrelated to the names that occur for the others. Assuming you have a polynomial g in a ring P over a number field k over QQ, I think you can do your conversion with something along the lines of

```
R=g.parent()
k=R.base_ring()
P=PolynomialRing(QQ,len(k.gens()+R.gens()),'T')   
G=sum(P({(0,)+tuple(k):1})*v.polynomial()(P.0) for k,v in g.dict().iteritems())
NG=G.resultant(k.polynomial()(P.0),P.0)
RQ=PolynomialRing(QQ,R.gens())
NGQ=NG((0,)+RQ.gens())
```
Doing your conversions like this has the advantage that you don't rely on names of generators at all.



---

archive/issue_comments_353812.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-19T04:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353812",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353813.json:
```json
{
    "body": "OK, I re-coded it the way nbruin suggested.",
    "created_at": "2018-06-19T04:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353813",
    "user": "https://github.com/BrentBaccala"
}
```

OK, I re-coded it the way nbruin suggested.



---

archive/issue_comments_353814.json:
```json
{
    "body": "```\n+            norm_f = sum(norm_ring({tuple(k)[1:]:v})\n+                         for k,v in norm_flat.dict().iteritems())\n```\nPlease don't think that unpacking a polynomial into a dictionary is the best way of handling it! To \"lift\" number field elements, I didn't see another way, but in this case\n\n```\nnorm_f = norm_flat((0,)+norm_ring.gens())\n```\nwould work just fine, as far as I can see. If you have a good reason to use the dict upacking (is it faster?) then it's fine, of course; but otherwise using the simpler code is probably preferable.",
    "created_at": "2018-06-19T05:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353814",
    "user": "https://github.com/nbruin"
}
```

```
+            norm_f = sum(norm_ring({tuple(k)[1:]:v})
+                         for k,v in norm_flat.dict().iteritems())
```
Please don't think that unpacking a polynomial into a dictionary is the best way of handling it! To "lift" number field elements, I didn't see another way, but in this case

```
norm_f = norm_flat((0,)+norm_ring.gens())
```
would work just fine, as far as I can see. If you have a good reason to use the dict upacking (is it faster?) then it's fine, of course; but otherwise using the simpler code is probably preferable.



---

archive/issue_comments_353815.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-19T16:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353815",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353816.json:
```json
{
    "body": "I thought there had to a better way to do it!",
    "created_at": "2018-06-19T16:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353816",
    "user": "https://github.com/BrentBaccala"
}
```

I thought there had to a better way to do it!



---

archive/issue_comments_353817.json:
```json
{
    "body": "Attachment [qqbar.tex](tarball://root/attachments/some-uuid/ticket25390/qqbar.tex) by @mkoeppe created at 2018-09-21 19:44:37",
    "created_at": "2018-09-21T19:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353817",
    "user": "https://github.com/mkoeppe"
}
```

Attachment [qqbar.tex](tarball://root/attachments/some-uuid/ticket25390/qqbar.tex) by @mkoeppe created at 2018-09-21 19:44:37



---

archive/issue_comments_353818.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-09T03:27:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353819.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2019-04-19T03:17:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_353820.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-06T20:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353821.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-11T21:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353821",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353822.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-26T00:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353822",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353823.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-09-26T01:20:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353823",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353824.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-27T16:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353824",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353825.json:
```json
{
    "body": "Two minor things: The first is the `.. TODO::` block should be indented. The second is more stylistic, but I would avoid the blankline after the start of the `for` loops.",
    "created_at": "2019-10-27T23:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353825",
    "user": "https://github.com/tscrim"
}
```

Two minor things: The first is the `.. TODO::` block should be indented. The second is more stylistic, but I would avoid the blankline after the start of the `for` loops.



---

archive/issue_comments_353826.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-28T00:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353826",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_353827.json:
```json
{
    "body": "Replying to [comment:28 tscrim]:\n> Two minor things: The first is the `.. TODO::` block should be indented. The second is more stylistic, but I would avoid the blankline after the start of the `for` loops.\n\n\nOK, done.\n\nI didn't remove the blank lines on the second for loop because it's so long, I feel the blank lines improve it readability.",
    "created_at": "2019-10-28T00:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353827",
    "user": "https://github.com/BrentBaccala"
}
```

Replying to [comment:28 tscrim]:
> Two minor things: The first is the `.. TODO::` block should be indented. The second is more stylistic, but I would avoid the blankline after the start of the `for` loops.


OK, done.

I didn't remove the blank lines on the second for loop because it's so long, I feel the blank lines improve it readability.



---

archive/issue_comments_353828.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-10-28T02:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353828",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_353829.json:
```json
{
    "body": "Thanks. I disagree about the space because I have never really seen that elsewhere in Python code and it looks strange to be because of that. Yet, I don't think it is important enough to hold up the ticket.",
    "created_at": "2019-10-28T02:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353829",
    "user": "https://github.com/tscrim"
}
```

Thanks. I disagree about the space because I have never really seen that elsewhere in Python code and it looks strange to be because of that. Yet, I don't think it is important enough to hold up the ticket.



---

archive/issue_events_063754.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-29T10:42:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25390#event-63754"
}
```



---

archive/issue_events_063755.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-30T23:47:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25390#event-63755"
}
```



---

archive/issue_comments_353830.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-10-30T23:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25390#issuecomment-353830",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
