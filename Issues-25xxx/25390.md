# Issue 25390: multivariate factorization over QQbar

archive/issues_025153.json:
```json
{
    "assignees": [],
    "body": "We can currently (#8544) factor univariate polynomials over QQbar:\n\n```\nsage: R.<x>=QQbar[]\nsage: (x^2+1).factor()\n(x - I) * (x + I)\n```\n\nWe can factor over multivariate rings, if the polynomial is actually univariate:\n\n```\nsage: R.<x,y>=QQbar[]\nsage: (x^2+1).factor()\n(x - I) * (x + I)\n```\n\nBut we can't do full \"absolute factorization\" (that's what it's called in the literature):\n\n```\nsage: R.<x,y>=QQbar[]\nsage: (x^2+y^2).factor()\n...\nNotImplementedError: proof = True factorization not implemented.  Call factor with proof=False.\nsage: (x^2+y^2).factor(proof=False)\n...\nTypeError: no conversion of this ring to a Singular ring defined\n```\n\nThis ticket implements absolute factorization by calling Singular's `absfact.lib`, which works for rings over Q (or transcendental extensions thereof), and uses a technique described in the attached document to handle number fields.\n\nI flagged it `major` because polynomial factorization is a fundamental feature that blocks the implementation of other things, like primary decomposition of ideals.\n\nDepends on #25351\n\nCC:  @tom111\n\nBranch/Commit: **[91d467e](https://github.com/sagemath/sagetrac-mirror/commit/91d467ee9ee4008074de452de9ac8a6b0b90359a)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Brent Baccala**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25390_\n\n",
    "closed_at": "2019-10-30T23:47:53Z",
    "created_at": "2018-05-17T21:44:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "multivariate factorization over QQbar",
    "type": "issue",
    "updated_at": "2019-10-30T23:47:53Z",
    "url": "https://github.com/sagemath/sage/issues/25390",
    "user": "https://github.com/BrentBaccala"
}
```
We can currently (#8544) factor univariate polynomials over QQbar:

```
sage: R.<x>=QQbar[]
sage: (x^2+1).factor()
(x - I) * (x + I)
```

We can factor over multivariate rings, if the polynomial is actually univariate:

```
sage: R.<x,y>=QQbar[]
sage: (x^2+1).factor()
(x - I) * (x + I)
```

But we can't do full "absolute factorization" (that's what it's called in the literature):

```
sage: R.<x,y>=QQbar[]
sage: (x^2+y^2).factor()
...
NotImplementedError: proof = True factorization not implemented.  Call factor with proof=False.
sage: (x^2+y^2).factor(proof=False)
...
TypeError: no conversion of this ring to a Singular ring defined
```

This ticket implements absolute factorization by calling Singular's `absfact.lib`, which works for rings over Q (or transcendental extensions thereof), and uses a technique described in the attached document to handle number fields.

I flagged it `major` because polynomial factorization is a fundamental feature that blocks the implementation of other things, like primary decomposition of ideals.

Depends on #25351

CC:  @tom111

Branch/Commit: **[91d467e](https://github.com/sagemath/sagetrac-mirror/commit/91d467ee9ee4008074de452de9ac8a6b0b90359a)**

Reviewer: **Travis Scrimshaw**

Author: **Brent Baccala**

_Issue created by migration from https://trac.sagemath.org/ticket/25390_





---

archive/issue_events_333347.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2018-05-17T21:44:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333347"
}
```



---

archive/issue_events_333348.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2018-05-17T21:44:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333348"
}
```



---

archive/issue_events_333349.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2018-05-17T21:44:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333349"
}
```



---

archive/issue_comments_391392.json:
```json
{
    "body": "Commit: **[27f109d](https://github.com/sagemath/sagetrac-mirror/commit/27f109d5b6b0f9cf699218a5af9ea6ccea22a865)**",
    "created_at": "2018-05-18T19:47:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391392",
    "user": "https://github.com/BrentBaccala"
}
```

Commit: **[27f109d](https://github.com/sagemath/sagetrac-mirror/commit/27f109d5b6b0f9cf699218a5af9ea6ccea22a865)**



---

archive/issue_comments_391393.json:
```json
{
    "body": "Branch: **[public/25390](https://github.com/sagemath/sagetrac-mirror/tree/public/25390)**",
    "created_at": "2018-05-18T19:47:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391393",
    "user": "https://github.com/BrentBaccala"
}
```

Branch: **[public/25390](https://github.com/sagemath/sagetrac-mirror/tree/public/25390)**



---

archive/issue_events_333350.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2018-05-18T19:47:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333350"
}
```



---

archive/issue_comments_391394.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI added code to call Singular's `absFactorize` if the polynomial's coefficients are in `QQ`.\n\nHere's what's now possible:\n\n```\nsage: R.<x,y> = QQbar[]\n\nsage: L = (x^2+y^2).factor()\nsage: L\n((-1*I)*x - y) * (1*I*x - y)\nsage: L.value()\nx^2 + y^2\n\nsage: p = (-7*x^2 + 2*x*y^2 + 6*x + y^4 + 14*y^2 + 47)*(5*x^2+y^2)^3*(x-y)^4\nsage: F = p.factor()\nsage: F\n...\nsage: F.value() == p\nTrue\n```\n\nBut something like this still doesn't work (because the coefficients aren't in `QQ`):\n\n```\nsage: (x+QQbar(sqrt(2))*y).factor()\n```\n\nIt's something, which is better than nothing, so I think we should move it towards `master`, but there's still a lot of work to be done before this ticket is closed.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27f109d5b6b0f9cf699218a5af9ea6ccea22a865\">27f109d</a></td><td><code>Trac #25390: use Singular 'absfact' to factor multivariate polynomials over QQ</code></td></tr></table>\n",
    "created_at": "2018-05-18T19:47:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391394",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:1" align="right">Comment 1</div>

I added code to call Singular's `absFactorize` if the polynomial's coefficients are in `QQ`.

Here's what's now possible:

```
sage: R.<x,y> = QQbar[]

sage: L = (x^2+y^2).factor()
sage: L
((-1*I)*x - y) * (1*I*x - y)
sage: L.value()
x^2 + y^2

sage: p = (-7*x^2 + 2*x*y^2 + 6*x + y^4 + 14*y^2 + 47)*(5*x^2+y^2)^3*(x-y)^4
sage: F = p.factor()
sage: F
...
sage: F.value() == p
True
```

But something like this still doesn't work (because the coefficients aren't in `QQ`):

```
sage: (x+QQbar(sqrt(2))*y).factor()
```

It's something, which is better than nothing, so I think we should move it towards `master`, but there's still a lot of work to be done before this ticket is closed.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27f109d5b6b0f9cf699218a5af9ea6ccea22a865">27f109d</a></td><td><code>Trac #25390: use Singular 'absfact' to factor multivariate polynomials over QQ</code></td></tr></table>




---

archive/issue_comments_391395.json:
```json
{
    "body": "Author: **Brent Baccala**",
    "created_at": "2018-05-18T19:47:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391395",
    "user": "https://github.com/BrentBaccala"
}
```

Author: **Brent Baccala**



---

archive/issue_comments_391396.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nI agree that small improvements are good. We can always do followup tickets to add more functionality. I do have some comments:\n\nCan we use `libsingular` instead of calls to `singular` (which uses the pexpect interface and is much slower)?\n\nDoc tweaks:\n\n```diff\n         ALGORITHM:\n \n-        Uses Singular's `absfact` library.\n+        Uses Singular's ``absfact`` library.\n \n-        TODO:\n+        .. TODO::\n \n-        Implement absolute factorization over number fields\n+            Implement absolute factorization over number fields.\n```\nAlso if you could split the long output line so that it is at most ~80 chars per line.\n\nInstead of `elem_map`, you could just use `elem_dict.__getitem__`.\n\nI don't see the need for the internal functions `polynomial_map` and `reverse_polynomial_map`. These little trivial functions make the code harder to follow.\n\nIn Python, usually `assert`s are with spaces, e.g., `assert minpoly.degree() == 0`.",
    "created_at": "2018-05-19T03:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391396",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">Comment 2</div>

I agree that small improvements are good. We can always do followup tickets to add more functionality. I do have some comments:

Can we use `libsingular` instead of calls to `singular` (which uses the pexpect interface and is much slower)?

Doc tweaks:

```diff
         ALGORITHM:
 
-        Uses Singular's `absfact` library.
+        Uses Singular's ``absfact`` library.
 
-        TODO:
+        .. TODO::
 
-        Implement absolute factorization over number fields
+            Implement absolute factorization over number fields.
```
Also if you could split the long output line so that it is at most ~80 chars per line.

Instead of `elem_map`, you could just use `elem_dict.__getitem__`.

I don't see the need for the internal functions `polynomial_map` and `reverse_polynomial_map`. These little trivial functions make the code harder to follow.

In Python, usually `assert`s are with spaces, e.g., `assert minpoly.degree() == 0`.



---

archive/issue_events_333351.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2018-05-19T04:14:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333351"
}
```



---

archive/issue_events_333352.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2018-05-19T04:14:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333352"
}
```



---

archive/issue_comments_391397.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6124e2a94624dd9bd7042b918af5b473947002d\">e6124e2</a></td><td><code>Trac #25390: convoluted code that I want to save before cleaning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b34f2b3ba399d3af57250903b27e1b76971906af\">b34f2b3</a></td><td><code>Trac #25390: correctly handle factorization over number fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2879cc0d5a07a2db1fddaa5b095e3a221882720a\">2879cc0</a></td><td><code>Trac #25390: bug fix (and add a test case)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/747861ef4df567b68e077ae8a47ccc3a44313eea\">747861e</a></td><td><code>Trac #25390: code cleanup suggested by tscrim's review</code></td></tr></table>\n",
    "created_at": "2018-05-24T01:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391397",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6124e2a94624dd9bd7042b918af5b473947002d">e6124e2</a></td><td><code>Trac #25390: convoluted code that I want to save before cleaning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b34f2b3ba399d3af57250903b27e1b76971906af">b34f2b3</a></td><td><code>Trac #25390: correctly handle factorization over number fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2879cc0d5a07a2db1fddaa5b095e3a221882720a">2879cc0</a></td><td><code>Trac #25390: bug fix (and add a test case)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/747861ef4df567b68e077ae8a47ccc3a44313eea">747861e</a></td><td><code>Trac #25390: code cleanup suggested by tscrim's review</code></td></tr></table>




---

archive/issue_comments_391398.json:
```json
{
    "body": "Changed commit from **[27f109d](https://github.com/sagemath/sagetrac-mirror/commit/27f109d5b6b0f9cf699218a5af9ea6ccea22a865)** to **[747861e](https://github.com/sagemath/sagetrac-mirror/commit/747861ef4df567b68e077ae8a47ccc3a44313eea)**",
    "created_at": "2018-05-24T01:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391398",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[27f109d](https://github.com/sagemath/sagetrac-mirror/commit/27f109d5b6b0f9cf699218a5af9ea6ccea22a865)** to **[747861e](https://github.com/sagemath/sagetrac-mirror/commit/747861ef4df567b68e077ae8a47ccc3a44313eea)**



---

archive/issue_comments_391399.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nOver the weekend I remembered a technique that I read years ago for factoring over a number field - factor the norm of the polynomial, which has rational coefficients and is a multiple of the original polynomial.\n\nSo, this ticket is moving towards `closed` more quickly that I had thought possible.  I think it can now factor any polynomial over `QQbar`.\n\nThe algorithm is tricky enough that I'm planning to write up a short paper describing it, post it on arxiv, and link to it from the documentation.  If anybody has a better suggestion for how to incorporate a three page paper explaining the algorithm of a Sage method, please let me know.\n\nI took most of `tscrim`'s suggestions, but I can't figure out how to access a Singular variable from `libsingular`.  I posted a [question](https://ask.sagemath.org/question/42413) on asksage, but so far no answer.\n\nI also intend to implement factorization over `AA` before flipping this ticket to `needs_review`.",
    "created_at": "2018-05-24T02:12:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391399",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:5" align="right">Comment 5</div>

Over the weekend I remembered a technique that I read years ago for factoring over a number field - factor the norm of the polynomial, which has rational coefficients and is a multiple of the original polynomial.

So, this ticket is moving towards `closed` more quickly that I had thought possible.  I think it can now factor any polynomial over `QQbar`.

The algorithm is tricky enough that I'm planning to write up a short paper describing it, post it on arxiv, and link to it from the documentation.  If anybody has a better suggestion for how to incorporate a three page paper explaining the algorithm of a Sage method, please let me know.

I took most of `tscrim`'s suggestions, but I can't figure out how to access a Singular variable from `libsingular`.  I posted a [question](https://ask.sagemath.org/question/42413) on asksage, but so far no answer.

I also intend to implement factorization over `AA` before flipping this ticket to `needs_review`.



---

archive/issue_comments_391400.json:
```json
{
    "body": "Changed commit from **[747861e](https://github.com/sagemath/sagetrac-mirror/commit/747861ef4df567b68e077ae8a47ccc3a44313eea)** to **[247f944](https://github.com/sagemath/sagetrac-mirror/commit/247f94497f5e9bb646d10cfbf439c1154e983c43)**",
    "created_at": "2018-06-14T03:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391400",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[747861e](https://github.com/sagemath/sagetrac-mirror/commit/747861ef4df567b68e077ae8a47ccc3a44313eea)** to **[247f944](https://github.com/sagemath/sagetrac-mirror/commit/247f94497f5e9bb646d10cfbf439c1154e983c43)**



---

archive/issue_comments_391401.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2657e2c3572134b8268001b9fdebe16220a2e83\">b2657e2</a></td><td><code>Trac #25390: simplify factorization logic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/580c11ed97a165c51e3f7fe248d6d47fdc5f6ba7\">580c11e</a></td><td><code>Trac #25390: enhance multivariate factorization to handle AA as well as QQbar</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be078acb0bfe4832e12e62eb4163792ddf8b86fa\">be078ac</a></td><td><code>Trac #25390: ensure that multivariate factorization factors are monic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b6c93b5cc52fe9fda2744b6865942fdcd596b75\">7b6c93b</a></td><td><code>Trac #25390: add a test case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/247f94497f5e9bb646d10cfbf439c1154e983c43\">247f944</a></td><td><code>Trac #25390: slight code rearrangement</code></td></tr></table>\n",
    "created_at": "2018-06-14T03:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391401",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2657e2c3572134b8268001b9fdebe16220a2e83">b2657e2</a></td><td><code>Trac #25390: simplify factorization logic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/580c11ed97a165c51e3f7fe248d6d47fdc5f6ba7">580c11e</a></td><td><code>Trac #25390: enhance multivariate factorization to handle AA as well as QQbar</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be078acb0bfe4832e12e62eb4163792ddf8b86fa">be078ac</a></td><td><code>Trac #25390: ensure that multivariate factorization factors are monic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b6c93b5cc52fe9fda2744b6865942fdcd596b75">7b6c93b</a></td><td><code>Trac #25390: add a test case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/247f94497f5e9bb646d10cfbf439c1154e983c43">247f944</a></td><td><code>Trac #25390: slight code rearrangement</code></td></tr></table>




---

archive/issue_comments_391402.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efdaac1f0611ed3026d5314471b6fad61ca4e869\">efdaac1</a></td><td><code>Merge tag '8.3.beta5' into public/25390</code></td></tr></table>\n",
    "created_at": "2018-06-14T03:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391402",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efdaac1f0611ed3026d5314471b6fad61ca4e869">efdaac1</a></td><td><code>Merge tag '8.3.beta5' into public/25390</code></td></tr></table>




---

archive/issue_comments_391403.json:
```json
{
    "body": "Changed commit from **[247f944](https://github.com/sagemath/sagetrac-mirror/commit/247f94497f5e9bb646d10cfbf439c1154e983c43)** to **[efdaac1](https://github.com/sagemath/sagetrac-mirror/commit/efdaac1f0611ed3026d5314471b6fad61ca4e869)**",
    "created_at": "2018-06-14T03:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391403",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[247f944](https://github.com/sagemath/sagetrac-mirror/commit/247f94497f5e9bb646d10cfbf439c1154e983c43)** to **[efdaac1](https://github.com/sagemath/sagetrac-mirror/commit/efdaac1f0611ed3026d5314471b6fad61ca4e869)**



---

archive/issue_events_333353.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2018-06-14T20:01:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333353"
}
```



---

archive/issue_events_333354.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2018-06-14T20:01:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333354"
}
```



---

archive/issue_comments_391404.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nStill haven't figured out how to access the Singular variable from `libsingular`; got an answer to that [SageMath question](https://ask.sagemath.org/question/42413) that made sense, but `nbruin` (the responder) said that it was \"tricky\" and he was right.\n\nI spent two weeks trying to figure out to make this code work without doing division in polynomial rings over `QQbar` but it's a lot harder than I thought.  I'm attaching a PDF that describes the progress I've made and the problems that I've had.\n\nRight now, the code is fairly straightforward, but does require polynomial division over `QQbar`, and therefore requires Trac #25351 to be applied before it works.  I've spent enough time trying to break that dependency, so I'm flipping this ticket to `needs_review` and leaving it the way it is.  See the attached PDF for more details.",
    "created_at": "2018-06-14T20:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391404",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:8" align="right">Comment 8</div>

Still haven't figured out how to access the Singular variable from `libsingular`; got an answer to that [SageMath question](https://ask.sagemath.org/question/42413) that made sense, but `nbruin` (the responder) said that it was "tricky" and he was right.

I spent two weeks trying to figure out to make this code work without doing division in polynomial rings over `QQbar` but it's a lot harder than I thought.  I'm attaching a PDF that describes the progress I've made and the problems that I've had.

Right now, the code is fairly straightforward, but does require polynomial division over `QQbar`, and therefore requires Trac #25351 to be applied before it works.  I've spent enough time trying to break that dependency, so I'm flipping this ticket to `needs_review` and leaving it the way it is.  See the attached PDF for more details.



---

archive/issue_comments_391405.json:
```json
{
    "body": "Dependencies: **#25351**",
    "created_at": "2018-06-14T20:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391405",
    "user": "https://github.com/BrentBaccala"
}
```

Dependencies: **#25351**



---

archive/issue_comments_391406.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nAttachment: **[qqbar.pdf.gz](https://github.com/sagemath/sage/files/ticket25390/qqbar.pdf.gz)**\n\nI didn't realize that my suggestion would have been so complicated. Thank you for looking into it. I have two small additional nitpicks, but otherwise this ticket is a positive review assuming #25351 (which I cannot review as that is much more involved mathematically, you should cc some people who work more in that area, such as jdemeyer).\n\nYou do not need to create a list:\n\n```diff\nnorm_f = prod([numfield_f.map_coefficients(h) for h in numfield.embeddings(QQbar)]).change_ring(QQ)\nnorm_f = prod(numfield_f.map_coefficients(h) for h in numfield.embeddings(QQbar)).change_ring(QQ)\n```\n\n```diff\n-        REFERENCE::\n+        REFERENCES:\n \n-            Geddes, et. al, \"Algorithms for Computer Algebra\", Section 8.8\n+        - Geddes, et. al, \"Algorithms for Computer Algebra\", Section 8.8\n```\nalthough I think it would be better to reference the book in the master ref file and use `- [Geddes1234]_ Section 8.8` as the reference.",
    "created_at": "2018-06-15T02:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391406",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">Comment 9</div>

Attachment: **[qqbar.pdf.gz](https://github.com/sagemath/sage/files/ticket25390/qqbar.pdf.gz)**

I didn't realize that my suggestion would have been so complicated. Thank you for looking into it. I have two small additional nitpicks, but otherwise this ticket is a positive review assuming #25351 (which I cannot review as that is much more involved mathematically, you should cc some people who work more in that area, such as jdemeyer).

You do not need to create a list:

```diff
norm_f = prod([numfield_f.map_coefficients(h) for h in numfield.embeddings(QQbar)]).change_ring(QQ)
norm_f = prod(numfield_f.map_coefficients(h) for h in numfield.embeddings(QQbar)).change_ring(QQ)
```

```diff
-        REFERENCE::
+        REFERENCES:
 
-            Geddes, et. al, "Algorithms for Computer Algebra", Section 8.8
+        - Geddes, et. al, "Algorithms for Computer Algebra", Section 8.8
```
although I think it would be better to reference the book in the master ref file and use `- [Geddes1234]_ Section 8.8` as the reference.



---

archive/issue_comments_391407.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nIf at all possible, you'll probably want to avoid computing norms by multiplying complex embeddings together. Especially when you have your polynomial over a number field, it's probably much better to avoid floats altogether. For instance, if your number field is given as K=QQ[t]/(h(t)) (with h(t) monic) and you have a polynomial f(x) in K[x], then you can represent your polynomial as F(x,t) in QQ[x,t], via the isomorphism K[x] ~ Q[x,t]/(h(t)). Then you have that\n\nNorm_(K[x]/Q[x]) (f) = Resultant(F,h,t)\n\nCode for computing resultants is usually quite optimized. You can experiment a bit to see which approach works best, but I'd expect the resultant to work quite well.",
    "created_at": "2018-06-15T16:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391407",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:10" align="right">Comment 10</div>

If at all possible, you'll probably want to avoid computing norms by multiplying complex embeddings together. Especially when you have your polynomial over a number field, it's probably much better to avoid floats altogether. For instance, if your number field is given as K=QQ[t]/(h(t)) (with h(t) monic) and you have a polynomial f(x) in K[x], then you can represent your polynomial as F(x,t) in QQ[x,t], via the isomorphism K[x] ~ Q[x,t]/(h(t)). Then you have that

Norm_(K[x]/Q[x]) (f) = Resultant(F,h,t)

Code for computing resultants is usually quite optimized. You can experiment a bit to see which approach works best, but I'd expect the resultant to work quite well.



---

archive/issue_comments_391408.json:
```json
{
    "body": "Changed commit from **[efdaac1](https://github.com/sagemath/sagetrac-mirror/commit/efdaac1f0611ed3026d5314471b6fad61ca4e869)** to **[cbc51c4](https://github.com/sagemath/sagetrac-mirror/commit/cbc51c4c3ff2ffe3cdd726c9479946e07f39f3ce)**",
    "created_at": "2018-06-18T02:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391408",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[efdaac1](https://github.com/sagemath/sagetrac-mirror/commit/efdaac1f0611ed3026d5314471b6fad61ca4e869)** to **[cbc51c4](https://github.com/sagemath/sagetrac-mirror/commit/cbc51c4c3ff2ffe3cdd726c9479946e07f39f3ce)**



---

archive/issue_comments_391409.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3adbd36cda8b07f0b579e2790c12499285cf24be\">3adbd36</a></td><td><code>Trac #25390: use resultant to compute polynomial norm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d6353aef375cb1dbc71154f1d9d972b00678037\">9d6353a</a></td><td><code>Trac #25390: bug fix (if polynomial names conflict with number field names)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbc51c4c3ff2ffe3cdd726c9479946e07f39f3ce\">cbc51c4</a></td><td><code>Trac #25390: update references</code></td></tr></table>\n",
    "created_at": "2018-06-18T02:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391409",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3adbd36cda8b07f0b579e2790c12499285cf24be">3adbd36</a></td><td><code>Trac #25390: use resultant to compute polynomial norm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d6353aef375cb1dbc71154f1d9d972b00678037">9d6353a</a></td><td><code>Trac #25390: bug fix (if polynomial names conflict with number field names)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbc51c4c3ff2ffe3cdd726c9479946e07f39f3ce">cbc51c4</a></td><td><code>Trac #25390: update references</code></td></tr></table>




---

archive/issue_comments_391410.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI made the changes suggested by tscrim and nbruin; thanks for your feedback.\n\nUsing the resultant was more of a pain that I thought it should be.  The difficulty lay mainly in needing to introduce a new variable, different from the others.  If anybody can suggest a better way that what I came up with, please let me know.",
    "created_at": "2018-06-18T02:36:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391410",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:12" align="right">Comment 12</div>

I made the changes suggested by tscrim and nbruin; thanks for your feedback.

Using the resultant was more of a pain that I thought it should be.  The difficulty lay mainly in needing to introduce a new variable, different from the others.  If anybody can suggest a better way that what I came up with, please let me know.



---

archive/issue_comments_391411.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nVariable names might be haunting us here:\n\n```\nsage: k=NumberField(x^2+1,\"x\")\nsage: R=PolynomialRing(k,\"x,y\")\nsage: P=PolynomialRing(QQ,k.gens()+R.gens())\nValueError: variable name 'x' appears more than once\n```\nUnless you can guarantee the variable names of the number field and the polynomial ring aren't clashing, it seems you cannot go about the problem this way. While it would be reasonable to assume that a user wouldn't intentionally throw this kind of awful naming at you, it's quite conceivable that automatic code would end up doing something like this. Example:\n\n```\nsage: matrix(k,2,2,[k.0,0,0,1]).charpoly()\nx^2 + (-x - 1)*x + x\n```\nSo it would seem the names of your variables for the trivariate ring should be unrelated to the names that occur for the others. Assuming you have a polynomial g in a ring P over a number field k over QQ, I think you can do your conversion with something along the lines of\n\n```\nR=g.parent()\nk=R.base_ring()\nP=PolynomialRing(QQ,len(k.gens()+R.gens()),'T')   \nG=sum(P({(0,)+tuple(k):1})*v.polynomial()(P.0) for k,v in g.dict().iteritems())\nNG=G.resultant(k.polynomial()(P.0),P.0)\nRQ=PolynomialRing(QQ,R.gens())\nNGQ=NG((0,)+RQ.gens())\n```\nDoing your conversions like this has the advantage that you don't rely on names of generators at all.",
    "created_at": "2018-06-18T06:11:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391411",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:13" align="right">Comment 13</div>

Variable names might be haunting us here:

```
sage: k=NumberField(x^2+1,"x")
sage: R=PolynomialRing(k,"x,y")
sage: P=PolynomialRing(QQ,k.gens()+R.gens())
ValueError: variable name 'x' appears more than once
```
Unless you can guarantee the variable names of the number field and the polynomial ring aren't clashing, it seems you cannot go about the problem this way. While it would be reasonable to assume that a user wouldn't intentionally throw this kind of awful naming at you, it's quite conceivable that automatic code would end up doing something like this. Example:

```
sage: matrix(k,2,2,[k.0,0,0,1]).charpoly()
x^2 + (-x - 1)*x + x
```
So it would seem the names of your variables for the trivariate ring should be unrelated to the names that occur for the others. Assuming you have a polynomial g in a ring P over a number field k over QQ, I think you can do your conversion with something along the lines of

```
R=g.parent()
k=R.base_ring()
P=PolynomialRing(QQ,len(k.gens()+R.gens()),'T')   
G=sum(P({(0,)+tuple(k):1})*v.polynomial()(P.0) for k,v in g.dict().iteritems())
NG=G.resultant(k.polynomial()(P.0),P.0)
RQ=PolynomialRing(QQ,R.gens())
NGQ=NG((0,)+RQ.gens())
```
Doing your conversions like this has the advantage that you don't rely on names of generators at all.



---

archive/issue_comments_391412.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b23d3f2fdc111d45757db62532ab69f096b124b\">5b23d3f</a></td><td><code>Trac #25390: improve norm calculation code</code></td></tr></table>\n",
    "created_at": "2018-06-19T04:25:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391412",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14" align="right">Comment 14</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b23d3f2fdc111d45757db62532ab69f096b124b">5b23d3f</a></td><td><code>Trac #25390: improve norm calculation code</code></td></tr></table>




---

archive/issue_comments_391413.json:
```json
{
    "body": "Changed commit from **[cbc51c4](https://github.com/sagemath/sagetrac-mirror/commit/cbc51c4c3ff2ffe3cdd726c9479946e07f39f3ce)** to **[5b23d3f](https://github.com/sagemath/sagetrac-mirror/commit/5b23d3f2fdc111d45757db62532ab69f096b124b)**",
    "created_at": "2018-06-19T04:25:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391413",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cbc51c4](https://github.com/sagemath/sagetrac-mirror/commit/cbc51c4c3ff2ffe3cdd726c9479946e07f39f3ce)** to **[5b23d3f](https://github.com/sagemath/sagetrac-mirror/commit/5b23d3f2fdc111d45757db62532ab69f096b124b)**



---

archive/issue_comments_391414.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nOK, I re-coded it the way nbruin suggested.",
    "created_at": "2018-06-19T04:27:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391414",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:15" align="right">Comment 15</div>

OK, I re-coded it the way nbruin suggested.



---

archive/issue_comments_391415.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\n\n```\n+            norm_f = sum(norm_ring({tuple(k)[1:]:v})\n+                         for k,v in norm_flat.dict().iteritems())\n```\nPlease don't think that unpacking a polynomial into a dictionary is the best way of handling it! To \"lift\" number field elements, I didn't see another way, but in this case\n\n```\nnorm_f = norm_flat((0,)+norm_ring.gens())\n```\nwould work just fine, as far as I can see. If you have a good reason to use the dict upacking (is it faster?) then it's fine, of course; but otherwise using the simpler code is probably preferable.",
    "created_at": "2018-06-19T05:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391415",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:16" align="right">Comment 16</div>


```
+            norm_f = sum(norm_ring({tuple(k)[1:]:v})
+                         for k,v in norm_flat.dict().iteritems())
```
Please don't think that unpacking a polynomial into a dictionary is the best way of handling it! To "lift" number field elements, I didn't see another way, but in this case

```
norm_f = norm_flat((0,)+norm_ring.gens())
```
would work just fine, as far as I can see. If you have a good reason to use the dict upacking (is it faster?) then it's fine, of course; but otherwise using the simpler code is probably preferable.



---

archive/issue_comments_391416.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3eb8efc74656da1dbdd05a1762c91e266defa82\">a3eb8ef</a></td><td><code>Trac #25390: simplify norm calculation code</code></td></tr></table>\n",
    "created_at": "2018-06-19T16:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391416",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3eb8efc74656da1dbdd05a1762c91e266defa82">a3eb8ef</a></td><td><code>Trac #25390: simplify norm calculation code</code></td></tr></table>




---

archive/issue_comments_391417.json:
```json
{
    "body": "Changed commit from **[5b23d3f](https://github.com/sagemath/sagetrac-mirror/commit/5b23d3f2fdc111d45757db62532ab69f096b124b)** to **[a3eb8ef](https://github.com/sagemath/sagetrac-mirror/commit/a3eb8efc74656da1dbdd05a1762c91e266defa82)**",
    "created_at": "2018-06-19T16:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391417",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5b23d3f](https://github.com/sagemath/sagetrac-mirror/commit/5b23d3f2fdc111d45757db62532ab69f096b124b)** to **[a3eb8ef](https://github.com/sagemath/sagetrac-mirror/commit/a3eb8efc74656da1dbdd05a1762c91e266defa82)**



---

archive/issue_comments_391418.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nI thought there had to a better way to do it!",
    "created_at": "2018-06-19T16:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391418",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:18" align="right">Comment 18</div>

I thought there had to a better way to do it!



---

archive/issue_comments_391419.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nAttachment: **[qqbar.tex.gz](https://github.com/sagemath/sage/files/ticket25390/qqbar.tex.gz)**",
    "created_at": "2018-09-21T19:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391419",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">Comment 19</div>

Attachment: **[qqbar.tex.gz](https://github.com/sagemath/sage/files/ticket25390/qqbar.tex.gz)**



---

archive/issue_comments_391420.json:
```json
{
    "body": "Changed commit from **[a3eb8ef](https://github.com/sagemath/sagetrac-mirror/commit/a3eb8efc74656da1dbdd05a1762c91e266defa82)** to **[ac30e3a](https://github.com/sagemath/sagetrac-mirror/commit/ac30e3a0f45a35bf50c98ee2ea079c5fedd2937e)**",
    "created_at": "2018-12-09T03:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391420",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a3eb8ef](https://github.com/sagemath/sagetrac-mirror/commit/a3eb8efc74656da1dbdd05a1762c91e266defa82)** to **[ac30e3a](https://github.com/sagemath/sagetrac-mirror/commit/ac30e3a0f45a35bf50c98ee2ea079c5fedd2937e)**



---

archive/issue_comments_391421.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac30e3a0f45a35bf50c98ee2ea079c5fedd2937e\">ac30e3a</a></td><td><code>Merge tag '8.4' into public/25390</code></td></tr></table>\n",
    "created_at": "2018-12-09T03:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391421",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20" align="right">Comment 20</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac30e3a0f45a35bf50c98ee2ea079c5fedd2937e">ac30e3a</a></td><td><code>Merge tag '8.4' into public/25390</code></td></tr></table>




---

archive/issue_comments_391422.json:
```json
{
    "body": "Changed commit from **[ac30e3a](https://github.com/sagemath/sagetrac-mirror/commit/ac30e3a0f45a35bf50c98ee2ea079c5fedd2937e)** to **[94a6c6c](https://github.com/sagemath/sagetrac-mirror/commit/94a6c6c80ea91f54417ae983f4e664e58e52e2ee)**",
    "created_at": "2019-04-19T03:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391422",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ac30e3a](https://github.com/sagemath/sagetrac-mirror/commit/ac30e3a0f45a35bf50c98ee2ea079c5fedd2937e)** to **[94a6c6c](https://github.com/sagemath/sagetrac-mirror/commit/94a6c6c80ea91f54417ae983f4e664e58e52e2ee)**



---

archive/issue_comments_391423.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/730a40d2e5638e4549ee8dd02b7563cb2c98214d\">730a40d</a></td><td><code>Trac #25351: remove @handle_AA_and_QQbar decorator from reduce method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9fde71a145a7398ab6c73576e327bbd40c38367\">a9fde71</a></td><td><code>Trac #25351: remove @handle_AA_and_QQbar decorator from _normal_basis_libsingular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f547af89c7add28c4359a706613a8df8c39c42d\">4f547af</a></td><td><code>Trac #25351: Put @handle_AA_and_QQbar decorator on groebner_basis(), and remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1872602c49e65a8623ab8d2ba6397d6dd02397f\">d187260</a></td><td><code>Trac #25351: improve @handle_AA_and_QQbar to handle keyword arguments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f83f2bd5122a66829df62997f1378e83c9656239\">f83f2bd</a></td><td><code>Trac #25351: add test cases to methods decorated with @handle_AA_and_QQbar</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb145a92cd380f28c539bb2b7ccf3e4cc5efad93\">fb145a9</a></td><td><code>Trac #25351: modify a test case to check keywords arguments to @handle_AA_and_QQbar</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/758e4eaa0c6abb8970b09af4fd910267ee56b3ac\">758e4ea</a></td><td><code>Merge tag '8.7.rc0' into public/25351</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ba975e5352cf631df3f7550733e3861a7bdb887\">7ba975e</a></td><td><code>Merge tag '8.7' into public/25351</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd8ab1bf8085d07a7913adb67f62255a9edc6988\">bd8ab1b</a></td><td><code>Merge tag '8.8.beta2' into public/25351</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94a6c6c80ea91f54417ae983f4e664e58e52e2ee\">94a6c6c</a></td><td><code>Merge branch 'public/25351' into public/25390</code></td></tr></table>\n",
    "created_at": "2019-04-19T03:17:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391423",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/730a40d2e5638e4549ee8dd02b7563cb2c98214d">730a40d</a></td><td><code>Trac #25351: remove @handle_AA_and_QQbar decorator from reduce method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9fde71a145a7398ab6c73576e327bbd40c38367">a9fde71</a></td><td><code>Trac #25351: remove @handle_AA_and_QQbar decorator from _normal_basis_libsingular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f547af89c7add28c4359a706613a8df8c39c42d">4f547af</a></td><td><code>Trac #25351: Put @handle_AA_and_QQbar decorator on groebner_basis(), and remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1872602c49e65a8623ab8d2ba6397d6dd02397f">d187260</a></td><td><code>Trac #25351: improve @handle_AA_and_QQbar to handle keyword arguments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f83f2bd5122a66829df62997f1378e83c9656239">f83f2bd</a></td><td><code>Trac #25351: add test cases to methods decorated with @handle_AA_and_QQbar</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb145a92cd380f28c539bb2b7ccf3e4cc5efad93">fb145a9</a></td><td><code>Trac #25351: modify a test case to check keywords arguments to @handle_AA_and_QQbar</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/758e4eaa0c6abb8970b09af4fd910267ee56b3ac">758e4ea</a></td><td><code>Merge tag '8.7.rc0' into public/25351</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ba975e5352cf631df3f7550733e3861a7bdb887">7ba975e</a></td><td><code>Merge tag '8.7' into public/25351</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd8ab1bf8085d07a7913adb67f62255a9edc6988">bd8ab1b</a></td><td><code>Merge tag '8.8.beta2' into public/25351</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94a6c6c80ea91f54417ae983f4e664e58e52e2ee">94a6c6c</a></td><td><code>Merge branch 'public/25351' into public/25390</code></td></tr></table>




---

archive/issue_comments_391424.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a3b28c59b1b44f9453c79647a04bb5c96cd9711\">1a3b28c</a></td><td><code>Merge tag '8.8.beta7' into public/25390</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/783085457d608cd18302eaa91e0c32765f3bcf35\">7830854</a></td><td><code>Trac #25351: ensure Python 3 compatibility</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebfbf2dba3de087864a85556bb04744642dd6564\">ebfbf2d</a></td><td><code>Merge tag '8.8.beta5' into public/25351</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b602cb144f03c76fd1854f9800693048bd443ba5\">b602cb1</a></td><td><code>Merge tag '8.8.beta7' into public/25351</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba45dd6ed636ee5ae903b375cc55362d20cb93c8\">ba45dd6</a></td><td><code>Merge branch 'public/25351' into public/25390</code></td></tr></table>\n",
    "created_at": "2019-06-06T20:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391424",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22" align="right">Comment 22</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a3b28c59b1b44f9453c79647a04bb5c96cd9711">1a3b28c</a></td><td><code>Merge tag '8.8.beta7' into public/25390</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/783085457d608cd18302eaa91e0c32765f3bcf35">7830854</a></td><td><code>Trac #25351: ensure Python 3 compatibility</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebfbf2dba3de087864a85556bb04744642dd6564">ebfbf2d</a></td><td><code>Merge tag '8.8.beta5' into public/25351</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b602cb144f03c76fd1854f9800693048bd443ba5">b602cb1</a></td><td><code>Merge tag '8.8.beta7' into public/25351</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba45dd6ed636ee5ae903b375cc55362d20cb93c8">ba45dd6</a></td><td><code>Merge branch 'public/25351' into public/25390</code></td></tr></table>




---

archive/issue_comments_391425.json:
```json
{
    "body": "Changed commit from **[94a6c6c](https://github.com/sagemath/sagetrac-mirror/commit/94a6c6c80ea91f54417ae983f4e664e58e52e2ee)** to **[ba45dd6](https://github.com/sagemath/sagetrac-mirror/commit/ba45dd6ed636ee5ae903b375cc55362d20cb93c8)**",
    "created_at": "2019-06-06T20:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391425",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[94a6c6c](https://github.com/sagemath/sagetrac-mirror/commit/94a6c6c80ea91f54417ae983f4e664e58e52e2ee)** to **[ba45dd6](https://github.com/sagemath/sagetrac-mirror/commit/ba45dd6ed636ee5ae903b375cc55362d20cb93c8)**



---

archive/issue_comments_391426.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10554b08b999c0a729453bbf2464bb174050878f\">10554b0</a></td><td><code>Trac #25390: fix some doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f36b1167d0843a62dc17409a7a9f29e410209277\">f36b116</a></td><td><code>Merge tag '8.8.rc0' into public/25390</code></td></tr></table>\n",
    "created_at": "2019-06-11T21:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391426",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10554b08b999c0a729453bbf2464bb174050878f">10554b0</a></td><td><code>Trac #25390: fix some doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f36b1167d0843a62dc17409a7a9f29e410209277">f36b116</a></td><td><code>Merge tag '8.8.rc0' into public/25390</code></td></tr></table>




---

archive/issue_comments_391427.json:
```json
{
    "body": "Changed commit from **[ba45dd6](https://github.com/sagemath/sagetrac-mirror/commit/ba45dd6ed636ee5ae903b375cc55362d20cb93c8)** to **[f36b116](https://github.com/sagemath/sagetrac-mirror/commit/f36b1167d0843a62dc17409a7a9f29e410209277)**",
    "created_at": "2019-06-11T21:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391427",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ba45dd6](https://github.com/sagemath/sagetrac-mirror/commit/ba45dd6ed636ee5ae903b375cc55362d20cb93c8)** to **[f36b116](https://github.com/sagemath/sagetrac-mirror/commit/f36b1167d0843a62dc17409a7a9f29e410209277)**



---

archive/issue_comments_391428.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,8 +26,6 @@\n TypeError: no conversion of this ring to a Singular ring defined\n ```\n \n-I was going to implement this using Singular's `absfact.lib`, but then I realized that those routines only work for rings over Q (or transcendental extensions thereof), and not over number fields.\n-\n-So, it's not just as easy as calling `absFactorize`.\n+This ticket implements absolute factorization by calling Singular's `absfact.lib`, which works for rings over Q (or transcendental extensions thereof), and uses a technique described in the attached document to handle number fields.\n \n I flagged it `major` because polynomial factorization is a fundamental feature that blocks the implementation of other things, like primary decomposition of ideals.\n``````\n",
    "created_at": "2019-06-11T21:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391428",
    "user": "https://github.com/BrentBaccala"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,8 +26,6 @@
 TypeError: no conversion of this ring to a Singular ring defined
 ```
 
-I was going to implement this using Singular's `absfact.lib`, but then I realized that those routines only work for rings over Q (or transcendental extensions thereof), and not over number fields.
-
-So, it's not just as easy as calling `absFactorize`.
+This ticket implements absolute factorization by calling Singular's `absfact.lib`, which works for rings over Q (or transcendental extensions thereof), and uses a technique described in the attached document to handle number fields.
 
 I flagged it `major` because polynomial factorization is a fundamental feature that blocks the implementation of other things, like primary decomposition of ideals.
``````




---

archive/issue_comments_391429.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64dd01e6b0e2c65ef17b0129ed5efb36c6e4f39d\">64dd01e</a></td><td><code>Merge tag '8.9.rc1' into public/25390</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a955fb26fcdaa1e1361c36597458d3d7c9670b2\">4a955fb</a></td><td><code>Trac #25390: fix failing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fd38a823b544312f0fc7761c23da742262fc956\">3fd38a8</a></td><td><code>Trac #25390: remove a duplicate check for _factor_multivariate_polynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd4840c3f09656c7bbb64c8b80097f16e46104bd\">dd4840c</a></td><td><code>Trac #25390: add a TODO item - maybe use univariate factorization code</code></td></tr></table>\n",
    "created_at": "2019-09-26T00:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391429",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25" align="right">Comment 25</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64dd01e6b0e2c65ef17b0129ed5efb36c6e4f39d">64dd01e</a></td><td><code>Merge tag '8.9.rc1' into public/25390</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a955fb26fcdaa1e1361c36597458d3d7c9670b2">4a955fb</a></td><td><code>Trac #25390: fix failing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fd38a823b544312f0fc7761c23da742262fc956">3fd38a8</a></td><td><code>Trac #25390: remove a duplicate check for _factor_multivariate_polynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd4840c3f09656c7bbb64c8b80097f16e46104bd">dd4840c</a></td><td><code>Trac #25390: add a TODO item - maybe use univariate factorization code</code></td></tr></table>




---

archive/issue_comments_391430.json:
```json
{
    "body": "Changed commit from **[f36b116](https://github.com/sagemath/sagetrac-mirror/commit/f36b1167d0843a62dc17409a7a9f29e410209277)** to **[dd4840c](https://github.com/sagemath/sagetrac-mirror/commit/dd4840c3f09656c7bbb64c8b80097f16e46104bd)**",
    "created_at": "2019-09-26T00:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391430",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f36b116](https://github.com/sagemath/sagetrac-mirror/commit/f36b1167d0843a62dc17409a7a9f29e410209277)** to **[dd4840c](https://github.com/sagemath/sagetrac-mirror/commit/dd4840c3f09656c7bbb64c8b80097f16e46104bd)**



---

archive/issue_comments_391431.json:
```json
{
    "body": "Changed commit from **[dd4840c](https://github.com/sagemath/sagetrac-mirror/commit/dd4840c3f09656c7bbb64c8b80097f16e46104bd)** to **[a9c1e8b](https://github.com/sagemath/sagetrac-mirror/commit/a9c1e8b3c0ec2558de2a02ee3930562f08b91ac0)**",
    "created_at": "2019-09-26T01:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391431",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dd4840c](https://github.com/sagemath/sagetrac-mirror/commit/dd4840c3f09656c7bbb64c8b80097f16e46104bd)** to **[a9c1e8b](https://github.com/sagemath/sagetrac-mirror/commit/a9c1e8b3c0ec2558de2a02ee3930562f08b91ac0)**



---

archive/issue_comments_391432.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9c1e8b3c0ec2558de2a02ee3930562f08b91ac0\">a9c1e8b</a></td><td><code>Trac #25390: replace iteritems() with items() for Python 3 compatibility</code></td></tr></table>\n",
    "created_at": "2019-09-26T01:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391432",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9c1e8b3c0ec2558de2a02ee3930562f08b91ac0">a9c1e8b</a></td><td><code>Trac #25390: replace iteritems() with items() for Python 3 compatibility</code></td></tr></table>




---

archive/issue_comments_391433.json:
```json
{
    "body": "Changed commit from **[a9c1e8b](https://github.com/sagemath/sagetrac-mirror/commit/a9c1e8b3c0ec2558de2a02ee3930562f08b91ac0)** to **[6305cc1](https://github.com/sagemath/sagetrac-mirror/commit/6305cc109f76bcfe3921f8a555973cbd1901a558)**",
    "created_at": "2019-10-27T16:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391433",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a9c1e8b](https://github.com/sagemath/sagetrac-mirror/commit/a9c1e8b3c0ec2558de2a02ee3930562f08b91ac0)** to **[6305cc1](https://github.com/sagemath/sagetrac-mirror/commit/6305cc109f76bcfe3921f8a555973cbd1901a558)**



---

archive/issue_comments_391434.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6305cc109f76bcfe3921f8a555973cbd1901a558\">6305cc1</a></td><td><code>Merge tag '9.0.beta3' into public/25390</code></td></tr></table>\n",
    "created_at": "2019-10-27T16:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391434",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27" align="right">Comment 27</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6305cc109f76bcfe3921f8a555973cbd1901a558">6305cc1</a></td><td><code>Merge tag '9.0.beta3' into public/25390</code></td></tr></table>




---

archive/issue_comments_391435.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nTwo minor things: The first is the `.. TODO::` block should be indented. The second is more stylistic, but I would avoid the blankline after the start of the `for` loops.",
    "created_at": "2019-10-27T23:52:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391435",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">Comment 28</div>

Two minor things: The first is the `.. TODO::` block should be indented. The second is more stylistic, but I would avoid the blankline after the start of the `for` loops.



---

archive/issue_comments_391436.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91d467ee9ee4008074de452de9ac8a6b0b90359a\">91d467e</a></td><td><code>Trac #25390: indent TODO block and remove some blank lines</code></td></tr></table>\n",
    "created_at": "2019-10-28T00:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391436",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29" align="right">Comment 29</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91d467ee9ee4008074de452de9ac8a6b0b90359a">91d467e</a></td><td><code>Trac #25390: indent TODO block and remove some blank lines</code></td></tr></table>




---

archive/issue_comments_391437.json:
```json
{
    "body": "Changed commit from **[6305cc1](https://github.com/sagemath/sagetrac-mirror/commit/6305cc109f76bcfe3921f8a555973cbd1901a558)** to **[91d467e](https://github.com/sagemath/sagetrac-mirror/commit/91d467ee9ee4008074de452de9ac8a6b0b90359a)**",
    "created_at": "2019-10-28T00:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391437",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6305cc1](https://github.com/sagemath/sagetrac-mirror/commit/6305cc109f76bcfe3921f8a555973cbd1901a558)** to **[91d467e](https://github.com/sagemath/sagetrac-mirror/commit/91d467ee9ee4008074de452de9ac8a6b0b90359a)**



---

archive/issue_comments_391438.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nReplying to [@tscrim](#comment%3A28):\n> Two minor things: The first is the `.. TODO::` block should be indented. The second is more stylistic, but I would avoid the blankline after the start of the `for` loops.\n\nOK, done.\n\nI didn't remove the blank lines on the second for loop because it's so long, I feel the blank lines improve it readability.",
    "created_at": "2019-10-28T00:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391438",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:30" align="right">Comment 30</div>

Replying to [@tscrim](#comment%3A28):
> Two minor things: The first is the `.. TODO::` block should be indented. The second is more stylistic, but I would avoid the blankline after the start of the `for` loops.

OK, done.

I didn't remove the blank lines on the second for loop because it's so long, I feel the blank lines improve it readability.



---

archive/issue_comments_391439.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-10-28T02:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391439",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_333355.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-10-28T02:28:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333355"
}
```



---

archive/issue_events_333356.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-10-28T02:28:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333356"
}
```



---

archive/issue_comments_391440.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nThanks. I disagree about the space because I have never really seen that elsewhere in Python code and it looks strange to be because of that. Yet, I don't think it is important enough to hold up the ticket.",
    "created_at": "2019-10-28T02:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391440",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">Comment 31</div>

Thanks. I disagree about the space because I have never really seen that elsewhere in Python code and it looks strange to be because of that. Yet, I don't think it is important enough to hold up the ticket.



---

archive/issue_events_333357.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-29T10:42:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333357"
}
```



---

archive/issue_events_333358.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-30T23:47:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333358"
}
```



---

archive/issue_events_333359.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d0d775cd5e55086f4eec8489f3eda770a3db8718",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-10-30T23:47:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25390#event-333359"
}
```



---

archive/issue_comments_391441.json:
```json
{
    "body": "Changed branch from **[public/25390](https://github.com/sagemath/sagetrac-mirror/tree/public/25390)** to **[91d467e](https://github.com/sagemath/sagetrac-mirror/commit/91d467ee9ee4008074de452de9ac8a6b0b90359a)**",
    "created_at": "2019-10-30T23:47:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25390#issuecomment-391441",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/25390](https://github.com/sagemath/sagetrac-mirror/tree/public/25390)** to **[91d467e](https://github.com/sagemath/sagetrac-mirror/commit/91d467ee9ee4008074de452de9ac8a6b0b90359a)**
