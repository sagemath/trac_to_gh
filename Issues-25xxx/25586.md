# Issue 25586: py3: adding hash function for orders and fraction fields

archive/issues_025349.json:
```json
{
    "assignees": [],
    "body": "\n+ a few other details\n\nCC:  @tscrim @embray @jdemeyer\n\nKeywords: **days94**\n\nBranch: **[`6806c37`](https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403)**\n\nReviewer: **Vincent Delecroix, Travis Scrimshaw, Erik Bray**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25586_\n\n",
    "closed_at": "2018-07-08T13:05:11Z",
    "created_at": "2018-06-15T18:31:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: adding hash function for orders and fraction fields",
    "type": "issue",
    "updated_at": "2018-07-10T12:56:38Z",
    "url": "https://github.com/sagemath/sage/issues/25586",
    "user": "https://github.com/fchapoton"
}
```

+ a few other details

CC:  @tscrim @embray @jdemeyer

Keywords: **days94**

Branch: **[`6806c37`](https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403)**

Reviewer: **Vincent Delecroix, Travis Scrimshaw, Erik Bray**

Author: **Frédéric Chapoton**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/25586_





---

archive/issue_events_353922.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-15T18:31:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353922"
}
```



---

archive/issue_events_353923.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-15T18:31:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353923"
}
```



---

archive/issue_events_353924.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-15T18:31:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353924"
}
```



---

archive/issue_events_353925.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-15T18:31:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353925"
}
```



---

archive/issue_comments_392631.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0f9b866f19dd5e3843cb4e11aac8e3a23be067e\">a0f9b86</a></td><td><code>py3: adding hash to congruence groups and fraction fields + other details</code></td></tr></table>\n",
    "created_at": "2018-06-15T18:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392631",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0f9b866f19dd5e3843cb4e11aac8e3a23be067e">a0f9b86</a></td><td><code>py3: adding hash to congruence groups and fraction fields + other details</code></td></tr></table>




---

archive/issue_comments_392632.json:
```json
{
    "body": "Branch: **[u/chapoton/25586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25586)**",
    "created_at": "2018-06-15T18:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392632",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/25586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25586)**



---

archive/issue_comments_392633.json:
```json
{
    "body": "Commit: **[`a0f9b86`](https://github.com/sagemath/sagetrac-mirror/commit/a0f9b866f19dd5e3843cb4e11aac8e3a23be067e)**",
    "created_at": "2018-06-15T18:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392633",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`a0f9b86`](https://github.com/sagemath/sagetrac-mirror/commit/a0f9b866f19dd5e3843cb4e11aac8e3a23be067e)**



---

archive/issue_events_353926.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-15T18:32:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353926"
}
```



---

archive/issue_events_353927.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-15T20:15:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "title_is": "py3: adding hash function for congruence groups and fraction fields",
    "title_was": "py3: adding some hash function",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353927"
}
```



---

archive/issue_comments_392634.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,2 @@\n-for congruence groups and fraction fields\n \n + a few other details\n``````\n",
    "created_at": "2018-06-15T20:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392634",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,2 @@
-for congruence groups and fraction fields
 
 + a few other details
``````




---

archive/issue_events_353928.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-16T06:15:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353928"
}
```



---

archive/issue_events_353929.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-16T06:15:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353929"
}
```



---

archive/issue_comments_392635.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nsome failing doctests",
    "created_at": "2018-06-16T06:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392635",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

some failing doctests



---

archive/issue_comments_392636.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac1563141fc541500802fefa24c07cfdd7c85557\">ac15631</a></td><td><code>trac 25586 fixing new hash of congruence groups</code></td></tr></table>\n",
    "created_at": "2018-06-16T07:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392636",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac1563141fc541500802fefa24c07cfdd7c85557">ac15631</a></td><td><code>trac 25586 fixing new hash of congruence groups</code></td></tr></table>




---

archive/issue_comments_392637.json:
```json
{
    "body": "Changed commit from **[`a0f9b86`](https://github.com/sagemath/sagetrac-mirror/commit/a0f9b866f19dd5e3843cb4e11aac8e3a23be067e)** to **[`ac15631`](https://github.com/sagemath/sagetrac-mirror/commit/ac1563141fc541500802fefa24c07cfdd7c85557)**",
    "created_at": "2018-06-16T07:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392637",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a0f9b86`](https://github.com/sagemath/sagetrac-mirror/commit/a0f9b866f19dd5e3843cb4e11aac8e3a23be067e)** to **[`ac15631`](https://github.com/sagemath/sagetrac-mirror/commit/ac1563141fc541500802fefa24c07cfdd7c85557)**



---

archive/issue_events_353930.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-16T07:19:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353930"
}
```



---

archive/issue_events_353931.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-16T07:19:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353931"
}
```



---

archive/issue_comments_392638.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSimilar to #25591: the hash of a fraction field should be different from the hash of its underlying ring.\n\nWhat you did for congruence subgroups is not a very good idea as it will break equality\n\n```\nsage: G = Gamma(2)\nsage: H = G.as_permutation_group()\nsage: G == H\nTrue\n```\nOne (expensive) possibility for now would be\n\n```\ndef __hash__(self):\n    return hash(self.as_permutation_group())\n```",
    "created_at": "2018-06-17T08:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392638",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

Similar to #25591: the hash of a fraction field should be different from the hash of its underlying ring.

What you did for congruence subgroups is not a very good idea as it will break equality

```
sage: G = Gamma(2)
sage: H = G.as_permutation_group()
sage: G == H
True
```
One (expensive) possibility for now would be

```
def __hash__(self):
    return hash(self.as_permutation_group())
```



---

archive/issue_events_353932.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-17T08:23:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353932"
}
```



---

archive/issue_events_353933.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-17T08:23:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353933"
}
```



---

archive/issue_comments_392639.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2018-06-17T08:23:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392639",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_392640.json:
```json
{
    "body": "Changed commit from **[`ac15631`](https://github.com/sagemath/sagetrac-mirror/commit/ac1563141fc541500802fefa24c07cfdd7c85557)** to **[`a56f973`](https://github.com/sagemath/sagetrac-mirror/commit/a56f9735ea74cacadf2947165fb7a191f8345fca)**",
    "created_at": "2018-06-17T08:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392640",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ac15631`](https://github.com/sagemath/sagetrac-mirror/commit/ac1563141fc541500802fefa24c07cfdd7c85557)** to **[`a56f973`](https://github.com/sagemath/sagetrac-mirror/commit/a56f9735ea74cacadf2947165fb7a191f8345fca)**



---

archive/issue_comments_392641.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a56f9735ea74cacadf2947165fb7a191f8345fca\">a56f973</a></td><td><code>fixing hash of fraction fields and congruence groups</code></td></tr></table>\n",
    "created_at": "2018-06-17T08:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392641",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a56f9735ea74cacadf2947165fb7a191f8345fca">a56f973</a></td><td><code>fixing hash of fraction fields and congruence groups</code></td></tr></table>




---

archive/issue_events_353934.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-17T08:53:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353934"
}
```



---

archive/issue_events_353935.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-17T08:53:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353935"
}
```



---

archive/issue_comments_392642.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nMerci. C'est fait aussi.",
    "created_at": "2018-06-17T08:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392642",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

Merci. C'est fait aussi.



---

archive/issue_comments_392643.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nping ?",
    "created_at": "2018-06-20T18:11:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392643",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

ping ?



---

archive/issue_comments_392644.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nd\u00e9sol\u00e9... d'autres sollicitations.",
    "created_at": "2018-06-20T18:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392644",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

désolé... d'autres sollicitations.



---

archive/issue_events_353936.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-20T18:18:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353936"
}
```



---

archive/issue_events_353937.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-20T18:18:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353937"
}
```



---

archive/issue_comments_392645.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nJe comprends. Merci beaucoup.",
    "created_at": "2018-06-20T18:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392645",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

Je comprends. Merci beaucoup.



---

archive/issue_comments_392646.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSee patchbot",
    "created_at": "2018-06-22T18:31:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392646",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

See patchbot



---

archive/issue_events_353938.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-22T18:31:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353938"
}
```



---

archive/issue_events_353939.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-22T18:31:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353939"
}
```



---

archive/issue_comments_392647.json:
```json
{
    "body": "Changed commit from **[`a56f973`](https://github.com/sagemath/sagetrac-mirror/commit/a56f9735ea74cacadf2947165fb7a191f8345fca)** to **[`97d8e09`](https://github.com/sagemath/sagetrac-mirror/commit/97d8e09ab04a0c8551d7ba64540d910a1287ae60)**",
    "created_at": "2018-06-23T06:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392647",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a56f973`](https://github.com/sagemath/sagetrac-mirror/commit/a56f9735ea74cacadf2947165fb7a191f8345fca)** to **[`97d8e09`](https://github.com/sagemath/sagetrac-mirror/commit/97d8e09ab04a0c8551d7ba64540d910a1287ae60)**



---

archive/issue_comments_392648.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97d8e09ab04a0c8551d7ba64540d910a1287ae60\">97d8e09</a></td><td><code>py3: adding hash to orders and fraction fields + other details</code></td></tr></table>\n",
    "created_at": "2018-06-23T06:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392648",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97d8e09ab04a0c8551d7ba64540d910a1287ae60">97d8e09</a></td><td><code>py3: adding hash to orders and fraction fields + other details</code></td></tr></table>




---

archive/issue_events_353940.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-23T06:34:28Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "title_is": "py3: adding hash function for orders and fraction fields",
    "title_was": "py3: adding hash function for congruence groups and fraction fields",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353940"
}
```



---

archive/issue_comments_392649.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nthe case of congruence groups being harder, it is no longer handled here.",
    "created_at": "2018-06-23T06:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392649",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">comment:15</div>

the case of congruence groups being harder, it is no longer handled here.



---

archive/issue_events_353941.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-23T06:34:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353941"
}
```



---

archive/issue_events_353942.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-23T06:34:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353942"
}
```



---

archive/issue_comments_392650.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nping ? I have removed the controversial part..\n\nEDIT: and this is an important ticket for progress in python3",
    "created_at": "2018-06-27T07:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392650",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

ping ? I have removed the controversial part..

EDIT: and this is an important ticket for progress in python3



---

archive/issue_comments_392651.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nand bot is green",
    "created_at": "2018-06-27T16:49:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392651",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">comment:17</div>

and bot is green



---

archive/issue_comments_392652.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nplease, someone ?",
    "created_at": "2018-06-28T07:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392652",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

please, someone ?



---

archive/issue_comments_392653.json:
```json
{
    "body": "Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Travis Scrimshaw**",
    "created_at": "2018-06-28T09:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392653",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Travis Scrimshaw**



---

archive/issue_comments_392654.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nLGTM.",
    "created_at": "2018-06-28T09:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392654",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

LGTM.



---

archive/issue_events_353943.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-06-28T09:17:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353943"
}
```



---

archive/issue_events_353944.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-06-28T09:17:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353944"
}
```



---

archive/issue_comments_392655.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nMore `list(map(...))`s that might as well be list comprehensions:\n\n```diff\ndiff --git a/src/sage/manifolds/differentiable/affine_connection.py b/src/sage/manifolds/differentiable/affine_connection.py\nindex e1d6601..e307a9c 100644\n--- a/src/sage/manifolds/differentiable/affine_connection.py\n+++ b/src/sage/manifolds/differentiable/affine_connection.py\n@@ -1186,8 +1186,8 @@ class AffineConnection(SageObject):\n         if index_labels is None and isinstance(frame, CoordFrame) and \\\n           coordinate_labels:\n             ch = frame.chart()\n-            index_labels = map(str, ch[:])\n-            index_latex_labels = map(latex, ch[:])\n+            index_labels = list(map(str, ch[:]))\n+            index_latex_labels = list(map(latex, ch[:]))\n         return self.coef(frame=frame).display(symbol,\n               latex_symbol=latex_symbol, index_positions='udd',\n               index_labels=index_labels, index_latex_labels=index_latex_labels,\n```\n\nI think I've mentioned elsewhere (and forgive me if this concern was dismissed and I didn't see it), but I don't like these usesless hash example tests like:\n\n```diff\ndiff --git a/src/sage/rings/fraction_field.py b/src/sage/rings/fraction_field.py\nindex 201e132..024d83d 100644\n--- a/src/sage/rings/fraction_field.py\n+++ b/src/sage/rings/fraction_field.py\n@@ -688,6 +688,16 @@ class FractionField_generic(ring.Field):\n         \"\"\"\n         return not (self == other)\n \n+    def __hash__(self):\n+        \"\"\"\n+        Compute the hash of ``self``.\n+\n+        EXAMPLES::\n+\n+            sage: h = hash(Frac(ZZ['x']))\n+        \"\"\"\n+        return hash(self._R) ^ 147068341996611\n+\n     def ngens(self):\n         \"\"\"\n         This is the same as for the parent object.\n```\n\nAll this tests is that, at best, it doesn't crash (which is almost completely trivial).  It should instead demonstrate at least a case where two hashes compare the same as expected, and where two hashes differ, as expected.\n\nI agree it's annoying to write these tests which is why I've been pokey about making tickets for `__hash__` implementations in the first place :)",
    "created_at": "2018-06-28T15:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392655",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

More `list(map(...))`s that might as well be list comprehensions:

```diff
diff --git a/src/sage/manifolds/differentiable/affine_connection.py b/src/sage/manifolds/differentiable/affine_connection.py
index e1d6601..e307a9c 100644
--- a/src/sage/manifolds/differentiable/affine_connection.py
+++ b/src/sage/manifolds/differentiable/affine_connection.py
@@ -1186,8 +1186,8 @@ class AffineConnection(SageObject):
         if index_labels is None and isinstance(frame, CoordFrame) and \
           coordinate_labels:
             ch = frame.chart()
-            index_labels = map(str, ch[:])
-            index_latex_labels = map(latex, ch[:])
+            index_labels = list(map(str, ch[:]))
+            index_latex_labels = list(map(latex, ch[:]))
         return self.coef(frame=frame).display(symbol,
               latex_symbol=latex_symbol, index_positions='udd',
               index_labels=index_labels, index_latex_labels=index_latex_labels,
```

I think I've mentioned elsewhere (and forgive me if this concern was dismissed and I didn't see it), but I don't like these usesless hash example tests like:

```diff
diff --git a/src/sage/rings/fraction_field.py b/src/sage/rings/fraction_field.py
index 201e132..024d83d 100644
--- a/src/sage/rings/fraction_field.py
+++ b/src/sage/rings/fraction_field.py
@@ -688,6 +688,16 @@ class FractionField_generic(ring.Field):
         """
         return not (self == other)
 
+    def __hash__(self):
+        """
+        Compute the hash of ``self``.
+
+        EXAMPLES::
+
+            sage: h = hash(Frac(ZZ['x']))
+        """
+        return hash(self._R) ^ 147068341996611
+
     def ngens(self):
         """
         This is the same as for the parent object.
```

All this tests is that, at best, it doesn't crash (which is almost completely trivial).  It should instead demonstrate at least a case where two hashes compare the same as expected, and where two hashes differ, as expected.

I agree it's annoying to write these tests which is why I've been pokey about making tickets for `__hash__` implementations in the first place :)



---

archive/issue_events_353945.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-06-28T15:14:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353945"
}
```



---

archive/issue_events_353946.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-06-28T15:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353946"
}
```



---

archive/issue_comments_392656.json:
```json
{
    "body": "Changed commit from **[`97d8e09`](https://github.com/sagemath/sagetrac-mirror/commit/97d8e09ab04a0c8551d7ba64540d910a1287ae60)** to **[`dab8b92`](https://github.com/sagemath/sagetrac-mirror/commit/dab8b92a5d70ce10554b9faafcc0cc5ca2c3d929)**",
    "created_at": "2018-06-28T15:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392656",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`97d8e09`](https://github.com/sagemath/sagetrac-mirror/commit/97d8e09ab04a0c8551d7ba64540d910a1287ae60)** to **[`dab8b92`](https://github.com/sagemath/sagetrac-mirror/commit/dab8b92a5d70ce10554b9faafcc0cc5ca2c3d929)**



---

archive/issue_comments_392657.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c91be02e8d41f4c7a855c8591c71ee225d716472\">c91be02</a></td><td><code>Merge branch 'u/chapoton/25586' in 8.3.b7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dab8b92a5d70ce10554b9faafcc0cc5ca2c3d929\">dab8b92</a></td><td><code>more doctests for hash</code></td></tr></table>\n",
    "created_at": "2018-06-28T15:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392657",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c91be02e8d41f4c7a855c8591c71ee225d716472">c91be02</a></td><td><code>Merge branch 'u/chapoton/25586' in 8.3.b7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dab8b92a5d70ce10554b9faafcc0cc5ca2c3d929">dab8b92</a></td><td><code>more doctests for hash</code></td></tr></table>




---

archive/issue_comments_392658.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\ndone",
    "created_at": "2018-06-28T15:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392658",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

done



---

archive/issue_events_353947.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-28T15:57:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353947"
}
```



---

archive/issue_events_353948.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-28T15:57:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353948"
}
```



---

archive/issue_comments_392659.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThis is a stupid question and I think I might have already answered it in my head but, just for my edification:\n\n```diff\ndiff --git a/src/sage/rings/fraction_field.py b/src/sage/rings/fraction_field.py\nindex 201e132..909f10b 100644\n--- a/src/sage/rings/fraction_field.py\n+++ b/src/sage/rings/fraction_field.py\n@@ -688,6 +688,21 @@ class FractionField_generic(ring.Field):\n         \"\"\"\n         return not (self == other)\n \n+    def __hash__(self):\n+        \"\"\"\n+        Compute the hash of ``self``.\n+\n+        EXAMPLES::\n+\n+            sage: h0 = hash(Frac(ZZ['x']))\n+            sage: h1 = hash(Frac(ZZ['x']))\n+            sage: h2 = hash(Frac(QQ['x']))\n+            sage: h3 = hash(ZZ['x'])\n+            sage: h0 == h1 and h1 != h2 and h1 != h3\n+            True\n+        \"\"\"\n+        return hash(self._R) ^ 147068341996611\n+\n     def ngens(self):\n         \"\"\"\n         This is the same as for the parent object.\n```\n\nWhy not just `hash(self._R)`?  Is it possible for instances of these fields to have a parent ring that's equivalent to itself, or something (in which case we'd need this in order for them to have unique hashes)?  And where does the magic number come from?",
    "created_at": "2018-06-29T09:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392659",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

This is a stupid question and I think I might have already answered it in my head but, just for my edification:

```diff
diff --git a/src/sage/rings/fraction_field.py b/src/sage/rings/fraction_field.py
index 201e132..909f10b 100644
--- a/src/sage/rings/fraction_field.py
+++ b/src/sage/rings/fraction_field.py
@@ -688,6 +688,21 @@ class FractionField_generic(ring.Field):
         """
         return not (self == other)
 
+    def __hash__(self):
+        """
+        Compute the hash of ``self``.
+
+        EXAMPLES::
+
+            sage: h0 = hash(Frac(ZZ['x']))
+            sage: h1 = hash(Frac(ZZ['x']))
+            sage: h2 = hash(Frac(QQ['x']))
+            sage: h3 = hash(ZZ['x'])
+            sage: h0 == h1 and h1 != h2 and h1 != h3
+            True
+        """
+        return hash(self._R) ^ 147068341996611
+
     def ngens(self):
         """
         This is the same as for the parent object.
```

Why not just `hash(self._R)`?  Is it possible for instances of these fields to have a parent ring that's equivalent to itself, or something (in which case we'd need this in order for them to have unique hashes)?  And where does the magic number come from?



---

archive/issue_comments_392660.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThis was modeled after the case of Laurent Polynomial at the request of Vincent, to avoid having trivially the same hash. The number is a random number.",
    "created_at": "2018-06-29T09:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392660",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

This was modeled after the case of Laurent Polynomial at the request of Vincent, to avoid having trivially the same hash. The number is a random number.



---

archive/issue_comments_392661.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI see, he wrote:\n\n> For Laurent polynomial ring it is not a good idea to give it the same hash as the underlying multi-polynomial ring. You would better xor it with a random number\n\nBut why is that?  It doesn't matter if they have the same hash unless they can also compare equal to each other.\n\nIn any case, even if there is a good reason, this should probably be noted.  It's not obvious.",
    "created_at": "2018-06-29T09:27:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392661",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

I see, he wrote:

> For Laurent polynomial ring it is not a good idea to give it the same hash as the underlying multi-polynomial ring. You would better xor it with a random number

But why is that?  It doesn't matter if they have the same hash unless they can also compare equal to each other.

In any case, even if there is a good reason, this should probably be noted.  It's not obvious.



---

archive/issue_comments_392662.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nMy guess is that maybe you can have a polynomial ring over elements of another polynomial ring, so in that case it does make sense to do that.",
    "created_at": "2018-06-29T09:30:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392662",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

My guess is that maybe you can have a polynomial ring over elements of another polynomial ring, so in that case it does make sense to do that.



---

archive/issue_comments_392663.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nDo you want a note in the doc of the hash method ?",
    "created_at": "2018-06-29T14:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392663",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">comment:27</div>

Do you want a note in the doc of the hash method ?



---

archive/issue_comments_392664.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIn the doc or just in a comment.  Up to you.",
    "created_at": "2018-06-29T14:31:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392664",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

In the doc or just in a comment.  Up to you.



---

archive/issue_comments_392665.json:
```json
{
    "body": "Changed commit from **[`dab8b92`](https://github.com/sagemath/sagetrac-mirror/commit/dab8b92a5d70ce10554b9faafcc0cc5ca2c3d929)** to **[`6806c37`](https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403)**",
    "created_at": "2018-06-29T17:27:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392665",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dab8b92`](https://github.com/sagemath/sagetrac-mirror/commit/dab8b92a5d70ce10554b9faafcc0cc5ca2c3d929)** to **[`6806c37`](https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403)**



---

archive/issue_comments_392666.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403\">6806c37</a></td><td><code>trac 25586 adding comment</code></td></tr></table>\n",
    "created_at": "2018-06-29T17:27:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392666",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403">6806c37</a></td><td><code>trac 25586 adding comment</code></td></tr></table>




---

archive/issue_comments_392667.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\ndone",
    "created_at": "2018-06-29T17:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392667",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>

done



---

archive/issue_comments_392668.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nping ?",
    "created_at": "2018-07-01T06:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392668",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:31" align="right">comment:31</div>

ping ?



---

archive/issue_comments_392669.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nPING ? This is a major hurting point..",
    "created_at": "2018-07-03T06:06:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392669",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

PING ? This is a major hurting point..



---

archive/issue_comments_392670.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@embray](#comment:23):\n> This is a stupid question and I think I might have already answered it in my head but, just for my edification:\n> \n> ```diff\n> diff --git a/src/sage/rings/fraction_field.py b/src/sage/rings/fraction_field.py\n> index 201e132..909f10b 100644\n> --- a/src/sage/rings/fraction_field.py\n> +++ b/src/sage/rings/fraction_field.py\n> @@ -688,6 +688,21 @@ class FractionField_generic(ring.Field):\n>          \"\"\"\n>          return not (self == other)\n>  \n> +    def __hash__(self):\n> +        \"\"\"\n> +        Compute the hash of ``self``.\n> +\n> +        EXAMPLES::\n> +\n> +            sage: h0 = hash(Frac(ZZ['x']))\n> +            sage: h1 = hash(Frac(ZZ['x']))\n> +            sage: h2 = hash(Frac(QQ['x']))\n> +            sage: h3 = hash(ZZ['x'])\n> +            sage: h0 == h1 and h1 != h2 and h1 != h3\n> +            True\n> +        \"\"\"\n> +        return hash(self._R) ^ 147068341996611\n> +\n>      def ngens(self):\n>          \"\"\"\n>          This is the same as for the parent object.\n> ```\n> \n> Why not just `hash(self._R)`?\n\nTo avoid collisions. We do have dictionaries whose keys are parent (e.g. coercions).",
    "created_at": "2018-07-03T06:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392670",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@embray](#comment:23):
> This is a stupid question and I think I might have already answered it in my head but, just for my edification:
> 
> ```diff
> diff --git a/src/sage/rings/fraction_field.py b/src/sage/rings/fraction_field.py
> index 201e132..909f10b 100644
> --- a/src/sage/rings/fraction_field.py
> +++ b/src/sage/rings/fraction_field.py
> @@ -688,6 +688,21 @@ class FractionField_generic(ring.Field):
>          """
>          return not (self == other)
>  
> +    def __hash__(self):
> +        """
> +        Compute the hash of ``self``.
> +
> +        EXAMPLES::
> +
> +            sage: h0 = hash(Frac(ZZ['x']))
> +            sage: h1 = hash(Frac(ZZ['x']))
> +            sage: h2 = hash(Frac(QQ['x']))
> +            sage: h3 = hash(ZZ['x'])
> +            sage: h0 == h1 and h1 != h2 and h1 != h3
> +            True
> +        """
> +        return hash(self._R) ^ 147068341996611
> +
>      def ngens(self):
>          """
>          This is the same as for the parent object.
> ```
> 
> Why not just `hash(self._R)`?

To avoid collisions. We do have dictionaries whose keys are parent (e.g. coercions).



---

archive/issue_comments_392671.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nFor matter of equality, it is true that the polynomial ring on the zero ring is isomorphic to the base ring. Though, Sage does not know about it.\n\n```\nsage: S = Zmod(1)\nsage: R = S['x']\nsage: S == R\nFalse\n```\nAnd even worse\n\n```\nsage: f = R.coerce_map_from(S)\nsage: f.is_injective()\nTrue\nsage: f.is_surjective()\nFalse\n```",
    "created_at": "2018-07-03T06:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392671",
    "user": "https://github.com/videlec"
}
```

<div id="comment:34" align="right">comment:34</div>

For matter of equality, it is true that the polynomial ring on the zero ring is isomorphic to the base ring. Though, Sage does not know about it.

```
sage: S = Zmod(1)
sage: R = S['x']
sage: S == R
False
```
And even worse

```
sage: f = R.coerce_map_from(S)
sage: f.is_injective()
True
sage: f.is_surjective()
False
```



---

archive/issue_comments_392672.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n([EDITED] see ~~#25586~~ #25753 for the bug about surjectivity)",
    "created_at": "2018-07-03T06:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392672",
    "user": "https://github.com/videlec"
}
```

<div id="comment:35" align="right">comment:35</div>

([EDITED] see ~~#25586~~ #25753 for the bug about surjectivity)



---

archive/issue_comments_392673.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@videlec](#comment:35):\n> (see #25586 for the bug about surjectivity)\n\nSee this ticket?\n\nI am going to set this back to positive review as Erik's concerns have been addressed.",
    "created_at": "2018-07-03T07:27:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392673",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@videlec](#comment:35):
> (see #25586 for the bug about surjectivity)

See this ticket?

I am going to set this back to positive review as Erik's concerns have been addressed.



---

archive/issue_comments_392674.json:
```json
{
    "body": "Changed reviewer from **Vincent Delecroix, Travis Scrimshaw** to **Vincent Delecroix, Travis Scrimshaw, Erik Bray**",
    "created_at": "2018-07-03T07:27:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392674",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Vincent Delecroix, Travis Scrimshaw** to **Vincent Delecroix, Travis Scrimshaw, Erik Bray**



---

archive/issue_events_353949.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-07-03T07:27:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353949"
}
```



---

archive/issue_events_353950.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-07-03T07:27:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353950"
}
```



---

archive/issue_comments_392675.json:
```json
{
    "body": "Changed keywords from none to **days94**",
    "created_at": "2018-07-03T07:27:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392675",
    "user": "https://github.com/tscrim"
}
```

Changed keywords from none to **days94**



---

archive/issue_comments_392676.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@tscrim](#comment:36):\n> Replying to [@videlec](#comment:35):\n> > (see #25586 for the bug about surjectivity)\n\n> \n> See this ticket?\n\nOups: #25753\n\n> I am going to set this back to positive review as Erik's concerns have been addressed.",
    "created_at": "2018-07-03T07:48:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392676",
    "user": "https://github.com/videlec"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@tscrim](#comment:36):
> Replying to [@videlec](#comment:35):
> > (see #25586 for the bug about surjectivity)

> 
> See this ticket?

Oups: #25753

> I am going to set this back to positive review as Erik's concerns have been addressed.



---

archive/issue_events_353951.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-08T13:05:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353951"
}
```



---

archive/issue_events_353952.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "01f389686df366a2f6188fb070e85a7f6d7280f8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-07-08T13:05:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25586#event-353952"
}
```



---

archive/issue_comments_392677.json:
```json
{
    "body": "Changed branch from **[u/chapoton/25586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25586)** to **[`6806c37`](https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403)**",
    "created_at": "2018-07-08T13:05:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392677",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/25586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25586)** to **[`6806c37`](https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403)**



---

archive/issue_comments_392678.json:
```json
{
    "body": "Changed commit from **[`6806c37`](https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403)** to none",
    "created_at": "2018-07-10T12:56:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392678",
    "user": "https://github.com/embray"
}
```

Changed commit from **[`6806c37`](https://github.com/sagemath/sagetrac-mirror/commit/6806c3791dcd65a2648e421a26f506616b111403)** to none



---

archive/issue_comments_392679.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@fchapoton](#comment:32):\n> PING ? This is a major hurting point..\n\nPlease try to show some patience.  I have tickets that I believe are important that haven't been merged or even reviewed in months (a situation I'm not happy with, but there is only so much attention to go around).\n\nIf you've already fixed the issue then there's nothing holding you back--this is why I have my private Python 3 branch--everything I fix gets merged into it immediately and then I can carry on (even if that fix is not ultimately the accepted fix; at least it works in the meantime).\n\nThe rest of us have vacations, family, sickness, and other tasks to work on and adding \"ping\" to a ticket does not (at least in my case) make it any more likely that I'll see it sooner.",
    "created_at": "2018-07-10T12:56:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25586#issuecomment-392679",
    "user": "https://github.com/embray"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@fchapoton](#comment:32):
> PING ? This is a major hurting point..

Please try to show some patience.  I have tickets that I believe are important that haven't been merged or even reviewed in months (a situation I'm not happy with, but there is only so much attention to go around).

If you've already fixed the issue then there's nothing holding you back--this is why I have my private Python 3 branch--everything I fix gets merged into it immediately and then I can carry on (even if that fix is not ultimately the accepted fix; at least it works in the meantime).

The rest of us have vacations, family, sickness, and other tasks to work on and adding "ping" to a ticket does not (at least in my case) make it any more likely that I'll see it sooner.
