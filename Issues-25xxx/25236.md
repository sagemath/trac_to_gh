# Issue 25236: Deprecate various functions from old coercion model

archive/issues_024999.json:
```json
{
    "body": "Yet another piece of removing the old coercion model...\n\n1. All functions which are only used internally by the old coercion model get two leading underscores or are inlined in another function.\n\n2. All functions which are only called from Cython are changed to a `cdef` function.\n\n3. The public functions `coerce_map_from_c` and `has_coerce_map_from_c` are kept as deprecated alias. The other removed functions already had a leading underscore and are simply removed. As a consequence, there are no longer any public non-deprecated methods in the `parent_old.Parent` class.\n\n4. Remove Python access to the `_has_coerce_map_from` cache.\n\nCC:  @tscrim\n\nReviewer: Marc Mezzarobba\n\nAuthor: Jeroen Demeyer\n\nBranch: 5ea77573c21f193b87a79a31602becf0b9c84b4d\n\nCommit: 5ea77573c21f193b87a79a31602becf0b9c84b4d\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25236\n\n",
    "closed_at": "2018-05-14T17:35:22Z",
    "created_at": "2018-04-24T08:44:06Z",
    "labels": [
        "component: coercion"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Deprecate various functions from old coercion model",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25236",
    "user": "https://github.com/jdemeyer"
}
```
Yet another piece of removing the old coercion model...

1. All functions which are only used internally by the old coercion model get two leading underscores or are inlined in another function.

2. All functions which are only called from Cython are changed to a `cdef` function.

3. The public functions `coerce_map_from_c` and `has_coerce_map_from_c` are kept as deprecated alias. The other removed functions already had a leading underscore and are simply removed. As a consequence, there are no longer any public non-deprecated methods in the `parent_old.Parent` class.

4. Remove Python access to the `_has_coerce_map_from` cache.

CC:  @tscrim

Reviewer: Marc Mezzarobba

Author: Jeroen Demeyer

Branch: 5ea77573c21f193b87a79a31602becf0b9c84b4d

Commit: 5ea77573c21f193b87a79a31602becf0b9c84b4d

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25236





---

archive/issue_events_063303.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-24T09:07:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25236#event-63303"
}
```



---

archive/issue_comments_351405.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-04-24T09:29:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351405",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_351406.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2018-04-24T09:29:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351406",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_comments_351407.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-04-24T12:03:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351407",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_351408.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-04-24T12:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_351409.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-04-24T14:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351409",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_351410.json:
```json
{
    "body": "<a id='comment:12'></a>```\n+        raise NotImplementedError(\"please implement or _an_element_impl for %s\" % self)\n                                                    ^^^^ ?\n```",
    "created_at": "2018-04-25T06:39:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351410",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:12'></a>```
+        raise NotImplementedError("please implement or _an_element_impl for %s" % self)
                                                    ^^^^ ?
```



---

archive/issue_comments_351411.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-04-25T07:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351411",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_351412.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-25T12:40:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351412",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_351413.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-14T17:35:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25236#issuecomment-351413",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_063304.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-14T17:35:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25236",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25236#event-63304"
}
```
