# Issue 25316: Replace python 5755 patch by monkey patch

archive/issues_025079.json:
```json
{
    "assignees": [],
    "body": "Python bug https://bugs.python.org/issue5755 won't be fixed in 2.7. it seems: https://github.com/python/cpython/pull/7476\n\nBecause of that, Sage patches Python.\n\nI don't know what the policy for that is, but at least in my opinion hard patches of dependencies (especially big ones such as Python) should be avoided if possible.\n\nIn this case it is possible: We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument. That's a bit of a hack of course. But it doesn't have any practical disadvantages to the Python patch and removes one patch from Python.\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nComponent: **packages: standard**\n\nAuthor: **Timo Kaufmann**\n\nBranch/Commit: **[u/gh-timokau/monkey-patch-5755](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/monkey-patch-5755) @ [`88e9acd`](https://github.com/sagemath/sagetrac-mirror/commit/88e9acd8c91b8f0d84f1f80502298944248e136f)**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25316_\n\n",
    "closed_at": "2022-05-19T15:37:46Z",
    "created_at": "2018-05-09T10:34:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Replace python 5755 patch by monkey patch",
    "type": "issue",
    "updated_at": "2022-05-19T15:37:46Z",
    "url": "https://github.com/sagemath/sage/issues/25316",
    "user": "https://github.com/timokau"
}
```
Python bug https://bugs.python.org/issue5755 won't be fixed in 2.7. it seems: https://github.com/python/cpython/pull/7476

Because of that, Sage patches Python.

I don't know what the policy for that is, but at least in my opinion hard patches of dependencies (especially big ones such as Python) should be avoided if possible.

In this case it is possible: We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument. That's a bit of a hack of course. But it doesn't have any practical disadvantages to the Python patch and removes one patch from Python.

Upstream: **Fixed upstream, in a later stable release.**

Component: **packages: standard**

Author: **Timo Kaufmann**

Branch/Commit: **[u/gh-timokau/monkey-patch-5755](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/monkey-patch-5755) @ [`88e9acd`](https://github.com/sagemath/sagetrac-mirror/commit/88e9acd8c91b8f0d84f1f80502298944248e136f)**

_Issue created by migration from https://trac.sagemath.org/ticket/25316_





---

archive/issue_events_347265.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-05-09T10:34:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347265"
}
```



---

archive/issue_events_347266.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-05-09T10:34:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347266"
}
```



---

archive/issue_events_347267.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-05-09T10:34:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347267"
}
```



---

archive/issue_events_347268.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-05-09T10:34:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347268"
}
```



---

archive/issue_events_347269.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-05-09T10:34:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347269"
}
```



---

archive/issue_comments_387012.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-Python bug #5755 won't be fixed in 2.7. Because of that, sage patches python.\n+Python bug https://bugs.python.org/issue5755 won't be fixed in 2.7. Because of that, Sage patches Python.\n \n-I don't know what the policy for that is, but at least in my opinion hard patches of dependencies (especially big ones such as python) should be avoided if possible.\n+I don't know what the policy for that is, but at least in my opinion hard patches of dependencies (especially big ones such as Python) should be avoided if possible.\n \n-In this case it is possible: We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument. Thats a bit of a hack of course. But it doesn't have any practical disadvantages to the python patch and removes one patch from python.\n+In this case it is possible: We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument. That's a bit of a hack of course. But it doesn't have any practical disadvantages to the Python patch and removes one patch from Python.\n``````\n",
    "created_at": "2018-05-09T11:40:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387012",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-Python bug #5755 won't be fixed in 2.7. Because of that, sage patches python.
+Python bug https://bugs.python.org/issue5755 won't be fixed in 2.7. Because of that, Sage patches Python.
 
-I don't know what the policy for that is, but at least in my opinion hard patches of dependencies (especially big ones such as python) should be avoided if possible.
+I don't know what the policy for that is, but at least in my opinion hard patches of dependencies (especially big ones such as Python) should be avoided if possible.
 
-In this case it is possible: We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument. Thats a bit of a hack of course. But it doesn't have any practical disadvantages to the python patch and removes one patch from python.
+In this case it is possible: We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument. That's a bit of a hack of course. But it doesn't have any practical disadvantages to the Python patch and removes one patch from Python.
``````




---

archive/issue_comments_387013.json:
```json
{
    "body": "Replying to [ticket:25316 gh-timokau]:\n> We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument.\n\nI don't see that in your branch.",
    "created_at": "2018-05-09T11:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387013",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:25316 gh-timokau]:
> We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument.

I don't see that in your branch.



---

archive/issue_events_347270.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-05-09T11:40:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347270"
}
```



---

archive/issue_events_347271.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-05-09T11:40:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347271"
}
```



---

archive/issue_comments_387014.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nTwo general comments:\n\n1. This patch fixes a *warning*, it should not affect functionality. Are there any problems building Sage without this patch?\n\n2. There are plenty of patches to Python in Sage. I don't think that all of them can be replaced by a monkey-patch, so how does it help if this one patch is removed?",
    "created_at": "2018-05-09T12:00:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387014",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Two general comments:

1. This patch fixes a *warning*, it should not affect functionality. Are there any problems building Sage without this patch?

2. There are plenty of patches to Python in Sage. I don't think that all of them can be replaced by a monkey-patch, so how does it help if this one patch is removed?



---

archive/issue_comments_387015.json:
```json
{
    "body": "Changed commit from **[`ea015bf`](https://github.com/sagemath/sagetrac-mirror/commit/ea015bf38c6498d65bb1e3e456424fff82650fb5)** to **[`88e9acd`](https://github.com/sagemath/sagetrac-mirror/commit/88e9acd8c91b8f0d84f1f80502298944248e136f)**",
    "created_at": "2018-05-09T12:13:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387015",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ea015bf`](https://github.com/sagemath/sagetrac-mirror/commit/ea015bf38c6498d65bb1e3e456424fff82650fb5)** to **[`88e9acd`](https://github.com/sagemath/sagetrac-mirror/commit/88e9acd8c91b8f0d84f1f80502298944248e136f)**



---

archive/issue_comments_387016.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88e9acd8c91b8f0d84f1f80502298944248e136f\"><code>88e9acd</code></a></td><td><code>Replace python 5755 patch by monkey patch</code></td></tr></table>\n",
    "created_at": "2018-05-09T12:13:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387016",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88e9acd8c91b8f0d84f1f80502298944248e136f"><code>88e9acd</code></a></td><td><code>Replace python 5755 patch by monkey patch</code></td></tr></table>




---

archive/issue_comments_387017.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@jdemeyer](#comment%3A3):\n> Replying to [ticket:25316 gh-timokau]:\n> > We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument.\n\n> \n> I don't see that in your branch.\n\nOh sorry, I must've forgotten to `git add` it. I've amended the commit.",
    "created_at": "2018-05-09T12:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387017",
    "user": "https://github.com/timokau"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@jdemeyer](#comment%3A3):
> Replying to [ticket:25316 gh-timokau]:
> > We can instead monkey-patch `build_extensions` to always remove the `-Wstrict-prototypes` argument.

> 
> I don't see that in your branch.

Oh sorry, I must've forgotten to `git add` it. I've amended the commit.



---

archive/issue_comments_387018.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment%3A4):\n> Two general comments:\n> \n> 1. This patch fixes a *warning*, it should not affect functionality. Are there any problems building Sage without this patch?\n\nNot building, but it causes the doctests to fail.\n\n> 2. There are plenty of patches to Python in Sage. I don't think that all of them can be replaced by a monkey-patch, so how does it help if this one patch is removed?\n\nIts not *that* much. I only had to adopt two: `re_match_index-issue_27177.patch` (apparently `re` is impossible to monkey-patch) and `descr_ref-issue_25750.patch`.\n\nThe re patch was accepted upstream but unfortuantely not backported to 2.7.\n\nThe other one is currently in an upstream PR and seems likely to be accepted.\n\nSo after that one is accepted, only one patch is needed. I think just because 0 patches can't be archived doesn't mean the amount shouldn't be minimized.",
    "created_at": "2018-05-09T12:19:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387018",
    "user": "https://github.com/timokau"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment%3A4):
> Two general comments:
> 
> 1. This patch fixes a *warning*, it should not affect functionality. Are there any problems building Sage without this patch?

Not building, but it causes the doctests to fail.

> 2. There are plenty of patches to Python in Sage. I don't think that all of them can be replaced by a monkey-patch, so how does it help if this one patch is removed?

Its not *that* much. I only had to adopt two: `re_match_index-issue_27177.patch` (apparently `re` is impossible to monkey-patch) and `descr_ref-issue_25750.patch`.

The re patch was accepted upstream but unfortuantely not backported to 2.7.

The other one is currently in an upstream PR and seems likely to be accepted.

So after that one is accepted, only one patch is needed. I think just because 0 patches can't be archived doesn't mean the amount shouldn't be minimized.



---

archive/issue_comments_387019.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@timokau](#comment%3A7):\n> it causes the doctests to fail.\n\nCan you show the test failures?",
    "created_at": "2018-05-09T14:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387019",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@timokau](#comment%3A7):
> it causes the doctests to fail.

Can you show the test failures?



---

archive/issue_comments_387020.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSurprisingly not all that many, just 3 tests in `cython.py`:\n\nhttps://gist.github.com/timokau/569928555dcec4868d7411c0ca6beb51",
    "created_at": "2018-05-09T21:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387020",
    "user": "https://github.com/timokau"
}
```

<div id="comment:9" align="right">comment:9</div>

Surprisingly not all that many, just 3 tests in `cython.py`:

https://gist.github.com/timokau/569928555dcec4868d7411c0ca6beb51



---

archive/issue_events_347272.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-05-10T11:58:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347272"
}
```



---

archive/issue_events_347273.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-05-10T11:58:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347273"
}
```



---

archive/issue_comments_387021.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nTo be honest, I'm not too happy with this branch. The Python patch that you want to remove fixes an obvious bug. The way I see it, you're proposing that Sage **adds** a Python bug. I don't think that Sage should suffer because upstream Python ignores a bug report.\n\nOf course, I'll admit that I'm very biased: I'm not packaging Sage for a distro, so I'm in a very different situation than you are.",
    "created_at": "2018-05-11T21:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387021",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

To be honest, I'm not too happy with this branch. The Python patch that you want to remove fixes an obvious bug. The way I see it, you're proposing that Sage **adds** a Python bug. I don't think that Sage should suffer because upstream Python ignores a bug report.

Of course, I'll admit that I'm very biased: I'm not packaging Sage for a distro, so I'm in a very different situation than you are.



---

archive/issue_comments_387022.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI get where you're coming from. Its a matter of priorities: every patch to sages dependencies makes packaging sage a bit more painful. In my mind reducing that hurdle is more valuable than the \"purity\" gained by patching python instead. If upstream doesn't recognize the bug, I think its best to work around it if possible.\n\nIts not *that* important to me anymore: I already have a working patch for sage that probably won't be too hard to maintain. But it is one more annoyance if somebody wants to create a sage package for another distro.",
    "created_at": "2018-05-12T14:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387022",
    "user": "https://github.com/timokau"
}
```

<div id="comment:12" align="right">comment:12</div>

I get where you're coming from. Its a matter of priorities: every patch to sages dependencies makes packaging sage a bit more painful. In my mind reducing that hurdle is more valuable than the "purity" gained by patching python instead. If upstream doesn't recognize the bug, I think its best to work around it if possible.

Its not *that* important to me anymore: I already have a working patch for sage that probably won't be too hard to maintain. But it is one more annoyance if somebody wants to create a sage package for another distro.



---

archive/issue_comments_387023.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@timokau](#comment%3A12):\n> If upstream doesn't recognize the bug, I think its best to work around it if possible.\n\nThis is the part that I disagree most with. In my view, it's Python who is at fault here, not Sage.\n\nMaybe I should just open a real pull request for the upstream Python issue?",
    "created_at": "2018-05-12T14:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387023",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@timokau](#comment%3A12):
> If upstream doesn't recognize the bug, I think its best to work around it if possible.

This is the part that I disagree most with. In my view, it's Python who is at fault here, not Sage.

Maybe I should just open a real pull request for the upstream Python issue?



---

archive/issue_comments_387024.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe patch produced here has a runtime effect: Any sage process will import distutils. It doesn't do that now.\n\nAnother, reduced, effect: presently, with the hard patch included, the \"sage\" python will have this fixed. After this fix, it will only have it fixed if it imports sage.all (which probably not all scripts in the sage distributions do).\n\nSo it looks like a proper monkeypatch fix would find a hook somewhere to execute the patch upon importing distutils. Another option would be to instead import some module distutils-fixed or so (together with distutils) to make the fix. That would basically amount to manually providing the relevant hook. That's probably rather invasive to maintain.\n\nI think the most important part is that sage can run as much as possible on vanilla python, so that we allow progress towards integrating sage as normal software, rather than having it live in its own little world. Given that the problem here seems to be a warning perhaps we don't need to insist on fixing it.",
    "created_at": "2018-05-12T19:34:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387024",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:14" align="right">comment:14</div>

The patch produced here has a runtime effect: Any sage process will import distutils. It doesn't do that now.

Another, reduced, effect: presently, with the hard patch included, the "sage" python will have this fixed. After this fix, it will only have it fixed if it imports sage.all (which probably not all scripts in the sage distributions do).

So it looks like a proper monkeypatch fix would find a hook somewhere to execute the patch upon importing distutils. Another option would be to instead import some module distutils-fixed or so (together with distutils) to make the fix. That would basically amount to manually providing the relevant hook. That's probably rather invasive to maintain.

I think the most important part is that sage can run as much as possible on vanilla python, so that we allow progress towards integrating sage as normal software, rather than having it live in its own little world. Given that the problem here seems to be a warning perhaps we don't need to insist on fixing it.



---

archive/issue_comments_387025.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jdemeyer](#comment%3A13):\n> In my view, it's Python who is at fault here, not Sage.\n\nDefinitely pythons fault. But what does it practically matter who is at fault? If python does not fix it, sage users (or packagers) are the ones who have to deal with it.\n\n> Maybe I should just open a real pull request for the upstream Python issue?\n> Replying to [@timokau](#comment%3A12):\n> > If upstream doesn't recognize the bug, I think its best to work around it if possible.\n\nThis is the part that I disagree most with. bug already something like a pull request that was effectively rejected? I'm not very familiar with the contribution process of python.\nIsn't the python \n\n\nReplying to [@nbruin](#comment%3A14):\n> The patch produced here has a runtime effect: Any sage process will import distutils. It doesn't do that now.\n\nDoes that make any practical difference? Distutils will always be there anyways and while I haven't run any benchmarks, I can't imagine that it significantly impacts sages startup time.\n\n> Another, reduced, effect: presently, with the hard patch included, the \"sage\" python will have this fixed. After this fix, it will only have it fixed if it imports sage.all (which probably not all scripts in the sage distributions do).\n\nWell its just a warning after all, so practically it mostly matters to fix the doctests.\n\n> So it looks like a proper monkeypatch fix would find a hook somewhere to execute the patch upon importing distutils. Another option would be to instead import some module distutils-fixed or so (together with distutils) to make the fix. That would basically amount to manually providing the relevant hook. That's probably rather invasive to maintain.\n\nThat honestly exceeds my pthon knowledge.\n\n> I think the most important part is that sage can run as much as possible on vanilla python, so that we allow progress towards integrating sage as normal software, rather than having it live in its own little world.\n\nExactly my point.\n\n> Given that the problem here seems to be a warning perhaps we don't need to insist on fixing it.\n\nWe could instead just drop the patch entirely and fix the few failing doctests.\n\nI think its very valuable to have the doctests pass. Sages doctests may be a bit brittle, but very valuable\nnonetheless.",
    "created_at": "2018-05-12T21:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387025",
    "user": "https://github.com/timokau"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jdemeyer](#comment%3A13):
> In my view, it's Python who is at fault here, not Sage.

Definitely pythons fault. But what does it practically matter who is at fault? If python does not fix it, sage users (or packagers) are the ones who have to deal with it.

> Maybe I should just open a real pull request for the upstream Python issue?
> Replying to [@timokau](#comment%3A12):
> > If upstream doesn't recognize the bug, I think its best to work around it if possible.

This is the part that I disagree most with. bug already something like a pull request that was effectively rejected? I'm not very familiar with the contribution process of python.
Isn't the python 


Replying to [@nbruin](#comment%3A14):
> The patch produced here has a runtime effect: Any sage process will import distutils. It doesn't do that now.

Does that make any practical difference? Distutils will always be there anyways and while I haven't run any benchmarks, I can't imagine that it significantly impacts sages startup time.

> Another, reduced, effect: presently, with the hard patch included, the "sage" python will have this fixed. After this fix, it will only have it fixed if it imports sage.all (which probably not all scripts in the sage distributions do).

Well its just a warning after all, so practically it mostly matters to fix the doctests.

> So it looks like a proper monkeypatch fix would find a hook somewhere to execute the patch upon importing distutils. Another option would be to instead import some module distutils-fixed or so (together with distutils) to make the fix. That would basically amount to manually providing the relevant hook. That's probably rather invasive to maintain.

That honestly exceeds my pthon knowledge.

> I think the most important part is that sage can run as much as possible on vanilla python, so that we allow progress towards integrating sage as normal software, rather than having it live in its own little world.

Exactly my point.

> Given that the problem here seems to be a warning perhaps we don't need to insist on fixing it.

We could instead just drop the patch entirely and fix the few failing doctests.

I think its very valuable to have the doctests pass. Sages doctests may be a bit brittle, but very valuable
nonetheless.



---

archive/issue_comments_387026.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHas the particular patch that you suggest as monkey-patch (but perhaps only for C++ extensions) been proposed as pull request? As far as I can tell not.",
    "created_at": "2018-05-13T09:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387026",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Has the particular patch that you suggest as monkey-patch (but perhaps only for C++ extensions) been proposed as pull request? As far as I can tell not.



---

archive/issue_comments_387027.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@timokau](#comment%3A15):\n> Definitely pythons fault. But what does it practically matter who is at fault? If python does not fix it, sage users (or packagers) are the ones who have to deal with it.\n\nPackagers could just package the Python patch too.",
    "created_at": "2018-05-13T09:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387027",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@timokau](#comment%3A15):
> Definitely pythons fault. But what does it practically matter who is at fault? If python does not fix it, sage users (or packagers) are the ones who have to deal with it.

Packagers could just package the Python patch too.



---

archive/issue_comments_387028.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@jdemeyer](#comment%3A16):\n> Has the particular patch that you suggest as monkey-patch been proposed as pull request? As far as I can tell not.\n\nIsn't the python bug linked the equivalent of a pull request? As I said, not familiar with the process there. The best outcome would be if upstream just accepted the patch of course.\n\n> Packagers could just package the Python patch too.\n\nYeah thats what I meant with packagers have to deal with it. Every patch adds friction while packaging.",
    "created_at": "2018-05-13T09:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387028",
    "user": "https://github.com/timokau"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@jdemeyer](#comment%3A16):
> Has the particular patch that you suggest as monkey-patch been proposed as pull request? As far as I can tell not.

Isn't the python bug linked the equivalent of a pull request? As I said, not familiar with the process there. The best outcome would be if upstream just accepted the patch of course.

> Packagers could just package the Python patch too.

Yeah thats what I meant with packagers have to deal with it. Every patch adds friction while packaging.



---

archive/issue_comments_387029.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@timokau](#comment%3A18):\n> Isn't the python bug linked the equivalent of a pull request?\n\nThe patch sent upstream is the same patch as in Sage, but very different from what you are proposing as monkey-patch here. So my proposal is: change the monkey-patch to a real patch, make sure that it takes effect only for non-C code and then put that in a pull request.",
    "created_at": "2018-05-14T05:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387029",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@timokau](#comment%3A18):
> Isn't the python bug linked the equivalent of a pull request?

The patch sent upstream is the same patch as in Sage, but very different from what you are proposing as monkey-patch here. So my proposal is: change the monkey-patch to a real patch, make sure that it takes effect only for non-C code and then put that in a pull request.



---

archive/issue_comments_387030.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment%3A19):\n> So my proposal is: change the monkey-patch to a real patch, make sure that it takes effect only for non-C code and then put that in a pull request.\n\nWhy should that have any better chances than the current one? In my view the one currently proposed upstream is \"cleaner\" as a hard-patch, because it doesn't add the flag to begin with. The monkey patch is more of a band-aid.",
    "created_at": "2018-05-14T09:32:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387030",
    "user": "https://github.com/timokau"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment%3A19):
> So my proposal is: change the monkey-patch to a real patch, make sure that it takes effect only for non-C code and then put that in a pull request.

Why should that have any better chances than the current one? In my view the one currently proposed upstream is "cleaner" as a hard-patch, because it doesn't add the flag to begin with. The monkey patch is more of a band-aid.



---

archive/issue_comments_387031.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@timokau](#comment%3A20):\n> Why should that have any better chances than the current one? In my view the one currently proposed upstream is \"cleaner\" as a hard-patch, because it doesn't add the flag to begin with.\n\nOne could certainly argue that it's a feature to add that flag for C code. But given how distutils almost makes no difference between C and C++ code, I just realized that it's not really possible to add that flag just for C code.",
    "created_at": "2018-05-14T09:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387031",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@timokau](#comment%3A20):
> Why should that have any better chances than the current one? In my view the one currently proposed upstream is "cleaner" as a hard-patch, because it doesn't add the flag to begin with.

One could certainly argue that it's a feature to add that flag for C code. But given how distutils almost makes no difference between C and C++ code, I just realized that it's not really possible to add that flag just for C code.



---

archive/issue_comments_387032.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nStill, it makes sense to compile Python itself with `-Wstrict-prototypes` but not extension modules.",
    "created_at": "2018-05-14T09:58:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387032",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Still, it makes sense to compile Python itself with `-Wstrict-prototypes` but not extension modules.



---

archive/issue_comments_387033.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThat seems to be done in the linked issues:\n\nhttps://bugs.python.org/issue1222585\nhttps://bugs.python.org/issue9031\n\nHowever since they are \"adding\" support for C++ (as opposed to \"fixing\" broken C++ support), a 2.7 backport seems unlikely.",
    "created_at": "2018-05-14T10:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387033",
    "user": "https://github.com/timokau"
}
```

<div id="comment:23" align="right">comment:23</div>

That seems to be done in the linked issues:

https://bugs.python.org/issue1222585
https://bugs.python.org/issue9031

However since they are "adding" support for C++ (as opposed to "fixing" broken C++ support), a 2.7 backport seems unlikely.



---

archive/issue_events_347274.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-04T12:50:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347274"
}
```



---

archive/issue_comments_387034.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nUpstream CPython has accepted the patch which was originally in Sage.",
    "created_at": "2018-06-04T12:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387034",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Upstream CPython has accepted the patch which was originally in Sage.



---

archive/issue_events_347275.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-04T12:50:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347275"
}
```



---

archive/issue_events_347276.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-04T12:50:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347276"
}
```



---

archive/issue_comments_387035.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nFor reference: https://github.com/python/cpython/pull/6791\n\nThats great, thanks! Does that also include a 2.7 backport? It looks like the PR only targets master and backporting isn't mentioned.",
    "created_at": "2018-06-04T15:09:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387035",
    "user": "https://github.com/timokau"
}
```

<div id="comment:25" align="right">comment:25</div>

For reference: https://github.com/python/cpython/pull/6791

Thats great, thanks! Does that also include a 2.7 backport? It looks like the PR only targets master and backporting isn't mentioned.



---

archive/issue_comments_387036.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nUpstream only applied the patch to 3.6 so the motivation for this issue is still valid.",
    "created_at": "2018-06-06T11:14:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387036",
    "user": "https://github.com/timokau"
}
```

<div id="comment:26" align="right">comment:26</div>

Upstream only applied the patch to 3.6 so the motivation for this issue is still valid.



---

archive/issue_events_347277.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-07-02T21:00:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347277"
}
```



---

archive/issue_events_347278.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-07-02T21:00:32Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347278"
}
```



---

archive/issue_comments_387037.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-Python bug https://bugs.python.org/issue5755 won't be fixed in 2.7. Because of that, Sage patches Python.\n+Python bug https://bugs.python.org/issue5755 won't be fixed in 2.7. it seems: https://github.com/python/cpython/pull/7476\n+\n+Because of that, Sage patches Python.\n \n I don't know what the policy for that is, but at least in my opinion hard patches of dependencies (especially big ones such as Python) should be avoided if possible.\n \n``````\n",
    "created_at": "2019-07-02T21:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387037",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
-Python bug https://bugs.python.org/issue5755 won't be fixed in 2.7. Because of that, Sage patches Python.
+Python bug https://bugs.python.org/issue5755 won't be fixed in 2.7. it seems: https://github.com/python/cpython/pull/7476
+
+Because of that, Sage patches Python.
 
 I don't know what the policy for that is, but at least in my opinion hard patches of dependencies (especially big ones such as Python) should be avoided if possible.
 
``````




---

archive/issue_comments_387038.json:
```json
{
    "body": "Upstream: **Fixed upstream, in a later stable release.**",
    "created_at": "2019-07-02T21:14:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387038",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Fixed upstream, in a later stable release.**



---

archive/issue_events_347279.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347279"
}
```



---

archive/issue_events_347280.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347280"
}
```



---

archive/issue_comments_387039.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387039",
    "user": "https://github.com/embray"
}
```

<div id="comment:30" align="right">comment:30</div>

Ticket retargeted after milestone closed



---

archive/issue_events_347281.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347281"
}
```



---

archive/issue_events_347282.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347282"
}
```



---

archive/issue_comments_387040.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387040",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_347283.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347283"
}
```



---

archive/issue_events_347284.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347284"
}
```



---

archive/issue_comments_387041.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nSetting milestone to 9.1.1 assuming this ticket is only about Python 2.\n\nIf not please revert.",
    "created_at": "2020-09-16T18:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387041",
    "user": "https://github.com/slel"
}
```

<div id="comment:33" align="right">comment:33</div>

Setting milestone to 9.1.1 assuming this ticket is only about Python 2.

If not please revert.



---

archive/issue_events_347285.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-16T18:15:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347285"
}
```



---

archive/issue_comments_387042.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\ncan this now be closed as invalid ?",
    "created_at": "2022-05-19T12:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387042",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:34" align="right">comment:34</div>

can this now be closed as invalid ?



---

archive/issue_events_347286.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-19T12:16:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347286"
}
```



---

archive/issue_events_347287.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-05-19T15:37:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347287"
}
```



---

archive/issue_events_347288.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-05-19T15:37:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "c6c6c6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347288"
}
```



---

archive/issue_events_347289.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-05-19T15:37:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347289"
}
```



---

archive/issue_events_347290.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-05-19T15:37:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25316#event-347290"
}
```



---

archive/issue_comments_387043.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nIt can.",
    "created_at": "2022-05-19T15:37:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25316#issuecomment-387043",
    "user": "https://github.com/slel"
}
```

<div id="comment:35" align="right">comment:35</div>

It can.
