# Issue 25457: Enter the components of a metric while declaring

archive/issues_025220.json:
```json
{
    "assignees": [],
    "body": "The main purpose of this ticket is to give the possibility of entering the components of a metric while declaring this metric on a manifold.\n\nIn this ticket, there is a method which determine the signature of a metric. So it is no more necessary to give the signature of your metric while declaring, Sage is able to compute it! Therefore Sage would give the truth class of the declaring metric: Riemannian metric or Lorentzian metric or pseudo-Riemannian metric or degenerate metric.  \n\nDepends on #0\n\nCC:  @egourgoulhon\n\nKeywords: **Manifold, Pseudo-Riemannian Metric, Degenerate Metric**\n\nBranch/Commit: **[public/manifolds/MetricComponents](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/MetricComponents) @ [f494678](https://github.com/sagemath/sagetrac-mirror/commit/f494678c9733967e0054169761dbff78ee4e9adc)**\n\nReviewer: **Eric Gourgoulhon**\n\nAuthor: **Hans Fotsing Tetsing**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25457_\n\n",
    "created_at": "2018-05-28T19:16:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Enter the components of a metric while declaring",
    "type": "issue",
    "updated_at": "2022-12-29T01:41:45Z",
    "url": "https://github.com/sagemath/sage/issues/25457",
    "user": "https://github.com/sagetrac-Dicolevrai"
}
```
The main purpose of this ticket is to give the possibility of entering the components of a metric while declaring this metric on a manifold.

In this ticket, there is a method which determine the signature of a metric. So it is no more necessary to give the signature of your metric while declaring, Sage is able to compute it! Therefore Sage would give the truth class of the declaring metric: Riemannian metric or Lorentzian metric or pseudo-Riemannian metric or degenerate metric.  

Depends on #0

CC:  @egourgoulhon

Keywords: **Manifold, Pseudo-Riemannian Metric, Degenerate Metric**

Branch/Commit: **[public/manifolds/MetricComponents](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/MetricComponents) @ [f494678](https://github.com/sagemath/sagetrac-mirror/commit/f494678c9733967e0054169761dbff78ee4e9adc)**

Reviewer: **Eric Gourgoulhon**

Author: **Hans Fotsing Tetsing**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/25457_





---

archive/issue_events_352233.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-05-28T19:16:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352233"
}
```



---

archive/issue_events_352234.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-05-28T19:16:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352234"
}
```



---

archive/issue_events_352235.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-05-28T19:16:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352235"
}
```



---

archive/issue_events_352236.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-05-28T19:16:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352236"
}
```



---

archive/issue_comments_390001.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86\">7dfaad9</a></td><td><code>Enter components of a metric while creating the metric</code></td></tr></table>\n",
    "created_at": "2018-05-28T21:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390001",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86">7dfaad9</a></td><td><code>Enter components of a metric while creating the metric</code></td></tr></table>




---

archive/issue_comments_390002.json:
```json
{
    "body": "Changed commit from **[52ea821](https://github.com/sagemath/sagetrac-mirror/commit/52ea82102a5949b7f63f946ffd6f4a0ca34b21b8)** to **[7dfaad9](https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86)**",
    "created_at": "2018-05-28T21:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390002",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[52ea821](https://github.com/sagemath/sagetrac-mirror/commit/52ea82102a5949b7f63f946ffd6f4a0ca34b21b8)** to **[7dfaad9](https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86)**



---

archive/issue_events_352237.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-05-30T14:18:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352237"
}
```



---

archive/issue_comments_390003.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c\">188a1c3</a></td><td><code>Enter the component of a metric while declaring the metric on a Parallelizable Manifold</code></td></tr></table>\n",
    "created_at": "2018-05-31T11:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390003",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c">188a1c3</a></td><td><code>Enter the component of a metric while declaring the metric on a Parallelizable Manifold</code></td></tr></table>




---

archive/issue_comments_390004.json:
```json
{
    "body": "Changed commit from **[7dfaad9](https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86)** to **[188a1c3](https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c)**",
    "created_at": "2018-05-31T11:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390004",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7dfaad9](https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86)** to **[188a1c3](https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c)**



---

archive/issue_events_352238.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-05-31T11:58:45Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "title_is": "Enter the components of a metric while declaring the metric on a Parallelizable Manifold",
    "title_was": "Enter the component of a metric while declaring the metric on a Parallelizable Manifold",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352238"
}
```



---

archive/issue_comments_390005.json:
```json
{
    "body": "Changed commit from **[188a1c3](https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c)** to **[33edd0e](https://github.com/sagemath/sagetrac-mirror/commit/33edd0effe892b9810273f5246c6ea3be2f055dc)**",
    "created_at": "2018-05-31T15:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390005",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[188a1c3](https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c)** to **[33edd0e](https://github.com/sagemath/sagetrac-mirror/commit/33edd0effe892b9810273f5246c6ea3be2f055dc)**



---

archive/issue_comments_390006.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33edd0effe892b9810273f5246c6ea3be2f055dc\">33edd0e</a></td><td><code>Enter the components of a metric while declaring this metric on a Parallelizable Manifold</code></td></tr></table>\n",
    "created_at": "2018-05-31T15:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390006",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33edd0effe892b9810273f5246c6ea3be2f055dc">33edd0e</a></td><td><code>Enter the components of a metric while declaring this metric on a Parallelizable Manifold</code></td></tr></table>




---

archive/issue_comments_390007.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76e40c54d973dc8e4de40bf3dbd636e9d1359f5f\">76e40c5</a></td><td><code>Enter the components of a metric while declaring this metric on a Parallelizable Manifold</code></td></tr></table>\n",
    "created_at": "2018-05-31T17:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390007",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76e40c54d973dc8e4de40bf3dbd636e9d1359f5f">76e40c5</a></td><td><code>Enter the components of a metric while declaring this metric on a Parallelizable Manifold</code></td></tr></table>




---

archive/issue_comments_390008.json:
```json
{
    "body": "Changed commit from **[33edd0e](https://github.com/sagemath/sagetrac-mirror/commit/33edd0effe892b9810273f5246c6ea3be2f055dc)** to **[76e40c5](https://github.com/sagemath/sagetrac-mirror/commit/76e40c54d973dc8e4de40bf3dbd636e9d1359f5f)**",
    "created_at": "2018-05-31T17:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390008",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[33edd0e](https://github.com/sagemath/sagetrac-mirror/commit/33edd0effe892b9810273f5246c6ea3be2f055dc)** to **[76e40c5](https://github.com/sagemath/sagetrac-mirror/commit/76e40c54d973dc8e4de40bf3dbd636e9d1359f5f)**



---

archive/issue_comments_390009.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThanks for this contribution!\n\nAs you can see on the [patchbot report](https://patchbot.sagemath.org/ticket/25457/) \n(which you can get by clicking on the yellow question mark at the top right and then on the \"shortlog\" items), there are many doctest failures, mostly due to the change in handling the metric signature. Could you fix this please? Before submitting the change, you can make sure that all doctests are passed by running\n\n```\nsage -tp --long src/sage/manifolds/\n```\nIn case you need more information about the patchbot, see [here](https://wiki.sagemath.org/buildbot).",
    "created_at": "2018-06-03T21:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390009",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:7" align="right">comment:7</div>

Thanks for this contribution!

As you can see on the [patchbot report](https://patchbot.sagemath.org/ticket/25457/) 
(which you can get by clicking on the yellow question mark at the top right and then on the "shortlog" items), there are many doctest failures, mostly due to the change in handling the metric signature. Could you fix this please? Before submitting the change, you can make sure that all doctests are passed by running

```
sage -tp --long src/sage/manifolds/
```
In case you need more information about the patchbot, see [here](https://wiki.sagemath.org/buildbot).



---

archive/issue_events_352239.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-06-03T21:36:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352239"
}
```



---

archive/issue_events_352240.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-06-03T21:36:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352240"
}
```



---

archive/issue_comments_390010.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52ea82102a5949b7f63f946ffd6f4a0ca34b21b8\">52ea821</a></td><td><code>Enter the component of a meric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86\">7dfaad9</a></td><td><code>Enter components of a metric while creating the metric</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c\">188a1c3</a></td><td><code>Enter the component of a metric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33edd0effe892b9810273f5246c6ea3be2f055dc\">33edd0e</a></td><td><code>Enter the components of a metric while declaring this metric on a Parallelizable Manifold</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76e40c54d973dc8e4de40bf3dbd636e9d1359f5f\">76e40c5</a></td><td><code>Enter the components of a metric while declaring this metric on a Parallelizable Manifold</code></td></tr></table>\n",
    "created_at": "2018-06-06T04:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390010",
    "user": "https://github.com/sagetrac-Dicolevrai"
}
```

<div id="comment:8"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52ea82102a5949b7f63f946ffd6f4a0ca34b21b8">52ea821</a></td><td><code>Enter the component of a meric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86">7dfaad9</a></td><td><code>Enter components of a metric while creating the metric</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c">188a1c3</a></td><td><code>Enter the component of a metric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33edd0effe892b9810273f5246c6ea3be2f055dc">33edd0e</a></td><td><code>Enter the components of a metric while declaring this metric on a Parallelizable Manifold</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76e40c54d973dc8e4de40bf3dbd636e9d1359f5f">76e40c5</a></td><td><code>Enter the components of a metric while declaring this metric on a Parallelizable Manifold</code></td></tr></table>




---

archive/issue_comments_390011.json:
```json
{
    "body": "Changed branch from **[public/manifolds/Metric](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/Metric)** to **[public/manifolds/MetricComponents](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/MetricComponents)**",
    "created_at": "2018-06-06T04:52:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390011",
    "user": "https://github.com/sagetrac-Dicolevrai"
}
```

Changed branch from **[public/manifolds/Metric](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/Metric)** to **[public/manifolds/MetricComponents](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/MetricComponents)**



---

archive/issue_comments_390012.json:
```json
{
    "body": "Changed commit from **[76e40c5](https://github.com/sagemath/sagetrac-mirror/commit/76e40c54d973dc8e4de40bf3dbd636e9d1359f5f)** to none",
    "created_at": "2018-06-06T04:52:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390012",
    "user": "https://github.com/sagetrac-Dicolevrai"
}
```

Changed commit from **[76e40c5](https://github.com/sagemath/sagetrac-mirror/commit/76e40c54d973dc8e4de40bf3dbd636e9d1359f5f)** to none



---

archive/issue_comments_390013.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52ea82102a5949b7f63f946ffd6f4a0ca34b21b8\">52ea821</a></td><td><code>Enter the component of a meric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86\">7dfaad9</a></td><td><code>Enter components of a metric while creating the metric</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c\">188a1c3</a></td><td><code>Enter the component of a metric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25cff3cd0b88544da5ffae63536b33971af044db\">25cff3c</a></td><td><code>Enter the component of a metric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a406fe689953d5431fda8cb915c6ba0ba2d4fc62\">a406fe6</a></td><td><code>Solving some doctests errors</code></td></tr></table>\n",
    "created_at": "2018-06-06T04:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390013",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52ea82102a5949b7f63f946ffd6f4a0ca34b21b8">52ea821</a></td><td><code>Enter the component of a meric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dfaad99c70403bbe39f9a483aabf07caecafc86">7dfaad9</a></td><td><code>Enter components of a metric while creating the metric</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/188a1c318a9e3d41b8b31a3c5a50c11e1df6089c">188a1c3</a></td><td><code>Enter the component of a metric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25cff3cd0b88544da5ffae63536b33971af044db">25cff3c</a></td><td><code>Enter the component of a metric while declaring the metric on a Parallelizable Manifold</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a406fe689953d5431fda8cb915c6ba0ba2d4fc62">a406fe6</a></td><td><code>Solving some doctests errors</code></td></tr></table>




---

archive/issue_comments_390014.json:
```json
{
    "body": "Commit: **[a406fe6](https://github.com/sagemath/sagetrac-mirror/commit/a406fe689953d5431fda8cb915c6ba0ba2d4fc62)**",
    "created_at": "2018-06-06T04:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390014",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[a406fe6](https://github.com/sagemath/sagetrac-mirror/commit/a406fe689953d5431fda8cb915c6ba0ba2d4fc62)**



---

archive/issue_events_352241.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-06-06T05:02:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352241"
}
```



---

archive/issue_events_352242.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-06-06T05:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352242"
}
```



---

archive/issue_events_352243.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-06-12T12:37:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352243"
}
```



---

archive/issue_events_352244.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-06-12T12:37:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352244"
}
```



---

archive/issue_comments_390015.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nA doctest fails:\n\n```\nsage -t --long --warn-long 49.9 src/sage/manifolds/differentiable/metric.py\n**********************************************************************\nFile \"src/sage/manifolds/differentiable/metric.py\", line 1006, in sage.manifolds.differentiable.metric.PseudoRiemannianMetric.riemann\nFailed example:\n    g.riemann()[:]\nExpected:\n    [[[[0, 0], [0, 0]], [[0, sin(th)^2], [-sin(th)^2, 0]]],\n    [[[0, (cos(th)^2 - 1)/sin(th)^2], [1, 0]], [[0, 0], [0, 0]]]]\nGot:\n    [[[[0, 0], [0, 0]], [[0, sin(th)^2], [-sin(th)^2, 0]]],\n     [[[0, -1], [1, 0]], [[0, 0], [0, 0]]]]\n**********************************************************************\n1 item had failures:\n   1 of  15 in sage.manifolds.differentiable.metric.PseudoRiemannianMetric.riemann\n    [534 tests, 1 failure, 86.67 s]\n```\nBesides, the following doctest in line 168-170 of `src/sage/manifolds/differentiable/pseudo_riemannian.py`:\n\n```    \nsage: g = M.metric()\nsage: g\nRiemannian metric g on the 4-dimensional Lorentzian manifold M\n```\nis not correct: the output should be `Lorentzian metric` (as it was prior to this ticket), since `M` has been declared in line 158 as being a Lorentzian manifold. \n\nSimilarly, in lines 566-567 of the same file, the output of the doctest \n\n```\nsage: h = M.metric('h', signature=1); h\nRiemannian metric h on the 3-dimensional Riemannian manifold M\n```\nis not correct, since a signature of 1 on a 3-dimensional manifold implies a Lorentzian metric. \n\nIn the helper function `_diag` defined in line 1908 of `src/sage/manifolds/differentiable/metric.py`, it is quite unconventional to name the first argument `self` since `_diag` is not a class method. \n\nYou should not end docstring lines by a backslash character, as done in lines 1976-1982 of `metric.py`. \n\nThe documentation fails to build: the command\n\n```\n./sage -docbuild reference/manifolds html\n```\nreturns errors like\n\n```\ndocstring of sage.manifolds.differentiable.metric.PseudoRiemannianMetricParal.index:7: \nWARNING: Bullet list ends without a blank line; unexpected unindent.\n```",
    "created_at": "2018-06-12T12:37:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390015",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:12" align="right">comment:12</div>

A doctest fails:

```
sage -t --long --warn-long 49.9 src/sage/manifolds/differentiable/metric.py
**********************************************************************
File "src/sage/manifolds/differentiable/metric.py", line 1006, in sage.manifolds.differentiable.metric.PseudoRiemannianMetric.riemann
Failed example:
    g.riemann()[:]
Expected:
    [[[[0, 0], [0, 0]], [[0, sin(th)^2], [-sin(th)^2, 0]]],
    [[[0, (cos(th)^2 - 1)/sin(th)^2], [1, 0]], [[0, 0], [0, 0]]]]
Got:
    [[[[0, 0], [0, 0]], [[0, sin(th)^2], [-sin(th)^2, 0]]],
     [[[0, -1], [1, 0]], [[0, 0], [0, 0]]]]
**********************************************************************
1 item had failures:
   1 of  15 in sage.manifolds.differentiable.metric.PseudoRiemannianMetric.riemann
    [534 tests, 1 failure, 86.67 s]
```
Besides, the following doctest in line 168-170 of `src/sage/manifolds/differentiable/pseudo_riemannian.py`:

```    
sage: g = M.metric()
sage: g
Riemannian metric g on the 4-dimensional Lorentzian manifold M
```
is not correct: the output should be `Lorentzian metric` (as it was prior to this ticket), since `M` has been declared in line 158 as being a Lorentzian manifold. 

Similarly, in lines 566-567 of the same file, the output of the doctest 

```
sage: h = M.metric('h', signature=1); h
Riemannian metric h on the 3-dimensional Riemannian manifold M
```
is not correct, since a signature of 1 on a 3-dimensional manifold implies a Lorentzian metric. 

In the helper function `_diag` defined in line 1908 of `src/sage/manifolds/differentiable/metric.py`, it is quite unconventional to name the first argument `self` since `_diag` is not a class method. 

You should not end docstring lines by a backslash character, as done in lines 1976-1982 of `metric.py`. 

The documentation fails to build: the command

```
./sage -docbuild reference/manifolds html
```
returns errors like

```
docstring of sage.manifolds.differentiable.metric.PseudoRiemannianMetricParal.index:7: 
WARNING: Bullet list ends without a blank line; unexpected unindent.
```



---

archive/issue_comments_390016.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAnother point: you should fill the *Description* field of this ticket, to tell what it is about.",
    "created_at": "2018-06-12T13:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390016",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:13" align="right">comment:13</div>

Another point: you should fill the *Description* field of this ticket, to tell what it is about.



---

archive/issue_comments_390017.json:
```json
{
    "body": "Changed commit from **[a406fe6](https://github.com/sagemath/sagetrac-mirror/commit/a406fe689953d5431fda8cb915c6ba0ba2d4fc62)** to **[a6071cb](https://github.com/sagemath/sagetrac-mirror/commit/a6071cbff670f43afdd8b5bc62e6c44fa62f2467)**",
    "created_at": "2018-06-15T17:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390017",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a406fe6](https://github.com/sagemath/sagetrac-mirror/commit/a406fe689953d5431fda8cb915c6ba0ba2d4fc62)** to **[a6071cb](https://github.com/sagemath/sagetrac-mirror/commit/a6071cbff670f43afdd8b5bc62e6c44fa62f2467)**



---

archive/issue_comments_390018.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6071cbff670f43afdd8b5bc62e6c44fa62f2467\">a6071cb</a></td><td><code>Entering components of a metric while declaring the metric on a parallelizable manifold</code></td></tr></table>\n",
    "created_at": "2018-06-15T17:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390018",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6071cbff670f43afdd8b5bc62e6c44fa62f2467">a6071cb</a></td><td><code>Entering components of a metric while declaring the metric on a parallelizable manifold</code></td></tr></table>




---

archive/issue_comments_390019.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+The main purpose of this ticket is to give the possibility of entering the components of a metric while declaring this metric on a parallelizable manifold.\n \n+In this ticket, there is a method which determine the signature of a metric. So it is no more necessary to give the signature of your metric while declaring, Sage is able to compute it! Therefore Sage would give the truth class of the declaring metric: Riemannian metric or Lorentzian metric or pseudo-Riemannian metric or degenerate metric.  \n``````\n",
    "created_at": "2018-06-15T17:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390019",
    "user": "https://github.com/sagetrac-Dicolevrai"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+The main purpose of this ticket is to give the possibility of entering the components of a metric while declaring this metric on a parallelizable manifold.
 
+In this ticket, there is a method which determine the signature of a metric. So it is no more necessary to give the signature of your metric while declaring, Sage is able to compute it! Therefore Sage would give the truth class of the declaring metric: Riemannian metric or Lorentzian metric or pseudo-Riemannian metric or degenerate metric.  
``````




---

archive/issue_events_352245.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-06-15T17:30:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352245"
}
```



---

archive/issue_events_352246.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-06-15T17:30:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352246"
}
```



---

archive/issue_comments_390020.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ddc1b2bc2ac5d11fe314ce78e87f82b72cf4c2b\">8ddc1b2</a></td><td><code>Merge branch 'public/manifolds/MetricComponents' of git://trac.sagemath.org/sage into Sage 8.3.beta4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cae28a718d0cd7c9fe7b867855b84caaa6c83919\">cae28a7</a></td><td><code>Reviewer tweaks for #25457</code></td></tr></table>\n",
    "created_at": "2018-06-18T19:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390020",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ddc1b2bc2ac5d11fe314ce78e87f82b72cf4c2b">8ddc1b2</a></td><td><code>Merge branch 'public/manifolds/MetricComponents' of git://trac.sagemath.org/sage into Sage 8.3.beta4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cae28a718d0cd7c9fe7b867855b84caaa6c83919">cae28a7</a></td><td><code>Reviewer tweaks for #25457</code></td></tr></table>




---

archive/issue_comments_390021.json:
```json
{
    "body": "Changed commit from **[a6071cb](https://github.com/sagemath/sagetrac-mirror/commit/a6071cbff670f43afdd8b5bc62e6c44fa62f2467)** to **[cae28a7](https://github.com/sagemath/sagetrac-mirror/commit/cae28a718d0cd7c9fe7b867855b84caaa6c83919)**",
    "created_at": "2018-06-18T19:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390021",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a6071cb](https://github.com/sagemath/sagetrac-mirror/commit/a6071cbff670f43afdd8b5bc62e6c44fa62f2467)** to **[cae28a7](https://github.com/sagemath/sagetrac-mirror/commit/cae28a718d0cd7c9fe7b867855b84caaa6c83919)**



---

archive/issue_events_352247.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-06-18T19:52:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352247"
}
```



---

archive/issue_events_352248.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-06-18T19:52:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352248"
}
```



---

archive/issue_comments_390022.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI've pushed to the ticket branch a commit with small tweaks, which\n- correct errors in the documentation building\n- correct the doctest failure mentioned in [comment:12](#comment:12) (trigonometric simplification)\n- apply some coding style along the recommended [PEP 8 conventions](https://www.python.org/dev/peps/pep-0008/), in particular: *\"The preferred way of wrapping long lines is by using Python's implied line continuation inside parentheses, brackets and braces. Long lines can be broken over multiple lines by wrapping expressions in parentheses. These should be used in preference to using a backslash for line continuation.\"*\n\nTo see all my changes, click on [cae28a7](https://github.com/sagemath/sagetrac-mirror/commit/cae28a718d0cd7c9fe7b867855b84caaa6c83919) in [comment:16](#comment:16).\n\nThere are still some points that must be discussed or fixed: \n\n- At the moment, if no metric components are provided at some metric declaration (i.e. if `comp` is `None`), this defaults to initializing the metric components to  `diag(1,1,...,1)`. It would be preferable to left the components uninitialized instead, especially if the default chart is not of Cartesian type. I think we can make both behaviors (the previous one, with no components preinitialized, and the new one, with components set via the argument `comp=...`) coexist nicely\n- Since the argument `comp` is implemented only in `PseudoRiemannianMetricParal.__init__`, there is a difference of behavior between parallelizable manifolds and non-parallelizable ones; the argument `comp` has been added to `VectorFieldModule.metric` but is totally unused there. \n- Even on parallelizable manifolds, what if more than one chart is required to cover the manifold, like for instance **S**<sup>1</sup> or **S**<sup>3</sup> ?\n- The issue with the naming of the first argument of `_diag` mentioned in [comment:12](#comment:12) is not addressed\n- The argument `comp` should be documented everywhere it has been added (e.g. in `VectorFieldFreeModule.metric`)",
    "created_at": "2018-06-18T19:52:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390022",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:17" align="right">comment:17</div>

I've pushed to the ticket branch a commit with small tweaks, which
- correct errors in the documentation building
- correct the doctest failure mentioned in [comment:12](#comment:12) (trigonometric simplification)
- apply some coding style along the recommended [PEP 8 conventions](https://www.python.org/dev/peps/pep-0008/), in particular: *"The preferred way of wrapping long lines is by using Python's implied line continuation inside parentheses, brackets and braces. Long lines can be broken over multiple lines by wrapping expressions in parentheses. These should be used in preference to using a backslash for line continuation."*

To see all my changes, click on [cae28a7](https://github.com/sagemath/sagetrac-mirror/commit/cae28a718d0cd7c9fe7b867855b84caaa6c83919) in [comment:16](#comment:16).

There are still some points that must be discussed or fixed: 

- At the moment, if no metric components are provided at some metric declaration (i.e. if `comp` is `None`), this defaults to initializing the metric components to  `diag(1,1,...,1)`. It would be preferable to left the components uninitialized instead, especially if the default chart is not of Cartesian type. I think we can make both behaviors (the previous one, with no components preinitialized, and the new one, with components set via the argument `comp=...`) coexist nicely
- Since the argument `comp` is implemented only in `PseudoRiemannianMetricParal.__init__`, there is a difference of behavior between parallelizable manifolds and non-parallelizable ones; the argument `comp` has been added to `VectorFieldModule.metric` but is totally unused there. 
- Even on parallelizable manifolds, what if more than one chart is required to cover the manifold, like for instance **S**<sup>1</sup> or **S**<sup>3</sup> ?
- The issue with the naming of the first argument of `_diag` mentioned in [comment:12](#comment:12) is not addressed
- The argument `comp` should be documented everywhere it has been added (e.g. in `VectorFieldFreeModule.metric`)



---

archive/issue_comments_390023.json:
```json
{
    "body": "Changed commit from **[cae28a7](https://github.com/sagemath/sagetrac-mirror/commit/cae28a718d0cd7c9fe7b867855b84caaa6c83919)** to **[f494678](https://github.com/sagemath/sagetrac-mirror/commit/f494678c9733967e0054169761dbff78ee4e9adc)**",
    "created_at": "2018-06-27T17:22:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390023",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cae28a7](https://github.com/sagemath/sagetrac-mirror/commit/cae28a718d0cd7c9fe7b867855b84caaa6c83919)** to **[f494678](https://github.com/sagemath/sagetrac-mirror/commit/f494678c9733967e0054169761dbff78ee4e9adc)**



---

archive/issue_comments_390024.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f494678c9733967e0054169761dbff78ee4e9adc\">f494678</a></td><td><code>Entering the components of a metric while declaring</code></td></tr></table>\n",
    "created_at": "2018-06-27T17:22:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390024",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f494678c9733967e0054169761dbff78ee4e9adc">f494678</a></td><td><code>Entering the components of a metric while declaring</code></td></tr></table>




---

archive/issue_comments_390025.json:
```json
{
    "body": "Changed keywords from **Parallelizable Manifold, Pseudo-Riemannian Metric, Degenerate Metric** to **Manifold, Pseudo-Riemannian Metric, Degenerate Metric**",
    "created_at": "2018-06-27T17:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390025",
    "user": "https://github.com/sagetrac-Dicolevrai"
}
```

Changed keywords from **Parallelizable Manifold, Pseudo-Riemannian Metric, Degenerate Metric** to **Manifold, Pseudo-Riemannian Metric, Degenerate Metric**



---

archive/issue_comments_390026.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-The main purpose of this ticket is to give the possibility of entering the components of a metric while declaring this metric on a parallelizable manifold.\n+The main purpose of this ticket is to give the possibility of entering the components of a metric while declaring this metric on a manifold.\n \n In this ticket, there is a method which determine the signature of a metric. So it is no more necessary to give the signature of your metric while declaring, Sage is able to compute it! Therefore Sage would give the truth class of the declaring metric: Riemannian metric or Lorentzian metric or pseudo-Riemannian metric or degenerate metric.  \n``````\n",
    "created_at": "2018-06-27T17:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390026",
    "user": "https://github.com/sagetrac-Dicolevrai"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-The main purpose of this ticket is to give the possibility of entering the components of a metric while declaring this metric on a parallelizable manifold.
+The main purpose of this ticket is to give the possibility of entering the components of a metric while declaring this metric on a manifold.
 
 In this ticket, there is a method which determine the signature of a metric. So it is no more necessary to give the signature of your metric while declaring, Sage is able to compute it! Therefore Sage would give the truth class of the declaring metric: Riemannian metric or Lorentzian metric or pseudo-Riemannian metric or degenerate metric.  
``````




---

archive/issue_comments_390027.json:
```json
{
    "body": "Changed author from **Hans FOTSING TETSING** to **Hans Fotsing Tetsing**",
    "created_at": "2018-06-27T17:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390027",
    "user": "https://github.com/sagetrac-Dicolevrai"
}
```

Changed author from **Hans FOTSING TETSING** to **Hans Fotsing Tetsing**



---

archive/issue_events_352249.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-06-27T17:32:52Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "title_is": "Enter the components of a metric while declaring",
    "title_was": "Enter the components of a metric while declaring the metric on a Parallelizable Manifold",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352249"
}
```



---

archive/issue_events_352250.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-06-27T17:32:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352250"
}
```



---

archive/issue_events_352251.json:
```json
{
    "actor": "https://github.com/sagetrac-Dicolevrai",
    "created_at": "2018-06-27T17:32:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352251"
}
```



---

archive/issue_comments_390028.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThere are various issues:\n- The doctest time of `metric.py` is too long: on my computer, running\n\n```\nsage -t --long src/sage/manifolds/differentiable/metric.py\n```\nyields a total CPU time of 144.2 s, while with Sage 8.3.rc0 (i.e. outside the ticket branch) it is only of 62.3 s. Such an increase of doctest time is not acceptable, especially for a new functionality, which in principle, does not require much computing.\nOne can see the culprits by running\n\n```\nsage -t --long --warn-long 5 src/sage/manifolds/differentiable/metric.py\n```\nwhich reports the doctests running for more than 5 s. They are the doctests involving a metric on the sphere, with the components given in 6 charts. Why do you choose such a lengthy example? It is also very long, and thus not pleasant to read, in the html documentation.\n\n- In line 726 of `levi_civita_connection.py`, you have changed the output of the doctest by replacing `Lorentzian metric` by `Riemannian metric` (so that the doctest is passed), but this not correct since the metric has been declared as Lorentzian a few lines above. Actually this reveals that the handling of metric signatures must be entirely rethinked after the introduction of your function for computing the signature (previously, there was only the concept of \"user declared signature\"). This is out of the scope of this ticket and I will open a new ticket for this.\n\n- The method `sign()` should return a tuple, and not a list, since the signature is intended to be immutable.\n\n- The documentation does not build, due to a spurious `u99` inserted in line 3216 of `src/sage/manifolds/differentiable/manifold.py`. On general grounds, please check that the documentation builds correctly, via\n\n```\nsage -docbuild reference/manifolds html\n```\nand that the html output is OK, before submitting a ticket for review.",
    "created_at": "2018-07-25T15:27:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25457#issuecomment-390028",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:20" align="right">comment:20</div>

There are various issues:
- The doctest time of `metric.py` is too long: on my computer, running

```
sage -t --long src/sage/manifolds/differentiable/metric.py
```
yields a total CPU time of 144.2 s, while with Sage 8.3.rc0 (i.e. outside the ticket branch) it is only of 62.3 s. Such an increase of doctest time is not acceptable, especially for a new functionality, which in principle, does not require much computing.
One can see the culprits by running

```
sage -t --long --warn-long 5 src/sage/manifolds/differentiable/metric.py
```
which reports the doctests running for more than 5 s. They are the doctests involving a metric on the sphere, with the components given in 6 charts. Why do you choose such a lengthy example? It is also very long, and thus not pleasant to read, in the html documentation.

- In line 726 of `levi_civita_connection.py`, you have changed the output of the doctest by replacing `Lorentzian metric` by `Riemannian metric` (so that the doctest is passed), but this not correct since the metric has been declared as Lorentzian a few lines above. Actually this reveals that the handling of metric signatures must be entirely rethinked after the introduction of your function for computing the signature (previously, there was only the concept of "user declared signature"). This is out of the scope of this ticket and I will open a new ticket for this.

- The method `sign()` should return a tuple, and not a list, since the signature is intended to be immutable.

- The documentation does not build, due to a spurious `u99` inserted in line 3216 of `src/sage/manifolds/differentiable/manifold.py`. On general grounds, please check that the documentation builds correctly, via

```
sage -docbuild reference/manifolds html
```
and that the html output is OK, before submitting a ticket for review.



---

archive/issue_events_352252.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-25T15:27:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352252"
}
```



---

archive/issue_events_352253.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-25T15:27:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352253"
}
```



---

archive/issue_events_352254.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:41:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25457",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25457#event-352254"
}
```
