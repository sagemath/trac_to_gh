# Issue 25029: local_square in a number field

archive/issues_024792.json:
```json
{
    "body": "function returns `true` if *a* is a local square in the completion of a number field at a prime.  This function uses quadratic_defect and therefore this ticket is dependent on ticket #25023.\n\nBranch/Commit: ecf748cee4b1dc82bfd2749716f91b1a16ea26d7\n\nReviewer: Anna Haensch, Dima Pasechnik\n\nAuthor: Anna Haensch, Simon Brandhorst\n\nDependencies: #25023\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25029\n\n",
    "closed_at": "2018-06-23T19:58:53Z",
    "created_at": "2018-03-23T13:41:22Z",
    "labels": [
        "component: number fields"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "local_square in a number field",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25029",
    "user": "https://github.com/annahaensch"
}
```
function returns `true` if *a* is a local square in the completion of a number field at a prime.  This function uses quadratic_defect and therefore this ticket is dependent on ticket #25023.

Branch/Commit: ecf748cee4b1dc82bfd2749716f91b1a16ea26d7

Reviewer: Anna Haensch, Dima Pasechnik

Author: Anna Haensch, Simon Brandhorst

Dependencies: #25023

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25029





---

archive/issue_comments_470278.json:
```json
{
    "body": "Changing dependencies from \"25023\" to \"#25023\"",
    "created_at": "2018-05-10T20:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470278",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing dependencies from "25023" to "#25023"



---

archive/issue_comments_470279.json:
```json
{
    "body": "<a id='comment:2'></a>\nI would suggest to make it a method of an element of the number field\nSuggestions:\n- `is_square_in_completion`\n- `is_local_square`",
    "created_at": "2018-05-10T20:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470279",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:2'></a>
I would suggest to make it a method of an element of the number field
Suggestions:
- `is_square_in_completion`
- `is_local_square`



---

archive/issue_comments_470280.json:
```json
{
    "body": "Changing branch from \"\" to \"u/sbrandhorst/local_square_in_a_number_field\"",
    "created_at": "2018-06-01T11:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470280",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing branch from "" to "u/sbrandhorst/local_square_in_a_number_field"



---

archive/issue_comments_470281.json:
```json
{
    "body": "Changing commit from \"\" to \"5c2a982a572477b4cab769717f64d9d43b0ed853\"",
    "created_at": "2018-06-01T11:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470281",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing commit from "" to "5c2a982a572477b4cab769717f64d9d43b0ed853"



---

archive/issue_comments_470282.json:
```json
{
    "body": "<a id='comment:4'></a>\nI settled for `is_padic_square` as that exists already for QQ. \none might think about giving it the alias `is_square_in_completion` to make it more visible?\n\n---\nNew commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[5c2a982](https://github.com/sagemath/sagetrac-mirror/commit/5c2a982a572477b4cab769717f64d9d43b0ed853)|`added is_padic_square for numberfields and check keyword`|",
    "created_at": "2018-06-01T11:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470282",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:4'></a>
I settled for `is_padic_square` as that exists already for QQ. 
one might think about giving it the alias `is_square_in_completion` to make it more visible?

---
New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[5c2a982](https://github.com/sagemath/sagetrac-mirror/commit/5c2a982a572477b4cab769717f64d9d43b0ed853)|`added is_padic_square for numberfields and check keyword`|



---

archive/issue_comments_470283.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[6850d7d](https://github.com/sagemath/sagetrac-mirror/commit/6850d7d32ca45abe37323aa9c1bbba12d319a6f8)|`Cleanup and typos`|",
    "created_at": "2018-06-01T11:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[6850d7d](https://github.com/sagemath/sagetrac-mirror/commit/6850d7d32ca45abe37323aa9c1bbba12d319a6f8)|`Cleanup and typos`|



---

archive/issue_comments_470284.json:
```json
{
    "body": "Changing commit from \"5c2a982a572477b4cab769717f64d9d43b0ed853\" to \"6850d7d32ca45abe37323aa9c1bbba12d319a6f8\"",
    "created_at": "2018-06-01T11:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5c2a982a572477b4cab769717f64d9d43b0ed853" to "6850d7d32ca45abe37323aa9c1bbba12d319a6f8"



---

archive/issue_comments_470285.json:
```json
{
    "body": "Changing author from \"Anna Haensch\" to \"Anna Haensch, Simon Brandhorst\"",
    "created_at": "2018-06-01T11:45:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470285",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing author from "Anna Haensch" to "Anna Haensch, Simon Brandhorst"



---

archive/issue_comments_470286.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-01T11:45:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470286",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from new to needs_review.



---

archive/issue_events_079239.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-06-20T21:11:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25029#event-79239"
}
```



---

archive/issue_comments_470287.json:
```json
{
    "body": "<a id='comment:7'></a>\nI saw the author's cry on twitter, of all things...",
    "created_at": "2018-06-20T21:11:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470287",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
I saw the author's cry on twitter, of all things...



---

archive/issue_comments_470288.json:
```json
{
    "body": "<a id='comment:8'></a>\nWhat's going on in the branch, I wonder. It does remove sage/rings/rational_field.py, doesn't it?",
    "created_at": "2018-06-20T21:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470288",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
What's going on in the branch, I wonder. It does remove sage/rings/rational_field.py, doesn't it?



---

archive/issue_comments_470289.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [dimpase](#comment%3A7):\n> I saw the author's cry on twitter, of all things...\n\n\n\nShouting into the void! Sometimes it works!",
    "created_at": "2018-06-20T21:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470289",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:9'></a>
Replying to [dimpase](#comment%3A7):
> I saw the author's cry on twitter, of all things...



Shouting into the void! Sometimes it works!



---

archive/issue_comments_470290.json:
```json
{
    "body": "<a id='comment:10'></a>\nIs there any reason you cannot do the review between the two authors, it's completely kosher in most cases (unless it's something really major etc), you know?\n\nI'd gladly review the technical part, but the maths behind it is far from my immediate areas.",
    "created_at": "2018-06-20T21:33:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470290",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
Is there any reason you cannot do the review between the two authors, it's completely kosher in most cases (unless it's something really major etc), you know?

I'd gladly review the technical part, but the maths behind it is far from my immediate areas.



---

archive/issue_comments_470291.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [dimpase](#comment%3A10):\n> Is there any reason you cannot do the review between the two authors, it's completely kosher in most cases (unless it's something really major etc), you know?\n> \n> I'd gladly review the technical part, but the maths behind it is far from my immediate areas.\n\n\nIs that so?  If that's the case, I can easily do the review myself.  I'm in the process of fixing that glaring problem you point out above.  But if you think it's ok to review between the two of us, then you can step down.",
    "created_at": "2018-06-20T21:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470291",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:11'></a>
Replying to [dimpase](#comment%3A10):
> Is there any reason you cannot do the review between the two authors, it's completely kosher in most cases (unless it's something really major etc), you know?
> 
> I'd gladly review the technical part, but the maths behind it is far from my immediate areas.


Is that so?  If that's the case, I can easily do the review myself.  I'm in the process of fixing that glaring problem you point out above.  But if you think it's ok to review between the two of us, then you can step down.



---

archive/issue_comments_470292.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe \"glaring problem\" is actually a bug of trac (in the way it interacts\nwith the git server), see\nhttps://github.com/sagemath/sagetrac-mirror/blob/u/sbrandhorst/local_square_in_a_number_field/src/sage/rings/rational_field.py\n\n-the file is not deleted, it's alive and well.",
    "created_at": "2018-06-20T21:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470292",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
The "glaring problem" is actually a bug of trac (in the way it interacts
with the git server), see
https://github.com/sagemath/sagetrac-mirror/blob/u/sbrandhorst/local_square_in_a_number_field/src/sage/rings/rational_field.py

-the file is not deleted, it's alive and well.



---

archive/issue_comments_470293.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [dimpase](#comment%3A12):\n> The \"glaring problem\" is actually a bug of trac (in the way it interacts\n> with the git server), see\n> https://github.com/sagemath/sagetrac-mirror/blob/u/sbrandhorst/local_square_in_a_number_field/src/sage/rings/rational_field.py\n> \n> -the file is not deleted, it's alive and well.\n\n\nI had wondered how that slipped through.  Strange.",
    "created_at": "2018-06-20T21:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470293",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:13'></a>
Replying to [dimpase](#comment%3A12):
> The "glaring problem" is actually a bug of trac (in the way it interacts
> with the git server), see
> https://github.com/sagemath/sagetrac-mirror/blob/u/sbrandhorst/local_square_in_a_number_field/src/sage/rings/rational_field.py
> 
> -the file is not deleted, it's alive and well.


I had wondered how that slipped through.  Strange.



---

archive/issue_comments_470294.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [annahaensch](#comment%3A13):\n> Replying to [dimpase](#comment%3A12):\n> > The \"glaring problem\" is actually a bug of trac (in the way it interacts\n> > with the git server), see\n> > https://github.com/sagemath/sagetrac-mirror/blob/u/sbrandhorst/local_square_in_a_number_field/src/sage/rings/rational_field.py\n> > \n> > -the file is not deleted, it's alive and well.\n\n> \n> I had wondered how that slipped through.  Strange. \n\n\nit's not the first time I see such things. Probably a long-standing trac bug.",
    "created_at": "2018-06-20T22:03:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470294",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
Replying to [annahaensch](#comment%3A13):
> Replying to [dimpase](#comment%3A12):
> > The "glaring problem" is actually a bug of trac (in the way it interacts
> > with the git server), see
> > https://github.com/sagemath/sagetrac-mirror/blob/u/sbrandhorst/local_square_in_a_number_field/src/sage/rings/rational_field.py
> > 
> > -the file is not deleted, it's alive and well.

> 
> I had wondered how that slipped through.  Strange. 


it's not the first time I see such things. Probably a long-standing trac bug.



---

archive/issue_comments_470295.json:
```json
{
    "body": "<a id='comment:15'></a>\nanyhow, it's not something to worry about here. It only affects the branch display on this ticket, nothing else.",
    "created_at": "2018-06-20T22:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470295",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
anyhow, it's not something to worry about here. It only affects the branch display on this ticket, nothing else.



---

archive/issue_comments_470296.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [dimpase](#comment%3A15):\n> anyhow, it's not something to worry about here. It only affects the branch display on this ticket, nothing else.\n\n\nThanks for the heads up on that.",
    "created_at": "2018-06-20T22:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470296",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:16'></a>
Replying to [dimpase](#comment%3A15):
> anyhow, it's not something to worry about here. It only affects the branch display on this ticket, nothing else.


Thanks for the heads up on that.



---

archive/issue_comments_470297.json:
```json
{
    "body": "<a id='comment:17'></a>\n`@`sbrandhorst at the suggestion of dimpase I'm going to review this ticket. Some comments:\n\n- Sorry, but I'm not sure I understand the utility of the check=true variable in the function, what is that doing?\n- In the modifications you added to quadratic defect there is a `P` that should be a `p`. \n- I ran the doctests, all tests passed.",
    "created_at": "2018-06-20T23:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470297",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:17'></a>
`@`sbrandhorst at the suggestion of dimpase I'm going to review this ticket. Some comments:

- Sorry, but I'm not sure I understand the utility of the check=true variable in the function, what is that doing?
- In the modifications you added to quadratic defect there is a `P` that should be a `p`. 
- I ran the doctests, all tests passed.



---

archive/issue_comments_470298.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [annahaensch](#comment%3A17):\n> `@`sbrandhorst at the suggestion of dimpase I'm going to review this ticket. Some comments:\n> \n> - Sorry, but I'm not sure I understand the utility of the check=true variable in the function, what is that doing?\n\n\nAssuming you talk about\n\n```\nif check and not p.is_prime():\n```\nthis is to check that the input makes sense. Potentially, primality check is expensive,\nand so for performance reasons one might want to avoid it.",
    "created_at": "2018-06-21T07:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470298",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
Replying to [annahaensch](#comment%3A17):
> `@`sbrandhorst at the suggestion of dimpase I'm going to review this ticket. Some comments:
> 
> - Sorry, but I'm not sure I understand the utility of the check=true variable in the function, what is that doing?


Assuming you talk about

```
if check and not p.is_prime():
```
this is to check that the input makes sense. Potentially, primality check is expensive,
and so for performance reasons one might want to avoid it.



---

archive/issue_comments_470299.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [dimpase](#comment%3A18):\n> Replying to [annahaensch](#comment%3A17):\n> > `@`sbrandhorst at the suggestion of dimpase I'm going to review this ticket. Some comments:\n> > \n> > - Sorry, but I'm not sure I understand the utility of the check=true variable in the function, what is that doing?\n \n> \n> Assuming you talk about\n> \n> ```\n> if check and not p.is_prime():\n> ```\n> this is to check that the input makes sense. Potentially, primality check is expensive,\n> and so for performance reasons one might want to avoid it.\n> \n> \nYep. I am mostly working with small primes. But who know's what other people might do with this?",
    "created_at": "2018-06-21T07:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470299",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:19'></a>
Replying to [dimpase](#comment%3A18):
> Replying to [annahaensch](#comment%3A17):
> > `@`sbrandhorst at the suggestion of dimpase I'm going to review this ticket. Some comments:
> > 
> > - Sorry, but I'm not sure I understand the utility of the check=true variable in the function, what is that doing?
 
> 
> Assuming you talk about
> 
> ```
> if check and not p.is_prime():
> ```
> this is to check that the input makes sense. Potentially, primality check is expensive,
> and so for performance reasons one might want to avoid it.
> 
> 
Yep. I am mostly working with small primes. But who know's what other people might do with this?



---

archive/issue_comments_470300.json:
```json
{
    "body": "Changing commit from \"6850d7d32ca45abe37323aa9c1bbba12d319a6f8\" to \"ecf748cee4b1dc82bfd2749716f91b1a16ea26d7\"",
    "created_at": "2018-06-21T07:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6850d7d32ca45abe37323aa9c1bbba12d319a6f8" to "ecf748cee4b1dc82bfd2749716f91b1a16ea26d7"



---

archive/issue_comments_470301.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[ecf748c](https://github.com/sagemath/sagetrac-mirror/commit/ecf748cee4b1dc82bfd2749716f91b1a16ea26d7)|`P -> p and other small docfixes.`|",
    "created_at": "2018-06-21T07:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[ecf748c](https://github.com/sagemath/sagetrac-mirror/commit/ecf748cee4b1dc82bfd2749716f91b1a16ea26d7)|`P -> p and other small docfixes.`|



---

archive/issue_comments_470302.json:
```json
{
    "body": "<a id='comment:21'></a>\nGreat, that makes sense. \n\nAnother small thing, depending on the types of fields I construct I'm getting errors of the type \n\n```\nAttributeError: 'sage.rings.number_field.number_field_element_quadratic.NumberFieldElement_quadratic' \nobject has no attribute 'is_padic_square'\n```\n\nor \n\n```\nAttributeError: 'sage.rings.number_field.number_field_element.NumberFieldElement_absolute' \nobject has no attribute 'is_padic_square'\n```\n\ndoes this mean the function just needs to be added onto some call list?",
    "created_at": "2018-06-21T10:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470302",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:21'></a>
Great, that makes sense. 

Another small thing, depending on the types of fields I construct I'm getting errors of the type 

```
AttributeError: 'sage.rings.number_field.number_field_element_quadratic.NumberFieldElement_quadratic' 
object has no attribute 'is_padic_square'
```

or 

```
AttributeError: 'sage.rings.number_field.number_field_element.NumberFieldElement_absolute' 
object has no attribute 'is_padic_square'
```

does this mean the function just needs to be added onto some call list?



---

archive/issue_comments_470303.json:
```json
{
    "body": "<a id='comment:22'></a>\nI cannot reproduce this \n\n```\nsage: k.<a> = NumberField(x^3+2)\nsage: a.is_padic_square(k.primes_above(2)[0])\nFalse\nsage: type(a)\n<type 'sage.rings.number_field.number_field_element.NumberFieldElement_absolute'>\nsage: k.<a> = NumberField(x^2+2)\nsage: a.is_padic_square(k.primes_above(2)[0])\nFalse\nsage: type(a)\n<type 'sage.rings.number_field.number_field_element_quadratic.NumberFieldElement_quadratic'>\n```\nAre you on the right branch? :-)",
    "created_at": "2018-06-21T13:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470303",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:22'></a>
I cannot reproduce this 

```
sage: k.<a> = NumberField(x^3+2)
sage: a.is_padic_square(k.primes_above(2)[0])
False
sage: type(a)
<type 'sage.rings.number_field.number_field_element.NumberFieldElement_absolute'>
sage: k.<a> = NumberField(x^2+2)
sage: a.is_padic_square(k.primes_above(2)[0])
False
sage: type(a)
<type 'sage.rings.number_field.number_field_element_quadratic.NumberFieldElement_quadratic'>
```
Are you on the right branch? :-)



---

archive/issue_comments_470304.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [sbrandhorst](#comment%3A22):\n> I cannot reproduce this \n> \n> \n> ```\n> sage: k.<a> = NumberField(x^3+2)\n> sage: a.is_padic_square(k.primes_above(2)[0])\n> False\n> sage: type(a)\n> <type 'sage.rings.number_field.number_field_element.NumberFieldElement_absolute'>\n> sage: k.<a> = NumberField(x^2+2)\n> sage: a.is_padic_square(k.primes_above(2)[0])\n> False\n> sage: type(a)\n> <type 'sage.rings.number_field.number_field_element_quadratic.NumberFieldElement_quadratic'>\n> ```\n> Are you on the right branch? :-)\n\n\nOh geez, I am, but I forgot to build Sage.  It's the jet-lag talking :/\n\nI think this code looks good and I'm ready to give it a positive review.",
    "created_at": "2018-06-21T14:29:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470304",
    "user": "https://github.com/annahaensch"
}
```

<a id='comment:23'></a>
Replying to [sbrandhorst](#comment%3A22):
> I cannot reproduce this 
> 
> 
> ```
> sage: k.<a> = NumberField(x^3+2)
> sage: a.is_padic_square(k.primes_above(2)[0])
> False
> sage: type(a)
> <type 'sage.rings.number_field.number_field_element.NumberFieldElement_absolute'>
> sage: k.<a> = NumberField(x^2+2)
> sage: a.is_padic_square(k.primes_above(2)[0])
> False
> sage: type(a)
> <type 'sage.rings.number_field.number_field_element_quadratic.NumberFieldElement_quadratic'>
> ```
> Are you on the right branch? :-)


Oh geez, I am, but I forgot to build Sage.  It's the jet-lag talking :/

I think this code looks good and I'm ready to give it a positive review.



---

archive/issue_comments_470305.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-21T14:30:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470305",
    "user": "https://github.com/annahaensch"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_470306.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-06-21T17:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470306",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_470307.json:
```json
{
    "body": "<a id='comment:25'></a>\nPlease fill in the reviewer name",
    "created_at": "2018-06-21T17:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470307",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>
Please fill in the reviewer name



---

archive/issue_comments_470308.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Anna Haensch, Dima Pasechnik\"",
    "created_at": "2018-06-22T13:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470308",
    "user": "https://github.com/annahaensch"
}
```

Changing reviewer from "" to "Anna Haensch, Dima Pasechnik"



---

archive/issue_comments_470309.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-06-22T13:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470309",
    "user": "https://github.com/annahaensch"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_079240.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-23T19:58:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25029#event-79240"
}
```



---

archive/issue_comments_470310.json:
```json
{
    "body": "Changing branch from \"u/sbrandhorst/local_square_in_a_number_field\" to \"ecf748cee4b1dc82bfd2749716f91b1a16ea26d7\"",
    "created_at": "2018-06-23T19:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470310",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/sbrandhorst/local_square_in_a_number_field" to "ecf748cee4b1dc82bfd2749716f91b1a16ea26d7"



---

archive/issue_comments_470311.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-06-23T19:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25029#issuecomment-470311",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
