# Issue 25247: py3: float.__str__ differences

archive/issues_025010.json:
```json
{
    "body": "I've mentioned this in a few places before, but there wasn't a ticket for it:\n\nIn Python 2, `float.__str__` and `float.__repr__` are different (with only the latter showing 17 significant digits, while the former is arbitrarily truncated to 12:\n\n```python\n>>> str(2.0/3)\n'0.666666666667'\n>>> repr(2.0/3)\n'0.6666666666666666'\n```\n\nWhereas on Python 3 `float.__str__` and `float.__repr__` are the same (exactly, in all cases):\n\n```python\n>>> str(2.0/3)\n'0.6666666666666666'\n>>> repr(2.0/3)\n'0.6666666666666666'\n```\n\nFor once StackOverflow provides good background: https://stackoverflow.com/a/25899600/982257\n\nIn fact the new `float.__repr__` has been backported to Python 2, but it keeps the old `float.__str__`.\n\nA result of this is that in Python 3 any tests where `float.__str__` is used gives different results, and we need to decide how best to handle that difference.\n\nMy personal preference would be to wherever possible in Sage (e.g. in `RealDoubleElement` and the like) to always use the `repr()` where it currently uses `str()`.  The [new repr algorithm](https://bugs.python.org/issue1580) is quite a bit nicer.\n\nThis would obviously be a backwards-incompatible change in some ways, but would there be much harm?\n\nBranch/Commit: [89f501b738f189103eb0ca8aa53f5e16e267692f](https://github.com/sagemath/sagetrac-mirror/commit/89f501b738f189103eb0ca8aa53f5e16e267692f)\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Erik Bray\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25247\n\n",
    "closed_at": "2018-06-29T22:34:00Z",
    "created_at": "2018-04-25T10:01:51Z",
    "labels": [
        "component: python3",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "py3: float.__str__ differences",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25247",
    "user": "https://github.com/embray"
}
```
I've mentioned this in a few places before, but there wasn't a ticket for it:

In Python 2, `float.__str__` and `float.__repr__` are different (with only the latter showing 17 significant digits, while the former is arbitrarily truncated to 12:

```python
>>> str(2.0/3)
'0.666666666667'
>>> repr(2.0/3)
'0.6666666666666666'
```

Whereas on Python 3 `float.__str__` and `float.__repr__` are the same (exactly, in all cases):

```python
>>> str(2.0/3)
'0.6666666666666666'
>>> repr(2.0/3)
'0.6666666666666666'
```

For once StackOverflow provides good background: https://stackoverflow.com/a/25899600/982257

In fact the new `float.__repr__` has been backported to Python 2, but it keeps the old `float.__str__`.

A result of this is that in Python 3 any tests where `float.__str__` is used gives different results, and we need to decide how best to handle that difference.

My personal preference would be to wherever possible in Sage (e.g. in `RealDoubleElement` and the like) to always use the `repr()` where it currently uses `str()`.  The [new repr algorithm](https://bugs.python.org/issue1580) is quite a bit nicer.

This would obviously be a backwards-incompatible change in some ways, but would there be much harm?

Branch/Commit: [89f501b738f189103eb0ca8aa53f5e16e267692f](https://github.com/sagemath/sagetrac-mirror/commit/89f501b738f189103eb0ca8aa53f5e16e267692f)

Reviewer: Frédéric Chapoton

Author: Erik Bray

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25247





---

archive/issue_comments_484055.json:
```json
{
    "body": "Replying to [ticket:25247 embray]:\n> My personal preference would be to wherever possible in Sage (e.g. in `RealDoubleElement` and the like) to always use the `repr()` where it currently uses `str()`.\n\n\nFine for me.\n\n> This would obviously be a backwards-incompatible change in some ways, but would there be much harm?\n\n\nIt's unlikely to break code, but it might break some doctests (but probably not too much since doctests typically use `repr()` and that will not change).",
    "created_at": "2018-04-25T10:43:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484055",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:25247 embray]:
> My personal preference would be to wherever possible in Sage (e.g. in `RealDoubleElement` and the like) to always use the `repr()` where it currently uses `str()`.


Fine for me.

> This would obviously be a backwards-incompatible change in some ways, but would there be much harm?


It's unlikely to break code, but it might break some doctests (but probably not too much since doctests typically use `repr()` and that will not change).



---

archive/issue_comments_484056.json:
```json
{
    "body": "<a id='comment:2'></a>\nMy thoughts are the same as Jeroen's.",
    "created_at": "2018-04-25T12:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484056",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>
My thoughts are the same as Jeroen's.



---

archive/issue_comments_484057.json:
```json
{
    "body": "<a id='comment:3'></a>\nJust by a quick scan of the current test failures on Python 3 it will actually break a *lot* of doctests in Sage, but that's the point :)\n\nIt could also break any doctests in any third-party packages that relying on the `str()` representation of floats anywhere.  It should certainly be documented as a backwards-incompatible change, albeit one that should cause only minor disruption if any.",
    "created_at": "2018-04-26T13:02:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484057",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'></a>
Just by a quick scan of the current test failures on Python 3 it will actually break a *lot* of doctests in Sage, but that's the point :)

It could also break any doctests in any third-party packages that relying on the `str()` representation of floats anywhere.  It should certainly be documented as a backwards-incompatible change, albeit one that should cause only minor disruption if any.



---

archive/issue_comments_484058.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [embray](#comment%3A3):\n> It should certainly be documented as a backwards-incompatible change\n\n\nSince when do we document changes :-)",
    "created_at": "2018-04-26T13:56:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484058",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Replying to [embray](#comment%3A3):
> It should certainly be documented as a backwards-incompatible change


Since when do we document changes :-)



---

archive/issue_comments_484059.json:
```json
{
    "body": "<a id='comment:5'></a>\nOh, right...",
    "created_at": "2018-04-26T14:05:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484059",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Oh, right...



---

archive/issue_comments_484060.json:
```json
{
    "body": "<a id='comment:6'></a>\nI think this will actually cover most cases.  It seems there were fewer impacted doctests than I thought, I guess maybe since MPFR is used more pervasively than `RealDoubleElement`.\n\nI'm pretty sure there are some other doctests (e.g. that explicitly call `str()` on some float value) that might need updating, but not many.  I'll check the Python 3 test results and see if there are more I'm missing.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|\n|[5b7da86](https://github.com/sagemath/sagetrac-mirror/commit/5b7da8659f7f8dc44cb7f19d39648436a3617b6e)|`Fix RealDoubleElement to use float.__repr__ always, instead of float.__str__, and fix all doctests impacted by that change`|",
    "created_at": "2018-04-28T22:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484060",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'></a>
I think this will actually cover most cases.  It seems there were fewer impacted doctests than I thought, I guess maybe since MPFR is used more pervasively than `RealDoubleElement`.

I'm pretty sure there are some other doctests (e.g. that explicitly call `str()` on some float value) that might need updating, but not many.  I'll check the Python 3 test results and see if there are more I'm missing.

---
New commits:
|                                                                                                                                          |                                                                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
|[5b7da86](https://github.com/sagemath/sagetrac-mirror/commit/5b7da8659f7f8dc44cb7f19d39648436a3617b6e)|`Fix RealDoubleElement to use float.__repr__ always, instead of float.__str__, and fix all doctests impacted by that change`|



---

archive/issue_comments_484061.json:
```json
{
    "body": "Commit: [5b7da8659f7f8dc44cb7f19d39648436a3617b6e](https://github.com/sagemath/sagetrac-mirror/commit/5b7da8659f7f8dc44cb7f19d39648436a3617b6e)",
    "created_at": "2018-04-28T22:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484061",
    "user": "https://github.com/embray"
}
```

Commit: [5b7da8659f7f8dc44cb7f19d39648436a3617b6e](https://github.com/sagemath/sagetrac-mirror/commit/5b7da8659f7f8dc44cb7f19d39648436a3617b6e)



---

archive/issue_comments_484062.json:
```json
{
    "body": "Branch: [u/embray/ticket-25247](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-25247)",
    "created_at": "2018-04-28T22:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484062",
    "user": "https://github.com/embray"
}
```

Branch: [u/embray/ticket-25247](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-25247)



---

archive/issue_comments_484063.json:
```json
{
    "body": "Author: Erik Bray",
    "created_at": "2018-04-28T22:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484063",
    "user": "https://github.com/embray"
}
```

Author: Erik Bray



---

archive/issue_comments_484064.json:
```json
{
    "body": "<a id='comment:7'></a>\nIs this needing rewiew ??",
    "created_at": "2018-06-13T16:08:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484064",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
Is this needing rewiew ??



---

archive/issue_comments_484065.json:
```json
{
    "body": "<a id='comment:8'></a>\ngreen bot..",
    "created_at": "2018-06-14T13:33:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484065",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
green bot..



---

archive/issue_comments_484066.json:
```json
{
    "body": "<a id='comment:9'></a>\nWouldn't it be better to just remove `double_str` completely?",
    "created_at": "2018-06-14T13:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484066",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Wouldn't it be better to just remove `double_str` completely?



---

archive/issue_comments_484067.json:
```json
{
    "body": "<a id='comment:10'></a>\nAnd you can probably remove `__str__` too.",
    "created_at": "2018-06-14T13:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484067",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
And you can probably remove `__str__` too.



---

archive/issue_comments_484068.json:
```json
{
    "body": "<a id='comment:11'></a>\nI guess I kept it for backwards compatibility since it is used in at least one other module (though that usage should also be replaced with `double_repr`).\n\nHow strong of an \"API\" guarantee do we make with `cdef` functions exported via a `.pxd`?",
    "created_at": "2018-06-22T14:38:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484068",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'></a>
I guess I kept it for backwards compatibility since it is used in at least one other module (though that usage should also be replaced with `double_repr`).

How strong of an "API" guarantee do we make with `cdef` functions exported via a `.pxd`?



---

archive/issue_comments_484069.json:
```json
{
    "body": "Changing commit from \"[5b7da8659f7f8dc44cb7f19d39648436a3617b6e](https://github.com/sagemath/sagetrac-mirror/commit/5b7da8659f7f8dc44cb7f19d39648436a3617b6e)\" to \"[5420f79c71219af5b12d0a8b5a202d20cd88cc9e](https://github.com/sagemath/sagetrac-mirror/commit/5420f79c71219af5b12d0a8b5a202d20cd88cc9e)\"",
    "created_at": "2018-06-22T14:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484069",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[5b7da8659f7f8dc44cb7f19d39648436a3617b6e](https://github.com/sagemath/sagetrac-mirror/commit/5b7da8659f7f8dc44cb7f19d39648436a3617b6e)" to "[5420f79c71219af5b12d0a8b5a202d20cd88cc9e](https://github.com/sagemath/sagetrac-mirror/commit/5420f79c71219af5b12d0a8b5a202d20cd88cc9e)"



---

archive/issue_comments_484070.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|\n|[2d2c844](https://github.com/sagemath/sagetrac-mirror/commit/2d2c844e8ff43cf3bf20b7db7547288023f93c45)|`Fix RealDoubleElement to use float.__repr__ always, instead of float.__str__, and fix all doctests impacted by that change`|\n|[5420f79](https://github.com/sagemath/sagetrac-mirror/commit/5420f79c71219af5b12d0a8b5a202d20cd88cc9e)|`go ahead and remove double_str entirely, and clean up some now redundant __str__ methods`|",
    "created_at": "2018-06-22T14:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
|[2d2c844](https://github.com/sagemath/sagetrac-mirror/commit/2d2c844e8ff43cf3bf20b7db7547288023f93c45)|`Fix RealDoubleElement to use float.__repr__ always, instead of float.__str__, and fix all doctests impacted by that change`|
|[5420f79](https://github.com/sagemath/sagetrac-mirror/commit/5420f79c71219af5b12d0a8b5a202d20cd88cc9e)|`go ahead and remove double_str entirely, and clean up some now redundant __str__ methods`|



---

archive/issue_comments_484071.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-22T14:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484071",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_484072.json:
```json
{
    "body": "<a id='comment:13'></a>\nRebased and removed `double_str` and a couple `__str__`.",
    "created_at": "2018-06-22T14:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484072",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>
Rebased and removed `double_str` and a couple `__str__`.



---

archive/issue_comments_484073.json:
```json
{
    "body": "<a id='comment:14'></a>\nLooks good. Jeroen, do you agree ?",
    "created_at": "2018-06-22T17:29:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484073",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
Looks good. Jeroen, do you agree ?



---

archive/issue_comments_484074.json:
```json
{
    "body": "<a id='comment:15'></a>\nI haven't really looked closely, so my opinion is neutral. If you think it's good, you can set this to positive review.",
    "created_at": "2018-06-22T20:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484074",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
I haven't really looked closely, so my opinion is neutral. If you think it's good, you can set this to positive review.



---

archive/issue_comments_484075.json:
```json
{
    "body": "Reviewer: Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2018-06-23T07:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484075",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: Frédéric Chapoton



---

archive/issue_comments_484076.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-23T07:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484076",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_484077.json:
```json
{
    "body": "<a id='comment:16'></a>\nThen I will give a positive review.",
    "created_at": "2018-06-23T07:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484077",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
Then I will give a positive review.



---

archive/issue_comments_484078.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-06-24T19:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484078",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_484079.json:
```json
{
    "body": "<a id='comment:17'></a>\nOn 32-bit:\n\n```\nFile \"src/sage/plot/plot3d/base.pyx\", line 1740, in sage.plot.plot3d.base.Graphics3d.stl_ascii_string\nFailed example:\n    astl.splitlines()[:7]\nExpected:\n    ['solid surface',\n    'facet normal 0.9733285267845754 -0.16222142113076257 -0.16222142113076257',\n    '    outer loop',\n    '        vertex 2.94871794872 -0.384615384615 -0.39358974359',\n    '        vertex 2.95021367521 -0.384615384615 -0.384615384615',\n    '        vertex 2.94871794872 -0.39358974359 -0.384615384615',\n    '    endloop']\nGot:\n    ['solid surface',\n     'facet normal 0.9733285267845758 -0.16222142113076066 -0.16222142113076066',\n     '    outer loop',\n     '        vertex 2.94871794872 -0.384615384615 -0.39358974359',\n     '        vertex 2.95021367521 -0.384615384615 -0.384615384615',\n     '        vertex 2.94871794872 -0.39358974359 -0.384615384615',\n     '    endloop']\n**********************************************************************\n1 item had failures:\n   1 of  10 in sage.plot.plot3d.base.Graphics3d.stl_ascii_string\n    [337 tests, 1 failure, 46.41 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/plot/plot3d/base.pyx  # 1 doctest failed\n```",
    "created_at": "2018-06-24T19:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484079",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'></a>
On 32-bit:

```
File "src/sage/plot/plot3d/base.pyx", line 1740, in sage.plot.plot3d.base.Graphics3d.stl_ascii_string
Failed example:
    astl.splitlines()[:7]
Expected:
    ['solid surface',
    'facet normal 0.9733285267845754 -0.16222142113076257 -0.16222142113076257',
    '    outer loop',
    '        vertex 2.94871794872 -0.384615384615 -0.39358974359',
    '        vertex 2.95021367521 -0.384615384615 -0.384615384615',
    '        vertex 2.94871794872 -0.39358974359 -0.384615384615',
    '    endloop']
Got:
    ['solid surface',
     'facet normal 0.9733285267845758 -0.16222142113076066 -0.16222142113076066',
     '    outer loop',
     '        vertex 2.94871794872 -0.384615384615 -0.39358974359',
     '        vertex 2.95021367521 -0.384615384615 -0.384615384615',
     '        vertex 2.94871794872 -0.39358974359 -0.384615384615',
     '    endloop']
**********************************************************************
1 item had failures:
   1 of  10 in sage.plot.plot3d.base.Graphics3d.stl_ascii_string
    [337 tests, 1 failure, 46.41 s]
----------------------------------------------------------------------
sage -t --long src/sage/plot/plot3d/base.pyx  # 1 doctest failed
```



---

archive/issue_comments_484080.json:
```json
{
    "body": "<a id='comment:18'></a>\nAny suggestions for fixing that?  Would an `# abstol` flag be sufficient?  I have no way of testing this.",
    "created_at": "2018-06-25T08:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484080",
    "user": "https://github.com/embray"
}
```

<a id='comment:18'></a>
Any suggestions for fixing that?  Would an `# abstol` flag be sufficient?  I have no way of testing this.



---

archive/issue_comments_484081.json:
```json
{
    "body": "Changing commit from \"[5420f79c71219af5b12d0a8b5a202d20cd88cc9e](https://github.com/sagemath/sagetrac-mirror/commit/5420f79c71219af5b12d0a8b5a202d20cd88cc9e)\" to \"[89f501b738f189103eb0ca8aa53f5e16e267692f](https://github.com/sagemath/sagetrac-mirror/commit/89f501b738f189103eb0ca8aa53f5e16e267692f)\"",
    "created_at": "2018-06-25T09:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[5420f79c71219af5b12d0a8b5a202d20cd88cc9e](https://github.com/sagemath/sagetrac-mirror/commit/5420f79c71219af5b12d0a8b5a202d20cd88cc9e)" to "[89f501b738f189103eb0ca8aa53f5e16e267692f](https://github.com/sagemath/sagetrac-mirror/commit/89f501b738f189103eb0ca8aa53f5e16e267692f)"



---

archive/issue_comments_484082.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|\n|[89f501b](https://github.com/sagemath/sagetrac-mirror/commit/89f501b738f189103eb0ca8aa53f5e16e267692f)|`add some tolerance on this test since it fails on 32-bit apparently`|",
    "created_at": "2018-06-25T09:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
|[89f501b](https://github.com/sagemath/sagetrac-mirror/commit/89f501b738f189103eb0ca8aa53f5e16e267692f)|`add some tolerance on this test since it fails on 32-bit apparently`|



---

archive/issue_comments_484083.json:
```json
{
    "body": "<a id='comment:20'></a>\nHow's this?",
    "created_at": "2018-06-25T09:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484083",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>
How's this?



---

archive/issue_comments_484084.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-06-25T09:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484084",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_484085.json:
```json
{
    "body": "<a id='comment:21'></a>\narando patchbot is 32 bits, and has given a green light\n\nso let us try again",
    "created_at": "2018-06-26T05:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484085",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
arando patchbot is 32 bits, and has given a green light

so let us try again



---

archive/issue_comments_484086.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-26T05:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484086",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_484087.json:
```json
{
    "body": "<a id='comment:22'></a>\nI launched a 32bit VM on this.",
    "created_at": "2018-06-26T14:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484087",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:22'></a>
I launched a 32bit VM on this.



---

archive/issue_comments_484088.json:
```json
{
    "body": "<a id='comment:23'></a>\nApparently it is happy too.",
    "created_at": "2018-06-26T21:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484088",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:23'></a>
Apparently it is happy too.



---

archive/issue_comments_484089.json:
```json
{
    "body": "<a id='comment:24'></a>\nThanks!",
    "created_at": "2018-06-27T14:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484089",
    "user": "https://github.com/embray"
}
```

<a id='comment:24'></a>
Thanks!



---

archive/issue_comments_484090.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-06-29T22:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484090",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_484091.json:
```json
{
    "body": "Changing branch from \"[u/embray/ticket-25247](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-25247)\" to \"[89f501b738f189103eb0ca8aa53f5e16e267692f](https://github.com/sagemath/sagetrac-mirror/commit/89f501b738f189103eb0ca8aa53f5e16e267692f)\"",
    "created_at": "2018-06-29T22:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25247#issuecomment-484091",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/embray/ticket-25247](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-25247)" to "[89f501b738f189103eb0ca8aa53f5e16e267692f](https://github.com/sagemath/sagetrac-mirror/commit/89f501b738f189103eb0ca8aa53f5e16e267692f)"



---

archive/issue_events_071997.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-29T22:34:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25247",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25247#event-71997"
}
```
