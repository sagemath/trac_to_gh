# Issue 25666: Interface GSL Monte Carlo with sage

archive/issues_025429.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nCurrently Sage can do one dimensional integration with the gsl function `numerical_integral`.\n\nThe goal of this ticket is to allow sage to do multidimensional integration with gsl's monte carlo function.\nGsl documentation https://www.gnu.org/software/gsl/doc/html/montecarlo.html\n\nCC:  @videlec\n\nComponent: **calculus**\n\nKeywords: **days101**\n\nAuthor: **Vincent Klein, Vincent Delecroix**\n\nBranch/Commit: **[`ec05f8a`](https://github.com/sagemath/sagetrac-mirror/commit/ec05f8a4fd5fc7925c09c03887c91a1f76519a96)**\n\nReviewer: **Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25666_\n\n",
    "closed_at": "2019-06-28T04:30:34Z",
    "created_at": "2018-06-26T14:18:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Interface GSL Monte Carlo with sage",
    "type": "issue",
    "updated_at": "2019-06-28T04:30:34Z",
    "url": "https://github.com/sagemath/sage/issues/25666",
    "user": "https://github.com/vinklein"
}
```
<div id="comment:0"></div>

Currently Sage can do one dimensional integration with the gsl function `numerical_integral`.

The goal of this ticket is to allow sage to do multidimensional integration with gsl's monte carlo function.
Gsl documentation https://www.gnu.org/software/gsl/doc/html/montecarlo.html

CC:  @videlec

Component: **calculus**

Keywords: **days101**

Author: **Vincent Klein, Vincent Delecroix**

Branch/Commit: **[`ec05f8a`](https://github.com/sagemath/sagetrac-mirror/commit/ec05f8a4fd5fc7925c09c03887c91a1f76519a96)**

Reviewer: **Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/25666_





---

archive/issue_events_351877.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-06-26T14:18:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351877"
}
```



---

archive/issue_events_351878.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-06-26T14:18:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351878"
}
```



---

archive/issue_events_351879.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-06-26T14:18:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351879"
}
```



---

archive/issue_comments_393999.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Currently Sage can on dimensional integration with the gsl function `numerical_integral`.\n+Currently Sage can do one dimensional integration with the gsl function `numerical_integral`.\n \n The goal of this ticket is to allow sage to do multidimensional integration with gsl's monte carlo function.\n Gsl documentation https://www.gnu.org/software/gsl/doc/html/montecarlo.html\n``````\n",
    "created_at": "2018-06-26T14:19:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-393999",
    "user": "https://github.com/vinklein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Currently Sage can on dimensional integration with the gsl function `numerical_integral`.
+Currently Sage can do one dimensional integration with the gsl function `numerical_integral`.
 
 The goal of this ticket is to allow sage to do multidimensional integration with gsl's monte carlo function.
 Gsl documentation https://www.gnu.org/software/gsl/doc/html/montecarlo.html
``````




---

archive/issue_events_351880.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-06-26T15:01:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "c: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351880"
}
```



---

archive/issue_comments_394000.json:
```json
{
    "body": "Branch: **[u/vklein/monte_carlo](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/monte_carlo)**",
    "created_at": "2019-06-19T13:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394000",
    "user": "https://github.com/vinklein"
}
```

Branch: **[u/vklein/monte_carlo](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/monte_carlo)**



---

archive/issue_comments_394001.json:
```json
{
    "body": "Commit: **[`f167f32`](https://github.com/sagemath/sagetrac-mirror/commit/f167f32366073c44d9034599afa5e18a897cccf1)**",
    "created_at": "2019-06-19T13:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394001",
    "user": "https://github.com/vinklein"
}
```

Commit: **[`f167f32`](https://github.com/sagemath/sagetrac-mirror/commit/f167f32366073c44d9034599afa5e18a897cccf1)**



---

archive/issue_comments_394002.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe branch is a development version.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/149cdcfda80ab881ccc4b48e632db29185419aff\"><code>149cdcf</code></a></td><td><code>Trac #25666: Start interface to gsl monte ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f167f32366073c44d9034599afa5e18a897cccf1\"><code>f167f32</code></a></td><td><code>make integration works</code></td></tr></table>\n",
    "created_at": "2019-06-19T13:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394002",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:4" align="right">comment:4</div>

The branch is a development version.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/149cdcfda80ab881ccc4b48e632db29185419aff"><code>149cdcf</code></a></td><td><code>Trac #25666: Start interface to gsl monte ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f167f32366073c44d9034599afa5e18a897cccf1"><code>f167f32</code></a></td><td><code>make integration works</code></td></tr></table>




---

archive/issue_comments_394003.json:
```json
{
    "body": "Changed commit from **[`f167f32`](https://github.com/sagemath/sagetrac-mirror/commit/f167f32366073c44d9034599afa5e18a897cccf1)** to **[`b48117e`](https://github.com/sagemath/sagetrac-mirror/commit/b48117e18ef0a7ac60f0639267620e3662c404ee)**",
    "created_at": "2019-06-19T13:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394003",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f167f32`](https://github.com/sagemath/sagetrac-mirror/commit/f167f32366073c44d9034599afa5e18a897cccf1)** to **[`b48117e`](https://github.com/sagemath/sagetrac-mirror/commit/b48117e18ef0a7ac60f0639267620e3662c404ee)**



---

archive/issue_comments_394004.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b48117e18ef0a7ac60f0639267620e3662c404ee\"><code>b48117e</code></a></td><td><code>more tests</code></td></tr></table>\n",
    "created_at": "2019-06-19T13:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394004",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b48117e18ef0a7ac60f0639267620e3662c404ee"><code>b48117e</code></a></td><td><code>more tests</code></td></tr></table>




---

archive/issue_comments_394005.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n- the Monte Carlo version should apear in the code **after** the one-dimensional deterministic version\n- right now the code is far too slow. The integration goes through the function `double c_monte_ff(double *x, size_t dim, void *params)` which creates a Python list in order to evaluate the integrand\n- the code only works with function that can be transformed into fast callble. It should also work for Python function such as `lambda u,v: u*v`\n- I did `Ctrl-C` and obtained a segfault",
    "created_at": "2019-06-19T13:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394005",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

- the Monte Carlo version should apear in the code **after** the one-dimensional deterministic version
- right now the code is far too slow. The integration goes through the function `double c_monte_ff(double *x, size_t dim, void *params)` which creates a Python list in order to evaluate the integrand
- the code only works with function that can be transformed into fast callble. It should also work for Python function such as `lambda u,v: u*v`
- I did `Ctrl-C` and obtained a segfault



---

archive/issue_comments_394006.json:
```json
{
    "body": "Changed keywords from none to **days101**",
    "created_at": "2019-06-19T21:58:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394006",
    "user": "https://github.com/videlec"
}
```

Changed keywords from none to **days101**



---

archive/issue_comments_394007.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI removed the list constructions.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eaa2b456c86d9c629a9068e0b17477e0c430aa4b\"><code>eaa2b45</code></a></td><td><code>avoid constructing lists</code></td></tr></table>\n",
    "created_at": "2019-06-20T09:03:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394007",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

I removed the list constructions.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eaa2b456c86d9c629a9068e0b17477e0c430aa4b"><code>eaa2b45</code></a></td><td><code>avoid constructing lists</code></td></tr></table>




---

archive/issue_comments_394008.json:
```json
{
    "body": "Changed commit from **[`b48117e`](https://github.com/sagemath/sagetrac-mirror/commit/b48117e18ef0a7ac60f0639267620e3662c404ee)** to **[`eaa2b45`](https://github.com/sagemath/sagetrac-mirror/commit/eaa2b456c86d9c629a9068e0b17477e0c430aa4b)**",
    "created_at": "2019-06-20T09:03:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394008",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[`b48117e`](https://github.com/sagemath/sagetrac-mirror/commit/b48117e18ef0a7ac60f0639267620e3662c404ee)** to **[`eaa2b45`](https://github.com/sagemath/sagetrac-mirror/commit/eaa2b456c86d9c629a9068e0b17477e0c430aa4b)**



---

archive/issue_comments_394009.json:
```json
{
    "body": "Changed branch from **[u/vklein/monte_carlo](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/monte_carlo)** to **[public/monte](https://github.com/sagemath/sagetrac-mirror/tree/public/monte)**",
    "created_at": "2019-06-20T09:03:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394009",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/vklein/monte_carlo](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/monte_carlo)** to **[public/monte](https://github.com/sagemath/sagetrac-mirror/tree/public/monte)**



---

archive/issue_comments_394010.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/457fca7adfc47113fd99d32ede01d638078ff608\"><code>457fca7</code></a></td><td><code>Trac #25666: Manage non-fastcallable function</code></td></tr></table>\n",
    "created_at": "2019-06-20T15:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394010",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/457fca7adfc47113fd99d32ede01d638078ff608"><code>457fca7</code></a></td><td><code>Trac #25666: Manage non-fastcallable function</code></td></tr></table>




---

archive/issue_comments_394011.json:
```json
{
    "body": "Changed commit from **[`eaa2b45`](https://github.com/sagemath/sagetrac-mirror/commit/eaa2b456c86d9c629a9068e0b17477e0c430aa4b)** to **[`457fca7`](https://github.com/sagemath/sagetrac-mirror/commit/457fca7adfc47113fd99d32ede01d638078ff608)**",
    "created_at": "2019-06-20T15:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394011",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eaa2b45`](https://github.com/sagemath/sagetrac-mirror/commit/eaa2b456c86d9c629a9068e0b17477e0c430aa4b)** to **[`457fca7`](https://github.com/sagemath/sagetrac-mirror/commit/457fca7adfc47113fd99d32ede01d638078ff608)**



---

archive/issue_comments_394012.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/018d71fb975bc33042a73e0c9774e22ff55c3da6\"><code>018d71f</code></a></td><td><code>Trac #25666: Add tests and move monte_carlo_...</code></td></tr></table>\n",
    "created_at": "2019-06-20T16:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394012",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/018d71fb975bc33042a73e0c9774e22ff55c3da6"><code>018d71f</code></a></td><td><code>Trac #25666: Add tests and move monte_carlo_...</code></td></tr></table>




---

archive/issue_comments_394013.json:
```json
{
    "body": "Changed commit from **[`457fca7`](https://github.com/sagemath/sagetrac-mirror/commit/457fca7adfc47113fd99d32ede01d638078ff608)** to **[`018d71f`](https://github.com/sagemath/sagetrac-mirror/commit/018d71fb975bc33042a73e0c9774e22ff55c3da6)**",
    "created_at": "2019-06-20T16:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394013",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`457fca7`](https://github.com/sagemath/sagetrac-mirror/commit/457fca7adfc47113fd99d32ede01d638078ff608)** to **[`018d71f`](https://github.com/sagemath/sagetrac-mirror/commit/018d71fb975bc33042a73e0c9774e22ff55c3da6)**



---

archive/issue_comments_394014.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33fc47a0e2c03ddf8d7eb3a6d87acefc26afe966\"><code>33fc47a</code></a></td><td><code>Trac #25666: Add tests and move monte_carlo_...</code></td></tr></table>\n",
    "created_at": "2019-06-20T16:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394014",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33fc47a0e2c03ddf8d7eb3a6d87acefc26afe966"><code>33fc47a</code></a></td><td><code>Trac #25666: Add tests and move monte_carlo_...</code></td></tr></table>




---

archive/issue_comments_394015.json:
```json
{
    "body": "Changed commit from **[`018d71f`](https://github.com/sagemath/sagetrac-mirror/commit/018d71fb975bc33042a73e0c9774e22ff55c3da6)** to **[`33fc47a`](https://github.com/sagemath/sagetrac-mirror/commit/33fc47a0e2c03ddf8d7eb3a6d87acefc26afe966)**",
    "created_at": "2019-06-20T16:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394015",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`018d71f`](https://github.com/sagemath/sagetrac-mirror/commit/018d71fb975bc33042a73e0c9774e22ff55c3da6)** to **[`33fc47a`](https://github.com/sagemath/sagetrac-mirror/commit/33fc47a0e2c03ddf8d7eb3a6d87acefc26afe966)**



---

archive/issue_comments_394016.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n- Monte Carlo has been moved after the one-dimensional version\n- Pythons function are now supported.\n- Some tests have been added\n- I don't have managed to reproduce the segfault.",
    "created_at": "2019-06-20T16:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394016",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:12" align="right">comment:12</div>

- Monte Carlo has been moved after the one-dimensional version
- Pythons function are now supported.
- Some tests have been added
- I don't have managed to reproduce the segfault.



---

archive/issue_events_351881.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-06-20T17:27:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351881"
}
```



---

archive/issue_events_351882.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-06-20T17:27:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351882"
}
```



---

archive/issue_comments_394017.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n- instead of `elif not isinstance(func, Wrapper)` you should check for `Wrapper_rdf`. For example the following segfaults\n\n```\nsage: from sage.calculus.integration import monte_carlo_integration\nsage: f(u,v) = u*v\nsage: f = fast_callable(f, domain=CDF)\nsage: monte_carlo_integration(f, [0,0], [2,2], 10^7) # abs tol 0.1\n```\n- the first line of the documentation must be a single short line. For example `Integrate func` is enough. The details are provided by the rest of the documentation.\n- there is no newline at end of file (and git somehow complains)\n- can you replace `PyMem_Malloc`/`PyMem_Free` by the more modern `MemoryAllocator` from `ext/memory_allocator.pyx` (for `_xl` and `_xu`)\n- to make it faster with Python functions, you can try to change directly the values of the floating points in wrapper.lx via the [https://docs.python.org/2/c-api/float.html C API](https://docs.python.org/2/c-api/float.html C API)\n- you should change `print('TODO: Implement the case where the algo param is wrong')` with a proper error :-0",
    "created_at": "2019-06-20T20:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394017",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

- instead of `elif not isinstance(func, Wrapper)` you should check for `Wrapper_rdf`. For example the following segfaults

```
sage: from sage.calculus.integration import monte_carlo_integration
sage: f(u,v) = u*v
sage: f = fast_callable(f, domain=CDF)
sage: monte_carlo_integration(f, [0,0], [2,2], 10^7) # abs tol 0.1
```
- the first line of the documentation must be a single short line. For example `Integrate func` is enough. The details are provided by the rest of the documentation.
- there is no newline at end of file (and git somehow complains)
- can you replace `PyMem_Malloc`/`PyMem_Free` by the more modern `MemoryAllocator` from `ext/memory_allocator.pyx` (for `_xl` and `_xu`)
- to make it faster with Python functions, you can try to change directly the values of the floating points in wrapper.lx via the [https://docs.python.org/2/c-api/float.html C API](https://docs.python.org/2/c-api/float.html C API)
- you should change `print('TODO: Implement the case where the algo param is wrong')` with a proper error :-0



---

archive/issue_comments_394018.json:
```json
{
    "body": "Changed commit from **[`33fc47a`](https://github.com/sagemath/sagetrac-mirror/commit/33fc47a0e2c03ddf8d7eb3a6d87acefc26afe966)** to **[`f292117`](https://github.com/sagemath/sagetrac-mirror/commit/f292117690df7d9c0df0cc7f9f9c18ae83f25ec3)**",
    "created_at": "2019-06-24T15:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394018",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`33fc47a`](https://github.com/sagemath/sagetrac-mirror/commit/33fc47a0e2c03ddf8d7eb3a6d87acefc26afe966)** to **[`f292117`](https://github.com/sagemath/sagetrac-mirror/commit/f292117690df7d9c0df0cc7f9f9c18ae83f25ec3)**



---

archive/issue_comments_394019.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e71102e5acd55681b8ffe2c18edf7a9281a0bbd\"><code>6e71102</code></a></td><td><code>Trac #25666: Start interface to gsl monte ...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39e4ea2b46a0b37da79479f4080585f5a23c1919\"><code>39e4ea2</code></a></td><td><code>make integration works</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99e76a3beda5cbaf9b7b47fe17dba7bef86aac6a\"><code>99e76a3</code></a></td><td><code>more tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e3eafc7cef430160cc766299345233774f91a91\"><code>4e3eafc</code></a></td><td><code>avoid constructing lists</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d1c9912e1accf376c264547a15aa59dfa64f11b\"><code>7d1c991</code></a></td><td><code>Trac #25666: Manage non-fastcallable function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0398f4028ad0f7c19257d7cbac3ffb955aff19a\"><code>e0398f4</code></a></td><td><code>Trac #25666: Add tests and move monte_carlo_...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f292117690df7d9c0df0cc7f9f9c18ae83f25ec3\"><code>f292117</code></a></td><td><code>Trac #25666: Use sage's MemoryAllocator ...</code></td></tr></table>\n",
    "created_at": "2019-06-24T15:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394019",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e71102e5acd55681b8ffe2c18edf7a9281a0bbd"><code>6e71102</code></a></td><td><code>Trac #25666: Start interface to gsl monte ...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39e4ea2b46a0b37da79479f4080585f5a23c1919"><code>39e4ea2</code></a></td><td><code>make integration works</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99e76a3beda5cbaf9b7b47fe17dba7bef86aac6a"><code>99e76a3</code></a></td><td><code>more tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e3eafc7cef430160cc766299345233774f91a91"><code>4e3eafc</code></a></td><td><code>avoid constructing lists</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d1c9912e1accf376c264547a15aa59dfa64f11b"><code>7d1c991</code></a></td><td><code>Trac #25666: Manage non-fastcallable function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0398f4028ad0f7c19257d7cbac3ffb955aff19a"><code>e0398f4</code></a></td><td><code>Trac #25666: Add tests and move monte_carlo_...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f292117690df7d9c0df0cc7f9f9c18ae83f25ec3"><code>f292117</code></a></td><td><code>Trac #25666: Use sage's MemoryAllocator ...</code></td></tr></table>




---

archive/issue_comments_394020.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI think it would be simpler to add a `list lx` attribute to `PyFunctionWrapper` rather than creating the ad hoc `PyMonteWrapper`. When unused this attribute will be set to `NULL` and should not affect performance (though you should check it).\n\nAlso I would not use `monte` alone but rather `monte_carlo`. The abbreviation sounds weird.",
    "created_at": "2019-06-24T15:27:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394020",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

I think it would be simpler to add a `list lx` attribute to `PyFunctionWrapper` rather than creating the ad hoc `PyMonteWrapper`. When unused this attribute will be set to `NULL` and should not affect performance (though you should check it).

Also I would not use `monte` alone but rather `monte_carlo`. The abbreviation sounds weird.



---

archive/issue_comments_394021.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOk i will do that.",
    "created_at": "2019-06-25T07:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394021",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:17" align="right">comment:17</div>

Ok i will do that.



---

archive/issue_comments_394022.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b2a6f5fa6a8c8186ad96132ecc037f0ade996d4\"><code>2b2a6f5</code></a></td><td><code>Trac #25666: Delete PyMonteWrapper struct ...</code></td></tr></table>\n",
    "created_at": "2019-06-25T08:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394022",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b2a6f5fa6a8c8186ad96132ecc037f0ade996d4"><code>2b2a6f5</code></a></td><td><code>Trac #25666: Delete PyMonteWrapper struct ...</code></td></tr></table>




---

archive/issue_comments_394023.json:
```json
{
    "body": "Changed commit from **[`f292117`](https://github.com/sagemath/sagetrac-mirror/commit/f292117690df7d9c0df0cc7f9f9c18ae83f25ec3)** to **[`2b2a6f5`](https://github.com/sagemath/sagetrac-mirror/commit/2b2a6f5fa6a8c8186ad96132ecc037f0ade996d4)**",
    "created_at": "2019-06-25T08:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394023",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f292117`](https://github.com/sagemath/sagetrac-mirror/commit/f292117690df7d9c0df0cc7f9f9c18ae83f25ec3)** to **[`2b2a6f5`](https://github.com/sagemath/sagetrac-mirror/commit/2b2a6f5fa6a8c8186ad96132ecc037f0ade996d4)**



---

archive/issue_comments_394024.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nDone.\nPerformance check has been done with :\n\n```\nsage: f(x,a) = 1/(a+x^2)\nsage: %time l=[numerical_integral(f, 1, 2, max_points=100000, params=[n]) for n in range(10000)]\nCPU times: user 2.93 s, sys: 176 ms, total: 3.11 s\nWall time: 3.1 s\n```\n\nAnd as you predicted the modification seems to be harmless.\n\nTell me if you have an example to maximize the number of sample points required.\n\nI give positive review to commits `39e4ea2`, \u200b`99e76a3` and `4e3eafc`.",
    "created_at": "2019-06-25T08:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394024",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:19" align="right">comment:19</div>

Done.
Performance check has been done with :

```
sage: f(x,a) = 1/(a+x^2)
sage: %time l=[numerical_integral(f, 1, 2, max_points=100000, params=[n]) for n in range(10000)]
CPU times: user 2.93 s, sys: 176 ms, total: 3.11 s
Wall time: 3.1 s
```

And as you predicted the modification seems to be harmless.

Tell me if you have an example to maximize the number of sample points required.

I give positive review to commits `39e4ea2`, â€‹`99e76a3` and `4e3eafc`.



---

archive/issue_events_351883.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-06-25T08:10:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351883"
}
```



---

archive/issue_comments_394025.json:
```json
{
    "body": "Author: **Vincent Klein, Vincent Delecroix**",
    "created_at": "2019-06-25T08:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394025",
    "user": "https://github.com/vinklein"
}
```

Author: **Vincent Klein, Vincent Delecroix**



---

archive/issue_comments_394026.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nTerminology is still bad. We would have `numerical_integral` and `monte_carlo_integration`. Why not `monte_carlo_integral`?",
    "created_at": "2019-06-25T08:48:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394026",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

Terminology is still bad. We would have `numerical_integral` and `monte_carlo_integration`. Why not `monte_carlo_integral`?



---

archive/issue_comments_394027.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nPlease add a space around comparison signs such as in `len(wrapper.the_parameters)!=0`.",
    "created_at": "2019-06-25T08:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394027",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">comment:21</div>

Please add a space around comparison signs such as in `len(wrapper.the_parameters)!=0`.



---

archive/issue_comments_394028.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n(and assignment as well)",
    "created_at": "2019-06-25T08:49:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394028",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

(and assignment as well)



---

archive/issue_comments_394029.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nConcerning documentation string, please read carefully the [developer manual](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings) and the [Python conventions in PEP 8](https://www.python.org/dev/peps/pep-0008/). In particular:\n- long lines (> 79 characters) should be split\n- there should be a linebreak between the first line and the rest of the doc\n- etc\n\nAlso `python` -> `Python`.",
    "created_at": "2019-06-25T08:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394029",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

Concerning documentation string, please read carefully the [developer manual](http://doc.sagemath.org/html/en/developer/coding_basics.html#documentation-strings) and the [Python conventions in PEP 8](https://www.python.org/dev/peps/pep-0008/). In particular:
- long lines (> 79 characters) should be split
- there should be a linebreak between the first line and the rest of the doc
- etc

Also `python` -> `Python`.



---

archive/issue_comments_394030.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nIt should be said the it uses gsl under the hood and make a reference to the documentation. The main authors of this are the GSL developers.",
    "created_at": "2019-06-25T08:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394030",
    "user": "https://github.com/videlec"
}
```

<div id="comment:24" align="right">comment:24</div>

It should be said the it uses gsl under the hood and make a reference to the documentation. The main authors of this are the GSL developers.



---

archive/issue_comments_394031.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThis corner case is not correct\n\n```\n    if not dim:\n        return float(0)\n```\n(perhaps my fault). I would advised to simply raise an error.",
    "created_at": "2019-06-25T08:58:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394031",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

This corner case is not correct

```
    if not dim:
        return float(0)
```
(perhaps my fault). I would advised to simply raise an error.



---

archive/issue_comments_394032.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nTo allocate arrays, use `calloc` not `malloc`. It is safe for overflows.",
    "created_at": "2019-06-25T08:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394032",
    "user": "https://github.com/videlec"
}
```

<div id="comment:26" align="right">comment:26</div>

To allocate arrays, use `calloc` not `malloc`. It is safe for overflows.



---

archive/issue_comments_394033.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIs it really occurring\n\n```\n        if not func is None:\n            wrapper.the_function = func\n        else:\n            raise ValueError(\"No integrand defined\")\n```\nI think this gets catch earlier by `if not callable(func)`. Anyway, any error should be tested in the doctest.",
    "created_at": "2019-06-25T09:01:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394033",
    "user": "https://github.com/videlec"
}
```

<div id="comment:27" align="right">comment:27</div>

Is it really occurring

```
        if not func is None:
            wrapper.the_function = func
        else:
            raise ValueError("No integrand defined")
```
I think this gets catch earlier by `if not callable(func)`. Anyway, any error should be tested in the doctest.



---

archive/issue_comments_394034.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@videlec](#comment%3A25):\n> This corner case is not correct\n> \n> ```\n>     if not dim:\n>         return float(0)\n> ```\n> (perhaps my fault). I would advised to simply raise an error.\n\nWhich one ? `ValueError: 0 dimension specified` ?",
    "created_at": "2019-06-25T09:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394034",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@videlec](#comment%3A25):
> This corner case is not correct
> 
> ```
>     if not dim:
>         return float(0)
> ```
> (perhaps my fault). I would advised to simply raise an error.

Which one ? `ValueError: 0 dimension specified` ?



---

archive/issue_comments_394035.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@vinklein](#comment%3A28):\n> Replying to [@videlec](#comment%3A25):\n> > This corner case is not correct\n> > \n> > ```\n> >     if not dim:\n> >         return float(0)\n> > ```\n> > (perhaps my fault). I would advised to simply raise an error.\n> \n> \n> Which one ? `ValueError: 0 dimension specified` ?\n\nThe user never specifies dimensions but simply integration bounds for the generalized cube. I would rather use the message `NotImplementedError: 0 dimensional integration not available`.",
    "created_at": "2019-06-25T09:08:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394035",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@vinklein](#comment%3A28):
> Replying to [@videlec](#comment%3A25):
> > This corner case is not correct
> > 
> > ```
> >     if not dim:
> >         return float(0)
> > ```
> > (perhaps my fault). I would advised to simply raise an error.
> 
> 
> Which one ? `ValueError: 0 dimension specified` ?

The user never specifies dimensions but simply integration bounds for the generalized cube. I would rather use the message `NotImplementedError: 0 dimensional integration not available`.



---

archive/issue_events_351884.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-25T09:08:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351884"
}
```



---

archive/issue_events_351885.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-25T09:08:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351885"
}
```



---

archive/issue_comments_394036.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2019-06-25T09:08:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394036",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_394037.json:
```json
{
    "body": "Changed commit from **[`2b2a6f5`](https://github.com/sagemath/sagetrac-mirror/commit/2b2a6f5fa6a8c8186ad96132ecc037f0ade996d4)** to **[`b2c96af`](https://github.com/sagemath/sagetrac-mirror/commit/b2c96af3543cd1be677247e198d8485480a8ab5b)**",
    "created_at": "2019-06-25T09:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394037",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2b2a6f5`](https://github.com/sagemath/sagetrac-mirror/commit/2b2a6f5fa6a8c8186ad96132ecc037f0ade996d4)** to **[`b2c96af`](https://github.com/sagemath/sagetrac-mirror/commit/b2c96af3543cd1be677247e198d8485480a8ab5b)**



---

archive/issue_comments_394038.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2c96af3543cd1be677247e198d8485480a8ab5b\"><code>b2c96af</code></a></td><td><code>Trac #25666: PEP8 modifications.</code></td></tr></table>\n",
    "created_at": "2019-06-25T09:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394038",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2c96af3543cd1be677247e198d8485480a8ab5b"><code>b2c96af</code></a></td><td><code>Trac #25666: PEP8 modifications.</code></td></tr></table>




---

archive/issue_comments_394039.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9a9e09d4832a85d0ad2d1b92411aa15bd1e7c27\"><code>c9a9e09</code></a></td><td><code>Trac #25666: Rename into monte_carlo_integral ...</code></td></tr></table>\n",
    "created_at": "2019-06-25T12:12:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394039",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9a9e09d4832a85d0ad2d1b92411aa15bd1e7c27"><code>c9a9e09</code></a></td><td><code>Trac #25666: Rename into monte_carlo_integral ...</code></td></tr></table>




---

archive/issue_comments_394040.json:
```json
{
    "body": "Changed commit from **[`b2c96af`](https://github.com/sagemath/sagetrac-mirror/commit/b2c96af3543cd1be677247e198d8485480a8ab5b)** to **[`c9a9e09`](https://github.com/sagemath/sagetrac-mirror/commit/c9a9e09d4832a85d0ad2d1b92411aa15bd1e7c27)**",
    "created_at": "2019-06-25T12:12:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394040",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b2c96af`](https://github.com/sagemath/sagetrac-mirror/commit/b2c96af3543cd1be677247e198d8485480a8ab5b)** to **[`c9a9e09`](https://github.com/sagemath/sagetrac-mirror/commit/c9a9e09d4832a85d0ad2d1b92411aa15bd1e7c27)**



---

archive/issue_comments_394041.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nError management is not consistent between fastcallable and Python function :\n\n\n```\nsage: x, y = SR.var('x,y')\nsage: monte_carlo_integral(x*y, [0,0,0], [2,2,2], 1)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: The function to be integrated depends on 2 variables (x, y), and so cannot be integrated in one dimension. Please fix additional variables with the 'params' argument\nsage: monte_carlo_integral(lambda x,y: y*x, [0,0,0], [2,2,2], 1)\nobject of type 'NoneType' has no len()\n(0.0, inf)\n```",
    "created_at": "2019-06-25T12:17:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394041",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:33" align="right">comment:33</div>

Error management is not consistent between fastcallable and Python function :


```
sage: x, y = SR.var('x,y')
sage: monte_carlo_integral(x*y, [0,0,0], [2,2,2], 1)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: The function to be integrated depends on 2 variables (x, y), and so cannot be integrated in one dimension. Please fix additional variables with the 'params' argument
sage: monte_carlo_integral(lambda x,y: y*x, [0,0,0], [2,2,2], 1)
object of type 'NoneType' has no len()
(0.0, inf)
```



---

archive/issue_comments_394042.json:
```json
{
    "body": "Changed commit from **[`c9a9e09`](https://github.com/sagemath/sagetrac-mirror/commit/c9a9e09d4832a85d0ad2d1b92411aa15bd1e7c27)** to **[`a39e549`](https://github.com/sagemath/sagetrac-mirror/commit/a39e54937225541dbb64363eab1dec4834a60de3)**",
    "created_at": "2019-06-25T13:37:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394042",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c9a9e09`](https://github.com/sagemath/sagetrac-mirror/commit/c9a9e09d4832a85d0ad2d1b92411aa15bd1e7c27)** to **[`a39e549`](https://github.com/sagemath/sagetrac-mirror/commit/a39e54937225541dbb64363eab1dec4834a60de3)**



---

archive/issue_comments_394043.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a39e54937225541dbb64363eab1dec4834a60de3\"><code>a39e549</code></a></td><td><code>Trac #25666: Manage inconsistent case with p...</code></td></tr></table>\n",
    "created_at": "2019-06-25T13:37:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394043",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a39e54937225541dbb64363eab1dec4834a60de3"><code>a39e549</code></a></td><td><code>Trac #25666: Manage inconsistent case with p...</code></td></tr></table>




---

archive/issue_events_351886.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-06-25T13:40:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351886"
}
```



---

archive/issue_events_351887.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-06-25T13:40:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351887"
}
```



---

archive/issue_comments_394044.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n[comment:24]?",
    "created_at": "2019-06-25T15:49:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394044",
    "user": "https://github.com/videlec"
}
```

<div id="comment:36" align="right">comment:36</div>

[comment:24]?



---

archive/issue_events_351888.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-25T15:49:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351888"
}
```



---

archive/issue_events_351889.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-25T15:49:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351889"
}
```



---

archive/issue_comments_394045.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b1ea21d202c219d2d411dbb8ae67d411aecc788\"><code>4b1ea21</code></a></td><td><code>Trac #25666: Add reference and link to GSL doc.</code></td></tr></table>\n",
    "created_at": "2019-06-25T16:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394045",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b1ea21d202c219d2d411dbb8ae67d411aecc788"><code>4b1ea21</code></a></td><td><code>Trac #25666: Add reference and link to GSL doc.</code></td></tr></table>




---

archive/issue_comments_394046.json:
```json
{
    "body": "Changed commit from **[`a39e549`](https://github.com/sagemath/sagetrac-mirror/commit/a39e54937225541dbb64363eab1dec4834a60de3)** to **[`4b1ea21`](https://github.com/sagemath/sagetrac-mirror/commit/4b1ea21d202c219d2d411dbb8ae67d411aecc788)**",
    "created_at": "2019-06-25T16:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394046",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a39e549`](https://github.com/sagemath/sagetrac-mirror/commit/a39e54937225541dbb64363eab1dec4834a60de3)** to **[`4b1ea21`](https://github.com/sagemath/sagetrac-mirror/commit/4b1ea21d202c219d2d411dbb8ae67d411aecc788)**



---

archive/issue_comments_394047.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI am not sure if the ref `[GSL1]` is ok or if there is a naming convention i need to know for references.",
    "created_at": "2019-06-25T16:22:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394047",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:38" align="right">comment:38</div>

I am not sure if the ref `[GSL1]` is ok or if there is a naming convention i need to know for references.



---

archive/issue_comments_394048.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nThe link you used for `[GSL1]` is exactly the same as for `[GSL]`. Is that intended?\n\nFor naming convention, I would rather make a single entry\n\n```\n.. [GSL]\n   https://www.gnu.org/software/gsl/doc/html/\n```\nand when cited, make something more specific\n\n```\nDocumentation can be found in [GSL]_ chapter \"Look at there\".\n```",
    "created_at": "2019-06-25T18:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394048",
    "user": "https://github.com/videlec"
}
```

<div id="comment:39" align="right">comment:39</div>

The link you used for `[GSL1]` is exactly the same as for `[GSL]`. Is that intended?

For naming convention, I would rather make a single entry

```
.. [GSL]
   https://www.gnu.org/software/gsl/doc/html/
```
and when cited, make something more specific

```
Documentation can be found in [GSL]_ chapter "Look at there".
```



---

archive/issue_comments_394049.json:
```json
{
    "body": "Changed commit from **[`4b1ea21`](https://github.com/sagemath/sagetrac-mirror/commit/4b1ea21d202c219d2d411dbb8ae67d411aecc788)** to **[`e2dac8e`](https://github.com/sagemath/sagetrac-mirror/commit/e2dac8ef220297b4aaad52c9b3cd2f3fdf4be3f0)**",
    "created_at": "2019-06-26T07:07:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394049",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4b1ea21`](https://github.com/sagemath/sagetrac-mirror/commit/4b1ea21d202c219d2d411dbb8ae67d411aecc788)** to **[`e2dac8e`](https://github.com/sagemath/sagetrac-mirror/commit/e2dac8ef220297b4aaad52c9b3cd2f3fdf4be3f0)**



---

archive/issue_comments_394050.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2dac8ef220297b4aaad52c9b3cd2f3fdf4be3f0\"><code>e2dac8e</code></a></td><td><code>Trac #25666: Add reference and link to GSL doc.</code></td></tr></table>\n",
    "created_at": "2019-06-26T07:07:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394050",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2dac8ef220297b4aaad52c9b3cd2f3fdf4be3f0"><code>e2dac8e</code></a></td><td><code>Trac #25666: Add reference and link to GSL doc.</code></td></tr></table>




---

archive/issue_comments_394051.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@videlec](#comment%3A39):\n> The link you used for `[GSL1]` is exactly the same as for `[GSL]`. Is that intended?\n\nNot at all. It was a genuine mistake.\n\n> For naming convention, I would rather make a single entry\n> \n> ```\n> .. [GSL]\n>    https://www.gnu.org/software/gsl/doc/html/\n> ```\n> and when cited, make something more specific\n> \n> ```\n> Documentation can be found in [GSL]_ chapter \"Look at there\".\n> ```\n\nOk let's do that.",
    "created_at": "2019-06-26T07:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394051",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@videlec](#comment%3A39):
> The link you used for `[GSL1]` is exactly the same as for `[GSL]`. Is that intended?

Not at all. It was a genuine mistake.

> For naming convention, I would rather make a single entry
> 
> ```
> .. [GSL]
>    https://www.gnu.org/software/gsl/doc/html/
> ```
> and when cited, make something more specific
> 
> ```
> Documentation can be found in [GSL]_ chapter "Look at there".
> ```

Ok let's do that.



---

archive/issue_events_351890.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-06-26T07:08:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351890"
}
```



---

archive/issue_events_351891.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-06-26T07:08:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351891"
}
```



---

archive/issue_comments_394052.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nThe following should be allocated inside the `try`/`finally`\n\n```\n    type_rng = gsl_rng_default\n    _rng = gsl_rng_alloc(type_rng)\n```\nOtherwise, the function might return without deallocation.",
    "created_at": "2019-06-26T21:22:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394052",
    "user": "https://github.com/videlec"
}
```

<div id="comment:43" align="right">comment:43</div>

The following should be allocated inside the `try`/`finally`

```
    type_rng = gsl_rng_default
    _rng = gsl_rng_alloc(type_rng)
```
Otherwise, the function might return without deallocation.



---

archive/issue_comments_394053.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec05f8a4fd5fc7925c09c03887c91a1f76519a96\"><code>ec05f8a</code></a></td><td><code>Trac #25666: Move random number generator init...</code></td></tr></table>\n",
    "created_at": "2019-06-27T07:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394053",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec05f8a4fd5fc7925c09c03887c91a1f76519a96"><code>ec05f8a</code></a></td><td><code>Trac #25666: Move random number generator init...</code></td></tr></table>




---

archive/issue_comments_394054.json:
```json
{
    "body": "Changed commit from **[`e2dac8e`](https://github.com/sagemath/sagetrac-mirror/commit/e2dac8ef220297b4aaad52c9b3cd2f3fdf4be3f0)** to **[`ec05f8a`](https://github.com/sagemath/sagetrac-mirror/commit/ec05f8a4fd5fc7925c09c03887c91a1f76519a96)**",
    "created_at": "2019-06-27T07:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394054",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e2dac8e`](https://github.com/sagemath/sagetrac-mirror/commit/e2dac8ef220297b4aaad52c9b3cd2f3fdf4be3f0)** to **[`ec05f8a`](https://github.com/sagemath/sagetrac-mirror/commit/ec05f8a4fd5fc7925c09c03887c91a1f76519a96)**



---

archive/issue_comments_394055.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nDone.",
    "created_at": "2019-06-27T07:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394055",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:45" align="right">comment:45</div>

Done.



---

archive/issue_comments_394056.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nGood to go.",
    "created_at": "2019-06-27T09:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394056",
    "user": "https://github.com/videlec"
}
```

<div id="comment:46" align="right">comment:46</div>

Good to go.



---

archive/issue_events_351892.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-27T09:42:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351892"
}
```



---

archive/issue_events_351893.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-27T09:42:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351893"
}
```



---

archive/issue_comments_394057.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nThanks for the review.",
    "created_at": "2019-06-27T09:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394057",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:47" align="right">comment:47</div>

Thanks for the review.



---

archive/issue_events_351894.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-28T04:30:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351894"
}
```



---

archive/issue_events_351895.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3f1a024f66ccb5dc2a63f9dff4dc0bc196915302",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-06-28T04:30:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25666#event-351895"
}
```



---

archive/issue_comments_394058.json:
```json
{
    "body": "Changed branch from **[public/monte](https://github.com/sagemath/sagetrac-mirror/tree/public/monte)** to **[`ec05f8a`](https://github.com/sagemath/sagetrac-mirror/commit/ec05f8a4fd5fc7925c09c03887c91a1f76519a96)**",
    "created_at": "2019-06-28T04:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25666#issuecomment-394058",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/monte](https://github.com/sagemath/sagetrac-mirror/tree/public/monte)** to **[`ec05f8a`](https://github.com/sagemath/sagetrac-mirror/commit/ec05f8a4fd5fc7925c09c03887c91a1f76519a96)**
