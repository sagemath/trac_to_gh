# Issue 25305: Adding has_graphviz, has_ffmpeg, has_imagemagick to sage.doctest.external

archive/issues_025068.json:
```json
{
    "assignees": [],
    "body": "Implement this:\n\n```\nsage: from sage.doctest.external import has_graphviz, has_ffmpeg, has_imagemagick\nsage: has_graphviz()   # random\nTrue\nsage: has_ffmpeg()   # random\nTrue\nsage: has_imagemagick()   # random\nTrue\n```\n\nso that graphviz, ffmpeg, imagemagick are included in the external software to be detected:\n\n```\n$ sage -t --optional=external,sage src/sage/graphs/graph_latex.py src/sage/plot/animate.py\n...\nUsing --optional=external\nExternal software to be detected: cplex,ffmpeg,graphviz,gurobi,\nimagemagick,internet,latex,macaulay2,magma,maple,mathematica,\nmatlab,octave,scilab\n...\n```\n\nKeywords: **thursdaysbdx**\n\nBranch: **[ba9cf98](https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **S\u00e9bastien Labb\u00e9**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25305_\n\n",
    "closed_at": "2018-06-09T17:49:24Z",
    "created_at": "2018-05-08T08:40:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Adding has_graphviz, has_ffmpeg, has_imagemagick to sage.doctest.external",
    "type": "issue",
    "updated_at": "2018-06-13T10:45:29Z",
    "url": "https://github.com/sagemath/sage/issues/25305",
    "user": "https://github.com/seblabbe"
}
```
Implement this:

```
sage: from sage.doctest.external import has_graphviz, has_ffmpeg, has_imagemagick
sage: has_graphviz()   # random
True
sage: has_ffmpeg()   # random
True
sage: has_imagemagick()   # random
True
```

so that graphviz, ffmpeg, imagemagick are included in the external software to be detected:

```
$ sage -t --optional=external,sage src/sage/graphs/graph_latex.py src/sage/plot/animate.py
...
Using --optional=external
External software to be detected: cplex,ffmpeg,graphviz,gurobi,
imagemagick,internet,latex,macaulay2,magma,maple,mathematica,
matlab,octave,scilab
...
```

Keywords: **thursdaysbdx**

Branch: **[ba9cf98](https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad)**

Reviewer: **Vincent Delecroix**

Author: **Sébastien Labbé**

_Issue created by migration from https://trac.sagemath.org/ticket/25305_





---

archive/issue_events_332054.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-08T08:40:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332054"
}
```



---

archive/issue_events_332055.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-08T08:40:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
    "label_color": "000080",
    "label_name": "component: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332055"
}
```



---

archive/issue_events_332056.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-08T08:40:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332056"
}
```



---

archive/issue_events_332057.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-08T08:40:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332057"
}
```



---

archive/issue_events_332058.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-08T08:43:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332058"
}
```



---

archive/issue_events_332059.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-08T08:43:28Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "title_is": "Adding method sage.doctest.external.has_graphviz",
    "title_was": "Adding method sage.external.has_graphviz",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332059"
}
```



---

archive/issue_comments_389634.json:
```json
{
    "body": "Commit: **[99f37ac](https://github.com/sagemath/sagetrac-mirror/commit/99f37acd186afa3ec558e86935fc4e6976f9a9b0)**",
    "created_at": "2018-05-08T08:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389634",
    "user": "https://github.com/seblabbe"
}
```

Commit: **[99f37ac](https://github.com/sagemath/sagetrac-mirror/commit/99f37acd186afa3ec558e86935fc4e6976f9a9b0)**



---

archive/issue_comments_389635.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99f37acd186afa3ec558e86935fc4e6976f9a9b0\">99f37ac</a></td><td><code>25305: adding sage.doctest.external.has_graphviz</code></td></tr></table>\n",
    "created_at": "2018-05-08T08:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389635",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99f37acd186afa3ec558e86935fc4e6976f9a9b0">99f37ac</a></td><td><code>25305: adding sage.doctest.external.has_graphviz</code></td></tr></table>




---

archive/issue_comments_389636.json:
```json
{
    "body": "Branch: **[u/slabbe/25305](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305)**",
    "created_at": "2018-05-08T08:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389636",
    "user": "https://github.com/seblabbe"
}
```

Branch: **[u/slabbe/25305](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305)**



---

archive/issue_events_332060.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-08T08:45:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "title_is": "Adding sage.doctest.external.has_graphviz",
    "title_was": "Adding method sage.doctest.external.has_graphviz",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332060"
}
```



---

archive/issue_comments_389637.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e09d9b7b0a1c3e4c0614bf8639b0ae1252ea220c\">e09d9b7</a></td><td><code>25305: adding has_ffmpeg and has_imagemagick to sage.doctest.external</code></td></tr></table>\n",
    "created_at": "2018-05-08T11:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389637",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e09d9b7b0a1c3e4c0614bf8639b0ae1252ea220c">e09d9b7</a></td><td><code>25305: adding has_ffmpeg and has_imagemagick to sage.doctest.external</code></td></tr></table>




---

archive/issue_comments_389638.json:
```json
{
    "body": "Changed commit from **[99f37ac](https://github.com/sagemath/sagetrac-mirror/commit/99f37acd186afa3ec558e86935fc4e6976f9a9b0)** to **[e09d9b7](https://github.com/sagemath/sagetrac-mirror/commit/e09d9b7b0a1c3e4c0614bf8639b0ae1252ea220c)**",
    "created_at": "2018-05-08T11:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389638",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[99f37ac](https://github.com/sagemath/sagetrac-mirror/commit/99f37acd186afa3ec558e86935fc4e6976f9a9b0)** to **[e09d9b7](https://github.com/sagemath/sagetrac-mirror/commit/e09d9b7b0a1c3e4c0614bf8639b0ae1252ea220c)**



---

archive/issue_comments_389639.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI added `has_ffmpeg` and `have_imagemagick` in the second commit. \n\nFor references, the list `tests_not_run` below contains all tags of tests that are not run by default. The list was obtained from `grep \"not run\"` on the log of `./sage -t -p --all --long --show-skipped`:\n\n```\nsage: tests_not_run = ['4ti2', 'and', 'axiom', 'beautifulsoup', 'benzene', 'bliss', 'buckygen',\n....: 'cbc', 'chomp', 'coxeter3', 'cplex', 'cryptominisat', 'csdp', 'cunningham',\n....: 'database', 'database_cremona_ellcurve', 'database_gap',\n....: 'database_jones_numfield', 'database_kohel', 'database_mutation_class',\n....: 'database_odlyzko_zeta', 'database_pari', 'database_stein_watkins',\n....: 'database_symbolic_data', 'debug', 'fes', 'ffmpeg', 'fricas', 'frobby',\n....: 'gambit', 'gap3', 'gap_packages', 'gdb', 'giacpy_sage', 'ginv', 'glucose',\n....: 'gmp', 'gmpy2', 'gnuplot', 'gperftools', 'graphviz', 'growing', 'gurobi',\n....: 'hmisc', 'imagemagick', 'internet', 'java', 'kash', 'latex', 'latte_int',\n....: 'libbraiding', 'libhomfly', 'libjpeg', 'lie', 'lrs', 'lrslib', 'macaulay2',\n....: 'magma', 'maple', 'mathematica', 'mathematicafrontend', 'matlab', 'mcqd',\n....: 'meataxe', 'mupad', 'nonexistent_lp_solver', 'octave', 'ore_algebra', 'phc',\n....: 'plantri', 'polymake', 'polytopes_db_4d', 'py3', 'pynormaliz', 'python_igraph',\n....: 'qepcad', 'randomly', 'required', 'requires', 'rgraphics', 'rsat', 'runsnake',\n....: 'scilab', 'sirocco', 'sloane_database', 'surf', 'tdlib', 'the', 'tides',\n....: 'time', 'topcom', 'webbrowser']\n```\n\nAnd this is a tentative list of all \"external\" packages:\n\n```\nsage: S = set(package_versions('standard'))\nsage: O = set(package_versions('optional'))\nsage: E = set(package_versions('experimental'))\nsage: set(tests_not_run) - (S|O|E)\n{'and',\n 'axiom',\n 'beautifulsoup',\n 'chomp',\n 'cplex',\n 'cunningham',\n 'database',\n 'debug',\n 'fes',\n 'ffmpeg',\n 'ginv',\n 'glucose',\n 'gnuplot',\n 'gperftools',\n 'graphviz',\n 'growing',\n 'gurobi',\n 'hmisc',\n 'imagemagick',\n 'internet',\n 'java',\n 'kash',\n 'latex',\n 'libjpeg',\n 'lrs',\n 'macaulay2',\n 'magma',\n 'maple',\n 'mathematica',\n 'mathematicafrontend',\n 'matlab',\n 'mupad',\n 'nonexistent_lp_solver',\n 'octave',\n 'phc',\n 'polytopes_db_4d',\n 'py3',\n 'randomly',\n 'required',\n 'requires',\n 'rgraphics',\n 'rsat',\n 'runsnake',\n 'scilab',\n 'sloane_database',\n 'the',\n 'time',\n 'webbrowser'}\n```\n\nMaybe we want to detect some more external packages...",
    "created_at": "2018-05-08T12:01:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389639",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'>Comment 4:</a>
I added `has_ffmpeg` and `have_imagemagick` in the second commit. 

For references, the list `tests_not_run` below contains all tags of tests that are not run by default. The list was obtained from `grep "not run"` on the log of `./sage -t -p --all --long --show-skipped`:

```
sage: tests_not_run = ['4ti2', 'and', 'axiom', 'beautifulsoup', 'benzene', 'bliss', 'buckygen',
....: 'cbc', 'chomp', 'coxeter3', 'cplex', 'cryptominisat', 'csdp', 'cunningham',
....: 'database', 'database_cremona_ellcurve', 'database_gap',
....: 'database_jones_numfield', 'database_kohel', 'database_mutation_class',
....: 'database_odlyzko_zeta', 'database_pari', 'database_stein_watkins',
....: 'database_symbolic_data', 'debug', 'fes', 'ffmpeg', 'fricas', 'frobby',
....: 'gambit', 'gap3', 'gap_packages', 'gdb', 'giacpy_sage', 'ginv', 'glucose',
....: 'gmp', 'gmpy2', 'gnuplot', 'gperftools', 'graphviz', 'growing', 'gurobi',
....: 'hmisc', 'imagemagick', 'internet', 'java', 'kash', 'latex', 'latte_int',
....: 'libbraiding', 'libhomfly', 'libjpeg', 'lie', 'lrs', 'lrslib', 'macaulay2',
....: 'magma', 'maple', 'mathematica', 'mathematicafrontend', 'matlab', 'mcqd',
....: 'meataxe', 'mupad', 'nonexistent_lp_solver', 'octave', 'ore_algebra', 'phc',
....: 'plantri', 'polymake', 'polytopes_db_4d', 'py3', 'pynormaliz', 'python_igraph',
....: 'qepcad', 'randomly', 'required', 'requires', 'rgraphics', 'rsat', 'runsnake',
....: 'scilab', 'sirocco', 'sloane_database', 'surf', 'tdlib', 'the', 'tides',
....: 'time', 'topcom', 'webbrowser']
```

And this is a tentative list of all "external" packages:

```
sage: S = set(package_versions('standard'))
sage: O = set(package_versions('optional'))
sage: E = set(package_versions('experimental'))
sage: set(tests_not_run) - (S|O|E)
{'and',
 'axiom',
 'beautifulsoup',
 'chomp',
 'cplex',
 'cunningham',
 'database',
 'debug',
 'fes',
 'ffmpeg',
 'ginv',
 'glucose',
 'gnuplot',
 'gperftools',
 'graphviz',
 'growing',
 'gurobi',
 'hmisc',
 'imagemagick',
 'internet',
 'java',
 'kash',
 'latex',
 'libjpeg',
 'lrs',
 'macaulay2',
 'magma',
 'maple',
 'mathematica',
 'mathematicafrontend',
 'matlab',
 'mupad',
 'nonexistent_lp_solver',
 'octave',
 'phc',
 'polytopes_db_4d',
 'py3',
 'randomly',
 'required',
 'requires',
 'rgraphics',
 'rsat',
 'runsnake',
 'scilab',
 'sloane_database',
 'the',
 'time',
 'webbrowser'}
```

Maybe we want to detect some more external packages...



---

archive/issue_events_332061.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-08T12:03:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "title_is": "Adding has_graphviz, has_ffmpeg, has_imagemagick to sage.doctest.external",
    "title_was": "Adding sage.doctest.external.has_graphviz",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332061"
}
```



---

archive/issue_comments_389640.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe6163f0d36ea1e36588e3eff0101024dc0dd4b2\">fe6163f</a></td><td><code>25305: adding has_ffmpeg and has_imagemagick to sage.doctest.external</code></td></tr></table>\n",
    "created_at": "2018-05-08T12:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389640",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe6163f0d36ea1e36588e3eff0101024dc0dd4b2">fe6163f</a></td><td><code>25305: adding has_ffmpeg and has_imagemagick to sage.doctest.external</code></td></tr></table>




---

archive/issue_comments_389641.json:
```json
{
    "body": "Changed commit from **[e09d9b7](https://github.com/sagemath/sagetrac-mirror/commit/e09d9b7b0a1c3e4c0614bf8639b0ae1252ea220c)** to **[fe6163f](https://github.com/sagemath/sagetrac-mirror/commit/fe6163f0d36ea1e36588e3eff0101024dc0dd4b2)**",
    "created_at": "2018-05-08T12:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389641",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e09d9b7](https://github.com/sagemath/sagetrac-mirror/commit/e09d9b7b0a1c3e4c0614bf8639b0ae1252ea220c)** to **[fe6163f](https://github.com/sagemath/sagetrac-mirror/commit/fe6163f0d36ea1e36588e3eff0101024dc0dd4b2)**



---

archive/issue_comments_389642.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,18 +1,23 @@\n Implement this:\n \n ```\n-sage: from sage.doctest.external import has_graphviz\n-sage: has_graphviz()\n+sage: from sage.doctest.external import has_graphviz, has_ffmpeg, has_imagemagick\n+sage: has_graphviz()   # random\n+True\n+sage: has_ffmpeg()   # random\n+True\n+sage: has_imagemagick()   # random\n True\n ```\n \n so that graphviz is included in the external software to be detected:\n \n ```\n-$ sage -t --optional=external src/sage/graphs/graph_latex.py\n+$ sage -t --optional=external src/sage/graphs/graph_latex.py src/sage/plot/animate.py\n ...\n Using --optional=external\n-External software to be detected: cplex,graphviz,gurobi,internet,latex,\n-macaulay2,magma,maple,mathematica,matlab,octave,scilab\n+External software to be detected: cplex,ffmpeg,graphviz,gurobi,\n+imagemagick,internet,latex,macaulay2,magma,maple,mathematica,\n+matlab,octave,scilab\n ...\n ```\n``````\n",
    "created_at": "2018-05-10T07:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389642",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,18 +1,23 @@
 Implement this:
 
 ```
-sage: from sage.doctest.external import has_graphviz
-sage: has_graphviz()
+sage: from sage.doctest.external import has_graphviz, has_ffmpeg, has_imagemagick
+sage: has_graphviz()   # random
+True
+sage: has_ffmpeg()   # random
+True
+sage: has_imagemagick()   # random
 True
 ```
 
 so that graphviz is included in the external software to be detected:
 
 ```
-$ sage -t --optional=external src/sage/graphs/graph_latex.py
+$ sage -t --optional=external src/sage/graphs/graph_latex.py src/sage/plot/animate.py
 ...
 Using --optional=external
-External software to be detected: cplex,graphviz,gurobi,internet,latex,
-macaulay2,magma,maple,mathematica,matlab,octave,scilab
+External software to be detected: cplex,ffmpeg,graphviz,gurobi,
+imagemagick,internet,latex,macaulay2,magma,maple,mathematica,
+matlab,octave,scilab
 ...
 ```
``````




---

archive/issue_comments_389643.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n True\n ```\n \n-so that graphviz is included in the external software to be detected:\n+so that graphviz, ffmpeg, imagemagick are included in the external software to be detected:\n \n ```\n $ sage -t --optional=external src/sage/graphs/graph_latex.py src/sage/plot/animate.py\n``````\n",
    "created_at": "2018-05-10T07:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389643",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 True
 ```
 
-so that graphviz is included in the external software to be detected:
+so that graphviz, ffmpeg, imagemagick are included in the external software to be detected:
 
 ```
 $ sage -t --optional=external src/sage/graphs/graph_latex.py src/sage/plot/animate.py
``````




---

archive/issue_comments_389644.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nShouldn't this use the recently merged #20382?",
    "created_at": "2018-05-10T14:56:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389644",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'>Comment 9:</a>
Shouldn't this use the recently merged #20382?



---

archive/issue_comments_389645.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@videlec](#comment%3A9):\n> Shouldn't this use the recently merged #20382?\n\nActually, I think that all the `has_xxx` stuff would better be features.",
    "created_at": "2018-05-13T10:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389645",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@videlec](#comment%3A9):
> Shouldn't this use the recently merged #20382?

Actually, I think that all the `has_xxx` stuff would better be features.



---

archive/issue_comments_389646.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,7 +13,7 @@\n so that graphviz, ffmpeg, imagemagick are included in the external software to be detected:\n \n ```\n-$ sage -t --optional=external src/sage/graphs/graph_latex.py src/sage/plot/animate.py\n+$ sage -t --optional=external,sage src/sage/graphs/graph_latex.py src/sage/plot/animate.py\n ...\n Using --optional=external\n External software to be detected: cplex,ffmpeg,graphviz,gurobi,\n``````\n",
    "created_at": "2018-05-15T14:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389646",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,7 +13,7 @@
 so that graphviz, ffmpeg, imagemagick are included in the external software to be detected:
 
 ```
-$ sage -t --optional=external src/sage/graphs/graph_latex.py src/sage/plot/animate.py
+$ sage -t --optional=external,sage src/sage/graphs/graph_latex.py src/sage/plot/animate.py
 ...
 Using --optional=external
 External software to be detected: cplex,ffmpeg,graphviz,gurobi,
``````




---

archive/issue_comments_389647.json:
```json
{
    "body": "Changed branch from **[u/slabbe/25305](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305)** to **[u/slabbe/25305-using-features](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305-using-features)**",
    "created_at": "2018-05-15T14:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389647",
    "user": "https://github.com/seblabbe"
}
```

Changed branch from **[u/slabbe/25305](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305)** to **[u/slabbe/25305-using-features](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305-using-features)**



---

archive/issue_comments_389648.json:
```json
{
    "body": "Changed commit from **[fe6163f](https://github.com/sagemath/sagetrac-mirror/commit/fe6163f0d36ea1e36588e3eff0101024dc0dd4b2)** to **[cb6e088](https://github.com/sagemath/sagetrac-mirror/commit/cb6e0887112a2cd8be4233ba36961a37b20cef41)**",
    "created_at": "2018-05-15T14:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389648",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[fe6163f](https://github.com/sagemath/sagetrac-mirror/commit/fe6163f0d36ea1e36588e3eff0101024dc0dd4b2)** to **[cb6e088](https://github.com/sagemath/sagetrac-mirror/commit/cb6e0887112a2cd8be4233ba36961a37b20cef41)**



---

archive/issue_comments_389649.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb6e0887112a2cd8be4233ba36961a37b20cef41\">cb6e088</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr></table>\n",
    "created_at": "2018-05-15T14:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389649",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:12'>Comment 12:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb6e0887112a2cd8be4233ba36961a37b20cef41">cb6e088</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr></table>




---

archive/issue_comments_389650.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@videlec](#comment%3A9):\n> Shouldn't this use the recently merged #20382?\n\nOk as you wish. I am now using `find_executable` from the `Features` stuff instead of the `have_program` from the `misc` stuff.",
    "created_at": "2018-05-15T14:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389650",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@videlec](#comment%3A9):
> Shouldn't this use the recently merged #20382?

Ok as you wish. I am now using `find_executable` from the `Features` stuff instead of the `have_program` from the `misc` stuff.



---

archive/issue_comments_389651.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@videlec](#comment%3A10): \n> Actually, I think that all the `has_xxx` stuff would better be features.\n\nWhy better? To me adding three new `has_key` functions to the `external.py` module makes things better. But changing `has_maple` in a way that it uses `features` does not make anything better.\n\nThe way the `external.py` module is coded right now is that the presence of an external software with name `tag` is detected with a method whose name is `has_tag`. The goal of this ticket is not to redesign all of this `external.py` module. So I suggest that further uses of feature inside of `external.py` be postpone to another ticket if this is at all pertinent.\n\nNeeds review!",
    "created_at": "2018-05-15T14:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389651",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@videlec](#comment%3A10): 
> Actually, I think that all the `has_xxx` stuff would better be features.

Why better? To me adding three new `has_key` functions to the `external.py` module makes things better. But changing `has_maple` in a way that it uses `features` does not make anything better.

The way the `external.py` module is coded right now is that the presence of an external software with name `tag` is detected with a method whose name is `has_tag`. The goal of this ticket is not to redesign all of this `external.py` module. So I suggest that further uses of feature inside of `external.py` be postpone to another ticket if this is at all pertinent.

Needs review!



---

archive/issue_events_332062.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-05-17T07:08:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332062"
}
```



---

archive/issue_events_332063.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-05-17T07:08:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332063"
}
```



---

archive/issue_comments_389652.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2018-05-17T07:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389652",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_389653.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@seblabbe](#comment%3A14):\n> Replying to [@videlec](#comment%3A10): \n> > Actually, I think that all the `has_xxx` stuff would better be features.\n\n> \n> Why better? To me adding three new `has_key` functions to the `external.py` module makes things better. But changing `has_maple` in a way that it uses `features` does not make anything better.\n\nI just realized that it is not possible for `has_maple`. The maple interface allows subtle configurations such as\n- an alternative name for the executable\n- a remote execution through ssh\nThis is not the kind of things a feature is aware of.\n\n> The way the `external.py` module is coded right now is that the presence of an external software with name `tag` is detected with a method whose name is `has_tag`. The goal of this ticket is not to redesign all of this `external.py` module. So I suggest that further uses of feature inside of `external.py` be postpone to another ticket if this is at all pertinent.\n\nIn your situation, you are just checking for the presence of executable in the path. This is exactly what `sage.features.Executable` is about. The main difference between `has_XXX_ and a feature is that\n- a feature is not only about doctest\n- a feature can run small tests\n- meaningful error messages\n- this is not run twice in the same session\n\nWhat I wanted to suggest with my message is to introduce `sage.features.graphviz`, `sage.features.ffmpeg` and `sage.features.imagemagick` and simply use\n\n```\ndef has_ffmpeg():\n    from sage.features.ffmpeg import FFmpeg\n    return FFmpeg.is_present()\n```\nThe software `FFmpeg` is indeed used in other parts of Sage (e.g. `animate`) and it would help to have it as a feature.",
    "created_at": "2018-05-17T07:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389653",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@seblabbe](#comment%3A14):
> Replying to [@videlec](#comment%3A10): 
> > Actually, I think that all the `has_xxx` stuff would better be features.

> 
> Why better? To me adding three new `has_key` functions to the `external.py` module makes things better. But changing `has_maple` in a way that it uses `features` does not make anything better.

I just realized that it is not possible for `has_maple`. The maple interface allows subtle configurations such as
- an alternative name for the executable
- a remote execution through ssh
This is not the kind of things a feature is aware of.

> The way the `external.py` module is coded right now is that the presence of an external software with name `tag` is detected with a method whose name is `has_tag`. The goal of this ticket is not to redesign all of this `external.py` module. So I suggest that further uses of feature inside of `external.py` be postpone to another ticket if this is at all pertinent.

In your situation, you are just checking for the presence of executable in the path. This is exactly what `sage.features.Executable` is about. The main difference between `has_XXX_ and a feature is that
- a feature is not only about doctest
- a feature can run small tests
- meaningful error messages
- this is not run twice in the same session

What I wanted to suggest with my message is to introduce `sage.features.graphviz`, `sage.features.ffmpeg` and `sage.features.imagemagick` and simply use

```
def has_ffmpeg():
    from sage.features.ffmpeg import FFmpeg
    return FFmpeg.is_present()
```
The software `FFmpeg` is indeed used in other parts of Sage (e.g. `animate`) and it would help to have it as a feature.



---

archive/issue_comments_389654.json:
```json
{
    "body": "Changed keywords from **** to **thursdaysbdx**",
    "created_at": "2018-05-17T07:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389654",
    "user": "https://github.com/videlec"
}
```

Changed keywords from **** to **thursdaysbdx**



---

archive/issue_comments_389655.json:
```json
{
    "body": "Changed commit from **[cb6e088](https://github.com/sagemath/sagetrac-mirror/commit/cb6e0887112a2cd8be4233ba36961a37b20cef41)** to **[034678b](https://github.com/sagemath/sagetrac-mirror/commit/034678bda18e59ebfff62dce7c813ad6ef249147)**",
    "created_at": "2018-05-20T13:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389655",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[cb6e088](https://github.com/sagemath/sagetrac-mirror/commit/cb6e0887112a2cd8be4233ba36961a37b20cef41)** to **[034678b](https://github.com/sagemath/sagetrac-mirror/commit/034678bda18e59ebfff62dce7c813ad6ef249147)**



---

archive/issue_events_332064.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-20T13:12:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332064"
}
```



---

archive/issue_events_332065.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-20T13:12:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332065"
}
```



---

archive/issue_comments_389656.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nI now creates the files for ffmpeg, imagemagick and graphviz in the feature module and I am using these to solve the problem described in this ticket.\n\nI suggest that the use of the `FFmpeg().require()` in `animate.py` etc be postpone to an indenpendent ticket.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/034678bda18e59ebfff62dce7c813ad6ef249147\">034678b</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr></table>\n",
    "created_at": "2018-05-20T13:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389656",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'>Comment 16:</a>
I now creates the files for ffmpeg, imagemagick and graphviz in the feature module and I am using these to solve the problem described in this ticket.

I suggest that the use of the `FFmpeg().require()` in `animate.py` etc be postpone to an indenpendent ticket.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/034678bda18e59ebfff62dce7c813ad6ef249147">034678b</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr></table>




---

archive/issue_comments_389657.json:
```json
{
    "body": "Changed branch from **[u/slabbe/25305-using-features](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305-using-features)** to **[u/slabbe/25305-with-Executable-class](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305-with-Executable-class)**",
    "created_at": "2018-05-20T13:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389657",
    "user": "https://github.com/seblabbe"
}
```

Changed branch from **[u/slabbe/25305-using-features](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305-using-features)** to **[u/slabbe/25305-with-Executable-class](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305-with-Executable-class)**



---

archive/issue_comments_389658.json:
```json
{
    "body": "Changed commit from **[034678b](https://github.com/sagemath/sagetrac-mirror/commit/034678bda18e59ebfff62dce7c813ad6ef249147)** to **[9686e97](https://github.com/sagemath/sagetrac-mirror/commit/9686e9705b77420610a6ed978392bafd8240690a)**",
    "created_at": "2018-05-20T13:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389658",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[034678b](https://github.com/sagemath/sagetrac-mirror/commit/034678bda18e59ebfff62dce7c813ad6ef249147)** to **[9686e97](https://github.com/sagemath/sagetrac-mirror/commit/9686e9705b77420610a6ed978392bafd8240690a)**



---

archive/issue_comments_389659.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9686e9705b77420610a6ed978392bafd8240690a\">9686e97</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr></table>\n",
    "created_at": "2018-05-20T13:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389659",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9686e9705b77420610a6ed978392bafd8240690a">9686e97</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr></table>




---

archive/issue_comments_389660.json:
```json
{
    "body": "Changed commit from **[9686e97](https://github.com/sagemath/sagetrac-mirror/commit/9686e9705b77420610a6ed978392bafd8240690a)** to **[eeaa92f](https://github.com/sagemath/sagetrac-mirror/commit/eeaa92f39f423a879e68bd7f0c35f11e563befeb)**",
    "created_at": "2018-05-20T13:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389660",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9686e97](https://github.com/sagemath/sagetrac-mirror/commit/9686e9705b77420610a6ed978392bafd8240690a)** to **[eeaa92f](https://github.com/sagemath/sagetrac-mirror/commit/eeaa92f39f423a879e68bd7f0c35f11e563befeb)**



---

archive/issue_comments_389661.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeaa92f39f423a879e68bd7f0c35f11e563befeb\">eeaa92f</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr></table>\n",
    "created_at": "2018-05-20T13:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389661",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeaa92f39f423a879e68bd7f0c35f11e563befeb">eeaa92f</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr></table>




---

archive/issue_comments_389662.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nI fixed some doctests and removed `import os,subprocess` in the previous two forced pushed.",
    "created_at": "2018-05-20T13:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389662",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:19'>Comment 19:</a>
I fixed some doctests and removed `import os,subprocess` in the previous two forced pushed.



---

archive/issue_comments_389663.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nNeeds review!",
    "created_at": "2018-05-20T13:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389663",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:20'>Comment 20:</a>
Needs review!



---

archive/issue_events_332066.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-05-29T05:57:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332066"
}
```



---

archive/issue_events_332067.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-05-29T05:57:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332067"
}
```



---

archive/issue_comments_389664.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nImage magick is a suite and not a unique executable:\n- `magick`\n- `magick-script`\n- `convert`\n- `mogrify`\n- `identify`\n- `composite`\n- `montage`\n- `compare`\n- etc",
    "created_at": "2018-05-29T05:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389664",
    "user": "https://github.com/videlec"
}
```

<a id='comment:21'>Comment 21:</a>
Image magick is a suite and not a unique executable:
- `magick`
- `magick-script`
- `convert`
- `mogrify`
- `identify`
- `composite`
- `montage`
- `compare`
- etc



---

archive/issue_comments_389665.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nCan you provide an example where a command from imagemagick other than `convert` is used in the sage source code?\n\n```\n$ sage -grep mogrify\n$ sage -grep magick-script\n$ sage -grep magick\nsage/misc/latex.py:    http://www.imagemagick.org\nsage/misc/latex.py:            print(\"http://www.imagemagick.org to download these programs.\")\nsage/misc/latex.py:            print(\"Go to http://www.imagemagick.org to download it.\")\nsage/misc/latex.py:            print(\"Go to http://www.imagemagick.org to download it.\")\nsage/combinat/words/paths.py:            See www.imagemagick.org, for example.\nsage/graphs/graph_latex.py:- convert: http://www.imagemagick.org (the ImageMagick suite)\nsage/plot/animate.py:- `ImageMagick <http://www.imagemagick.org>`_\nsage/plot/animate.py:              See www.imagemagick.org and www.ffmpeg.org for more information.\nsage/plot/animate.py:        - `ImageMagick <http://www.imagemagick.org>`_\nsage/plot/animate.py:See www.imagemagick.org and www.ffmpeg.org for more information.\"\"\"\nsage/plot/animate.py:See www.imagemagick.org and www.ffmpeg.org for more information.\"\"\"\nsage/plot/animate.py:              See www.imagemagick.org and www.ffmpeg.org for more information.\n\netc.\n```",
    "created_at": "2018-05-30T20:00:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389665",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:22'>Comment 22:</a>
Can you provide an example where a command from imagemagick other than `convert` is used in the sage source code?

```
$ sage -grep mogrify
$ sage -grep magick-script
$ sage -grep magick
sage/misc/latex.py:    http://www.imagemagick.org
sage/misc/latex.py:            print("http://www.imagemagick.org to download these programs.")
sage/misc/latex.py:            print("Go to http://www.imagemagick.org to download it.")
sage/misc/latex.py:            print("Go to http://www.imagemagick.org to download it.")
sage/combinat/words/paths.py:            See www.imagemagick.org, for example.
sage/graphs/graph_latex.py:- convert: http://www.imagemagick.org (the ImageMagick suite)
sage/plot/animate.py:- `ImageMagick <http://www.imagemagick.org>`_
sage/plot/animate.py:              See www.imagemagick.org and www.ffmpeg.org for more information.
sage/plot/animate.py:        - `ImageMagick <http://www.imagemagick.org>`_
sage/plot/animate.py:See www.imagemagick.org and www.ffmpeg.org for more information."""
sage/plot/animate.py:See www.imagemagick.org and www.ffmpeg.org for more information."""
sage/plot/animate.py:              See www.imagemagick.org and www.ffmpeg.org for more information.

etc.
```



---

archive/issue_comments_389666.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a7e6b1602d7c2430b91ce1df897cee902dea01b\">4a7e6b1</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84ded4283373c3137207f59ccee2d9460ce72f70\">84ded42</a></td><td><code>25305: added doc about only convert being currently checked</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb740337eb81fbdf00180ffececca0cef2edb875\">cb74033</a></td><td><code>25305: fix doctests</code></td></tr></table>\n",
    "created_at": "2018-05-30T20:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389666",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>Comment 23:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a7e6b1602d7c2430b91ce1df897cee902dea01b">4a7e6b1</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84ded4283373c3137207f59ccee2d9460ce72f70">84ded42</a></td><td><code>25305: added doc about only convert being currently checked</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb740337eb81fbdf00180ffececca0cef2edb875">cb74033</a></td><td><code>25305: fix doctests</code></td></tr></table>




---

archive/issue_comments_389667.json:
```json
{
    "body": "Changed commit from **[eeaa92f](https://github.com/sagemath/sagetrac-mirror/commit/eeaa92f39f423a879e68bd7f0c35f11e563befeb)** to **[cb74033](https://github.com/sagemath/sagetrac-mirror/commit/cb740337eb81fbdf00180ffececca0cef2edb875)**",
    "created_at": "2018-05-30T20:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389667",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[eeaa92f](https://github.com/sagemath/sagetrac-mirror/commit/eeaa92f39f423a879e68bd7f0c35f11e563befeb)** to **[cb74033](https://github.com/sagemath/sagetrac-mirror/commit/cb740337eb81fbdf00180ffececca0cef2edb875)**



---

archive/issue_events_332068.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-30T20:23:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332068"
}
```



---

archive/issue_events_332069.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-05-30T20:23:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332069"
}
```



---

archive/issue_comments_389668.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch rebased on top of 8.3.beta2.\n\nAdded doc about the fact that currently only the presence of convert is checked.\n\nI also fix the doctest that was failing on the patchbot.\n\nNeeds review.",
    "created_at": "2018-05-30T20:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389668",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:24'>Comment 24:</a>
Branch rebased on top of 8.3.beta2.

Added doc about the fact that currently only the presence of convert is checked.

I also fix the doctest that was failing on the patchbot.

Needs review.



---

archive/issue_comments_389669.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nYou forgot the copyright.\n\nThe rest looks ok.",
    "created_at": "2018-06-03T09:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389669",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'>Comment 25:</a>
You forgot the copyright.

The rest looks ok.



---

archive/issue_events_332070.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-03T09:09:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332070"
}
```



---

archive/issue_events_332071.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-03T09:09:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332071"
}
```



---

archive/issue_comments_389670.json:
```json
{
    "body": "Changed commit from **[cb74033](https://github.com/sagemath/sagetrac-mirror/commit/cb740337eb81fbdf00180ffececca0cef2edb875)** to **[ba9cf98](https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad)**",
    "created_at": "2018-06-07T13:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cb74033](https://github.com/sagemath/sagetrac-mirror/commit/cb740337eb81fbdf00180ffececca0cef2edb875)** to **[ba9cf98](https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad)**



---

archive/issue_comments_389671.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4c5fec12558e87141835bc3b69977554314ce4b\">d4c5fec</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8712542426d6f1d9f444d7151194f7acca51b6c8\">8712542</a></td><td><code>25305: added doc about only convert being currently checked</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/baa0baedfed5d127c038f98263325a6d915715d6\">baa0bae</a></td><td><code>25305: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad\">ba9cf98</a></td><td><code>25305: added licence to newly created files</code></td></tr></table>\n",
    "created_at": "2018-06-07T13:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389671",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4c5fec12558e87141835bc3b69977554314ce4b">d4c5fec</a></td><td><code>25305: adding has_ffmpeg, has_imagemagick, has_graphviz to sage.doctest.external</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8712542426d6f1d9f444d7151194f7acca51b6c8">8712542</a></td><td><code>25305: added doc about only convert being currently checked</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/baa0baedfed5d127c038f98263325a6d915715d6">baa0bae</a></td><td><code>25305: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad">ba9cf98</a></td><td><code>25305: added licence to newly created files</code></td></tr></table>




---

archive/issue_events_332072.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-06-07T13:40:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332072"
}
```



---

archive/issue_events_332073.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2018-06-07T13:40:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332073"
}
```



---

archive/issue_comments_389672.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nRebased the branch on top of 8.3.beta4.\n\nAdded a commit which adds the licence to the newly created files.\n\nNeeds review.",
    "created_at": "2018-06-07T13:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389672",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:28'>Comment 28:</a>
Rebased the branch on top of 8.3.beta4.

Added a commit which adds the licence to the newly created files.

Needs review.



---

archive/issue_events_332074.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-07T15:13:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332074"
}
```



---

archive/issue_events_332075.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-07T15:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332075"
}
```



---

archive/issue_comments_389673.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nThank you for the review",
    "created_at": "2018-06-07T19:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389673",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:30'>Comment 30:</a>
Thank you for the review



---

archive/issue_comments_389674.json:
```json
{
    "body": "Changed branch from **[u/slabbe/25305-with-Executable-class](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305-with-Executable-class)** to **[ba9cf98](https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad)**",
    "created_at": "2018-06-09T17:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389674",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/slabbe/25305-with-Executable-class](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/25305-with-Executable-class)** to **[ba9cf98](https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad)**



---

archive/issue_events_332076.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-09T17:49:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332076"
}
```



---

archive/issue_events_332077.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ffffee8588465c483f0457c3c3a8cb102a33877c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-06-09T17:49:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25305#event-332077"
}
```



---

archive/issue_comments_389675.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nI noticed that some of the doctests have\n\n    \\# optional -- graphviz\n\nwhile some other doctests have\n\n    \\# optional: graphviz\n\nAre both styles equivalent?",
    "created_at": "2018-06-13T10:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389675",
    "user": "https://github.com/slel"
}
```

<a id='comment:32'>Comment 32:</a>
I noticed that some of the doctests have

    \# optional -- graphviz

while some other doctests have

    \# optional: graphviz

Are both styles equivalent?



---

archive/issue_comments_389676.json:
```json
{
    "body": "Changed commit from **[ba9cf98](https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad)** to none",
    "created_at": "2018-06-13T10:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25305",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25305#issuecomment-389676",
    "user": "https://github.com/slel"
}
```

Changed commit from **[ba9cf98](https://github.com/sagemath/sagetrac-mirror/commit/ba9cf98f587a0304642946797b995f6790835aad)** to none
