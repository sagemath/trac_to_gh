# Issue 25686: UniversalCyclotomicField is not finite

archive/issues_025449.json:
```json
{
    "body": "```\nsage: UCF = UniversalCyclotomicField()\nsage: UCF.is_finite()\nTrue\n```\n\nThis is explicitly given in the code of universal_cyclotomic_field.py:\n\n```\n    def is_finite(self):\n        r\"\"\"\n        Returns ``True``.\n\n        EXAMPLES::\n\n            sage: UniversalCyclotomicField().is_finite()\n            True\n\n        .. TODO::\n\n            this method should be provided by the category.\n        \"\"\"\n        return True\n```\n\nThis has been correct before a change in April 2015 (Trac #1852). It looks like a mistake in connection with that ticket. The old code from git looked like this:\n\n\n\n```\nauthor  Jean-Philippe Labb\u00e9 <labbe@math.fu-berlin.de>   2015-04-29 17:56:59 +0300\ncommitter       Jean-Philippe Labb\u00e9 <labbe@math.fu-berlin.de>   2015-04-29 17:56:59 +0300\ncommit  dc3de84809792bde5e2cde8c8c579f42496e0647 (patch)\ntree    2a5ed5f0daf452364580856388e5717cf47f1b60\nparent  Updated Sage version to 6.7.beta3 (diff)\nparent  Trac 18152: __neg__ for UCF elements (diff)\n\n\n-    def is_finite(self):\n-        r\"\"\"\n-        Returns False as ``self`` is not finite.\n-\n-        EXAMPLES::\n-\n-            sage: UCF = UniversalCyclotomicField()\n-            sage: UCF.is_finite()\n-            False\n-        \"\"\"\n-        return False\n```\n\nThus the task might be to restore the old code!\n\nCC:  @tscrim\n\nKeywords: days94\n\nBranch/Commit: 03055ab738fc14f50e86a18ff42e8f5a5adc382c\n\nReviewer: Tomer Bauer, Luis Felipe Tabera\n\nAuthor: Sebastian Oehms\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25686\n\n",
    "closed_at": "2018-07-08T13:05:01Z",
    "created_at": "2018-06-28T11:00:25Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "UniversalCyclotomicField is not finite",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25686",
    "user": "https://github.com/soehms"
}
```
```
sage: UCF = UniversalCyclotomicField()
sage: UCF.is_finite()
True
```

This is explicitly given in the code of universal_cyclotomic_field.py:

```
    def is_finite(self):
        r"""
        Returns ``True``.

        EXAMPLES::

            sage: UniversalCyclotomicField().is_finite()
            True

        .. TODO::

            this method should be provided by the category.
        """
        return True
```

This has been correct before a change in April 2015 (Trac #1852). It looks like a mistake in connection with that ticket. The old code from git looked like this:



```
author  Jean-Philippe Labbé <labbe@math.fu-berlin.de>   2015-04-29 17:56:59 +0300
committer       Jean-Philippe Labbé <labbe@math.fu-berlin.de>   2015-04-29 17:56:59 +0300
commit  dc3de84809792bde5e2cde8c8c579f42496e0647 (patch)
tree    2a5ed5f0daf452364580856388e5717cf47f1b60
parent  Updated Sage version to 6.7.beta3 (diff)
parent  Trac 18152: __neg__ for UCF elements (diff)


-    def is_finite(self):
-        r"""
-        Returns False as ``self`` is not finite.
-
-        EXAMPLES::
-
-            sage: UCF = UniversalCyclotomicField()
-            sage: UCF.is_finite()
-            False
-        """
-        return False
```

Thus the task might be to restore the old code!

CC:  @tscrim

Keywords: days94

Branch/Commit: 03055ab738fc14f50e86a18ff42e8f5a5adc382c

Reviewer: Tomer Bauer, Luis Felipe Tabera

Author: Sebastian Oehms

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25686





---

archive/issue_comments_358689.json:
```json
{
    "body": "<a id='comment:3'></a>We (Travis and me) tried to move the `is_finite` method to the category framework. But this lead into difficulties. Thus, we let it fall back to `is_finite` in rings.pyx replacing the raise of `NotImplementedError` to a `super(Ring, self).is_finite()`-call.\n\n---\nNew commits:",
    "created_at": "2018-06-28T16:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358689",
    "user": "https://github.com/soehms"
}
```

<a id='comment:3'></a>We (Travis and me) tried to move the `is_finite` method to the category framework. But this lead into difficulties. Thus, we let it fall back to `is_finite` in rings.pyx replacing the raise of `NotImplementedError` to a `super(Ring, self).is_finite()`-call.

---
New commits:



---

archive/issue_comments_358690.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-28T16:30:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358690",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_358691.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-28T16:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358691",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_358692.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2018-06-28T16:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358692",
    "user": "https://github.com/soehms"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_comments_358693.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-28T16:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358693",
    "user": "https://github.com/soehms"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_358694.json:
```json
{
    "body": "<a id='comment:7'></a>You should add a test that shows that the bug is fixed. Since you have deleted the method, this test has to be added elsewhere. In this case, it can be added to the general set of tests at the beggining of the universal_cyclotomic_field.py file",
    "created_at": "2018-06-28T17:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358694",
    "user": "https://github.com/lftabera"
}
```

<a id='comment:7'></a>You should add a test that shows that the bug is fixed. Since you have deleted the method, this test has to be added elsewhere. In this case, it can be added to the general set of tests at the beggining of the universal_cyclotomic_field.py file



---

archive/issue_comments_358695.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-29T13:32:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358695",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_358696.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-29T14:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358696",
    "user": "https://github.com/mathzeta"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_358697.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-06-30T11:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358697",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_358698.json:
```json
{
    "body": "<a id='comment:11'></a>See patchbot",
    "created_at": "2018-06-30T11:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358698",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>See patchbot



---

archive/issue_comments_358699.json:
```json
{
    "body": "<a id='comment:12'></a>The line `return super(Ring, self).is_finite()` is probably the culprit, we need to update the error message of that test.",
    "created_at": "2018-06-30T11:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358699",
    "user": "https://github.com/mathzeta"
}
```

<a id='comment:12'></a>The line `return super(Ring, self).is_finite()` is probably the culprit, we need to update the error message of that test.



---

archive/issue_comments_358700.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-01T17:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358700",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_358701.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-01T17:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358701",
    "user": "https://github.com/soehms"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_358702.json:
```json
{
    "body": "<a id='comment:15'></a>Works for me. If the patchbot is happy, then positive review.",
    "created_at": "2018-07-02T09:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358702",
    "user": "https://github.com/mathzeta"
}
```

<a id='comment:15'></a>Works for me. If the patchbot is happy, then positive review.



---

archive/issue_comments_358703.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-02T13:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358703",
    "user": "https://github.com/soehms"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_358704.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-07-08T13:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25686#issuecomment-358704",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_064305.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-08T13:05:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25686",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25686#event-64305"
}
```
