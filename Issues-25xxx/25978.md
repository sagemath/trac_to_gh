# Issue 25978: Python 3: sorting issue causing failure in koszul_complex.py

archive/issues_025741.json:
```json
{
    "body": "A sorting issue (`TypeError: '>' not supported between instances of 'NoneType' and 'int'`) in `multi_polynomial_ring_base.pyx` causes a doctest failure in `koszul_complex.py` in Python 3.\n\nCC:  @fchapoton @tscrim\n\nBranch/Commit: 4a6ff4e6c396231908bd58758e46a9f0bb24dae2\n\nReviewer: Travis Scrimshaw\n\nAuthor: John Palmieri\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25978\n\n",
    "closed_at": "2018-09-01T09:09:58Z",
    "created_at": "2018-07-30T21:19:00Z",
    "labels": [
        "component: python3",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Python 3: sorting issue causing failure in koszul_complex.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25978",
    "user": "https://github.com/jhpalmieri"
}
```
A sorting issue (`TypeError: '>' not supported between instances of 'NoneType' and 'int'`) in `multi_polynomial_ring_base.pyx` causes a doctest failure in `koszul_complex.py` in Python 3.

CC:  @fchapoton @tscrim

Branch/Commit: 4a6ff4e6c396231908bd58758e46a9f0bb24dae2

Reviewer: Travis Scrimshaw

Author: John Palmieri

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25978





---

archive/issue_comments_492560.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jhpalmieri/koszul-multi-polynomial\"",
    "created_at": "2018-07-30T21:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492560",
    "user": "https://github.com/jhpalmieri"
}
```

Changing branch from "" to "u/jhpalmieri/koszul-multi-polynomial"



---

archive/issue_comments_492561.json:
```json
{
    "body": "Changing commit from \"\" to \"d8f9668efec431c33593f7490a78e22f6a8ebfd9\"",
    "created_at": "2018-07-30T21:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492561",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "" to "d8f9668efec431c33593f7490a78e22f6a8ebfd9"



---

archive/issue_comments_492562.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe issue here is that `terms` can be `None` while `total` is an integer, and then Python 3 objects to `if terms > total:`.\n\n---\nNew commits:\n|                                                                                                                                          |                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[d8f9668](https://github.com/sagemath/sagetrac-mirror/commit/d8f9668efec431c33593f7490a78e22f6a8ebfd9)|`trac 25978: don't try to compare None with an int`|",
    "created_at": "2018-07-30T21:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492562",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
The issue here is that `terms` can be `None` while `total` is an integer, and then Python 3 objects to `if terms > total:`.

---
New commits:
|                                                                                                                                          |                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[d8f9668](https://github.com/sagemath/sagetrac-mirror/commit/d8f9668efec431c33593f7490a78e22f6a8ebfd9)|`trac 25978: don't try to compare None with an int`|



---

archive/issue_comments_492563.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-30T21:20:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492563",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_492564.json:
```json
{
    "body": "<a id='comment:4'></a>\nI think it is good to put a comment in there explaining why this test is the way it is.\n\nAlso, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).",
    "created_at": "2018-07-30T21:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492564",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
I think it is good to put a comment in there explaining why this test is the way it is.

Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).



---

archive/issue_comments_492565.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[4a6ff4e](https://github.com/sagemath/sagetrac-mirror/commit/4a6ff4e6c396231908bd58758e46a9f0bb24dae2)|`trac 25978: add comment explaining the change.`|",
    "created_at": "2018-07-30T22:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[4a6ff4e](https://github.com/sagemath/sagetrac-mirror/commit/4a6ff4e6c396231908bd58758e46a9f0bb24dae2)|`trac 25978: add comment explaining the change.`|



---

archive/issue_comments_492566.json:
```json
{
    "body": "Changing commit from \"d8f9668efec431c33593f7490a78e22f6a8ebfd9\" to \"4a6ff4e6c396231908bd58758e46a9f0bb24dae2\"",
    "created_at": "2018-07-30T22:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d8f9668efec431c33593f7490a78e22f6a8ebfd9" to "4a6ff4e6c396231908bd58758e46a9f0bb24dae2"



---

archive/issue_comments_492567.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [tscrim](#comment%3A4):\n> I think it is good to put a comment in there explaining why this test is the way it is.\n\n\nSounds good.\n\n> Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).\n\n\n`total` is defined by `counts, total = self._precomp_counts(n, degree)`, and according to the documentation, `total` is a sum of cardinalities, so it had better be nonnegative.",
    "created_at": "2018-07-30T22:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492567",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
Replying to [tscrim](#comment%3A4):
> I think it is good to put a comment in there explaining why this test is the way it is.


Sounds good.

> Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).


`total` is defined by `counts, total = self._precomp_counts(n, degree)`, and according to the documentation, `total` is a sum of cardinalities, so it had better be nonnegative.



---

archive/issue_comments_492568.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-30T22:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492568",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_492569.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2018-07-30T22:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492569",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_492570.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks.",
    "created_at": "2018-07-30T22:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492570",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Thanks.



---

archive/issue_events_081622.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-01T09:09:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25978#event-81622"
}
```



---

archive/issue_comments_492571.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-09-01T09:09:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492571",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_492572.json:
```json
{
    "body": "Changing branch from \"u/jhpalmieri/koszul-multi-polynomial\" to \"4a6ff4e6c396231908bd58758e46a9f0bb24dae2\"",
    "created_at": "2018-09-01T09:09:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-492572",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jhpalmieri/koszul-multi-polynomial" to "4a6ff4e6c396231908bd58758e46a9f0bb24dae2"
