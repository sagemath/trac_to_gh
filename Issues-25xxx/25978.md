# Issue 25978: Python 3: sorting issue causing failure in koszul_complex.py

archive/issues_025741.json:
```json
{
    "body": "A sorting issue (`TypeError: '>' not supported between instances of 'NoneType' and 'int'`) in `multi_polynomial_ring_base.pyx` causes a doctest failure in `koszul_complex.py` in Python 3.\n\nCC:  @fchapoton @tscrim\n\nBranch/Commit: 4a6ff4e6c396231908bd58758e46a9f0bb24dae2\n\nReviewer: Travis Scrimshaw\n\nAuthor: John Palmieri\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25978\n\n",
    "closed_at": "2018-09-01T09:09:58Z",
    "created_at": "2018-07-30T21:19:00Z",
    "labels": [
        "component: python3",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Python 3: sorting issue causing failure in koszul_complex.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25978",
    "user": "https://github.com/jhpalmieri"
}
```
A sorting issue (`TypeError: '>' not supported between instances of 'NoneType' and 'int'`) in `multi_polynomial_ring_base.pyx` causes a doctest failure in `koszul_complex.py` in Python 3.

CC:  @fchapoton @tscrim

Branch/Commit: 4a6ff4e6c396231908bd58758e46a9f0bb24dae2

Reviewer: Travis Scrimshaw

Author: John Palmieri

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25978





---

archive/issue_comments_498844.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jhpalmieri/koszul-multi-polynomial\"",
    "created_at": "2018-07-30T21:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498844",
    "user": "https://github.com/jhpalmieri"
}
```

Changing branch from "" to "u/jhpalmieri/koszul-multi-polynomial"



---

archive/issue_comments_498845.json:
```json
{
    "body": "Changing commit from \"\" to \"d8f9668efec431c33593f7490a78e22f6a8ebfd9\"",
    "created_at": "2018-07-30T21:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498845",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "" to "d8f9668efec431c33593f7490a78e22f6a8ebfd9"



---

archive/issue_comments_498846.json:
```json
{
    "body": "<a id='comment:2'></a>The issue here is that `terms` can be `None` while `total` is an integer, and then Python 3 objects to `if terms > total:`.\n\n---\nNew commits:",
    "created_at": "2018-07-30T21:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498846",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>The issue here is that `terms` can be `None` while `total` is an integer, and then Python 3 objects to `if terms > total:`.

---
New commits:



---

archive/issue_comments_498847.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-30T21:20:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498847",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_498848.json:
```json
{
    "body": "<a id='comment:4'></a>I think it is good to put a comment in there explaining why this test is the way it is.\n\nAlso, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).",
    "created_at": "2018-07-30T21:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498848",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>I think it is good to put a comment in there explaining why this test is the way it is.

Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).



---

archive/issue_comments_498849.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-30T22:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498849",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_498850.json:
```json
{
    "body": "Changing commit from \"d8f9668efec431c33593f7490a78e22f6a8ebfd9\" to \"4a6ff4e6c396231908bd58758e46a9f0bb24dae2\"",
    "created_at": "2018-07-30T22:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498850",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d8f9668efec431c33593f7490a78e22f6a8ebfd9" to "4a6ff4e6c396231908bd58758e46a9f0bb24dae2"



---

archive/issue_comments_498851.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [tscrim](#comment%3A4):\n> I think it is good to put a comment in there explaining why this test is the way it is.\n\n\nSounds good.\n\n> Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).\n\n\n`total` is defined by `counts, total = self._precomp_counts(n, degree)`, and according to the documentation, `total` is a sum of cardinalities, so it had better be nonnegative.",
    "created_at": "2018-07-30T22:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498851",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>Replying to [tscrim](#comment%3A4):
> I think it is good to put a comment in there explaining why this test is the way it is.


Sounds good.

> Also, I am presuming `total >= 0` (otherwise, there would be a bug when `terms = 0` and `total < 0`).


`total` is defined by `counts, total = self._precomp_counts(n, degree)`, and according to the documentation, `total` is a sum of cardinalities, so it had better be nonnegative.



---

archive/issue_comments_498852.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-30T22:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498852",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_498853.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2018-07-30T22:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498853",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_498854.json:
```json
{
    "body": "<a id='comment:7'></a>Thanks.",
    "created_at": "2018-07-30T22:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498854",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>Thanks.



---

archive/issue_events_064919.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-01T09:09:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25978#event-64919"
}
```



---

archive/issue_comments_498855.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-09-01T09:09:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498855",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_498856.json:
```json
{
    "body": "Changing branch from \"u/jhpalmieri/koszul-multi-polynomial\" to \"4a6ff4e6c396231908bd58758e46a9f0bb24dae2\"",
    "created_at": "2018-09-01T09:09:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25978",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25978#issuecomment-498856",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jhpalmieri/koszul-multi-polynomial" to "4a6ff4e6c396231908bd58758e46a9f0bb24dae2"
