# Issue 25443: bijections for set partitions

archive/issues_025206.json:
```json
{
    "assignees": [],
    "body": "In this ticket bijections on set partitions from and to rook placements and from and to restricted growth words are implemented.\n\n**CC:**  sage-combinat @tscrim\n\n**Branch/Commit:** [6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b](https://github.com/sagemath/sagetrac-mirror/commit/6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b)\n\n**Reviewer:** Christian Stump\n\n**Author:** Martin Rubey\n\nIssue created by migration from https://trac.sagemath.org/ticket/25443\n\n",
    "closed_at": "2018-11-22T21:37:12Z",
    "created_at": "2018-05-25T05:35:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "bijections for set partitions",
    "type": "issue",
    "updated_at": "2018-11-22T21:37:12Z",
    "url": "https://github.com/sagemath/sage/issues/25443",
    "user": "https://github.com/mantepse"
}
```
In this ticket bijections on set partitions from and to rook placements and from and to restricted growth words are implemented.

**CC:**  sage-combinat @tscrim

**Branch/Commit:** [6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b](https://github.com/sagemath/sagetrac-mirror/commit/6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b)

**Reviewer:** Christian Stump

**Author:** Martin Rubey

Issue created by migration from https://trac.sagemath.org/ticket/25443





---

archive/issue_events_306943.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-05-25T05:35:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306943"
}
```



---

archive/issue_comments_392303.json:
```json
{
    "body": "**Branch:** [u/mantepse/bijections_for_set_partitions](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/bijections_for_set_partitions)",
    "created_at": "2018-05-25T05:36:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392303",
    "user": "https://github.com/mantepse"
}
```

**Branch:** [u/mantepse/bijections_for_set_partitions](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/bijections_for_set_partitions)



---

archive/issue_comments_392304.json:
```json
{
    "body": "**Author:** Martin Rubey",
    "created_at": "2018-05-25T05:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392304",
    "user": "https://github.com/mantepse"
}
```

**Author:** Martin Rubey



---

archive/issue_events_306944.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-05-25T05:37:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "08517b",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306944"
}
```



---

archive/issue_comments_392305.json:
```json
{
    "body": "**Commit:** [3431edadfc58b38f6d1345759480bdc87f36f5aa](https://github.com/sagemath/sagetrac-mirror/commit/3431edadfc58b38f6d1345759480bdc87f36f5aa)",
    "created_at": "2018-05-25T05:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392305",
    "user": "https://github.com/mantepse"
}
```

**Commit:** [3431edadfc58b38f6d1345759480bdc87f36f5aa](https://github.com/sagemath/sagetrac-mirror/commit/3431edadfc58b38f6d1345759480bdc87f36f5aa)



---

archive/issue_events_306945.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-05-25T05:37:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306945"
}
```



---

archive/issue_comments_392306.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3431edadfc58b38f6d1345759480bdc87f36f5aa\">3431eda</a></td><td><code>add bijections to and from rook placements and restricted growth words</code></td></tr></table>\n",
    "created_at": "2018-05-25T05:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392306",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'>**Comment 2:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3431edadfc58b38f6d1345759480bdc87f36f5aa">3431eda</a></td><td><code>add bijections to and from rook placements and restricted growth words</code></td></tr></table>




---

archive/issue_comments_392307.json:
```json
{
    "body": "**Changing commit** from \"[3431edadfc58b38f6d1345759480bdc87f36f5aa](https://github.com/sagemath/sagetrac-mirror/commit/3431edadfc58b38f6d1345759480bdc87f36f5aa)\" to \"[1f8ea3775964b4337d3e543d7e7a787e576e52fe](https://github.com/sagemath/sagetrac-mirror/commit/1f8ea3775964b4337d3e543d7e7a787e576e52fe)\".",
    "created_at": "2018-05-26T22:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392307",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[3431edadfc58b38f6d1345759480bdc87f36f5aa](https://github.com/sagemath/sagetrac-mirror/commit/3431edadfc58b38f6d1345759480bdc87f36f5aa)" to "[1f8ea3775964b4337d3e543d7e7a787e576e52fe](https://github.com/sagemath/sagetrac-mirror/commit/1f8ea3775964b4337d3e543d7e7a787e576e52fe)".



---

archive/issue_comments_392308.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f8ea3775964b4337d3e543d7e7a787e576e52fe\">1f8ea37</a></td><td><code>add inverse of Yip's psi, improve documentation</code></td></tr></table>\n",
    "created_at": "2018-05-26T22:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392308",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>**Comment 4:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f8ea3775964b4337d3e543d7e7a787e576e52fe">1f8ea37</a></td><td><code>add inverse of Yip's psi, improve documentation</code></td></tr></table>




---

archive/issue_events_306946.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-05-26T22:09:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306946"
}
```



---

archive/issue_comments_392309.json:
```json
{
    "body": "**Changing commit** from \"[1f8ea3775964b4337d3e543d7e7a787e576e52fe](https://github.com/sagemath/sagetrac-mirror/commit/1f8ea3775964b4337d3e543d7e7a787e576e52fe)\" to \"[4ec2931fd0a905d6e4e75e3fd2edb119634e2e64](https://github.com/sagemath/sagetrac-mirror/commit/4ec2931fd0a905d6e4e75e3fd2edb119634e2e64)\".",
    "created_at": "2018-05-26T22:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392309",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1f8ea3775964b4337d3e543d7e7a787e576e52fe](https://github.com/sagemath/sagetrac-mirror/commit/1f8ea3775964b4337d3e543d7e7a787e576e52fe)" to "[4ec2931fd0a905d6e4e75e3fd2edb119634e2e64](https://github.com/sagemath/sagetrac-mirror/commit/4ec2931fd0a905d6e4e75e3fd2edb119634e2e64)".



---

archive/issue_comments_392310.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ec2931fd0a905d6e4e75e3fd2edb119634e2e64\">4ec2931</a></td><td><code>slight doc improvements</code></td></tr></table>\n",
    "created_at": "2018-05-26T22:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392310",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>**Comment 6:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ec2931fd0a905d6e4e75e3fd2edb119634e2e64">4ec2931</a></td><td><code>slight doc improvements</code></td></tr></table>




---

archive/issue_comments_392311.json:
```json
{
    "body": "**Changing commit** from \"[4ec2931fd0a905d6e4e75e3fd2edb119634e2e64](https://github.com/sagemath/sagetrac-mirror/commit/4ec2931fd0a905d6e4e75e3fd2edb119634e2e64)\" to \"[fb28c3f848ce76e151d5a2a72a85aa94880f6d8c](https://github.com/sagemath/sagetrac-mirror/commit/fb28c3f848ce76e151d5a2a72a85aa94880f6d8c)\".",
    "created_at": "2018-05-26T23:17:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392311",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[4ec2931fd0a905d6e4e75e3fd2edb119634e2e64](https://github.com/sagemath/sagetrac-mirror/commit/4ec2931fd0a905d6e4e75e3fd2edb119634e2e64)" to "[fb28c3f848ce76e151d5a2a72a85aa94880f6d8c](https://github.com/sagemath/sagetrac-mirror/commit/fb28c3f848ce76e151d5a2a72a85aa94880f6d8c)".



---

archive/issue_comments_392312.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb28c3f848ce76e151d5a2a72a85aa94880f6d8c\">fb28c3f</a></td><td><code>fix typo</code></td></tr></table>\n",
    "created_at": "2018-05-26T23:17:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392312",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>**Comment 7:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb28c3f848ce76e151d5a2a72a85aa94880f6d8c">fb28c3f</a></td><td><code>fix typo</code></td></tr></table>




---

archive/issue_comments_392313.json:
```json
{
    "body": "**Changing commit** from \"[fb28c3f848ce76e151d5a2a72a85aa94880f6d8c](https://github.com/sagemath/sagetrac-mirror/commit/fb28c3f848ce76e151d5a2a72a85aa94880f6d8c)\" to \"[c0ee5fd40e187b8710783a4ceedd80623f8e04ed](https://github.com/sagemath/sagetrac-mirror/commit/c0ee5fd40e187b8710783a4ceedd80623f8e04ed)\".",
    "created_at": "2018-05-26T23:27:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392313",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[fb28c3f848ce76e151d5a2a72a85aa94880f6d8c](https://github.com/sagemath/sagetrac-mirror/commit/fb28c3f848ce76e151d5a2a72a85aa94880f6d8c)" to "[c0ee5fd40e187b8710783a4ceedd80623f8e04ed](https://github.com/sagemath/sagetrac-mirror/commit/c0ee5fd40e187b8710783a4ceedd80623f8e04ed)".



---

archive/issue_comments_392314.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0ee5fd40e187b8710783a4ceedd80623f8e04ed\">c0ee5fd</a></td><td><code>really fix typo</code></td></tr></table>\n",
    "created_at": "2018-05-26T23:27:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392314",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>**Comment 8:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0ee5fd40e187b8710783a4ceedd80623f8e04ed">c0ee5fd</a></td><td><code>really fix typo</code></td></tr></table>




---

archive/issue_comments_392315.json:
```json
{
    "body": "**Changing commit** from \"[c0ee5fd40e187b8710783a4ceedd80623f8e04ed](https://github.com/sagemath/sagetrac-mirror/commit/c0ee5fd40e187b8710783a4ceedd80623f8e04ed)\" to \"[85a4474afb42315b73700956239dff4acd35b633](https://github.com/sagemath/sagetrac-mirror/commit/85a4474afb42315b73700956239dff4acd35b633)\".",
    "created_at": "2018-05-26T23:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392315",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c0ee5fd40e187b8710783a4ceedd80623f8e04ed](https://github.com/sagemath/sagetrac-mirror/commit/c0ee5fd40e187b8710783a4ceedd80623f8e04ed)" to "[85a4474afb42315b73700956239dff4acd35b633](https://github.com/sagemath/sagetrac-mirror/commit/85a4474afb42315b73700956239dff4acd35b633)".



---

archive/issue_comments_392316.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85a4474afb42315b73700956239dff4acd35b633\">85a4474</a></td><td><code>fix missing import for doctest</code></td></tr></table>\n",
    "created_at": "2018-05-26T23:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392316",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>**Comment 9:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85a4474afb42315b73700956239dff4acd35b633">85a4474</a></td><td><code>fix missing import for doctest</code></td></tr></table>




---

archive/issue_comments_392317.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nCould you update the ticket description?\n\nIn the methods `openers` and `closers`, why do you sort? (Note that you do not use these methods except in doctests in which you sort again)\n\nRook placement corresponds to position in a matrix. It is very unconvenient to have them start at 1...\n\nWhat does the following has to do with the ticket!?\n\n```\n+        sage: from sage.combinat.q_analogues import q_int\n+        sage: q = ZZ['q'].gen(); h = SymmetricFunctions(ZZ).h()\n+        sage: n = 6;\n+        sage: s = lambda k: {\"x%s\"%i: q_int(i+1) for i in range(k)}\n+        sage: all(q_stirling_number2(n,k) == q^binomial(k,2)*h[n-k].expand(k, s(k).keys()).subs(**s(k)) for k in range(1,n))\n+        True\n```\n\nInstead of things like `r = next(i for i,j in rooks if c == j)` you would better convert a rook placement into a dictionary `j -> i`.\n\nIn `from_rook_placement_gamma`, you would better use `set` rather than `list` and use the method `discard` for removing element.",
    "created_at": "2018-06-03T09:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392317",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'>**Comment 10:**</a>
Could you update the ticket description?

In the methods `openers` and `closers`, why do you sort? (Note that you do not use these methods except in doctests in which you sort again)

Rook placement corresponds to position in a matrix. It is very unconvenient to have them start at 1...

What does the following has to do with the ticket!?

```
+        sage: from sage.combinat.q_analogues import q_int
+        sage: q = ZZ['q'].gen(); h = SymmetricFunctions(ZZ).h()
+        sage: n = 6;
+        sage: s = lambda k: {"x%s"%i: q_int(i+1) for i in range(k)}
+        sage: all(q_stirling_number2(n,k) == q^binomial(k,2)*h[n-k].expand(k, s(k).keys()).subs(**s(k)) for k in range(1,n))
+        True
```

Instead of things like `r = next(i for i,j in rooks if c == j)` you would better convert a rook placement into a dictionary `j -> i`.

In `from_rook_placement_gamma`, you would better use `set` rather than `list` and use the method `discard` for removing element.



---

archive/issue_events_306947.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-17T09:38:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306947"
}
```



---

archive/issue_events_306948.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-06-17T09:38:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306948"
}
```



---

archive/issue_comments_392318.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\n(I have actually done the modifications, but was mostly without internet for the last two weeks)",
    "created_at": "2018-06-18T06:43:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392318",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:12'>**Comment 12:**</a>
(I have actually done the modifications, but was mostly without internet for the last two weeks)



---

archive/issue_comments_392319.json:
```json
{
    "body": "**Changing commit** from \"[85a4474afb42315b73700956239dff4acd35b633](https://github.com/sagemath/sagetrac-mirror/commit/85a4474afb42315b73700956239dff4acd35b633)\" to \"[5c42f0be1828262704aae7e821b779590ef9e16d](https://github.com/sagemath/sagetrac-mirror/commit/5c42f0be1828262704aae7e821b779590ef9e16d)\".",
    "created_at": "2018-06-19T15:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392319",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[85a4474afb42315b73700956239dff4acd35b633](https://github.com/sagemath/sagetrac-mirror/commit/85a4474afb42315b73700956239dff4acd35b633)" to "[5c42f0be1828262704aae7e821b779590ef9e16d](https://github.com/sagemath/sagetrac-mirror/commit/5c42f0be1828262704aae7e821b779590ef9e16d)".



---

archive/issue_comments_392320.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70911543c43c5b7113f13e18e037b29607ef3ba6\">7091154</a></td><td><code>create separate methods for restricted growth words, follow some of reviewers suggestions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c42f0be1828262704aae7e821b779590ef9e16d\">5c42f0b</a></td><td><code>remove extraneous doctest</code></td></tr></table>\n",
    "created_at": "2018-06-19T15:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392320",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>**Comment 13:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70911543c43c5b7113f13e18e037b29607ef3ba6">7091154</a></td><td><code>create separate methods for restricted growth words, follow some of reviewers suggestions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c42f0be1828262704aae7e821b779590ef9e16d">5c42f0b</a></td><td><code>remove extraneous doctest</code></td></tr></table>




---

archive/issue_comments_392321.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+In this ticket bijections on set partitions from and to rook placements and from and to restricted growth words are implemented.\n``````\n",
    "created_at": "2018-06-19T15:41:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392321",
    "user": "https://github.com/mantepse"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+In this ticket bijections on set partitions from and to rook placements and from and to restricted growth words are implemented.
``````




---

archive/issue_comments_392322.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70911543c43c5b7113f13e18e037b29607ef3ba6\">7091154</a></td><td><code>create separate methods for restricted growth words, follow some of reviewers suggestions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c42f0be1828262704aae7e821b779590ef9e16d\">5c42f0b</a></td><td><code>remove extraneous doctest</code></td></tr></table>\n",
    "created_at": "2018-06-19T15:41:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392322",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:14'>**Comment 14:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70911543c43c5b7113f13e18e037b29607ef3ba6">7091154</a></td><td><code>create separate methods for restricted growth words, follow some of reviewers suggestions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c42f0be1828262704aae7e821b779590ef9e16d">5c42f0b</a></td><td><code>remove extraneous doctest</code></td></tr></table>




---

archive/issue_comments_392323.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nHi Vincent!\n\n> In the methods `openers` and `closers`, why do you sort? (Note that you do not use these methods except in doctests in which you sort again)\n\nI think of these as convenience methods for the user, so sorting seemed appropriate to me.  I wouldn't use them in library code, because there is little to be gained. In the doctest I have to sort again, because I am adding other elements.\n\nI won't insist: I can remove the sorting, too.\n\n> Rook placement corresponds to position in a matrix. It is very unconvenient to have them start at 1...\n\nThis is something I actually thought about for quite some time, with no really good conclusion.  There are several ways to turn a set partition into a rook placement, the most common is to take the set of arcs.  Most but not all papers think of a rook placement corresponding to a set partition as an upper triangular matrix, so that's the convention I followed.\n\nThe entries of the set partitions in sage are {1,...,n}, so I would have to subtract 1 from each entry.  Are you sure that this is more convenient in the end?  I think most of the time the user is going to convert from arc-like things, but I don't know.  I think `from_arcs` is convenient, should I simply add another method `from_rook_placement_arcs`, which is zero-based?\n\nI followed all your other comments and found them very good!",
    "created_at": "2018-06-19T15:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392323",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:15'>**Comment 15:**</a>
Hi Vincent!

> In the methods `openers` and `closers`, why do you sort? (Note that you do not use these methods except in doctests in which you sort again)

I think of these as convenience methods for the user, so sorting seemed appropriate to me.  I wouldn't use them in library code, because there is little to be gained. In the doctest I have to sort again, because I am adding other elements.

I won't insist: I can remove the sorting, too.

> Rook placement corresponds to position in a matrix. It is very unconvenient to have them start at 1...

This is something I actually thought about for quite some time, with no really good conclusion.  There are several ways to turn a set partition into a rook placement, the most common is to take the set of arcs.  Most but not all papers think of a rook placement corresponding to a set partition as an upper triangular matrix, so that's the convention I followed.

The entries of the set partitions in sage are {1,...,n}, so I would have to subtract 1 from each entry.  Are you sure that this is more convenient in the end?  I think most of the time the user is going to convert from arc-like things, but I don't know.  I think `from_arcs` is convenient, should I simply add another method `from_rook_placement_arcs`, which is zero-based?

I followed all your other comments and found them very good!



---

archive/issue_comments_392324.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4\">ee3e5ea</a></td><td><code>do not needlessly touch q_analogues.py</code></td></tr></table>\n",
    "created_at": "2018-06-19T15:55:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392324",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>**Comment 16:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4">ee3e5ea</a></td><td><code>do not needlessly touch q_analogues.py</code></td></tr></table>




---

archive/issue_comments_392325.json:
```json
{
    "body": "**Changing commit** from \"[5c42f0be1828262704aae7e821b779590ef9e16d](https://github.com/sagemath/sagetrac-mirror/commit/5c42f0be1828262704aae7e821b779590ef9e16d)\" to \"[ee3e5ea64b60c42b174f77cffd912e171baaa3b4](https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4)\".",
    "created_at": "2018-06-19T15:55:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392325",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[5c42f0be1828262704aae7e821b779590ef9e16d](https://github.com/sagemath/sagetrac-mirror/commit/5c42f0be1828262704aae7e821b779590ef9e16d)" to "[ee3e5ea64b60c42b174f77cffd912e171baaa3b4](https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4)".



---

archive/issue_events_306949.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-06-19T15:55:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306949"
}
```



---

archive/issue_events_306950.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-06-19T15:55:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306950"
}
```



---

archive/issue_comments_392326.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4\">ee3e5ea</a></td><td><code>do not needlessly touch q_analogues.py</code></td></tr></table>\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4\">ee3e5ea</a></td><td><code>do not needlessly touch q_analogues.py</code></td></tr></table>\n",
    "created_at": "2018-06-19T15:55:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392326",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:17'>**Comment 17:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4">ee3e5ea</a></td><td><code>do not needlessly touch q_analogues.py</code></td></tr></table>

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4">ee3e5ea</a></td><td><code>do not needlessly touch q_analogues.py</code></td></tr></table>




---

archive/issue_comments_392327.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nPerhaps it does not matter so much, but what you do in `to_restricted_growth_word_blocks` is quite inefficient\n\n```\n[next(i for i, B in enumerate(self) if j in B) for j in range(1, self.size()+1)]\n```\nYou would better use the linear time\n\n```\nl = [0] * self.size()\nfor i,B in enumerate(S):\n    for j in B:\n        l[j-1] = i\n```\n(here agin the shift in indices `j-1` quite frustrating)",
    "created_at": "2018-06-19T21:52:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392327",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'>**Comment 18:**</a>
Perhaps it does not matter so much, but what you do in `to_restricted_growth_word_blocks` is quite inefficient

```
[next(i for i, B in enumerate(self) if j in B) for j in range(1, self.size()+1)]
```
You would better use the linear time

```
l = [0] * self.size()
for i,B in enumerate(S):
    for j in B:
        l[j-1] = i
```
(here agin the shift in indices `j-1` quite frustrating)



---

archive/issue_comments_392328.json:
```json
{
    "body": "**Changing commit** from \"[ee3e5ea64b60c42b174f77cffd912e171baaa3b4](https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4)\" to \"[76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48](https://github.com/sagemath/sagetrac-mirror/commit/76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48)\".",
    "created_at": "2018-06-20T05:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392328",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[ee3e5ea64b60c42b174f77cffd912e171baaa3b4](https://github.com/sagemath/sagetrac-mirror/commit/ee3e5ea64b60c42b174f77cffd912e171baaa3b4)" to "[76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48](https://github.com/sagemath/sagetrac-mirror/commit/76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48)".



---

archive/issue_comments_392329.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48\">76ac80d</a></td><td><code>faster and easier to understand to_restricted_growth_word_blocks</code></td></tr></table>\n",
    "created_at": "2018-06-20T05:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392329",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>**Comment 19:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48">76ac80d</a></td><td><code>faster and easier to understand to_restricted_growth_word_blocks</code></td></tr></table>




---

archive/issue_comments_392330.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\nping?",
    "created_at": "2018-08-26T22:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392330",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:20'>**Comment 20:**</a>
ping?



---

archive/issue_comments_392331.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47052774e4f91c3ea26465f347d5d32e8eda493b\">4705277</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25443/bijections_for_set_partitions</code></td></tr></table>\n",
    "created_at": "2018-11-20T03:06:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392331",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>**Comment 21:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47052774e4f91c3ea26465f347d5d32e8eda493b">4705277</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25443/bijections_for_set_partitions</code></td></tr></table>




---

archive/issue_comments_392332.json:
```json
{
    "body": "**Changing commit** from \"[76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48](https://github.com/sagemath/sagetrac-mirror/commit/76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48)\" to \"[47052774e4f91c3ea26465f347d5d32e8eda493b](https://github.com/sagemath/sagetrac-mirror/commit/47052774e4f91c3ea26465f347d5d32e8eda493b)\".",
    "created_at": "2018-11-20T03:06:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392332",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48](https://github.com/sagemath/sagetrac-mirror/commit/76ac80d4a3dfe96f60844dc1c2ff453d0b3fde48)" to "[47052774e4f91c3ea26465f347d5d32e8eda493b](https://github.com/sagemath/sagetrac-mirror/commit/47052774e4f91c3ea26465f347d5d32e8eda493b)".



---

archive/issue_comments_392333.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nMarta Yip's article has been published: http://www.combinatorics.org/ojs/index.php/eljc/article/view/v25i1p68.\n\nBeside, if the code does what you expect it to do, I would have one brief final look...",
    "created_at": "2018-11-20T11:51:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392333",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:22'>**Comment 22:**</a>
Marta Yip's article has been published: http://www.combinatorics.org/ojs/index.php/eljc/article/view/v25i1p68.

Beside, if the code does what you expect it to do, I would have one brief final look...



---

archive/issue_comments_392334.json:
```json
{
    "body": "**Changing commit** from \"[47052774e4f91c3ea26465f347d5d32e8eda493b](https://github.com/sagemath/sagetrac-mirror/commit/47052774e4f91c3ea26465f347d5d32e8eda493b)\" to \"[de0815c93db019b6db4305ec4d5322a088ee5d38](https://github.com/sagemath/sagetrac-mirror/commit/de0815c93db019b6db4305ec4d5322a088ee5d38)\".",
    "created_at": "2018-11-20T12:03:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392334",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[47052774e4f91c3ea26465f347d5d32e8eda493b](https://github.com/sagemath/sagetrac-mirror/commit/47052774e4f91c3ea26465f347d5d32e8eda493b)" to "[de0815c93db019b6db4305ec4d5322a088ee5d38](https://github.com/sagemath/sagetrac-mirror/commit/de0815c93db019b6db4305ec4d5322a088ee5d38)".



---

archive/issue_comments_392335.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de0815c93db019b6db4305ec4d5322a088ee5d38\">de0815c</a></td><td><code>fix reference</code></td></tr></table>\n",
    "created_at": "2018-11-20T12:03:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392335",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>**Comment 23:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de0815c93db019b6db4305ec4d5322a088ee5d38">de0815c</a></td><td><code>fix reference</code></td></tr></table>




---

archive/issue_comments_392336.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\nDone!",
    "created_at": "2018-11-20T12:03:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392336",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:24'>**Comment 24:**</a>
Done!



---

archive/issue_comments_392337.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\n> \\# we can assume that the blocks are sorted by minimal element\n\nThe constructor of set partitions does not promise this property. I am not sure it is worth assuming it and then getting into trouble in 10 years from now because someone changed the implementation (or factored this code out into a category).",
    "created_at": "2018-11-20T12:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392337",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:25'>**Comment 25:**</a>
> \# we can assume that the blocks are sorted by minimal element

The constructor of set partitions does not promise this property. I am not sure it is worth assuming it and then getting into trouble in 10 years from now because someone changed the implementation (or factored this code out into a category).



---

archive/issue_comments_392338.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nI can replace\n\n```\n        for i, B in enumerate(self):\n```\nwith\n\n```\n        for i, B in enumerate(sorted(self, key=min)):\n```\nbut I would be surprised if this isn't used outside of the new code, too.\n\nDo you want me to make this change?",
    "created_at": "2018-11-20T12:21:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392338",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:26'>**Comment 26:**</a>
I can replace

```
        for i, B in enumerate(self):
```
with

```
        for i, B in enumerate(sorted(self, key=min)):
```
but I would be surprised if this isn't used outside of the new code, too.

Do you want me to make this change?



---

archive/issue_comments_392339.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nI agree that this is probably done already somewhere. The question is just if you want to rely on this property that is not promised to hold. You decide.",
    "created_at": "2018-11-20T12:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392339",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:27'>**Comment 27:**</a>
I agree that this is probably done already somewhere. The question is just if you want to rely on this property that is not promised to hold. You decide.



---

archive/issue_comments_392340.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nOut of curiosity I tried what happens if I do not sort by minimal element in `SetPartition.__init__` (but do so only in `_repr_`).  Surprisingly, except for equality of set partitions, there are not so many failures.\n\nHowever, I wonder where would you document that the internal representation keeps the blocks sorted by minimal element?  Would you put it into the docstring of `__init__`?",
    "created_at": "2018-11-20T13:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392340",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:28'>**Comment 28:**</a>
Out of curiosity I tried what happens if I do not sort by minimal element in `SetPartition.__init__` (but do so only in `_repr_`).  Surprisingly, except for equality of set partitions, there are not so many failures.

However, I wonder where would you document that the internal representation keeps the blocks sorted by minimal element?  Would you put it into the docstring of `__init__`?



---

archive/issue_comments_392341.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\nMaybe yes, into `__init__`. I do think it should be clarified *somewhere* whether or not `__iter__` promises anything about the order of the iterator.\n\nThis sorting is also assumed elsewhere, such as\n\n```\ndef standard_form(self):\n    return [sorted(_) for _ in self]\n```\nwhich only makes sense if self is sorted already.\n\nSince this sorting is also used in other places, would you add a promise into the `__init__` so that everyone can rely on it ?",
    "created_at": "2018-11-20T13:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392341",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:29'>**Comment 29:**</a>
Maybe yes, into `__init__`. I do think it should be clarified *somewhere* whether or not `__iter__` promises anything about the order of the iterator.

This sorting is also assumed elsewhere, such as

```
def standard_form(self):
    return [sorted(_) for _ in self]
```
which only makes sense if self is sorted already.

Since this sorting is also used in other places, would you add a promise into the `__init__` so that everyone can rely on it ?



---

archive/issue_comments_392342.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b\">6b1cb91</a></td><td><code>add note that the sequence of blocks is sorted by their minimal elements</code></td></tr></table>\n",
    "created_at": "2018-11-20T13:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392342",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:30'>**Comment 30:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b">6b1cb91</a></td><td><code>add note that the sequence of blocks is sorted by their minimal elements</code></td></tr></table>




---

archive/issue_comments_392343.json:
```json
{
    "body": "**Changing commit** from \"[de0815c93db019b6db4305ec4d5322a088ee5d38](https://github.com/sagemath/sagetrac-mirror/commit/de0815c93db019b6db4305ec4d5322a088ee5d38)\" to \"[6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b](https://github.com/sagemath/sagetrac-mirror/commit/6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b)\".",
    "created_at": "2018-11-20T13:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392343",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[de0815c93db019b6db4305ec4d5322a088ee5d38](https://github.com/sagemath/sagetrac-mirror/commit/de0815c93db019b6db4305ec4d5322a088ee5d38)" to "[6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b](https://github.com/sagemath/sagetrac-mirror/commit/6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b)".



---

archive/issue_events_306951.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2018-11-21T10:40:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306951"
}
```



---

archive/issue_events_306952.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2018-11-21T10:40:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306952"
}
```



---

archive/issue_comments_392344.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nokay, I think it's ready to go",
    "created_at": "2018-11-21T10:40:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392344",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:31'>**Comment 31:**</a>
okay, I think it's ready to go



---

archive/issue_comments_392345.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\nMany thanks!",
    "created_at": "2018-11-21T11:31:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392345",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:32'>**Comment 32:**</a>
Many thanks!



---

archive/issue_comments_392346.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\nReviewer name.",
    "created_at": "2018-11-21T15:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392346",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'>**Comment 33:**</a>
Reviewer name.



---

archive/issue_events_306953.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-21T15:54:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306953"
}
```



---

archive/issue_events_306954.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-21T15:54:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306954"
}
```



---

archive/issue_events_306955.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-21T15:54:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306955"
}
```



---

archive/issue_events_306956.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-21T15:54:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306956"
}
```



---

archive/issue_comments_392347.json:
```json
{
    "body": "**Reviewer:** Christian Stump",
    "created_at": "2018-11-21T16:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392347",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

**Reviewer:** Christian Stump



---

archive/issue_events_306957.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2018-11-21T16:37:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306957"
}
```



---

archive/issue_events_306958.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2018-11-21T16:37:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306958"
}
```



---

archive/issue_events_306959.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-22T21:37:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306959"
}
```



---

archive/issue_events_306960.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7b564b0ed620412992e506ed80d176bbe4dfde87",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-11-22T21:37:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25443#event-306960"
}
```



---

archive/issue_comments_392348.json:
```json
{
    "body": "**Changing branch** from \"[u/mantepse/bijections_for_set_partitions](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/bijections_for_set_partitions)\" to \"[6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b](https://github.com/sagemath/sagetrac-mirror/commit/6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b)\".",
    "created_at": "2018-11-22T21:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25443#issuecomment-392348",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mantepse/bijections_for_set_partitions](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/bijections_for_set_partitions)" to "[6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b](https://github.com/sagemath/sagetrac-mirror/commit/6b1cb91264a1c68b9c4e53b7ddbb8fd6f6527a6b)".
