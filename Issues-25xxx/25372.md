# Issue 25372: Add DESTDIR support for cryptominisat

archive/issues_025135.json:
```json
{
    "body": "I as asked to prepare a build of this that can be dropped into an installation of the Windows version of Sage.\n\nIn order to do this it's best to add DESTDIR support to the build so that it's easy to generate a file manifest (also, being an experimental package, it's even more important that uninstall work for it as well).\n\n**Upstream PR:** https://github.com/msoos/cryptominisat/pull/490\n\n**Keywords:** destdir cryptominisat\n\n**Branch/Commit:** [312f1eb4a52174e352f8b6ac2866ce14067126f0](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\n**Reviewer:** Julian R\u00fcth\n\n**Author:** Erik Bray\n\nIssue created by migration from https://trac.sagemath.org/ticket/25372\n\n",
    "closed_at": "2018-05-28T07:45:28Z",
    "created_at": "2018-05-16T12:02:13Z",
    "labels": [
        "component: packages: experimental",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Add DESTDIR support for cryptominisat",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25372",
    "user": "https://github.com/embray"
}
```
I as asked to prepare a build of this that can be dropped into an installation of the Windows version of Sage.

In order to do this it's best to add DESTDIR support to the build so that it's easy to generate a file manifest (also, being an experimental package, it's even more important that uninstall work for it as well).

**Upstream PR:** https://github.com/msoos/cryptominisat/pull/490

**Keywords:** destdir cryptominisat

**Branch/Commit:** [312f1eb4a52174e352f8b6ac2866ce14067126f0](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)

**Upstream:** Fixed upstream, but not in a stable release.

**Reviewer:** Julian Rüth

**Author:** Erik Bray

Issue created by migration from https://trac.sagemath.org/ticket/25372





---

archive/issue_comments_463155.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778\">48159c7</a></td><td><code>Use sage-dist-helpers to add DESTDIR support in cryptominisat</code></td></tr></table>\n",
    "created_at": "2018-05-16T12:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463155",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778">48159c7</a></td><td><code>Use sage-dist-helpers to add DESTDIR support in cryptominisat</code></td></tr></table>




---

archive/issue_comments_463156.json:
```json
{
    "body": "**Branch:** [u/embray/build/destdir-cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/destdir-cryptominisat)",
    "created_at": "2018-05-16T12:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463156",
    "user": "https://github.com/embray"
}
```

**Branch:** [u/embray/build/destdir-cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/destdir-cryptominisat)



---

archive/issue_comments_463157.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-05-16T12:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463157",
    "user": "https://github.com/embray"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_463158.json:
```json
{
    "body": "**Author:** Erik Bray",
    "created_at": "2018-05-16T12:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463158",
    "user": "https://github.com/embray"
}
```

**Author:** Erik Bray



---

archive/issue_comments_463159.json:
```json
{
    "body": "**Commit:** [48159c7deac5e180f42d7c01faf1a721740ca778](https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778)",
    "created_at": "2018-05-16T12:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463159",
    "user": "https://github.com/embray"
}
```

**Commit:** [48159c7deac5e180f42d7c01faf1a721740ca778](https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778)



---

archive/issue_comments_463160.json:
```json
{
    "body": "<a id='comment:2'></a>\nIt seems this isn't handling installation of the Python module properly.",
    "created_at": "2018-05-16T12:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463160",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>
It seems this isn't handling installation of the Python module properly.



---

archive/issue_comments_463161.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-05-16T12:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463161",
    "user": "https://github.com/embray"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_463162.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0\">312f1eb</a></td><td><code>add a patch to cryptominisat so that when it installs its Python package that also respects DESTDIR</code></td></tr></table>\n",
    "created_at": "2018-05-16T14:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463162",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0">312f1eb</a></td><td><code>add a patch to cryptominisat so that when it installs its Python package that also respects DESTDIR</code></td></tr></table>




---

archive/issue_comments_463163.json:
```json
{
    "body": "**Changing commit** from \"[48159c7deac5e180f42d7c01faf1a721740ca778](https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778)\" to \"[312f1eb4a52174e352f8b6ac2866ce14067126f0](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)\".",
    "created_at": "2018-05-16T14:47:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463163",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[48159c7deac5e180f42d7c01faf1a721740ca778](https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778)" to "[312f1eb4a52174e352f8b6ac2866ce14067126f0](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)".



---

archive/issue_comments_463164.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-05-16T14:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463164",
    "user": "https://github.com/embray"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_463165.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis appears to do the trick.  \n\nNote, the renaming of the patch files to be ordered is not strictly necessary for this ticket, but it was done in anticipation of a follow-up ticket I'll be adding.",
    "created_at": "2018-05-16T14:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463165",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'></a>
This appears to do the trick.  

Note, the renaming of the patch files to be ordered is not strictly necessary for this ticket, but it was done in anticipation of a follow-up ticket I'll be adding.



---

archive/issue_comments_463166.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Not yet reported upstream; Will do shortly.\".",
    "created_at": "2018-05-16T14:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463166",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "N/A" to "Not yet reported upstream; Will do shortly.".



---

archive/issue_comments_463167.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"destdir cryptominisat\".",
    "created_at": "2018-05-16T14:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463167",
    "user": "https://github.com/embray"
}
```

**Changing keywords** from "" to "destdir cryptominisat".



---

archive/issue_comments_463168.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n I as asked to prepare a build of this that can be dropped into an installation of the Windows version of Sage.\n \n In order to do this it's best to add DESTDIR support to the build so that it's easy to generate a file manifest (also, being an experimental package, it's even more important that uninstall work for it as well).\n+\n+**Upstream PR:** https://github.com/msoos/cryptominisat/pull/490\n``````\n",
    "created_at": "2018-05-16T15:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463168",
    "user": "https://github.com/embray"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 I as asked to prepare a build of this that can be dropped into an installation of the Windows version of Sage.
 
 In order to do this it's best to add DESTDIR support to the build so that it's easy to generate a file manifest (also, being an experimental package, it's even more important that uninstall work for it as well).
+
+**Upstream PR:** https://github.com/msoos/cryptominisat/pull/490
``````




---

archive/issue_comments_463169.json:
```json
{
    "body": "**Changing upstream** from \"Not yet reported upstream; Will do shortly.\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2018-05-16T15:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463169",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "Not yet reported upstream; Will do shortly." to "Reported upstream. No feedback yet.".



---

archive/issue_comments_463170.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2018-05-17T14:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463170",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "Reported upstream. No feedback yet." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_463171.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-05-26T17:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463171",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_463172.json:
```json
{
    "body": "**Reviewer:** Julian R\u00fcth",
    "created_at": "2018-05-26T17:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463172",
    "user": "https://github.com/saraedum"
}
```

**Reviewer:** Julian Rüth



---

archive/issue_events_072658.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-28T07:45:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25372#event-72658"
}
```



---

archive/issue_comments_463173.json:
```json
{
    "body": "**Changing branch** from \"[u/embray/build/destdir-cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/destdir-cryptominisat)\" to \"[312f1eb4a52174e352f8b6ac2866ce14067126f0](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)\".",
    "created_at": "2018-05-28T07:45:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25372#issuecomment-463173",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/embray/build/destdir-cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/destdir-cryptominisat)" to "[312f1eb4a52174e352f8b6ac2866ce14067126f0](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)".
