# Issue 25372: Add DESTDIR support for cryptominisat

archive/issues_025135.json:
```json
{
    "assignees": [],
    "body": "I as asked to prepare a build of this that can be dropped into an installation of the Windows version of Sage.\n\nIn order to do this it's best to add DESTDIR support to the build so that it's easy to generate a file manifest (also, being an experimental package, it's even more important that uninstall work for it as well).\n\n**Upstream PR:** https://github.com/msoos/cryptominisat/pull/490\n\nKeywords: **destdir cryptominisat**\n\nBranch/Commit: **[312f1eb](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)**\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nReviewer: **Julian R\u00fcth**\n\nAuthor: **Erik Bray**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25372_\n\n",
    "closed_at": "2018-05-28T07:45:28Z",
    "created_at": "2018-05-16T12:02:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add DESTDIR support for cryptominisat",
    "type": "issue",
    "updated_at": "2018-05-28T07:45:28Z",
    "url": "https://github.com/sagemath/sage/issues/25372",
    "user": "https://github.com/embray"
}
```
I as asked to prepare a build of this that can be dropped into an installation of the Windows version of Sage.

In order to do this it's best to add DESTDIR support to the build so that it's easy to generate a file manifest (also, being an experimental package, it's even more important that uninstall work for it as well).

**Upstream PR:** https://github.com/msoos/cryptominisat/pull/490

Keywords: **destdir cryptominisat**

Branch/Commit: **[312f1eb](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)**

Upstream: **Fixed upstream, but not in a stable release.**

Reviewer: **Julian Rüth**

Author: **Erik Bray**

_Issue created by migration from https://trac.sagemath.org/ticket/25372_





---

archive/issue_events_333013.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T12:02:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333013"
}
```



---

archive/issue_events_333014.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T12:02:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "component: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333014"
}
```



---

archive/issue_events_333015.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T12:02:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333015"
}
```



---

archive/issue_events_333016.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T12:02:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333016"
}
```



---

archive/issue_comments_390897.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778\">48159c7</a></td><td><code>Use sage-dist-helpers to add DESTDIR support in cryptominisat</code></td></tr></table>\n",
    "created_at": "2018-05-16T12:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390897",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778">48159c7</a></td><td><code>Use sage-dist-helpers to add DESTDIR support in cryptominisat</code></td></tr></table>




---

archive/issue_comments_390898.json:
```json
{
    "body": "Branch: **[u/embray/build/destdir-cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/destdir-cryptominisat)**",
    "created_at": "2018-05-16T12:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390898",
    "user": "https://github.com/embray"
}
```

Branch: **[u/embray/build/destdir-cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/destdir-cryptominisat)**



---

archive/issue_events_333017.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T12:06:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333017"
}
```



---

archive/issue_comments_390899.json:
```json
{
    "body": "Author: **Erik Bray**",
    "created_at": "2018-05-16T12:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390899",
    "user": "https://github.com/embray"
}
```

Author: **Erik Bray**



---

archive/issue_comments_390900.json:
```json
{
    "body": "Commit: **[48159c7](https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778)**",
    "created_at": "2018-05-16T12:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390900",
    "user": "https://github.com/embray"
}
```

Commit: **[48159c7](https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778)**



---

archive/issue_comments_390901.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nIt seems this isn't handling installation of the Python module properly.",
    "created_at": "2018-05-16T12:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390901",
    "user": "https://github.com/embray"
}
```

<div id="comment:2" align="right">Comment 2</div>

It seems this isn't handling installation of the Python module properly.



---

archive/issue_events_333018.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T12:19:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333018"
}
```



---

archive/issue_events_333019.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T12:19:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333019"
}
```



---

archive/issue_comments_390902.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0\">312f1eb</a></td><td><code>add a patch to cryptominisat so that when it installs its Python package that also respects DESTDIR</code></td></tr></table>\n",
    "created_at": "2018-05-16T14:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390902",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0">312f1eb</a></td><td><code>add a patch to cryptominisat so that when it installs its Python package that also respects DESTDIR</code></td></tr></table>




---

archive/issue_comments_390903.json:
```json
{
    "body": "Changed commit from **[48159c7](https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778)** to **[312f1eb](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)**",
    "created_at": "2018-05-16T14:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390903",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[48159c7](https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778)** to **[312f1eb](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)**



---

archive/issue_events_333020.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T14:50:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333020"
}
```



---

archive/issue_events_333021.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-16T14:50:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333021"
}
```



---

archive/issue_comments_390904.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThis appears to do the trick.  \n\nNote, the renaming of the patch files to be ordered is not strictly necessary for this ticket, but it was done in anticipation of a follow-up ticket I'll be adding.",
    "created_at": "2018-05-16T14:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390904",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">Comment 4</div>

This appears to do the trick.  

Note, the renaming of the patch files to be ordered is not strictly necessary for this ticket, but it was done in anticipation of a follow-up ticket I'll be adding.



---

archive/issue_comments_390905.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2018-05-16T14:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390905",
    "user": "https://github.com/embray"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_390906.json:
```json
{
    "body": "Changed keywords from none to **destdir cryptominisat**",
    "created_at": "2018-05-16T14:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390906",
    "user": "https://github.com/embray"
}
```

Changed keywords from none to **destdir cryptominisat**



---

archive/issue_comments_390907.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n I as asked to prepare a build of this that can be dropped into an installation of the Windows version of Sage.\n \n In order to do this it's best to add DESTDIR support to the build so that it's easy to generate a file manifest (also, being an experimental package, it's even more important that uninstall work for it as well).\n+\n+**Upstream PR:** https://github.com/msoos/cryptominisat/pull/490\n``````\n",
    "created_at": "2018-05-16T15:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390907",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 I as asked to prepare a build of this that can be dropped into an installation of the Windows version of Sage.
 
 In order to do this it's best to add DESTDIR support to the build so that it's easy to generate a file manifest (also, being an experimental package, it's even more important that uninstall work for it as well).
+
+**Upstream PR:** https://github.com/msoos/cryptominisat/pull/490
``````




---

archive/issue_comments_390908.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. No feedback yet.**",
    "created_at": "2018-05-16T15:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390908",
    "user": "https://github.com/embray"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. No feedback yet.**



---

archive/issue_comments_390909.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2018-05-17T14:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390909",
    "user": "https://github.com/embray"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_events_333022.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-05-26T17:02:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333022"
}
```



---

archive/issue_events_333023.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-05-26T17:02:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333023"
}
```



---

archive/issue_comments_390910.json:
```json
{
    "body": "Reviewer: **Julian R\u00fcth**",
    "created_at": "2018-05-26T17:03:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390910",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian Rüth**



---

archive/issue_events_333024.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-28T07:45:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333024"
}
```



---

archive/issue_events_333025.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "013212cfc35543b6caeb232eab6e7a69daa90ee5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-28T07:45:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25372#event-333025"
}
```



---

archive/issue_comments_390911.json:
```json
{
    "body": "Changed branch from **[u/embray/build/destdir-cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/destdir-cryptominisat)** to **[312f1eb](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)**",
    "created_at": "2018-05-28T07:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25372",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25372#issuecomment-390911",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/build/destdir-cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/destdir-cryptominisat)** to **[312f1eb](https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0)**
