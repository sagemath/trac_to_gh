# Issue 25352: Biconnected components Boost interface

archive/issues_025115.json:
```json
{
    "assignees": [],
    "body": "Interface with Boost `biconnected_components()` function for calculating blocks and cut vertices.\n\nCC:  @dcoudert @dimpase\n\nKeywords: **biconnected components, boost, bc tree**\n\nBranch/Commit: **[9a0192e](https://github.com/sagemath/sagetrac-mirror/commit/9a0192e02543078b16492bff8c7d7a8aacbef76b)**\n\nReviewer: **David Coudert,  Dima Pasechnik**\n\nAuthor: **Meghana M Reddy**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25352_\n\n",
    "closed_at": "2018-05-24T07:10:36Z",
    "created_at": "2018-05-12T10:10:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Biconnected components Boost interface",
    "type": "issue",
    "updated_at": "2018-05-24T07:10:36Z",
    "url": "https://github.com/sagemath/sage/issues/25352",
    "user": "https://github.com/meghanamreddy"
}
```
Interface with Boost `biconnected_components()` function for calculating blocks and cut vertices.

CC:  @dcoudert @dimpase

Keywords: **biconnected components, boost, bc tree**

Branch/Commit: **[9a0192e](https://github.com/sagemath/sagetrac-mirror/commit/9a0192e02543078b16492bff8c7d7a8aacbef76b)**

Reviewer: **David Coudert,  Dima Pasechnik**

Author: **Meghana M Reddy**

_Issue created by migration from https://trac.sagemath.org/ticket/25352_





---

archive/issue_events_332698.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-05-12T10:10:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332698"
}
```



---

archive/issue_events_332699.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-05-12T10:10:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332699"
}
```



---

archive/issue_events_332700.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-05-12T10:10:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332700"
}
```



---

archive/issue_events_332701.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-05-12T10:10:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332701"
}
```



---

archive/issue_comments_390475.json:
```json
{
    "body": "Compile error I get, the last 10 lines state the error",
    "created_at": "2018-05-12T10:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390475",
    "user": "https://github.com/meghanamreddy"
}
```

Compile error I get, the last 10 lines state the error



---

archive/issue_comments_390476.json:
```json
{
    "body": "Branch: **[u/meghanamreddy/bc_tree_boost](https://github.com/sagemath/sagetrac-mirror/tree/u/meghanamreddy/bc_tree_boost)**",
    "created_at": "2018-05-12T10:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390476",
    "user": "https://github.com/meghanamreddy"
}
```

Branch: **[u/meghanamreddy/bc_tree_boost](https://github.com/sagemath/sagetrac-mirror/tree/u/meghanamreddy/bc_tree_boost)**



---

archive/issue_comments_390477.json:
```json
{
    "body": "Commit: **[f46abe6](https://github.com/sagemath/sagetrac-mirror/commit/f46abe6c0e167d03c89c6d2f347347c3d8f0f1a2)**",
    "created_at": "2018-05-12T10:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390477",
    "user": "https://github.com/meghanamreddy"
}
```

Commit: **[f46abe6](https://github.com/sagemath/sagetrac-mirror/commit/f46abe6c0e167d03c89c6d2f347347c3d8f0f1a2)**



---

archive/issue_comments_390478.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nAttachment: **[compile_error_bctree.txt](https://github.com/sagemath/sage/files/ticket25352/compile_error_bctree.txt)**",
    "created_at": "2018-05-12T10:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390478",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:1" align="right">Comment 1</div>

Attachment: **[compile_error_bctree.txt](https://github.com/sagemath/sage/files/ticket25352/compile_error_bctree.txt)**



---

archive/issue_comments_390479.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f37da60070178ab2d8a92cadf2b637f0b6f8d0e\">5f37da6</a></td><td><code>Added the Boost interface for biconnected_components.</code></td></tr></table>\n",
    "created_at": "2018-05-12T10:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390479",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f37da60070178ab2d8a92cadf2b637f0b6f8d0e">5f37da6</a></td><td><code>Added the Boost interface for biconnected_components.</code></td></tr></table>




---

archive/issue_comments_390480.json:
```json
{
    "body": "Changed commit from **[f46abe6](https://github.com/sagemath/sagetrac-mirror/commit/f46abe6c0e167d03c89c6d2f347347c3d8f0f1a2)** to **[5f37da6](https://github.com/sagemath/sagetrac-mirror/commit/5f37da60070178ab2d8a92cadf2b637f0b6f8d0e)**",
    "created_at": "2018-05-12T10:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390480",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f46abe6](https://github.com/sagemath/sagetrac-mirror/commit/f46abe6c0e167d03c89c6d2f347347c3d8f0f1a2)** to **[5f37da6](https://github.com/sagemath/sagetrac-mirror/commit/5f37da60070178ab2d8a92cadf2b637f0b6f8d0e)**



---

archive/issue_comments_390481.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nCould you try writing a standalone C++ program that replicates this?\nTo me it looks as if it's a basic issue with using Boost's API.",
    "created_at": "2018-05-13T15:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390481",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">Comment 3</div>

Could you try writing a standalone C++ program that replicates this?
To me it looks as if it's a basic issue with using Boost's API.



---

archive/issue_comments_390482.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59d58d383f0a2bd19a3746a69b432e666919c3bd\">59d58d3</a></td><td><code>Added the Boost interface for blocks_and_cut_vertices function.</code></td></tr></table>\n",
    "created_at": "2018-05-17T18:41:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390482",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59d58d383f0a2bd19a3746a69b432e666919c3bd">59d58d3</a></td><td><code>Added the Boost interface for blocks_and_cut_vertices function.</code></td></tr></table>




---

archive/issue_comments_390483.json:
```json
{
    "body": "Changed commit from **[5f37da6](https://github.com/sagemath/sagetrac-mirror/commit/5f37da60070178ab2d8a92cadf2b637f0b6f8d0e)** to **[59d58d3](https://github.com/sagemath/sagetrac-mirror/commit/59d58d383f0a2bd19a3746a69b432e666919c3bd)**",
    "created_at": "2018-05-17T18:41:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390483",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5f37da6](https://github.com/sagemath/sagetrac-mirror/commit/5f37da60070178ab2d8a92cadf2b637f0b6f8d0e)** to **[59d58d3](https://github.com/sagemath/sagetrac-mirror/commit/59d58d383f0a2bd19a3746a69b432e666919c3bd)**



---

archive/issue_comments_390484.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,11 +1 @@\n-Some background: I'm trying to create an interface with Boost for the biconnected components and blocks and cut trees. For this, I need to add a function in `boost_interface.cpp` file in the `BoostGraph` object to compute the biconnected components. Another function has to be added in the `boost_graph.pyx` which calls the function written in `boost_interface.cpp`. In `boost_interface.cpp`, while making a call to biconnected_components function, one of the parameters in `ComponentMap` which basically assigned the component number to each edge.\n-\n-I am slightly confused as to what parameter to send to the biconnected_components function of Boost. According to the docs of Boost [docs of Boost](https://www.boost.org/doc/libs/1_67_0/libs/graph/doc/biconnected_components.html), --\n-\n-the parameter `ComponentMap` type must be a model of [Writable Property Map](https://www.boost.org/doc/libs/1_67_0/libs/property_map/doc/WritablePropertyMap.html). The value type should be an integer type, preferably the same as the edges_size_type of the graph. The key type must be the graph's edge descriptor type.\n-\n-This is the parameter I am having an issue with. I tried using `Boost::edge_vertex_t`, I tried using a struct defined for it as mentioned in this [example code on Boost](https://www.boost.org/doc/libs/1_67_0/libs/graph/example/biconnected_components.cpp). But I end up getting the same error which more or less states that the parameter type is not as expected (I am attaching a file with the error I get while compiling  - but I know the error is related to the parameter of `property_map` as I have tested the other parts of the code and they are fine. ) Maybe I should use the `EdgeProperty` of a graph as defined in the `adjacency_list` which is used as a graph. I tried this too, and I end up with the same error.\n-\n-I have added a comment `// This is the error` beside the line where I defined the `property_map` in the file `boost_interface.cpp`. Also, I know the return type of the function `bc_tree()` is not suited for the purpose and I am also not returning the required answer, I am printing it. I want to get the function to work first, after that parsing the output and returning it as required for Sage will be straightforward.\n-\n-Please give me any leads on what should be the parameter for `property_map`.\n+Interface with Boost `biconnected_components()` function for calculating blocks and cut vertices.\n``````\n",
    "created_at": "2018-05-17T18:45:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390484",
    "user": "https://github.com/meghanamreddy"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,11 +1 @@
-Some background: I'm trying to create an interface with Boost for the biconnected components and blocks and cut trees. For this, I need to add a function in `boost_interface.cpp` file in the `BoostGraph` object to compute the biconnected components. Another function has to be added in the `boost_graph.pyx` which calls the function written in `boost_interface.cpp`. In `boost_interface.cpp`, while making a call to biconnected_components function, one of the parameters in `ComponentMap` which basically assigned the component number to each edge.
-
-I am slightly confused as to what parameter to send to the biconnected_components function of Boost. According to the docs of Boost [docs of Boost](https://www.boost.org/doc/libs/1_67_0/libs/graph/doc/biconnected_components.html), --
-
-the parameter `ComponentMap` type must be a model of [Writable Property Map](https://www.boost.org/doc/libs/1_67_0/libs/property_map/doc/WritablePropertyMap.html). The value type should be an integer type, preferably the same as the edges_size_type of the graph. The key type must be the graph's edge descriptor type.
-
-This is the parameter I am having an issue with. I tried using `Boost::edge_vertex_t`, I tried using a struct defined for it as mentioned in this [example code on Boost](https://www.boost.org/doc/libs/1_67_0/libs/graph/example/biconnected_components.cpp). But I end up getting the same error which more or less states that the parameter type is not as expected (I am attaching a file with the error I get while compiling  - but I know the error is related to the parameter of `property_map` as I have tested the other parts of the code and they are fine. ) Maybe I should use the `EdgeProperty` of a graph as defined in the `adjacency_list` which is used as a graph. I tried this too, and I end up with the same error.
-
-I have added a comment `// This is the error` beside the line where I defined the `property_map` in the file `boost_interface.cpp`. Also, I know the return type of the function `bc_tree()` is not suited for the purpose and I am also not returning the required answer, I am printing it. I want to get the function to work first, after that parsing the output and returning it as required for Sage will be straightforward.
-
-Please give me any leads on what should be the parameter for `property_map`.
+Interface with Boost `biconnected_components()` function for calculating blocks and cut vertices.
``````




---

archive/issue_comments_390485.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThere is currently one drawback error I am looking at. Basically, if the input graph contains isolated vertices, the Boost implementation does not report it as either a block or a cut vertex, these vertices are just ignored. The implementation available in Sage, however, treats isolated vertices as a biconnected component and lists it as a block.\n\nHence, I will have to do the following. In `boost_graph.pyx`, after I have the output of Boost's `biconnected_components()` method, I can add all the vertices in all the blocks into a set, and check which vertices are not part of any block - such vertices must be isolated vertices. So I add each of these vertices as a block in the output.",
    "created_at": "2018-05-17T18:51:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390485",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:6" align="right">Comment 6</div>

There is currently one drawback error I am looking at. Basically, if the input graph contains isolated vertices, the Boost implementation does not report it as either a block or a cut vertex, these vertices are just ignored. The implementation available in Sage, however, treats isolated vertices as a biconnected component and lists it as a block.

Hence, I will have to do the following. In `boost_graph.pyx`, after I have the output of Boost's `biconnected_components()` method, I can add all the vertices in all the blocks into a set, and check which vertices are not part of any block - such vertices must be isolated vertices. So I add each of these vertices as a block in the output.



---

archive/issue_comments_390486.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nExcellent news.\n\nI had a look at your code. Some comments:\n- Instead of `Uses Boost to compute the blocks and cut vertices of the input graph.`, I would rather use `Compute the blocks and cut vertices of the graph.`. Then you can add a short text saying that this method uses the implementation available in boost of Tarjan's algorithm.\n\n- In the method implemented in `generic_graph.py`, we consider the graph as undirected, and loops or multiple edges are ignored. In your implementation, I'm not sure what happens if you give a directed graph with symmetric edges (i.e., `[(0,1), (1,0)]`). It might be considered as multiple edges for the underlying undirected graph. Please check what is mandatory and how to cope with this at low cost.\n\n- `cdef dict vertex_to_int = {v:i for i,v in enumerate(g.vertices())}` is apparently not used, so you may remove it.\n\n- `result_blocks = []` -> `cdef list result_blocks = []` ? and the same for `result_cut` ?\n\n- You should define a new variable with value `len(result)-1` as you use this several times.\n\n- Why do you need to do `result[i] = list(set(result[i]))` ?\n\n- Can't we find a faster method to identify articulation points than calling the boost method which itself calls the biconnected components method ? For instance, assume you have an array of booleans initialized to False. Then you iterate over all biconnected components. If a vertex has already been seen, it is necessarily an articulation points and you can store it. Otherwise, you mark it as seen. \n\n  At the end of this loop, vertices that have not been seen are the isolated vertices you are looking for ;) Actually, what if the graph has 2 disjoints biconnected components ? will the boost method find both or only one ?",
    "created_at": "2018-05-18T09:36:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390486",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">Comment 7</div>

Excellent news.

I had a look at your code. Some comments:
- Instead of `Uses Boost to compute the blocks and cut vertices of the input graph.`, I would rather use `Compute the blocks and cut vertices of the graph.`. Then you can add a short text saying that this method uses the implementation available in boost of Tarjan's algorithm.

- In the method implemented in `generic_graph.py`, we consider the graph as undirected, and loops or multiple edges are ignored. In your implementation, I'm not sure what happens if you give a directed graph with symmetric edges (i.e., `[(0,1), (1,0)]`). It might be considered as multiple edges for the underlying undirected graph. Please check what is mandatory and how to cope with this at low cost.

- `cdef dict vertex_to_int = {v:i for i,v in enumerate(g.vertices())}` is apparently not used, so you may remove it.

- `result_blocks = []` -> `cdef list result_blocks = []` ? and the same for `result_cut` ?

- You should define a new variable with value `len(result)-1` as you use this several times.

- Why do you need to do `result[i] = list(set(result[i]))` ?

- Can't we find a faster method to identify articulation points than calling the boost method which itself calls the biconnected components method ? For instance, assume you have an array of booleans initialized to False. Then you iterate over all biconnected components. If a vertex has already been seen, it is necessarily an articulation points and you can store it. Otherwise, you mark it as seen. 

  At the end of this loop, vertices that have not been seen are the isolated vertices you are looking for ;) Actually, what if the graph has 2 disjoints biconnected components ? will the boost method find both or only one ?



---

archive/issue_comments_390487.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nReplying to [@dcoudert](#comment%3A7):\n> - Instead of `Uses Boost to compute the blocks and cut vertices of the input graph.`, I would rather use `Compute the blocks and cut vertices of the graph.`. Then you can add a short text saying that this method uses the implementation available in boost of Tarjan's algorithm.\n> \n\nOkay, I will do that.\n> - In the method implemented in `generic_graph.py`, we consider the graph as undirected, and loops or multiple edges are ignored. In your implementation, I'm not sure what happens if you give a directed graph with symmetric edges (i.e., `[(0,1), (1,0)]`). It might be considered as multiple edges for the underlying undirected graph. Please check what is mandatory and how to cope with this at low cost.\n\nAs of now, we convert the graph to an undirected and simple graph. Then the computations will be done assuming only one edge between `0` and `1` existed.\n> - `cdef dict vertex_to_int = {v:i for i,v in enumerate(g.vertices())}` is apparently not used, so you may remove it.\n\nOh right. Will do that.\n> - `result_blocks = []` -> `cdef list result_blocks = []` ? and the same for `result_cut` ?\n> - You should define a new variable with value `len(result)-1` as you use this several times.\n\nOkay, I will change it.\n> - Why do you need to do `result[i] = list(set(result[i]))` ?\n> \n\nSo the Boost `biconnected_components()` method assigns an integer to each edge denoting which biconnected component it belongs to. I am iterating through every edge, and adding the incident vertices to the corresponding biconnected components. If a vertex which is not a cut vertex has more than one edge incident, then we will come across this vertex atleast twice. Hence we need to store the vertices of each biconnected component as a set. Instead of doing this in `boost_interface.cpp`, I am doing it in `boost_graph.pyx`.\n> - Can't we find a faster method to identify articulation points than calling the boost method which itself calls the biconnected components method ? For instance, assume you have an array of booleans initialized to False. Then you iterate over all biconnected components. If a vertex has already been seen, it is necessarily an articulation points and you can store it. Otherwise, you mark it as seen. \n> \n>   At the end of this loop, vertices that have not been seen are the isolated vertices you are looking for ;) Actually, what if the graph has 2 disjoints biconnected components ? will the boost method find both or only one ?\n\nYes, this is a very good idea. Thank you. I will implement this. And yes, if the graph has 2 disjoint subgraphs, Boost method computes the articulation points and biconnected components of both. Only problem was isolated vertices, which will be solved by your method.\n\nAnother point I wanted to ask - is it required to sort the vertices in each biconnected component? The Sage implementation does this but I wasn't sure if it is necessary.",
    "created_at": "2018-05-19T19:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390487",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:8" align="right">Comment 8</div>

Replying to [@dcoudert](#comment%3A7):
> - Instead of `Uses Boost to compute the blocks and cut vertices of the input graph.`, I would rather use `Compute the blocks and cut vertices of the graph.`. Then you can add a short text saying that this method uses the implementation available in boost of Tarjan's algorithm.
> 

Okay, I will do that.
> - In the method implemented in `generic_graph.py`, we consider the graph as undirected, and loops or multiple edges are ignored. In your implementation, I'm not sure what happens if you give a directed graph with symmetric edges (i.e., `[(0,1), (1,0)]`). It might be considered as multiple edges for the underlying undirected graph. Please check what is mandatory and how to cope with this at low cost.

As of now, we convert the graph to an undirected and simple graph. Then the computations will be done assuming only one edge between `0` and `1` existed.
> - `cdef dict vertex_to_int = {v:i for i,v in enumerate(g.vertices())}` is apparently not used, so you may remove it.

Oh right. Will do that.
> - `result_blocks = []` -> `cdef list result_blocks = []` ? and the same for `result_cut` ?
> - You should define a new variable with value `len(result)-1` as you use this several times.

Okay, I will change it.
> - Why do you need to do `result[i] = list(set(result[i]))` ?
> 

So the Boost `biconnected_components()` method assigns an integer to each edge denoting which biconnected component it belongs to. I am iterating through every edge, and adding the incident vertices to the corresponding biconnected components. If a vertex which is not a cut vertex has more than one edge incident, then we will come across this vertex atleast twice. Hence we need to store the vertices of each biconnected component as a set. Instead of doing this in `boost_interface.cpp`, I am doing it in `boost_graph.pyx`.
> - Can't we find a faster method to identify articulation points than calling the boost method which itself calls the biconnected components method ? For instance, assume you have an array of booleans initialized to False. Then you iterate over all biconnected components. If a vertex has already been seen, it is necessarily an articulation points and you can store it. Otherwise, you mark it as seen. 
> 
>   At the end of this loop, vertices that have not been seen are the isolated vertices you are looking for ;) Actually, what if the graph has 2 disjoints biconnected components ? will the boost method find both or only one ?

Yes, this is a very good idea. Thank you. I will implement this. And yes, if the graph has 2 disjoint subgraphs, Boost method computes the articulation points and biconnected components of both. Only problem was isolated vertices, which will be solved by your method.

Another point I wanted to ask - is it required to sort the vertices in each biconnected component? The Sage implementation does this but I wasn't sure if it is necessary.



---

archive/issue_comments_390488.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\n> > - Why do you need to do `result[i] = list(set(result[i]))` ?\n> > \n\n> So the Boost `biconnected_components()` method assigns an integer to each edge denoting which biconnected component it belongs to. I am iterating through every edge, and adding the incident vertices to the corresponding biconnected components. If a vertex which is not a cut vertex has more than one edge incident, then we will come across this vertex atleast twice. Hence we need to store the vertices of each biconnected component as a set. Instead of doing this in `boost_interface.cpp`, I am doing it in `boost_graph.pyx`.\n\nYou should add some comments in the code to explain it. When I read the code, my understanding is that boost put in `result[i]` the list of vertices of block `i` and that this list may contains repetitions that you remove doing `list(set(result[i]))`.\n\nThen, since `result[i]` is a list, the for loop should be\n\n```\nfor z in result[i]:\n    result_temp.append(int_to_vertex[<int> z])\n```\nwith z of the right type.\n\nor if you combine with previous instruction, you can do\n\n```\nfor z in set(result[i]):\n    result_temp.append(int_to_vertex[<int> z])\n```\nthe advantage is that you don't modify `result[i]`...\n\n  \nYou should also do something for the loop `for i in range(len(result[len(result)-1])):` like `for z in result[len(result)-1]:`.\n\n> Another point I wanted to ask - is it required to sort the vertices in each biconnected component? The Sage implementation does this but I wasn't sure if it is necessary. \n\nNo, it's not mandatory. We did it in the Sage implementation because it makes it easier to read when you print the solution, but, as for the list of vertices which are sorted, it adds extra computations for little benefit.",
    "created_at": "2018-05-20T08:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390488",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:9" align="right">Comment 9</div>

> > - Why do you need to do `result[i] = list(set(result[i]))` ?
> > 

> So the Boost `biconnected_components()` method assigns an integer to each edge denoting which biconnected component it belongs to. I am iterating through every edge, and adding the incident vertices to the corresponding biconnected components. If a vertex which is not a cut vertex has more than one edge incident, then we will come across this vertex atleast twice. Hence we need to store the vertices of each biconnected component as a set. Instead of doing this in `boost_interface.cpp`, I am doing it in `boost_graph.pyx`.

You should add some comments in the code to explain it. When I read the code, my understanding is that boost put in `result[i]` the list of vertices of block `i` and that this list may contains repetitions that you remove doing `list(set(result[i]))`.

Then, since `result[i]` is a list, the for loop should be

```
for z in result[i]:
    result_temp.append(int_to_vertex[<int> z])
```
with z of the right type.

or if you combine with previous instruction, you can do

```
for z in set(result[i]):
    result_temp.append(int_to_vertex[<int> z])
```
the advantage is that you don't modify `result[i]`...

  
You should also do something for the loop `for i in range(len(result[len(result)-1])):` like `for z in result[len(result)-1]:`.

> Another point I wanted to ask - is it required to sort the vertices in each biconnected component? The Sage implementation does this but I wasn't sure if it is necessary. 

No, it's not mandatory. We did it in the Sage implementation because it makes it easier to read when you print the solution, but, as for the list of vertices which are sorted, it adds extra computations for little benefit.



---

archive/issue_comments_390489.json:
```json
{
    "body": "Changed commit from **[59d58d3](https://github.com/sagemath/sagetrac-mirror/commit/59d58d383f0a2bd19a3746a69b432e666919c3bd)** to **[b654308](https://github.com/sagemath/sagetrac-mirror/commit/b654308a4565d2340a7da720b299a720b70e6108)**",
    "created_at": "2018-05-20T09:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390489",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[59d58d3](https://github.com/sagemath/sagetrac-mirror/commit/59d58d383f0a2bd19a3746a69b432e666919c3bd)** to **[b654308](https://github.com/sagemath/sagetrac-mirror/commit/b654308a4565d2340a7da720b299a720b70e6108)**



---

archive/issue_comments_390490.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1f84a981690f1da27092fc6459ef3a0aee95ef2\">f1f84a9</a></td><td><code>Small changes in the way the variables were declared.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/804fccdda712ac2596b0a11ba8c5f161bacc2b5b\">804fccd</a></td><td><code>Optimization - removed the additional call to articulation points method to Boost.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b654308a4565d2340a7da720b299a720b70e6108\">b654308</a></td><td><code>Added comments to explain the code.</code></td></tr></table>\n",
    "created_at": "2018-05-20T09:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390490",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1f84a981690f1da27092fc6459ef3a0aee95ef2">f1f84a9</a></td><td><code>Small changes in the way the variables were declared.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/804fccdda712ac2596b0a11ba8c5f161bacc2b5b">804fccd</a></td><td><code>Optimization - removed the additional call to articulation points method to Boost.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b654308a4565d2340a7da720b299a720b70e6108">b654308</a></td><td><code>Added comments to explain the code.</code></td></tr></table>




---

archive/issue_comments_390491.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@dcoudert](#comment%3A9):\n\nI have made all the changes. Please check.",
    "created_at": "2018-05-20T09:59:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390491",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@dcoudert](#comment%3A9):

I have made all the changes. Please check.



---

archive/issue_comments_390492.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nWe can do something smarter, combining the loops and the ideas ;)\n\nLet `vertex_status` be an array of `n` integers initialized to `-1`. The idea is that if `vertex_status[v] == -1`, the vertex has not been seen yet. If `vertex_status[v] == i`, then `v` belongs to the ith block. If `vertex_status[v] != -1 and vertex_status[v] < i` then `v` belongs to at least 2 blocks so is an articulation point.\n\n```\nfor i in range(len(result)):\n    result_temp = []\n    for v in result[i]:\n        if vertex_status[v] == -1:\n            # First time we see this vertex\n            result_temp.append(int_to_vertex[<int> v])\n            vertex_status[v] = i\n\n        elif vertex_status[v] < i:\n            # This vertex also belongs to another block, so it is an articulation point\n            result_cut.append(int_to_vertex[<int> v])\n            # We change the block number to avoid adding it twice as an articulation point in case this vertex is repeated in the current block\n            vertex_status[v] = i\n\n        # no else. If the vertex is already in this block, it is a repetition and we simply skip it\n\n    result_blocks.append(result_temp)\n\n# Finally, we deal with isolated vertices\nfor i in range(g.order()):\n    if vertex_status[i] == -1:\n        result_blocks.append([int_to_vertex[<int> i]])\n```\n\ndo not forget to declare variables `i` and `v`.",
    "created_at": "2018-05-20T10:47:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390492",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:12" align="right">Comment 12</div>

We can do something smarter, combining the loops and the ideas ;)

Let `vertex_status` be an array of `n` integers initialized to `-1`. The idea is that if `vertex_status[v] == -1`, the vertex has not been seen yet. If `vertex_status[v] == i`, then `v` belongs to the ith block. If `vertex_status[v] != -1 and vertex_status[v] < i` then `v` belongs to at least 2 blocks so is an articulation point.

```
for i in range(len(result)):
    result_temp = []
    for v in result[i]:
        if vertex_status[v] == -1:
            # First time we see this vertex
            result_temp.append(int_to_vertex[<int> v])
            vertex_status[v] = i

        elif vertex_status[v] < i:
            # This vertex also belongs to another block, so it is an articulation point
            result_cut.append(int_to_vertex[<int> v])
            # We change the block number to avoid adding it twice as an articulation point in case this vertex is repeated in the current block
            vertex_status[v] = i

        # no else. If the vertex is already in this block, it is a repetition and we simply skip it

    result_blocks.append(result_temp)

# Finally, we deal with isolated vertices
for i in range(g.order()):
    if vertex_status[i] == -1:
        result_blocks.append([int_to_vertex[<int> i]])
```

do not forget to declare variables `i` and `v`.



---

archive/issue_comments_390493.json:
```json
{
    "body": "Changed commit from **[b654308](https://github.com/sagemath/sagetrac-mirror/commit/b654308a4565d2340a7da720b299a720b70e6108)** to **[2f1ceb4](https://github.com/sagemath/sagetrac-mirror/commit/2f1ceb44d8889b175f5d149db9b0a2f5e96ea1f6)**",
    "created_at": "2018-05-20T13:17:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b654308](https://github.com/sagemath/sagetrac-mirror/commit/b654308a4565d2340a7da720b299a720b70e6108)** to **[2f1ceb4](https://github.com/sagemath/sagetrac-mirror/commit/2f1ceb44d8889b175f5d149db9b0a2f5e96ea1f6)**



---

archive/issue_comments_390494.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f1ceb44d8889b175f5d149db9b0a2f5e96ea1f6\">2f1ceb4</a></td><td><code>Optimization: Combined the two for loops.</code></td></tr></table>\n",
    "created_at": "2018-05-20T13:17:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390494",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f1ceb44d8889b175f5d149db9b0a2f5e96ea1f6">2f1ceb4</a></td><td><code>Optimization: Combined the two for loops.</code></td></tr></table>




---

archive/issue_comments_390495.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI have combined the two loops now.\nBut the type of the variable `v` depends on the input graph. I cannot define it as `int` or `string`. Is there a generic type for graph vertices?",
    "created_at": "2018-05-20T13:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390495",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:14" align="right">Comment 14</div>

I have combined the two loops now.
But the type of the variable `v` depends on the input graph. I cannot define it as `int` or `string`. Is there a generic type for graph vertices?



---

archive/issue_comments_390496.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nDo we agree that the values in `result[i]` are integers (= index of vertices in the boost graph) ? If so, the solution I proposed should work.",
    "created_at": "2018-05-20T13:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390496",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">Comment 15</div>

Do we agree that the values in `result[i]` are integers (= index of vertices in the boost graph) ? If so, the solution I proposed should work.



---

archive/issue_comments_390497.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e334fc09f5b8d92a57a95356e84c5890251219f1\">e334fc0</a></td><td><code>Added the declaration of variable v.</code></td></tr></table>\n",
    "created_at": "2018-05-20T14:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390497",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e334fc09f5b8d92a57a95356e84c5890251219f1">e334fc0</a></td><td><code>Added the declaration of variable v.</code></td></tr></table>




---

archive/issue_comments_390498.json:
```json
{
    "body": "Changed commit from **[2f1ceb4](https://github.com/sagemath/sagetrac-mirror/commit/2f1ceb44d8889b175f5d149db9b0a2f5e96ea1f6)** to **[e334fc0](https://github.com/sagemath/sagetrac-mirror/commit/e334fc09f5b8d92a57a95356e84c5890251219f1)**",
    "created_at": "2018-05-20T14:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390498",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2f1ceb4](https://github.com/sagemath/sagetrac-mirror/commit/2f1ceb44d8889b175f5d149db9b0a2f5e96ea1f6)** to **[e334fc0](https://github.com/sagemath/sagetrac-mirror/commit/e334fc09f5b8d92a57a95356e84c5890251219f1)**



---

archive/issue_comments_390499.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@dcoudert](#comment%3A15):\n> Do we agree that the values in `result[i]` are integers (= index of vertices in the boost graph) ? If so, the solution I proposed should work.\n> \n\nMy bad, I didn't pay keen attention to your solution, so I was storing the status of the vertices of Sage graph in `vertex_status` instead of the Boost graph, and hence the confusion. I have changed it now.",
    "created_at": "2018-05-20T14:15:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390499",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@dcoudert](#comment%3A15):
> Do we agree that the values in `result[i]` are integers (= index of vertices in the boost graph) ? If so, the solution I proposed should work.
> 

My bad, I didn't pay keen attention to your solution, so I was storing the status of the vertices of Sage graph in `vertex_status` instead of the Boost graph, and hence the confusion. I have changed it now.



---

archive/issue_comments_390500.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nCould you:\n- add an empty line after `Computes the blocks and cut vertices of the graph.`\n\n- At the end of the method, you can simply do\n\n```\n-    result_tup = [result_blocks, result_cut]\n-    return tuple(result_tup)\n+    return (result_blocks, result_cut)\n```\n\nand don't forget to set the ticket to \"needs review\" when you think it is ready.",
    "created_at": "2018-05-20T15:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390500",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:18" align="right">Comment 18</div>

Could you:
- add an empty line after `Computes the blocks and cut vertices of the graph.`

- At the end of the method, you can simply do

```
-    result_tup = [result_blocks, result_cut]
-    return tuple(result_tup)
+    return (result_blocks, result_cut)
```

and don't forget to set the ticket to "needs review" when you think it is ready.



---

archive/issue_comments_390501.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/347dd8613530a9f9fb41006ece8075a0addbbb1f\">347dd86</a></td><td><code>Minor changes.</code></td></tr></table>\n",
    "created_at": "2018-05-20T18:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390501",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19" align="right">Comment 19</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/347dd8613530a9f9fb41006ece8075a0addbbb1f">347dd86</a></td><td><code>Minor changes.</code></td></tr></table>




---

archive/issue_comments_390502.json:
```json
{
    "body": "Changed commit from **[e334fc0](https://github.com/sagemath/sagetrac-mirror/commit/e334fc09f5b8d92a57a95356e84c5890251219f1)** to **[347dd86](https://github.com/sagemath/sagetrac-mirror/commit/347dd8613530a9f9fb41006ece8075a0addbbb1f)**",
    "created_at": "2018-05-20T18:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390502",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e334fc0](https://github.com/sagemath/sagetrac-mirror/commit/e334fc09f5b8d92a57a95356e84c5890251219f1)** to **[347dd86](https://github.com/sagemath/sagetrac-mirror/commit/347dd8613530a9f9fb41006ece8075a0addbbb1f)**



---

archive/issue_events_332702.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-05-20T18:12:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332702"
}
```



---

archive/issue_comments_390503.json:
```json
{
    "body": "Changed author from **meghanamreddy** to **Meghana M Reddy**",
    "created_at": "2018-05-21T08:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390503",
    "user": "https://github.com/dcoudert"
}
```

Changed author from **meghanamreddy** to **Meghana M Reddy**



---

archive/issue_comments_390504.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nThere is a doctest failure. In the test you expect `TypeError: the input must be a Sage Graph` but in the code you raise `TypeError(\"the input must be a Sage graph\")`. So use either `sage` or `Sage`.\n\nRecall that you should test your code and the doctest.\n- `./sage -tp src/sage/graphs/base/boost_graph.pyx` will run the doctests on the file\n- `./sage -tp src/sage/graphs/` will run the doctests of all files in the directory\n\n\nAnother issue is that we may add multiple times a cut vertex to the list of cut vertices. \n\n```\nsage: G = graphs.StarGraph(5)\nsage: G.blocks_and_cut_vertices(algorithm=\"Tarjan_Boost\")\n([[0, 1], [0, 2], [0, 3], [0, 4], [0, 5]], [0, 0, 0, 0])\n```\nTo avoid that, you can change the type of `result_cut` to set (`cdef set result_cut = set()`), and then return `list(result_cut)`",
    "created_at": "2018-05-21T08:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390504",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:21" align="right">Comment 21</div>

There is a doctest failure. In the test you expect `TypeError: the input must be a Sage Graph` but in the code you raise `TypeError("the input must be a Sage graph")`. So use either `sage` or `Sage`.

Recall that you should test your code and the doctest.
- `./sage -tp src/sage/graphs/base/boost_graph.pyx` will run the doctests on the file
- `./sage -tp src/sage/graphs/` will run the doctests of all files in the directory


Another issue is that we may add multiple times a cut vertex to the list of cut vertices. 

```
sage: G = graphs.StarGraph(5)
sage: G.blocks_and_cut_vertices(algorithm="Tarjan_Boost")
([[0, 1], [0, 2], [0, 3], [0, 4], [0, 5]], [0, 0, 0, 0])
```
To avoid that, you can change the type of `result_cut` to set (`cdef set result_cut = set()`), and then return `list(result_cut)`



---

archive/issue_events_332703.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-05-21T08:34:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332703"
}
```



---

archive/issue_events_332704.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-05-21T08:34:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332704"
}
```



---

archive/issue_comments_390505.json:
```json
{
    "body": "Changed reviewer from **dcoudert, dimpase** to **David Coudert,  Dima Pasechnik**",
    "created_at": "2018-05-21T08:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390505",
    "user": "https://github.com/dcoudert"
}
```

Changed reviewer from **dcoudert, dimpase** to **David Coudert,  Dima Pasechnik**



---

archive/issue_comments_390506.json:
```json
{
    "body": "Changed commit from **[347dd86](https://github.com/sagemath/sagetrac-mirror/commit/347dd8613530a9f9fb41006ece8075a0addbbb1f)** to **[9d5558a](https://github.com/sagemath/sagetrac-mirror/commit/9d5558aa327e3c460aedad698608b334e1f86322)**",
    "created_at": "2018-05-21T11:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390506",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[347dd86](https://github.com/sagemath/sagetrac-mirror/commit/347dd8613530a9f9fb41006ece8075a0addbbb1f)** to **[9d5558a](https://github.com/sagemath/sagetrac-mirror/commit/9d5558aa327e3c460aedad698608b334e1f86322)**



---

archive/issue_comments_390507.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d5558aa327e3c460aedad698608b334e1f86322\">9d5558a</a></td><td><code>Doctests failure fixed, and another error fixed.</code></td></tr></table>\n",
    "created_at": "2018-05-21T11:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390507",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22" align="right">Comment 22</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d5558aa327e3c460aedad698608b334e1f86322">9d5558a</a></td><td><code>Doctests failure fixed, and another error fixed.</code></td></tr></table>




---

archive/issue_comments_390508.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nI have fixed the errors.",
    "created_at": "2018-05-21T12:17:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390508",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:23" align="right">Comment 23</div>

I have fixed the errors.



---

archive/issue_comments_390509.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nSorry for not asking before, but could you put line `# Change the block number to avoid adding the vertex twice as a cut vertex if it is repeated in block i` in 80 columns mode. I think that other comments are already in this mode.",
    "created_at": "2018-05-21T13:13:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390509",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:24" align="right">Comment 24</div>

Sorry for not asking before, but could you put line `# Change the block number to avoid adding the vertex twice as a cut vertex if it is repeated in block i` in 80 columns mode. I think that other comments are already in this mode.



---

archive/issue_comments_390510.json:
```json
{
    "body": "Changed commit from **[9d5558a](https://github.com/sagemath/sagetrac-mirror/commit/9d5558aa327e3c460aedad698608b334e1f86322)** to **[9a0192e](https://github.com/sagemath/sagetrac-mirror/commit/9a0192e02543078b16492bff8c7d7a8aacbef76b)**",
    "created_at": "2018-05-21T13:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390510",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9d5558a](https://github.com/sagemath/sagetrac-mirror/commit/9d5558aa327e3c460aedad698608b334e1f86322)** to **[9a0192e](https://github.com/sagemath/sagetrac-mirror/commit/9a0192e02543078b16492bff8c7d7a8aacbef76b)**



---

archive/issue_comments_390511.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a0192e02543078b16492bff8c7d7a8aacbef76b\">9a0192e</a></td><td><code>Changed comments to 80 column mode.</code></td></tr></table>\n",
    "created_at": "2018-05-21T13:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390511",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25" align="right">Comment 25</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a0192e02543078b16492bff8c7d7a8aacbef76b">9a0192e</a></td><td><code>Changed comments to 80 column mode.</code></td></tr></table>




---

archive/issue_comments_390512.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@dcoudert](#comment%3A24):\n> Sorry for not asking before, but could you put line `# Change the block number to avoid adding the vertex twice as a cut vertex if it is repeated in block i` in 80 columns mode. I think that other comments are already in this mode.\n\nSorry, I thought the 80 column mode was important for the documentation of the function, which also appears in the docs. So I hadn't ensured 80 column mode for the comments in the code. I will ensure I maintain 80 column mode from now on.",
    "created_at": "2018-05-21T13:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390512",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@dcoudert](#comment%3A24):
> Sorry for not asking before, but could you put line `# Change the block number to avoid adding the vertex twice as a cut vertex if it is repeated in block i` in 80 columns mode. I think that other comments are already in this mode.

Sorry, I thought the 80 column mode was important for the documentation of the function, which also appears in the docs. So I hadn't ensured 80 column mode for the comments in the code. I will ensure I maintain 80 column mode from now on.



---

archive/issue_comments_390513.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nGood to go !",
    "created_at": "2018-05-21T13:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390513",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:27" align="right">Comment 27</div>

Good to go !



---

archive/issue_events_332705.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-05-21T13:34:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332705"
}
```



---

archive/issue_events_332706.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-05-21T13:34:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332706"
}
```



---

archive/issue_events_332707.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-24T07:10:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332707"
}
```



---

archive/issue_events_332708.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8590404949aa766f3609ed3800800ec395402be4",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-24T07:10:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25352#event-332708"
}
```



---

archive/issue_comments_390514.json:
```json
{
    "body": "Changed branch from **[u/meghanamreddy/bc_tree_boost](https://github.com/sagemath/sagetrac-mirror/tree/u/meghanamreddy/bc_tree_boost)** to **[9a0192e](https://github.com/sagemath/sagetrac-mirror/commit/9a0192e02543078b16492bff8c7d7a8aacbef76b)**",
    "created_at": "2018-05-24T07:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25352",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25352#issuecomment-390514",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/meghanamreddy/bc_tree_boost](https://github.com/sagemath/sagetrac-mirror/tree/u/meghanamreddy/bc_tree_boost)** to **[9a0192e](https://github.com/sagemath/sagetrac-mirror/commit/9a0192e02543078b16492bff8c7d7a8aacbef76b)**
