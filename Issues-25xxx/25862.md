# Issue 25862: Upgrade eclib to 20180815

archive/issues_025625.json:
```json
{
    "body": "Tarball: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20180815.tar.bz2\n\nThe tarball was updated and this should fix these issues (no patching required).  No code changes, only autotools stuff and the version is now v20180815.\n\n---\n\n*outdated*, for the update to 20180710:\n\nI'm currently having issues with this update for nix[1]. I will try to see if I can reproduce those issues with sage-the distribution.\n\nWith nix I get the following error building sagelib:\n\n```\n[180/476] creating build/temp.linux-x86_64-2.7/build/cythonized/sage/libs/eclib\ngcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I./sage/libs/ntl -I./sage/cpython -I./sage/ext -I/nix/store/sgnfm122xn29392fbhbg9vkhqg6mvzc1-python2.>\ncc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++\ngcc -pthread -shared -lgcc_s build/temp.linux-x86_64-2.7/build/cythonized/sage/libs/mpmath/ext_impl.o -L/tmp/nix-build-python2.7-sagelib-8.2.drv-0/sage-src-8.2/lib -L/nix/store/d3aa78jf7pm9l>\nIn file included from /nix/store/7mrpq5lqdqpmmammsg6c9r7fx9xr03q8-eclib-20180710/include/eclib/homspace.h:28:0,\n                 from build/cythonized/sage/libs/eclib/homspace.cpp:655:\n/nix/store/7mrpq5lqdqpmmammsg6c9r7fx9xr03q8-eclib-20180710/include/eclib/method.h:57:10: fatal error: types.h: No such file or directory\n #include \"types.h\"\n          ^~~~~~~~~\ncompilation terminated.\ngcc -pthread -shared -lgcc_s build/temp.linux-x86_64-2.7/build/cythonized/sage/libs/arb/arith.o -L/tmp/nix-build-python2.7-sagelib-8.2.drv-0/sage-src-8.2/lib -L/nix/store/d3aa78jf7pm9lk6ad67>\n[181/476] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I./sage/libs/ntl -I./sage/cpython -I./sage/ext -I/tmp/nix-build-python2.7-sagelib-8.2.drv-0>\nerror: command 'gcc' failed with exit status 1\ncc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++\nIn file included from /nix/store/7mrpq5lqdqpmmammsg6c9r7fx9xr03q8-eclib-20180710/include/eclib/homspace.h:28:0,\n                 from build/cythonized/sage/libs/eclib/mat.cpp:652:\n/nix/store/7mrpq5lqdqpmmammsg6c9r7fx9xr03q8-eclib-20180710/include/eclib/method.h:57:10: fatal error: types.h: No such file or directory\n #include \"types.h\"\n          ^~~~~~~~~\ncompilation terminated.\n```\n\nWhich sounds more like an eclib error than just a changed interface. Might have something to do with eclibs changelog entry[2]\n\n> Reorganised all include files so each may be included by itself.\n\n\nSpecifically the file in question (`types.h`) gained some preprocessor instructions that are probably relevant[3].\n\n[1] https://github.com/NixOS/nixpkgs/pull/43476\n[2] https://github.com/JohnCremona/eclib/releases/tag/v20180710\n[3] https://github.com/JohnCremona/eclib/blob/v20180710/libsrc/eclib/types.h\n\n**CC:**  @JohnCremona @antonio-rojas @kiwifb\n\n**Keywords:** eclib upgrade\n\n**Branch/Commit:** [e36abde94fc6c93ef5b47ef745813cfa0df32f7b](https://github.com/sagemath/sagetrac-mirror/commit/e36abde94fc6c93ef5b47ef745813cfa0df32f7b)\n\n**Reviewer:** Julian R\u00fcth\n\n**Author:** Timo Kaufmann\n\nIssue created by migration from https://trac.sagemath.org/ticket/25862\n\n",
    "closed_at": "2018-08-26T09:37:52Z",
    "created_at": "2018-07-15T08:42:16Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "title": "Upgrade eclib to 20180815",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/25862",
    "user": "https://github.com/timokau"
}
```
Tarball: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20180815.tar.bz2

The tarball was updated and this should fix these issues (no patching required).  No code changes, only autotools stuff and the version is now v20180815.

---

*outdated*, for the update to 20180710:

I'm currently having issues with this update for nix[1]. I will try to see if I can reproduce those issues with sage-the distribution.

With nix I get the following error building sagelib:

```
[180/476] creating build/temp.linux-x86_64-2.7/build/cythonized/sage/libs/eclib
gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I./sage/libs/ntl -I./sage/cpython -I./sage/ext -I/nix/store/sgnfm122xn29392fbhbg9vkhqg6mvzc1-python2.>
cc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++
gcc -pthread -shared -lgcc_s build/temp.linux-x86_64-2.7/build/cythonized/sage/libs/mpmath/ext_impl.o -L/tmp/nix-build-python2.7-sagelib-8.2.drv-0/sage-src-8.2/lib -L/nix/store/d3aa78jf7pm9l>
In file included from /nix/store/7mrpq5lqdqpmmammsg6c9r7fx9xr03q8-eclib-20180710/include/eclib/homspace.h:28:0,
                 from build/cythonized/sage/libs/eclib/homspace.cpp:655:
/nix/store/7mrpq5lqdqpmmammsg6c9r7fx9xr03q8-eclib-20180710/include/eclib/method.h:57:10: fatal error: types.h: No such file or directory
 #include "types.h"
          ^~~~~~~~~
compilation terminated.
gcc -pthread -shared -lgcc_s build/temp.linux-x86_64-2.7/build/cythonized/sage/libs/arb/arith.o -L/tmp/nix-build-python2.7-sagelib-8.2.drv-0/sage-src-8.2/lib -L/nix/store/d3aa78jf7pm9lk6ad67>
[181/476] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I./sage/libs/ntl -I./sage/cpython -I./sage/ext -I/tmp/nix-build-python2.7-sagelib-8.2.drv-0>
error: command 'gcc' failed with exit status 1
cc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++
In file included from /nix/store/7mrpq5lqdqpmmammsg6c9r7fx9xr03q8-eclib-20180710/include/eclib/homspace.h:28:0,
                 from build/cythonized/sage/libs/eclib/mat.cpp:652:
/nix/store/7mrpq5lqdqpmmammsg6c9r7fx9xr03q8-eclib-20180710/include/eclib/method.h:57:10: fatal error: types.h: No such file or directory
 #include "types.h"
          ^~~~~~~~~
compilation terminated.
```

Which sounds more like an eclib error than just a changed interface. Might have something to do with eclibs changelog entry[2]

> Reorganised all include files so each may be included by itself.


Specifically the file in question (`types.h`) gained some preprocessor instructions that are probably relevant[3].

[1] https://github.com/NixOS/nixpkgs/pull/43476
[2] https://github.com/JohnCremona/eclib/releases/tag/v20180710
[3] https://github.com/JohnCremona/eclib/blob/v20180710/libsrc/eclib/types.h

**CC:**  @JohnCremona @antonio-rojas @kiwifb

**Keywords:** eclib upgrade

**Branch/Commit:** [e36abde94fc6c93ef5b47ef745813cfa0df32f7b](https://github.com/sagemath/sagetrac-mirror/commit/e36abde94fc6c93ef5b47ef745813cfa0df32f7b)

**Reviewer:** Julian Rüth

**Author:** Timo Kaufmann

Issue created by migration from https://trac.sagemath.org/ticket/25862





---

archive/issue_comments_400028.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Tarball: https://github.com/JohnCremona/eclib/archive/v20180710.tar.gz\n+Tarball: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20180710.tar.bz2\n \n I'm currently having issues with this update for nix[1]. I will try to see if I can reproduce those issues with sage-the distribution.\n \n``````\n",
    "created_at": "2018-07-15T08:54:32Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400028",
    "user": "https://github.com/timokau"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Tarball: https://github.com/JohnCremona/eclib/archive/v20180710.tar.gz
+Tarball: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20180710.tar.bz2
 
 I'm currently having issues with this update for nix[1]. I will try to see if I can reproduce those issues with sage-the distribution.
 
``````




---

archive/issue_comments_400029.json:
```json
{
    "body": "<a id='comment:1'></a>\nOkay I get a similar error on sage-the-distribution. Just this time already while building eclib (which works fine on nix):\n\n```\n[eclib-20180710] In file included from ./eclib/xsplit_data.h:41,\n[eclib-20180710]                  from ./eclib/xsplit.h:35,\n[eclib-20180710]                  from xsplit.cc:32:\n[eclib-20180710] ./eclib/method.h:57:10: fatal error: types.h: No such file or directory\n[eclib-20180710]  #include \"types.h\"\n[eclib-20180710]           ^~~~~~~~~\n[eclib-20180710] compilation terminated.\n[eclib-20180710] make[3]: *** [Makefile:570: xsplit.lo] Error 1\n```",
    "created_at": "2018-07-15T08:54:32Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400029",
    "user": "https://github.com/timokau"
}
```

<a id='comment:1'></a>
Okay I get a similar error on sage-the-distribution. Just this time already while building eclib (which works fine on nix):

```
[eclib-20180710] In file included from ./eclib/xsplit_data.h:41,
[eclib-20180710]                  from ./eclib/xsplit.h:35,
[eclib-20180710]                  from xsplit.cc:32:
[eclib-20180710] ./eclib/method.h:57:10: fatal error: types.h: No such file or directory
[eclib-20180710]  #include "types.h"
[eclib-20180710]           ^~~~~~~~~
[eclib-20180710] compilation terminated.
[eclib-20180710] make[3]: *** [Makefile:570: xsplit.lo] Error 1
```



---

archive/issue_comments_400030.json:
```json
{
    "body": "<a id='comment:3'></a>\narojas already figured this out. See https://groups.google.com/forum/#!msg/sage-packaging/KD0H2kzE1Z4/McOrPorxBQAJ.",
    "created_at": "2018-07-15T09:25:57Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400030",
    "user": "https://github.com/timokau"
}
```

<a id='comment:3'></a>
arojas already figured this out. See https://groups.google.com/forum/#!msg/sage-packaging/KD0H2kzE1Z4/McOrPorxBQAJ.



---

archive/issue_comments_400031.json:
```json
{
    "body": "**Upstream:** Workaround found; Bug reported upstream.",
    "created_at": "2018-07-15T09:28:14Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400031",
    "user": "https://github.com/antonio-rojas"
}
```

**Upstream:** Workaround found; Bug reported upstream.



---

archive/issue_comments_400032.json:
```json
{
    "body": "<a id='comment:5'></a>\nReposting the info here:\n\nthis eclib patch is needed to fix the missing header error\n\nhttps://github.com/JohnCremona/eclib/pull/42\n\nand this sage patch is needed to fix build, since bigint has changed from a define to a typedef\n\nhttps://git.archlinux.org/svntogit/community.git/tree/trunk/sagemath-eclib-20180710.patch?h=packages/sagemath",
    "created_at": "2018-07-15T09:35:38Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400032",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:5'></a>
Reposting the info here:

this eclib patch is needed to fix the missing header error

https://github.com/JohnCremona/eclib/pull/42

and this sage patch is needed to fix build, since bigint has changed from a define to a typedef

https://git.archlinux.org/svntogit/community.git/tree/trunk/sagemath-eclib-20180710.patch?h=packages/sagemath



---

archive/issue_comments_400033.json:
```json
{
    "body": "<a id='comment:6'></a>\nAdditionally to @antonio-rojas patch there is one small formatting change that has to be included in the doctests (`src/sage/interfaces/mwrank.py`)\n\n```\nFailed example:\n    print(M('0 0 1 -1 0'))\nExpected:\n    Curve [0,0,1,-1,0] :    Rank = 1\n    Generator 1 is [0:-1:1]; height 0.0511114082399688\n    Regulator = 0.0511114082399688\nGot:\n    Curve [0,0,1,-1,0] :        Rank = 1\n    <BLANKLINE>\n    Generator 1 is [0:-1:1]; height 0.051111408239969\n    <BLANKLINE>\n    Regulator = 0.051111408239969\n    <BLANKLINE>\n```",
    "created_at": "2018-07-15T12:23:31Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400033",
    "user": "https://github.com/timokau"
}
```

<a id='comment:6'></a>
Additionally to @antonio-rojas patch there is one small formatting change that has to be included in the doctests (`src/sage/interfaces/mwrank.py`)

```
Failed example:
    print(M('0 0 1 -1 0'))
Expected:
    Curve [0,0,1,-1,0] :    Rank = 1
    Generator 1 is [0:-1:1]; height 0.0511114082399688
    Regulator = 0.0511114082399688
Got:
    Curve [0,0,1,-1,0] :        Rank = 1
    <BLANKLINE>
    Generator 1 is [0:-1:1]; height 0.051111408239969
    <BLANKLINE>
    Regulator = 0.051111408239969
    <BLANKLINE>
```



---

archive/issue_comments_400034.json:
```json
{
    "body": "<a id='comment:8'></a>\nHere's the patch I applied, which includes @antonio-rojas patch and fixes the rounding issue: https://github.com/NixOS/nixpkgs/blob/c77d1e5b318213ec432cda40f3c4c9bbae429281/pkgs/applications/science/math/sage/patches/eclib-20180710.patch\n\nWhen actually upgrading the spkg it would be nicer to decrease the precision a bit instead of just using the new rounding.",
    "created_at": "2018-07-16T11:48:08Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400034",
    "user": "https://github.com/timokau"
}
```

<a id='comment:8'></a>
Here's the patch I applied, which includes @antonio-rojas patch and fixes the rounding issue: https://github.com/NixOS/nixpkgs/blob/c77d1e5b318213ec432cda40f3c4c9bbae429281/pkgs/applications/science/math/sage/patches/eclib-20180710.patch

When actually upgrading the spkg it would be nicer to decrease the precision a bit instead of just using the new rounding.



---

archive/issue_comments_400035.json:
```json
{
    "body": "**Changing upstream** from \"Workaround found; Bug reported upstream.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2018-07-26T09:23:07Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400035",
    "user": "https://github.com/antonio-rojas"
}
```

**Changing upstream** from "Workaround found; Bug reported upstream." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_400036.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [arojas](#comment%3A9):\n\nIt will only take me a few minutes to make a new release with this fix in, which would surely be preferable.  I have been travelling and not had time but should do it in the next 2 days.  I suppose I forgot to to make dist-check or whatever.",
    "created_at": "2018-07-26T10:30:05Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400036",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:10'></a>
Replying to [arojas](#comment%3A9):

It will only take me a few minutes to make a new release with this fix in, which would surely be preferable.  I have been travelling and not had time but should do it in the next 2 days.  I suppose I forgot to to make dist-check or whatever.



---

archive/issue_comments_400037.json:
```json
{
    "body": "<a id='comment:11'></a>\n@antonio-rojas' fix was merged for a different reason in #25999.\n\n@JohnCremona ping :)",
    "created_at": "2018-08-15T10:30:11Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400037",
    "user": "https://github.com/timokau"
}
```

<a id='comment:11'></a>
@antonio-rojas' fix was merged for a different reason in #25999.

@JohnCremona ping :)



---

archive/issue_comments_400038.json:
```json
{
    "body": "<a id='comment:12'></a>\nPing received.  I got sidetracked by the fact that \"make distcheck\" did not work for me and was trying to find a better way of getting the correct flags / switches into eclib's configure to get threads working with \"manually\" added them.  Either way I'll get a new release out today or tomorrow to use instead of 20180710, evn if it only has this patch in it.",
    "created_at": "2018-08-15T10:34:12Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400038",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:12'></a>
Ping received.  I got sidetracked by the fact that "make distcheck" did not work for me and was trying to find a better way of getting the correct flags / switches into eclib's configure to get threads working with "manually" added them.  Either way I'll get a new release out today or tomorrow to use instead of 20180710, evn if it only has this patch in it.



---

archive/issue_comments_400039.json:
```json
{
    "body": "<a id='comment:13'></a>\nAwesome, please post here when you do.",
    "created_at": "2018-08-15T11:47:39Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400039",
    "user": "https://github.com/timokau"
}
```

<a id='comment:13'></a>
Awesome, please post here when you do.



---

archive/issue_comments_400040.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n-Tarball: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20180710.tar.bz2\n+Tarball: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20180815.tar.bz2\n+\n+The tarball was updated and this should fix these issues (no patching required).  No code changes, only autotools stuff and the version is now v20180815.\n+\n+---\n \n I'm currently having issues with this update for nix[1]. I will try to see if I can reproduce those issues with sage-the distribution.\n \n``````\n",
    "created_at": "2018-08-15T12:48:40Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400040",
    "user": "https://github.com/JohnCremona"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
-Tarball: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20180710.tar.bz2
+Tarball: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20180815.tar.bz2
+
+The tarball was updated and this should fix these issues (no patching required).  No code changes, only autotools stuff and the version is now v20180815.
+
+---
 
 I'm currently having issues with this update for nix[1]. I will try to see if I can reproduce those issues with sage-the distribution.
 
``````




---

archive/issue_comments_400041.json:
```json
{
    "body": "**Changing upstream** from \"Fixed upstream, but not in a stable release.\" to \"\".",
    "created_at": "2018-08-15T12:58:24Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400041",
    "user": "https://github.com/timokau"
}
```

**Changing upstream** from "Fixed upstream, but not in a stable release." to "".



---

archive/issue_comments_400042.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks! Do you plan to do the sage update or do you want me to do it?",
    "created_at": "2018-08-15T12:58:53Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400042",
    "user": "https://github.com/timokau"
}
```

<a id='comment:16'></a>
Thanks! Do you plan to do the sage update or do you want me to do it?



---

archive/issue_events_229511.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-15T12:59:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "rename": {
        "from": "Upgrade eclib to 20180710",
        "to": "Upgrade eclib to 20180815"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229511"
}
```



---

archive/issue_comments_400043.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [gh-timokau](#comment%3A16):\n> Thanks! Do you plan to do the sage update or do you want me to do it?\n\nPlease could you do it.  I am trying to finish something else before going away on Friday.",
    "created_at": "2018-08-15T13:27:00Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400043",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:18'></a>
Replying to [gh-timokau](#comment%3A16):
> Thanks! Do you plan to do the sage update or do you want me to do it?

Please could you do it.  I am trying to finish something else before going away on Friday.



---

archive/issue_comments_400044.json:
```json
{
    "body": "<a id='comment:19'></a>\nThe tarball is a 404. Any reason why we don't just use the one provided by github?",
    "created_at": "2018-08-16T09:19:26Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400044",
    "user": "https://github.com/timokau"
}
```

<a id='comment:19'></a>
The tarball is a 404. Any reason why we don't just use the one provided by github?



---

archive/issue_comments_400045.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [gh-timokau](#comment%3A19):\n> The tarball is a 404. Any reason why we don't just use the one provided by github?\n\nI fixed that but guthub should also be fine.",
    "created_at": "2018-08-16T09:55:41Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400045",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:20'></a>
Replying to [gh-timokau](#comment%3A19):
> The tarball is a 404. Any reason why we don't just use the one provided by github?

I fixed that but guthub should also be fine.



---

archive/issue_comments_400046.json:
```json
{
    "body": "<a id='comment:21'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e\">7e8e40e</a></td><td><code>Upgrade eclib to 20180815</code></td></tr></table>\n",
    "created_at": "2018-08-16T18:18:18Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400046",
    "user": "https://github.com/timokau"
}
```

<a id='comment:21'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e">7e8e40e</a></td><td><code>Upgrade eclib to 20180815</code></td></tr></table>




---

archive/issue_comments_400047.json:
```json
{
    "body": "**Branch:** [u/gh-timokau/eclib-20180815](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/eclib-20180815)",
    "created_at": "2018-08-16T18:18:18Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400047",
    "user": "https://github.com/timokau"
}
```

**Branch:** [u/gh-timokau/eclib-20180815](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/eclib-20180815)



---

archive/issue_comments_400048.json:
```json
{
    "body": "**Commit:** [7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e](https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e)",
    "created_at": "2018-08-16T18:18:18Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400048",
    "user": "https://github.com/timokau"
}
```

**Commit:** [7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e](https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e)



---

archive/issue_events_229512.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-16T18:18:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229512"
}
```



---

archive/issue_comments_400049.json:
```json
{
    "body": "**Reviewer:** Julian R\u00fcth",
    "created_at": "2018-08-16T19:26:10Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400049",
    "user": "https://github.com/saraedum"
}
```

**Reviewer:** Julian Rüth



---

archive/issue_comments_400050.json:
```json
{
    "body": "<a id='comment:23'></a>\nI think you forgot to put your name in the Authors field here. And you might want to remove the lower part of the ticket description as that problem has been resolved if I understood correctly.\n\nApart from that, feel free to set this to positive review :)",
    "created_at": "2018-08-16T19:26:10Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400050",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:23'></a>
I think you forgot to put your name in the Authors field here. And you might want to remove the lower part of the ticket description as that problem has been resolved if I understood correctly.

Apart from that, feel free to set this to positive review :)



---

archive/issue_comments_400051.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n The tarball was updated and this should fix these issues (no patching required).  No code changes, only autotools stuff and the version is now v20180815.\n \n ---\n+\n+*outdated*, for the update to 20180710:\n \n I'm currently having issues with this update for nix[1]. I will try to see if I can reproduce those issues with sage-the distribution.\n \n``````\n",
    "created_at": "2018-08-16T20:05:51Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400051",
    "user": "https://github.com/timokau"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 The tarball was updated and this should fix these issues (no patching required).  No code changes, only autotools stuff and the version is now v20180815.
 
 ---
+
+*outdated*, for the update to 20180710:
 
 I'm currently having issues with this update for nix[1]. I will try to see if I can reproduce those issues with sage-the distribution.
 
``````




---

archive/issue_events_229513.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-16T20:05:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229513"
}
```



---

archive/issue_events_229514.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-16T20:05:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229514"
}
```



---

archive/issue_comments_400052.json:
```json
{
    "body": "**Author:** Timo Kaufmann",
    "created_at": "2018-08-16T20:05:51Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400052",
    "user": "https://github.com/timokau"
}
```

**Author:** Timo Kaufmann



---

archive/issue_comments_400053.json:
```json
{
    "body": "<a id='comment:25'></a>\nRight. I left it intact but marked it as outdated. Maybe it'll be relevant for someone.\n\nThanks for the review :)",
    "created_at": "2018-08-16T20:06:24Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400053",
    "user": "https://github.com/timokau"
}
```

<a id='comment:25'></a>
Right. I left it intact but marked it as outdated. Maybe it'll be relevant for someone.

Thanks for the review :)



---

archive/issue_comments_400054.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-timokau/eclib-20180815](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/eclib-20180815)\" to \"[7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e](https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e)\".",
    "created_at": "2018-08-20T23:38:53Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400054",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/gh-timokau/eclib-20180815](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/eclib-20180815)" to "[7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e](https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e)".



---

archive/issue_events_229515.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-20T23:38:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229515"
}
```



---

archive/issue_events_229516.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-20T23:38:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229516"
}
```



---

archive/issue_comments_400055.json:
```json
{
    "body": "**Changing commit** from \"[7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e](https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e)\" to \"\".",
    "created_at": "2018-08-25T10:59:01Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400055",
    "user": "https://github.com/vbraun"
}
```

**Changing commit** from "[7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e](https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e)" to "".



---

archive/issue_comments_400056.json:
```json
{
    "body": "<a id='comment:27'></a>\n\n```\n**********************************************************************\nFile \"src/sage/schemes/elliptic_curves/ell_rational_field.py\", line 473, in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.mwrank\nFailed example:\n    print(E.mwrank('-v0 -l -b11'))\nExpected:\n    Curve [0,0,0,877,0] :   Rank = 1\n    Generator 1 is [29604565304828237474403861024284371796799791624792913256602210:-256256267988926809388776834045513089648669153204356603464786949:490078023219787588959802933995928925096061616470779979261000]; height 95.980371987964\n    Regulator = 95.980371987964\nGot:\n    Curve [0,0,0,877,0] :\tRank = 1\n    <BLANKLINE>\n    Generator 1 is [29604565304828237474403861024284371796799791624792913256602210:-256256267988926809388776834045513089648669153204356603464786949:490078023219787588959802933995928925096061616470779979261000]; height 95.98037198796\n    <BLANKLINE>\n    Regulator = 95.98037198796\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/schemes/elliptic_curves/ell_rational_field.py\", line 2446, in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.ngens\nFailed example:\n    print(E.mwrank('-v0 -b12 -l'))\nExpected:\n    Curve [0,0,0,877,0] :   Rank = 1\n    Generator 1 is [29604565304828237474403861024284371796799791624792913256602210:-256256267988926809388776834045513089648669153204356603464786949:490078023219787588959802933995928925096061616470779979261000]; height 95.980371987964\n    Regulator = 95.980...\nGot:\n    Curve [0,0,0,877,0] :\tRank = 1\n    <BLANKLINE>\n    Generator 1 is [29604565304828237474403861024284371796799791624792913256602210:-256256267988926809388776834045513089648669153204356603464786949:490078023219787588959802933995928925096061616470779979261000]; height 95.98037198796\n    <BLANKLINE>\n    Regulator = 95.98037198796\n    <BLANKLINE>\n**********************************************************************\n2 items had failures:\n   1 of   7 in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.mwrank\n   1 of   6 in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.ngens\n    [848 tests, 2 failures, 241.04 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/schemes/elliptic_curves/ell_rational_field.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2018-08-25T10:59:01Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400056",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>

```
**********************************************************************
File "src/sage/schemes/elliptic_curves/ell_rational_field.py", line 473, in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.mwrank
Failed example:
    print(E.mwrank('-v0 -l -b11'))
Expected:
    Curve [0,0,0,877,0] :   Rank = 1
    Generator 1 is [29604565304828237474403861024284371796799791624792913256602210:-256256267988926809388776834045513089648669153204356603464786949:490078023219787588959802933995928925096061616470779979261000]; height 95.980371987964
    Regulator = 95.980371987964
Got:
    Curve [0,0,0,877,0] :	Rank = 1
    <BLANKLINE>
    Generator 1 is [29604565304828237474403861024284371796799791624792913256602210:-256256267988926809388776834045513089648669153204356603464786949:490078023219787588959802933995928925096061616470779979261000]; height 95.98037198796
    <BLANKLINE>
    Regulator = 95.98037198796
    <BLANKLINE>
**********************************************************************
File "src/sage/schemes/elliptic_curves/ell_rational_field.py", line 2446, in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.ngens
Failed example:
    print(E.mwrank('-v0 -b12 -l'))
Expected:
    Curve [0,0,0,877,0] :   Rank = 1
    Generator 1 is [29604565304828237474403861024284371796799791624792913256602210:-256256267988926809388776834045513089648669153204356603464786949:490078023219787588959802933995928925096061616470779979261000]; height 95.980371987964
    Regulator = 95.980...
Got:
    Curve [0,0,0,877,0] :	Rank = 1
    <BLANKLINE>
    Generator 1 is [29604565304828237474403861024284371796799791624792913256602210:-256256267988926809388776834045513089648669153204356603464786949:490078023219787588959802933995928925096061616470779979261000]; height 95.98037198796
    <BLANKLINE>
    Regulator = 95.98037198796
    <BLANKLINE>
**********************************************************************
2 items had failures:
   1 of   7 in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.mwrank
   1 of   6 in sage.schemes.elliptic_curves.ell_rational_field.EllipticCurve_rational_field.ngens
    [848 tests, 2 failures, 241.04 s]
----------------------------------------------------------------------
sage -t --long src/sage/schemes/elliptic_curves/ell_rational_field.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_400057.json:
```json
{
    "body": "<a id='comment:28'></a>\nThis failure is on 32-bit",
    "created_at": "2018-08-25T10:59:19Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400057",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
This failure is on 32-bit



---

archive/issue_comments_400058.json:
```json
{
    "body": "**Commit:** [e36abde94fc6c93ef5b47ef745813cfa0df32f7b](https://github.com/sagemath/sagetrac-mirror/commit/e36abde94fc6c93ef5b47ef745813cfa0df32f7b)",
    "created_at": "2018-08-25T11:26:01Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400058",
    "user": "https://github.com/timokau"
}
```

**Commit:** [e36abde94fc6c93ef5b47ef745813cfa0df32f7b](https://github.com/sagemath/sagetrac-mirror/commit/e36abde94fc6c93ef5b47ef745813cfa0df32f7b)



---

archive/issue_comments_400059.json:
```json
{
    "body": "<a id='comment:29'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e\">7e8e40e</a></td><td><code>Upgrade eclib to 20180815</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e36abde94fc6c93ef5b47ef745813cfa0df32f7b\">e36abde</a></td><td><code>Fix eclib doctests on 32 bit</code></td></tr></table>\n",
    "created_at": "2018-08-25T11:26:01Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400059",
    "user": "https://github.com/timokau"
}
```

<a id='comment:29'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e">7e8e40e</a></td><td><code>Upgrade eclib to 20180815</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e36abde94fc6c93ef5b47ef745813cfa0df32f7b">e36abde</a></td><td><code>Fix eclib doctests on 32 bit</code></td></tr></table>




---

archive/issue_comments_400060.json:
```json
{
    "body": "**Changing branch** from \"[7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e](https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e)\" to \"[u/gh-timokau/eclib-20180815](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/eclib-20180815)\".",
    "created_at": "2018-08-25T11:26:01Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400060",
    "user": "https://github.com/timokau"
}
```

**Changing branch** from "[7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e](https://github.com/sagemath/sagetrac-mirror/commit/7e8e40ee6a5e7315d494f15f4142a3122a0f3b5e)" to "[u/gh-timokau/eclib-20180815](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/eclib-20180815)".



---

archive/issue_events_229517.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-25T11:28:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229517"
}
```



---

archive/issue_comments_400061.json:
```json
{
    "body": "<a id='comment:31'></a>\nSetting back to positive review since the change is trivial (slight relaxation of precision).",
    "created_at": "2018-08-25T11:28:40Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400061",
    "user": "https://github.com/timokau"
}
```

<a id='comment:31'></a>
Setting back to positive review since the change is trivial (slight relaxation of precision).



---

archive/issue_events_229518.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-25T11:28:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229518"
}
```



---

archive/issue_events_229519.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-25T11:28:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229519"
}
```



---

archive/issue_comments_400062.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-timokau/eclib-20180815](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/eclib-20180815)\" to \"[e36abde94fc6c93ef5b47ef745813cfa0df32f7b](https://github.com/sagemath/sagetrac-mirror/commit/e36abde94fc6c93ef5b47ef745813cfa0df32f7b)\".",
    "created_at": "2018-08-26T09:37:52Z",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25862#issuecomment-400062",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/gh-timokau/eclib-20180815](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/eclib-20180815)" to "[e36abde94fc6c93ef5b47ef745813cfa0df32f7b](https://github.com/sagemath/sagetrac-mirror/commit/e36abde94fc6c93ef5b47ef745813cfa0df32f7b)".



---

archive/issue_events_229520.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-26T09:37:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229520"
}
```



---

archive/issue_events_229521.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-26T09:37:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25862",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25862#event-229521"
}
```
