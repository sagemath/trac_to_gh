# Issue 25164: py3: fix maxima interface

archive/issues_025164.json:
```json
{
    "body": "CC:  @embray @jdemeyer @kiwifb\n\nthat prevents sage-python3 8.3.b2 to start.\n\nsage-python3 does no start anymore :\n\n```\n    575         self._prompt_wait = ([self._prompt.encode('ascii')] +\n--> 576                              [re.compile(x) for x in self._ask] +\n        global re.compile = <function compile at 0x7f7eb678c8c8>\n        global x = undefined\n        self._ask = [b'zero or nonzero\\\\?', b'an integer\\\\?', b'positive, negat\\\nive or zero\\\\?', b'positive or negative\\\\?', b'positive or zero\\\\?', b'equal to\\\n .*\\\\?']\n    577                              [b'Break [0-9]+'])  # note that you might \\\nneed to change _expect_expr if you\n    578                                                  # change this\n    579         self._error_re = re.compile('(Principal Value|debugmode|incorre\\\nct syntax|Maxima encountered a Lisp error)')\n    580         self._display2d = False\n    581\n    582     def set_seed(self, seed=None):\n    583         \"\"\"\n    584         http://maxima.sourceforge.net/docs/manual/maxima_10.html\n    585         make_random_state (n) returns a new random state object created\\\n from an\n    586         integer seed value equal to n modulo 2^32. n may be negative.\n    587\n    588         EXAMPLES::\n    589\n    590             sage: m = Maxima()\n...\nAttributeError: 'bytes' object has no attribute 'encode'\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/25401\n\n",
    "closed_at": "2018-05-28T13:57:27Z",
    "created_at": "2018-05-19T12:25:20Z",
    "labels": [
        "component: python3",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "py3: fix maxima interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25164",
    "user": "https://github.com/fchapoton"
}
```
CC:  @embray @jdemeyer @kiwifb

that prevents sage-python3 8.3.b2 to start.

sage-python3 does no start anymore :

```
    575         self._prompt_wait = ([self._prompt.encode('ascii')] +
--> 576                              [re.compile(x) for x in self._ask] +
        global re.compile = <function compile at 0x7f7eb678c8c8>
        global x = undefined
        self._ask = [b'zero or nonzero\\?', b'an integer\\?', b'positive, negat\
ive or zero\\?', b'positive or negative\\?', b'positive or zero\\?', b'equal to\
 .*\\?']
    577                              [b'Break [0-9]+'])  # note that you might \
need to change _expect_expr if you
    578                                                  # change this
    579         self._error_re = re.compile('(Principal Value|debugmode|incorre\
ct syntax|Maxima encountered a Lisp error)')
    580         self._display2d = False
    581
    582     def set_seed(self, seed=None):
    583         """
    584         http://maxima.sourceforge.net/docs/manual/maxima_10.html
    585         make_random_state (n) returns a new random state object created\
 from an
    586         integer seed value equal to n modulo 2^32. n may be negative.
    587
    588         EXAMPLES::
    589
    590             sage: m = Maxima()
...
AttributeError: 'bytes' object has no attribute 'encode'
```

Issue created by migration from https://trac.sagemath.org/ticket/25401





---

archive/issue_comments_354044.json:
```json
{
    "body": "not really sure if this is the right fix. But I am quite annoyed that python3-sage does not start anymore...\n\n---\nNew commits:",
    "created_at": "2018-05-19T12:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354044",
    "user": "https://github.com/fchapoton"
}
```

not really sure if this is the right fix. But I am quite annoyed that python3-sage does not start anymore...

---
New commits:



---

archive/issue_comments_354045.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-19T12:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354045",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_354046.json:
```json
{
    "body": "this does not fix the problem",
    "created_at": "2018-05-19T16:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354046",
    "user": "https://github.com/fchapoton"
}
```

this does not fix the problem



---

archive/issue_comments_354047.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-05-19T16:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354047",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_354048.json:
```json
{
    "body": "For completeness can you paste the offending error in the description. I know where you posted in an another ticket but I'd rather not switch back and forth just to look at the problem.",
    "created_at": "2018-05-19T20:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354048",
    "user": "https://github.com/kiwifb"
}
```

For completeness can you paste the offending error in the description. I know where you posted in an another ticket but I'd rather not switch back and forth just to look at the problem.



---

archive/issue_comments_354049.json:
```json
{
    "body": "This seems to be handled correctly in #24269",
    "created_at": "2018-05-20T06:45:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354049",
    "user": "https://github.com/fchapoton"
}
```

This seems to be handled correctly in #24269



---

archive/issue_comments_354050.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-05-20T09:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354050",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_354051.json:
```json
{
    "body": "ok, let us close this one and work on #24269 instead",
    "created_at": "2018-05-20T09:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354051",
    "user": "https://github.com/fchapoton"
}
```

ok, let us close this one and work on #24269 instead



---

archive/issue_events_063793.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-20T09:19:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25164#event-63793"
}
```



---

archive/issue_comments_354052.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2018-05-28T13:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25164#issuecomment-354052",
    "user": "https://github.com/embray"
}
```

Resolution: duplicate



---

archive/issue_events_063794.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-28T13:57:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25164",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25164#event-63794"
}
```
