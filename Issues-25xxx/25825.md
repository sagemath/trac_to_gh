# Issue 25825: Move cremona db to features

archive/issues_025588.json:
```json
{
    "body": "This continues the work in #20382 and #25835.\n\nTo test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.\n\nNext steps in getting rid of `is_package_installed` etc.:\n- #30746 `sage.doctest.control`: Replace use of `sage.misc.package.list_packages`\n- #30747 Deprecate all of `sage.misc.package` except for `PackageNotFoundError`\n\n**CC:**  @tscrim @kiwifb @mkoeppe\n\n**Branch/Commit:** [9c2dcb5badacc99f17e2c049ad51bf21589a8bc8](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)\n\n**Reviewer:** Julian R\u00fcth, Matthias Koeppe\n\n**Author:** Timo Kaufmann, Jeroen Demeyer, Antonio Rojas\n\nIssue created by migration from https://trac.sagemath.org/ticket/25825\n\n",
    "closed_at": "2020-10-31T18:07:46Z",
    "created_at": "2018-07-11T13:18:28Z",
    "labels": [
        "component: build",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Move cremona db to features",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25825",
    "user": "https://github.com/timokau"
}
```
This continues the work in #20382 and #25835.

To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.

Next steps in getting rid of `is_package_installed` etc.:
- #30746 `sage.doctest.control`: Replace use of `sage.misc.package.list_packages`
- #30747 Deprecate all of `sage.misc.package` except for `PackageNotFoundError`

**CC:**  @tscrim @kiwifb @mkoeppe

**Branch/Commit:** [9c2dcb5badacc99f17e2c049ad51bf21589a8bc8](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)

**Reviewer:** Julian Rüth, Matthias Koeppe

**Author:** Timo Kaufmann, Jeroen Demeyer, Antonio Rojas

Issue created by migration from https://trac.sagemath.org/ticket/25825





---

archive/issue_comments_473712.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-07-11T13:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473712",
    "user": "https://github.com/timokau"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_473713.json:
```json
{
    "body": "<a id='comment:3'></a>\nI just discovered #24718. This seems to be related/a duplicate. But that ticket seems to do some more unrelated stuff and probably needs a rebase. No clue why that is still \"new\".",
    "created_at": "2018-07-11T17:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473713",
    "user": "https://github.com/timokau"
}
```

<a id='comment:3'></a>
I just discovered #24718. This seems to be related/a duplicate. But that ticket seems to do some more unrelated stuff and probably needs a rebase. No clue why that is still "new".



---

archive/issue_comments_473714.json:
```json
{
    "body": "<a id='comment:4'></a>\nIn any case, I would rather have 1 ticket for each issue (1 for GAP, one for the Cremona database).",
    "created_at": "2018-07-11T18:40:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473714",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
In any case, I would rather have 1 ticket for each issue (1 for GAP, one for the Cremona database).



---

archive/issue_comments_473715.json:
```json
{
    "body": "<a id='comment:5'></a>\nSure, I'll split it up.",
    "created_at": "2018-07-11T19:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473715",
    "user": "https://github.com/timokau"
}
```

<a id='comment:5'></a>
Sure, I'll split it up.



---

archive/issue_events_073055.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "rename": {
        "from": "Move gap_packages and cremona db to features",
        "to": "Move cremona db to features"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25825#event-73055"
}
```



---

archive/issue_comments_473716.json:
```json
{
    "body": "<a id='comment:6'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d\">ca701d9</a></td><td><code>Replace gap package checks with features</code></td></tr></table>\n",
    "created_at": "2018-07-11T19:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473716",
    "user": "https://github.com/timokau"
}
```

<a id='comment:6'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d">ca701d9</a></td><td><code>Replace gap package checks with features</code></td></tr></table>




---

archive/issue_comments_473717.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-timokau/use-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/use-features)\" to \"[u/gh-timokau/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/cremona-db-features)\".",
    "created_at": "2018-07-11T19:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473717",
    "user": "https://github.com/timokau"
}
```

**Changing branch** from "[u/gh-timokau/use-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/use-features)" to "[u/gh-timokau/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/cremona-db-features)".



---

archive/issue_comments_473718.json:
```json
{
    "body": "**Changing commit** from \"[c13f429ac3074315020d5d0415baa72dca9362b2](https://github.com/sagemath/sagetrac-mirror/commit/c13f429ac3074315020d5d0415baa72dca9362b2)\" to \"[ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d](https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d)\".",
    "created_at": "2018-07-11T19:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473718",
    "user": "https://github.com/timokau"
}
```

**Changing commit** from "[c13f429ac3074315020d5d0415baa72dca9362b2](https://github.com/sagemath/sagetrac-mirror/commit/c13f429ac3074315020d5d0415baa72dca9362b2)" to "[ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d](https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d)".



---

archive/issue_comments_473719.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0\">1030350</a></td><td><code>Replace remona db checks with features</code></td></tr></table>\n",
    "created_at": "2018-07-11T19:40:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473719",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0">1030350</a></td><td><code>Replace remona db checks with features</code></td></tr></table>




---

archive/issue_comments_473720.json:
```json
{
    "body": "**Changing commit** from \"[ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d](https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d)\" to \"[1030350ee9cfd5729fca07b55f6e941530ee9fb0](https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0)\".",
    "created_at": "2018-07-11T19:40:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473720",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d](https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d)" to "[1030350ee9cfd5729fca07b55f6e941530ee9fb0](https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0)".



---

archive/issue_comments_473721.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This continues the work in #20382. After this patch is applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension`.\n+This continues the work in #20382. After this patch and #25835 are applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension` (#25828).\n \n To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.\n \n``````\n",
    "created_at": "2018-07-11T19:44:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473721",
    "user": "https://github.com/timokau"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This continues the work in #20382. After this patch is applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension`.
+This continues the work in #20382. After this patch and #25835 are applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension` (#25828).
 
 To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.
 
``````




---

archive/issue_comments_473722.json:
```json
{
    "body": "<a id='comment:8'></a>\nSplit to this and #25835.",
    "created_at": "2018-07-11T19:44:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473722",
    "user": "https://github.com/timokau"
}
```

<a id='comment:8'></a>
Split to this and #25835.



---

archive/issue_comments_473723.json:
```json
{
    "body": "<a id='comment:9'></a>\nAs I mentioned on #24718: We should also use the database location discovered by the feature check instead of hardcoding it. In other words: there should be a single source for the database location.",
    "created_at": "2018-07-11T21:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473723",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
As I mentioned on #24718: We should also use the database location discovered by the feature check instead of hardcoding it. In other words: there should be a single source for the database location.



---

archive/issue_comments_473724.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-07-11T21:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473724",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_473725.json:
```json
{
    "body": "**Dependencies:** #25309",
    "created_at": "2018-07-11T21:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473725",
    "user": "https://github.com/timokau"
}
```

**Dependencies:** #25309



---

archive/issue_comments_473726.json:
```json
{
    "body": "<a id='comment:10'></a>\nWhat do you mean by \"discover\"? It looks to me like the path to the database is just as hardcoded in the feature. Am I reading that wrong?\n\nThat should probably use the environment variable I introduced in #25309 though. So that'll have to be merged first.",
    "created_at": "2018-07-11T21:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473726",
    "user": "https://github.com/timokau"
}
```

<a id='comment:10'></a>
What do you mean by "discover"? It looks to me like the path to the database is just as hardcoded in the feature. Am I reading that wrong?

That should probably use the environment variable I introduced in #25309 though. So that'll have to be merged first.



---

archive/issue_comments_473727.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [gh-timokau](#comment%3A10):\n> It looks to me like the path to the database is just as hardcoded in the feature.\n\n\nYes, it's hardcoded in two different places which is bad design. There should be single source for it.",
    "created_at": "2018-07-11T22:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473727",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Replying to [gh-timokau](#comment%3A10):
> It looks to me like the path to the database is just as hardcoded in the feature.


Yes, it's hardcoded in two different places which is bad design. There should be single source for it.



---

archive/issue_comments_473728.json:
```json
{
    "body": "<a id='comment:12'></a>\nI agree, I'll use the environment variable after #25309 is merged.",
    "created_at": "2018-07-11T22:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473728",
    "user": "https://github.com/timokau"
}
```

<a id='comment:12'></a>
I agree, I'll use the environment variable after #25309 is merged.



---

archive/issue_events_073056.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-06T11:40:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25825#event-73056"
}
```



---

archive/issue_comments_473729.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a\">e738ff5</a></td><td><code>Replace remona db checks with features</code></td></tr></table>\n",
    "created_at": "2018-08-06T12:20:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473729",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a">e738ff5</a></td><td><code>Replace remona db checks with features</code></td></tr></table>




---

archive/issue_comments_473730.json:
```json
{
    "body": "**Changing commit** from \"[1030350ee9cfd5729fca07b55f6e941530ee9fb0](https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0)\" to \"[e738ff5a01ef1b8104ada6ee3e9c6072a809d87a](https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a)\".",
    "created_at": "2018-08-06T12:20:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1030350ee9cfd5729fca07b55f6e941530ee9fb0](https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0)" to "[e738ff5a01ef1b8104ada6ee3e9c6072a809d87a](https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a)".



---

archive/issue_comments_473731.json:
```json
{
    "body": "<a id='comment:15'></a>\nAlright I'm using the proper environment variables now.",
    "created_at": "2018-08-06T12:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473731",
    "user": "https://github.com/timokau"
}
```

<a id='comment:15'></a>
Alright I'm using the proper environment variables now.



---

archive/issue_comments_473732.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-08-06T12:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473732",
    "user": "https://github.com/timokau"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_473733.json:
```json
{
    "body": "<a id='comment:16'></a>\nMy point was that you shouldn't use `CREMONA_MINI_DATA_DIR, CREMONA_LARGE_DATA_DIR` at all in the implementation, as the `Feature` already knows the filename.",
    "created_at": "2018-08-06T12:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473733",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
My point was that you shouldn't use `CREMONA_MINI_DATA_DIR, CREMONA_LARGE_DATA_DIR` at all in the implementation, as the `Feature` already knows the filename.



---

archive/issue_comments_473734.json:
```json
{
    "body": "**Changing dependencies** from \"#25309\" to \"\".",
    "created_at": "2018-08-06T12:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473734",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#25309" to "".



---

archive/issue_comments_473735.json:
```json
{
    "body": "<a id='comment:17'></a>\nYes the filename, but not the directory. How is it supposed to know that?",
    "created_at": "2018-08-06T13:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473735",
    "user": "https://github.com/timokau"
}
```

<a id='comment:17'></a>
Yes the filename, but not the directory. How is it supposed to know that?



---

archive/issue_comments_473736.json:
```json
{
    "body": "<a id='comment:18'></a>\nI guess you should ask the feature for the path and not import it independently, see `StaticFile.absolute_path()`.",
    "created_at": "2018-08-07T17:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473736",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:18'></a>
I guess you should ask the feature for the path and not import it independently, see `StaticFile.absolute_path()`.



---

archive/issue_comments_473737.json:
```json
{
    "body": "**Reviewer:** Julian R\u00fcth",
    "created_at": "2018-08-07T17:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473737",
    "user": "https://github.com/saraedum"
}
```

**Reviewer:** Julian Rüth



---

archive/issue_comments_473738.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-08-07T17:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473738",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_473739.json:
```json
{
    "body": "**Changing status** from needs_work to needs_info.",
    "created_at": "2018-08-07T18:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473739",
    "user": "https://github.com/timokau"
}
```

**Changing status** from needs_work to needs_info.



---

archive/issue_comments_473740.json:
```json
{
    "body": "<a id='comment:20'></a>\nBut how is the feature supposed to know the path?",
    "created_at": "2018-08-07T18:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473740",
    "user": "https://github.com/timokau"
}
```

<a id='comment:20'></a>
But how is the feature supposed to know the path?



---

archive/issue_comments_473741.json:
```json
{
    "body": "<a id='comment:21'></a>\nThe features looks at `CREMONA_*_DATA_DIR`. The point is that this information is only in the feature and users of the feature should not look at these variables again, i.e., the feature's implementation can change and we do not have to update all the users.",
    "created_at": "2018-08-07T18:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473741",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:21'></a>
The features looks at `CREMONA_*_DATA_DIR`. The point is that this information is only in the feature and users of the feature should not look at these variables again, i.e., the feature's implementation can change and we do not have to update all the users.



---

archive/issue_comments_473742.json:
```json
{
    "body": "<a id='comment:22'></a>\nThis is of course not so terribly important but it feels cleaner like that to me. (And closer to my idea of how features are supposed to work.)",
    "created_at": "2018-08-07T18:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473742",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:22'></a>
This is of course not so terribly important but it feels cleaner like that to me. (And closer to my idea of how features are supposed to work.)



---

archive/issue_comments_473743.json:
```json
{
    "body": "<a id='comment:23'></a>\nAh, that makes sense to me. Also would make it easier to switch out the ad-hoc environment variables for a `./configure` based system in the future. I thought Jeroen meant that I shouldn't use the environment variable at all.",
    "created_at": "2018-08-07T20:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473743",
    "user": "https://github.com/timokau"
}
```

<a id='comment:23'></a>
Ah, that makes sense to me. Also would make it easier to switch out the ad-hoc environment variables for a `./configure` based system in the future. I thought Jeroen meant that I shouldn't use the environment variable at all.



---

archive/issue_comments_473744.json:
```json
{
    "body": "**Changing status** from needs_info to needs_work.",
    "created_at": "2018-08-07T20:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473744",
    "user": "https://github.com/timokau"
}
```

**Changing status** from needs_info to needs_work.



---

archive/issue_comments_473745.json:
```json
{
    "body": "<a id='comment:24'></a>\nIn that case we'd still need `CREMONA_MINI_DATA_DIR` though, creating an assymetry. Should I change over anyways? Or make the two cremona databases mutually exclusive, always going through the feature and unifying the two env variables?",
    "created_at": "2018-08-07T20:17:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473745",
    "user": "https://github.com/timokau"
}
```

<a id='comment:24'></a>
In that case we'd still need `CREMONA_MINI_DATA_DIR` though, creating an assymetry. Should I change over anyways? Or make the two cremona databases mutually exclusive, always going through the feature and unifying the two env variables?



---

archive/issue_comments_473746.json:
```json
{
    "body": "**Changing status** from needs_work to needs_info.",
    "created_at": "2018-08-07T20:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473746",
    "user": "https://github.com/timokau"
}
```

**Changing status** from needs_work to needs_info.



---

archive/issue_comments_473747.json:
```json
{
    "body": "<a id='comment:26'></a>\nShouldn't both databases be features? Isn't the only difference that the mini one is a standard SPKG and the full one is optional?",
    "created_at": "2018-08-07T20:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473747",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:26'></a>
Shouldn't both databases be features? Isn't the only difference that the mini one is a standard SPKG and the full one is optional?



---

archive/issue_comments_473748.json:
```json
{
    "body": "**Changing status** from needs_info to needs_work.",
    "created_at": "2018-08-07T20:32:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473748",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_info to needs_work.



---

archive/issue_comments_473749.json:
```json
{
    "body": "<a id='comment:28'></a>\nYes, why would we use a feature to detect a standard package? Its always available by definition. Of course I would prefer to move more packages to `optional` and make sage more modular, but currently the mini db is standard.",
    "created_at": "2018-08-07T20:41:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473749",
    "user": "https://github.com/timokau"
}
```

<a id='comment:28'></a>
Yes, why would we use a feature to detect a standard package? Its always available by definition. Of course I would prefer to move more packages to `optional` and make sage more modular, but currently the mini db is standard.



---

archive/issue_comments_473750.json:
```json
{
    "body": "<a id='comment:29'></a>\nIt's a standard package in Sage-the-distribution but it still makes sense to use the feature infrastructure as it might make things easier for (us) packagers. Even if we always ship it we can rely on the features detecting the correct paths for things.",
    "created_at": "2018-08-07T21:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473750",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:29'></a>
It's a standard package in Sage-the-distribution but it still makes sense to use the feature infrastructure as it might make things easier for (us) packagers. Even if we always ship it we can rely on the features detecting the correct paths for things.



---

archive/issue_comments_473751.json:
```json
{
    "body": "<a id='comment:30'></a>\nI'm not sure if features are the right choice / intended for that use case. In general I think detecting time at runtime usually causes problems. Would that feature then only provide a path?\n\nCC'ing fbissey because this is related to #25309, which apparently created problems for him.",
    "created_at": "2018-08-07T21:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473751",
    "user": "https://github.com/timokau"
}
```

<a id='comment:30'></a>
I'm not sure if features are the right choice / intended for that use case. In general I think detecting time at runtime usually causes problems. Would that feature then only provide a path?

CC'ing fbissey because this is related to #25309, which apparently created problems for him.



---

archive/issue_comments_473752.json:
```json
{
    "body": "<a id='comment:31'></a>\nThanks for the concern but I am a proponent of using `features` more (been wanting to move to such thing for years), and the part of #25309 related to this ticket is fine by me.",
    "created_at": "2018-08-07T22:32:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473752",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:31'></a>
Thanks for the concern but I am a proponent of using `features` more (been wanting to move to such thing for years), and the part of #25309 related to this ticket is fine by me.



---

archive/issue_comments_473753.json:
```json
{
    "body": "<a id='comment:32'></a>\nI think it should be a feature in particular because we should not handle the large database differently from the mini database.\n\nThe feature would tell you whether the mini database is present (which must be true) and provide its path. I think for the cremona DBs that's all we need.",
    "created_at": "2018-08-07T22:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473753",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:32'></a>
I think it should be a feature in particular because we should not handle the large database differently from the mini database.

The feature would tell you whether the mini database is present (which must be true) and provide its path. I think for the cremona DBs that's all we need.



---

archive/issue_comments_473754.json:
```json
{
    "body": "<a id='comment:33'></a>\nAlright and what should we do if the database is not present?",
    "created_at": "2018-08-07T23:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473754",
    "user": "https://github.com/timokau"
}
```

<a id='comment:33'></a>
Alright and what should we do if the database is not present?



---

archive/issue_comments_473755.json:
```json
{
    "body": "<a id='comment:34'></a>\nFor the mini database: I would just ask for its `absolute_path()` which throws if it cannot find it. If that happens, I'd just let it throw. It won't happen on a properly configured setup. (and maybe add something like that as a comment in the code\u2026)\n\nDoes that make sense?",
    "created_at": "2018-08-09T00:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473755",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:34'></a>
For the mini database: I would just ask for its `absolute_path()` which throws if it cannot find it. If that happens, I'd just let it throw. It won't happen on a properly configured setup. (and maybe add something like that as a comment in the code…)

Does that make sense?



---

archive/issue_comments_473756.json:
```json
{
    "body": "<a id='comment:35'></a>\nYeah that makes sense, I'll look into it.",
    "created_at": "2018-08-09T08:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473756",
    "user": "https://github.com/timokau"
}
```

<a id='comment:35'></a>
Yeah that makes sense, I'll look into it.



---

archive/issue_comments_473757.json:
```json
{
    "body": "<a id='comment:36'></a>\nShould I then remove `CREMONA_{LARGE,MINI}_DATA_DIR` entirely from `env.py` and instead read the variable directly (with fallback) in the feature?\n\nThat would have the advantage that there would be only one way to get that information. Otherwise, it will be easy for future code to use the variable from `env.py` instead.\n\nBut there would be the disadvantage that it wouldn't be as easy anymore to figure out which variables can be set to configure locations.\n\n@kiwifb as you were involved with `env.py`, do you have an opinion about that?",
    "created_at": "2018-08-09T08:46:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473757",
    "user": "https://github.com/timokau"
}
```

<a id='comment:36'></a>
Should I then remove `CREMONA_{LARGE,MINI}_DATA_DIR` entirely from `env.py` and instead read the variable directly (with fallback) in the feature?

That would have the advantage that there would be only one way to get that information. Otherwise, it will be easy for future code to use the variable from `env.py` instead.

But there would be the disadvantage that it wouldn't be as easy anymore to figure out which variables can be set to configure locations.

@kiwifb as you were involved with `env.py`, do you have an opinion about that?



---

archive/issue_comments_473758.json:
```json
{
    "body": "**Changing commit** from \"[e738ff5a01ef1b8104ada6ee3e9c6072a809d87a](https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a)\" to \"[d48c27da1843bcfd3dafc4aaa8552b299c73e26e](https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e)\".",
    "created_at": "2018-08-09T15:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e738ff5a01ef1b8104ada6ee3e9c6072a809d87a](https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a)" to "[d48c27da1843bcfd3dafc4aaa8552b299c73e26e](https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e)".



---

archive/issue_comments_473759.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e\">d48c27d</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2018-08-09T15:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e">d48c27d</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_473760.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1\">2dfba45</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2018-08-09T15:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473760",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1">2dfba45</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_473761.json:
```json
{
    "body": "**Changing commit** from \"[d48c27da1843bcfd3dafc4aaa8552b299c73e26e](https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e)\" to \"[2dfba457e934a60536e663cde762a9184834d1c1](https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1)\".",
    "created_at": "2018-08-09T15:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473761",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d48c27da1843bcfd3dafc4aaa8552b299c73e26e](https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e)" to "[2dfba457e934a60536e663cde762a9184834d1c1](https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1)".



---

archive/issue_comments_473762.json:
```json
{
    "body": "<a id='comment:39'></a>\nI added a mechanism to `StaticFile` that takes an environment variable as an override for `search_path`. It will then also notify the user of the existence of that search path when the file is not found. I like that solution even better than the `env.py` one.\n\nFor the record: I think `resolution()` should be refactored to return a list of lines for easier extensibility. The variable `resolution` should be removed because users can just override `resolution()` if they want to change the message. But that is out of scope of this ticket.\n\nAlso in the future I hope `search_path_override` could be replaced by a key in a configuration file instead of an env var.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1\">2dfba45</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2018-08-09T15:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473762",
    "user": "https://github.com/timokau"
}
```

<a id='comment:39'></a>
I added a mechanism to `StaticFile` that takes an environment variable as an override for `search_path`. It will then also notify the user of the existence of that search path when the file is not found. I like that solution even better than the `env.py` one.

For the record: I think `resolution()` should be refactored to return a list of lines for easier extensibility. The variable `resolution` should be removed because users can just override `resolution()` if they want to change the message. But that is out of scope of this ticket.

Also in the future I hope `search_path_override` could be replaced by a key in a configuration file instead of an env var.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1">2dfba45</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_473763.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-08-09T15:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473763",
    "user": "https://github.com/timokau"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_473764.json:
```json
{
    "body": "<a id='comment:40'></a>\nThis appears to need some kind of rebasing.",
    "created_at": "2019-01-25T22:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473764",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'></a>
This appears to need some kind of rebasing.



---

archive/issue_comments_473765.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-02-15T10:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473765",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_473766.json:
```json
{
    "body": "**Changing commit** from \"[2dfba457e934a60536e663cde762a9184834d1c1](https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1)\" to \"[68514344d6f1b043b22742c25b05ffd9078e9b6e](https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e)\".",
    "created_at": "2019-03-09T16:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2dfba457e934a60536e663cde762a9184834d1c1](https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1)" to "[68514344d6f1b043b22742c25b05ffd9078e9b6e](https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e)".



---

archive/issue_comments_473767.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65d9cd04235275fb6021d4408b26a087fa08b123\">65d9cd0</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e\">6851434</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2019-03-09T16:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473767",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65d9cd04235275fb6021d4408b26a087fa08b123">65d9cd0</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e">6851434</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_473768.json:
```json
{
    "body": "<a id='comment:43'></a>\nRebased.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65d9cd04235275fb6021d4408b26a087fa08b123\">65d9cd0</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e\">6851434</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2019-03-09T16:57:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473768",
    "user": "https://github.com/timokau"
}
```

<a id='comment:43'></a>
Rebased.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65d9cd04235275fb6021d4408b26a087fa08b123">65d9cd0</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e">6851434</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_473769.json:
```json
{
    "body": "<a id='comment:44'></a>\nAre there any outstanding issues with this ticket or should we put it back to positive review?",
    "created_at": "2019-03-17T22:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473769",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:44'></a>
Are there any outstanding issues with this ticket or should we put it back to positive review?



---

archive/issue_comments_473770.json:
```json
{
    "body": "<a id='comment:45'></a>\nFor consistency, I would prefer if the handling of environment variables would remain in `src/sage/env.py`. Right now, you're moving part of that to `src/sage/features/__init__.py`",
    "created_at": "2019-03-18T06:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473770",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:45'></a>
For consistency, I would prefer if the handling of environment variables would remain in `src/sage/env.py`. Right now, you're moving part of that to `src/sage/features/__init__.py`



---

archive/issue_comments_473771.json:
```json
{
    "body": "<a id='comment:46'></a>\nHow would you suggest we do that? I'm not convinced hard-coding a search path override variable for every feature would be a better solution, but if you prefer that I'll implement it.",
    "created_at": "2019-03-18T08:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473771",
    "user": "https://github.com/timokau"
}
```

<a id='comment:46'></a>
How would you suggest we do that? I'm not convinced hard-coding a search path override variable for every feature would be a better solution, but if you prefer that I'll implement it.



---

archive/issue_comments_473772.json:
```json
{
    "body": "<a id='comment:47'></a>\nMaybe just use `search_path=[CREMONA_MINI_DATA_DIR]` in `src/sage/features/databases.py`? That wouldn't require any changes to the general feature framework.",
    "created_at": "2019-03-18T09:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473772",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:47'></a>
Maybe just use `search_path=[CREMONA_MINI_DATA_DIR]` in `src/sage/features/databases.py`? That wouldn't require any changes to the general feature framework.



---

archive/issue_comments_473773.json:
```json
{
    "body": "<a id='comment:48'></a>\nLet's try to finish this... I'm having a look at it now.",
    "created_at": "2019-04-30T08:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473773",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:48'></a>
Let's try to finish this... I'm having a look at it now.



---

archive/issue_comments_473774.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-timokau/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/cremona-db-features)\" to \"[u/jdemeyer/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cremona-db-features)\".",
    "created_at": "2019-04-30T09:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473774",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/gh-timokau/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/cremona-db-features)" to "[u/jdemeyer/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cremona-db-features)".



---

archive/issue_comments_473775.json:
```json
{
    "body": "**Changing author** from \"Timo Kaufmann\" to \"Timo Kaufmann, Jeroen Demeyer\".",
    "created_at": "2019-04-30T10:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473775",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Timo Kaufmann" to "Timo Kaufmann, Jeroen Demeyer".



---

archive/issue_comments_473776.json:
```json
{
    "body": "<a id='comment:50'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966639bfd70bf3e2d350936bf9528cb23d3a45a2\">966639b</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bc329af5f5100923806f1e49f823db41c398666\">2bc329a</a></td><td><code>Remove search_path_override</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/808cc7bc2a7c9b96c97c6afe4c88447a1f6696d2\">808cc7b</a></td><td><code>Search for database in CREMONA_MINI_DATA_DIR and CREMONA_LARGE_DATA_DIR</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20a3ded9d44e8d5ddad82ed1340c86dc63189a0c\">20a3ded</a></td><td><code>Deprecate set_global argument of CremonaDatabase</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce\">2cf92e6</a></td><td><code>Clean up</code></td></tr></table>\n",
    "created_at": "2019-04-30T10:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473776",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:50'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966639bfd70bf3e2d350936bf9528cb23d3a45a2">966639b</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bc329af5f5100923806f1e49f823db41c398666">2bc329a</a></td><td><code>Remove search_path_override</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/808cc7bc2a7c9b96c97c6afe4c88447a1f6696d2">808cc7b</a></td><td><code>Search for database in CREMONA_MINI_DATA_DIR and CREMONA_LARGE_DATA_DIR</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20a3ded9d44e8d5ddad82ed1340c86dc63189a0c">20a3ded</a></td><td><code>Deprecate set_global argument of CremonaDatabase</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce">2cf92e6</a></td><td><code>Clean up</code></td></tr></table>




---

archive/issue_comments_473777.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-04-30T10:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473777",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_473778.json:
```json
{
    "body": "**Changing commit** from \"[68514344d6f1b043b22742c25b05ffd9078e9b6e](https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e)\" to \"[2cf92e67460e705901f66905c5bed47550de47ce](https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce)\".",
    "created_at": "2019-04-30T10:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473778",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[68514344d6f1b043b22742c25b05ffd9078e9b6e](https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e)" to "[2cf92e67460e705901f66905c5bed47550de47ce](https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce)".



---

archive/issue_comments_473779.json:
```json
{
    "body": "<a id='comment:51'></a>\nThe last 2 commits are not strictly needed, they are just cleaning stuff up. If a reviewer prefers to move that to a separate ticket, I'll do that.",
    "created_at": "2019-04-30T10:08:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473779",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:51'></a>
The last 2 commits are not strictly needed, they are just cleaning stuff up. If a reviewer prefers to move that to a separate ticket, I'll do that.



---

archive/issue_comments_473780.json:
```json
{
    "body": "<a id='comment:52'></a>\nI am just verifying the last two cleanup commits are good.",
    "created_at": "2019-04-30T11:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473780",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:52'></a>
I am just verifying the last two cleanup commits are good.



---

archive/issue_comments_473781.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-07-15T20:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473781",
    "user": "https://github.com/antonio-rojas"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_473782.json:
```json
{
    "body": "<a id='comment:53'></a>\nRebase needed",
    "created_at": "2019-07-15T20:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473782",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:53'></a>
Rebase needed



---

archive/issue_comments_473783.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cremona-db-features)\" to \"[u/arojas/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/cremona-db-features)\".",
    "created_at": "2020-10-08T15:57:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473783",
    "user": "https://github.com/antonio-rojas"
}
```

**Changing branch** from "[u/jdemeyer/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cremona-db-features)" to "[u/arojas/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/cremona-db-features)".



---

archive/issue_comments_473784.json:
```json
{
    "body": "<a id='comment:55'></a>\nLet's please try to get this finally in\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b7abb1b5d0055bcd95d0bbec683a2dadd4e49e7\">6b7abb1</a></td><td><code>Merge branch 'develop' of git://git.sagemath.org/sage into t/25825/cremona-db-features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8\">9c2dcb5</a></td><td><code>More flexible test for error message</code></td></tr></table>\n",
    "created_at": "2020-10-08T16:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473784",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:55'></a>
Let's please try to get this finally in

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b7abb1b5d0055bcd95d0bbec683a2dadd4e49e7">6b7abb1</a></td><td><code>Merge branch 'develop' of git://git.sagemath.org/sage into t/25825/cremona-db-features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8">9c2dcb5</a></td><td><code>More flexible test for error message</code></td></tr></table>




---

archive/issue_comments_473785.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2020-10-08T16:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473785",
    "user": "https://github.com/antonio-rojas"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_473786.json:
```json
{
    "body": "**Changing commit** from \"[2cf92e67460e705901f66905c5bed47550de47ce](https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce)\" to \"[9c2dcb5badacc99f17e2c049ad51bf21589a8bc8](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)\".",
    "created_at": "2020-10-08T16:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473786",
    "user": "https://github.com/antonio-rojas"
}
```

**Changing commit** from "[2cf92e67460e705901f66905c5bed47550de47ce](https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce)" to "[9c2dcb5badacc99f17e2c049ad51bf21589a8bc8](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)".



---

archive/issue_comments_473787.json:
```json
{
    "body": "**Changing author** from \"Timo Kaufmann, Jeroen Demeyer\" to \"Timo Kaufmann, Jeroen Demeyer, Antonio Rojas\".",
    "created_at": "2020-10-08T16:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473787",
    "user": "https://github.com/antonio-rojas"
}
```

**Changing author** from "Timo Kaufmann, Jeroen Demeyer" to "Timo Kaufmann, Jeroen Demeyer, Antonio Rojas".



---

archive/issue_comments_473788.json:
```json
{
    "body": "<a id='comment:56'></a>\nTicket description needs updating",
    "created_at": "2020-10-08T16:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473788",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>
Ticket description needs updating



---

archive/issue_comments_473789.json:
```json
{
    "body": "<a id='comment:57'></a>\nReplying to [mkoeppe](#comment%3A56):\n> Ticket description needs updating\n\n\nIs the `OptionalExtension` bit still relevant? I'm not familiar with the recent changes in that area.",
    "created_at": "2020-10-08T16:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473789",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:57'></a>
Replying to [mkoeppe](#comment%3A56):
> Ticket description needs updating


Is the `OptionalExtension` bit still relevant? I'm not familiar with the recent changes in that area.



---

archive/issue_comments_473790.json:
```json
{
    "body": "<a id='comment:58'></a>\nNo, the use of `OptionalExtension` has been eliminated. See https://wiki.sagemath.org/ReleaseTours/sage-9.2#For_developers:_Changes_to_the_build_system_of_sagelib",
    "created_at": "2020-10-08T16:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473790",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>
No, the use of `OptionalExtension` has been eliminated. See https://wiki.sagemath.org/ReleaseTours/sage-9.2#For_developers:_Changes_to_the_build_system_of_sagelib



---

archive/issue_comments_473791.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-This continues the work in #20382. After this patch and #25835 are applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension` (#25828).\n+This continues the work in #20382 and #25835.\n \n To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.\n \n-After this I would propose to fix the usage in `OptionalExtension` (which seems to be a purely internal function just used for the build -- should be easy to fix) and then deprecate or remove `is_package_installed`.\n+After this I would propose to deprecate or remove `is_package_installed`.\n``````\n",
    "created_at": "2020-10-08T16:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473791",
    "user": "https://github.com/antonio-rojas"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-This continues the work in #20382. After this patch and #25835 are applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension` (#25828).
+This continues the work in #20382 and #25835.
 
 To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.
 
-After this I would propose to fix the usage in `OptionalExtension` (which seems to be a purely internal function just used for the build -- should be easy to fix) and then deprecate or remove `is_package_installed`.
+After this I would propose to deprecate or remove `is_package_installed`.
``````




---

archive/issue_events_073057.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T16:29:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25825#event-73057"
}
```



---

archive/issue_events_073058.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T16:29:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25825#event-73058"
}
```



---

archive/issue_comments_473792.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2020-10-08T16:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473792",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_473793.json:
```json
{
    "body": "**Changing reviewer** from \"Julian R\u00fcth\" to \"Julian R\u00fcth, Matthias Koeppe\".",
    "created_at": "2020-10-08T16:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473793",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Julian Rüth" to "Julian Rüth, Matthias Koeppe".



---

archive/issue_comments_473794.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,6 @@\n \n To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.\n \n-After this I would propose to deprecate or remove `is_package_installed`.\n+Next steps in getting rid of `is_package_installed` etc.:\n+- #30746 `sage.doctest.control`: Replace use of `sage.misc.package.list_packages`\n+- #30747 Deprecate all of `sage.misc.package` except for `PackageNotFoundError`\n``````\n",
    "created_at": "2020-10-08T17:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473794",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,6 @@
 
 To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.
 
-After this I would propose to deprecate or remove `is_package_installed`.
+Next steps in getting rid of `is_package_installed` etc.:
+- #30746 `sage.doctest.control`: Replace use of `sage.misc.package.list_packages`
+- #30747 Deprecate all of `sage.misc.package` except for `PackageNotFoundError`
``````




---

archive/issue_events_073059.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25825#event-73059"
}
```



---

archive/issue_events_073060.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25825#event-73060"
}
```



---

archive/issue_comments_473795.json:
```json
{
    "body": "**Changing branch** from \"[u/arojas/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/cremona-db-features)\" to \"[9c2dcb5badacc99f17e2c049ad51bf21589a8bc8](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)\".",
    "created_at": "2020-10-31T18:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25825#issuecomment-473795",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/arojas/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/cremona-db-features)" to "[9c2dcb5badacc99f17e2c049ad51bf21589a8bc8](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)".



---

archive/issue_events_073061.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-10-31T18:07:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25825",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25825#event-73061"
}
```
