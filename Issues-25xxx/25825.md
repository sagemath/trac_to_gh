# Issue 25825: Move cremona db to features

archive/issues_025588.json:
```json
{
    "assignees": [],
    "body": "This continues the work in #20382 and #25835.\n\nTo test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.\n\nNext steps in getting rid of `is_package_installed` etc.:\n- #30746 `sage.doctest.control`: Replace use of `sage.misc.package.list_packages`\n- #30747 Deprecate all of `sage.misc.package` except for `PackageNotFoundError`\n\nCC:  @tscrim @kiwifb @mkoeppe\n\nBranch/Commit: **[9c2dcb5](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)**\n\nReviewer: **Julian R\u00fcth, Matthias Koeppe**\n\nAuthor: **Timo Kaufmann, Jeroen Demeyer, Antonio Rojas**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25825_\n\n",
    "closed_at": "2020-10-31T18:07:46Z",
    "created_at": "2018-07-11T13:18:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Move cremona db to features",
    "type": "issue",
    "updated_at": "2020-10-31T18:07:46Z",
    "url": "https://github.com/sagemath/sage/issues/25825",
    "user": "https://github.com/timokau"
}
```
This continues the work in #20382 and #25835.

To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.

Next steps in getting rid of `is_package_installed` etc.:
- #30746 `sage.doctest.control`: Replace use of `sage.misc.package.list_packages`
- #30747 Deprecate all of `sage.misc.package` except for `PackageNotFoundError`

CC:  @tscrim @kiwifb @mkoeppe

Branch/Commit: **[9c2dcb5](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)**

Reviewer: **Julian RÃ¼th, Matthias Koeppe**

Author: **Timo Kaufmann, Jeroen Demeyer, Antonio Rojas**

_Issue created by migration from https://trac.sagemath.org/ticket/25825_





---

archive/issue_events_338840.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-07-11T13:18:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338840"
}
```



---

archive/issue_events_338841.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-07-11T13:18:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338841"
}
```



---

archive/issue_events_338842.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-07-11T13:18:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338842"
}
```



---

archive/issue_events_338843.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-07-11T13:18:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338843"
}
```



---

archive/issue_events_338844.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-07-11T13:18:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338844"
}
```



---

archive/issue_comments_399431.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI just discovered #24718. This seems to be related/a duplicate. But that ticket seems to do some more unrelated stuff and probably needs a rebase. No clue why that is still \"new\".",
    "created_at": "2018-07-11T17:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399431",
    "user": "https://github.com/timokau"
}
```

<a id='comment:3'>Comment 3:</a>
I just discovered #24718. This seems to be related/a duplicate. But that ticket seems to do some more unrelated stuff and probably needs a rebase. No clue why that is still "new".



---

archive/issue_comments_399432.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nIn any case, I would rather have 1 ticket for each issue (1 for GAP, one for the Cremona database).",
    "created_at": "2018-07-11T18:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399432",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'>Comment 4:</a>
In any case, I would rather have 1 ticket for each issue (1 for GAP, one for the Cremona database).



---

archive/issue_comments_399433.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nSure, I'll split it up.",
    "created_at": "2018-07-11T19:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399433",
    "user": "https://github.com/timokau"
}
```

<a id='comment:5'>Comment 5:</a>
Sure, I'll split it up.



---

archive/issue_events_338845.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-07-11T19:38:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "title_is": "Move cremona db to features",
    "title_was": "Move gap_packages and cremona db to features",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338845"
}
```



---

archive/issue_comments_399434.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d\">ca701d9</a></td><td><code>Replace gap package checks with features</code></td></tr></table>\n",
    "created_at": "2018-07-11T19:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399434",
    "user": "https://github.com/timokau"
}
```

<a id='comment:6'>Comment 6:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d">ca701d9</a></td><td><code>Replace gap package checks with features</code></td></tr></table>




---

archive/issue_comments_399435.json:
```json
{
    "body": "Changed branch from **[u/gh-timokau/use-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/use-features)** to **[u/gh-timokau/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/cremona-db-features)**",
    "created_at": "2018-07-11T19:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399435",
    "user": "https://github.com/timokau"
}
```

Changed branch from **[u/gh-timokau/use-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/use-features)** to **[u/gh-timokau/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/cremona-db-features)**



---

archive/issue_comments_399436.json:
```json
{
    "body": "Changed commit from **[c13f429](https://github.com/sagemath/sagetrac-mirror/commit/c13f429ac3074315020d5d0415baa72dca9362b2)** to **[ca701d9](https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d)**",
    "created_at": "2018-07-11T19:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399436",
    "user": "https://github.com/timokau"
}
```

Changed commit from **[c13f429](https://github.com/sagemath/sagetrac-mirror/commit/c13f429ac3074315020d5d0415baa72dca9362b2)** to **[ca701d9](https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d)**



---

archive/issue_comments_399437.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0\">1030350</a></td><td><code>Replace remona db checks with features</code></td></tr></table>\n",
    "created_at": "2018-07-11T19:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399437",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0">1030350</a></td><td><code>Replace remona db checks with features</code></td></tr></table>




---

archive/issue_comments_399438.json:
```json
{
    "body": "Changed commit from **[ca701d9](https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d)** to **[1030350](https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0)**",
    "created_at": "2018-07-11T19:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399438",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ca701d9](https://github.com/sagemath/sagetrac-mirror/commit/ca701d9a4ba3ed65338bc75095a2fa07ecb11b8d)** to **[1030350](https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0)**



---

archive/issue_comments_399439.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This continues the work in #20382. After this patch is applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension`.\n+This continues the work in #20382. After this patch and #25835 are applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension` (#25828).\n \n To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.\n \n``````\n",
    "created_at": "2018-07-11T19:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399439",
    "user": "https://github.com/timokau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This continues the work in #20382. After this patch is applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension`.
+This continues the work in #20382. After this patch and #25835 are applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension` (#25828).
 
 To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.
 
``````




---

archive/issue_comments_399440.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nSplit to this and #25835.",
    "created_at": "2018-07-11T19:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399440",
    "user": "https://github.com/timokau"
}
```

<a id='comment:8'>Comment 8:</a>
Split to this and #25835.



---

archive/issue_comments_399441.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAs I mentioned on #24718: We should also use the database location discovered by the feature check instead of hardcoding it. In other words: there should be a single source for the database location.",
    "created_at": "2018-07-11T21:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399441",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
As I mentioned on #24718: We should also use the database location discovered by the feature check instead of hardcoding it. In other words: there should be a single source for the database location.



---

archive/issue_events_338846.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-11T21:43:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338846"
}
```



---

archive/issue_events_338847.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-11T21:43:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338847"
}
```



---

archive/issue_comments_399442.json:
```json
{
    "body": "Dependencies: **#25309**",
    "created_at": "2018-07-11T21:49:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399442",
    "user": "https://github.com/timokau"
}
```

Dependencies: **#25309**



---

archive/issue_comments_399443.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nWhat do you mean by \"discover\"? It looks to me like the path to the database is just as hardcoded in the feature. Am I reading that wrong?\n\nThat should probably use the environment variable I introduced in #25309 though. So that'll have to be merged first.",
    "created_at": "2018-07-11T21:49:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399443",
    "user": "https://github.com/timokau"
}
```

<a id='comment:10'>Comment 10:</a>
What do you mean by "discover"? It looks to me like the path to the database is just as hardcoded in the feature. Am I reading that wrong?

That should probably use the environment variable I introduced in #25309 though. So that'll have to be merged first.



---

archive/issue_comments_399444.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@timokau](#comment%3A10):\n> It looks to me like the path to the database is just as hardcoded in the feature.\n\nYes, it's hardcoded in two different places which is bad design. There should be single source for it.",
    "created_at": "2018-07-11T22:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399444",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@timokau](#comment%3A10):
> It looks to me like the path to the database is just as hardcoded in the feature.

Yes, it's hardcoded in two different places which is bad design. There should be single source for it.



---

archive/issue_comments_399445.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI agree, I'll use the environment variable after #25309 is merged.",
    "created_at": "2018-07-11T22:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399445",
    "user": "https://github.com/timokau"
}
```

<a id='comment:12'>Comment 12:</a>
I agree, I'll use the environment variable after #25309 is merged.



---

archive/issue_events_338848.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-06T11:40:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338848"
}
```



---

archive/issue_events_338849.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-06T11:40:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338849"
}
```



---

archive/issue_comments_399446.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a\">e738ff5</a></td><td><code>Replace remona db checks with features</code></td></tr></table>\n",
    "created_at": "2018-08-06T12:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399446",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a">e738ff5</a></td><td><code>Replace remona db checks with features</code></td></tr></table>




---

archive/issue_comments_399447.json:
```json
{
    "body": "Changed commit from **[1030350](https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0)** to **[e738ff5](https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a)**",
    "created_at": "2018-08-06T12:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399447",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1030350](https://github.com/sagemath/sagetrac-mirror/commit/1030350ee9cfd5729fca07b55f6e941530ee9fb0)** to **[e738ff5](https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a)**



---

archive/issue_comments_399448.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nAlright I'm using the proper environment variables now.",
    "created_at": "2018-08-06T12:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399448",
    "user": "https://github.com/timokau"
}
```

<a id='comment:15'>Comment 15:</a>
Alright I'm using the proper environment variables now.



---

archive/issue_events_338850.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-06T12:20:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338850"
}
```



---

archive/issue_events_338851.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-06T12:20:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338851"
}
```



---

archive/issue_comments_399449.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nMy point was that you shouldn't use `CREMONA_MINI_DATA_DIR, CREMONA_LARGE_DATA_DIR` at all in the implementation, as the `Feature` already knows the filename.",
    "created_at": "2018-08-06T12:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399449",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'>Comment 16:</a>
My point was that you shouldn't use `CREMONA_MINI_DATA_DIR, CREMONA_LARGE_DATA_DIR` at all in the implementation, as the `Feature` already knows the filename.



---

archive/issue_comments_399450.json:
```json
{
    "body": "Changed dependencies from **#25309** to none",
    "created_at": "2018-08-06T12:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399450",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25309** to none



---

archive/issue_comments_399451.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nYes the filename, but not the directory. How is it supposed to know that?",
    "created_at": "2018-08-06T13:03:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399451",
    "user": "https://github.com/timokau"
}
```

<a id='comment:17'>Comment 17:</a>
Yes the filename, but not the directory. How is it supposed to know that?



---

archive/issue_comments_399452.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI guess you should ask the feature for the path and not import it independently, see `StaticFile.absolute_path()`.",
    "created_at": "2018-08-07T17:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399452",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:18'>Comment 18:</a>
I guess you should ask the feature for the path and not import it independently, see `StaticFile.absolute_path()`.



---

archive/issue_comments_399453.json:
```json
{
    "body": "Reviewer: **Julian R\u00fcth**",
    "created_at": "2018-08-07T17:10:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399453",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian RÃ¼th**



---

archive/issue_events_338852.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-07T17:10:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338852"
}
```



---

archive/issue_events_338853.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-07T17:10:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338853"
}
```



---

archive/issue_events_338854.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-07T18:14:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338854"
}
```



---

archive/issue_events_338855.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-07T18:14:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338855"
}
```



---

archive/issue_comments_399454.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBut how is the feature supposed to know the path?",
    "created_at": "2018-08-07T18:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399454",
    "user": "https://github.com/timokau"
}
```

<a id='comment:20'>Comment 20:</a>
But how is the feature supposed to know the path?



---

archive/issue_comments_399455.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nThe features looks at `CREMONA_*_DATA_DIR`. The point is that this information is only in the feature and users of the feature should not look at these variables again, i.e., the feature's implementation can change and we do not have to update all the users.",
    "created_at": "2018-08-07T18:55:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399455",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:21'>Comment 21:</a>
The features looks at `CREMONA_*_DATA_DIR`. The point is that this information is only in the feature and users of the feature should not look at these variables again, i.e., the feature's implementation can change and we do not have to update all the users.



---

archive/issue_comments_399456.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nThis is of course not so terribly important but it feels cleaner like that to me. (And closer to my idea of how features are supposed to work.)",
    "created_at": "2018-08-07T18:56:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399456",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:22'>Comment 22:</a>
This is of course not so terribly important but it feels cleaner like that to me. (And closer to my idea of how features are supposed to work.)



---

archive/issue_comments_399457.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nAh, that makes sense to me. Also would make it easier to switch out the ad-hoc environment variables for a `./configure` based system in the future. I thought Jeroen meant that I shouldn't use the environment variable at all.",
    "created_at": "2018-08-07T20:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399457",
    "user": "https://github.com/timokau"
}
```

<a id='comment:23'>Comment 23:</a>
Ah, that makes sense to me. Also would make it easier to switch out the ad-hoc environment variables for a `./configure` based system in the future. I thought Jeroen meant that I shouldn't use the environment variable at all.



---

archive/issue_events_338856.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-07T20:10:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338856"
}
```



---

archive/issue_events_338857.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-07T20:10:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338857"
}
```



---

archive/issue_comments_399458.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nIn that case we'd still need `CREMONA_MINI_DATA_DIR` though, creating an assymetry. Should I change over anyways? Or make the two cremona databases mutually exclusive, always going through the feature and unifying the two env variables?",
    "created_at": "2018-08-07T20:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399458",
    "user": "https://github.com/timokau"
}
```

<a id='comment:24'>Comment 24:</a>
In that case we'd still need `CREMONA_MINI_DATA_DIR` though, creating an assymetry. Should I change over anyways? Or make the two cremona databases mutually exclusive, always going through the feature and unifying the two env variables?



---

archive/issue_events_338858.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-07T20:17:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338858"
}
```



---

archive/issue_events_338859.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-07T20:17:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338859"
}
```



---

archive/issue_comments_399459.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nShouldn't both databases be features? Isn't the only difference that the mini one is a standard SPKG and the full one is optional?",
    "created_at": "2018-08-07T20:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399459",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:26'>Comment 26:</a>
Shouldn't both databases be features? Isn't the only difference that the mini one is a standard SPKG and the full one is optional?



---

archive/issue_events_338860.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-07T20:32:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338860"
}
```



---

archive/issue_events_338861.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-08-07T20:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338861"
}
```



---

archive/issue_comments_399460.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nYes, why would we use a feature to detect a standard package? Its always available by definition. Of course I would prefer to move more packages to `optional` and make sage more modular, but currently the mini db is standard.",
    "created_at": "2018-08-07T20:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399460",
    "user": "https://github.com/timokau"
}
```

<a id='comment:28'>Comment 28:</a>
Yes, why would we use a feature to detect a standard package? Its always available by definition. Of course I would prefer to move more packages to `optional` and make sage more modular, but currently the mini db is standard.



---

archive/issue_comments_399461.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nIt's a standard package in Sage-the-distribution but it still makes sense to use the feature infrastructure as it might make things easier for (us) packagers. Even if we always ship it we can rely on the features detecting the correct paths for things.",
    "created_at": "2018-08-07T21:19:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399461",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:29'>Comment 29:</a>
It's a standard package in Sage-the-distribution but it still makes sense to use the feature infrastructure as it might make things easier for (us) packagers. Even if we always ship it we can rely on the features detecting the correct paths for things.



---

archive/issue_comments_399462.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nI'm not sure if features are the right choice / intended for that use case. In general I think detecting time at runtime usually causes problems. Would that feature then only provide a path?\n\nCC'ing fbissey because this is related to #25309, which apparently created problems for him.",
    "created_at": "2018-08-07T21:47:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399462",
    "user": "https://github.com/timokau"
}
```

<a id='comment:30'>Comment 30:</a>
I'm not sure if features are the right choice / intended for that use case. In general I think detecting time at runtime usually causes problems. Would that feature then only provide a path?

CC'ing fbissey because this is related to #25309, which apparently created problems for him.



---

archive/issue_comments_399463.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nThanks for the concern but I am a proponent of using `features` more (been wanting to move to such thing for years), and the part of #25309 related to this ticket is fine by me.",
    "created_at": "2018-08-07T22:32:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399463",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:31'>Comment 31:</a>
Thanks for the concern but I am a proponent of using `features` more (been wanting to move to such thing for years), and the part of #25309 related to this ticket is fine by me.



---

archive/issue_comments_399464.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nI think it should be a feature in particular because we should not handle the large database differently from the mini database.\n\nThe feature would tell you whether the mini database is present (which must be true) and provide its path. I think for the cremona DBs that's all we need.",
    "created_at": "2018-08-07T22:34:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399464",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:32'>Comment 32:</a>
I think it should be a feature in particular because we should not handle the large database differently from the mini database.

The feature would tell you whether the mini database is present (which must be true) and provide its path. I think for the cremona DBs that's all we need.



---

archive/issue_comments_399465.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nAlright and what should we do if the database is not present?",
    "created_at": "2018-08-07T23:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399465",
    "user": "https://github.com/timokau"
}
```

<a id='comment:33'>Comment 33:</a>
Alright and what should we do if the database is not present?



---

archive/issue_comments_399466.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nFor the mini database: I would just ask for its `absolute_path()` which throws if it cannot find it. If that happens, I'd just let it throw. It won't happen on a properly configured setup. (and maybe add something like that as a comment in the code\u2026)\n\nDoes that make sense?",
    "created_at": "2018-08-09T00:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399466",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:34'>Comment 34:</a>
For the mini database: I would just ask for its `absolute_path()` which throws if it cannot find it. If that happens, I'd just let it throw. It won't happen on a properly configured setup. (and maybe add something like that as a comment in the codeâ¦)

Does that make sense?



---

archive/issue_comments_399467.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nYeah that makes sense, I'll look into it.",
    "created_at": "2018-08-09T08:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399467",
    "user": "https://github.com/timokau"
}
```

<a id='comment:35'>Comment 35:</a>
Yeah that makes sense, I'll look into it.



---

archive/issue_comments_399468.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nShould I then remove `CREMONA_{LARGE,MINI}_DATA_DIR` entirely from `env.py` and instead read the variable directly (with fallback) in the feature?\n\nThat would have the advantage that there would be only one way to get that information. Otherwise, it will be easy for future code to use the variable from `env.py` instead.\n\nBut there would be the disadvantage that it wouldn't be as easy anymore to figure out which variables can be set to configure locations.\n\n@kiwifb as you were involved with `env.py`, do you have an opinion about that?",
    "created_at": "2018-08-09T08:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399468",
    "user": "https://github.com/timokau"
}
```

<a id='comment:36'>Comment 36:</a>
Should I then remove `CREMONA_{LARGE,MINI}_DATA_DIR` entirely from `env.py` and instead read the variable directly (with fallback) in the feature?

That would have the advantage that there would be only one way to get that information. Otherwise, it will be easy for future code to use the variable from `env.py` instead.

But there would be the disadvantage that it wouldn't be as easy anymore to figure out which variables can be set to configure locations.

@kiwifb as you were involved with `env.py`, do you have an opinion about that?



---

archive/issue_comments_399469.json:
```json
{
    "body": "Changed commit from **[e738ff5](https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a)** to **[d48c27d](https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e)**",
    "created_at": "2018-08-09T15:45:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399469",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e738ff5](https://github.com/sagemath/sagetrac-mirror/commit/e738ff5a01ef1b8104ada6ee3e9c6072a809d87a)** to **[d48c27d](https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e)**



---

archive/issue_comments_399470.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e\">d48c27d</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2018-08-09T15:45:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399470",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:37'>Comment 37:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e">d48c27d</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_399471.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1\">2dfba45</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2018-08-09T15:50:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399471",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:38'>Comment 38:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1">2dfba45</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_399472.json:
```json
{
    "body": "Changed commit from **[d48c27d](https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e)** to **[2dfba45](https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1)**",
    "created_at": "2018-08-09T15:50:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399472",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d48c27d](https://github.com/sagemath/sagetrac-mirror/commit/d48c27da1843bcfd3dafc4aaa8552b299c73e26e)** to **[2dfba45](https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1)**



---

archive/issue_comments_399473.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nI added a mechanism to `StaticFile` that takes an environment variable as an override for `search_path`. It will then also notify the user of the existence of that search path when the file is not found. I like that solution even better than the `env.py` one.\n\nFor the record: I think `resolution()` should be refactored to return a list of lines for easier extensibility. The variable `resolution` should be removed because users can just override `resolution()` if they want to change the message. But that is out of scope of this ticket.\n\nAlso in the future I hope `search_path_override` could be replaced by a key in a configuration file instead of an env var.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1\">2dfba45</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2018-08-09T15:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399473",
    "user": "https://github.com/timokau"
}
```

<a id='comment:39'>Comment 39:</a>
I added a mechanism to `StaticFile` that takes an environment variable as an override for `search_path`. It will then also notify the user of the existence of that search path when the file is not found. I like that solution even better than the `env.py` one.

For the record: I think `resolution()` should be refactored to return a list of lines for easier extensibility. The variable `resolution` should be removed because users can just override `resolution()` if they want to change the message. But that is out of scope of this ticket.

Also in the future I hope `search_path_override` could be replaced by a key in a configuration file instead of an env var.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1">2dfba45</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_events_338862.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-09T15:51:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338862"
}
```



---

archive/issue_events_338863.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-09T15:51:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338863"
}
```



---

archive/issue_comments_399474.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nThis appears to need some kind of rebasing.",
    "created_at": "2019-01-25T22:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399474",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'>Comment 40:</a>
This appears to need some kind of rebasing.



---

archive/issue_events_338864.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-15T10:20:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338864"
}
```



---

archive/issue_events_338865.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-02-15T10:20:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338865"
}
```



---

archive/issue_comments_399475.json:
```json
{
    "body": "Changed commit from **[2dfba45](https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1)** to **[6851434](https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e)**",
    "created_at": "2019-03-09T16:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399475",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2dfba45](https://github.com/sagemath/sagetrac-mirror/commit/2dfba457e934a60536e663cde762a9184834d1c1)** to **[6851434](https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e)**



---

archive/issue_comments_399476.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65d9cd04235275fb6021d4408b26a087fa08b123\">65d9cd0</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e\">6851434</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2019-03-09T16:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399476",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:42'>Comment 42:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65d9cd04235275fb6021d4408b26a087fa08b123">65d9cd0</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e">6851434</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_399477.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nRebased.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65d9cd04235275fb6021d4408b26a087fa08b123\">65d9cd0</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e\">6851434</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>\n",
    "created_at": "2019-03-09T16:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399477",
    "user": "https://github.com/timokau"
}
```

<a id='comment:43'>Comment 43:</a>
Rebased.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65d9cd04235275fb6021d4408b26a087fa08b123">65d9cd0</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e">6851434</a></td><td><code>Get the cremona db path from the feature</code></td></tr></table>




---

archive/issue_comments_399478.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nAre there any outstanding issues with this ticket or should we put it back to positive review?",
    "created_at": "2019-03-17T22:22:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399478",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:44'>Comment 44:</a>
Are there any outstanding issues with this ticket or should we put it back to positive review?



---

archive/issue_comments_399479.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nFor consistency, I would prefer if the handling of environment variables would remain in `src/sage/env.py`. Right now, you're moving part of that to `src/sage/features/__init__.py`",
    "created_at": "2019-03-18T06:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399479",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:45'>Comment 45:</a>
For consistency, I would prefer if the handling of environment variables would remain in `src/sage/env.py`. Right now, you're moving part of that to `src/sage/features/__init__.py`



---

archive/issue_comments_399480.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nHow would you suggest we do that? I'm not convinced hard-coding a search path override variable for every feature would be a better solution, but if you prefer that I'll implement it.",
    "created_at": "2019-03-18T08:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399480",
    "user": "https://github.com/timokau"
}
```

<a id='comment:46'>Comment 46:</a>
How would you suggest we do that? I'm not convinced hard-coding a search path override variable for every feature would be a better solution, but if you prefer that I'll implement it.



---

archive/issue_comments_399481.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nMaybe just use `search_path=[CREMONA_MINI_DATA_DIR]` in `src/sage/features/databases.py`? That wouldn't require any changes to the general feature framework.",
    "created_at": "2019-03-18T09:14:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399481",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:47'>Comment 47:</a>
Maybe just use `search_path=[CREMONA_MINI_DATA_DIR]` in `src/sage/features/databases.py`? That wouldn't require any changes to the general feature framework.



---

archive/issue_comments_399482.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nLet's try to finish this... I'm having a look at it now.",
    "created_at": "2019-04-30T08:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399482",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:48'>Comment 48:</a>
Let's try to finish this... I'm having a look at it now.



---

archive/issue_comments_399483.json:
```json
{
    "body": "Changed branch from **[u/gh-timokau/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/cremona-db-features)** to **[u/jdemeyer/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cremona-db-features)**",
    "created_at": "2019-04-30T09:57:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399483",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/gh-timokau/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/cremona-db-features)** to **[u/jdemeyer/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cremona-db-features)**



---

archive/issue_comments_399484.json:
```json
{
    "body": "Changed author from **Timo Kaufmann** to **Timo Kaufmann, Jeroen Demeyer**",
    "created_at": "2019-04-30T10:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399484",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Timo Kaufmann** to **Timo Kaufmann, Jeroen Demeyer**



---

archive/issue_comments_399485.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966639bfd70bf3e2d350936bf9528cb23d3a45a2\">966639b</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bc329af5f5100923806f1e49f823db41c398666\">2bc329a</a></td><td><code>Remove search_path_override</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/808cc7bc2a7c9b96c97c6afe4c88447a1f6696d2\">808cc7b</a></td><td><code>Search for database in CREMONA_MINI_DATA_DIR and CREMONA_LARGE_DATA_DIR</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20a3ded9d44e8d5ddad82ed1340c86dc63189a0c\">20a3ded</a></td><td><code>Deprecate set_global argument of CremonaDatabase</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce\">2cf92e6</a></td><td><code>Clean up</code></td></tr></table>\n",
    "created_at": "2019-04-30T10:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399485",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:50'>Comment 50:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966639bfd70bf3e2d350936bf9528cb23d3a45a2">966639b</a></td><td><code>Replace remona db checks with features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bc329af5f5100923806f1e49f823db41c398666">2bc329a</a></td><td><code>Remove search_path_override</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/808cc7bc2a7c9b96c97c6afe4c88447a1f6696d2">808cc7b</a></td><td><code>Search for database in CREMONA_MINI_DATA_DIR and CREMONA_LARGE_DATA_DIR</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20a3ded9d44e8d5ddad82ed1340c86dc63189a0c">20a3ded</a></td><td><code>Deprecate set_global argument of CremonaDatabase</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce">2cf92e6</a></td><td><code>Clean up</code></td></tr></table>




---

archive/issue_events_338866.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-04-30T10:07:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338866"
}
```



---

archive/issue_events_338867.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-04-30T10:07:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338867"
}
```



---

archive/issue_comments_399486.json:
```json
{
    "body": "Changed commit from **[6851434](https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e)** to **[2cf92e6](https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce)**",
    "created_at": "2019-04-30T10:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399486",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[6851434](https://github.com/sagemath/sagetrac-mirror/commit/68514344d6f1b043b22742c25b05ffd9078e9b6e)** to **[2cf92e6](https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce)**



---

archive/issue_comments_399487.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nThe last 2 commits are not strictly needed, they are just cleaning stuff up. If a reviewer prefers to move that to a separate ticket, I'll do that.",
    "created_at": "2019-04-30T10:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399487",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:51'>Comment 51:</a>
The last 2 commits are not strictly needed, they are just cleaning stuff up. If a reviewer prefers to move that to a separate ticket, I'll do that.



---

archive/issue_comments_399488.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nI am just verifying the last two cleanup commits are good.",
    "created_at": "2019-04-30T11:50:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399488",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:52'>Comment 52:</a>
I am just verifying the last two cleanup commits are good.



---

archive/issue_events_338868.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-07-15T20:54:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338868"
}
```



---

archive/issue_events_338869.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-07-15T20:54:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338869"
}
```



---

archive/issue_comments_399489.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nRebase needed",
    "created_at": "2019-07-15T20:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399489",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:53'>Comment 53:</a>
Rebase needed



---

archive/issue_comments_399490.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cremona-db-features)** to **[u/arojas/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/cremona-db-features)**",
    "created_at": "2020-10-08T15:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399490",
    "user": "https://github.com/antonio-rojas"
}
```

Changed branch from **[u/jdemeyer/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cremona-db-features)** to **[u/arojas/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/cremona-db-features)**



---

archive/issue_comments_399491.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nLet's please try to get this finally in\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b7abb1b5d0055bcd95d0bbec683a2dadd4e49e7\">6b7abb1</a></td><td><code>Merge branch 'develop' of git://git.sagemath.org/sage into t/25825/cremona-db-features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8\">9c2dcb5</a></td><td><code>More flexible test for error message</code></td></tr></table>\n",
    "created_at": "2020-10-08T16:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399491",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:55'>Comment 55:</a>
Let's please try to get this finally in

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b7abb1b5d0055bcd95d0bbec683a2dadd4e49e7">6b7abb1</a></td><td><code>Merge branch 'develop' of git://git.sagemath.org/sage into t/25825/cremona-db-features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8">9c2dcb5</a></td><td><code>More flexible test for error message</code></td></tr></table>




---

archive/issue_events_338870.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-10-08T16:02:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338870"
}
```



---

archive/issue_events_338871.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-10-08T16:02:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338871"
}
```



---

archive/issue_comments_399492.json:
```json
{
    "body": "Changed commit from **[2cf92e6](https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce)** to **[9c2dcb5](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)**",
    "created_at": "2020-10-08T16:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399492",
    "user": "https://github.com/antonio-rojas"
}
```

Changed commit from **[2cf92e6](https://github.com/sagemath/sagetrac-mirror/commit/2cf92e67460e705901f66905c5bed47550de47ce)** to **[9c2dcb5](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)**



---

archive/issue_comments_399493.json:
```json
{
    "body": "Changed author from **Timo Kaufmann, Jeroen Demeyer** to **Timo Kaufmann, Jeroen Demeyer, Antonio Rojas**",
    "created_at": "2020-10-08T16:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399493",
    "user": "https://github.com/antonio-rojas"
}
```

Changed author from **Timo Kaufmann, Jeroen Demeyer** to **Timo Kaufmann, Jeroen Demeyer, Antonio Rojas**



---

archive/issue_comments_399494.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nTicket description needs updating",
    "created_at": "2020-10-08T16:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399494",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'>Comment 56:</a>
Ticket description needs updating



---

archive/issue_comments_399495.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nReplying to [@mkoeppe](#comment%3A56):\n> Ticket description needs updating\n\nIs the `OptionalExtension` bit still relevant? I'm not familiar with the recent changes in that area.",
    "created_at": "2020-10-08T16:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399495",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:57'>Comment 57:</a>
Replying to [@mkoeppe](#comment%3A56):
> Ticket description needs updating

Is the `OptionalExtension` bit still relevant? I'm not familiar with the recent changes in that area.



---

archive/issue_comments_399496.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nNo, the use of `OptionalExtension` has been eliminated. See https://wiki.sagemath.org/ReleaseTours/sage-9.2#For_developers:_Changes_to_the_build_system_of_sagelib",
    "created_at": "2020-10-08T16:18:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399496",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'>Comment 58:</a>
No, the use of `OptionalExtension` has been eliminated. See https://wiki.sagemath.org/ReleaseTours/sage-9.2#For_developers:_Changes_to_the_build_system_of_sagelib



---

archive/issue_comments_399497.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-This continues the work in #20382. After this patch and #25835 are applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension` (#25828).\n+This continues the work in #20382 and #25835.\n \n To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.\n \n-After this I would propose to fix the usage in `OptionalExtension` (which seems to be a purely internal function just used for the build -- should be easy to fix) and then deprecate or remove `is_package_installed`.\n+After this I would propose to deprecate or remove `is_package_installed`.\n``````\n",
    "created_at": "2020-10-08T16:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399497",
    "user": "https://github.com/antonio-rojas"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-This continues the work in #20382. After this patch and #25835 are applied, only one usage of `is_package_installed` remains: The one in `OptionalExtension` (#25828).
+This continues the work in #20382 and #25835.
 
 To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.
 
-After this I would propose to fix the usage in `OptionalExtension` (which seems to be a purely internal function just used for the build -- should be easy to fix) and then deprecate or remove `is_package_installed`.
+After this I would propose to deprecate or remove `is_package_installed`.
``````




---

archive/issue_events_338872.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T16:29:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338872"
}
```



---

archive/issue_events_338873.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T16:29:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338873"
}
```



---

archive/issue_events_338874.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T16:50:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338874"
}
```



---

archive/issue_events_338875.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T16:50:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338875"
}
```



---

archive/issue_comments_399498.json:
```json
{
    "body": "Changed reviewer from **Julian R\u00fcth** to **Julian R\u00fcth, Matthias Koeppe**",
    "created_at": "2020-10-08T16:50:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399498",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Julian RÃ¼th** to **Julian RÃ¼th, Matthias Koeppe**



---

archive/issue_comments_399499.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,6 @@\n \n To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.\n \n-After this I would propose to deprecate or remove `is_package_installed`.\n+Next steps in getting rid of `is_package_installed` etc.:\n+- #30746 `sage.doctest.control`: Replace use of `sage.misc.package.list_packages`\n+- #30747 Deprecate all of `sage.misc.package` except for `PackageNotFoundError`\n``````\n",
    "created_at": "2020-10-08T17:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399499",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,6 @@
 
 To test this I ran `./sage -t --optional=sage,gap_packages,database_cremona_ellcurve $( git diff --name-only HEAD~2 )`.
 
-After this I would propose to deprecate or remove `is_package_installed`.
+Next steps in getting rid of `is_package_installed` etc.:
+- #30746 `sage.doctest.control`: Replace use of `sage.misc.package.list_packages`
+- #30747 Deprecate all of `sage.misc.package` except for `PackageNotFoundError`
``````




---

archive/issue_events_338876.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338876"
}
```



---

archive/issue_events_338877.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338877"
}
```



---

archive/issue_comments_399500.json:
```json
{
    "body": "Changed branch from **[u/arojas/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/cremona-db-features)** to **[9c2dcb5](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)**",
    "created_at": "2020-10-31T18:07:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25825#issuecomment-399500",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/arojas/cremona-db-features](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/cremona-db-features)** to **[9c2dcb5](https://github.com/sagemath/sagetrac-mirror/commit/9c2dcb5badacc99f17e2c049ad51bf21589a8bc8)**



---

archive/issue_events_338878.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-10-31T18:07:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338878"
}
```



---

archive/issue_events_338879.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1bed401ee4285752f3a620291eebc736e9390646",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-10-31T18:07:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25825",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25825#event-338879"
}
```
