# Issue 25993: Upgrade: Singular 4.2.0, pysingular 0.9.7

archive/issues_025756.json:
```json
{
    "assignees": [],
    "body": "Tarball: `see checksums.ini` on the branch\n\nUse `make SAGE_SPKG=\"sage-spkg -o\" singular-clean sagelib-clean build` to automatically download and install.\n\n\"Critical\" because it enables supporting newer versions of FLINT.\n\nWe use the Singular development branch (`spielwiese`) + PR https://github.com/Singular/Singular/pull/1058 in order to build documentation. The tarball is made from https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage\n\n\n\nCC:  @simon-king-jena @timokau @slel @isuruf @saraedum @dkrenn @sagetrac-araichev @cheuberg @behackl @dimpase @videlec\n\nKeywords: **upgrade, Singular, pysingular**\n\nBranch: **[ec471e0](https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267)**\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nReviewer: **Matthias Koeppe, Dima Pasechnik**\n\nAuthor: **Antonio Rojas, Markus Wageringel, Matthias Koeppe**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25993_\n\n",
    "closed_at": "2021-03-20T15:27:54Z",
    "created_at": "2018-08-03T10:24:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade: Singular 4.2.0, pysingular 0.9.7",
    "type": "issue",
    "updated_at": "2021-03-25T01:00:16Z",
    "url": "https://github.com/sagemath/sage/issues/25993",
    "user": "https://github.com/jdemeyer"
}
```
Tarball: `see checksums.ini` on the branch

Use `make SAGE_SPKG="sage-spkg -o" singular-clean sagelib-clean build` to automatically download and install.

"Critical" because it enables supporting newer versions of FLINT.

We use the Singular development branch (`spielwiese`) + PR https://github.com/Singular/Singular/pull/1058 in order to build documentation. The tarball is made from https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage



CC:  @simon-king-jena @timokau @slel @isuruf @saraedum @dkrenn @sagetrac-araichev @cheuberg @behackl @dimpase @videlec

Keywords: **upgrade, Singular, pysingular**

Branch: **[ec471e0](https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267)**

Upstream: **Fixed upstream, but not in a stable release.**

Reviewer: **Matthias Koeppe, Dima Pasechnik**

Author: **Antonio Rojas, Markus Wageringel, Matthias Koeppe**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/25993_





---

archive/issue_events_359076.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-03T10:24:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359076"
}
```



---

archive/issue_events_359077.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-03T10:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359077"
}
```



---

archive/issue_events_359078.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-03T10:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359078"
}
```



---

archive/issue_events_359079.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-03T10:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359079"
}
```



---

archive/issue_comments_400134.json:
```json
{
    "body": "Dependencies: **#24735**",
    "created_at": "2018-08-03T10:26:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400134",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#24735**



---

archive/issue_comments_400135.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,64 @@\n+**Tarball**: http://www.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p3.tar.gz\n \n+This is breaking `p_group_cohomology`:\n+\n+```\n+\n+sage -t src/sage/tests/modular_group_cohomology.py\n+**********************************************************************\n+File \"src/sage/tests/modular_group_cohomology.py\", line 52, in sage.tests.modular_group_cohomology\n+Failed example:\n+H.essential_ideal() # optional - p_group_cohomology\n+Exception raised:\n+Traceback (most recent call last):\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 573, in _run\n+self.compile_and_execute(example, compiler, test.globs)\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 983, in compile_and_execute\n+exec(compiled, globs)\n+File \"<doctest sage.tests.modular_group_cohomology[12]>\", line 1, in <module>\n+H.essential_ideal() # optional - p_group_cohomology\n+File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n+File \"pGroupCohomology/cohomology.pyx\", line 5180, in pGroupCohomology.cohomology.COHO.essential_ideal\n+File \"pGroupCohomology/cohomology.pyx\", line 9760, in pGroupCohomology.cohomology.COHO._lower_bound_depth\n+File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n+File \"pGroupCohomology/cohomology.pyx\", line 9826, in pGroupCohomology.cohomology.COHO.depth\n+File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n+File \"pGroupCohomology/cohomology.pyx\", line 8041, in pGroupCohomology.cohomology.COHO.filter_regular_parameters\n+File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n+File \"pGroupCohomology/cohomology.pyx\", line 8788, in pGroupCohomology.cohomology.COHO.find_small_last_parameter\n+File \"pGroupCohomology/cohomology.pyx\", line 8694, in pGroupCohomology.cohomology.COHO.find_small_last_parameter\n+File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n+File \"pGroupCohomology/cohomology.pyx\", line 8380, in pGroupCohomology.cohomology.COHO._get_obvious_parameter\n+File \"pGroupCohomology/cohomology.pyx\", line 6471, in pGroupCohomology.cohomology.COHO.standard_monomials\n+File \"pGroupCohomology/cohomology.pyx\", line 6356, in pGroupCohomology.cohomology.COHO._makeStdMon\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 655, in __call__\n+return self._obj.parent().function_call(self._name, [self._obj] + list(args), kwds)\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 576, in function_call\n+return self.new(s)\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 345, in new\n+return self(code)\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 798, in __call__\n+return SingularElement(self, type, x, False)\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 1284, in __init__\n+raise_(TypeError, TypeError(x), sys.exc_info()[2])\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 1279, in __init__\n+self._name = parent._create(value, type)\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 759, in _create\n+self.set(type, name, value)\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 702, in set\n+self.eval(cmd)\n+File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 660, in eval\n+raise SingularError('Singular error:\\n%s'%s)\n+TypeError: Singular error:\n+? ncols(`int`) failed\n+? expected ncols(`matrix`)\n+? expected ncols(`smatrix`)\n+? expected ncols(`ideal`)\n+? expected ncols(`module`)\n+? expected ncols(`intmat`)\n+? expected ncols(`bigintmat`)\n+? error occurred in or before STDIN line 5765: ``\n+**********************************************************************\n+```\n+\n+(a few more similar error in the same file)\n``````\n",
    "created_at": "2018-08-03T10:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400135",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,64 @@
+**Tarball**: http://www.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p3.tar.gz
 
+This is breaking `p_group_cohomology`:
+
+```
+
+sage -t src/sage/tests/modular_group_cohomology.py
+**********************************************************************
+File "src/sage/tests/modular_group_cohomology.py", line 52, in sage.tests.modular_group_cohomology
+Failed example:
+H.essential_ideal() # optional - p_group_cohomology
+Exception raised:
+Traceback (most recent call last):
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 573, in _run
+self.compile_and_execute(example, compiler, test.globs)
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 983, in compile_and_execute
+exec(compiled, globs)
+File "<doctest sage.tests.modular_group_cohomology[12]>", line 1, in <module>
+H.essential_ideal() # optional - p_group_cohomology
+File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
+File "pGroupCohomology/cohomology.pyx", line 5180, in pGroupCohomology.cohomology.COHO.essential_ideal
+File "pGroupCohomology/cohomology.pyx", line 9760, in pGroupCohomology.cohomology.COHO._lower_bound_depth
+File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
+File "pGroupCohomology/cohomology.pyx", line 9826, in pGroupCohomology.cohomology.COHO.depth
+File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
+File "pGroupCohomology/cohomology.pyx", line 8041, in pGroupCohomology.cohomology.COHO.filter_regular_parameters
+File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
+File "pGroupCohomology/cohomology.pyx", line 8788, in pGroupCohomology.cohomology.COHO.find_small_last_parameter
+File "pGroupCohomology/cohomology.pyx", line 8694, in pGroupCohomology.cohomology.COHO.find_small_last_parameter
+File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
+File "pGroupCohomology/cohomology.pyx", line 8380, in pGroupCohomology.cohomology.COHO._get_obvious_parameter
+File "pGroupCohomology/cohomology.pyx", line 6471, in pGroupCohomology.cohomology.COHO.standard_monomials
+File "pGroupCohomology/cohomology.pyx", line 6356, in pGroupCohomology.cohomology.COHO._makeStdMon
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 655, in __call__
+return self._obj.parent().function_call(self._name, [self._obj] + list(args), kwds)
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 576, in function_call
+return self.new(s)
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 345, in new
+return self(code)
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 798, in __call__
+return SingularElement(self, type, x, False)
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 1284, in __init__
+raise_(TypeError, TypeError(x), sys.exc_info()[2])
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 1279, in __init__
+self._name = parent._create(value, type)
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 759, in _create
+self.set(type, name, value)
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 702, in set
+self.eval(cmd)
+File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 660, in eval
+raise SingularError('Singular error:\n%s'%s)
+TypeError: Singular error:
+? ncols(`int`) failed
+? expected ncols(`matrix`)
+? expected ncols(`smatrix`)
+? expected ncols(`ideal`)
+? expected ncols(`module`)
+? expected ncols(`intmat`)
+? expected ncols(`bigintmat`)
+? error occurred in or before STDIN line 5765: ``
+**********************************************************************
+```
+
+(a few more similar error in the same file)
``````




---

archive/issue_comments_400136.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/25993](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/25993)**",
    "created_at": "2018-08-03T10:28:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400136",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/25993](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/25993)**



---

archive/issue_comments_400137.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,6 @@\n This is breaking `p_group_cohomology`:\n \n ```\n-\n sage -t src/sage/tests/modular_group_cohomology.py\n **********************************************************************\n File \"src/sage/tests/modular_group_cohomology.py\", line 52, in sage.tests.modular_group_cohomology\n@@ -62,3 +61,5 @@\n ```\n \n (a few more similar error in the same file)\n+\n+It's not clear to me whether this is a Singular bug or a p_group_cohomology bug.\n``````\n",
    "created_at": "2018-08-03T10:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400137",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,6 @@
 This is breaking `p_group_cohomology`:
 
 ```
-
 sage -t src/sage/tests/modular_group_cohomology.py
 **********************************************************************
 File "src/sage/tests/modular_group_cohomology.py", line 52, in sage.tests.modular_group_cohomology
@@ -62,3 +61,5 @@
 ```
 
 (a few more similar error in the same file)
+
+It's not clear to me whether this is a Singular bug or a p_group_cohomology bug.
``````




---

archive/issue_comments_400138.json:
```json
{
    "body": "Commit: **[ec53e6f](https://github.com/sagemath/sagetrac-mirror/commit/ec53e6fadfe9cb22a70029f4b9c91576c6c2b1d3)**",
    "created_at": "2018-08-03T10:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400138",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[ec53e6f](https://github.com/sagemath/sagetrac-mirror/commit/ec53e6fadfe9cb22a70029f4b9c91576c6c2b1d3)**



---

archive/issue_comments_400139.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f55b763c775bb0d652b53d50dc26f11e9f472a0\">0f55b76</a></td><td><code>More real -> Float porting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aea054407a41a517070eb06e8efcd02d6356269f\">aea0544</a></td><td><code>Don't check for exact Singular version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e52b5e3ca6bbb34666c25decbf9bab3e2b46e82\">4e52b5e</a></td><td><code>Use p_Divide for lcm as suggested by upstream</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50b9ae2fd233c30860e1cbb3e63a26f2cc10560a\">50b9ae2</a></td><td><code>Backport patch to move singular's NTL handling out of libsingular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b56ef2d85a79801916e7a8e831cb4a0f4997c74\">7b56ef2</a></td><td><code>Document patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/930ba2eb1cacaf4e1e43733feb560dd105d531be\">930ba2e</a></td><td><code>Remove duplicate cimport</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f31d9da8861773c554079ee2a66922a40156a9a5\">f31d9da</a></td><td><code>Move patch documentation inside patch itself</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07ef11b3209f498dc771bf5cb02f1b3ce1264cbb\">07ef11b</a></td><td><code>rest -> reminder</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9e5aed9215175f8cf49327c790ae153648a2513\">a9e5aed</a></td><td><code>Minor fixes to Singular interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec53e6fadfe9cb22a70029f4b9c91576c6c2b1d3\">ec53e6f</a></td><td><code>Upgrade to Singular 4.1.1p3</code></td></tr></table>\n",
    "created_at": "2018-08-03T10:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400139",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f55b763c775bb0d652b53d50dc26f11e9f472a0">0f55b76</a></td><td><code>More real -> Float porting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aea054407a41a517070eb06e8efcd02d6356269f">aea0544</a></td><td><code>Don't check for exact Singular version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e52b5e3ca6bbb34666c25decbf9bab3e2b46e82">4e52b5e</a></td><td><code>Use p_Divide for lcm as suggested by upstream</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50b9ae2fd233c30860e1cbb3e63a26f2cc10560a">50b9ae2</a></td><td><code>Backport patch to move singular's NTL handling out of libsingular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b56ef2d85a79801916e7a8e831cb4a0f4997c74">7b56ef2</a></td><td><code>Document patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/930ba2eb1cacaf4e1e43733feb560dd105d531be">930ba2e</a></td><td><code>Remove duplicate cimport</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f31d9da8861773c554079ee2a66922a40156a9a5">f31d9da</a></td><td><code>Move patch documentation inside patch itself</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07ef11b3209f498dc771bf5cb02f1b3ce1264cbb">07ef11b</a></td><td><code>rest -> reminder</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9e5aed9215175f8cf49327c790ae153648a2513">a9e5aed</a></td><td><code>Minor fixes to Singular interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec53e6fadfe9cb22a70029f4b9c91576c6c2b1d3">ec53e6f</a></td><td><code>Upgrade to Singular 4.1.1p3</code></td></tr></table>




---

archive/issue_comments_400140.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSigh. So I have to upgrade the group cohomology package earlier than I thought. I'll see what I can do (after grading some exam).",
    "created_at": "2018-08-03T10:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400140",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:5" align="right">comment:5</div>

Sigh. So I have to upgrade the group cohomology package earlier than I thought. I'll see what I can do (after grading some exam).



---

archive/issue_comments_400141.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe ticket description prominently tells that the group cohomology package is failing, but the title of the ticket is about upgrading Singular.\n\nSo, just to be sure about the topic of this ticket:\n- Is this ticket about upgrading Singular, which means that a new ticket for upgrading the group cohomology package needs to be created? If this is so, which of the tickets should depend on the other?\n- Is this ticket only about upgrading the group cohomology package? Looking at the commits, I suppose that this is not the case.",
    "created_at": "2018-08-03T10:36:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400141",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:6" align="right">comment:6</div>

The ticket description prominently tells that the group cohomology package is failing, but the title of the ticket is about upgrading Singular.

So, just to be sure about the topic of this ticket:
- Is this ticket about upgrading Singular, which means that a new ticket for upgrading the group cohomology package needs to be created? If this is so, which of the tickets should depend on the other?
- Is this ticket only about upgrading the group cohomology package? Looking at the commits, I suppose that this is not the case.



---

archive/issue_comments_400142.json:
```json
{
    "body": "Replying to [ticket:25993 jdemeyer]:\n> It's not clear to me whether this is a Singular bug or a p_group_cohomology bug.\n\nMost likely it is an API change.",
    "created_at": "2018-08-03T10:37:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400142",
    "user": "https://github.com/simon-king-jena"
}
```

Replying to [ticket:25993 jdemeyer]:
> It's not clear to me whether this is a Singular bug or a p_group_cohomology bug.

Most likely it is an API change.



---

archive/issue_comments_400143.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis ticket is about upgrading Singular. If the p_group_cohomology package must be changed, ideally it should be done in a way which makes it compatible both with Singular 4.1.1p3 as well as earlier versions. In that case, the upgrade of p_group_cohomology can be done on a different ticket and #25993 should depend on that.\n\nConcerning the commit history, only the last commit belongs to this ticket. The rest belongs to #24735 which is an upgrade of Singular to 4.1.1**p2**.",
    "created_at": "2018-08-03T10:47:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400143",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

This ticket is about upgrading Singular. If the p_group_cohomology package must be changed, ideally it should be done in a way which makes it compatible both with Singular 4.1.1p3 as well as earlier versions. In that case, the upgrade of p_group_cohomology can be done on a different ticket and #25993 should depend on that.

Concerning the commit history, only the last commit belongs to this ticket. The rest belongs to #24735 which is an upgrade of Singular to 4.1.1**p2**.



---

archive/issue_comments_400144.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jdemeyer](#comment:8):\n> Concerning the commit history, only the last commit belongs to this ticket. The rest belongs to #24735 which is an upgrade of Singular to 4.1.1**p2**.\n\nI see. Do you know if the breakage already happens in p2?",
    "created_at": "2018-08-03T10:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400144",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jdemeyer](#comment:8):
> Concerning the commit history, only the last commit belongs to this ticket. The rest belongs to #24735 which is an upgrade of Singular to 4.1.1**p2**.

I see. Do you know if the breakage already happens in p2?



---

archive/issue_comments_400145.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nPS: I recently added a patch to Singular which backports a bugfix that is important to me. Is that bugfix in Singular-4.1.1?",
    "created_at": "2018-08-03T10:49:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400145",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:10" align="right">comment:10</div>

PS: I recently added a patch to Singular which backports a bugfix that is important to me. Is that bugfix in Singular-4.1.1?



---

archive/issue_comments_400146.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@simon-king-jena](#comment:9):\n> I see. Do you know if the breakage already happens in p2?\n\nI know that it does **not** occur. That's also a good reason to do the upgrade in two steps: first to 4.1.1p2 which works fine and then to 4.1.1p3 (or a later version) once p_group_cohomology is fixed.",
    "created_at": "2018-08-03T10:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400146",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@simon-king-jena](#comment:9):
> I see. Do you know if the breakage already happens in p2?

I know that it does **not** occur. That's also a good reason to do the upgrade in two steps: first to 4.1.1p2 which works fine and then to 4.1.1p3 (or a later version) once p_group_cohomology is fixed.



---

archive/issue_comments_400147.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@jdemeyer](#comment:11):\n> Replying to [@simon-king-jena](#comment:9):\n> > I see. Do you know if the breakage already happens in p2?\n\n> \n> I know that it does **not** occur. That's also a good reason to do the upgrade in two steps: first to 4.1.1p2 which works fine and then to 4.1.1p3 (or a later version) once p_group_cohomology is fixed.\n\nThank you! That sounds like a good plan. And do you know about the backported bug fix?",
    "created_at": "2018-08-03T10:54:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400147",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@jdemeyer](#comment:11):
> Replying to [@simon-king-jena](#comment:9):
> > I see. Do you know if the breakage already happens in p2?

> 
> I know that it does **not** occur. That's also a good reason to do the upgrade in two steps: first to 4.1.1p2 which works fine and then to 4.1.1p3 (or a later version) once p_group_cohomology is fixed.

Thank you! That sounds like a good plan. And do you know about the backported bug fix?



---

archive/issue_comments_400148.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@simon-king-jena](#comment:10):\n> I recently added a patch to Singular which backports a bugfix that is important to me. Is that bugfix in Singular-4.1.1?\n\nThat's hard to say if you don't say which patch you mean. In any case, all patches which are currently (in Sage 8.3.rc3) applied to Singular are included in Singular 4.1.1p2.\n\nNote that you said 4.1.1 but I guess you really care about 4.1.1p2 or 4.1.1p3. Despite what the version numbers suggest, experience shows that Singular adds non-trivial changes in such patch-releases.",
    "created_at": "2018-08-03T10:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400148",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@simon-king-jena](#comment:10):
> I recently added a patch to Singular which backports a bugfix that is important to me. Is that bugfix in Singular-4.1.1?

That's hard to say if you don't say which patch you mean. In any case, all patches which are currently (in Sage 8.3.rc3) applied to Singular are included in Singular 4.1.1p2.

Note that you said 4.1.1 but I guess you really care about 4.1.1p2 or 4.1.1p3. Despite what the version numbers suggest, experience shows that Singular adds non-trivial changes in such patch-releases.



---

archive/issue_comments_400149.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jdemeyer](#comment:13):\n> Replying to [@simon-king-jena](#comment:10):\n> > I recently added a patch to Singular which backports a bugfix that is important to me. Is that bugfix in Singular-4.1.1?\n\n> \n> That's hard to say if you don't say which patch you mean. In any case, all patches which are currently (in Sage 8.3.rc3) applied to Singular are included in Singular 4.1.1p2.\n\nIt is `backport_std.patch`\n\n> Note that you said 4.1.1 but I guess you really care about 4.1.1p2 or 4.1.1p3. Despite what the version numbers suggest, experience shows that Singular adds non-trivial changes in such patch-releases.\n\nI see. I thought that the \"p something\" patch level is Sage's addition of patches, not Singular's.",
    "created_at": "2018-08-03T11:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400149",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jdemeyer](#comment:13):
> Replying to [@simon-king-jena](#comment:10):
> > I recently added a patch to Singular which backports a bugfix that is important to me. Is that bugfix in Singular-4.1.1?

> 
> That's hard to say if you don't say which patch you mean. In any case, all patches which are currently (in Sage 8.3.rc3) applied to Singular are included in Singular 4.1.1p2.

It is `backport_std.patch`

> Note that you said 4.1.1 but I guess you really care about 4.1.1p2 or 4.1.1p3. Despite what the version numbers suggest, experience shows that Singular adds non-trivial changes in such patch-releases.

I see. I thought that the "p something" patch level is Sage's addition of patches, not Singular's.



---

archive/issue_comments_400150.json:
```json
{
    "body": "Upstream: **Fixed upstream, but not in a stable release.**",
    "created_at": "2018-08-03T11:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400150",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_400151.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+We need to add a fix for https://www.singular.uni-kl.de:8005/trac/ticket/834\n+\n **Tarball**: http://www.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p3.tar.gz\n \n This is breaking `p_group_cohomology`:\n``````\n",
    "created_at": "2018-08-03T11:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400151",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+We need to add a fix for https://www.singular.uni-kl.de:8005/trac/ticket/834
+
 **Tarball**: http://www.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p3.tar.gz
 
 This is breaking `p_group_cohomology`:
``````




---

archive/issue_comments_400152.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@simon-king-jena](#comment:14):\n> I see. I thought that the \"p something\" patch level is Sage's addition of patches, not Singular's.\n\nNo, Sage's p levels have a dot. So you can have a Singular package version number like `4.1.1p2.p0` (where `4.1.1p2` comes from Singular upstream and `.p0` from Sage). I know, it's confusing :-)",
    "created_at": "2018-08-03T11:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400152",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@simon-king-jena](#comment:14):
> I see. I thought that the "p something" patch level is Sage's addition of patches, not Singular's.

No, Sage's p levels have a dot. So you can have a Singular package version number like `4.1.1p2.p0` (where `4.1.1p2` comes from Singular upstream and `.p0` from Sage). I know, it's confusing :-)



---

archive/issue_comments_400153.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83c8ac26d40bfa342d4fe37d43ec9db84e1055ba\">83c8ac2</a></td><td><code>Upgrade to Singular 4.1.1p3</code></td></tr></table>\n",
    "created_at": "2018-08-03T11:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400153",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83c8ac26d40bfa342d4fe37d43ec9db84e1055ba">83c8ac2</a></td><td><code>Upgrade to Singular 4.1.1p3</code></td></tr></table>




---

archive/issue_comments_400154.json:
```json
{
    "body": "Changed commit from **[ec53e6f](https://github.com/sagemath/sagetrac-mirror/commit/ec53e6fadfe9cb22a70029f4b9c91576c6c2b1d3)** to **[83c8ac2](https://github.com/sagemath/sagetrac-mirror/commit/83c8ac26d40bfa342d4fe37d43ec9db84e1055ba)**",
    "created_at": "2018-08-03T11:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400154",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ec53e6f](https://github.com/sagemath/sagetrac-mirror/commit/ec53e6fadfe9cb22a70029f4b9c91576c6c2b1d3)** to **[83c8ac2](https://github.com/sagemath/sagetrac-mirror/commit/83c8ac26d40bfa342d4fe37d43ec9db84e1055ba)**



---

archive/issue_comments_400155.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@simon-king-jena](#comment:14):\n> It is `backport_std.patch`\n\nSorry, I don't know what you mean. Where should I find this patch?",
    "created_at": "2018-08-03T11:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400155",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@simon-king-jena](#comment:14):
> It is `backport_std.patch`

Sorry, I don't know what you mean. Where should I find this patch?



---

archive/issue_comments_400156.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment:18):\n> Replying to [@simon-king-jena](#comment:14):\n> > It is `backport_std.patch`\n\n> \n> Sorry, I don't know what you mean. Where should I find this patch?\n\n#25889",
    "created_at": "2018-08-03T11:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400156",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment:18):
> Replying to [@simon-king-jena](#comment:14):
> > It is `backport_std.patch`

> 
> Sorry, I don't know what you mean. Where should I find this patch?

#25889



---

archive/issue_comments_400157.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@simon-king-jena](#comment:5):\n> Sigh. So I have to upgrade the group cohomology package earlier than I thought.\n\nAt least this time, it's not the fault of Sage but Singular :-)",
    "created_at": "2018-08-03T11:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400157",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@simon-king-jena](#comment:5):
> Sigh. So I have to upgrade the group cohomology package earlier than I thought.

At least this time, it's not the fault of Sage but Singular :-)



---

archive/issue_comments_400158.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI created #26001 to deal with the now needed upgrade of the group cohomology package. I suggest that I bae #26001 on top of #24735 (which by now is positively reviewed) and make the new ticket a dependency for the upgrade of Singular to version 4.1.1.p3.",
    "created_at": "2018-08-05T11:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400158",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:21" align="right">comment:21</div>

I created #26001 to deal with the now needed upgrade of the group cohomology package. I suggest that I bae #26001 on top of #24735 (which by now is positively reviewed) and make the new ticket a dependency for the upgrade of Singular to version 4.1.1.p3.



---

archive/issue_comments_400159.json:
```json
{
    "body": "Changed dependencies from **#24735** to **#24735 #26001**",
    "created_at": "2018-08-05T11:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400159",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#24735** to **#24735 #26001**



---

archive/issue_comments_400160.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIs this supposed to pass the non-optional doctests already? I cherry-picket the last two commits (`Upgrade to Singular 4.1.1p3` and `Minor fixes to Singular interface`) and added the patch to singular in an attempt to update nix's Singular to p3. I'm getting a segfault while running the doctests:\n\n```\nFile \"/nix/store/pzc940fjxrhq17j58krwry2y7wi9czh8-sage-src-8.3/src/sage/rings/polynomial/plural.pyx\", line 396, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__dealloc__\nFailed example:\n    R2 = A2.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y}, order=TermOrder('degrevlex', 2))\nException raised:\n    Traceback (most recent call last):\n      File \"/nix/store/ic3b215ln47d0js46lyvc7zjizd9jfqp-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 573, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/nix/store/ic3b215ln47d0js46lyvc7zjizd9jfqp-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 983, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.plural.NCPolynomialRing_plural.__dealloc__[6]>\", line 1, in <module>\n        R2 = A2.g_algebra({y*x:x*y-z, z*x:x*z+Integer(2)*x, z*y:y*z-Integer(2)*y}, order=TermOrder('degrevlex', Integer(2)))\n      File \"/nix/store/ic3b215ln47d0js46lyvc7zjizd9jfqp-python-2.7.15-env/lib/python2.7/site-packages/sage/algebras/free_algebra.py\", line 876, in g_algebra\n        order=order, check=check)\n      File \"sage/structure/factory.pyx\", line 368, in sage.structure.factory.UniqueFactory.__call__ (build/cythonized/sage/structure/factory.c:2046)\n        return self.get_object(version, key, kwds)\n      File \"sage/structure/factory.pyx\", line 411, in sage.structure.factory.UniqueFactory.get_object (build/cythonized/sage/structure/factory.c:2422)\n        obj = self.create_object(version, key, **extra_args)\n      File \"sage/rings/polynomial/plural.pyx\", line 173, in sage.rings.polynomial.plural.G_AlgFactory.create_object (build/cythonized/sage/rings/polynomial/plural.cpp:5046)\n        return NCPolynomialRing_plural(base_ring, names, c, d, order,\n      File \"sage/rings/polynomial/plural.pyx\", line 351, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__init__ (build/cythonized/sage/rings/polynomial/plural.cpp:6406)\n        test = ff.nctools__lib.ndcond(ring = self)\n      File \"sage/libs/singular/function.pyx\", line 1330, in sage.libs.singular.function.SingularFunction.__call__ (build/cythonized/sage/libs/singular/function.cpp:15332)\n        return call_function(self, args, ring, interruptible, attributes)\n      File \"sage/libs/singular/function.pyx\", line 1512, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:17285)\n        with opt_ctx: # we are preserving the global options state here\n      File \"sage/libs/singular/function.pyx\", line 1514, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:17197)\n        sig_on()\n    SignalError: Segmentation fault\n```",
    "created_at": "2018-08-24T14:41:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400160",
    "user": "https://github.com/timokau"
}
```

<div id="comment:22" align="right">comment:22</div>

Is this supposed to pass the non-optional doctests already? I cherry-picket the last two commits (`Upgrade to Singular 4.1.1p3` and `Minor fixes to Singular interface`) and added the patch to singular in an attempt to update nix's Singular to p3. I'm getting a segfault while running the doctests:

```
File "/nix/store/pzc940fjxrhq17j58krwry2y7wi9czh8-sage-src-8.3/src/sage/rings/polynomial/plural.pyx", line 396, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__dealloc__
Failed example:
    R2 = A2.g_algebra({y*x:x*y-z, z*x:x*z+2*x, z*y:y*z-2*y}, order=TermOrder('degrevlex', 2))
Exception raised:
    Traceback (most recent call last):
      File "/nix/store/ic3b215ln47d0js46lyvc7zjizd9jfqp-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 573, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/nix/store/ic3b215ln47d0js46lyvc7zjizd9jfqp-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 983, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.plural.NCPolynomialRing_plural.__dealloc__[6]>", line 1, in <module>
        R2 = A2.g_algebra({y*x:x*y-z, z*x:x*z+Integer(2)*x, z*y:y*z-Integer(2)*y}, order=TermOrder('degrevlex', Integer(2)))
      File "/nix/store/ic3b215ln47d0js46lyvc7zjizd9jfqp-python-2.7.15-env/lib/python2.7/site-packages/sage/algebras/free_algebra.py", line 876, in g_algebra
        order=order, check=check)
      File "sage/structure/factory.pyx", line 368, in sage.structure.factory.UniqueFactory.__call__ (build/cythonized/sage/structure/factory.c:2046)
        return self.get_object(version, key, kwds)
      File "sage/structure/factory.pyx", line 411, in sage.structure.factory.UniqueFactory.get_object (build/cythonized/sage/structure/factory.c:2422)
        obj = self.create_object(version, key, **extra_args)
      File "sage/rings/polynomial/plural.pyx", line 173, in sage.rings.polynomial.plural.G_AlgFactory.create_object (build/cythonized/sage/rings/polynomial/plural.cpp:5046)
        return NCPolynomialRing_plural(base_ring, names, c, d, order,
      File "sage/rings/polynomial/plural.pyx", line 351, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__init__ (build/cythonized/sage/rings/polynomial/plural.cpp:6406)
        test = ff.nctools__lib.ndcond(ring = self)
      File "sage/libs/singular/function.pyx", line 1330, in sage.libs.singular.function.SingularFunction.__call__ (build/cythonized/sage/libs/singular/function.cpp:15332)
        return call_function(self, args, ring, interruptible, attributes)
      File "sage/libs/singular/function.pyx", line 1512, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:17285)
        with opt_ctx: # we are preserving the global options state here
      File "sage/libs/singular/function.pyx", line 1514, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:17197)
        sig_on()
    SignalError: Segmentation fault
```



---

archive/issue_comments_400161.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nNote that this will also break the build of polymake (not sure if it affects the 3.1 version shipped by Sage)\n\nhttp://www.singular.uni-kl.de:8002/trac/ticket/838",
    "created_at": "2018-09-07T08:37:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400161",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:23" align="right">comment:23</div>

Note that this will also break the build of polymake (not sure if it affects the 3.1 version shipped by Sage)

http://www.singular.uni-kl.de:8002/trac/ticket/838



---

archive/issue_events_359080.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-10-25T01:44:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359080"
}
```



---

archive/issue_events_359081.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-10-25T01:44:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359081"
}
```



---

archive/issue_comments_400162.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\n4.1.1p4 is out, with fixes for the gcd in ZZ and the polymake issue. But (of course) with new problems: the stest function has changed signature and now only accepts two parameters [1]. After porting the Sage code I'm getting floating point exceptions\n\n```\nFile \"/usr/lib/python2.7/site-packages/sage/rings/quotient_ring_element.py\", line 629, in sage.rings.quotient_ring_element.QuotientRingElement._richcmp_\nFailed example:\n    I = F*[x*y+y*z,x^2+x*y-y*x-y^2]*F\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1086, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.quotient_ring_element.QuotientRingElement._richcmp_[7]>\", line 1, in <module>\n        I = F*[x*y+y*z,x**Integer(2)+x*y-y*x-y**Integer(2)]*F\n      File \"sage/structure/element.pyx\", line 1517, in sage.structure.element.Element.__mul__ (build/cythonized/sage/structure/element.c:12022)\n        return (<Element>left)._mul_(right)\n      File \"sage/algebras/letterplace/free_algebra_element_letterplace.pyx\", line 604, in sage.algebras.letterplace.free_algebra_element_letterplace.FreeAlgebraElement_letterplace._mul_ (build/cythonized/sage/algebras/letterplace/free_algebra_element_letterplace.cpp:9487)\n        rshift = singular_system(\"stest\",right._poly,left._poly.degree(), ring=A._current_ring)\n      File \"sage/libs/singular/function.pyx\", line 1330, in sage.libs.singular.function.SingularFunction.__call__ (build/cythonized/sage/libs/singular/function.cpp:15055)\n        return call_function(self, args, ring, interruptible, attributes)\n      File \"sage/libs/singular/function.pyx\", line 1512, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:16879)\n        with opt_ctx: # we are preserving the global options state here\n      File \"sage/libs/singular/function.pyx\", line 1514, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:16791)\n        sig_on()\n    FloatingPointError: Floating point exception\n\n```\n\n\n[1] https://github.com/Singular/Sources/commit/b00f8a34fb50dbff4746ce45d0680d242f28260c",
    "created_at": "2018-12-23T13:14:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400162",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:25" align="right">comment:25</div>

4.1.1p4 is out, with fixes for the gcd in ZZ and the polymake issue. But (of course) with new problems: the stest function has changed signature and now only accepts two parameters [1]. After porting the Sage code I'm getting floating point exceptions

```
File "/usr/lib/python2.7/site-packages/sage/rings/quotient_ring_element.py", line 629, in sage.rings.quotient_ring_element.QuotientRingElement._richcmp_
Failed example:
    I = F*[x*y+y*z,x^2+x*y-y*x-y^2]*F
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib/python2.7/site-packages/sage/doctest/forker.py", line 1086, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.quotient_ring_element.QuotientRingElement._richcmp_[7]>", line 1, in <module>
        I = F*[x*y+y*z,x**Integer(2)+x*y-y*x-y**Integer(2)]*F
      File "sage/structure/element.pyx", line 1517, in sage.structure.element.Element.__mul__ (build/cythonized/sage/structure/element.c:12022)
        return (<Element>left)._mul_(right)
      File "sage/algebras/letterplace/free_algebra_element_letterplace.pyx", line 604, in sage.algebras.letterplace.free_algebra_element_letterplace.FreeAlgebraElement_letterplace._mul_ (build/cythonized/sage/algebras/letterplace/free_algebra_element_letterplace.cpp:9487)
        rshift = singular_system("stest",right._poly,left._poly.degree(), ring=A._current_ring)
      File "sage/libs/singular/function.pyx", line 1330, in sage.libs.singular.function.SingularFunction.__call__ (build/cythonized/sage/libs/singular/function.cpp:15055)
        return call_function(self, args, ring, interruptible, attributes)
      File "sage/libs/singular/function.pyx", line 1512, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:16879)
        with opt_ctx: # we are preserving the global options state here
      File "sage/libs/singular/function.pyx", line 1514, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:16791)
        sig_on()
    FloatingPointError: Floating point exception

```


[1] https://github.com/Singular/Sources/commit/b00f8a34fb50dbff4746ce45d0680d242f28260c



---

archive/issue_comments_400163.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@antonio-rojas](#comment:25):\n> 4.1.1p4 is out\n\nReally? I don't see it on ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-1/",
    "created_at": "2018-12-24T10:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400163",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@antonio-rojas](#comment:25):
> 4.1.1p4 is out

Really? I don't see it on ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-1/



---

archive/issue_comments_400164.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jdemeyer](#comment:26):\n> Replying to [@antonio-rojas](#comment:25):\n> > 4.1.1p4 is out\n\n> \n> Really? I don't see it on ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-1/\n\nThat mirror seems to be outdated\n\nhttps://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/",
    "created_at": "2018-12-24T10:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400164",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jdemeyer](#comment:26):
> Replying to [@antonio-rojas](#comment:25):
> > 4.1.1p4 is out

> 
> Really? I don't see it on ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-1/

That mirror seems to be outdated

https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/



---

archive/issue_comments_400165.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,67 +1,5 @@\n We need to add a fix for https://www.singular.uni-kl.de:8005/trac/ticket/834\n \n-**Tarball**: http://www.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p3.tar.gz\n+**Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p4.tar.gz\n \n-This is breaking `p_group_cohomology`:\n-\n-```\n-sage -t src/sage/tests/modular_group_cohomology.py\n-**********************************************************************\n-File \"src/sage/tests/modular_group_cohomology.py\", line 52, in sage.tests.modular_group_cohomology\n-Failed example:\n-H.essential_ideal() # optional - p_group_cohomology\n-Exception raised:\n-Traceback (most recent call last):\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 573, in _run\n-self.compile_and_execute(example, compiler, test.globs)\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 983, in compile_and_execute\n-exec(compiled, globs)\n-File \"<doctest sage.tests.modular_group_cohomology[12]>\", line 1, in <module>\n-H.essential_ideal() # optional - p_group_cohomology\n-File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n-File \"pGroupCohomology/cohomology.pyx\", line 5180, in pGroupCohomology.cohomology.COHO.essential_ideal\n-File \"pGroupCohomology/cohomology.pyx\", line 9760, in pGroupCohomology.cohomology.COHO._lower_bound_depth\n-File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n-File \"pGroupCohomology/cohomology.pyx\", line 9826, in pGroupCohomology.cohomology.COHO.depth\n-File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n-File \"pGroupCohomology/cohomology.pyx\", line 8041, in pGroupCohomology.cohomology.COHO.filter_regular_parameters\n-File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n-File \"pGroupCohomology/cohomology.pyx\", line 8788, in pGroupCohomology.cohomology.COHO.find_small_last_parameter\n-File \"pGroupCohomology/cohomology.pyx\", line 8694, in pGroupCohomology.cohomology.COHO.find_small_last_parameter\n-File \"pGroupCohomology/cohomology.pyx\", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__\n-File \"pGroupCohomology/cohomology.pyx\", line 8380, in pGroupCohomology.cohomology.COHO._get_obvious_parameter\n-File \"pGroupCohomology/cohomology.pyx\", line 6471, in pGroupCohomology.cohomology.COHO.standard_monomials\n-File \"pGroupCohomology/cohomology.pyx\", line 6356, in pGroupCohomology.cohomology.COHO._makeStdMon\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 655, in __call__\n-return self._obj.parent().function_call(self._name, [self._obj] + list(args), kwds)\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 576, in function_call\n-return self.new(s)\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 345, in new\n-return self(code)\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 798, in __call__\n-return SingularElement(self, type, x, False)\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 1284, in __init__\n-raise_(TypeError, TypeError(x), sys.exc_info()[2])\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 1279, in __init__\n-self._name = parent._create(value, type)\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 759, in _create\n-self.set(type, name, value)\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 702, in set\n-self.eval(cmd)\n-File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py\", line 660, in eval\n-raise SingularError('Singular error:\\n%s'%s)\n-TypeError: Singular error:\n-? ncols(`int`) failed\n-? expected ncols(`matrix`)\n-? expected ncols(`smatrix`)\n-? expected ncols(`ideal`)\n-? expected ncols(`module`)\n-? expected ncols(`intmat`)\n-? expected ncols(`bigintmat`)\n-? error occurred in or before STDIN line 5765: ``\n-**********************************************************************\n-```\n-\n-(a few more similar error in the same file)\n-\n-It's not clear to me whether this is a Singular bug or a p_group_cohomology bug.\n+This is breaking `p_group_cohomology`, which is why #26001 is a dependency.\n``````\n",
    "created_at": "2018-12-24T15:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400165",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,67 +1,5 @@
 We need to add a fix for https://www.singular.uni-kl.de:8005/trac/ticket/834
 
-**Tarball**: http://www.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p3.tar.gz
+**Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p4.tar.gz
 
-This is breaking `p_group_cohomology`:
-
-```
-sage -t src/sage/tests/modular_group_cohomology.py
-**********************************************************************
-File "src/sage/tests/modular_group_cohomology.py", line 52, in sage.tests.modular_group_cohomology
-Failed example:
-H.essential_ideal() # optional - p_group_cohomology
-Exception raised:
-Traceback (most recent call last):
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 573, in _run
-self.compile_and_execute(example, compiler, test.globs)
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 983, in compile_and_execute
-exec(compiled, globs)
-File "<doctest sage.tests.modular_group_cohomology[12]>", line 1, in <module>
-H.essential_ideal() # optional - p_group_cohomology
-File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
-File "pGroupCohomology/cohomology.pyx", line 5180, in pGroupCohomology.cohomology.COHO.essential_ideal
-File "pGroupCohomology/cohomology.pyx", line 9760, in pGroupCohomology.cohomology.COHO._lower_bound_depth
-File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
-File "pGroupCohomology/cohomology.pyx", line 9826, in pGroupCohomology.cohomology.COHO.depth
-File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
-File "pGroupCohomology/cohomology.pyx", line 8041, in pGroupCohomology.cohomology.COHO.filter_regular_parameters
-File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
-File "pGroupCohomology/cohomology.pyx", line 8788, in pGroupCohomology.cohomology.COHO.find_small_last_parameter
-File "pGroupCohomology/cohomology.pyx", line 8694, in pGroupCohomology.cohomology.COHO.find_small_last_parameter
-File "pGroupCohomology/cohomology.pyx", line 1691, in pGroupCohomology.cohomology.permanent_result.__call__
-File "pGroupCohomology/cohomology.pyx", line 8380, in pGroupCohomology.cohomology.COHO._get_obvious_parameter
-File "pGroupCohomology/cohomology.pyx", line 6471, in pGroupCohomology.cohomology.COHO.standard_monomials
-File "pGroupCohomology/cohomology.pyx", line 6356, in pGroupCohomology.cohomology.COHO._makeStdMon
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 655, in __call__
-return self._obj.parent().function_call(self._name, [self._obj] + list(args), kwds)
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 576, in function_call
-return self.new(s)
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 345, in new
-return self(code)
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 798, in __call__
-return SingularElement(self, type, x, False)
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 1284, in __init__
-raise_(TypeError, TypeError(x), sys.exc_info()[2])
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 1279, in __init__
-self._name = parent._create(value, type)
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 759, in _create
-self.set(type, name, value)
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 702, in set
-self.eval(cmd)
-File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/interfaces/singular.py", line 660, in eval
-raise SingularError('Singular error:\n%s'%s)
-TypeError: Singular error:
-? ncols(`int`) failed
-? expected ncols(`matrix`)
-? expected ncols(`smatrix`)
-? expected ncols(`ideal`)
-? expected ncols(`module`)
-? expected ncols(`intmat`)
-? expected ncols(`bigintmat`)
-? error occurred in or before STDIN line 5765: ``
-**********************************************************************
-```
-
-(a few more similar error in the same file)
-
-It's not clear to me whether this is a Singular bug or a p_group_cohomology bug.
+This is breaking `p_group_cohomology`, which is why #26001 is a dependency.
``````




---

archive/issue_comments_400166.json:
```json
{
    "body": "Changed dependencies from **#24735 #26001** to **#26001**",
    "created_at": "2018-12-24T15:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400166",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#24735 #26001** to **#26001**



---

archive/issue_events_359082.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-24T15:08:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "title_is": "Upgrade to Singular 4.1.1p4",
    "title_was": "Upgrade to Singular 4.1.1p3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359082"
}
```



---

archive/issue_comments_400167.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nCan you test if it is also breaking the new version of p_group_cohomology (see #26001), which is ready for review?",
    "created_at": "2018-12-29T12:59:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400167",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:29" align="right">comment:29</div>

Can you test if it is also breaking the new version of p_group_cohomology (see #26001), which is ready for review?



---

archive/issue_comments_400168.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@simon-king-jena](#comment:29):\n> Can you test if it is also breaking the new version of p_group_cohomology (see #26001), which is ready for review?\n\nI did test: The upgrade to singular-4.1.1p3 is not problematic with the new version of p_group_cohomology. I cannot tell about p4, of course.\n\nAnyway, some good news for the start of the new year...",
    "created_at": "2019-01-01T19:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400168",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@simon-king-jena](#comment:29):
> Can you test if it is also breaking the new version of p_group_cohomology (see #26001), which is ready for review?

I did test: The upgrade to singular-4.1.1p3 is not problematic with the new version of p_group_cohomology. I cannot tell about p4, of course.

Anyway, some good news for the start of the new year...



---

archive/issue_comments_400169.json:
```json
{
    "body": "Changed dependencies from **#26001** to none",
    "created_at": "2019-01-21T09:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400169",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#26001** to none



---

archive/issue_comments_400170.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n We need to add a fix for https://www.singular.uni-kl.de:8005/trac/ticket/834\n \n **Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p4.tar.gz\n-\n-This is breaking `p_group_cohomology`, which is why #26001 is a dependency.\n``````\n",
    "created_at": "2019-01-21T09:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400170",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 We need to add a fix for https://www.singular.uni-kl.de:8005/trac/ticket/834
 
 **Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p4.tar.gz
-
-This is breaking `p_group_cohomology`, which is why #26001 is a dependency.
``````




---

archive/issue_comments_400171.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, but not in a stable release.** to none",
    "created_at": "2019-01-21T09:45:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400171",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Fixed upstream, but not in a stable release.** to none



---

archive/issue_comments_400172.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-We need to add a fix for https://www.singular.uni-kl.de:8005/trac/ticket/834\n-\n **Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p4.tar.gz\n``````\n",
    "created_at": "2019-01-21T09:45:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400172",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-We need to add a fix for https://www.singular.uni-kl.de:8005/trac/ticket/834
-
 **Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p4.tar.gz
``````




---

archive/issue_comments_400173.json:
```json
{
    "body": "Changed commit from **[83c8ac2](https://github.com/sagemath/sagetrac-mirror/commit/83c8ac26d40bfa342d4fe37d43ec9db84e1055ba)** to **[4bd32fe](https://github.com/sagemath/sagetrac-mirror/commit/4bd32fe685b58802a56a8a6cb4e75b9abe02e94b)**",
    "created_at": "2019-01-21T11:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400173",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[83c8ac2](https://github.com/sagemath/sagetrac-mirror/commit/83c8ac26d40bfa342d4fe37d43ec9db84e1055ba)** to **[4bd32fe](https://github.com/sagemath/sagetrac-mirror/commit/4bd32fe685b58802a56a8a6cb4e75b9abe02e94b)**



---

archive/issue_comments_400174.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bd32fe685b58802a56a8a6cb4e75b9abe02e94b\">4bd32fe</a></td><td><code>Upgrade to Singular 4.1.1p4</code></td></tr></table>\n",
    "created_at": "2019-01-21T11:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400174",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bd32fe685b58802a56a8a6cb4e75b9abe02e94b">4bd32fe</a></td><td><code>Upgrade to Singular 4.1.1p4</code></td></tr></table>




---

archive/issue_comments_400175.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThis version compiles, but leads to doctest failures, in particular\n\n```\nsage -t src/sage/rings/quotient_ring.py\n**********************************************************************\nFile \"src/sage/rings/quotient_ring.py\", line 89, in sage.rings.quotient_ring\nFailed example:\n    Q3 = F.quo(F*[F.prod(m) for m in product(F.gens(), repeat=3)]*F)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1086, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.quotient_ring[20]>\", line 1, in <module>\n        Q3 = F.quo(F*[F.prod(m) for m in product(F.gens(), repeat=Integer(3))]*F)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/categories/monoids.py\", line 158, in prod\n        return prod(args, self.one())\n      File \"sage/misc/misc_c.pyx\", line 144, in sage.misc.misc_c.prod (build/cythonized/sage/misc/misc_c.c:2570)\n        prod = balanced_list_prod(x, 0, n, recursion_cutoff)\n      File \"sage/misc/misc_c.pyx\", line 180, in sage.misc.misc_c.balanced_list_prod (build/cythonized/sage/misc/misc_c.c:2706)\n        prod *= <object>PySequence_Fast_GET_ITEM(L, k)\n      File \"sage/structure/element.pyx\", line 1517, in sage.structure.element.Element.__mul__ (build/cythonized/sage/structure/element.c:12023)\n        return (<Element>left)._mul_(right)\n      File \"sage/algebras/letterplace/free_algebra_element_letterplace.pyx\", line 604, in sage.algebras.letterplace.free_algebra_element_letterplace.FreeAlgebraElement_letterplace._mul_ (build/cythonized/sage/algebras/letterplace/free_algebra_element_letterplace.cpp:9525)\n        rshift = singular_system(\"stest\",right._poly,left._poly.degree(),A._degbound,A.__ngens, ring=A._current_ring)\n      File \"sage/libs/singular/function.pyx\", line 1330, in sage.libs.singular.function.SingularFunction.__call__ (build/cythonized/sage/libs/singular/function.cpp:15057)\n        return call_function(self, args, ring, interruptible, attributes)\n      File \"sage/libs/singular/function.pyx\", line 1528, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:17033)\n        raise RuntimeError(\"error in Singular function call %r:\\n%s\" %\n    RuntimeError: error in Singular function call 'system':\n    wrong length of parameters(4), expected `poly`,`int`\n**********************************************************************\n```",
    "created_at": "2019-01-21T11:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400175",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

This version compiles, but leads to doctest failures, in particular

```
sage -t src/sage/rings/quotient_ring.py
**********************************************************************
File "src/sage/rings/quotient_ring.py", line 89, in sage.rings.quotient_ring
Failed example:
    Q3 = F.quo(F*[F.prod(m) for m in product(F.gens(), repeat=3)]*F)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1086, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.quotient_ring[20]>", line 1, in <module>
        Q3 = F.quo(F*[F.prod(m) for m in product(F.gens(), repeat=Integer(3))]*F)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/categories/monoids.py", line 158, in prod
        return prod(args, self.one())
      File "sage/misc/misc_c.pyx", line 144, in sage.misc.misc_c.prod (build/cythonized/sage/misc/misc_c.c:2570)
        prod = balanced_list_prod(x, 0, n, recursion_cutoff)
      File "sage/misc/misc_c.pyx", line 180, in sage.misc.misc_c.balanced_list_prod (build/cythonized/sage/misc/misc_c.c:2706)
        prod *= <object>PySequence_Fast_GET_ITEM(L, k)
      File "sage/structure/element.pyx", line 1517, in sage.structure.element.Element.__mul__ (build/cythonized/sage/structure/element.c:12023)
        return (<Element>left)._mul_(right)
      File "sage/algebras/letterplace/free_algebra_element_letterplace.pyx", line 604, in sage.algebras.letterplace.free_algebra_element_letterplace.FreeAlgebraElement_letterplace._mul_ (build/cythonized/sage/algebras/letterplace/free_algebra_element_letterplace.cpp:9525)
        rshift = singular_system("stest",right._poly,left._poly.degree(),A._degbound,A.__ngens, ring=A._current_ring)
      File "sage/libs/singular/function.pyx", line 1330, in sage.libs.singular.function.SingularFunction.__call__ (build/cythonized/sage/libs/singular/function.cpp:15057)
        return call_function(self, args, ring, interruptible, attributes)
      File "sage/libs/singular/function.pyx", line 1528, in sage.libs.singular.function.call_function (build/cythonized/sage/libs/singular/function.cpp:17033)
        raise RuntimeError("error in Singular function call %r:\n%s" %
    RuntimeError: error in Singular function call 'system':
    wrong length of parameters(4), expected `poly`,`int`
**********************************************************************
```



---

archive/issue_comments_400176.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nYes, see [comment:25](#comment:25). The letterplace algebra implementation has been completely rewritten in Singular, in particular \"stest\" can only be used with rings that are explicitely declared as letterplace. In the long term free_algebra_letterplace.pyx should be refactored to use the new implementation, but a faster short-term solution could be to implement an internal variable shifting method in Sage itself (to replace \"stest\" usage).",
    "created_at": "2019-01-21T11:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400176",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:35" align="right">comment:35</div>

Yes, see [comment:25](#comment:25). The letterplace algebra implementation has been completely rewritten in Singular, in particular "stest" can only be used with rings that are explicitely declared as letterplace. In the long term free_algebra_letterplace.pyx should be refactored to use the new implementation, but a faster short-term solution could be to implement an internal variable shifting method in Sage itself (to replace "stest" usage).



---

archive/issue_comments_400177.json:
```json
{
    "body": "Changed keywords from none to **upgrade, Singular**",
    "created_at": "2019-02-28T11:52:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400177",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **upgrade, Singular**



---

archive/issue_comments_400178.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nIt seems Singular 4-1-2 is out, see the GitHub \"releases\" page and\none official sources directory at uni-kl:\n\n- https://github.com/Singular/Sources/releases\n- https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/\n\nSo far no mention on the Singular home page or download page:\n\n- https://www.singular.uni-kl.de/\n- https://www.singular.uni-kl.de/index.php/singular-download.html\n\nbut I guess they will be updated soon.",
    "created_at": "2019-02-28T11:52:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400178",
    "user": "https://github.com/slel"
}
```

<div id="comment:36" align="right">comment:36</div>

It seems Singular 4-1-2 is out, see the GitHub "releases" page and
one official sources directory at uni-kl:

- https://github.com/Singular/Sources/releases
- https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/

So far no mention on the Singular home page or download page:

- https://www.singular.uni-kl.de/
- https://www.singular.uni-kl.de/index.php/singular-download.html

but I guess they will be updated soon.



---

archive/issue_comments_400179.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nRelevant changes: system(\"stest\") and system(\"freegb\") are no longer a thing. There is a stest function now, but it's marked static so not accessible from outside the library.",
    "created_at": "2019-02-28T16:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400179",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:37" align="right">comment:37</div>

Relevant changes: system("stest") and system("freegb") are no longer a thing. There is a stest function now, but it's marked static so not accessible from outside the library.



---

archive/issue_comments_400180.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@antonio-rojas](#comment:37):\n> Relevant changes: system(\"stest\") and system(\"freegb\") are no longer a thing. There is a stest function now, but it's marked static so not accessible from outside the library.\n\nThat's quite unfortunate. freegb is needed for free commutative algebras in letterplace implementation. I am not sure if stest is needed there, too.\n\nAny replacement for freegb?",
    "created_at": "2019-02-28T16:43:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400180",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@antonio-rojas](#comment:37):
> Relevant changes: system("stest") and system("freegb") are no longer a thing. There is a stest function now, but it's marked static so not accessible from outside the library.

That's quite unfortunate. freegb is needed for free commutative algebras in letterplace implementation. I am not sure if stest is needed there, too.

Any replacement for freegb?



---

archive/issue_comments_400181.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@simon-king-jena](#comment:38):\n> Replying to [@antonio-rojas](#comment:37):\n> > Relevant changes: system(\"stest\") and system(\"freegb\") are no longer a thing. There is a stest function now, but it's marked static so not accessible from outside the library.\n\n> \n> That's quite unfortunate. freegb is needed for free commutative algebras in letterplace implementation. I am not sure if stest is needed there, too.\n> \n> Any replacement for freegb?\n\nLooks like one can simply use std now\nhttps://github.com/Singular/Sources/commit/6a0ad754",
    "created_at": "2019-03-01T08:27:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400181",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@simon-king-jena](#comment:38):
> Replying to [@antonio-rojas](#comment:37):
> > Relevant changes: system("stest") and system("freegb") are no longer a thing. There is a stest function now, but it's marked static so not accessible from outside the library.

> 
> That's quite unfortunate. freegb is needed for free commutative algebras in letterplace implementation. I am not sure if stest is needed there, too.
> 
> Any replacement for freegb?

Looks like one can simply use std now
https://github.com/Singular/Sources/commit/6a0ad754



---

archive/issue_comments_400182.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-**Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p4.tar.gz\n+**Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p1.tar.gz\n``````\n",
    "created_at": "2019-03-01T08:35:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400182",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-**Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-1/singular-4.1.1p4.tar.gz
+**Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p1.tar.gz
``````




---

archive/issue_events_359083.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-03-01T08:35:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "title_is": "Upgrade Singular",
    "title_was": "Upgrade to Singular 4.1.1p4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359083"
}
```



---

archive/issue_comments_400183.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@antonio-rojas](#comment:39):\n> Looks like one can simply use std now\n> https://github.com/Singular/Sources/commit/6a0ad754\n\nIndeed, `std`/`twostd` can be used for this, but one needs to work over a polynomial ring constructed via [`freeAlgebra`](https://www.singular.uni-kl.de/Manual/4-1-2/sing_794.htm), so that certain attributes like the degree bound are set for the computation.\n\nHowever, I do not see how to make the `degrees` option work, as Singular's `freeAlgebra` function does not allow for block orders:\n\n```\nsage: F.<a,b,c> = FreeAlgebra(QQ, implementation='letterplace', degrees=(1,2,3))\nsage: F.commutative_ring().term_order()\nBlock term order with blocks:\n(Degree reverse lexicographic term order of length 3,\n Lexicographic term order of length 1)\n\nsage: from sage.libs.singular.function_factory import ff\nsage: A = ff.freegb__lib.freeAlgebra(F.commutative_ring(), 5)\n...\nRuntimeError: error in Singular function call 'freeAlgebra':\nonly for rings with a global ordering of one block\n```\n\nThis is with Singular 4.1.2p1 (`freeAlgebra` does not exist in the Singular version that is currently in Sage).\n\nThe other failing doctests seem mostly harmless.",
    "created_at": "2020-01-05T21:06:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400183",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@antonio-rojas](#comment:39):
> Looks like one can simply use std now
> https://github.com/Singular/Sources/commit/6a0ad754

Indeed, `std`/`twostd` can be used for this, but one needs to work over a polynomial ring constructed via [`freeAlgebra`](https://www.singular.uni-kl.de/Manual/4-1-2/sing_794.htm), so that certain attributes like the degree bound are set for the computation.

However, I do not see how to make the `degrees` option work, as Singular's `freeAlgebra` function does not allow for block orders:

```
sage: F.<a,b,c> = FreeAlgebra(QQ, implementation='letterplace', degrees=(1,2,3))
sage: F.commutative_ring().term_order()
Block term order with blocks:
(Degree reverse lexicographic term order of length 3,
 Lexicographic term order of length 1)

sage: from sage.libs.singular.function_factory import ff
sage: A = ff.freegb__lib.freeAlgebra(F.commutative_ring(), 5)
...
RuntimeError: error in Singular function call 'freeAlgebra':
only for rings with a global ordering of one block
```

This is with Singular 4.1.2p1 (`freeAlgebra` does not exist in the Singular version that is currently in Sage).

The other failing doctests seem mostly harmless.



---

archive/issue_events_359084.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-01-05T21:11:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359084"
}
```



---

archive/issue_events_359085.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-01-05T21:11:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359085"
}
```



---

archive/issue_comments_400184.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nWith Singular 4.1.2p2, building Pynac fails with errors like this:\n\n```\nIn file included from /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factory.h:26,\n                 from mpoly-singular.cpp:27:\n/amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factoryconf.h:21:10: fatal error: factory/globaldefs.h: No such file or directory\n #include \"factory/globaldefs.h\"\n          ^~~~~~~~~~~~~~~~~~~~~~\n```\n\nI do not know how to resolve this.",
    "created_at": "2020-01-05T21:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400184",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:43" align="right">comment:43</div>

With Singular 4.1.2p2, building Pynac fails with errors like this:

```
In file included from /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factory.h:26,
                 from mpoly-singular.cpp:27:
/amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factoryconf.h:21:10: fatal error: factory/globaldefs.h: No such file or directory
 #include "factory/globaldefs.h"
          ^~~~~~~~~~~~~~~~~~~~~~
```

I do not know how to resolve this.



---

archive/issue_comments_400185.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-**Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p1.tar.gz\n+**Tarball 4.1.2p1**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p1.tar.gz\n+\n+**Tarball 4.1.2p2**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p2.tar.gz\n+\n``````\n",
    "created_at": "2020-01-05T21:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400185",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-**Tarball**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p1.tar.gz
+**Tarball 4.1.2p1**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p1.tar.gz
+
+**Tarball 4.1.2p2**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p2.tar.gz
+
``````




---

archive/issue_comments_400186.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@mwageringel](#comment:43):\n> With Singular 4.1.2p2, building Pynac fails with errors like this:\n> \n> ```\n> In file included from /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factory.h:26,\n>                  from mpoly-singular.cpp:27:\n> /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factoryconf.h:21:10: fatal error: factory/globaldefs.h: No such file or directory\n>  #include \"factory/globaldefs.h\"\n>           ^~~~~~~~~~~~~~~~~~~~~~\n> ```\n> \n> I do not know how to resolve this.\n\nDoes the file exists? If not it looks like a bug in singular's installation. I'll have a look locally when I can.",
    "created_at": "2020-01-05T21:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400186",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@mwageringel](#comment:43):
> With Singular 4.1.2p2, building Pynac fails with errors like this:
> 
> ```
> In file included from /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factory.h:26,
>                  from mpoly-singular.cpp:27:
> /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factoryconf.h:21:10: fatal error: factory/globaldefs.h: No such file or directory
>  #include "factory/globaldefs.h"
>           ^~~~~~~~~~~~~~~~~~~~~~
> ```
> 
> I do not know how to resolve this.

Does the file exists? If not it looks like a bug in singular's installation. I'll have a look locally when I can.



---

archive/issue_comments_400187.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@mwageringel](#comment:43):\n> With Singular 4.1.2p2, building Pynac fails with errors like this:\n> \n> ```\n> In file included from /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factory.h:26,\n>                  from mpoly-singular.cpp:27:\n> /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factoryconf.h:21:10: fatal error: factory/globaldefs.h: No such file or directory\n>  #include \"factory/globaldefs.h\"\n>           ^~~~~~~~~~~~~~~~~~~~~~\n> ```\n> \n> I do not know how to resolve this.\n\nThis is a bug in singular install: https://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages/singular#n42",
    "created_at": "2020-01-05T21:25:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400187",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@mwageringel](#comment:43):
> With Singular 4.1.2p2, building Pynac fails with errors like this:
> 
> ```
> In file included from /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factory.h:26,
>                  from mpoly-singular.cpp:27:
> /amd/compute/mwagerin/git/sage_compute/python3/local/include/factory/factoryconf.h:21:10: fatal error: factory/globaldefs.h: No such file or directory
>  #include "factory/globaldefs.h"
>           ^~~~~~~~~~~~~~~~~~~~~~
> ```
> 
> I do not know how to resolve this.

This is a bug in singular install: https://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages/singular#n42



---

archive/issue_comments_400188.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nDid you fill a ticket upstream?",
    "created_at": "2020-01-05T21:39:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400188",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:46" align="right">comment:46</div>

Did you fill a ticket upstream?



---

archive/issue_comments_400189.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@kiwifb](#comment:46):\n> Did you fill a ticket upstream?\n\nNo - i'm tired of filing singular bug reports just to have them ignored.",
    "created_at": "2020-01-05T21:40:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400189",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@kiwifb](#comment:46):
> Did you fill a ticket upstream?

No - i'm tired of filing singular bug reports just to have them ignored.



---

archive/issue_comments_400190.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@antonio-rojas](#comment:45):\n> This is a bug in singular install: https://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages/singular#n42\n\nThank you. That works.",
    "created_at": "2020-01-05T21:49:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400190",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@antonio-rojas](#comment:45):
> This is a bug in singular install: https://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages/singular#n42

Thank you. That works.



---

archive/issue_comments_400191.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@antonio-rojas](#comment:47):\n> Replying to [@kiwifb](#comment:46):\n> > Did you fill a ticket upstream?\n\n> \n> No - i'm tired of filing singular bug reports just to have them ignored.\n\nSeems to be fixed in git master",
    "created_at": "2020-01-05T21:55:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400191",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@antonio-rojas](#comment:47):
> Replying to [@kiwifb](#comment:46):
> > Did you fill a ticket upstream?

> 
> No - i'm tired of filing singular bug reports just to have them ignored.

Seems to be fixed in git master



---

archive/issue_comments_400192.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@antonio-rojas](#comment:49):\n> Replying to [@antonio-rojas](#comment:47):\n> > Replying to [@kiwifb](#comment:46):\n> > > Did you fill a ticket upstream?\n\n> > \n> > No - i'm tired of filing singular bug reports just to have them ignored.\n\n> \n> Seems to be fixed in git master\n\nIf you are thinking of https://github.com/Singular/Sources/commit/557b878dd8c840afb5ec95de122ba27a0ec99926 it is in my source for 4.1.2p2 and it obviously doesn't help. Are you thinking of another commit?",
    "created_at": "2020-01-05T21:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400192",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@antonio-rojas](#comment:49):
> Replying to [@antonio-rojas](#comment:47):
> > Replying to [@kiwifb](#comment:46):
> > > Did you fill a ticket upstream?

> > 
> > No - i'm tired of filing singular bug reports just to have them ignored.

> 
> Seems to be fixed in git master

If you are thinking of https://github.com/Singular/Sources/commit/557b878dd8c840afb5ec95de122ba27a0ec99926 it is in my source for 4.1.2p2 and it obviously doesn't help. Are you thinking of another commit?



---

archive/issue_comments_400193.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@kiwifb](#comment:50):\n> Replying to [@antonio-rojas](#comment:49):\n> > Replying to [@antonio-rojas](#comment:47):\n> > > Replying to [@kiwifb](#comment:46):\n> > > > Did you fill a ticket upstream?\n\n> > > \n> > > No - i'm tired of filing singular bug reports just to have them ignored.\n\n> > \n> > Seems to be fixed in git master\n\n> \n> If you are thinking of https://github.com/Singular/Sources/commit/557b878dd8c840afb5ec95de122ba27a0ec99926 it is in my source for 4.1.2p2 and it obviously doesn't help. Are you thinking of another commit?\n\nI don't know which commit fixed it, I just compiled git master and checked that the header is installed.",
    "created_at": "2020-01-05T21:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400193",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@kiwifb](#comment:50):
> Replying to [@antonio-rojas](#comment:49):
> > Replying to [@antonio-rojas](#comment:47):
> > > Replying to [@kiwifb](#comment:46):
> > > > Did you fill a ticket upstream?

> > > 
> > > No - i'm tired of filing singular bug reports just to have them ignored.

> > 
> > Seems to be fixed in git master

> 
> If you are thinking of https://github.com/Singular/Sources/commit/557b878dd8c840afb5ec95de122ba27a0ec99926 it is in my source for 4.1.2p2 and it obviously doesn't help. Are you thinking of another commit?

I don't know which commit fixed it, I just compiled git master and checked that the header is installed.



---

archive/issue_comments_400194.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nAll right it is actually fixed in the next commit https://github.com/Singular/Sources/commit/10ccdf4ec3a17fc1e6b47d06f9abf4565ae63341\n\nkind of sad.",
    "created_at": "2020-01-05T22:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400194",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:52" align="right">comment:52</div>

All right it is actually fixed in the next commit https://github.com/Singular/Sources/commit/10ccdf4ec3a17fc1e6b47d06f9abf4565ae63341

kind of sad.



---

archive/issue_comments_400195.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nI have checked, that commit is all you need to get this particular header.",
    "created_at": "2020-01-05T22:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400195",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:53" align="right">comment:53</div>

I have checked, that commit is all you need to get this particular header.



---

archive/issue_comments_400196.json:
```json
{
    "body": "Work Issues: **update letterplace algebras**",
    "created_at": "2020-01-10T22:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400196",
    "user": "https://github.com/mwageringel"
}
```

Work Issues: **update letterplace algebras**



---

archive/issue_comments_400197.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nRegarding the `degrees` option of letterplace algebras, Singular should support weighted degree orders naturally now, so Sage's workaround using slack variables should not be necessary anymore. However, I have difficulties to reproduce the old results with Singular's new implementation. The example from `letterplace.pyx`:\n\n```\nsage: F.<x,y,z> = FreeAlgebra(QQ, implementation='letterplace', degrees=[1,2,3])\nsage: I = F * [x*y+z-y*x, x*y*z-x^6+y^3] * F\nsage: I.groebner_basis(Infinity)\n...\nsage: F.degbound()\n22\n```\n\nThe maximum degree was 22, so the following Singular code should compute the same, as far as I understand, but it fails with an error:\n\n```\nLIB \"freegb.lib\";\nring r = 0,(x,y,z),wp(1,2,3);\ndef R = freeAlgebra(r, 22);\nsetring R;\nideal I = x*y+z-y*x, x*y*z-x^6+y^3;\nideal J = twostd(I);\n//   ? degree bound of Letterplace ring is 22, but at least 23 is needed for this multiplication\n```\n\nIs this a bug in Singular? I think Singular should make sure not to go beyond the degree bound in this computation.",
    "created_at": "2020-01-10T22:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400197",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:54" align="right">comment:54</div>

Regarding the `degrees` option of letterplace algebras, Singular should support weighted degree orders naturally now, so Sage's workaround using slack variables should not be necessary anymore. However, I have difficulties to reproduce the old results with Singular's new implementation. The example from `letterplace.pyx`:

```
sage: F.<x,y,z> = FreeAlgebra(QQ, implementation='letterplace', degrees=[1,2,3])
sage: I = F * [x*y+z-y*x, x*y*z-x^6+y^3] * F
sage: I.groebner_basis(Infinity)
...
sage: F.degbound()
22
```

The maximum degree was 22, so the following Singular code should compute the same, as far as I understand, but it fails with an error:

```
LIB "freegb.lib";
ring r = 0,(x,y,z),wp(1,2,3);
def R = freeAlgebra(r, 22);
setring R;
ideal I = x*y+z-y*x, x*y*z-x^6+y^3;
ideal J = twostd(I);
//   ? degree bound of Letterplace ring is 22, but at least 23 is needed for this multiplication
```

Is this a bug in Singular? I think Singular should make sure not to go beyond the degree bound in this computation.



---

archive/issue_comments_400198.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nI have posted this problem to the [Singular forums](https://www.singular.uni-kl.de/forum/viewtopic.php?f=10&t=2900&start=0).",
    "created_at": "2020-01-16T08:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400198",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:55" align="right">comment:55</div>

I have posted this problem to the [Singular forums](https://www.singular.uni-kl.de/forum/viewtopic.php?f=10&t=2900&start=0).



---

archive/issue_comments_400199.json:
```json
{
    "body": "Changed commit from **[4bd32fe](https://github.com/sagemath/sagetrac-mirror/commit/4bd32fe685b58802a56a8a6cb4e75b9abe02e94b)** to **[0c07123](https://github.com/sagemath/sagetrac-mirror/commit/0c071234ae99343c40735b17280cdf5d0b3a2d6d)**",
    "created_at": "2020-01-19T21:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400199",
    "user": "https://github.com/mwageringel"
}
```

Changed commit from **[4bd32fe](https://github.com/sagemath/sagetrac-mirror/commit/4bd32fe685b58802a56a8a6cb4e75b9abe02e94b)** to **[0c07123](https://github.com/sagemath/sagetrac-mirror/commit/0c071234ae99343c40735b17280cdf5d0b3a2d6d)**



---

archive/issue_comments_400200.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nViktor Levandovskyy has sent a response to the problem, which was very helpful. The ordering I was trying to use is not actually supported. Also, some of the orderings Sage was using in the letterplace computations were not actually supported and, apparently, were silently ignored by Singular. As a consequence, results obtained with the new Letterplace API (which now supports some of the orders) may be a bit different than before. In the case of non-standard `degrees`, a `deglex` ordering seems to give similar results as before.\n\nHere is a tentative branch that makes Sage's letterplace functionality work with Singular 4.1.2p1. I followed Antonio's suggestion from [comment:35](#comment:35) and his [downstream patch](https://aur.archlinux.org/cgit/aur.git/tree/sagemath-singular-4.1.2.patch?h=sagemath-git) about implementing a variable shifting method, and implemented a workaround to call Singular's `twostd` with a letterplace polynomial ring constructed via `freeAlgebra`. Of course, this should only be seen as a short-term solution, to maintain backward compatibility where possible.\n\n---\n\nThere is one remaining problem for upgrading to Singular 4.1.2p1. The tests in `src/sage/rings/polynomial/plural.pyx` sometimes produce the segmentation fault reported in [comment:22](#comment:22), which I do not know how to resolve. For me, the segfault usually occurs during `make ptestlong`, but not always when testing the file standalone.\n\nAny help with this is appreciated.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ff739083a982e73a3aeb2a1fe5496835adbeccc\">0ff7390</a></td><td><code>25993: upgrade to singular 4.1.2p1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71c871fb917d6ac0caa48e8e2414340473b9eea9\">71c871f</a></td><td><code>25993: rename polynomial shift method to _cycle</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c071234ae99343c40735b17280cdf5d0b3a2d6d\">0c07123</a></td><td><code>25993: call new Singular API for letterplace algebras</code></td></tr></table>\n",
    "created_at": "2020-01-19T21:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400200",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:56" align="right">comment:56</div>

Viktor Levandovskyy has sent a response to the problem, which was very helpful. The ordering I was trying to use is not actually supported. Also, some of the orderings Sage was using in the letterplace computations were not actually supported and, apparently, were silently ignored by Singular. As a consequence, results obtained with the new Letterplace API (which now supports some of the orders) may be a bit different than before. In the case of non-standard `degrees`, a `deglex` ordering seems to give similar results as before.

Here is a tentative branch that makes Sage's letterplace functionality work with Singular 4.1.2p1. I followed Antonio's suggestion from [comment:35](#comment:35) and his [downstream patch](https://aur.archlinux.org/cgit/aur.git/tree/sagemath-singular-4.1.2.patch?h=sagemath-git) about implementing a variable shifting method, and implemented a workaround to call Singular's `twostd` with a letterplace polynomial ring constructed via `freeAlgebra`. Of course, this should only be seen as a short-term solution, to maintain backward compatibility where possible.

---

There is one remaining problem for upgrading to Singular 4.1.2p1. The tests in `src/sage/rings/polynomial/plural.pyx` sometimes produce the segmentation fault reported in [comment:22](#comment:22), which I do not know how to resolve. For me, the segfault usually occurs during `make ptestlong`, but not always when testing the file standalone.

Any help with this is appreciated.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ff739083a982e73a3aeb2a1fe5496835adbeccc">0ff7390</a></td><td><code>25993: upgrade to singular 4.1.2p1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71c871fb917d6ac0caa48e8e2414340473b9eea9">71c871f</a></td><td><code>25993: rename polynomial shift method to _cycle</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c071234ae99343c40735b17280cdf5d0b3a2d6d">0c07123</a></td><td><code>25993: call new Singular API for letterplace algebras</code></td></tr></table>




---

archive/issue_comments_400201.json:
```json
{
    "body": "Changed work issues from **update letterplace algebras** to **segfault in plural.pyx**",
    "created_at": "2020-01-19T21:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400201",
    "user": "https://github.com/mwageringel"
}
```

Changed work issues from **update letterplace algebras** to **segfault in plural.pyx**



---

archive/issue_comments_400202.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/25993](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/25993)** to **[u/gh-mwageringel/singular412p1](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/singular412p1)**",
    "created_at": "2020-01-19T21:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400202",
    "user": "https://github.com/mwageringel"
}
```

Changed branch from **[u/jdemeyer/ticket/25993](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/25993)** to **[u/gh-mwageringel/singular412p1](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/singular412p1)**



---

archive/issue_comments_400203.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nGood news, the plural.pyx segfault seems fixed in 4.1.2.p3. There are a few additional test failures, but they look mostly harmless, caused by doc output changes and different generators for some ideals. There's also a small regression in the pc file https://www.singular.uni-kl.de:8005/trac/ticket/861",
    "created_at": "2020-02-15T08:51:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400203",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:57" align="right">comment:57</div>

Good news, the plural.pyx segfault seems fixed in 4.1.2.p3. There are a few additional test failures, but they look mostly harmless, caused by doc output changes and different generators for some ideals. There's also a small regression in the pc file https://www.singular.uni-kl.de:8005/trac/ticket/861



---

archive/issue_comments_400204.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nfails its own testsuite on gentoo for stupid reason\n\n```\nmake  check-TESTS\nmake[4]: Entering directory '/dev/shm/portage/sci-mathematics/singular-4.1.2_p3/work/singular-4.1.2/libpolys/polys'\nmake[5]: Entering directory '/dev/shm/portage/sci-mathematics/singular-4.1.2_p3/work/singular-4.1.2/libpolys/polys'\n../../build-aux/test-driver: line 107: 707661 Segmentation fault      (core dumped) \"$@\" > $log_file 2>&1\nFAIL: test\n============================================================================\nTestsuite summary for libpolys 4.1.2\n============================================================================\n# TOTAL: 1\n# PASS:  0\n# SKIP:  0\n# XFAIL: 0\n# FAIL:  1\n# XPASS: 0\n# ERROR: 0\n============================================================================\nSee polys/test-suite.log\n```\nAnd when I look at the core dump\n\n```\n#0  0x00007f272947b23a in p_Add_q__FieldGeneral_LengthOne_OrdPomog () from /usr/libexec/singular/MOD/p_Procs_FieldGeneral.so\n#1  0x00005583ef7743b8 in TestSum(ip_sring*, int) ()\n#2  0x00005583ef775c03 in Test(ip_sring*) ()\n#3  0x00005583ef77618f in test_Z13_t_GF() ()\n#4  0x00005583ef77236f in main ()\n```\nthe stupid thing tries to load a plugin from a previous install rather than the one it just compiled.\n\nTests pass on a machine with singular removed but it is annoying.",
    "created_at": "2020-02-16T22:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400204",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:58" align="right">comment:58</div>

fails its own testsuite on gentoo for stupid reason

```
make  check-TESTS
make[4]: Entering directory '/dev/shm/portage/sci-mathematics/singular-4.1.2_p3/work/singular-4.1.2/libpolys/polys'
make[5]: Entering directory '/dev/shm/portage/sci-mathematics/singular-4.1.2_p3/work/singular-4.1.2/libpolys/polys'
../../build-aux/test-driver: line 107: 707661 Segmentation fault      (core dumped) "$@" > $log_file 2>&1
FAIL: test
============================================================================
Testsuite summary for libpolys 4.1.2
============================================================================
# TOTAL: 1
# PASS:  0
# SKIP:  0
# XFAIL: 0
# FAIL:  1
# XPASS: 0
# ERROR: 0
============================================================================
See polys/test-suite.log
```
And when I look at the core dump

```
#0  0x00007f272947b23a in p_Add_q__FieldGeneral_LengthOne_OrdPomog () from /usr/libexec/singular/MOD/p_Procs_FieldGeneral.so
#1  0x00005583ef7743b8 in TestSum(ip_sring*, int) ()
#2  0x00005583ef775c03 in Test(ip_sring*) ()
#3  0x00005583ef77618f in test_Z13_t_GF() ()
#4  0x00005583ef77236f in main ()
```
the stupid thing tries to load a plugin from a previous install rather than the one it just compiled.

Tests pass on a machine with singular removed but it is annoying.



---

archive/issue_comments_400205.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\n4.1.2p4 has just been released with a fix for the pkgconfig issue",
    "created_at": "2020-02-17T10:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400205",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:59" align="right">comment:59</div>

4.1.2p4 has just been released with a fix for the pkgconfig issue



---

archive/issue_comments_400206.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nMy test suite issue is now https://github.com/Singular/Sources/issues/980 but if everything else can be worked out we should proceed. I'll add that `flint` detection is stinky and poorly thought out. It kinds of works but leads to messy warnings in the linker in some systems.",
    "created_at": "2020-02-18T20:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400206",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:60" align="right">comment:60</div>

My test suite issue is now https://github.com/Singular/Sources/issues/980 but if everything else can be worked out we should proceed. I'll add that `flint` detection is stinky and poorly thought out. It kinds of works but leads to messy warnings in the linker in some systems.



---

archive/issue_comments_400207.json:
```json
{
    "body": "Changed commit from **[0c07123](https://github.com/sagemath/sagetrac-mirror/commit/0c071234ae99343c40735b17280cdf5d0b3a2d6d)** to **[9dbc2ba](https://github.com/sagemath/sagetrac-mirror/commit/9dbc2badedcda7046e37bc5adc2a4768f60318e6)**",
    "created_at": "2020-02-19T18:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400207",
    "user": "https://github.com/mwageringel"
}
```

Changed commit from **[0c07123](https://github.com/sagemath/sagetrac-mirror/commit/0c071234ae99343c40735b17280cdf5d0b3a2d6d)** to **[9dbc2ba](https://github.com/sagemath/sagetrac-mirror/commit/9dbc2badedcda7046e37bc5adc2a4768f60318e6)**



---

archive/issue_comments_400208.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nI have updated the branch to fix the doctests for Singular 4.1.2p4. The changes are mostly harmless:\n\n- sign changes in the representatives of fraction field elements\n\n- minors now include zero elements (which agrees with the [Singular documentation](https://www.singular.uni-kl.de/Manual/4-1-2/sing_298.htm))\n\n- rational points are returned in a different order\n\n- intersection of ideals does not return a Gr\u00f6bner basis anymore: Neither Sage nor [Singular](https://www.singular.uni-kl.de/Manual/4-1-2/sing_271.htm) clearly state that the result should be a Gr\u00f6bner basis, so this change seems fine, but it might be worth checking whether this change was intentional.\n \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3af226f5951c8e48800bb69401bbd37efed55ac5\">3af226f</a></td><td><code>Merge tag '9.1.beta4' into #25993</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9dbc2badedcda7046e37bc5adc2a4768f60318e6\">9dbc2ba</a></td><td><code>25993: upgrade to singular 4.1.2p4</code></td></tr></table>\n",
    "created_at": "2020-02-19T18:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400208",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:61" align="right">comment:61</div>

I have updated the branch to fix the doctests for Singular 4.1.2p4. The changes are mostly harmless:

- sign changes in the representatives of fraction field elements

- minors now include zero elements (which agrees with the [Singular documentation](https://www.singular.uni-kl.de/Manual/4-1-2/sing_298.htm))

- rational points are returned in a different order

- intersection of ideals does not return a Grbner basis anymore: Neither Sage nor [Singular](https://www.singular.uni-kl.de/Manual/4-1-2/sing_271.htm) clearly state that the result should be a Grbner basis, so this change seems fine, but it might be worth checking whether this change was intentional.
 
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3af226f5951c8e48800bb69401bbd37efed55ac5">3af226f</a></td><td><code>Merge tag '9.1.beta4' into #25993</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9dbc2badedcda7046e37bc5adc2a4768f60318e6">9dbc2ba</a></td><td><code>25993: upgrade to singular 4.1.2p4</code></td></tr></table>




---

archive/issue_comments_400209.json:
```json
{
    "body": "Changed branch from **[u/gh-mwageringel/singular412p1](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/singular412p1)** to **[u/gh-mwageringel/singular412p4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/singular412p4)**",
    "created_at": "2020-02-19T18:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400209",
    "user": "https://github.com/mwageringel"
}
```

Changed branch from **[u/gh-mwageringel/singular412p1](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/singular412p1)** to **[u/gh-mwageringel/singular412p4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/singular412p4)**



---

archive/issue_comments_400210.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,2 @@\n-**Tarball 4.1.2p1**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p1.tar.gz\n+**Tarball 4.1.2p4**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p4.tar.gz\n \n-**Tarball 4.1.2p2**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p2.tar.gz\n-\n``````\n",
    "created_at": "2020-02-19T18:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400210",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,2 @@
-**Tarball 4.1.2p1**: https://service.mathematik.uni-kl.de/ftp/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p1.tar.gz
+**Tarball 4.1.2p4**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p4.tar.gz
 
-**Tarball 4.1.2p2**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p2.tar.gz
-
``````




---

archive/issue_comments_400211.json:
```json
{
    "body": "Changed work issues from **segfault in plural.pyx** to none",
    "created_at": "2020-02-19T18:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400211",
    "user": "https://github.com/mwageringel"
}
```

Changed work issues from **segfault in plural.pyx** to none



---

archive/issue_comments_400212.json:
```json
{
    "body": "Work Issues: **failing doctests in asymptotics_multivariate_generating_functions.py**",
    "created_at": "2020-02-19T18:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400212",
    "user": "https://github.com/mwageringel"
}
```

Work Issues: **failing doctests in asymptotics_multivariate_generating_functions.py**



---

archive/issue_comments_400213.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nThe only remaining failing doctests are in `asymptotics_multivariate_generating_functions.py`. It would be nice if the authors or anyone familiar with asymptotics could take a look.\n\nSome of these are caused by different representatives being chosen modulo an ideal, which should be fine. However, the relative error does not get small anymore which suggests that there might be a bug on the Sage side.\n\n```\nFile \"src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\", line 1576, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?\nFailed example:\n    decomp = F.asymptotic_decomposition(alpha); decomp\nExpected:\n    (0, []) + (-3/2*r*(1/y + 1) - 1/2/y - 1/2, [(x*y + x + y - 1, 1)])\nGot:\n    (0, []) + (2*r*(1/x + 1) + 1/2/x - 1/2, [(x*y + x + y - 1, 1)])\n**********************************************************************\nFile \"src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\", line 1585, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?\nFailed example:\n    asy\nExpected:\n    (1/6000*(3600*sqrt(5)*sqrt(3)*sqrt(2)*sqrt(r)/sqrt(pi)\n      + 463*sqrt(5)*sqrt(3)*sqrt(2)/(sqrt(pi)*sqrt(r)))*432^r,\n     432,\n     3/5*sqrt(5)*sqrt(3)*sqrt(2)*sqrt(r)/sqrt(pi)\n      + 463/6000*sqrt(5)*sqrt(3)*sqrt(2)/(sqrt(pi)*sqrt(r)))\nGot:\n    (-1/6000*(3600*sqrt(5)*sqrt(3)*sqrt(2)*sqrt(r)/sqrt(pi) - 137*sqrt(5)*sqrt(3)*sqrt(2)/(sqrt(pi)*sqrt(r)))*432^r,\n     432,\n     -3/5*sqrt(5)*sqrt(3)*sqrt(2)*sqrt(r)/sqrt(pi) + 137/6000*sqrt(5)*sqrt(3)*sqrt(2)/(sqrt(pi)*sqrt(r)))\n**********************************************************************\nFile \"src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\", line 1591, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?\nFailed example:\n    F.relative_error(asy[0], alpha, [1, 2, 4, 8, 16], asy[1])  # abs tol 1e-10\nExpected:\n    [((4, 3), 2.083333333, [2.092576110], [-0.004436533009]),\n     ((8, 6), 2.787374614, [2.790732875], [-0.001204811281]),\n     ((16, 12), 3.826259447, [3.827462310], [-0.0003143703383]),\n     ((32, 24), 5.328112821, [5.328540787], [-0.00008032230388]),\n     ((64, 48), 7.475927885, [7.476079664], [-0.00002030232879])]\nGot:\n    [((4, 3), 2.083333333, [-1.783556749], [1.856107239]),\n     ((8, 6), 2.787374614, [-2.572223188], [1.922812160]),\n     ((16, 12), 3.826259447, [-3.672952629], [1.959932979]),\n     ((32, 24), 5.328112821, [-5.219285944], [1.979574968]),\n     ((64, 48), 7.475927885, [-7.398824824], [1.989686489])]\nTolerance exceeded in 10 of 25:\n    2.092576110 vs -1.783556749, tolerance 4e0 > 1e-10\n    -0.004436533009 vs 1.856107239, tolerance 2e0 > 1e-10\n    2.790732875 vs -2.572223188, tolerance 6e0 > 1e-10\n    -0.001204811281 vs 1.922812160, tolerance 2e0 > 1e-10\n    3.827462310 vs -3.672952629, tolerance 8e0 > 1e-10\n    -0.0003143703383 vs 1.959932979, tolerance 2e0 > 1e-10\n    5.328540787 vs -5.219285944, tolerance 2e1 > 1e-10\n    -0.00008032230388 vs 1.979574968, tolerance 2e0 > 1e-10\n    7.476079664 vs -7.398824824, tolerance 2e1 > 1e-10\n    -0.00002030232879 vs 1.989686489, tolerance 2e0 > 1e-10\n**********************************************************************\nFile \"src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\", line 1609, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?\nFailed example:\n    decomp = F.asymptotic_decomposition(alpha); decomp\nExpected:\n    (0, []) +\n    (-16*r*(3/y - 4/z) - 16/y + 32/z,\n     [(x + 2*y + z - 4, 1), (2*x + y + z - 4, 1)])\nGot:\n    (0, []) + (-16*r*(3/x - 2/z) - 16/x + 16/z, [(x + 2*y + z - 4, 1), (2*x + y + z - 4, 1)])\n**********************************************************************\nFile \"src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\", line 1620, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?\nFailed example:\n    asy # long time\nExpected:\n    (4/3*sqrt(3)*sqrt(r)/sqrt(pi) + 47/216*sqrt(3)/(sqrt(pi)*sqrt(r)),\n     1, 4/3*sqrt(3)*sqrt(r)/sqrt(pi) + 47/216*sqrt(3)/(sqrt(pi)*sqrt(r)))\nGot:\n    (-4/3*sqrt(3)*sqrt(r)/sqrt(pi) - 47/216*sqrt(3)/(sqrt(pi)*sqrt(r)),\n     1,\n     -4/3*sqrt(3)*sqrt(r)/sqrt(pi) - 47/216*sqrt(3)/(sqrt(pi)*sqrt(r)))\n**********************************************************************\nFile \"src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py\", line 1623, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?\nFailed example:\n    F.relative_error(asy[0], alpha, [1, 2, 4, 8], asy[1]) # long time\nExpected:\n    [((3, 3, 2), 0.9812164307, [1.515572606], [-0.54458543...]),\n     ((6, 6, 4), 1.576181132, [1.992989399], [-0.26444185...]),\n     ((12, 12, 8), 2.485286378, [2.712196351], [-0.091301338...]),\n     ((24, 24, 16), 3.700576827, [3.760447895], [-0.016178847...])]\nGot:\n    [((3, 3, 2), 0.9812164307, [-1.515572606], [2.544585434]),\n     ((6, 6, 4), 1.576181132, [-1.992989399], [2.264441858]),\n     ((12, 12, 8), 2.485286378, [-2.712196351], [2.091301338]),\n     ((24, 24, 16), 3.700576827, [-3.760447895], [2.016178847])]\n**********************************************************************\n```",
    "created_at": "2020-02-19T18:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400213",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:62" align="right">comment:62</div>

The only remaining failing doctests are in `asymptotics_multivariate_generating_functions.py`. It would be nice if the authors or anyone familiar with asymptotics could take a look.

Some of these are caused by different representatives being chosen modulo an ideal, which should be fine. However, the relative error does not get small anymore which suggests that there might be a bug on the Sage side.

```
File "src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py", line 1576, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?
Failed example:
    decomp = F.asymptotic_decomposition(alpha); decomp
Expected:
    (0, []) + (-3/2*r*(1/y + 1) - 1/2/y - 1/2, [(x*y + x + y - 1, 1)])
Got:
    (0, []) + (2*r*(1/x + 1) + 1/2/x - 1/2, [(x*y + x + y - 1, 1)])
**********************************************************************
File "src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py", line 1585, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?
Failed example:
    asy
Expected:
    (1/6000*(3600*sqrt(5)*sqrt(3)*sqrt(2)*sqrt(r)/sqrt(pi)
      + 463*sqrt(5)*sqrt(3)*sqrt(2)/(sqrt(pi)*sqrt(r)))*432^r,
     432,
     3/5*sqrt(5)*sqrt(3)*sqrt(2)*sqrt(r)/sqrt(pi)
      + 463/6000*sqrt(5)*sqrt(3)*sqrt(2)/(sqrt(pi)*sqrt(r)))
Got:
    (-1/6000*(3600*sqrt(5)*sqrt(3)*sqrt(2)*sqrt(r)/sqrt(pi) - 137*sqrt(5)*sqrt(3)*sqrt(2)/(sqrt(pi)*sqrt(r)))*432^r,
     432,
     -3/5*sqrt(5)*sqrt(3)*sqrt(2)*sqrt(r)/sqrt(pi) + 137/6000*sqrt(5)*sqrt(3)*sqrt(2)/(sqrt(pi)*sqrt(r)))
**********************************************************************
File "src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py", line 1591, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?
Failed example:
    F.relative_error(asy[0], alpha, [1, 2, 4, 8, 16], asy[1])  # abs tol 1e-10
Expected:
    [((4, 3), 2.083333333, [2.092576110], [-0.004436533009]),
     ((8, 6), 2.787374614, [2.790732875], [-0.001204811281]),
     ((16, 12), 3.826259447, [3.827462310], [-0.0003143703383]),
     ((32, 24), 5.328112821, [5.328540787], [-0.00008032230388]),
     ((64, 48), 7.475927885, [7.476079664], [-0.00002030232879])]
Got:
    [((4, 3), 2.083333333, [-1.783556749], [1.856107239]),
     ((8, 6), 2.787374614, [-2.572223188], [1.922812160]),
     ((16, 12), 3.826259447, [-3.672952629], [1.959932979]),
     ((32, 24), 5.328112821, [-5.219285944], [1.979574968]),
     ((64, 48), 7.475927885, [-7.398824824], [1.989686489])]
Tolerance exceeded in 10 of 25:
    2.092576110 vs -1.783556749, tolerance 4e0 > 1e-10
    -0.004436533009 vs 1.856107239, tolerance 2e0 > 1e-10
    2.790732875 vs -2.572223188, tolerance 6e0 > 1e-10
    -0.001204811281 vs 1.922812160, tolerance 2e0 > 1e-10
    3.827462310 vs -3.672952629, tolerance 8e0 > 1e-10
    -0.0003143703383 vs 1.959932979, tolerance 2e0 > 1e-10
    5.328540787 vs -5.219285944, tolerance 2e1 > 1e-10
    -0.00008032230388 vs 1.979574968, tolerance 2e0 > 1e-10
    7.476079664 vs -7.398824824, tolerance 2e1 > 1e-10
    -0.00002030232879 vs 1.989686489, tolerance 2e0 > 1e-10
**********************************************************************
File "src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py", line 1609, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?
Failed example:
    decomp = F.asymptotic_decomposition(alpha); decomp
Expected:
    (0, []) +
    (-16*r*(3/y - 4/z) - 16/y + 32/z,
     [(x + 2*y + z - 4, 1), (2*x + y + z - 4, 1)])
Got:
    (0, []) + (-16*r*(3/x - 2/z) - 16/x + 16/z, [(x + 2*y + z - 4, 1), (2*x + y + z - 4, 1)])
**********************************************************************
File "src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py", line 1620, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?
Failed example:
    asy # long time
Expected:
    (4/3*sqrt(3)*sqrt(r)/sqrt(pi) + 47/216*sqrt(3)/(sqrt(pi)*sqrt(r)),
     1, 4/3*sqrt(3)*sqrt(r)/sqrt(pi) + 47/216*sqrt(3)/(sqrt(pi)*sqrt(r)))
Got:
    (-4/3*sqrt(3)*sqrt(r)/sqrt(pi) - 47/216*sqrt(3)/(sqrt(pi)*sqrt(r)),
     1,
     -4/3*sqrt(3)*sqrt(r)/sqrt(pi) - 47/216*sqrt(3)/(sqrt(pi)*sqrt(r)))
**********************************************************************
File "src/sage/rings/asymptotic/asymptotics_multivariate_generating_functions.py", line 1623, in sage.rings.asymptotic.asymptotics_multivariate_generating_functions.FractionWithFactoredDenominator.?
Failed example:
    F.relative_error(asy[0], alpha, [1, 2, 4, 8], asy[1]) # long time
Expected:
    [((3, 3, 2), 0.9812164307, [1.515572606], [-0.54458543...]),
     ((6, 6, 4), 1.576181132, [1.992989399], [-0.26444185...]),
     ((12, 12, 8), 2.485286378, [2.712196351], [-0.091301338...]),
     ((24, 24, 16), 3.700576827, [3.760447895], [-0.016178847...])]
Got:
    [((3, 3, 2), 0.9812164307, [-1.515572606], [2.544585434]),
     ((6, 6, 4), 1.576181132, [-1.992989399], [2.264441858]),
     ((12, 12, 8), 2.485286378, [-2.712196351], [2.091301338]),
     ((24, 24, 16), 3.700576827, [-3.760447895], [2.016178847])]
**********************************************************************
```



---

archive/issue_comments_400214.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nLooks like #29247 has broken things again. Getting many failures in sage/algebras/letterplace with this branch on top of 9.1.beta7",
    "created_at": "2020-03-09T08:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400214",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:63" align="right">comment:63</div>

Looks like #29247 has broken things again. Getting many failures in sage/algebras/letterplace with this branch on top of 9.1.beta7



---

archive/issue_comments_400215.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nReplying to [@antonio-rojas](#comment:63):\n> Looks like #29247 has broken things again. Getting many failures in sage/algebras/letterplace with this branch on top of 9.1.beta7\n\nThis will be solved by #29311.",
    "created_at": "2020-03-11T18:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400215",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:64" align="right">comment:64</div>

Replying to [@antonio-rojas](#comment:63):
> Looks like #29247 has broken things again. Getting many failures in sage/algebras/letterplace with this branch on top of 9.1.beta7

This will be solved by #29311.



---

archive/issue_comments_400216.json:
```json
{
    "body": "Dependencies: **#29311**",
    "created_at": "2020-03-11T18:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400216",
    "user": "https://github.com/mwageringel"
}
```

Dependencies: **#29311**



---

archive/issue_comments_400217.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nRelated to this upgrade ticket: #29335, #29339, #27764",
    "created_at": "2020-03-15T18:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400217",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">comment:65</div>

Related to this upgrade ticket: #29335, #29339, #27764



---

archive/issue_comments_400218.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nIs this ticket going to be ready for 9.1?\nOtherwise, we may need a ticket for 9.1 with some portability fixes (see #29415)",
    "created_at": "2020-03-31T16:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400218",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:67" align="right">comment:67</div>

Is this ticket going to be ready for 9.1?
Otherwise, we may need a ticket for 9.1 with some portability fixes (see #29415)



---

archive/issue_events_359086.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-03-31T16:30:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359086"
}
```



---

archive/issue_events_359087.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-03-31T16:30:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359087"
}
```



---

archive/issue_comments_400219.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nReplying to [@mkoeppe](#comment:67):\n> Is this ticket going to be ready for 9.1?\n\nProbably not. There are still failing doctests related to asymptotics. Someone should look into that.\n\nBut even then, it might be better to merge this in the next release cycle in order to give it some time to get tested.",
    "created_at": "2020-03-31T16:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400219",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:68" align="right">comment:68</div>

Replying to [@mkoeppe](#comment:67):
> Is this ticket going to be ready for 9.1?

Probably not. There are still failing doctests related to asymptotics. Someone should look into that.

But even then, it might be better to merge this in the next release cycle in order to give it some time to get tested.



---

archive/issue_comments_400220.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5692f8bd8a45a4abfd71216b34a4b3d65f469469\">5692f8b</a></td><td><code>29465: fix sign error in cohomology_decomposition of asymptotics</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a09d1571dacca01661464c04b6bb56de9225259\">2a09d15</a></td><td><code>Merge branch #29465 into #25993</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdf81bebcd649a293471e4130a6e19fb5bfe67c8\">bdf81be</a></td><td><code>25993: update doctests in asymptotics for Singular 4.1.2p4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78f439e57fe3cceb59f7850cde7aa56692351099\">78f439e</a></td><td><code>25993: add upstream_url for singular</code></td></tr></table>\n",
    "created_at": "2020-04-04T22:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400220",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5692f8bd8a45a4abfd71216b34a4b3d65f469469">5692f8b</a></td><td><code>29465: fix sign error in cohomology_decomposition of asymptotics</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a09d1571dacca01661464c04b6bb56de9225259">2a09d15</a></td><td><code>Merge branch #29465 into #25993</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdf81bebcd649a293471e4130a6e19fb5bfe67c8">bdf81be</a></td><td><code>25993: update doctests in asymptotics for Singular 4.1.2p4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78f439e57fe3cceb59f7850cde7aa56692351099">78f439e</a></td><td><code>25993: add upstream_url for singular</code></td></tr></table>




---

archive/issue_comments_400221.json:
```json
{
    "body": "Changed commit from **[9dbc2ba](https://github.com/sagemath/sagetrac-mirror/commit/9dbc2badedcda7046e37bc5adc2a4768f60318e6)** to **[78f439e](https://github.com/sagemath/sagetrac-mirror/commit/78f439e57fe3cceb59f7850cde7aa56692351099)**",
    "created_at": "2020-04-04T22:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400221",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9dbc2ba](https://github.com/sagemath/sagetrac-mirror/commit/9dbc2badedcda7046e37bc5adc2a4768f60318e6)** to **[78f439e](https://github.com/sagemath/sagetrac-mirror/commit/78f439e57fe3cceb59f7850cde7aa56692351099)**



---

archive/issue_comments_400222.json:
```json
{
    "body": "Author: **Antonio Rojas, Markus Wageringel**",
    "created_at": "2020-04-04T22:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400222",
    "user": "https://github.com/mwageringel"
}
```

Author: **Antonio Rojas, Markus Wageringel**



---

archive/issue_comments_400223.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nI found the problem in the asymptotics code. It is caused by an incorrect sign and is resolved by #29465, needing review.\n\nNow this makes all the doctests pass with Singular 4.1.2p4, so this is ready for testing. The optional packages in particular still need to be tested.\n\nMeanwhile, Singular 4.1.2p5 has been released and produces many segmentation faults all over the place, so I guess we stick to 4.1.2p4 for now.",
    "created_at": "2020-04-04T22:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400223",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:70" align="right">comment:70</div>

I found the problem in the asymptotics code. It is caused by an incorrect sign and is resolved by #29465, needing review.

Now this makes all the doctests pass with Singular 4.1.2p4, so this is ready for testing. The optional packages in particular still need to be tested.

Meanwhile, Singular 4.1.2p5 has been released and produces many segmentation faults all over the place, so I guess we stick to 4.1.2p4 for now.



---

archive/issue_comments_400224.json:
```json
{
    "body": "Changed work issues from **failing doctests in asymptotics_multivariate_generating_functions.py** to none",
    "created_at": "2020-04-04T22:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400224",
    "user": "https://github.com/mwageringel"
}
```

Changed work issues from **failing doctests in asymptotics_multivariate_generating_functions.py** to none



---

archive/issue_comments_400225.json:
```json
{
    "body": "Changed dependencies from **#29311** to **#29465**",
    "created_at": "2020-04-04T22:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400225",
    "user": "https://github.com/mwageringel"
}
```

Changed dependencies from **#29311** to **#29465**



---

archive/issue_events_359088.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-04-04T22:17:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359088"
}
```



---

archive/issue_comments_400226.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nThe segfaults are fixed with https://github.com/Singular/Sources/commit/7886c15a361119b200bd15faef4bf5b620d783ad\n\n4.1.3 is out with just one additional, harmless test failure\n\n```\ndiff --git a/src/sage/libs/singular/function.pyx b/src/sage/libs/singular/function.pyx\nindex b649ab1e64..72f34fd67d 100644\n--- a/src/sage/libs/singular/function.pyx\n+++ b/src/sage/libs/singular/function.pyx\n@@ -1308,7 +1308,7 @@ cdef class SingularFunction(SageObject):\n             ...\n             RuntimeError: error in Singular function call 'triangL':\n             The input is no groebner basis.\n-            leaving triang.lib::triangL\n+            leaving triang.lib::triangL (0)\n \n         Flush any stray output -- see :trac:`28622`::\n \n```",
    "created_at": "2020-04-07T12:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400226",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:71" align="right">comment:71</div>

The segfaults are fixed with https://github.com/Singular/Sources/commit/7886c15a361119b200bd15faef4bf5b620d783ad

4.1.3 is out with just one additional, harmless test failure

```
diff --git a/src/sage/libs/singular/function.pyx b/src/sage/libs/singular/function.pyx
index b649ab1e64..72f34fd67d 100644
--- a/src/sage/libs/singular/function.pyx
+++ b/src/sage/libs/singular/function.pyx
@@ -1308,7 +1308,7 @@ cdef class SingularFunction(SageObject):
             ...
             RuntimeError: error in Singular function call 'triangL':
             The input is no groebner basis.
-            leaving triang.lib::triangL
+            leaving triang.lib::triangL (0)
 
         Flush any stray output -- see :trac:`28622`::
 
```



---

archive/issue_comments_400227.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nThanks for the note. I have updated the branch.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8722c0f11e1567dd4598bee604511208ad7f847d\">8722c0f</a></td><td><code>25993: upgrade to singular 4.1.3</code></td></tr></table>\n",
    "created_at": "2020-04-07T20:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400227",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:72" align="right">comment:72</div>

Thanks for the note. I have updated the branch.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8722c0f11e1567dd4598bee604511208ad7f847d">8722c0f</a></td><td><code>25993: upgrade to singular 4.1.3</code></td></tr></table>




---

archive/issue_comments_400228.json:
```json
{
    "body": "Changed branch from **[u/gh-mwageringel/singular412p4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/singular412p4)** to **[public/singular4-1-3](https://github.com/sagemath/sagetrac-mirror/tree/public/singular4-1-3)**",
    "created_at": "2020-04-07T20:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400228",
    "user": "https://github.com/mwageringel"
}
```

Changed branch from **[u/gh-mwageringel/singular412p4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/singular412p4)** to **[public/singular4-1-3](https://github.com/sagemath/sagetrac-mirror/tree/public/singular4-1-3)**



---

archive/issue_comments_400229.json:
```json
{
    "body": "Changed commit from **[78f439e](https://github.com/sagemath/sagetrac-mirror/commit/78f439e57fe3cceb59f7850cde7aa56692351099)** to **[8722c0f](https://github.com/sagemath/sagetrac-mirror/commit/8722c0f11e1567dd4598bee604511208ad7f847d)**",
    "created_at": "2020-04-07T20:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400229",
    "user": "https://github.com/mwageringel"
}
```

Changed commit from **[78f439e](https://github.com/sagemath/sagetrac-mirror/commit/78f439e57fe3cceb59f7850cde7aa56692351099)** to **[8722c0f](https://github.com/sagemath/sagetrac-mirror/commit/8722c0f11e1567dd4598bee604511208ad7f847d)**



---

archive/issue_comments_400230.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n-**Tarball 4.1.2p4**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p4.tar.gz\n+**Tarball 4.1.3**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3.tar.gz\n \n+Use `make SAGE_SPKG=\"sage-spkg -o\" singular-clean build` to automatically download and install.\n``````\n",
    "created_at": "2020-04-07T20:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400230",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
-**Tarball 4.1.2p4**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-2/singular-4.1.2p4.tar.gz
+**Tarball 4.1.3**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3.tar.gz
 
+Use `make SAGE_SPKG="sage-spkg -o" singular-clean build` to automatically download and install.
``````




---

archive/issue_comments_400231.json:
```json
{
    "body": "<div id=\"comment:73\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/775f9237c8926e9f0a05c14599b45138ce95b35b\">775f923</a></td><td><code>25993: Merge tag '9.1.rc0' into #25993</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e496abfe428e9ea37db55a8f3a94dc3a462cfa2\">5e496ab</a></td><td><code>25993: remove patch \"Fix building singular with -DNDEBUG\"</code></td></tr></table>\n",
    "created_at": "2020-04-14T17:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400231",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:73"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/775f9237c8926e9f0a05c14599b45138ce95b35b">775f923</a></td><td><code>25993: Merge tag '9.1.rc0' into #25993</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e496abfe428e9ea37db55a8f3a94dc3a462cfa2">5e496ab</a></td><td><code>25993: remove patch "Fix building singular with -DNDEBUG"</code></td></tr></table>




---

archive/issue_comments_400232.json:
```json
{
    "body": "Changed commit from **[8722c0f](https://github.com/sagemath/sagetrac-mirror/commit/8722c0f11e1567dd4598bee604511208ad7f847d)** to **[5e496ab](https://github.com/sagemath/sagetrac-mirror/commit/5e496abfe428e9ea37db55a8f3a94dc3a462cfa2)**",
    "created_at": "2020-04-14T17:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400232",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8722c0f](https://github.com/sagemath/sagetrac-mirror/commit/8722c0f11e1567dd4598bee604511208ad7f847d)** to **[5e496ab](https://github.com/sagemath/sagetrac-mirror/commit/5e496abfe428e9ea37db55a8f3a94dc3a462cfa2)**



---

archive/issue_comments_400233.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nI have merged 9.1.rc0 and removed the (backported) patch from #29438.\n\nWith this, I get the segmentation fault in `plural.pyx` from [comment:22](#comment:22) again. I am not sure what to do with this. Maybe we could mark it as `not tested` and open a new ticket for it.",
    "created_at": "2020-04-14T17:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400233",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:74" align="right">comment:74</div>

I have merged 9.1.rc0 and removed the (backported) patch from #29438.

With this, I get the segmentation fault in `plural.pyx` from [comment:22](#comment:22) again. I am not sure what to do with this. Maybe we could mark it as `not tested` and open a new ticket for it.



---

archive/issue_comments_400234.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nReplying to [@mwageringel](#comment:74):\n> I have merged 9.1.rc0 and removed the (backported) patch from #29438.\n> \n> With this, I get the segmentation fault in `plural.pyx` from [comment:22](#comment:22) again. I am not sure what to do with this. Maybe we could mark it as `not tested` and open a new ticket for it.\n\n+1",
    "created_at": "2020-04-15T01:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400234",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:75" align="right">comment:75</div>

Replying to [@mwageringel](#comment:74):
> I have merged 9.1.rc0 and removed the (backported) patch from #29438.
> 
> With this, I get the segmentation fault in `plural.pyx` from [comment:22](#comment:22) again. I am not sure what to do with this. Maybe we could mark it as `not tested` and open a new ticket for it.

+1



---

archive/issue_comments_400235.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nReplying to [@mwageringel](#comment:74):\n> I have merged 9.1.rc0 and removed the (backported) patch from #29438.\n> \n> With this, I get the segmentation fault in `plural.pyx` from [comment:22](#comment:22) again.\n\nI can't reproduce that.\n\nI checked out the ticket on top of 9.1.rc0 and run `make` according to the ticket description but all tests of `src/sage/rings/polynomial/plural.pyx` passed. \n\nDid I miss something? I did that under Windows10 (WSL Ubuntu). The `make` log-messages said that Singular 4.1.3 had been build but if I start Singular (through Sage) I get:\n\n```\n                     SINGULAR                                 /  Development\n A Computer Algebra System for Polynomial Computations       /   version 4.1.2\n                                                           0<\n by: W. Decker, G.-M. Greuel, G. Pfister, H. Schoenemann     \\   Mar 2020\nFB Mathematik der Universitaet, D-67653 Kaiserslautern        \\\n```",
    "created_at": "2020-04-15T16:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400235",
    "user": "https://github.com/soehms"
}
```

<div id="comment:76" align="right">comment:76</div>

Replying to [@mwageringel](#comment:74):
> I have merged 9.1.rc0 and removed the (backported) patch from #29438.
> 
> With this, I get the segmentation fault in `plural.pyx` from [comment:22](#comment:22) again.

I can't reproduce that.

I checked out the ticket on top of 9.1.rc0 and run `make` according to the ticket description but all tests of `src/sage/rings/polynomial/plural.pyx` passed. 

Did I miss something? I did that under Windows10 (WSL Ubuntu). The `make` log-messages said that Singular 4.1.3 had been build but if I start Singular (through Sage) I get:

```
                     SINGULAR                                 /  Development
 A Computer Algebra System for Polynomial Computations       /   version 4.1.2
                                                           0<
 by: W. Decker, G.-M. Greuel, G. Pfister, H. Schoenemann     \   Mar 2020
FB Mathematik der Universitaet, D-67653 Kaiserslautern        \
```



---

archive/issue_comments_400236.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nReplying to [@soehms](#comment:76):\n> I can't reproduce that.\n\n>\n> I checked out the ticket on top of 9.1.rc0 and run `make` according to the ticket description but all tests of `src/sage/rings/polynomial/plural.pyx` passed. \n\nThanks for taking a look. There is some randomness to this bug. With the current branch, it consistently occurs for me, but has been appearing only from time to time while working on this ticket. If I copy the offending doctest to the top of the file to better isolate the problem, it disappears. I am not even sure if it is really caused by this upgrade \u2013 the underlying problem might already exist in Sage without being noticed.\n\n> The `make` log-messages said that Singular 4.1.3 had been build but if I start Singular (through Sage) I get:\n> \n> ```\n>                      SINGULAR                                 /  Development\n>  A Computer Algebra System for Polynomial Computations       /   version 4.1.2\n>                                                            0<\n>  by: W. Decker, G.-M. Greuel, G. Pfister, H. Schoenemann     \\   Mar 2020\n> FB Mathematik der Universitaet, D-67653 Kaiserslautern        \\\n> ```\n> \n\nYes, I get that as well. Apparently upstream forgot to change that version number.",
    "created_at": "2020-04-15T17:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400236",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:77" align="right">comment:77</div>

Replying to [@soehms](#comment:76):
> I can't reproduce that.

>
> I checked out the ticket on top of 9.1.rc0 and run `make` according to the ticket description but all tests of `src/sage/rings/polynomial/plural.pyx` passed. 

Thanks for taking a look. There is some randomness to this bug. With the current branch, it consistently occurs for me, but has been appearing only from time to time while working on this ticket. If I copy the offending doctest to the top of the file to better isolate the problem, it disappears. I am not even sure if it is really caused by this upgrade  the underlying problem might already exist in Sage without being noticed.

> The `make` log-messages said that Singular 4.1.3 had been build but if I start Singular (through Sage) I get:
> 
> ```
>                      SINGULAR                                 /  Development
>  A Computer Algebra System for Polynomial Computations       /   version 4.1.2
>                                                            0<
>  by: W. Decker, G.-M. Greuel, G. Pfister, H. Schoenemann     \   Mar 2020
> FB Mathematik der Universitaet, D-67653 Kaiserslautern        \
> ```
> 

Yes, I get that as well. Apparently upstream forgot to change that version number.



---

archive/issue_comments_400237.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nReplying to [@mwageringel](#comment:77):\n> Replying to [@soehms](#comment:76):\n> There is some randomness to this bug. \n\nThat's not good looking!\n\nI tried to reproduce it on another machine (running under Linux Mint 19.1 and Sage with Python 2) but without success, again.\n\n> If I copy the offending doctest to the top of the file to better isolate the problem, it disappears.\n\nDoes it disappear if you let it in on its position but supress some of the previous doctests, as well?\n\nIn my experience such segmentation faults are mostly caused by a previous call of some C-function with no prototype and a wrong number of arguments or some usage of a non initialized variable.\nAnyway, I think this bug will be very difficult to find!",
    "created_at": "2020-04-17T06:44:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400237",
    "user": "https://github.com/soehms"
}
```

<div id="comment:78" align="right">comment:78</div>

Replying to [@mwageringel](#comment:77):
> Replying to [@soehms](#comment:76):
> There is some randomness to this bug. 

That's not good looking!

I tried to reproduce it on another machine (running under Linux Mint 19.1 and Sage with Python 2) but without success, again.

> If I copy the offending doctest to the top of the file to better isolate the problem, it disappears.

Does it disappear if you let it in on its position but supress some of the previous doctests, as well?

In my experience such segmentation faults are mostly caused by a previous call of some C-function with no prototype and a wrong number of arguments or some usage of a non initialized variable.
Anyway, I think this bug will be very difficult to find!



---

archive/issue_comments_400238.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nThis looks to me as one of these testing framework Heisenbugs we see elsewhere, as well.",
    "created_at": "2020-04-17T06:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400238",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:79" align="right">comment:79</div>

This looks to me as one of these testing framework Heisenbugs we see elsewhere, as well.



---

archive/issue_comments_400239.json:
```json
{
    "body": "Changed commit from **[5e496ab](https://github.com/sagemath/sagetrac-mirror/commit/5e496abfe428e9ea37db55a8f3a94dc3a462cfa2)** to **[827aa6c](https://github.com/sagemath/sagetrac-mirror/commit/827aa6c8a1d99bd50de6d431085c77164d3a39bb)**",
    "created_at": "2020-04-18T17:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400239",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5e496ab](https://github.com/sagemath/sagetrac-mirror/commit/5e496abfe428e9ea37db55a8f3a94dc3a462cfa2)** to **[827aa6c](https://github.com/sagemath/sagetrac-mirror/commit/827aa6c8a1d99bd50de6d431085c77164d3a39bb)**



---

archive/issue_comments_400240.json:
```json
{
    "body": "<div id=\"comment:80\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/827aa6c8a1d99bd50de6d431085c77164d3a39bb\">827aa6c</a></td><td><code>25993: disable problematic doctest in plural.pyx</code></td></tr></table>\n",
    "created_at": "2020-04-18T17:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400240",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:80"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/827aa6c8a1d99bd50de6d431085c77164d3a39bb">827aa6c</a></td><td><code>25993: disable problematic doctest in plural.pyx</code></td></tr></table>




---

archive/issue_comments_400241.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nReplying to [@soehms](#comment:78):\n> Does it disappear if you let it in on its position but supress some of the previous doctests, as well?\n\nYes, if I remove the previous block of tests from the previous method, it disappears, too. Even if I move that block of tests from the previous method to the affected method, and thus preserve all tests and their order, everything works fine. Heisenbug indeed. As you cannot replicate it, this problem might not be too serious. Thanks for looking into it, though.\n\nI have disabled the test on the current branch and opened #29528 for it.",
    "created_at": "2020-04-18T17:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400241",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:81" align="right">comment:81</div>

Replying to [@soehms](#comment:78):
> Does it disappear if you let it in on its position but supress some of the previous doctests, as well?

Yes, if I remove the previous block of tests from the previous method, it disappears, too. Even if I move that block of tests from the previous method to the affected method, and thus preserve all tests and their order, everything works fine. Heisenbug indeed. As you cannot replicate it, this problem might not be too serious. Thanks for looking into it, though.

I have disabled the test on the current branch and opened #29528 for it.



---

archive/issue_comments_400242.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nReplying to [@mwageringel](#comment:81):\n> Replying to [@soehms](#comment:78):\n> > Does it disappear if you let it in on its position but supress some of the previous doctests, as well?\n\n> \n> Yes, if I remove the previous block of tests from the previous method, it disappears, too. Even if I move that block of tests from the previous method to the affected method, and thus preserve all tests and their order, everything works fine. Heisenbug indeed. As you cannot replicate it, this problem might not be too serious.\n\nNow, I tried again using the doctest option `--global-iterations`. With this I was able to *reproduce* all of your observations (repeatable after 9 loops in the *WSL* case and 11 loops in the *Linux Mint* case).\n\nOn the other hand, on a 9.1.rc0 installation without that Singular upgrade the segmentation fault didn't occur until loop 500.",
    "created_at": "2020-04-19T10:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400242",
    "user": "https://github.com/soehms"
}
```

<div id="comment:82" align="right">comment:82</div>

Replying to [@mwageringel](#comment:81):
> Replying to [@soehms](#comment:78):
> > Does it disappear if you let it in on its position but supress some of the previous doctests, as well?

> 
> Yes, if I remove the previous block of tests from the previous method, it disappears, too. Even if I move that block of tests from the previous method to the affected method, and thus preserve all tests and their order, everything works fine. Heisenbug indeed. As you cannot replicate it, this problem might not be too serious.

Now, I tried again using the doctest option `--global-iterations`. With this I was able to *reproduce* all of your observations (repeatable after 9 loops in the *WSL* case and 11 loops in the *Linux Mint* case).

On the other hand, on a 9.1.rc0 installation without that Singular upgrade the segmentation fault didn't occur until loop 500.



---

archive/issue_comments_400243.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nThis is just a guess, but this might be related to the problem that the `NCPolynomial_plural` elements are sometimes not properly deallocated because the parent ring is not defined anymore, for some reason. Indeed, this change produces a warning in exactly the doctest in `__reduce__` which preceeds the problematic one.\n\n```diff\n--- a/src/sage/rings/polynomial/plural.pyx\n+++ b/src/sage/rings/polynomial/plural.pyx\n@@ -1431,10 +1431,12 @@ cdef class NCPolynomial_plural(RingElement):\n     def __dealloc__(self):\n         # TODO: Warn otherwise!\n         # for some mysterious reason, various things may be NULL in some cases\n         if self._parent is not None and (<NCPolynomialRing_plural>self._parent)._ring != NULL and self._poly != NULL:\n             p_Delete(&self._poly, (<NCPolynomialRing_plural>self._parent)._ring)\n+        elif self._poly != NULL:\n+            print(\"warning in NCPolynomial_plural.__dealloc__\")\n\n     def __reduce__(self):\n         \"\"\"\n         TESTS::\n```",
    "created_at": "2020-04-19T15:12:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400243",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:83" align="right">comment:83</div>

This is just a guess, but this might be related to the problem that the `NCPolynomial_plural` elements are sometimes not properly deallocated because the parent ring is not defined anymore, for some reason. Indeed, this change produces a warning in exactly the doctest in `__reduce__` which preceeds the problematic one.

```diff
--- a/src/sage/rings/polynomial/plural.pyx
+++ b/src/sage/rings/polynomial/plural.pyx
@@ -1431,10 +1431,12 @@ cdef class NCPolynomial_plural(RingElement):
     def __dealloc__(self):
         # TODO: Warn otherwise!
         # for some mysterious reason, various things may be NULL in some cases
         if self._parent is not None and (<NCPolynomialRing_plural>self._parent)._ring != NULL and self._poly != NULL:
             p_Delete(&self._poly, (<NCPolynomialRing_plural>self._parent)._ring)
+        elif self._poly != NULL:
+            print("warning in NCPolynomial_plural.__dealloc__")

     def __reduce__(self):
         """
         TESTS::
```



---

archive/issue_comments_400244.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nReplying to [@mwageringel](#comment:83):\n> This is just a guess, but this might be related to the problem that the `NCPolynomial_plural` elements are sometimes not properly deallocated because the parent ring is not defined anymore, for some reason.\n\nThere was #13447 dedicated to having proper refcount for libsingular rings. If I recall correctly, the problem is that refcounting in Singular ONLY happens for rings in the interface, i.e. there is no refcount when polynomials are created.  However, there is an internal ref counter in Singular that sometimes in very few places in the Singular code is used.\n\nAnyway, perhaps it makes sense to revive that other ticket and finally try and get the refcount problem done.",
    "created_at": "2020-04-19T16:03:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400244",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:84" align="right">comment:84</div>

Replying to [@mwageringel](#comment:83):
> This is just a guess, but this might be related to the problem that the `NCPolynomial_plural` elements are sometimes not properly deallocated because the parent ring is not defined anymore, for some reason.

There was #13447 dedicated to having proper refcount for libsingular rings. If I recall correctly, the problem is that refcounting in Singular ONLY happens for rings in the interface, i.e. there is no refcount when polynomials are created.  However, there is an internal ref counter in Singular that sometimes in very few places in the Singular code is used.

Anyway, perhaps it makes sense to revive that other ticket and finally try and get the refcount problem done.



---

archive/issue_comments_400245.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\n9.1.rc2 introduces one new test failure:\n\n```\nFile \"/usr/lib/python3.8/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py\", line 3969, in sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.groebner_basis\nFailed example:\n    ideal(J.transformed_basis()).change_ring(P).interreduced_basis()  # testing trac 21884\nExpected:\n    [a - 60*c^3 + 158/7*c^2 + 8/7*c - 1, b + 30*c^3 - 79/7*c^2 + 3/7*c, c^4 - 10/21*c^3 + 1/84*c^2 + 1/84*c]\nGot:\n    // ** redefining xR (   keepring basering;)\n    [a - 60*c^3 + 158/7*c^2 + 8/7*c - 1, b + 30*c^3 - 79/7*c^2 + 3/7*c, c^4 - 10/21*c^3 + 1/84*c^2 + 1/84*c]\n```",
    "created_at": "2020-04-26T11:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400245",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:85" align="right">comment:85</div>

9.1.rc2 introduces one new test failure:

```
File "/usr/lib/python3.8/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py", line 3969, in sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.groebner_basis
Failed example:
    ideal(J.transformed_basis()).change_ring(P).interreduced_basis()  # testing trac 21884
Expected:
    [a - 60*c^3 + 158/7*c^2 + 8/7*c - 1, b + 30*c^3 - 79/7*c^2 + 3/7*c, c^4 - 10/21*c^3 + 1/84*c^2 + 1/84*c]
Got:
    // ** redefining xR (   keepring basering;)
    [a - 60*c^3 + 158/7*c^2 + 8/7*c - 1, b + 30*c^3 - 79/7*c^2 + 3/7*c, c^4 - 10/21*c^3 + 1/84*c^2 + 1/84*c]
```



---

archive/issue_comments_400246.json:
```json
{
    "body": "<div id=\"comment:86\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4199b0cbce2ee0384eb5ff2826d3a3cd700f1ab7\">4199b0c</a></td><td><code>25993: Merge tag '9.2.beta0' into #25993</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e6a383fcfc62d1df3ee6ad7509a5c1173d1a917\">5e6a383</a></td><td><code>25993: fix ntl patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/301a554716f886e4d07e09ec0ca64234f14bde82\">301a554</a></td><td><code>25993: fix doctest with flaky singular pexpect output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f57ea5d63f4f1886f039dec900e48bf1acc880d\">6f57ea5</a></td><td><code>25993: replace _cycle by permutation action on polynomials</code></td></tr></table>\n",
    "created_at": "2020-06-06T12:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400246",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:86"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4199b0cbce2ee0384eb5ff2826d3a3cd700f1ab7">4199b0c</a></td><td><code>25993: Merge tag '9.2.beta0' into #25993</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e6a383fcfc62d1df3ee6ad7509a5c1173d1a917">5e6a383</a></td><td><code>25993: fix ntl patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/301a554716f886e4d07e09ec0ca64234f14bde82">301a554</a></td><td><code>25993: fix doctest with flaky singular pexpect output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f57ea5d63f4f1886f039dec900e48bf1acc880d">6f57ea5</a></td><td><code>25993: replace _cycle by permutation action on polynomials</code></td></tr></table>




---

archive/issue_comments_400247.json:
```json
{
    "body": "Changed commit from **[827aa6c](https://github.com/sagemath/sagetrac-mirror/commit/827aa6c8a1d99bd50de6d431085c77164d3a39bb)** to **[6f57ea5](https://github.com/sagemath/sagetrac-mirror/commit/6f57ea5d63f4f1886f039dec900e48bf1acc880d)**",
    "created_at": "2020-06-06T12:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400247",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[827aa6c](https://github.com/sagemath/sagetrac-mirror/commit/827aa6c8a1d99bd50de6d431085c77164d3a39bb)** to **[6f57ea5](https://github.com/sagemath/sagetrac-mirror/commit/6f57ea5d63f4f1886f039dec900e48bf1acc880d)**



---

archive/issue_comments_400248.json:
```json
{
    "body": "Changed dependencies from **#29465** to none",
    "created_at": "2020-06-06T13:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400248",
    "user": "https://github.com/mwageringel"
}
```

Changed dependencies from **#29465** to none



---

archive/issue_events_359089.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-06-06T13:05:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359089"
}
```



---

archive/issue_events_359090.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-06-06T13:05:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359090"
}
```



---

archive/issue_comments_400249.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nReplying to [@antonio-rojas](#comment:85):\n> 9.1.rc2 introduces one new test failure:\n\nThis is some side-effect in the Singular pexpect interface that appears since #29543 and seems to be harmless. I have updated the doctest.\n\nI have also removed the `shift`/`_cycle` method, as it can be replaced by the action of permutations on polynomials.\n\nThis ticket is now ready for review. It would be nice to get this merged into one of the next betas.",
    "created_at": "2020-06-06T13:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400249",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:87" align="right">comment:87</div>

Replying to [@antonio-rojas](#comment:85):
> 9.1.rc2 introduces one new test failure:

This is some side-effect in the Singular pexpect interface that appears since #29543 and seems to be harmless. I have updated the doctest.

I have also removed the `shift`/`_cycle` method, as it can be replaced by the action of permutations on polynomials.

This ticket is now ready for review. It would be nice to get this merged into one of the next betas.



---

archive/issue_comments_400250.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nShould we try for 4.1.3_p2 instead of 4.1.3? Or _p3 if it has been released since the last time I looked.",
    "created_at": "2020-06-06T22:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400250",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:88" align="right">comment:88</div>

Should we try for 4.1.3_p2 instead of 4.1.3? Or _p3 if it has been released since the last time I looked.



---

archive/issue_comments_400251.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nWell, this is a moving target. I can try it tomorrow and, if it does not break anything, I guess it would not hurt to include it. Otherwise, it probably does not make this ticket simpler, so could also be done on a new ticket.",
    "created_at": "2020-06-06T23:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400251",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:89" align="right">comment:89</div>

Well, this is a moving target. I can try it tomorrow and, if it does not break anything, I guess it would not hurt to include it. Otherwise, it probably does not make this ticket simpler, so could also be done on a new ticket.



---

archive/issue_comments_400252.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nThat's a good plan.",
    "created_at": "2020-06-07T00:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400252",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:90" align="right">comment:90</div>

That's a good plan.



---

archive/issue_comments_400253.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nAnything more recent than 4.1.3 has a bug that makes the test suite hang in schemes/curves/affine_curve.py\n\nhttp://www.singular.uni-kl.de:8002/trac/ticket/865",
    "created_at": "2020-06-07T07:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400253",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:91" align="right">comment:91</div>

Anything more recent than 4.1.3 has a bug that makes the test suite hang in schemes/curves/affine_curve.py

http://www.singular.uni-kl.de:8002/trac/ticket/865



---

archive/issue_comments_400254.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nYou say 4.1.2p1 in that ticket. Was that meant to be 4.1.3p1?",
    "created_at": "2020-06-07T07:10:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400254",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:92" align="right">comment:92</div>

You say 4.1.2p1 in that ticket. Was that meant to be 4.1.3p1?



---

archive/issue_comments_400255.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nYes, there's no way to modify a ticket if you file it without an account",
    "created_at": "2020-06-07T07:12:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400255",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:93" align="right">comment:93</div>

Yes, there's no way to modify a ticket if you file it without an account



---

archive/issue_comments_400256.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nBesides the hang, with singular>=4.1.3p1 there are two more trivial test failures due to changes in ring notation display. Perhaps these could be fixed here so they pass on distros that ship a newer singular\n\n```\n**********************************************************************\nFile \"/usr/lib/python3.8/site-packages/sage/rings/polynomial/polynomial_singular_interface.py\", line 166, in sage.rings.polynomial.polynomial_singular_interface.PolynomialRing_singular_repr._singular_\nFailed example:\n    singular(R)\nExpected:\n    polynomial ring, over a ring (with zero-divisors), global ordering\n    //   coefficients: ZZ/bigint(15)\n    //   number of vars : 2\n    //        block   1 : ordering dp\n    //                  : names    x y\n    //        block   2 : ordering C\nGot:\n    polynomial ring, over a ring (with zero-divisors), global ordering\n    // coefficients: ZZ/(15)\n    // number of vars : 2\n    //        block   1 : ordering dp\n    //                  : names    x y\n    //        block   2 : ordering C\n**********************************************************************\nFile \"/usr/lib/python3.8/site-packages/sage/rings/polynomial/multi_polynomial_libsingular.pyx\", line 1349, in sage.rings.polynomial.multi_polynomial_libsingular.MPolynomialRing_libsingular._singular_init_\nFailed example:\n    singular(R)\nExpected:\n    polynomial ring, over a ring (with zero-divisors), global ordering\n    //   coefficients: ZZ/bigint(15)\n    //   number of vars : 2\n    //        block   1 : ordering dp\n    //                  : names    x y\n    //        block   2 : ordering C\nGot:\n    polynomial ring, over a ring (with zero-divisors), global ordering\n    // coefficients: ZZ/(15)\n    // number of vars : 2\n    //        block   1 : ordering dp\n    //                  : names    x y\n    //        block   2 : ordering C\n**********************************************************************\n```",
    "created_at": "2020-06-07T14:00:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400256",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:94" align="right">comment:94</div>

Besides the hang, with singular>=4.1.3p1 there are two more trivial test failures due to changes in ring notation display. Perhaps these could be fixed here so they pass on distros that ship a newer singular

```
**********************************************************************
File "/usr/lib/python3.8/site-packages/sage/rings/polynomial/polynomial_singular_interface.py", line 166, in sage.rings.polynomial.polynomial_singular_interface.PolynomialRing_singular_repr._singular_
Failed example:
    singular(R)
Expected:
    polynomial ring, over a ring (with zero-divisors), global ordering
    //   coefficients: ZZ/bigint(15)
    //   number of vars : 2
    //        block   1 : ordering dp
    //                  : names    x y
    //        block   2 : ordering C
Got:
    polynomial ring, over a ring (with zero-divisors), global ordering
    // coefficients: ZZ/(15)
    // number of vars : 2
    //        block   1 : ordering dp
    //                  : names    x y
    //        block   2 : ordering C
**********************************************************************
File "/usr/lib/python3.8/site-packages/sage/rings/polynomial/multi_polynomial_libsingular.pyx", line 1349, in sage.rings.polynomial.multi_polynomial_libsingular.MPolynomialRing_libsingular._singular_init_
Failed example:
    singular(R)
Expected:
    polynomial ring, over a ring (with zero-divisors), global ordering
    //   coefficients: ZZ/bigint(15)
    //   number of vars : 2
    //        block   1 : ordering dp
    //                  : names    x y
    //        block   2 : ordering C
Got:
    polynomial ring, over a ring (with zero-divisors), global ordering
    // coefficients: ZZ/(15)
    // number of vars : 2
    //        block   1 : ordering dp
    //                  : names    x y
    //        block   2 : ordering C
**********************************************************************
```



---

archive/issue_comments_400257.json:
```json
{
    "body": "<div id=\"comment:95\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/edd946ec0bb9eff72d45b112cba027af42b4b8a2\">edd946e</a></td><td><code>25993: make tests compatible with Singular \u2265 4.1.3p1</code></td></tr></table>\n",
    "created_at": "2020-06-07T18:25:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400257",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:95"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/edd946ec0bb9eff72d45b112cba027af42b4b8a2">edd946e</a></td><td><code>25993: make tests compatible with Singular  4.1.3p1</code></td></tr></table>




---

archive/issue_comments_400258.json:
```json
{
    "body": "Changed commit from **[6f57ea5](https://github.com/sagemath/sagetrac-mirror/commit/6f57ea5d63f4f1886f039dec900e48bf1acc880d)** to **[edd946e](https://github.com/sagemath/sagetrac-mirror/commit/edd946ec0bb9eff72d45b112cba027af42b4b8a2)**",
    "created_at": "2020-06-07T18:25:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400258",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6f57ea5](https://github.com/sagemath/sagetrac-mirror/commit/6f57ea5d63f4f1886f039dec900e48bf1acc880d)** to **[edd946e](https://github.com/sagemath/sagetrac-mirror/commit/edd946ec0bb9eff72d45b112cba027af42b4b8a2)**



---

archive/issue_comments_400259.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nReplying to [@antonio-rojas](#comment:94):\n> Besides the hang, with singular>=4.1.3p1 there are two more trivial test failures due to changes in ring notation display. Perhaps these could be fixed here so they pass on distros that ship a newer singular\n\nThanks for the infos. I have updated these doctests.",
    "created_at": "2020-06-07T18:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400259",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:96" align="right">comment:96</div>

Replying to [@antonio-rojas](#comment:94):
> Besides the hang, with singular>=4.1.3p1 there are two more trivial test failures due to changes in ring notation display. Perhaps these could be fixed here so they pass on distros that ship a newer singular

Thanks for the infos. I have updated these doctests.



---

archive/issue_comments_400260.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\nWhat's missing on this ticket?",
    "created_at": "2020-07-04T19:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400260",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:97" align="right">comment:97</div>

What's missing on this ticket?



---

archive/issue_comments_400261.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nThere's now\nftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3p2.tar.gz",
    "created_at": "2020-07-04T19:25:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400261",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:98" align="right">comment:98</div>

There's now
ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3p2.tar.gz



---

archive/issue_comments_400262.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nReplying to [@mkoeppe](#comment:97):\n> What's missing on this ticket?\n\nIt just needs a review. The problem in [comment:91](#comment:91) appears to be fixed upstream, but the fix is not in 4.1.3p2.",
    "created_at": "2020-07-04T21:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400262",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:99" align="right">comment:99</div>

Replying to [@mkoeppe](#comment:97):
> What's missing on this ticket?

It just needs a review. The problem in [comment:91](#comment:91) appears to be fixed upstream, but the fix is not in 4.1.3p2.



---

archive/issue_comments_400263.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nThen I guess we need a patch on top of 4.1.3p2",
    "created_at": "2020-07-04T23:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400263",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:0" align="right">comment:0</div>

Then I guess we need a patch on top of 4.1.3p2



---

archive/issue_events_359091.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T00:07:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359091"
}
```



---

archive/issue_events_359092.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T00:07:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359092"
}
```



---

archive/issue_comments_400264.json:
```json
{
    "body": "Upstream: **Fixed upstream, but not in a stable release.**",
    "created_at": "2020-07-05T00:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400264",
    "user": "https://github.com/mkoeppe"
}
```

Upstream: **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_400265.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bc9caa3ac50a7831b32c641574bf66d7773da13\">3bc9caa</a></td><td><code>25993: add patch fixing hang in primdecSY and upgrade to 4.1.3p2</code></td></tr></table>\n",
    "created_at": "2020-07-05T14:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400265",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bc9caa3ac50a7831b32c641574bf66d7773da13">3bc9caa</a></td><td><code>25993: add patch fixing hang in primdecSY and upgrade to 4.1.3p2</code></td></tr></table>




---

archive/issue_comments_400266.json:
```json
{
    "body": "Changed commit from **[edd946e](https://github.com/sagemath/sagetrac-mirror/commit/edd946ec0bb9eff72d45b112cba027af42b4b8a2)** to **[3bc9caa](https://github.com/sagemath/sagetrac-mirror/commit/3bc9caa3ac50a7831b32c641574bf66d7773da13)**",
    "created_at": "2020-07-05T14:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400266",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[edd946e](https://github.com/sagemath/sagetrac-mirror/commit/edd946ec0bb9eff72d45b112cba027af42b4b8a2)** to **[3bc9caa](https://github.com/sagemath/sagetrac-mirror/commit/3bc9caa3ac50a7831b32c641574bf66d7773da13)**



---

archive/issue_comments_400267.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI have added the patch.\n\nFor some reason, this now requires running `make sagelib-clean` (otherwise, Sage does not start), so this might break incremental builds. Is there a way around this?",
    "created_at": "2020-07-05T15:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400267",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:4" align="right">comment:4</div>

I have added the patch.

For some reason, this now requires running `make sagelib-clean` (otherwise, Sage does not start), so this might break incremental builds. Is there a way around this?



---

archive/issue_events_359093.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-07-05T15:03:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359093"
}
```



---

archive/issue_events_359094.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-07-05T15:03:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359094"
}
```



---

archive/issue_comments_400268.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-**Tarball 4.1.3**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3.tar.gz\n+**Tarball 4.1.3p2**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3p2.tar.gz\n \n-Use `make SAGE_SPKG=\"sage-spkg -o\" singular-clean build` to automatically download and install.\n+Use `make SAGE_SPKG=\"sage-spkg -o\" singular-clean sagelib-clean build` to automatically download and install.\n``````\n",
    "created_at": "2020-07-05T15:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400268",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-**Tarball 4.1.3**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3.tar.gz
+**Tarball 4.1.3p2**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3p2.tar.gz
 
-Use `make SAGE_SPKG="sage-spkg -o" singular-clean build` to automatically download and install.
+Use `make SAGE_SPKG="sage-spkg -o" singular-clean sagelib-clean build` to automatically download and install.
``````




---

archive/issue_comments_400269.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nTests run at https://github.com/mkoeppe/sage/pull/40/checks?check_run_id=839092163",
    "created_at": "2020-07-05T17:30:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400269",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Tests run at https://github.com/mkoeppe/sage/pull/40/checks?check_run_id=839092163



---

archive/issue_comments_400270.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, ...**",
    "created_at": "2020-07-05T23:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400270",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, ...**



---

archive/issue_comments_400271.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nLooking good. The failures on `homebrew-standard`, `conda-forge-ubuntu`, `debian-bullseye-standard`, and `debian-sid-standard` have nothing to do with this ticket.\n\nOther reviewers should comment on the changes on this ticket.",
    "created_at": "2020-07-05T23:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400271",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Looking good. The failures on `homebrew-standard`, `conda-forge-ubuntu`, `debian-bullseye-standard`, and `debian-sid-standard` have nothing to do with this ticket.

Other reviewers should comment on the changes on this ticket.



---

archive/issue_comments_400272.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHowever, the builds for `cygwin-standard` (https://github.com/mkoeppe/sage/runs/839373484) and `cygwin-minimal` (https://github.com/mkoeppe/sage/runs/839558776) fail. \n\nUnfortunately the detailed logs are not available because an error happened during the log archiving operation.",
    "created_at": "2020-07-06T08:04:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400272",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

However, the builds for `cygwin-standard` (https://github.com/mkoeppe/sage/runs/839373484) and `cygwin-minimal` (https://github.com/mkoeppe/sage/runs/839558776) fail. 

Unfortunately the detailed logs are not available because an error happened during the log archiving operation.



---

archive/issue_events_359095.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-06T08:04:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359095"
}
```



---

archive/issue_events_359096.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-06T08:04:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359096"
}
```



---

archive/issue_comments_400273.json:
```json
{
    "body": "Changed commit from **[3bc9caa](https://github.com/sagemath/sagetrac-mirror/commit/3bc9caa3ac50a7831b32c641574bf66d7773da13)** to **[06e2227](https://github.com/sagemath/sagetrac-mirror/commit/06e22272a5685c25d922cb55bc06e17e73035780)**",
    "created_at": "2020-07-06T17:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400273",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3bc9caa](https://github.com/sagemath/sagetrac-mirror/commit/3bc9caa3ac50a7831b32c641574bf66d7773da13)** to **[06e2227](https://github.com/sagemath/sagetrac-mirror/commit/06e22272a5685c25d922cb55bc06e17e73035780)**



---

archive/issue_comments_400274.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06e22272a5685c25d922cb55bc06e17e73035780\">06e2227</a></td><td><code>Merge tag '9.2.beta3' into t/25993/public/singular4-1-3</code></td></tr></table>\n",
    "created_at": "2020-07-06T17:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400274",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06e22272a5685c25d922cb55bc06e17e73035780">06e2227</a></td><td><code>Merge tag '9.2.beta3' into t/25993/public/singular4-1-3</code></td></tr></table>




---

archive/issue_comments_400275.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0748b6d61ac6e3e48c081c6bcf9822fa4c3cf01\">e0748b6</a></td><td><code>build/pkgs/singular: Remove python dependency, configure --without-python (singular only supports python2)</code></td></tr></table>\n",
    "created_at": "2020-07-06T18:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400275",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0748b6d61ac6e3e48c081c6bcf9822fa4c3cf01">e0748b6</a></td><td><code>build/pkgs/singular: Remove python dependency, configure --without-python (singular only supports python2)</code></td></tr></table>




---

archive/issue_comments_400276.json:
```json
{
    "body": "Changed commit from **[06e2227](https://github.com/sagemath/sagetrac-mirror/commit/06e22272a5685c25d922cb55bc06e17e73035780)** to **[e0748b6](https://github.com/sagemath/sagetrac-mirror/commit/e0748b6d61ac6e3e48c081c6bcf9822fa4c3cf01)**",
    "created_at": "2020-07-06T18:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400276",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[06e2227](https://github.com/sagemath/sagetrac-mirror/commit/06e22272a5685c25d922cb55bc06e17e73035780)** to **[e0748b6](https://github.com/sagemath/sagetrac-mirror/commit/e0748b6d61ac6e3e48c081c6bcf9822fa4c3cf01)**



---

archive/issue_comments_400277.json:
```json
{
    "body": "Changed author from **Antonio Rojas, Markus Wageringel** to **Antonio Rojas, Markus Wageringel, Matthias Koeppe**",
    "created_at": "2020-07-06T18:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400277",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Antonio Rojas, Markus Wageringel** to **Antonio Rojas, Markus Wageringel, Matthias Koeppe**



---

archive/issue_comments_400278.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90\">539c182</a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24\">761092c</a></td><td><code>Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5\">f2efa6a</a></td><td><code>src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9\">b7bf43b</a></td><td><code>build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e\">365ce61</a></td><td><code>Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71\">1e7becc</a></td><td><code>tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166\">fb61a31</a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e99a004a58170cd0b9748b16cbd42d0c02f3e2f\">4e99a00</a></td><td><code>Merge branch '9.2.beta3+ci-fixes' into t/25993/public/singular4-1-3</code></td></tr></table>\n",
    "created_at": "2020-07-06T19:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400278",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90">539c182</a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24">761092c</a></td><td><code>Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5">f2efa6a</a></td><td><code>src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9">b7bf43b</a></td><td><code>build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e">365ce61</a></td><td><code>Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71">1e7becc</a></td><td><code>tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166">fb61a31</a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e99a004a58170cd0b9748b16cbd42d0c02f3e2f">4e99a00</a></td><td><code>Merge branch '9.2.beta3+ci-fixes' into t/25993/public/singular4-1-3</code></td></tr></table>




---

archive/issue_comments_400279.json:
```json
{
    "body": "Changed commit from **[e0748b6](https://github.com/sagemath/sagetrac-mirror/commit/e0748b6d61ac6e3e48c081c6bcf9822fa4c3cf01)** to **[4e99a00](https://github.com/sagemath/sagetrac-mirror/commit/4e99a004a58170cd0b9748b16cbd42d0c02f3e2f)**",
    "created_at": "2020-07-06T19:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400279",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e0748b6](https://github.com/sagemath/sagetrac-mirror/commit/e0748b6d61ac6e3e48c081c6bcf9822fa4c3cf01)** to **[4e99a00](https://github.com/sagemath/sagetrac-mirror/commit/4e99a004a58170cd0b9748b16cbd42d0c02f3e2f)**



---

archive/issue_comments_400280.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nNew tests run at https://github.com/mkoeppe/Sources/actions/runs/159730297",
    "created_at": "2020-07-06T19:34:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400280",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

New tests run at https://github.com/mkoeppe/Sources/actions/runs/159730297



---

archive/issue_comments_400281.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">comment:113</div>\n\nReplying to [@mkoeppe](#comment:107):\n> However, the builds for `cygwin-standard` (https://github.com/mkoeppe/sage/runs/839373484) and `cygwin-minimal` (https://github.com/mkoeppe/sage/runs/839558776) fail. \n\nReported at https://github.com/Singular/Singular/issues/1017",
    "created_at": "2020-07-07T03:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400281",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:113" align="right">comment:113</div>

Replying to [@mkoeppe](#comment:107):
> However, the builds for `cygwin-standard` (https://github.com/mkoeppe/sage/runs/839373484) and `cygwin-minimal` (https://github.com/mkoeppe/sage/runs/839558776) fail. 

Reported at https://github.com/Singular/Singular/issues/1017



---

archive/issue_comments_400282.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, but not in a stable release.** to **Reported upstream. No feedback yet.**",
    "created_at": "2020-07-07T03:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400282",
    "user": "https://github.com/mkoeppe"
}
```

Changed upstream from **Fixed upstream, but not in a stable release.** to **Reported upstream. No feedback yet.**



---

archive/issue_comments_400283.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e991c7ba4067e7467eb871ce45598dea32a6f5d\">3e991c7</a></td><td><code>build/bin/sage-system-python: Improve check for a suitable python</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62dfd9aaf7778fb8823a8b6a7f02603b62ca40a5\">62dfd9a</a></td><td><code>Merge branch 'u/mkoeppe/build_bin_sage_system_python__improve_check_for_a_suitable_python' of git://trac.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr></table>\n",
    "created_at": "2020-07-24T19:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400283",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e991c7ba4067e7467eb871ce45598dea32a6f5d">3e991c7</a></td><td><code>build/bin/sage-system-python: Improve check for a suitable python</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62dfd9aaf7778fb8823a8b6a7f02603b62ca40a5">62dfd9a</a></td><td><code>Merge branch 'u/mkoeppe/build_bin_sage_system_python__improve_check_for_a_suitable_python' of git://trac.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr></table>




---

archive/issue_comments_400284.json:
```json
{
    "body": "Changed commit from **[4e99a00](https://github.com/sagemath/sagetrac-mirror/commit/4e99a004a58170cd0b9748b16cbd42d0c02f3e2f)** to **[62dfd9a](https://github.com/sagemath/sagetrac-mirror/commit/62dfd9aaf7778fb8823a8b6a7f02603b62ca40a5)**",
    "created_at": "2020-07-24T19:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400284",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4e99a00](https://github.com/sagemath/sagetrac-mirror/commit/4e99a004a58170cd0b9748b16cbd42d0c02f3e2f)** to **[62dfd9a](https://github.com/sagemath/sagetrac-mirror/commit/62dfd9aaf7778fb8823a8b6a7f02603b62ca40a5)**



---

archive/issue_comments_400285.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nUpstream indicates that the Cygwin build problem is fixed https://github.com/Singular/Singular/issues/1017",
    "created_at": "2020-07-24T19:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400285",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Upstream indicates that the Cygwin build problem is fixed https://github.com/Singular/Singular/issues/1017



---

archive/issue_comments_400286.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2020-07-24T19:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400286",
    "user": "https://github.com/mkoeppe"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_400287.json:
```json
{
    "body": "Dependencies: **#30177**",
    "created_at": "2020-07-24T19:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400287",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30177**



---

archive/issue_comments_400288.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n... but it's still broken",
    "created_at": "2020-07-24T20:20:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400288",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

... but it's still broken



---

archive/issue_events_359097.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359097"
}
```



---

archive/issue_events_359098.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359098"
}
```



---

archive/issue_comments_400289.json:
```json
{
    "body": "Changed dependencies from **#30177** to **#30588**",
    "created_at": "2020-09-16T21:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400289",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30177** to **#30588**



---

archive/issue_comments_400290.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI have seen this problem in the last several releases of 9.2.  I get a segmentation fault from singular.py, both with a normal build and running the test just for singular.py.\n\nI followed the instruction at the top in SAGE_ROOT for 9.2.rc2, and the build completed, and the standalone test of singular passed.\n\nThe failures have been on 10.14.6 and 10.15.7.  No problems at all on 10.13.6.",
    "created_at": "2020-10-15T23:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400290",
    "user": "https://github.com/RalphieBoy"
}
```

<div id="comment:9" align="right">comment:9</div>

I have seen this problem in the last several releases of 9.2.  I get a segmentation fault from singular.py, both with a normal build and running the test just for singular.py.

I followed the instruction at the top in SAGE_ROOT for 9.2.rc2, and the build completed, and the standalone test of singular passed.

The failures have been on 10.14.6 and 10.15.7.  No problems at all on 10.13.6.



---

archive/issue_comments_400291.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nPerhaps not directly related to this ticket but with this ticket I have\n\n```\nsage: sig_on_count() # check sig_on/off pairings (virtual doctest) ## line 499 ##\n0\nsage: a = singular(1) ## line 511 ##\nsage: _ = singular._expect.sendline('1+')  # unfinished input ## line 512 ##\nsage: try:\n    alarm(0.5)\n    singular._expect_expr('>')  # interrupt this\nexcept KeyboardInterrupt:\n    pass ## line 513 ##\nControl-C pressed. Interrupting Singular. Please wait a few seconds...\nsage: 2*a ## line 522 ##\n------------------------------------------------------------------------\n/local/sage-git/sage/local/lib/python3.8/site-packages/cysignals/signals.cpython-38-x86_64-linux-gnu.so(+0x5a7e)[0x7fad35b98a7e]\n/local/sage-git/sage/local/lib/python3.8/site-packages/cysignals/signals.cpython-38-x86_64-linux-gnu.so(+0x5cb0)[0x7fad35b98cb0]\n/local/sage-git/sage/local/lib/python3.8/site-packages/cysignals/signals.cpython-38-x86_64-linux-gnu.so(+0x5080)[0x7fad35b98080]\n/local/sage-git/sage/local/lib/python3.8/site-packages/cysignals/signals.cpython-38-x86_64-linux-gnu.so(+0x5218)[0x7fad35b98218]\n/lib64/libc.so.6(+0x379d0)[0x7fad3eb009d0]\n\n...\n\nUnhandled SIGSEGV: A segmentation fault occurred.\nThis probably occurred because a *compiled* module has a bug\nin it and is not properly wrapped with sig_on(), sig_off().\nPython will now terminate.\n------------------------------------------------------------------------\n\n**********************************************************************\n----------------------------------------------------------------------\nsage -t --long --warn-long 214.7 --random-seed=0 src/sage/interfaces/singular.py  # Killed due to segmentation fault\n```\n\nI have seen this with the current (`9.2.rc2`) `singular-4.1.1p2`. This is on Gentoo.",
    "created_at": "2020-10-16T05:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400291",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:0" align="right">comment:0</div>

Perhaps not directly related to this ticket but with this ticket I have

```
sage: sig_on_count() # check sig_on/off pairings (virtual doctest) ## line 499 ##
0
sage: a = singular(1) ## line 511 ##
sage: _ = singular._expect.sendline('1+')  # unfinished input ## line 512 ##
sage: try:
    alarm(0.5)
    singular._expect_expr('>')  # interrupt this
except KeyboardInterrupt:
    pass ## line 513 ##
Control-C pressed. Interrupting Singular. Please wait a few seconds...
sage: 2*a ## line 522 ##
------------------------------------------------------------------------
/local/sage-git/sage/local/lib/python3.8/site-packages/cysignals/signals.cpython-38-x86_64-linux-gnu.so(+0x5a7e)[0x7fad35b98a7e]
/local/sage-git/sage/local/lib/python3.8/site-packages/cysignals/signals.cpython-38-x86_64-linux-gnu.so(+0x5cb0)[0x7fad35b98cb0]
/local/sage-git/sage/local/lib/python3.8/site-packages/cysignals/signals.cpython-38-x86_64-linux-gnu.so(+0x5080)[0x7fad35b98080]
/local/sage-git/sage/local/lib/python3.8/site-packages/cysignals/signals.cpython-38-x86_64-linux-gnu.so(+0x5218)[0x7fad35b98218]
/lib64/libc.so.6(+0x379d0)[0x7fad3eb009d0]

...

Unhandled SIGSEGV: A segmentation fault occurred.
This probably occurred because a *compiled* module has a bug
in it and is not properly wrapped with sig_on(), sig_off().
Python will now terminate.
------------------------------------------------------------------------

**********************************************************************
----------------------------------------------------------------------
sage -t --long --warn-long 214.7 --random-seed=0 src/sage/interfaces/singular.py  # Killed due to segmentation fault
```

I have seen this with the current (`9.2.rc2`) `singular-4.1.1p2`. This is on Gentoo.



---

archive/issue_comments_400292.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n4.2 is out. The only significant new breakage (compared to 4.1.3-p2) is caused by the library rename `poly.lib` -> `polylib.lib`, which can be easily fixed.",
    "created_at": "2020-12-19T09:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400292",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:1" align="right">comment:1</div>

4.2 is out. The only significant new breakage (compared to 4.1.3-p2) is caused by the library rename `poly.lib` -> `polylib.lib`, which can be easily fixed.



---

archive/issue_comments_400293.json:
```json
{
    "body": "Changed commit from **[62dfd9a](https://github.com/sagemath/sagetrac-mirror/commit/62dfd9aaf7778fb8823a8b6a7f02603b62ca40a5)** to **[e3b08fb](https://github.com/sagemath/sagetrac-mirror/commit/e3b08fb3c4198a4cca92642aaf8fb1747d9e4dc2)**",
    "created_at": "2020-12-19T10:23:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400293",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[62dfd9a](https://github.com/sagemath/sagetrac-mirror/commit/62dfd9aaf7778fb8823a8b6a7f02603b62ca40a5)** to **[e3b08fb](https://github.com/sagemath/sagetrac-mirror/commit/e3b08fb3c4198a4cca92642aaf8fb1747d9e4dc2)**



---

archive/issue_comments_400294.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3b08fb3c4198a4cca92642aaf8fb1747d9e4dc2\">e3b08fb</a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/25993/public/singular4-1-3</code></td></tr></table>\n",
    "created_at": "2020-12-19T10:23:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400294",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3b08fb3c4198a4cca92642aaf8fb1747d9e4dc2">e3b08fb</a></td><td><code>Merge remote-tracking branch 'origin/develop' into t/25993/public/singular4-1-3</code></td></tr></table>




---

archive/issue_comments_400295.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7206432db68f6a1e7e5500586a0ae140fe911e97\">7206432</a></td><td><code>Update singular to 4.2.0p0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ded1588ed92f4d64f05eeb1c45cb6327d5ef22df\">ded1588</a></td><td><code>Adapt to library rename poly.lib -> polylib.lib</code></td></tr></table>\n",
    "created_at": "2020-12-19T10:32:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400295",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7206432db68f6a1e7e5500586a0ae140fe911e97">7206432</a></td><td><code>Update singular to 4.2.0p0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ded1588ed92f4d64f05eeb1c45cb6327d5ef22df">ded1588</a></td><td><code>Adapt to library rename poly.lib -> polylib.lib</code></td></tr></table>




---

archive/issue_comments_400296.json:
```json
{
    "body": "Changed commit from **[e3b08fb](https://github.com/sagemath/sagetrac-mirror/commit/e3b08fb3c4198a4cca92642aaf8fb1747d9e4dc2)** to **[ded1588](https://github.com/sagemath/sagetrac-mirror/commit/ded1588ed92f4d64f05eeb1c45cb6327d5ef22df)**",
    "created_at": "2020-12-19T10:32:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400296",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e3b08fb](https://github.com/sagemath/sagetrac-mirror/commit/e3b08fb3c4198a4cca92642aaf8fb1747d9e4dc2)** to **[ded1588](https://github.com/sagemath/sagetrac-mirror/commit/ded1588ed92f4d64f05eeb1c45cb6327d5ef22df)**



---

archive/issue_comments_400297.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nRebased and updated. Can someone check if the cygwin issue is fixed?",
    "created_at": "2020-12-19T10:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400297",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:4" align="right">comment:4</div>

Rebased and updated. Can someone check if the cygwin issue is fixed?



---

archive/issue_comments_400298.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-**Tarball 4.1.3p2**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3p2.tar.gz\n+**Tarball 4.2.0**: see the branch\n \n Use `make SAGE_SPKG=\"sage-spkg -o\" singular-clean sagelib-clean build` to automatically download and install.\n``````\n",
    "created_at": "2020-12-19T11:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400298",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-**Tarball 4.1.3p2**: ftp://jim.mathematik.uni-kl.de/pub/Math/Singular/SOURCES/4-1-3/singular-4.1.3p2.tar.gz
+**Tarball 4.2.0**: see the branch
 
 Use `make SAGE_SPKG="sage-spkg -o" singular-clean sagelib-clean build` to automatically download and install.
``````




---

archive/issue_events_359099.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-12-19T11:44:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359099"
}
```



---

archive/issue_events_359100.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-12-19T11:44:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359100"
}
```



---

archive/issue_comments_400299.json:
```json
{
    "body": "<div id=\"comment:127\" align=\"right\">comment:127</div>\n\nReplying to [@antonio-rojas](#comment:124):\n> Rebased and updated. Can someone check if the cygwin issue is fixed?\n\nWe have a much improved Cygwin GH Actions workflow in #31064 - which needs review",
    "created_at": "2020-12-19T19:15:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400299",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:127" align="right">comment:127</div>

Replying to [@antonio-rojas](#comment:124):
> Rebased and updated. Can someone check if the cygwin issue is fixed?

We have a much improved Cygwin GH Actions workflow in #31064 - which needs review



---

archive/issue_comments_400300.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/432871385**",
    "created_at": "2020-12-19T19:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400300",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/432871385**



---

archive/issue_comments_400301.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nfailure at stage 4  - seems like a typo in a script?",
    "created_at": "2020-12-20T12:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400301",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

failure at stage 4  - seems like a typo in a script?



---

archive/issue_comments_400302.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nYes, just fixed this copy/paste error in #31064.",
    "created_at": "2020-12-20T18:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400302",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:0" align="right">comment:0</div>

Yes, just fixed this copy/paste error in #31064.



---

archive/issue_comments_400303.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nNevertheless there are some results from the cygwin run:\n\n```\nFile \"src/sage/algebras/commutative_dga.py\", line 26, in sage.algebras.commutative_dga\nFailed example:\n    A.<x,y,z> = GradedCommutativeAlgebra(QQ)\nException raised:\n    Traceback (most recent call last):\n      File \"sage/structure/coerce.pyx\", line 1191, in sage.structure.coerce.CoercionModel.bin_op (build/cythonized/sage/structure/coerce.c:10474)\n        action = self._action_maps.get(xp, yp, op)\n      File \"sage/structure/coerce_dict.pyx\", line 1328, in sage.structure.coerce_dict.TripleDict.get (build/cythonized/sage/structure/coerce_dict.c:8024)\n        raise KeyError((k1, k2, k3))\n    KeyError: (Free Algebra on 3 generators (x, y, z) over Rational Field, <class 'int'>, <built-in function mul>)\n\n    During handling of the above exception, another exception occurred:\n\n    Traceback (most recent call last):\n      File \"sage/libs/singular/function.pyx\", line 1814, in sage.libs.singular.function.singular_function (build/cythonized/sage/libs/singular/function.cpp:18103)\n        return SingularKernelFunction(name)\n      File \"sage/libs/singular/function.pyx\", line 1615, in sage.libs.singular.function.SingularKernelFunction.__init__ (build/cythonized/sage/libs/singular/function.cpp:17781)\n        self.call_handler = self.get_call_handler()\n      File \"sage/libs/singular/function.pyx\", line 1621, in sage.libs.singular.function.SingularKernelFunction.get_call_handler (build/cythonized/sage/libs/singular/function.cpp:17902)\n        raise NameError(\"Singular kernel function {!r} is not defined\".format(self._name))\n    NameError: Singular kernel function 'freeAlgebra' is not defined\n\n    During handling of the above exception, another exception occurred:\n\n```\n(and many more from this module and src/sage/algebras/free_algebra.py etc. -- see ptest.log in the logs artifact https://github.com/mkoeppe/sage/suites/1698022757/artifacts/31983136)",
    "created_at": "2020-12-20T18:49:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400303",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">comment:1</div>

Nevertheless there are some results from the cygwin run:

```
File "src/sage/algebras/commutative_dga.py", line 26, in sage.algebras.commutative_dga
Failed example:
    A.<x,y,z> = GradedCommutativeAlgebra(QQ)
Exception raised:
    Traceback (most recent call last):
      File "sage/structure/coerce.pyx", line 1191, in sage.structure.coerce.CoercionModel.bin_op (build/cythonized/sage/structure/coerce.c:10474)
        action = self._action_maps.get(xp, yp, op)
      File "sage/structure/coerce_dict.pyx", line 1328, in sage.structure.coerce_dict.TripleDict.get (build/cythonized/sage/structure/coerce_dict.c:8024)
        raise KeyError((k1, k2, k3))
    KeyError: (Free Algebra on 3 generators (x, y, z) over Rational Field, <class 'int'>, <built-in function mul>)

    During handling of the above exception, another exception occurred:

    Traceback (most recent call last):
      File "sage/libs/singular/function.pyx", line 1814, in sage.libs.singular.function.singular_function (build/cythonized/sage/libs/singular/function.cpp:18103)
        return SingularKernelFunction(name)
      File "sage/libs/singular/function.pyx", line 1615, in sage.libs.singular.function.SingularKernelFunction.__init__ (build/cythonized/sage/libs/singular/function.cpp:17781)
        self.call_handler = self.get_call_handler()
      File "sage/libs/singular/function.pyx", line 1621, in sage.libs.singular.function.SingularKernelFunction.get_call_handler (build/cythonized/sage/libs/singular/function.cpp:17902)
        raise NameError("Singular kernel function {!r} is not defined".format(self._name))
    NameError: Singular kernel function 'freeAlgebra' is not defined

    During handling of the above exception, another exception occurred:

```
(and many more from this module and src/sage/algebras/free_algebra.py etc. -- see ptest.log in the logs artifact https://github.com/mkoeppe/sage/suites/1698022757/artifacts/31983136)



---

archive/issue_events_359101.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-20T18:49:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359101"
}
```



---

archive/issue_events_359102.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-20T18:49:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359102"
}
```



---

archive/issue_comments_400304.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe singular build itself looks clean on cygwin.",
    "created_at": "2020-12-20T18:51:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400304",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

The singular build itself looks clean on cygwin.



---

archive/issue_comments_400305.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nthis is the same singular module that previously did not build on cygwin -- now something builds but cannot be loaded. I've updated the upstream issue https://github.com/Singular/Singular/issues/1017",
    "created_at": "2020-12-20T19:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400305",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

this is the same singular module that previously did not build on cygwin -- now something builds but cannot be loaded. I've updated the upstream issue https://github.com/Singular/Singular/issues/1017



---

archive/issue_comments_400306.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e57e3e25aeb8c4254fe6ab127beb45d86d307da\">9e57e3e</a></td><td><code>Merge branch 'develop' of git://git.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8451f2f6ebc71cc78e6e75fc691674e16d401d1b\">8451f2f</a></td><td><code>Update to singular 4.2.0p1</code></td></tr></table>\n",
    "created_at": "2021-01-06T16:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400306",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e57e3e25aeb8c4254fe6ab127beb45d86d307da">9e57e3e</a></td><td><code>Merge branch 'develop' of git://git.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8451f2f6ebc71cc78e6e75fc691674e16d401d1b">8451f2f</a></td><td><code>Update to singular 4.2.0p1</code></td></tr></table>




---

archive/issue_comments_400307.json:
```json
{
    "body": "Changed commit from **[ded1588](https://github.com/sagemath/sagetrac-mirror/commit/ded1588ed92f4d64f05eeb1c45cb6327d5ef22df)** to **[8451f2f](https://github.com/sagemath/sagetrac-mirror/commit/8451f2f6ebc71cc78e6e75fc691674e16d401d1b)**",
    "created_at": "2021-01-06T16:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400307",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ded1588](https://github.com/sagemath/sagetrac-mirror/commit/ded1588ed92f4d64f05eeb1c45cb6327d5ef22df)** to **[8451f2f](https://github.com/sagemath/sagetrac-mirror/commit/8451f2f6ebc71cc78e6e75fc691674e16d401d1b)**



---

archive/issue_comments_400308.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHelp from Hans Schoenemann is coming in at https://github.com/Singular/Singular/issues/1017",
    "created_at": "2021-02-16T17:07:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400308",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Help from Hans Schoenemann is coming in at https://github.com/Singular/Singular/issues/1017



---

archive/issue_comments_400309.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae56cbe8dc8d55a652de7f77e5ca34d688f4b04c\">ae56cbe</a></td><td><code>Merge branch 't/30177/build_bin_sage_system_python__improve_check_for_a_suitable_python' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c2dc3ba07b5339343089ffc1b92bb2c94d0b67f\">6c2dc3b</a></td><td><code>Merge branch 'public/singular4-1-3' of git://trac.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e8ab72c9ef3f272f62a5a3c234849c58f2f057b\">6e8ab72</a></td><td><code>Merge branch 'public/singular4-1-3' of git://trac.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5900d925633ba1052d664ab23b422344fc2f20ea\">5900d92</a></td><td><code>Merge tag '9.3.beta7' into t/25993/public/singular4-1-3</code></td></tr></table>\n",
    "created_at": "2021-02-16T17:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400309",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae56cbe8dc8d55a652de7f77e5ca34d688f4b04c">ae56cbe</a></td><td><code>Merge branch 't/30177/build_bin_sage_system_python__improve_check_for_a_suitable_python' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c2dc3ba07b5339343089ffc1b92bb2c94d0b67f">6c2dc3b</a></td><td><code>Merge branch 'public/singular4-1-3' of git://trac.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e8ab72c9ef3f272f62a5a3c234849c58f2f057b">6e8ab72</a></td><td><code>Merge branch 'public/singular4-1-3' of git://trac.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5900d925633ba1052d664ab23b422344fc2f20ea">5900d92</a></td><td><code>Merge tag '9.3.beta7' into t/25993/public/singular4-1-3</code></td></tr></table>




---

archive/issue_comments_400310.json:
```json
{
    "body": "Changed commit from **[8451f2f](https://github.com/sagemath/sagetrac-mirror/commit/8451f2f6ebc71cc78e6e75fc691674e16d401d1b)** to **[5900d92](https://github.com/sagemath/sagetrac-mirror/commit/5900d925633ba1052d664ab23b422344fc2f20ea)**",
    "created_at": "2021-02-16T17:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400310",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8451f2f](https://github.com/sagemath/sagetrac-mirror/commit/8451f2f6ebc71cc78e6e75fc691674e16d401d1b)** to **[5900d92](https://github.com/sagemath/sagetrac-mirror/commit/5900d925633ba1052d664ab23b422344fc2f20ea)**



---

archive/issue_comments_400311.json:
```json
{
    "body": "Changed dependencies from **#30588** to none",
    "created_at": "2021-02-16T17:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400311",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30588** to none



---

archive/issue_comments_400312.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-**Tarball 4.2.0**: see the branch\n+Tarball: `see checksums.ini` on the branch\n \n Use `make SAGE_SPKG=\"sage-spkg -o\" singular-clean sagelib-clean build` to automatically download and install.\n``````\n",
    "created_at": "2021-02-16T22:57:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400312",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-**Tarball 4.2.0**: see the branch
+Tarball: `see checksums.ini` on the branch
 
 Use `make SAGE_SPKG="sage-spkg -o" singular-clean sagelib-clean build` to automatically download and install.
``````




---

archive/issue_comments_400313.json:
```json
{
    "body": "Dependencies: **#31064**",
    "created_at": "2021-02-16T22:57:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400313",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#31064**



---

archive/issue_comments_400314.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/432871385** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/573107357**",
    "created_at": "2021-02-16T23:04:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400314",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/432871385** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/573107357**



---

archive/issue_comments_400315.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cea4cd5aed351f19c0d6129e1e508c1d7179c751\">cea4cd5</a></td><td><code>ci-cygwin-standard.yml: More stages, continue-on-error: true</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf31b79036db96b5fd9e0b22f44c3692bc22356b\">cf31b79</a></td><td><code>Fixup after cherry-pick</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/073124cb21874ec02071377adcde9e5cbe895426\">073124c</a></td><td><code>Merge branch 't/31084/makefile__add__ptest__targets_that_do_not_depend_on_the_docbuild' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8769bd66363a757f8917f8b59c149b4807649234\">8769bd6</a></td><td><code>.github/workflows/ci-cygwin-*.yml: Separate docbuild and ptest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38262228db0391e9bc8cda5bf06982d6d0db12ca\">3826222</a></td><td><code>Fix up stage iv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/598b0c233a501dba64b66c26577d533c826d9ad5\">598b0c2</a></td><td><code>local-cygwin-choco: Do not pass through PATH, use full pathname of choco instead</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d65299c666b9ed71a8f93cfb0b830c15d9e923f8\">d65299c</a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5e405116fa41c9afb3c5f46fbde2489616d267f\">a5e4051</a></td><td><code>Merge branch 't/30944/tox__improve_local_sudo_ubuntu_standard' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42f4458e3ae857f82759b3c9490ab34306a15f4d\">42f4458</a></td><td><code>Merge tag '9.3.beta7' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/457c7490d08033174bc43bdb74e14e669b4890b8\">457c749</a></td><td><code>Merge branch 'u/mkoeppe/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq' of git://trac.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr></table>\n",
    "created_at": "2021-02-16T23:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400315",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cea4cd5aed351f19c0d6129e1e508c1d7179c751">cea4cd5</a></td><td><code>ci-cygwin-standard.yml: More stages, continue-on-error: true</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf31b79036db96b5fd9e0b22f44c3692bc22356b">cf31b79</a></td><td><code>Fixup after cherry-pick</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/073124cb21874ec02071377adcde9e5cbe895426">073124c</a></td><td><code>Merge branch 't/31084/makefile__add__ptest__targets_that_do_not_depend_on_the_docbuild' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8769bd66363a757f8917f8b59c149b4807649234">8769bd6</a></td><td><code>.github/workflows/ci-cygwin-*.yml: Separate docbuild and ptest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38262228db0391e9bc8cda5bf06982d6d0db12ca">3826222</a></td><td><code>Fix up stage iv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/598b0c233a501dba64b66c26577d533c826d9ad5">598b0c2</a></td><td><code>local-cygwin-choco: Do not pass through PATH, use full pathname of choco instead</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d65299c666b9ed71a8f93cfb0b830c15d9e923f8">d65299c</a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5e405116fa41c9afb3c5f46fbde2489616d267f">a5e4051</a></td><td><code>Merge branch 't/30944/tox__improve_local_sudo_ubuntu_standard' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42f4458e3ae857f82759b3c9490ab34306a15f4d">42f4458</a></td><td><code>Merge tag '9.3.beta7' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/457c7490d08033174bc43bdb74e14e669b4890b8">457c749</a></td><td><code>Merge branch 'u/mkoeppe/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq' of git://trac.sagemath.org/sage into t/25993/public/singular4-1-3</code></td></tr></table>




---

archive/issue_comments_400316.json:
```json
{
    "body": "Changed commit from **[5900d92](https://github.com/sagemath/sagetrac-mirror/commit/5900d925633ba1052d664ab23b422344fc2f20ea)** to **[457c749](https://github.com/sagemath/sagetrac-mirror/commit/457c7490d08033174bc43bdb74e14e669b4890b8)**",
    "created_at": "2021-02-16T23:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400316",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5900d92](https://github.com/sagemath/sagetrac-mirror/commit/5900d925633ba1052d664ab23b422344fc2f20ea)** to **[457c749](https://github.com/sagemath/sagetrac-mirror/commit/457c7490d08033174bc43bdb74e14e669b4890b8)**



---

archive/issue_comments_400317.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/573107357** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/573778621**",
    "created_at": "2021-02-17T04:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400317",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/573107357** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/573778621**



---

archive/issue_comments_400318.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32f7ba3bbde8acbd46ee6249cd0a80dc78a7efd0\">32f7ba3</a></td><td><code>Do not use --disable-p-procs-dynamic --enable-p-procs-static</code></td></tr></table>\n",
    "created_at": "2021-02-17T04:48:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400318",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32f7ba3bbde8acbd46ee6249cd0a80dc78a7efd0">32f7ba3</a></td><td><code>Do not use --disable-p-procs-dynamic --enable-p-procs-static</code></td></tr></table>




---

archive/issue_comments_400319.json:
```json
{
    "body": "Changed commit from **[457c749](https://github.com/sagemath/sagetrac-mirror/commit/457c7490d08033174bc43bdb74e14e669b4890b8)** to **[32f7ba3](https://github.com/sagemath/sagetrac-mirror/commit/32f7ba3bbde8acbd46ee6249cd0a80dc78a7efd0)**",
    "created_at": "2021-02-17T04:48:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400319",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[457c749](https://github.com/sagemath/sagetrac-mirror/commit/457c7490d08033174bc43bdb74e14e669b4890b8)** to **[32f7ba3](https://github.com/sagemath/sagetrac-mirror/commit/32f7ba3bbde8acbd46ee6249cd0a80dc78a7efd0)**



---

archive/issue_comments_400320.json:
```json
{
    "body": "Changed dependencies from **#31064** to **#31064, #31412**",
    "created_at": "2021-02-19T17:59:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400320",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31064** to **#31064, #31412**



---

archive/issue_comments_400321.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab7308746512eee05b4dfe0cd36e4cc628b13644\">ab73087</a></td><td><code>.github/workflows: python-tox is now tox on ubuntu</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a87cf0430f895b53ff5bc5046f827213a9b3a386\">a87cf04</a></td><td><code>Merge branch 't/31412/gh_actions__fix_up_for_new_linux_runner_default' into t/25993/public/singular4-1-3</code></td></tr></table>\n",
    "created_at": "2021-02-19T18:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400321",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab7308746512eee05b4dfe0cd36e4cc628b13644">ab73087</a></td><td><code>.github/workflows: python-tox is now tox on ubuntu</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a87cf0430f895b53ff5bc5046f827213a9b3a386">a87cf04</a></td><td><code>Merge branch 't/31412/gh_actions__fix_up_for_new_linux_runner_default' into t/25993/public/singular4-1-3</code></td></tr></table>




---

archive/issue_comments_400322.json:
```json
{
    "body": "Changed commit from **[32f7ba3](https://github.com/sagemath/sagetrac-mirror/commit/32f7ba3bbde8acbd46ee6249cd0a80dc78a7efd0)** to **[a87cf04](https://github.com/sagemath/sagetrac-mirror/commit/a87cf0430f895b53ff5bc5046f827213a9b3a386)**",
    "created_at": "2021-02-19T18:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400322",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[32f7ba3](https://github.com/sagemath/sagetrac-mirror/commit/32f7ba3bbde8acbd46ee6249cd0a80dc78a7efd0)** to **[a87cf04](https://github.com/sagemath/sagetrac-mirror/commit/a87cf0430f895b53ff5bc5046f827213a9b3a386)**



---

archive/issue_comments_400323.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05ed3430da3abe7af43409685240606c19855c35\">05ed343</a></td><td><code>build/pkgs/pysingular: Update to 0.9.7, add upstream_url</code></td></tr></table>\n",
    "created_at": "2021-02-19T23:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400323",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05ed3430da3abe7af43409685240606c19855c35">05ed343</a></td><td><code>build/pkgs/pysingular: Update to 0.9.7, add upstream_url</code></td></tr></table>




---

archive/issue_comments_400324.json:
```json
{
    "body": "Changed commit from **[a87cf04](https://github.com/sagemath/sagetrac-mirror/commit/a87cf0430f895b53ff5bc5046f827213a9b3a386)** to **[05ed343](https://github.com/sagemath/sagetrac-mirror/commit/05ed3430da3abe7af43409685240606c19855c35)**",
    "created_at": "2021-02-19T23:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400324",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a87cf04](https://github.com/sagemath/sagetrac-mirror/commit/a87cf0430f895b53ff5bc5046f827213a9b3a386)** to **[05ed343](https://github.com/sagemath/sagetrac-mirror/commit/05ed3430da3abe7af43409685240606c19855c35)**



---

archive/issue_comments_400325.json:
```json
{
    "body": "Changed commit from **[05ed343](https://github.com/sagemath/sagetrac-mirror/commit/05ed3430da3abe7af43409685240606c19855c35)** to **[16ae980](https://github.com/sagemath/sagetrac-mirror/commit/16ae9803110ae673a5be4eebfc710eada30e097f)**",
    "created_at": "2021-02-22T16:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400325",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[05ed343](https://github.com/sagemath/sagetrac-mirror/commit/05ed3430da3abe7af43409685240606c19855c35)** to **[16ae980](https://github.com/sagemath/sagetrac-mirror/commit/16ae9803110ae673a5be4eebfc710eada30e097f)**



---

archive/issue_comments_400326.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16ae9803110ae673a5be4eebfc710eada30e097f\">16ae980</a></td><td><code>build/pkgs/singular/spkg-install.in [CYGWIN]: New set of configure flags from Hans Schoenemann</code></td></tr></table>\n",
    "created_at": "2021-02-22T16:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400326",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16ae9803110ae673a5be4eebfc710eada30e097f">16ae980</a></td><td><code>build/pkgs/singular/spkg-install.in [CYGWIN]: New set of configure flags from Hans Schoenemann</code></td></tr></table>




---

archive/issue_comments_400327.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/075b225349c2a12dcbe236191fea3be52e3eac90\">075b225</a></td><td><code>build/pkgs/singular/spkg-install.in: Use make -j1 to work around makefile parallelization bugs in Singular spielwiese HEAD</code></td></tr></table>\n",
    "created_at": "2021-02-22T17:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400327",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/075b225349c2a12dcbe236191fea3be52e3eac90">075b225</a></td><td><code>build/pkgs/singular/spkg-install.in: Use make -j1 to work around makefile parallelization bugs in Singular spielwiese HEAD</code></td></tr></table>




---

archive/issue_comments_400328.json:
```json
{
    "body": "Changed commit from **[16ae980](https://github.com/sagemath/sagetrac-mirror/commit/16ae9803110ae673a5be4eebfc710eada30e097f)** to **[075b225](https://github.com/sagemath/sagetrac-mirror/commit/075b225349c2a12dcbe236191fea3be52e3eac90)**",
    "created_at": "2021-02-22T17:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400328",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[16ae980](https://github.com/sagemath/sagetrac-mirror/commit/16ae9803110ae673a5be4eebfc710eada30e097f)** to **[075b225](https://github.com/sagemath/sagetrac-mirror/commit/075b225349c2a12dcbe236191fea3be52e3eac90)**



---

archive/issue_comments_400329.json:
```json
{
    "body": "Attachment: **[singular-4.2.0p1+spielwiese-2021-02-26+sage.tar.gz](https://github.com/sagemath/sage/files/ticket25993/3cba356a671b514228fcf35b23eea14a.gz)**",
    "created_at": "2021-02-26T21:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400329",
    "user": "https://github.com/mkoeppe"
}
```

Attachment: **[singular-4.2.0p1+spielwiese-2021-02-26+sage.tar.gz](https://github.com/sagemath/sage/files/ticket25993/3cba356a671b514228fcf35b23eea14a.gz)**



---

archive/issue_comments_400330.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eedcd5fe4b056ee0109fced2f5edfe8616bfb8de\">eedcd5f</a></td><td><code>build/pkgs/singular: Use singular from spielwiese HEAD + Sage PR</code></td></tr></table>\n",
    "created_at": "2021-02-26T21:52:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400330",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eedcd5fe4b056ee0109fced2f5edfe8616bfb8de">eedcd5f</a></td><td><code>build/pkgs/singular: Use singular from spielwiese HEAD + Sage PR</code></td></tr></table>




---

archive/issue_comments_400331.json:
```json
{
    "body": "Changed commit from **[075b225](https://github.com/sagemath/sagetrac-mirror/commit/075b225349c2a12dcbe236191fea3be52e3eac90)** to **[eedcd5f](https://github.com/sagemath/sagetrac-mirror/commit/eedcd5fe4b056ee0109fced2f5edfe8616bfb8de)**",
    "created_at": "2021-02-26T21:52:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400331",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[075b225](https://github.com/sagemath/sagetrac-mirror/commit/075b225349c2a12dcbe236191fea3be52e3eac90)** to **[eedcd5f](https://github.com/sagemath/sagetrac-mirror/commit/eedcd5fe4b056ee0109fced2f5edfe8616bfb8de)**



---

archive/issue_comments_400332.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/573778621** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/604076678**",
    "created_at": "2021-02-26T22:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400332",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/573778621** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/604076678**



---

archive/issue_comments_400333.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIs this a snapshot from singular git repo? If so, can you document the the commit hash?",
    "created_at": "2021-02-27T00:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400333",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:1" align="right">comment:1</div>

Is this a snapshot from singular git repo? If so, can you document the the commit hash?



---

archive/issue_comments_400334.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nYes, this is https://github.com/mkoeppe/Sources/tree/singular-4.2.0p1+spielwiese-2021-02-26%2Bsage",
    "created_at": "2021-02-27T00:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400334",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Yes, this is https://github.com/mkoeppe/Sources/tree/singular-4.2.0p1+spielwiese-2021-02-26%2Bsage



---

archive/issue_comments_400335.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOk, so this a tag on your fork. So, considering that upstream merged [https://github.com/mkoeppe/Sources/commit/4811c35bbbce3dd9ae3dd60d5a19c2db5af7d08c](https://github.com/mkoeppe/Sources/commit/4811c35bbbce3dd9ae3dd60d5a19c2db5af7d08c) this is effectively master at that commit plus a \"nice\" release version in `configure.ac` so you can produce your own tarballs.\n\nI hope we can just use the regular release in linux distros, otherwise that will be messy (but not a first by any means).",
    "created_at": "2021-02-27T00:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400335",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3" align="right">comment:3</div>

Ok, so this a tag on your fork. So, considering that upstream merged [https://github.com/mkoeppe/Sources/commit/4811c35bbbce3dd9ae3dd60d5a19c2db5af7d08c](https://github.com/mkoeppe/Sources/commit/4811c35bbbce3dd9ae3dd60d5a19c2db5af7d08c) this is effectively master at that commit plus a "nice" release version in `configure.ac` so you can produce your own tarballs.

I hope we can just use the regular release in linux distros, otherwise that will be messy (but not a first by any means).



---

archive/issue_comments_400336.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThat's right. If everything goes well with this version, I'll ask upstream regarding release plans.",
    "created_at": "2021-02-27T00:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400336",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

That's right. If everything goes well with this version, I'll ask upstream regarding release plans.



---

archive/issue_comments_400337.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe build of Singular on `cygwin-standard` now goes through without errors, but because of unrelated build troubles (#31423, #31438, ...), the test run does not make it to the `make ptest` phase yet.",
    "created_at": "2021-02-27T19:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400337",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

The build of Singular on `cygwin-standard` now goes through without errors, but because of unrelated build troubles (#31423, #31438, ...), the test run does not make it to the `make ptest` phase yet.



---

archive/issue_comments_400338.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/604076678** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/606112478**",
    "created_at": "2021-02-27T19:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400338",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/604076678** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/606112478**



---

archive/issue_events_359103.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-27T19:10:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359103"
}
```



---

archive/issue_events_359104.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-27T19:10:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359104"
}
```



---

archive/issue_comments_400339.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe next error on Cygwin happens in the `pynac` build (which depends on Singular):\n\n```\n  [pynac-0.7.26.sage-2020-04-03.p0]   libtool: link: g++ -std=gnu++11 -shared -nostdlib /usr/lib/gcc/x86_64-pc-cygwin/10/crtbeginS.o  .libs/libpynac_la-add.o .libs/libpynac_la-archive.o .libs/libpynac_la-assume.o .libs/libpynac_la-basic.o .libs/libpynac_la-cmatcher.o .libs/libpynac_la-constant.o .libs/libpynac_la-context.o .libs/libpynac_la-ex.o .libs/libpynac_la-expair.o .libs/libpynac_la-expairseq.o .libs/libpynac_la-exprseq.o .libs/libpynac_la-fderivative.o .libs/libpynac_la-function.o .libs/libpynac_la-function_info.o .libs/libpynac_la-infinity.o .libs/libpynac_la-inifcns.o .libs/libpynac_la-inifcns_trig.o .libs/libpynac_la-inifcns_zeta.o .libs/libpynac_la-inifcns_hyperb.o .libs/libpynac_la-inifcns_trans.o .libs/libpynac_la-inifcns_gamma.o .libs/libpynac_la-inifcns_nstdsums.o .libs/libpynac_la-inifcns_orthopoly.o .libs/libpynac_la-inifcns_hyperg.o .libs/libpynac_la-inifcns_comb.o .libs/libpynac_la-lst.o .libs/libpynac_la-matrix.o .libs/libpynac_la-mpoly-giac.o .libs/libpynac_la-mpoly-ginac.o .libs/libpynac_la-mpoly-singular.o .libs/libpynac_la-mpoly.o .libs/libpynac_la-mul.o .libs/libpynac_la-normal.o .libs/libpynac_la-numeric.o .libs/libpynac_la-operators.o .libs/libpynac_la-power.o .libs/libpynac_la-py_funcs.o .libs/libpynac_la-registrar.o .libs/libpynac_la-relational.o .libs/libpynac_la-remember.o .libs/libpynac_la-pseries.o .libs/libpynac_la-print.o .libs/libpynac_la-symbol.o .libs/libpynac_la-upoly-ginac.o .libs/libpynac_la-utils.o .libs/libpynac_la-wildcard.o .libs/libpynac_la-templates.o .libs/libpynac_la-infoflagbase.o .libs/libpynac_la-sum.o .libs/libpynac_la-order.o .libs/libpynac_la-useries.o   -L/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/lib -L/usr/lib -lpython3.8 -lcrypt -lintl -ldl -lfactory -lmpfr -lntl -lomalloc -lsingular_resources -lflint -lgmp -L/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/10 -L/usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/10/../../../../lib -L/lib/../lib -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/lib -L/usr/lib/gcc/x86_64-pc-cygwin/10/../../.. -lstdc++ -lgcc_s -lgcc -lcygwin -ladvapi32 -lshell32 -luser32 -lkernel32 -lgcc_s -lgcc /usr/lib/gcc/x86_64-pc-cygwin/10/crtend.o  -O2 -g -O2 -g -march=native -Wl,-rpath -Wl,/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/lib -Wl,--enable-auto-image-base -Wl,-rpath -Wl,/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/lib -O2 -g -march=native   -o .libs/cygpynac-18.dll -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker .libs/libpynac.dll.a\n  [pynac-0.7.26.sage-2020-04-03.p0]   /usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/bin/ld: .libs/libpynac_la-mpoly-singular.o:/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:110: undefined reference to `operator-(CanonicalForm const&)'\n  [pynac-0.7.26.sage-2020-04-03.p0]   .libs/libpynac_la-mpoly-singular.o: in function `num2canonical':\n  [pynac-0.7.26.sage-2020-04-03.p0]   /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:110:(.text+0x26fa): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `operator-(CanonicalForm const&)'\n  [pynac-0.7.26.sage-2020-04-03.p0]   /usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:94: undefined reference to `operator-(CanonicalForm const&)'\n  [pynac-0.7.26.sage-2020-04-03.p0]   /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:94:(.text+0x27ac): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `operator-(CanonicalForm const&)'\n  [pynac-0.7.26.sage-2020-04-03.p0]   /usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:104: undefined reference to `operator-(CanonicalForm const&)'\n  [pynac-0.7.26.sage-2020-04-03.p0]   /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:104:(.text+0x2a1c): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `operator-(CanonicalForm const&)'\n  [pynac-0.7.26.sage-2020-04-03.p0]   collect2: error: ld returned 1 exit status\n```\nhttps://github.com/mkoeppe/sage/runs/1996141026?check_suite_focus=true",
    "created_at": "2021-02-28T03:17:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400339",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

The next error on Cygwin happens in the `pynac` build (which depends on Singular):

```
  [pynac-0.7.26.sage-2020-04-03.p0]   libtool: link: g++ -std=gnu++11 -shared -nostdlib /usr/lib/gcc/x86_64-pc-cygwin/10/crtbeginS.o  .libs/libpynac_la-add.o .libs/libpynac_la-archive.o .libs/libpynac_la-assume.o .libs/libpynac_la-basic.o .libs/libpynac_la-cmatcher.o .libs/libpynac_la-constant.o .libs/libpynac_la-context.o .libs/libpynac_la-ex.o .libs/libpynac_la-expair.o .libs/libpynac_la-expairseq.o .libs/libpynac_la-exprseq.o .libs/libpynac_la-fderivative.o .libs/libpynac_la-function.o .libs/libpynac_la-function_info.o .libs/libpynac_la-infinity.o .libs/libpynac_la-inifcns.o .libs/libpynac_la-inifcns_trig.o .libs/libpynac_la-inifcns_zeta.o .libs/libpynac_la-inifcns_hyperb.o .libs/libpynac_la-inifcns_trans.o .libs/libpynac_la-inifcns_gamma.o .libs/libpynac_la-inifcns_nstdsums.o .libs/libpynac_la-inifcns_orthopoly.o .libs/libpynac_la-inifcns_hyperg.o .libs/libpynac_la-inifcns_comb.o .libs/libpynac_la-lst.o .libs/libpynac_la-matrix.o .libs/libpynac_la-mpoly-giac.o .libs/libpynac_la-mpoly-ginac.o .libs/libpynac_la-mpoly-singular.o .libs/libpynac_la-mpoly.o .libs/libpynac_la-mul.o .libs/libpynac_la-normal.o .libs/libpynac_la-numeric.o .libs/libpynac_la-operators.o .libs/libpynac_la-power.o .libs/libpynac_la-py_funcs.o .libs/libpynac_la-registrar.o .libs/libpynac_la-relational.o .libs/libpynac_la-remember.o .libs/libpynac_la-pseries.o .libs/libpynac_la-print.o .libs/libpynac_la-symbol.o .libs/libpynac_la-upoly-ginac.o .libs/libpynac_la-utils.o .libs/libpynac_la-wildcard.o .libs/libpynac_la-templates.o .libs/libpynac_la-infoflagbase.o .libs/libpynac_la-sum.o .libs/libpynac_la-order.o .libs/libpynac_la-useries.o   -L/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/lib -L/usr/lib -lpython3.8 -lcrypt -lintl -ldl -lfactory -lmpfr -lntl -lomalloc -lsingular_resources -lflint -lgmp -L/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/10 -L/usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/10/../../../../lib -L/lib/../lib -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/lib -L/usr/lib/gcc/x86_64-pc-cygwin/10/../../.. -lstdc++ -lgcc_s -lgcc -lcygwin -ladvapi32 -lshell32 -luser32 -lkernel32 -lgcc_s -lgcc /usr/lib/gcc/x86_64-pc-cygwin/10/crtend.o  -O2 -g -O2 -g -march=native -Wl,-rpath -Wl,/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/lib -Wl,--enable-auto-image-base -Wl,-rpath -Wl,/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/lib -O2 -g -march=native   -o .libs/cygpynac-18.dll -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker .libs/libpynac.dll.a
  [pynac-0.7.26.sage-2020-04-03.p0]   /usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/bin/ld: .libs/libpynac_la-mpoly-singular.o:/opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:110: undefined reference to `operator-(CanonicalForm const&)'
  [pynac-0.7.26.sage-2020-04-03.p0]   .libs/libpynac_la-mpoly-singular.o: in function `num2canonical':
  [pynac-0.7.26.sage-2020-04-03.p0]   /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:110:(.text+0x26fa): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `operator-(CanonicalForm const&)'
  [pynac-0.7.26.sage-2020-04-03.p0]   /usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:94: undefined reference to `operator-(CanonicalForm const&)'
  [pynac-0.7.26.sage-2020-04-03.p0]   /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:94:(.text+0x27ac): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `operator-(CanonicalForm const&)'
  [pynac-0.7.26.sage-2020-04-03.p0]   /usr/lib/gcc/x86_64-pc-cygwin/10/../../../../x86_64-pc-cygwin/bin/ld: /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:104: undefined reference to `operator-(CanonicalForm const&)'
  [pynac-0.7.26.sage-2020-04-03.p0]   /opt/sage-0209bed474a849e856b5c51d416e31e02220aa3f/var/tmp/sage/build/pynac-0.7.26.sage-2020-04-03.p0/src/ginac/mpoly-singular.cpp:104:(.text+0x2a1c): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `operator-(CanonicalForm const&)'
  [pynac-0.7.26.sage-2020-04-03.p0]   collect2: error: ld returned 1 exit status
```
https://github.com/mkoeppe/sage/runs/1996141026?check_suite_focus=true



---

archive/issue_events_359105.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-28T03:17:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359105"
}
```



---

archive/issue_events_359106.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-28T03:17:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359106"
}
```



---

archive/issue_comments_400340.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAttachment: **[singular-4.2.0p1+spielwiese-2021-02-28+sage.tar.gz](https://github.com/sagemath/sage/files/ticket25993/18ec60af9e99cfe4497ffcb3e69188ed.gz)**\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/935d1bd23dfa911ced0a5059a9f8ee5801d035dc\">935d1bd</a></td><td><code>build/pkgs/singular: Use 4.2.0p1+spielwiese-2021-02-28+sage</code></td></tr></table>\n",
    "created_at": "2021-02-28T20:26:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400340",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">comment:9</div>

Attachment: **[singular-4.2.0p1+spielwiese-2021-02-28+sage.tar.gz](https://github.com/sagemath/sage/files/ticket25993/18ec60af9e99cfe4497ffcb3e69188ed.gz)**

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/935d1bd23dfa911ced0a5059a9f8ee5801d035dc">935d1bd</a></td><td><code>build/pkgs/singular: Use 4.2.0p1+spielwiese-2021-02-28+sage</code></td></tr></table>




---

archive/issue_comments_400341.json:
```json
{
    "body": "Changed commit from **[eedcd5f](https://github.com/sagemath/sagetrac-mirror/commit/eedcd5fe4b056ee0109fced2f5edfe8616bfb8de)** to **[935d1bd](https://github.com/sagemath/sagetrac-mirror/commit/935d1bd23dfa911ced0a5059a9f8ee5801d035dc)**",
    "created_at": "2021-02-28T20:26:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400341",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[eedcd5f](https://github.com/sagemath/sagetrac-mirror/commit/eedcd5fe4b056ee0109fced2f5edfe8616bfb8de)** to **[935d1bd](https://github.com/sagemath/sagetrac-mirror/commit/935d1bd23dfa911ced0a5059a9f8ee5801d035dc)**



---

archive/issue_comments_400342.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/606112478** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/608498035**",
    "created_at": "2021-02-28T20:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400342",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/606112478** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/608498035**



---

archive/issue_events_359107.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-28T20:32:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359107"
}
```



---

archive/issue_events_359108.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-28T20:32:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359108"
}
```



---

archive/issue_comments_400343.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/608498035** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/608931590**",
    "created_at": "2021-03-01T03:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400343",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/608498035** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/608931590**



---

archive/issue_comments_400344.json:
```json
{
    "body": "Changed commit from **[935d1bd](https://github.com/sagemath/sagetrac-mirror/commit/935d1bd23dfa911ced0a5059a9f8ee5801d035dc)** to **[09b7174](https://github.com/sagemath/sagetrac-mirror/commit/09b7174e21c10fe340f7e48be7e3d65a31c08aaf)**",
    "created_at": "2021-03-07T23:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400344",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[935d1bd](https://github.com/sagemath/sagetrac-mirror/commit/935d1bd23dfa911ced0a5059a9f8ee5801d035dc)** to **[09b7174](https://github.com/sagemath/sagetrac-mirror/commit/09b7174e21c10fe340f7e48be7e3d65a31c08aaf)**



---

archive/issue_comments_400345.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAttachment: **[singular-4.2.0p1+2021-03-05+sage.tar.gz](https://github.com/sagemath/sage/files/ticket25993/315ac6988ad50856a2bb5fc649e138fd.gz)**\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26898f85ea009cb9e431f62bf79de8942979648c\">26898f8</a></td><td><code>Merge tag '9.3.beta8' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09b7174e21c10fe340f7e48be7e3d65a31c08aaf\">09b7174</a></td><td><code>build/pkgs/singular: Use 4.2.0p1+2021-03-05+sage</code></td></tr></table>\n",
    "created_at": "2021-03-07T23:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400345",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">comment:2</div>

Attachment: **[singular-4.2.0p1+2021-03-05+sage.tar.gz](https://github.com/sagemath/sage/files/ticket25993/315ac6988ad50856a2bb5fc649e138fd.gz)**

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26898f85ea009cb9e431f62bf79de8942979648c">26898f8</a></td><td><code>Merge tag '9.3.beta8' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09b7174e21c10fe340f7e48be7e3d65a31c08aaf">09b7174</a></td><td><code>build/pkgs/singular: Use 4.2.0p1+2021-03-05+sage</code></td></tr></table>




---

archive/issue_comments_400346.json:
```json
{
    "body": "Changed dependencies from **#31064, #31412** to none",
    "created_at": "2021-03-07T23:38:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400346",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31064, #31412** to none



---

archive/issue_comments_400347.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/608931590** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/630821695**",
    "created_at": "2021-03-08T01:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400347",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/608931590** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/630821695**



---

archive/issue_comments_400348.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWe now seem to have a candidate version that compiles also on `cygwin-standard` - Hans Sch\u00f6nemann made major changes to the build system and I contributed a few PRs, which are merged already. \n\n(See https://github.com/mkoeppe/sage/actions/runs/630821695 for a `cygwin-standard` run; this is on top of several tickets that fix unrelated Cygwin build errors).  `cygwin-stage-iv` built `sagelib`; and `cygwin-stage-v-a` is running `make ptest`.\n\nI have asked upstream whether they plan to make a new release with these fixes soon.\n\nIn the meantime, I hope someone can take a look at whether this version is suitable on our other platforms. The relevant test run is https://github.com/mkoeppe/sage/actions/runs/630821698, which shows a number of doctest failures, for example on `ubuntu-bionic` (https://github.com/mkoeppe/sage/runs/2053003522?check_suite_focus=true):\n\n```\nFile \"src/sage/interfaces/singular.py\", line 2272, in sage.interfaces.singular.SingularFunction._instancedoc_\nFailed example:\n    'groebner' in singular.groebner.__doc__\nException raised:\n...\n    FileNotFoundError: [Errno 2] No such file or directory: '/sage/local/share/singular/../info/singular.hlp'\n```\nI think this one may be coming from `make dist` not building a complete package - this would be fixed by an official source release by the Singular people, or we would have to fix up the tarball by hand somehow.\n\n\n```\nsage -t --random-seed=0 src/sage/rings/polynomial/laurent_polynomial_ideal.py\n**********************************************************************\nFile \"src/sage/rings/polynomial/laurent_polynomial_ideal.py\", line 472, in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.associated_primes\nFailed example:\n    I.associated_primes()\nExpected:\n    (Ideal (z^2 - y, y*z + 2, y^2 + 2*z) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,\n     Ideal (y + 1, z^2 + 1) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)\nGot:\n    (Ideal (y + 1, z^2 + 1) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^2 - y, y*z + 2, y^2 + 2*z) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)\n**********************************************************************\nFile \"src/sage/rings/polynomial/laurent_polynomial_ideal.py\", line 492, in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.minimal_associated_primes\nFailed example:\n    I.minimal_associated_primes()\nExpected:\n    (Ideal (z^3 + 2, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^2 + 1, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)\nGot:\n    (Ideal (z^2 + 1, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^3 + 2, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)\n**********************************************************************\n2 items had failures:\n   1 of   5 in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.associated_primes\n   1 of   5 in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.minimal_associated_primes\n    [102 tests, 2 failures, 0.78 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/laurent_polynomial_ring.py\n    [240 tests, 0.88 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial.pxd\n    [0 tests, 0.00 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_element.py\n    [473 tests, 3.30 s]\nsage -t --random-seed=0 src/sage/rings/padics/padic_extension_leaves.py\n    [72 tests, 83.27 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pxd\n    [0 tests, 0.00 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx\n    [25 tests, 1.70 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_libsingular.pxd\n    [0 tests, 0.00 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ideal.py\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_ideal.py\", line 713, in sage.rings.polynomial.multi_polynomial_ideal.?.complete_primary_decomposition\nFailed example:\n    pd = I.complete_primary_decomposition(); pd\nExpected:\n    [(Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n      Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field),\n     (Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n      Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field)]\nGot:\n    [(Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field, Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field), (Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field, Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_ideal.py\", line 719, in sage.rings.polynomial.multi_polynomial_ideal.?.complete_primary_decomposition\nFailed example:\n    I.primary_decomposition_complete(algorithm = 'gtz')\nExpected:\n    [(Ideal (z^2 + 1, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n      Ideal (z^2 + 1, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field),\n     (Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n      Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field)]\nGot:\n    [(Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field, Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field), (Ideal (z^2 + 1, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field, Ideal (z^2 + 1, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_ideal.py\", line 825, in sage.rings.polynomial.multi_polynomial_ideal.?.primary_decomposition\nFailed example:\n    pd = I.primary_decomposition(); pd\nExpected:\n    [Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field]\nGot:\n    [Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field]\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_ideal.py\", line 897, in sage.rings.polynomial.multi_polynomial_ideal.?.associated_primes\nFailed example:\n    pd = I.associated_primes(); pd\nExpected:\n    [Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field]\nGot:\n    [Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field]\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_ideal.py\", line 1619, in sage.rings.polynomial.multi_polynomial_ideal.?.minimal_associated_primes\nFailed example:\n    I.minimal_associated_primes ()\nExpected:\n    [Ideal (z^3 + 2, -z^2 + y) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^2 + 1, -z^2 + y) of Multivariate Polynomial Ring in x, y, z over Rational Field]\nGot:\n    [Ideal (z^2 + 1, -z^2 + y) of Multivariate Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^3 + 2, -z^2 + y) of Multivariate Polynomial Ring in x, y, z over Rational Field]\n**********************************************************************\n4 items had failures:\n   1 of   5 in sage.rings.polynomial.multi_polynomial_ideal.?.associated_primes\n   2 of  16 in sage.rings.polynomial.multi_polynomial_ideal.?.complete_primary_decomposition\n   1 of   5 in sage.rings.polynomial.multi_polynomial_ideal.?.minimal_associated_primes\n   1 of   7 in sage.rings.polynomial.multi_polynomial_ideal.?.primary_decomposition\n    [918 tests, 5 failures, 17.54 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial.pyx\n    [569 tests, 11.02 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ring.py\n    [154 tests, 0.48 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\n    [201 tests, 3.15 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ring_base.pxd\n    [0 tests, 0.00 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ring_generic.py\n    [3 tests, 0.03 s]\nsage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_libsingular.pyx\n    [1135 tests, 5.83 s]\n```",
    "created_at": "2021-03-08T20:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400348",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

We now seem to have a candidate version that compiles also on `cygwin-standard` - Hans Schnemann made major changes to the build system and I contributed a few PRs, which are merged already. 

(See https://github.com/mkoeppe/sage/actions/runs/630821695 for a `cygwin-standard` run; this is on top of several tickets that fix unrelated Cygwin build errors).  `cygwin-stage-iv` built `sagelib`; and `cygwin-stage-v-a` is running `make ptest`.

I have asked upstream whether they plan to make a new release with these fixes soon.

In the meantime, I hope someone can take a look at whether this version is suitable on our other platforms. The relevant test run is https://github.com/mkoeppe/sage/actions/runs/630821698, which shows a number of doctest failures, for example on `ubuntu-bionic` (https://github.com/mkoeppe/sage/runs/2053003522?check_suite_focus=true):

```
File "src/sage/interfaces/singular.py", line 2272, in sage.interfaces.singular.SingularFunction._instancedoc_
Failed example:
    'groebner' in singular.groebner.__doc__
Exception raised:
...
    FileNotFoundError: [Errno 2] No such file or directory: '/sage/local/share/singular/../info/singular.hlp'
```
I think this one may be coming from `make dist` not building a complete package - this would be fixed by an official source release by the Singular people, or we would have to fix up the tarball by hand somehow.


```
sage -t --random-seed=0 src/sage/rings/polynomial/laurent_polynomial_ideal.py
**********************************************************************
File "src/sage/rings/polynomial/laurent_polynomial_ideal.py", line 472, in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.associated_primes
Failed example:
    I.associated_primes()
Expected:
    (Ideal (z^2 - y, y*z + 2, y^2 + 2*z) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,
     Ideal (y + 1, z^2 + 1) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)
Got:
    (Ideal (y + 1, z^2 + 1) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^2 - y, y*z + 2, y^2 + 2*z) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)
**********************************************************************
File "src/sage/rings/polynomial/laurent_polynomial_ideal.py", line 492, in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.minimal_associated_primes
Failed example:
    I.minimal_associated_primes()
Expected:
    (Ideal (z^3 + 2, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^2 + 1, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)
Got:
    (Ideal (z^2 + 1, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^3 + 2, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)
**********************************************************************
2 items had failures:
   1 of   5 in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.associated_primes
   1 of   5 in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.minimal_associated_primes
    [102 tests, 2 failures, 0.78 s]
sage -t --random-seed=0 src/sage/rings/polynomial/laurent_polynomial_ring.py
    [240 tests, 0.88 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial.pxd
    [0 tests, 0.00 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_element.py
    [473 tests, 3.30 s]
sage -t --random-seed=0 src/sage/rings/padics/padic_extension_leaves.py
    [72 tests, 83.27 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pxd
    [0 tests, 0.00 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx
    [25 tests, 1.70 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_libsingular.pxd
    [0 tests, 0.00 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ideal.py
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_ideal.py", line 713, in sage.rings.polynomial.multi_polynomial_ideal.?.complete_primary_decomposition
Failed example:
    pd = I.complete_primary_decomposition(); pd
Expected:
    [(Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,
      Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field),
     (Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field,
      Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field)]
Got:
    [(Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field, Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field), (Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field, Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field)]
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_ideal.py", line 719, in sage.rings.polynomial.multi_polynomial_ideal.?.complete_primary_decomposition
Failed example:
    I.primary_decomposition_complete(algorithm = 'gtz')
Expected:
    [(Ideal (z^2 + 1, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,
      Ideal (z^2 + 1, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field),
     (Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,
      Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field)]
Got:
    [(Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field, Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field), (Ideal (z^2 + 1, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field, Ideal (z^2 + 1, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field)]
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_ideal.py", line 825, in sage.rings.polynomial.multi_polynomial_ideal.?.primary_decomposition
Failed example:
    pd = I.primary_decomposition(); pd
Expected:
    [Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field]
Got:
    [Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^6 + 4*z^3 + 4, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field]
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_ideal.py", line 897, in sage.rings.polynomial.multi_polynomial_ideal.?.associated_primes
Failed example:
    pd = I.associated_primes(); pd
Expected:
    [Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field]
Got:
    [Ideal (z^2 + 1, y + 1) of Multivariate Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^3 + 2, y - z^2) of Multivariate Polynomial Ring in x, y, z over Rational Field]
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_ideal.py", line 1619, in sage.rings.polynomial.multi_polynomial_ideal.?.minimal_associated_primes
Failed example:
    I.minimal_associated_primes ()
Expected:
    [Ideal (z^3 + 2, -z^2 + y) of Multivariate Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^2 + 1, -z^2 + y) of Multivariate Polynomial Ring in x, y, z over Rational Field]
Got:
    [Ideal (z^2 + 1, -z^2 + y) of Multivariate Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^3 + 2, -z^2 + y) of Multivariate Polynomial Ring in x, y, z over Rational Field]
**********************************************************************
4 items had failures:
   1 of   5 in sage.rings.polynomial.multi_polynomial_ideal.?.associated_primes
   2 of  16 in sage.rings.polynomial.multi_polynomial_ideal.?.complete_primary_decomposition
   1 of   5 in sage.rings.polynomial.multi_polynomial_ideal.?.minimal_associated_primes
   1 of   7 in sage.rings.polynomial.multi_polynomial_ideal.?.primary_decomposition
    [918 tests, 5 failures, 17.54 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial.pyx
    [569 tests, 11.02 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ring.py
    [154 tests, 0.48 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ring_base.pyx
    [201 tests, 3.15 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ring_base.pxd
    [0 tests, 0.00 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_ring_generic.py
    [3 tests, 0.03 s]
sage -t --random-seed=0 src/sage/rings/polynomial/multi_polynomial_libsingular.pyx
    [1135 tests, 5.83 s]
```



---

archive/issue_comments_400349.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/630821695** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/630821695 (cygwin), https://github.com/mkoeppe/sage/actions/runs/630821698 (linux/macos)**",
    "created_at": "2021-03-08T20:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400349",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/630821695** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/630821695 (cygwin), https://github.com/mkoeppe/sage/actions/runs/630821698 (linux/macos)**



---

archive/issue_comments_400350.json:
```json
{
    "body": "<div id=\"comment:166\" align=\"right\">comment:166</div>\n\nReplying to [@mkoeppe](#comment:165):\n> In the meantime, I hope someone can take a look at whether this version is suitable on our other platforms. The relevant test run is https://github.com/mkoeppe/sage/actions/runs/630821698, which shows a number of doctest failures, for example on `ubuntu-bionic` (https://github.com/mkoeppe/sage/runs/2053003522?check_suite_focus=true):\n> \n> ```\n> File \"src/sage/interfaces/singular.py\", line 2272, in sage.interfaces.singular.SingularFunction._instancedoc_\n> Failed example:\n>     'groebner' in singular.groebner.__doc__\n> Exception raised:\n> ...\n>     FileNotFoundError: [Errno 2] No such file or directory: '/sage/local/share/singular/../info/singular.hlp'\n> ```\n> I think this one may be coming from `make dist` not building a complete package - this would be fixed by an official source release by the Singular people, or we would have to fix up the tarball by hand somehow.\n> \n\nRegular release of singular includes a tarball with documentation files and that includes this particular one. I am just surprised you don't get any complaints at install time that it is missing. May be the install procedure can deal with the fact that the tarball is missing for out of release testing. \n\nI must say I have a separate issue with that tarball that I have been meaning to send upstream - when you install as root the ownership are all wrong. This is due of a behavior of tar which by default disregard original ownership when used by normal user but preserve it when invoked as root.",
    "created_at": "2021-03-08T20:22:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400350",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:166" align="right">comment:166</div>

Replying to [@mkoeppe](#comment:165):
> In the meantime, I hope someone can take a look at whether this version is suitable on our other platforms. The relevant test run is https://github.com/mkoeppe/sage/actions/runs/630821698, which shows a number of doctest failures, for example on `ubuntu-bionic` (https://github.com/mkoeppe/sage/runs/2053003522?check_suite_focus=true):
> 
> ```
> File "src/sage/interfaces/singular.py", line 2272, in sage.interfaces.singular.SingularFunction._instancedoc_
> Failed example:
>     'groebner' in singular.groebner.__doc__
> Exception raised:
> ...
>     FileNotFoundError: [Errno 2] No such file or directory: '/sage/local/share/singular/../info/singular.hlp'
> ```
> I think this one may be coming from `make dist` not building a complete package - this would be fixed by an official source release by the Singular people, or we would have to fix up the tarball by hand somehow.
> 

Regular release of singular includes a tarball with documentation files and that includes this particular one. I am just surprised you don't get any complaints at install time that it is missing. May be the install procedure can deal with the fact that the tarball is missing for out of release testing. 

I must say I have a separate issue with that tarball that I have been meaning to send upstream - when you install as root the ownership are all wrong. This is due of a behavior of tar which by default disregard original ownership when used by normal user but preserve it when invoked as root.



---

archive/issue_comments_400351.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nDo you know how to build that documentation tarball?",
    "created_at": "2021-03-08T20:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400351",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Do you know how to build that documentation tarball?



---

archive/issue_comments_400352.json:
```json
{
    "body": "<div id=\"comment:168\" align=\"right\">comment:168</div>\n\nReplying to [@mkoeppe](#comment:167):\n> Do you know how to build that documentation tarball? \n\nNo. Sorry.",
    "created_at": "2021-03-08T20:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400352",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:168" align="right">comment:168</div>

Replying to [@mkoeppe](#comment:167):
> Do you know how to build that documentation tarball? 

No. Sorry.



---

archive/issue_comments_400353.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nLooks like at least some of the doctest failures noted above can be fixed by just using `sorted(...)`",
    "created_at": "2021-03-08T20:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400353",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Looks like at least some of the doctest failures noted above can be fixed by just using `sorted(...)`



---

archive/issue_comments_400354.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nhttps://github.com/Singular/Singular/issues/1023 contains a link to a recipe to build a Singular release",
    "created_at": "2021-03-08T20:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400354",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:0" align="right">comment:0</div>

https://github.com/Singular/Singular/issues/1023 contains a link to a recipe to build a Singular release



---

archive/issue_comments_400355.json:
```json
{
    "body": "<div id=\"comment:171\" align=\"right\">comment:171</div>\n\nReplying to [@kiwifb](#comment:166):\n> I must say I have a separate issue with that tarball that I have been meaning to send upstream - when you install as root the ownership are all wrong. This is due of a behavior of tar which by default disregard original ownership when used by normal user but preserve it when invoked as root.\n\nI already reported this long ago: they don't care\n\nhttps://www.singular.uni-kl.de:8005/trac/ticket/843",
    "created_at": "2021-03-08T20:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400355",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:171" align="right">comment:171</div>

Replying to [@kiwifb](#comment:166):
> I must say I have a separate issue with that tarball that I have been meaning to send upstream - when you install as root the ownership are all wrong. This is due of a behavior of tar which by default disregard original ownership when used by normal user but preserve it when invoked as root.

I already reported this long ago: they don't care

https://www.singular.uni-kl.de:8005/trac/ticket/843



---

archive/issue_comments_400356.json:
```json
{
    "body": "<div id=\"comment:172\" align=\"right\">comment:172</div>\n\nReplying to [@antonio-rojas](#comment:171):\n> Replying to [@kiwifb](#comment:166):\n> > I must say I have a separate issue with that tarball that I have been meaning to send upstream - when you install as root the ownership are all wrong. This is due of a behavior of tar which by default disregard original ownership when used by normal user but preserve it when invoked as root.\n\n> \n> I already reported this long ago: they don't care\n> \n> https://www.singular.uni-kl.de:8005/trac/ticket/843\n\nThe answer is kind of outrageous. There is no guarantee that will be the case now or in the future. The fix is also simple, I can submit a PR for that. For the record, p_cohomology_group has a similar issue, that's what made me look back at singular because I remembered they use a tarball for the doc.",
    "created_at": "2021-03-08T20:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400356",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:172" align="right">comment:172</div>

Replying to [@antonio-rojas](#comment:171):
> Replying to [@kiwifb](#comment:166):
> > I must say I have a separate issue with that tarball that I have been meaning to send upstream - when you install as root the ownership are all wrong. This is due of a behavior of tar which by default disregard original ownership when used by normal user but preserve it when invoked as root.

> 
> I already reported this long ago: they don't care
> 
> https://www.singular.uni-kl.de:8005/trac/ticket/843

The answer is kind of outrageous. There is no guarantee that will be the case now or in the future. The fix is also simple, I can submit a PR for that. For the record, p_cohomology_group has a similar issue, that's what made me look back at singular because I remembered they use a tarball for the doc.



---

archive/issue_comments_400357.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nFull log of `make ptest` on `cygwin-standard` is now available.  Lots of segfaults from unrelated issues (#29537), in particular triggered by any `plot` call",
    "created_at": "2021-03-08T22:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400357",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Full log of `make ptest` on `cygwin-standard` is now available.  Lots of segfaults from unrelated issues (#29537), in particular triggered by any `plot` call



---

archive/issue_comments_400358.json:
```json
{
    "body": "<div id=\"comment:174\" align=\"right\">comment:174</div>\n\nReplying to [@kiwifb](#comment:172):\n> Replying to [@antonio-rojas](#comment:171):\n> > Replying to [@kiwifb](#comment:166):\n> > > I must say I have a separate issue with that tarball that I have been meaning to send upstream - when you install as root the ownership are all wrong. This is due of a behavior of tar which by default disregard original ownership when used by normal user but preserve it when invoked as root.\n\n> > \n> > I already reported this long ago: they don't care\n> > \n> > https://www.singular.uni-kl.de:8005/trac/ticket/843\n\n> \n> The answer is kind of outrageous. There is no guarantee that will be the case now or in the future. The fix is also simple, I can submit a PR for that. For the record, p_cohomology_group has a similar issue, that's what made me look back at singular because I remembered they use a tarball for the doc.\n\nWell upstream just accepted my PR to fix this without a pip. https://github.com/Singular/Singular/pull/1059",
    "created_at": "2021-03-08T23:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400358",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:174" align="right">comment:174</div>

Replying to [@kiwifb](#comment:172):
> Replying to [@antonio-rojas](#comment:171):
> > Replying to [@kiwifb](#comment:166):
> > > I must say I have a separate issue with that tarball that I have been meaning to send upstream - when you install as root the ownership are all wrong. This is due of a behavior of tar which by default disregard original ownership when used by normal user but preserve it when invoked as root.

> > 
> > I already reported this long ago: they don't care
> > 
> > https://www.singular.uni-kl.de:8005/trac/ticket/843

> 
> The answer is kind of outrageous. There is no guarantee that will be the case now or in the future. The fix is also simple, I can submit a PR for that. For the record, p_cohomology_group has a similar issue, that's what made me look back at singular because I remembered they use a tarball for the doc.

Well upstream just accepted my PR to fix this without a pip. https://github.com/Singular/Singular/pull/1059



---

archive/issue_comments_400359.json:
```json
{
    "body": "Changed commit from **[09b7174](https://github.com/sagemath/sagetrac-mirror/commit/09b7174e21c10fe340f7e48be7e3d65a31c08aaf)** to **[797bacd](https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94)**",
    "created_at": "2021-03-09T20:17:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400359",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[09b7174](https://github.com/sagemath/sagetrac-mirror/commit/09b7174e21c10fe340f7e48be7e3d65a31c08aaf)** to **[797bacd](https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94)**



---

archive/issue_comments_400360.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5639440ee1eb5d970390954dd5af159fd7bf4f9a\">5639440</a></td><td><code>src/sage/rings/polynomial/laurent_polynomial_ideal.py: Use sorted() to make doctests more stable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94\">797bacd</a></td><td><code>src/sage/rings/polynomial/multi_polynomial_ideal.py: Use sorted() to make doctests more stable</code></td></tr></table>\n",
    "created_at": "2021-03-09T20:17:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400360",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5639440ee1eb5d970390954dd5af159fd7bf4f9a">5639440</a></td><td><code>src/sage/rings/polynomial/laurent_polynomial_ideal.py: Use sorted() to make doctests more stable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94">797bacd</a></td><td><code>src/sage/rings/polynomial/multi_polynomial_ideal.py: Use sorted() to make doctests more stable</code></td></tr></table>




---

archive/issue_comments_400361.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI have sent a PR adding a script to build the documentation (still needs help from upstream) - https://github.com/Singular/Singular/pull/1058",
    "created_at": "2021-03-09T20:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400361",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

I have sent a PR adding a script to build the documentation (still needs help from upstream) - https://github.com/Singular/Singular/pull/1058



---

archive/issue_comments_400362.json:
```json
{
    "body": "Changed commit from **[797bacd](https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94)** to **[31fe1eb](https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9)**",
    "created_at": "2021-03-12T04:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400362",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[797bacd](https://github.com/sagemath/sagetrac-mirror/commit/797bacd52216c35799393c66c7b6179e73e1bf94)** to **[31fe1eb](https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9)**



---

archive/issue_comments_400363.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9\">31fe1eb</a></td><td><code>build/pkgs/singular/spkg-install.in: Build the documentation if the Singular tarball does not contain it</code></td></tr></table>\n",
    "created_at": "2021-03-12T04:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400363",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9">31fe1eb</a></td><td><code>build/pkgs/singular/spkg-install.in: Build the documentation if the Singular tarball does not contain it</code></td></tr></table>




---

archive/issue_comments_400364.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34caf09dc082e5e745269f9945e55b469293fba3\">34caf09</a></td><td><code>build/pkgs/_prereq/distros/fedora.txt: Add perl-IPC-Cmd</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01aabb82cdbb5365c3e23f734abf8919177b3e52\">01aabb8</a></td><td><code>Merge #29555</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b7440e8ce4f13c895427c1a52fc11380504bcb9\">4b7440e</a></td><td><code>build/pkgs/openssl: Update to 3.0.0-alpha12</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7\">6c01591</a></td><td><code>Merge #31439</code></td></tr></table>\n",
    "created_at": "2021-03-12T05:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400364",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34caf09dc082e5e745269f9945e55b469293fba3">34caf09</a></td><td><code>build/pkgs/_prereq/distros/fedora.txt: Add perl-IPC-Cmd</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01aabb82cdbb5365c3e23f734abf8919177b3e52">01aabb8</a></td><td><code>Merge #29555</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b7440e8ce4f13c895427c1a52fc11380504bcb9">4b7440e</a></td><td><code>build/pkgs/openssl: Update to 3.0.0-alpha12</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7">6c01591</a></td><td><code>Merge #31439</code></td></tr></table>




---

archive/issue_comments_400365.json:
```json
{
    "body": "Changed commit from **[31fe1eb](https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9)** to **[6c01591](https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7)**",
    "created_at": "2021-03-12T05:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400365",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[31fe1eb](https://github.com/sagemath/sagetrac-mirror/commit/31fe1eb9954477a83638c76c4dd8053d7bb137d9)** to **[6c01591](https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7)**



---

archive/issue_comments_400366.json:
```json
{
    "body": "Dependencies: **#31439**",
    "created_at": "2021-03-12T06:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400366",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#31439**



---

archive/issue_comments_400367.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nAttachment: **[singular-4.2.0p1+2021-03-13+sage.tar.gz](https://github.com/sagemath/sage/files/ticket25993/e0043542191f7b3f47bce4b5cdb12fa7.gz)**\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3119b16be980379cc18eb1f644baeff802c0c58\">f3119b1</a></td><td><code>Merge tag '9.3.beta9' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54\">49de2ff</a></td><td><code>build/pkgs/singular: Use 4.2.0p1+2021-03-13+sage</code></td></tr></table>\n",
    "created_at": "2021-03-15T19:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400367",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:0" align="right">comment:0</div>

Attachment: **[singular-4.2.0p1+2021-03-13+sage.tar.gz](https://github.com/sagemath/sage/files/ticket25993/e0043542191f7b3f47bce4b5cdb12fa7.gz)**

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3119b16be980379cc18eb1f644baeff802c0c58">f3119b1</a></td><td><code>Merge tag '9.3.beta9' into t/25993/public/singular4-1-3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54">49de2ff</a></td><td><code>build/pkgs/singular: Use 4.2.0p1+2021-03-13+sage</code></td></tr></table>




---

archive/issue_comments_400368.json:
```json
{
    "body": "Changed commit from **[6c01591](https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7)** to **[49de2ff](https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54)**",
    "created_at": "2021-03-15T19:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400368",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6c01591](https://github.com/sagemath/sagetrac-mirror/commit/6c015913e641a3dcc40b26670b2d69649e0924b7)** to **[49de2ff](https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54)**



---

archive/issue_comments_400369.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nNo word from Kaiserslautern on release plans, but using my PR https://github.com/Singular/Singular/pull/1058 I was able to build documentation to include with the distribution tarball.",
    "created_at": "2021-03-15T19:07:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400369",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">comment:1</div>

No word from Kaiserslautern on release plans, but using my PR https://github.com/Singular/Singular/pull/1058 I was able to build documentation to include with the distribution tarball.



---

archive/issue_comments_400370.json:
```json
{
    "body": "Changed commit from **[49de2ff](https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54)** to **[b0d7748](https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868)**",
    "created_at": "2021-03-15T21:02:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400370",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[49de2ff](https://github.com/sagemath/sagetrac-mirror/commit/49de2ff4a4f41676df6a54aae99ed4d9d8e78d54)** to **[b0d7748](https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868)**



---

archive/issue_comments_400371.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f816f077ac20a61b643a0448853a4bcab5da3965\">f816f07</a></td><td><code>build/pkgs/singular/spkg-install.in: Use --disable-static on all platforms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868\">b0d7748</a></td><td><code>build/pkgs/singular/spkg-install.in: Build subdirs in parallel</code></td></tr></table>\n",
    "created_at": "2021-03-15T21:02:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400371",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f816f077ac20a61b643a0448853a4bcab5da3965">f816f07</a></td><td><code>build/pkgs/singular/spkg-install.in: Use --disable-static on all platforms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868">b0d7748</a></td><td><code>build/pkgs/singular/spkg-install.in: Build subdirs in parallel</code></td></tr></table>




---

archive/issue_comments_400372.json:
```json
{
    "body": "Changed dependencies from **#31439** to none",
    "created_at": "2021-03-15T21:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400372",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31439** to none



---

archive/issue_comments_400373.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nLooks like the fix of the doctests using `sorted` was not enough:\n\n```\nFile \"src/sage/rings/polynomial/laurent_polynomial_ideal.py\", line 472, in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.associated_primes\nFailed example:\n    tuple(sorted(I.associated_primes()))\nExpected:\n    (Ideal (z^2 - y, y*z + 2, y^2 + 2*z) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,\n     Ideal (y + 1, z^2 + 1) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)\nGot:\n    (Ideal (y + 1, z^2 + 1) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^2 - y, y*z + 2, y^2 + 2*z) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)\n**********************************************************************\nFile \"src/sage/rings/polynomial/laurent_polynomial_ideal.py\", line 492, in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.minimal_associated_primes\nFailed example:\n    tuple(sorted(I.minimal_associated_primes()))\nExpected:\n    (Ideal (z^3 + 2, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^2 + 1, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)\nGot:\n    (Ideal (z^2 + 1, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,\n     Ideal (z^3 + 2, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)\n**********************************************************************\n```\n(on `debian-buster-standard` - https://github.com/mkoeppe/sage/runs/2098865440)",
    "created_at": "2021-03-15T21:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400373",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Looks like the fix of the doctests using `sorted` was not enough:

```
File "src/sage/rings/polynomial/laurent_polynomial_ideal.py", line 472, in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.associated_primes
Failed example:
    tuple(sorted(I.associated_primes()))
Expected:
    (Ideal (z^2 - y, y*z + 2, y^2 + 2*z) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,
     Ideal (y + 1, z^2 + 1) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)
Got:
    (Ideal (y + 1, z^2 + 1) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^2 - y, y*z + 2, y^2 + 2*z) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)
**********************************************************************
File "src/sage/rings/polynomial/laurent_polynomial_ideal.py", line 492, in sage.rings.polynomial.laurent_polynomial_ideal.LaurentPolynomialIdeal.minimal_associated_primes
Failed example:
    tuple(sorted(I.minimal_associated_primes()))
Expected:
    (Ideal (z^3 + 2, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^2 + 1, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)
Got:
    (Ideal (z^2 + 1, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field,
     Ideal (z^3 + 2, -z^2 + y) of Multivariate Laurent Polynomial Ring in x, y, z over Rational Field)
**********************************************************************
```
(on `debian-buster-standard` - https://github.com/mkoeppe/sage/runs/2098865440)



---

archive/issue_comments_400374.json:
```json
{
    "body": "Changed commit from **[b0d7748](https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868)** to **[c33ca2b](https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c)**",
    "created_at": "2021-03-15T21:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400374",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b0d7748](https://github.com/sagemath/sagetrac-mirror/commit/b0d77488c3486d26300381903da28435cbbde868)** to **[c33ca2b](https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c)**



---

archive/issue_comments_400375.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c\">c33ca2b</a></td><td><code>src/sage/rings/polynomial/{laurent,multi}_polynomial_ideal: Use sorted(..., key=str) to make doctests stable</code></td></tr></table>\n",
    "created_at": "2021-03-15T21:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400375",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c">c33ca2b</a></td><td><code>src/sage/rings/polynomial/{laurent,multi}_polynomial_ideal: Use sorted(..., key=str) to make doctests stable</code></td></tr></table>




---

archive/issue_comments_400376.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/630821695 (cygwin), https://github.com/mkoeppe/sage/actions/runs/630821698 (linux/macos)** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/655556434 (cygwin), https://github.com/mkoeppe/sage/actions/runs/655556443 (linux/macos)**",
    "created_at": "2021-03-15T22:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400376",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/630821695 (cygwin), https://github.com/mkoeppe/sage/actions/runs/630821698 (linux/macos)** to **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/655556434 (cygwin), https://github.com/mkoeppe/sage/actions/runs/655556443 (linux/macos)**



---

archive/issue_comments_400377.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Tarball: `see checksums.ini` on the branch\n \n Use `make SAGE_SPKG=\"sage-spkg -o\" singular-clean sagelib-clean build` to automatically download and install.\n+\n+\"Critical\" because it enables supporting newer versions of FLINT.\n``````\n",
    "created_at": "2021-03-15T22:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400377",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Tarball: `see checksums.ini` on the branch
 
 Use `make SAGE_SPKG="sage-spkg -o" singular-clean sagelib-clean build` to automatically download and install.
+
+"Critical" because it enables supporting newer versions of FLINT.
``````




---

archive/issue_comments_400378.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReady for review",
    "created_at": "2021-03-17T04:56:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400378",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Ready for review



---

archive/issue_comments_400379.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nWhat is this\n\n```diff\n+upstream_url=https://trac.sagemath.org/raw-attachment/ticket/25993/singular-VERSION.tar.gz\n```\n\nPlease only use upstream packages. You are welcome to add patches if needed, but each of them has t be justified and documented.",
    "created_at": "2021-03-17T07:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400379",
    "user": "https://github.com/videlec"
}
```

<div id="comment:0" align="right">comment:0</div>

What is this

```diff
+upstream_url=https://trac.sagemath.org/raw-attachment/ticket/25993/singular-VERSION.tar.gz
```

Please only use upstream packages. You are welcome to add patches if needed, but each of them has t be justified and documented.



---

archive/issue_comments_400380.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nDoes this really need to be here twice\n\n```diff\n+                  --disable-python_module \\\n+                  --disable-python-module \\\n```",
    "created_at": "2021-03-17T07:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400380",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1" align="right">comment:1</div>

Does this really need to be here twice

```diff
+                  --disable-python_module \
+                  --disable-python-module \
```



---

archive/issue_comments_400381.json:
```json
{
    "body": "<div id=\"comment:192\" align=\"right\">comment:192</div>\n\nReplying to [@videlec](#comment:190):\n> What is this\n> \n> ```diff\n> +upstream_url=https://trac.sagemath.org/raw-attachment/ticket/25993/singular-VERSION.tar.gz\n> ```\n> \n> Please only use upstream packages. You are welcome to add patches if needed, but each of them has t be justified and documented.\n\nhttps://doc.sagemath.org/html/en/developer/packaging.html#when-to-patch-when-to-repackage-when-to-autoconfiscate explains why patching is not always possible.",
    "created_at": "2021-03-17T07:18:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400381",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:192" align="right">comment:192</div>

Replying to [@videlec](#comment:190):
> What is this
> 
> ```diff
> +upstream_url=https://trac.sagemath.org/raw-attachment/ticket/25993/singular-VERSION.tar.gz
> ```
> 
> Please only use upstream packages. You are welcome to add patches if needed, but each of them has t be justified and documented.

https://doc.sagemath.org/html/en/developer/packaging.html#when-to-patch-when-to-repackage-when-to-autoconfiscate explains why patching is not always possible.



---

archive/issue_comments_400382.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nFor my own packaging purposes in Gentoo it would useful if I had an upstream commit hash or a link to the exact commit we are using. In the upstream repo not your fork if at all possible.",
    "created_at": "2021-03-17T07:21:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400382",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3" align="right">comment:3</div>

For my own packaging purposes in Gentoo it would useful if I had an upstream commit hash or a link to the exact commit we are using. In the upstream repo not your fork if at all possible.



---

archive/issue_comments_400383.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,7 @@\n Use `make SAGE_SPKG=\"sage-spkg -o\" singular-clean sagelib-clean build` to automatically download and install.\n \n \"Critical\" because it enables supporting newer versions of FLINT.\n+\n+We use the Singular development branch (`spielwiese`) + PR https://github.com/Singular/Singular/pull/1058 in order to build documentation. The tarball is made from https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage\n+\n+\n``````\n",
    "created_at": "2021-03-17T07:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400383",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,7 @@
 Use `make SAGE_SPKG="sage-spkg -o" singular-clean sagelib-clean build` to automatically download and install.
 
 "Critical" because it enables supporting newer versions of FLINT.
+
+We use the Singular development branch (`spielwiese`) + PR https://github.com/Singular/Singular/pull/1058 in order to build documentation. The tarball is made from https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage
+
+
``````




---

archive/issue_comments_400384.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI just updated the ticket description with this info.",
    "created_at": "2021-03-17T07:25:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400384",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

I just updated the ticket description with this info.



---

archive/issue_comments_400385.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nBetter. Thanks. I think that the information of `https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage` with the precise commit number deserves to be in the `SPKG.txt` file as well.",
    "created_at": "2021-03-17T07:30:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400385",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

Better. Thanks. I think that the information of `https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage` with the precise commit number deserves to be in the `SPKG.txt` file as well.



---

archive/issue_comments_400386.json:
```json
{
    "body": "<div id=\"comment:197\" align=\"right\">comment:197</div>\n\nReplying to [@videlec](#comment:191):\n> Does this really need to be here twice\n> \n> ```diff\n> +                  --disable-python_module \\\n> +                  --disable-python-module \\\n> ```\n\nI changed the spelling of this option as part of https://github.com/Singular/Singular/pull/1053 and https://github.com/Singular/Singular/pull/1054 (merged already in `spielwiese`).\n\nFor robustness, I decided to use both variants of the option here until a proper Singular release has been made.",
    "created_at": "2021-03-17T07:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400386",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:197" align="right">comment:197</div>

Replying to [@videlec](#comment:191):
> Does this really need to be here twice
> 
> ```diff
> +                  --disable-python_module \
> +                  --disable-python-module \
> ```

I changed the spelling of this option as part of https://github.com/Singular/Singular/pull/1053 and https://github.com/Singular/Singular/pull/1054 (merged already in `spielwiese`).

For robustness, I decided to use both variants of the option here until a proper Singular release has been made.



---

archive/issue_comments_400387.json:
```json
{
    "body": "<div id=\"comment:198\" align=\"right\">comment:198</div>\n\nReplying to [@videlec](#comment:196):\n> Better. Thanks. I think that the information of `https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage` with the precise commit number deserves to be in the `SPKG.txt` file as well.\n\nThat's what tags are for. The commit is tagged with the version number: https://github.com/mkoeppe/Singular/tree/singular-4.2.0p1+2021-03-13%2Bsage",
    "created_at": "2021-03-17T07:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400387",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:198" align="right">comment:198</div>

Replying to [@videlec](#comment:196):
> Better. Thanks. I think that the information of `https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage` with the precise commit number deserves to be in the `SPKG.txt` file as well.

That's what tags are for. The commit is tagged with the version number: https://github.com/mkoeppe/Singular/tree/singular-4.2.0p1+2021-03-13%2Bsage



---

archive/issue_comments_400388.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267\">ec471e0</a></td><td><code>build/pkgs/singular/SPKG.rst: Add link to branch</code></td></tr></table>\n",
    "created_at": "2021-03-17T07:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400388",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267">ec471e0</a></td><td><code>build/pkgs/singular/SPKG.rst: Add link to branch</code></td></tr></table>




---

archive/issue_comments_400389.json:
```json
{
    "body": "Changed commit from **[c33ca2b](https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c)** to **[ec471e0](https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267)**",
    "created_at": "2021-03-17T07:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400389",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c33ca2b](https://github.com/sagemath/sagetrac-mirror/commit/c33ca2ba67ee980cb9ee844ca401e2c9fa2f052c)** to **[ec471e0](https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267)**



---

archive/issue_comments_400390.json:
```json
{
    "body": "<div id=\"comment:200\" align=\"right\">comment:200</div>\n\nReplying to [@mkoeppe](#comment:195):\n> I just updated the ticket description with this info.\n\nI'll have to make do with that. It also looks like I missed the 4.2.0_p1 release.\n\nQuestion. Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? As in, can a linux packager use 4.2.0_p1 and expect it to work?\n  \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267\">ec471e0</a></td><td><code>build/pkgs/singular/SPKG.rst: Add link to branch</code></td></tr></table>\n",
    "created_at": "2021-03-17T07:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400390",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:200" align="right">comment:200</div>

Replying to [@mkoeppe](#comment:195):
> I just updated the ticket description with this info.

I'll have to make do with that. It also looks like I missed the 4.2.0_p1 release.

Question. Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? As in, can a linux packager use 4.2.0_p1 and expect it to work?
  
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267">ec471e0</a></td><td><code>build/pkgs/singular/SPKG.rst: Add link to branch</code></td></tr></table>




---

archive/issue_comments_400391.json:
```json
{
    "body": "<div id=\"comment:201\" align=\"right\">comment:201</div>\n\nReplying to [@mkoeppe](#comment:198):\n> Replying to [@videlec](#comment:196):\n> > Better. Thanks. I think that the information of `https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage` with the precise commit number deserves to be in the `SPKG.txt` file as well.\n\n> That's what tags are for. The commit is tagged with the version number: https://github.com/mkoeppe/Singular/tree/singular-4.2.0p1+2021-03-13%2Bsage\n\nI disagree. The commit hash is also a certificate. Tags can be changed.",
    "created_at": "2021-03-17T07:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400391",
    "user": "https://github.com/videlec"
}
```

<div id="comment:201" align="right">comment:201</div>

Replying to [@mkoeppe](#comment:198):
> Replying to [@videlec](#comment:196):
> > Better. Thanks. I think that the information of `https://github.com/mkoeppe/Singular/tree/Release-4-2-0-p1%2Bsage` with the precise commit number deserves to be in the `SPKG.txt` file as well.

> That's what tags are for. The commit is tagged with the version number: https://github.com/mkoeppe/Singular/tree/singular-4.2.0p1+2021-03-13%2Bsage

I disagree. The commit hash is also a certificate. Tags can be changed.



---

archive/issue_comments_400392.json:
```json
{
    "body": "<div id=\"comment:202\" align=\"right\">comment:202</div>\n\nReplying to [@kiwifb](#comment:193):\n> In the upstream repo not your fork if at all possible.\n\nWell, I hope upstream will merge a version of my latest PR. You need it to build the documentation.",
    "created_at": "2021-03-17T07:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400392",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:202" align="right">comment:202</div>

Replying to [@kiwifb](#comment:193):
> In the upstream repo not your fork if at all possible.

Well, I hope upstream will merge a version of my latest PR. You need it to build the documentation.



---

archive/issue_comments_400393.json:
```json
{
    "body": "<div id=\"comment:203\" align=\"right\">comment:203</div>\n\nReplying to [@kiwifb](#comment:200):\n> Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? \n\nI don't know.",
    "created_at": "2021-03-17T07:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400393",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:203" align="right">comment:203</div>

Replying to [@kiwifb](#comment:200):
> Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? 

I don't know.



---

archive/issue_comments_400394.json:
```json
{
    "body": "<div id=\"comment:204\" align=\"right\">comment:204</div>\n\nReplying to [@mkoeppe](#comment:203):\n> Replying to [@kiwifb](#comment:200):\n> > Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? \n\n> \n> I don't know.\n\nWell, I'll let people know on this ticket if I found out first. This may be important for detecting whether a system singular can be used.",
    "created_at": "2021-03-17T07:51:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400394",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:204" align="right">comment:204</div>

Replying to [@mkoeppe](#comment:203):
> Replying to [@kiwifb](#comment:200):
> > Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? 

> 
> I don't know.

Well, I'll let people know on this ticket if I found out first. This may be important for detecting whether a system singular can be used.



---

archive/issue_comments_400395.json:
```json
{
    "body": "<div id=\"comment:205\" align=\"right\">comment:205</div>\n\nReplying to [@kiwifb](#comment:200):\n \n> Question. Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? As in, can a linux packager use 4.2.0_p1 and expect it to work?\n\nEverything works fine with upstream 4.2.0_p1 and the sagelib changes in this ticket. Only caveat is that you need to install singular.idx manually.",
    "created_at": "2021-03-17T07:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400395",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:205" align="right">comment:205</div>

Replying to [@kiwifb](#comment:200):
 
> Question. Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? As in, can a linux packager use 4.2.0_p1 and expect it to work?

Everything works fine with upstream 4.2.0_p1 and the sagelib changes in this ticket. Only caveat is that you need to install singular.idx manually.



---

archive/issue_comments_400396.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIs `singular.idx` missing in the tarball?",
    "created_at": "2021-03-17T07:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400396",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Is `singular.idx` missing in the tarball?



---

archive/issue_comments_400397.json:
```json
{
    "body": "<div id=\"comment:207\" align=\"right\">comment:207</div>\n\nReplying to [@antonio-rojas](#comment:205):\n> Replying to [@kiwifb](#comment:200):\n>  \n> > Question. Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? As in, can a linux packager use 4.2.0_p1 and expect it to work?\n\n> \n> Everything works fine with upstream 4.2.0_p1 and the sagelib changes in this ticket. Only caveat is that you need to install singular.idx manually.\n\nThanks, I thought that you could know already :) I already patch for singular.idx installation, nothing new there.",
    "created_at": "2021-03-17T08:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400397",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:207" align="right">comment:207</div>

Replying to [@antonio-rojas](#comment:205):
> Replying to [@kiwifb](#comment:200):
>  
> > Question. Apart from the windows packaging stuff, is there any major change to take into account past 4.2.0_p1? As in, can a linux packager use 4.2.0_p1 and expect it to work?

> 
> Everything works fine with upstream 4.2.0_p1 and the sagelib changes in this ticket. Only caveat is that you need to install singular.idx manually.

Thanks, I thought that you could know already :) I already patch for singular.idx installation, nothing new there.



---

archive/issue_comments_400398.json:
```json
{
    "body": "<div id=\"comment:208\" align=\"right\">comment:208</div>\n\nReplying to [@mkoeppe](#comment:206):\n> Is `singular.idx` missing in the tarball?\n\nNo, it is just not (no longer?) installed by make install.",
    "created_at": "2021-03-17T08:02:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400398",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:208" align="right">comment:208</div>

Replying to [@mkoeppe](#comment:206):
> Is `singular.idx` missing in the tarball?

No, it is just not (no longer?) installed by make install.



---

archive/issue_comments_400399.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n\n```\n@@ -567,14 +566,7 @@ class NonSymmetricMacdonaldPolynomials(CherednikOperatorsEigenvectors):\n         + ((-q1*q2-q2^2)/(q*q1^2-q2^2))*B[(0, 0, -1)] + ((q1*q2+q2^2)/(-q*q1^2+q2^2))*B[(0, 0, 1)]\n \n         sage: E[-omega[1]-omega[2]]\n-        ((-q^3*q1^6-q^3*q1^5*q2-2*q^2*q1^6-3*q^2*q1^5*q2+q^2*q1^4*q2^2+2*q^2*q1^3*q2^3+q*q1^5*q2+2*q*q1^4*q2^2-q*q1^3*q2^3-2*q*q1^2*q2^4+q*q1*q2^5+q*q2^6-q1^3*q2^3-q1^2*q2^4+2*q1*q2^5+2*q2^6)/(-q^4*q1^6-q^3*q1^5*q2+q^3*q1^4*q2^2-q*q1^2*q2^4+q*q1*q2^5+q2^6))*B[(0, 0, 0)] + B[(-1, -1, 0)]\n-        + ((q*q1^4+q*q1^3*q2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(-1, 1, 0)] + ((q1+q2)/(q*q1+q2))*B[(-1, 0, -1)] + ((-q1-q2)/(-q*q1-q2))*B[(-1, 0, 1)]\n-        + ((q*q1^4+q*q1^3*q2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(1, -1, 0)]\n-        + ((-q^2*q1^6-q^2*q1^5*q2-q*q1^5*q2+q*q1^3*q2^3+q1^5*q2+q1^4*q2^2-q1^3*q2^3-q1^2*q2^4+q1*q2^5+q2^6)/(-q^4*q1^6-q^3*q1^5*q2+q^3*q1^4*q2^2-q*q1^2*q2^4+q*q1*q2^5+q2^6))*B[(1, 1, 0)]\n-        + ((-q*q1^4-2*q*q1^3*q2-q*q1^2*q2^2+q1^3*q2+q1^2*q2^2-q1*q2^3-q2^4)/(-q^3*q1^4-q^2*q1^3*q2-q*q1*q2^3-q2^4))*B[(1, 0, -1)]\n-        + ((-q*q1^4-2*q*q1^3*q2-q*q1^2*q2^2+q1^3*q2+q1^2*q2^2-q1*q2^3-q2^4)/(-q^3*q1^4-q^2*q1^3*q2-q*q1*q2^3-q2^4))*B[(1, 0, 1)] + ((q1+q2)/(q*q1+q2))*B[(0, -1, -1)]\n-        + ((-q1-q2)/(-q*q1-q2))*B[(0, -1, 1)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(0, 1, -1)]\n-        + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(0, 1, 1)]\n+        ((q^3*q1^6+q^3*q1^5*q2+2*q^2*q1^6+3*q^2*q1^5*q2-q^2*q1^4*q2^2-2*q^2*q1^3*q2^3-q*q1^5*q2-2*q*q1^4*q2^2+q*q1^3*q2^3+2*q*q1^2*q2^4-q*q1*q2^5-q*q2^6+q1^3*q2^3+q1^2*q2^4-2*q1*q2^5-2*q2^6)/(q^4*q1^6+q^3*q1^5*q2-q^3*q1^4*q2^2+q*q1^2*q2^4-q*q1*q2^5-q2^6))*B[(0, 0, 0)] + B[(-1, -1, 0)] + ((q*q1^4+q*q1^3*q2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(-1, 1, 0)] + ((q1+q2)/(q*q1+q2))*B[(-1, 0, -1)] + ((-q1-q2)/(-q*q1-q2))*B[(-1, 0, 1)] + ((q*q1^4+q*q1^3*q2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(1, -1, 0)] + ((q^2*q1^6+q^2*q1^5*q2+q*q1^5*q2-q*q1^3*q2^3-q1^5*q2-q1^4*q2^2+q1^3*q2^3+q1^2*q2^4-q1*q2^5-q2^6)/(q^4*q1^6+q^3*q1^5*q2-q^3*q1^4*q2^2+q*q1^2*q2^4-q*q1*q2^5-q2^6))*B[(1, 1, 0)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(1, 0, -1)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(1, 0, 1)] + ((q1+q2)/(q*q1+q2))*B[(0, -1, -1)] + ((q1+q2)/(q*q1+q2))*B[(0, -1, 1)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(0, 1, -1)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(0, 1, 1)]\n \n         sage: E[omega[1]-omega[2]]\n         ((q^3*q1^7+q^3*q1^6*q2-q*q1*q2^6-q*q2^7)/(q^3*q1^7-q^2*q1^5*q2^2+q*q1^2*q2^5-q2^7))*B[(0, 0, 0)] + B[(1, -1, 0)]\n@@ -812,7 +804,7 @@ class NonSymmetricMacdonaldPolynomials(CherednikOperatorsEigenvectors):\n         ((-q*q1*q2^3-q*q2^4)/(q^2*q1^4-q2^4))*B[(0, 0)] + B[(1, 0)]\n \n         sage: E[2*omega[2]]      # long time # not checked against Bogdan's notes, but a good self-consistency test\n-        ((-q^12*q1^6-q^12*q1^5*q2+2*q^10*q1^5*q2+5*q^10*q1^4*q2^2+3*q^10*q1^3*q2^3+2*q^8*q1^5*q2+4*q^8*q1^4*q2^2+q^8*q1^3*q2^3-q^8*q1^2*q2^4+q^8*q1*q2^5+q^8*q2^6-q^6*q1^3*q2^3+q^6*q1^2*q2^4+4*q^6*q1*q2^5+2*q^6*q2^6+q^4*q1^3*q2^3+3*q^4*q1^2*q2^4+4*q^4*q1*q2^5+2*q^4*q2^6)/(-q^12*q1^6-q^10*q1^5*q2-q^8*q1^3*q2^3+q^6*q1^4*q2^2-q^6*q1^2*q2^4+q^4*q1^3*q2^3+q^2*q1*q2^5+q2^6))*B[(0, 0)] + ((q^7*q1^2*q2+2*q^7*q1*q2^2+q^7*q2^3+q^5*q1^2*q2+2*q^5*q1*q2^2+q^5*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(-1, 0)] + ((q^6*q1*q2+q^6*q2^2)/(-q^6*q1^2+q2^2))*B[(-1, -1)] + ((q^6*q1^2*q2+2*q^6*q1*q2^2+q^6*q2^3+q^4*q1^2*q2+2*q^4*q1*q2^2+q^4*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(-1, 1)] + ((q^3*q1*q2+q^3*q2^2)/(-q^6*q1^2+q2^2))*B[(-1, 2)] + ((-q^7*q1^3-q^7*q1^2*q2+q^7*q1*q2^2+q^7*q2^3+2*q^5*q1^2*q2+4*q^5*q1*q2^2+2*q^5*q2^3+2*q^3*q1^2*q2+4*q^3*q1*q2^2+2*q^3*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(1, 0)] + ((-q^6*q1^2*q2-2*q^6*q1*q2^2-q^6*q2^3-q^4*q1^2*q2-2*q^4*q1*q2^2-q^4*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(1, -1)] + ((q^8*q1^3+q^8*q1^2*q2+q^6*q1^3+q^6*q1^2*q2-q^6*q1*q2^2-q^6*q2^3-2*q^4*q1^2*q2-4*q^4*q1*q2^2-2*q^4*q2^3-q^2*q1^2*q2-3*q^2*q1*q2^2-2*q^2*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(1, 1)] + ((-q^5*q1^2-q^5*q1*q2+q^3*q1*q2+q^3*q2^2+q*q1*q2+q*q2^2)/(-q^6*q1^2+q2^2))*B[(1, 2)] + ((-q^6*q1^2-q^6*q1*q2+q^4*q1*q2+q^4*q2^2+q^2*q1*q2+q^2*q2^2)/(-q^6*q1^2+q2^2))*B[(2, 0)] + ((q^3*q1*q2+q^3*q2^2)/(-q^6*q1^2+q2^2))*B[(2, -1)] + ((-q^5*q1^2-q^5*q1*q2+q^3*q1*q2+q^3*q2^2+q*q1*q2+q*q2^2)/(-q^6*q1^2+q2^2))*B[(2, 1)] + B[(2, 2)] + ((-q^7*q1^2*q2-2*q^7*q1*q2^2-q^7*q2^3-q^5*q1^2*q2-2*q^5*q1*q2^2-q^5*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(0, -1)] + ((q^7*q1^3+q^7*q1^2*q2-q^7*q1*q2^2-q^7*q2^3-2*q^5*q1^2*q2-4*q^5*q1*q2^2-2*q^5*q2^3-2*q^3*q1^2*q2-4*q^3*q1*q2^2-2*q^3*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(0, 1)] + ((-q^6*q1^2-q^6*q1*q2+q^4*q1*q2+q^4*q2^2+q^2*q1*q2+q^2*q2^2)/(-q^6*q1^2+q2^2))*B[(0, 2)]\n+        ((-q^12*q1^6-q^12*q1^5*q2+2*q^10*q1^5*q2+5*q^10*q1^4*q2^2+3*q^10*q1^3*q2^3+2*q^8*q1^5*q2+4*q^8*q1^4*q2^2+q^8*q1^3*q2^3-q^8*q1^2*q2^4+q^8*q1*q2^5+q^8*q2^6-q^6*q1^3*q2^3+q^6*q1^2*q2^4+4*q^6*q1*q2^5+2*q^6*q2^6+q^4*q1^3*q2^3+3*q^4*q1^2*q2^4+4*q^4*q1*q2^5+2*q^4*q2^6)/(-q^12*q1^6-q^10*q1^5*q2-q^8*q1^3*q2^3+q^6*q1^4*q2^2-q^6*q1^2*q2^4+q^4*q1^3*q2^3+q^2*q1*q2^5+q2^6))*B[(0, 0)] + ((q^7*q1^2*q2+2*q^7*q1*q2^2+q^7*q2^3+q^5*q1^2*q2+2*q^5*q1*q2^2+q^5*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(-1, 0)] + ((-q^6*q1*q2-q^6*q2^2)/(q^6*q1^2-q2^2))*B[(-1, -1)] + ((q^6*q1^2*q2+2*q^6*q1*q2^2+q^6*q2^3+q^4*q1^2*q2+2*q^4*q1*q2^2+q^4*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(-1, 1)] + ((-q^3*q1*q2-q^3*q2^2)/(q^6*q1^2-q2^2))*B[(-1, 2)] + ((q^7*q1^3+q^7*q1^2*q2-q^7*q1*q2^2-q^7*q2^3-2*q^5*q1^2*q2-4*q^5*q1*q2^2-2*q^5*q2^3-2*q^3*q1^2*q2-4*q^3*q1*q2^2-2*q^3*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(1, 0)] + ((q^6*q1^2*q2+2*q^6*q1*q2^2+q^6*q2^3+q^4*q1^2*q2+2*q^4*q1*q2^2+q^4*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(1, -1)] + ((q^8*q1^3+q^8*q1^2*q2+q^6*q1^3+q^6*q1^2*q2-q^6*q1*q2^2-q^6*q2^3-2*q^4*q1^2*q2-4*q^4*q1*q2^2-2*q^4*q2^3-q^2*q1^2*q2-3*q^2*q1*q2^2-2*q^2*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(1, 1)] + ((q^5*q1^2+q^5*q1*q2-q^3*q1*q2-q^3*q2^2-q*q1*q2-q*q2^2)/(q^6*q1^2-q2^2))*B[(1, 2)] + ((-q^6*q1^2-q^6*q1*q2+q^4*q1*q2+q^4*q2^2+q^2*q1*q2+q^2*q2^2)/(-q^6*q1^2+q2^2))*B[(2, 0)] + ((-q^3*q1*q2-q^3*q2^2)/(q^6*q1^2-q2^2))*B[(2, -1)] + ((-q^5*q1^2-q^5*q1*q2+q^3*q1*q2+q^3*q2^2+q*q1*q2+q*q2^2)/(-q^6*q1^2+q2^2))*B[(2, 1)] + B[(2, 2)] + ((q^7*q1^2*q2+2*q^7*q1*q2^2+q^7*q2^3+q^5*q1^2*q2+2*q^5*q1*q2^2+q^5*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(0, -1)] + ((q^7*q1^3+q^7*q1^2*q2-q^7*q1*q2^2-q^7*q2^3-2*q^5*q1^2*q2-4*q^5*q1*q2^2-2*q^5*q2^3-2*q^3*q1^2*q2-4*q^3*q1*q2^2-2*q^3*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(0, 1)] + ((q^6*q1^2+q^6*q1*q2-q^4*q1*q2-q^4*q2^2-q^2*q1*q2-q^2*q2^2)/(q^6*q1^2-q2^2))*B[(0, 2)]\n         sage: E.recursion(2*omega[2])\n         [0, 1, 0, 2, 1, 0, 2, 1, 0]\n \n```\n\nThis should probably be wrapped for readability",
    "created_at": "2021-03-17T08:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400399",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:9" align="right">comment:9</div>


```
@@ -567,14 +566,7 @@ class NonSymmetricMacdonaldPolynomials(CherednikOperatorsEigenvectors):
         + ((-q1*q2-q2^2)/(q*q1^2-q2^2))*B[(0, 0, -1)] + ((q1*q2+q2^2)/(-q*q1^2+q2^2))*B[(0, 0, 1)]
 
         sage: E[-omega[1]-omega[2]]
-        ((-q^3*q1^6-q^3*q1^5*q2-2*q^2*q1^6-3*q^2*q1^5*q2+q^2*q1^4*q2^2+2*q^2*q1^3*q2^3+q*q1^5*q2+2*q*q1^4*q2^2-q*q1^3*q2^3-2*q*q1^2*q2^4+q*q1*q2^5+q*q2^6-q1^3*q2^3-q1^2*q2^4+2*q1*q2^5+2*q2^6)/(-q^4*q1^6-q^3*q1^5*q2+q^3*q1^4*q2^2-q*q1^2*q2^4+q*q1*q2^5+q2^6))*B[(0, 0, 0)] + B[(-1, -1, 0)]
-        + ((q*q1^4+q*q1^3*q2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(-1, 1, 0)] + ((q1+q2)/(q*q1+q2))*B[(-1, 0, -1)] + ((-q1-q2)/(-q*q1-q2))*B[(-1, 0, 1)]
-        + ((q*q1^4+q*q1^3*q2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(1, -1, 0)]
-        + ((-q^2*q1^6-q^2*q1^5*q2-q*q1^5*q2+q*q1^3*q2^3+q1^5*q2+q1^4*q2^2-q1^3*q2^3-q1^2*q2^4+q1*q2^5+q2^6)/(-q^4*q1^6-q^3*q1^5*q2+q^3*q1^4*q2^2-q*q1^2*q2^4+q*q1*q2^5+q2^6))*B[(1, 1, 0)]
-        + ((-q*q1^4-2*q*q1^3*q2-q*q1^2*q2^2+q1^3*q2+q1^2*q2^2-q1*q2^3-q2^4)/(-q^3*q1^4-q^2*q1^3*q2-q*q1*q2^3-q2^4))*B[(1, 0, -1)]
-        + ((-q*q1^4-2*q*q1^3*q2-q*q1^2*q2^2+q1^3*q2+q1^2*q2^2-q1*q2^3-q2^4)/(-q^3*q1^4-q^2*q1^3*q2-q*q1*q2^3-q2^4))*B[(1, 0, 1)] + ((q1+q2)/(q*q1+q2))*B[(0, -1, -1)]
-        + ((-q1-q2)/(-q*q1-q2))*B[(0, -1, 1)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(0, 1, -1)]
-        + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(0, 1, 1)]
+        ((q^3*q1^6+q^3*q1^5*q2+2*q^2*q1^6+3*q^2*q1^5*q2-q^2*q1^4*q2^2-2*q^2*q1^3*q2^3-q*q1^5*q2-2*q*q1^4*q2^2+q*q1^3*q2^3+2*q*q1^2*q2^4-q*q1*q2^5-q*q2^6+q1^3*q2^3+q1^2*q2^4-2*q1*q2^5-2*q2^6)/(q^4*q1^6+q^3*q1^5*q2-q^3*q1^4*q2^2+q*q1^2*q2^4-q*q1*q2^5-q2^6))*B[(0, 0, 0)] + B[(-1, -1, 0)] + ((q*q1^4+q*q1^3*q2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(-1, 1, 0)] + ((q1+q2)/(q*q1+q2))*B[(-1, 0, -1)] + ((-q1-q2)/(-q*q1-q2))*B[(-1, 0, 1)] + ((q*q1^4+q*q1^3*q2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(1, -1, 0)] + ((q^2*q1^6+q^2*q1^5*q2+q*q1^5*q2-q*q1^3*q2^3-q1^5*q2-q1^4*q2^2+q1^3*q2^3+q1^2*q2^4-q1*q2^5-q2^6)/(q^4*q1^6+q^3*q1^5*q2-q^3*q1^4*q2^2+q*q1^2*q2^4-q*q1*q2^5-q2^6))*B[(1, 1, 0)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(1, 0, -1)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(1, 0, 1)] + ((q1+q2)/(q*q1+q2))*B[(0, -1, -1)] + ((q1+q2)/(q*q1+q2))*B[(0, -1, 1)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(0, 1, -1)] + ((q*q1^4+2*q*q1^3*q2+q*q1^2*q2^2-q1^3*q2-q1^2*q2^2+q1*q2^3+q2^4)/(q^3*q1^4+q^2*q1^3*q2+q*q1*q2^3+q2^4))*B[(0, 1, 1)]
 
         sage: E[omega[1]-omega[2]]
         ((q^3*q1^7+q^3*q1^6*q2-q*q1*q2^6-q*q2^7)/(q^3*q1^7-q^2*q1^5*q2^2+q*q1^2*q2^5-q2^7))*B[(0, 0, 0)] + B[(1, -1, 0)]
@@ -812,7 +804,7 @@ class NonSymmetricMacdonaldPolynomials(CherednikOperatorsEigenvectors):
         ((-q*q1*q2^3-q*q2^4)/(q^2*q1^4-q2^4))*B[(0, 0)] + B[(1, 0)]
 
         sage: E[2*omega[2]]      # long time # not checked against Bogdan's notes, but a good self-consistency test
-        ((-q^12*q1^6-q^12*q1^5*q2+2*q^10*q1^5*q2+5*q^10*q1^4*q2^2+3*q^10*q1^3*q2^3+2*q^8*q1^5*q2+4*q^8*q1^4*q2^2+q^8*q1^3*q2^3-q^8*q1^2*q2^4+q^8*q1*q2^5+q^8*q2^6-q^6*q1^3*q2^3+q^6*q1^2*q2^4+4*q^6*q1*q2^5+2*q^6*q2^6+q^4*q1^3*q2^3+3*q^4*q1^2*q2^4+4*q^4*q1*q2^5+2*q^4*q2^6)/(-q^12*q1^6-q^10*q1^5*q2-q^8*q1^3*q2^3+q^6*q1^4*q2^2-q^6*q1^2*q2^4+q^4*q1^3*q2^3+q^2*q1*q2^5+q2^6))*B[(0, 0)] + ((q^7*q1^2*q2+2*q^7*q1*q2^2+q^7*q2^3+q^5*q1^2*q2+2*q^5*q1*q2^2+q^5*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(-1, 0)] + ((q^6*q1*q2+q^6*q2^2)/(-q^6*q1^2+q2^2))*B[(-1, -1)] + ((q^6*q1^2*q2+2*q^6*q1*q2^2+q^6*q2^3+q^4*q1^2*q2+2*q^4*q1*q2^2+q^4*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(-1, 1)] + ((q^3*q1*q2+q^3*q2^2)/(-q^6*q1^2+q2^2))*B[(-1, 2)] + ((-q^7*q1^3-q^7*q1^2*q2+q^7*q1*q2^2+q^7*q2^3+2*q^5*q1^2*q2+4*q^5*q1*q2^2+2*q^5*q2^3+2*q^3*q1^2*q2+4*q^3*q1*q2^2+2*q^3*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(1, 0)] + ((-q^6*q1^2*q2-2*q^6*q1*q2^2-q^6*q2^3-q^4*q1^2*q2-2*q^4*q1*q2^2-q^4*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(1, -1)] + ((q^8*q1^3+q^8*q1^2*q2+q^6*q1^3+q^6*q1^2*q2-q^6*q1*q2^2-q^6*q2^3-2*q^4*q1^2*q2-4*q^4*q1*q2^2-2*q^4*q2^3-q^2*q1^2*q2-3*q^2*q1*q2^2-2*q^2*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(1, 1)] + ((-q^5*q1^2-q^5*q1*q2+q^3*q1*q2+q^3*q2^2+q*q1*q2+q*q2^2)/(-q^6*q1^2+q2^2))*B[(1, 2)] + ((-q^6*q1^2-q^6*q1*q2+q^4*q1*q2+q^4*q2^2+q^2*q1*q2+q^2*q2^2)/(-q^6*q1^2+q2^2))*B[(2, 0)] + ((q^3*q1*q2+q^3*q2^2)/(-q^6*q1^2+q2^2))*B[(2, -1)] + ((-q^5*q1^2-q^5*q1*q2+q^3*q1*q2+q^3*q2^2+q*q1*q2+q*q2^2)/(-q^6*q1^2+q2^2))*B[(2, 1)] + B[(2, 2)] + ((-q^7*q1^2*q2-2*q^7*q1*q2^2-q^7*q2^3-q^5*q1^2*q2-2*q^5*q1*q2^2-q^5*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(0, -1)] + ((q^7*q1^3+q^7*q1^2*q2-q^7*q1*q2^2-q^7*q2^3-2*q^5*q1^2*q2-4*q^5*q1*q2^2-2*q^5*q2^3-2*q^3*q1^2*q2-4*q^3*q1*q2^2-2*q^3*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(0, 1)] + ((-q^6*q1^2-q^6*q1*q2+q^4*q1*q2+q^4*q2^2+q^2*q1*q2+q^2*q2^2)/(-q^6*q1^2+q2^2))*B[(0, 2)]
+        ((-q^12*q1^6-q^12*q1^5*q2+2*q^10*q1^5*q2+5*q^10*q1^4*q2^2+3*q^10*q1^3*q2^3+2*q^8*q1^5*q2+4*q^8*q1^4*q2^2+q^8*q1^3*q2^3-q^8*q1^2*q2^4+q^8*q1*q2^5+q^8*q2^6-q^6*q1^3*q2^3+q^6*q1^2*q2^4+4*q^6*q1*q2^5+2*q^6*q2^6+q^4*q1^3*q2^3+3*q^4*q1^2*q2^4+4*q^4*q1*q2^5+2*q^4*q2^6)/(-q^12*q1^6-q^10*q1^5*q2-q^8*q1^3*q2^3+q^6*q1^4*q2^2-q^6*q1^2*q2^4+q^4*q1^3*q2^3+q^2*q1*q2^5+q2^6))*B[(0, 0)] + ((q^7*q1^2*q2+2*q^7*q1*q2^2+q^7*q2^3+q^5*q1^2*q2+2*q^5*q1*q2^2+q^5*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(-1, 0)] + ((-q^6*q1*q2-q^6*q2^2)/(q^6*q1^2-q2^2))*B[(-1, -1)] + ((q^6*q1^2*q2+2*q^6*q1*q2^2+q^6*q2^3+q^4*q1^2*q2+2*q^4*q1*q2^2+q^4*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(-1, 1)] + ((-q^3*q1*q2-q^3*q2^2)/(q^6*q1^2-q2^2))*B[(-1, 2)] + ((q^7*q1^3+q^7*q1^2*q2-q^7*q1*q2^2-q^7*q2^3-2*q^5*q1^2*q2-4*q^5*q1*q2^2-2*q^5*q2^3-2*q^3*q1^2*q2-4*q^3*q1*q2^2-2*q^3*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(1, 0)] + ((q^6*q1^2*q2+2*q^6*q1*q2^2+q^6*q2^3+q^4*q1^2*q2+2*q^4*q1*q2^2+q^4*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(1, -1)] + ((q^8*q1^3+q^8*q1^2*q2+q^6*q1^3+q^6*q1^2*q2-q^6*q1*q2^2-q^6*q2^3-2*q^4*q1^2*q2-4*q^4*q1*q2^2-2*q^4*q2^3-q^2*q1^2*q2-3*q^2*q1*q2^2-2*q^2*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(1, 1)] + ((q^5*q1^2+q^5*q1*q2-q^3*q1*q2-q^3*q2^2-q*q1*q2-q*q2^2)/(q^6*q1^2-q2^2))*B[(1, 2)] + ((-q^6*q1^2-q^6*q1*q2+q^4*q1*q2+q^4*q2^2+q^2*q1*q2+q^2*q2^2)/(-q^6*q1^2+q2^2))*B[(2, 0)] + ((-q^3*q1*q2-q^3*q2^2)/(q^6*q1^2-q2^2))*B[(2, -1)] + ((-q^5*q1^2-q^5*q1*q2+q^3*q1*q2+q^3*q2^2+q*q1*q2+q*q2^2)/(-q^6*q1^2+q2^2))*B[(2, 1)] + B[(2, 2)] + ((q^7*q1^2*q2+2*q^7*q1*q2^2+q^7*q2^3+q^5*q1^2*q2+2*q^5*q1*q2^2+q^5*q2^3)/(-q^8*q1^3-q^6*q1^2*q2+q^2*q1*q2^2+q2^3))*B[(0, -1)] + ((q^7*q1^3+q^7*q1^2*q2-q^7*q1*q2^2-q^7*q2^3-2*q^5*q1^2*q2-4*q^5*q1*q2^2-2*q^5*q2^3-2*q^3*q1^2*q2-4*q^3*q1*q2^2-2*q^3*q2^3)/(q^8*q1^3+q^6*q1^2*q2-q^2*q1*q2^2-q2^3))*B[(0, 1)] + ((q^6*q1^2+q^6*q1*q2-q^4*q1*q2-q^4*q2^2-q^2*q1*q2-q^2*q2^2)/(q^6*q1^2-q2^2))*B[(0, 2)]
         sage: E.recursion(2*omega[2])
         [0, 1, 0, 2, 1, 0, 2, 1, 0]
 
```

This should probably be wrapped for readability



---

archive/issue_comments_400400.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/655556434 (cygwin), https://github.com/mkoeppe/sage/actions/runs/655556443 (linux/macos)** to **Matthias Koeppe, Dima Pasechnik**",
    "created_at": "2021-03-17T10:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400400",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/655556434 (cygwin), https://github.com/mkoeppe/sage/actions/runs/655556443 (linux/macos)** to **Matthias Koeppe, Dima Pasechnik**



---

archive/issue_comments_400401.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nI am happy to see this through.",
    "created_at": "2021-03-17T10:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400401",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:0" align="right">comment:0</div>

I am happy to see this through.



---

archive/issue_events_359109.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-17T10:28:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359109"
}
```



---

archive/issue_events_359110.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-03-17T10:28:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359110"
}
```



---

archive/issue_comments_400402.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThanks!",
    "created_at": "2021-03-17T14:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400402",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">comment:1</div>

Thanks!



---

archive/issue_comments_400403.json:
```json
{
    "body": "Changed branch from **[public/singular4-1-3](https://github.com/sagemath/sagetrac-mirror/tree/public/singular4-1-3)** to **[ec471e0](https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267)**",
    "created_at": "2021-03-20T15:27:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400403",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/singular4-1-3](https://github.com/sagemath/sagetrac-mirror/tree/public/singular4-1-3)** to **[ec471e0](https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267)**



---

archive/issue_events_359111.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-20T15:27:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359111"
}
```



---

archive/issue_events_359112.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ca83d064755d73e67e08d58a938af8f56e59825e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-03-20T15:27:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359112"
}
```



---

archive/issue_events_359113.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-03-20T16:17:07Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "title_is": "Upgrade: Singular 4.2.0, pysingular 0.9.7",
    "title_was": "Upgrade Singular",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25993#event-359113"
}
```



---

archive/issue_comments_400404.json:
```json
{
    "body": "Changed keywords from **upgrade, Singular** to **upgrade, Singular, pysingular**",
    "created_at": "2021-03-20T16:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400404",
    "user": "https://github.com/slel"
}
```

Changed keywords from **upgrade, Singular** to **upgrade, Singular, pysingular**



---

archive/issue_comments_400405.json:
```json
{
    "body": "Changed commit from **[ec471e0](https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267)** to none",
    "created_at": "2021-03-20T16:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400405",
    "user": "https://github.com/slel"
}
```

Changed commit from **[ec471e0](https://github.com/sagemath/sagetrac-mirror/commit/ec471e0c792a7540e9777b33fb37be2e1a2f1267)** to none



---

archive/issue_comments_400406.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nUpstream has now merged all pull requests.",
    "created_at": "2021-03-22T21:33:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400406",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Upstream has now merged all pull requests.



---

archive/issue_comments_400407.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2021-03-22T21:34:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400407",
    "user": "https://github.com/mkoeppe"
}
```

Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_400408.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFollow up in #31552",
    "created_at": "2021-03-25T01:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25993#issuecomment-400408",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Follow up in #31552
