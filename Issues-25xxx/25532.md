# Issue 25532: Upgrade to NTL 11.3.2

archive/issues_025295.json:
```json
{
    "assignees": [
        "https://github.com/embray"
    ],
    "body": "<div id=\"comment:0\"></div>\n\n- Download page: http://www.shoup.net/ntl/download.html\n- Tarball: https://www.shoup.net/ntl/ntl-11.3.2.tar.gz\n\nThe last upgrade in Sage was to NTL 10.3.0 in ticket #22869.\n\nCC:  @kiwifb @timokau @infinity0 @jdemeyer @jpflori @nexttime @saraedum @slel @tobihan @tscrim @vbraun\n\nComponent: **packages: standard**\n\nKeywords: **upgrade, ntl**\n\nAuthor: **Timo Kaufmann, Fran\u00e7ois Bissey**\n\nBranch: **[`9aa1288`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f)**\n\nReviewer: **Dima Pasechnik, Volker Braun, Travis Scrimshaw, Erik Bray**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25532_\n\n",
    "closed_at": "2019-04-07T15:15:42Z",
    "created_at": "2018-06-07T18:15:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to NTL 11.3.2",
    "type": "issue",
    "updated_at": "2019-04-19T22:18:42Z",
    "url": "https://github.com/sagemath/sage/issues/25532",
    "user": "https://github.com/slel"
}
```
<div id="comment:0"></div>

- Download page: http://www.shoup.net/ntl/download.html
- Tarball: https://www.shoup.net/ntl/ntl-11.3.2.tar.gz

The last upgrade in Sage was to NTL 10.3.0 in ticket #22869.

CC:  @kiwifb @timokau @infinity0 @jdemeyer @jpflori @nexttime @saraedum @slel @tobihan @tscrim @vbraun

Component: **packages: standard**

Keywords: **upgrade, ntl**

Author: **Timo Kaufmann, Fran√ßois Bissey**

Branch: **[`9aa1288`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f)**

Reviewer: **Dima Pasechnik, Volker Braun, Travis Scrimshaw, Erik Bray**

_Issue created by migration from https://trac.sagemath.org/ticket/25532_





---

archive/issue_events_350283.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-06-07T18:15:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350283"
}
```



---

archive/issue_events_350284.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-06-07T18:15:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350284"
}
```



---

archive/issue_events_350285.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-06-07T18:15:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350285"
}
```



---

archive/issue_events_350286.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-06-07T18:15:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350286"
}
```



---

archive/issue_events_350287.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-07-09T19:57:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "title_is": "Upgrade to NTL 11.2.0",
    "title_was": "Upgrade to NTL 11.1.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350287"
}
```



---

archive/issue_comments_391565.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,2 @@\n - Download page: http://www.shoup.net/ntl/download.html\n-- Tarball: http://www.shoup.net/ntl/ntl-11.1.0.tar.gz\n+- Tarball: http://www.shoup.net/ntl/ntl-11.2.0.tar.gz\n``````\n",
    "created_at": "2018-07-09T19:57:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391565",
    "user": "https://github.com/timokau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,2 @@
 - Download page: http://www.shoup.net/ntl/download.html
-- Tarball: http://www.shoup.net/ntl/ntl-11.1.0.tar.gz
+- Tarball: http://www.shoup.net/ntl/ntl-11.2.0.tar.gz
``````




---

archive/issue_comments_391566.json:
```json
{
    "body": "Branch: **[public/25532](https://github.com/sagemath/sagetrac-mirror/tree/public/25532)**",
    "created_at": "2018-07-09T22:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391566",
    "user": "https://github.com/timokau"
}
```

Branch: **[public/25532](https://github.com/sagemath/sagetrac-mirror/tree/public/25532)**



---

archive/issue_comments_391567.json:
```json
{
    "body": "Commit: **[`7f8e380`](https://github.com/sagemath/sagetrac-mirror/commit/7f8e3807d0ffe2e8f5b4e456d614ee4c12ca5ce0)**",
    "created_at": "2018-07-09T22:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391567",
    "user": "https://github.com/timokau"
}
```

Commit: **[`7f8e380`](https://github.com/sagemath/sagetrac-mirror/commit/7f8e3807d0ffe2e8f5b4e456d614ee4c12ca5ce0)**



---

archive/issue_comments_391568.json:
```json
{
    "body": "Dependencies: **23341**",
    "created_at": "2018-07-09T22:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391568",
    "user": "https://github.com/timokau"
}
```

Dependencies: **23341**



---

archive/issue_comments_391569.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNTL compiles with `-std=c++11` from 11.0 upwards. Apparently it is possible to compile with older c standards, but that loses thread safety.\n\nI've added a work in progress PR that also updates the C standard for flint (necessary, see https://github.com/wbhart/flint2/issues/487). However sagelib won't build because lcalc still compiles with gnu++98 (#23341).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f8e3807d0ffe2e8f5b4e456d614ee4c12ca5ce0\"><code>7f8e380</code></a></td><td><code>Upgrade ntl to 11.2.0</code></td></tr></table>\n",
    "created_at": "2018-07-09T22:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391569",
    "user": "https://github.com/timokau"
}
```

<div id="comment:5" align="right">comment:5</div>

NTL compiles with `-std=c++11` from 11.0 upwards. Apparently it is possible to compile with older c standards, but that loses thread safety.

I've added a work in progress PR that also updates the C standard for flint (necessary, see https://github.com/wbhart/flint2/issues/487). However sagelib won't build because lcalc still compiles with gnu++98 (#23341).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f8e3807d0ffe2e8f5b4e456d614ee4c12ca5ce0"><code>7f8e380</code></a></td><td><code>Upgrade ntl to 11.2.0</code></td></tr></table>




---

archive/issue_comments_391570.json:
```json
{
    "body": "Changed commit from **[`7f8e380`](https://github.com/sagemath/sagetrac-mirror/commit/7f8e3807d0ffe2e8f5b4e456d614ee4c12ca5ce0)** to **[`6085b99`](https://github.com/sagemath/sagetrac-mirror/commit/6085b990d8afd3b6011d4ec81c417de31d6f38f4)**",
    "created_at": "2018-07-09T22:27:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391570",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f8e380`](https://github.com/sagemath/sagetrac-mirror/commit/7f8e3807d0ffe2e8f5b4e456d614ee4c12ca5ce0)** to **[`6085b99`](https://github.com/sagemath/sagetrac-mirror/commit/6085b990d8afd3b6011d4ec81c417de31d6f38f4)**



---

archive/issue_comments_391571.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6085b990d8afd3b6011d4ec81c417de31d6f38f4\"><code>6085b99</code></a></td><td><code>Upgrade ntl to 11.2.0</code></td></tr></table>\n",
    "created_at": "2018-07-09T22:27:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391571",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6085b990d8afd3b6011d4ec81c417de31d6f38f4"><code>6085b99</code></a></td><td><code>Upgrade ntl to 11.2.0</code></td></tr></table>




---

archive/issue_comments_391572.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIt is not necessary to explicitly set `-std` for flint, instead this relies on the compiler default (which certainly is >=11 now).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6085b990d8afd3b6011d4ec81c417de31d6f38f4\"><code>6085b99</code></a></td><td><code>Upgrade ntl to 11.2.0</code></td></tr></table>\n",
    "created_at": "2018-07-09T22:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391572",
    "user": "https://github.com/timokau"
}
```

<div id="comment:7" align="right">comment:7</div>

It is not necessary to explicitly set `-std` for flint, instead this relies on the compiler default (which certainly is >=11 now).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6085b990d8afd3b6011d4ec81c417de31d6f38f4"><code>6085b99</code></a></td><td><code>Upgrade ntl to 11.2.0</code></td></tr></table>




---

archive/issue_comments_391573.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAdd a `#` in front of ticket numbers.",
    "created_at": "2018-07-09T22:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391573",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Add a `#` in front of ticket numbers.



---

archive/issue_comments_391574.json:
```json
{
    "body": "Changed dependencies from **23341** to **#23341**",
    "created_at": "2018-07-09T22:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391574",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **23341** to **#23341**



---

archive/issue_comments_391575.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWhy does this depend on #23341? How is lcalc related to NTL?",
    "created_at": "2018-07-09T22:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391575",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Why does this depend on #23341? How is lcalc related to NTL?



---

archive/issue_comments_391576.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nntl 11 uses c++11, so \"distutils: extra_compile_args = -std=gnu++98\" has to be removed from sage/libs/lcalc/lcalc_Lfunction (which depends on both ntl and lcalc), so lcalc headers need to be c++11 compliant.\n\nFWIW, I've already bumped ntl on Arch, and it mostly works fine in practice. The main issue is that it seems to bail out on some degenerate input, eg\n\n```\n> sage -t sage/matrix/matrix_integer_dense.pyx\n\n[...]\n\nsage: matrix(ZZ,3,[1..9]).hermite_form(algorithm='ntl') ## line 1807 ##\n\nhalt 2\n\n```",
    "created_at": "2018-07-10T06:33:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391576",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:10" align="right">comment:10</div>

ntl 11 uses c++11, so "distutils: extra_compile_args = -std=gnu++98" has to be removed from sage/libs/lcalc/lcalc_Lfunction (which depends on both ntl and lcalc), so lcalc headers need to be c++11 compliant.

FWIW, I've already bumped ntl on Arch, and it mostly works fine in practice. The main issue is that it seems to bail out on some degenerate input, eg

```
> sage -t sage/matrix/matrix_integer_dense.pyx

[...]

sage: matrix(ZZ,3,[1..9]).hermite_form(algorithm='ntl') ## line 1807 ##

halt 2

```



---

archive/issue_comments_391577.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nGentoo also has already updated ntl and apparently applied some patches to fix issues. https://github.com/dimpase/lcalc/pull/1 applies similar patches and updates lcalc to latest master (long unmaintained). That seems ready to merge, but was apparently forgotten or something.",
    "created_at": "2018-07-10T12:10:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391577",
    "user": "https://github.com/timokau"
}
```

<div id="comment:11" align="right">comment:11</div>

Gentoo also has already updated ntl and apparently applied some patches to fix issues. https://github.com/dimpase/lcalc/pull/1 applies similar patches and updates lcalc to latest master (long unmaintained). That seems ready to merge, but was apparently forgotten or something.



---

archive/issue_comments_391578.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@antonio-rojas](#comment%3A10):\n> sage/libs/lcalc/lcalc_Lfunction (which depends on both ntl and lcalc)\n\nIt technically \"depends\" on NTL but for no good reason.\n\nIf that's the only issue, untangling this dependency would be the easiest solution.",
    "created_at": "2018-07-10T12:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391578",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@antonio-rojas](#comment%3A10):
> sage/libs/lcalc/lcalc_Lfunction (which depends on both ntl and lcalc)

It technically "depends" on NTL but for no good reason.

If that's the only issue, untangling this dependency would be the easiest solution.



---

archive/issue_comments_391579.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI'm not sure its the only issue, its just the first non-trivial one I encountered. @kiwifb probably knows more about that as he apparently already has proper patches for gentoo.",
    "created_at": "2018-07-11T17:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391579",
    "user": "https://github.com/timokau"
}
```

<div id="comment:13" align="right">comment:13</div>

I'm not sure its the only issue, its just the first non-trivial one I encountered. @kiwifb probably knows more about that as he apparently already has proper patches for gentoo.



---

archive/issue_comments_391580.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@timokau](#comment%3A13):\n> I'm not sure its the only issue, its just the first non-trivial one I encountered. @kiwifb probably knows more about that as he apparently already has proper patches for gentoo.\n\nI'll confess that I am not sure what we are talking about here. Patch to `ntl` or to `sage`? At the moment I am using stock `ntl-10.5.0` from the gentoo tree that has no patch. I don't remember doing anything special to sage to use it. \nI have an ebuild for 11.1.0/11.2.0 in a private repository that again is not patched - the only thing to be careful of is that to enable threads in `ntl` you need at least `gf2x-1.2`.",
    "created_at": "2018-07-12T01:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391580",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@timokau](#comment%3A13):
> I'm not sure its the only issue, its just the first non-trivial one I encountered. @kiwifb probably knows more about that as he apparently already has proper patches for gentoo.

I'll confess that I am not sure what we are talking about here. Patch to `ntl` or to `sage`? At the moment I am using stock `ntl-10.5.0` from the gentoo tree that has no patch. I don't remember doing anything special to sage to use it. 
I have an ebuild for 11.1.0/11.2.0 in a private repository that again is not patched - the only thing to be careful of is that to enable threads in `ntl` you need at least `gf2x-1.2`.



---

archive/issue_comments_391581.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOh I just assumed that you used ntl 11 with sage because you mentioned in https://github.com/dimpase/lcalc/pull/1 that you patched your lcalc for c++11 support.",
    "created_at": "2018-07-12T10:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391581",
    "user": "https://github.com/timokau"
}
```

<div id="comment:15" align="right">comment:15</div>

Oh I just assumed that you used ntl 11 with sage because you mentioned in https://github.com/dimpase/lcalc/pull/1 that you patched your lcalc for c++11 support.



---

archive/issue_comments_391582.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@timokau](#comment%3A15):\n> Oh I just assumed that you used ntl 11 with sage because you mentioned in https://github.com/dimpase/lcalc/pull/1 that you patched your lcalc for c++11 support.\n\nI seriously need to check to see if I use C++11 with lcalc. I have a good memory but not that good.",
    "created_at": "2018-07-12T10:46:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391582",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@timokau](#comment%3A15):
> Oh I just assumed that you used ntl 11 with sage because you mentioned in https://github.com/dimpase/lcalc/pull/1 that you patched your lcalc for c++11 support.

I seriously need to check to see if I use C++11 with lcalc. I have a good memory but not that good.



---

archive/issue_comments_391583.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOK I patch enough that it compile out of the box with g++-7.3.0 without passing a `-std=c++...` flag so I am guessing I get gnu++11 at the least. Lots of warnings that stuff is deprecated or forbidden, but g++ takes it. clang++, on the other hand, breaks\n\n```\nfatal error: 'bits/c++config.h' file not found\n```\nOf course no one should use those kinds of headers in the first place. I am sure it is fixed in the pull request you are quoting at least.",
    "created_at": "2018-07-12T10:55:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391583",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

OK I patch enough that it compile out of the box with g++-7.3.0 without passing a `-std=c++...` flag so I am guessing I get gnu++11 at the least. Lots of warnings that stuff is deprecated or forbidden, but g++ takes it. clang++, on the other hand, breaks

```
fatal error: 'bits/c++config.h' file not found
```
Of course no one should use those kinds of headers in the first place. I am sure it is fixed in the pull request you are quoting at least.



---

archive/issue_comments_391584.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nBut really we should talk about lcalc in another ticket.",
    "created_at": "2018-07-12T10:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391584",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:18" align="right">comment:18</div>

But really we should talk about lcalc in another ticket.



---

archive/issue_comments_391585.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nYes, that would be #23341. Apparently the work is pretty much done but there is some small regression (?) nobody felt qualified to make a judgement about yet.\n\nMore relevant to the discussion in this ticket would be the approach @jdemeyer suggested (to \"just\" remove the dependency).",
    "created_at": "2018-07-12T11:28:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391585",
    "user": "https://github.com/timokau"
}
```

<div id="comment:19" align="right">comment:19</div>

Yes, that would be #23341. Apparently the work is pretty much done but there is some small regression (?) nobody felt qualified to make a judgement about yet.

More relevant to the discussion in this ticket would be the approach @jdemeyer suggested (to "just" remove the dependency).



---

archive/issue_comments_391586.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,2 @@\n - Download page: http://www.shoup.net/ntl/download.html\n-- Tarball: http://www.shoup.net/ntl/ntl-11.2.0.tar.gz\n+- Tarball: http://www.shoup.net/ntl/ntl-11.2.1.tar.gz\n``````\n",
    "created_at": "2018-07-15T17:34:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391586",
    "user": "https://github.com/timokau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,2 @@
 - Download page: http://www.shoup.net/ntl/download.html
-- Tarball: http://www.shoup.net/ntl/ntl-11.2.0.tar.gz
+- Tarball: http://www.shoup.net/ntl/ntl-11.2.1.tar.gz
``````




---

archive/issue_events_350288.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-07-15T17:34:07Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "title_is": "Upgrade to NTL 11.2.1",
    "title_was": "Upgrade to NTL 11.2.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350288"
}
```



---

archive/issue_comments_391587.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nWhen I tried to update to the last version before 11.0 (10.5.0) I got an interesting error:\n\n```\nFile \"/nix/store/lv32600c4zla3ldyd0l2sz7sr5y6bhkp-sage-src-8.2/src/sage/misc/trace.py\", line 67, in sage.misc.trace.trace\nFailed example:\n    print(s.before[s.before.find('--'):])\nExpected:\n    --...\n    ipdb> c\n    2 * 5\nGot:\n    --Call--\n    > <CSI-0;32m>/nix/store/bs9cxmkyslmnizh9gl7gj4\n```\n\n10.4.0 is the last version that works without any changes.",
    "created_at": "2018-07-17T15:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391587",
    "user": "https://github.com/timokau"
}
```

<div id="comment:21" align="right">comment:21</div>

When I tried to update to the last version before 11.0 (10.5.0) I got an interesting error:

```
File "/nix/store/lv32600c4zla3ldyd0l2sz7sr5y6bhkp-sage-src-8.2/src/sage/misc/trace.py", line 67, in sage.misc.trace.trace
Failed example:
    print(s.before[s.before.find('--'):])
Expected:
    --...
    ipdb> c
    2 * 5
Got:
    --Call--
    > <CSI-0;32m>/nix/store/bs9cxmkyslmnizh9gl7gj4
```

10.4.0 is the last version that works without any changes.



---

archive/issue_comments_391588.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@timokau](#comment%3A21):\n> When I tried to update to the last version before 11.0 (10.5.0) I got an interesting error:\n> \n> ```\n> File \"/nix/store/lv32600c4zla3ldyd0l2sz7sr5y6bhkp-sage-src-8.2/src/sage/misc/trace.py\", line 67, in sage.misc.trace.trace\n> Failed example:\n>     print(s.before[s.before.find('--'):])\n> Expected:\n>     --...\n>     ipdb> c\n>     2 * 5\n> Got:\n>     --Call--\n>     > <CSI-0;32m>/nix/store/bs9cxmkyslmnizh9gl7gj4\n> ```\n> \n> 10.4.0 is the last version that works without any changes.\n\nI am currently on 10.5.0 in gentoo, how do you get that problem?",
    "created_at": "2018-07-17T20:17:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391588",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@timokau](#comment%3A21):
> When I tried to update to the last version before 11.0 (10.5.0) I got an interesting error:
> 
> ```
> File "/nix/store/lv32600c4zla3ldyd0l2sz7sr5y6bhkp-sage-src-8.2/src/sage/misc/trace.py", line 67, in sage.misc.trace.trace
> Failed example:
>     print(s.before[s.before.find('--'):])
> Expected:
>     --...
>     ipdb> c
>     2 * 5
> Got:
>     --Call--
>     > <CSI-0;32m>/nix/store/bs9cxmkyslmnizh9gl7gj4
> ```
> 
> 10.4.0 is the last version that works without any changes.

I am currently on 10.5.0 in gentoo, how do you get that problem?



---

archive/issue_comments_391589.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nHuh. I tried to reproduce it to be sure, but I couldn't. If I remember correctly the time it occured I only changed the ntl version. Maybe I changed something else too and forgot it, maybe its a transient failure. I'll see if it occurs again some time.\n\nThanks for telling me.",
    "created_at": "2018-07-18T12:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391589",
    "user": "https://github.com/timokau"
}
```

<div id="comment:23" align="right">comment:23</div>

Huh. I tried to reproduce it to be sure, but I couldn't. If I remember correctly the time it occured I only changed the ntl version. Maybe I changed something else too and forgot it, maybe its a transient failure. I'll see if it occurs again some time.

Thanks for telling me.



---

archive/issue_comments_391590.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@antonio-rojas](#comment%3A10):\n> FWIW, I've already bumped ntl on Arch, and it mostly works fine in practice. The main issue is that it seems to bail out on some degenerate input, eg\n> \n> ```\n> > sage -t sage/matrix/matrix_integer_dense.pyx\n> \n> [...]\n> \n> sage: matrix(ZZ,3,[1..9]).hermite_form(algorithm='ntl') ## line 1807 ##\n> \n> halt 2\n> \n> ```\n\nScratch that: this is (surprisingly) caused by the Singular 4.1.1 upgrade, not by the NTL one.",
    "created_at": "2018-07-24T19:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391590",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@antonio-rojas](#comment%3A10):
> FWIW, I've already bumped ntl on Arch, and it mostly works fine in practice. The main issue is that it seems to bail out on some degenerate input, eg
> 
> ```
> > sage -t sage/matrix/matrix_integer_dense.pyx
> 
> [...]
> 
> sage: matrix(ZZ,3,[1..9]).hermite_form(algorithm='ntl') ## line 1807 ##
> 
> halt 2
> 
> ```

Scratch that: this is (surprisingly) caused by the Singular 4.1.1 upgrade, not by the NTL one.



---

archive/issue_comments_391591.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHow did you get sage to build with ntl >= 11? Did you patch lcalc? Any other patches necessary?",
    "created_at": "2018-07-24T22:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391591",
    "user": "https://github.com/timokau"
}
```

<div id="comment:25" align="right">comment:25</div>

How did you get sage to build with ntl >= 11? Did you patch lcalc? Any other patches necessary?



---

archive/issue_comments_391592.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@timokau](#comment%3A25):\n> How did you get sage to build with ntl >= 11? Did you patch lcalc? Any other patches necessary?\n\nApply the patch from #23341 to lcalc and\n\nhttps://git.archlinux.org/svntogit/community.git/tree/trunk/sagemath-lcalc-c++11.patch?h=packages/sagemath",
    "created_at": "2018-07-24T22:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391592",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@timokau](#comment%3A25):
> How did you get sage to build with ntl >= 11? Did you patch lcalc? Any other patches necessary?

Apply the patch from #23341 to lcalc and

https://git.archlinux.org/svntogit/community.git/tree/trunk/sagemath-lcalc-c++11.patch?h=packages/sagemath



---

archive/issue_comments_391593.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI tried to untangle the (apparently unnecessary) `lcalc <- ntl` dependency. I failed. NTL apparently gets added to the `inclue_dirs` of pretty much every sage extension, including lcalc. That is even after I (as an experiment)\n\n- removed `ntl` from `cython.py`s `standard_libs`\n- removed `ntl` from `setup.py`s `lib_headers`\n\nI couldn't figure out why `ntl` was still added. Jeroen, do you know why?",
    "created_at": "2018-07-25T12:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391593",
    "user": "https://github.com/timokau"
}
```

<div id="comment:27" align="right">comment:27</div>

I tried to untangle the (apparently unnecessary) `lcalc <- ntl` dependency. I failed. NTL apparently gets added to the `inclue_dirs` of pretty much every sage extension, including lcalc. That is even after I (as an experiment)

- removed `ntl` from `cython.py`s `standard_libs`
- removed `ntl` from `setup.py`s `lib_headers`

I couldn't figure out why `ntl` was still added. Jeroen, do you know why?



---

archive/issue_comments_391594.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n[NTL 11.3.1 was released.](https://www.shoup.net/ntl/doc/tour-changes.html)",
    "created_at": "2018-10-21T11:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391594",
    "user": "https://github.com/slel"
}
```

<div id="comment:28" align="right">comment:28</div>

[NTL 11.3.1 was released.](https://www.shoup.net/ntl/doc/tour-changes.html)



---

archive/issue_events_350289.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-21T11:02:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "title_is": "Upgrade to NTL 11.3.1",
    "title_was": "Upgrade to NTL 11.2.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350289"
}
```



---

archive/issue_comments_391595.json:
```json
{
    "body": "Changed keywords from none to **upgrade, ntl**",
    "created_at": "2018-10-21T11:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391595",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **upgrade, ntl**



---

archive/issue_events_350290.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-21T11:02:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350290"
}
```



---

archive/issue_events_350291.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-21T11:02:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350291"
}
```



---

archive/issue_comments_391596.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n - Download page: http://www.shoup.net/ntl/download.html\n-- Tarball: http://www.shoup.net/ntl/ntl-11.2.1.tar.gz\n+- Tarball: http://www.shoup.net/ntl/ntl-11.3.1.tar.gz\n+\n+The last upgrade in Sage was to NTL 10.3.0 in ticket #22869.\n``````\n",
    "created_at": "2018-10-21T11:02:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391596",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 - Download page: http://www.shoup.net/ntl/download.html
-- Tarball: http://www.shoup.net/ntl/ntl-11.2.1.tar.gz
+- Tarball: http://www.shoup.net/ntl/ntl-11.3.1.tar.gz
+
+The last upgrade in Sage was to NTL 10.3.0 in ticket #22869.
``````




---

archive/issue_comments_391597.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nFor what its worth I have since also adopted [this archlinux patch](https://git.archlinux.org/svntogit/community.git/plain/trunk/sagemath-lcalc-c++11.patch?h=packages/sagemath&id=0e31ae526ab7c6b5c0bfacb3f8b1c4fd490035aa) (thanks Antonio!) and haven't seen any issues.",
    "created_at": "2018-10-21T11:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391597",
    "user": "https://github.com/timokau"
}
```

<div id="comment:29" align="right">comment:29</div>

For what its worth I have since also adopted [this archlinux patch](https://git.archlinux.org/svntogit/community.git/plain/trunk/sagemath-lcalc-c++11.patch?h=packages/sagemath&id=0e31ae526ab7c6b5c0bfacb3f8b1c4fd490035aa) (thanks Antonio!) and haven't seen any issues.



---

archive/issue_comments_391598.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nNTL 11.3.2 was released, as [announced on sage-devel](https://groups.google.com/d/topic/sage-devel/QIwZE5YawmA/discussion).",
    "created_at": "2018-11-16T12:08:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391598",
    "user": "https://github.com/slel"
}
```

<div id="comment:30" align="right">comment:30</div>

NTL 11.3.2 was released, as [announced on sage-devel](https://groups.google.com/d/topic/sage-devel/QIwZE5YawmA/discussion).



---

archive/issue_comments_391599.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n - Download page: http://www.shoup.net/ntl/download.html\n-- Tarball: http://www.shoup.net/ntl/ntl-11.3.1.tar.gz\n+- Tarball: https://www.shoup.net/ntl/ntl-11.3.2.tar.gz\n \n The last upgrade in Sage was to NTL 10.3.0 in ticket #22869.\n``````\n",
    "created_at": "2018-11-16T12:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391599",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 - Download page: http://www.shoup.net/ntl/download.html
-- Tarball: http://www.shoup.net/ntl/ntl-11.3.1.tar.gz
+- Tarball: https://www.shoup.net/ntl/ntl-11.3.2.tar.gz
 
 The last upgrade in Sage was to NTL 10.3.0 in ticket #22869.
``````




---

archive/issue_events_350292.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-11-16T12:15:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "title_is": "Upgrade to NTL 11.3.2",
    "title_was": "Upgrade to NTL 11.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350292"
}
```



---

archive/issue_comments_391600.json:
```json
{
    "body": "Changed commit from **[`6085b99`](https://github.com/sagemath/sagetrac-mirror/commit/6085b990d8afd3b6011d4ec81c417de31d6f38f4)** to **[`bb47a03`](https://github.com/sagemath/sagetrac-mirror/commit/bb47a03d2bd4d597b521eee7f7c9609a11706faf)**",
    "created_at": "2018-11-22T04:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391600",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6085b99`](https://github.com/sagemath/sagetrac-mirror/commit/6085b990d8afd3b6011d4ec81c417de31d6f38f4)** to **[`bb47a03`](https://github.com/sagemath/sagetrac-mirror/commit/bb47a03d2bd4d597b521eee7f7c9609a11706faf)**



---

archive/issue_comments_391601.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59546fbea1de1ed67ef42fa71db4a9f937f0a93d\"><code>59546fb</code></a></td><td><code>Merge branch 'develop' into ntl-11.3.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb47a03d2bd4d597b521eee7f7c9609a11706faf\"><code>bb47a03</code></a></td><td><code>Update to 11.3.2</code></td></tr></table>\n",
    "created_at": "2018-11-22T04:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391601",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59546fbea1de1ed67ef42fa71db4a9f937f0a93d"><code>59546fb</code></a></td><td><code>Merge branch 'develop' into ntl-11.3.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb47a03d2bd4d597b521eee7f7c9609a11706faf"><code>bb47a03</code></a></td><td><code>Update to 11.3.2</code></td></tr></table>




---

archive/issue_comments_391602.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59546fbea1de1ed67ef42fa71db4a9f937f0a93d\"><code>59546fb</code></a></td><td><code>Merge branch 'develop' into ntl-11.3.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb47a03d2bd4d597b521eee7f7c9609a11706faf\"><code>bb47a03</code></a></td><td><code>Update to 11.3.2</code></td></tr></table>\n",
    "created_at": "2018-11-22T04:48:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391602",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:34"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59546fbea1de1ed67ef42fa71db4a9f937f0a93d"><code>59546fb</code></a></td><td><code>Merge branch 'develop' into ntl-11.3.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb47a03d2bd4d597b521eee7f7c9609a11706faf"><code>bb47a03</code></a></td><td><code>Update to 11.3.2</code></td></tr></table>




---

archive/issue_comments_391603.json:
```json
{
    "body": "Author: **Timo Kaufmann, Fran\u00e7ois Bissey**",
    "created_at": "2018-11-22T04:48:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391603",
    "user": "https://github.com/kiwifb"
}
```

Author: **Timo Kaufmann, Fran√ßois Bissey**



---

archive/issue_events_350293.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-23T01:07:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350293"
}
```



---

archive/issue_comments_391604.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI've not tested it (with or without the specific hunk) but is the flint `export CFLAGS` hunk necessary?\nDidn't we pass `CFLAGS` to flint before?",
    "created_at": "2018-11-23T09:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391604",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:36" align="right">comment:36</div>

I've not tested it (with or without the specific hunk) but is the flint `export CFLAGS` hunk necessary?
Didn't we pass `CFLAGS` to flint before?



---

archive/issue_comments_391605.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@jpflori](#comment%3A36):\n> I've not tested it (with or without the specific hunk) but is the flint `export CFLAGS` hunk necessary?\n> Didn't we pass `CFLAGS` to flint before?\n\nI am not sure what motivated that. `@`Timo can you comment here?\n\nIn any case there is an `export CFLAGS` in the conditional for debugging and one outside. We could just keep the one outside. \n\nCould it be that it was meant for `CXXFLAGS` instead and add `-std=c++11` there? There is a single object built with C++ in flint, the ntl interface. I cannot test that theory because I don't have a compiler old enough that would default to something lower than c++11.",
    "created_at": "2018-11-23T09:21:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391605",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@jpflori](#comment%3A36):
> I've not tested it (with or without the specific hunk) but is the flint `export CFLAGS` hunk necessary?
> Didn't we pass `CFLAGS` to flint before?

I am not sure what motivated that. `@`Timo can you comment here?

In any case there is an `export CFLAGS` in the conditional for debugging and one outside. We could just keep the one outside. 

Could it be that it was meant for `CXXFLAGS` instead and add `-std=c++11` there? There is a single object built with C++ in flint, the ntl interface. I cannot test that theory because I don't have a compiler old enough that would default to something lower than c++11.



---

archive/issue_comments_391606.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI have a weird problem building this NTL with clang on FreeBSD. It keeps telling me that it is g++, and bails out with some weird error. Could you try clang on another platform?",
    "created_at": "2018-11-23T09:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391606",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:38" align="right">comment:38</div>

I have a weird problem building this NTL with clang on FreeBSD. It keeps telling me that it is g++, and bails out with some weird error. Could you try clang on another platform?



---

archive/issue_comments_391607.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@dimpase](#comment%3A38):\n> I have a weird problem building this NTL with clang on FreeBSD. It keeps telling me that it is g++, and bails out with some weird error. Could you try clang on another platform?\n\nWorks as expected with clang+linux.  More details please.",
    "created_at": "2018-11-23T10:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391607",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@dimpase](#comment%3A38):
> I have a weird problem building this NTL with clang on FreeBSD. It keeps telling me that it is g++, and bails out with some weird error. Could you try clang on another platform?

Works as expected with clang+linux.  More details please.



---

archive/issue_comments_391608.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nLooks ok on macos without `gf2x` and outside of Sage.\n`configure` knows `g++`  is `clang` and `make` calls `g++` but finishes ok.",
    "created_at": "2018-11-23T10:11:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391608",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:40" align="right">comment:40</div>

Looks ok on macos without `gf2x` and outside of Sage.
`configure` knows `g++`  is `clang` and `make` calls `g++` but finishes ok.



---

archive/issue_comments_391609.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nRunning manually at `sage -sh` prompt:\nto start with:\n\n```\n$ CC=clang CXX=clang++ ./configure\ncompiler_name=gcc\nlanguage_standard=2014\ncpu_type=x86\n\nsetting TUNE=x86\n\n*** checking -pthread flag\n   CXXAUTOFLAGS=\" -pthread\"\n   -pthread works\n*** checking -march=native flag\n   CXXAUTOFLAGS=\" -pthread -march=native\"\n   -march=native works\n*** checking -ffp-contract=off flag\n   -ffp-contract=off works\n*** threads are OK \n\nCXXAUTOFLAGS=\" -pthread -march=native\"\nNOCONTRACT=\"-ffp-contract=off -DNTL_CONTRACTION_FIXED\"\n\ngenerated makefile\ngenerated ../include/NTL/config.h\ngenerated ../include/NTL/ConfigLog.h\n```\n\nwhy `gcc`? and why `x86`, not `x86_64`? Then,\n\n```\n$ gmake\nmake clobber\nrm -f ntl.a mach_desc.h ../include/NTL/mach_desc.h  GetTime.cpp GetPID.cpp\nsh ResetFeatures '..' \"ALIGNED_ARRAY BUILTIN_CLZL LL_TYPE SSSE3 AVX PCLMUL AVX2 FMA AVX512F  COPY_TRAITS1 COPY_TRAITS2 CHRONO_TIME MACOS_TIME POSIX_TIME\"\nrm -f ../include/NTL/gmp_aux.h\nsh RemoveProg QuickTest ZZTest SSMulTest ZZ_pXTest lzz_pXTest BerlekampTest CanZassTest  ZZXFacTest MoreFacTest LLLTest   BitMatTest MatrixTest mat_lzz_pTest CharPolyTest RRTest QuadTest GF2XTest   GF2EXTest GF2EXGCDTest subset ZZ_pEXTest ZZ_pEXGCDTest lzz_pEXTest lzz_pEXGCDTest  Timing ThreadTest MakeDesc TestGetTime TestGetPID CheckFeatures CheckCompile GenConfigInfo CheckContract  CheckThreads gen_gmp_aux gf2x_version_1_2_or_later_required\nrm -f *.o\nrm -rf small\nrm -f cfileout mfileout\nrm -rf .libs *.lo libntl.la\nrm -f setup-phase\nmake setup1\ng++ -I../include -I.  -g -O2 -pthread -march=native  -c MakeDescAux.cpp\n...\n```\n\non FreeBSD g++ and clang++, or c++ are totally different beasts, and they can live together in the same PATH (but not in this case it seems)",
    "created_at": "2018-11-23T10:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391609",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">comment:41</div>

Running manually at `sage -sh` prompt:
to start with:

```
$ CC=clang CXX=clang++ ./configure
compiler_name=gcc
language_standard=2014
cpu_type=x86

setting TUNE=x86

*** checking -pthread flag
   CXXAUTOFLAGS=" -pthread"
   -pthread works
*** checking -march=native flag
   CXXAUTOFLAGS=" -pthread -march=native"
   -march=native works
*** checking -ffp-contract=off flag
   -ffp-contract=off works
*** threads are OK 

CXXAUTOFLAGS=" -pthread -march=native"
NOCONTRACT="-ffp-contract=off -DNTL_CONTRACTION_FIXED"

generated makefile
generated ../include/NTL/config.h
generated ../include/NTL/ConfigLog.h
```

why `gcc`? and why `x86`, not `x86_64`? Then,

```
$ gmake
make clobber
rm -f ntl.a mach_desc.h ../include/NTL/mach_desc.h  GetTime.cpp GetPID.cpp
sh ResetFeatures '..' "ALIGNED_ARRAY BUILTIN_CLZL LL_TYPE SSSE3 AVX PCLMUL AVX2 FMA AVX512F  COPY_TRAITS1 COPY_TRAITS2 CHRONO_TIME MACOS_TIME POSIX_TIME"
rm -f ../include/NTL/gmp_aux.h
sh RemoveProg QuickTest ZZTest SSMulTest ZZ_pXTest lzz_pXTest BerlekampTest CanZassTest  ZZXFacTest MoreFacTest LLLTest   BitMatTest MatrixTest mat_lzz_pTest CharPolyTest RRTest QuadTest GF2XTest   GF2EXTest GF2EXGCDTest subset ZZ_pEXTest ZZ_pEXGCDTest lzz_pEXTest lzz_pEXGCDTest  Timing ThreadTest MakeDesc TestGetTime TestGetPID CheckFeatures CheckCompile GenConfigInfo CheckContract  CheckThreads gen_gmp_aux gf2x_version_1_2_or_later_required
rm -f *.o
rm -rf small
rm -f cfileout mfileout
rm -rf .libs *.lo libntl.la
rm -f setup-phase
make setup1
g++ -I../include -I.  -g -O2 -pthread -march=native  -c MakeDescAux.cpp
...
```

on FreeBSD g++ and clang++, or c++ are totally different beasts, and they can live together in the same PATH (but not in this case it seems)



---

archive/issue_comments_391610.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nRemoving gcc/g++ results in\n\n```\n$ CC=clang CXX=clang++ ./configure\nCompilation failed\nSee CompilerOutput.log for details\nGoodbye! at DoConfig line 616.\n$ CC=cc CXX=c++ ./configure\nCompilation failed\nSee CompilerOutput.log for details\nGoodbye! at DoConfig line 616.\n$ cat CompilerOutput.log \n*** CompilerOutput.log ***\n*** building GenConfigInfo\ng++ -I../include -I.  -g -O2   -o  GenConfigInfo GenConfigInfo.cpp -lm\nmake: exec(g++) failed (No such file or directory)\n*** Error code 1\n...\n```\n\nThat is, it only works with g++/gcc. A bug, I'd say. In `DoConfig`, on sees\n`'CXX'         => 'g++'`  - I don't know Perl, but I gather it means that CXX is hardcoded to be `g++`.\n\nIt works with NTL 10, don't ask me how...",
    "created_at": "2018-11-23T10:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391610",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">comment:42</div>

Removing gcc/g++ results in

```
$ CC=clang CXX=clang++ ./configure
Compilation failed
See CompilerOutput.log for details
Goodbye! at DoConfig line 616.
$ CC=cc CXX=c++ ./configure
Compilation failed
See CompilerOutput.log for details
Goodbye! at DoConfig line 616.
$ cat CompilerOutput.log 
*** CompilerOutput.log ***
*** building GenConfigInfo
g++ -I../include -I.  -g -O2   -o  GenConfigInfo GenConfigInfo.cpp -lm
make: exec(g++) failed (No such file or directory)
*** Error code 1
...
```

That is, it only works with g++/gcc. A bug, I'd say. In `DoConfig`, on sees
`'CXX'         => 'g++'`  - I don't know Perl, but I gather it means that CXX is hardcoded to be `g++`.

It works with NTL 10, don't ask me how...



---

archive/issue_comments_391611.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nThis is silly\n\n```\n$ CC=clang CXX=clang++ ./configure \ncompiler_name=gcc\nlanguage_standard=2014\ncpu_type=x86\n\nsetting TUNE=x86\n\n*** checking -pthread flag\n   CXXAUTOFLAGS=\" -pthread\"\n   -pthread works\n*** checking -march=native flag\n   CXXAUTOFLAGS=\" -pthread -march=native\"\n   -march=native works\n*** checking -ffp-contract=off flag\n   -ffp-contract=off works\n*** threads are OK \n\nCXXAUTOFLAGS=\" -pthread -march=native\"\nNOCONTRACT=\"-ffp-contract=off -DNTL_CONTRACTION_FIXED\"\n\ngenerated makefile\ngenerated ../include/NTL/config.h\ngenerated ../include/NTL/ConfigLog.h\n```\nbut\n\n```\n$ ./configure CXX=clang++\ncompiler_name=clang\nlanguage_standard=2014\ncpu_type=x86\n\nsetting TUNE=x86\n\n*** checking -pthread flag\n   CXXAUTOFLAGS=\" -pthread\"\n   -pthread works\n*** checking -march=native flag\n   CXXAUTOFLAGS=\" -pthread -march=native\"\n   -march=native works\n*** threads are OK \n\nCXXAUTOFLAGS=\" -pthread -march=native\"\nNOCONTRACT=\"\"\n\ngenerated makefile\ngenerated ../include/NTL/config.h\ngenerated ../include/NTL/ConfigLog.h\n```",
    "created_at": "2018-11-23T10:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391611",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:43" align="right">comment:43</div>

This is silly

```
$ CC=clang CXX=clang++ ./configure 
compiler_name=gcc
language_standard=2014
cpu_type=x86

setting TUNE=x86

*** checking -pthread flag
   CXXAUTOFLAGS=" -pthread"
   -pthread works
*** checking -march=native flag
   CXXAUTOFLAGS=" -pthread -march=native"
   -march=native works
*** checking -ffp-contract=off flag
   -ffp-contract=off works
*** threads are OK 

CXXAUTOFLAGS=" -pthread -march=native"
NOCONTRACT="-ffp-contract=off -DNTL_CONTRACTION_FIXED"

generated makefile
generated ../include/NTL/config.h
generated ../include/NTL/ConfigLog.h
```
but

```
$ ./configure CXX=clang++
compiler_name=clang
language_standard=2014
cpu_type=x86

setting TUNE=x86

*** checking -pthread flag
   CXXAUTOFLAGS=" -pthread"
   -pthread works
*** checking -march=native flag
   CXXAUTOFLAGS=" -pthread -march=native"
   -march=native works
*** threads are OK 

CXXAUTOFLAGS=" -pthread -march=native"
NOCONTRACT=""

generated makefile
generated ../include/NTL/config.h
generated ../include/NTL/ConfigLog.h
```



---

archive/issue_comments_391612.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nThe thing is `CXX` is an option of the `DoConfig` script. It is not pulled from an environment variable.",
    "created_at": "2018-11-23T10:30:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391612",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:44" align="right">comment:44</div>

The thing is `CXX` is an option of the `DoConfig` script. It is not pulled from an environment variable.



---

archive/issue_comments_391613.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nHmm, OK, over to Sage's installation. If I start as\n\n```\n$ MAKE=\"gmake -j8\" gmake\n```\nNTL fails with the usual invitation to look in the following file for errors, and there I see\n\n```\n$ cat src/src/CompilerOutput.log \n*** CompilerOutput.log ***\n*** building GenConfigInfo\nmake[4]: illegal argument to -j -- must be positive integer!\n```\nSo it seems to assume something about $MAKE...\n\nAnd if I start as\n\n```\n$ MAKE=\"gmake\" gmake\n```\n\nI get even weirder\n\n```\n*** CompilerOutput.log ***\n*** building GenConfigInfo\nmake[4]: don't know how to make w. Stop\n...\n```",
    "created_at": "2018-11-23T10:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391613",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:45" align="right">comment:45</div>

Hmm, OK, over to Sage's installation. If I start as

```
$ MAKE="gmake -j8" gmake
```
NTL fails with the usual invitation to look in the following file for errors, and there I see

```
$ cat src/src/CompilerOutput.log 
*** CompilerOutput.log ***
*** building GenConfigInfo
make[4]: illegal argument to -j -- must be positive integer!
```
So it seems to assume something about $MAKE...

And if I start as

```
$ MAKE="gmake" gmake
```

I get even weirder

```
*** CompilerOutput.log ***
*** building GenConfigInfo
make[4]: don't know how to make w. Stop
...
```



---

archive/issue_comments_391614.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nOK, here is the fix:\n\n```diff\ndiff --git a/build/pkgs/ntl/spkg-install b/build/pkgs/ntl/spkg-install\nindex 08fb2b148c..88ee9548ea 100644\n--- a/build/pkgs/ntl/spkg-install\n+++ b/build/pkgs/ntl/spkg-install\n@@ -99,6 +99,7 @@ ntl_configure()\n         LDFLAGS=\"$LDFLAGS\" LIBTOOL_LINK_FLAGS=\"$LIBTOOL_LINK_FLAGS\" \\\n         NTL_GMP_LIP=on NTL_GF2X_LIB=on \\\n         \"$DISABLE_NATIVE\" \\\n+        MAKE_PROG=\"$MAKE\" \\\n         NTL_THREADS=off || sdh_die \"Error configuring NTL.\"\n }\n \n```\nCould you add it to the branch?",
    "created_at": "2018-11-23T11:11:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391614",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:46" align="right">comment:46</div>

OK, here is the fix:

```diff
diff --git a/build/pkgs/ntl/spkg-install b/build/pkgs/ntl/spkg-install
index 08fb2b148c..88ee9548ea 100644
--- a/build/pkgs/ntl/spkg-install
+++ b/build/pkgs/ntl/spkg-install
@@ -99,6 +99,7 @@ ntl_configure()
         LDFLAGS="$LDFLAGS" LIBTOOL_LINK_FLAGS="$LIBTOOL_LINK_FLAGS" \
         NTL_GMP_LIP=on NTL_GF2X_LIB=on \
         "$DISABLE_NATIVE" \
+        MAKE_PROG="$MAKE" \
         NTL_THREADS=off || sdh_die "Error configuring NTL."
 }
 
```
Could you add it to the branch?



---

archive/issue_comments_391615.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI really need to go to bed now :( but this is a public branch, you are welcome to push to it. And well spotted.",
    "created_at": "2018-11-23T11:18:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391615",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:47" align="right">comment:47</div>

I really need to go to bed now :( but this is a public branch, you are welcome to push to it. And well spotted.



---

archive/issue_comments_391616.json:
```json
{
    "body": "Changed commit from **[`bb47a03`](https://github.com/sagemath/sagetrac-mirror/commit/bb47a03d2bd4d597b521eee7f7c9609a11706faf)** to **[`292e697`](https://github.com/sagemath/sagetrac-mirror/commit/292e697e8fc1b6bfc5279f99a94003776c3243a9)**",
    "created_at": "2018-11-23T11:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391616",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bb47a03`](https://github.com/sagemath/sagetrac-mirror/commit/bb47a03d2bd4d597b521eee7f7c9609a11706faf)** to **[`292e697`](https://github.com/sagemath/sagetrac-mirror/commit/292e697e8fc1b6bfc5279f99a94003776c3243a9)**



---

archive/issue_comments_391617.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/292e697e8fc1b6bfc5279f99a94003776c3243a9\"><code>292e697</code></a></td><td><code>tell NTL what MAKE to use</code></td></tr></table>\n",
    "created_at": "2018-11-23T11:26:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391617",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/292e697e8fc1b6bfc5279f99a94003776c3243a9"><code>292e697</code></a></td><td><code>tell NTL what MAKE to use</code></td></tr></table>




---

archive/issue_events_350294.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-11-23T11:27:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350294"
}
```



---

archive/issue_events_350295.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-11-23T11:27:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350295"
}
```



---

archive/issue_comments_391618.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2018-11-23T11:27:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391618",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_391619.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@kiwifb](#comment%3A37):\n> Replying to [@jpflori](#comment%3A36):\n> > I've not tested it (with or without the specific hunk) but is the flint `export CFLAGS` hunk necessary?\n> > Didn't we pass `CFLAGS` to flint before?\n> \n> \n> I am not sure what motivated that. `@`Timo can you comment here?\n> \n> In any case there is an `export CFLAGS` in the conditional for debugging and one outside. We could just keep the one outside. \n> \n> Could it be that it was meant for `CXXFLAGS` instead and add `-std=c++11` there? There is a single object built with C++ in flint, the ntl interface. I cannot test that theory because I don't have a compiler old enough that would default to something lower than c++11.\n\nI don't remember my reasoning. Probably some leftover of trying to get it to work nicely with the old lcalc.\n\nThanks for getting this mergeable :)",
    "created_at": "2018-11-23T13:47:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391619",
    "user": "https://github.com/timokau"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@kiwifb](#comment%3A37):
> Replying to [@jpflori](#comment%3A36):
> > I've not tested it (with or without the specific hunk) but is the flint `export CFLAGS` hunk necessary?
> > Didn't we pass `CFLAGS` to flint before?
> 
> 
> I am not sure what motivated that. `@`Timo can you comment here?
> 
> In any case there is an `export CFLAGS` in the conditional for debugging and one outside. We could just keep the one outside. 
> 
> Could it be that it was meant for `CXXFLAGS` instead and add `-std=c++11` there? There is a single object built with C++ in flint, the ntl interface. I cannot test that theory because I don't have a compiler old enough that would default to something lower than c++11.

I don't remember my reasoning. Probably some leftover of trying to get it to work nicely with the old lcalc.

Thanks for getting this mergeable :)



---

archive/issue_comments_391620.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nThis borks flint on some machines, i guess missing -std=c11 \n\n```\nmake[7]: Leaving directory '/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src/fq_zech_poly_factor'\nif [ \"1\" -eq \"1\" ]; then \\\n  make build/interfaces/NTL-interface.lo; \\\n  g++   -shared -Wl,-soname,libflint.so.13 -Wl,-rpath,/home/buildbot/slave/sage_git/build/local/lib -Wl,-rpath,/home/buildbot/slave/sage_git/build/local/lib build/interfaces/NTL-interface.lo  build/printf.lo  build/fprintf.lo  build/sprintf.lo  build/scanf.lo  build/fscanf.lo  build/sscanf.lo  build/clz_tab.lo  build/memory_manager.lo  build/version.lo  build/profiler.lo  build/thread_support.lo  build/ulong_extras.lo  build/long_extras.lo  build/perm.lo  build/fmpz.lo  build/fmpz_vec.lo  build/fmpz_poly.lo  build/fmpq_poly.lo  build/fmpz_mat.lo  build/fmpz_lll.lo  build/mpfr_vec.lo  build/mpfr_mat.lo  build/mpf_vec.lo  build/mpf_mat.lo  build/nmod_vec.lo  build/nmod_poly.lo  build/nmod_poly_factor.lo  build/arith.lo  build/mpn_extras.lo  build/nmod_mat.lo  build/fmpq.lo  build/fmpq_vec.lo  build/fmpq_mat.lo  build/padic.lo  build/fmpz_poly_q.lo  build/fmpz_poly_mat.lo  build/nmod_poly_mat.lo  build/fmpz_mod_poly.lo  build/fmpz_mod_poly_factor.lo  build/fmpz_factor.lo  build/fmpz_poly_factor.lo  build/fft.lo  build/qsieve.lo  build/double_extras.lo  build/d_vec.lo  build/d_mat.lo  build/padic_poly.lo  build/padic_mat.lo  build/qadic.lo  build/fq.lo  build/fq_vec.lo  build/fq_mat.lo  build/fq_poly.lo  build/fq_poly_factor.lo  build/fq_nmod.lo  build/fq_nmod_vec.lo  build/fq_nmod_mat.lo  build/fq_nmod_poly.lo  build/fq_nmod_poly_factor.lo  build/fq_zech.lo  build/fq_zech_vec.lo  build/fq_zech_mat.lo  build/fq_zech_poly.lo  build/fq_zech_poly_factor.lo  -o libflint.so.13.5.2 -L/home/buildbot/slave/sage_git/build/local/lib -Wl,-rpath,/home/buildbot/slave/sage_git/build/local/lib  -L/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src -L/home/buildbot/slave/sage_git/build/local/lib -L/home/buildbot/slave/sage_git/build/local/lib -L/home/buildbot/slave/sage_git/build/local/lib -lmpfr -lgmp -lm -lntl -lpthread ; \\\nfi\nmake[7]: Entering directory '/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src'\ng++ -fPIC  -I/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -c interfaces/NTL-interface.cpp -o build/interfaces/NTL-interface.lo\nIn file included from /usr/include/c++/4.9/type_traits:35:0,\n                 from /home/buildbot/slave/sage_git/build/local/include/NTL/tools.h:25,\n                 from /home/buildbot/slave/sage_git/build/local/include/NTL/ZZ.h:19,\n                 from interfaces/NTL-interface.cpp:32:\n/usr/include/c++/4.9/bits/c++0x_warning.h:32:2: error: #error This file requires compiler and library support for the ISO C++ 2011 standard. This support is currently experimental, and must be enabled with the -std=c++11 or -std=gnu++11 compiler options.\n #error This file requires compiler and library support for the \\\n  ^\nIn file included from /home/buildbot/slave/sage_git/build/local/include/NTL/ZZ.h:19:0,\n                 from interfaces/NTL-interface.cpp:32:\n/home/buildbot/slave/sage_git/build/local/include/NTL/tools.h:1075:1: error: 'constexpr' does not name a type\n constexpr bool Relocate_aux_has_trivial_copy(T*)\n ^\n/home/buildbot/slave/sage_git/build/local/include/NTL/tools.h:1075:1: note: C++11 'constexpr' only available with -std=c++11 or -std=gnu++11\n/home/buildbot/slave/sage_git/build/local/include/NTL/tools.h:1083:1: error: 'constexpr' does not name a type\n constexpr bool Relocate_aux_has_any_copy(T*)\n```",
    "created_at": "2018-11-24T13:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391620",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:51" align="right">comment:51</div>

This borks flint on some machines, i guess missing -std=c11 

```
make[7]: Leaving directory '/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src/fq_zech_poly_factor'
if [ "1" -eq "1" ]; then \
  make build/interfaces/NTL-interface.lo; \
  g++   -shared -Wl,-soname,libflint.so.13 -Wl,-rpath,/home/buildbot/slave/sage_git/build/local/lib -Wl,-rpath,/home/buildbot/slave/sage_git/build/local/lib build/interfaces/NTL-interface.lo  build/printf.lo  build/fprintf.lo  build/sprintf.lo  build/scanf.lo  build/fscanf.lo  build/sscanf.lo  build/clz_tab.lo  build/memory_manager.lo  build/version.lo  build/profiler.lo  build/thread_support.lo  build/ulong_extras.lo  build/long_extras.lo  build/perm.lo  build/fmpz.lo  build/fmpz_vec.lo  build/fmpz_poly.lo  build/fmpq_poly.lo  build/fmpz_mat.lo  build/fmpz_lll.lo  build/mpfr_vec.lo  build/mpfr_mat.lo  build/mpf_vec.lo  build/mpf_mat.lo  build/nmod_vec.lo  build/nmod_poly.lo  build/nmod_poly_factor.lo  build/arith.lo  build/mpn_extras.lo  build/nmod_mat.lo  build/fmpq.lo  build/fmpq_vec.lo  build/fmpq_mat.lo  build/padic.lo  build/fmpz_poly_q.lo  build/fmpz_poly_mat.lo  build/nmod_poly_mat.lo  build/fmpz_mod_poly.lo  build/fmpz_mod_poly_factor.lo  build/fmpz_factor.lo  build/fmpz_poly_factor.lo  build/fft.lo  build/qsieve.lo  build/double_extras.lo  build/d_vec.lo  build/d_mat.lo  build/padic_poly.lo  build/padic_mat.lo  build/qadic.lo  build/fq.lo  build/fq_vec.lo  build/fq_mat.lo  build/fq_poly.lo  build/fq_poly_factor.lo  build/fq_nmod.lo  build/fq_nmod_vec.lo  build/fq_nmod_mat.lo  build/fq_nmod_poly.lo  build/fq_nmod_poly_factor.lo  build/fq_zech.lo  build/fq_zech_vec.lo  build/fq_zech_mat.lo  build/fq_zech_poly.lo  build/fq_zech_poly_factor.lo  -o libflint.so.13.5.2 -L/home/buildbot/slave/sage_git/build/local/lib -Wl,-rpath,/home/buildbot/slave/sage_git/build/local/lib  -L/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src -L/home/buildbot/slave/sage_git/build/local/lib -L/home/buildbot/slave/sage_git/build/local/lib -L/home/buildbot/slave/sage_git/build/local/lib -lmpfr -lgmp -lm -lntl -lpthread ; \
fi
make[7]: Entering directory '/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src'
g++ -fPIC  -I/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/local/include -c interfaces/NTL-interface.cpp -o build/interfaces/NTL-interface.lo
In file included from /usr/include/c++/4.9/type_traits:35:0,
                 from /home/buildbot/slave/sage_git/build/local/include/NTL/tools.h:25,
                 from /home/buildbot/slave/sage_git/build/local/include/NTL/ZZ.h:19,
                 from interfaces/NTL-interface.cpp:32:
/usr/include/c++/4.9/bits/c++0x_warning.h:32:2: error: #error This file requires compiler and library support for the ISO C++ 2011 standard. This support is currently experimental, and must be enabled with the -std=c++11 or -std=gnu++11 compiler options.
 #error This file requires compiler and library support for the \
  ^
In file included from /home/buildbot/slave/sage_git/build/local/include/NTL/ZZ.h:19:0,
                 from interfaces/NTL-interface.cpp:32:
/home/buildbot/slave/sage_git/build/local/include/NTL/tools.h:1075:1: error: 'constexpr' does not name a type
 constexpr bool Relocate_aux_has_trivial_copy(T*)
 ^
/home/buildbot/slave/sage_git/build/local/include/NTL/tools.h:1075:1: note: C++11 'constexpr' only available with -std=c++11 or -std=gnu++11
/home/buildbot/slave/sage_git/build/local/include/NTL/tools.h:1083:1: error: 'constexpr' does not name a type
 constexpr bool Relocate_aux_has_any_copy(T*)
```



---

archive/issue_events_350296.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-24T13:30:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350296"
}
```



---

archive/issue_events_350297.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-24T13:30:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350297"
}
```



---

archive/issue_comments_391621.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nAlso, how about setting -std=c11 globally (like LDFLAGS rpath) instead of a per-package whackamole...",
    "created_at": "2018-11-24T13:41:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391621",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:52" align="right">comment:52</div>

Also, how about setting -std=c11 globally (like LDFLAGS rpath) instead of a per-package whackamole...



---

archive/issue_comments_391622.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@vbraun](#comment%3A52):\n> Also, how about setting -std=c11 globally (like LDFLAGS rpath) instead of a per-package whackamole...\n\nDo you mean `c++11` in `CXXFLAGS`? \n\nThere are packages (brial is one case) needing `-std=gnu++11`.\n\nBut yes, it appears now that the compilers must be told to enforce `c++11` globally,\notherwise some compilers default to something else.\n\nSo it seems it cannot be just added, it needs to be a overwriteable per package default in `CXXFLAGS`...",
    "created_at": "2018-11-24T16:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391622",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@vbraun](#comment%3A52):
> Also, how about setting -std=c11 globally (like LDFLAGS rpath) instead of a per-package whackamole...

Do you mean `c++11` in `CXXFLAGS`? 

There are packages (brial is one case) needing `-std=gnu++11`.

But yes, it appears now that the compilers must be told to enforce `c++11` globally,
otherwise some compilers default to something else.

So it seems it cannot be just added, it needs to be a overwriteable per package default in `CXXFLAGS`...



---

archive/issue_comments_391623.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nTo be honest I should have seen that coming and I should have acted in [#25532 comment:37](https://github.com/sagemath/sage/issues/25532#comment:37) .\n\nNow for the idea to set std=c++11 globally by default. Well we have a variety of compilers out there defaulting to anything from pre-c++11 to c++14 and soon c++17. I don't think we should enforce going from c++14 to c++11 unless we have too. By the way brial compiles perfectly with gcc-8.2.0 which default to c++14 without having to add std=gnu++11.\n\nIn any case we can solve that at configure time with the appropriate macro (like brial does now) to check that the compiler support at least this standard and add the appropriate flag to CXXFLAGS if it doesn't.\n\nI would like to finish this ticket as is and I'll note that since #23341 is merged distro are free to upgrade ntl and we do. This ticket is just about keeping up.\n\nWe should have a follow up ticket about minimal c++11 support and clean up for 8.6 in my opinion. This would a major feature and I don't want to start it now.",
    "created_at": "2018-11-24T19:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391623",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:54" align="right">comment:54</div>

To be honest I should have seen that coming and I should have acted in [#25532 comment:37](https://github.com/sagemath/sage/issues/25532#comment:37) .

Now for the idea to set std=c++11 globally by default. Well we have a variety of compilers out there defaulting to anything from pre-c++11 to c++14 and soon c++17. I don't think we should enforce going from c++14 to c++11 unless we have too. By the way brial compiles perfectly with gcc-8.2.0 which default to c++14 without having to add std=gnu++11.

In any case we can solve that at configure time with the appropriate macro (like brial does now) to check that the compiler support at least this standard and add the appropriate flag to CXXFLAGS if it doesn't.

I would like to finish this ticket as is and I'll note that since #23341 is merged distro are free to upgrade ntl and we do. This ticket is just about keeping up.

We should have a follow up ticket about minimal c++11 support and clean up for 8.6 in my opinion. This would a major feature and I don't want to start it now.



---

archive/issue_comments_391624.json:
```json
{
    "body": "Changed commit from **[`292e697`](https://github.com/sagemath/sagetrac-mirror/commit/292e697e8fc1b6bfc5279f99a94003776c3243a9)** to **[`94ef069`](https://github.com/sagemath/sagetrac-mirror/commit/94ef0695d3b624cb6dfb64b32ed9fb10113e030e)**",
    "created_at": "2018-11-24T20:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391624",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`292e697`](https://github.com/sagemath/sagetrac-mirror/commit/292e697e8fc1b6bfc5279f99a94003776c3243a9)** to **[`94ef069`](https://github.com/sagemath/sagetrac-mirror/commit/94ef0695d3b624cb6dfb64b32ed9fb10113e030e)**



---

archive/issue_comments_391625.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94ef0695d3b624cb6dfb64b32ed9fb10113e030e\"><code>94ef069</code></a></td><td><code>enforce c++11 in flint interface to ntl.</code></td></tr></table>\n",
    "created_at": "2018-11-24T20:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391625",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94ef0695d3b624cb6dfb64b32ed9fb10113e030e"><code>94ef069</code></a></td><td><code>enforce c++11 in flint interface to ntl.</code></td></tr></table>




---

archive/issue_comments_391626.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Volker Braun**",
    "created_at": "2018-11-24T21:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391626",
    "user": "https://github.com/kiwifb"
}
```

Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Volker Braun**



---

archive/issue_events_350298.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-24T21:02:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350298"
}
```



---

archive/issue_events_350299.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-24T21:02:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350299"
}
```



---

archive/issue_comments_391627.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nTo be more precise, we already check for support for C++11 but we don't enforce it if it isn't the default.\n\nBack to positive review because I only made a trivial change.",
    "created_at": "2018-11-24T21:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391627",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:56" align="right">comment:56</div>

To be more precise, we already check for support for C++11 but we don't enforce it if it isn't the default.

Back to positive review because I only made a trivial change.



---

archive/issue_comments_391628.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nit is not kosher to mix CXXFLAGS with CFLAGS. there are CFLAGS which a C++ compiler won\u2019t take.",
    "created_at": "2018-11-24T21:44:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391628",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:57" align="right">comment:57</div>

it is not kosher to mix CXXFLAGS with CFLAGS. there are CFLAGS which a C++ compiler won‚Äôt take.



---

archive/issue_comments_391629.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4006a74d02ddc0e2b0615aa37fb4e29f773fc69\"><code>e4006a7</code></a></td><td><code>CXXFLAGS all the way</code></td></tr></table>\n",
    "created_at": "2018-11-24T21:46:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391629",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4006a74d02ddc0e2b0615aa37fb4e29f773fc69"><code>e4006a7</code></a></td><td><code>CXXFLAGS all the way</code></td></tr></table>




---

archive/issue_comments_391630.json:
```json
{
    "body": "Changed commit from **[`94ef069`](https://github.com/sagemath/sagetrac-mirror/commit/94ef0695d3b624cb6dfb64b32ed9fb10113e030e)** to **[`e4006a7`](https://github.com/sagemath/sagetrac-mirror/commit/e4006a74d02ddc0e2b0615aa37fb4e29f773fc69)**",
    "created_at": "2018-11-24T21:46:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391630",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`94ef069`](https://github.com/sagemath/sagetrac-mirror/commit/94ef0695d3b624cb6dfb64b32ed9fb10113e030e)** to **[`e4006a7`](https://github.com/sagemath/sagetrac-mirror/commit/e4006a74d02ddc0e2b0615aa37fb4e29f773fc69)**



---

archive/issue_events_350300.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2018-11-24T21:46:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350300"
}
```



---

archive/issue_events_350301.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2018-11-24T21:46:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350301"
}
```



---

archive/issue_comments_391631.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@dimpase](#comment%3A57):\n> it is not kosher to mix CXXFLAGS with CFLAGS. there are CFLAGS which a C++ compiler won\u2019t take.\n> \n\nThank you for paying attention (very embarrassed).",
    "created_at": "2018-11-24T21:47:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391631",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@dimpase](#comment%3A57):
> it is not kosher to mix CXXFLAGS with CFLAGS. there are CFLAGS which a C++ compiler won‚Äôt take.
> 

Thank you for paying attention (very embarrassed).



---

archive/issue_comments_391632.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nNTL does depend on flint, but this is not reflected in `build/pkgs/ntl/dependencies`.\nShould we fix this here too?\n\nAlso, I imagine CXXFLAGS of mpir/gmp and gf2x need attention too.",
    "created_at": "2018-11-24T22:00:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391632",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:60" align="right">comment:60</div>

NTL does depend on flint, but this is not reflected in `build/pkgs/ntl/dependencies`.
Should we fix this here too?

Also, I imagine CXXFLAGS of mpir/gmp and gf2x need attention too.



---

archive/issue_comments_391633.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@dimpase](#comment%3A60):\n> NTL does depend on flint, but this is not reflected in `build/pkgs/ntl/dependencies`.\n> Should we fix this here too?\n> \n\nyou got that in reverse. flint depends on ntl, so if ntl uses c++11 so does the flint-ntl interface (there is a single C++ file in flint for this interface, the rest is all C).\n\n> Also, I imagine CXXFLAGS of mpir/gmp and gf2x need attention too.\n\nIt doesn't currently have any impact, there seem to be some forward compatibility. flint and sage would require backward compatibility.",
    "created_at": "2018-11-24T22:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391633",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@dimpase](#comment%3A60):
> NTL does depend on flint, but this is not reflected in `build/pkgs/ntl/dependencies`.
> Should we fix this here too?
> 

you got that in reverse. flint depends on ntl, so if ntl uses c++11 so does the flint-ntl interface (there is a single C++ file in flint for this interface, the rest is all C).

> Also, I imagine CXXFLAGS of mpir/gmp and gf2x need attention too.

It doesn't currently have any impact, there seem to be some forward compatibility. flint and sage would require backward compatibility.



---

archive/issue_events_350302.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-27T01:05:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350302"
}
```



---

archive/issue_events_350303.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-27T01:05:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350303"
}
```



---

archive/issue_comments_391634.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nDidn't know that pushing to git makes the ticket go back to \"need review\". Nice behavior in fact.",
    "created_at": "2018-11-27T01:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391634",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:62" align="right">comment:62</div>

Didn't know that pushing to git makes the ticket go back to "need review". Nice behavior in fact.



---

archive/issue_comments_391635.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nI'm getting quite a lot of \n\n```\nchecking for NTL >= 5.0... not found\nconfigure: WARNING: Unable to find NTL (which is strongly recommended) on your machine: please use --with-ntl=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)\n```\nin Singular. Fun fact: This does not make the build fail, but causes tons of test failures..\n\nFails on Ubuntu 14, 16, and Debian 8. Works on Ubuntu 18, Debian 9, OSX. Idependent of 32 vs. 64 bit.",
    "created_at": "2018-11-28T19:20:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391635",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:63" align="right">comment:63</div>

I'm getting quite a lot of 

```
checking for NTL >= 5.0... not found
configure: WARNING: Unable to find NTL (which is strongly recommended) on your machine: please use --with-ntl=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)
```
in Singular. Fun fact: This does not make the build fail, but causes tons of test failures..

Fails on Ubuntu 14, 16, and Debian 8. Works on Ubuntu 18, Debian 9, OSX. Idependent of 32 vs. 64 bit.



---

archive/issue_events_350304.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-28T19:20:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350304"
}
```



---

archive/issue_events_350305.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-28T19:20:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350305"
}
```



---

archive/issue_comments_391636.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nReplying to [@vbraun](#comment%3A63):\n> I'm getting quite a lot of \n> \n> ```\n> checking for NTL >= 5.0... not found\n> configure: WARNING: Unable to find NTL (which is strongly recommended) on your machine: please use --with-ntl=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)\n> ```\n> in Singular. Fun fact: This does not make the build fail, but causes tons of test failures..\n> \n> Fails on Ubuntu 14, 16, and Debian 8. Works on Ubuntu 18, Debian 9, OSX. Idependent of 32 vs. 64 bit.\n\nRight. That means we would need to make `-std=c++11` pervasive in singular as well and possibly all other dependencies of ntl that are not already switching c++11 in configure. So I think we should postpone this until we enforce c++11 across the board. I thought it would be easy but it is turning in a whack-a-mole kind of thing.",
    "created_at": "2018-11-28T19:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391636",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:64" align="right">comment:64</div>

Replying to [@vbraun](#comment%3A63):
> I'm getting quite a lot of 
> 
> ```
> checking for NTL >= 5.0... not found
> configure: WARNING: Unable to find NTL (which is strongly recommended) on your machine: please use --with-ntl=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)
> ```
> in Singular. Fun fact: This does not make the build fail, but causes tons of test failures..
> 
> Fails on Ubuntu 14, 16, and Debian 8. Works on Ubuntu 18, Debian 9, OSX. Idependent of 32 vs. 64 bit.

Right. That means we would need to make `-std=c++11` pervasive in singular as well and possibly all other dependencies of ntl that are not already switching c++11 in configure. So I think we should postpone this until we enforce c++11 across the board. I thought it would be easy but it is turning in a whack-a-mole kind of thing.



---

archive/issue_events_350306.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-28T19:55:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350306"
}
```



---

archive/issue_events_350307.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-28T19:55:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350307"
}
```



---

archive/issue_comments_391637.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nReplying to [@kiwifb](#comment%3A64):\n\n> Right. That means we would need to make `-std=c++11` pervasive in singular as well and possibly all other dependencies of ntl that are not already switching c++11 in configure. So I think we should postpone this until we enforce c++11 across the board. I thought it would be easy but it is turning in a whack-a-mole kind of thing.\n\nSingular already does that itself in 4.1.1.p3",
    "created_at": "2018-11-28T20:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391637",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:65" align="right">comment:65</div>

Replying to [@kiwifb](#comment%3A64):

> Right. That means we would need to make `-std=c++11` pervasive in singular as well and possibly all other dependencies of ntl that are not already switching c++11 in configure. So I think we should postpone this until we enforce c++11 across the board. I thought it would be easy but it is turning in a whack-a-mole kind of thing.

Singular already does that itself in 4.1.1.p3



---

archive/issue_comments_391638.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nBut we are stuck at 4.1.1.p2 here. Even if we finish the singular ticket, we may still have to look at giac which probably doesn't go c++11 by itself. eclib and linbox should be OK.",
    "created_at": "2018-11-28T20:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391638",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:66" align="right">comment:66</div>

But we are stuck at 4.1.1.p2 here. Even if we finish the singular ticket, we may still have to look at giac which probably doesn't go c++11 by itself. eclib and linbox should be OK.



---

archive/issue_comments_391639.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@kiwifb](#comment%3A66):\n> But we are stuck at 4.1.1.p2 here. Even if we finish the singular ticket, we may still have to look at giac which probably doesn't go c++11 by itself. eclib and linbox should be OK.\n\ngiac's upcoming version 1.5.0 should be compileable with c++11 - at least it does work with clang 6.0.1, which is quite picky, and I think enforces c++11 by default. See #26315.",
    "created_at": "2018-11-28T20:14:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391639",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@kiwifb](#comment%3A66):
> But we are stuck at 4.1.1.p2 here. Even if we finish the singular ticket, we may still have to look at giac which probably doesn't go c++11 by itself. eclib and linbox should be OK.

giac's upcoming version 1.5.0 should be compileable with c++11 - at least it does work with clang 6.0.1, which is quite picky, and I think enforces c++11 by default. See #26315.



---

archive/issue_comments_391640.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\n1.4.9.xx compiles with gcc-8.2.0 which is c++14 by default, but of course that doesn't mean clang-6.0.1 (also c++14 I think) won't throw a fit at it. But here I suspect that Volker would find in his logs that giac got configured without ntl on those machines which may or may not cause more failures.",
    "created_at": "2018-11-28T20:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391640",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:68" align="right">comment:68</div>

1.4.9.xx compiles with gcc-8.2.0 which is c++14 by default, but of course that doesn't mean clang-6.0.1 (also c++14 I think) won't throw a fit at it. But here I suspect that Volker would find in his logs that giac got configured without ntl on those machines which may or may not cause more failures.



---

archive/issue_comments_391641.json:
```json
{
    "body": "Changed dependencies from **#23341** to **#26787**",
    "created_at": "2018-11-29T01:52:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391641",
    "user": "https://github.com/kiwifb"
}
```

Changed dependencies from **#23341** to **#26787**



---

archive/issue_comments_391642.json:
```json
{
    "body": "<div id=\"comment:70\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3668993eda659bb5c511851c81b9c6830f0a91d5\"><code>3668993</code></a></td><td><code>Merge branch 'develop' into ntl-11.3.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030\"><code>370c035</code></a></td><td><code>Update CXX macros and enforce c++11</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23\"><code>d34ff33</code></a></td><td><code>Forgot to commit one change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af9eb582ee3149935982096b43df9678ee628eb3\"><code>af9eb58</code></a></td><td><code>Merge branch 'cpp11' into ntl-11.3.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a4af163363061a813d0cb959a53c388cc99a73b\"><code>0a4af16</code></a></td><td><code>Adding std=c++11 is not helpful anymore</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b\"><code>70f51d2</code></a></td><td><code>remove c++11 enforcement in spkg in most cases</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e95e7860c3cab327f9007687494f3a798f65052\"><code>9e95e78</code></a></td><td><code>Merge branch 'cpp11' into ntl-11.3.2</code></td></tr></table>\n",
    "created_at": "2018-12-05T21:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391642",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:70"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3668993eda659bb5c511851c81b9c6830f0a91d5"><code>3668993</code></a></td><td><code>Merge branch 'develop' into ntl-11.3.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030"><code>370c035</code></a></td><td><code>Update CXX macros and enforce c++11</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23"><code>d34ff33</code></a></td><td><code>Forgot to commit one change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af9eb582ee3149935982096b43df9678ee628eb3"><code>af9eb58</code></a></td><td><code>Merge branch 'cpp11' into ntl-11.3.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a4af163363061a813d0cb959a53c388cc99a73b"><code>0a4af16</code></a></td><td><code>Adding std=c++11 is not helpful anymore</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b"><code>70f51d2</code></a></td><td><code>remove c++11 enforcement in spkg in most cases</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e95e7860c3cab327f9007687494f3a798f65052"><code>9e95e78</code></a></td><td><code>Merge branch 'cpp11' into ntl-11.3.2</code></td></tr></table>




---

archive/issue_comments_391643.json:
```json
{
    "body": "Changed commit from **[`e4006a7`](https://github.com/sagemath/sagetrac-mirror/commit/e4006a74d02ddc0e2b0615aa37fb4e29f773fc69)** to **[`9e95e78`](https://github.com/sagemath/sagetrac-mirror/commit/9e95e7860c3cab327f9007687494f3a798f65052)**",
    "created_at": "2018-12-05T21:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391643",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e4006a7`](https://github.com/sagemath/sagetrac-mirror/commit/e4006a74d02ddc0e2b0615aa37fb4e29f773fc69)** to **[`9e95e78`](https://github.com/sagemath/sagetrac-mirror/commit/9e95e7860c3cab327f9007687494f3a798f65052)**



---

archive/issue_events_350308.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:24:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350308"
}
```



---

archive/issue_events_350309.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:24:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350309"
}
```



---

archive/issue_comments_391644.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nStill depends on a good review of #26787 which needs a bit of testing on cygwin.",
    "created_at": "2018-12-05T21:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391644",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:71" align="right">comment:71</div>

Still depends on a good review of #26787 which needs a bit of testing on cygwin.



---

archive/issue_events_350310.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:24:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350310"
}
```



---

archive/issue_events_350311.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:24:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350311"
}
```



---

archive/issue_comments_391645.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nCan somebody either make this not depend on #26787 or add an explanation to #26787?",
    "created_at": "2019-01-11T14:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391645",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:72" align="right">comment:72</div>

Can somebody either make this not depend on #26787 or add an explanation to #26787?



---

archive/issue_comments_391646.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nmaking it independent of #26787 needs passing `std=c++11` in CXXFLAGS...",
    "created_at": "2019-01-11T14:50:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391646",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:73" align="right">comment:73</div>

making it independent of #26787 needs passing `std=c++11` in CXXFLAGS...



---

archive/issue_events_350312.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:50:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350312"
}
```



---

archive/issue_events_350313.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:50:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350313"
}
```



---

archive/issue_comments_391647.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391647",
    "user": "https://github.com/embray"
}
```

<div id="comment:74" align="right">comment:74</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_350314.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350314"
}
```



---

archive/issue_events_350315.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350315"
}
```



---

archive/issue_comments_391648.json:
```json
{
    "body": "Changed dependencies from **#26787** to none",
    "created_at": "2019-03-17T22:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391648",
    "user": "https://github.com/kiwifb"
}
```

Changed dependencies from **#26787** to none



---

archive/issue_comments_391649.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nForgot about this ticket. All the dependencies for this ticket have been cleared so it should go back to positive review.",
    "created_at": "2019-03-17T22:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391649",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:75" align="right">comment:75</div>

Forgot about this ticket. All the dependencies for this ticket have been cleared so it should go back to positive review.



---

archive/issue_events_350316.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-03-17T22:18:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350316"
}
```



---

archive/issue_events_350317.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-03-17T22:18:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350317"
}
```



---

archive/issue_events_350318.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-24T09:41:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350318"
}
```



---

archive/issue_events_350319.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-24T09:41:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350319"
}
```



---

archive/issue_comments_391650.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\n\n```\n/home/buildbot/slave/sage_git/build/local/include/NTL/vector.h:198:31: warning: unused variable 'do_BlockConstruct' [-Wunused-variable]\n { VecStrategy<NTL_RELOC_TAG>::do_BlockConstruct(p, n); }\n                               ^~~~~~~~~~~~~~~~~\nMakefile:275: recipe for target 'build/interfaces/NTL-interface.lo' failed\nmake[7]: *** [build/interfaces/NTL-interface.lo] Error 1\nmake[7]: Leaving directory '/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src'\ng++: error: build/interfaces/NTL-interface.lo: No such file or directory\nMakefile:143: recipe for target 'libflint.so.13.5.2' failed\nmake[6]: *** [libflint.so.13.5.2] Error 1\n```",
    "created_at": "2019-03-24T09:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391650",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:76" align="right">comment:76</div>


```
/home/buildbot/slave/sage_git/build/local/include/NTL/vector.h:198:31: warning: unused variable 'do_BlockConstruct' [-Wunused-variable]
 { VecStrategy<NTL_RELOC_TAG>::do_BlockConstruct(p, n); }
                               ^~~~~~~~~~~~~~~~~
Makefile:275: recipe for target 'build/interfaces/NTL-interface.lo' failed
make[7]: *** [build/interfaces/NTL-interface.lo] Error 1
make[7]: Leaving directory '/home/buildbot/slave/sage_git/build/local/var/tmp/sage/build/flint-2.5.2.p3/src'
g++: error: build/interfaces/NTL-interface.lo: No such file or directory
Makefile:143: recipe for target 'libflint.so.13.5.2' failed
make[6]: *** [libflint.so.13.5.2] Error 1
```



---

archive/issue_comments_391651.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nMore details please! Version of gcc involved and possibly distro, more logs from flint too. Because this a package upgrade we don't see anything on the patchbot :(",
    "created_at": "2019-03-24T09:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391651",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:77" align="right">comment:77</div>

More details please! Version of gcc involved and possibly distro, more logs from flint too. Because this a package upgrade we don't see anything on the patchbot :(



---

archive/issue_comments_391652.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nOK found the issue. We don't pass any `CFLAGS` or `CXXFLAGS` to flint so the default are used. By default, `-ansi` is added to both `CFLAGS` and `CXXFLAGS`. For C is sets the standard to C99 and for C++, to c++98. Frankly I think we should just remove `-ansi` in both case. And since by default `CXXFLAGS` is copied from `CFLAGS`, that should be easy to do in one single change.\n\nAnd distros don't choke on this because we usually provide some compilation flags.",
    "created_at": "2019-03-24T23:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391652",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:78" align="right">comment:78</div>

OK found the issue. We don't pass any `CFLAGS` or `CXXFLAGS` to flint so the default are used. By default, `-ansi` is added to both `CFLAGS` and `CXXFLAGS`. For C is sets the standard to C99 and for C++, to c++98. Frankly I think we should just remove `-ansi` in both case. And since by default `CXXFLAGS` is copied from `CFLAGS`, that should be easy to do in one single change.

And distros don't choke on this because we usually provide some compilation flags.



---

archive/issue_comments_391653.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391653",
    "user": "https://github.com/embray"
}
```

<div id="comment:79" align="right">comment:79</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_350320.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350320"
}
```



---

archive/issue_events_350321.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350321"
}
```



---

archive/issue_comments_391654.json:
```json
{
    "body": "<div id=\"comment:80\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26f0cb9e799ff1bae5f7407564e82d621a838b8a\"><code>26f0cb9</code></a></td><td><code>Merge branch 'develop' into t25532</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f\"><code>9aa1288</code></a></td><td><code>flint shouldn't override the default language standard for C and C++</code></td></tr></table>\n",
    "created_at": "2019-04-01T01:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391654",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:80"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26f0cb9e799ff1bae5f7407564e82d621a838b8a"><code>26f0cb9</code></a></td><td><code>Merge branch 'develop' into t25532</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f"><code>9aa1288</code></a></td><td><code>flint shouldn't override the default language standard for C and C++</code></td></tr></table>




---

archive/issue_comments_391655.json:
```json
{
    "body": "Changed commit from **[`9e95e78`](https://github.com/sagemath/sagetrac-mirror/commit/9e95e7860c3cab327f9007687494f3a798f65052)** to **[`9aa1288`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f)**",
    "created_at": "2019-04-01T01:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391655",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9e95e78`](https://github.com/sagemath/sagetrac-mirror/commit/9e95e7860c3cab327f9007687494f3a798f65052)** to **[`9aa1288`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f)**



---

archive/issue_comments_391656.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nflint issue is now fixed, please review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26f0cb9e799ff1bae5f7407564e82d621a838b8a\"><code>26f0cb9</code></a></td><td><code>Merge branch 'develop' into t25532</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f\"><code>9aa1288</code></a></td><td><code>flint shouldn't override the default language standard for C and C++</code></td></tr></table>\n",
    "created_at": "2019-04-01T01:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391656",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:81" align="right">comment:81</div>

flint issue is now fixed, please review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26f0cb9e799ff1bae5f7407564e82d621a838b8a"><code>26f0cb9</code></a></td><td><code>Merge branch 'develop' into t25532</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f"><code>9aa1288</code></a></td><td><code>flint shouldn't override the default language standard for C and C++</code></td></tr></table>




---

archive/issue_events_350322.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-04-01T01:43:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350322"
}
```



---

archive/issue_events_350323.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-04-01T01:43:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350323"
}
```



---

archive/issue_comments_391657.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik, Volker Braun** to **Dima Pasechnik, Volker Braun, Travis Scrimshaw**",
    "created_at": "2019-04-04T02:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391657",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Dima Pasechnik, Volker Braun** to **Dima Pasechnik, Volker Braun, Travis Scrimshaw**



---

archive/issue_comments_391658.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nI am kicking this back to the patchbots for final testing as this works on my machine.",
    "created_at": "2019-04-04T02:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391658",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:82" align="right">comment:82</div>

I am kicking this back to the patchbots for final testing as this works on my machine.



---

archive/issue_events_350324.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-04-04T02:25:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350324"
}
```



---

archive/issue_events_350325.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-04-04T02:25:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350325"
}
```



---

archive/issue_events_350326.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-04-04T14:35:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350326"
}
```



---

archive/issue_events_350327.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-04-04T14:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350327"
}
```



---

archive/issue_comments_391659.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nPlease give me a chance to test this on Cygwin.",
    "created_at": "2019-04-04T14:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391659",
    "user": "https://github.com/embray"
}
```

<div id="comment:83" align="right">comment:83</div>

Please give me a chance to test this on Cygwin.



---

archive/issue_events_350328.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-04-04T14:35:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350328"
}
```



---

archive/issue_events_350329.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-04-04T14:35:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350329"
}
```



---

archive/issue_events_350330.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-04-04T14:35:16Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "subject": "https://github.com/embray",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350330"
}
```



---

archive/issue_events_350331.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-04-04T17:56:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350331"
}
```



---

archive/issue_events_350332.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-04-04T17:56:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350332"
}
```



---

archive/issue_comments_391660.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik, Volker Braun, Travis Scrimshaw** to **Dima Pasechnik, Volker Braun, Travis Scrimshaw, Erik Bray**",
    "created_at": "2019-04-04T17:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391660",
    "user": "https://github.com/embray"
}
```

Changed reviewer from **Dima Pasechnik, Volker Braun, Travis Scrimshaw** to **Dima Pasechnik, Volker Braun, Travis Scrimshaw, Erik Bray**



---

archive/issue_comments_391661.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nAlright, I think this is probably fine.  I haven't run the full test suite yet, but it looks good based on an informed subset.  If I notice anything after running the full tests I'll create a follow-up.  Thank you for waiting.",
    "created_at": "2019-04-04T17:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391661",
    "user": "https://github.com/embray"
}
```

<div id="comment:86" align="right">comment:86</div>

Alright, I think this is probably fine.  I haven't run the full test suite yet, but it looks good based on an informed subset.  If I notice anything after running the full tests I'll create a follow-up.  Thank you for waiting.



---

archive/issue_events_350333.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-04-07T15:15:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350333"
}
```



---

archive/issue_events_350334.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c0b82d83076ae6d155cecf4b3338d971774759bc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-04-07T15:15:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25532#event-350334"
}
```



---

archive/issue_comments_391662.json:
```json
{
    "body": "Changed branch from **[public/25532](https://github.com/sagemath/sagetrac-mirror/tree/public/25532)** to **[`9aa1288`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f)**",
    "created_at": "2019-04-07T15:15:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391662",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/25532](https://github.com/sagemath/sagetrac-mirror/tree/public/25532)** to **[`9aa1288`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f)**



---

archive/issue_comments_391663.json:
```json
{
    "body": "Changed commit from **[`9aa1288`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f)** to none",
    "created_at": "2019-04-18T11:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391663",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`9aa1288`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1288319f00c0ae230689768e884c080671b8f)** to none



---

archive/issue_comments_391664.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nhow do I change `-std=gnu++11` to `c++11` for NTL? It seems that [#27212 comment:112](https://github.com/sagemath/sage/issues/27212#comment:112) is related to this.\nIndeed, if I instead use NTL built with `c++11` at https://github.com/Homebrew/homebrew-core/blob/master/Formula/ntl.rb then everything works.",
    "created_at": "2019-04-18T11:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391664",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:88" align="right">comment:88</div>

how do I change `-std=gnu++11` to `c++11` for NTL? It seems that [#27212 comment:112](https://github.com/sagemath/sage/issues/27212#comment:112) is related to this.
Indeed, if I instead use NTL built with `c++11` at https://github.com/Homebrew/homebrew-core/blob/master/Formula/ntl.rb then everything works.



---

archive/issue_comments_391665.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nI don't particularly like the fact that the macro for C++ standard looks for gnu++11 before c++11 but that's what it is. You can just add `-std=c++11` to `CXXFLAGS` on OS X in spkg-install. That should work. There are work around of the sort for cygwin already in fplll if my memory serves me right.",
    "created_at": "2019-04-18T11:55:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391665",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:89" align="right">comment:89</div>

I don't particularly like the fact that the macro for C++ standard looks for gnu++11 before c++11 but that's what it is. You can just add `-std=c++11` to `CXXFLAGS` on OS X in spkg-install. That should work. There are work around of the sort for cygwin already in fplll if my memory serves me right.



---

archive/issue_comments_391666.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nReplying to [@kiwifb](#comment%3A89):\n> I don't particularly like the fact that the macro for C++ standard looks for gnu++11 before c++11 but that's what it is. You can just add `-std=c++11` to `CXXFLAGS` on OS X in spkg-install. That should work. There are work around of the sort for cygwin already in fplll if my memory serves me right.\n\nno, this does not work. Which packages do need gnu++11 rather than c++11? I am trying now to set c++11 on Darwin globally, IIRC it used to work.",
    "created_at": "2019-04-18T15:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391666",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:90" align="right">comment:90</div>

Replying to [@kiwifb](#comment%3A89):
> I don't particularly like the fact that the macro for C++ standard looks for gnu++11 before c++11 but that's what it is. You can just add `-std=c++11` to `CXXFLAGS` on OS X in spkg-install. That should work. There are work around of the sort for cygwin already in fplll if my memory serves me right.

no, this does not work. Which packages do need gnu++11 rather than c++11? I am trying now to set c++11 on Darwin globally, IIRC it used to work.



---

archive/issue_comments_391667.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nOK to set up things globally you may want to go back to the macro setting c++11/gnu++11 as the standard at https://github.com/sagemath/sage/blob/develop/build/pkgs/gcc/spkg-configure.m4#L97 and follow the model of fplll that asks specifically for c++11 https://github.com/fplll/fplll/blob/master/configure.ac#L56 (but do not make it mandatory).\n\nFrom what I see, it would be a good idea to update the macro `/ax_cxx_compile_stdcxx` as there is a recent fix for clang. \n\nNow the question is whether you want to try c++11 instead as the general default or just for OS X. My understanding is that cygwin works better with gnu++11.",
    "created_at": "2019-04-18T20:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391667",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:91" align="right">comment:91</div>

OK to set up things globally you may want to go back to the macro setting c++11/gnu++11 as the standard at https://github.com/sagemath/sage/blob/develop/build/pkgs/gcc/spkg-configure.m4#L97 and follow the model of fplll that asks specifically for c++11 https://github.com/fplll/fplll/blob/master/configure.ac#L56 (but do not make it mandatory).

From what I see, it would be a good idea to update the macro `/ax_cxx_compile_stdcxx` as there is a recent fix for clang. 

Now the question is whether you want to try c++11 instead as the general default or just for OS X. My understanding is that cygwin works better with gnu++11.



---

archive/issue_comments_391668.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nReplying to [@kiwifb](#comment%3A91):\n> OK to set up things globally you may want to go back to the macro setting c++11/gnu++11 as the standard at https://github.com/sagemath/sage/blob/develop/build/pkgs/gcc/spkg-configure.m4#L97 and follow the model of fplll that asks specifically for c++11 https://github.com/fplll/fplll/blob/master/configure.ac#L56 (but do not make it mandatory).\n> \n> From what I see, it would be a good idea to update the macro `/ax_cxx_compile_stdcxx` as there is a recent fix for clang. \n> \n> Now the question is whether you want to try c++11 instead as the general default or just for OS X. My understanding is that cygwin works better with gnu++11.\n\nRoughly speaking, as I understand it, the reason `-std=gnu++11` is sometimes required on Cygwin is related to the fact that Cygwin's built-in libc is not glibc but rather Cygnus/Redhat's [newlib](https://en.wikipedia.org/wiki/Newlib).  newlib supports most/all the usual GNU extensions but it is quite strict about requiring them to be explicitly enabled; otherwise you just get pure POSIX.\n\nI have no idea what the problem is on macOS, but presumably there's something that is enabled in NTL when using `-std=gnu++11` but it's probably something subtle.",
    "created_at": "2019-04-19T14:11:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391668",
    "user": "https://github.com/embray"
}
```

<div id="comment:93" align="right">comment:93</div>

Replying to [@kiwifb](#comment%3A91):
> OK to set up things globally you may want to go back to the macro setting c++11/gnu++11 as the standard at https://github.com/sagemath/sage/blob/develop/build/pkgs/gcc/spkg-configure.m4#L97 and follow the model of fplll that asks specifically for c++11 https://github.com/fplll/fplll/blob/master/configure.ac#L56 (but do not make it mandatory).
> 
> From what I see, it would be a good idea to update the macro `/ax_cxx_compile_stdcxx` as there is a recent fix for clang. 
> 
> Now the question is whether you want to try c++11 instead as the general default or just for OS X. My understanding is that cygwin works better with gnu++11.

Roughly speaking, as I understand it, the reason `-std=gnu++11` is sometimes required on Cygwin is related to the fact that Cygwin's built-in libc is not glibc but rather Cygnus/Redhat's [newlib](https://en.wikipedia.org/wiki/Newlib).  newlib supports most/all the usual GNU extensions but it is quite strict about requiring them to be explicitly enabled; otherwise you just get pure POSIX.

I have no idea what the problem is on macOS, but presumably there's something that is enabled in NTL when using `-std=gnu++11` but it's probably something subtle.



---

archive/issue_comments_391669.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nIt turns out to be a red herring.\n\nHowever, one thing I noticed that for fplll there is setting of `-std=gnu++11` for Cygwin, whereas it's already set globally...",
    "created_at": "2019-04-19T15:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391669",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:94" align="right">comment:94</div>

It turns out to be a red herring.

However, one thing I noticed that for fplll there is setting of `-std=gnu++11` for Cygwin, whereas it's already set globally...



---

archive/issue_comments_391670.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nReplying to [@dimpase](#comment%3A94):\n> It turns out to be a red herring.\n> \n> However, one thing I noticed that for fplll there is setting of `-std=gnu++11` for Cygwin, whereas it's already set globally... \n\nThis is on purpose. Before I enabled c++11/gnu++11 globally, it was already in place. The reason is that fplll's configure script requires a strict c++11 compiler as noted above. But cygwin needs a gnu++11 one to compile fplll. So we need to override fplll's decision on cygwin. Don't go removing it.",
    "created_at": "2019-04-19T22:18:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25532",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25532#issuecomment-391670",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:95" align="right">comment:95</div>

Replying to [@dimpase](#comment%3A94):
> It turns out to be a red herring.
> 
> However, one thing I noticed that for fplll there is setting of `-std=gnu++11` for Cygwin, whereas it's already set globally... 

This is on purpose. Before I enabled c++11/gnu++11 globally, it was already in place. The reason is that fplll's configure script requires a strict c++11 compiler as noted above. But cygwin needs a gnu++11 one to compile fplll. So we need to override fplll's decision on cygwin. Don't go removing it.
