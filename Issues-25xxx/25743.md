# Issue 25743: Speed up iteration of ProjectiveSpace_finite_field

archive/issues_025506.json:
```json
{
    "assignees": [],
    "body": "While implementing some algorithm involving projective spaces, I noticed that 90% of the time was simply spent enumerating the points of a projective space.\n\nComponent: **performance**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw, John Cremona**\n\nBranch/Commit: **[`329f89b`](https://github.com/sagemath/sagetrac-mirror/commit/329f89b72504e0daa6195f924c584a8d90cf008b)**\n\nReviewer: **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton, John Cremona**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25743_\n\n",
    "closed_at": "2021-03-09T00:00:37Z",
    "created_at": "2018-07-02T14:50:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/performance",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Speed up iteration of ProjectiveSpace_finite_field",
    "type": "issue",
    "updated_at": "2021-03-09T00:00:37Z",
    "url": "https://github.com/sagemath/sage/issues/25743",
    "user": "https://github.com/jdemeyer"
}
```
While implementing some algorithm involving projective spaces, I noticed that 90% of the time was simply spent enumerating the points of a projective space.

Component: **performance**

Author: **Frédéric Chapoton, Travis Scrimshaw, John Cremona**

Branch/Commit: **[`329f89b`](https://github.com/sagemath/sagetrac-mirror/commit/329f89b72504e0daa6195f924c584a8d90cf008b)**

Reviewer: **Travis Scrimshaw, Frédéric Chapoton, John Cremona**

_Issue created by migration from https://trac.sagemath.org/ticket/25743_





---

archive/issue_events_352913.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-02T14:50:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352913"
}
```



---

archive/issue_events_352914.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-02T14:50:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/performance",
    "label_color": "696969",
    "label_name": "performance",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352914"
}
```



---

archive/issue_events_352915.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-02T14:50:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352915"
}
```



---

archive/issue_events_352916.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-02T14:50:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352916"
}
```



---

archive/issue_comments_395469.json:
```json
{
    "body": "Branch: **[u/chapoton/25743](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25743)**",
    "created_at": "2021-01-30T11:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395469",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/25743](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25743)**



---

archive/issue_comments_395470.json:
```json
{
    "body": "Changed author from **Jeroen Demeyer** to **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2021-01-30T11:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395470",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Jeroen Demeyer** to **Frédéric Chapoton**



---

archive/issue_events_352917.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-30T11:28:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352917"
}
```



---

archive/issue_comments_395471.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nhere is a proposal. not yet benchmarked\n\nplus the file is cleaned up a little bit\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04f29f3a7080590fe7532bd24f0c17a69e0cc22a\"><code>04f29f3</code></a></td><td><code>refresh projective_space</code></td></tr></table>\n",
    "created_at": "2021-01-30T11:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395471",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">comment:1</div>

here is a proposal. not yet benchmarked

plus the file is cleaned up a little bit

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04f29f3a7080590fe7532bd24f0c17a69e0cc22a"><code>04f29f3</code></a></td><td><code>refresh projective_space</code></td></tr></table>




---

archive/issue_comments_395472.json:
```json
{
    "body": "Commit: **[`04f29f3`](https://github.com/sagemath/sagetrac-mirror/commit/04f29f3a7080590fe7532bd24f0c17a69e0cc22a)**",
    "created_at": "2021-01-30T11:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395472",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`04f29f3`](https://github.com/sagemath/sagetrac-mirror/commit/04f29f3a7080590fe7532bd24f0c17a69e0cc22a)**



---

archive/issue_events_352918.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-30T11:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352918"
}
```



---

archive/issue_events_352919.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-30T11:28:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352919"
}
```



---

archive/issue_comments_395473.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\napparently not faster at all",
    "created_at": "2021-01-30T12:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395473",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

apparently not faster at all



---

archive/issue_events_352920.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-31T08:31:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352920"
}
```



---

archive/issue_events_352921.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-31T08:31:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352921"
}
```



---

archive/issue_comments_395474.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**",
    "created_at": "2021-02-25T00:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395474",
    "user": "https://github.com/tscrim"
}
```

Changed author from **Frédéric Chapoton** to **Frédéric Chapoton, Travis Scrimshaw**



---

archive/issue_events_352922.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-02-25T00:50:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352922"
}
```



---

archive/issue_events_352923.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-02-25T00:50:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352923"
}
```



---

archive/issue_comments_395475.json:
```json
{
    "body": "Changed commit from **[`04f29f3`](https://github.com/sagemath/sagetrac-mirror/commit/04f29f3a7080590fe7532bd24f0c17a69e0cc22a)** to **[`def48f4`](https://github.com/sagemath/sagetrac-mirror/commit/def48f4a85ff15df748ff5fd625c735136d6822b)**",
    "created_at": "2021-02-25T00:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395475",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`04f29f3`](https://github.com/sagemath/sagetrac-mirror/commit/04f29f3a7080590fe7532bd24f0c17a69e0cc22a)** to **[`def48f4`](https://github.com/sagemath/sagetrac-mirror/commit/def48f4a85ff15df748ff5fd625c735136d6822b)**



---

archive/issue_comments_395476.json:
```json
{
    "body": "Changed branch from **[u/chapoton/25743](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25743)** to **[public/performance/iteration_ff_proj_space-25743](https://github.com/sagemath/sagetrac-mirror/tree/public/performance/iteration_ff_proj_space-25743)**",
    "created_at": "2021-02-25T00:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395476",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/chapoton/25743](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25743)** to **[public/performance/iteration_ff_proj_space-25743](https://github.com/sagemath/sagetrac-mirror/tree/public/performance/iteration_ff_proj_space-25743)**



---

archive/issue_comments_395477.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2021-02-25T00:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395477",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw, Frédéric Chapoton**



---

archive/issue_comments_395478.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis branch speeds up the iteration ~5x on this example:\n\n```\nsage: PS = ProjectiveSpace(3, GF(71))\nsage: %time L = list(PS)\nCPU times: user 2.32 s, sys: 27.3 ms, total: 2.35 s\nWall time: 2.35 s\n```\nvs before\n\n```\nCPU times: user 10.6 s, sys: 18.2 ms, total: 10.6 s\nWall time: 10.6 s\n```\nBasically I avoid the checks, as well as more directly call the corresponding constructor since none of the points will by infinity. Feel free to merge this with your other cleanup stuff.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/def48f4a85ff15df748ff5fd625c735136d6822b\"><code>def48f4</code></a></td><td><code>Speeding up iteration of projective space over finite fields.</code></td></tr></table>\n",
    "created_at": "2021-02-25T00:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395478",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

This branch speeds up the iteration ~5x on this example:

```
sage: PS = ProjectiveSpace(3, GF(71))
sage: %time L = list(PS)
CPU times: user 2.32 s, sys: 27.3 ms, total: 2.35 s
Wall time: 2.35 s
```
vs before

```
CPU times: user 10.6 s, sys: 18.2 ms, total: 10.6 s
Wall time: 10.6 s
```
Basically I avoid the checks, as well as more directly call the corresponding constructor since none of the points will by infinity. Feel free to merge this with your other cleanup stuff.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/def48f4a85ff15df748ff5fd625c735136d6822b"><code>def48f4</code></a></td><td><code>Speeding up iteration of projective space over finite fields.</code></td></tr></table>




---

archive/issue_comments_395479.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe element constructors for affine and projetive space are very slow.  They go back to the very early days of Sage when this sort of thing was done in a very highbrow schemey way, at the expense of speed.  For example\n\n```\nsage: F = GF(73)                                                                                                                                      \nsage: %time L = list(cartesian_product_iterator([F for _ in range(3)]))                                                                               \nCPU times: user 189 ms, sys: 24.1 ms, total: 213 ms\nWall time: 212 ms\nsage: A = AffineSpace(F,3)                                                                                                                            \nsage: %time L = [A(v) for v in cartesian_product_iterator([F for _ in range(3)])]                                                                     \nCPU times: user 10.8 s, sys: 47.9 ms, total: 10.8 s\nWall time: 10.8 s\nsage: len(L)                                                                                                                                          \n389017\n```\nSo calling the constructor 389000 times results in a 10s run time.  Using `A.point(v)` is not much better, but with check=False we do gain:\n\n```\nsage: %time L = [A.point(v) for v in cartesian_product_iterator([F for _ in range(3)])]                                                               \nCPU times: user 9.07 s, sys: 47.8 ms, total: 9.12 s\nWall time: 9.12 s\nsage: %time L = [A.point(v, check=False) for v in cartesian_product_iterator([F for _ in range(3)])]                                                  \nCPU times: user 3 s, sys: 64 ms, total: 3.07 s\nWall time: 3.07 s\n```\n\nSo we could replace the current iterator for affine space over a finite field with this:\n\n```\ndef aff_iter(A):\n    F = A.base_ring()\n    d = A.dimension()\n    for v in cartesian_product_iterator([F for _ in range(d)]):\n        yield A.point(v, check=False)\n```\nand now\n\n```\nsage: %time L=list(aff_iter(A))                                                                                                                       \nCPU times: user 2.62 s, sys: 60.1 ms, total: 2.68 s\nWall time: 2.68 s\n```\n\nSimilarly for projective space, here is a new iterator, using the affine one:\n\n```\ndef proj_iter(P):\n    F = P.base_ring()\n    d = P.dimension()\n    one = (F.one(),)\n    zero = (F.zero(),)\n    for k in range(d+1): # position of last 1 before the 0's\n        for v in cartesian_product_iterator([F for _ in range(k)]):\n            yield P.point(v + one + zero*(d-k), check=False)\n```\nafter which\n\n```\nsage: P = ProjectiveSpace(GF(73), 3)                                                                                                                  \nsage: %time oldL=list(P)                                                                                                                              \nCPU times: user 11.6 s, sys: 63.8 ms, total: 11.6 s\nWall time: 11.6 s\nsage: %time L=list(proj_iter(P))                                                                                                                      \nCPU times: user 2.31 s, sys: 76.3 ms, total: 2.38 s\nWall time: 2.38 s\nsage: Set(L)==Set(oldL)                                                                                                                               \nTrue\n```\n\nI think my code is a lot easier to read than the old version, or the proposed adjustment to it -- shall we replace these two iterator methods with new version based on what I wrote?",
    "created_at": "2021-02-26T14:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395479",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:6" align="right">comment:6</div>

The element constructors for affine and projetive space are very slow.  They go back to the very early days of Sage when this sort of thing was done in a very highbrow schemey way, at the expense of speed.  For example

```
sage: F = GF(73)                                                                                                                                      
sage: %time L = list(cartesian_product_iterator([F for _ in range(3)]))                                                                               
CPU times: user 189 ms, sys: 24.1 ms, total: 213 ms
Wall time: 212 ms
sage: A = AffineSpace(F,3)                                                                                                                            
sage: %time L = [A(v) for v in cartesian_product_iterator([F for _ in range(3)])]                                                                     
CPU times: user 10.8 s, sys: 47.9 ms, total: 10.8 s
Wall time: 10.8 s
sage: len(L)                                                                                                                                          
389017
```
So calling the constructor 389000 times results in a 10s run time.  Using `A.point(v)` is not much better, but with check=False we do gain:

```
sage: %time L = [A.point(v) for v in cartesian_product_iterator([F for _ in range(3)])]                                                               
CPU times: user 9.07 s, sys: 47.8 ms, total: 9.12 s
Wall time: 9.12 s
sage: %time L = [A.point(v, check=False) for v in cartesian_product_iterator([F for _ in range(3)])]                                                  
CPU times: user 3 s, sys: 64 ms, total: 3.07 s
Wall time: 3.07 s
```

So we could replace the current iterator for affine space over a finite field with this:

```
def aff_iter(A):
    F = A.base_ring()
    d = A.dimension()
    for v in cartesian_product_iterator([F for _ in range(d)]):
        yield A.point(v, check=False)
```
and now

```
sage: %time L=list(aff_iter(A))                                                                                                                       
CPU times: user 2.62 s, sys: 60.1 ms, total: 2.68 s
Wall time: 2.68 s
```

Similarly for projective space, here is a new iterator, using the affine one:

```
def proj_iter(P):
    F = P.base_ring()
    d = P.dimension()
    one = (F.one(),)
    zero = (F.zero(),)
    for k in range(d+1): # position of last 1 before the 0's
        for v in cartesian_product_iterator([F for _ in range(k)]):
            yield P.point(v + one + zero*(d-k), check=False)
```
after which

```
sage: P = ProjectiveSpace(GF(73), 3)                                                                                                                  
sage: %time oldL=list(P)                                                                                                                              
CPU times: user 11.6 s, sys: 63.8 ms, total: 11.6 s
Wall time: 11.6 s
sage: %time L=list(proj_iter(P))                                                                                                                      
CPU times: user 2.31 s, sys: 76.3 ms, total: 2.38 s
Wall time: 2.38 s
sage: Set(L)==Set(oldL)                                                                                                                               
True
```

I think my code is a lot easier to read than the old version, or the proposed adjustment to it -- shall we replace these two iterator methods with new version based on what I wrote?



---

archive/issue_comments_395480.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nPlease go ahead and make those changes.",
    "created_at": "2021-02-28T05:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395480",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Please go ahead and make those changes.



---

archive/issue_comments_395481.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@tscrim](#comment%3A7):\n> Please go ahead and make those changes.\n\nWill do. Since the new iterators will deliver the elements in a different order I'll be sure to check all doctests.",
    "created_at": "2021-02-28T08:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395481",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@tscrim](#comment%3A7):
> Please go ahead and make those changes.

Will do. Since the new iterators will deliver the elements in a different order I'll be sure to check all doctests.



---

archive/issue_comments_395482.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI made te changes I suggesed for both affine and projective space.  A small number of doctest outputs had to be changed since the order of iteration is now different, though I adjusted the code from what I had posted here to make the changes fewer.\n\nFor the original time tests, on the machine I was using we have the old version (9.2)\n\n```\nsage: PS = ProjectiveSpace(3, GF(71))                                                                                                                 \nsage: %time L = list(PS)                                                                                                                              \nCPU times: user 9.98 s, sys: 51.3 ms, total: 10 s\nWall time: 10 s\n```\nand the new\n\n```\nsage: PS = ProjectiveSpace(3, GF(71))                                                                                                                 \nsage: %time L = list(PS)                                                                                                                              \nCPU times: user 3.09 s, sys: 56.1 ms, total: 3.14 s\nWall time: 3.14 s\n```\nwhich I know is not so good a speedup as before.  If someone else wants to try to improve it further, they are welcome, but the time is all in the 363024 calls to the point constructor which is slow even with check-False.  (For this reason, the class for points on elliptic curves is not a specialization of the scheme point class -- it is rather ridiculous that it takes so long to construct a point when you do not even check that equations are satisfied.)\n\nBy the way, one thing I tried which definitely did not work is to construct one point outside the loop and then only assign its coordinates in the loop before yielding it.  The result is that all the points delivered are the same (pointers).  Adding in a copy() calls the constructor again...\n\nThe commit I made in u/cremona/25743 builds on the previous branch here, so it has Fr\u00e9d\u00e9ric's tidying up in the projective_space file, but I did not do similar in the affine_space file.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39ecf7476f9985691c6a62d730bbcd8770f9c68c\"><code>39ecf74</code></a></td><td><code>Merge remote-tracking branch 'trac/public/performance/iteration_ff_proj_space-25743' into 25743</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37fc4e9f791fa3ace21c2c996bbabb8f9739ae39\"><code>37fc4e9</code></a></td><td><code>#25743: more efficient iterators for affine and projective space over finite fields</code></td></tr></table>\n",
    "created_at": "2021-03-01T09:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395482",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:9" align="right">comment:9</div>

I made te changes I suggesed for both affine and projective space.  A small number of doctest outputs had to be changed since the order of iteration is now different, though I adjusted the code from what I had posted here to make the changes fewer.

For the original time tests, on the machine I was using we have the old version (9.2)

```
sage: PS = ProjectiveSpace(3, GF(71))                                                                                                                 
sage: %time L = list(PS)                                                                                                                              
CPU times: user 9.98 s, sys: 51.3 ms, total: 10 s
Wall time: 10 s
```
and the new

```
sage: PS = ProjectiveSpace(3, GF(71))                                                                                                                 
sage: %time L = list(PS)                                                                                                                              
CPU times: user 3.09 s, sys: 56.1 ms, total: 3.14 s
Wall time: 3.14 s
```
which I know is not so good a speedup as before.  If someone else wants to try to improve it further, they are welcome, but the time is all in the 363024 calls to the point constructor which is slow even with check-False.  (For this reason, the class for points on elliptic curves is not a specialization of the scheme point class -- it is rather ridiculous that it takes so long to construct a point when you do not even check that equations are satisfied.)

By the way, one thing I tried which definitely did not work is to construct one point outside the loop and then only assign its coordinates in the loop before yielding it.  The result is that all the points delivered are the same (pointers).  Adding in a copy() calls the constructor again...

The commit I made in u/cremona/25743 builds on the previous branch here, so it has Frédéric's tidying up in the projective_space file, but I did not do similar in the affine_space file.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39ecf7476f9985691c6a62d730bbcd8770f9c68c"><code>39ecf74</code></a></td><td><code>Merge remote-tracking branch 'trac/public/performance/iteration_ff_proj_space-25743' into 25743</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37fc4e9f791fa3ace21c2c996bbabb8f9739ae39"><code>37fc4e9</code></a></td><td><code>#25743: more efficient iterators for affine and projective space over finite fields</code></td></tr></table>




---

archive/issue_comments_395483.json:
```json
{
    "body": "Changed commit from **[`def48f4`](https://github.com/sagemath/sagetrac-mirror/commit/def48f4a85ff15df748ff5fd625c735136d6822b)** to **[`37fc4e9`](https://github.com/sagemath/sagetrac-mirror/commit/37fc4e9f791fa3ace21c2c996bbabb8f9739ae39)**",
    "created_at": "2021-03-01T09:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395483",
    "user": "https://github.com/JohnCremona"
}
```

Changed commit from **[`def48f4`](https://github.com/sagemath/sagetrac-mirror/commit/def48f4a85ff15df748ff5fd625c735136d6822b)** to **[`37fc4e9`](https://github.com/sagemath/sagetrac-mirror/commit/37fc4e9f791fa3ace21c2c996bbabb8f9739ae39)**



---

archive/issue_comments_395484.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton** to **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton, John Cremona**",
    "created_at": "2021-03-01T09:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395484",
    "user": "https://github.com/JohnCremona"
}
```

Changed reviewer from **Travis Scrimshaw, Frédéric Chapoton** to **Travis Scrimshaw, Frédéric Chapoton, John Cremona**



---

archive/issue_comments_395485.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw** to **Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw, John Cremona**",
    "created_at": "2021-03-01T09:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395485",
    "user": "https://github.com/JohnCremona"
}
```

Changed author from **Frédéric Chapoton, Travis Scrimshaw** to **Frédéric Chapoton, Travis Scrimshaw, John Cremona**



---

archive/issue_comments_395486.json:
```json
{
    "body": "Changed branch from **[public/performance/iteration_ff_proj_space-25743](https://github.com/sagemath/sagetrac-mirror/tree/public/performance/iteration_ff_proj_space-25743)** to **[u/cremona/25743](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/25743)**",
    "created_at": "2021-03-01T09:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395486",
    "user": "https://github.com/JohnCremona"
}
```

Changed branch from **[public/performance/iteration_ff_proj_space-25743](https://github.com/sagemath/sagetrac-mirror/tree/public/performance/iteration_ff_proj_space-25743)** to **[u/cremona/25743](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/25743)**



---

archive/issue_comments_395487.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nSo ~19% of the time is spent in the\n\n```\nsage.schemes.generic.homset.SchemeHomset_generic.__call__\n```\nmost likely because of the\n\n```python\nfrom sage.structure.parent import Set_generic\n```\nlocal import. So just moving that to the top of the file makes it go from 3.5s to 3s (via `%prun`).\n\nNext, I just avoided the intermediate step through the homset's `_element_constructor_` and just built the point directly.\n\nI also do some other changes to be more lazily about stuff. I strongly suspect the `(co)domain` attributes of `SchemeMorphism` can be standard morphisms with maybe an added `_domain`. So these are now both ~2x faster for me. Although it seems like it makes more sense to have `_point` be an attribute to the class, which will shave off even more time.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bd776656843a54edade2a70a9394034e10298f1\"><code>1bd7766</code></a></td><td><code>Further speedups to affine/projective point enumeration.</code></td></tr></table>\n",
    "created_at": "2021-03-04T00:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395487",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

So ~19% of the time is spent in the

```
sage.schemes.generic.homset.SchemeHomset_generic.__call__
```
most likely because of the

```python
from sage.structure.parent import Set_generic
```
local import. So just moving that to the top of the file makes it go from 3.5s to 3s (via `%prun`).

Next, I just avoided the intermediate step through the homset's `_element_constructor_` and just built the point directly.

I also do some other changes to be more lazily about stuff. I strongly suspect the `(co)domain` attributes of `SchemeMorphism` can be standard morphisms with maybe an added `_domain`. So these are now both ~2x faster for me. Although it seems like it makes more sense to have `_point` be an attribute to the class, which will shave off even more time.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bd776656843a54edade2a70a9394034e10298f1"><code>1bd7766</code></a></td><td><code>Further speedups to affine/projective point enumeration.</code></td></tr></table>




---

archive/issue_comments_395488.json:
```json
{
    "body": "Changed commit from **[`37fc4e9`](https://github.com/sagemath/sagetrac-mirror/commit/37fc4e9f791fa3ace21c2c996bbabb8f9739ae39)** to **[`1bd7766`](https://github.com/sagemath/sagetrac-mirror/commit/1bd776656843a54edade2a70a9394034e10298f1)**",
    "created_at": "2021-03-04T00:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395488",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`37fc4e9`](https://github.com/sagemath/sagetrac-mirror/commit/37fc4e9f791fa3ace21c2c996bbabb8f9739ae39)** to **[`1bd7766`](https://github.com/sagemath/sagetrac-mirror/commit/1bd776656843a54edade2a70a9394034e10298f1)**



---

archive/issue_comments_395489.json:
```json
{
    "body": "Changed branch from **[u/cremona/25743](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/25743)** to **[public/performance/iteration_ff_affine_proj_space-25743](https://github.com/sagemath/sagetrac-mirror/tree/public/performance/iteration_ff_affine_proj_space-25743)**",
    "created_at": "2021-03-04T00:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395489",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/cremona/25743](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/25743)** to **[public/performance/iteration_ff_affine_proj_space-25743](https://github.com/sagemath/sagetrac-mirror/tree/public/performance/iteration_ff_affine_proj_space-25743)**



---

archive/issue_comments_395490.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWell done, I am happy to see the further improvement.  I do also think that the default point constructor for such a scheme should use the mechanism used here -- users should be able to write their own loops constructing points via A(coords_list) without having to go through the homset/codomain construction, which is rather obscure.\n\n(I think that just about the first ever Sage development I did in 2007 was adding proper support for urst-transforms on elliptic curves, when I noted that one way to recover the curve from a point P on it was to use P.codomain()!)",
    "created_at": "2021-03-04T08:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395490",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:11" align="right">comment:11</div>

Well done, I am happy to see the further improvement.  I do also think that the default point constructor for such a scheme should use the mechanism used here -- users should be able to write their own loops constructing points via A(coords_list) without having to go through the homset/codomain construction, which is rather obscure.

(I think that just about the first ever Sage development I did in 2007 was adding proper support for urst-transforms on elliptic curves, when I noted that one way to recover the curve from a point P on it was to use P.codomain()!)



---

archive/issue_comments_395491.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@JohnCremona](#comment%3A11):\n> Well done, I am happy to see the further improvement.  I do also think that the default point constructor for such a scheme should use the mechanism used here -- users should be able to write their own loops constructing points via A(coords_list) without having to go through the homset/codomain construction, which is rather obscure.\n\nI am not quite sure what you are suggesting here. Are you saying the current version is sufficient or is there something else to be done?\n\nAlso, green patchbot.",
    "created_at": "2021-03-05T01:19:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395491",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@JohnCremona](#comment%3A11):
> Well done, I am happy to see the further improvement.  I do also think that the default point constructor for such a scheme should use the mechanism used here -- users should be able to write their own loops constructing points via A(coords_list) without having to go through the homset/codomain construction, which is rather obscure.

I am not quite sure what you are suggesting here. Are you saying the current version is sufficient or is there something else to be done?

Also, green patchbot.



---

archive/issue_comments_395492.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI did not mean to delay this ticket, just perhaps suggesting that another ticket making it easy to construct points on schemes more efficiently might be worth while.  As you have been thinking about what would be needed, you might be the one to do that, but that is up to you of course.",
    "created_at": "2021-03-05T08:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395492",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:13" align="right">comment:13</div>

I did not mean to delay this ticket, just perhaps suggesting that another ticket making it easy to construct points on schemes more efficiently might be worth while.  As you have been thinking about what would be needed, you might be the one to do that, but that is up to you of course.



---

archive/issue_events_352924.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2021-03-05T08:55:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352924"
}
```



---

archive/issue_events_352925.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2021-03-05T08:55:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352925"
}
```



---

archive/issue_events_352926.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-03-06T03:52:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352926"
}
```



---

archive/issue_events_352927.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-03-06T03:52:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352927"
}
```



---

archive/issue_comments_395493.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@JohnCremona](#comment%3A13):\n> I did not mean to delay this ticket, just perhaps suggesting that another ticket making it easy to construct points on schemes more efficiently might be worth while.  As you have been thinking about what would be needed, you might be the one to do that, but that is up to you of course.\n\nThat is no problem. I just wasn't sure of your intentions. I agree that would be a good thing to have.\n\nI did just notice that Fr\u00e9d\u00e9ric's cleanup did not get merged in. I will do this on Monday (unless someone else does it first). So I am just temporarily reverting the positive review until I do that.",
    "created_at": "2021-03-06T03:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395493",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@JohnCremona](#comment%3A13):
> I did not mean to delay this ticket, just perhaps suggesting that another ticket making it easy to construct points on schemes more efficiently might be worth while.  As you have been thinking about what would be needed, you might be the one to do that, but that is up to you of course.

That is no problem. I just wasn't sure of your intentions. I agree that would be a good thing to have.

I did just notice that Frédéric's cleanup did not get merged in. I will do this on Monday (unless someone else does it first). So I am just temporarily reverting the positive review until I do that.



---

archive/issue_comments_395494.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThis was not necessary. You could set back to positive, in my opinion.",
    "created_at": "2021-03-06T07:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395494",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">comment:15</div>

This was not necessary. You could set back to positive, in my opinion.



---

archive/issue_comments_395495.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04f29f3a7080590fe7532bd24f0c17a69e0cc22a\"><code>04f29f3</code></a></td><td><code>refresh projective_space</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/329f89b72504e0daa6195f924c584a8d90cf008b\"><code>329f89b</code></a></td><td><code>Merge branch 'u/chapoton/25743' of git://trac.sagemath.org/sage into public/performance/iteration_ff_affine_proj_space-25743</code></td></tr></table>\n",
    "created_at": "2021-03-08T01:11:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395495",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04f29f3a7080590fe7532bd24f0c17a69e0cc22a"><code>04f29f3</code></a></td><td><code>refresh projective_space</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/329f89b72504e0daa6195f924c584a8d90cf008b"><code>329f89b</code></a></td><td><code>Merge branch 'u/chapoton/25743' of git://trac.sagemath.org/sage into public/performance/iteration_ff_affine_proj_space-25743</code></td></tr></table>




---

archive/issue_comments_395496.json:
```json
{
    "body": "Changed commit from **[`1bd7766`](https://github.com/sagemath/sagetrac-mirror/commit/1bd776656843a54edade2a70a9394034e10298f1)** to **[`329f89b`](https://github.com/sagemath/sagetrac-mirror/commit/329f89b72504e0daa6195f924c584a8d90cf008b)**",
    "created_at": "2021-03-08T01:11:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395496",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1bd7766`](https://github.com/sagemath/sagetrac-mirror/commit/1bd776656843a54edade2a70a9394034e10298f1)** to **[`329f89b`](https://github.com/sagemath/sagetrac-mirror/commit/329f89b72504e0daa6195f924c584a8d90cf008b)**



---

archive/issue_events_352928.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-03-08T01:12:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352928"
}
```



---

archive/issue_events_352929.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-03-08T01:12:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352929"
}
```



---

archive/issue_comments_395497.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI merged in Fr\u00e9d\u00e9ric's branch. Since I had already reviewed it, I am allowing myself to set this back to positive review. (I also double-checked by re-running the tests locally.)",
    "created_at": "2021-03-08T01:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395497",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

I merged in Frédéric's branch. Since I had already reviewed it, I am allowing myself to set this back to positive review. (I also double-checked by re-running the tests locally.)



---

archive/issue_comments_395498.json:
```json
{
    "body": "Changed branch from **[public/performance/iteration_ff_affine_proj_space-25743](https://github.com/sagemath/sagetrac-mirror/tree/public/performance/iteration_ff_affine_proj_space-25743)** to **[`329f89b`](https://github.com/sagemath/sagetrac-mirror/commit/329f89b72504e0daa6195f924c584a8d90cf008b)**",
    "created_at": "2021-03-09T00:00:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25743#issuecomment-395498",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/performance/iteration_ff_affine_proj_space-25743](https://github.com/sagemath/sagetrac-mirror/tree/public/performance/iteration_ff_affine_proj_space-25743)** to **[`329f89b`](https://github.com/sagemath/sagetrac-mirror/commit/329f89b72504e0daa6195f924c584a8d90cf008b)**



---

archive/issue_events_352930.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-09T00:00:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352930"
}
```



---

archive/issue_events_352931.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9eb36fdb2c63d9c89e054bd1c2be5029318651a8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-03-09T00:00:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25743",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25743#event-352931"
}
```
