# Issue 25886: Implement field_of_definition for DynamicalSystem

archive/issues_025649.json:
```json
{
    "assignees": [],
    "body": "For the nth iterate of a given DynamicalSystem, we provide a method that returns the field extension of the base field over which all of the periodic points, critical points, or pre-images of a point are defined. \n\nCC:  @bhutz\n\nBranch/Commit: **[8f20a69](https://github.com/sagemath/sagetrac-mirror/commit/8f20a690f961a9f3282e123b978eb9e131507aa4)**\n\nReviewer: **Ben Hutz**\n\nAuthor: **Joseph Lupo**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25886_\n\n",
    "closed_at": "2018-09-05T16:43:36Z",
    "created_at": "2018-07-20T08:28:06Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20dynamics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement field_of_definition for DynamicalSystem",
    "type": "issue",
    "updated_at": "2018-09-05T16:43:36Z",
    "url": "https://github.com/sagemath/sage/issues/25886",
    "user": "https://github.com/Loops7"
}
```
For the nth iterate of a given DynamicalSystem, we provide a method that returns the field extension of the base field over which all of the periodic points, critical points, or pre-images of a point are defined. 

CC:  @bhutz

Branch/Commit: **[8f20a69](https://github.com/sagemath/sagetrac-mirror/commit/8f20a690f961a9f3282e123b978eb9e131507aa4)**

Reviewer: **Ben Hutz**

Author: **Joseph Lupo**

_Issue created by migration from https://trac.sagemath.org/ticket/25886_





---

archive/issue_events_327525.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-07-20T08:28:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327525"
}
```



---

archive/issue_events_327526.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-07-20T08:28:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20dynamics",
    "label_color": "0000ff",
    "label_name": "component: dynamics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327526"
}
```



---

archive/issue_events_327527.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-07-20T08:28:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327527"
}
```



---

archive/issue_events_327528.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-07-20T08:28:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327528"
}
```



---

archive/issue_comments_400693.json:
```json
{
    "body": "Branch: **[u/gh-Loops7/25886_field_of_def](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Loops7/25886_field_of_def)**",
    "created_at": "2018-07-26T06:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400693",
    "user": "https://github.com/Loops7"
}
```

Branch: **[u/gh-Loops7/25886_field_of_def](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Loops7/25886_field_of_def)**



---

archive/issue_comments_400694.json:
```json
{
    "body": "Commit: **[4ea72a1](https://github.com/sagemath/sagetrac-mirror/commit/4ea72a1062531c2904c18a71dc33231f6e0dcc1f)**",
    "created_at": "2018-07-26T06:41:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400694",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[4ea72a1](https://github.com/sagemath/sagetrac-mirror/commit/4ea72a1062531c2904c18a71dc33231f6e0dcc1f)**



---

archive/issue_comments_400695.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-26T06:41:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400695",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_400696.json:
```json
{
    "body": "Changed commit from **[4ea72a1](https://github.com/sagemath/sagetrac-mirror/commit/4ea72a1062531c2904c18a71dc33231f6e0dcc1f)** to **[1c94618](https://github.com/sagemath/sagetrac-mirror/commit/1c94618b191984bbf1509f5da54fd7961cb09319)**",
    "created_at": "2018-07-26T06:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400696",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4ea72a1](https://github.com/sagemath/sagetrac-mirror/commit/4ea72a1062531c2904c18a71dc33231f6e0dcc1f)** to **[1c94618](https://github.com/sagemath/sagetrac-mirror/commit/1c94618b191984bbf1509f5da54fd7961cb09319)**



---

archive/issue_comments_400697.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c94618b191984bbf1509f5da54fd7961cb09319\">1c94618</a></td><td><code>25886: field_of_def initial commit</code></td></tr></table>\n",
    "created_at": "2018-07-26T06:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400697",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c94618b191984bbf1509f5da54fd7961cb09319">1c94618</a></td><td><code>25886: field_of_def initial commit</code></td></tr></table>




---

archive/issue_comments_400698.json:
```json
{
    "body": "Changed commit from **[1c94618](https://github.com/sagemath/sagetrac-mirror/commit/1c94618b191984bbf1509f5da54fd7961cb09319)** to **[8aa509b](https://github.com/sagemath/sagetrac-mirror/commit/8aa509be55ed46643ce7dffcf4bfe7cadac4a166)**",
    "created_at": "2018-07-27T05:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400698",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1c94618](https://github.com/sagemath/sagetrac-mirror/commit/1c94618b191984bbf1509f5da54fd7961cb09319)** to **[8aa509b](https://github.com/sagemath/sagetrac-mirror/commit/8aa509be55ed46643ce7dffcf4bfe7cadac4a166)**



---

archive/issue_comments_400699.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8aa509be55ed46643ce7dffcf4bfe7cadac4a166\">8aa509b</a></td><td><code>25886: added docs</code></td></tr></table>\n",
    "created_at": "2018-07-27T05:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400699",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8aa509be55ed46643ce7dffcf4bfe7cadac4a166">8aa509b</a></td><td><code>25886: added docs</code></td></tr></table>




---

archive/issue_comments_400700.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI know this is not done yet, but here are some comments:\n\n---\nbase field should be more than just QQ\n- base a number field\n- base a finite field (prime field or not prime field)\n- base padic field (QQ_p)\n\nlooks like .splitting_field() is implemented for the first two, but not for p-adics. so perhaps p-adic needs to wait on that.\n\n---\nI think you are returning an 'absolute' number field and not just a number field.\n\n---\n\nIt should be possible to also return the embedding of the base field into the new field\n\n---\nI think you want this to be\n\n```\nspace = ds.domain().ambient_space()\n```\n\n---\n\n```\nwhere a formal periodic point is a point of exact period ``n``,\nor equivalently a root of the ``n``-th dynatomic polynomial. \n```\nThese are not equivalent. Formal is a root of the dynamtomic which is not necessarily exact period n.\n\n---\n\nIt should be\n\n```\nCR(f*point[1] - g*point[0]).univariate_polynomial()\n```",
    "created_at": "2018-07-27T14:24:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400700",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:5'>Comment 5:</a>
I know this is not done yet, but here are some comments:

---
base field should be more than just QQ
- base a number field
- base a finite field (prime field or not prime field)
- base padic field (QQ_p)

looks like .splitting_field() is implemented for the first two, but not for p-adics. so perhaps p-adic needs to wait on that.

---
I think you are returning an 'absolute' number field and not just a number field.

---

It should be possible to also return the embedding of the base field into the new field

---
I think you want this to be

```
space = ds.domain().ambient_space()
```

---

```
where a formal periodic point is a point of exact period ``n``,
or equivalently a root of the ``n``-th dynatomic polynomial. 
```
These are not equivalent. Formal is a root of the dynamtomic which is not necessarily exact period n.

---

It should be

```
CR(f*point[1] - g*point[0]).univariate_polynomial()
```



---

archive/issue_comments_400701.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nOkay, will work to implement these changes. However, specifically on the last point, `point` will always be either a point in `ProjectiveSpace`, in which case point[1] = 1, or a point in `AffineSpace` of dimension 1, meaning point[1] is undefined, so I think it should be okay as is. With that said, I do need to add a check for the point at infinity.",
    "created_at": "2018-07-27T20:39:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400701",
    "user": "https://github.com/Loops7"
}
```

<a id='comment:6'>Comment 6:</a>
Okay, will work to implement these changes. However, specifically on the last point, `point` will always be either a point in `ProjectiveSpace`, in which case point[1] = 1, or a point in `AffineSpace` of dimension 1, meaning point[1] is undefined, so I think it should be okay as is. With that said, I do need to add a check for the point at infinity.



---

archive/issue_comments_400702.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nSure, points are *typically* normalized (over a field) so that the last coordinate is 1. But it is simple to create points where that is not true. So I don't think you should assume the points are normalized.\n\n```\nP.<x,y>=ProjectiveSpace(QQ,1)\nQ=P.point([1,2], False)\nQ\n```",
    "created_at": "2018-07-27T21:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400702",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:7'>Comment 7:</a>
Sure, points are *typically* normalized (over a field) so that the last coordinate is 1. But it is simple to create points where that is not true. So I don't think you should assume the points are normalized.

```
P.<x,y>=ProjectiveSpace(QQ,1)
Q=P.point([1,2], False)
Q
```



---

archive/issue_comments_400703.json:
```json
{
    "body": "Changed commit from **[8aa509b](https://github.com/sagemath/sagetrac-mirror/commit/8aa509be55ed46643ce7dffcf4bfe7cadac4a166)** to **[320f33f](https://github.com/sagemath/sagetrac-mirror/commit/320f33f979737578f0195ad4ec07628bba758f97)**",
    "created_at": "2018-08-02T08:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400703",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8aa509b](https://github.com/sagemath/sagetrac-mirror/commit/8aa509be55ed46643ce7dffcf4bfe7cadac4a166)** to **[320f33f](https://github.com/sagemath/sagetrac-mirror/commit/320f33f979737578f0195ad4ec07628bba758f97)**



---

archive/issue_comments_400704.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/320f33f979737578f0195ad4ec07628bba758f97\">320f33f</a></td><td><code>25886: add support for finite field + docs</code></td></tr></table>\n",
    "created_at": "2018-08-02T08:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400704",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/320f33f979737578f0195ad4ec07628bba758f97">320f33f</a></td><td><code>25886: add support for finite field + docs</code></td></tr></table>




---

archive/issue_events_327529.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-08-02T08:50:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327529"
}
```



---

archive/issue_comments_400705.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-For the nth iterate of a given DynamicalSystem, we provide a method that returns the field extension of Q over which all of the periodic points, critical points, or pre-images of a point are defined. \n+For the nth iterate of a given DynamicalSystem, we provide a method that returns the field extension of the base field over which all of the periodic points, critical points, or pre-images of a point are defined. \n``````\n",
    "created_at": "2018-08-02T08:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400705",
    "user": "https://github.com/Loops7"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-For the nth iterate of a given DynamicalSystem, we provide a method that returns the field extension of Q over which all of the periodic points, critical points, or pre-images of a point are defined. 
+For the nth iterate of a given DynamicalSystem, we provide a method that returns the field extension of the base field over which all of the periodic points, critical points, or pre-images of a point are defined. 
``````




---

archive/issue_comments_400706.json:
```json
{
    "body": "Changed commit from **[320f33f](https://github.com/sagemath/sagetrac-mirror/commit/320f33f979737578f0195ad4ec07628bba758f97)** to **[147334b](https://github.com/sagemath/sagetrac-mirror/commit/147334b0939c712aa62e724d3dcb000e9a61940a)**",
    "created_at": "2018-08-08T06:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400706",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[320f33f](https://github.com/sagemath/sagetrac-mirror/commit/320f33f979737578f0195ad4ec07628bba758f97)** to **[147334b](https://github.com/sagemath/sagetrac-mirror/commit/147334b0939c712aa62e724d3dcb000e9a61940a)**



---

archive/issue_comments_400707.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/147334b0939c712aa62e724d3dcb000e9a61940a\">147334b</a></td><td><code>25886: handle preimage of inf, clean up docs</code></td></tr></table>\n",
    "created_at": "2018-08-08T06:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400707",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/147334b0939c712aa62e724d3dcb000e9a61940a">147334b</a></td><td><code>25886: handle preimage of inf, clean up docs</code></td></tr></table>




---

archive/issue_comments_400708.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nMade the minor changes we talked about, and also caught an error in handling the point at infinity in the preimage code. Also noticed some odd behavior (unrelated to this ticket):\n\n```\nsage: A.<z> = AffineSpace(QQ,1)\nsage: f = DynamicalSystem([z^2], A)\nsage: g = DynamicalSystem([1/z^2], A)\nsage: type(f[0].denominator())\n<type 'sage.rings.integer.Integer'>\nsage: type(g[0].denominator())\n<type 'sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular'>\n```\n\nNamely, we get back an int when 1 is in the denominator, and a poly when 1 is in the numerator. Not sure exactly where that is stemming from as of right now.",
    "created_at": "2018-08-08T07:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400708",
    "user": "https://github.com/Loops7"
}
```

<a id='comment:11'>Comment 11:</a>
Made the minor changes we talked about, and also caught an error in handling the point at infinity in the preimage code. Also noticed some odd behavior (unrelated to this ticket):

```
sage: A.<z> = AffineSpace(QQ,1)
sage: f = DynamicalSystem([z^2], A)
sage: g = DynamicalSystem([1/z^2], A)
sage: type(f[0].denominator())
<type 'sage.rings.integer.Integer'>
sage: type(g[0].denominator())
<type 'sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular'>
```

Namely, we get back an int when 1 is in the denominator, and a poly when 1 is in the numerator. Not sure exactly where that is stemming from as of right now.



---

archive/issue_events_327530.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2018-08-08T14:18:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327530"
}
```



---

archive/issue_events_327531.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2018-08-08T14:18:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327531"
}
```



---

archive/issue_comments_400709.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nOnly came up with one fail test\n\n```\nK.<v>=QuadraticField(2)\nR.<z>=K[]\nL.<w>=K.extension(z^3-5)\nP.<x,y>=ProjectiveSpace(L,1)\nf=DynamicalSystem([x^3 + -w*x^2*y- y^3, x*y^2])\ng=f.dehomogenize(1)\nQ=g.domain()(1)\nK, phi=g.field_of_definition_preimage(1,Q,return_embedding=True);K\n```\n\notherwise just some minor changes\n- should reassign\n\n```\nn = int(n)\n```\n\n- n should be optional for critical points, so default it to 1. In fact, I would not be opposed to removing n entirely from the critical points function. If the user wants the critical points of the nth iterate, they can call nth iterate and then critical points.\n\n- I didn't built the docs yet, so I'll do that after you fix this last failed example.\n\n---\n\nTo answer the random other question. The difference is\n\n```\nsage: f[0].parent()\npolynomial ring\nsage: g[0].parent()\nfraction field of polynomial \n```\n\nwhen an affine map is initialized, it remains polys if the coordinate are all poly, otherwise it coerces to the fraction field.",
    "created_at": "2018-08-08T14:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400709",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:12'>Comment 12:</a>
Only came up with one fail test

```
K.<v>=QuadraticField(2)
R.<z>=K[]
L.<w>=K.extension(z^3-5)
P.<x,y>=ProjectiveSpace(L,1)
f=DynamicalSystem([x^3 + -w*x^2*y- y^3, x*y^2])
g=f.dehomogenize(1)
Q=g.domain()(1)
K, phi=g.field_of_definition_preimage(1,Q,return_embedding=True);K
```

otherwise just some minor changes
- should reassign

```
n = int(n)
```

- n should be optional for critical points, so default it to 1. In fact, I would not be opposed to removing n entirely from the critical points function. If the user wants the critical points of the nth iterate, they can call nth iterate and then critical points.

- I didn't built the docs yet, so I'll do that after you fix this last failed example.

---

To answer the random other question. The difference is

```
sage: f[0].parent()
polynomial ring
sage: g[0].parent()
fraction field of polynomial 
```

when an affine map is initialized, it remains polys if the coordinate are all poly, otherwise it coerces to the fraction field.



---

archive/issue_comments_400710.json:
```json
{
    "body": "Reviewer: **Ben Hutz**",
    "created_at": "2018-08-08T14:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400710",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Ben Hutz**



---

archive/issue_comments_400711.json:
```json
{
    "body": "Changed commit from **[147334b](https://github.com/sagemath/sagetrac-mirror/commit/147334b0939c712aa62e724d3dcb000e9a61940a)** to **[fc1bc3a](https://github.com/sagemath/sagetrac-mirror/commit/fc1bc3a1865d993cbda3d7dd3ec71eebd00f44e4)**",
    "created_at": "2018-08-09T05:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400711",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[147334b](https://github.com/sagemath/sagetrac-mirror/commit/147334b0939c712aa62e724d3dcb000e9a61940a)** to **[fc1bc3a](https://github.com/sagemath/sagetrac-mirror/commit/fc1bc3a1865d993cbda3d7dd3ec71eebd00f44e4)**



---

archive/issue_comments_400712.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc1bc3a1865d993cbda3d7dd3ec71eebd00f44e4\">fc1bc3a</a></td><td><code>25886: fix preimage point and correct coord ring</code></td></tr></table>\n",
    "created_at": "2018-08-09T05:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400712",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc1bc3a1865d993cbda3d7dd3ec71eebd00f44e4">fc1bc3a</a></td><td><code>25886: fix preimage point and correct coord ring</code></td></tr></table>




---

archive/issue_comments_400713.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nAlright, I made the changes you mentioned, including getting rid of `n` altogether in critical, since that makes the most sense to me. The error you encountered was from the added snippet in preimage in the previous commit:\n\n\n```\npoint = (point, 1)\n```\nThis handled the case of a defining a `point[1]` that can be used in the construction of a polynomial given a point on the affine line. However, I corrected it to \n\n\n```\npoint = (point[0], 1)\n```\nwhich ensures that the new point object has the right type of object in the first slot, namely an element of the base field. \n\nGiven our previous conversation, I also corrected the coordinate ring to be \n\n```\nCR = ds.domain().ambient_space().coordinate_ring()\n```\nwhich fixed a couple edge cases I uncovered. \n\nThe only failure I had left was \n\n\n```\nA.<z> = AffineSpace(QQ,1)\nf = DynamicalSystem_affine([1], A)\nf.field_of_definition_preimage(2, A(1))\n```\n\nHowever, this error stems from the `nth_iterate_map()` code, since it takes `1` as an integer instead of an element of `QQ[]`. I am not sure if the correction should be made in the instantiation code of `DynamicalSystem` or just a special case in `nth_iterate_map()`, but either way it is not a part of this ticket.\n\nI also removed the special case of splitting field being called on a constant polynomial and just returning the base field. Instead, I removed this case to make it more uniform in what objects we are returning. So if the field of definition is `QQ`, we will get back a \"`NumberField` with defining polynomial `x`\". One option would be to internally call splitting_field and then check if the defining polynomial of the returned number field is degree 1, so that we could return `QQ` or whatever the given base field was, but not sure if it is worth it. \n\nLet me know if this latest commit passes your tests as well.",
    "created_at": "2018-08-09T05:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400713",
    "user": "https://github.com/Loops7"
}
```

<a id='comment:14'>Comment 14:</a>
Alright, I made the changes you mentioned, including getting rid of `n` altogether in critical, since that makes the most sense to me. The error you encountered was from the added snippet in preimage in the previous commit:


```
point = (point, 1)
```
This handled the case of a defining a `point[1]` that can be used in the construction of a polynomial given a point on the affine line. However, I corrected it to 


```
point = (point[0], 1)
```
which ensures that the new point object has the right type of object in the first slot, namely an element of the base field. 

Given our previous conversation, I also corrected the coordinate ring to be 

```
CR = ds.domain().ambient_space().coordinate_ring()
```
which fixed a couple edge cases I uncovered. 

The only failure I had left was 


```
A.<z> = AffineSpace(QQ,1)
f = DynamicalSystem_affine([1], A)
f.field_of_definition_preimage(2, A(1))
```

However, this error stems from the `nth_iterate_map()` code, since it takes `1` as an integer instead of an element of `QQ[]`. I am not sure if the correction should be made in the instantiation code of `DynamicalSystem` or just a special case in `nth_iterate_map()`, but either way it is not a part of this ticket.

I also removed the special case of splitting field being called on a constant polynomial and just returning the base field. Instead, I removed this case to make it more uniform in what objects we are returning. So if the field of definition is `QQ`, we will get back a "`NumberField` with defining polynomial `x`". One option would be to internally call splitting_field and then check if the defining polynomial of the returned number field is degree 1, so that we could return `QQ` or whatever the given base field was, but not sure if it is worth it. 

Let me know if this latest commit passes your tests as well.



---

archive/issue_events_327532.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-08-09T05:58:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327532"
}
```



---

archive/issue_events_327533.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-08-09T05:58:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327533"
}
```



---

archive/issue_comments_400714.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nAll my tests pass with this version.\n\nyes, your one failure is an issue for a different ticket. I've made note of that example.\n\nIn regards to  \"Numberfield with defining polynomial x\". I personally find that annoying and would put in a check of the field degree and return QQ if it is degree 1.\n\nAlthough this led me to another interesting problem. splitting field only extends. What if the field of definition is smaller than the base_field because the coefficients of the map are actually defined over a subfield of the base field. See the next example. In this case we are not returning the object we claimed we were. We are a returning a field where all the *-points are defined, but not the minimal such field.\n\n```\nK.<v>=QuadraticField(-2)\nR.<z>=PolynomialRing(K)\nh=(z^2-1)\nh.splitting_field('v')\n```\nIt may be sufficient just to note in the documentation that this function only extends on so may not return the minimal such field if it is a subfield of the base. There is a plan for a function the changes the base to the minimal base for the given coefficients, but it hasn't been implemented yet. So users looking for the minimal such field would be able to first call that function and then this one.",
    "created_at": "2018-08-09T13:54:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400714",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:16'>Comment 16:</a>
All my tests pass with this version.

yes, your one failure is an issue for a different ticket. I've made note of that example.

In regards to  "Numberfield with defining polynomial x". I personally find that annoying and would put in a check of the field degree and return QQ if it is degree 1.

Although this led me to another interesting problem. splitting field only extends. What if the field of definition is smaller than the base_field because the coefficients of the map are actually defined over a subfield of the base field. See the next example. In this case we are not returning the object we claimed we were. We are a returning a field where all the *-points are defined, but not the minimal such field.

```
K.<v>=QuadraticField(-2)
R.<z>=PolynomialRing(K)
h=(z^2-1)
h.splitting_field('v')
```
It may be sufficient just to note in the documentation that this function only extends on so may not return the minimal such field if it is a subfield of the base. There is a plan for a function the changes the base to the minimal base for the given coefficients, but it hasn't been implemented yet. So users looking for the minimal such field would be able to first call that function and then this one.



---

archive/issue_comments_400715.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f83572de2ec3af3608f8433ecb9b10bdaac48ba7\">f83572d</a></td><td><code>25886: handle QQ and update doc</code></td></tr></table>\n",
    "created_at": "2018-08-15T01:44:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400715",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f83572de2ec3af3608f8433ecb9b10bdaac48ba7">f83572d</a></td><td><code>25886: handle QQ and update doc</code></td></tr></table>




---

archive/issue_comments_400716.json:
```json
{
    "body": "Changed commit from **[fc1bc3a](https://github.com/sagemath/sagetrac-mirror/commit/fc1bc3a1865d993cbda3d7dd3ec71eebd00f44e4)** to **[f83572d](https://github.com/sagemath/sagetrac-mirror/commit/f83572de2ec3af3608f8433ecb9b10bdaac48ba7)**",
    "created_at": "2018-08-15T01:44:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400716",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fc1bc3a](https://github.com/sagemath/sagetrac-mirror/commit/fc1bc3a1865d993cbda3d7dd3ec71eebd00f44e4)** to **[f83572d](https://github.com/sagemath/sagetrac-mirror/commit/f83572de2ec3af3608f8433ecb9b10bdaac48ba7)**



---

archive/issue_comments_400717.json:
```json
{
    "body": "Changed commit from **[f83572d](https://github.com/sagemath/sagetrac-mirror/commit/f83572de2ec3af3608f8433ecb9b10bdaac48ba7)** to **[151332e](https://github.com/sagemath/sagetrac-mirror/commit/151332edd948bae73b910105a962c24b163c3d3b)**",
    "created_at": "2018-08-15T01:48:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400717",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f83572d](https://github.com/sagemath/sagetrac-mirror/commit/f83572de2ec3af3608f8433ecb9b10bdaac48ba7)** to **[151332e](https://github.com/sagemath/sagetrac-mirror/commit/151332edd948bae73b910105a962c24b163c3d3b)**



---

archive/issue_comments_400718.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/151332edd948bae73b910105a962c24b163c3d3b\">151332e</a></td><td><code>25886: add line at eof</code></td></tr></table>\n",
    "created_at": "2018-08-15T01:48:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400718",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/151332edd948bae73b910105a962c24b163c3d3b">151332e</a></td><td><code>25886: add line at eof</code></td></tr></table>




---

archive/issue_events_327534.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2018-08-15T14:47:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327534"
}
```



---

archive/issue_events_327535.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2018-08-15T14:47:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327535"
}
```



---

archive/issue_comments_400719.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nA number of issues came up in my testing;\n\n---\nwhy is this part of the doctests??\n\n```\nsage: R.<z> = G[]\nsage: R.irreducible_element(3, algorithm = 'first_lexicographic')\nz^3 + (a + 1)*z + a\n```\ndoesn't seem like it is relevant\n\n---\nno spaces in parameter assignment such as for\n\n```\ndomain = A\n```\nThere are many instances of this for all the parameters\n\n---\n\nthe doc says 'which all periodic points of the ``n``-th iterate are defined'. Which is not quite accurate.\n\neither 'all fixed points of the nth iterate' or 'all points with period (dividing) n'.\n\n---\n\nsome notebook failures\n\n- didn't import QQ\n\n```\nP.<x,y> = ProjectiveSpace(QQ, 1)\nf = DynamicalSystem([x^2, y^2], domain = P)\nN.<a> = f.field_of_definition_periodic(1); N\n```\n\n- can't deal with returning the embedding\n\n```\nP.<x,y> = ProjectiveSpace(QQ, 1)\nf = DynamicalSystem([x^2+y^2, y^2], domain = P)\nN.<a> = f.field_of_definition_periodic(2, formal=False, return_embedding=True); N\n```\n\n\n---\ndoctests could be a little more thorough\n\n- utilize all the parameters\n- check that when changing to the field of definition you get all the points (can just count)\n  * `2d-2` for critical\n  * `d^n + 1` for periodic (formal = False)\n  * preimages (`d^n` if not a critical point)\n\n---\nNotice that the rational_preimages function has the parameters in the opposite order\n\n```\nP.<x,y> = ProjectiveSpace(QQ, 1)\nf = DynamicalSystem([x^2+y^2, y^2], domain = P)\nN.<a> = f.field_of_definition_preimage(2,P(0));N\ng = f.change_ring(N)\ng.rational_preimages(P(0),2)\n```\n\nwould be better if they matched",
    "created_at": "2018-08-15T14:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400719",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:19'>Comment 19:</a>
A number of issues came up in my testing;

---
why is this part of the doctests??

```
sage: R.<z> = G[]
sage: R.irreducible_element(3, algorithm = 'first_lexicographic')
z^3 + (a + 1)*z + a
```
doesn't seem like it is relevant

---
no spaces in parameter assignment such as for

```
domain = A
```
There are many instances of this for all the parameters

---

the doc says 'which all periodic points of the ``n``-th iterate are defined'. Which is not quite accurate.

either 'all fixed points of the nth iterate' or 'all points with period (dividing) n'.

---

some notebook failures

- didn't import QQ

```
P.<x,y> = ProjectiveSpace(QQ, 1)
f = DynamicalSystem([x^2, y^2], domain = P)
N.<a> = f.field_of_definition_periodic(1); N
```

- can't deal with returning the embedding

```
P.<x,y> = ProjectiveSpace(QQ, 1)
f = DynamicalSystem([x^2+y^2, y^2], domain = P)
N.<a> = f.field_of_definition_periodic(2, formal=False, return_embedding=True); N
```


---
doctests could be a little more thorough

- utilize all the parameters
- check that when changing to the field of definition you get all the points (can just count)
  * `2d-2` for critical
  * `d^n + 1` for periodic (formal = False)
  * preimages (`d^n` if not a critical point)

---
Notice that the rational_preimages function has the parameters in the opposite order

```
P.<x,y> = ProjectiveSpace(QQ, 1)
f = DynamicalSystem([x^2+y^2, y^2], domain = P)
N.<a> = f.field_of_definition_preimage(2,P(0));N
g = f.change_ring(N)
g.rational_preimages(P(0),2)
```

would be better if they matched



---

archive/issue_comments_400720.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nThe reason I had the bit about the irreducible element in there was because I figured these are technically examples instead of tests, so it would give some indication as to where the defining equation of the dynamical system came from, and that we actually need a field extension. \n\nI now remember why I removed the QQ case in the first place- it was because of the exact embedding inconsistency you pointed out, but I guess we can just return End(QQ)(1). \n\nAs far as the preimage parameter ordering, I initially did that to remain consistent with the other field_of_def methods, where `n` is the first parameter. It can be changed though. \n\n\n```\nsage: P.<x,y> = ProjectiveSpace(QQ, 1)\nsage: f = DynamicalSystem([1/3*x^3 + x*y^2, y^3], domain=P)\nsage: f.critical_points()\n[(1 : 0)]\nsage: N.<a> = f.field_of_definition_critical(); N\nNumber Field in a with defining polynomial x^2 + 1\nsage: g = f.change_ring(N)\nsage: g.critical_points()\n[(-a : 1), (a : 1), (1 : 0)]\n```\n\nDoes (1:0) have multiplicity 2 here, so that we satisfy the 2d-2 requirement? If so, why?",
    "created_at": "2018-08-16T04:50:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400720",
    "user": "https://github.com/Loops7"
}
```

<a id='comment:20'>Comment 20:</a>
The reason I had the bit about the irreducible element in there was because I figured these are technically examples instead of tests, so it would give some indication as to where the defining equation of the dynamical system came from, and that we actually need a field extension. 

I now remember why I removed the QQ case in the first place- it was because of the exact embedding inconsistency you pointed out, but I guess we can just return End(QQ)(1). 

As far as the preimage parameter ordering, I initially did that to remain consistent with the other field_of_def methods, where `n` is the first parameter. It can be changed though. 


```
sage: P.<x,y> = ProjectiveSpace(QQ, 1)
sage: f = DynamicalSystem([1/3*x^3 + x*y^2, y^3], domain=P)
sage: f.critical_points()
[(1 : 0)]
sage: N.<a> = f.field_of_definition_critical(); N
Number Field in a with defining polynomial x^2 + 1
sage: g = f.change_ring(N)
sage: g.critical_points()
[(-a : 1), (a : 1), (1 : 0)]
```

Does (1:0) have multiplicity 2 here, so that we satisfy the 2d-2 requirement? If so, why?



---

archive/issue_comments_400721.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nFor the embedding, I think it's best to use\n\n```\nds.base_ring().embeddings(QQ)[0]\n```\nSince there will be a unique embedding of a degree 1 number field into QQ, this works regardless of what form the base ring is in.\n\n\nYes, infty has multiplicity 2. The binary form defining the critical points will have a factor of `y^2` in it. Alternatively, if you prefer to work with affine points, dehomogenize at coordinate 0, then infty is 0 in that affine patch and you can check that 0 is a double root of the resulting critical point polynomial.",
    "created_at": "2018-08-16T15:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400721",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:21'>Comment 21:</a>
For the embedding, I think it's best to use

```
ds.base_ring().embeddings(QQ)[0]
```
Since there will be a unique embedding of a degree 1 number field into QQ, this works regardless of what form the base ring is in.


Yes, infty has multiplicity 2. The binary form defining the critical points will have a factor of `y^2` in it. Alternatively, if you prefer to work with affine points, dehomogenize at coordinate 0, then infty is 0 in that affine patch and you can check that 0 is a double root of the resulting critical point polynomial.



---

archive/issue_comments_400722.json:
```json
{
    "body": "Changed commit from **[151332e](https://github.com/sagemath/sagetrac-mirror/commit/151332edd948bae73b910105a962c24b163c3d3b)** to **[c8c5f04](https://github.com/sagemath/sagetrac-mirror/commit/c8c5f04dd55512571dd8f8d5eb075016f3253e2d)**",
    "created_at": "2018-08-21T05:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400722",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[151332e](https://github.com/sagemath/sagetrac-mirror/commit/151332edd948bae73b910105a962c24b163c3d3b)** to **[c8c5f04](https://github.com/sagemath/sagetrac-mirror/commit/c8c5f04dd55512571dd8f8d5eb075016f3253e2d)**



---

archive/issue_comments_400723.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8c5f04dd55512571dd8f8d5eb075016f3253e2d\">c8c5f04</a></td><td><code>25886: handle QQ, update docs</code></td></tr></table>\n",
    "created_at": "2018-08-21T05:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400723",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8c5f04dd55512571dd8f8d5eb075016f3253e2d">c8c5f04</a></td><td><code>25886: handle QQ, update docs</code></td></tr></table>




---

archive/issue_events_327536.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-08-28T07:55:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327536"
}
```



---

archive/issue_events_327537.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-08-28T07:55:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327537"
}
```



---

archive/issue_events_327538.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2018-08-28T12:44:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327538"
}
```



---

archive/issue_events_327539.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2018-08-28T12:44:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327539"
}
```



---

archive/issue_comments_400724.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nFunctionality is looking good here. A few minor typographical issues\n\n- in a number of places the INPUT specifies number fields when it works for finite fields as well.\n\n- the comment\n\n```\nNote that the number of critical points is 2d-2, but (1:0) has multiplicity 2 in this case\n```\nshould go before the example not after\n\n```\nEXAMPLES: \n\nNote that the number of critical points is 2d-2, but (1:0) has multiplicity 2 in this case::\n\n    sage:\n```\n\n- dimension not degree in the 2 error messages\n\n```\nnot implemented for affine or projective spaces of degree >1\n```",
    "created_at": "2018-08-28T12:44:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400724",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:24'>Comment 24:</a>
Functionality is looking good here. A few minor typographical issues

- in a number of places the INPUT specifies number fields when it works for finite fields as well.

- the comment

```
Note that the number of critical points is 2d-2, but (1:0) has multiplicity 2 in this case
```
should go before the example not after

```
EXAMPLES: 

Note that the number of critical points is 2d-2, but (1:0) has multiplicity 2 in this case::

    sage:
```

- dimension not degree in the 2 error messages

```
not implemented for affine or projective spaces of degree >1
```



---

archive/issue_comments_400725.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fd6693acff504cec10acf6a66581a81b11b0b8d\">3fd6693</a></td><td><code>25886: fix typographic errors</code></td></tr></table>\n",
    "created_at": "2018-08-30T05:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400725",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fd6693acff504cec10acf6a66581a81b11b0b8d">3fd6693</a></td><td><code>25886: fix typographic errors</code></td></tr></table>




---

archive/issue_comments_400726.json:
```json
{
    "body": "Changed commit from **[c8c5f04](https://github.com/sagemath/sagetrac-mirror/commit/c8c5f04dd55512571dd8f8d5eb075016f3253e2d)** to **[3fd6693](https://github.com/sagemath/sagetrac-mirror/commit/3fd6693acff504cec10acf6a66581a81b11b0b8d)**",
    "created_at": "2018-08-30T05:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400726",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c8c5f04](https://github.com/sagemath/sagetrac-mirror/commit/c8c5f04dd55512571dd8f8d5eb075016f3253e2d)** to **[3fd6693](https://github.com/sagemath/sagetrac-mirror/commit/3fd6693acff504cec10acf6a66581a81b11b0b8d)**



---

archive/issue_events_327540.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-08-30T05:20:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327540"
}
```



---

archive/issue_events_327541.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-08-30T05:20:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327541"
}
```



---

archive/issue_comments_400727.json:
```json
{
    "body": "Changed branch from **[u/gh-Loops7/25886_field_of_def](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Loops7/25886_field_of_def)** to **[u/bhutz/25886_field_of_def](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/25886_field_of_def)**",
    "created_at": "2018-08-30T15:24:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400727",
    "user": "https://github.com/bhutz"
}
```

Changed branch from **[u/gh-Loops7/25886_field_of_def](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Loops7/25886_field_of_def)** to **[u/bhutz/25886_field_of_def](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/25886_field_of_def)**



---

archive/issue_comments_400728.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nLooks good. Just made some minor doc updates. If you're fine with those, we can mark this positive.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f20a690f961a9f3282e123b978eb9e131507aa4\">8f20a69</a></td><td><code>25886: minor doc clean-up</code></td></tr></table>\n",
    "created_at": "2018-08-30T15:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400728",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:28'>Comment 28:</a>
Looks good. Just made some minor doc updates. If you're fine with those, we can mark this positive.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f20a690f961a9f3282e123b978eb9e131507aa4">8f20a69</a></td><td><code>25886: minor doc clean-up</code></td></tr></table>




---

archive/issue_comments_400729.json:
```json
{
    "body": "Changed commit from **[3fd6693](https://github.com/sagemath/sagetrac-mirror/commit/3fd6693acff504cec10acf6a66581a81b11b0b8d)** to **[8f20a69](https://github.com/sagemath/sagetrac-mirror/commit/8f20a690f961a9f3282e123b978eb9e131507aa4)**",
    "created_at": "2018-08-30T15:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400729",
    "user": "https://github.com/bhutz"
}
```

Changed commit from **[3fd6693](https://github.com/sagemath/sagetrac-mirror/commit/3fd6693acff504cec10acf6a66581a81b11b0b8d)** to **[8f20a69](https://github.com/sagemath/sagetrac-mirror/commit/8f20a690f961a9f3282e123b978eb9e131507aa4)**



---

archive/issue_comments_400730.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nLooks good to me.",
    "created_at": "2018-09-03T20:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400730",
    "user": "https://github.com/Loops7"
}
```

<a id='comment:29'>Comment 29:</a>
Looks good to me.



---

archive/issue_events_327542.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-09-03T20:06:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327542"
}
```



---

archive/issue_events_327543.json:
```json
{
    "actor": "https://github.com/Loops7",
    "created_at": "2018-09-03T20:06:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327543"
}
```



---

archive/issue_comments_400731.json:
```json
{
    "body": "Changed branch from **[u/bhutz/25886_field_of_def](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/25886_field_of_def)** to **[8f20a69](https://github.com/sagemath/sagetrac-mirror/commit/8f20a690f961a9f3282e123b978eb9e131507aa4)**",
    "created_at": "2018-09-05T16:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25886#issuecomment-400731",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/bhutz/25886_field_of_def](https://github.com/sagemath/sagetrac-mirror/tree/u/bhutz/25886_field_of_def)** to **[8f20a69](https://github.com/sagemath/sagetrac-mirror/commit/8f20a690f961a9f3282e123b978eb9e131507aa4)**



---

archive/issue_events_327544.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-05T16:43:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327544"
}
```



---

archive/issue_events_327545.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c2f70c8398fcb66847a235395a2740e26805f6e2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-09-05T16:43:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25886",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25886#event-327545"
}
```
