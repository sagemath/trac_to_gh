# Issue 25097: Algebraic polyhedra with Normaliz / e-antic

archive/issues_024860.json:
```json
{
    "assignees": [],
    "body": "Implements polyhedra over embedded algebraic number fields. \n\n- Preliminary setup within sage: install e-antic, upgrade normaliz/pynormaliz (see #27682)\n\n- the input is allowed to come from various fields, which will be coerced to a number field first via #20181:\n\n```\n        sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz')\n```\n\n- See doctests in `src/sage/geometry/polyhedron/backend_normaliz.py` and `src/sage/geometry/polyhedron/library.py` \n\n- For debugging help, we can write out Normaliz input files and PyNormaliz function calls as a side effect by passing `verbose=True`.  \n\nDepends on #25091\nDepends on #27731\nDepends on #27965\n\nCC:  @w-bruns @videlec @jplab @sebasguts @sagetrac-tmonteil @mo271\n\nKeywords: **IMA-PolyGeom**\n\nBranch/Commit: **[`f94bf37`](https://github.com/sagemath/sagetrac-mirror/commit/f94bf376ea7c391fd779587968738af23c486b07)**\n\nReviewer: **Vincent Delecroix, Jean-Philippe Labb\u00e9**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25097_\n\n",
    "closed_at": "2019-07-18T21:02:39Z",
    "created_at": "2018-04-03T23:31:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Algebraic polyhedra with Normaliz / e-antic",
    "type": "issue",
    "updated_at": "2019-07-18T21:02:39Z",
    "url": "https://github.com/sagemath/sage/issues/25097",
    "user": "https://github.com/mkoeppe"
}
```
Implements polyhedra over embedded algebraic number fields. 

- Preliminary setup within sage: install e-antic, upgrade normaliz/pynormaliz (see #27682)

- the input is allowed to come from various fields, which will be coerced to a number field first via #20181:

```
        sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz')
```

- See doctests in `src/sage/geometry/polyhedron/backend_normaliz.py` and `src/sage/geometry/polyhedron/library.py` 

- For debugging help, we can write out Normaliz input files and PyNormaliz function calls as a side effect by passing `verbose=True`.  

Depends on #25091
Depends on #27731
Depends on #27965

CC:  @w-bruns @videlec @jplab @sebasguts @sagetrac-tmonteil @mo271

Keywords: **IMA-PolyGeom**

Branch/Commit: **[`f94bf37`](https://github.com/sagemath/sagetrac-mirror/commit/f94bf376ea7c391fd779587968738af23c486b07)**

Reviewer: **Vincent Delecroix, Jean-Philippe Labb√©**

Author: **Matthias Koeppe**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/25097_





---

archive/issue_events_347182.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-03T23:31:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347182"
}
```



---

archive/issue_events_347183.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-03T23:31:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347183"
}
```



---

archive/issue_events_347184.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-03T23:31:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347184"
}
```



---

archive/issue_events_347185.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-03T23:31:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347185"
}
```



---

archive/issue_comments_382770.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nprerequisite: package [antic](https://github.com/wbhart/antic) (that has no release yet).",
    "created_at": "2018-04-04T08:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382770",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1" align="right">comment:1</div>

prerequisite: package [antic](https://github.com/wbhart/antic) (that has no release yet).



---

archive/issue_comments_382771.json:
```json
{
    "body": "Branch: **[u/mkoeppe/qnormaliz-algebraic](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/qnormaliz-algebraic)**",
    "created_at": "2018-04-04T19:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382771",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/qnormaliz-algebraic](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/qnormaliz-algebraic)**



---

archive/issue_comments_382772.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/qnormaliz-algebraic](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/qnormaliz-algebraic)** to **[public/25097/qnormaliz-algebraic](https://github.com/sagemath/sagetrac-mirror/tree/public/25097/qnormaliz-algebraic)**",
    "created_at": "2018-04-04T19:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382772",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/mkoeppe/qnormaliz-algebraic](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/qnormaliz-algebraic)** to **[public/25097/qnormaliz-algebraic](https://github.com/sagemath/sagetrac-mirror/tree/public/25097/qnormaliz-algebraic)**



---

archive/issue_comments_382773.json:
```json
{
    "body": "Dependencies: **#25090**",
    "created_at": "2018-04-04T19:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382773",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#25090**



---

archive/issue_comments_382774.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532\">117e428</a></td><td><code>Upgrade normaliz to 3.5.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4\">7057ef4</a></td><td><code>Merge branch to get docstring adaptation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6ae686c6c10bce1d90d6290ed39066088ecc8d4\">b6ae686</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25090/pynormaliz2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eaedcc2dfe80f9836f9980318d760d8e32c26e74\">eaedcc2</a></td><td><code>Update PyNormaliz to 1.14</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4dbdc7d768bb10de57972ae8fefaeefaee2f85e7\">4dbdc7d</a></td><td><code>Updated the Cone calls format</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dcef4c8e00837de088af4f5acaf6a0c6a3a6e3b\">1dcef4c</a></td><td><code>_init_from_normaliz_data: New, use it in _init_from_*representation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcd810188e1ad478d62dd50dfe15316c4aa573e8\">fcd8101</a></td><td><code>Updated pynormaliz to 1.15</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19d853932f84bcf795ce15118147305ca5bef435\">19d8539</a></td><td><code>Polyhedron_normaliz: In verbose mode, write out normaliz format files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cfcd14cb903546f65b9f17688661e90ba087b7a\">4cfcd14</a></td><td><code>_normaliz_format: Fix last change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea7a6b83b235f76a0c98930d9d1aa42991ed6d7d\">ea7a6b8</a></td><td><code>Polyhedron_normaliz: Prepare classes for work over field extensions</code></td></tr></table>\n",
    "created_at": "2018-04-04T19:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382774",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532">117e428</a></td><td><code>Upgrade normaliz to 3.5.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4">7057ef4</a></td><td><code>Merge branch to get docstring adaptation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6ae686c6c10bce1d90d6290ed39066088ecc8d4">b6ae686</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25090/pynormaliz2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eaedcc2dfe80f9836f9980318d760d8e32c26e74">eaedcc2</a></td><td><code>Update PyNormaliz to 1.14</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4dbdc7d768bb10de57972ae8fefaeefaee2f85e7">4dbdc7d</a></td><td><code>Updated the Cone calls format</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dcef4c8e00837de088af4f5acaf6a0c6a3a6e3b">1dcef4c</a></td><td><code>_init_from_normaliz_data: New, use it in _init_from_*representation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcd810188e1ad478d62dd50dfe15316c4aa573e8">fcd8101</a></td><td><code>Updated pynormaliz to 1.15</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19d853932f84bcf795ce15118147305ca5bef435">19d8539</a></td><td><code>Polyhedron_normaliz: In verbose mode, write out normaliz format files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cfcd14cb903546f65b9f17688661e90ba087b7a">4cfcd14</a></td><td><code>_normaliz_format: Fix last change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea7a6b83b235f76a0c98930d9d1aa42991ed6d7d">ea7a6b8</a></td><td><code>Polyhedron_normaliz: Prepare classes for work over field extensions</code></td></tr></table>




---

archive/issue_comments_382775.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,25 @@\n+As a first step, we make it possible to write Normaliz output files when setting up a polyhedron.\n \n+```\n+sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')\n+# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 2, sqrt5 + 1, 4], [0, -2, sqrt5 + 1, 4], [2, sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})\n+# Wrote equivalent Normaliz input file to out.in\n+sage: !cat out.in\n+amb_space 3\n+number_field min_poly (a^2 - 5) embedding [2.236067977499789 +/- 8.06e-16]\n+subspace 0\n+vertices 12\n+ 0 2 (a + 1) 4\n+ 0 -2 (a + 1) 4\n+ 2 (a + 1) 0 4\n+ 2 (-a - 1) 0 4\n+ (a + 1) 0 2 4\n+ (a + 1) 0 -2 4\n+ -2 (a + 1) 0 4\n+ -2 (-a - 1) 0 4\n+ (-a - 1) 0 2 4\n+ 0 2 (-a - 1) 4\n+ 0 -2 (-a - 1) 4\n+ (-a - 1) 0 -2 4\n+cone 0\n+```\n``````\n",
    "created_at": "2018-04-04T19:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382775",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,25 @@
+As a first step, we make it possible to write Normaliz output files when setting up a polyhedron.
 
+```
+sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')
+# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 2, sqrt5 + 1, 4], [0, -2, sqrt5 + 1, 4], [2, sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})
+# Wrote equivalent Normaliz input file to out.in
+sage: !cat out.in
+amb_space 3
+number_field min_poly (a^2 - 5) embedding [2.236067977499789 +/- 8.06e-16]
+subspace 0
+vertices 12
+ 0 2 (a + 1) 4
+ 0 -2 (a + 1) 4
+ 2 (a + 1) 0 4
+ 2 (-a - 1) 0 4
+ (a + 1) 0 2 4
+ (a + 1) 0 -2 4
+ -2 (a + 1) 0 4
+ -2 (-a - 1) 0 4
+ (-a - 1) 0 2 4
+ 0 2 (-a - 1) 4
+ 0 -2 (-a - 1) 4
+ (-a - 1) 0 -2 4
+cone 0
+```
``````




---

archive/issue_comments_382776.json:
```json
{
    "body": "Commit: **[`ea7a6b8`](https://github.com/sagemath/sagetrac-mirror/commit/ea7a6b83b235f76a0c98930d9d1aa42991ed6d7d)**",
    "created_at": "2018-04-04T19:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382776",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`ea7a6b8`](https://github.com/sagemath/sagetrac-mirror/commit/ea7a6b83b235f76a0c98930d9d1aa42991ed6d7d)**



---

archive/issue_comments_382777.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -23,3 +23,9 @@\n  (-a - 1) 0 -2 4\n cone 0\n ```\n+\n+Next steps to be able to generate more examples:\n+- Fix up `_init_from_Hrepresentation` so it does not try to cancel.\n+- #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)\n+\n+\n``````\n",
    "created_at": "2018-04-04T19:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382777",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -23,3 +23,9 @@
  (-a - 1) 0 -2 4
 cone 0
 ```
+
+Next steps to be able to generate more examples:
+- Fix up `_init_from_Hrepresentation` so it does not try to cancel.
+- #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)
+
+
``````




---

archive/issue_comments_382778.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nCould someone who has worked on / has opinions on the Polyhedron constructor code help here?\n\nWhat should we do for polyhedra over AA such as the following:\n\n```\nsage: P = polytopes.regular_polygon(3)\nsage: P.base_ring()\nAlgebraic Real Field\n```\nIf `backend=normaliz` is requested, should we cast to the appropriate number field via #20181? Or should it be an error?",
    "created_at": "2018-04-04T20:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382778",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Could someone who has worked on / has opinions on the Polyhedron constructor code help here?

What should we do for polyhedra over AA such as the following:

```
sage: P = polytopes.regular_polygon(3)
sage: P.base_ring()
Algebraic Real Field
```
If `backend=normaliz` is requested, should we cast to the appropriate number field via #20181? Or should it be an error?



---

archive/issue_comments_382779.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-As a first step, we make it possible to write Normaliz output files when setting up a polyhedron.\n+As a first step, we make it possible to write Normaliz output files while setting up a polyhedron over a numberfield. (#25090 added writing Normaliz output files in the rational case.)\n \n ```\n sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')\n``````\n",
    "created_at": "2018-04-04T20:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382779",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-As a first step, we make it possible to write Normaliz output files when setting up a polyhedron.
+As a first step, we make it possible to write Normaliz output files while setting up a polyhedron over a numberfield. (#25090 added writing Normaliz output files in the rational case.)
 
 ```
 sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')
``````




---

archive/issue_comments_382780.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,10 @@\n+**Normaliz side of things:**\n+- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 \n+- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased)\n+- then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`\n+\n+**Sage side of things:**\n+\n As a first step, we make it possible to write Normaliz output files while setting up a polyhedron over a numberfield. (#25090 added writing Normaliz output files in the rational case.)\n \n ```\n``````\n",
    "created_at": "2018-04-04T23:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382780",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,10 @@
+**Normaliz side of things:**
+- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 
+- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased)
+- then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`
+
+**Sage side of things:**
+
 As a first step, we make it possible to write Normaliz output files while setting up a polyhedron over a numberfield. (#25090 added writing Normaliz output files in the rational case.)
 
 ```
``````




---

archive/issue_comments_382781.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,6 +31,8 @@\n cone 0\n ```\n \n+(Most examples in `Qtest/test-nf/` have been generated like this.)\n+\n Next steps to be able to generate more examples:\n - Fix up `_init_from_Hrepresentation` so it does not try to cancel.\n - #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)\n``````\n",
    "created_at": "2018-04-04T23:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382781",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,6 +31,8 @@
 cone 0
 ```
 
+(Most examples in `Qtest/test-nf/` have been generated like this.)
+
 Next steps to be able to generate more examples:
 - Fix up `_init_from_Hrepresentation` so it does not try to cancel.
 - #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)
``````




---

archive/issue_comments_382782.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,4 +37,8 @@\n - Fix up `_init_from_Hrepresentation` so it does not try to cancel.\n - #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)\n \n+Other next steps:\n+- merge with Vincent's master branch of e-antic\n+- (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.\n+- (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.\n \n``````\n",
    "created_at": "2018-04-05T00:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382782",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,4 +37,8 @@
 - Fix up `_init_from_Hrepresentation` so it does not try to cancel.
 - #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)
 
+Other next steps:
+- merge with Vincent's master branch of e-antic
+- (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.
+- (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.
 
``````




---

archive/issue_comments_382783.json:
```json
{
    "body": "Changed dependencies from **#25090** to **#25090, #20181**",
    "created_at": "2018-04-05T23:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382783",
    "user": "https://github.com/jplab"
}
```

Changed dependencies from **#25090** to **#25090, #20181**



---

archive/issue_comments_382784.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> What should we do for polyhedra over AA such as the following:\n> \n> ```\n> sage: P = polytopes.regular_polygon(3)\n> sage: P.base_ring()\n> Algebraic Real Field\n> ```\n> If `backend=normaliz` is requested, should we cast to the appropriate number field via #20181? Or should it be an error?\n> \n\nI would say the cleanest thing to do once #20181 is done will be to use it! This probably will also simplify the constructor for `field`.",
    "created_at": "2018-04-05T23:11:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382784",
    "user": "https://github.com/jplab"
}
```

<div id="comment:14" align="right">comment:14</div>

> What should we do for polyhedra over AA such as the following:
> 
> ```
> sage: P = polytopes.regular_polygon(3)
> sage: P.base_ring()
> Algebraic Real Field
> ```
> If `backend=normaliz` is requested, should we cast to the appropriate number field via #20181? Or should it be an error?
> 

I would say the cleanest thing to do once #20181 is done will be to use it! This probably will also simplify the constructor for `field`.



---

archive/issue_comments_382785.json:
```json
{
    "body": "Changed commit from **[`ea7a6b8`](https://github.com/sagemath/sagetrac-mirror/commit/ea7a6b83b235f76a0c98930d9d1aa42991ed6d7d)** to **[`13d27d4`](https://github.com/sagemath/sagetrac-mirror/commit/13d27d4d037d6009c4f0f503d42a71a76aeacb78)**",
    "created_at": "2018-04-06T21:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382785",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ea7a6b8`](https://github.com/sagemath/sagetrac-mirror/commit/ea7a6b83b235f76a0c98930d9d1aa42991ed6d7d)** to **[`13d27d4`](https://github.com/sagemath/sagetrac-mirror/commit/13d27d4d037d6009c4f0f503d42a71a76aeacb78)**



---

archive/issue_comments_382786.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26dc3e4e6a26f6f613a69d57929ea492c278dad0\">26dc3e4</a></td><td><code>Added option for embedded NumberField</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db778eeeb93978335aa113e09a51ccabfe2350e4\">db778ee</a></td><td><code>Made it possible to deal with complex number fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13d27d4d037d6009c4f0f503d42a71a76aeacb78\">13d27d4</a></td><td><code>Merge remote-tracking branch 'trac/public/algnum_to_numberfield' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr></table>\n",
    "created_at": "2018-04-06T21:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382786",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26dc3e4e6a26f6f613a69d57929ea492c278dad0">26dc3e4</a></td><td><code>Added option for embedded NumberField</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db778eeeb93978335aa113e09a51ccabfe2350e4">db778ee</a></td><td><code>Made it possible to deal with complex number fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13d27d4d037d6009c4f0f503d42a71a76aeacb78">13d27d4</a></td><td><code>Merge remote-tracking branch 'trac/public/algnum_to_numberfield' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr></table>




---

archive/issue_comments_382787.json:
```json
{
    "body": "Changed commit from **[`13d27d4`](https://github.com/sagemath/sagetrac-mirror/commit/13d27d4d037d6009c4f0f503d42a71a76aeacb78)** to **[`5af97b3`](https://github.com/sagemath/sagetrac-mirror/commit/5af97b3d83e504ee9b5d50d9e7e14b737c0cf73f)**",
    "created_at": "2018-04-06T21:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382787",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`13d27d4`](https://github.com/sagemath/sagetrac-mirror/commit/13d27d4d037d6009c4f0f503d42a71a76aeacb78)** to **[`5af97b3`](https://github.com/sagemath/sagetrac-mirror/commit/5af97b3d83e504ee9b5d50d9e7e14b737c0cf73f)**



---

archive/issue_comments_382788.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5af97b3d83e504ee9b5d50d9e7e14b737c0cf73f\">5af97b3</a></td><td><code>Polyhedron_normaliz: Separate constructors for QQ, general fields (no cnaceling)</code></td></tr></table>\n",
    "created_at": "2018-04-06T21:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382788",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5af97b3d83e504ee9b5d50d9e7e14b737c0cf73f">5af97b3</a></td><td><code>Polyhedron_normaliz: Separate constructors for QQ, general fields (no cnaceling)</code></td></tr></table>




---

archive/issue_comments_382789.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -34,7 +34,6 @@\n (Most examples in `Qtest/test-nf/` have been generated like this.)\n \n Next steps to be able to generate more examples:\n-- Fix up `_init_from_Hrepresentation` so it does not try to cancel.\n - #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)\n \n Other next steps:\n``````\n",
    "created_at": "2018-04-07T21:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382789",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -34,7 +34,6 @@
 (Most examples in `Qtest/test-nf/` have been generated like this.)
 
 Next steps to be able to generate more examples:
-- Fix up `_init_from_Hrepresentation` so it does not try to cancel.
 - #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)
 
 Other next steps:
``````




---

archive/issue_comments_382790.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI put some preliminary code in to do the coercion to number fields inside the `Polyhedron_normaliz` implementation, using `number_field_elements_from_algebraics`.",
    "created_at": "2018-04-08T18:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382790",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

I put some preliminary code in to do the coercion to number fields inside the `Polyhedron_normaliz` implementation, using `number_field_elements_from_algebraics`.



---

archive/issue_comments_382791.json:
```json
{
    "body": "Changed commit from **[`5af97b3`](https://github.com/sagemath/sagetrac-mirror/commit/5af97b3d83e504ee9b5d50d9e7e14b737c0cf73f)** to **[`d2aee02`](https://github.com/sagemath/sagetrac-mirror/commit/d2aee02648bb870af22bd24f910f786275bd807b)**",
    "created_at": "2018-04-08T18:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382791",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5af97b3`](https://github.com/sagemath/sagetrac-mirror/commit/5af97b3d83e504ee9b5d50d9e7e14b737c0cf73f)** to **[`d2aee02`](https://github.com/sagemath/sagetrac-mirror/commit/d2aee02648bb870af22bd24f910f786275bd807b)**



---

archive/issue_comments_382792.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f325c0dfb98a7024fcf6162c5c70b844d8db615\">0f325c0</a></td><td><code>Polyhedron: Allow SR input for normaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa22d44b4c3f60901d24b4a424187f8fa7dc4f4d\">aa22d44</a></td><td><code>Polyhedron_normaliz._nmz_result: New, use it instead of directly calling PyNormaliz.NmzResult</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e4f1ac74f6d7231da52cca98db716905fa84876\">7e4f1ac</a></td><td><code>Polyhedron_normaliz: _init_from_Vrepresentation: Coerce to numberfield</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ba9f6ba28f893859810a59adceb5853f4f2f17d\">0ba9f6b</a></td><td><code>Polyhedron_normaliz: Pass number field to QNormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2aee02648bb870af22bd24f910f786275bd807b\">d2aee02</a></td><td><code>_init_from_normaliz_data: Separate implementations for QNormaliz, Normaliz</code></td></tr></table>\n",
    "created_at": "2018-04-08T18:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382792",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f325c0dfb98a7024fcf6162c5c70b844d8db615">0f325c0</a></td><td><code>Polyhedron: Allow SR input for normaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa22d44b4c3f60901d24b4a424187f8fa7dc4f4d">aa22d44</a></td><td><code>Polyhedron_normaliz._nmz_result: New, use it instead of directly calling PyNormaliz.NmzResult</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e4f1ac74f6d7231da52cca98db716905fa84876">7e4f1ac</a></td><td><code>Polyhedron_normaliz: _init_from_Vrepresentation: Coerce to numberfield</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ba9f6ba28f893859810a59adceb5853f4f2f17d">0ba9f6b</a></td><td><code>Polyhedron_normaliz: Pass number field to QNormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2aee02648bb870af22bd24f910f786275bd807b">d2aee02</a></td><td><code>_init_from_normaliz_data: Separate implementations for QNormaliz, Normaliz</code></td></tr></table>




---

archive/issue_comments_382793.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bb8958a89dea4d10a9622876e2fcf3f79f36e87\">2bb8958</a></td><td><code>_number_field_elements_from_algebraics_list_of_lists: New, refactor Polyhedron_normaliz using it</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9045bf8a3aab2d0aa00be17e91227bc1b50262a\">a9045bf</a></td><td><code>Added tests and made them pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09df64681258b8925a58cfe90cbe6985c875d439\">09df646</a></td><td><code>Merge remote-tracking branch 'trac/public/algnum_to_numberfield' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01d7cfc32446240c45371484acd6c12f625ca289\">01d7cfc</a></td><td><code>lists of lists of lists of algebraic numbers, actually</code></td></tr></table>\n",
    "created_at": "2018-04-08T22:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382793",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bb8958a89dea4d10a9622876e2fcf3f79f36e87">2bb8958</a></td><td><code>_number_field_elements_from_algebraics_list_of_lists: New, refactor Polyhedron_normaliz using it</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9045bf8a3aab2d0aa00be17e91227bc1b50262a">a9045bf</a></td><td><code>Added tests and made them pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09df64681258b8925a58cfe90cbe6985c875d439">09df646</a></td><td><code>Merge remote-tracking branch 'trac/public/algnum_to_numberfield' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01d7cfc32446240c45371484acd6c12f625ca289">01d7cfc</a></td><td><code>lists of lists of lists of algebraic numbers, actually</code></td></tr></table>




---

archive/issue_comments_382794.json:
```json
{
    "body": "Changed commit from **[`d2aee02`](https://github.com/sagemath/sagetrac-mirror/commit/d2aee02648bb870af22bd24f910f786275bd807b)** to **[`01d7cfc`](https://github.com/sagemath/sagetrac-mirror/commit/01d7cfc32446240c45371484acd6c12f625ca289)**",
    "created_at": "2018-04-08T22:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382794",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d2aee02`](https://github.com/sagemath/sagetrac-mirror/commit/d2aee02648bb870af22bd24f910f786275bd807b)** to **[`01d7cfc`](https://github.com/sagemath/sagetrac-mirror/commit/01d7cfc32446240c45371484acd6c12f625ca289)**



---

archive/issue_comments_382795.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7ecb03da0437d90e76f77642aef94376a4aa619\">d7ecb03</a></td><td><code>Temporary build scripts for normaliz, pynormaliz, pyqnormaliz</code></td></tr></table>\n",
    "created_at": "2018-04-09T03:10:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382795",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7ecb03da0437d90e76f77642aef94376a4aa619">d7ecb03</a></td><td><code>Temporary build scripts for normaliz, pynormaliz, pyqnormaliz</code></td></tr></table>




---

archive/issue_comments_382796.json:
```json
{
    "body": "Changed commit from **[`01d7cfc`](https://github.com/sagemath/sagetrac-mirror/commit/01d7cfc32446240c45371484acd6c12f625ca289)** to **[`d7ecb03`](https://github.com/sagemath/sagetrac-mirror/commit/d7ecb03da0437d90e76f77642aef94376a4aa619)**",
    "created_at": "2018-04-09T03:10:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382796",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`01d7cfc`](https://github.com/sagemath/sagetrac-mirror/commit/01d7cfc32446240c45371484acd6c12f625ca289)** to **[`d7ecb03`](https://github.com/sagemath/sagetrac-mirror/commit/d7ecb03da0437d90e76f77642aef94376a4aa619)**



---

archive/issue_comments_382797.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,10 @@\n+**Easy setup within sage:**\n+- check out this branch\n+- `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`\n+\n **Normaliz side of things:**\n - clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 \n-- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased)\n+- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)\n - then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`\n \n **Sage side of things:**\n``````\n",
    "created_at": "2018-04-09T03:14:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382797",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,10 @@
+**Easy setup within sage:**
+- check out this branch
+- `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`
+
 **Normaliz side of things:**
 - clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 
-- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased)
+- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)
 - then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`
 
 **Sage side of things:**
``````




---

archive/issue_comments_382798.json:
```json
{
    "body": "Changed keywords from none to **IMA-PolyGeom**",
    "created_at": "2018-04-09T03:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382798",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **IMA-PolyGeom**



---

archive/issue_comments_382799.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,14 +2,8 @@\n - check out this branch\n - `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`\n \n-**Normaliz side of things:**\n-- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 \n-- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)\n-- then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`\n-\n-**Sage side of things:**\n-\n-As a first step, we make it possible to write Normaliz output files while setting up a polyhedron over a numberfield. (#25090 added writing Normaliz output files in the rational case.)\n+**Things that work in sage:**\n+- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)\n \n ```\n sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')\n@@ -34,14 +28,33 @@\n  (-a - 1) 0 -2 4\n cone 0\n ```\n+- Likewise with input from various fields, which will be coerced to a number field first via #20181:\n \n-(Most examples in `Qtest/test-nf/` have been generated like this.)\n+```\n+        sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz', verbose=True)\n+        # ----8<---- Equivalent QNormaliz input file ---8<----\n+        amb_space 1\n+        number_field min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]\n+        subspace 0\n+        vertices 2\n+         (a^3) 1\n+         (a^2) 1\n+        cone 0\n+        # ----8<-------------------8<-------------------8<----\n+        # Calling PyQNormaliz_cpp.NmzCone(**{'subspace': [], 'vertices': [[[0L, 0L, 0L, 1L, 0L, 0L], 1L], [[0L, 0L, 1L, 0L, 0L, 0L], 1L]], 'NumberFieldData': 'min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]', 'cone': []})\n+```\n+  (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.\n \n-Next steps to be able to generate more examples:\n-- #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)\n+**To do:**\n+- Wait for fixes in PyQNormaliz, then read results from PyQNormaliz. \n+ (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.\n \n-Other next steps:\n+\n+**Normaliz side of things:**\n+- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 \n+- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)\n+- then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`\n+\n+**To do on the Normaliz side:**\n - merge with Vincent's master branch of e-antic\n-- (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.\n-- (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.\n \n``````\n",
    "created_at": "2018-04-09T03:29:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382799",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,14 +2,8 @@
 - check out this branch
 - `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`
 
-**Normaliz side of things:**
-- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 
-- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)
-- then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`
-
-**Sage side of things:**
-
-As a first step, we make it possible to write Normaliz output files while setting up a polyhedron over a numberfield. (#25090 added writing Normaliz output files in the rational case.)
+**Things that work in sage:**
+- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)
 
 ```
 sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')
@@ -34,14 +28,33 @@
  (-a - 1) 0 -2 4
 cone 0
 ```
+- Likewise with input from various fields, which will be coerced to a number field first via #20181:
 
-(Most examples in `Qtest/test-nf/` have been generated like this.)
+```
+        sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz', verbose=True)
+        # ----8<---- Equivalent QNormaliz input file ---8<----
+        amb_space 1
+        number_field min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]
+        subspace 0
+        vertices 2
+         (a^3) 1
+         (a^2) 1
+        cone 0
+        # ----8<-------------------8<-------------------8<----
+        # Calling PyQNormaliz_cpp.NmzCone(**{'subspace': [], 'vertices': [[[0L, 0L, 0L, 1L, 0L, 0L], 1L], [[0L, 0L, 1L, 0L, 0L, 0L], 1L]], 'NumberFieldData': 'min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]', 'cone': []})
+```
+  (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.
 
-Next steps to be able to generate more examples:
-- #20181 (`number_field_elements_from_algebraics` should create embedded number field elements) so that we can have more polyhedra over numberfields (instead of `AA`...)
+**To do:**
+- Wait for fixes in PyQNormaliz, then read results from PyQNormaliz. 
+ (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.
 
-Other next steps:
+
+**Normaliz side of things:**
+- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 
+- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)
+- then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`
+
+**To do on the Normaliz side:**
 - merge with Vincent's master branch of e-antic
-- (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.
-- (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.
 
``````




---

archive/issue_comments_382800.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f675ad9cc64089d9bb446f955277955d9174e8c\">8f675ad</a></td><td><code>Add pyqnormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79bda61224ade0f7003b17e6539c2c2f4ce451f8\">79bda61</a></td><td><code>Polyhedron_normaliz: Update for pyqnormaliz</code></td></tr></table>\n",
    "created_at": "2018-04-09T15:50:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382800",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f675ad9cc64089d9bb446f955277955d9174e8c">8f675ad</a></td><td><code>Add pyqnormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79bda61224ade0f7003b17e6539c2c2f4ce451f8">79bda61</a></td><td><code>Polyhedron_normaliz: Update for pyqnormaliz</code></td></tr></table>




---

archive/issue_comments_382801.json:
```json
{
    "body": "Changed commit from **[`d7ecb03`](https://github.com/sagemath/sagetrac-mirror/commit/d7ecb03da0437d90e76f77642aef94376a4aa619)** to **[`79bda61`](https://github.com/sagemath/sagetrac-mirror/commit/79bda61224ade0f7003b17e6539c2c2f4ce451f8)**",
    "created_at": "2018-04-09T15:50:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382801",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d7ecb03`](https://github.com/sagemath/sagetrac-mirror/commit/d7ecb03da0437d90e76f77642aef94376a4aa619)** to **[`79bda61`](https://github.com/sagemath/sagetrac-mirror/commit/79bda61224ade0f7003b17e6539c2c2f4ce451f8)**



---

archive/issue_comments_382802.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nA note: I am trying out the method in the ticket description and I get a `ImportError: No module named PyQNormaliz_cpp` when I try with an example.\n\nWhat should I do?",
    "created_at": "2018-04-09T20:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382802",
    "user": "https://github.com/jplab"
}
```

<div id="comment:26" align="right">comment:26</div>

A note: I am trying out the method in the ticket description and I get a `ImportError: No module named PyQNormaliz_cpp` when I try with an example.

What should I do?



---

archive/issue_comments_382803.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jplab](#comment:26):\n> A note: I am trying out the method in the ticket description and I get a `ImportError: No module named PyQNormaliz_cpp` when I try with an example.\n> \n> What should I do?\n\nComing from the installation of normaliz through sage:\n\n```\n[normaliz] Installing ARB...\n[normaliz] curl: (1) Protocol \"https\" not supported or disabled in libcurl\nMakefile:2080: recipe for target 'normaliz' failed\nmake[1]: *** [normaliz] Error 1\nmake[1]: Leaving directory '/home/jplabbe/sage/build/make'\n```",
    "created_at": "2018-04-09T20:39:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382803",
    "user": "https://github.com/jplab"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jplab](#comment:26):
> A note: I am trying out the method in the ticket description and I get a `ImportError: No module named PyQNormaliz_cpp` when I try with an example.
> 
> What should I do?

Coming from the installation of normaliz through sage:

```
[normaliz] Installing ARB...
[normaliz] curl: (1) Protocol "https" not supported or disabled in libcurl
Makefile:2080: recipe for target 'normaliz' failed
make[1]: *** [normaliz] Error 1
make[1]: Leaving directory '/home/jplabbe/sage/build/make'
```



---

archive/issue_comments_382804.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@jplab](#comment:27):\n> Replying to [@jplab](#comment:26):\n> > A note: I am trying out the method in the ticket description and I get a `ImportError: No module named PyQNormaliz_cpp` when I try with an example.\n> > \n> > What should I do?\n\n> \n> Coming from the installation of normaliz through sage:\n> \n> ```\n> [normaliz] Installing ARB...\n> [normaliz] curl: (1) Protocol \"https\" not supported or disabled in libcurl\n> Makefile:2080: recipe for target 'normaliz' failed\n> make[1]: *** [normaliz] Error 1\n> make[1]: Leaving directory '/home/jplabbe/sage/build/make'\n> ```\n\nTo fix this, I had to force install `curl` inside a sage shell. On a debian-sid distribution, it seems that it was not necessary.",
    "created_at": "2018-04-09T21:51:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382804",
    "user": "https://github.com/jplab"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@jplab](#comment:27):
> Replying to [@jplab](#comment:26):
> > A note: I am trying out the method in the ticket description and I get a `ImportError: No module named PyQNormaliz_cpp` when I try with an example.
> > 
> > What should I do?

> 
> Coming from the installation of normaliz through sage:
> 
> ```
> [normaliz] Installing ARB...
> [normaliz] curl: (1) Protocol "https" not supported or disabled in libcurl
> Makefile:2080: recipe for target 'normaliz' failed
> make[1]: *** [normaliz] Error 1
> make[1]: Leaving directory '/home/jplabbe/sage/build/make'
> ```

To fix this, I had to force install `curl` inside a sage shell. On a debian-sid distribution, it seems that it was not necessary.



---

archive/issue_comments_382805.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,7 @@\n - check out this branch\n - `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`\n \n+(For this you need to have pynormaliz in your upstream directory, see #25097)\n **Things that work in sage:**\n - Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)\n \n``````\n",
    "created_at": "2018-04-09T21:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382805",
    "user": "https://github.com/mo271"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,7 @@
 - check out this branch
 - `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`
 
+(For this you need to have pynormaliz in your upstream directory, see #25097)
 **Things that work in sage:**
 - Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)
 
``````




---

archive/issue_comments_382806.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,8 @@\n - check out this branch\n - `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`\n \n-(For this you need to have pynormaliz in your upstream directory, see #25097)\n+(For this you need to have pynormaliz in your upstream directory, see #25090)\n+\n **Things that work in sage:**\n - Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)\n \n``````\n",
    "created_at": "2018-04-09T21:53:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382806",
    "user": "https://github.com/mo271"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,8 @@
 - check out this branch
 - `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`
 
-(For this you need to have pynormaliz in your upstream directory, see #25097)
+(For this you need to have pynormaliz in your upstream directory, see #25090)
+
 **Things that work in sage:**
 - Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)
 
``````




---

archive/issue_comments_382807.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAfter installing `autotools` and `automake` I get the following error message:\n\n```\n[normaliz] Installing E-ANTIC...\n[normaliz] From https://github.com/mkoeppe/e-antic\n[normaliz]  * branch            winfried   -> FETCH_HEAD\n[normaliz] HEAD is now at 9de1e6f... renf_elem_class.get_den: New\n[normaliz] aclocal: warning: couldn't open directory 'm4': No such file or directory\n[normaliz] configure.ac:9: error: possibly undefined macro: AC_PROG_LIBTOOL\n[normaliz]       If this token and others are legitimate, please use m4_pattern_allow.\n[normaliz]       See the Autoconf documentation.\n[normaliz] autoreconf: /usr/bin/autoconf failed with exit status: 1\nMakefile:2080: recipe for target 'normaliz' failed\nmake[1]: *** [normaliz] Error 1\nmake[1]: Leaving directory '/home/jplabbe/sage/build/make'\n```\n\nThen, after installing `libtool` (sage should complain about that not installed?!) then I get:\n\n```\n[normaliz] make[2]: Leaving directory '/home/jplabbe/sage/local/enfnormaliz/E-ANTIC_source/e-antic'\n[normaliz] configure: error: cannot find install-sh, install.sh, or shtool in \".\" \"./..\" \"./../..\"\nMakefile:2080: recipe for target 'normaliz' failed\nmake[1]: *** [normaliz] Error 1\nmake[1]: Leaving directory '/home/jplabbe/sage/build/make'\n```",
    "created_at": "2018-04-09T22:11:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382807",
    "user": "https://github.com/jplab"
}
```

<div id="comment:31" align="right">comment:31</div>

After installing `autotools` and `automake` I get the following error message:

```
[normaliz] Installing E-ANTIC...
[normaliz] From https://github.com/mkoeppe/e-antic
[normaliz]  * branch            winfried   -> FETCH_HEAD
[normaliz] HEAD is now at 9de1e6f... renf_elem_class.get_den: New
[normaliz] aclocal: warning: couldn't open directory 'm4': No such file or directory
[normaliz] configure.ac:9: error: possibly undefined macro: AC_PROG_LIBTOOL
[normaliz]       If this token and others are legitimate, please use m4_pattern_allow.
[normaliz]       See the Autoconf documentation.
[normaliz] autoreconf: /usr/bin/autoconf failed with exit status: 1
Makefile:2080: recipe for target 'normaliz' failed
make[1]: *** [normaliz] Error 1
make[1]: Leaving directory '/home/jplabbe/sage/build/make'
```

Then, after installing `libtool` (sage should complain about that not installed?!) then I get:

```
[normaliz] make[2]: Leaving directory '/home/jplabbe/sage/local/enfnormaliz/E-ANTIC_source/e-antic'
[normaliz] configure: error: cannot find install-sh, install.sh, or shtool in "." "./.." "./../.."
Makefile:2080: recipe for target 'normaliz' failed
make[1]: *** [normaliz] Error 1
make[1]: Leaving directory '/home/jplabbe/sage/build/make'
```



---

archive/issue_comments_382808.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n... Problem solved by gh-sebasguts: there was an old config file lying around. Deleting it solved the issue.",
    "created_at": "2018-04-09T23:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382808",
    "user": "https://github.com/jplab"
}
```

<div id="comment:32" align="right">comment:32</div>

... Problem solved by gh-sebasguts: there was an old config file lying around. Deleting it solved the issue.



---

archive/issue_comments_382809.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nworks flawlessly for me!",
    "created_at": "2018-04-09T23:20:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382809",
    "user": "https://github.com/mo271"
}
```

<div id="comment:33" align="right">comment:33</div>

works flawlessly for me!



---

archive/issue_comments_382810.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@jplab](#comment:28):\n> Replying to [@jplab](#comment:27):\n> > Replying to [@jplab](#comment:26):\n> > > A note: I am trying out the method in the ticket description and I get a `ImportError: No module named PyQNormaliz_cpp` when I try with an example.\n> > > \n> > > What should I do?\n\n> > \n> > Coming from the installation of normaliz through sage:\n> > \n> > ```\n> > [normaliz] Installing ARB...\n> > [normaliz] curl: (1) Protocol \"https\" not supported or disabled in libcurl\n> > Makefile:2080: recipe for target 'normaliz' failed\n> > make[1]: *** [normaliz] Error 1\n> > make[1]: Leaving directory '/home/jplabbe/sage/build/make'\n> > ```\n\n> \n> To fix this, I had to force install `curl` inside a sage shell. On a debian-sid distribution, it seems that it was not necessary.\n\nSame issue in Ubuntu 16.04LTS, doing `sage -f curl` in a sage shell does not work. Purging curl and reinstalling also didn't work. In order to enable ssl for curl, used the command `sudo apt-get install libssl-dev`. After that I no longer have the error `curl: (1) Protocol \"https\" not supported...`",
    "created_at": "2018-04-10T15:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382810",
    "user": "https://github.com/TimmyChan"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@jplab](#comment:28):
> Replying to [@jplab](#comment:27):
> > Replying to [@jplab](#comment:26):
> > > A note: I am trying out the method in the ticket description and I get a `ImportError: No module named PyQNormaliz_cpp` when I try with an example.
> > > 
> > > What should I do?

> > 
> > Coming from the installation of normaliz through sage:
> > 
> > ```
> > [normaliz] Installing ARB...
> > [normaliz] curl: (1) Protocol "https" not supported or disabled in libcurl
> > Makefile:2080: recipe for target 'normaliz' failed
> > make[1]: *** [normaliz] Error 1
> > make[1]: Leaving directory '/home/jplabbe/sage/build/make'
> > ```

> 
> To fix this, I had to force install `curl` inside a sage shell. On a debian-sid distribution, it seems that it was not necessary.

Same issue in Ubuntu 16.04LTS, doing `sage -f curl` in a sage shell does not work. Purging curl and reinstalling also didn't work. In order to enable ssl for curl, used the command `sudo apt-get install libssl-dev`. After that I no longer have the error `curl: (1) Protocol "https" not supported...`



---

archive/issue_comments_382811.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@jplab](#comment:31):\n> After installing `autotools` and `automake` I get the following error message:\n> \n> ```\n> [normaliz] Installing E-ANTIC...\n> [normaliz] From https://github.com/mkoeppe/e-antic\n> [normaliz]  * branch            winfried   -> FETCH_HEAD\n> [normaliz] HEAD is now at 9de1e6f... renf_elem_class.get_den: New\n> [normaliz] aclocal: warning: couldn't open directory 'm4': No such file or directory\n> [normaliz] configure.ac:9: error: possibly undefined macro: AC_PROG_LIBTOOL\n> [normaliz]       If this token and others are legitimate, please use m4_pattern_allow.\n> [normaliz]       See the Autoconf documentation.\n> [normaliz] autoreconf: /usr/bin/autoconf failed with exit status: 1\n> Makefile:2080: recipe for target 'normaliz' failed\n> make[1]: *** [normaliz] Error 1\n> make[1]: Leaving directory '/home/jplabbe/sage/build/make'\n> ```\n> \n> Then, after installing `libtool` (sage should complain about that not installed?!) then I get:\n> \n> ```\n> [normaliz] make[2]: Leaving directory '/home/jplabbe/sage/local/enfnormaliz/E-ANTIC_source/e-antic'\n> [normaliz] configure: error: cannot find install-sh, install.sh, or shtool in \".\" \"./..\" \"./../..\"\n> Makefile:2080: recipe for target 'normaliz' failed\n> make[1]: *** [normaliz] Error 1\n> make[1]: Leaving directory '/home/jplabbe/sage/build/make'\n> ```\n\n\nInstalled `autotools-dev` and `automake` and `libtool` and installation completed on Ubuntu 16.04LTS.",
    "created_at": "2018-04-10T15:45:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382811",
    "user": "https://github.com/TimmyChan"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@jplab](#comment:31):
> After installing `autotools` and `automake` I get the following error message:
> 
> ```
> [normaliz] Installing E-ANTIC...
> [normaliz] From https://github.com/mkoeppe/e-antic
> [normaliz]  * branch            winfried   -> FETCH_HEAD
> [normaliz] HEAD is now at 9de1e6f... renf_elem_class.get_den: New
> [normaliz] aclocal: warning: couldn't open directory 'm4': No such file or directory
> [normaliz] configure.ac:9: error: possibly undefined macro: AC_PROG_LIBTOOL
> [normaliz]       If this token and others are legitimate, please use m4_pattern_allow.
> [normaliz]       See the Autoconf documentation.
> [normaliz] autoreconf: /usr/bin/autoconf failed with exit status: 1
> Makefile:2080: recipe for target 'normaliz' failed
> make[1]: *** [normaliz] Error 1
> make[1]: Leaving directory '/home/jplabbe/sage/build/make'
> ```
> 
> Then, after installing `libtool` (sage should complain about that not installed?!) then I get:
> 
> ```
> [normaliz] make[2]: Leaving directory '/home/jplabbe/sage/local/enfnormaliz/E-ANTIC_source/e-antic'
> [normaliz] configure: error: cannot find install-sh, install.sh, or shtool in "." "./.." "./../.."
> Makefile:2080: recipe for target 'normaliz' failed
> make[1]: *** [normaliz] Error 1
> make[1]: Leaving directory '/home/jplabbe/sage/build/make'
> ```


Installed `autotools-dev` and `automake` and `libtool` and installation completed on Ubuntu 16.04LTS.



---

archive/issue_comments_382812.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThere is a link error in my installation:\n\n```\nsage: import PyQNormaliz_cpp\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n<ipython-input-10-4c34a88d49d7> in <module>()\n----> 1 import PyQNormaliz_cpp\n\nImportError: /home/jplabbe/sage/local/enfnormaliz/lib/libantic.so.0: undefined symbol: _fmpq_poly_resultant_div\n```\n\nThis can be solved by typing\n\n```\nexport LD_LIBRARY_PATH=your_sage_path/local/enfnormaliz/lib/:$LD_LIBRARY_PATH\n```\n\nbefore starting sage in the terminal...",
    "created_at": "2018-04-10T15:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382812",
    "user": "https://github.com/jplab"
}
```

<div id="comment:36" align="right">comment:36</div>

There is a link error in my installation:

```
sage: import PyQNormaliz_cpp
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-10-4c34a88d49d7> in <module>()
----> 1 import PyQNormaliz_cpp

ImportError: /home/jplabbe/sage/local/enfnormaliz/lib/libantic.so.0: undefined symbol: _fmpq_poly_resultant_div
```

This can be solved by typing

```
export LD_LIBRARY_PATH=your_sage_path/local/enfnormaliz/lib/:$LD_LIBRARY_PATH
```

before starting sage in the terminal...



---

archive/issue_comments_382813.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nWhile this solution works for jipilab, it does not for gh-TimmyChan. Apparently his Ubuntu 16.04 honors the `-rpath` setting from the PyQNormaliz install script.\n\nThe problem is that the `-rpath` will be set by python itself, and it is not possible to insert anything before that path.",
    "created_at": "2018-04-10T17:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382813",
    "user": "https://github.com/sebasguts"
}
```

<div id="comment:37" align="right">comment:37</div>

While this solution works for jipilab, it does not for gh-TimmyChan. Apparently his Ubuntu 16.04 honors the `-rpath` setting from the PyQNormaliz install script.

The problem is that the `-rpath` will be set by python itself, and it is not possible to insert anything before that path.



---

archive/issue_comments_382814.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@sebasguts](#comment:37):\n> While this solution works for jipilab, it does not for gh-TimmyChan. Apparently his Ubuntu 16.04 honors the `-rpath` setting from the PyQNormaliz install script.\n> \n> The problem is that the `-rpath` will be set by python itself, and it is not possible to insert anything before that path.\n\nTemporarily, `import PyQNormaliz_cpp` can work by removing 'libflint.so.13` from `~/sage/local/lib/` to some other directory.",
    "created_at": "2018-04-10T17:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382814",
    "user": "https://github.com/TimmyChan"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@sebasguts](#comment:37):
> While this solution works for jipilab, it does not for gh-TimmyChan. Apparently his Ubuntu 16.04 honors the `-rpath` setting from the PyQNormaliz install script.
> 
> The problem is that the `-rpath` will be set by python itself, and it is not possible to insert anything before that path.

Temporarily, `import PyQNormaliz_cpp` can work by removing 'libflint.so.13` from `~/sage/local/lib/` to some other directory.



---

archive/issue_comments_382815.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,12 +5,8 @@\n (For this you need to have pynormaliz in your upstream directory, see #25090)\n \n **Things that work in sage:**\n-- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)\n-\n-```\n-sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')\n-# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 2, sqrt5 + 1, 4], [0, -2, sqrt5 + 1, 4], [2, sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})\n-# Wrote equivalent Normaliz input file to out.in\n+- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  ( sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})\n+\\# Wrote equivalent Normaliz input file to out.in\n sage: !cat out.in\n amb_space 3\n number_field min_poly (a^2 - 5) embedding [2.236067977499789 +/- 8.06e-16]\n@@ -29,7 +25,7 @@\n  0 -2 (-a - 1) 4\n  (-a - 1) 0 -2 4\n cone 0\n-```\n+}}}\n - Likewise with input from various fields, which will be coerced to a number field first via #20181:\n \n ```\n@@ -53,7 +49,7 @@\n \n \n **Normaliz side of things:**\n-- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 \n+- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 (not necessary anymore; see #25090) \n - run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)\n - then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`\n \n``````\n",
    "created_at": "2018-07-05T09:04:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382815",
    "user": "https://github.com/w-bruns"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,12 +5,8 @@
 (For this you need to have pynormaliz in your upstream directory, see #25090)
 
 **Things that work in sage:**
-- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)
-
-```
-sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')
-# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 2, sqrt5 + 1, 4], [0, -2, sqrt5 + 1, 4], [2, sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})
-# Wrote equivalent Normaliz input file to out.in
+- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  ( sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})
+\# Wrote equivalent Normaliz input file to out.in
 sage: !cat out.in
 amb_space 3
 number_field min_poly (a^2 - 5) embedding [2.236067977499789 +/- 8.06e-16]
@@ -29,7 +25,7 @@
  0 -2 (-a - 1) 4
  (-a - 1) 0 -2 4
 cone 0
-```
+}}}
 - Likewise with input from various fields, which will be coerced to a number field first via #20181:
 
 ```
@@ -53,7 +49,7 @@
 
 
 **Normaliz side of things:**
-- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 
+- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 (not necessary anymore; see #25090) 
 - run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)
 - then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`
 
``````




---

archive/issue_comments_382816.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nSince version 3.6.0 QNormaliz and PyQNormaliz are included in the Normaliz distribution.",
    "created_at": "2018-07-05T09:07:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382816",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:40" align="right">comment:40</div>

Since version 3.6.0 QNormaliz and PyQNormaliz are included in the Normaliz distribution.



---

archive/issue_comments_382817.json:
```json
{
    "body": "Changed commit from **[`79bda61`](https://github.com/sagemath/sagetrac-mirror/commit/79bda61224ade0f7003b17e6539c2c2f4ce451f8)** to **[`de64a4a`](https://github.com/sagemath/sagetrac-mirror/commit/de64a4ad06db3f26bce3b535e7d0022023097b77)**",
    "created_at": "2018-09-18T17:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382817",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79bda61`](https://github.com/sagemath/sagetrac-mirror/commit/79bda61224ade0f7003b17e6539c2c2f4ce451f8)** to **[`de64a4a`](https://github.com/sagemath/sagetrac-mirror/commit/de64a4ad06db3f26bce3b535e7d0022023097b77)**



---

archive/issue_comments_382818.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/855a2c04a01dfab20aa237ebac6dc3ba214e94c2\">855a2c0</a></td><td><code>build/pkgs/normaliz/spkg-install: Only warn if git fetch/pull fails (airplane mode)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5829bc0c70ef60939c3418f15124600d5f89e5b7\">5829bc0</a></td><td><code>src/sage/geometry/polyhedron/backend_normaliz.py: Add #optional - pyqnormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de64a4ad06db3f26bce3b535e7d0022023097b77\">de64a4a</a></td><td><code>build/pkgs/normaliz/dependencies: Depend on gc (dependency of our flint copy)</code></td></tr></table>\n",
    "created_at": "2018-09-18T17:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382818",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/855a2c04a01dfab20aa237ebac6dc3ba214e94c2">855a2c0</a></td><td><code>build/pkgs/normaliz/spkg-install: Only warn if git fetch/pull fails (airplane mode)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5829bc0c70ef60939c3418f15124600d5f89e5b7">5829bc0</a></td><td><code>src/sage/geometry/polyhedron/backend_normaliz.py: Add #optional - pyqnormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de64a4ad06db3f26bce3b535e7d0022023097b77">de64a4a</a></td><td><code>build/pkgs/normaliz/dependencies: Depend on gc (dependency of our flint copy)</code></td></tr></table>




---

archive/issue_events_347186.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-09-18T21:27:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347186"
}
```



---

archive/issue_events_347187.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-09-18T21:27:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347187"
}
```



---

archive/issue_comments_382819.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,17 @@\n **Easy setup within sage:**\n - check out this branch\n-- `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`\n+- Follow instructions regarding upstream/ from #25090\n+- `(cd upstream && wget https://files.pythonhosted.org/packages/c8/b5/4066a92b9599958964d936a4370061e12485413b5007a5fdfcc16834b9e0/PyQNormaliz-1.1.tar.gz)`\n+- `./sage -f normaliz pynormaliz pyqnormaliz`\n \n-(For this you need to have pynormaliz in your upstream directory, see #25090)\n \n **Things that work in sage:**\n-- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  ( sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})\n-\\# Wrote equivalent Normaliz input file to out.in\n+- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)\n+\n+```\n+sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')\n+# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 2, sqrt5 + 1, 4], [0, -2, sqrt5 + 1, 4], [2, sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})\n+# Wrote equivalent Normaliz input file to out.in\n sage: !cat out.in\n amb_space 3\n number_field min_poly (a^2 - 5) embedding [2.236067977499789 +/- 8.06e-16]\n@@ -25,7 +30,7 @@\n  0 -2 (-a - 1) 4\n  (-a - 1) 0 -2 4\n cone 0\n-}}}\n+```\n - Likewise with input from various fields, which will be coerced to a number field first via #20181:\n \n ```\n@@ -44,15 +49,11 @@\n   (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.\n \n **To do:**\n-- Wait for fixes in PyQNormaliz, then read results from PyQNormaliz. \n+- Read results from PyQNormaliz. \n  (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.\n \n \n-**Normaliz side of things:**\n-- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 (not necessary anymore; see #25090) \n-- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)\n-- then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`\n-\n **To do on the Normaliz side:**\n - merge with Vincent's master branch of e-antic\n+- some updates to install scripts \n \n``````\n",
    "created_at": "2018-09-18T21:27:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382819",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,17 @@
 **Easy setup within sage:**
 - check out this branch
-- `./sage -f normaliz && ./sage -f pynormaliz pyqnormaliz`
+- Follow instructions regarding upstream/ from #25090
+- `(cd upstream && wget https://files.pythonhosted.org/packages/c8/b5/4066a92b9599958964d936a4370061e12485413b5007a5fdfcc16834b9e0/PyQNormaliz-1.1.tar.gz)`
+- `./sage -f normaliz pynormaliz pyqnormaliz`
 
-(For this you need to have pynormaliz in your upstream directory, see #25090)
 
 **Things that work in sage:**
-- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  ( sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})
-\# Wrote equivalent Normaliz input file to out.in
+- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)
+
+```
+sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')
+# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 2, sqrt5 + 1, 4], [0, -2, sqrt5 + 1, 4], [2, sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})
+# Wrote equivalent Normaliz input file to out.in
 sage: !cat out.in
 amb_space 3
 number_field min_poly (a^2 - 5) embedding [2.236067977499789 +/- 8.06e-16]
@@ -25,7 +30,7 @@
  0 -2 (-a - 1) 4
  (-a - 1) 0 -2 4
 cone 0
-}}}
+```
 - Likewise with input from various fields, which will be coerced to a number field first via #20181:
 
 ```
@@ -44,15 +49,11 @@
   (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.
 
 **To do:**
-- Wait for fixes in PyQNormaliz, then read results from PyQNormaliz. 
+- Read results from PyQNormaliz. 
  (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.
 
 
-**Normaliz side of things:**
-- clone from https://github.com/mkoeppe/Normaliz/tree/enfnormaliz2018 (not necessary anymore; see #25090) 
-- run script `install_normaliz_with_opt.sh` to install FLINT, ARB, ANTIC (unreleased), E-ANTIC (unreleased) (see scripts for which specific versions are pulled)
-- then can test with `Qsource/Qnormaliz Qtest/test-nf/dodecahedron-v.in && cat Qtest/test-nf/dodecahedron-v.out`
-
 **To do on the Normaliz side:**
 - merge with Vincent's master branch of e-antic
+- some updates to install scripts 
 
``````




---

archive/issue_comments_382820.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/976b93f15caf4b55317dea5e3adeffbf64305a1c\">976b93f</a></td><td><code>Update normaliz to 3.6.3, pynormaliz to 1.19</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e36973a41e8558ec1c98a26e0708b3577061192f\">e36973a</a></td><td><code>build/pkgs/normaliz/spkg-install: Update comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98d5bd3e945fd171a1d6bd2a0a679c6633826eaa\">98d5bd3</a></td><td><code>Merge remote-tracking branch 'trac/develop' into t/25090/public/pynormaliz1.17_normaliz3.6.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa71e2546fa51d89d14a3dc8a7c99236dd258d42\">aa71e25</a></td><td><code>Merge remote-tracking branch 'trac/develop' into t/25090/public/pynormaliz1.17_normaliz3.6.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7907f7ade1f30c6cce5a23dc0786ca434269ef24\">7907f7a</a></td><td><code>Polyhedron_normaliz: Fix: INPUT: items generally do not end with a period</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e20ef2bfa34b6bd883ceff67cc46480c3ac8df7\">1e20ef2</a></td><td><code>Polyhedron_normaliz._make_normaliz_cone: Add doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3d11a3b03bc410a4a59ed5f877e1b0454fdc12c\">f3d11a3</a></td><td><code>Polyhedron_normaliz._init_from_normaliz_data: Add doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36d5473d008d2d39a3740ed77783298ee5564e61\">36d5473</a></td><td><code>src/sage/geometry/polyhedron/backend_normaliz.py: Add # optional - pynormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e852ffa825c9a5286b7551ab4df35306d0cd879f\">e852ffa</a></td><td><code>Merge branch 't/25090/public/pynormaliz1.17_normaliz3.6.1' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/855391c03c327144d78c8a3dd7258e112c182c59\">855391c</a></td><td><code>normaliz, pynormaliz, pyqnormaliz: Update build scripts to use releases</code></td></tr></table>\n",
    "created_at": "2018-09-18T21:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382820",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/976b93f15caf4b55317dea5e3adeffbf64305a1c">976b93f</a></td><td><code>Update normaliz to 3.6.3, pynormaliz to 1.19</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e36973a41e8558ec1c98a26e0708b3577061192f">e36973a</a></td><td><code>build/pkgs/normaliz/spkg-install: Update comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98d5bd3e945fd171a1d6bd2a0a679c6633826eaa">98d5bd3</a></td><td><code>Merge remote-tracking branch 'trac/develop' into t/25090/public/pynormaliz1.17_normaliz3.6.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa71e2546fa51d89d14a3dc8a7c99236dd258d42">aa71e25</a></td><td><code>Merge remote-tracking branch 'trac/develop' into t/25090/public/pynormaliz1.17_normaliz3.6.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7907f7ade1f30c6cce5a23dc0786ca434269ef24">7907f7a</a></td><td><code>Polyhedron_normaliz: Fix: INPUT: items generally do not end with a period</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e20ef2bfa34b6bd883ceff67cc46480c3ac8df7">1e20ef2</a></td><td><code>Polyhedron_normaliz._make_normaliz_cone: Add doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3d11a3b03bc410a4a59ed5f877e1b0454fdc12c">f3d11a3</a></td><td><code>Polyhedron_normaliz._init_from_normaliz_data: Add doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36d5473d008d2d39a3740ed77783298ee5564e61">36d5473</a></td><td><code>src/sage/geometry/polyhedron/backend_normaliz.py: Add # optional - pynormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e852ffa825c9a5286b7551ab4df35306d0cd879f">e852ffa</a></td><td><code>Merge branch 't/25090/public/pynormaliz1.17_normaliz3.6.1' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/855391c03c327144d78c8a3dd7258e112c182c59">855391c</a></td><td><code>normaliz, pynormaliz, pyqnormaliz: Update build scripts to use releases</code></td></tr></table>




---

archive/issue_comments_382821.json:
```json
{
    "body": "Changed commit from **[`de64a4a`](https://github.com/sagemath/sagetrac-mirror/commit/de64a4ad06db3f26bce3b535e7d0022023097b77)** to **[`855391c`](https://github.com/sagemath/sagetrac-mirror/commit/855391c03c327144d78c8a3dd7258e112c182c59)**",
    "created_at": "2018-09-18T21:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382821",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`de64a4a`](https://github.com/sagemath/sagetrac-mirror/commit/de64a4ad06db3f26bce3b535e7d0022023097b77)** to **[`855391c`](https://github.com/sagemath/sagetrac-mirror/commit/855391c03c327144d78c8a3dd7258e112c182c59)**



---

archive/issue_comments_382822.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nUpdated this branch to use the current released versions of Normaliz from #25090 and PyQNormaliz from pypi.",
    "created_at": "2018-09-18T21:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382822",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">comment:44</div>

Updated this branch to use the current released versions of Normaliz from #25090 and PyQNormaliz from pypi.



---

archive/issue_comments_382823.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -48,10 +48,13 @@\n ```\n   (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.\n \n-**To do:**\n+**To do on the Sage Python side:**\n - Read results from PyQNormaliz. \n  (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.\n \n+**To do on the Sage build scripts side:**\n+- Right now this installs an incompatible unreleased version of FLINT directly from git into `${SAGE_LOCAL}/enfnormaliz`. This needs to be normalized (see #25171).\n+- Right now this installs ARB, ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. Depends on this version of FLINT.\n \n **To do on the Normaliz side:**\n - merge with Vincent's master branch of e-antic\n``````\n",
    "created_at": "2018-09-18T21:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382823",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -48,10 +48,13 @@
 ```
   (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.
 
-**To do:**
+**To do on the Sage Python side:**
 - Read results from PyQNormaliz. 
  (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.
 
+**To do on the Sage build scripts side:**
+- Right now this installs an incompatible unreleased version of FLINT directly from git into `${SAGE_LOCAL}/enfnormaliz`. This needs to be normalized (see #25171).
+- Right now this installs ARB, ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. Depends on this version of FLINT.
 
 **To do on the Normaliz side:**
 - merge with Vincent's master branch of e-antic
``````




---

archive/issue_comments_382824.json:
```json
{
    "body": "Changed commit from **[`855391c`](https://github.com/sagemath/sagetrac-mirror/commit/855391c03c327144d78c8a3dd7258e112c182c59)** to **[`e34e10b`](https://github.com/sagemath/sagetrac-mirror/commit/e34e10b8310ed9fa511a8c0f9d592da8d3785d0b)**",
    "created_at": "2018-09-19T03:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382824",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`855391c`](https://github.com/sagemath/sagetrac-mirror/commit/855391c03c327144d78c8a3dd7258e112c182c59)** to **[`e34e10b`](https://github.com/sagemath/sagetrac-mirror/commit/e34e10b8310ed9fa511a8c0f9d592da8d3785d0b)**



---

archive/issue_comments_382825.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e34e10b8310ed9fa511a8c0f9d592da8d3785d0b\">e34e10b</a></td><td><code>Polyhedron_normaliz._nmz_result: Use the PyQNormaliz conversion handlers</code></td></tr></table>\n",
    "created_at": "2018-09-19T03:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382825",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e34e10b8310ed9fa511a8c0f9d592da8d3785d0b">e34e10b</a></td><td><code>Polyhedron_normaliz._nmz_result: Use the PyQNormaliz conversion handlers</code></td></tr></table>




---

archive/issue_comments_382826.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nFar from \"needs review\", but needs testing / debugging.\n(I'm currently getting a segfault when running the testsuite for backend_normaliz.py.)",
    "created_at": "2018-09-19T03:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382826",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

Far from "needs review", but needs testing / debugging.
(I'm currently getting a segfault when running the testsuite for backend_normaliz.py.)



---

archive/issue_comments_382827.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nCould you give more specific information?",
    "created_at": "2018-09-19T07:02:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382827",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:48" align="right">comment:48</div>

Could you give more specific information?



---

archive/issue_comments_382828.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -48,10 +48,6 @@\n ```\n   (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.\n \n-**To do on the Sage Python side:**\n-- Read results from PyQNormaliz. \n- (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.\n-\n **To do on the Sage build scripts side:**\n - Right now this installs an incompatible unreleased version of FLINT directly from git into `${SAGE_LOCAL}/enfnormaliz`. This needs to be normalized (see #25171).\n - Right now this installs ARB, ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. Depends on this version of FLINT.\n``````\n",
    "created_at": "2018-09-19T12:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382828",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -48,10 +48,6 @@
 ```
   (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.
 
-**To do on the Sage Python side:**
-- Read results from PyQNormaliz. 
- (Result of discussion of mkoeppe, gh-sebasguts): `PyQNormaliz`... use strings to transport arbs and lists for everything else. We do not use `sage.libs.arb` etc. so we can keep PyQNormaliz standalone.
-
 **To do on the Sage build scripts side:**
 - Right now this installs an incompatible unreleased version of FLINT directly from git into `${SAGE_LOCAL}/enfnormaliz`. This needs to be normalized (see #25171).
 - Right now this installs ARB, ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. Depends on this version of FLINT.
``````




---

archive/issue_comments_382829.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\n\n```\nsage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz', ver\n....: bose=True)\n# ----8<---- Equivalent QNormaliz input file ---8<----\namb_space 1\nsubspace 0\nvertices 2\n (a^3) 1\n (a^2) 1\nnumber_field min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]\ncone 0\n# ----8<-------------------8<-------------------8<----\n# Calling PyQNormaliz_cpp.NmzCone(**{'subspace': [], 'vertices': [[[[0L, 1L], [0L, 1L], [0L, 1L], [1L, 1L], [0L, 1L], [0L, 1L]], 1L], [[[0L, 1L], [0L, 1L], [1L, 1L], [0L, 1L], [0L, 1L], [0L, 1L]], 1L]], 'number_field': 'min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]', 'cone': []})\n------------------------------------------------------------------------\n(no backtrace available)\n------------------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occurred.\nThis probably occurred because a *compiled* module has a bug\nin it and is not properly wrapped with sig_on(), sig_off().\nPython will now terminate.\n------------------------------------------------------------------------\nSegmentation fault: 11\n```",
    "created_at": "2018-09-19T12:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382829",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">comment:49</div>


```
sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz', ver
....: bose=True)
# ----8<---- Equivalent QNormaliz input file ---8<----
amb_space 1
subspace 0
vertices 2
 (a^3) 1
 (a^2) 1
number_field min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]
cone 0
# ----8<-------------------8<-------------------8<----
# Calling PyQNormaliz_cpp.NmzCone(**{'subspace': [], 'vertices': [[[[0L, 1L], [0L, 1L], [0L, 1L], [1L, 1L], [0L, 1L], [0L, 1L]], 1L], [[[0L, 1L], [0L, 1L], [1L, 1L], [0L, 1L], [0L, 1L], [0L, 1L]], 1L]], 'number_field': 'min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]', 'cone': []})
------------------------------------------------------------------------
(no backtrace available)
------------------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred.
This probably occurred because a *compiled* module has a bug
in it and is not properly wrapped with sig_on(), sig_off().
Python will now terminate.
------------------------------------------------------------------------
Segmentation fault: 11
```



---

archive/issue_comments_382830.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nNormaliz 3.6.3 (and presumably already 3.6.0) computes the polytope without any problems, provided the number_field follows immediately after amb_space. (One could think of relaxing this condition.) Output:\n\n\n```\nReal embedded number field:\nmin_poly (a^6 - 2) embedding [1.1225 +/- 4.57e-5]\n\n2 vertices of polyhedron\n0 extreme rays of recession cone\n2 support hyperplanes of polyhedron (homogenized)\n\nembedding dimension = 2\naffine dimension of the polyhedron = 1 (maximal)\nrank of recession cone = 0\n\ndehomogenization:\n0 1 \n\n***********************************************************************\n\n2 vertices of polyhedron:\n (a^2 ~ 1.2599) 1\n (a^3 ~ 1.4142) 1\n\n0 extreme rays of recession cone:\n\n2 support hyperplanes of polyhedron (homogenized):\n (-1/2*a^3 ~ -0.7071)  1\n   (1/2*a^4 ~ 0.7937) -1\n```",
    "created_at": "2018-09-19T13:35:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382830",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:50" align="right">comment:50</div>

Normaliz 3.6.3 (and presumably already 3.6.0) computes the polytope without any problems, provided the number_field follows immediately after amb_space. (One could think of relaxing this condition.) Output:


```
Real embedded number field:
min_poly (a^6 - 2) embedding [1.1225 +/- 4.57e-5]

2 vertices of polyhedron
0 extreme rays of recession cone
2 support hyperplanes of polyhedron (homogenized)

embedding dimension = 2
affine dimension of the polyhedron = 1 (maximal)
rank of recession cone = 0

dehomogenization:
0 1 

***********************************************************************

2 vertices of polyhedron:
 (a^2 ~ 1.2599) 1
 (a^3 ~ 1.4142) 1

0 extreme rays of recession cone:

2 support hyperplanes of polyhedron (homogenized):
 (-1/2*a^3 ~ -0.7071)  1
   (1/2*a^4 ~ 0.7937) -1
```



---

archive/issue_comments_382831.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@w-bruns](#comment:50):\n> Normaliz 3.6.3 (and presumably already 3.6.0) computes the polytope without any problems,\n\nThanks for testing. Yes, I think the segfault is coming from somewhere in the interfacing.\n\n> provided the number_field follows immediately after amb_space. \n> (One could think of relaxing this condition.) \n\nNo, I don't think that's necessary -- I just need to fix the normaliz file writer in my sage code to know about this.",
    "created_at": "2018-09-19T13:49:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382831",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@w-bruns](#comment:50):
> Normaliz 3.6.3 (and presumably already 3.6.0) computes the polytope without any problems,

Thanks for testing. Yes, I think the segfault is coming from somewhere in the interfacing.

> provided the number_field follows immediately after amb_space. 
> (One could think of relaxing this condition.) 

No, I don't think that's necessary -- I just need to fix the normaliz file writer in my sage code to know about this.



---

archive/issue_comments_382832.json:
```json
{
    "body": "Changed commit from **[`e34e10b`](https://github.com/sagemath/sagetrac-mirror/commit/e34e10b8310ed9fa511a8c0f9d592da8d3785d0b)** to **[`b6a1665`](https://github.com/sagemath/sagetrac-mirror/commit/b6a16657020f71a1ffe0f4011c02a263f1128f87)**",
    "created_at": "2018-09-21T00:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382832",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e34e10b`](https://github.com/sagemath/sagetrac-mirror/commit/e34e10b8310ed9fa511a8c0f9d592da8d3785d0b)** to **[`b6a1665`](https://github.com/sagemath/sagetrac-mirror/commit/b6a16657020f71a1ffe0f4011c02a263f1128f87)**



---

archive/issue_comments_382833.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6a16657020f71a1ffe0f4011c02a263f1128f87\">b6a1665</a></td><td><code>Polyhedron_normaliz._nmz_result: Fix up NumberfieldElementHandler</code></td></tr></table>\n",
    "created_at": "2018-09-21T00:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382833",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6a16657020f71a1ffe0f4011c02a263f1128f87">b6a1665</a></td><td><code>Polyhedron_normaliz._nmz_result: Fix up NumberfieldElementHandler</code></td></tr></table>




---

archive/issue_comments_382834.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\n\n```\nx = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz', verbose=True); P._Hrepresentation\n.... segfault ...\n```\nSome memory corruption involving the gc, it seems",
    "created_at": "2018-09-21T01:23:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382834",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:53" align="right">comment:53</div>


```
x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz', verbose=True); P._Hrepresentation
.... segfault ...
```
Some memory corruption involving the gc, it seems



---

archive/issue_comments_382835.json:
```json
{
    "body": "Changed commit from **[`b6a1665`](https://github.com/sagemath/sagetrac-mirror/commit/b6a16657020f71a1ffe0f4011c02a263f1128f87)** to **[`ec5f5c9`](https://github.com/sagemath/sagetrac-mirror/commit/ec5f5c9249da26235725d166d897514787bf9992)**",
    "created_at": "2018-09-21T20:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382835",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b6a1665`](https://github.com/sagemath/sagetrac-mirror/commit/b6a16657020f71a1ffe0f4011c02a263f1128f87)** to **[`ec5f5c9`](https://github.com/sagemath/sagetrac-mirror/commit/ec5f5c9249da26235725d166d897514787bf9992)**



---

archive/issue_comments_382836.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec5f5c9249da26235725d166d897514787bf9992\">ec5f5c9</a></td><td><code>Polyhedron_normaliz._normaliz_format: Update code that puts 'number_field' right after 'amb_space'</code></td></tr></table>\n",
    "created_at": "2018-09-21T20:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382836",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec5f5c9249da26235725d166d897514787bf9992">ec5f5c9</a></td><td><code>Polyhedron_normaliz._normaliz_format: Update code that puts 'number_field' right after 'amb_space'</code></td></tr></table>




---

archive/issue_comments_382837.json:
```json
{
    "body": "Changed commit from **[`ec5f5c9`](https://github.com/sagemath/sagetrac-mirror/commit/ec5f5c9249da26235725d166d897514787bf9992)** to **[`9669a6f`](https://github.com/sagemath/sagetrac-mirror/commit/9669a6f17b687480bd94584b4cb5d437d4c34767)**",
    "created_at": "2018-09-21T22:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382837",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec5f5c9`](https://github.com/sagemath/sagetrac-mirror/commit/ec5f5c9249da26235725d166d897514787bf9992)** to **[`9669a6f`](https://github.com/sagemath/sagetrac-mirror/commit/9669a6f17b687480bd94584b4cb5d437d4c34767)**



---

archive/issue_comments_382838.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9669a6f17b687480bd94584b4cb5d437d4c34767\">9669a6f</a></td><td><code>Polyhedron_normaliz: If base_ring is already a number field, use it</code></td></tr></table>\n",
    "created_at": "2018-09-21T22:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382838",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9669a6f17b687480bd94584b4cb5d437d4c34767">9669a6f</a></td><td><code>Polyhedron_normaliz: If base_ring is already a number field, use it</code></td></tr></table>




---

archive/issue_comments_382839.json:
```json
{
    "body": "Changed commit from **[`9669a6f`](https://github.com/sagemath/sagetrac-mirror/commit/9669a6f17b687480bd94584b4cb5d437d4c34767)** to **[`3b454e2`](https://github.com/sagemath/sagetrac-mirror/commit/3b454e23e9d0b8259135d3fbe5607985e9ff0fc4)**",
    "created_at": "2018-09-22T01:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382839",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9669a6f`](https://github.com/sagemath/sagetrac-mirror/commit/9669a6f17b687480bd94584b4cb5d437d4c34767)** to **[`3b454e2`](https://github.com/sagemath/sagetrac-mirror/commit/3b454e23e9d0b8259135d3fbe5607985e9ff0fc4)**



---

archive/issue_comments_382840.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b149b507f67f1ebbfc7902cf87295b796a295d4\">2b149b5</a></td><td><code>Polyhedron_normaliz._is_zero etc.: Add, copied from Polyhedron_field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b454e23e9d0b8259135d3fbe5607985e9ff0fc4\">3b454e2</a></td><td><code>polytopes library: Add tests with backend='normaliz'</code></td></tr></table>\n",
    "created_at": "2018-09-22T01:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382840",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b149b507f67f1ebbfc7902cf87295b796a295d4">2b149b5</a></td><td><code>Polyhedron_normaliz._is_zero etc.: Add, copied from Polyhedron_field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b454e23e9d0b8259135d3fbe5607985e9ff0fc4">3b454e2</a></td><td><code>polytopes library: Add tests with backend='normaliz'</code></td></tr></table>




---

archive/issue_comments_382841.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n **Easy setup within sage:**\n - check out this branch\n-- Follow instructions regarding upstream/ from #25090\n+- Follow instructions regarding upstream/ from #25090 and #25171\n - `(cd upstream && wget https://files.pythonhosted.org/packages/c8/b5/4066a92b9599958964d936a4370061e12485413b5007a5fdfcc16834b9e0/PyQNormaliz-1.1.tar.gz)`\n - `./sage -f normaliz pynormaliz pyqnormaliz`\n \n@@ -49,8 +49,7 @@\n   (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.\n \n **To do on the Sage build scripts side:**\n-- Right now this installs an incompatible unreleased version of FLINT directly from git into `${SAGE_LOCAL}/enfnormaliz`. This needs to be normalized (see #25171).\n-- Right now this installs ARB, ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. Depends on this version of FLINT.\n+- Right now this installs ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. \n \n **To do on the Normaliz side:**\n - merge with Vincent's master branch of e-antic\n``````\n",
    "created_at": "2018-09-22T18:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382841",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 **Easy setup within sage:**
 - check out this branch
-- Follow instructions regarding upstream/ from #25090
+- Follow instructions regarding upstream/ from #25090 and #25171
 - `(cd upstream && wget https://files.pythonhosted.org/packages/c8/b5/4066a92b9599958964d936a4370061e12485413b5007a5fdfcc16834b9e0/PyQNormaliz-1.1.tar.gz)`
 - `./sage -f normaliz pynormaliz pyqnormaliz`
 
@@ -49,8 +49,7 @@
   (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.
 
 **To do on the Sage build scripts side:**
-- Right now this installs an incompatible unreleased version of FLINT directly from git into `${SAGE_LOCAL}/enfnormaliz`. This needs to be normalized (see #25171).
-- Right now this installs ARB, ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. Depends on this version of FLINT.
+- Right now this installs ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. 
 
 **To do on the Normaliz side:**
 - merge with Vincent's master branch of e-antic
``````




---

archive/issue_comments_382842.json:
```json
{
    "body": "Changed dependencies from **#25090, #20181** to **#25090, #20181, #25171**",
    "created_at": "2018-09-22T18:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382842",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#25090, #20181** to **#25090, #20181, #25171**



---

archive/issue_comments_382843.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46dfa085614b2dec492d0fe7a57e8c65df0e77ed\">46dfa08</a></td><td><code>Add missing build/pkgs/pyqnormaliz/checksums.ini file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b4decc82f43fab37977bc57050d44dbf9725732\">8b4decc</a></td><td><code>Experimental upgrade of FLINT to 2.5.2+trunk-2018-09-18-e12c83de3e100a113dbc030894d89f67dfe83cd4; remove patches</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e3fe7dec8b9df64be999b4678bfe8fd29bb9224\">2e3fe7d</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41f6f984991da24e147345def648fd04b0736468\">41f6f98</a></td><td><code>build/{normaliz,pyqnormaliz}/spkg-install: Use FLINT from #25171, use sage arb, get rid of enfnormaliz/ install hierarchy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13089b4c96b209bca2dc056d62db6bbdc3925363\">13089b4</a></td><td><code>build/pkgs/flint/checksums.ini: Update for using github release tarball</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb6646e889bb9a706192726000cc7a0ad0c78811\">eb6646e</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr></table>\n",
    "created_at": "2018-09-22T18:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382843",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46dfa085614b2dec492d0fe7a57e8c65df0e77ed">46dfa08</a></td><td><code>Add missing build/pkgs/pyqnormaliz/checksums.ini file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b4decc82f43fab37977bc57050d44dbf9725732">8b4decc</a></td><td><code>Experimental upgrade of FLINT to 2.5.2+trunk-2018-09-18-e12c83de3e100a113dbc030894d89f67dfe83cd4; remove patches</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e3fe7dec8b9df64be999b4678bfe8fd29bb9224">2e3fe7d</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41f6f984991da24e147345def648fd04b0736468">41f6f98</a></td><td><code>build/{normaliz,pyqnormaliz}/spkg-install: Use FLINT from #25171, use sage arb, get rid of enfnormaliz/ install hierarchy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13089b4c96b209bca2dc056d62db6bbdc3925363">13089b4</a></td><td><code>build/pkgs/flint/checksums.ini: Update for using github release tarball</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb6646e889bb9a706192726000cc7a0ad0c78811">eb6646e</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr></table>




---

archive/issue_comments_382844.json:
```json
{
    "body": "Changed commit from **[`3b454e2`](https://github.com/sagemath/sagetrac-mirror/commit/3b454e23e9d0b8259135d3fbe5607985e9ff0fc4)** to **[`eb6646e`](https://github.com/sagemath/sagetrac-mirror/commit/eb6646e889bb9a706192726000cc7a0ad0c78811)**",
    "created_at": "2018-09-22T18:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382844",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3b454e2`](https://github.com/sagemath/sagetrac-mirror/commit/3b454e23e9d0b8259135d3fbe5607985e9ff0fc4)** to **[`eb6646e`](https://github.com/sagemath/sagetrac-mirror/commit/eb6646e889bb9a706192726000cc7a0ad0c78811)**



---

archive/issue_comments_382845.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@sebasguts](#comment:37):\n> While this solution works for jipilab, it does not for gh-TimmyChan. Apparently his Ubuntu 16.04 honors the `-rpath` setting from the PyQNormaliz install script.\n> \n> The problem is that the `-rpath` will be set by python itself, and it is not possible to insert anything before that path.\n\nWith the latest commits, I have removed the separate flint installation and this ticket should be easier to build. Please test",
    "created_at": "2018-09-22T19:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382845",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@sebasguts](#comment:37):
> While this solution works for jipilab, it does not for gh-TimmyChan. Apparently his Ubuntu 16.04 honors the `-rpath` setting from the PyQNormaliz install script.
> 
> The problem is that the `-rpath` will be set by python itself, and it is not possible to insert anything before that path.

With the latest commits, I have removed the separate flint installation and this ticket should be easier to build. Please test



---

archive/issue_comments_382846.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ccf632846234126eed6bf6c83e166f916603aba\">1ccf632</a></td><td><code>polytopes.snub_cube: Add keyword arg verbose</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25e64fc29347f412d5d360adafe9e6201f495666\">25e64fc</a></td><td><code>polytopes.snub_dodecahedron: Add keyword arg verbose, mark pyqnormaliz doctest 'not tested - very long time'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dfd8a510c0f315e47c9a080464e53d2328e043f\">7dfd8a5</a></td><td><code>polytopes.six_hundred_cell: Fix wrong doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95b5bdd0a3ca6a6fc2cbedfed2ef4f2062b7bcf0\">95b5bdd</a></td><td><code>polytopes.snub_cube: Add keywords exact, base_ring. Add pyqnormaliz doctest</code></td></tr></table>\n",
    "created_at": "2018-09-22T20:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382846",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ccf632846234126eed6bf6c83e166f916603aba">1ccf632</a></td><td><code>polytopes.snub_cube: Add keyword arg verbose</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25e64fc29347f412d5d360adafe9e6201f495666">25e64fc</a></td><td><code>polytopes.snub_dodecahedron: Add keyword arg verbose, mark pyqnormaliz doctest 'not tested - very long time'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dfd8a510c0f315e47c9a080464e53d2328e043f">7dfd8a5</a></td><td><code>polytopes.six_hundred_cell: Fix wrong doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95b5bdd0a3ca6a6fc2cbedfed2ef4f2062b7bcf0">95b5bdd</a></td><td><code>polytopes.snub_cube: Add keywords exact, base_ring. Add pyqnormaliz doctest</code></td></tr></table>




---

archive/issue_comments_382847.json:
```json
{
    "body": "Changed commit from **[`eb6646e`](https://github.com/sagemath/sagetrac-mirror/commit/eb6646e889bb9a706192726000cc7a0ad0c78811)** to **[`95b5bdd`](https://github.com/sagemath/sagetrac-mirror/commit/95b5bdd0a3ca6a6fc2cbedfed2ef4f2062b7bcf0)**",
    "created_at": "2018-09-22T20:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382847",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eb6646e`](https://github.com/sagemath/sagetrac-mirror/commit/eb6646e889bb9a706192726000cc7a0ad0c78811)** to **[`95b5bdd`](https://github.com/sagemath/sagetrac-mirror/commit/95b5bdd0a3ca6a6fc2cbedfed2ef4f2062b7bcf0)**



---

archive/issue_comments_382848.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b977dc6bad3539bb776838ecd7fe19d9d9a304a\">1b977dc</a></td><td><code>Polyhedron_normaliz: Fix a doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4eaec75eb378a8333ff72ee57bc42010e20fdce9\">4eaec75</a></td><td><code>Polyhedron_normaliz: Sort keys in verbose output for predictable doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7749ace410d633fe1f1da0b14593e1660c00c7d0\">7749ace</a></td><td><code>Polyhedron_normaliz: Guard against deadly exceptions in *_handler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a692e853b138d0e00c9ae1e38c19ab0752a225f2\">a692e85</a></td><td><code>Polyhedron_QQ_normaliz._init_from_normaliz_data: Add doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3040b2d9d7fc04b398c49f4c91c3416cffb0ddd6\">3040b2d</a></td><td><code>Polyhedron_normaliz: Refactor using format_number_field_data, passing normaliz_field through _init_from_normaliz_data</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d56e0d4ea93fbd5dde1830bd2b6eb3ab24c26c73\">d56e0d4</a></td><td><code>Polyhedron_normaliz: Refactor, passing normaliz_field through _init_from_normaliz_cone.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85166c34477f89a4908b7252abe190716edaf88f\">85166c3</a></td><td><code>Polyhedron_normaliz: New init arg, normaliz_field. Fix _init_from_normaliz_data doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb0f73dfd55594bd20a38366b8bcf0a9a8e34e10\">bb0f73d</a></td><td><code>Polyhedron_normaliz: Extend doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d8d078f7592dd4063d56d6459d64cfe015f8bbc\">3d8d078</a></td><td><code>Polyhedron_normaliz: Switch between Normaliz, QNormaliz based on normaliz_field, rather than class</code></td></tr></table>\n",
    "created_at": "2018-09-23T03:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382848",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b977dc6bad3539bb776838ecd7fe19d9d9a304a">1b977dc</a></td><td><code>Polyhedron_normaliz: Fix a doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4eaec75eb378a8333ff72ee57bc42010e20fdce9">4eaec75</a></td><td><code>Polyhedron_normaliz: Sort keys in verbose output for predictable doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7749ace410d633fe1f1da0b14593e1660c00c7d0">7749ace</a></td><td><code>Polyhedron_normaliz: Guard against deadly exceptions in *_handler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a692e853b138d0e00c9ae1e38c19ab0752a225f2">a692e85</a></td><td><code>Polyhedron_QQ_normaliz._init_from_normaliz_data: Add doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3040b2d9d7fc04b398c49f4c91c3416cffb0ddd6">3040b2d</a></td><td><code>Polyhedron_normaliz: Refactor using format_number_field_data, passing normaliz_field through _init_from_normaliz_data</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d56e0d4ea93fbd5dde1830bd2b6eb3ab24c26c73">d56e0d4</a></td><td><code>Polyhedron_normaliz: Refactor, passing normaliz_field through _init_from_normaliz_cone.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85166c34477f89a4908b7252abe190716edaf88f">85166c3</a></td><td><code>Polyhedron_normaliz: New init arg, normaliz_field. Fix _init_from_normaliz_data doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb0f73dfd55594bd20a38366b8bcf0a9a8e34e10">bb0f73d</a></td><td><code>Polyhedron_normaliz: Extend doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d8d078f7592dd4063d56d6459d64cfe015f8bbc">3d8d078</a></td><td><code>Polyhedron_normaliz: Switch between Normaliz, QNormaliz based on normaliz_field, rather than class</code></td></tr></table>




---

archive/issue_comments_382849.json:
```json
{
    "body": "Changed commit from **[`95b5bdd`](https://github.com/sagemath/sagetrac-mirror/commit/95b5bdd0a3ca6a6fc2cbedfed2ef4f2062b7bcf0)** to **[`3d8d078`](https://github.com/sagemath/sagetrac-mirror/commit/3d8d078f7592dd4063d56d6459d64cfe015f8bbc)**",
    "created_at": "2018-09-23T03:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382849",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`95b5bdd`](https://github.com/sagemath/sagetrac-mirror/commit/95b5bdd0a3ca6a6fc2cbedfed2ef4f2062b7bcf0)** to **[`3d8d078`](https://github.com/sagemath/sagetrac-mirror/commit/3d8d078f7592dd4063d56d6459d64cfe015f8bbc)**



---

archive/issue_comments_382850.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n **Easy setup within sage:**\n - check out this branch\n - Follow instructions regarding upstream/ from #25090 and #25171\n-- `(cd upstream && wget https://files.pythonhosted.org/packages/c8/b5/4066a92b9599958964d936a4370061e12485413b5007a5fdfcc16834b9e0/PyQNormaliz-1.1.tar.gz)`\n+- `(cd upstream && wget https://files.pythonhosted.org/packages/8e/ea/5c51e6d2a02464460c044c9701860e83bb9bede946c4c6b4bfff2414059e/PyQNormaliz-1.2.tar.gz)`\n - `./sage -f normaliz pynormaliz pyqnormaliz`\n \n \n``````\n",
    "created_at": "2018-09-23T13:24:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382850",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 **Easy setup within sage:**
 - check out this branch
 - Follow instructions regarding upstream/ from #25090 and #25171
-- `(cd upstream && wget https://files.pythonhosted.org/packages/c8/b5/4066a92b9599958964d936a4370061e12485413b5007a5fdfcc16834b9e0/PyQNormaliz-1.1.tar.gz)`
+- `(cd upstream && wget https://files.pythonhosted.org/packages/8e/ea/5c51e6d2a02464460c044c9701860e83bb9bede946c4c6b4bfff2414059e/PyQNormaliz-1.2.tar.gz)`
 - `./sage -f normaliz pynormaliz pyqnormaliz`
 
 
``````




---

archive/issue_comments_382851.json:
```json
{
    "body": "Changed commit from **[`3d8d078`](https://github.com/sagemath/sagetrac-mirror/commit/3d8d078f7592dd4063d56d6459d64cfe015f8bbc)** to **[`ad26e47`](https://github.com/sagemath/sagetrac-mirror/commit/ad26e475628de592be3d6f878c187c9e34b5dc8a)**",
    "created_at": "2018-09-23T13:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382851",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3d8d078`](https://github.com/sagemath/sagetrac-mirror/commit/3d8d078f7592dd4063d56d6459d64cfe015f8bbc)** to **[`ad26e47`](https://github.com/sagemath/sagetrac-mirror/commit/ad26e475628de592be3d6f878c187c9e34b5dc8a)**



---

archive/issue_comments_382852.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad26e475628de592be3d6f878c187c9e34b5dc8a\">ad26e47</a></td><td><code>PyQNormaliz: Update to 1.2</code></td></tr></table>\n",
    "created_at": "2018-09-23T13:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382852",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad26e475628de592be3d6f878c187c9e34b5dc8a">ad26e47</a></td><td><code>PyQNormaliz: Update to 1.2</code></td></tr></table>




---

archive/issue_comments_382853.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,47 +6,14 @@\n \n \n **Things that work in sage:**\n-- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)\n-\n-```\n-sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')\n-# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 2, sqrt5 + 1, 4], [0, -2, sqrt5 + 1, 4], [2, sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})\n-# Wrote equivalent Normaliz input file to out.in\n-sage: !cat out.in\n-amb_space 3\n-number_field min_poly (a^2 - 5) embedding [2.236067977499789 +/- 8.06e-16]\n-subspace 0\n-vertices 12\n- 0 2 (a + 1) 4\n- 0 -2 (a + 1) 4\n- 2 (a + 1) 0 4\n- 2 (-a - 1) 0 4\n- (a + 1) 0 2 4\n- (a + 1) 0 -2 4\n- -2 (a + 1) 0 4\n- -2 (-a - 1) 0 4\n- (-a - 1) 0 2 4\n- 0 2 (-a - 1) 4\n- 0 -2 (-a - 1) 4\n- (-a - 1) 0 -2 4\n-cone 0\n-```\n+- Setting up a polyhedron over a number field.\n - Likewise with input from various fields, which will be coerced to a number field first via #20181:\n \n ```\n-        sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz', verbose=True)\n-        # ----8<---- Equivalent QNormaliz input file ---8<----\n-        amb_space 1\n-        number_field min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]\n-        subspace 0\n-        vertices 2\n-         (a^3) 1\n-         (a^2) 1\n-        cone 0\n-        # ----8<-------------------8<-------------------8<----\n-        # Calling PyQNormaliz_cpp.NmzCone(**{'subspace': [], 'vertices': [[[0L, 0L, 0L, 1L, 0L, 0L], 1L], [[0L, 0L, 1L, 0L, 0L, 0L], 1L]], 'NumberFieldData': 'min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]', 'cone': []})\n+        sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz')\n ```\n-  (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.\n+- See doctests in `src/sage/geometry/polyhedron/backend_normaliz.py` and `src/sage/geometry/polyhedron/library.py` \n+- Writing a QNormaliz input file as a side effect by passing `verbose=True`.  (#25090 added writing Normaliz output files in the rational case.)\n \n **To do on the Sage build scripts side:**\n - Right now this installs ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. \n``````\n",
    "created_at": "2018-09-23T13:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382853",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,47 +6,14 @@
 
 
 **Things that work in sage:**
-- Setting up a polyhedron over a number field, writing a QNormaliz input file as a side effect.  (#25090 added writing Normaliz output files in the rational case.)
-
-```
-sage: P = Polyhedron(vertices=polytopes.icosahedron().vertices(), backend='normaliz', verbose='out.in')
-# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 2, sqrt5 + 1, 4], [0, -2, sqrt5 + 1, 4], [2, sqrt5 + 1, 0, 4], [2, -sqrt5 - 1, 0, 4], [sqrt5 + 1, 0, 2, 4], [sqrt5 + 1, 0, -2, 4], [-2, sqrt5 + 1, 0, 4], [-2, -sqrt5 - 1, 0, 4], [-sqrt5 - 1, 0, 2, 4], [0, 2, -sqrt5 - 1, 4], [0, -2, -sqrt5 - 1, 4], [-sqrt5 - 1, 0, -2, 4]], 'cone': []})
-# Wrote equivalent Normaliz input file to out.in
-sage: !cat out.in
-amb_space 3
-number_field min_poly (a^2 - 5) embedding [2.236067977499789 +/- 8.06e-16]
-subspace 0
-vertices 12
- 0 2 (a + 1) 4
- 0 -2 (a + 1) 4
- 2 (a + 1) 0 4
- 2 (-a - 1) 0 4
- (a + 1) 0 2 4
- (a + 1) 0 -2 4
- -2 (a + 1) 0 4
- -2 (-a - 1) 0 4
- (-a - 1) 0 2 4
- 0 2 (-a - 1) 4
- 0 -2 (-a - 1) 4
- (-a - 1) 0 -2 4
-cone 0
-```
+- Setting up a polyhedron over a number field.
 - Likewise with input from various fields, which will be coerced to a number field first via #20181:
 
 ```
-        sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz', verbose=True)
-        # ----8<---- Equivalent QNormaliz input file ---8<----
-        amb_space 1
-        number_field min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]
-        subspace 0
-        vertices 2
-         (a^3) 1
-         (a^2) 1
-        cone 0
-        # ----8<-------------------8<-------------------8<----
-        # Calling PyQNormaliz_cpp.NmzCone(**{'subspace': [], 'vertices': [[[0L, 0L, 0L, 1L, 0L, 0L], 1L], [[0L, 0L, 1L, 0L, 0L, 0L], 1L]], 'NumberFieldData': 'min_poly (a^6 - 2) embedding [1.122462048309373 +/- 5.38e-16]', 'cone': []})
+        sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz')
 ```
-  (Result of discussion of mkoeppe, jipilab:) `Polyhedron_normaliz` should accept `AA`, `CyclotomicField`, etc. input and use these as a `base_ring`. When preparing data for `PyQNormaliz`, use `number_field_elements_from_algebraics`. When reading data from `PyQNormaliz`, first build number field elements, then inject into the correct `base_ring`.
+- See doctests in `src/sage/geometry/polyhedron/backend_normaliz.py` and `src/sage/geometry/polyhedron/library.py` 
+- Writing a QNormaliz input file as a side effect by passing `verbose=True`.  (#25090 added writing Normaliz output files in the rational case.)
 
 **To do on the Sage build scripts side:**
 - Right now this installs ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. 
``````




---

archive/issue_comments_382854.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2018-09-23T13:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382854",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_347188.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-09-23T13:34:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347188"
}
```



---

archive/issue_comments_382855.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nPyQNormaliz 1.3 is out - https://files.pythonhosted.org/packages/f9/3a/4ffbb22390023f7f8331309c51a73063ccee465df307e898456fbcf05356/PyQNormaliz-1.3.tar.gz",
    "created_at": "2018-09-27T23:56:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382855",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">comment:65</div>

PyQNormaliz 1.3 is out - https://files.pythonhosted.org/packages/f9/3a/4ffbb22390023f7f8331309c51a73063ccee465df307e898456fbcf05356/PyQNormaliz-1.3.tar.gz



---

archive/issue_comments_382856.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/725ea5baae0cc2922baa0480e4c8cd7d88c9239d\">725ea5b</a></td><td><code>Merge branch 'trac/develop' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr></table>\n",
    "created_at": "2018-10-08T23:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382856",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/725ea5baae0cc2922baa0480e4c8cd7d88c9239d">725ea5b</a></td><td><code>Merge branch 'trac/develop' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr></table>




---

archive/issue_comments_382857.json:
```json
{
    "body": "Changed commit from **[`ad26e47`](https://github.com/sagemath/sagetrac-mirror/commit/ad26e475628de592be3d6f878c187c9e34b5dc8a)** to **[`725ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/725ea5baae0cc2922baa0480e4c8cd7d88c9239d)**",
    "created_at": "2018-10-08T23:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382857",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ad26e47`](https://github.com/sagemath/sagetrac-mirror/commit/ad26e475628de592be3d6f878c187c9e34b5dc8a)** to **[`725ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/725ea5baae0cc2922baa0480e4c8cd7d88c9239d)**



---

archive/issue_comments_382858.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3881007bab60a268157d7352e8ba984b0d3a3535\">3881007</a></td><td><code>PyQNormaliz: Update to 1.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd3c990559c1531ecf14d98ba7b009d26504a05e\">bd3c990</a></td><td><code>sage.geometry.polyhedron.constructor: Update error message in doctest</code></td></tr></table>\n",
    "created_at": "2018-10-09T01:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382858",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3881007bab60a268157d7352e8ba984b0d3a3535">3881007</a></td><td><code>PyQNormaliz: Update to 1.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd3c990559c1531ecf14d98ba7b009d26504a05e">bd3c990</a></td><td><code>sage.geometry.polyhedron.constructor: Update error message in doctest</code></td></tr></table>




---

archive/issue_comments_382859.json:
```json
{
    "body": "Changed commit from **[`725ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/725ea5baae0cc2922baa0480e4c8cd7d88c9239d)** to **[`bd3c990`](https://github.com/sagemath/sagetrac-mirror/commit/bd3c990559c1531ecf14d98ba7b009d26504a05e)**",
    "created_at": "2018-10-09T01:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382859",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`725ea5b`](https://github.com/sagemath/sagetrac-mirror/commit/725ea5baae0cc2922baa0480e4c8cd7d88c9239d)** to **[`bd3c990`](https://github.com/sagemath/sagetrac-mirror/commit/bd3c990559c1531ecf14d98ba7b009d26504a05e)**



---

archive/issue_comments_382860.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI think we should decouple: upgrading Normaliz and interfacing Normaliz.",
    "created_at": "2019-04-16T19:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382860",
    "user": "https://github.com/videlec"
}
```

<div id="comment:68" align="right">comment:68</div>

I think we should decouple: upgrading Normaliz and interfacing Normaliz.



---

archive/issue_comments_382861.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nI opened #27682",
    "created_at": "2019-04-16T19:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382861",
    "user": "https://github.com/videlec"
}
```

<div id="comment:69" align="right">comment:69</div>

I opened #27682



---

archive/issue_comments_382862.json:
```json
{
    "body": "Changed dependencies from **#25090, #20181, #25171** to **#25090, #20181, #25171, #27682**",
    "created_at": "2019-04-16T19:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382862",
    "user": "https://github.com/videlec"
}
```

Changed dependencies from **#25090, #20181, #25171** to **#25090, #20181, #25171, #27682**



---

archive/issue_comments_382863.json:
```json
{
    "body": "Changed dependencies from **#25090, #20181, #25171, #27682** to **#20181, #27682**",
    "created_at": "2019-04-16T20:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382863",
    "user": "https://github.com/videlec"
}
```

Changed dependencies from **#25090, #20181, #25171, #27682** to **#20181, #27682**



---

archive/issue_comments_382864.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,24 +1,11 @@\n-**Easy setup within sage:**\n-- check out this branch\n-- Follow instructions regarding upstream/ from #25090 and #25171\n-- `(cd upstream && wget https://files.pythonhosted.org/packages/8e/ea/5c51e6d2a02464460c044c9701860e83bb9bede946c4c6b4bfff2414059e/PyQNormaliz-1.2.tar.gz)`\n-- `./sage -f normaliz pynormaliz pyqnormaliz`\n+- Preliminary setup within sage: install e-antic, upgrade normaliz/pynormaliz (see #27682)\n \n-\n-**Things that work in sage:**\n-- Setting up a polyhedron over a number field.\n-- Likewise with input from various fields, which will be coerced to a number field first via #20181:\n+- Things that did work in sage (at commit bd3c990):\n+  - Setting up a polyhedron over a number field.\n+  - Likewise with input from various fields, which will be coerced to a number field first via #20181:\n \n ```\n         sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz')\n ```\n - See doctests in `src/sage/geometry/polyhedron/backend_normaliz.py` and `src/sage/geometry/polyhedron/library.py` \n - Writing a QNormaliz input file as a side effect by passing `verbose=True`.  (#25090 added writing Normaliz output files in the rational case.)\n-\n-**To do on the Sage build scripts side:**\n-- Right now this installs ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. \n-\n-**To do on the Normaliz side:**\n-- merge with Vincent's master branch of e-antic\n-- some updates to install scripts \n-\n``````\n",
    "created_at": "2019-04-16T20:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382864",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,24 +1,11 @@
-**Easy setup within sage:**
-- check out this branch
-- Follow instructions regarding upstream/ from #25090 and #25171
-- `(cd upstream && wget https://files.pythonhosted.org/packages/8e/ea/5c51e6d2a02464460c044c9701860e83bb9bede946c4c6b4bfff2414059e/PyQNormaliz-1.2.tar.gz)`
-- `./sage -f normaliz pynormaliz pyqnormaliz`
+- Preliminary setup within sage: install e-antic, upgrade normaliz/pynormaliz (see #27682)
 
-
-**Things that work in sage:**
-- Setting up a polyhedron over a number field.
-- Likewise with input from various fields, which will be coerced to a number field first via #20181:
+- Things that did work in sage (at commit bd3c990):
+  - Setting up a polyhedron over a number field.
+  - Likewise with input from various fields, which will be coerced to a number field first via #20181:
 
 ```
         sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz')
 ```
 - See doctests in `src/sage/geometry/polyhedron/backend_normaliz.py` and `src/sage/geometry/polyhedron/library.py` 
 - Writing a QNormaliz input file as a side effect by passing `verbose=True`.  (#25090 added writing Normaliz output files in the rational case.)
-
-**To do on the Sage build scripts side:**
-- Right now this installs ANTIC, e-antic using the ad-hoc scripts from Normaliz, directly from git. 
-
-**To do on the Normaliz side:**
-- merge with Vincent's master branch of e-antic
-- some updates to install scripts 
-
``````




---

archive/issue_events_347189.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-16T20:18:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347189"
}
```



---

archive/issue_events_347190.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-16T20:18:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347190"
}
```



---

archive/issue_comments_382865.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@videlec](#comment:68):\n> I think we should decouple: upgrading Normaliz and interfacing Normaliz.\n\n+1",
    "created_at": "2019-04-17T07:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382865",
    "user": "https://github.com/jplab"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@videlec](#comment:68):
> I think we should decouple: upgrading Normaliz and interfacing Normaliz.

+1



---

archive/issue_comments_382866.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nI think it would be good to split this ticket into two tickets:\n1. Make `backend='normaliz'` accepts input being in a common embedded real number field. That is the following should work\n\n```\nsage: K.<a> = QuadraticField(2, embedding=AA(2)**(1/2))\nsage: Polyhedron([[0,0],[1,a],[0,2*a],[-1,-a]], base_ring=K, backend='normaliz')\n```\n  And we should also make it so that `backend='normaliz'` is actually automatically chosen if available\n\n```\nsage: Polyhedron([[0,0],[1,a],[0,2*a],[-1,-a]], base_ring=K)   # should use normaliz\n```\n  This would be enough to generate any of the regular polytope examples exactly (including the 600 cells) that could go in the SageMath database `polytopes.`.\n2. (follow-up ticket) When the input are elements in `AA`, or symbolic algebraic, etc, try to figure out how to convert stuff into an embedded number field",
    "created_at": "2019-04-18T14:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382866",
    "user": "https://github.com/videlec"
}
```

<div id="comment:72" align="right">comment:72</div>

I think it would be good to split this ticket into two tickets:
1. Make `backend='normaliz'` accepts input being in a common embedded real number field. That is the following should work

```
sage: K.<a> = QuadraticField(2, embedding=AA(2)**(1/2))
sage: Polyhedron([[0,0],[1,a],[0,2*a],[-1,-a]], base_ring=K, backend='normaliz')
```
  And we should also make it so that `backend='normaliz'` is actually automatically chosen if available

```
sage: Polyhedron([[0,0],[1,a],[0,2*a],[-1,-a]], base_ring=K)   # should use normaliz
```
  This would be enough to generate any of the regular polytope examples exactly (including the 600 cells) that could go in the SageMath database `polytopes.`.
2. (follow-up ticket) When the input are elements in `AA`, or symbolic algebraic, etc, try to figure out how to convert stuff into an embedded number field



---

archive/issue_events_347191.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T19:56:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347191"
}
```



---

archive/issue_events_347192.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T19:56:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347192"
}
```



---

archive/issue_comments_382867.json:
```json
{
    "body": "Changed commit from **[`bd3c990`](https://github.com/sagemath/sagetrac-mirror/commit/bd3c990559c1531ecf14d98ba7b009d26504a05e)** to **[`2f3c42c`](https://github.com/sagemath/sagetrac-mirror/commit/2f3c42c418acfd67250f3db2b517cb125dc45a5b)**",
    "created_at": "2019-04-23T02:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382867",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd3c990`](https://github.com/sagemath/sagetrac-mirror/commit/bd3c990559c1531ecf14d98ba7b009d26504a05e)** to **[`2f3c42c`](https://github.com/sagemath/sagetrac-mirror/commit/2f3c42c418acfd67250f3db2b517cb125dc45a5b)**



---

archive/issue_comments_382868.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61e4df9fabf9e06a21d75eb6320ab3179bc28096\">61e4df9</a></td><td><code>Fix docstring even more</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9255f2c89588c79de496660c8c9030f087b5ebfd\">9255f2c</a></td><td><code>pyflakes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a06e8e58f8c325e95bd2d83732ca78ea0be3856\">9a06e8e</a></td><td><code>Merge branch 'public/algnum_to_numberfield' of git://trac.sagemath.org/sage into t/20181/public/algnum_to_numberfield</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8a2d52d8ab408564d24b334e0669c4bdfd91ad8\">f8a2d52</a></td><td><code>Merge branch 't/20181/public/algnum_to_numberfield' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46fcf67056a9c23746469b0e6c28752052ad57b5\">46fcf67</a></td><td><code>Merge tag '8.8.beta3' into t/25171/experimental_flint_upgrade_package_tracking_trunk</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b320692a9f3f63162ff0a1213a973d187c678348\">b320692</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76d7db13b9345db528715f6e0e251008b99cd7b0\">76d7db1</a></td><td><code>Add patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3fd47fb203cdc51a9ef421974d79d6c460ee445\">c3fd47f</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c93e30756bd86b06673e732a3d2a6af08b92ed0\">0c93e30</a></td><td><code>Add FLINT patch install_name_tool_destdir.patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f3c42c418acfd67250f3db2b517cb125dc45a5b\">2f3c42c</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr></table>\n",
    "created_at": "2019-04-23T02:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382868",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61e4df9fabf9e06a21d75eb6320ab3179bc28096">61e4df9</a></td><td><code>Fix docstring even more</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9255f2c89588c79de496660c8c9030f087b5ebfd">9255f2c</a></td><td><code>pyflakes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a06e8e58f8c325e95bd2d83732ca78ea0be3856">9a06e8e</a></td><td><code>Merge branch 'public/algnum_to_numberfield' of git://trac.sagemath.org/sage into t/20181/public/algnum_to_numberfield</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8a2d52d8ab408564d24b334e0669c4bdfd91ad8">f8a2d52</a></td><td><code>Merge branch 't/20181/public/algnum_to_numberfield' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46fcf67056a9c23746469b0e6c28752052ad57b5">46fcf67</a></td><td><code>Merge tag '8.8.beta3' into t/25171/experimental_flint_upgrade_package_tracking_trunk</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b320692a9f3f63162ff0a1213a973d187c678348">b320692</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76d7db13b9345db528715f6e0e251008b99cd7b0">76d7db1</a></td><td><code>Add patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3fd47fb203cdc51a9ef421974d79d6c460ee445">c3fd47f</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c93e30756bd86b06673e732a3d2a6af08b92ed0">0c93e30</a></td><td><code>Add FLINT patch install_name_tool_destdir.patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f3c42c418acfd67250f3db2b517cb125dc45a5b">2f3c42c</a></td><td><code>Merge branch 't/25171/experimental_flint_upgrade_package_tracking_trunk' into t/25097/public/25097/qnormaliz-algebraic</code></td></tr></table>




---

archive/issue_comments_382869.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nI have updated this ticket for 8.8.beta3. Still using the old Normaliz/QNormaliz/PyNormaliz/PyQNormaliz etc., \nbut merged in #20181. \n3 doctest failures.",
    "created_at": "2019-04-23T02:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382869",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:75" align="right">comment:75</div>

I have updated this ticket for 8.8.beta3. Still using the old Normaliz/QNormaliz/PyNormaliz/PyQNormaliz etc., 
but merged in #20181. 
3 doctest failures.



---

archive/issue_comments_382870.json:
```json
{
    "body": "Changed commit from **[`2f3c42c`](https://github.com/sagemath/sagetrac-mirror/commit/2f3c42c418acfd67250f3db2b517cb125dc45a5b)** to **[`7c3d64c`](https://github.com/sagemath/sagetrac-mirror/commit/7c3d64c8a12275511f3d3875d37f48d3cb6857ec)**",
    "created_at": "2019-04-23T02:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382870",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f3c42c`](https://github.com/sagemath/sagetrac-mirror/commit/2f3c42c418acfd67250f3db2b517cb125dc45a5b)** to **[`7c3d64c`](https://github.com/sagemath/sagetrac-mirror/commit/7c3d64c8a12275511f3d3875d37f48d3cb6857ec)**



---

archive/issue_comments_382871.json:
```json
{
    "body": "<div id=\"comment:76\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c3d64c8a12275511f3d3875d37f48d3cb6857ec\">7c3d64c</a></td><td><code>Fix up for exact snub cube construction</code></td></tr></table>\n",
    "created_at": "2019-04-23T02:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382871",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:76"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c3d64c8a12275511f3d3875d37f48d3cb6857ec">7c3d64c</a></td><td><code>Fix up for exact snub cube construction</code></td></tr></table>




---

archive/issue_comments_382872.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nReplying to [@sagetrac-git](#comment:76):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c3d64c8a12275511f3d3875d37f48d3cb6857ec\">7c3d64c</a></td><td><code>Fix up for exact snub cube construction</code></td></tr></table>\n\nJust a small heads-up about #26340 that will conflict with this line.",
    "created_at": "2019-04-23T08:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382872",
    "user": "https://github.com/jplab"
}
```

<div id="comment:77" align="right">comment:77</div>

Replying to [@sagetrac-git](#comment:76):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c3d64c8a12275511f3d3875d37f48d3cb6857ec">7c3d64c</a></td><td><code>Fix up for exact snub cube construction</code></td></tr></table>

Just a small heads-up about #26340 that will conflict with this line.



---

archive/issue_comments_382873.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\n#27716 has all the backend work that does not depend on the algebraic stuff.",
    "created_at": "2019-04-23T13:32:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382873",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:78" align="right">comment:78</div>

#27716 has all the backend work that does not depend on the algebraic stuff.



---

archive/issue_comments_382874.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nI will next redo this ticket on top of #27716, #26340, #27682, #20181.",
    "created_at": "2019-04-23T13:35:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382874",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:79" align="right">comment:79</div>

I will next redo this ticket on top of #27716, #26340, #27682, #20181.



---

archive/issue_comments_382875.json:
```json
{
    "body": "Changed commit from **[`7c3d64c`](https://github.com/sagemath/sagetrac-mirror/commit/7c3d64c8a12275511f3d3875d37f48d3cb6857ec)** to **[`ec695ac`](https://github.com/sagemath/sagetrac-mirror/commit/ec695ac88bfb272dc05444a74579da8fdc0683ab)**",
    "created_at": "2019-04-23T15:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382875",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7c3d64c`](https://github.com/sagemath/sagetrac-mirror/commit/7c3d64c8a12275511f3d3875d37f48d3cb6857ec)** to **[`ec695ac`](https://github.com/sagemath/sagetrac-mirror/commit/ec695ac88bfb272dc05444a74579da8fdc0683ab)**



---

archive/issue_comments_382876.json:
```json
{
    "body": "<div id=\"comment:80\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57a9d108994a33efedfaf4b6d6732358db882800\">57a9d10</a></td><td><code>add exact option to snub_cube</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8703f7f85aa7b7f0161a8c90fa92dd0d2e47dc70\">8703f7f</a></td><td><code>fix snub cube example in polyhedra_tutorial.rst</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7618ea92cd050420da53a507c17274b5527d5820\">7618ea9</a></td><td><code>package e-antic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d752708b7289be4b18599312a7396e614c349cbe\">d752708</a></td><td><code>upgrade normaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4eb02f8a0077cbc1e562e6d46ef6fadefa3ffc46\">4eb02f8</a></td><td><code>fix doctest in backend_normaliz.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56a903e36c88e8a9a27f60875fbdc6a1dbc26777\">56a903e</a></td><td><code>Merge branches 't/27716/public/normaliz-backend-refactoring', 't/26340/public/26340', 't/27682/27682' and 't/20181/public/algnum_to_numberfield' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/915cb46d478c94fa9c53a6ed8ed4d849dc5f6a3e\">915cb46</a></td><td><code>backend_normaliz: algebraic polyhedra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a6e39dd1447767c9868160d5f785e9f3e224fb6\">3a6e39d</a></td><td><code>Add library polytope tests for algebraic polytopes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7aa2ef4bdee68cb8667c99138725a45f3abb391\">c7aa2ef</a></td><td><code>change use of PyQNormaliz to PyNormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec695ac88bfb272dc05444a74579da8fdc0683ab\">ec695ac</a></td><td><code>Use _number_field_triple instead of _format_number_field_data</code></td></tr></table>\n",
    "created_at": "2019-04-23T15:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382876",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:80"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57a9d108994a33efedfaf4b6d6732358db882800">57a9d10</a></td><td><code>add exact option to snub_cube</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8703f7f85aa7b7f0161a8c90fa92dd0d2e47dc70">8703f7f</a></td><td><code>fix snub cube example in polyhedra_tutorial.rst</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7618ea92cd050420da53a507c17274b5527d5820">7618ea9</a></td><td><code>package e-antic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d752708b7289be4b18599312a7396e614c349cbe">d752708</a></td><td><code>upgrade normaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4eb02f8a0077cbc1e562e6d46ef6fadefa3ffc46">4eb02f8</a></td><td><code>fix doctest in backend_normaliz.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56a903e36c88e8a9a27f60875fbdc6a1dbc26777">56a903e</a></td><td><code>Merge branches 't/27716/public/normaliz-backend-refactoring', 't/26340/public/26340', 't/27682/27682' and 't/20181/public/algnum_to_numberfield' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/915cb46d478c94fa9c53a6ed8ed4d849dc5f6a3e">915cb46</a></td><td><code>backend_normaliz: algebraic polyhedra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a6e39dd1447767c9868160d5f785e9f3e224fb6">3a6e39d</a></td><td><code>Add library polytope tests for algebraic polytopes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7aa2ef4bdee68cb8667c99138725a45f3abb391">c7aa2ef</a></td><td><code>change use of PyQNormaliz to PyNormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec695ac88bfb272dc05444a74579da8fdc0683ab">ec695ac</a></td><td><code>Use _number_field_triple instead of _format_number_field_data</code></td></tr></table>




---

archive/issue_comments_382877.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nReplying to [@mkoeppe](#comment:79):\n> I will next redo this ticket on top of #27716, #26340, #27682, #20181.\n\nDone. Replaced the branch.\nMany doctests fail. Needs fixing: https://github.com/Normaliz/PyNormaliz/issues/37",
    "created_at": "2019-04-23T15:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382877",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:81" align="right">comment:81</div>

Replying to [@mkoeppe](#comment:79):
> I will next redo this ticket on top of #27716, #26340, #27682, #20181.

Done. Replaced the branch.
Many doctests fail. Needs fixing: https://github.com/Normaliz/PyNormaliz/issues/37



---

archive/issue_comments_382878.json:
```json
{
    "body": "Changed commit from **[`ec695ac`](https://github.com/sagemath/sagetrac-mirror/commit/ec695ac88bfb272dc05444a74579da8fdc0683ab)** to **[`a7e3af3`](https://github.com/sagemath/sagetrac-mirror/commit/a7e3af33495b528418de2af88d8b5b0eedc9d7dd)**",
    "created_at": "2019-04-23T21:35:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382878",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec695ac`](https://github.com/sagemath/sagetrac-mirror/commit/ec695ac88bfb272dc05444a74579da8fdc0683ab)** to **[`a7e3af3`](https://github.com/sagemath/sagetrac-mirror/commit/a7e3af33495b528418de2af88d8b5b0eedc9d7dd)**



---

archive/issue_comments_382879.json:
```json
{
    "body": "<div id=\"comment:82\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/973260553782bbd0ece541e217b4c6bde8ba0f08\">9732605</a></td><td><code>Fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7c73d14e9f7d0dddad259dda181ad3e7a6c1fa0\">b7c73d1</a></td><td><code>nfelem_handler: Protect against coordinate vectors with too many elements. Handle unhandled rationals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7e3af33495b528418de2af88d8b5b0eedc9d7dd\">a7e3af3</a></td><td><code>Fixup handling of number_field in normaliz data</code></td></tr></table>\n",
    "created_at": "2019-04-23T21:35:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382879",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:82"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/973260553782bbd0ece541e217b4c6bde8ba0f08">9732605</a></td><td><code>Fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7c73d14e9f7d0dddad259dda181ad3e7a6c1fa0">b7c73d1</a></td><td><code>nfelem_handler: Protect against coordinate vectors with too many elements. Handle unhandled rationals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7e3af33495b528418de2af88d8b5b0eedc9d7dd">a7e3af3</a></td><td><code>Fixup handling of number_field in normaliz data</code></td></tr></table>




---

archive/issue_comments_382880.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nAll tests work now except for one that needs a fix for this: https://github.com/Normaliz/PyNormaliz/issues/41",
    "created_at": "2019-04-23T21:36:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382880",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:83" align="right">comment:83</div>

All tests work now except for one that needs a fix for this: https://github.com/Normaliz/PyNormaliz/issues/41



---

archive/issue_comments_382881.json:
```json
{
    "body": "Changed dependencies from **#20181, #27682** to **#27716, #26340, #27682, #20181**",
    "created_at": "2019-04-23T21:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382881",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#20181, #27682** to **#27716, #26340, #27682, #20181**



---

archive/issue_comments_382882.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nWith Normaliz master (unreleased), all tests pass except for the broken snub cube example from #26340.",
    "created_at": "2019-04-24T15:37:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382882",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:85" align="right">comment:85</div>

With Normaliz master (unreleased), all tests pass except for the broken snub cube example from #26340.



---

archive/issue_comments_382883.json:
```json
{
    "body": "Changed commit from **[`a7e3af3`](https://github.com/sagemath/sagetrac-mirror/commit/a7e3af33495b528418de2af88d8b5b0eedc9d7dd)** to **[`19bb5d3`](https://github.com/sagemath/sagetrac-mirror/commit/19bb5d3ca9b2fcbec6f040ebc1f527689f104d74)**",
    "created_at": "2019-04-24T18:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382883",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7e3af3`](https://github.com/sagemath/sagetrac-mirror/commit/a7e3af33495b528418de2af88d8b5b0eedc9d7dd)** to **[`19bb5d3`](https://github.com/sagemath/sagetrac-mirror/commit/19bb5d3ca9b2fcbec6f040ebc1f527689f104d74)**



---

archive/issue_comments_382884.json:
```json
{
    "body": "<div id=\"comment:86\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ce403df49a8c9c8d9fafb449c55853ea8eb4380\">3ce403d</a></td><td><code>Change optional - pyqnormaliz to pynormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b370268075f0cdc63291d4639d9051a3c7590dbc\">b370268</a></td><td><code>pyflakes fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/328a04a433e1b20227e296dda8bd5aea61e7660c\">328a04a</a></td><td><code>_nmz_result: Add doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee5ff410ee028c8563406c2a02cf279051ad95fb\">ee5ff41</a></td><td><code>Mark newest doctest # optional - pynormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b60f653ea6cca701283c7d34bbd4a258e831a708\">b60f653</a></td><td><code>Merge branch 't/27716/public/normaliz-backend-refactoring' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05867b434268870a94f105f7ba699a4dea0bbdf6\">05867b4</a></td><td><code>Merge tag '8.8.beta3' into t/26340/public/26340</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39c3c67d67e61d1f4055ad41e095b9aaea4b346c\">39c3c67</a></td><td><code>Fix construction of snub_cube data</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f52802f394dd78b4d6bea9961d21496ec4b7a914\">f52802f</a></td><td><code>Merge branch 't/26340/public/26340' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19bb5d3ca9b2fcbec6f040ebc1f527689f104d74\">19bb5d3</a></td><td><code>Add snub_cube test with normaliz</code></td></tr></table>\n",
    "created_at": "2019-04-24T18:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382884",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:86"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ce403df49a8c9c8d9fafb449c55853ea8eb4380">3ce403d</a></td><td><code>Change optional - pyqnormaliz to pynormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b370268075f0cdc63291d4639d9051a3c7590dbc">b370268</a></td><td><code>pyflakes fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/328a04a433e1b20227e296dda8bd5aea61e7660c">328a04a</a></td><td><code>_nmz_result: Add doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee5ff410ee028c8563406c2a02cf279051ad95fb">ee5ff41</a></td><td><code>Mark newest doctest # optional - pynormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b60f653ea6cca701283c7d34bbd4a258e831a708">b60f653</a></td><td><code>Merge branch 't/27716/public/normaliz-backend-refactoring' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05867b434268870a94f105f7ba699a4dea0bbdf6">05867b4</a></td><td><code>Merge tag '8.8.beta3' into t/26340/public/26340</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39c3c67d67e61d1f4055ad41e095b9aaea4b346c">39c3c67</a></td><td><code>Fix construction of snub_cube data</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f52802f394dd78b4d6bea9961d21496ec4b7a914">f52802f</a></td><td><code>Merge branch 't/26340/public/26340' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19bb5d3ca9b2fcbec6f040ebc1f527689f104d74">19bb5d3</a></td><td><code>Add snub_cube test with normaliz</code></td></tr></table>




---

archive/issue_comments_382885.json:
```json
{
    "body": "<div id=\"comment:87\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e70d4a5f81041f942f22bc70e559ea1a7531eb12\">e70d4a5</a></td><td><code>snub_cube: Change default back to exact=False</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/706e79648c58b2f9f69b5b9cc667a0c732096795\">706e796</a></td><td><code>Merge branch 't/26340/public/26340' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>\n",
    "created_at": "2019-04-25T07:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382885",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:87"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e70d4a5f81041f942f22bc70e559ea1a7531eb12">e70d4a5</a></td><td><code>snub_cube: Change default back to exact=False</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/706e79648c58b2f9f69b5b9cc667a0c732096795">706e796</a></td><td><code>Merge branch 't/26340/public/26340' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>




---

archive/issue_comments_382886.json:
```json
{
    "body": "Changed commit from **[`19bb5d3`](https://github.com/sagemath/sagetrac-mirror/commit/19bb5d3ca9b2fcbec6f040ebc1f527689f104d74)** to **[`706e796`](https://github.com/sagemath/sagetrac-mirror/commit/706e79648c58b2f9f69b5b9cc667a0c732096795)**",
    "created_at": "2019-04-25T07:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382886",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`19bb5d3`](https://github.com/sagemath/sagetrac-mirror/commit/19bb5d3ca9b2fcbec6f040ebc1f527689f104d74)** to **[`706e796`](https://github.com/sagemath/sagetrac-mirror/commit/706e79648c58b2f9f69b5b9cc667a0c732096795)**



---

archive/issue_comments_382887.json:
```json
{
    "body": "Changed commit from **[`706e796`](https://github.com/sagemath/sagetrac-mirror/commit/706e79648c58b2f9f69b5b9cc667a0c732096795)** to **[`e3bbecd`](https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2)**",
    "created_at": "2019-04-25T14:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382887",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`706e796`](https://github.com/sagemath/sagetrac-mirror/commit/706e79648c58b2f9f69b5b9cc667a0c732096795)** to **[`e3bbecd`](https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2)**



---

archive/issue_comments_382888.json:
```json
{
    "body": "<div id=\"comment:88\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13d8c44c9f73ac3f7033fc819781a6e349f1637a\">13d8c44</a></td><td><code>docstring fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2\">e3bbecd</a></td><td><code>Merge branch 't/26340/public/26340' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>\n",
    "created_at": "2019-04-25T14:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382888",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:88"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13d8c44c9f73ac3f7033fc819781a6e349f1637a">13d8c44</a></td><td><code>docstring fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2">e3bbecd</a></td><td><code>Merge branch 't/26340/public/26340' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>




---

archive/issue_comments_382889.json:
```json
{
    "body": "Changed commit from **[`e3bbecd`](https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2)** to **[`3ad6905`](https://github.com/sagemath/sagetrac-mirror/commit/3ad690512e703b8868c36fa890cb5a477c5e0659)**",
    "created_at": "2019-04-25T14:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382889",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e3bbecd`](https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2)** to **[`3ad6905`](https://github.com/sagemath/sagetrac-mirror/commit/3ad690512e703b8868c36fa890cb5a477c5e0659)**



---

archive/issue_comments_382890.json:
```json
{
    "body": "<div id=\"comment:89\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb459b4e64716e119ae30361ff5ea8f6c5ea8bfc\">fb459b4</a></td><td><code>Update e-antic to 0.1.3b0 and normaliz to 3.7.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ad690512e703b8868c36fa890cb5a477c5e0659\">3ad6905</a></td><td><code>Update pynormaliz to 2.1</code></td></tr></table>\n",
    "created_at": "2019-04-25T14:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382890",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:89"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb459b4e64716e119ae30361ff5ea8f6c5ea8bfc">fb459b4</a></td><td><code>Update e-antic to 0.1.3b0 and normaliz to 3.7.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ad690512e703b8868c36fa890cb5a477c5e0659">3ad6905</a></td><td><code>Update pynormaliz to 2.1</code></td></tr></table>




---

archive/issue_comments_382891.json:
```json
{
    "body": "<div id=\"comment:90\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-04-25T14:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382891",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:90"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_382892.json:
```json
{
    "body": "Changed commit from **[`3ad6905`](https://github.com/sagemath/sagetrac-mirror/commit/3ad690512e703b8868c36fa890cb5a477c5e0659)** to **[`e3bbecd`](https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2)**",
    "created_at": "2019-04-25T14:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382892",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3ad6905`](https://github.com/sagemath/sagetrac-mirror/commit/3ad690512e703b8868c36fa890cb5a477c5e0659)** to **[`e3bbecd`](https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2)**



---

archive/issue_comments_382893.json:
```json
{
    "body": "<div id=\"comment:91\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eaa4584d16ce862f987c478262fd6a5d1d140187\">eaa4584</a></td><td><code>package e-antic 0.1.3b0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5c669d540ee5c34605618ea0658b94a3c29c43b\">e5c669d</a></td><td><code>upgrade normaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14d6c83a08796adc477df900193b2a25f71df025\">14d6c83</a></td><td><code>Update normaliz to 3.7.1, pynormaliz to 2.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64f1f19d7c6003a4d85abd8626dfab2e45979107\">64f1f19</a></td><td><code>fix doctest in backend_normaliz.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59e069b2b403cd2557fcfb5a1c66eeede1ff2f6f\">59e069b</a></td><td><code>Merge branch 't/27682/27682' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24a87469967c0d47967c5214e2256cae7147b00b\">24a8746</a></td><td><code>Update error message in doctest for new PyNormaliz</code></td></tr></table>\n",
    "created_at": "2019-04-25T15:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382893",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:91"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eaa4584d16ce862f987c478262fd6a5d1d140187">eaa4584</a></td><td><code>package e-antic 0.1.3b0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5c669d540ee5c34605618ea0658b94a3c29c43b">e5c669d</a></td><td><code>upgrade normaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14d6c83a08796adc477df900193b2a25f71df025">14d6c83</a></td><td><code>Update normaliz to 3.7.1, pynormaliz to 2.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64f1f19d7c6003a4d85abd8626dfab2e45979107">64f1f19</a></td><td><code>fix doctest in backend_normaliz.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59e069b2b403cd2557fcfb5a1c66eeede1ff2f6f">59e069b</a></td><td><code>Merge branch 't/27682/27682' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24a87469967c0d47967c5214e2256cae7147b00b">24a8746</a></td><td><code>Update error message in doctest for new PyNormaliz</code></td></tr></table>




---

archive/issue_comments_382894.json:
```json
{
    "body": "Changed commit from **[`e3bbecd`](https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2)** to **[`24a8746`](https://github.com/sagemath/sagetrac-mirror/commit/24a87469967c0d47967c5214e2256cae7147b00b)**",
    "created_at": "2019-04-25T15:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382894",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e3bbecd`](https://github.com/sagemath/sagetrac-mirror/commit/e3bbecda2f444ef6c21938a8bef3e4bd80095cb2)** to **[`24a8746`](https://github.com/sagemath/sagetrac-mirror/commit/24a87469967c0d47967c5214e2256cae7147b00b)**



---

archive/issue_comments_382895.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,11 +1,13 @@\n+Implements polyhedra over embedded algebraic number fields. \n+\n - Preliminary setup within sage: install e-antic, upgrade normaliz/pynormaliz (see #27682)\n \n-- Things that did work in sage (at commit bd3c990):\n-  - Setting up a polyhedron over a number field.\n-  - Likewise with input from various fields, which will be coerced to a number field first via #20181:\n+- the input is allowed to come from various fields, which will be coerced to a number field first via #20181:\n \n ```\n         sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz')\n ```\n+\n - See doctests in `src/sage/geometry/polyhedron/backend_normaliz.py` and `src/sage/geometry/polyhedron/library.py` \n-- Writing a QNormaliz input file as a side effect by passing `verbose=True`.  (#25090 added writing Normaliz output files in the rational case.)\n+\n+- For debugging help, we can write out Normaliz input files and PyNormaliz function calls as a side effect by passing `verbose=True`.  \n``````\n",
    "created_at": "2019-04-25T15:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382895",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,11 +1,13 @@
+Implements polyhedra over embedded algebraic number fields. 
+
 - Preliminary setup within sage: install e-antic, upgrade normaliz/pynormaliz (see #27682)
 
-- Things that did work in sage (at commit bd3c990):
-  - Setting up a polyhedron over a number field.
-  - Likewise with input from various fields, which will be coerced to a number field first via #20181:
+- the input is allowed to come from various fields, which will be coerced to a number field first via #20181:
 
 ```
         sage: x = polygen(ZZ); P = Polyhedron(vertices=[[sqrt(2)], [AA.polynomial_root(x^3-2, RIF(0,3))]], backend='normaliz')
 ```
+
 - See doctests in `src/sage/geometry/polyhedron/backend_normaliz.py` and `src/sage/geometry/polyhedron/library.py` 
-- Writing a QNormaliz input file as a side effect by passing `verbose=True`.  (#25090 added writing Normaliz output files in the rational case.)
+
+- For debugging help, we can write out Normaliz input files and PyNormaliz function calls as a side effect by passing `verbose=True`.  
``````




---

archive/issue_events_347193.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-25T15:39:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347193"
}
```



---

archive/issue_events_347194.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-25T15:39:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347194"
}
```



---

archive/issue_events_347195.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-25T15:39:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "title_is": "Algebraic polyhedra with Normaliz / e-antic",
    "title_was": "Algebraic polyhedra with QNormaliz / e-antic",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347195"
}
```



---

archive/issue_comments_382896.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nReady for review. Builds and tests OK on macOS Mojave.",
    "created_at": "2019-04-25T15:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382896",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:92" align="right">comment:92</div>

Ready for review. Builds and tests OK on macOS Mojave.



---

archive/issue_comments_382897.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nBuilds on debian stretch.\n\n```\n$ sage -t sage/src/sage/geometry/polyhedron/*.py --optional=bliss,dochtml,gfortran,lrslib,memlimit,mpir,ninja_build,normaliz,pynormaliz,python2,sage,topcom\ntoo few successful tests, not using stored timings\nGit branch: 25097\nUsing --optional=bliss,dochtml,gfortran,lrslib,memlimit,mpir,ninja_build,normaliz,pynormaliz,python2,sage,topcom\nDoctesting 25 files.\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```",
    "created_at": "2019-04-25T15:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382897",
    "user": "https://github.com/jplab"
}
```

<div id="comment:93" align="right">comment:93</div>

Builds on debian stretch.

```
$ sage -t sage/src/sage/geometry/polyhedron/*.py --optional=bliss,dochtml,gfortran,lrslib,memlimit,mpir,ninja_build,normaliz,pynormaliz,python2,sage,topcom
too few successful tests, not using stored timings
Git branch: 25097
Using --optional=bliss,dochtml,gfortran,lrslib,memlimit,mpir,ninja_build,normaliz,pynormaliz,python2,sage,topcom
Doctesting 25 files.
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```



---

archive/issue_comments_382898.json:
```json
{
    "body": "Changed commit from **[`24a8746`](https://github.com/sagemath/sagetrac-mirror/commit/24a87469967c0d47967c5214e2256cae7147b00b)** to **[`f232c6c`](https://github.com/sagemath/sagetrac-mirror/commit/f232c6cec018358b144f0f8b9541ae7b2fab8699)**",
    "created_at": "2019-04-25T17:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382898",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`24a8746`](https://github.com/sagemath/sagetrac-mirror/commit/24a87469967c0d47967c5214e2256cae7147b00b)** to **[`f232c6c`](https://github.com/sagemath/sagetrac-mirror/commit/f232c6cec018358b144f0f8b9541ae7b2fab8699)**



---

archive/issue_comments_382899.json:
```json
{
    "body": "<div id=\"comment:94\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/160dd88c968e869300c934d60b8a890243a7142b\">160dd88</a></td><td><code>Merge branch 't/27682/27682' into t/25091/public/some_normaliz_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78c2de49147cae677256e8ab27f303b61108d939\">78c2de4</a></td><td><code>Merge branch 't/27716/public/normaliz-backend-refactoring' into t/25091/public/some_normaliz_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41bd96863561007009594486f0be79193235108d\">41bd968</a></td><td><code>Fix doctest error message - NormalizError</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7662077fa232a5a98a456ce7165bc13a0f8ef0bd\">7662077</a></td><td><code>Fixup merge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/885ef9e80d5af2091baa15ca0d9c2b231e7c14cf\">885ef9e</a></td><td><code>Use EhrhartQuasiPolynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/313fee1f82a9f27a3940b555e4381725c39f20e1\">313fee1</a></td><td><code>Fix doctest of hilbert_series</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79059033a2b14ba9ffaf032a45361e12817efc75\">7905903</a></td><td><code>Pass grading as a matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9249dda436e7e9c58b644ea5e4728f8fe969949f\">9249dda</a></td><td><code>Use _nmz_result instead of calling NmzResult directly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec96615ba1958134e19419c95fc3fc96ce5f82b9\">ec96615</a></td><td><code>Merge branch 't/25091/public/some_normaliz_features' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f232c6cec018358b144f0f8b9541ae7b2fab8699\">f232c6c</a></td><td><code>_nmz_result already constructs rationals</code></td></tr></table>\n",
    "created_at": "2019-04-25T17:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382899",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:94"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/160dd88c968e869300c934d60b8a890243a7142b">160dd88</a></td><td><code>Merge branch 't/27682/27682' into t/25091/public/some_normaliz_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78c2de49147cae677256e8ab27f303b61108d939">78c2de4</a></td><td><code>Merge branch 't/27716/public/normaliz-backend-refactoring' into t/25091/public/some_normaliz_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41bd96863561007009594486f0be79193235108d">41bd968</a></td><td><code>Fix doctest error message - NormalizError</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7662077fa232a5a98a456ce7165bc13a0f8ef0bd">7662077</a></td><td><code>Fixup merge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/885ef9e80d5af2091baa15ca0d9c2b231e7c14cf">885ef9e</a></td><td><code>Use EhrhartQuasiPolynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/313fee1f82a9f27a3940b555e4381725c39f20e1">313fee1</a></td><td><code>Fix doctest of hilbert_series</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79059033a2b14ba9ffaf032a45361e12817efc75">7905903</a></td><td><code>Pass grading as a matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9249dda436e7e9c58b644ea5e4728f8fe969949f">9249dda</a></td><td><code>Use _nmz_result instead of calling NmzResult directly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec96615ba1958134e19419c95fc3fc96ce5f82b9">ec96615</a></td><td><code>Merge branch 't/25091/public/some_normaliz_features' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f232c6cec018358b144f0f8b9541ae7b2fab8699">f232c6c</a></td><td><code>_nmz_result already constructs rationals</code></td></tr></table>




---

archive/issue_comments_382900.json:
```json
{
    "body": "Changed dependencies from **#27716, #26340, #27682, #20181** to **#27716, #26340, #27682, #20181, #25091**",
    "created_at": "2019-04-25T17:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382900",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#27716, #26340, #27682, #20181** to **#27716, #26340, #27682, #20181, #25091**



---

archive/issue_comments_382901.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nMerged #25091, works fine after minor changes.",
    "created_at": "2019-04-25T17:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382901",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:95" align="right">comment:95</div>

Merged #25091, works fine after minor changes.



---

archive/issue_comments_382902.json:
```json
{
    "body": "Changed commit from **[`f232c6c`](https://github.com/sagemath/sagetrac-mirror/commit/f232c6cec018358b144f0f8b9541ae7b2fab8699)** to **[`812395c`](https://github.com/sagemath/sagetrac-mirror/commit/812395cd57129ae1832562b23950ead1a1e6d97f)**",
    "created_at": "2019-04-26T12:49:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382902",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f232c6c`](https://github.com/sagemath/sagetrac-mirror/commit/f232c6cec018358b144f0f8b9541ae7b2fab8699)** to **[`812395c`](https://github.com/sagemath/sagetrac-mirror/commit/812395cd57129ae1832562b23950ead1a1e6d97f)**



---

archive/issue_comments_382903.json:
```json
{
    "body": "<div id=\"comment:96\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d92502ac1e23213be9b216778eaa14e11a8d867\">5d92502</a></td><td><code>Add checks for real embedded base rings, improve error messages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e2991bbeaa078a388bf48f833dda644c5e7e3ef\">6e2991b</a></td><td><code>backend_normaliz: Prepare refactoring of V, H data conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/812395cd57129ae1832562b23950ead1a1e6d97f\">812395c</a></td><td><code>Refactor using Polyhedron_normaliz._compute_nmz_data_lists_and_field</code></td></tr></table>\n",
    "created_at": "2019-04-26T12:49:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382903",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:96"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d92502ac1e23213be9b216778eaa14e11a8d867">5d92502</a></td><td><code>Add checks for real embedded base rings, improve error messages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e2991bbeaa078a388bf48f833dda644c5e7e3ef">6e2991b</a></td><td><code>backend_normaliz: Prepare refactoring of V, H data conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/812395cd57129ae1832562b23950ead1a1e6d97f">812395c</a></td><td><code>Refactor using Polyhedron_normaliz._compute_nmz_data_lists_and_field</code></td></tr></table>




---

archive/issue_comments_382904.json:
```json
{
    "body": "Changed commit from **[`812395c`](https://github.com/sagemath/sagetrac-mirror/commit/812395cd57129ae1832562b23950ead1a1e6d97f)** to **[`1dd5b3c`](https://github.com/sagemath/sagetrac-mirror/commit/1dd5b3c3ce8cc2e23702188c035eadd2cbec406c)**",
    "created_at": "2019-04-26T14:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382904",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`812395c`](https://github.com/sagemath/sagetrac-mirror/commit/812395cd57129ae1832562b23950ead1a1e6d97f)** to **[`1dd5b3c`](https://github.com/sagemath/sagetrac-mirror/commit/1dd5b3c3ce8cc2e23702188c035eadd2cbec406c)**



---

archive/issue_comments_382905.json:
```json
{
    "body": "<div id=\"comment:97\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d949a2219a3a502e3374ba68dd173bfa4acffcb\">3d949a2</a></td><td><code>Upgrade normaliz to 3.7.2, pynormaliz to 2.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1169c31445dfbb5c16995c75605e56c39a91a87\">c1169c3</a></td><td><code>Merge branch 't/27731/public/27731' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8aee20f708861db6070f2a165a5486ed9bfc849f\">8aee20f</a></td><td><code>snub_dodecahedron: Enable doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dd5b3c3ce8cc2e23702188c035eadd2cbec406c\">1dd5b3c</a></td><td><code>snub_dodecahedron: Update tests, doc string</code></td></tr></table>\n",
    "created_at": "2019-04-26T14:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382905",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:97"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d949a2219a3a502e3374ba68dd173bfa4acffcb">3d949a2</a></td><td><code>Upgrade normaliz to 3.7.2, pynormaliz to 2.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1169c31445dfbb5c16995c75605e56c39a91a87">c1169c3</a></td><td><code>Merge branch 't/27731/public/27731' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8aee20f708861db6070f2a165a5486ed9bfc849f">8aee20f</a></td><td><code>snub_dodecahedron: Enable doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dd5b3c3ce8cc2e23702188c035eadd2cbec406c">1dd5b3c</a></td><td><code>snub_dodecahedron: Update tests, doc string</code></td></tr></table>




---

archive/issue_comments_382906.json:
```json
{
    "body": "Changed dependencies from **#27716, #26340, #27682, #20181, #25091** to **#27716, #26340, #27682, #20181, #25091, #27731**",
    "created_at": "2019-04-26T14:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382906",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#27716, #26340, #27682, #20181, #25091** to **#27716, #26340, #27682, #20181, #25091, #27731**



---

archive/issue_comments_382907.json:
```json
{
    "body": "<div id=\"comment:99\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac4551155be9dec669518499c2fd6c6d563c9a31\">ac45511</a></td><td><code>Fix for tuples in H and V representations</code></td></tr></table>\n",
    "created_at": "2019-04-27T17:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382907",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:99"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac4551155be9dec669518499c2fd6c6d563c9a31">ac45511</a></td><td><code>Fix for tuples in H and V representations</code></td></tr></table>




---

archive/issue_comments_382908.json:
```json
{
    "body": "Changed commit from **[`1dd5b3c`](https://github.com/sagemath/sagetrac-mirror/commit/1dd5b3c3ce8cc2e23702188c035eadd2cbec406c)** to **[`ac45511`](https://github.com/sagemath/sagetrac-mirror/commit/ac4551155be9dec669518499c2fd6c6d563c9a31)**",
    "created_at": "2019-04-27T17:13:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382908",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1dd5b3c`](https://github.com/sagemath/sagetrac-mirror/commit/1dd5b3c3ce8cc2e23702188c035eadd2cbec406c)** to **[`ac45511`](https://github.com/sagemath/sagetrac-mirror/commit/ac4551155be9dec669518499c2fd6c6d563c9a31)**



---

archive/issue_comments_382909.json:
```json
{
    "body": "An error in convex hull?",
    "created_at": "2019-04-30T07:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382909",
    "user": "https://github.com/jplab"
}
```

An error in convex hull?



---

archive/issue_comments_382910.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nAttachment: **[error.txt](https://github.com/sagemath/sage/files/ticket25097/error.txt)**\n\nThat error was caused by using an old PyNormaliz.",
    "created_at": "2019-05-01T11:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382910",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:0" align="right">comment:0</div>

Attachment: **[error.txt](https://github.com/sagemath/sage/files/ticket25097/error.txt)**

That error was caused by using an old PyNormaliz.



---

archive/issue_comments_382911.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4889111d4478b8dda2e15dac58a4d725cd2f0c0\">b488911</a></td><td><code>Add build/pkgs/pynormaliz/spkg-check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d013883725486cee52b7b247b8d0aab6d81f7d7\">5d01388</a></td><td><code>Upgrade pynormaliz to 2.4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c3ea3c33f79e5fce5875efc8e6f1c474f907802\">2c3ea3c</a></td><td><code>Merge branch 't/27731/public/27731' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>\n",
    "created_at": "2019-05-01T11:28:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382911",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4889111d4478b8dda2e15dac58a4d725cd2f0c0">b488911</a></td><td><code>Add build/pkgs/pynormaliz/spkg-check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d013883725486cee52b7b247b8d0aab6d81f7d7">5d01388</a></td><td><code>Upgrade pynormaliz to 2.4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c3ea3c33f79e5fce5875efc8e6f1c474f907802">2c3ea3c</a></td><td><code>Merge branch 't/27731/public/27731' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>




---

archive/issue_comments_382912.json:
```json
{
    "body": "Changed commit from **[`ac45511`](https://github.com/sagemath/sagetrac-mirror/commit/ac4551155be9dec669518499c2fd6c6d563c9a31)** to **[`2c3ea3c`](https://github.com/sagemath/sagetrac-mirror/commit/2c3ea3c33f79e5fce5875efc8e6f1c474f907802)**",
    "created_at": "2019-05-01T11:28:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382912",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ac45511`](https://github.com/sagemath/sagetrac-mirror/commit/ac4551155be9dec669518499c2fd6c6d563c9a31)** to **[`2c3ea3c`](https://github.com/sagemath/sagetrac-mirror/commit/2c3ea3c33f79e5fce5875efc8e6f1c474f907802)**



---

archive/issue_comments_382913.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4e597762cf0ed306b81a2ab14aab576aeee85b2\">a4e5977</a></td><td><code>Upgrade pynormaliz to 2.5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59f320b2fb7aa1ff552bf0d76dec5a4d48d1c5d2\">59f320b</a></td><td><code>Merge branch 't/27731/public/27731' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>\n",
    "created_at": "2019-05-01T17:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382913",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4e597762cf0ed306b81a2ab14aab576aeee85b2">a4e5977</a></td><td><code>Upgrade pynormaliz to 2.5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59f320b2fb7aa1ff552bf0d76dec5a4d48d1c5d2">59f320b</a></td><td><code>Merge branch 't/27731/public/27731' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>




---

archive/issue_comments_382914.json:
```json
{
    "body": "Changed commit from **[`2c3ea3c`](https://github.com/sagemath/sagetrac-mirror/commit/2c3ea3c33f79e5fce5875efc8e6f1c474f907802)** to **[`59f320b`](https://github.com/sagemath/sagetrac-mirror/commit/59f320b2fb7aa1ff552bf0d76dec5a4d48d1c5d2)**",
    "created_at": "2019-05-01T17:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382914",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2c3ea3c`](https://github.com/sagemath/sagetrac-mirror/commit/2c3ea3c33f79e5fce5875efc8e6f1c474f907802)** to **[`59f320b`](https://github.com/sagemath/sagetrac-mirror/commit/59f320b2fb7aa1ff552bf0d76dec5a4d48d1c5d2)**



---

archive/issue_comments_382915.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59cc7e0f9a6383dbfd103cea6923fff25f097ea1\">59cc7e0</a></td><td><code>Fix Error messages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4f01d474d6c5a18ce88ce6bd5a2c65dff7bac29\">a4f01d4</a></td><td><code>Fixed typo and added require package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbd3dce364043bbd59dc10dbd1a742fec0d937a6\">fbd3dce</a></td><td><code>removed is_package_installed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ceee8473f0b43e9b738923d1de353e66ed84f0a\">8ceee84</a></td><td><code>Change TypeError for RuntimeError</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0da067f203fce15a1f27f480e1f2dd29bc8bd669\">0da067f</a></td><td><code>Fixed doctests and added author name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7122d75e8149e4324e31928a313623ad427817b\">d7122d7</a></td><td><code>pyflakes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63a80b6634df8ee26bb0a50056956aec2c1a4b3a\">63a80b6</a></td><td><code>Forgot an import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8716e3b8d51da404a63f7ca747847088a8d0d2a\">d8716e3</a></td><td><code>Refactor NmzResult</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08b315bd50d9ae5737f99a2d92d6abe2708a38f3\">08b315b</a></td><td><code>Fixed infinite recursion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec2646dc2f2389af7bf09a364152920ecba7b9be\">ec2646d</a></td><td><code>Merge branch 't/25091/public/some_normaliz_features' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>\n",
    "created_at": "2019-05-02T20:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382915",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59cc7e0f9a6383dbfd103cea6923fff25f097ea1">59cc7e0</a></td><td><code>Fix Error messages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4f01d474d6c5a18ce88ce6bd5a2c65dff7bac29">a4f01d4</a></td><td><code>Fixed typo and added require package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbd3dce364043bbd59dc10dbd1a742fec0d937a6">fbd3dce</a></td><td><code>removed is_package_installed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ceee8473f0b43e9b738923d1de353e66ed84f0a">8ceee84</a></td><td><code>Change TypeError for RuntimeError</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0da067f203fce15a1f27f480e1f2dd29bc8bd669">0da067f</a></td><td><code>Fixed doctests and added author name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7122d75e8149e4324e31928a313623ad427817b">d7122d7</a></td><td><code>pyflakes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63a80b6634df8ee26bb0a50056956aec2c1a4b3a">63a80b6</a></td><td><code>Forgot an import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8716e3b8d51da404a63f7ca747847088a8d0d2a">d8716e3</a></td><td><code>Refactor NmzResult</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08b315bd50d9ae5737f99a2d92d6abe2708a38f3">08b315b</a></td><td><code>Fixed infinite recursion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec2646dc2f2389af7bf09a364152920ecba7b9be">ec2646d</a></td><td><code>Merge branch 't/25091/public/some_normaliz_features' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>




---

archive/issue_comments_382916.json:
```json
{
    "body": "Changed commit from **[`59f320b`](https://github.com/sagemath/sagetrac-mirror/commit/59f320b2fb7aa1ff552bf0d76dec5a4d48d1c5d2)** to **[`ec2646d`](https://github.com/sagemath/sagetrac-mirror/commit/ec2646dc2f2389af7bf09a364152920ecba7b9be)**",
    "created_at": "2019-05-02T20:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382916",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`59f320b`](https://github.com/sagemath/sagetrac-mirror/commit/59f320b2fb7aa1ff552bf0d76dec5a4d48d1c5d2)** to **[`ec2646d`](https://github.com/sagemath/sagetrac-mirror/commit/ec2646dc2f2389af7bf09a364152920ecba7b9be)**



---

archive/issue_comments_382917.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHere is an error happening while coercing the values back into the given base ring (`UCF` in this case):\n\n```\nsage: W = CoxeterGroup(['I',8])\nsage: n = W.one().canonical_matrix().rank()\nsage: weights = W.fundamental_weights()\nsage: point = [ZZ.one()] * n\nsage: apex = sum(point[i-1] * weights[i] for i in weights.keys())\nsage: non_zero_index = list(apex).index(filter(lambda x: x!=0, apex)[0])\nsage: apex = (QQ(1)/apex[non_zero_index]) * apex\nsage: apex.set_immutable()\nsage: vertices = set()\nsage: br = apex.base_ring()\nsage: for w in W:\n....:     new_point = w * apex\n....:     new_point.set_immutable()\n....:     vertices.add(new_point)\n....:     \nsage: Polyhedron(vertices=vertices, backend='normaliz', base_ring=br,verbose=True)\nTraceback (most recent call last):\n...\nTypeError: -1 of type <type 'sage.rings.number_field.number_field_element.NumberFieldElement_absolute'> not valid to initialize an element of the universal cyclotomic field\n```",
    "created_at": "2019-05-03T10:01:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382917",
    "user": "https://github.com/jplab"
}
```

<div id="comment:4" align="right">comment:4</div>

Here is an error happening while coercing the values back into the given base ring (`UCF` in this case):

```
sage: W = CoxeterGroup(['I',8])
sage: n = W.one().canonical_matrix().rank()
sage: weights = W.fundamental_weights()
sage: point = [ZZ.one()] * n
sage: apex = sum(point[i-1] * weights[i] for i in weights.keys())
sage: non_zero_index = list(apex).index(filter(lambda x: x!=0, apex)[0])
sage: apex = (QQ(1)/apex[non_zero_index]) * apex
sage: apex.set_immutable()
sage: vertices = set()
sage: br = apex.base_ring()
sage: for w in W:
....:     new_point = w * apex
....:     new_point.set_immutable()
....:     vertices.add(new_point)
....:     
sage: Polyhedron(vertices=vertices, backend='normaliz', base_ring=br,verbose=True)
Traceback (most recent call last):
...
TypeError: -1 of type <type 'sage.rings.number_field.number_field_element.NumberFieldElement_absolute'> not valid to initialize an element of the universal cyclotomic field
```



---

archive/issue_comments_382918.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nUnfortunately both of the following conversions fail:\n\n```\nUniversalCyclotomicField()(AA(-1))\nTypeError: -1 of type <class 'sage.rings.qqbar.AlgebraicReal'> not valid to initialize an element of the universal cyclotomic field\n```\nand\n\n```\nsage: K.<sqrt2> = QuadraticField(2)\nsage: UniversalCyclotomicField()(K(-1))\nTypeError: -1 of type <type 'sage.rings.number_field.number_field_element_quadratic.NumberFieldElement_quadratic'> not valid to initialize an element of the universal cyclotomic field\n```",
    "created_at": "2019-05-03T12:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382918",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Unfortunately both of the following conversions fail:

```
UniversalCyclotomicField()(AA(-1))
TypeError: -1 of type <class 'sage.rings.qqbar.AlgebraicReal'> not valid to initialize an element of the universal cyclotomic field
```
and

```
sage: K.<sqrt2> = QuadraticField(2)
sage: UniversalCyclotomicField()(K(-1))
TypeError: -1 of type <type 'sage.rings.number_field.number_field_element_quadratic.NumberFieldElement_quadratic'> not valid to initialize an element of the universal cyclotomic field
```



---

archive/issue_comments_382919.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis should be a separate ticket",
    "created_at": "2019-05-03T13:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382919",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

This should be a separate ticket



---

archive/issue_comments_382920.json:
```json
{
    "body": "Changed commit from **[`ec2646d`](https://github.com/sagemath/sagetrac-mirror/commit/ec2646dc2f2389af7bf09a364152920ecba7b9be)** to **[`978765b`](https://github.com/sagemath/sagetrac-mirror/commit/978765bd816698be8d73ed04db26a2206ea8d38f)**",
    "created_at": "2019-05-08T19:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382920",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec2646d`](https://github.com/sagemath/sagetrac-mirror/commit/ec2646dc2f2389af7bf09a364152920ecba7b9be)** to **[`978765b`](https://github.com/sagemath/sagetrac-mirror/commit/978765bd816698be8d73ed04db26a2206ea8d38f)**



---

archive/issue_comments_382921.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/292e01f3e26e8b437cfc22afb568d5b2c4ccc589\">292e01f</a></td><td><code>backend_normaliz: py3 fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d44a00d9b3b8b7ee6e4b1d89bf8adbcedebdedf3\">d44a00d</a></td><td><code>backend_normaliz: Canonicalize sort order of fields in normaliz files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd9a81bfe6660f52778b4becbc8f848e04f3b07e\">dd9a81b</a></td><td><code>Merge tag '8.8.beta4' into t/27731/public/27731</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b3a5baab1c7c4144ce9d420d36278f3cb53e7d1\">9b3a5ba</a></td><td><code>Fix error message in doctest for new pynormaliz version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7\">0a8c6f8</a></td><td><code>Merge branch 't/27782/1_pynormaliz_doctest_failing_in_src_sage_geometry_polyhedron_backend_normaliz_py' into t/27731/public/27731</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/978765bd816698be8d73ed04db26a2206ea8d38f\">978765b</a></td><td><code>Merge branch 't/27731/public/27731' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>\n",
    "created_at": "2019-05-08T19:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382921",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/292e01f3e26e8b437cfc22afb568d5b2c4ccc589">292e01f</a></td><td><code>backend_normaliz: py3 fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d44a00d9b3b8b7ee6e4b1d89bf8adbcedebdedf3">d44a00d</a></td><td><code>backend_normaliz: Canonicalize sort order of fields in normaliz files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd9a81bfe6660f52778b4becbc8f848e04f3b07e">dd9a81b</a></td><td><code>Merge tag '8.8.beta4' into t/27731/public/27731</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b3a5baab1c7c4144ce9d420d36278f3cb53e7d1">9b3a5ba</a></td><td><code>Fix error message in doctest for new pynormaliz version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a8c6f867f6779020df69e8687f32edf70a778f7">0a8c6f8</a></td><td><code>Merge branch 't/27782/1_pynormaliz_doctest_failing_in_src_sage_geometry_polyhedron_backend_normaliz_py' into t/27731/public/27731</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/978765bd816698be8d73ed04db26a2206ea8d38f">978765b</a></td><td><code>Merge branch 't/27731/public/27731' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>




---

archive/issue_comments_382922.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThere are python3 issues, pyflakes conventions issues, `:::` issues, and 2 missing doctests in `backend_normaliz.py`, see patchbot for more details.\n\nFrom a recent bot, there are the following files that have failing doctests (seems like the optional hashtag is missing):\n\n```\nsage -t --long src/sage/geometry/polyhedron/backend_normaliz.py  # 11 doctests failed\nsage -t --long src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst  # 2 doctests failed\n```",
    "created_at": "2019-05-17T13:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382922",
    "user": "https://github.com/jplab"
}
```

<div id="comment:8" align="right">comment:8</div>

There are python3 issues, pyflakes conventions issues, `:::` issues, and 2 missing doctests in `backend_normaliz.py`, see patchbot for more details.

From a recent bot, there are the following files that have failing doctests (seems like the optional hashtag is missing):

```
sage -t --long src/sage/geometry/polyhedron/backend_normaliz.py  # 11 doctests failed
sage -t --long src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst  # 2 doctests failed
```



---

archive/issue_events_347196.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-05-17T13:05:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347196"
}
```



---

archive/issue_events_347197.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-05-17T13:05:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347197"
}
```



---

archive/issue_comments_382923.json:
```json
{
    "body": "Changed commit from **[`978765b`](https://github.com/sagemath/sagetrac-mirror/commit/978765bd816698be8d73ed04db26a2206ea8d38f)** to **[`a8f307e`](https://github.com/sagemath/sagetrac-mirror/commit/a8f307e454cd16ef20850b99057f22c368629e4e)**",
    "created_at": "2019-05-17T18:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382923",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`978765b`](https://github.com/sagemath/sagetrac-mirror/commit/978765bd816698be8d73ed04db26a2206ea8d38f)** to **[`a8f307e`](https://github.com/sagemath/sagetrac-mirror/commit/a8f307e454cd16ef20850b99057f22c368629e4e)**



---

archive/issue_comments_382924.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83\">da05706</a></td><td><code>Fix forgotten optional package test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec949bdaebcfae4bf601cea50e6ad4406a7e698e\">ec949bd</a></td><td><code>Merge branch 't/25091/public/some_normaliz_features' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8f307e454cd16ef20850b99057f22c368629e4e\">a8f307e</a></td><td><code>Merge tag '8.8.beta5' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>\n",
    "created_at": "2019-05-17T18:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382924",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83">da05706</a></td><td><code>Fix forgotten optional package test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec949bdaebcfae4bf601cea50e6ad4406a7e698e">ec949bd</a></td><td><code>Merge branch 't/25091/public/some_normaliz_features' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8f307e454cd16ef20850b99057f22c368629e4e">a8f307e</a></td><td><code>Merge tag '8.8.beta5' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr></table>




---

archive/issue_comments_382925.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nMerged in latest version of #25091 and current beta.",
    "created_at": "2019-05-17T19:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382925",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:0" align="right">comment:0</div>

Merged in latest version of #25091 and current beta.



---

archive/issue_comments_382926.json:
```json
{
    "body": "Changed dependencies from **#27716, #26340, #27682, #20181, #25091, #27731** to **#25091**",
    "created_at": "2019-05-17T19:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382926",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#27716, #26340, #27682, #20181, #25091, #27731** to **#25091**



---

archive/issue_comments_382927.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca7c25ce899070a000ca5714ff4ee4cc67b1adb2\">ca7c25c</a></td><td><code>sage/geometry/polyhedron/parent.py: Change wording of error message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a0886a4a2bc15d5ec5c0373d4771f09d33cfa62\">7a0886a</a></td><td><code>Fix doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed6fcbf1ab93216403c74448b275fcdf74b12ae5\">ed6fcbf</a></td><td><code>Update polyhedron tutorial</code></td></tr></table>\n",
    "created_at": "2019-05-17T21:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382927",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca7c25ce899070a000ca5714ff4ee4cc67b1adb2">ca7c25c</a></td><td><code>sage/geometry/polyhedron/parent.py: Change wording of error message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a0886a4a2bc15d5ec5c0373d4771f09d33cfa62">7a0886a</a></td><td><code>Fix doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed6fcbf1ab93216403c74448b275fcdf74b12ae5">ed6fcbf</a></td><td><code>Update polyhedron tutorial</code></td></tr></table>




---

archive/issue_comments_382928.json:
```json
{
    "body": "Changed commit from **[`a8f307e`](https://github.com/sagemath/sagetrac-mirror/commit/a8f307e454cd16ef20850b99057f22c368629e4e)** to **[`ed6fcbf`](https://github.com/sagemath/sagetrac-mirror/commit/ed6fcbf1ab93216403c74448b275fcdf74b12ae5)**",
    "created_at": "2019-05-17T21:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382928",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a8f307e`](https://github.com/sagemath/sagetrac-mirror/commit/a8f307e454cd16ef20850b99057f22c368629e4e)** to **[`ed6fcbf`](https://github.com/sagemath/sagetrac-mirror/commit/ed6fcbf1ab93216403c74448b275fcdf74b12ae5)**



---

archive/issue_comments_382929.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSetting it back to needs_review to get a fresh patchbot run.",
    "created_at": "2019-05-17T21:29:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382929",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Setting it back to needs_review to get a fresh patchbot run.



---

archive/issue_events_347198.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-17T21:29:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347198"
}
```



---

archive/issue_events_347199.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-17T21:29:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347199"
}
```



---

archive/issue_comments_382930.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bd7635c5506c2de2df92f5674fab61adf5f698c\">4bd7635</a></td><td><code>Add more optional - pynormaliz</code></td></tr></table>\n",
    "created_at": "2019-05-17T21:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382930",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bd7635c5506c2de2df92f5674fab61adf5f698c">4bd7635</a></td><td><code>Add more optional - pynormaliz</code></td></tr></table>




---

archive/issue_comments_382931.json:
```json
{
    "body": "Changed commit from **[`ed6fcbf`](https://github.com/sagemath/sagetrac-mirror/commit/ed6fcbf1ab93216403c74448b275fcdf74b12ae5)** to **[`4bd7635`](https://github.com/sagemath/sagetrac-mirror/commit/4bd7635c5506c2de2df92f5674fab61adf5f698c)**",
    "created_at": "2019-05-17T21:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382931",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ed6fcbf`](https://github.com/sagemath/sagetrac-mirror/commit/ed6fcbf1ab93216403c74448b275fcdf74b12ae5)** to **[`4bd7635`](https://github.com/sagemath/sagetrac-mirror/commit/4bd7635c5506c2de2df92f5674fab61adf5f698c)**



---

archive/issue_comments_382932.json:
```json
{
    "body": "<div id=\"comment:115\" align=\"right\">comment:115</div>\n\nReplying to [@jplab](#comment:104):\n> Here is an error happening while coercing the values back into the given base ring (`UCF` in this case):\n\nShould we actually allow a complex field such as UCF as the base ring of a polyhedron?",
    "created_at": "2019-05-18T03:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382932",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:115" align="right">comment:115</div>

Replying to [@jplab](#comment:104):
> Here is an error happening while coercing the values back into the given base ring (`UCF` in this case):

Should we actually allow a complex field such as UCF as the base ring of a polyhedron?



---

archive/issue_comments_382933.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ba5515f790100f5fd6d1ef205bc1e55af39bf5a\">0ba5515</a></td><td><code>Polyhedron_normaliz._convert_to_pynormaliz: Rename from _convert_to_Qnormaliz, make static, add doctest, use int() instead of long()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b484af77e078358d50be4ed0a4eba92df7872c8d\">b484af7</a></td><td><code>Update doctests for int/long, py3</code></td></tr></table>\n",
    "created_at": "2019-05-18T13:41:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382933",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ba5515f790100f5fd6d1ef205bc1e55af39bf5a">0ba5515</a></td><td><code>Polyhedron_normaliz._convert_to_pynormaliz: Rename from _convert_to_Qnormaliz, make static, add doctest, use int() instead of long()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b484af77e078358d50be4ed0a4eba92df7872c8d">b484af7</a></td><td><code>Update doctests for int/long, py3</code></td></tr></table>




---

archive/issue_comments_382934.json:
```json
{
    "body": "Changed commit from **[`4bd7635`](https://github.com/sagemath/sagetrac-mirror/commit/4bd7635c5506c2de2df92f5674fab61adf5f698c)** to **[`b484af7`](https://github.com/sagemath/sagetrac-mirror/commit/b484af77e078358d50be4ed0a4eba92df7872c8d)**",
    "created_at": "2019-05-18T13:41:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382934",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4bd7635`](https://github.com/sagemath/sagetrac-mirror/commit/4bd7635c5506c2de2df92f5674fab61adf5f698c)** to **[`b484af7`](https://github.com/sagemath/sagetrac-mirror/commit/b484af77e078358d50be4ed0a4eba92df7872c8d)**



---

archive/issue_comments_382935.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99e12c15bf28965b61487dd99b8c720aa00c09bc\">99e12c1</a></td><td><code>Polyhedron_normaliz._number_field_triple: Add doctest</code></td></tr></table>\n",
    "created_at": "2019-05-18T13:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382935",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99e12c15bf28965b61487dd99b8c720aa00c09bc">99e12c1</a></td><td><code>Polyhedron_normaliz._number_field_triple: Add doctest</code></td></tr></table>




---

archive/issue_comments_382936.json:
```json
{
    "body": "Changed commit from **[`b484af7`](https://github.com/sagemath/sagetrac-mirror/commit/b484af77e078358d50be4ed0a4eba92df7872c8d)** to **[`99e12c1`](https://github.com/sagemath/sagetrac-mirror/commit/99e12c15bf28965b61487dd99b8c720aa00c09bc)**",
    "created_at": "2019-05-18T13:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382936",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b484af7`](https://github.com/sagemath/sagetrac-mirror/commit/b484af77e078358d50be4ed0a4eba92df7872c8d)** to **[`99e12c1`](https://github.com/sagemath/sagetrac-mirror/commit/99e12c15bf28965b61487dd99b8c720aa00c09bc)**



---

archive/issue_comments_382937.json:
```json
{
    "body": "Changed commit from **[`99e12c1`](https://github.com/sagemath/sagetrac-mirror/commit/99e12c15bf28965b61487dd99b8c720aa00c09bc)** to **[`4d82f5f`](https://github.com/sagemath/sagetrac-mirror/commit/4d82f5f5fd075aeea0be7965853fd3b557481166)**",
    "created_at": "2019-05-18T13:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382937",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`99e12c1`](https://github.com/sagemath/sagetrac-mirror/commit/99e12c15bf28965b61487dd99b8c720aa00c09bc)** to **[`4d82f5f`](https://github.com/sagemath/sagetrac-mirror/commit/4d82f5f5fd075aeea0be7965853fd3b557481166)**



---

archive/issue_comments_382938.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d82f5f5fd075aeea0be7965853fd3b557481166\">4d82f5f</a></td><td><code>_number_field_elements_from_algebraics_list_of_lists_of_lists: Remove debugging code</code></td></tr></table>\n",
    "created_at": "2019-05-18T13:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382938",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d82f5f5fd075aeea0be7965853fd3b557481166">4d82f5f</a></td><td><code>_number_field_elements_from_algebraics_list_of_lists_of_lists: Remove debugging code</code></td></tr></table>




---

archive/issue_comments_382939.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef280d1687c6f0d424db46a133619d4774246a52\">ef280d1</a></td><td><code>Fix triple_colon</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d03c5319c567f63f89d53a7375c33035c4c04ce9\">d03c531</a></td><td><code>py3: Change iteritems to items</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcf2c353f0e99ca2e72a6da98d3b6e43689229fc\">fcf2c35</a></td><td><code>py3: Get rid of has_key; avoid unnecessary copy</code></td></tr></table>\n",
    "created_at": "2019-05-18T14:25:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382939",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef280d1687c6f0d424db46a133619d4774246a52">ef280d1</a></td><td><code>Fix triple_colon</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d03c5319c567f63f89d53a7375c33035c4c04ce9">d03c531</a></td><td><code>py3: Change iteritems to items</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcf2c353f0e99ca2e72a6da98d3b6e43689229fc">fcf2c35</a></td><td><code>py3: Get rid of has_key; avoid unnecessary copy</code></td></tr></table>




---

archive/issue_comments_382940.json:
```json
{
    "body": "Changed commit from **[`4d82f5f`](https://github.com/sagemath/sagetrac-mirror/commit/4d82f5f5fd075aeea0be7965853fd3b557481166)** to **[`fcf2c35`](https://github.com/sagemath/sagetrac-mirror/commit/fcf2c353f0e99ca2e72a6da98d3b6e43689229fc)**",
    "created_at": "2019-05-18T14:25:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382940",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4d82f5f`](https://github.com/sagemath/sagetrac-mirror/commit/4d82f5f5fd075aeea0be7965853fd3b557481166)** to **[`fcf2c35`](https://github.com/sagemath/sagetrac-mirror/commit/fcf2c353f0e99ca2e72a6da98d3b6e43689229fc)**



---

archive/issue_comments_382941.json:
```json
{
    "body": "Changed dependencies from **#25091** to **#25091, #27731**",
    "created_at": "2019-05-18T14:56:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382941",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#25091** to **#25091, #27731**



---

archive/issue_comments_382942.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abb7b02fd0e2866b1cc5627d9046f89074ee7b09\">abb7b02</a></td><td><code>More optional - pynormaliz</code></td></tr></table>\n",
    "created_at": "2019-05-18T21:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382942",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abb7b02fd0e2866b1cc5627d9046f89074ee7b09">abb7b02</a></td><td><code>More optional - pynormaliz</code></td></tr></table>




---

archive/issue_comments_382943.json:
```json
{
    "body": "Changed commit from **[`fcf2c35`](https://github.com/sagemath/sagetrac-mirror/commit/fcf2c353f0e99ca2e72a6da98d3b6e43689229fc)** to **[`abb7b02`](https://github.com/sagemath/sagetrac-mirror/commit/abb7b02fd0e2866b1cc5627d9046f89074ee7b09)**",
    "created_at": "2019-05-18T21:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382943",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fcf2c35`](https://github.com/sagemath/sagetrac-mirror/commit/fcf2c353f0e99ca2e72a6da98d3b6e43689229fc)** to **[`abb7b02`](https://github.com/sagemath/sagetrac-mirror/commit/abb7b02fd0e2866b1cc5627d9046f89074ee7b09)**



---

archive/issue_comments_382944.json:
```json
{
    "body": "<div id=\"comment:122\" align=\"right\">comment:122</div>\n\nReplying to [@mkoeppe](#comment:115):\n> Replying to [@jplab](#comment:104):\n> > Here is an error happening while coercing the values back into the given base ring (`UCF` in this case):\n\n> \n> Should we actually allow a complex field such as UCF as the base ring of a polyhedron? \n\nNot sure. I remember I was not so happy about allowing real algebraic numbers that have a complex parent into polyhedron: it makes things quite intricate in designing the constructor.\n\nThe situation before this ticket was not allowing anything inside of `SymbolicRing` for example, and this would also do the same for `UCF` is the backend field was not given (or perhaps there was an effort to check if one can coerce it in `AA`)... Now, since we accept things that are in the symbolic ring if it is possible to coerce it into an embedded number field... I feel like it would be nice to accept elements of `UCF` if they are real... I remember I had to tweak #20181  so that it would manage to coerce real algebraic numbers even though they are elements of a complex ring.\n\nThat said, I would say that the answer should be 'No' (as far as I understand, complex polyhedra are not really well-defined, or are they?). So, this would be an exception to the idea \"give back a common parent to the elements given by the user and use it as base ring\". I guess the rule should be bound to ultimately \"stay real\".\n\nSo there could be a check to see if the user provided elements from a complex ring (although they are indeed real) and do the appropriate steps to give a real base ring. I do not know how hard implementing this here.",
    "created_at": "2019-05-19T09:44:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382944",
    "user": "https://github.com/jplab"
}
```

<div id="comment:122" align="right">comment:122</div>

Replying to [@mkoeppe](#comment:115):
> Replying to [@jplab](#comment:104):
> > Here is an error happening while coercing the values back into the given base ring (`UCF` in this case):

> 
> Should we actually allow a complex field such as UCF as the base ring of a polyhedron? 

Not sure. I remember I was not so happy about allowing real algebraic numbers that have a complex parent into polyhedron: it makes things quite intricate in designing the constructor.

The situation before this ticket was not allowing anything inside of `SymbolicRing` for example, and this would also do the same for `UCF` is the backend field was not given (or perhaps there was an effort to check if one can coerce it in `AA`)... Now, since we accept things that are in the symbolic ring if it is possible to coerce it into an embedded number field... I feel like it would be nice to accept elements of `UCF` if they are real... I remember I had to tweak #20181  so that it would manage to coerce real algebraic numbers even though they are elements of a complex ring.

That said, I would say that the answer should be 'No' (as far as I understand, complex polyhedra are not really well-defined, or are they?). So, this would be an exception to the idea "give back a common parent to the elements given by the user and use it as base ring". I guess the rule should be bound to ultimately "stay real".

So there could be a check to see if the user provided elements from a complex ring (although they are indeed real) and do the appropriate steps to give a real base ring. I do not know how hard implementing this here.



---

archive/issue_events_347200.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-05-22T16:18:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347200"
}
```



---

archive/issue_events_347201.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-05-22T16:18:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347201"
}
```



---

archive/issue_comments_382945.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThere are two doctest failing in the tutorials (coming from changing an error message):\n\n```\n----------------------------------------------------------------------\nsage -t --long src/sage/sat/boolean_polynomials.py  # 1 doctest failed\nsage -t --long src/sage/graphs/generic_graph.py  # 1 doctest failed\nsage -t --long src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst  # 2 doctests failed\n----------------------------------------------------------------------\n```\n\nThe first two might be spurious errors, but maybe they come from employing polyhedra...",
    "created_at": "2019-05-22T16:18:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382945",
    "user": "https://github.com/jplab"
}
```

<div id="comment:3" align="right">comment:3</div>

There are two doctest failing in the tutorials (coming from changing an error message):

```
----------------------------------------------------------------------
sage -t --long src/sage/sat/boolean_polynomials.py  # 1 doctest failed
sage -t --long src/sage/graphs/generic_graph.py  # 1 doctest failed
sage -t --long src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst  # 2 doctests failed
----------------------------------------------------------------------
```

The first two might be spurious errors, but maybe they come from employing polyhedra...



---

archive/issue_comments_382946.json:
```json
{
    "body": "<div id=\"comment:124\" align=\"right\">comment:124</div>\n\nReplying to [@jplab](#comment:123):\n> There are two doctest failing in the tutorials (coming from changing an error message):\n> \n> ```\n> ----------------------------------------------------------------------\n> sage -t --long src/sage/sat/boolean_polynomials.py  # 1 doctest failed\n> sage -t --long src/sage/graphs/generic_graph.py  # 1 doctest failed\n> sage -t --long src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst  # 2 doctests failed\n> ----------------------------------------------------------------------\n> ```\n> \n> The first two might be spurious errors, but maybe they come from employing polyhedra...\n\nActually, there is some dirt in the traceback for the errors on the branch. Most probably this is the cause of the breaking doctests...",
    "created_at": "2019-05-22T16:20:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382946",
    "user": "https://github.com/jplab"
}
```

<div id="comment:124" align="right">comment:124</div>

Replying to [@jplab](#comment:123):
> There are two doctest failing in the tutorials (coming from changing an error message):
> 
> ```
> ----------------------------------------------------------------------
> sage -t --long src/sage/sat/boolean_polynomials.py  # 1 doctest failed
> sage -t --long src/sage/graphs/generic_graph.py  # 1 doctest failed
> sage -t --long src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst  # 2 doctests failed
> ----------------------------------------------------------------------
> ```
> 
> The first two might be spurious errors, but maybe they come from employing polyhedra...

Actually, there is some dirt in the traceback for the errors on the branch. Most probably this is the cause of the breaking doctests...



---

archive/issue_comments_382947.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad4d7394873e2062ff359fb3eb254cc0e0a3ef5a\">ad4d739</a></td><td><code>Merge tag '8.8.beta6' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca71cc29875892438eb8d77393b5ec1635f015b0\">ca71cc2</a></td><td><code>polyhedra_tutorial: Fix error messages in doctests</code></td></tr></table>\n",
    "created_at": "2019-05-23T01:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382947",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad4d7394873e2062ff359fb3eb254cc0e0a3ef5a">ad4d739</a></td><td><code>Merge tag '8.8.beta6' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca71cc29875892438eb8d77393b5ec1635f015b0">ca71cc2</a></td><td><code>polyhedra_tutorial: Fix error messages in doctests</code></td></tr></table>




---

archive/issue_comments_382948.json:
```json
{
    "body": "Changed commit from **[`abb7b02`](https://github.com/sagemath/sagetrac-mirror/commit/abb7b02fd0e2866b1cc5627d9046f89074ee7b09)** to **[`ca71cc2`](https://github.com/sagemath/sagetrac-mirror/commit/ca71cc29875892438eb8d77393b5ec1635f015b0)**",
    "created_at": "2019-05-23T01:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382948",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`abb7b02`](https://github.com/sagemath/sagetrac-mirror/commit/abb7b02fd0e2866b1cc5627d9046f89074ee7b09)** to **[`ca71cc2`](https://github.com/sagemath/sagetrac-mirror/commit/ca71cc29875892438eb8d77393b5ec1635f015b0)**



---

archive/issue_comments_382949.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFixed the doctest and merged in the newest beta.",
    "created_at": "2019-05-23T01:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382949",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Fixed the doctest and merged in the newest beta.



---

archive/issue_events_347202.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-23T01:36:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347202"
}
```



---

archive/issue_events_347203.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-23T01:36:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347203"
}
```



---

archive/issue_events_347204.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-06-07T19:02:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347204"
}
```



---

archive/issue_events_347205.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-06-07T19:02:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347205"
}
```



---

archive/issue_comments_382950.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThere is 1 doctest failing because of #21161. :-/",
    "created_at": "2019-06-07T19:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382950",
    "user": "https://github.com/jplab"
}
```

<div id="comment:7" align="right">comment:7</div>

There is 1 doctest failing because of #21161. :-/



---

archive/issue_comments_382951.json:
```json
{
    "body": "Reviewer: **Jean-Philippe Labb\u00e9**",
    "created_at": "2019-06-07T19:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382951",
    "user": "https://github.com/jplab"
}
```

Reviewer: **Jean-Philippe Labb√©**



---

archive/issue_comments_382952.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nNow with #27965, we may get a conflict in snub dodecahedron. I was not quick enough to warn about it on the ticket #27965 about the current one...",
    "created_at": "2019-06-11T19:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382952",
    "user": "https://github.com/jplab"
}
```

<div id="comment:9" align="right">comment:9</div>

Now with #27965, we may get a conflict in snub dodecahedron. I was not quick enough to warn about it on the ticket #27965 about the current one...



---

archive/issue_comments_382953.json:
```json
{
    "body": "Changed dependencies from **#25091, #27731** to **#25091, #27731, #27965**",
    "created_at": "2019-06-12T07:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382953",
    "user": "https://github.com/jplab"
}
```

Changed dependencies from **#25091, #27731** to **#25091, #27731, #27965**



---

archive/issue_comments_382954.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\n#27965 should be merged into this ticket to avoid yet another conflict.\n\nThe other ticket allows to \"whitelist\" geometry for py3, probably asap for it to be in the next release.\n\n... that said, I would also like to see this ticket in the next release so that we can move on to further enrich normaliz' interfacing...",
    "created_at": "2019-06-12T07:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382954",
    "user": "https://github.com/jplab"
}
```

<div id="comment:0" align="right">comment:0</div>

#27965 should be merged into this ticket to avoid yet another conflict.

The other ticket allows to "whitelist" geometry for py3, probably asap for it to be in the next release.

... that said, I would also like to see this ticket in the next release so that we can move on to further enrich normaliz' interfacing...



---

archive/issue_comments_382955.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382955",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">comment:1</div>

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_347206.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347206"
}
```



---

archive/issue_events_347207.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347207"
}
```



---

archive/issue_comments_382956.json:
```json
{
    "body": "Changed commit from **[`ca71cc2`](https://github.com/sagemath/sagetrac-mirror/commit/ca71cc29875892438eb8d77393b5ec1635f015b0)** to **[`4258704`](https://github.com/sagemath/sagetrac-mirror/commit/4258704205e49d5786850ef657465a7e3185f0c0)**",
    "created_at": "2019-06-19T21:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382956",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ca71cc2`](https://github.com/sagemath/sagetrac-mirror/commit/ca71cc29875892438eb8d77393b5ec1635f015b0)** to **[`4258704`](https://github.com/sagemath/sagetrac-mirror/commit/4258704205e49d5786850ef657465a7e3185f0c0)**



---

archive/issue_comments_382957.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28b8dbd33b73c42a88177d10acc4ef2e5bbf72f5\">28b8dbd</a></td><td><code>Merge tag '8.8.rc1' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fcdf0594952b6aa3234a75ef0d7137c84655583\">6fcdf05</a></td><td><code>trac 27965: py3 fix in geometry/polyhedron/library.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d46bb28af89ab1c53cbf9ee59b01faff3b609f4\">3d46bb2</a></td><td><code>Merge branch 't/27965/27965' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4258704205e49d5786850ef657465a7e3185f0c0\">4258704</a></td><td><code>Fix doctests for changed embedded numberfield repr</code></td></tr></table>\n",
    "created_at": "2019-06-19T21:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382957",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28b8dbd33b73c42a88177d10acc4ef2e5bbf72f5">28b8dbd</a></td><td><code>Merge tag '8.8.rc1' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fcdf0594952b6aa3234a75ef0d7137c84655583">6fcdf05</a></td><td><code>trac 27965: py3 fix in geometry/polyhedron/library.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d46bb28af89ab1c53cbf9ee59b01faff3b609f4">3d46bb2</a></td><td><code>Merge branch 't/27965/27965' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4258704205e49d5786850ef657465a7e3185f0c0">4258704</a></td><td><code>Fix doctests for changed embedded numberfield repr</code></td></tr></table>




---

archive/issue_events_347208.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-19T21:55:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347208"
}
```



---

archive/issue_events_347209.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-19T21:55:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347209"
}
```



---

archive/issue_comments_382958.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nLooks good to me now. I would say this is ready and I would put it as positive review, with Vincent also as a reviewer too.\n\n`@`Vincent: Let us know if you agree. It would be good to know if there are last things to be aware of.",
    "created_at": "2019-06-21T09:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382958",
    "user": "https://github.com/jplab"
}
```

<div id="comment:4" align="right">comment:4</div>

Looks good to me now. I would say this is ready and I would put it as positive review, with Vincent also as a reviewer too.

`@`Vincent: Let us know if you agree. It would be good to know if there are last things to be aware of.



---

archive/issue_comments_382959.json:
```json
{
    "body": "Changed reviewer from **Jean-Philippe Labb\u00e9** to **Vincent Delecroix, Jean-Philippe Labb\u00e9**",
    "created_at": "2019-06-21T09:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382959",
    "user": "https://github.com/jplab"
}
```

Changed reviewer from **Jean-Philippe Labb√©** to **Vincent Delecroix, Jean-Philippe Labb√©**



---

archive/issue_comments_382960.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nping!\n\nAny last comments Vincent?",
    "created_at": "2019-07-05T07:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382960",
    "user": "https://github.com/jplab"
}
```

<div id="comment:5" align="right">comment:5</div>

ping!

Any last comments Vincent?



---

archive/issue_comments_382961.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\ndoctest failure in /library with py3",
    "created_at": "2019-07-07T09:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382961",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

doctest failure in /library with py3



---

archive/issue_events_347210.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-07-07T09:40:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347210"
}
```



---

archive/issue_events_347211.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-07-07T09:40:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347211"
}
```



---

archive/issue_comments_382962.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23b1cbea7cff760eae11e30cb84fbc57d305ea25\">23b1cbe</a></td><td><code>Merge tag '8.9.beta1' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f94bf376ea7c391fd779587968738af23c486b07\">f94bf37</a></td><td><code>snub_dodecahedron: Disable doctests for broken floating point computation</code></td></tr></table>\n",
    "created_at": "2019-07-08T19:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382962",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23b1cbea7cff760eae11e30cb84fbc57d305ea25">23b1cbe</a></td><td><code>Merge tag '8.9.beta1' into t/25097/public/normaliz-3.7.0-algebraic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f94bf376ea7c391fd779587968738af23c486b07">f94bf37</a></td><td><code>snub_dodecahedron: Disable doctests for broken floating point computation</code></td></tr></table>




---

archive/issue_comments_382963.json:
```json
{
    "body": "Changed commit from **[`4258704`](https://github.com/sagemath/sagetrac-mirror/commit/4258704205e49d5786850ef657465a7e3185f0c0)** to **[`f94bf37`](https://github.com/sagemath/sagetrac-mirror/commit/f94bf376ea7c391fd779587968738af23c486b07)**",
    "created_at": "2019-07-08T19:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382963",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4258704`](https://github.com/sagemath/sagetrac-mirror/commit/4258704205e49d5786850ef657465a7e3185f0c0)** to **[`f94bf37`](https://github.com/sagemath/sagetrac-mirror/commit/f94bf376ea7c391fd779587968738af23c486b07)**



---

archive/issue_events_347212.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-07-08T19:38:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347212"
}
```



---

archive/issue_events_347213.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-07-08T19:38:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347213"
}
```



---

archive/issue_comments_382964.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThe last changes looks reasonable to me.",
    "created_at": "2019-07-11T13:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382964",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

The last changes looks reasonable to me.



---

archive/issue_events_347214.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-07-16T16:02:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347214"
}
```



---

archive/issue_events_347215.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-07-16T16:02:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347215"
}
```



---

archive/issue_comments_382965.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nIt looks good to me too. I set it to positive review.\n\nJust a FYI: if there are any other comments, next week is the Sage days in Bonn and vdelecroix and me are going to be available to work on follow-ups if need be.",
    "created_at": "2019-07-16T16:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382965",
    "user": "https://github.com/jplab"
}
```

<div id="comment:0" align="right">comment:0</div>

It looks good to me too. I set it to positive review.

Just a FYI: if there are any other comments, next week is the Sage days in Bonn and vdelecroix and me are going to be available to work on follow-ups if need be.



---

archive/issue_events_347216.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-18T21:02:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347216"
}
```



---

archive/issue_events_347217.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "16aca5f5c75f252bc026ab106c03beaa17312978",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-18T21:02:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25097#event-347217"
}
```



---

archive/issue_comments_382966.json:
```json
{
    "body": "Changed branch from **[public/25097/qnormaliz-algebraic](https://github.com/sagemath/sagetrac-mirror/tree/public/25097/qnormaliz-algebraic)** to **[`f94bf37`](https://github.com/sagemath/sagetrac-mirror/commit/f94bf376ea7c391fd779587968738af23c486b07)**",
    "created_at": "2019-07-18T21:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25097#issuecomment-382966",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/25097/qnormaliz-algebraic](https://github.com/sagemath/sagetrac-mirror/tree/public/25097/qnormaliz-algebraic)** to **[`f94bf37`](https://github.com/sagemath/sagetrac-mirror/commit/f94bf376ea7c391fd779587968738af23c486b07)**
