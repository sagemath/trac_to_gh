# Issue 25602: implement translation of fricas.rootOf

archive/issues_025365.json:
```json
{
    "body": "\n```\nsage: var('x')\nsage: fricas.setSimplifyDenomsFlag(fricas.true)\nsage: integrate(sqrt(x + sqrt(x + 1))/((x^2 + 1)*sqrt(x + 1)),x,algorithm=\"fricas\")\n\nsage: integrate(sqrt(x + sqrt(x + 1))/(x^2 + 1),x, algorithm=\"fricas\")\n```\n\nyield `NotImplementedError`s, because FriCAS returns results containing `rootOf` expressions.\n\nSee https://groups.google.com/forum/#!topic/fricas-devel/aV7uLH8plZM\n\n\n\n**CC:**  @nasser1 @rwst @antonio-rojas\n\n**Keywords:** FriCAS\n\n**Branch:** [4539a940848397eb8113f0e889db231e0dac91dc](https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc)\n\n**Reviewer:** Dima Pasechnik, Eric Gourgoulhon\n\n**Author:** Martin Rubey\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25602\n\n",
    "closed_at": "2018-08-06T15:13:03Z",
    "created_at": "2018-06-18T16:31:11Z",
    "labels": [
        "component: interfaces: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "implement translation of fricas.rootOf",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25602",
    "user": "https://github.com/mantepse"
}
```

```
sage: var('x')
sage: fricas.setSimplifyDenomsFlag(fricas.true)
sage: integrate(sqrt(x + sqrt(x + 1))/((x^2 + 1)*sqrt(x + 1)),x,algorithm="fricas")

sage: integrate(sqrt(x + sqrt(x + 1))/(x^2 + 1),x, algorithm="fricas")
```

yield `NotImplementedError`s, because FriCAS returns results containing `rootOf` expressions.

See https://groups.google.com/forum/#!topic/fricas-devel/aV7uLH8plZM



**CC:**  @nasser1 @rwst @antonio-rojas

**Keywords:** FriCAS

**Branch:** [4539a940848397eb8113f0e889db231e0dac91dc](https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc)

**Reviewer:** Dima Pasechnik, Eric Gourgoulhon

**Author:** Martin Rubey

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/25602





---

archive/issue_comments_492518.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"FriCAS\".",
    "created_at": "2018-06-18T16:38:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492518",
    "user": "https://github.com/mantepse"
}
```

**Changing keywords** from "" to "FriCAS".



---

archive/issue_comments_492519.json:
```json
{
    "body": "<a id='comment:3'></a>\nNasser, do you happen to have a simple integration result containing a `rootOf`? This would be really helpful for testing purposes!",
    "created_at": "2018-06-18T19:49:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492519",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'></a>
Nasser, do you happen to have a simple integration result containing a `rootOf`? This would be really helpful for testing purposes!



---

archive/issue_comments_492520.json:
```json
{
    "body": "<a id='comment:4'></a>\nI searched my tests files, and do not see a \"simple\" result. Each of these integrals below generate rootOf when running them in Fricas. But they all produce large results I am afraid. But these should be useful to test your conversion with.\n\n\n```\nintegrate(1/(-1/x^(1/3)+x^(1/2)),x)\nintegrate(x^(1/2)/(-1/x^(1/3)+x^(1/2)),x)\nintegrate((x+(1+x)^(1/2))^(1/2)/(x^2+1)/(1+x)^(1/2),x)\nintegrate((x+(1+x)^(1/2))^(1/2)/(x^2+1),x)\nintegrate(1/(a^5+x^5),x)\nintegrate(x^2/(a^5+x^5),x)\nintegrate(x^3/(a^5+x^5),x)\nintegrate(1/x^2/(a^5+x^5),x)\nintegrate(1/x^3/(a^5+x^5),x)\nintegrate(1/x^4/(a^5+x^5),x)\nintegrate(x^6/(2*x^5+3)^3,x)\nintegrate(tan(x)/(-1+tan(x)^(1/2))^2,x)\n```",
    "created_at": "2018-06-18T21:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492520",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:4'></a>
I searched my tests files, and do not see a "simple" result. Each of these integrals below generate rootOf when running them in Fricas. But they all produce large results I am afraid. But these should be useful to test your conversion with.


```
integrate(1/(-1/x^(1/3)+x^(1/2)),x)
integrate(x^(1/2)/(-1/x^(1/3)+x^(1/2)),x)
integrate((x+(1+x)^(1/2))^(1/2)/(x^2+1)/(1+x)^(1/2),x)
integrate((x+(1+x)^(1/2))^(1/2)/(x^2+1),x)
integrate(1/(a^5+x^5),x)
integrate(x^2/(a^5+x^5),x)
integrate(x^3/(a^5+x^5),x)
integrate(1/x^2/(a^5+x^5),x)
integrate(1/x^3/(a^5+x^5),x)
integrate(1/x^4/(a^5+x^5),x)
integrate(x^6/(2*x^5+3)^3,x)
integrate(tan(x)/(-1+tan(x)^(1/2))^2,x)
```



---

archive/issue_comments_492521.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis was very helpful! I've now got something if no variables are involved, however, I am not sure how helpful it is.  For example:\n\n```\nsage: f = 1/(1+x^5)\nsage: F = fricas.integrate(f, x).sage(); F\n(0.06180339887498948? + 0.1902113032590308?*I)*log(2*x + 0.618033988749895? + 1.902113032590308?*I) + (0.06180339887498948? - 0.1902113032590308?*I)*log(2*x + 0.618033988749895? - 1.902113032590308?*I) + 1/5*log(x + 1) - (0.1618033988749895? - 0.11755705045849462?*I)*log(x - 0.8090169943749474? + 0.5877852522924731?*I) - (0.1618033988749895? + 0.11755705045849462?*I)*log(x - 0.8090169943749474? - 0.5877852522924731?*I)\n```\n(I checked the solution, it is correct.)",
    "created_at": "2018-06-18T22:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492521",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:5'></a>
This was very helpful! I've now got something if no variables are involved, however, I am not sure how helpful it is.  For example:

```
sage: f = 1/(1+x^5)
sage: F = fricas.integrate(f, x).sage(); F
(0.06180339887498948? + 0.1902113032590308?*I)*log(2*x + 0.618033988749895? + 1.902113032590308?*I) + (0.06180339887498948? - 0.1902113032590308?*I)*log(2*x + 0.618033988749895? - 1.902113032590308?*I) + 1/5*log(x + 1) - (0.1618033988749895? - 0.11755705045849462?*I)*log(x - 0.8090169943749474? + 0.5877852522924731?*I) - (0.1618033988749895? + 0.11755705045849462?*I)*log(x - 0.8090169943749474? - 0.5877852522924731?*I)
```
(I checked the solution, it is correct.)



---

archive/issue_comments_492522.json:
```json
{
    "body": "<a id='comment:6'></a>\nJust found out that `QQbar` can try to find an expression in terms of radicals.  The output will be terrible, in general:\n\n```\nsage: F = fricas.integrate(f, x).sage(); F\n1/20*(sqrt(5) + 2*sqrt(-3/16*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 - 1/8*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) - 3)*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1) - 3/16*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 + 1/2*sqrt(5) + 5*sqrt(1/50*sqrt(5) - 1/10) - 5/2) - 1)*log(2*x + 1/2*sqrt(5) + sqrt(-3/16*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 - 1/8*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) - 3)*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1) - 3/16*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 + 1/2*sqrt(5) + 5*sqrt(1/50*sqrt(5) - 1/10) - 5/2) - 1/2) + 1/20*(sqrt(5) - 2*sqrt(-3/16*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 - 1/8*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) - 3)*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1) - 3/16*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 + 1/2*sqrt(5) + 5*sqrt(1/50*sqrt(5) - 1/10) - 5/2) - 1)*log(2*x + 1/2*sqrt(5) - sqrt(-3/16*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 - 1/8*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) - 3)*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1) - 3/16*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 + 1/2*sqrt(5) + 5*sqrt(1/50*sqrt(5) - 1/10) - 5/2) - 1/2) - 1/20*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)*log(x - 1/4*sqrt(5) + 5/2*sqrt(1/50*sqrt(5) - 1/10) - 1/4) - 1/20*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)*log(x - 1/4*sqrt(5) - 5/2*sqrt(1/50*sqrt(5) - 1/10) - 1/4) + 1/5*log(x + 1)\nsage: F.simplify_full()\n1/20*(sqrt(2)*sqrt(sqrt(5) - 5) - sqrt(5) - 1)*log(1/8*sqrt(2)*(4*sqrt(2)*x - sqrt(5)*sqrt(2) - sqrt(2) + 2*sqrt(sqrt(5) - 5))) - 1/20*(sqrt(2)*sqrt(sqrt(5) - 5) + sqrt(5) + 1)*log(1/8*sqrt(2)*(4*sqrt(2)*x - sqrt(5)*sqrt(2) - sqrt(2) - 2*sqrt(sqrt(5) - 5))) + 1/20*(sqrt(5) + 2*sqrt(-1/2*sqrt(5) - 5/2) - 1)*log(2*x + 1/2*sqrt(5) + sqrt(-1/2*sqrt(5) - 5/2) - 1/2) + 1/20*(sqrt(5) - 2*sqrt(-1/2*sqrt(5) - 5/2) - 1)*log(2*x + 1/2*sqrt(5) - sqrt(-1/2*sqrt(5) - 5/2) - 1/2) + 1/5*log(x + 1)\n```",
    "created_at": "2018-06-18T22:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492522",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>
Just found out that `QQbar` can try to find an expression in terms of radicals.  The output will be terrible, in general:

```
sage: F = fricas.integrate(f, x).sage(); F
1/20*(sqrt(5) + 2*sqrt(-3/16*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 - 1/8*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) - 3)*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1) - 3/16*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 + 1/2*sqrt(5) + 5*sqrt(1/50*sqrt(5) - 1/10) - 5/2) - 1)*log(2*x + 1/2*sqrt(5) + sqrt(-3/16*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 - 1/8*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) - 3)*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1) - 3/16*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 + 1/2*sqrt(5) + 5*sqrt(1/50*sqrt(5) - 1/10) - 5/2) - 1/2) + 1/20*(sqrt(5) - 2*sqrt(-3/16*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 - 1/8*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) - 3)*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1) - 3/16*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 + 1/2*sqrt(5) + 5*sqrt(1/50*sqrt(5) - 1/10) - 5/2) - 1)*log(2*x + 1/2*sqrt(5) - sqrt(-3/16*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 - 1/8*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) - 3)*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1) - 3/16*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)^2 + 1/2*sqrt(5) + 5*sqrt(1/50*sqrt(5) - 1/10) - 5/2) - 1/2) - 1/20*(sqrt(5) - 10*sqrt(1/50*sqrt(5) - 1/10) + 1)*log(x - 1/4*sqrt(5) + 5/2*sqrt(1/50*sqrt(5) - 1/10) - 1/4) - 1/20*(sqrt(5) + 10*sqrt(1/50*sqrt(5) - 1/10) + 1)*log(x - 1/4*sqrt(5) - 5/2*sqrt(1/50*sqrt(5) - 1/10) - 1/4) + 1/5*log(x + 1)
sage: F.simplify_full()
1/20*(sqrt(2)*sqrt(sqrt(5) - 5) - sqrt(5) - 1)*log(1/8*sqrt(2)*(4*sqrt(2)*x - sqrt(5)*sqrt(2) - sqrt(2) + 2*sqrt(sqrt(5) - 5))) - 1/20*(sqrt(2)*sqrt(sqrt(5) - 5) + sqrt(5) + 1)*log(1/8*sqrt(2)*(4*sqrt(2)*x - sqrt(5)*sqrt(2) - sqrt(2) - 2*sqrt(sqrt(5) - 5))) + 1/20*(sqrt(5) + 2*sqrt(-1/2*sqrt(5) - 5/2) - 1)*log(2*x + 1/2*sqrt(5) + sqrt(-1/2*sqrt(5) - 5/2) - 1/2) + 1/20*(sqrt(5) - 2*sqrt(-1/2*sqrt(5) - 5/2) - 1)*log(2*x + 1/2*sqrt(5) - sqrt(-1/2*sqrt(5) - 5/2) - 1/2) + 1/5*log(x + 1)
```



---

archive/issue_comments_492523.json:
```json
{
    "body": "<a id='comment:7'></a>\nI do not think you'd want to actually evaluate numerically the roots as in your first example above. \n\nI think fricas uses rootOf when it can't solve for the root analytically (as in polynomials for higher order than 4, where there is no formula in general). \n\nI've seen Mathematica also return RootOf for some results. The user can then obtain numerical values for the result if they want to afterwords. But for a symbolic integration, the result should always be returned as symbolic, with no floating point numbers.  So your second example above would be much better to use. \n\nbtw, For this example, Mathematica gives  \n\n\n```\nIntegrate[1/(1+x^5),x]\n\n(1/20)*(-2*Sqrt[10 - 2*Sqrt[5]]*ArcTan[(1 + Sqrt[5] - 4*x)/Sqrt[10 - 2*Sqrt[5]]] + \n   2*Sqrt[2*(5 + Sqrt[5])]*ArcTan[(-1 + Sqrt[5] + 4*x)/Sqrt[2*(5 + Sqrt[5])]] + 4*Log[1 + x] + \n   (-1 + Sqrt[5])*Log[1 + (1/2)*(-1 + Sqrt[5])*x + x^2] - \n   (1 + Sqrt[5])*Log[1 - (1/2)*(1 + Sqrt[5])*x + x^2])\n\n```\n\nThank you\n--Nasser",
    "created_at": "2018-06-18T22:41:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492523",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:7'></a>
I do not think you'd want to actually evaluate numerically the roots as in your first example above. 

I think fricas uses rootOf when it can't solve for the root analytically (as in polynomials for higher order than 4, where there is no formula in general). 

I've seen Mathematica also return RootOf for some results. The user can then obtain numerical values for the result if they want to afterwords. But for a symbolic integration, the result should always be returned as symbolic, with no floating point numbers.  So your second example above would be much better to use. 

btw, For this example, Mathematica gives  


```
Integrate[1/(1+x^5),x]

(1/20)*(-2*Sqrt[10 - 2*Sqrt[5]]*ArcTan[(1 + Sqrt[5] - 4*x)/Sqrt[10 - 2*Sqrt[5]]] + 
   2*Sqrt[2*(5 + Sqrt[5])]*ArcTan[(-1 + Sqrt[5] + 4*x)/Sqrt[2*(5 + Sqrt[5])]] + 4*Log[1 + x] + 
   (-1 + Sqrt[5])*Log[1 + (1/2)*(-1 + Sqrt[5])*x + x^2] - 
   (1 + Sqrt[5])*Log[1 - (1/2)*(1 + Sqrt[5])*x + x^2])

```

Thank you
--Nasser



---

archive/issue_comments_492524.json:
```json
{
    "body": "**Branch:** [u/mantepse/implement_translation_of_fricas_rootof](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/implement_translation_of_fricas_rootof)",
    "created_at": "2018-06-18T22:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492524",
    "user": "https://github.com/mantepse"
}
```

**Branch:** [u/mantepse/implement_translation_of_fricas_rootof](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/implement_translation_of_fricas_rootof)



---

archive/issue_comments_492525.json:
```json
{
    "body": "**Commit:** [84c392e413ef4515ab4e4d3e5e17d6e54c930ef2](https://github.com/sagemath/sagetrac-mirror/commit/84c392e413ef4515ab4e4d3e5e17d6e54c930ef2)",
    "created_at": "2018-06-18T22:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492525",
    "user": "https://github.com/mantepse"
}
```

**Commit:** [84c392e413ef4515ab4e4d3e5e17d6e54c930ef2](https://github.com/sagemath/sagetrac-mirror/commit/84c392e413ef4515ab4e4d3e5e17d6e54c930ef2)



---

archive/issue_comments_492526.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [gh-nasser1](#comment%3A7):\n> I do not think you'd want to actually evaluate numerically the roots as in your first example above. \n\n\nNote that the result is **not** numeric, the coefficients are in `QQbar`.  They are exact, only an approximation is printed.\n\nAnyway, I don't know whether sage has a \"symbolic\" `rootOf` equivalent.  On the positive side, it is then possible to evaluate integration results numerically.\n\nTo deal with integration results containing additional variables, a little more work is needed.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84c392e413ef4515ab4e4d3e5e17d6e54c930ef2\">84c392e</a></td><td><code>first version of translation of rootOf</code></td></tr></table>\n",
    "created_at": "2018-06-18T22:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492526",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:9'></a>
Replying to [gh-nasser1](#comment%3A7):
> I do not think you'd want to actually evaluate numerically the roots as in your first example above. 


Note that the result is **not** numeric, the coefficients are in `QQbar`.  They are exact, only an approximation is printed.

Anyway, I don't know whether sage has a "symbolic" `rootOf` equivalent.  On the positive side, it is then possible to evaluate integration results numerically.

To deal with integration results containing additional variables, a little more work is needed.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84c392e413ef4515ab4e4d3e5e17d6e54c930ef2">84c392e</a></td><td><code>first version of translation of rootOf</code></td></tr></table>




---

archive/issue_comments_492527.json:
```json
{
    "body": "**Changing commit** from \"[84c392e413ef4515ab4e4d3e5e17d6e54c930ef2](https://github.com/sagemath/sagetrac-mirror/commit/84c392e413ef4515ab4e4d3e5e17d6e54c930ef2)\" to \"[a983d7a55150a8fd566dbb7f4097e001721500d5](https://github.com/sagemath/sagetrac-mirror/commit/a983d7a55150a8fd566dbb7f4097e001721500d5)\".",
    "created_at": "2018-06-19T06:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492527",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[84c392e413ef4515ab4e4d3e5e17d6e54c930ef2](https://github.com/sagemath/sagetrac-mirror/commit/84c392e413ef4515ab4e4d3e5e17d6e54c930ef2)" to "[a983d7a55150a8fd566dbb7f4097e001721500d5](https://github.com/sagemath/sagetrac-mirror/commit/a983d7a55150a8fd566dbb7f4097e001721500d5)".



---

archive/issue_comments_492528.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a983d7a55150a8fd566dbb7f4097e001721500d5\">a983d7a</a></td><td><code>translate rootOf also when extra variables are present</code></td></tr></table>\n",
    "created_at": "2018-06-19T06:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492528",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a983d7a55150a8fd566dbb7f4097e001721500d5">a983d7a</a></td><td><code>translate rootOf also when extra variables are present</code></td></tr></table>




---

archive/issue_comments_492529.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-06-19T06:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492529",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_492530.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/becb3681d2f24a47e68902a69c712b172bb96294\">becb368</a></td><td><code>fix doctests</code></td></tr></table>\n",
    "created_at": "2018-06-19T13:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/becb3681d2f24a47e68902a69c712b172bb96294">becb368</a></td><td><code>fix doctests</code></td></tr></table>




---

archive/issue_comments_492531.json:
```json
{
    "body": "**Changing commit** from \"[a983d7a55150a8fd566dbb7f4097e001721500d5](https://github.com/sagemath/sagetrac-mirror/commit/a983d7a55150a8fd566dbb7f4097e001721500d5)\" to \"[becb3681d2f24a47e68902a69c712b172bb96294](https://github.com/sagemath/sagetrac-mirror/commit/becb3681d2f24a47e68902a69c712b172bb96294)\".",
    "created_at": "2018-06-19T13:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492531",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a983d7a55150a8fd566dbb7f4097e001721500d5](https://github.com/sagemath/sagetrac-mirror/commit/a983d7a55150a8fd566dbb7f4097e001721500d5)" to "[becb3681d2f24a47e68902a69c712b172bb96294](https://github.com/sagemath/sagetrac-mirror/commit/becb3681d2f24a47e68902a69c712b172bb96294)".



---

archive/issue_comments_492532.json:
```json
{
    "body": "<a id='comment:14'></a>\n@gh-nasser1: dear Nasser, could you please check whether this works for you now? (it was actually a fair bit of work, so I'd rather get back to it now than later)\n\nPlease test especially integrals with parameters (that is, extra variables) showing up in the `rootOf` expressions.",
    "created_at": "2018-06-20T12:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492532",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:14'></a>
@gh-nasser1: dear Nasser, could you please check whether this works for you now? (it was actually a fair bit of work, so I'd rather get back to it now than later)

Please test especially integrals with parameters (that is, extra variables) showing up in the `rootOf` expressions.



---

archive/issue_comments_492533.json:
```json
{
    "body": "<a id='comment:15'></a>\nping?",
    "created_at": "2018-06-25T09:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492533",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:15'></a>
ping?



---

archive/issue_comments_492534.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [mantepse](#comment%3A15):\n> ping?\n\n\nHi, sorry, I am not familar with github and did not know I need to do anything. I did not see this.\n\nWhat exactly you want me to do when you say to see if it works? \n\nHow do I test your changes? Do I need to reinstall sagemath from Manjaro AUR again? It is still at 8.3 beta 6 last I checked Which is the one I am using now.  Or is there a newer version to use?\n\nI am complete newbie in github and of this.  Only way I know, is to use Manjaro GUI package manager to install sagemath.",
    "created_at": "2018-06-25T10:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492534",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:16'></a>
Replying to [mantepse](#comment%3A15):
> ping?


Hi, sorry, I am not familar with github and did not know I need to do anything. I did not see this.

What exactly you want me to do when you say to see if it works? 

How do I test your changes? Do I need to reinstall sagemath from Manjaro AUR again? It is still at 8.3 beta 6 last I checked Which is the one I am using now.  Or is there a newer version to use?

I am complete newbie in github and of this.  Only way I know, is to use Manjaro GUI package manager to install sagemath.



---

archive/issue_comments_492535.json:
```json
{
    "body": "<a id='comment:17'></a>\nHi Nasser!\n\nTo get these changes into sage (eg., 8.3. beta 8), someone has to \"review\" them, that is, make sure that they are correct.  You can contribute to a review by stating here that you tried the modified code and that it works for you, for example, trying it on further integrals.\n\nTo be able to try the code, you have to install sage using git, because, of course, the changes are not yet in sage.\n\nIf you only want to review (as opposed to submitting code yourself), you have to do the things from http://doc.sagemath.org/html/en/developer/walk_through.html in sections\n\n* Configuring Git\n* Obtaining the Sage Source Code\n\nand then (from http://doc.sagemath.org/html/en/developer/git_trac.html)\n\n* Installing the Git-Trac Command\n* Git and Trac Configuration\n* Reviewing\n\nIf that works for you, that would be great!",
    "created_at": "2018-06-25T10:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492535",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:17'></a>
Hi Nasser!

To get these changes into sage (eg., 8.3. beta 8), someone has to "review" them, that is, make sure that they are correct.  You can contribute to a review by stating here that you tried the modified code and that it works for you, for example, trying it on further integrals.

To be able to try the code, you have to install sage using git, because, of course, the changes are not yet in sage.

If you only want to review (as opposed to submitting code yourself), you have to do the things from http://doc.sagemath.org/html/en/developer/walk_through.html in sections

* Configuring Git
* Obtaining the Sage Source Code

and then (from http://doc.sagemath.org/html/en/developer/git_trac.html)

* Installing the Git-Trac Command
* Git and Trac Configuration
* Reviewing

If that works for you, that would be great!



---

archive/issue_comments_492536.json:
```json
{
    "body": "<a id='comment:18'></a>\nHello;\n\nI am sorry, this is all over my head. I do not know what sage trac and how to install  git and do not know how to build sage myself from sources and any of this. Never used these before. \n\nI installed sage by clicking on a button using Linux package manager. It did everything. \n\nI am not really in a  position or have knowledge now to go through such steps you described above.\n\nWhen I find a new bug using sage, I'll report it here and leave Experts like yourself to handle the rest.\n\nI'll be happy to install a new version of sagemath when new one is released and run the tests. I check the Linux package manager to find out. \n\nThank you",
    "created_at": "2018-06-25T18:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492536",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:18'></a>
Hello;

I am sorry, this is all over my head. I do not know what sage trac and how to install  git and do not know how to build sage myself from sources and any of this. Never used these before. 

I installed sage by clicking on a button using Linux package manager. It did everything. 

I am not really in a  position or have knowledge now to go through such steps you described above.

When I find a new bug using sage, I'll report it here and leave Experts like yourself to handle the rest.

I'll be happy to install a new version of sagemath when new one is released and run the tests. I check the Linux package manager to find out. 

Thank you



---

archive/issue_comments_492537.json:
```json
{
    "body": "<a id='comment:19'></a>\nNo problem, Nasser!",
    "created_at": "2018-06-25T19:24:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492537",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:19'></a>
No problem, Nasser!



---

archive/issue_comments_492538.json:
```json
{
    "body": "<a id='comment:20'></a>\nHello;\nfyi, I tried these in new installed sagemath 8.3 beta 7, Release Date: 2018-06-23, using AUR package manager of Linux Manjaro. \n\nThey still generate \" not yet implemented\" for rootOf. \n\nI will check again when a new version of sagemath is released.\n\nThank you",
    "created_at": "2018-06-28T09:07:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492538",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:20'></a>
Hello;
fyi, I tried these in new installed sagemath 8.3 beta 7, Release Date: 2018-06-23, using AUR package manager of Linux Manjaro. 

They still generate " not yet implemented" for rootOf. 

I will check again when a new version of sagemath is released.

Thank you



---

archive/issue_comments_492539.json:
```json
{
    "body": "<a id='comment:21'></a>\nHello; fyi, I tried these in new build and installed sagemath 8.3 beta 8, \n\n\n```\n>sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.3.beta8, Release Date: 2018-06-30               \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n```\n\n\nUsing AUR package manager of Linux Manjaro.\n\nThey still generate \"not yet implemented\" for rootOf.\n\nI will check again when a new version of sagemath is released.\n\nThank you",
    "created_at": "2018-07-07T02:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492539",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:21'></a>
Hello; fyi, I tried these in new build and installed sagemath 8.3 beta 8, 


```
>sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.3.beta8, Release Date: 2018-06-30               │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘

```


Using AUR package manager of Linux Manjaro.

They still generate "not yet implemented" for rootOf.

I will check again when a new version of sagemath is released.

Thank you



---

archive/issue_comments_492540.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [gh-nasser1](#comment%3A21):\n> They still generate \"not yet implemented\" for rootOf.\n\n\nNasser, this ticket is \"needs review\", maybe you can review? See http://doc.sagemath.org/html/en/developer/index.html#sage-trac-and-tickets\n\nYou can always try out the code here by building Sage from source, see http://doc.sagemath.org/html/en/installation/source.html\n\nWorking with binary only will never get you the newest code, be it Sage or other programs. Moreover, open source means there are opportunites to help, to give back. Try it.",
    "created_at": "2018-07-07T04:58:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492540",
    "user": "https://github.com/rwst"
}
```

<a id='comment:22'></a>
Replying to [gh-nasser1](#comment%3A21):
> They still generate "not yet implemented" for rootOf.


Nasser, this ticket is "needs review", maybe you can review? See http://doc.sagemath.org/html/en/developer/index.html#sage-trac-and-tickets

You can always try out the code here by building Sage from source, see http://doc.sagemath.org/html/en/installation/source.html

Working with binary only will never get you the newest code, be it Sage or other programs. Moreover, open source means there are opportunites to help, to give back. Try it.



---

archive/issue_comments_492541.json:
```json
{
    "body": "<a id='comment:23'></a>\nping?",
    "created_at": "2018-07-24T10:44:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492541",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:23'></a>
ping?



---

archive/issue_comments_492542.json:
```json
{
    "body": "<a id='comment:24'></a>\nHello, \n\nIf the ping is meant for me, please note, as I mentioned above, I can only try with current version of sagemath, which I update each time a new one comes out using Arch Linux package manager on Linux Manjaro.\n\nI do not know how to build sagemath from GIT sources or use git.\n\nFor [SageMath](SageMath) version 8.3.rc2, Release Date: 2018-07-22  the `NotImplementedError` error is still there for `rootOf`\n\nThanks\n--Nasser",
    "created_at": "2018-07-24T16:30:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492542",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:24'></a>
Hello, 

If the ping is meant for me, please note, as I mentioned above, I can only try with current version of sagemath, which I update each time a new one comes out using Arch Linux package manager on Linux Manjaro.

I do not know how to build sagemath from GIT sources or use git.

For [SageMath](SageMath) version 8.3.rc2, Release Date: 2018-07-22  the `NotImplementedError` error is still there for `rootOf`

Thanks
--Nasser



---

archive/issue_comments_492543.json:
```json
{
    "body": "<a id='comment:25'></a>\nLGTM.\n\nIt would be nice however if you could correct the pyflake errors reported in this [patchbot log](https://patchbot.sagemath.org/log/25602/debian/stretch/sid/x86_64/4.4.0-45-generic/fermat/2018-07-29%2021:10:55?plugin=pyflakes&diff=/log/0/debian/stretch/sid/x86_64/4.4.0-45-generic/fermat/2018-07-28%2011%3A41%3A19&ticket=25602&base=8.3.rc3).",
    "created_at": "2018-08-03T20:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492543",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:25'></a>
LGTM.

It would be nice however if you could correct the pyflake errors reported in this [patchbot log](https://patchbot.sagemath.org/log/25602/debian/stretch/sid/x86_64/4.4.0-45-generic/fermat/2018-07-29%2021:10:55?plugin=pyflakes&diff=/log/0/debian/stretch/sid/x86_64/4.4.0-45-generic/fermat/2018-07-28%2011%3A41%3A19&ticket=25602&base=8.3.rc3).



---

archive/issue_events_072917.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-08-04T07:52:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25602#event-72917"
}
```



---

archive/issue_comments_492544.json:
```json
{
    "body": "<a id='comment:27'></a>\nthis fixes pyflake errors\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f973985b92362186f41a64478e14d01bba974cc7\">f973985</a></td><td><code>Merge branch 'u/mantepse/implement_translation_of_fricas_rootof' of https://github.com/sagemath/sagetrac-mirror into sage83</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc\">4539a94</a></td><td><code>fix pyflake errors</code></td></tr></table>\n",
    "created_at": "2018-08-04T09:05:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492544",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
this fixes pyflake errors

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f973985b92362186f41a64478e14d01bba974cc7">f973985</a></td><td><code>Merge branch 'u/mantepse/implement_translation_of_fricas_rootof' of https://github.com/sagemath/sagetrac-mirror into sage83</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc">4539a94</a></td><td><code>fix pyflake errors</code></td></tr></table>




---

archive/issue_comments_492545.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2018-08-04T09:05:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492545",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_492546.json:
```json
{
    "body": "**Changing branch** from \"[u/mantepse/implement_translation_of_fricas_rootof](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/implement_translation_of_fricas_rootof)\" to \"[public/fricas/rootof](https://github.com/sagemath/sagetrac-mirror/tree/public/fricas/rootof)\".",
    "created_at": "2018-08-04T09:05:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492546",
    "user": "https://github.com/dimpase"
}
```

**Changing branch** from "[u/mantepse/implement_translation_of_fricas_rootof](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/implement_translation_of_fricas_rootof)" to "[public/fricas/rootof](https://github.com/sagemath/sagetrac-mirror/tree/public/fricas/rootof)".



---

archive/issue_comments_492547.json:
```json
{
    "body": "**Changing commit** from \"[becb3681d2f24a47e68902a69c712b172bb96294](https://github.com/sagemath/sagetrac-mirror/commit/becb3681d2f24a47e68902a69c712b172bb96294)\" to \"[4539a940848397eb8113f0e889db231e0dac91dc](https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc)\".",
    "created_at": "2018-08-04T09:05:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492547",
    "user": "https://github.com/dimpase"
}
```

**Changing commit** from "[becb3681d2f24a47e68902a69c712b172bb96294](https://github.com/sagemath/sagetrac-mirror/commit/becb3681d2f24a47e68902a69c712b172bb96294)" to "[4539a940848397eb8113f0e889db231e0dac91dc](https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc)".



---

archive/issue_comments_492548.json:
```json
{
    "body": "<a id='comment:28'></a>\nif this works for you, please set it to positive review",
    "created_at": "2018-08-04T09:06:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492548",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
if this works for you, please set it to positive review



---

archive/issue_comments_492549.json:
```json
{
    "body": "<a id='comment:29'></a>\nGreat! Yes, I rebuilt and all test still pass.  (My intention was to fix the pyflakes stuff in a separate ticket, but I am very happy if they are already fixed now.)\n\nNot sure whether \"you\" is me or Eric, so I am not taking action...",
    "created_at": "2018-08-04T17:21:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492549",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:29'></a>
Great! Yes, I rebuilt and all test still pass.  (My intention was to fix the pyflakes stuff in a separate ticket, but I am very happy if they are already fixed now.)

Not sure whether "you" is me or Eric, so I am not taking action...



---

archive/issue_comments_492550.json:
```json
{
    "body": "**Changing reviewer** from \"Dima Pasechnik\" to \"Dima Pasechnik, Eric Gourgoulhon\".",
    "created_at": "2018-08-04T17:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492550",
    "user": "https://github.com/egourgoulhon"
}
```

**Changing reviewer** from "Dima Pasechnik" to "Dima Pasechnik, Eric Gourgoulhon".



---

archive/issue_comments_492551.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-08-04T17:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492551",
    "user": "https://github.com/egourgoulhon"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_492552.json:
```json
{
    "body": "<a id='comment:30'></a>\nThanks to both of you!",
    "created_at": "2018-08-04T17:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492552",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:30'></a>
Thanks to both of you!



---

archive/issue_events_072918.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-06T15:13:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25602#event-72918"
}
```



---

archive/issue_comments_492553.json:
```json
{
    "body": "**Changing branch** from \"[public/fricas/rootof](https://github.com/sagemath/sagetrac-mirror/tree/public/fricas/rootof)\" to \"[4539a940848397eb8113f0e889db231e0dac91dc](https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc)\".",
    "created_at": "2018-08-06T15:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492553",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/fricas/rootof](https://github.com/sagemath/sagetrac-mirror/tree/public/fricas/rootof)" to "[4539a940848397eb8113f0e889db231e0dac91dc](https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc)".



---

archive/issue_comments_492554.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2018-08-06T15:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492554",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_492555.json:
```json
{
    "body": "<a id='comment:32'></a>\nfyi, \nI just tried this again in version 8.4.beta1, Release Date: 2018-08-14 to see if the RootOf translation is fixed in this version or not to rerun my tests.\n\nBut now I get a new error for the same command posted in the original ticket above. Instead of getting NotImplementedError Sagemath now gives \n\n\n```\nRuntimeError: ECL says: Filesystem error with pathname #P\"/usr/lib/ecl/maxima.fas\".\nEither\n 1) the file does not exist, or\n 2) we are not allowed to access the file, or\n 3) the pathname points to a broken symbolic link.\n\n```\n\nHere is the full command\n\n\n```\nsage:  var('x')\nx\nsage: fricas.setSimplifyDenomsFlag(fricas.true)\nfalse\nsage: integrate(sqrt(x + sqrt(x + 1))/(x^2 + 1),x, algorithm=\"fricas\")\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-5-0a653d27d8c0> in <module>()\n----> 1 integrate(sqrt(x + sqrt(x + Integer(1)))/(x**Integer(2) + Integer(1)),x, algorithm=\"fricas\")\n\n/usr/lib/python2.7/site-packages/sage/misc/functional.py in integral(x, *args, **kwds)\n    751     \"\"\"\n    752     if hasattr(x, 'integral'):\n--> 753         return x.integral(*args, **kwds)\n    754     else:\n    755         from sage.symbolic.ring import SR\n\n/usr/lib/python2.7/site-packages/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression.integral (build/cythonized/sage/symbolic/expression.cpp:69786)()\n  12371                     R = ring.SR\n  12372             return R(integral(f, v, a, b, **kwds))\n> 12373         return integral(self, *args, **kwds)\n  12374 \n  12375     integrate = integral\n\n/usr/lib/python2.7/site-packages/sage/symbolic/integration/integral.py in integrate(expression, v, a, b, algorithm, hold)\n    814         if not integrator:\n    815             raise ValueError(\"Unknown algorithm: %s\" % algorithm)\n--> 816         return integrator(expression, v, a, b)\n    817     if a is None:\n    818         return indefinite_integral(expression, v, hold=hold)\n\n/usr/lib/python2.7/site-packages/sage/symbolic/integration/external.py in fricas_integrator(expression, v, a, b, noPole)\n    189                          \" in the integration interval\")\n    190 \n--> 191     return result.sage()\n    192 \n    193 \n\n/usr/lib/python2.7/site-packages/sage/interfaces/interface.py in sage(self, *args, **kwds)\n   1049             [0 0]\n   1050         \"\"\"\n-> 1051         return self._sage_(*args, **kwds)\n   1052 \n   1053     def __repr__(self):\n\n/usr/lib/python2.7/site-packages/sage/interfaces/fricas.py in _sage_(self)\n   1496             # we treat Expression Integer and Expression Complex\n   1497             # Integer just the same\n-> 1498             return self._sage_expression(unparsed_InputForm)\n   1499 \n   1500         if head == 'DistributedMultivariatePolynomial':\n\n/usr/lib/python2.7/site-packages/sage/interfaces/fricas.py in _sage_expression(self, unparsed_InputForm)\n   1241                     poly = R(poly.subs({var:R.gen()}))\n   1242                     # we just need any root per FriCAS specification\n-> 1243                     rootOf_ev[var] = poly.roots(multiplicities=False)[0].radical_expression()\n   1244                 del rootOf[var]\n   1245                 i = 0\n\n/usr/lib/python2.7/site-packages/sage/rings/qqbar.py in radical_expression(self)\n   3939         else:\n   3940             interval_field = ComplexIntervalField(self._value.prec())\n-> 3941         roots = poly.roots(SR, multiplicities=False)\n   3942         if len(roots) != poly.degree():\n   3943             return self\n\n/usr/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.roots (build/cythonized/sage/rings/polynomial/polynomial_element.c:69120)()\n   7731             var = SR(vname)\n   7732             expr = self(var)\n-> 7733             rts = expr.solve(var,\n   7734                              explicit_solutions=True,\n   7735                              multiplicities=multiplicities)\n\n/usr/lib/python2.7/site-packages/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression.solve (build/cythonized/sage/symbolic/expression.cpp:64716)()\n  11548         \"\"\"\n  11549         from sage.symbolic.relation import solve\n> 11550         return solve(self, x, multiplicities=multiplicities,\n  11551                               solution_dict=solution_dict,\n  11552                               explicit_solutions=explicit_solutions,\n\n/usr/lib/python2.7/site-packages/sage/symbolic/relation.py in solve(f, *args, **kwds)\n   1043 \n   1044     if is_Expression(f): # f is a single expression\n-> 1045         return _solve_expression(f, x, explicit_solutions, multiplicities, to_poly_solve, solution_dict, algorithm, domain)\n   1046 \n   1047     if not isinstance(f, (list, tuple)):\n\n/usr/lib/python2.7/site-packages/sage/symbolic/relation.py in _solve_expression(f, x, explicit_solutions, multiplicities, to_poly_solve, solution_dict, algorithm, domain)\n   1281 \n   1282     # from here on, maxima is used for solution\n-> 1283     m = ex._maxima_()\n   1284     P = m.parent()\n   1285     if explicit_solutions:\n\n/usr/lib/python2.7/site-packages/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._maxima_ (build/cythonized/sage/symbolic/expression.cpp:8054)()\n    815             # Maybe not such a great idea because the \"default\" interface is another one\n    816             from sage.calculus.calculus import maxima\n--> 817             return super(Expression, self)._interface_(maxima)\n    818         else:\n    819             return super(Expression, self)._interface_(session)\n\n/usr/lib/python2.7/site-packages/sage/structure/sage_object.pyx in sage.structure.sage_object.SageObject._interface_ (build/cythonized/sage/structure/sage_object.c:5636)()\n    732             except (KeyError, ValueError):\n    733                 pass\n--> 734         nm = I.name()\n    735         init_func = getattr(self, '_%s_init_' % nm, None)\n    736         if init_func is not None:\n\n/usr/lib/python2.7/site-packages/sage/misc/lazy_import.pyx in sage.misc.lazy_import.LazyImport.__getattr__ (build/cythonized/sage/misc/lazy_import.c:3609)()\n    320             True\n    321         \"\"\"\n--> 322         return getattr(self.get_object(), attr)\n    323 \n    324     # We need to wrap all the slot methods, as they are not forwarded\n\n/usr/lib/python2.7/site-packages/sage/misc/lazy_import.pyx in sage.misc.lazy_import.LazyImport.get_object (build/cythonized/sage/misc/lazy_import.c:2270)()\n    187         if likely(self._object is not None):\n    188             return self._object\n--> 189         return self._get_object()\n    190 \n    191     cpdef _get_object(self):\n\n/usr/lib/python2.7/site-packages/sage/misc/lazy_import.pyx in sage.misc.lazy_import.LazyImport._get_object (build/cythonized/sage/misc/lazy_import.c:2535)()\n    219         elif self._at_startup and not startup_guard:\n    220             print('Option ``at_startup=True`` for lazy import {0} not needed anymore'.format(self._name))\n--> 221         self._object = getattr(__import__(self._module, {}, {}, [self._name]), self._name)\n    222         name = self._as_name\n    223         if self._deprecation is not None:\n\n/usr/lib/python2.7/site-packages/sage/interfaces/maxima_lib.py in <module>()\n    103 ## i.e. loading it into ECL\n    104 ecl_eval(\"(setf *load-verbose* NIL)\")\n--> 105 ecl_eval(\"(require 'maxima \\\"{}\\\")\".format(MAXIMA_FAS))\n    106 ecl_eval(\"(in-package :maxima)\")\n    107 ecl_eval(\"(setq $nolabels t))\")\n\n/usr/lib/python2.7/site-packages/sage/libs/ecl.pyx in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:11019)()\n   1324 \n   1325 #convenience routine to more easily evaluate strings\n-> 1326 cpdef EclObject ecl_eval(str s):\n   1327     \"\"\"\n   1328     Read and evaluate string in Lisp and return the result\n\n/usr/lib/python2.7/site-packages/sage/libs/ecl.pyx in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10958)()\n   1339     cdef cl_object o\n   1340     o=ecl_safe_read_string(str_to_bytes(s))\n-> 1341     o=ecl_safe_eval(o)\n   1342     return ecl_wrap(o)\n   1343 \n\n/usr/lib/python2.7/site-packages/sage/libs/ecl.pyx in sage.libs.ecl.ecl_safe_eval (build/cythonized/sage/libs/ecl.c:5930)()\n    348     if ecl_nvalues > 1:\n    349         s = si_coerce_to_base_string(ecl_values(1))\n--> 350         raise RuntimeError(\"ECL says: {}\".format(\n    351             char_to_str(ecl_base_string_pointer_safe(s))))\n    352     else:\n\nRuntimeError: ECL says: Filesystem error with pathname #P\"/usr/lib/ecl/maxima.fas\".\nEither\n 1) the file does not exist, or\n 2) we are not allowed to access the file, or\n 3) the pathname points to a broken symbolic link.\nsage: quit\nExiting Sage (CPU time 0m2.69s, Wall time 7m5.92s).\nExiting FriCAS with PID 23312 running /usr/bin/fricas -nosman\n```\n\nI have fricas Version: FriCAS 1.3.4 installed and working fine.\n\nI installed sagemath now using the system package manager on Linux Manjaro 18.0 Beta 5.\n\nIs the RootOf was supposed to be fixed in Sagemath 8.4 beta 1? If not, that is OK. But why different error now shows in the above call than before?",
    "created_at": "2018-08-19T12:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492555",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:32'></a>
fyi, 
I just tried this again in version 8.4.beta1, Release Date: 2018-08-14 to see if the RootOf translation is fixed in this version or not to rerun my tests.

But now I get a new error for the same command posted in the original ticket above. Instead of getting NotImplementedError Sagemath now gives 


```
RuntimeError: ECL says: Filesystem error with pathname #P"/usr/lib/ecl/maxima.fas".
Either
 1) the file does not exist, or
 2) we are not allowed to access the file, or
 3) the pathname points to a broken symbolic link.

```

Here is the full command


```
sage:  var('x')
x
sage: fricas.setSimplifyDenomsFlag(fricas.true)
false
sage: integrate(sqrt(x + sqrt(x + 1))/(x^2 + 1),x, algorithm="fricas")
---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)
<ipython-input-5-0a653d27d8c0> in <module>()
----> 1 integrate(sqrt(x + sqrt(x + Integer(1)))/(x**Integer(2) + Integer(1)),x, algorithm="fricas")

/usr/lib/python2.7/site-packages/sage/misc/functional.py in integral(x, *args, **kwds)
    751     """
    752     if hasattr(x, 'integral'):
--> 753         return x.integral(*args, **kwds)
    754     else:
    755         from sage.symbolic.ring import SR

/usr/lib/python2.7/site-packages/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression.integral (build/cythonized/sage/symbolic/expression.cpp:69786)()
  12371                     R = ring.SR
  12372             return R(integral(f, v, a, b, **kwds))
> 12373         return integral(self, *args, **kwds)
  12374 
  12375     integrate = integral

/usr/lib/python2.7/site-packages/sage/symbolic/integration/integral.py in integrate(expression, v, a, b, algorithm, hold)
    814         if not integrator:
    815             raise ValueError("Unknown algorithm: %s" % algorithm)
--> 816         return integrator(expression, v, a, b)
    817     if a is None:
    818         return indefinite_integral(expression, v, hold=hold)

/usr/lib/python2.7/site-packages/sage/symbolic/integration/external.py in fricas_integrator(expression, v, a, b, noPole)
    189                          " in the integration interval")
    190 
--> 191     return result.sage()
    192 
    193 

/usr/lib/python2.7/site-packages/sage/interfaces/interface.py in sage(self, *args, **kwds)
   1049             [0 0]
   1050         """
-> 1051         return self._sage_(*args, **kwds)
   1052 
   1053     def __repr__(self):

/usr/lib/python2.7/site-packages/sage/interfaces/fricas.py in _sage_(self)
   1496             # we treat Expression Integer and Expression Complex
   1497             # Integer just the same
-> 1498             return self._sage_expression(unparsed_InputForm)
   1499 
   1500         if head == 'DistributedMultivariatePolynomial':

/usr/lib/python2.7/site-packages/sage/interfaces/fricas.py in _sage_expression(self, unparsed_InputForm)
   1241                     poly = R(poly.subs({var:R.gen()}))
   1242                     # we just need any root per FriCAS specification
-> 1243                     rootOf_ev[var] = poly.roots(multiplicities=False)[0].radical_expression()
   1244                 del rootOf[var]
   1245                 i = 0

/usr/lib/python2.7/site-packages/sage/rings/qqbar.py in radical_expression(self)
   3939         else:
   3940             interval_field = ComplexIntervalField(self._value.prec())
-> 3941         roots = poly.roots(SR, multiplicities=False)
   3942         if len(roots) != poly.degree():
   3943             return self

/usr/lib/python2.7/site-packages/sage/rings/polynomial/polynomial_element.pyx in sage.rings.polynomial.polynomial_element.Polynomial.roots (build/cythonized/sage/rings/polynomial/polynomial_element.c:69120)()
   7731             var = SR(vname)
   7732             expr = self(var)
-> 7733             rts = expr.solve(var,
   7734                              explicit_solutions=True,
   7735                              multiplicities=multiplicities)

/usr/lib/python2.7/site-packages/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression.solve (build/cythonized/sage/symbolic/expression.cpp:64716)()
  11548         """
  11549         from sage.symbolic.relation import solve
> 11550         return solve(self, x, multiplicities=multiplicities,
  11551                               solution_dict=solution_dict,
  11552                               explicit_solutions=explicit_solutions,

/usr/lib/python2.7/site-packages/sage/symbolic/relation.py in solve(f, *args, **kwds)
   1043 
   1044     if is_Expression(f): # f is a single expression
-> 1045         return _solve_expression(f, x, explicit_solutions, multiplicities, to_poly_solve, solution_dict, algorithm, domain)
   1046 
   1047     if not isinstance(f, (list, tuple)):

/usr/lib/python2.7/site-packages/sage/symbolic/relation.py in _solve_expression(f, x, explicit_solutions, multiplicities, to_poly_solve, solution_dict, algorithm, domain)
   1281 
   1282     # from here on, maxima is used for solution
-> 1283     m = ex._maxima_()
   1284     P = m.parent()
   1285     if explicit_solutions:

/usr/lib/python2.7/site-packages/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._maxima_ (build/cythonized/sage/symbolic/expression.cpp:8054)()
    815             # Maybe not such a great idea because the "default" interface is another one
    816             from sage.calculus.calculus import maxima
--> 817             return super(Expression, self)._interface_(maxima)
    818         else:
    819             return super(Expression, self)._interface_(session)

/usr/lib/python2.7/site-packages/sage/structure/sage_object.pyx in sage.structure.sage_object.SageObject._interface_ (build/cythonized/sage/structure/sage_object.c:5636)()
    732             except (KeyError, ValueError):
    733                 pass
--> 734         nm = I.name()
    735         init_func = getattr(self, '_%s_init_' % nm, None)
    736         if init_func is not None:

/usr/lib/python2.7/site-packages/sage/misc/lazy_import.pyx in sage.misc.lazy_import.LazyImport.__getattr__ (build/cythonized/sage/misc/lazy_import.c:3609)()
    320             True
    321         """
--> 322         return getattr(self.get_object(), attr)
    323 
    324     # We need to wrap all the slot methods, as they are not forwarded

/usr/lib/python2.7/site-packages/sage/misc/lazy_import.pyx in sage.misc.lazy_import.LazyImport.get_object (build/cythonized/sage/misc/lazy_import.c:2270)()
    187         if likely(self._object is not None):
    188             return self._object
--> 189         return self._get_object()
    190 
    191     cpdef _get_object(self):

/usr/lib/python2.7/site-packages/sage/misc/lazy_import.pyx in sage.misc.lazy_import.LazyImport._get_object (build/cythonized/sage/misc/lazy_import.c:2535)()
    219         elif self._at_startup and not startup_guard:
    220             print('Option ``at_startup=True`` for lazy import {0} not needed anymore'.format(self._name))
--> 221         self._object = getattr(__import__(self._module, {}, {}, [self._name]), self._name)
    222         name = self._as_name
    223         if self._deprecation is not None:

/usr/lib/python2.7/site-packages/sage/interfaces/maxima_lib.py in <module>()
    103 ## i.e. loading it into ECL
    104 ecl_eval("(setf *load-verbose* NIL)")
--> 105 ecl_eval("(require 'maxima \"{}\")".format(MAXIMA_FAS))
    106 ecl_eval("(in-package :maxima)")
    107 ecl_eval("(setq $nolabels t))")

/usr/lib/python2.7/site-packages/sage/libs/ecl.pyx in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:11019)()
   1324 
   1325 #convenience routine to more easily evaluate strings
-> 1326 cpdef EclObject ecl_eval(str s):
   1327     """
   1328     Read and evaluate string in Lisp and return the result

/usr/lib/python2.7/site-packages/sage/libs/ecl.pyx in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10958)()
   1339     cdef cl_object o
   1340     o=ecl_safe_read_string(str_to_bytes(s))
-> 1341     o=ecl_safe_eval(o)
   1342     return ecl_wrap(o)
   1343 

/usr/lib/python2.7/site-packages/sage/libs/ecl.pyx in sage.libs.ecl.ecl_safe_eval (build/cythonized/sage/libs/ecl.c:5930)()
    348     if ecl_nvalues > 1:
    349         s = si_coerce_to_base_string(ecl_values(1))
--> 350         raise RuntimeError("ECL says: {}".format(
    351             char_to_str(ecl_base_string_pointer_safe(s))))
    352     else:

RuntimeError: ECL says: Filesystem error with pathname #P"/usr/lib/ecl/maxima.fas".
Either
 1) the file does not exist, or
 2) we are not allowed to access the file, or
 3) the pathname points to a broken symbolic link.
sage: quit
Exiting Sage (CPU time 0m2.69s, Wall time 7m5.92s).
Exiting FriCAS with PID 23312 running /usr/bin/fricas -nosman
```

I have fricas Version: FriCAS 1.3.4 installed and working fine.

I installed sagemath now using the system package manager on Linux Manjaro 18.0 Beta 5.

Is the RootOf was supposed to be fixed in Sagemath 8.4 beta 1? If not, that is OK. But why different error now shows in the above call than before?



---

archive/issue_comments_492556.json:
```json
{
    "body": "**Changing commit** from \"[4539a940848397eb8113f0e889db231e0dac91dc](https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc)\" to \"\".",
    "created_at": "2018-08-19T12:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492556",
    "user": "https://github.com/nasser1"
}
```

**Changing commit** from "[4539a940848397eb8113f0e889db231e0dac91dc](https://github.com/sagemath/sagetrac-mirror/commit/4539a940848397eb8113f0e889db231e0dac91dc)" to "".



---

archive/issue_comments_492557.json:
```json
{
    "body": "<a id='comment:33'></a>\nI cannot reproduce this, but it looks like being a problem with maxima...",
    "created_at": "2018-08-19T19:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492557",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:33'></a>
I cannot reproduce this, but it looks like being a problem with maxima...



---

archive/issue_comments_492558.json:
```json
{
    "body": "<a id='comment:34'></a>\nI forgot to add maxima info on my Linux: (I am not sure why Maxima is used in the call, when the algorithm is fricas, but this might be because sagemath is using maxima for other things during the call to fricas)\n\n\n```\n>uname -a\nLinux me-pc 4.14.60-1-MANJARO #1 SMP PREEMPT Fri Aug 3 12:49:45 UTC 2018 x86_64 GNU/Linux\n\n>which maxima\n/bin/maxima\n>maxima -version\n;;; Loading #P\"/usr/lib/ecl-16.1.2/sb-bsd-sockets.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/sockets.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/defsystem.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/cmp.fas\"\nMaxima 5.41.0\n>\n\n\n```\n\nBtw, this error \n\n\n```\nRuntimeError: ECL says: Filesystem error with pathname #P\"/usr/lib/ecl/maxima.fas\".\n\n```\n\nshows up only when calling fricas from sagemath with that specific integral which used to generate the RootOf not implemented errror. \n\nIf I use another integral, this error do not show up with fricas:\n\n\n```\nsage: var('x')\nx\nsage: integrate(sin(x),x,algorithm=\"fricas\")\n-cos(x)\nsage: \n\n\n```\n\nNo error.  May be Maxima on my box has problem, I do not know.",
    "created_at": "2018-08-19T23:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492558",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:34'></a>
I forgot to add maxima info on my Linux: (I am not sure why Maxima is used in the call, when the algorithm is fricas, but this might be because sagemath is using maxima for other things during the call to fricas)


```
>uname -a
Linux me-pc 4.14.60-1-MANJARO #1 SMP PREEMPT Fri Aug 3 12:49:45 UTC 2018 x86_64 GNU/Linux

>which maxima
/bin/maxima
>maxima -version
;;; Loading #P"/usr/lib/ecl-16.1.2/sb-bsd-sockets.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/sockets.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/defsystem.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/cmp.fas"
Maxima 5.41.0
>


```

Btw, this error 


```
RuntimeError: ECL says: Filesystem error with pathname #P"/usr/lib/ecl/maxima.fas".

```

shows up only when calling fricas from sagemath with that specific integral which used to generate the RootOf not implemented errror. 

If I use another integral, this error do not show up with fricas:


```
sage: var('x')
x
sage: integrate(sin(x),x,algorithm="fricas")
-cos(x)
sage: 


```

No error.  May be Maxima on my box has problem, I do not know.



---

archive/issue_comments_492559.json:
```json
{
    "body": "<a id='comment:35'></a>\nFricas and Maxima have  in Sage ECL, as a common dependency. It seems that here for some reason ECLs used for them are different, but this doesn't quite work.",
    "created_at": "2018-08-20T06:28:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492559",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'></a>
Fricas and Maxima have  in Sage ECL, as a common dependency. It seems that here for some reason ECLs used for them are different, but this doesn't quite work.



---

archive/issue_comments_492560.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [dimpase](#comment%3A35):\n> Fricas and Maxima have  in Sage ECL, as a common dependency. It seems that here for some reason ECLs used for them are different, but this doesn't quite work.\n\n\nHow could this be? Both Fricas and Maxima are built using the same ECL during the build of sage, aren't they?\n\n@nasser: FriCAS' `rootOf` operator takes a polynomial and means \"take any root of this polynomial\".  Since sage doesn't have an equivalent operator, the code explicitely looks for a root of the given polynomial.  This happens to involve maxima...",
    "created_at": "2018-08-20T08:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492560",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:36'></a>
Replying to [dimpase](#comment%3A35):
> Fricas and Maxima have  in Sage ECL, as a common dependency. It seems that here for some reason ECLs used for them are different, but this doesn't quite work.


How could this be? Both Fricas and Maxima are built using the same ECL during the build of sage, aren't they?

@nasser: FriCAS' `rootOf` operator takes a polynomial and means "take any root of this polynomial".  Since sage doesn't have an equivalent operator, the code explicitely looks for a root of the given polynomial.  This happens to involve maxima...



---

archive/issue_comments_492561.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [mantepse](#comment%3A36):\n> Replying to [dimpase](#comment%3A35):\n> > Fricas and Maxima have  in Sage ECL, as a common dependency. It seems that here for some reason ECLs used for them are different, but this doesn't quite work.\n\n> \n> How could this be? Both Fricas and Maxima are built using the same ECL during the build of sage, aren't they?\n\n\nnasser is testing whatever comes from Arch linux packaging of Sage betas.\nIt could be it's broken ATM.\n\n@nasser: what is the output of `sage --maxima`? Does it start the system's maxima, as\nyou reported in comment 34?",
    "created_at": "2018-08-20T12:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492561",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:37'></a>
Replying to [mantepse](#comment%3A36):
> Replying to [dimpase](#comment%3A35):
> > Fricas and Maxima have  in Sage ECL, as a common dependency. It seems that here for some reason ECLs used for them are different, but this doesn't quite work.

> 
> How could this be? Both Fricas and Maxima are built using the same ECL during the build of sage, aren't they?


nasser is testing whatever comes from Arch linux packaging of Sage betas.
It could be it's broken ATM.

@nasser: what is the output of `sage --maxima`? Does it start the system's maxima, as
you reported in comment 34?



---

archive/issue_comments_492562.json:
```json
{
    "body": "<a id='comment:38'></a>\nHere is the output:\n\n\n```\n>sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.4.beta1, Release Date: 2018-08-14               \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: exit\nExiting Sage (CPU time 0m0.08s, Wall time 0m2.89s).\n\n\n>sage --maxima\n;;; Loading #P\"/usr/lib/ecl-16.1.2/sb-bsd-sockets.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/sockets.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/defsystem.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/cmp.fas\"\nMaxima 5.41.0 http://maxima.sourceforge.net\nusing Lisp ECL 16.1.2\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) \n\n\n```\n\nWHich seem to match that when calling maxima directly\n\n\n```\n>\n>maxima\n;;; Loading #P\"/usr/lib/ecl-16.1.2/sb-bsd-sockets.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/sockets.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/defsystem.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/cmp.fas\"\nMaxima 5.41.0 http://maxima.sourceforge.net\nusing Lisp ECL 16.1.2\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) \n\n\n```\n\nI installed sagemath using Arch linux package manager. I think the source comes from this page\n\nhttps://aur.archlinux.org/packages/sagemath-git/\n\nFor reference, I also asked about this here a while ago\n\nhttps://ask.sagemath.org/question/43356/latest-development-version-not-on-aur-arch-linux-repository/\n\n--Nasser",
    "created_at": "2018-08-20T12:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492562",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:38'></a>
Here is the output:


```
>sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.4.beta1, Release Date: 2018-08-14               │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: exit
Exiting Sage (CPU time 0m0.08s, Wall time 0m2.89s).


>sage --maxima
;;; Loading #P"/usr/lib/ecl-16.1.2/sb-bsd-sockets.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/sockets.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/defsystem.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/cmp.fas"
Maxima 5.41.0 http://maxima.sourceforge.net
using Lisp ECL 16.1.2
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) 


```

WHich seem to match that when calling maxima directly


```
>
>maxima
;;; Loading #P"/usr/lib/ecl-16.1.2/sb-bsd-sockets.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/sockets.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/defsystem.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/cmp.fas"
Maxima 5.41.0 http://maxima.sourceforge.net
using Lisp ECL 16.1.2
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) 


```

I installed sagemath using Arch linux package manager. I think the source comes from this page

https://aur.archlinux.org/packages/sagemath-git/

For reference, I also asked about this here a while ago

https://ask.sagemath.org/question/43356/latest-development-version-not-on-aur-arch-linux-repository/

--Nasser



---

archive/issue_comments_492563.json:
```json
{
    "body": "<a id='comment:39'></a>\nTo find the implementation used with FriCAS, I think (but I'm not sure) you could do:\n\n```\nsage: fricas.eval(\")lisp (lisp-implementation-version)\")\nsage: fricas.eval(\")lisp (lisp-implementation-type)\")\n```",
    "created_at": "2018-08-20T13:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492563",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:39'></a>
To find the implementation used with FriCAS, I think (but I'm not sure) you could do:

```
sage: fricas.eval(")lisp (lisp-implementation-version)")
sage: fricas.eval(")lisp (lisp-implementation-type)")
```



---

archive/issue_comments_492564.json:
```json
{
    "body": "<a id='comment:40'></a>\nI installed Fricas also from Arch linux repo, as I mention above, it is version  Version: FriCAS 1.3.4.\n\nI run your commands and this is what sage says:\n\n```\nsage: fricas.eval(\")lisp (lisp-implementation-version)\")\n'\\nValue = \"1.4.8\"'\nsage:  fricas.eval(\")lisp (lisp-implementation-type)\")\n'\\nValue = \"SBCL\"'\nsage: \n\n\n```\n\nMay be some could install Manjaro on a Vbox and then installed sagemath from Arch Linux and try to see if they reproduce this new error \"RuntimeError: ECL says: Filesystem error with pathname #P\"/usr/lib/ecl/maxima.fas\"\n\nIt is very easy to install fricas and sagemath using Arch linux. I use the GUI package manager, and add AUR repo to the selection, then search for sagemath and fricas, and select install.\n\nIt downloads and compiles everything from git sources and builds everything itself. It takes only 1 hr or so.\n\nNote as I mentioned above, I am using Manjaro  18.0 beta 5 on a VBOx. ISO can be downloaded from Linux Manjaro web site.",
    "created_at": "2018-08-20T13:08:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492564",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:40'></a>
I installed Fricas also from Arch linux repo, as I mention above, it is version  Version: FriCAS 1.3.4.

I run your commands and this is what sage says:

```
sage: fricas.eval(")lisp (lisp-implementation-version)")
'\nValue = "1.4.8"'
sage:  fricas.eval(")lisp (lisp-implementation-type)")
'\nValue = "SBCL"'
sage: 


```

May be some could install Manjaro on a Vbox and then installed sagemath from Arch Linux and try to see if they reproduce this new error "RuntimeError: ECL says: Filesystem error with pathname #P"/usr/lib/ecl/maxima.fas"

It is very easy to install fricas and sagemath using Arch linux. I use the GUI package manager, and add AUR repo to the selection, then search for sagemath and fricas, and select install.

It downloads and compiles everything from git sources and builds everything itself. It takes only 1 hr or so.

Note as I mentioned above, I am using Manjaro  18.0 beta 5 on a VBOx. ISO can be downloaded from Linux Manjaro web site.



---

archive/issue_comments_492565.json:
```json
{
    "body": "<a id='comment:41'></a>\nI'm cc'ng Arch maintainer - is there something fishy with fricas support withe current Arch package?",
    "created_at": "2018-08-20T13:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492565",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'></a>
I'm cc'ng Arch maintainer - is there something fishy with fricas support withe current Arch package?



---

archive/issue_comments_492566.json:
```json
{
    "body": "<a id='comment:42'></a>\nIf you install fricas separately, sagemath will use the global version - which should be good, because sbcl is much faster than ecl.\n\nHowever, this shouldn't interfere at all with maxima.\n\nOne way to debug this is to try to solve the polynomial equation explicitely with maxima.  But that's not so easy, because it contains many `rootOf` operators...",
    "created_at": "2018-08-20T13:18:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492566",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:42'></a>
If you install fricas separately, sagemath will use the global version - which should be good, because sbcl is much faster than ecl.

However, this shouldn't interfere at all with maxima.

One way to debug this is to try to solve the polynomial equation explicitely with maxima.  But that's not so easy, because it contains many `rootOf` operators...



---

archive/issue_comments_492567.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [dimpase](#comment%3A41):\n> I'm cc'ng Arch maintainer - is there something fishy with fricas support withe current Arch package?\n\n\nThe maxima error is caused by #25309, not related to fricas at all (which is not even available in the Arch repos)",
    "created_at": "2018-08-20T13:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25602",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25602#issuecomment-492567",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:43'></a>
Replying to [dimpase](#comment%3A41):
> I'm cc'ng Arch maintainer - is there something fishy with fricas support withe current Arch package?


The maxima error is caused by #25309, not related to fricas at all (which is not even available in the Arch repos)
