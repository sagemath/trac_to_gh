# Issue 25889: Backport a fix for std(id,P) in Singular

archive/issues_025652.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nIn Singular, if `id` is an ideal given by a standard basis and `P` is a list of polynomials, then `std(id,P)` is computing a standard basis for the ideal generated by `id` and `P`. It is supposed to take into account that `id` is a standard basis, which means that a lot of critical pairs can be discarded.\n\nHowever, the current Singular version does in fact considers a lot of unnecessary critical pairs in `std(id,P)`, as I uncovered in my cohomology computations.\n\nHans Sch\u00f6nemann found a fix that will be part of the next Singular release and also helped me to backport that fix to the Singular version that currently is in Sage. I suggest to add this to `build/pkgs/singular/patches`.\n\nUpstream fix:\n- https://www.singular.uni-kl.de:8002/trac/changeset/d25e3f8d83dc8b6ba3e87362ed1646bf600778bb/git\n- https://www.singular.uni-kl.de:8002/trac/changeset/cebb9879c2629291abb5ffeb202af73fa0749eb3/git\n\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nCC:  @slel\n\nComponent: **packages: standard**\n\nKeywords: **Singular std**\n\nAuthor: **Simon King, Hans Sch\u00f6nemann**\n\nBranch: **[`6bca984`](https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d)**\n\nReviewer: **Travis Scrimshaw, Simon King**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25889_\n\n",
    "closed_at": "2019-02-26T13:58:00Z",
    "created_at": "2018-07-20T11:57:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Backport a fix for std(id,P) in Singular",
    "type": "issue",
    "updated_at": "2019-02-26T13:58:00Z",
    "url": "https://github.com/sagemath/sage/issues/25889",
    "user": "https://github.com/simon-king-jena"
}
```
<div id="comment:0"></div>

In Singular, if `id` is an ideal given by a standard basis and `P` is a list of polynomials, then `std(id,P)` is computing a standard basis for the ideal generated by `id` and `P`. It is supposed to take into account that `id` is a standard basis, which means that a lot of critical pairs can be discarded.

However, the current Singular version does in fact considers a lot of unnecessary critical pairs in `std(id,P)`, as I uncovered in my cohomology computations.

Hans Schönemann found a fix that will be part of the next Singular release and also helped me to backport that fix to the Singular version that currently is in Sage. I suggest to add this to `build/pkgs/singular/patches`.

Upstream fix:
- https://www.singular.uni-kl.de:8002/trac/changeset/d25e3f8d83dc8b6ba3e87362ed1646bf600778bb/git
- https://www.singular.uni-kl.de:8002/trac/changeset/cebb9879c2629291abb5ffeb202af73fa0749eb3/git


Upstream: **Fixed upstream, but not in a stable release.**

CC:  @slel

Component: **packages: standard**

Keywords: **Singular std**

Author: **Simon King, Hans Schönemann**

Branch: **[`6bca984`](https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d)**

Reviewer: **Travis Scrimshaw, Simon King**

_Issue created by migration from https://trac.sagemath.org/ticket/25889_





---

archive/issue_events_354788.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-07-20T11:57:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354788"
}
```



---

archive/issue_events_354789.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-07-20T11:57:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354789"
}
```



---

archive/issue_events_354790.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-07-20T11:57:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354790"
}
```



---

archive/issue_events_354791.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-07-20T11:57:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354791"
}
```



---

archive/issue_comments_397927.json:
```json
{
    "body": "Branch: **[u/SimonKing/backport_a_fix_for_std_id_p__in_singular](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/backport_a_fix_for_std_id_p__in_singular)**",
    "created_at": "2018-07-20T11:59:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397927",
    "user": "https://github.com/simon-king-jena"
}
```

Branch: **[u/SimonKing/backport_a_fix_for_std_id_p__in_singular](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/backport_a_fix_for_std_id_p__in_singular)**



---

archive/issue_comments_397928.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWith the added patch, the first step in the construction of a filter regular sequence in a certain complicated cohomology ring improved from more than two days to less than 10 seconds.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/820b0c420d52b8b1fc0e8001937992317d398bf5\"><code>820b0c4</code></a></td><td><code>Backport fix for Singular's std(id,p)</code></td></tr></table>\n",
    "created_at": "2018-07-20T12:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397928",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:2" align="right">comment:2</div>

With the added patch, the first step in the construction of a filter regular sequence in a certain complicated cohomology ring improved from more than two days to less than 10 seconds.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/820b0c420d52b8b1fc0e8001937992317d398bf5"><code>820b0c4</code></a></td><td><code>Backport fix for Singular's std(id,p)</code></td></tr></table>




---

archive/issue_events_354792.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-07-20T12:04:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354792"
}
```



---

archive/issue_comments_397929.json:
```json
{
    "body": "Author: **Simon King, Hans Sch\u00f6nemann**",
    "created_at": "2018-07-20T12:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397929",
    "user": "https://github.com/simon-king-jena"
}
```

Author: **Simon King, Hans Schönemann**



---

archive/issue_comments_397930.json:
```json
{
    "body": "Commit: **[`820b0c4`](https://github.com/sagemath/sagetrac-mirror/commit/820b0c420d52b8b1fc0e8001937992317d398bf5)**",
    "created_at": "2018-07-20T12:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397930",
    "user": "https://github.com/simon-king-jena"
}
```

Commit: **[`820b0c4`](https://github.com/sagemath/sagetrac-mirror/commit/820b0c420d52b8b1fc0e8001937992317d398bf5)**



---

archive/issue_comments_397931.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[example.sing.gz](https://github.com/sagemath/sage/files/ticket25889/example.sing.gz)**\n\nI have attached an example (actually from some cohomology computation, but the example is stand-alone).\n\nStart Sage's Singular (`sage -singular`) and do\n\n```\n> execute(read(\"example.sing\"));\n```\n\nWith the patch, it finishes quite soon, and the protocol output shows that almost no work needed to be done. Without the patch, you have to be very patient.\n\nBy the way, I tested that `make test` passes with the patch.",
    "created_at": "2018-07-20T13:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397931",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[example.sing.gz](https://github.com/sagemath/sage/files/ticket25889/example.sing.gz)**

I have attached an example (actually from some cohomology computation, but the example is stand-alone).

Start Sage's Singular (`sage -singular`) and do

```
> execute(read("example.sing"));
```

With the patch, it finishes quite soon, and the protocol output shows that almost no work needed to be done. Without the patch, you have to be very patient.

By the way, I tested that `make test` passes with the patch.



---

archive/issue_comments_397932.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYou will also need to bump the patch level for singular: `4.1.0p3.p2` -> `4.1.0p3.p3` (I don't know why this has such a strange numbering system...).",
    "created_at": "2018-07-22T19:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397932",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

You will also need to bump the patch level for singular: `4.1.0p3.p2` -> `4.1.0p3.p3` (I don't know why this has such a strange numbering system...).



---

archive/issue_events_354793.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-07-22T19:38:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354793"
}
```



---

archive/issue_events_354794.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-07-22T19:38:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354794"
}
```



---

archive/issue_comments_397933.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-07-22T19:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397933",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_397934.json:
```json
{
    "body": "Changed commit from **[`820b0c4`](https://github.com/sagemath/sagetrac-mirror/commit/820b0c420d52b8b1fc0e8001937992317d398bf5)** to **[`6bca984`](https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d)**",
    "created_at": "2018-07-22T21:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397934",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`820b0c4`](https://github.com/sagemath/sagetrac-mirror/commit/820b0c420d52b8b1fc0e8001937992317d398bf5)** to **[`6bca984`](https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d)**



---

archive/issue_comments_397935.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d\"><code>6bca984</code></a></td><td><code>Bump patch level of Singular</code></td></tr></table>\n",
    "created_at": "2018-07-22T21:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397935",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d"><code>6bca984</code></a></td><td><code>Bump patch level of Singular</code></td></tr></table>




---

archive/issue_events_354795.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-07-22T21:09:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354795"
}
```



---

archive/issue_events_354796.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-07-22T21:09:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354796"
}
```



---

archive/issue_comments_397936.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nDone.",
    "created_at": "2018-07-22T21:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397936",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:6" align="right">comment:6</div>

Done.



---

archive/issue_events_354797.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-07-22T21:33:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354797"
}
```



---

archive/issue_events_354798.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-07-22T21:33:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354798"
}
```



---

archive/issue_comments_397937.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nLGTM. Thank you.",
    "created_at": "2018-07-22T21:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397937",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

LGTM. Thank you.



---

archive/issue_comments_397938.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,8 @@\n However, the current Singular version does in fact considers a lot of unnecessary critical pairs in `std(id,P)`, as I uncovered in my cohomology computations.\n \n Hans Sch\u00f6nemann found a fix that will be part of the next Singular release and also helped me to backport that fix to the Singular version that currently is in Sage. I suggest to add this to `build/pkgs/singular/patches`.\n+\n+Upstream fix:\n+- https://www.singular.uni-kl.de:8002/trac/changeset/d25e3f8d83dc8b6ba3e87362ed1646bf600778bb/git\n+- https://www.singular.uni-kl.de:8002/trac/changeset/cebb9879c2629291abb5ffeb202af73fa0749eb3/git\n+\n``````\n",
    "created_at": "2018-07-24T11:15:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397938",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,8 @@
 However, the current Singular version does in fact considers a lot of unnecessary critical pairs in `std(id,P)`, as I uncovered in my cohomology computations.
 
 Hans Schönemann found a fix that will be part of the next Singular release and also helped me to backport that fix to the Singular version that currently is in Sage. I suggest to add this to `build/pkgs/singular/patches`.
+
+Upstream fix:
+- https://www.singular.uni-kl.de:8002/trac/changeset/d25e3f8d83dc8b6ba3e87362ed1646bf600778bb/git
+- https://www.singular.uni-kl.de:8002/trac/changeset/cebb9879c2629291abb5ffeb202af73fa0749eb3/git
+
``````




---

archive/issue_comments_397939.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHi Samuel, the links you gave are correct. Note, however, that they are not identical with the patch provided here, as the upstream changeset is applied to a different version than the one provided by Sage. Hans Sch\u00f6nemann helped me to backport it.",
    "created_at": "2018-07-24T11:41:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397939",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:9" align="right">comment:9</div>

Hi Samuel, the links you gave are correct. Note, however, that they are not identical with the patch provided here, as the upstream changeset is applied to a different version than the one provided by Sage. Hans Schönemann helped me to backport it.



---

archive/issue_comments_397940.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThanks for clarifying. It's still useful to have some concrete reference so we can\ntrack when this does appear in a stable upstream release.",
    "created_at": "2018-07-24T16:00:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397940",
    "user": "https://github.com/slel"
}
```

<div id="comment:10" align="right">comment:10</div>

Thanks for clarifying. It's still useful to have some concrete reference so we can
track when this does appear in a stable upstream release.



---

archive/issue_comments_397941.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, in a later stable release.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2018-07-24T16:00:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397941",
    "user": "https://github.com/slel"
}
```

Changed upstream from **Fixed upstream, in a later stable release.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_397942.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@simon-king-jena](#comment%3A9):\n> Hi Samuel, the links you gave are correct. Note, however, that they are not identical with the patch provided here, as the upstream changeset is applied to a different version than the one provided by Sage. Hans Sch\u00f6nemann helped me to backport it.\n\nYou should really include those links in the `.patch` files. That way, it is easy for packagers to find the origin of the patches. In my opinion, we should never accept patches like on this ticket without any explanation or reference.",
    "created_at": "2018-08-03T11:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397942",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@simon-king-jena](#comment%3A9):
> Hi Samuel, the links you gave are correct. Note, however, that they are not identical with the patch provided here, as the upstream changeset is applied to a different version than the one provided by Sage. Hans Schönemann helped me to backport it.

You should really include those links in the `.patch` files. That way, it is easy for packagers to find the origin of the patches. In my opinion, we should never accept patches like on this ticket without any explanation or reference.



---

archive/issue_comments_397943.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIt seems that these patches are included in Singular-4.1.1p3 (#25993) but not in Singular-4.1.1p2 (#24735).",
    "created_at": "2018-08-03T11:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397943",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

It seems that these patches are included in Singular-4.1.1p3 (#25993) but not in Singular-4.1.1p2 (#24735).



---

archive/issue_events_354799.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-03T11:43:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354799"
}
```



---

archive/issue_events_354800.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-03T11:43:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354800"
}
```



---

archive/issue_comments_397944.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nGiven that this patch will conflict (in the `git merge` sense) with #24735, given that it won't be needed anymore after #25993 and given that it needs_work to add the links, I would propose to put this ticket on hold for now. If #25993 turns out to be easy, then we can close this ticket. Otherwise, we can rebase it on top of #24735. That ticket is ready, it just requires somebody to push the \"positive_review\" button.",
    "created_at": "2018-08-03T11:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397944",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Given that this patch will conflict (in the `git merge` sense) with #24735, given that it won't be needed anymore after #25993 and given that it needs_work to add the links, I would propose to put this ticket on hold for now. If #25993 turns out to be easy, then we can close this ticket. Otherwise, we can rebase it on top of #24735. That ticket is ready, it just requires somebody to push the "positive_review" button.



---

archive/issue_comments_397945.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWell, the bug fixed by this patch is not yielding wrong results but yielding very slow computations in a situation that I care about.\n\nFrom my perspective, it would be perfectly alright to resolve this ticket as \"wontfix\", given that there is a realistic perspective that soonish (namely with #25993) the issue will be fixed without a backported patch.\n\nJeroen, do I understand correctly: Based on #24735, I should create a new ticket for group cohomology, implementing things so that it works both with Singular-4.1.1.p2 and ...p3, and this new ticket would be a dependency for #25933?",
    "created_at": "2018-08-03T13:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397945",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:14" align="right">comment:14</div>

Well, the bug fixed by this patch is not yielding wrong results but yielding very slow computations in a situation that I care about.

From my perspective, it would be perfectly alright to resolve this ticket as "wontfix", given that there is a realistic perspective that soonish (namely with #25993) the issue will be fixed without a backported patch.

Jeroen, do I understand correctly: Based on #24735, I should create a new ticket for group cohomology, implementing things so that it works both with Singular-4.1.1.p2 and ...p3, and this new ticket would be a dependency for #25933?



---

archive/issue_comments_397946.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@simon-king-jena](#comment%3A14):\n> Jeroen, do I understand correctly: Based on #24735, I should create a new ticket for group cohomology, implementing things so that it works both with Singular-4.1.1.p2 and ...p3, and this new ticket would be a dependency for #25933?\n\nYes, except that it doesn't have to be on top of #24735. I don't know whether there are any changes between Singular-4.1.0p3 (currently in Sage) and 4.1.1p2 (in #24735) that are relevant to p_group_cohomology.",
    "created_at": "2018-08-03T14:02:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397946",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@simon-king-jena](#comment%3A14):
> Jeroen, do I understand correctly: Based on #24735, I should create a new ticket for group cohomology, implementing things so that it works both with Singular-4.1.1.p2 and ...p3, and this new ticket would be a dependency for #25933?

Yes, except that it doesn't have to be on top of #24735. I don't know whether there are any changes between Singular-4.1.0p3 (currently in Sage) and 4.1.1p2 (in #24735) that are relevant to p_group_cohomology.



---

archive/issue_comments_397947.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@simon-king-jena](#comment%3A14):\n> Well, the bug fixed by this patch is not yielding wrong results but yielding very slow computations in a situation that I care about.\n> \n> From my perspective, it would be perfectly alright to resolve this ticket as \"wontfix\", given that there is a realistic perspective that soonish (namely with #25993) the issue will be fixed without a backported patch.\n\nWell, I would like to keep open the possibility that #25993 gives unexpected problems.",
    "created_at": "2018-08-03T14:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397947",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@simon-king-jena](#comment%3A14):
> Well, the bug fixed by this patch is not yielding wrong results but yielding very slow computations in a situation that I care about.
> 
> From my perspective, it would be perfectly alright to resolve this ticket as "wontfix", given that there is a realistic perspective that soonish (namely with #25993) the issue will be fixed without a backported patch.

Well, I would like to keep open the possibility that #25993 gives unexpected problems.



---

archive/issue_comments_397948.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jdemeyer](#comment%3A15):\n> Replying to [@simon-king-jena](#comment%3A14):\n> > Jeroen, do I understand correctly: Based on #24735, I should create a new ticket for group cohomology, implementing things so that it works both with Singular-4.1.1.p2 and ...p3, and this new ticket would be a dependency for #25933?\n> \n> \n> Yes, except that it doesn't have to be on top of #24735. I don't know whether there are any changes between Singular-4.1.0p3 (currently in Sage) and 4.1.1p2 (in #24735) that are relevant to p_group_cohomology.\n\nRight, you said that p_group_cohomology still works with #24735, and trouble only start with #25993. Anyway, I should create a package version that works with both...",
    "created_at": "2018-08-03T14:11:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397948",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jdemeyer](#comment%3A15):
> Replying to [@simon-king-jena](#comment%3A14):
> > Jeroen, do I understand correctly: Based on #24735, I should create a new ticket for group cohomology, implementing things so that it works both with Singular-4.1.1.p2 and ...p3, and this new ticket would be a dependency for #25933?
> 
> 
> Yes, except that it doesn't have to be on top of #24735. I don't know whether there are any changes between Singular-4.1.0p3 (currently in Sage) and 4.1.1p2 (in #24735) that are relevant to p_group_cohomology.

Right, you said that p_group_cohomology still works with #24735, and trouble only start with #25993. Anyway, I should create a package version that works with both...



---

archive/issue_comments_397949.json:
```json
{
    "body": "Changed branch from **[u/SimonKing/backport_a_fix_for_std_id_p__in_singular](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/backport_a_fix_for_std_id_p__in_singular)** to **[`6bca984`](https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d)**",
    "created_at": "2018-08-05T08:15:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397949",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/SimonKing/backport_a_fix_for_std_id_p__in_singular](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/backport_a_fix_for_std_id_p__in_singular)** to **[`6bca984`](https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d)**



---

archive/issue_events_354801.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:15:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354801"
}
```



---

archive/issue_events_354802.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:15:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354802"
}
```



---

archive/issue_comments_397950.json:
```json
{
    "body": "Changed commit from **[`6bca984`](https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d)** to none",
    "created_at": "2018-08-05T08:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397950",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`6bca984`](https://github.com/sagemath/sagetrac-mirror/commit/6bca984b793ed7af43715ca4f5fa13f224f4df2d)** to none



---

archive/issue_events_354803.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:34:41Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354803"
}
```



---

archive/issue_comments_397951.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI don't understand the rationale of \"lets not fix the bug because at some point in the future I'll have a branch that fixes it, too\". Just deal with git conflicts by merging already positively reviewed tickets into your branch as necessary. In any case, I'll leave this ticket for you to figure out.",
    "created_at": "2018-08-05T08:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397951",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>

I don't understand the rationale of "lets not fix the bug because at some point in the future I'll have a branch that fixes it, too". Just deal with git conflicts by merging already positively reviewed tickets into your branch as necessary. In any case, I'll leave this ticket for you to figure out.



---

archive/issue_comments_397952.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@vbraun](#comment%3A19):\n> I don't understand the rationale of \"lets not fix the bug because at some point in the future I'll have a branch that fixes it, too\". Just deal with git conflicts by merging already positively reviewed tickets into your branch as necessary. In any case, I'll leave this ticket for you to figure out.\n\n- The bug is not a bug in the sense of giving wrong results, but a bug in the sense of \"slow in some exotic situations that is relevant in some extreme examples of the pet project of one developer (me)\". In fact I only know a single example (computation of a filter regular system of parameters of the modular cohomology ring of group number 299 of order 256) where not fixing the bug really hurts. So, one could argue that it isn't particularly urgent to fix.\n- \"Some point in the future\" is #25993, so, the future is there. One could argue that #25933 supersedes this ticket, making this ticket a duplicate.\n- Did you delete the commit on purpose?",
    "created_at": "2018-08-05T11:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397952",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@vbraun](#comment%3A19):
> I don't understand the rationale of "lets not fix the bug because at some point in the future I'll have a branch that fixes it, too". Just deal with git conflicts by merging already positively reviewed tickets into your branch as necessary. In any case, I'll leave this ticket for you to figure out.

- The bug is not a bug in the sense of giving wrong results, but a bug in the sense of "slow in some exotic situations that is relevant in some extreme examples of the pet project of one developer (me)". In fact I only know a single example (computation of a filter regular system of parameters of the modular cohomology ring of group number 299 of order 256) where not fixing the bug really hurts. So, one could argue that it isn't particularly urgent to fix.
- "Some point in the future" is #25993, so, the future is there. One could argue that #25933 supersedes this ticket, making this ticket a duplicate.
- Did you delete the commit on purpose?



---

archive/issue_comments_397953.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nTo Volker,\n\nReplying to [@simon-king-jena](#comment%3A20):\n> - \"Some point in the future\" is #25993, so, the future is there. One could argue that #25933 supersedes this ticket, making this ticket a duplicate.\n\nI do believe this is the case.",
    "created_at": "2018-12-27T20:30:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397953",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:21" align="right">comment:21</div>

To Volker,

Replying to [@simon-king-jena](#comment%3A20):
> - "Some point in the future" is #25993, so, the future is there. One could argue that #25933 supersedes this ticket, making this ticket a duplicate.

I do believe this is the case.



---

archive/issue_events_354804.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-12-27T20:30:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354804"
}
```



---

archive/issue_events_354805.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-12-27T20:30:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354805"
}
```



---

archive/issue_comments_397954.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Simon King**",
    "created_at": "2018-12-27T20:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397954",
    "user": "https://github.com/simon-king-jena"
}
```

Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Simon King**



---

archive/issue_events_354806.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-12-27T20:30:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354806"
}
```



---

archive/issue_events_354807.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2018-12-27T20:30:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354807"
}
```



---

archive/issue_comments_397955.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nPresuming these are all correctly reviewed as either duplicate, invalid, or wontfix.",
    "created_at": "2019-02-26T13:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25889#issuecomment-397955",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

Presuming these are all correctly reviewed as either duplicate, invalid, or wontfix.



---

archive/issue_events_354808.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-26T13:58:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354808"
}
```



---

archive/issue_events_354809.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-26T13:58:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25889",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25889#event-354809"
}
```
