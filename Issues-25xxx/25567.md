# Issue 25567: Upgrade to pari-2.11

archive/issues_025330.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\n**Tarball**: http://pari.math.u-bordeaux.fr/pub/pari/unix/pari-2.11.0.tar.gz\n\nDepends on #26010\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nCC:  @kiwifb @JohnCremona @timokau @frederichan-IMJPRG\n\nComponent: **packages: standard**\n\nAuthor: **Jeroen Demeyer**\n\nBranch: **[`739f7a6`](https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c)**\n\nReviewer: **Timo Kaufmann**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25567_\n\n",
    "closed_at": "2018-08-26T09:37:59Z",
    "created_at": "2018-06-12T21:34:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to pari-2.11",
    "type": "issue",
    "updated_at": "2018-09-07T18:48:07Z",
    "url": "https://github.com/sagemath/sage/issues/25567",
    "user": "https://github.com/jdemeyer"
}
```
<div id="comment:0"></div>

**Tarball**: http://pari.math.u-bordeaux.fr/pub/pari/unix/pari-2.11.0.tar.gz

Depends on #26010

Upstream: **Fixed upstream, but not in a stable release.**

CC:  @kiwifb @JohnCremona @timokau @frederichan-IMJPRG

Component: **packages: standard**

Author: **Jeroen Demeyer**

Branch: **[`739f7a6`](https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c)**

Reviewer: **Timo Kaufmann**

_Issue created by migration from https://trac.sagemath.org/ticket/25567_





---

archive/issue_events_350704.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-12T21:34:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350704"
}
```



---

archive/issue_events_350705.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-12T21:34:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350705"
}
```



---

archive/issue_events_350706.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-12T21:34:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350706"
}
```



---

archive/issue_events_350707.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-12T21:34:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350707"
}
```



---

archive/issue_comments_392251.json:
```json
{
    "body": "Branch: **[u/jdemeyer/upgrade_to_pari_2_10_0_alpha](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_to_pari_2_10_0_alpha)**",
    "created_at": "2018-06-13T08:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392251",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/upgrade_to_pari_2_10_0_alpha](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_to_pari_2_10_0_alpha)**



---

archive/issue_comments_392252.json:
```json
{
    "body": "Sage input file which causes a pari crash with current Sage/Pari versino",
    "created_at": "2018-06-13T09:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392252",
    "user": "https://github.com/JohnCremona"
}
```

Sage input file which causes a pari crash with current Sage/Pari versino



---

archive/issue_comments_392253.json:
```json
{
    "body": "Commit: **[`9ed413d`](https://github.com/sagemath/sagetrac-mirror/commit/9ed413d71d814afe11255c6e77c319d124a3bec6)**",
    "created_at": "2018-06-13T09:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392253",
    "user": "https://github.com/JohnCremona"
}
```

Commit: **[`9ed413d`](https://github.com/sagemath/sagetrac-mirror/commit/9ed413d71d814afe11255c6e77c319d124a3bec6)**



---

archive/issue_comments_392254.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[pols.sage.gz](https://github.com/sagemath/sage/files/ticket25567/pols.sage.gz)**\n\nSee the attached file which crashes using 8.1's pari version.  Testing suggests that this will be OK in 2.10.0.alpha, and this should be verified before this ticket is merged.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ed413d71d814afe11255c6e77c319d124a3bec6\"><code>9ed413d</code></a></td><td><code>Upgrade to pari-2.10.0.alpha</code></td></tr></table>\n",
    "created_at": "2018-06-13T09:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392254",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[pols.sage.gz](https://github.com/sagemath/sage/files/ticket25567/pols.sage.gz)**

See the attached file which crashes using 8.1's pari version.  Testing suggests that this will be OK in 2.10.0.alpha, and this should be verified before this ticket is merged.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ed413d71d814afe11255c6e77c319d124a3bec6"><code>9ed413d</code></a></td><td><code>Upgrade to pari-2.10.0.alpha</code></td></tr></table>




---

archive/issue_comments_392255.json:
```json
{
    "body": "Changed commit from **[`9ed413d`](https://github.com/sagemath/sagetrac-mirror/commit/9ed413d71d814afe11255c6e77c319d124a3bec6)** to **[`68662b1`](https://github.com/sagemath/sagetrac-mirror/commit/68662b18cf4f0e5540a0dedddfb3539cacc6ac70)**",
    "created_at": "2018-06-13T10:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392255",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9ed413d`](https://github.com/sagemath/sagetrac-mirror/commit/9ed413d71d814afe11255c6e77c319d124a3bec6)** to **[`68662b1`](https://github.com/sagemath/sagetrac-mirror/commit/68662b18cf4f0e5540a0dedddfb3539cacc6ac70)**



---

archive/issue_comments_392256.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68662b18cf4f0e5540a0dedddfb3539cacc6ac70\"><code>68662b1</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-06-13T10:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392256",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68662b18cf4f0e5540a0dedddfb3539cacc6ac70"><code>68662b1</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392257.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@JohnCremona](#comment%3A4):\n> See the attached file which crashes using 8.1's pari version.  Testing suggests that this will be OK in 2.10.0.alpha, and this should be verified before this ticket is merged.\n\nI'm not sure whether you would propose to add it as doctest, but I'd rather not since it takes quite a long time.",
    "created_at": "2018-06-13T10:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392257",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@JohnCremona](#comment%3A4):
> See the attached file which crashes using 8.1's pari version.  Testing suggests that this will be OK in 2.10.0.alpha, and this should be verified before this ticket is merged.

I'm not sure whether you would propose to add it as doctest, but I'd rather not since it takes quite a long time.



---

archive/issue_comments_392258.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment%3A6):\n> Replying to [@JohnCremona](#comment%3A4):\n> > See the attached file which crashes using 8.1's pari version.  Testing suggests that this will be OK in 2.10.0.alpha, and this should be verified before this ticket is merged.\n> \n> \n> I'm not sure whether you would propose to add it as doctest, but I'd rather not since it takes quite a long time.\n\nNo, I agree.  But at least we could have an assertion on this ticket that it works, so that whoever reviews the ticket (or me) can test it manually.",
    "created_at": "2018-06-13T11:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392258",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment%3A6):
> Replying to [@JohnCremona](#comment%3A4):
> > See the attached file which crashes using 8.1's pari version.  Testing suggests that this will be OK in 2.10.0.alpha, and this should be verified before this ticket is merged.
> 
> 
> I'm not sure whether you would propose to add it as doctest, but I'd rather not since it takes quite a long time.

No, I agree.  But at least we could have an assertion on this ticket that it works, so that whoever reviews the ticket (or me) can test it manually.



---

archive/issue_comments_392259.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2018-06-13T13:08:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392259",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_392260.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n **Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.0.alpha.tar.gz\n+\n+**Upstream bug**: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055\n``````\n",
    "created_at": "2018-06-13T13:08:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392260",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 **Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.0.alpha.tar.gz
+
+**Upstream bug**: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055
``````




---

archive/issue_comments_392261.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThanks to a Sage doctest, I found a genuine bug in the new PARI. So we'll need to wait for this to be fixed before we can proceed.",
    "created_at": "2018-06-13T13:08:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392261",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Thanks to a Sage doctest, I found a genuine bug in the new PARI. So we'll need to wait for this to be fixed before we can proceed.



---

archive/issue_comments_392262.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI could not find pari bug 2055, but 2054 is possibly similar?",
    "created_at": "2018-06-13T13:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392262",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:9" align="right">comment:9</div>

I could not find pari bug 2055, but 2054 is possibly similar?



---

archive/issue_comments_392263.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@JohnCremona](#comment%3A9):\n> I could not find pari bug 2055\n\nIt should be there now. Their bug tracker sometimes takes a few minutes to update.",
    "created_at": "2018-06-13T13:24:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392263",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@JohnCremona](#comment%3A9):
> I could not find pari bug 2055

It should be there now. Their bug tracker sometimes takes a few minutes to update.



---

archive/issue_comments_392264.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n **Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.0.alpha.tar.gz\n \n-**Upstream bug**: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055\n+**Upstream bugs** (causing Sage doctest failures):\n+- https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055\n+- https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056\n``````\n",
    "created_at": "2018-06-13T13:35:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392264",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 **Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.0.alpha.tar.gz
 
-**Upstream bug**: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055
+**Upstream bugs** (causing Sage doctest failures):
+- https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055
+- https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056
``````




---

archive/issue_comments_392265.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6cf1e709fb39a8631e38089e662bce24209922e\"><code>b6cf1e7</code></a></td><td><code>Upgrade to pari-2.10.0.alpha</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8cd3ab7942184ad9541ac860a7a446b9407d0f0\"><code>e8cd3ab</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-06-13T14:43:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392265",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6cf1e709fb39a8631e38089e662bce24209922e"><code>b6cf1e7</code></a></td><td><code>Upgrade to pari-2.10.0.alpha</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8cd3ab7942184ad9541ac860a7a446b9407d0f0"><code>e8cd3ab</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392266.json:
```json
{
    "body": "Changed commit from **[`68662b1`](https://github.com/sagemath/sagetrac-mirror/commit/68662b18cf4f0e5540a0dedddfb3539cacc6ac70)** to **[`e8cd3ab`](https://github.com/sagemath/sagetrac-mirror/commit/e8cd3ab7942184ad9541ac860a7a446b9407d0f0)**",
    "created_at": "2018-06-13T14:43:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392266",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`68662b1`](https://github.com/sagemath/sagetrac-mirror/commit/68662b18cf4f0e5540a0dedddfb3539cacc6ac70)** to **[`e8cd3ab`](https://github.com/sagemath/sagetrac-mirror/commit/e8cd3ab7942184ad9541ac860a7a446b9407d0f0)**



---

archive/issue_comments_392267.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n **Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.0.alpha.tar.gz\n \n-**Upstream bugs** (causing Sage doctest failures):\n+**Upstream bugs** (causing Sage doctest failures) and patches added:\n+- `factorpadic.patch`: fix a hang in `factorpadic()`\n - https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055\n - https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056\n``````\n",
    "created_at": "2018-06-13T14:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392267",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 **Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.0.alpha.tar.gz
 
-**Upstream bugs** (causing Sage doctest failures):
+**Upstream bugs** (causing Sage doctest failures) and patches added:
+- `factorpadic.patch`: fix a hang in `factorpadic()`
 - https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055
 - https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056
``````




---

archive/issue_comments_392268.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,5 @@\n \n **Upstream bugs** (causing Sage doctest failures) and patches added:\n - `factorpadic.patch`: fix a hang in `factorpadic()`\n-- https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055\n+- `mathnf.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055\n - https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056\n``````\n",
    "created_at": "2018-06-13T14:56:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392268",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,5 @@
 
 **Upstream bugs** (causing Sage doctest failures) and patches added:
 - `factorpadic.patch`: fix a hang in `factorpadic()`
-- https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055
+- `mathnf.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055
 - https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056
``````




---

archive/issue_comments_392269.json:
```json
{
    "body": "Changed commit from **[`e8cd3ab`](https://github.com/sagemath/sagetrac-mirror/commit/e8cd3ab7942184ad9541ac860a7a446b9407d0f0)** to **[`cceabac`](https://github.com/sagemath/sagetrac-mirror/commit/cceabac9faf935dd21cad0c9a55160ee90039c7b)**",
    "created_at": "2018-06-13T14:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392269",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8cd3ab`](https://github.com/sagemath/sagetrac-mirror/commit/e8cd3ab7942184ad9541ac860a7a446b9407d0f0)** to **[`cceabac`](https://github.com/sagemath/sagetrac-mirror/commit/cceabac9faf935dd21cad0c9a55160ee90039c7b)**



---

archive/issue_comments_392270.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9f42a2ae087a4aae3da7c0df1e934b7567c3dda\"><code>a9f42a2</code></a></td><td><code>Upgrade to pari-2.10.0.alpha</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cceabac9faf935dd21cad0c9a55160ee90039c7b\"><code>cceabac</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-06-13T14:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392270",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9f42a2ae087a4aae3da7c0df1e934b7567c3dda"><code>a9f42a2</code></a></td><td><code>Upgrade to pari-2.10.0.alpha</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cceabac9faf935dd21cad0c9a55160ee90039c7b"><code>cceabac</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392271.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nSo I ran all doctests and found 3 independent new bugs in PARI. One was already fixed in master, I reported two and one of those is already fixed. So this ticket is essentially \"needs review\" modulo the `elleta` issue.",
    "created_at": "2018-06-13T14:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392271",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

So I ran all doctests and found 3 independent new bugs in PARI. One was already fixed in master, I reported two and one of those is already fixed. So this ticket is essentially "needs review" modulo the `elleta` issue.



---

archive/issue_comments_392272.json:
```json
{
    "body": "Changed commit from **[`cceabac`](https://github.com/sagemath/sagetrac-mirror/commit/cceabac9faf935dd21cad0c9a55160ee90039c7b)** to **[`a62587a`](https://github.com/sagemath/sagetrac-mirror/commit/a62587a08668adf537fb3fcbb418b39dd8508b1f)**",
    "created_at": "2018-06-14T08:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392272",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cceabac`](https://github.com/sagemath/sagetrac-mirror/commit/cceabac9faf935dd21cad0c9a55160ee90039c7b)** to **[`a62587a`](https://github.com/sagemath/sagetrac-mirror/commit/a62587a08668adf537fb3fcbb418b39dd8508b1f)**



---

archive/issue_comments_392273.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72d7ba36fb18239f3db5c5a27574df529cbfa16c\"><code>72d7ba3</code></a></td><td><code>Upgrade to pari-2.10.0.alpha</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a62587a08668adf537fb3fcbb418b39dd8508b1f\"><code>a62587a</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-06-14T08:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392273",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72d7ba36fb18239f3db5c5a27574df529cbfa16c"><code>72d7ba3</code></a></td><td><code>Upgrade to pari-2.10.0.alpha</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a62587a08668adf537fb3fcbb418b39dd8508b1f"><code>a62587a</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392274.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,4 +3,4 @@\n **Upstream bugs** (causing Sage doctest failures) and patches added:\n - `factorpadic.patch`: fix a hang in `factorpadic()`\n - `mathnf.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055\n-- https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056\n+- `elleta_prec.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056\n``````\n",
    "created_at": "2018-06-14T08:57:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392274",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,4 +3,4 @@
 **Upstream bugs** (causing Sage doctest failures) and patches added:
 - `factorpadic.patch`: fix a hang in `factorpadic()`
 - `mathnf.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055
-- https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056
+- `elleta_prec.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056
``````




---

archive/issue_events_350708.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-06-14T08:57:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350708"
}
```



---

archive/issue_comments_392275.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2018-06-14T08:57:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392275",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_392276.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nJust for information, the doctest in heegner is also touched by #25635.",
    "created_at": "2018-06-27T06:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392276",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

Just for information, the doctest in heegner is also touched by #25635.



---

archive/issue_events_350709.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-08T21:02:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350709"
}
```



---

archive/issue_events_350710.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-08T21:02:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350710"
}
```



---

archive/issue_comments_392277.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.0.alpha.tar.gz\n+**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.1.beta.tar.gz\n \n **Upstream bugs** (causing Sage doctest failures) and patches added:\n - `factorpadic.patch`: fix a hang in `factorpadic()`\n``````\n",
    "created_at": "2018-07-08T21:02:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392277",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.0.alpha.tar.gz
+**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.1.beta.tar.gz
 
 **Upstream bugs** (causing Sage doctest failures) and patches added:
 - `factorpadic.patch`: fix a hang in `factorpadic()`
``````




---

archive/issue_events_350711.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-08T21:02:14Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "title_is": "Upgrade to pari-2.10.1.beta",
    "title_was": "Upgrade to pari-2.10.0.alpha",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350711"
}
```



---

archive/issue_comments_392278.json:
```json
{
    "body": "Changed commit from **[`a62587a`](https://github.com/sagemath/sagetrac-mirror/commit/a62587a08668adf537fb3fcbb418b39dd8508b1f)** to **[`c648214`](https://github.com/sagemath/sagetrac-mirror/commit/c648214b288f031c9771bb8c021f62df814e68cd)**",
    "created_at": "2018-07-09T07:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392278",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a62587a`](https://github.com/sagemath/sagetrac-mirror/commit/a62587a08668adf537fb3fcbb418b39dd8508b1f)** to **[`c648214`](https://github.com/sagemath/sagetrac-mirror/commit/c648214b288f031c9771bb8c021f62df814e68cd)**



---

archive/issue_comments_392279.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/864785a8f9239889cbd04eed14c9de3a90861ee4\"><code>864785a</code></a></td><td><code>Upgrade to pari-2.10.1.beta</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c648214b288f031c9771bb8c021f62df814e68cd\"><code>c648214</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-07-09T07:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392279",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/864785a8f9239889cbd04eed14c9de3a90861ee4"><code>864785a</code></a></td><td><code>Upgrade to pari-2.10.1.beta</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c648214b288f031c9771bb8c021f62df814e68cd"><code>c648214</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392280.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nUnfortunately, this breaks cypari2:\n\n```\n[cypari-1.1.4]     cypari2/gen.c: In function '__pyx_pf_7cypari2_3gen_3Gen_232_nf_nfzk':\n[cypari-1.1.4]     cypari2/gen.c:157941:3: error: too many arguments to function 'nf_nfzk'\n[cypari-1.1.4]        nf_nfzk(__pyx_v_self->__pyx_base.g, __pyx_v_t0->__pyx_base.g, (&__pyx_v_zknf), (&__pyx_v_czknf));\n[cypari-1.1.4]        ^~~~~~~\n[cypari-1.1.4]     In file included from ../../usr/local/src/sage-config/local/include/pari/pari.h:45:0,\n[cypari-1.1.4]                      from cypari2/gen.c:599:\n[cypari-1.1.4]     ../../usr/local/src/sage-config/local/include/pari/paridecl.h:2329:5: note: declared here\n[cypari-1.1.4]      GEN     nf_nfzk(GEN nf, GEN rnfeq);\n[cypari-1.1.4]          ^~~~~~~\n[cypari-1.1.4]     cypari2/gen.c: In function '__pyx_pf_7cypari2_3gen_3Gen_234_nfeltup':\n[cypari-1.1.4]     cypari2/gen.c:158154:60: error: too many arguments to function 'nfeltup'\n[cypari-1.1.4]        __pyx_t_1 = ((PyObject *)__pyx_f_7cypari2_5stack_new_gen(nfeltup(__pyx_v_self->__pyx_base.g, __pyx_v_t0->__pyx_base.g, __pyx_v_t1->__pyx_base.g, __pyx_v_t2->__pyx_base.g))); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4064, __pyx_L1_error)\n[cypari-1.1.4]                                                                 ^~~~~~~\n[cypari-1.1.4]     In file included from ../../usr/local/src/sage-config/local/include/pari/pari.h:45:0,\n[cypari-1.1.4]                      from cypari2/gen.c:599:\n[cypari-1.1.4]     ../../usr/local/src/sage-config/local/include/pari/paridecl.h:2332:5: note: declared here\n[cypari-1.1.4]      GEN     nfeltup(GEN nf, GEN x, GEN zknf);\n[cypari-1.1.4]          ^~~~~~~\n```",
    "created_at": "2018-07-09T07:27:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392280",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Unfortunately, this breaks cypari2:

```
[cypari-1.1.4]     cypari2/gen.c: In function '__pyx_pf_7cypari2_3gen_3Gen_232_nf_nfzk':
[cypari-1.1.4]     cypari2/gen.c:157941:3: error: too many arguments to function 'nf_nfzk'
[cypari-1.1.4]        nf_nfzk(__pyx_v_self->__pyx_base.g, __pyx_v_t0->__pyx_base.g, (&__pyx_v_zknf), (&__pyx_v_czknf));
[cypari-1.1.4]        ^~~~~~~
[cypari-1.1.4]     In file included from ../../usr/local/src/sage-config/local/include/pari/pari.h:45:0,
[cypari-1.1.4]                      from cypari2/gen.c:599:
[cypari-1.1.4]     ../../usr/local/src/sage-config/local/include/pari/paridecl.h:2329:5: note: declared here
[cypari-1.1.4]      GEN     nf_nfzk(GEN nf, GEN rnfeq);
[cypari-1.1.4]          ^~~~~~~
[cypari-1.1.4]     cypari2/gen.c: In function '__pyx_pf_7cypari2_3gen_3Gen_234_nfeltup':
[cypari-1.1.4]     cypari2/gen.c:158154:60: error: too many arguments to function 'nfeltup'
[cypari-1.1.4]        __pyx_t_1 = ((PyObject *)__pyx_f_7cypari2_5stack_new_gen(nfeltup(__pyx_v_self->__pyx_base.g, __pyx_v_t0->__pyx_base.g, __pyx_v_t1->__pyx_base.g, __pyx_v_t2->__pyx_base.g))); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4064, __pyx_L1_error)
[cypari-1.1.4]                                                                 ^~~~~~~
[cypari-1.1.4]     In file included from ../../usr/local/src/sage-config/local/include/pari/pari.h:45:0,
[cypari-1.1.4]                      from cypari2/gen.c:599:
[cypari-1.1.4]     ../../usr/local/src/sage-config/local/include/pari/paridecl.h:2332:5: note: declared here
[cypari-1.1.4]      GEN     nfeltup(GEN nf, GEN x, GEN zknf);
[cypari-1.1.4]          ^~~~~~~
```



---

archive/issue_comments_392281.json:
```json
{
    "body": "Dependencies: **#25813**",
    "created_at": "2018-07-10T14:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392281",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#25813**



---

archive/issue_comments_392282.json:
```json
{
    "body": "Changed commit from **[`c648214`](https://github.com/sagemath/sagetrac-mirror/commit/c648214b288f031c9771bb8c021f62df814e68cd)** to **[`b85a7fd`](https://github.com/sagemath/sagetrac-mirror/commit/b85a7fdad6ec8e5d23119ed310852f31bf8b770a)**",
    "created_at": "2018-07-10T15:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392282",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c648214`](https://github.com/sagemath/sagetrac-mirror/commit/c648214b288f031c9771bb8c021f62df814e68cd)** to **[`b85a7fd`](https://github.com/sagemath/sagetrac-mirror/commit/b85a7fdad6ec8e5d23119ed310852f31bf8b770a)**



---

archive/issue_comments_392283.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da380b320ecd1821dfc2d981c87fe20c2b53c606\"><code>da380b3</code></a></td><td><code>Upgrade cypari2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08ee923a6e234df640d96034579ca14f561c560e\"><code>08ee923</code></a></td><td><code>Upgrade to pari-2.10.1.beta</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b85a7fdad6ec8e5d23119ed310852f31bf8b770a\"><code>b85a7fd</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-07-10T15:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392283",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da380b320ecd1821dfc2d981c87fe20c2b53c606"><code>da380b3</code></a></td><td><code>Upgrade cypari2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08ee923a6e234df640d96034579ca14f561c560e"><code>08ee923</code></a></td><td><code>Upgrade to pari-2.10.1.beta</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b85a7fdad6ec8e5d23119ed310852f31bf8b770a"><code>b85a7fd</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392284.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1 @@\n **Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.1.beta.tar.gz\n-\n-**Upstream bugs** (causing Sage doctest failures) and patches added:\n-- `factorpadic.patch`: fix a hang in `factorpadic()`\n-- `mathnf.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055\n-- `elleta_prec.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056\n``````\n",
    "created_at": "2018-07-13T11:50:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392284",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1 @@
 **Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.1.beta.tar.gz
-
-**Upstream bugs** (causing Sage doctest failures) and patches added:
-- `factorpadic.patch`: fix a hang in `factorpadic()`
-- `mathnf.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2055
-- `elleta_prec.patch`: https://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=2056
``````




---

archive/issue_comments_392285.json:
```json
{
    "body": "Changed commit from **[`b85a7fd`](https://github.com/sagemath/sagetrac-mirror/commit/b85a7fdad6ec8e5d23119ed310852f31bf8b770a)** to **[`58bde2e`](https://github.com/sagemath/sagetrac-mirror/commit/58bde2ea1b5b031f61fbb7de771c578f4635a66b)**",
    "created_at": "2018-07-13T11:50:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392285",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b85a7fd`](https://github.com/sagemath/sagetrac-mirror/commit/b85a7fdad6ec8e5d23119ed310852f31bf8b770a)** to **[`58bde2e`](https://github.com/sagemath/sagetrac-mirror/commit/58bde2ea1b5b031f61fbb7de771c578f4635a66b)**



---

archive/issue_comments_392286.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62fe6eb15111327d930336d4252d5b23cbb22ab9\"><code>62fe6eb</code></a></td><td><code>Upgrade cypari2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18ffa7e55cb07c1a04b182b500a09df8e343cdd6\"><code>18ffa7e</code></a></td><td><code>Upgrade to pari-2.10.1.beta</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58bde2ea1b5b031f61fbb7de771c578f4635a66b\"><code>58bde2e</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-07-13T11:50:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392286",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62fe6eb15111327d930336d4252d5b23cbb22ab9"><code>62fe6eb</code></a></td><td><code>Upgrade cypari2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18ffa7e55cb07c1a04b182b500a09df8e343cdd6"><code>18ffa7e</code></a></td><td><code>Upgrade to pari-2.10.1.beta</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58bde2ea1b5b031f61fbb7de771c578f4635a66b"><code>58bde2e</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392287.json:
```json
{
    "body": "Changed dependencies from **#25813** to **#25813, #25635**",
    "created_at": "2018-07-13T13:01:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392287",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25813** to **#25813, #25635**



---

archive/issue_comments_392288.json:
```json
{
    "body": "Changed commit from **[`58bde2e`](https://github.com/sagemath/sagetrac-mirror/commit/58bde2ea1b5b031f61fbb7de771c578f4635a66b)** to **[`8bdbac5`](https://github.com/sagemath/sagetrac-mirror/commit/8bdbac586df58b9b55079465dba11323c6d9a7f8)**",
    "created_at": "2018-07-13T13:08:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392288",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`58bde2e`](https://github.com/sagemath/sagetrac-mirror/commit/58bde2ea1b5b031f61fbb7de771c578f4635a66b)** to **[`8bdbac5`](https://github.com/sagemath/sagetrac-mirror/commit/8bdbac586df58b9b55079465dba11323c6d9a7f8)**



---

archive/issue_comments_392289.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61b093032eb47e0b6db57b23dea04ec285f3a5c3\"><code>61b0930</code></a></td><td><code>possibly better make_monic in heegner.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cbb66bf5822c77fb8356af27ccc2d03401d0b25\"><code>9cbb66b</code></a></td><td><code>Improve make_monic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6995e7cae1b3476ad0145f8dfc897cf91f0c3c4d\"><code>6995e7c</code></a></td><td><code>Merge commit '9cbb66bf5822c77fb8356af27ccc2d03401d0b25' into t/25567/upgrade_to_pari_2_10_0_alpha</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adf99c0ddcd25ec1c8e277e15b18fe6385f9583e\"><code>adf99c0</code></a></td><td><code>Upgrade to pari-2.10.1.beta</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bdbac586df58b9b55079465dba11323c6d9a7f8\"><code>8bdbac5</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-07-13T13:08:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392289",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61b093032eb47e0b6db57b23dea04ec285f3a5c3"><code>61b0930</code></a></td><td><code>possibly better make_monic in heegner.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cbb66bf5822c77fb8356af27ccc2d03401d0b25"><code>9cbb66b</code></a></td><td><code>Improve make_monic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6995e7cae1b3476ad0145f8dfc897cf91f0c3c4d"><code>6995e7c</code></a></td><td><code>Merge commit '9cbb66bf5822c77fb8356af27ccc2d03401d0b25' into t/25567/upgrade_to_pari_2_10_0_alpha</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adf99c0ddcd25ec1c8e277e15b18fe6385f9583e"><code>adf99c0</code></a></td><td><code>Upgrade to pari-2.10.1.beta</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bdbac586df58b9b55079465dba11323c6d9a7f8"><code>8bdbac5</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392290.json:
```json
{
    "body": "Changed commit from **[`8bdbac5`](https://github.com/sagemath/sagetrac-mirror/commit/8bdbac586df58b9b55079465dba11323c6d9a7f8)** to **[`5e40504`](https://github.com/sagemath/sagetrac-mirror/commit/5e40504d977c0e9ecf4ab494715667d1e61a7408)**",
    "created_at": "2018-07-13T14:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392290",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8bdbac5`](https://github.com/sagemath/sagetrac-mirror/commit/8bdbac586df58b9b55079465dba11323c6d9a7f8)** to **[`5e40504`](https://github.com/sagemath/sagetrac-mirror/commit/5e40504d977c0e9ecf4ab494715667d1e61a7408)**



---

archive/issue_comments_392291.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e40504d977c0e9ecf4ab494715667d1e61a7408\"><code>5e40504</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-07-13T14:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392291",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e40504d977c0e9ecf4ab494715667d1e61a7408"><code>5e40504</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_events_350712.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-13T14:24:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350712"
}
```



---

archive/issue_events_350713.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-13T14:24:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350713"
}
```



---

archive/issue_comments_392292.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n[pari-2.11.0 (STABLE) released !](http://pari.math.u-bordeaux.fr/archives/pari-announce-18/msg00006.html)\n\nShould we instead update to that or first update to beta and then follow up?",
    "created_at": "2018-07-23T11:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392292",
    "user": "https://github.com/timokau"
}
```

<div id="comment:32" align="right">comment:32</div>

[pari-2.11.0 (STABLE) released !](http://pari.math.u-bordeaux.fr/archives/pari-announce-18/msg00006.html)

Should we instead update to that or first update to beta and then follow up?



---

archive/issue_events_350714.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-23T11:48:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350714"
}
```



---

archive/issue_events_350715.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-23T11:48:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350715"
}
```



---

archive/issue_comments_392293.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.1.beta.tar.gz\n+**Tarball**: http://pari.math.u-bordeaux.fr/pub/pari/unix/pari-2.11.0.tar.gz\n``````\n",
    "created_at": "2018-07-23T11:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392293",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unstable/pari-2.10.1.beta.tar.gz
+**Tarball**: http://pari.math.u-bordeaux.fr/pub/pari/unix/pari-2.11.0.tar.gz
``````




---

archive/issue_events_350716.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-23T11:48:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "title_is": "Upgrade to pari-2.11",
    "title_was": "Upgrade to pari-2.10.1.beta",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350716"
}
```



---

archive/issue_comments_392294.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI'm experiencing a giac test failure when I update the pari nix package. I'm not sure yet if its actually caused by the pari update, the giac test suite seems somewhat non-deterministic. I'll investigate and report upstream if it is relevant.",
    "created_at": "2018-07-23T12:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392294",
    "user": "https://github.com/timokau"
}
```

<div id="comment:34" align="right">comment:34</div>

I'm experiencing a giac test failure when I update the pari nix package. I'm not sure yet if its actually caused by the pari update, the giac test suite seems somewhat non-deterministic. I'll investigate and report upstream if it is relevant.



---

archive/issue_comments_392295.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nSeems like I get the failure\n\n```\n13c13\n< 1,\n---\n> matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix>\nFAIL: chk_fhan11\n```\n\nwhen updating pari. The latest version of giac (1.4.9-69) unfortunately doesn't fix this but instead introduces one more failure:\n\n```\n35c35\n< 2/3*sign(a)*asin(sqrt(x)*x/sqrt(a)/a),\n---\n> 2/3*asin(sqrt(x)*x/sqrt(a)/a)*sign(a),\nFAIL: chk_integrate\n```\n\nI'll have to wait until my upstream forum account is approved until I can report.",
    "created_at": "2018-07-23T12:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392295",
    "user": "https://github.com/timokau"
}
```

<div id="comment:35" align="right">comment:35</div>

Seems like I get the failure

```
13c13
< 1,
---
> matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix>
FAIL: chk_fhan11
```

when updating pari. The latest version of giac (1.4.9-69) unfortunately doesn't fix this but instead introduces one more failure:

```
35c35
< 2/3*sign(a)*asin(sqrt(x)*x/sqrt(a)/a),
---
> 2/3*asin(sqrt(x)*x/sqrt(a)/a)*sign(a),
FAIL: chk_integrate
```

I'll have to wait until my upstream forum account is approved until I can report.



---

archive/issue_comments_392296.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d867a8d3ea2a1942c59574b6a07afe3843464f07\"><code>d867a8d</code></a></td><td><code>Upgrade to pari-2.11.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7af4748cab37d651eaa88be501db88f4a5ffc584\"><code>7af4748</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-07-26T10:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392296",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d867a8d3ea2a1942c59574b6a07afe3843464f07"><code>d867a8d</code></a></td><td><code>Upgrade to pari-2.11.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7af4748cab37d651eaa88be501db88f4a5ffc584"><code>7af4748</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392297.json:
```json
{
    "body": "Changed commit from **[`5e40504`](https://github.com/sagemath/sagetrac-mirror/commit/5e40504d977c0e9ecf4ab494715667d1e61a7408)** to **[`7af4748`](https://github.com/sagemath/sagetrac-mirror/commit/7af4748cab37d651eaa88be501db88f4a5ffc584)**",
    "created_at": "2018-07-26T10:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392297",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5e40504`](https://github.com/sagemath/sagetrac-mirror/commit/5e40504d977c0e9ecf4ab494715667d1e61a7408)** to **[`7af4748`](https://github.com/sagemath/sagetrac-mirror/commit/7af4748cab37d651eaa88be501db88f4a5ffc584)**



---

archive/issue_events_350717.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-26T10:55:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350717"
}
```



---

archive/issue_events_350718.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-07-26T10:55:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350718"
}
```



---

archive/issue_comments_392298.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@timokau](#comment%3A35):\n> Seems like I get the failure\n> \n> ```\n> 13c13\n> < 1,\n> ---\n> > matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix>\n> FAIL: chk_fhan11\n> ```\n> \n> when updating pari.\n\nDid you report that upstream?\n\nI analyzed the problem and the problem happens because the output of `isprime(p, 1)` changed from returning a primality certificate to a boolean answer. There is now a separate function `primecert()` for getting a certificate.\n\nThe test directly checks the PARI interface, but otherwise these primality certificates are not used by anything in giac. So while the test fails, nothing else in giac should fail because of this.",
    "created_at": "2018-07-26T11:57:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392298",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@timokau](#comment%3A35):
> Seems like I get the failure
> 
> ```
> 13c13
> < 1,
> ---
> > matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix>
> FAIL: chk_fhan11
> ```
> 
> when updating pari.

Did you report that upstream?

I analyzed the problem and the problem happens because the output of `isprime(p, 1)` changed from returning a primality certificate to a boolean answer. There is now a separate function `primecert()` for getting a certificate.

The test directly checks the PARI interface, but otherwise these primality certificates are not used by anything in giac. So while the test fails, nothing else in giac should fail because of this.



---

archive/issue_comments_392299.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@jdemeyer](#comment%3A38):\n> Replying to [@timokau](#comment%3A35):\n> > Seems like I get the failure\n> > \n> > ```\n> > 13c13\n> > < 1,\n> > ---\n> > > matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix>\n> > FAIL: chk_fhan11\n> > ```\n> > \n> > when updating pari.\n> \n> \n> Did you report that upstream?\n\nThe only contact info I found was that [forum](https://xcas.univ-grenoble-alpes.fr/forum/) and I'm still waiting for my account to be approved. I think I accidentally chose the wrong option at the age question (doesn't help that the forum is in french). I sent an email to the administrators, no reply yet.\n\nIf you want to try, maybe you have more luck. I wish they'd just use some issue tracker or plain old email.\n\n> I analyzed the problem and the problem happens because the output of `isprime(p, 1)` changed from returning a primality certificate to a boolean answer. There is now a separate function `primecert()` for getting a certificate.\n> \n> The test directly checks the PARI interface, but otherwise these primality certificates are not used by anything in giac. So while the test fails, nothing else in giac should fail because of this.\n\nGreat, thanks for analyzing this :)\n\nShould we then adapt / disable giac's `spkg-check` until this is fixed? Or is it okay for those spkg checks to fail?",
    "created_at": "2018-07-26T12:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392299",
    "user": "https://github.com/timokau"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@jdemeyer](#comment%3A38):
> Replying to [@timokau](#comment%3A35):
> > Seems like I get the failure
> > 
> > ```
> > 13c13
> > < 1,
> > ---
> > > matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix>
> > FAIL: chk_fhan11
> > ```
> > 
> > when updating pari.
> 
> 
> Did you report that upstream?

The only contact info I found was that [forum](https://xcas.univ-grenoble-alpes.fr/forum/) and I'm still waiting for my account to be approved. I think I accidentally chose the wrong option at the age question (doesn't help that the forum is in french). I sent an email to the administrators, no reply yet.

If you want to try, maybe you have more luck. I wish they'd just use some issue tracker or plain old email.

> I analyzed the problem and the problem happens because the output of `isprime(p, 1)` changed from returning a primality certificate to a boolean answer. There is now a separate function `primecert()` for getting a certificate.
> 
> The test directly checks the PARI interface, but otherwise these primality certificates are not used by anything in giac. So while the test fails, nothing else in giac should fail because of this.

Great, thanks for analyzing this :)

Should we then adapt / disable giac's `spkg-check` until this is fixed? Or is it okay for those spkg checks to fail?



---

archive/issue_comments_392300.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@timokau](#comment%3A39):\n> I wish they'd just use some issue tracker or plain old email.\n\nMore generally, their website is a mess... Even finding the source tarballs is hard. And that page has `debian` in its name even though these are just the sources: https://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/\n\nI just recall now that @frederichan-IMJPRG is a Giac developer and usually all bug reports from Sage go through him. \u200bFrederic: if you missed the discussion, the upgrade to PARI/GP breaks one test from Giac:\n\n```\n13c13\n< 1,\n---\n> matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix>\nFAIL: chk_fhan11\n```\nSee [comment:38] for the analysis.",
    "created_at": "2018-07-26T13:12:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392300",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@timokau](#comment%3A39):
> I wish they'd just use some issue tracker or plain old email.

More generally, their website is a mess... Even finding the source tarballs is hard. And that page has `debian` in its name even though these are just the sources: https://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/

I just recall now that @frederichan-IMJPRG is a Giac developer and usually all bug reports from Sage go through him. ​Frederic: if you missed the discussion, the upgrade to PARI/GP breaks one test from Giac:

```
13c13
< 1,
---
> matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix>
FAIL: chk_fhan11
```
See [comment:38] for the analysis.



---

archive/issue_comments_392301.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI have reported this here: \nhttps://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=4&t=2102#p10326\n\nAs this example is just calling the pari function, patching the output with the new behaviour looks natural, something like this?\n\n```\n--- a/check/TP11-sol.cas.out1\t2018-07-26 17:12:30.516949491 +0200\n+++ b/check/TP11-sol.cas.out1\t2018-07-26 17:13:04.397032363 +0200\n@@ -10,7 +10,7 @@\n 1073741824000000000000000000061203284109000000000000000000000000008409,\n 2^3*3*389*733*156904374622257604823879982847602392900751802349981470895277241,\n \"Done\",\n-matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix[[2,13,1],[3,3,1],[5,2,1],[7,2,1],[56467,2,1],[6553084925887974620811527,2,matrix[[2,5,1],[19,2,1],[71,2,1],[126823,2,1]]]]]],\n+1,\n 0,\n [],\n 1,\n```\nbest\nFrederic",
    "created_at": "2018-07-26T15:31:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392301",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:41" align="right">comment:41</div>

I have reported this here: 
https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=4&t=2102#p10326

As this example is just calling the pari function, patching the output with the new behaviour looks natural, something like this?

```
--- a/check/TP11-sol.cas.out1	2018-07-26 17:12:30.516949491 +0200
+++ b/check/TP11-sol.cas.out1	2018-07-26 17:13:04.397032363 +0200
@@ -10,7 +10,7 @@
 1073741824000000000000000000061203284109000000000000000000000000008409,
 2^3*3*389*733*156904374622257604823879982847602392900751802349981470895277241,
 "Done",
-matrix[[2,7,1],[3,2,1],[389,2,1],[733,2,1],[156904374622257604823879982847602392900751802349981470895277241,2,matrix[[2,13,1],[3,3,1],[5,2,1],[7,2,1],[56467,2,1],[6553084925887974620811527,2,matrix[[2,5,1],[19,2,1],[71,2,1],[126823,2,1]]]]]],
+1,
 0,
 [],
 1,
```
best
Frederic



---

archive/issue_comments_392302.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThanks for reporting! If the test really just tests the pari interface without ever using that part of the interface, I'd just remove the test instead.\n\nNot quite relevant to this ticket, but could you report the `chk_integrate` failure too? [the test failure is here](https://github.com/sagemath/sage/issues/25567#comment:35). That occurs when I update giac from 1.4.9-59 to 1.4.9-69 (without changing anything else).",
    "created_at": "2018-07-26T15:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392302",
    "user": "https://github.com/timokau"
}
```

<div id="comment:42" align="right">comment:42</div>

Thanks for reporting! If the test really just tests the pari interface without ever using that part of the interface, I'd just remove the test instead.

Not quite relevant to this ticket, but could you report the `chk_integrate` failure too? [the test failure is here](https://github.com/sagemath/sage/issues/25567#comment:35). That occurs when I update giac from 1.4.9-59 to 1.4.9-69 (without changing anything else).



---

archive/issue_comments_392303.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@frederichan-IMJPRG](#comment%3A41):\n> I have reported this here: \n> https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=4&t=2102#p10326\n> \n> As this example is just calling the pari function, patching the output with the new behaviour looks natural, something like this?\n\nDepends whether you want to want the tests to pass on older PARI versions too. Personally, I would just remove the test completely.",
    "created_at": "2018-07-26T18:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392303",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@frederichan-IMJPRG](#comment%3A41):
> I have reported this here: 
> https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=4&t=2102#p10326
> 
> As this example is just calling the pari function, patching the output with the new behaviour looks natural, something like this?

Depends whether you want to want the tests to pass on older PARI versions too. Personally, I would just remove the test completely.



---

archive/issue_comments_392304.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\n@frederichan-IMJPRG also not really relevant for this ticket, but lacking another communication channel: Apparently the nix maintainer for giac also already requested a forum account last yer and never got it: https://github.com/NixOS/nixpkgs/pull/44129#issuecomment-408203217\n\nRegarding this ticket: I don't know how the review process works, but LGTM. I haven't run the doctests yet though.",
    "created_at": "2018-07-26T22:03:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392304",
    "user": "https://github.com/timokau"
}
```

<div id="comment:44" align="right">comment:44</div>

@frederichan-IMJPRG also not really relevant for this ticket, but lacking another communication channel: Apparently the nix maintainer for giac also already requested a forum account last yer and never got it: https://github.com/NixOS/nixpkgs/pull/44129#issuecomment-408203217

Regarding this ticket: I don't know how the review process works, but LGTM. I haven't run the doctests yet though.



---

archive/issue_comments_392305.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@timokau](#comment%3A44):\n> I don't know how the review process works\n\nJust a general reply:\n\n- look at the diff and see whether it makes sense.\n- Sage cares a lot about tests, so check whether the code is well tested.\n- check the patchbot (the colored blob at the top of the page).\n- maybe try a few examples, test corner cases in the code.\n- if all is well: set the ticket to positive_review and add your real name as Reviewer on the Trac page. At that point, the release manager will merge the ticket in some later beta/rc release (assuming that all dependencies are merged).\n\nIn this case, this is a package upgrade, which is a bit different. The patchbot doesn't test it, so somebody should manually run the full Sage testsuite. If you want to take my word for it, I did that and tests passed.",
    "created_at": "2018-07-27T07:12:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392305",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@timokau](#comment%3A44):
> I don't know how the review process works

Just a general reply:

- look at the diff and see whether it makes sense.
- Sage cares a lot about tests, so check whether the code is well tested.
- check the patchbot (the colored blob at the top of the page).
- maybe try a few examples, test corner cases in the code.
- if all is well: set the ticket to positive_review and add your real name as Reviewer on the Trac page. At that point, the release manager will merge the ticket in some later beta/rc release (assuming that all dependencies are merged).

In this case, this is a package upgrade, which is a bit different. The patchbot doesn't test it, so somebody should manually run the full Sage testsuite. If you want to take my word for it, I did that and tests passed.



---

archive/issue_comments_392306.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI have also reported chk_integrate here:\nhttps://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=4&t=2104\n\nIndeed my giac/xcas forum account is old, to obtain one I think the safest is a direct mail to Bernard Parisse:\nhttps://www-fourier.ujf-grenoble.fr/?q=fr/content/annuaire\n(he may be in vacation at this time). He also have a trac account: parisse\n\n(cf [#25822 comment:12](https://github.com/sagemath/sage/issues/25822#comment:12))\n\nRegarding the testsuite, although many files have my name I didn't wrote them for a testsuite so they are often too sensitive. But I think (this was often the case in the past) that bernard prefers to keep many examples and look if the changes are bugs or not. In this particular example, there are not so many giac functions that can't be run without pari (ex: ifactor still works in giac without pari), so I guess that bernard will keep this test.\n\nFor a sage package where you always have pari you may decide to suppress it.\n\nNB: if you plan to upgrade giac package, 1.4.6.69 is not enough to fix #25822 but the next stable should be.",
    "created_at": "2018-07-27T08:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392306",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:46" align="right">comment:46</div>

I have also reported chk_integrate here:
https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=4&t=2104

Indeed my giac/xcas forum account is old, to obtain one I think the safest is a direct mail to Bernard Parisse:
https://www-fourier.ujf-grenoble.fr/?q=fr/content/annuaire
(he may be in vacation at this time). He also have a trac account: parisse

(cf [#25822 comment:12](https://github.com/sagemath/sage/issues/25822#comment:12))

Regarding the testsuite, although many files have my name I didn't wrote them for a testsuite so they are often too sensitive. But I think (this was often the case in the past) that bernard prefers to keep many examples and look if the changes are bugs or not. In this particular example, there are not so many giac functions that can't be run without pari (ex: ifactor still works in giac without pari), so I guess that bernard will keep this test.

For a sage package where you always have pari you may decide to suppress it.

NB: if you plan to upgrade giac package, 1.4.6.69 is not enough to fix #25822 but the next stable should be.



---

archive/issue_comments_392307.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@jdemeyer](#comment%3A45):\n> Replying to [@timokau](#comment%3A44):\n> > I don't know how the review process works\n> \n> \n> Just a general reply:\n> \n> - look at the diff and see whether it makes sense.\n\nDid that. While I won't pretend all the math, the changes look very reasonable to me. No obviously wrong results and I think we can trust pari with the details.\n\nTwo things that stuck out to me though:\n\n```\nsage: a.multiplicative_order()\n-        4547473508864641189575195312\n+        189478062869360049565633138\n```\n\n```\n             sage: O3.absolute_discriminant()\n-            8643600\n+            400160824478095086350656915693814563600\n```\n\nI would've thought that both the multiplicative order and the absolute discriminant are supposed to be unique. But again, my knowledge is limited.\n\n> - Sage cares a lot about tests, so check whether the code is well tested.\n\ncheck\n\n> - check the patchbot (the colored blob at the top of the page).\n\nOh, I've always wondered what exactly the patchbot is everybody is talking about.\n\n> - maybe try a few examples, test corner cases in the code.\n> - if all is well: set the ticket to positive_review and add your real name as Reviewer on the Trac page. At that point, the release manager will merge the ticket in some later beta/rc release (assuming that all dependencies are merged).\n\nBut can anybody just do that?\n\n> In this case, this is a package upgrade, which is a bit different. The patchbot doesn't test it, so somebody should manually run the full Sage testsuite. If you want to take my word for it, I did that and tests passed.\n\nWhy doesn't the patchbot test package upgrades? I think if we can just take anybody's word for it, its probably yours.\n\n\nReplying to [@frederichan-IMJPRG](#comment%3A46):\n> I have also reported chk_integrate here:\n> https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=4&t=2104\n\nThanks :)\n\n> Regarding the testsuite, although many files have my name I didn't wrote them for a testsuite so they are often too sensitive. But I think (this was often the case in the past) that bernard prefers to keep many examples and look if the changes are bugs or not. In this particular example, there are not so many giac functions that can't be run without pari (ex: ifactor still works in giac without pari), so I guess that bernard will keep this test.\n\nA very brittle test suite is at risk of just being ignored after a few false-positives. I think a few high-value tests are way more valuable than testing the literal output of every function. Sage has a bit of the same problem in my opinion.\n\n> For a sage package where you always have pari you may decide to suppress it.\n\nFor now I just did `echo > check/chk_fhan11`. Its not that easy to disable an individual test.",
    "created_at": "2018-07-27T11:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392307",
    "user": "https://github.com/timokau"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@jdemeyer](#comment%3A45):
> Replying to [@timokau](#comment%3A44):
> > I don't know how the review process works
> 
> 
> Just a general reply:
> 
> - look at the diff and see whether it makes sense.

Did that. While I won't pretend all the math, the changes look very reasonable to me. No obviously wrong results and I think we can trust pari with the details.

Two things that stuck out to me though:

```
sage: a.multiplicative_order()
-        4547473508864641189575195312
+        189478062869360049565633138
```

```
             sage: O3.absolute_discriminant()
-            8643600
+            400160824478095086350656915693814563600
```

I would've thought that both the multiplicative order and the absolute discriminant are supposed to be unique. But again, my knowledge is limited.

> - Sage cares a lot about tests, so check whether the code is well tested.

check

> - check the patchbot (the colored blob at the top of the page).

Oh, I've always wondered what exactly the patchbot is everybody is talking about.

> - maybe try a few examples, test corner cases in the code.
> - if all is well: set the ticket to positive_review and add your real name as Reviewer on the Trac page. At that point, the release manager will merge the ticket in some later beta/rc release (assuming that all dependencies are merged).

But can anybody just do that?

> In this case, this is a package upgrade, which is a bit different. The patchbot doesn't test it, so somebody should manually run the full Sage testsuite. If you want to take my word for it, I did that and tests passed.

Why doesn't the patchbot test package upgrades? I think if we can just take anybody's word for it, its probably yours.


Replying to [@frederichan-IMJPRG](#comment%3A46):
> I have also reported chk_integrate here:
> https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=4&t=2104

Thanks :)

> Regarding the testsuite, although many files have my name I didn't wrote them for a testsuite so they are often too sensitive. But I think (this was often the case in the past) that bernard prefers to keep many examples and look if the changes are bugs or not. In this particular example, there are not so many giac functions that can't be run without pari (ex: ifactor still works in giac without pari), so I guess that bernard will keep this test.

A very brittle test suite is at risk of just being ignored after a few false-positives. I think a few high-value tests are way more valuable than testing the literal output of every function. Sage has a bit of the same problem in my opinion.

> For a sage package where you always have pari you may decide to suppress it.

For now I just did `echo > check/chk_fhan11`. Its not that easy to disable an individual test.



---

archive/issue_comments_392308.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@timokau](#comment%3A47):\n> Two things that stuck out to me though:\n> \n> ```\n> sage: a.multiplicative_order()\n> -        4547473508864641189575195312\n> +        189478062869360049565633138\n> ```\n> \n> ```\n>              sage: O3.absolute_discriminant()\n> -            8643600\n> +            400160824478095086350656915693814563600\n> ```\n> \n> I would've thought that both the multiplicative order and the absolute discriminant are supposed to be unique.\n\nThe multiplicative order is certainly unique, but the *element* `a` that we're taking the order of is different.\n\nIn the second case, I changed the test input because PARI got more clever in computing orders. We need the large primes `1000003` and `1000099` to make it more difficult for PARI to accidentally find the maximal order.\n\n> > - check the patchbot (the colored blob at the top of the page).\n> \n> \n> Oh, I've always wondered what exactly the patchbot is everybody is talking about.\n\nIt's what Sage uses for continuous integration. It's far from perfect and there is a proposal to replace it: #24854\n\n> But can anybody just do that?\n\nYes, anybody can do that. This process seems to be working fine.\n\n> Why doesn't the patchbot test package upgrades?\n\nGood question actually, I don't know the answer.",
    "created_at": "2018-08-01T11:24:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392308",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@timokau](#comment%3A47):
> Two things that stuck out to me though:
> 
> ```
> sage: a.multiplicative_order()
> -        4547473508864641189575195312
> +        189478062869360049565633138
> ```
> 
> ```
>              sage: O3.absolute_discriminant()
> -            8643600
> +            400160824478095086350656915693814563600
> ```
> 
> I would've thought that both the multiplicative order and the absolute discriminant are supposed to be unique.

The multiplicative order is certainly unique, but the *element* `a` that we're taking the order of is different.

In the second case, I changed the test input because PARI got more clever in computing orders. We need the large primes `1000003` and `1000099` to make it more difficult for PARI to accidentally find the maximal order.

> > - check the patchbot (the colored blob at the top of the page).
> 
> 
> Oh, I've always wondered what exactly the patchbot is everybody is talking about.

It's what Sage uses for continuous integration. It's far from perfect and there is a proposal to replace it: #24854

> But can anybody just do that?

Yes, anybody can do that. This process seems to be working fine.

> Why doesn't the patchbot test package upgrades?

Good question actually, I don't know the answer.



---

archive/issue_events_350719.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-04T15:42:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350719"
}
```



---

archive/issue_events_350720.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-08-04T15:42:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350720"
}
```



---

archive/issue_comments_392309.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nOh, I didn't notice that you also changed the test input.",
    "created_at": "2018-08-04T15:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392309",
    "user": "https://github.com/timokau"
}
```

<div id="comment:49" align="right">comment:49</div>

Oh, I didn't notice that you also changed the test input.



---

archive/issue_comments_392310.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReviewer name.",
    "created_at": "2018-08-04T22:20:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392310",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:50" align="right">comment:50</div>

Reviewer name.



---

archive/issue_comments_392311.json:
```json
{
    "body": "Reviewer: **Timo Kaufmann**",
    "created_at": "2018-08-05T09:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392311",
    "user": "https://github.com/timokau"
}
```

Reviewer: **Timo Kaufmann**



---

archive/issue_comments_392312.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nFWIW the testsuite fails on kucalc (linux 64-bit):\n\n```\n* Testing galpol           gp-sta..BUG [2116]   gp-dyn..BUG [2220]   \n```",
    "created_at": "2018-08-05T18:14:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392312",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:52" align="right">comment:52</div>

FWIW the testsuite fails on kucalc (linux 64-bit):

```
* Testing galpol           gp-sta..BUG [2116]   gp-dyn..BUG [2220]   
```



---

archive/issue_comments_392313.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nPretty sure this is due to pari on 32-bit linux:\n\n```\nFile \"src/sage/schemes/elliptic_curves/period_lattice.py\", line 1463, in sage.schemes.elliptic_curves.period_lattice.PeriodLattice_ell.elliptic_logarithm\nFailed example:\n    L.elliptic_exponential(_)\nExpected:\n    (3.00000000000000000000000000... : 5.00000000000000000000000000... : 1.000000000000000000000000000)\nGot:\n    (3.000000000000000000000000000 : 4.999999999999999999999999999 : 1.000000000000000000000000000)\n```\n\nI also get a lot of buildbots with giac testsuite failures, this might also be due to the pari udpate. I'll test some more... (edit: i see its already noted here)",
    "created_at": "2018-08-05T22:55:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392313",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:53" align="right">comment:53</div>

Pretty sure this is due to pari on 32-bit linux:

```
File "src/sage/schemes/elliptic_curves/period_lattice.py", line 1463, in sage.schemes.elliptic_curves.period_lattice.PeriodLattice_ell.elliptic_logarithm
Failed example:
    L.elliptic_exponential(_)
Expected:
    (3.00000000000000000000000000... : 5.00000000000000000000000000... : 1.000000000000000000000000000)
Got:
    (3.000000000000000000000000000 : 4.999999999999999999999999999 : 1.000000000000000000000000000)
```

I also get a lot of buildbots with giac testsuite failures, this might also be due to the pari udpate. I'll test some more... (edit: i see its already noted here)



---

archive/issue_comments_392314.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nPS: the patchbot doesn't test package updates since it doesn't have a programmatic way of downloading tarballs, also patchbot does incremental rebuilds which are likely to get hosed if something is wrong with the ticket.",
    "created_at": "2018-08-05T22:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392314",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:54" align="right">comment:54</div>

PS: the patchbot doesn't test package updates since it doesn't have a programmatic way of downloading tarballs, also patchbot does incremental rebuilds which are likely to get hosed if something is wrong with the ticket.



---

archive/issue_comments_392315.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nSo should this be set to needs_work then?",
    "created_at": "2018-08-06T08:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392315",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:55" align="right">comment:55</div>

So should this be set to needs_work then?



---

archive/issue_comments_392316.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@vbraun](#comment%3A53):\n> Pretty sure this is due to pari on 32-bit linux:\n> \n> ```\n> File \"src/sage/schemes/elliptic_curves/period_lattice.py\", line 1463, in sage.schemes.elliptic_curves.period_lattice.PeriodLattice_ell.elliptic_logarithm\n> Failed example:\n>     L.elliptic_exponential(_)\n> Expected:\n>     (3.00000000000000000000000000... : 5.00000000000000000000000000... : 1.000000000000000000000000000)\n> Got:\n>     (3.000000000000000000000000000 : 4.999999999999999999999999999 : 1.000000000000000000000000000)\n> ```\n\nThat makes sense.  In line 1773 the pari function ellwp() is called (in the method elliptic_exponential())  and that is what does the work for this.\n\n> \n> I also get a lot of buildbots with giac testsuite failures, this might also be due to the pari udpate. I'll test some more... (edit: i see its already noted here)",
    "created_at": "2018-08-06T08:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392316",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@vbraun](#comment%3A53):
> Pretty sure this is due to pari on 32-bit linux:
> 
> ```
> File "src/sage/schemes/elliptic_curves/period_lattice.py", line 1463, in sage.schemes.elliptic_curves.period_lattice.PeriodLattice_ell.elliptic_logarithm
> Failed example:
>     L.elliptic_exponential(_)
> Expected:
>     (3.00000000000000000000000000... : 5.00000000000000000000000000... : 1.000000000000000000000000000)
> Got:
>     (3.000000000000000000000000000 : 4.999999999999999999999999999 : 1.000000000000000000000000000)
> ```

That makes sense.  In line 1773 the pari function ellwp() is called (in the method elliptic_exponential())  and that is what does the work for this.

> 
> I also get a lot of buildbots with giac testsuite failures, this might also be due to the pari udpate. I'll test some more... (edit: i see its already noted here)



---

archive/issue_events_350721.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-06T08:24:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350721"
}
```



---

archive/issue_events_350722.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-06T08:24:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350722"
}
```



---

archive/issue_comments_392317.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nAlso I'd appreciate it if the giac testsuite could be worked around, otherwise I'll have to disabled it on the buildbot and, realistically, I'll never turn it back on.",
    "created_at": "2018-08-06T08:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392317",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:57" align="right">comment:57</div>

Also I'd appreciate it if the giac testsuite could be worked around, otherwise I'll have to disabled it on the buildbot and, realistically, I'll never turn it back on.



---

archive/issue_comments_392318.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92c639a26faf2d5700a38c4bbcb84050426f65eb\"><code>92c639a</code></a></td><td><code>Upgrade to pari-2.11.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7b4a3708094a396bd2d4924b212786365464b76\"><code>e7b4a37</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-08-06T09:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392318",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92c639a26faf2d5700a38c4bbcb84050426f65eb"><code>92c639a</code></a></td><td><code>Upgrade to pari-2.11.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7b4a3708094a396bd2d4924b212786365464b76"><code>e7b4a37</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392319.json:
```json
{
    "body": "Changed commit from **[`7af4748`](https://github.com/sagemath/sagetrac-mirror/commit/7af4748cab37d651eaa88be501db88f4a5ffc584)** to **[`e7b4a37`](https://github.com/sagemath/sagetrac-mirror/commit/e7b4a3708094a396bd2d4924b212786365464b76)**",
    "created_at": "2018-08-06T09:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392319",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7af4748`](https://github.com/sagemath/sagetrac-mirror/commit/7af4748cab37d651eaa88be501db88f4a5ffc584)** to **[`e7b4a37`](https://github.com/sagemath/sagetrac-mirror/commit/e7b4a3708094a396bd2d4924b212786365464b76)**



---

archive/issue_comments_392320.json:
```json
{
    "body": "Changed dependencies from **#25813, #25635** to **#26010**",
    "created_at": "2018-08-06T11:33:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392320",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#25813, #25635** to **#26010**



---

archive/issue_comments_392321.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@vbraun](#comment%3A54):\n> patchbot does incremental rebuilds which are likely to get hosed if something is wrong with the ticket.\n\nThat's true for any ticket. I don't believe that package upgrades are the tickets most likely to cause breakage of the patchbot.",
    "created_at": "2018-08-06T14:59:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392321",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@vbraun](#comment%3A54):
> patchbot does incremental rebuilds which are likely to get hosed if something is wrong with the ticket.

That's true for any ticket. I don't believe that package upgrades are the tickets most likely to cause breakage of the patchbot.



---

archive/issue_comments_392322.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@vbraun](#comment%3A52):\n> FWIW the testsuite fails on kucalc (linux 64-bit):\n> \n> ```\n> * Testing galpol           gp-sta..BUG [2116]   gp-dyn..BUG [2220]   \n> ```\n\nFixed by #26010.",
    "created_at": "2018-08-07T14:41:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392322",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@vbraun](#comment%3A52):
> FWIW the testsuite fails on kucalc (linux 64-bit):
> 
> ```
> * Testing galpol           gp-sta..BUG [2116]   gp-dyn..BUG [2220]   
> ```

Fixed by #26010.



---

archive/issue_comments_392323.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@vbraun](#comment%3A53):\n> Pretty sure this is due to pari on 32-bit linux:\n\nFixed by adding some doctest tolerance.",
    "created_at": "2018-08-07T14:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392323",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@vbraun](#comment%3A53):
> Pretty sure this is due to pari on 32-bit linux:

Fixed by adding some doctest tolerance.



---

archive/issue_comments_392324.json:
```json
{
    "body": "Changed commit from **[`e7b4a37`](https://github.com/sagemath/sagetrac-mirror/commit/e7b4a3708094a396bd2d4924b212786365464b76)** to **[`9e1419f`](https://github.com/sagemath/sagetrac-mirror/commit/9e1419f8052d3e9921a178b20e2d31ff8252805e)**",
    "created_at": "2018-08-07T14:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392324",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e7b4a37`](https://github.com/sagemath/sagetrac-mirror/commit/e7b4a3708094a396bd2d4924b212786365464b76)** to **[`9e1419f`](https://github.com/sagemath/sagetrac-mirror/commit/9e1419f8052d3e9921a178b20e2d31ff8252805e)**



---

archive/issue_comments_392325.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/197cabbd430f5d6f51f8007cb8b6ea6f18f83256\"><code>197cabb</code></a></td><td><code>Split database_pari</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c1f18dd198df6c73fb409074df0e9fbf9c02d00\"><code>1c1f18d</code></a></td><td><code>Upgrade to pari-2.11.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e1419f8052d3e9921a178b20e2d31ff8252805e\"><code>9e1419f</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-08-07T14:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392325",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/197cabbd430f5d6f51f8007cb8b6ea6f18f83256"><code>197cabb</code></a></td><td><code>Split database_pari</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c1f18dd198df6c73fb409074df0e9fbf9c02d00"><code>1c1f18d</code></a></td><td><code>Upgrade to pari-2.11.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e1419f8052d3e9921a178b20e2d31ff8252805e"><code>9e1419f</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392326.json:
```json
{
    "body": "Changed commit from **[`9e1419f`](https://github.com/sagemath/sagetrac-mirror/commit/9e1419f8052d3e9921a178b20e2d31ff8252805e)** to **[`6969b74`](https://github.com/sagemath/sagetrac-mirror/commit/6969b7430ab52b58f65334fa12e78433ce010421)**",
    "created_at": "2018-08-07T15:18:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392326",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9e1419f`](https://github.com/sagemath/sagetrac-mirror/commit/9e1419f8052d3e9921a178b20e2d31ff8252805e)** to **[`6969b74`](https://github.com/sagemath/sagetrac-mirror/commit/6969b7430ab52b58f65334fa12e78433ce010421)**



---

archive/issue_comments_392327.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6969b7430ab52b58f65334fa12e78433ce010421\"><code>6969b74</code></a></td><td><code>Add giac patch for PARI 2.11</code></td></tr></table>\n",
    "created_at": "2018-08-07T15:18:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392327",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6969b7430ab52b58f65334fa12e78433ce010421"><code>6969b74</code></a></td><td><code>Add giac patch for PARI 2.11</code></td></tr></table>




---

archive/issue_events_350723.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-07T15:18:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350723"
}
```



---

archive/issue_events_350724.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-07T15:18:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350724"
}
```



---

archive/issue_comments_392328.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nPing? It would be nice to review this again. I recall that it had positive_review before. So this would need reviewing the dependency #26010 and the few added commits.",
    "created_at": "2018-08-20T10:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392328",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:66" align="right">comment:66</div>

Ping? It would be nice to review this again. I recall that it had positive_review before. So this would need reviewing the dependency #26010 and the few added commits.



---

archive/issue_comments_392329.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b3371c51467148d63a62134fbc577504feb9f2b\"><code>1b3371c</code></a></td><td><code>PARI databases have no dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21ba7540d385a9864b44850d6987893dfa16bfc0\"><code>21ba754</code></a></td><td><code>Add giac patch for PARI 2.11</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36574c3f63e0547213b4cb4901a04f0748cbca74\"><code>36574c3</code></a></td><td><code>Upgrade to pari-2.11.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c\"><code>739f7a6</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>\n",
    "created_at": "2018-08-22T15:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392329",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b3371c51467148d63a62134fbc577504feb9f2b"><code>1b3371c</code></a></td><td><code>PARI databases have no dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21ba7540d385a9864b44850d6987893dfa16bfc0"><code>21ba754</code></a></td><td><code>Add giac patch for PARI 2.11</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36574c3f63e0547213b4cb4901a04f0748cbca74"><code>36574c3</code></a></td><td><code>Upgrade to pari-2.11.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c"><code>739f7a6</code></a></td><td><code>Fix doctests for PARI/GP upgrade</code></td></tr></table>




---

archive/issue_comments_392330.json:
```json
{
    "body": "Changed commit from **[`6969b74`](https://github.com/sagemath/sagetrac-mirror/commit/6969b7430ab52b58f65334fa12e78433ce010421)** to **[`739f7a6`](https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c)**",
    "created_at": "2018-08-22T15:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392330",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6969b74`](https://github.com/sagemath/sagetrac-mirror/commit/6969b7430ab52b58f65334fa12e78433ce010421)** to **[`739f7a6`](https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c)**



---

archive/issue_comments_392331.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nRebased to latest version of #26010.",
    "created_at": "2018-08-22T15:07:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392331",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:68" align="right">comment:68</div>

Rebased to latest version of #26010.



---

archive/issue_events_350725.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-22T23:45:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350725"
}
```



---

archive/issue_events_350726.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-22T23:45:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350726"
}
```



---

archive/issue_comments_392332.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/upgrade_to_pari_2_10_0_alpha](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_to_pari_2_10_0_alpha)** to **[`739f7a6`](https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c)**",
    "created_at": "2018-08-26T09:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392332",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/upgrade_to_pari_2_10_0_alpha](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_to_pari_2_10_0_alpha)** to **[`739f7a6`](https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c)**



---

archive/issue_events_350727.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-26T09:37:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350727"
}
```



---

archive/issue_events_350728.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "310d396e079ad8262c927240d441fff6cd816e5c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-08-26T09:37:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25567#event-350728"
}
```



---

archive/issue_comments_392333.json:
```json
{
    "body": "Changed commit from **[`739f7a6`](https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c)** to none",
    "created_at": "2018-09-07T08:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392333",
    "user": "https://github.com/JohnCremona"
}
```

Changed commit from **[`739f7a6`](https://github.com/sagemath/sagetrac-mirror/commit/739f7a6acf98e7041265208836a85ab69573b36c)** to none



---

archive/issue_comments_392334.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nSince the release of 2.11 there have been several bug-fixes which are important for my current work.  Some of the new mf* functions crash on 2.11.0 but run fine with the current development commit.  What I am currently doing is building this development gp executable outside Sage and manually changing the link  SAGE_ROOT/local/bin/gp to point to that.  (My code is only using gp.eval(), not Pari library functions.\n\n1. Is there a better way?\n2. Is the version going to be updated regularly to the current development version of pari?",
    "created_at": "2018-09-07T08:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392334",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:71" align="right">comment:71</div>

Since the release of 2.11 there have been several bug-fixes which are important for my current work.  Some of the new mf* functions crash on 2.11.0 but run fine with the current development commit.  What I am currently doing is building this development gp executable outside Sage and manually changing the link  SAGE_ROOT/local/bin/gp to point to that.  (My code is only using gp.eval(), not Pari library functions.

1. Is there a better way?
2. Is the version going to be updated regularly to the current development version of pari?



---

archive/issue_comments_392335.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nReplying to [@JohnCremona](#comment%3A71):\n> Since the release of 2.11 there have been several bug-fixes which are important for my current work.  Some of the new mf* functions crash on 2.11.0 but run fine with the current development commit.  What I am currently doing is building this development gp executable outside Sage and manually changing the link  SAGE_ROOT/local/bin/gp to point to that.  (My code is only using gp.eval(), not Pari library functions.\n> \n> 1. Is there a better way?\n\nAs far as I can say that's quick and slightly dirty but probably not too much. I think the best way would be for your code to look for a variable, say `GP_EXEC`, and use its value as the `gp` executable if it exists. You can then put that in your environment and only your code is ever affected and you don't need to mess up with the link.",
    "created_at": "2018-09-07T08:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392335",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:72" align="right">comment:72</div>

Replying to [@JohnCremona](#comment%3A71):
> Since the release of 2.11 there have been several bug-fixes which are important for my current work.  Some of the new mf* functions crash on 2.11.0 but run fine with the current development commit.  What I am currently doing is building this development gp executable outside Sage and manually changing the link  SAGE_ROOT/local/bin/gp to point to that.  (My code is only using gp.eval(), not Pari library functions.
> 
> 1. Is there a better way?

As far as I can say that's quick and slightly dirty but probably not too much. I think the best way would be for your code to look for a variable, say `GP_EXEC`, and use its value as the `gp` executable if it exists. You can then put that in your environment and only your code is ever affected and you don't need to mess up with the link.



---

archive/issue_comments_392336.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nI thought of something like that but the Gp() constructor for a new gp interpreter does not allow the user to specify the interpreter's path explicitly.  It calls `Expect.__init__` with \n`command=\"gp --fast --emacs --quiet --stacksize %s\"%stacksize`\nso that relies on picking up gp from Sage's path.\n\nAm I missing something?  I am using a personal Sage build rather than messing with the system-wide one.",
    "created_at": "2018-09-07T09:04:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392336",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:73" align="right">comment:73</div>

I thought of something like that but the Gp() constructor for a new gp interpreter does not allow the user to specify the interpreter's path explicitly.  It calls `Expect.__init__` with 
`command="gp --fast --emacs --quiet --stacksize %s"%stacksize`
so that relies on picking up gp from Sage's path.

Am I missing something?  I am using a personal Sage build rather than messing with the system-wide one.



---

archive/issue_comments_392337.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nReplying to [@JohnCremona](#comment%3A71):\n> Since the release of 2.11 there have been several bug-fixes which are important for my current work.  Some of the new mf* functions crash on 2.11.0 but run fine with the current development commit.  What I am currently doing is building this development gp executable outside Sage and manually changing the link  SAGE_ROOT/local/bin/gp to point to that.  (My code is only using gp.eval(), not Pari library functions.\n> \n> 1. Is there a better way?\n\nsage sets its `PATH` in `sage-env`. After setting that it sources `~/.sage/sagerc` if available. So if you create that file with the following contents:\n\n```\nexport PATH=\"<insert path to local build of gp here>/bin:$PATH\"\n```\n\nsage should pick up your gp since it is first in PATH.\n\n> 2. Is the version going to be updated regularly to the current development version of pari?\n\nI don't think that is a good idea. Development versions are not for \"production\" use. Instead you could ask upstream for a release or suggest to them to release bugfixes in point releases.",
    "created_at": "2018-09-07T09:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392337",
    "user": "https://github.com/timokau"
}
```

<div id="comment:74" align="right">comment:74</div>

Replying to [@JohnCremona](#comment%3A71):
> Since the release of 2.11 there have been several bug-fixes which are important for my current work.  Some of the new mf* functions crash on 2.11.0 but run fine with the current development commit.  What I am currently doing is building this development gp executable outside Sage and manually changing the link  SAGE_ROOT/local/bin/gp to point to that.  (My code is only using gp.eval(), not Pari library functions.
> 
> 1. Is there a better way?

sage sets its `PATH` in `sage-env`. After setting that it sources `~/.sage/sagerc` if available. So if you create that file with the following contents:

```
export PATH="<insert path to local build of gp here>/bin:$PATH"
```

sage should pick up your gp since it is first in PATH.

> 2. Is the version going to be updated regularly to the current development version of pari?

I don't think that is a good idea. Development versions are not for "production" use. Instead you could ask upstream for a release or suggest to them to release bugfixes in point releases.



---

archive/issue_comments_392338.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nIn the long run you may also be interested in #24919.",
    "created_at": "2018-09-07T09:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392338",
    "user": "https://github.com/timokau"
}
```

<div id="comment:75" align="right">comment:75</div>

In the long run you may also be interested in #24919.



---

archive/issue_comments_392339.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nThanks for the suggestion in 1 which is certainly cleaner than whan I was doing.  As for 2, it is a matter of terminology what is production and what is testing.  The work I am doing is effectively a massive test of the new modular forms functionality in Pari/GP, and I am finding bugs which upstream Pari is fixing.  But I am doing the testing using calls from Sage since using gp itself is much harder, especially when I get to compare the results with the output of a different package (hint: one of the 3 Ms).\n\nOf course that is not to say that Sage should be repeatedly changing to the latest pari commit; however pari releases come around rather too infrequently.",
    "created_at": "2018-09-07T10:19:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392339",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:76" align="right">comment:76</div>

Thanks for the suggestion in 1 which is certainly cleaner than whan I was doing.  As for 2, it is a matter of terminology what is production and what is testing.  The work I am doing is effectively a massive test of the new modular forms functionality in Pari/GP, and I am finding bugs which upstream Pari is fixing.  But I am doing the testing using calls from Sage since using gp itself is much harder, especially when I get to compare the results with the output of a different package (hint: one of the 3 Ms).

Of course that is not to say that Sage should be repeatedly changing to the latest pari commit; however pari releases come around rather too infrequently.



---

archive/issue_comments_392340.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nReplying to [@JohnCremona](#comment%3A76):\n> Thanks for the suggestion in 1 which is certainly cleaner than whan I was doing.  As for 2, it is a matter of terminology what is production and what is testing.  The work I am doing is effectively a massive test of the new modular forms functionality in Pari/GP, and I am finding bugs which upstream Pari is fixing.  But I am doing the testing using calls from Sage since using gp itself is much harder, especially when I get to compare the results with the output of a different package (hint: one of the 3 Ms).\n\nIn that case the current solution or one through #24919 is probably best.\n\n> Of course that is not to say that Sage should be repeatedly changing to the latest pari commit; however pari releases come around rather too infrequently.\n\nYes that is true. But if there is something upstream we need, we should at least ask them for a release before deciding to just fetch some unstable commit.",
    "created_at": "2018-09-07T10:45:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392340",
    "user": "https://github.com/timokau"
}
```

<div id="comment:77" align="right">comment:77</div>

Replying to [@JohnCremona](#comment%3A76):
> Thanks for the suggestion in 1 which is certainly cleaner than whan I was doing.  As for 2, it is a matter of terminology what is production and what is testing.  The work I am doing is effectively a massive test of the new modular forms functionality in Pari/GP, and I am finding bugs which upstream Pari is fixing.  But I am doing the testing using calls from Sage since using gp itself is much harder, especially when I get to compare the results with the output of a different package (hint: one of the 3 Ms).

In that case the current solution or one through #24919 is probably best.

> Of course that is not to say that Sage should be repeatedly changing to the latest pari commit; however pari releases come around rather too infrequently.

Yes that is true. But if there is something upstream we need, we should at least ask them for a release before deciding to just fetch some unstable commit.



---

archive/issue_comments_392341.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nReplying to [@timokau](#comment%3A77):\n> Yes that is true. But if there is something upstream we need, we should at least ask them for a release before deciding to just fetch some unstable commit.\n\nWe can ask, but it probably won't happen just because we ask.",
    "created_at": "2018-09-07T14:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392341",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:78" align="right">comment:78</div>

Replying to [@timokau](#comment%3A77):
> Yes that is true. But if there is something upstream we need, we should at least ask them for a release before deciding to just fetch some unstable commit.

We can ask, but it probably won't happen just because we ask.



---

archive/issue_comments_392342.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nWe should still ask. Even if it doesn't happen, they may have good reasons for that and explain them.",
    "created_at": "2018-09-07T15:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392342",
    "user": "https://github.com/timokau"
}
```

<div id="comment:79" align="right">comment:79</div>

We should still ask. Even if it doesn't happen, they may have good reasons for that and explain them.



---

archive/issue_comments_392343.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nBother @jdemeyer and I are in regular contact with the Pari developers anyway.",
    "created_at": "2018-09-07T15:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392343",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:80" align="right">comment:80</div>

Bother @jdemeyer and I are in regular contact with the Pari developers anyway.



---

archive/issue_comments_392344.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nHaving the reasons public would be better. Some explanation why the state of that particular comment is good enough for sage but not good enough for pari's upstream.\n\nAll that is hypothetical in the case that pari adds important features that we need in sage and they refuse to make a release including them in reasonable time. As far as I understand, that is not the case yet.",
    "created_at": "2018-09-07T15:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392344",
    "user": "https://github.com/timokau"
}
```

<div id="comment:81" align="right">comment:81</div>

Having the reasons public would be better. Some explanation why the state of that particular comment is good enough for sage but not good enough for pari's upstream.

All that is hypothetical in the case that pari adds important features that we need in sage and they refuse to make a release including them in reasonable time. As far as I understand, that is not the case yet.



---

archive/issue_comments_392345.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nReplying to [@timokau](#comment%3A81):\n> All that is hypothetical in the case that pari adds important features that we need in sage and they refuse to make a release including them in reasonable time. As far as I understand, that is not the case yet.\n\nIt's not the case yet, but judging from past experiences, this is likely to happen.",
    "created_at": "2018-09-07T18:48:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25567#issuecomment-392345",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:82" align="right">comment:82</div>

Replying to [@timokau](#comment%3A81):
> All that is hypothetical in the case that pari adds important features that we need in sage and they refuse to make a release including them in reasonable time. As far as I understand, that is not the case yet.

It's not the case yet, but judging from past experiences, this is likely to happen.
