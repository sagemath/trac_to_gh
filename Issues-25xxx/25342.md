# Issue 25342: sage -pip install "line_profiler" fails with error SSL: TLSV1_ALERT_PROTOCOL_VERSION

archive/issues_025105.json:
```json
{
    "body": "Trying to run\n\n```\nsage -pip install \"line_profiler\"\n```\nas suggested in [the profiling tutorial](https://doc.sagemath.org/html/en/thematic_tutorials/profiling.html#python-level-line-by-line-profiling-lprun) results in an error:\n\n```\nCollecting line_profiler\n  Could not fetch URL https://pypi.python.org/simple/line-profiler/: There was a problem confirming the ssl certificate: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:661) - skipping\n  Could not find a version that satisfies the requirement line_profiler (from versions: )\nNo matching distribution found for line_profiler\n```\n\nThis is with Sage 8.1:\n\n```\n$ sage --version\nSageMath version 8.1, Release Date: 2017-12-07.\n```\n\nNote: fixed by our upgrade to pip 9.0.3 in #25051.\n\n**CC:**  @embray @slel\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/25342\n\n",
    "closed_at": "2018-11-06T10:15:16Z",
    "created_at": "2018-05-11T10:46:37Z",
    "labels": [
        "component: packages: standard",
        "bug",
        "worksforme",
        "invalid"
    ],
    "title": "sage -pip install \"line_profiler\" fails with error SSL: TLSV1_ALERT_PROTOCOL_VERSION",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25342",
    "user": "https://github.com/mr-infty"
}
```
Trying to run

```
sage -pip install "line_profiler"
```
as suggested in [the profiling tutorial](https://doc.sagemath.org/html/en/thematic_tutorials/profiling.html#python-level-line-by-line-profiling-lprun) results in an error:

```
Collecting line_profiler
  Could not fetch URL https://pypi.python.org/simple/line-profiler/: There was a problem confirming the ssl certificate: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:661) - skipping
  Could not find a version that satisfies the requirement line_profiler (from versions: )
No matching distribution found for line_profiler
```

This is with Sage 8.1:

```
$ sage --version
SageMath version 8.1, Release Date: 2017-12-07.
```

Note: fixed by our upgrade to pip 9.0.3 in #25051.

**CC:**  @embray @slel

**Reviewer:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/25342





---

archive/issue_events_228949.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228949"
}
```



---

archive/issue_events_228950.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228950"
}
```



---

archive/issue_comments_391672.json:
```json
{
    "body": "<a id='comment:1'></a>\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25342#issuecomment-391672",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>
update milestone 8.3 -> 8.4



---

archive/issue_events_228951.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-31T15:45:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "label": "component: packages: standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228951"
}
```



---

archive/issue_events_228952.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-31T15:45:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228952"
}
```



---

archive/issue_events_228953.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-31T15:45:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228953"
}
```



---

archive/issue_events_228954.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-31T15:45:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228954"
}
```



---

archive/issue_events_228955.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-31T15:45:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "label": "duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228955"
}
```



---

archive/issue_comments_391673.json:
```json
{
    "body": "<a id='comment:2'></a>\nFixed by our upgrade to pip 9.0.3 in #25051 (we have pip 18.0 since #26008).\n\nThe error reported in this ticket had to do with a configuration change at PyPI\nin April 2018 which prevented to pip install packages from PyPI using macOS\nand pip 9.0.1.\n\nSee the discussion at ticket:25051#comment:19.\n\nSage 8.1 had pip 9.0.1 but Sage 8.2 had pip 9.0.3.\n\nSetting to duplicate/invalid/wontfix.",
    "created_at": "2018-10-31T15:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25342#issuecomment-391673",
    "user": "https://github.com/slel"
}
```

<a id='comment:2'></a>
Fixed by our upgrade to pip 9.0.3 in #25051 (we have pip 18.0 since #26008).

The error reported in this ticket had to do with a configuration change at PyPI
in April 2018 which prevented to pip install packages from PyPI using macOS
and pip 9.0.1.

See the discussion at ticket:25051#comment:19.

Sage 8.1 had pip 9.0.1 but Sage 8.2 had pip 9.0.3.

Setting to duplicate/invalid/wontfix.



---

archive/issue_comments_391674.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,14 +1,22 @@\n Trying to run\n \n-    sage -pip install \"line_profiler\"\n+```\n+sage -pip install \"line_profiler\"\n+```\n+as suggested in [the profiling tutorial](https://doc.sagemath.org/html/en/thematic_tutorials/profiling.html#python-level-line-by-line-profiling-lprun) results in an error:\n \n-as suggested in this [https://doc.sagemath.org/html/en/thematic_tutorials/profiling.html#python-level-line-by-line-profiling-lprun](https://doc.sagemath.org/html/en/thematic_tutorials/profiling.html#python-level-line-by-line-profiling-lprun) example results in an error:\n-\n+```\n Collecting line_profiler\n   Could not fetch URL https://pypi.python.org/simple/line-profiler/: There was a problem confirming the ssl certificate: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:661) - skipping\n   Could not find a version that satisfies the requirement line_profiler (from versions: )\n No matching distribution found for line_profiler\n+```\n \n-sage --version gives\n+This is with Sage 8.1:\n \n-SageMath version 8.1, Release Date: 2017-12-07\n+```\n+$ sage --version\n+SageMath version 8.1, Release Date: 2017-12-07.\n+```\n+\n+Note: fixed by our upgrade to pip 9.0.3 in #25051.\n``````\n",
    "created_at": "2018-10-31T15:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25342#issuecomment-391674",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,14 +1,22 @@
 Trying to run
 
-    sage -pip install "line_profiler"
+```
+sage -pip install "line_profiler"
+```
+as suggested in [the profiling tutorial](https://doc.sagemath.org/html/en/thematic_tutorials/profiling.html#python-level-line-by-line-profiling-lprun) results in an error:
 
-as suggested in this [https://doc.sagemath.org/html/en/thematic_tutorials/profiling.html#python-level-line-by-line-profiling-lprun](https://doc.sagemath.org/html/en/thematic_tutorials/profiling.html#python-level-line-by-line-profiling-lprun) example results in an error:
-
+```
 Collecting line_profiler
   Could not fetch URL https://pypi.python.org/simple/line-profiler/: There was a problem confirming the ssl certificate: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:661) - skipping
   Could not find a version that satisfies the requirement line_profiler (from versions: )
 No matching distribution found for line_profiler
+```
 
-sage --version gives
+This is with Sage 8.1:
 
-SageMath version 8.1, Release Date: 2017-12-07
+```
+$ sage --version
+SageMath version 8.1, Release Date: 2017-12-07.
+```
+
+Note: fixed by our upgrade to pip 9.0.3 in #25051.
``````




---

archive/issue_events_228956.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-05T13:02:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228956"
}
```



---

archive/issue_events_228957.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-05T13:02:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228957"
}
```



---

archive/issue_comments_391675.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2018-11-05T14:13:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25342#issuecomment-391675",
    "user": "https://github.com/slel"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_events_228958.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-11-06T10:15:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228958"
}
```



---

archive/issue_events_228959.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-11-06T10:15:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228959"
}
```



---

archive/issue_events_228960.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-11-06T10:15:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25342",
    "label": "worksforme",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25342#event-228960"
}
```
