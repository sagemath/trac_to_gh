# Issue 25156: multivariate power series rings don't always format latex properly

archive/issues_024919.json:
```json
{
    "body": "Multivariate power series ring elements don't use latex formatting for infinite precision objects.\n\nCurrently:\n\n```\n$ sage -v; sage -q\nSageMath version 8.1, Release Date: 2017-12-07\nsage: R.<x, y> = PowerSeriesRing(QQ, ('x', 'y'))\nsage: latex(1 + y^10)\n1 + y^10\n```\n\nNotice the lack of braces around the number 10. One would expect:\n\n```\nsage: latex(1 + y^10)\n1 + y^{10}\n```\n\nKeywords: latex, multivariate power series, beginner, gsoc2018\n\nBranch/Commit: 1811879658314ae1cd6e0f6e7147a4bbc8881912\n\nReviewer: Raghukul Raman, Marc Mezzarobba\n\nAuthor: Brent Baccala, Raghukul Raman\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25156\n\n",
    "closed_at": "2018-06-02T16:11:36Z",
    "created_at": "2018-04-12T18:30:55Z",
    "labels": [
        "component: commutative algebra",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "multivariate power series rings don't always format latex properly",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25156",
    "user": "https://github.com/BrentBaccala"
}
```
Multivariate power series ring elements don't use latex formatting for infinite precision objects.

Currently:

```
$ sage -v; sage -q
SageMath version 8.1, Release Date: 2017-12-07
sage: R.<x, y> = PowerSeriesRing(QQ, ('x', 'y'))
sage: latex(1 + y^10)
1 + y^10
```

Notice the lack of braces around the number 10. One would expect:

```
sage: latex(1 + y^10)
1 + y^{10}
```

Keywords: latex, multivariate power series, beginner, gsoc2018

Branch/Commit: 1811879658314ae1cd6e0f6e7147a4bbc8881912

Reviewer: Raghukul Raman, Marc Mezzarobba

Author: Brent Baccala, Raghukul Raman

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25156





---

archive/issue_comments_373321.json:
```json
{
    "body": "<a id='comment:1'></a>I'm just starting to use Trac, and I'm not sure if my github-linked account is setup right.\n\nI think I just pushed a git patch to fix this defect, but I expected to see some kind of notification here and haven't.\n\nI got an error message during the push \"remote: error: hook declined to update\"\n\nIf you don't have the patch, please let me know.",
    "created_at": "2018-04-12T18:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373321",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:1'></a>I'm just starting to use Trac, and I'm not sure if my github-linked account is setup right.

I think I just pushed a git patch to fix this defect, but I expected to see some kind of notification here and haven't.

I got an error message during the push "remote: error: hook declined to update"

If you don't have the patch, please let me know.



---

archive/issue_comments_373322.json:
```json
{
    "body": "<a id='comment:2'></a>It seems your patch did not make it to Sage's trac server. There\nmight be clues in the sage-devel discussion from last February:\n\n- [sage-devel discussion: GitHub authentication is live on trac.sagemath.org](https://groups.google.com/d/topic/sage-devel/Ws4_OUZK0r8/discussion)",
    "created_at": "2018-04-12T21:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373322",
    "user": "https://github.com/slel"
}
```

<a id='comment:2'></a>It seems your patch did not make it to Sage's trac server. There
might be clues in the sage-devel discussion from last February:

- [sage-devel discussion: GitHub authentication is live on trac.sagemath.org](https://groups.google.com/d/topic/sage-devel/Ws4_OUZK0r8/discussion)



---

archive/issue_comments_373323.json:
```json
{
    "body": "<a id='comment:3'></a>OK, I think I pushed the patch, but didn't set the branch on the ticket.\n\n---\nNew commits:",
    "created_at": "2018-04-12T21:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373323",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:3'></a>OK, I think I pushed the patch, but didn't set the branch on the ticket.

---
New commits:



---

archive/issue_comments_373324.json:
```json
{
    "body": "<a id='comment:4'></a>Right. If that's enough to fix the issue, you should set the ticket to 'needs_review'.",
    "created_at": "2018-04-12T22:03:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373324",
    "user": "https://github.com/slel"
}
```

<a id='comment:4'></a>Right. If that's enough to fix the issue, you should set the ticket to 'needs_review'.



---

archive/issue_comments_373325.json:
```json
{
    "body": "<a id='comment:5'></a>Needs review.  OK.",
    "created_at": "2018-04-12T22:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373325",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:5'></a>Needs review.  OK.



---

archive/issue_comments_373326.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-04-12T22:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373326",
    "user": "https://github.com/BrentBaccala"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_373327.json:
```json
{
    "body": "<a id='comment:6'></a>You also need to put your full name in the \"Authors\" field.\n(Once done, check it carefully to make sure it has no typos!)",
    "created_at": "2018-04-12T23:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373327",
    "user": "https://github.com/slel"
}
```

<a id='comment:6'></a>You also need to put your full name in the "Authors" field.
(Once done, check it carefully to make sure it has no typos!)



---

archive/issue_comments_373328.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-04-13T11:20:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_373329.json:
```json
{
    "body": "Changing keywords from \"latex, multivariate power series\" to \"latex, multivariate power series, beginner\".",
    "created_at": "2018-04-13T12:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373329",
    "user": "https://github.com/slel"
}
```

Changing keywords from "latex, multivariate power series" to "latex, multivariate power series, beginner".



---

archive/issue_comments_373330.json:
```json
{
    "body": "<a id='comment:9'></a>This would be an ideal ticket for a beginner developer to review, for\ninstance one of our Google-summer-of-code internship applicants.",
    "created_at": "2018-04-13T12:11:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373330",
    "user": "https://github.com/slel"
}
```

<a id='comment:9'></a>This would be an ideal ticket for a beginner developer to review, for
instance one of our Google-summer-of-code internship applicants.



---

archive/issue_comments_373331.json:
```json
{
    "body": "Changing keywords from \"latex, multivariate power series, beginner\" to \"latex, multivariate power series, beginner, gsoc2018\".",
    "created_at": "2018-05-17T20:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373331",
    "user": "https://github.com/raghukul01"
}
```

Changing keywords from "latex, multivariate power series, beginner" to "latex, multivariate power series, beginner, gsoc2018".



---

archive/issue_comments_373332.json:
```json
{
    "body": "<a id='comment:12'></a>Add a doc test illustrating fix, and add trac number\nReplying to [comment:8 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                           |                                                       |\n> |-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n> |[530992b](https://git.sagemath.org/sage.git/commit/?id=530992b957e95ba0de44e09774f2ae473fae7dd1)|`Trac #25156: fix example to show correct LaTeX output`|\n\n----\nNew commits:",
    "created_at": "2018-05-17T21:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373332",
    "user": "https://github.com/raghukul01"
}
```

<a id='comment:12'></a>Add a doc test illustrating fix, and add trac number
Replying to [comment:8 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                           |                                                       |
> |-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
> |[530992b](https://git.sagemath.org/sage.git/commit/?id=530992b957e95ba0de44e09774f2ae473fae7dd1)|`Trac #25156: fix example to show correct LaTeX output`|

----
New commits:



---

archive/issue_comments_373333.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-05-17T21:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373333",
    "user": "https://github.com/raghukul01"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_373334.json:
```json
{
    "body": "<a id='comment:14'></a>When you do a reviewer patch, someone else needs to review your patch.\n\nIn this case, a blank line is missing in the formatting of the doctest,\nand the wording could be improved.\n\nInstead of\n\n```\n        See :trac:`25156`::\n            sage: R.<x1,y1> = PowerSeriesRing(QQ, ('x', 'y'))\n```\nwe should have\n\n```\n        Check that :trac:`25156` is fixed::\n\n            sage: R.<x1,y1> = PowerSeriesRing(QQ, ('x', 'y'))\n```\n(note the blank line after `::` and before the start of the doctest block).",
    "created_at": "2018-05-17T22:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373334",
    "user": "https://github.com/slel"
}
```

<a id='comment:14'></a>When you do a reviewer patch, someone else needs to review your patch.

In this case, a blank line is missing in the formatting of the doctest,
and the wording could be improved.

Instead of

```
        See :trac:`25156`::
            sage: R.<x1,y1> = PowerSeriesRing(QQ, ('x', 'y'))
```
we should have

```
        Check that :trac:`25156` is fixed::

            sage: R.<x1,y1> = PowerSeriesRing(QQ, ('x', 'y'))
```
(note the blank line after `::` and before the start of the doctest block).



---

archive/issue_comments_373335.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-05-17T22:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373335",
    "user": "https://github.com/slel"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_373336.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-18T05:35:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_373337.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-05-18T05:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_373338.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-05-18T05:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373338",
    "user": "https://github.com/raghukul01"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_373339.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,23 +1,21 @@\n Multivariate power series ring elements don't use latex formatting for infinite precision objects.\n \n+Currently:\n \n ```\n-\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n-\u2502 SageMath version 8.1, Release Date: 2017-12-07                     \u2502\n-\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n-\u2502 Type \"help()\" for help.                                            \u2502\n-\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n-sage: R.<x,y> = PowerSeriesRing(QQ, ('x', 'y'))\n-sage: element = 1 + y^10\n-sage: latex(element)\n+$ sage -v; sage -q\n+SageMath version 8.1, Release Date: 2017-12-07\n+sage: R.<x, y> = PowerSeriesRing(QQ, ('x', 'y'))\n+sage: latex(1 + y^10)\n 1 + y^10\n-sage: \n+```\n+\n+Notice the lack of braces around the number 10. One would expect:\n \n ```\n-\n-Notice the lack of braces around the number 10.\n-\n-Keywords: latex, multivariate power series\n+sage: latex(1 + y^10)\n+1 + y^{10}\n+```\n \n Comment: 1\n \n```\n",
    "created_at": "2018-05-18T06:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373339",
    "user": "https://github.com/slel"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,23 +1,21 @@
 Multivariate power series ring elements don't use latex formatting for infinite precision objects.
 
+Currently:
 
 ```
-┌────────────────────────────────────────────────────────────────────┐
-│ SageMath version 8.1, Release Date: 2017-12-07                     │
-│ Type "notebook()" for the browser-based notebook interface.        │
-│ Type "help()" for help.                                            │
-└────────────────────────────────────────────────────────────────────┘
-sage: R.<x,y> = PowerSeriesRing(QQ, ('x', 'y'))
-sage: element = 1 + y^10
-sage: latex(element)
+$ sage -v; sage -q
+SageMath version 8.1, Release Date: 2017-12-07
+sage: R.<x, y> = PowerSeriesRing(QQ, ('x', 'y'))
+sage: latex(1 + y^10)
 1 + y^10
-sage: 
+```
+
+Notice the lack of braces around the number 10. One would expect:
 
 ```
-
-Notice the lack of braces around the number 10.
-
-Keywords: latex, multivariate power series
+sage: latex(1 + y^10)
+1 + y^{10}
+```
 
 Comment: 1
 
```




---

archive/issue_comments_373340.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-01T12:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373340",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_063120.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-02T16:11:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25156#event-63120"
}
```



---

archive/issue_comments_373341.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-06-02T16:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25156#issuecomment-373341",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
