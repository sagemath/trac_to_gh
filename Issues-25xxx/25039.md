# Issue 25039: Add sdh_install helper function to sage-dist-helpers

archive/issues_024802.json:
```json
{
    "assignees": [],
    "body": "    Adds a new `sdh_install` helper function:\n\n    This is like a very simplified version of the `install` program, and is\n    intended for use by packages whose spkg-install just copies some files (or\n    more complex packages that copy some files as one of its steps).  The\n    majority of its functionality is just in ensuring that the full destination\n    path exists, and to provide some error checking.  This replaces some\n    patterns that occur frequently in some spkg-installs.\n\n    Also updates the mathjax and thebe packages as two examples of its usage (this implements #24024 for those packages).\n\nKeywords: **destdir mathjax thebe**\n\nBranch/Commit: **[0f848c3](https://github.com/sagemath/sagetrac-mirror/commit/0f848c3153b06b42839e908a5f3324084a604ac9)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Erik Bray**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25039_\n\n",
    "closed_at": "2018-05-18T17:49:56Z",
    "created_at": "2018-03-27T12:03:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add sdh_install helper function to sage-dist-helpers",
    "type": "issue",
    "updated_at": "2018-05-18T17:49:56Z",
    "url": "https://github.com/sagemath/sage/issues/25039",
    "user": "https://github.com/embray"
}
```
    Adds a new `sdh_install` helper function:

    This is like a very simplified version of the `install` program, and is
    intended for use by packages whose spkg-install just copies some files (or
    more complex packages that copy some files as one of its steps).  The
    majority of its functionality is just in ensuring that the full destination
    path exists, and to provide some error checking.  This replaces some
    patterns that occur frequently in some spkg-installs.

    Also updates the mathjax and thebe packages as two examples of its usage (this implements #24024 for those packages).

Keywords: **destdir mathjax thebe**

Branch/Commit: **[0f848c3](https://github.com/sagemath/sagetrac-mirror/commit/0f848c3153b06b42839e908a5f3324084a604ac9)**

Reviewer: **Jeroen Demeyer**

Author: **Erik Bray**

_Issue created by migration from https://trac.sagemath.org/ticket/25039_





---

archive/issue_events_328274.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-27T12:03:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328274"
}
```



---

archive/issue_events_328275.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-27T12:03:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328275"
}
```



---

archive/issue_events_328276.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-27T12:03:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328276"
}
```



---

archive/issue_events_328277.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-27T12:03:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328277"
}
```



---

archive/issue_events_328278.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-27T12:10:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328278"
}
```



---

archive/issue_comments_384204.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/330e618a402500a7abd4907f13a8d99e42f35191\">330e618</a></td><td><code>Introduce SAGE_DESTDIR_LOCAL variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d149723f008af6eed4a7182da88678bf9fb898d\">9d14972</a></td><td><code>Don't install gcc as part of gfortran</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f8549efd3956277d84e33e03a050dc2a0765087\">5f8549e</a></td><td><code>Merge branch 'u/jdemeyer/gfortran_breaks_parallel_build' into u/embray/build/sdh_install_files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22c3e9eb0fbb1147caf19c4d9219c54b5187308a\">22c3e9e</a></td><td><code>fix bug in handling of the -T flag--it was as if it was always set</code></td></tr></table>\n",
    "created_at": "2018-03-27T14:36:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384204",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/330e618a402500a7abd4907f13a8d99e42f35191">330e618</a></td><td><code>Introduce SAGE_DESTDIR_LOCAL variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d149723f008af6eed4a7182da88678bf9fb898d">9d14972</a></td><td><code>Don't install gcc as part of gfortran</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f8549efd3956277d84e33e03a050dc2a0765087">5f8549e</a></td><td><code>Merge branch 'u/jdemeyer/gfortran_breaks_parallel_build' into u/embray/build/sdh_install_files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22c3e9eb0fbb1147caf19c4d9219c54b5187308a">22c3e9e</a></td><td><code>fix bug in handling of the -T flag--it was as if it was always set</code></td></tr></table>




---

archive/issue_comments_384205.json:
```json
{
    "body": "Changed commit from **[6a4e33a](https://github.com/sagemath/sagetrac-mirror/commit/6a4e33a7b5c4b3e0d868cfd4f060af043134b5f7)** to **[22c3e9e](https://github.com/sagemath/sagetrac-mirror/commit/22c3e9eb0fbb1147caf19c4d9219c54b5187308a)**",
    "created_at": "2018-03-27T14:36:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384205",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6a4e33a](https://github.com/sagemath/sagetrac-mirror/commit/6a4e33a7b5c4b3e0d868cfd4f060af043134b5f7)** to **[22c3e9e](https://github.com/sagemath/sagetrac-mirror/commit/22c3e9eb0fbb1147caf19c4d9219c54b5187308a)**



---

archive/issue_comments_384206.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c8bd46e06723a8ec29e5d6ad304b272414c179e\">6c8bd46</a></td><td><code>fix bug in handling of the -T flag--it was as if it was always set</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6dcb88027d02ac882cf9dba990a43c4894a91f85\">6dcb880</a></td><td><code>fix bug that can occur in repeated invocations of sdh_install in the same script</code></td></tr></table>\n",
    "created_at": "2018-03-27T14:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384206",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c8bd46e06723a8ec29e5d6ad304b272414c179e">6c8bd46</a></td><td><code>fix bug in handling of the -T flag--it was as if it was always set</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6dcb88027d02ac882cf9dba990a43c4894a91f85">6dcb880</a></td><td><code>fix bug that can occur in repeated invocations of sdh_install in the same script</code></td></tr></table>




---

archive/issue_comments_384207.json:
```json
{
    "body": "Changed commit from **[22c3e9e](https://github.com/sagemath/sagetrac-mirror/commit/22c3e9eb0fbb1147caf19c4d9219c54b5187308a)** to **[6dcb880](https://github.com/sagemath/sagetrac-mirror/commit/6dcb88027d02ac882cf9dba990a43c4894a91f85)**",
    "created_at": "2018-03-27T14:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384207",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[22c3e9e](https://github.com/sagemath/sagetrac-mirror/commit/22c3e9eb0fbb1147caf19c4d9219c54b5187308a)** to **[6dcb880](https://github.com/sagemath/sagetrac-mirror/commit/6dcb88027d02ac882cf9dba990a43c4894a91f85)**



---

archive/issue_events_328279.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-27T19:10:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328279"
}
```



---

archive/issue_events_328280.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-27T19:10:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328280"
}
```



---

archive/issue_comments_384208.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\n1. I don't really understand the point of\n\n```\n    if [ $# -eq 0 ]; then\n        sdh_die \"At least a source and destination file are required\"\n    fi\n```\nsince it would fail anyway later and no error message would be given for `sdh_install -T`.\n\n2. It looks strange to put this in an `else` block, it's just part of the normal flow of execution:\n\n```\n    else\n        dest=\"${SAGE_DESTDIR}$dest\"\n    fi\n```\n\n3. I seem to recall that `cp -R` is more portable than `cp -r`. So unless you have a good reason for using `cp -r`, I recommend `cp -R`.\n\n4. For consistency, I would start all `sdh_die` messages with `Error:`\n\n5. `echo \"Installing files for ${PKG_NAME}:\"` looks like unneeded verbosity. I would drop that.\n\n6. If `mkdir` or `cp` fails, it already prints an error message, so I don't need that we need `sdh_die` for that. I would just write `cp ... || exit $?`.",
    "created_at": "2018-03-27T19:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384208",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">Comment 4</div>

1. I don't really understand the point of

```
    if [ $# -eq 0 ]; then
        sdh_die "At least a source and destination file are required"
    fi
```
since it would fail anyway later and no error message would be given for `sdh_install -T`.

2. It looks strange to put this in an `else` block, it's just part of the normal flow of execution:

```
    else
        dest="${SAGE_DESTDIR}$dest"
    fi
```

3. I seem to recall that `cp -R` is more portable than `cp -r`. So unless you have a good reason for using `cp -r`, I recommend `cp -R`.

4. For consistency, I would start all `sdh_die` messages with `Error:`

5. `echo "Installing files for ${PKG_NAME}:"` looks like unneeded verbosity. I would drop that.

6. If `mkdir` or `cp` fails, it already prints an error message, so I don't need that we need `sdh_die` for that. I would just write `cp ... || exit $?`.



---

archive/issue_comments_384209.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nReplying to [@jdemeyer](#comment%3A4):\n> 1. I don't really understand the point of\n> \n> ```\n>     if [ $# -eq 0 ]; then\n>         sdh_die \"At least a source and destination file are required\"\n>     fi\n> ```\n> since it would fail anyway later and no error message would be given for `sdh_install -T`.\n\nI mean, it will still fail for `sdh_install -T` because the `$src` variable will be empty. I thought an explicit check of \"there are arguments\" would enhance clarity but in retrospect I agree it's superfluous.\n\n> \n> 2. It looks strange to put this in an `else` block, it's just part of the normal flow of execution:\n> \n> ```\n>     else\n>         dest=\"${SAGE_DESTDIR}$dest\"\n>     fi\n> ```\n\nYep. I think that was just the result of remolding of slightly different logic.\n\n> 3. I seem to recall that `cp -R` is more portable than `cp -r`. So unless you have a good reason for using `cp -r`, I recommend `cp -R`.\n\nI suspect it's not really a problem for us since I've already seen `cp -r` in some of the `spkg-install`s I've used this in--including standard packages.  If that were a problem for a platform we care about it would have come up by now.  However, I seem to recall the same now that you mention it, so I could change it.\n\n> 4. For consistency, I would start all `sdh_die` messages with `Error:`\n\n+1 \n\n> 5. `echo \"Installing files for ${PKG_NAME}:\"` looks like unneeded verbosity. I would drop that.\n\n+1 Some of the other `sdh_` commands had some kind of message like this so I put it in for consistency.  But after trying this on a few packages it hasn't been too helpful (especially in cases where there are multiple `sdh_install` calls in the package).\n \n> 6. If `mkdir` or `cp` fails, it already prints an error message, so I don't need that we need `sdh_die` for that. I would just write `cp ... || exit $?`.\n\nA lot of the code this function is replacing was also adding its own error messages on top of `mkdir` and/or `cp`, so this was just carried over from that.  In most cases those programs' error messages should be sufficient though.",
    "created_at": "2018-03-28T09:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384209",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">Comment 5</div>

Replying to [@jdemeyer](#comment%3A4):
> 1. I don't really understand the point of
> 
> ```
>     if [ $# -eq 0 ]; then
>         sdh_die "At least a source and destination file are required"
>     fi
> ```
> since it would fail anyway later and no error message would be given for `sdh_install -T`.

I mean, it will still fail for `sdh_install -T` because the `$src` variable will be empty. I thought an explicit check of "there are arguments" would enhance clarity but in retrospect I agree it's superfluous.

> 
> 2. It looks strange to put this in an `else` block, it's just part of the normal flow of execution:
> 
> ```
>     else
>         dest="${SAGE_DESTDIR}$dest"
>     fi
> ```

Yep. I think that was just the result of remolding of slightly different logic.

> 3. I seem to recall that `cp -R` is more portable than `cp -r`. So unless you have a good reason for using `cp -r`, I recommend `cp -R`.

I suspect it's not really a problem for us since I've already seen `cp -r` in some of the `spkg-install`s I've used this in--including standard packages.  If that were a problem for a platform we care about it would have come up by now.  However, I seem to recall the same now that you mention it, so I could change it.

> 4. For consistency, I would start all `sdh_die` messages with `Error:`

+1 

> 5. `echo "Installing files for ${PKG_NAME}:"` looks like unneeded verbosity. I would drop that.

+1 Some of the other `sdh_` commands had some kind of message like this so I put it in for consistency.  But after trying this on a few packages it hasn't been too helpful (especially in cases where there are multiple `sdh_install` calls in the package).
 
> 6. If `mkdir` or `cp` fails, it already prints an error message, so I don't need that we need `sdh_die` for that. I would just write `cp ... || exit $?`.

A lot of the code this function is replacing was also adding its own error messages on top of `mkdir` and/or `cp`, so this was just carried over from that.  In most cases those programs' error messages should be sufficient though.



---

archive/issue_comments_384210.json:
```json
{
    "body": "Changed commit from **[6dcb880](https://github.com/sagemath/sagetrac-mirror/commit/6dcb88027d02ac882cf9dba990a43c4894a91f85)** to **[42726a2](https://github.com/sagemath/sagetrac-mirror/commit/42726a27a347184a9e55b24f2f0d599855b92933)**",
    "created_at": "2018-03-28T09:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384210",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6dcb880](https://github.com/sagemath/sagetrac-mirror/commit/6dcb88027d02ac882cf9dba990a43c4894a91f85)** to **[42726a2](https://github.com/sagemath/sagetrac-mirror/commit/42726a27a347184a9e55b24f2f0d599855b92933)**



---

archive/issue_comments_384211.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42726a27a347184a9e55b24f2f0d599855b92933\">42726a2</a></td><td><code>various minor review comments</code></td></tr></table>\n",
    "created_at": "2018-03-28T09:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384211",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42726a27a347184a9e55b24f2f0d599855b92933">42726a2</a></td><td><code>various minor review comments</code></td></tr></table>




---

archive/issue_events_328281.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-28T09:27:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328281"
}
```



---

archive/issue_events_328282.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-03-28T09:27:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328282"
}
```



---

archive/issue_comments_384212.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nWait... did you actually agree with all my comments? :-)",
    "created_at": "2018-03-29T09:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384212",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">Comment 8</div>

Wait... did you actually agree with all my comments? :-)



---

archive/issue_events_328283.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-29T09:28:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328283"
}
```



---

archive/issue_events_328284.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-29T09:28:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328284"
}
```



---

archive/issue_comments_384213.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2018-03-29T09:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384213",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_384214.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@jdemeyer](#comment%3A8):\n> Wait... did you actually agree with all my comments? :-)\n\nFair enough--but it's not like I set out to disagree with you.  I thought they were all reasonable enough :)",
    "created_at": "2018-03-29T09:35:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384214",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@jdemeyer](#comment%3A8):
> Wait... did you actually agree with all my comments? :-)

Fair enough--but it's not like I set out to disagree with you.  I thought they were all reasonable enough :)



---

archive/issue_comments_384215.json:
```json
{
    "body": "Changed branch from **[u/embray/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/sdh_install_files)** to **[u/jdemeyer/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/build/sdh_install_files)**",
    "created_at": "2018-04-11T08:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384215",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/embray/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/sdh_install_files)** to **[u/jdemeyer/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/build/sdh_install_files)**



---

archive/issue_comments_384216.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa991ca00d7f16946a4753acb145d0ebd2a53857\">fa991ca</a></td><td><code>sdh_install_files -> sdh_install in error messages</code></td></tr></table>\n",
    "created_at": "2018-04-11T08:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384216",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">Comment 11</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa991ca00d7f16946a4753acb145d0ebd2a53857">fa991ca</a></td><td><code>sdh_install_files -> sdh_install in error messages</code></td></tr></table>




---

archive/issue_comments_384217.json:
```json
{
    "body": "Changed commit from **[42726a2](https://github.com/sagemath/sagetrac-mirror/commit/42726a27a347184a9e55b24f2f0d599855b92933)** to **[fa991ca](https://github.com/sagemath/sagetrac-mirror/commit/fa991ca00d7f16946a4753acb145d0ebd2a53857)**",
    "created_at": "2018-04-11T08:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384217",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[42726a2](https://github.com/sagemath/sagetrac-mirror/commit/42726a27a347184a9e55b24f2f0d599855b92933)** to **[fa991ca](https://github.com/sagemath/sagetrac-mirror/commit/fa991ca00d7f16946a4753acb145d0ebd2a53857)**



---

archive/issue_comments_384218.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nThanks for catching that.  It was originally called `sdh_install_files` but I decided to shorten it later.",
    "created_at": "2018-04-11T13:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384218",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">Comment 12</div>

Thanks for catching that.  It was originally called `sdh_install_files` but I decided to shorten it later.



---

archive/issue_comments_384219.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/build/sdh_install_files)** to **[u/embray/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/sdh_install_files)**",
    "created_at": "2018-04-18T09:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384219",
    "user": "https://github.com/embray"
}
```

Changed branch from **[u/jdemeyer/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/build/sdh_install_files)** to **[u/embray/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/sdh_install_files)**



---

archive/issue_comments_384220.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nJust rebased on current develop.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27a44b42cf5d983b3732252580fcb4761906a02b\">27a44b4</a></td><td><code>Adds a new sdh_install helper function:</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0bbff008a9cba267f125916f6c5c574535d25692\">0bbff00</a></td><td><code>fix bug in handling of the -T flag--it was as if it was always set</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d09c66972809a573a7deda58fe7257997e3e347\">7d09c66</a></td><td><code>fix bug that can occur in repeated invocations of sdh_install in the same script</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/598112b4eae022f5e392d237fc37243880d45aa2\">598112b</a></td><td><code>various minor review comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbd9ca6aad7047849547359ee9b8c06b05413a09\">dbd9ca6</a></td><td><code>sdh_install_files -> sdh_install in error messages</code></td></tr></table>\n",
    "created_at": "2018-04-18T09:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384220",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">Comment 13</div>

Just rebased on current develop.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27a44b42cf5d983b3732252580fcb4761906a02b">27a44b4</a></td><td><code>Adds a new sdh_install helper function:</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0bbff008a9cba267f125916f6c5c574535d25692">0bbff00</a></td><td><code>fix bug in handling of the -T flag--it was as if it was always set</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d09c66972809a573a7deda58fe7257997e3e347">7d09c66</a></td><td><code>fix bug that can occur in repeated invocations of sdh_install in the same script</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/598112b4eae022f5e392d237fc37243880d45aa2">598112b</a></td><td><code>various minor review comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbd9ca6aad7047849547359ee9b8c06b05413a09">dbd9ca6</a></td><td><code>sdh_install_files -> sdh_install in error messages</code></td></tr></table>




---

archive/issue_comments_384221.json:
```json
{
    "body": "Changed commit from **[fa991ca](https://github.com/sagemath/sagetrac-mirror/commit/fa991ca00d7f16946a4753acb145d0ebd2a53857)** to **[dbd9ca6](https://github.com/sagemath/sagetrac-mirror/commit/dbd9ca6aad7047849547359ee9b8c06b05413a09)**",
    "created_at": "2018-04-18T09:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384221",
    "user": "https://github.com/embray"
}
```

Changed commit from **[fa991ca](https://github.com/sagemath/sagetrac-mirror/commit/fa991ca00d7f16946a4753acb145d0ebd2a53857)** to **[dbd9ca6](https://github.com/sagemath/sagetrac-mirror/commit/dbd9ca6aad7047849547359ee9b8c06b05413a09)**



---

archive/issue_events_328285.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-18T09:07:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328285"
}
```



---

archive/issue_events_328286.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-18T09:07:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328286"
}
```



---

archive/issue_events_328287.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-09T18:44:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328287"
}
```



---

archive/issue_events_328288.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-09T18:44:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328288"
}
```



---

archive/issue_comments_384222.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nMerge conflict",
    "created_at": "2018-05-09T18:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384222",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">Comment 14</div>

Merge conflict



---

archive/issue_comments_384223.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0b38c2833bc933d8ae592ac2a31820c207d9caa\">b0b38c2</a></td><td><code>Adds a new sdh_install helper function:</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/852cb5f14664b7a8c9cb08467bc5ff2e43cf3bae\">852cb5f</a></td><td><code>fix bug in handling of the -T flag--it was as if it was always set</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f7cd300dca0a9b62351999ac6c2854639e08b81\">5f7cd30</a></td><td><code>fix bug that can occur in repeated invocations of sdh_install in the same script</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/daa37d50528cc010168142c9754acc516e4f1431\">daa37d5</a></td><td><code>various minor review comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f848c3153b06b42839e908a5f3324084a604ac9\">0f848c3</a></td><td><code>sdh_install_files -> sdh_install in error messages</code></td></tr></table>\n",
    "created_at": "2018-05-17T16:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384223",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0b38c2833bc933d8ae592ac2a31820c207d9caa">b0b38c2</a></td><td><code>Adds a new sdh_install helper function:</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/852cb5f14664b7a8c9cb08467bc5ff2e43cf3bae">852cb5f</a></td><td><code>fix bug in handling of the -T flag--it was as if it was always set</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f7cd300dca0a9b62351999ac6c2854639e08b81">5f7cd30</a></td><td><code>fix bug that can occur in repeated invocations of sdh_install in the same script</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/daa37d50528cc010168142c9754acc516e4f1431">daa37d5</a></td><td><code>various minor review comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f848c3153b06b42839e908a5f3324084a604ac9">0f848c3</a></td><td><code>sdh_install_files -> sdh_install in error messages</code></td></tr></table>




---

archive/issue_comments_384224.json:
```json
{
    "body": "Changed commit from **[dbd9ca6](https://github.com/sagemath/sagetrac-mirror/commit/dbd9ca6aad7047849547359ee9b8c06b05413a09)** to **[0f848c3](https://github.com/sagemath/sagetrac-mirror/commit/0f848c3153b06b42839e908a5f3324084a604ac9)**",
    "created_at": "2018-05-17T16:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384224",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dbd9ca6](https://github.com/sagemath/sagetrac-mirror/commit/dbd9ca6aad7047849547359ee9b8c06b05413a09)** to **[0f848c3](https://github.com/sagemath/sagetrac-mirror/commit/0f848c3153b06b42839e908a5f3324084a604ac9)**



---

archive/issue_events_328289.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-17T16:18:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328289"
}
```



---

archive/issue_events_328290.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-17T16:18:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328290"
}
```



---

archive/issue_comments_384225.json:
```json
{
    "body": "Changed branch from **[u/embray/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/sdh_install_files)** to **[0f848c3](https://github.com/sagemath/sagetrac-mirror/commit/0f848c3153b06b42839e908a5f3324084a604ac9)**",
    "created_at": "2018-05-18T17:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25039#issuecomment-384225",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/build/sdh_install_files](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/sdh_install_files)** to **[0f848c3](https://github.com/sagemath/sagetrac-mirror/commit/0f848c3153b06b42839e908a5f3324084a604ac9)**



---

archive/issue_events_328291.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-18T17:49:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328291"
}
```



---

archive/issue_events_328292.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a7905c707115333a4667edec2e93ef96bf14374b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-18T17:49:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25039",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25039#event-328292"
}
```
