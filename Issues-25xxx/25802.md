# Issue 25802: Efficient k-WL implementation

archive/issues_025565.json:
```json
{
    "body": "Scope of this ticket is implementing in an efficient manner a parametric version of the Weisfeiler Lehman procedure.\\\\\\\\\n\nThe Weisfeiler Lehman method is a way of generating a partition of the nodes (or edges) of a graph G such that the orbits of the automorphism group on G\u2019s vertices (respectively edges) refine said partition. \\\\This method was first described in https://www.iti.zcu.cz/wl2018/pdf/wl_paper_translation.pdf (translated from russian) and is also better and succintly described in https://www.lii.rwth-aachen.de/images/Mitarbeiter/pub/grohe/cr.pdf. \\\\The idea can be summarised as doing multiple rounds of vertex (resp. edge) coloring, where each round\u2019s color is determined by the colors of the (hyper)edges in the previous round, until the coloring is stable, that is the color classes stay the same between two subsequent rounds of coloring. Higher values of k (or higher orders of the WL method) base the choice of color for each round on interactions between a higher number of vertices, and thus correctly return the orbits of strictly more graphs than lower values of k.\\\\\\\\\n\nThis method can be used as a negative oracle for isomorphism between two graphs G and H by running it on their disjoint union: if the two components have different coloring, the graphs are surely not isomorphic; nothing can be said if their coloring is the same instead, since WL doesn\u2019t give any guarantee of returning the correct orbits instead of just a set of sets of vertices that is by them refined.\\\\\n\nI developed two different implementations for this method, the first following the description in the second paper linked above, distinguish k-tuples of vertices by multisets of colorings of suitably constructed ulterior k-tuples.\\\\\nThis implementation, while being decently fast soon after completion, needed O(n<sup>k+1</sup>) memory and also, for k > 2, an additional last pass over all the tuples to compute the color classes over vertices or edges (this last part was never implemented).\\\\\nThe branch with this implementation can be found in the branch u/Vaush/weisfeiler_lehman_first_implementation, at https://git.sagemath.org/sage.git/log/?h=u/Vaush/weisfeiler_lehman_first_implementation \\\\\\\\\nFollowing some consulting with dimpase, a new implementation (the current one for this ticket) has been developed that distinguishes (and colors) edges of a graph G by constructing the isomorphism classes of all possible subgraphs of G that have order k+1 and whose vertex set includes the extremes of the currently considered edge, and counting how many subgraphs each edge has for any given class; the counters are then used as a fingerprint that uniquely identifies the color class an edge belongs to during a certain refinement round.\\\\\nThis implementation, after some needed pruning of the search space evident from the number of commits, is now faster than the first one while consuming less memory in every case but extreme ones, and also has the advantage of producing the orbitals of G without any other post-processing.\\\\\nNOTE: at the moment, this second implementation is not as powerful as the first one, since it fails to recognise a Cai-Furer-Immerman graph with ```k=3``` as it should, needing ```k=4```, and the same can be said for the Paley digraph with ```n=4```. Cause is currently unknown, either a bug in the implementation or the algorithm might not actually be equivalent to k-WL.\n\nNext steps in the development would be adding more test cases (or examples) and adding specialised versions of the method for k=1 and k=2, cases that have peculiar characteristics which allow a specific implementation to have a much lower running time and memory usage than the generic one.\n\nA third, parallelised, implementation has been developed too, and can be found at https://git.sagemath.org/sage.git/log/?h=u/Vaush/Weisfeiler_Lehman_Second_Parallel. It shares the same issue reported above with the sequential second implementation, but due to multithreading it is a lot faster on large graphs, though it consumes more memory. It is also slower on very small graphs, for small values of k, due to the synchronisation overhead.\n\n**CC:**  @dimpase\n\n**Keywords:** gsoc18 k-wl weisfeiler lehman automorphism isomorphism color refinement\n\n**Branch:** [u/Vaush/Weisfeiler_Lehman_Second_Implementation](https://github.com/sagemath/sagetrac-mirror/tree/u/Vaush/Weisfeiler_Lehman_Second_Implementation)\n\n**Commit:** [b5476f7cfe71761c0fc2592700fb5ba283ee1ee0](https://github.com/sagemath/sagetrac-mirror/commit/b5476f7cfe71761c0fc2592700fb5ba283ee1ee0)\n\n**Status:** new\n\nIssue created by migration from https://trac.sagemath.org/ticket/25802\n\n",
    "created_at": "2018-07-08T18:48:04Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Efficient k-WL implementation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25802",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```
Scope of this ticket is implementing in an efficient manner a parametric version of the Weisfeiler Lehman procedure.\\\\

The Weisfeiler Lehman method is a way of generating a partition of the nodes (or edges) of a graph G such that the orbits of the automorphism group on G’s vertices (respectively edges) refine said partition. \\This method was first described in https://www.iti.zcu.cz/wl2018/pdf/wl_paper_translation.pdf (translated from russian) and is also better and succintly described in https://www.lii.rwth-aachen.de/images/Mitarbeiter/pub/grohe/cr.pdf. \\The idea can be summarised as doing multiple rounds of vertex (resp. edge) coloring, where each round’s color is determined by the colors of the (hyper)edges in the previous round, until the coloring is stable, that is the color classes stay the same between two subsequent rounds of coloring. Higher values of k (or higher orders of the WL method) base the choice of color for each round on interactions between a higher number of vertices, and thus correctly return the orbits of strictly more graphs than lower values of k.\\\\

This method can be used as a negative oracle for isomorphism between two graphs G and H by running it on their disjoint union: if the two components have different coloring, the graphs are surely not isomorphic; nothing can be said if their coloring is the same instead, since WL doesn’t give any guarantee of returning the correct orbits instead of just a set of sets of vertices that is by them refined.\\

I developed two different implementations for this method, the first following the description in the second paper linked above, distinguish k-tuples of vertices by multisets of colorings of suitably constructed ulterior k-tuples.\\
This implementation, while being decently fast soon after completion, needed O(n<sup>k+1</sup>) memory and also, for k > 2, an additional last pass over all the tuples to compute the color classes over vertices or edges (this last part was never implemented).\\
The branch with this implementation can be found in the branch u/Vaush/weisfeiler_lehman_first_implementation, at https://git.sagemath.org/sage.git/log/?h=u/Vaush/weisfeiler_lehman_first_implementation \\\\
Following some consulting with dimpase, a new implementation (the current one for this ticket) has been developed that distinguishes (and colors) edges of a graph G by constructing the isomorphism classes of all possible subgraphs of G that have order k+1 and whose vertex set includes the extremes of the currently considered edge, and counting how many subgraphs each edge has for any given class; the counters are then used as a fingerprint that uniquely identifies the color class an edge belongs to during a certain refinement round.\\
This implementation, after some needed pruning of the search space evident from the number of commits, is now faster than the first one while consuming less memory in every case but extreme ones, and also has the advantage of producing the orbitals of G without any other post-processing.\\
NOTE: at the moment, this second implementation is not as powerful as the first one, since it fails to recognise a Cai-Furer-Immerman graph with ```k=3``` as it should, needing ```k=4```, and the same can be said for the Paley digraph with ```n=4```. Cause is currently unknown, either a bug in the implementation or the algorithm might not actually be equivalent to k-WL.

Next steps in the development would be adding more test cases (or examples) and adding specialised versions of the method for k=1 and k=2, cases that have peculiar characteristics which allow a specific implementation to have a much lower running time and memory usage than the generic one.

A third, parallelised, implementation has been developed too, and can be found at https://git.sagemath.org/sage.git/log/?h=u/Vaush/Weisfeiler_Lehman_Second_Parallel. It shares the same issue reported above with the sequential second implementation, but due to multithreading it is a lot faster on large graphs, though it consumes more memory. It is also slower on very small graphs, for small values of k, due to the synchronisation overhead.

**CC:**  @dimpase

**Keywords:** gsoc18 k-wl weisfeiler lehman automorphism isomorphism color refinement

**Branch:** [u/Vaush/Weisfeiler_Lehman_Second_Implementation](https://github.com/sagemath/sagetrac-mirror/tree/u/Vaush/Weisfeiler_Lehman_Second_Implementation)

**Commit:** [b5476f7cfe71761c0fc2592700fb5ba283ee1ee0](https://github.com/sagemath/sagetrac-mirror/commit/b5476f7cfe71761c0fc2592700fb5ba283ee1ee0)

**Status:** new

Issue created by migration from https://trac.sagemath.org/ticket/25802





---

archive/issue_comments_496607.json:
```json
{
    "body": "**Branch:** [u/Vaush/weisfeiler_lehman_first_implementation](https://github.com/sagemath/sagetrac-mirror/tree/u/Vaush/weisfeiler_lehman_first_implementation)",
    "created_at": "2018-07-08T18:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496607",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

**Branch:** [u/Vaush/weisfeiler_lehman_first_implementation](https://github.com/sagemath/sagetrac-mirror/tree/u/Vaush/weisfeiler_lehman_first_implementation)



---

archive/issue_comments_496608.json:
```json
{
    "body": "**Commit:** [82467a370bfed05addfe0d240b735c2e08c8ce7c](https://github.com/sagemath/sagetrac-mirror/commit/82467a370bfed05addfe0d240b735c2e08c8ce7c)",
    "created_at": "2018-07-09T15:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [82467a370bfed05addfe0d240b735c2e08c8ce7c](https://github.com/sagemath/sagetrac-mirror/commit/82467a370bfed05addfe0d240b735c2e08c8ce7c)



---

archive/issue_comments_496609.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f5a5b78abc88741eee9be55a50acdd3db0ff121\">1f5a5b7</a></td><td><code>Support structure in place</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20c8cbb42695e05521bfb67d57713a4c060988d2\">20c8cbb</a></td><td><code>Created adjacency matrix class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80ab04fac3c95883f01ea566545615fa76288673\">80ab04f</a></td><td><code>Support structure is complete and superficially tested, left to do: writing the algorithm's main loop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f54b75e3e94a046027dfdd36be26123d53f2f9b\">3f54b75</a></td><td><code>Working version of k-WL. TODO: support edge and vertex labels, make a few memory optimisations and format the output properly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79197816778a80f3124a0fc65a7f77b13efa6bc7\">7919781</a></td><td><code>Now the k-WL implementation supports labels. TODO: memory optimisations and output formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82467a370bfed05addfe0d240b735c2e08c8ce7c\">82467a3</a></td><td><code>Slightly optimized memory usage, better output formatting is still needed, but the possible use cases are so many that for the moment leaving the possibility of manipulating raw vertex-tuples coloring looks like the best choice</code></td></tr></table>\n",
    "created_at": "2018-07-09T15:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f5a5b78abc88741eee9be55a50acdd3db0ff121">1f5a5b7</a></td><td><code>Support structure in place</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20c8cbb42695e05521bfb67d57713a4c060988d2">20c8cbb</a></td><td><code>Created adjacency matrix class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80ab04fac3c95883f01ea566545615fa76288673">80ab04f</a></td><td><code>Support structure is complete and superficially tested, left to do: writing the algorithm's main loop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f54b75e3e94a046027dfdd36be26123d53f2f9b">3f54b75</a></td><td><code>Working version of k-WL. TODO: support edge and vertex labels, make a few memory optimisations and format the output properly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79197816778a80f3124a0fc65a7f77b13efa6bc7">7919781</a></td><td><code>Now the k-WL implementation supports labels. TODO: memory optimisations and output formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82467a370bfed05addfe0d240b735c2e08c8ce7c">82467a3</a></td><td><code>Slightly optimized memory usage, better output formatting is still needed, but the possible use cases are so many that for the moment leaving the possibility of manipulating raw vertex-tuples coloring looks like the best choice</code></td></tr></table>




---

archive/issue_comments_496610.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45cb69046526266fc84f432599a1de77a25d70e3\">45cb690</a></td><td><code>Support structure in place</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90f88a7b5f501ef97b6d51a218b15f896c3a562a\">90f88a7</a></td><td><code>Created adjacency matrix class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4c76c6bdeb14179bfdb356169932732830d6921\">e4c76c6</a></td><td><code>Support structure is complete and superficially tested, left to do: writing the algorithm's main loop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18ecd4ca5a398b2ba7ca21fd7570e632faabfabf\">18ecd4c</a></td><td><code>Working version of k-WL. TODO: support edge and vertex labels, make a few memory optimisations and format the output properly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/419529de78d47d323f3f8dde173ea83bf9be5abc\">419529d</a></td><td><code>Now the k-WL implementation supports labels. TODO: memory optimisations and output formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e561b002f5245679d1cf90b3694435050974cd4\">3e561b0</a></td><td><code>Slightly optimized memory usage, better output formatting is still needed, but the possible use cases are so many that for the moment leaving the possibility of manipulating raw vertex-tuples coloring looks like the best choice</code></td></tr></table>\n",
    "created_at": "2018-07-14T15:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45cb69046526266fc84f432599a1de77a25d70e3">45cb690</a></td><td><code>Support structure in place</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90f88a7b5f501ef97b6d51a218b15f896c3a562a">90f88a7</a></td><td><code>Created adjacency matrix class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4c76c6bdeb14179bfdb356169932732830d6921">e4c76c6</a></td><td><code>Support structure is complete and superficially tested, left to do: writing the algorithm's main loop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18ecd4ca5a398b2ba7ca21fd7570e632faabfabf">18ecd4c</a></td><td><code>Working version of k-WL. TODO: support edge and vertex labels, make a few memory optimisations and format the output properly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/419529de78d47d323f3f8dde173ea83bf9be5abc">419529d</a></td><td><code>Now the k-WL implementation supports labels. TODO: memory optimisations and output formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e561b002f5245679d1cf90b3694435050974cd4">3e561b0</a></td><td><code>Slightly optimized memory usage, better output formatting is still needed, but the possible use cases are so many that for the moment leaving the possibility of manipulating raw vertex-tuples coloring looks like the best choice</code></td></tr></table>




---

archive/issue_comments_496611.json:
```json
{
    "body": "**Changing commit** from \"[82467a370bfed05addfe0d240b735c2e08c8ce7c](https://github.com/sagemath/sagetrac-mirror/commit/82467a370bfed05addfe0d240b735c2e08c8ce7c)\" to \"[3e561b002f5245679d1cf90b3694435050974cd4](https://github.com/sagemath/sagetrac-mirror/commit/3e561b002f5245679d1cf90b3694435050974cd4)\".",
    "created_at": "2018-07-14T15:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[82467a370bfed05addfe0d240b735c2e08c8ce7c](https://github.com/sagemath/sagetrac-mirror/commit/82467a370bfed05addfe0d240b735c2e08c8ce7c)" to "[3e561b002f5245679d1cf90b3694435050974cd4](https://github.com/sagemath/sagetrac-mirror/commit/3e561b002f5245679d1cf90b3694435050974cd4)".



---

archive/issue_comments_496612.json:
```json
{
    "body": "**Changing commit** from \"[3e561b002f5245679d1cf90b3694435050974cd4](https://github.com/sagemath/sagetrac-mirror/commit/3e561b002f5245679d1cf90b3694435050974cd4)\" to \"[dd74f92ea938deca9c520250a11ef90ca0b1952f](https://github.com/sagemath/sagetrac-mirror/commit/dd74f92ea938deca9c520250a11ef90ca0b1952f)\".",
    "created_at": "2018-07-18T17:35:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3e561b002f5245679d1cf90b3694435050974cd4](https://github.com/sagemath/sagetrac-mirror/commit/3e561b002f5245679d1cf90b3694435050974cd4)" to "[dd74f92ea938deca9c520250a11ef90ca0b1952f](https://github.com/sagemath/sagetrac-mirror/commit/dd74f92ea938deca9c520250a11ef90ca0b1952f)".



---

archive/issue_comments_496613.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd74f92ea938deca9c520250a11ef90ca0b1952f\">dd74f92</a></td><td><code>Relabel bug fix</code></td></tr></table>\n",
    "created_at": "2018-07-18T17:35:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd74f92ea938deca9c520250a11ef90ca0b1952f">dd74f92</a></td><td><code>Relabel bug fix</code></td></tr></table>




---

archive/issue_comments_496614.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b97d2bfc416116771d3f9f0ba8b267d056338b3\">8b97d2b</a></td><td><code>Fixed error with initial graph coloring</code></td></tr></table>\n",
    "created_at": "2018-07-22T15:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496614",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b97d2bfc416116771d3f9f0ba8b267d056338b3">8b97d2b</a></td><td><code>Fixed error with initial graph coloring</code></td></tr></table>




---

archive/issue_comments_496615.json:
```json
{
    "body": "**Changing commit** from \"[dd74f92ea938deca9c520250a11ef90ca0b1952f](https://github.com/sagemath/sagetrac-mirror/commit/dd74f92ea938deca9c520250a11ef90ca0b1952f)\" to \"[8b97d2bfc416116771d3f9f0ba8b267d056338b3](https://github.com/sagemath/sagetrac-mirror/commit/8b97d2bfc416116771d3f9f0ba8b267d056338b3)\".",
    "created_at": "2018-07-22T15:13:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dd74f92ea938deca9c520250a11ef90ca0b1952f](https://github.com/sagemath/sagetrac-mirror/commit/dd74f92ea938deca9c520250a11ef90ca0b1952f)" to "[8b97d2bfc416116771d3f9f0ba8b267d056338b3](https://github.com/sagemath/sagetrac-mirror/commit/8b97d2bfc416116771d3f9f0ba8b267d056338b3)".



---

archive/issue_comments_496616.json:
```json
{
    "body": "<a id='comment:6'></a>\nChanged the branch to refer to the new, improved in time and space efficiency, implementation\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5159ca47d3b1b293e42db7b09d122e0ed2761f5\">a5159ca</a></td><td><code>test added</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54499f975beae06b7062d014ecb2f4f202c4696b\">54499f9</a></td><td><code>doctest error in `_list_from_`iterator fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9444ebc1d569bfd18a1712d735c8d543d4ce6c0d\">9444ebc</a></td><td><code>Updated [SageMath](SageMath) version to 8.3.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/784e90626a1ca28a317896f8954a51734018b4db\">784e906</a></td><td><code>Use old Weisfeiler Lehman implementation code base</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca25a45a725080b7354cd1f26f3f6e246058293d\">ca25a45</a></td><td><code>Finished second implementation of k-WL</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d121aff0d3960518994485e756d2ad0b441e0dc\">7d121af</a></td><td><code>Several bugfixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6dd13fa3f8fd0ac4a28b46d11507db4bfdfd1975\">6dd13fa</a></td><td><code>Use normal arrays to represent vertex subsets, to improve efficiency</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18f923814a2ca16a223cee601d429b46095c7ab0\">18f9238</a></td><td><code>Pruning the canonical form search space</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf7c5df228ed6514665fe255f36cb9d1edb7ee11\">cf7c5df</a></td><td><code>Further slight improvement on the search space dimension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f6804a37872b374da2df85aff1c8e95cd2b9370\">5f6804a</a></td><td><code>Added support for choosing the cardinality of the elements in the resulting color classes. Also, fixed the code and removed debug files</code></td></tr></table>\n",
    "created_at": "2018-07-30T14:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496616",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

<a id='comment:6'></a>
Changed the branch to refer to the new, improved in time and space efficiency, implementation

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5159ca47d3b1b293e42db7b09d122e0ed2761f5">a5159ca</a></td><td><code>test added</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54499f975beae06b7062d014ecb2f4f202c4696b">54499f9</a></td><td><code>doctest error in `_list_from_`iterator fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9444ebc1d569bfd18a1712d735c8d543d4ce6c0d">9444ebc</a></td><td><code>Updated [SageMath](SageMath) version to 8.3.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/784e90626a1ca28a317896f8954a51734018b4db">784e906</a></td><td><code>Use old Weisfeiler Lehman implementation code base</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca25a45a725080b7354cd1f26f3f6e246058293d">ca25a45</a></td><td><code>Finished second implementation of k-WL</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d121aff0d3960518994485e756d2ad0b441e0dc">7d121af</a></td><td><code>Several bugfixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6dd13fa3f8fd0ac4a28b46d11507db4bfdfd1975">6dd13fa</a></td><td><code>Use normal arrays to represent vertex subsets, to improve efficiency</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18f923814a2ca16a223cee601d429b46095c7ab0">18f9238</a></td><td><code>Pruning the canonical form search space</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf7c5df228ed6514665fe255f36cb9d1edb7ee11">cf7c5df</a></td><td><code>Further slight improvement on the search space dimension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f6804a37872b374da2df85aff1c8e95cd2b9370">5f6804a</a></td><td><code>Added support for choosing the cardinality of the elements in the resulting color classes. Also, fixed the code and removed debug files</code></td></tr></table>




---

archive/issue_comments_496617.json:
```json
{
    "body": "**Changing commit** from \"[8b97d2bfc416116771d3f9f0ba8b267d056338b3](https://github.com/sagemath/sagetrac-mirror/commit/8b97d2bfc416116771d3f9f0ba8b267d056338b3)\" to \"[5f6804a37872b374da2df85aff1c8e95cd2b9370](https://github.com/sagemath/sagetrac-mirror/commit/5f6804a37872b374da2df85aff1c8e95cd2b9370)\".",
    "created_at": "2018-07-30T14:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496617",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

**Changing commit** from "[8b97d2bfc416116771d3f9f0ba8b267d056338b3](https://github.com/sagemath/sagetrac-mirror/commit/8b97d2bfc416116771d3f9f0ba8b267d056338b3)" to "[5f6804a37872b374da2df85aff1c8e95cd2b9370](https://github.com/sagemath/sagetrac-mirror/commit/5f6804a37872b374da2df85aff1c8e95cd2b9370)".



---

archive/issue_comments_496618.json:
```json
{
    "body": "**Changing branch** from \"[u/Vaush/weisfeiler_lehman_first_implementation](https://github.com/sagemath/sagetrac-mirror/tree/u/Vaush/weisfeiler_lehman_first_implementation)\" to \"[u/Vaush/Weisfeiler_Lehman_Second_Implementation](https://github.com/sagemath/sagetrac-mirror/tree/u/Vaush/Weisfeiler_Lehman_Second_Implementation)\".",
    "created_at": "2018-07-30T14:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496618",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

**Changing branch** from "[u/Vaush/weisfeiler_lehman_first_implementation](https://github.com/sagemath/sagetrac-mirror/tree/u/Vaush/weisfeiler_lehman_first_implementation)" to "[u/Vaush/Weisfeiler_Lehman_Second_Implementation](https://github.com/sagemath/sagetrac-mirror/tree/u/Vaush/Weisfeiler_Lehman_Second_Implementation)".



---

archive/issue_comments_496619.json:
```json
{
    "body": "**Changing commit** from \"[5f6804a37872b374da2df85aff1c8e95cd2b9370](https://github.com/sagemath/sagetrac-mirror/commit/5f6804a37872b374da2df85aff1c8e95cd2b9370)\" to \"[4554bebdc371146c911e89d44c99c2787f4a1d59](https://github.com/sagemath/sagetrac-mirror/commit/4554bebdc371146c911e89d44c99c2787f4a1d59)\".",
    "created_at": "2018-07-31T09:04:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5f6804a37872b374da2df85aff1c8e95cd2b9370](https://github.com/sagemath/sagetrac-mirror/commit/5f6804a37872b374da2df85aff1c8e95cd2b9370)" to "[4554bebdc371146c911e89d44c99c2787f4a1d59](https://github.com/sagemath/sagetrac-mirror/commit/4554bebdc371146c911e89d44c99c2787f4a1d59)".



---

archive/issue_comments_496620.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4554bebdc371146c911e89d44c99c2787f4a1d59\">4554beb</a></td><td><code>Fixed a few interface errors</code></td></tr></table>\n",
    "created_at": "2018-07-31T09:04:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4554bebdc371146c911e89d44c99c2787f4a1d59">4554beb</a></td><td><code>Fixed a few interface errors</code></td></tr></table>




---

archive/issue_comments_496621.json:
```json
{
    "body": "**Changing commit** from \"[4554bebdc371146c911e89d44c99c2787f4a1d59](https://github.com/sagemath/sagetrac-mirror/commit/4554bebdc371146c911e89d44c99c2787f4a1d59)\" to \"[38f9d32e800036f028abe7ba3363dfbebfed8043](https://github.com/sagemath/sagetrac-mirror/commit/38f9d32e800036f028abe7ba3363dfbebfed8043)\".",
    "created_at": "2018-07-31T23:23:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496621",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4554bebdc371146c911e89d44c99c2787f4a1d59](https://github.com/sagemath/sagetrac-mirror/commit/4554bebdc371146c911e89d44c99c2787f4a1d59)" to "[38f9d32e800036f028abe7ba3363dfbebfed8043](https://github.com/sagemath/sagetrac-mirror/commit/38f9d32e800036f028abe7ba3363dfbebfed8043)".



---

archive/issue_comments_496622.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f9c50872b6006549ee11f81744e8418dc67e9bd\">9f9c508</a></td><td><code>Better formatted output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f49cd54cd2080bdcd936653cb96f1209276c22dc\">f49cd54</a></td><td><code>Fixed bugs in the implementation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38f9d32e800036f028abe7ba3363dfbebfed8043\">38f9d32</a></td><td><code>Generalized individualisation of current edge</code></td></tr></table>\n",
    "created_at": "2018-07-31T23:23:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496622",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f9c50872b6006549ee11f81744e8418dc67e9bd">9f9c508</a></td><td><code>Better formatted output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f49cd54cd2080bdcd936653cb96f1209276c22dc">f49cd54</a></td><td><code>Fixed bugs in the implementation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38f9d32e800036f028abe7ba3363dfbebfed8043">38f9d32</a></td><td><code>Generalized individualisation of current edge</code></td></tr></table>




---

archive/issue_comments_496623.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2\">ef42a2a</a></td><td><code>Moved fingerprint initialization in the correct place</code></td></tr></table>\n",
    "created_at": "2018-08-01T00:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496623",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2">ef42a2a</a></td><td><code>Moved fingerprint initialization in the correct place</code></td></tr></table>




---

archive/issue_comments_496624.json:
```json
{
    "body": "**Changing commit** from \"[38f9d32e800036f028abe7ba3363dfbebfed8043](https://github.com/sagemath/sagetrac-mirror/commit/38f9d32e800036f028abe7ba3363dfbebfed8043)\" to \"[ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2](https://github.com/sagemath/sagetrac-mirror/commit/ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2)\".",
    "created_at": "2018-08-01T00:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[38f9d32e800036f028abe7ba3363dfbebfed8043](https://github.com/sagemath/sagetrac-mirror/commit/38f9d32e800036f028abe7ba3363dfbebfed8043)" to "[ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2](https://github.com/sagemath/sagetrac-mirror/commit/ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2)".



---

archive/issue_comments_496625.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00caa3631fff3ea1f3bee700ad9c4da9a48a0642\">00caa36</a></td><td><code>Reduced fingerprint creation overhead</code></td></tr></table>\n",
    "created_at": "2018-08-01T10:47:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00caa3631fff3ea1f3bee700ad9c4da9a48a0642">00caa36</a></td><td><code>Reduced fingerprint creation overhead</code></td></tr></table>




---

archive/issue_comments_496626.json:
```json
{
    "body": "**Changing commit** from \"[ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2](https://github.com/sagemath/sagetrac-mirror/commit/ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2)\" to \"[00caa3631fff3ea1f3bee700ad9c4da9a48a0642](https://github.com/sagemath/sagetrac-mirror/commit/00caa3631fff3ea1f3bee700ad9c4da9a48a0642)\".",
    "created_at": "2018-08-01T10:47:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496626",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2](https://github.com/sagemath/sagetrac-mirror/commit/ef42a2a53ad60c7f7b6281f44ab5f5b808ff6fd2)" to "[00caa3631fff3ea1f3bee700ad9c4da9a48a0642](https://github.com/sagemath/sagetrac-mirror/commit/00caa3631fff3ea1f3bee700ad9c4da9a48a0642)".



---

archive/issue_comments_496627.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97c9154f81d0e71578840ac42e558d9eddcf8a92\">97c9154</a></td><td><code>Avoid generating all the subgraphs beforehand, with the new fingerprinting there's no reason to</code></td></tr></table>\n",
    "created_at": "2018-08-01T17:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97c9154f81d0e71578840ac42e558d9eddcf8a92">97c9154</a></td><td><code>Avoid generating all the subgraphs beforehand, with the new fingerprinting there's no reason to</code></td></tr></table>




---

archive/issue_comments_496628.json:
```json
{
    "body": "**Changing commit** from \"[00caa3631fff3ea1f3bee700ad9c4da9a48a0642](https://github.com/sagemath/sagetrac-mirror/commit/00caa3631fff3ea1f3bee700ad9c4da9a48a0642)\" to \"[97c9154f81d0e71578840ac42e558d9eddcf8a92](https://github.com/sagemath/sagetrac-mirror/commit/97c9154f81d0e71578840ac42e558d9eddcf8a92)\".",
    "created_at": "2018-08-01T17:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496628",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[00caa3631fff3ea1f3bee700ad9c4da9a48a0642](https://github.com/sagemath/sagetrac-mirror/commit/00caa3631fff3ea1f3bee700ad9c4da9a48a0642)" to "[97c9154f81d0e71578840ac42e558d9eddcf8a92](https://github.com/sagemath/sagetrac-mirror/commit/97c9154f81d0e71578840ac42e558d9eddcf8a92)".



---

archive/issue_comments_496629.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea89ced1c57854f819e130ee44a4e435f7c98b43\">ea89ced</a></td><td><code>Changed subgraph vertex set generation</code></td></tr></table>\n",
    "created_at": "2018-08-02T17:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496629",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea89ced1c57854f819e130ee44a4e435f7c98b43">ea89ced</a></td><td><code>Changed subgraph vertex set generation</code></td></tr></table>




---

archive/issue_comments_496630.json:
```json
{
    "body": "**Changing commit** from \"[97c9154f81d0e71578840ac42e558d9eddcf8a92](https://github.com/sagemath/sagetrac-mirror/commit/97c9154f81d0e71578840ac42e558d9eddcf8a92)\" to \"[ea89ced1c57854f819e130ee44a4e435f7c98b43](https://github.com/sagemath/sagetrac-mirror/commit/ea89ced1c57854f819e130ee44a4e435f7c98b43)\".",
    "created_at": "2018-08-02T17:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496630",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[97c9154f81d0e71578840ac42e558d9eddcf8a92](https://github.com/sagemath/sagetrac-mirror/commit/97c9154f81d0e71578840ac42e558d9eddcf8a92)" to "[ea89ced1c57854f819e130ee44a4e435f7c98b43](https://github.com/sagemath/sagetrac-mirror/commit/ea89ced1c57854f819e130ee44a4e435f7c98b43)".



---

archive/issue_comments_496631.json:
```json
{
    "body": "**Changing commit** from \"[ea89ced1c57854f819e130ee44a4e435f7c98b43](https://github.com/sagemath/sagetrac-mirror/commit/ea89ced1c57854f819e130ee44a4e435f7c98b43)\" to \"[93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4](https://github.com/sagemath/sagetrac-mirror/commit/93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4)\".",
    "created_at": "2018-08-02T19:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496631",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ea89ced1c57854f819e130ee44a4e435f7c98b43](https://github.com/sagemath/sagetrac-mirror/commit/ea89ced1c57854f819e130ee44a4e435f7c98b43)" to "[93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4](https://github.com/sagemath/sagetrac-mirror/commit/93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4)".



---

archive/issue_comments_496632.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4\">93f44a8</a></td><td><code>Changed automorphism pruning strategy in fingerprint generation</code></td></tr></table>\n",
    "created_at": "2018-08-02T19:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496632",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4">93f44a8</a></td><td><code>Changed automorphism pruning strategy in fingerprint generation</code></td></tr></table>




---

archive/issue_comments_496633.json:
```json
{
    "body": "**Changing commit** from \"[93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4](https://github.com/sagemath/sagetrac-mirror/commit/93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4)\" to \"[33b71b0d95b6143894eb5c49ffd8ed9b1281027c](https://github.com/sagemath/sagetrac-mirror/commit/33b71b0d95b6143894eb5c49ffd8ed9b1281027c)\".",
    "created_at": "2018-08-03T10:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4](https://github.com/sagemath/sagetrac-mirror/commit/93f44a87e9b5d13e3e94b3f0bb9cead5bd1389b4)" to "[33b71b0d95b6143894eb5c49ffd8ed9b1281027c](https://github.com/sagemath/sagetrac-mirror/commit/33b71b0d95b6143894eb5c49ffd8ed9b1281027c)".



---

archive/issue_comments_496634.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33b71b0d95b6143894eb5c49ffd8ed9b1281027c\">33b71b0</a></td><td><code>Reverted back to the old way of checking for fruitless permutations, but improved efficiency in creating and managing the support matrix to do that</code></td></tr></table>\n",
    "created_at": "2018-08-03T10:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33b71b0d95b6143894eb5c49ffd8ed9b1281027c">33b71b0</a></td><td><code>Reverted back to the old way of checking for fruitless permutations, but improved efficiency in creating and managing the support matrix to do that</code></td></tr></table>




---

archive/issue_comments_496635.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9ff03c5f0f27391ab5880adff2ada73bd37652b\">b9ff03c</a></td><td><code>Fixed an error in resetting the support matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30871f8ec47efd0aabe003a6a15a316c04aabf96\">30871f8</a></td><td><code>Cleaned the code, added comments to the C++ implementation. TODO: add comments to the Cython interface</code></td></tr></table>\n",
    "created_at": "2018-08-03T17:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496635",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9ff03c5f0f27391ab5880adff2ada73bd37652b">b9ff03c</a></td><td><code>Fixed an error in resetting the support matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30871f8ec47efd0aabe003a6a15a316c04aabf96">30871f8</a></td><td><code>Cleaned the code, added comments to the C++ implementation. TODO: add comments to the Cython interface</code></td></tr></table>




---

archive/issue_comments_496636.json:
```json
{
    "body": "**Changing commit** from \"[33b71b0d95b6143894eb5c49ffd8ed9b1281027c](https://github.com/sagemath/sagetrac-mirror/commit/33b71b0d95b6143894eb5c49ffd8ed9b1281027c)\" to \"[30871f8ec47efd0aabe003a6a15a316c04aabf96](https://github.com/sagemath/sagetrac-mirror/commit/30871f8ec47efd0aabe003a6a15a316c04aabf96)\".",
    "created_at": "2018-08-03T17:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[33b71b0d95b6143894eb5c49ffd8ed9b1281027c](https://github.com/sagemath/sagetrac-mirror/commit/33b71b0d95b6143894eb5c49ffd8ed9b1281027c)" to "[30871f8ec47efd0aabe003a6a15a316c04aabf96](https://github.com/sagemath/sagetrac-mirror/commit/30871f8ec47efd0aabe003a6a15a316c04aabf96)".



---

archive/issue_comments_496637.json:
```json
{
    "body": "**Changing commit** from \"[30871f8ec47efd0aabe003a6a15a316c04aabf96](https://github.com/sagemath/sagetrac-mirror/commit/30871f8ec47efd0aabe003a6a15a316c04aabf96)\" to \"[8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8](https://github.com/sagemath/sagetrac-mirror/commit/8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8)\".",
    "created_at": "2018-08-04T12:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[30871f8ec47efd0aabe003a6a15a316c04aabf96](https://github.com/sagemath/sagetrac-mirror/commit/30871f8ec47efd0aabe003a6a15a316c04aabf96)" to "[8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8](https://github.com/sagemath/sagetrac-mirror/commit/8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8)".



---

archive/issue_comments_496638.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8\">8a7a567</a></td><td><code>Added documentation for the Weisfeiler Lehman method</code></td></tr></table>\n",
    "created_at": "2018-08-04T12:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8">8a7a567</a></td><td><code>Added documentation for the Weisfeiler Lehman method</code></td></tr></table>




---

archive/issue_events_073341.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-08-06T06:47:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25802#event-73341"
}
```



---

archive/issue_comments_496639.json:
```json
{
    "body": "**Changing commit** from \"[8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8](https://github.com/sagemath/sagetrac-mirror/commit/8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8)\" to \"[2eb5e310e7c2c541ac52a9399882ab51e6971dd2](https://github.com/sagemath/sagetrac-mirror/commit/2eb5e310e7c2c541ac52a9399882ab51e6971dd2)\".",
    "created_at": "2018-08-09T15:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8](https://github.com/sagemath/sagetrac-mirror/commit/8a7a567cf7ee6902fa3fa86e1b5a5377033d36c8)" to "[2eb5e310e7c2c541ac52a9399882ab51e6971dd2](https://github.com/sagemath/sagetrac-mirror/commit/2eb5e310e7c2c541ac52a9399882ab51e6971dd2)".



---

archive/issue_comments_496640.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b3db0b4293c716bac77df518057151ed4cd2ef8\">0b3db0b</a></td><td><code>Added method to check for correctness</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab2d05b6519169ec876f2a0bc15430c38265faa4\">ab2d05b</a></td><td><code>Fixed documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2eb5e310e7c2c541ac52a9399882ab51e6971dd2\">2eb5e31</a></td><td><code>Switched to another way of computing the orbitals to check for correctness and fixed and finished the documentation</code></td></tr></table>\n",
    "created_at": "2018-08-09T15:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b3db0b4293c716bac77df518057151ed4cd2ef8">0b3db0b</a></td><td><code>Added method to check for correctness</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab2d05b6519169ec876f2a0bc15430c38265faa4">ab2d05b</a></td><td><code>Fixed documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2eb5e310e7c2c541ac52a9399882ab51e6971dd2">2eb5e31</a></td><td><code>Switched to another way of computing the orbitals to check for correctness and fixed and finished the documentation</code></td></tr></table>




---

archive/issue_comments_496641.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,13 @@\n-I'm implementing in sage an efficient parametric version of the Weisfeiler-Lehman algorithm.\n+Scope of this ticket is implementing in an efficient manner a parametric version of the Weisfeiler Lehman procedure.\\\\\\\\\n \n-TODO: add references to useful papers\n+The Weisfeiler Lehman method is a way of generating a partition of the nodes (or edges) of a graph G such that the orbits of the automorphism group on G\u2019s vertices (respectively edges) refine said partition. \\\\This method was first described in https://www.iti.zcu.cz/wl2018/pdf/wl_paper_translation.pdf (translated from russian) and is also better and succintly described in https://www.lii.rwth-aachen.de/images/Mitarbeiter/pub/grohe/cr.pdf. \\\\The idea can be summarised as doing multiple rounds of vertex (resp. edge) coloring, where each round\u2019s color is determined by the colors of the (hyper)edges in the previous round, until the coloring is stable, that is the color classes stay the same between two subsequent rounds of coloring. Higher values of k (or higher orders of the WL method) base the choice of color for each round on interactions between a higher number of vertices, and thus correctly return the orbits of strictly more graphs than lower values of k.\\\\\\\\\n \n-N.B: This ticket is still a work in progress\n+This method can be used as a negative oracle for isomorphism between two graphs G and H by running it on their disjoint union: if the two components have different coloring, the graphs are surely not isomorphic; nothing can be said if their coloring is the same instead, since WL doesn\u2019t give any guarantee of returning the correct orbits instead of just a set of sets of vertices that is by them refined.\\\\\n+\n+I developed two different implementations for this method, the first following the description in the second paper linked above, distinguish k-tuples of vertices by multisets of colorings of suitably constructed ulterior k-tuples.\\\\\n+This implementation, while being decently fast soon after completion, needed O(n<sup>k+1</sup>) memory and also, for k > 2, an additional last pass over all the tuples to compute the color classes over vertices or edges (this last part was never implemented).\\\\\n+The branch with this implementation can be found in the branch u/Vaush/weisfeiler_lehman_first_implementation, at https://git.sagemath.org/sage.git/log/?h=u/Vaush/weisfeiler_lehman_first_implementation \\\\\\\\\n+Following some consulting with dimpase, a new implementation (the current one for this ticket) has been developed that distinguishes (and colors) edges of a graph G by constructing the isomorphism classes of all possible subgraphs of G that have order k+1 and whose vertex set includes the extremes of the currently considered edge, and counting how many subgraphs each edge has for any given class; the counters are then used as a fingerprint that uniquely identifies the color class an edge belongs to during a certain refinement round.\\\\\n+This implementation, after some needed pruning of the search space evident from the number of commits, is now faster than the first one while consuming less memory in every case but extreme ones, and also has the advantage of producing the orbitals of G without any other post-processing.\\\\\n+\n+Next steps in the development would be adding more test cases (or examples) and adding specialised versions of the method for k=1 and k=2, cases that have peculiar characteristics which allow a specific implementation to have a much lower running time and memory usage than the generic one.\n``````\n",
    "created_at": "2018-08-09T19:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496641",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,13 @@
-I'm implementing in sage an efficient parametric version of the Weisfeiler-Lehman algorithm.
+Scope of this ticket is implementing in an efficient manner a parametric version of the Weisfeiler Lehman procedure.\\\\
 
-TODO: add references to useful papers
+The Weisfeiler Lehman method is a way of generating a partition of the nodes (or edges) of a graph G such that the orbits of the automorphism group on G’s vertices (respectively edges) refine said partition. \\This method was first described in https://www.iti.zcu.cz/wl2018/pdf/wl_paper_translation.pdf (translated from russian) and is also better and succintly described in https://www.lii.rwth-aachen.de/images/Mitarbeiter/pub/grohe/cr.pdf. \\The idea can be summarised as doing multiple rounds of vertex (resp. edge) coloring, where each round’s color is determined by the colors of the (hyper)edges in the previous round, until the coloring is stable, that is the color classes stay the same between two subsequent rounds of coloring. Higher values of k (or higher orders of the WL method) base the choice of color for each round on interactions between a higher number of vertices, and thus correctly return the orbits of strictly more graphs than lower values of k.\\\\
 
-N.B: This ticket is still a work in progress
+This method can be used as a negative oracle for isomorphism between two graphs G and H by running it on their disjoint union: if the two components have different coloring, the graphs are surely not isomorphic; nothing can be said if their coloring is the same instead, since WL doesn’t give any guarantee of returning the correct orbits instead of just a set of sets of vertices that is by them refined.\\
+
+I developed two different implementations for this method, the first following the description in the second paper linked above, distinguish k-tuples of vertices by multisets of colorings of suitably constructed ulterior k-tuples.\\
+This implementation, while being decently fast soon after completion, needed O(n<sup>k+1</sup>) memory and also, for k > 2, an additional last pass over all the tuples to compute the color classes over vertices or edges (this last part was never implemented).\\
+The branch with this implementation can be found in the branch u/Vaush/weisfeiler_lehman_first_implementation, at https://git.sagemath.org/sage.git/log/?h=u/Vaush/weisfeiler_lehman_first_implementation \\\\
+Following some consulting with dimpase, a new implementation (the current one for this ticket) has been developed that distinguishes (and colors) edges of a graph G by constructing the isomorphism classes of all possible subgraphs of G that have order k+1 and whose vertex set includes the extremes of the currently considered edge, and counting how many subgraphs each edge has for any given class; the counters are then used as a fingerprint that uniquely identifies the color class an edge belongs to during a certain refinement round.\\
+This implementation, after some needed pruning of the search space evident from the number of commits, is now faster than the first one while consuming less memory in every case but extreme ones, and also has the advantage of producing the orbitals of G without any other post-processing.\\
+
+Next steps in the development would be adding more test cases (or examples) and adding specialised versions of the method for k=1 and k=2, cases that have peculiar characteristics which allow a specific implementation to have a much lower running time and memory usage than the generic one.
``````




---

archive/issue_comments_496642.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0fa067ca0d498578930179fa4291100921568b2\">f0fa067</a></td><td><code>Added another simple but explanatory example</code></td></tr></table>\n",
    "created_at": "2018-08-09T19:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496642",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0fa067ca0d498578930179fa4291100921568b2">f0fa067</a></td><td><code>Added another simple but explanatory example</code></td></tr></table>




---

archive/issue_comments_496643.json:
```json
{
    "body": "**Changing commit** from \"[2eb5e310e7c2c541ac52a9399882ab51e6971dd2](https://github.com/sagemath/sagetrac-mirror/commit/2eb5e310e7c2c541ac52a9399882ab51e6971dd2)\" to \"[f0fa067ca0d498578930179fa4291100921568b2](https://github.com/sagemath/sagetrac-mirror/commit/f0fa067ca0d498578930179fa4291100921568b2)\".",
    "created_at": "2018-08-09T19:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496643",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2eb5e310e7c2c541ac52a9399882ab51e6971dd2](https://github.com/sagemath/sagetrac-mirror/commit/2eb5e310e7c2c541ac52a9399882ab51e6971dd2)" to "[f0fa067ca0d498578930179fa4291100921568b2](https://github.com/sagemath/sagetrac-mirror/commit/f0fa067ca0d498578930179fa4291100921568b2)".



---

archive/issue_comments_496644.json:
```json
{
    "body": "**Changing commit** from \"[f0fa067ca0d498578930179fa4291100921568b2](https://github.com/sagemath/sagetrac-mirror/commit/f0fa067ca0d498578930179fa4291100921568b2)\" to \"[18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96](https://github.com/sagemath/sagetrac-mirror/commit/18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96)\".",
    "created_at": "2018-08-12T18:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496644",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f0fa067ca0d498578930179fa4291100921568b2](https://github.com/sagemath/sagetrac-mirror/commit/f0fa067ca0d498578930179fa4291100921568b2)" to "[18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96](https://github.com/sagemath/sagetrac-mirror/commit/18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96)".



---

archive/issue_comments_496645.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96\">18cd785</a></td><td><code>Removed useless list</code></td></tr></table>\n",
    "created_at": "2018-08-12T18:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496645",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96">18cd785</a></td><td><code>Removed useless list</code></td></tr></table>




---

archive/issue_comments_496646.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5476f7cfe71761c0fc2592700fb5ba283ee1ee0\">b5476f7</a></td><td><code>Fixed a bug for k=1 that made the algorithm always return the initial colouring</code></td></tr></table>\n",
    "created_at": "2018-08-23T17:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5476f7cfe71761c0fc2592700fb5ba283ee1ee0">b5476f7</a></td><td><code>Fixed a bug for k=1 that made the algorithm always return the initial colouring</code></td></tr></table>




---

archive/issue_comments_496647.json:
```json
{
    "body": "**Changing commit** from \"[18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96](https://github.com/sagemath/sagetrac-mirror/commit/18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96)\" to \"[b5476f7cfe71761c0fc2592700fb5ba283ee1ee0](https://github.com/sagemath/sagetrac-mirror/commit/b5476f7cfe71761c0fc2592700fb5ba283ee1ee0)\".",
    "created_at": "2018-08-23T17:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496647",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96](https://github.com/sagemath/sagetrac-mirror/commit/18cd785fbac9db1a21a74c7b9cdd51b8d01d9a96)" to "[b5476f7cfe71761c0fc2592700fb5ba283ee1ee0](https://github.com/sagemath/sagetrac-mirror/commit/b5476f7cfe71761c0fc2592700fb5ba283ee1ee0)".



---

archive/issue_comments_496648.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,5 +9,8 @@\n The branch with this implementation can be found in the branch u/Vaush/weisfeiler_lehman_first_implementation, at https://git.sagemath.org/sage.git/log/?h=u/Vaush/weisfeiler_lehman_first_implementation \\\\\\\\\n Following some consulting with dimpase, a new implementation (the current one for this ticket) has been developed that distinguishes (and colors) edges of a graph G by constructing the isomorphism classes of all possible subgraphs of G that have order k+1 and whose vertex set includes the extremes of the currently considered edge, and counting how many subgraphs each edge has for any given class; the counters are then used as a fingerprint that uniquely identifies the color class an edge belongs to during a certain refinement round.\\\\\n This implementation, after some needed pruning of the search space evident from the number of commits, is now faster than the first one while consuming less memory in every case but extreme ones, and also has the advantage of producing the orbitals of G without any other post-processing.\\\\\n+NOTE: at the moment, this second implementation is not as powerful as the first one, since it fails to recognise a Cai-Furer-Immerman graph with ```k=3``` as it should, needing ```k=4```, and the same can be said for the Paley digraph with ```n=4```. Cause is currently unknown, either a bug in the implementation or the algorithm might not actually be equivalent to k-WL.\n \n Next steps in the development would be adding more test cases (or examples) and adding specialised versions of the method for k=1 and k=2, cases that have peculiar characteristics which allow a specific implementation to have a much lower running time and memory usage than the generic one.\n+\n+A third, parallelised, implementation has been developed too, and can be found at https://git.sagemath.org/sage.git/log/?h=u/Vaush/Weisfeiler_Lehman_Second_Parallel. It shares the same issue reported above with the sequential second implementation, but due to multithreading it is a lot faster on large graphs, though it consumes more memory. It is also slower on very small graphs, for small values of k, due to the synchronisation overhead.\n``````\n",
    "created_at": "2018-08-30T13:40:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25802#issuecomment-496648",
    "user": "https://trac.sagemath.org/admin/accounts/users/Vaush"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,5 +9,8 @@
 The branch with this implementation can be found in the branch u/Vaush/weisfeiler_lehman_first_implementation, at https://git.sagemath.org/sage.git/log/?h=u/Vaush/weisfeiler_lehman_first_implementation \\\\
 Following some consulting with dimpase, a new implementation (the current one for this ticket) has been developed that distinguishes (and colors) edges of a graph G by constructing the isomorphism classes of all possible subgraphs of G that have order k+1 and whose vertex set includes the extremes of the currently considered edge, and counting how many subgraphs each edge has for any given class; the counters are then used as a fingerprint that uniquely identifies the color class an edge belongs to during a certain refinement round.\\
 This implementation, after some needed pruning of the search space evident from the number of commits, is now faster than the first one while consuming less memory in every case but extreme ones, and also has the advantage of producing the orbitals of G without any other post-processing.\\
+NOTE: at the moment, this second implementation is not as powerful as the first one, since it fails to recognise a Cai-Furer-Immerman graph with ```k=3``` as it should, needing ```k=4```, and the same can be said for the Paley digraph with ```n=4```. Cause is currently unknown, either a bug in the implementation or the algorithm might not actually be equivalent to k-WL.
 
 Next steps in the development would be adding more test cases (or examples) and adding specialised versions of the method for k=1 and k=2, cases that have peculiar characteristics which allow a specific implementation to have a much lower running time and memory usage than the generic one.
+
+A third, parallelised, implementation has been developed too, and can be found at https://git.sagemath.org/sage.git/log/?h=u/Vaush/Weisfeiler_Lehman_Second_Parallel. It shares the same issue reported above with the sequential second implementation, but due to multithreading it is a lot faster on large graphs, though it consumes more memory. It is also slower on very small graphs, for small values of k, due to the synchronisation overhead.
``````

