# Issue 25349: small improvements to generic polynomials

archive/issues_025112.json:
```json
{
    "body": "\n\n**Branch/Commit:** [15c57d69c8eb5e4f48f03a76d3840ee0fa380283](https://github.com/sagemath/sagetrac-mirror/commit/15c57d69c8eb5e4f48f03a76d3840ee0fa380283)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Marc Mezzarobba\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25349\n\n",
    "closed_at": "2018-06-14T07:41:09Z",
    "created_at": "2018-05-11T19:22:53Z",
    "labels": [
        "component: basic arithmetic"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "small improvements to generic polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25349",
    "user": "https://github.com/mezzarobba"
}
```


**Branch/Commit:** [15c57d69c8eb5e4f48f03a76d3840ee0fa380283](https://github.com/sagemath/sagetrac-mirror/commit/15c57d69c8eb5e4f48f03a76d3840ee0fa380283)

**Reviewer:** Travis Scrimshaw

**Author:** Marc Mezzarobba

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/25349





---

archive/issue_comments_486074.json:
```json
{
    "body": "**Branch:** [u/mmezzarobba/gen_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/gen_poly)",
    "created_at": "2018-05-11T19:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486074",
    "user": "https://github.com/mezzarobba"
}
```

**Branch:** [u/mmezzarobba/gen_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/gen_poly)



---

archive/issue_comments_486075.json:
```json
{
    "body": "**Commit:** [910dbea1e9cc8a766c75f56c94efb9005743dae5](https://github.com/sagemath/sagetrac-mirror/commit/910dbea1e9cc8a766c75f56c94efb9005743dae5)",
    "created_at": "2018-05-11T19:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486075",
    "user": "https://github.com/mezzarobba"
}
```

**Commit:** [910dbea1e9cc8a766c75f56c94efb9005743dae5](https://github.com/sagemath/sagetrac-mirror/commit/910dbea1e9cc8a766c75f56c94efb9005743dae5)



---

archive/issue_comments_486076.json:
```json
{
    "body": "**Dependencies:** #25346",
    "created_at": "2018-05-11T19:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486076",
    "user": "https://github.com/mezzarobba"
}
```

**Dependencies:** #25346



---

archive/issue_comments_486077.json:
```json
{
    "body": "<a id='comment:3'></a>\nSee also #25350.",
    "created_at": "2018-05-11T19:30:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486077",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:3'></a>
See also #25350.



---

archive/issue_comments_486078.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-05-12T06:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486078",
    "user": "https://github.com/mezzarobba"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_486079.json:
```json
{
    "body": "**Changing commit** from \"[910dbea1e9cc8a766c75f56c94efb9005743dae5](https://github.com/sagemath/sagetrac-mirror/commit/910dbea1e9cc8a766c75f56c94efb9005743dae5)\" to \"[82f00ff209ec273b41b2c6e9cfff47fc3ddab087](https://github.com/sagemath/sagetrac-mirror/commit/82f00ff209ec273b41b2c6e9cfff47fc3ddab087)\".",
    "created_at": "2018-05-12T13:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486079",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[910dbea1e9cc8a766c75f56c94efb9005743dae5](https://github.com/sagemath/sagetrac-mirror/commit/910dbea1e9cc8a766c75f56c94efb9005743dae5)" to "[82f00ff209ec273b41b2c6e9cfff47fc3ddab087](https://github.com/sagemath/sagetrac-mirror/commit/82f00ff209ec273b41b2c6e9cfff47fc3ddab087)".



---

archive/issue_comments_486080.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82f00ff209ec273b41b2c6e9cfff47fc3ddab087\">82f00ff</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>\n",
    "created_at": "2018-05-12T13:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82f00ff209ec273b41b2c6e9cfff47fc3ddab087">82f00ff</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>




---

archive/issue_comments_486081.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0be91f92a7f755a6233caa49cb5f8e6aeb89ca7\">f0be91f</a></td><td><code>Polynomial: trivial cases of some costly generic methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/878c3914ec363e8927aec6c473b8b65904e7ca71\">878c391</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>\n",
    "created_at": "2018-05-12T15:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0be91f92a7f755a6233caa49cb5f8e6aeb89ca7">f0be91f</a></td><td><code>Polynomial: trivial cases of some costly generic methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/878c3914ec363e8927aec6c473b8b65904e7ca71">878c391</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>




---

archive/issue_comments_486082.json:
```json
{
    "body": "**Changing commit** from \"[82f00ff209ec273b41b2c6e9cfff47fc3ddab087](https://github.com/sagemath/sagetrac-mirror/commit/82f00ff209ec273b41b2c6e9cfff47fc3ddab087)\" to \"[878c3914ec363e8927aec6c473b8b65904e7ca71](https://github.com/sagemath/sagetrac-mirror/commit/878c3914ec363e8927aec6c473b8b65904e7ca71)\".",
    "created_at": "2018-05-12T15:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[82f00ff209ec273b41b2c6e9cfff47fc3ddab087](https://github.com/sagemath/sagetrac-mirror/commit/82f00ff209ec273b41b2c6e9cfff47fc3ddab087)" to "[878c3914ec363e8927aec6c473b8b65904e7ca71](https://github.com/sagemath/sagetrac-mirror/commit/878c3914ec363e8927aec6c473b8b65904e7ca71)".



---

archive/issue_comments_486083.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe dependency now has positive_review.",
    "created_at": "2018-06-01T15:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486083",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:7'></a>
The dependency now has positive_review.



---

archive/issue_events_072261.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "rename": {
        "from": "more improvements to generic polynomials",
        "to": "more small improvements to generic polynomials"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25349#event-72261"
}
```



---

archive/issue_comments_486084.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2125bc9f12745455aa6168db080d2820d67aef45\">2125bc9</a></td><td><code>Polynomial: trivial cases of some costly generic methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58bf7e2289db55f278a8111da8787aecbcfc9e4e\">58bf7e2</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>\n",
    "created_at": "2018-06-10T09:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2125bc9f12745455aa6168db080d2820d67aef45">2125bc9</a></td><td><code>Polynomial: trivial cases of some costly generic methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58bf7e2289db55f278a8111da8787aecbcfc9e4e">58bf7e2</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>




---

archive/issue_comments_486085.json:
```json
{
    "body": "**Changing commit** from \"[878c3914ec363e8927aec6c473b8b65904e7ca71](https://github.com/sagemath/sagetrac-mirror/commit/878c3914ec363e8927aec6c473b8b65904e7ca71)\" to \"[58bf7e2289db55f278a8111da8787aecbcfc9e4e](https://github.com/sagemath/sagetrac-mirror/commit/58bf7e2289db55f278a8111da8787aecbcfc9e4e)\".",
    "created_at": "2018-06-10T09:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[878c3914ec363e8927aec6c473b8b65904e7ca71](https://github.com/sagemath/sagetrac-mirror/commit/878c3914ec363e8927aec6c473b8b65904e7ca71)" to "[58bf7e2289db55f278a8111da8787aecbcfc9e4e](https://github.com/sagemath/sagetrac-mirror/commit/58bf7e2289db55f278a8111da8787aecbcfc9e4e)".



---

archive/issue_comments_486086.json:
```json
{
    "body": "**Changing dependencies** from \"#25346\" to \"\".",
    "created_at": "2018-06-10T09:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486086",
    "user": "https://github.com/mezzarobba"
}
```

**Changing dependencies** from "#25346" to "".



---

archive/issue_events_072262.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "rename": {
        "from": "more small improvements to generic polynomials",
        "to": "small improvements to generic polynomials"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25349#event-72262"
}
```



---

archive/issue_comments_486087.json:
```json
{
    "body": "<a id='comment:10'></a>\nSo the only change I am not sure about is this one:\n\n```diff\n-        zero = self._parent.base_ring().zero()\n-        l = self.list()\n-        return [i for i in range(len(l)) if l[i] != zero]\n+        return [i for i, c in enumerate(self) if c]\n```\nsince `self.list()` returns a list, which we can `cdef list l` and then `cdef int i` to get C-level list lookups instead of going through a Python iterator. Also, we can pass the `copy=False` option. I know there are polynomial implementations where calling `list` always makes a (Sage version) copy of the data. Probably the way to choose for this is look at timings and the generated C code.",
    "created_at": "2018-06-12T03:18:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486087",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
So the only change I am not sure about is this one:

```diff
-        zero = self._parent.base_ring().zero()
-        l = self.list()
-        return [i for i in range(len(l)) if l[i] != zero]
+        return [i for i, c in enumerate(self) if c]
```
since `self.list()` returns a list, which we can `cdef list l` and then `cdef int i` to get C-level list lookups instead of going through a Python iterator. Also, we can pass the `copy=False` option. I know there are polynomial implementations where calling `list` always makes a (Sage version) copy of the data. Probably the way to choose for this is look at timings and the generated C code.



---

archive/issue_comments_486088.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbdd60a6eabe06b579533af9c588312f9c2b7240\">cbdd60a</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>\n",
    "created_at": "2018-06-12T08:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbdd60a6eabe06b579533af9c588312f9c2b7240">cbdd60a</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>




---

archive/issue_comments_486089.json:
```json
{
    "body": "**Changing commit** from \"[58bf7e2289db55f278a8111da8787aecbcfc9e4e](https://github.com/sagemath/sagetrac-mirror/commit/58bf7e2289db55f278a8111da8787aecbcfc9e4e)\" to \"[cbdd60a6eabe06b579533af9c588312f9c2b7240](https://github.com/sagemath/sagetrac-mirror/commit/cbdd60a6eabe06b579533af9c588312f9c2b7240)\".",
    "created_at": "2018-06-12T08:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[58bf7e2289db55f278a8111da8787aecbcfc9e4e](https://github.com/sagemath/sagetrac-mirror/commit/58bf7e2289db55f278a8111da8787aecbcfc9e4e)" to "[cbdd60a6eabe06b579533af9c588312f9c2b7240](https://github.com/sagemath/sagetrac-mirror/commit/cbdd60a6eabe06b579533af9c588312f9c2b7240)".



---

archive/issue_comments_486090.json:
```json
{
    "body": "<a id='comment:12'></a>\nYou are right, the following variant leads to nicer C code:\n\n```\n        cdef size_t i\n        return [i for i, c in enumerate(self.list(copy=False)) if c]\n```\n\n```\n  `__pyx_t_`3 = ((struct `__pyx_vtabstruct_`4sage_5rings_10polynomial_18polynomial_element_Polynomial *)__pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_vtab)->list(__pyx_v_self, 0, &__pyx_t_4); if (unlikely(!__pyx_t_3)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)\n  `__Pyx_`GOTREF(__pyx_t_3);\n  `__pyx_t_`5 = `__pyx_t_`3; `__Pyx_`INCREF(__pyx_t_5); `__pyx_t_`6 = 0;\n  `__Pyx_`DECREF(__pyx_t_3); `__pyx_t_`3 = 0;\n  for (;;) {\n    if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_5)) break;\n    #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS\n    `__pyx_t_`3 = PyList_GET_ITEM(__pyx_t_5, `__pyx_t_`6); `__Pyx_`INCREF(__pyx_t_3); `__pyx_t_`6++; if (unlikely(0 < 0)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)\n    #else\n    `__pyx_t_`3 = PySequence_ITEM(__pyx_t_5, `__pyx_t_`6); `__pyx_t_`6++; if (unlikely(!__pyx_t_3)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)\n    `__Pyx_`GOTREF(__pyx_t_3);\n    #endif\n    `__Pyx_XDECREF_`SET(__pyx_v_c, `__pyx_t_`3);\n    `__pyx_t_`3 = 0;\n    `__pyx_v_`i = `__pyx_t_`2;\n    `__pyx_t_`2 = (__pyx_t_2 + 1);\n    `__pyx_t_`7 = `__Pyx_PyObject_`IsTrue(__pyx_v_c); if (unlikely(__pyx_t_7 < 0)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)\n    if (__pyx_t_7) {\n      `__pyx_t_`3 = `__Pyx_PyInt_FromSize_`t(__pyx_v_i); if (unlikely(!__pyx_t_3)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)\n      `__Pyx_`GOTREF(__pyx_t_3);\n      if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_3))) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)\n      `__Pyx_`DECREF(__pyx_t_3); `__pyx_t_`3 = 0;\n    }\n  }\n```",
    "created_at": "2018-06-12T08:14:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486090",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:12'></a>
You are right, the following variant leads to nicer C code:

```
        cdef size_t i
        return [i for i, c in enumerate(self.list(copy=False)) if c]
```

```
  `__pyx_t_`3 = ((struct `__pyx_vtabstruct_`4sage_5rings_10polynomial_18polynomial_element_Polynomial *)__pyx_v_self->__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_base.__pyx_vtab)->list(__pyx_v_self, 0, &__pyx_t_4); if (unlikely(!__pyx_t_3)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)
  `__Pyx_`GOTREF(__pyx_t_3);
  `__pyx_t_`5 = `__pyx_t_`3; `__Pyx_`INCREF(__pyx_t_5); `__pyx_t_`6 = 0;
  `__Pyx_`DECREF(__pyx_t_3); `__pyx_t_`3 = 0;
  for (;;) {
    if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_5)) break;
    #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
    `__pyx_t_`3 = PyList_GET_ITEM(__pyx_t_5, `__pyx_t_`6); `__Pyx_`INCREF(__pyx_t_3); `__pyx_t_`6++; if (unlikely(0 < 0)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)
    #else
    `__pyx_t_`3 = PySequence_ITEM(__pyx_t_5, `__pyx_t_`6); `__pyx_t_`6++; if (unlikely(!__pyx_t_3)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)
    `__Pyx_`GOTREF(__pyx_t_3);
    #endif
    `__Pyx_XDECREF_`SET(__pyx_v_c, `__pyx_t_`3);
    `__pyx_t_`3 = 0;
    `__pyx_v_`i = `__pyx_t_`2;
    `__pyx_t_`2 = (__pyx_t_2 + 1);
    `__pyx_t_`7 = `__Pyx_PyObject_`IsTrue(__pyx_v_c); if (unlikely(__pyx_t_7 < 0)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)
    if (__pyx_t_7) {
      `__pyx_t_`3 = `__Pyx_PyInt_FromSize_`t(__pyx_v_i); if (unlikely(!__pyx_t_3)) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)
      `__Pyx_`GOTREF(__pyx_t_3);
      if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_3))) `__PYX_`ERR(0, 5554, `__pyx_`L1_error)
      `__Pyx_`DECREF(__pyx_t_3); `__pyx_t_`3 = 0;
    }
  }
```



---

archive/issue_comments_486091.json:
```json
{
    "body": "**Changing commit** from \"[cbdd60a6eabe06b579533af9c588312f9c2b7240](https://github.com/sagemath/sagetrac-mirror/commit/cbdd60a6eabe06b579533af9c588312f9c2b7240)\" to \"[6027d3926e6b43815375d4996f62976363a0ee5c](https://github.com/sagemath/sagetrac-mirror/commit/6027d3926e6b43815375d4996f62976363a0ee5c)\".",
    "created_at": "2018-06-12T08:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cbdd60a6eabe06b579533af9c588312f9c2b7240](https://github.com/sagemath/sagetrac-mirror/commit/cbdd60a6eabe06b579533af9c588312f9c2b7240)" to "[6027d3926e6b43815375d4996f62976363a0ee5c](https://github.com/sagemath/sagetrac-mirror/commit/6027d3926e6b43815375d4996f62976363a0ee5c)".



---

archive/issue_comments_486092.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6027d3926e6b43815375d4996f62976363a0ee5c\">6027d39</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>\n",
    "created_at": "2018-06-12T08:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6027d3926e6b43815375d4996f62976363a0ee5c">6027d39</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>




---

archive/issue_comments_486093.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2018-06-12T11:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486093",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_486094.json:
```json
{
    "body": "<a id='comment:15'></a>\nI think it is better to use `Py_ssize_t` instead of `size_t` (at least, this is what is used throughout Sage's cython codebase). Once changed, you can set a positive review on my behalf.\n\nAt least before we were calling `list`, so it will be no worse than before. Plus those implementations that do return a copy even for `self.list(copy=False)` probably should have their own custom version of `exponents` anyways.",
    "created_at": "2018-06-12T11:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486094",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
I think it is better to use `Py_ssize_t` instead of `size_t` (at least, this is what is used throughout Sage's cython codebase). Once changed, you can set a positive review on my behalf.

At least before we were calling `list`, so it will be no worse than before. Plus those implementations that do return a copy even for `self.list(copy=False)` probably should have their own custom version of `exponents` anyways.



---

archive/issue_comments_486095.json:
```json
{
    "body": "<a id='comment:16'></a>\nYou are right, of course. Thanks!",
    "created_at": "2018-06-12T14:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486095",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:16'></a>
You are right, of course. Thanks!



---

archive/issue_comments_486096.json:
```json
{
    "body": "**Changing commit** from \"[6027d3926e6b43815375d4996f62976363a0ee5c](https://github.com/sagemath/sagetrac-mirror/commit/6027d3926e6b43815375d4996f62976363a0ee5c)\" to \"[15c57d69c8eb5e4f48f03a76d3840ee0fa380283](https://github.com/sagemath/sagetrac-mirror/commit/15c57d69c8eb5e4f48f03a76d3840ee0fa380283)\".",
    "created_at": "2018-06-12T14:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6027d3926e6b43815375d4996f62976363a0ee5c](https://github.com/sagemath/sagetrac-mirror/commit/6027d3926e6b43815375d4996f62976363a0ee5c)" to "[15c57d69c8eb5e4f48f03a76d3840ee0fa380283](https://github.com/sagemath/sagetrac-mirror/commit/15c57d69c8eb5e4f48f03a76d3840ee0fa380283)".



---

archive/issue_comments_486097.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15c57d69c8eb5e4f48f03a76d3840ee0fa380283\">15c57d6</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>\n",
    "created_at": "2018-06-12T14:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15c57d69c8eb5e4f48f03a76d3840ee0fa380283">15c57d6</a></td><td><code>small fix + speed improvement in generic polynomial exponents()</code></td></tr></table>




---

archive/issue_comments_486098.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-06-12T14:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486098",
    "user": "https://github.com/mezzarobba"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_072263.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-14T07:41:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25349#event-72263"
}
```



---

archive/issue_comments_486099.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2018-06-14T07:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486099",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_486100.json:
```json
{
    "body": "**Changing branch** from \"[u/mmezzarobba/gen_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/gen_poly)\" to \"[15c57d69c8eb5e4f48f03a76d3840ee0fa380283](https://github.com/sagemath/sagetrac-mirror/commit/15c57d69c8eb5e4f48f03a76d3840ee0fa380283)\".",
    "created_at": "2018-06-14T07:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25349#issuecomment-486100",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mmezzarobba/gen_poly](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/gen_poly)" to "[15c57d69c8eb5e4f48f03a76d3840ee0fa380283](https://github.com/sagemath/sagetrac-mirror/commit/15c57d69c8eb5e4f48f03a76d3840ee0fa380283)".
