# Issue 25786: Fix introspection with ? when doc source is not available

archive/issues_025549.json:
```json
{
    "body": "Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and Arch Linux (if the sagemath-doc package is not installed):\n\n```\nsage: ZZ?\n\u2026\n/usr/lib/python2.7/site-packages/sage/misc/sagedoc.pyc in process_extlinks(s, embedded)\n    497     oldpath = sys.path\n    498     sys.path = [os.path.join(SAGE_DOC_SRC, 'common')] + oldpath\n--> 499     from conf import extlinks\n    500     sys.path = oldpath\n    501     for key in extlinks:\n\nImportError: cannot import name extlinks\n```\n\nThe problem is that `src/doc/common/conf.py` is not in the place that Sage expects.\n\nI don't think that we should require the documentation configuration to be installed for Sage to work.\n\nA docker image to play with this is being built here: https://gitlab.com/sagemath/dev/sage/pipelines/25262253\n\nCC:  @antonio-rojas @jdemeyer @slel\n\nKeywords: conda, Arch Linux, introspection\n\nBranch/Commit: a401a171fcfde7ed5e5a128bb6af0967e96b11a8\n\nWork Issues: is the patchbot happy?\n\nReviewer: Julian R\u00fcth, Isuru Fernando, Fran\u00e7ois Bissey\n\nAuthor: Julian R\u00fcth, Isuru Fernando\n\nDependencies: #25843\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25786\n\n",
    "closed_at": "2019-07-23T21:03:51Z",
    "created_at": "2018-07-06T11:22:02Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Fix introspection with ? when doc source is not available",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25786",
    "user": "https://github.com/saraedum"
}
```
Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and Arch Linux (if the sagemath-doc package is not installed):

```
sage: ZZ?
…
/usr/lib/python2.7/site-packages/sage/misc/sagedoc.pyc in process_extlinks(s, embedded)
    497     oldpath = sys.path
    498     sys.path = [os.path.join(SAGE_DOC_SRC, 'common')] + oldpath
--> 499     from conf import extlinks
    500     sys.path = oldpath
    501     for key in extlinks:

ImportError: cannot import name extlinks
```

The problem is that `src/doc/common/conf.py` is not in the place that Sage expects.

I don't think that we should require the documentation configuration to be installed for Sage to work.

A docker image to play with this is being built here: https://gitlab.com/sagemath/dev/sage/pipelines/25262253

CC:  @antonio-rojas @jdemeyer @slel

Keywords: conda, Arch Linux, introspection

Branch/Commit: a401a171fcfde7ed5e5a128bb6af0967e96b11a8

Work Issues: is the patchbot happy?

Reviewer: Julian Rüth, Isuru Fernando, François Bissey

Author: Julian Rüth, Isuru Fernando

Dependencies: #25843

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25786





---

archive/issue_comments_488082.json:
```json
{
    "body": "Changing branch from \"\" to \"u/saraedum/25786\"",
    "created_at": "2018-07-06T11:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488082",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "" to "u/saraedum/25786"



---

archive/issue_comments_488083.json:
```json
{
    "body": "<a id='comment:2'></a>\nIs this needs review?\n\n---\nNew commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[13958db](https://github.com/sagemath/sagetrac-mirror/commit/13958dbee41d1b3c7d4c74e2aacc8a4bdeba0216)|`Move extlinks into the main Sage code`|",
    "created_at": "2018-07-06T11:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488083",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
Is this needs review?

---
New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[13958db](https://github.com/sagemath/sagetrac-mirror/commit/13958dbee41d1b3c7d4c74e2aacc8a4bdeba0216)|`Move extlinks into the main Sage code`|



---

archive/issue_comments_488084.json:
```json
{
    "body": "Changing commit from \"\" to \"13958dbee41d1b3c7d4c74e2aacc8a4bdeba0216\"",
    "created_at": "2018-07-06T11:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488084",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "13958dbee41d1b3c7d4c74e2aacc8a4bdeba0216"



---

archive/issue_comments_488085.json:
```json
{
    "body": "<a id='comment:3'></a>\nI had a comment in #24655 that `src/doc/en/introspect` is required as well\u2026let's see if that's still the case.",
    "created_at": "2018-07-06T11:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488085",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:3'></a>
I had a comment in #24655 that `src/doc/en/introspect` is required as well…let's see if that's still the case.



---

archive/issue_comments_488086.json:
```json
{
    "body": "<a id='comment:4'></a>\njdemeyer: No, I have not tested this yet. But feel free to give feedback if you know something about this :)",
    "created_at": "2018-07-06T11:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488086",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:4'></a>
jdemeyer: No, I have not tested this yet. But feel free to give feedback if you know something about this :)



---

archive/issue_comments_488087.json:
```json
{
    "body": "<a id='comment:5'></a>\nSee #25787 for a followup regarding the docker images.",
    "created_at": "2018-07-06T11:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488087",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:5'></a>
See #25787 for a followup regarding the docker images.



---

archive/issue_comments_488088.json:
```json
{
    "body": "<a id='comment:6'></a>\nIn any case, I agree with the idea behind the patch.",
    "created_at": "2018-07-06T11:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488088",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
In any case, I agree with the idea behind the patch.



---

archive/issue_comments_488089.json:
```json
{
    "body": "Changing author from \"\" to \"Julian R\u00fcth\"",
    "created_at": "2018-07-06T11:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488089",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "" to "Julian Rüth"



---

archive/issue_comments_488090.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2018-07-06T11:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488090",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_488091.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-06T11:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488091",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_488092.json:
```json
{
    "body": "Changing work_issues from \"\" to \"is the patchbot happy?\"",
    "created_at": "2018-07-06T11:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488092",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "" to "is the patchbot happy?"



---

archive/issue_comments_488093.json:
```json
{
    "body": "<a id='comment:9'></a>\nSo, if the patchbot and my tests are Ok, then this is a positive review?",
    "created_at": "2018-07-06T11:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488093",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>
So, if the patchbot and my tests are Ok, then this is a positive review?



---

archive/issue_comments_488094.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,3 +16,5 @@\n The problem is that `src/doc/common/conf.py` is not in the place that Sage expects.\n \n I don't think that we should require the documentation configuration to be installed for Sage to work.\n+\n+A docker image to play with this is being built here: https://gitlab.com/sagemath/dev/sage/pipelines/25262253\n``````\n",
    "created_at": "2018-07-06T11:35:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488094",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,3 +16,5 @@
 The problem is that `src/doc/common/conf.py` is not in the place that Sage expects.
 
 I don't think that we should require the documentation configuration to be installed for Sage to work.
+
+A docker image to play with this is being built here: https://gitlab.com/sagemath/dev/sage/pipelines/25262253
``````




---

archive/issue_comments_488095.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [saraedum](#comment%3A9):\n> So, if the patchbot and my tests are Ok, then this is a positive review?\n\n\nYes",
    "created_at": "2018-07-06T11:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488095",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Replying to [saraedum](#comment%3A9):
> So, if the patchbot and my tests are Ok, then this is a positive review?


Yes



---

archive/issue_comments_488096.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Currently, introspection does not work in conda and ArchLinux:\n+Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and ArchLinux:\n \n ```\n sage: ZZ?\n``````\n",
    "created_at": "2018-07-06T11:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488096",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Currently, introspection does not work in conda and ArchLinux:
+Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and ArchLinux:
 
 ```
 sage: ZZ?
``````




---

archive/issue_comments_488097.json:
```json
{
    "body": "<a id='comment:13'></a>\nThis still doesn't allow introspection on Arch without having the doc sources installed, due to \n\n```\n    # Sphinx constructor: Sphinx(srcdir, confdir, outdir, doctreedir,\n    # buildername, confoverrides, status, warning, freshenv).\n    confdir = os.path.join(SAGE_DOC_SRC, 'en', 'introspect')\n\n    open(os.path.join(srcdir, 'docutils.conf'), 'w').write(r\"\"\"\n[parsers]\nsmart_quotes = no\n\"\"\")\n    doctreedir = os.path.join(srcdir, 'doctrees')\n    confoverrides = {'html_context': {}, 'master_doc': 'docstring'}\n\n    import sys\n    old_sys_path = list(sys.path)  # Sphinx modifies sys.path\n    sphinx_app = Sphinx(srcdir, confdir, srcdir, doctreedir, format,\n                        confoverrides, None, None, True)\n    sphinx_app.build(None, [rst_name])\n    sys.path = old_sys_path\n```\nin misc/sphinxify.py",
    "created_at": "2018-07-06T12:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488097",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:13'></a>
This still doesn't allow introspection on Arch without having the doc sources installed, due to 

```
    # Sphinx constructor: Sphinx(srcdir, confdir, outdir, doctreedir,
    # buildername, confoverrides, status, warning, freshenv).
    confdir = os.path.join(SAGE_DOC_SRC, 'en', 'introspect')

    open(os.path.join(srcdir, 'docutils.conf'), 'w').write(r"""
[parsers]
smart_quotes = no
""")
    doctreedir = os.path.join(srcdir, 'doctrees')
    confoverrides = {'html_context': {}, 'master_doc': 'docstring'}

    import sys
    old_sys_path = list(sys.path)  # Sphinx modifies sys.path
    sphinx_app = Sphinx(srcdir, confdir, srcdir, doctreedir, format,
                        confoverrides, None, None, True)
    sphinx_app.build(None, [rst_name])
    sys.path = old_sys_path
```
in misc/sphinxify.py



---

archive/issue_comments_488098.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[0e5b29a](https://github.com/sagemath/sagetrac-mirror/commit/0e5b29a86c5d37f87a6ae9bf0b37c5bd3dd639a6)|`Fix sphinxify for introspection`|",
    "created_at": "2018-07-07T22:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[0e5b29a](https://github.com/sagemath/sagetrac-mirror/commit/0e5b29a86c5d37f87a6ae9bf0b37c5bd3dd639a6)|`Fix sphinxify for introspection`|



---

archive/issue_comments_488099.json:
```json
{
    "body": "Changing commit from \"13958dbee41d1b3c7d4c74e2aacc8a4bdeba0216\" to \"0e5b29a86c5d37f87a6ae9bf0b37c5bd3dd639a6\"",
    "created_at": "2018-07-07T22:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "13958dbee41d1b3c7d4c74e2aacc8a4bdeba0216" to "0e5b29a86c5d37f87a6ae9bf0b37c5bd3dd639a6"



---

archive/issue_comments_488100.json:
```json
{
    "body": "<a id='comment:15'></a>\narojas: Right, now it works for me. But probably the `from common.conf import *` is there for a reason and I should not simply delete it.",
    "created_at": "2018-07-07T23:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488100",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:15'></a>
arojas: Right, now it works for me. But probably the `from common.conf import *` is there for a reason and I should not simply delete it.



---

archive/issue_comments_488101.json:
```json
{
    "body": "<a id='comment:16'></a>\nI really prefer one ticket, one issue.",
    "created_at": "2018-07-08T06:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488101",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
I really prefer one ticket, one issue.



---

archive/issue_comments_488102.json:
```json
{
    "body": "Changing work_issues from \"is the patchbot happy?\" to \"split ticket\"",
    "created_at": "2018-07-08T06:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488102",
    "user": "https://github.com/jdemeyer"
}
```

Changing work_issues from "is the patchbot happy?" to "split ticket"



---

archive/issue_comments_488103.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-08T06:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488103",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_488104.json:
```json
{
    "body": "Changing work_issues from \"split ticket\" to \"is the patchbot happy?\"",
    "created_at": "2018-07-09T16:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488104",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "split ticket" to "is the patchbot happy?"



---

archive/issue_comments_488105.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [jdemeyer](#comment%3A16):\n> I really prefer one ticket, one issue.\n\n\nI believe that this is one issue: \"Fix introspection with ? in conda and ArchLinux\". And even the solution can be seen as one thing: \"Make Sage runtime not depend on documentation configuration.\"",
    "created_at": "2018-07-09T16:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488105",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:18'></a>
Replying to [jdemeyer](#comment%3A16):
> I really prefer one ticket, one issue.


I believe that this is one issue: "Fix introspection with ? in conda and ArchLinux". And even the solution can be seen as one thing: "Make Sage runtime not depend on documentation configuration."



---

archive/issue_comments_488106.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-09T16:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488106",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_488107.json:
```json
{
    "body": "<a id='comment:19'></a>\nThe patchbots report weird errors that seem unrelated to the changes here\u2026let me try this out locally.",
    "created_at": "2018-07-09T16:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488107",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:19'></a>
The patchbots report weird errors that seem unrelated to the changes here…let me try this out locally.



---

archive/issue_comments_488108.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#25843\"",
    "created_at": "2018-07-12T10:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488108",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#25843"



---

archive/issue_comments_488109.json:
```json
{
    "body": "Changing reviewer from \"Jeroen Demeyer\" to \"\"",
    "created_at": "2018-07-12T10:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488109",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "Jeroen Demeyer" to ""



---

archive/issue_comments_488110.json:
```json
{
    "body": "<a id='comment:20'></a>\nI moved the first part to #25843 and gave positive review to that.",
    "created_at": "2018-07-12T10:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488110",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
I moved the first part to #25843 and gave positive review to that.



---

archive/issue_comments_488111.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and ArchLinux:\n+Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and Arch Linux:\n \n ```\n sage: ZZ?\n``````\n",
    "created_at": "2018-08-25T17:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488111",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and ArchLinux:
+Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and Arch Linux:
 
 ```
 sage: ZZ?
``````




---

archive/issue_events_081132.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "rename": {
        "from": "Fix introspection with ? in conda and  ArchLinux",
        "to": "Fix introspection with ? in conda and  Arch Linux"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25786#event-81132"
}
```



---

archive/issue_comments_488112.json:
```json
{
    "body": "Changing keywords from \"\" to \"conda, Arch Linux, introspection\".",
    "created_at": "2018-08-25T17:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488112",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "conda, Arch Linux, introspection".



---

archive/issue_events_081133.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "rename": {
        "from": "Fix introspection with ? in conda and  Arch Linux",
        "to": "Fix introspection with ? when doc source is not available"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25786#event-81133"
}
```



---

archive/issue_comments_488113.json:
```json
{
    "body": "<a id='comment:22'></a>\nUpdating slightly misleading description - introspection works fine in Arch if the sagemath-doc package is installed.",
    "created_at": "2018-08-26T07:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488113",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:22'></a>
Updating slightly misleading description - introspection works fine in Arch if the sagemath-doc package is installed.



---

archive/issue_comments_488114.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and Arch Linux:\n+Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and Arch Linux (if the sagemath-doc package is not installed):\n \n ```\n sage: ZZ?\n``````\n",
    "created_at": "2018-08-26T07:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488114",
    "user": "https://github.com/antonio-rojas"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and Arch Linux:
+Currently, introspection does not work in [conda](https://github.com/conda-forge/sagelib-feedstock/issues/39) and Arch Linux (if the sagemath-doc package is not installed):
 
 ```
 sage: ZZ?
``````




---

archive/issue_comments_488115.json:
```json
{
    "body": "<a id='comment:23'></a>\nOne thing I don't like is the style of the long `\"\"\"`-quoted strings in between code. This could be made more readable by moving the strings outside of the function. Something like\n\n```\n# At module level\nlayout_html = r\"\"\"\n<div class=\"docstring\">\n    {% block body %} {% endblock %}\n</div>\"\"\"\n```\n\n```\n# Inside the function\n    with open(os.path.join(templatesdir, 'layout.html'), 'w') as filed:\n        filed.write(layout_html)\n```",
    "created_at": "2018-09-04T20:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488115",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
One thing I don't like is the style of the long `"""`-quoted strings in between code. This could be made more readable by moving the strings outside of the function. Something like

```
# At module level
layout_html = r"""
<div class="docstring">
    {% block body %} {% endblock %}
</div>"""
```

```
# Inside the function
    with open(os.path.join(templatesdir, 'layout.html'), 'w') as filed:
        filed.write(layout_html)
```



---

archive/issue_comments_488116.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[cb997d3](https://github.com/sagemath/sagetrac-mirror/commit/cb997d377324a3f25d61a109d6c07493e8dd903c)|`Merge branch '25786' into HEAD`|",
    "created_at": "2018-10-03T12:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488116",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[cb997d3](https://github.com/sagemath/sagetrac-mirror/commit/cb997d377324a3f25d61a109d6c07493e8dd903c)|`Merge branch '25786' into HEAD`|



---

archive/issue_comments_488117.json:
```json
{
    "body": "Changing commit from \"0e5b29a86c5d37f87a6ae9bf0b37c5bd3dd639a6\" to \"cb997d377324a3f25d61a109d6c07493e8dd903c\"",
    "created_at": "2018-10-03T12:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488117",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0e5b29a86c5d37f87a6ae9bf0b37c5bd3dd639a6" to "cb997d377324a3f25d61a109d6c07493e8dd903c"



---

archive/issue_comments_488118.json:
```json
{
    "body": "Changing commit from \"cb997d377324a3f25d61a109d6c07493e8dd903c\" to \"8b519f5f344cc2256f0e94f5ad1092e49380964e\"",
    "created_at": "2018-10-08T11:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488118",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cb997d377324a3f25d61a109d6c07493e8dd903c" to "8b519f5f344cc2256f0e94f5ad1092e49380964e"



---

archive/issue_comments_488119.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[5a249cc](https://github.com/sagemath/sagetrac-mirror/commit/5a249cc58c435292673d59d4d4e9314e6ff06a67)|`Merge remote-tracking branch 'origin/develop' into 25786`|\n|[8b519f5](https://github.com/sagemath/sagetrac-mirror/commit/8b519f5f344cc2256f0e94f5ad1092e49380964e)|`fix pyflakes error`|",
    "created_at": "2018-10-08T11:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488119",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[5a249cc](https://github.com/sagemath/sagetrac-mirror/commit/5a249cc58c435292673d59d4d4e9314e6ff06a67)|`Merge remote-tracking branch 'origin/develop' into 25786`|
|[8b519f5](https://github.com/sagemath/sagetrac-mirror/commit/8b519f5f344cc2256f0e94f5ad1092e49380964e)|`fix pyflakes error`|



---

archive/issue_comments_488120.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-10-15T06:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488120",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_488121.json:
```json
{
    "body": "<a id='comment:26'></a>\n`OMIT` is removed from `src/sage_setup/docbuild/build_options.py`, but it is needed in `src/sage_setup/docbuild/__init__.py`",
    "created_at": "2018-10-15T06:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488121",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:26'></a>
`OMIT` is removed from `src/sage_setup/docbuild/build_options.py`, but it is needed in `src/sage_setup/docbuild/__init__.py`



---

archive/issue_comments_488122.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[edc96e3](https://github.com/sagemath/sagetrac-mirror/commit/edc96e3b517d617b6068af7df932aba8e92cf2e0)|`Merge remote-tracking branch 'trac/develop' into u/saraedum/25786`|",
    "created_at": "2019-06-18T21:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488122",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[edc96e3](https://github.com/sagemath/sagetrac-mirror/commit/edc96e3b517d617b6068af7df932aba8e92cf2e0)|`Merge remote-tracking branch 'trac/develop' into u/saraedum/25786`|



---

archive/issue_comments_488123.json:
```json
{
    "body": "Changing commit from \"8b519f5f344cc2256f0e94f5ad1092e49380964e\" to \"edc96e3b517d617b6068af7df932aba8e92cf2e0\"",
    "created_at": "2019-06-18T21:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488123",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8b519f5f344cc2256f0e94f5ad1092e49380964e" to "edc96e3b517d617b6068af7df932aba8e92cf2e0"



---

archive/issue_comments_488124.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[8c770a7](https://github.com/sagemath/sagetrac-mirror/commit/8c770a707bc9b3e050a9868dccc559948cb86339)|`Restore OMIT that is needed by the build`|",
    "created_at": "2019-06-18T21:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488124",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[8c770a7](https://github.com/sagemath/sagetrac-mirror/commit/8c770a707bc9b3e050a9868dccc559948cb86339)|`Restore OMIT that is needed by the build`|



---

archive/issue_comments_488125.json:
```json
{
    "body": "Changing commit from \"edc96e3b517d617b6068af7df932aba8e92cf2e0\" to \"8c770a707bc9b3e050a9868dccc559948cb86339\"",
    "created_at": "2019-06-18T21:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488125",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "edc96e3b517d617b6068af7df932aba8e92cf2e0" to "8c770a707bc9b3e050a9868dccc559948cb86339"



---

archive/issue_comments_488126.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-06-18T21:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488126",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_488127.json:
```json
{
    "body": "<a id='comment:30'></a>\nI like it. It helps me remove some manual installs in sage-on-gentoo. In fact I may not have to install the `common` folder and all the stuff I put in it anymore. This may be a bigger win than it looks like.",
    "created_at": "2019-06-19T00:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488127",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:30'></a>
I like it. It helps me remove some manual installs in sage-on-gentoo. In fact I may not have to install the `common` folder and all the stuff I put in it anymore. This may be a bigger win than it looks like.



---

archive/issue_comments_488128.json:
```json
{
    "body": "<a id='comment:31'></a>\nThe patchbot reports a few broken doctests over formatting.\n\n```\nFile \"src/sage/misc/sagedoc.py\", line 196, in sage.misc.sagedoc.detex\nFailed example:\n    detex(r'Some math: `n \\geq k`.  A website: \\url{sagemath.org}.')\nExpected:\n    'Some math: n >= k.  A website: sagemath.org.\\n'\nGot:\n    'Some math: *n geq k*.  A website: sagemath.org.\\n'\n```\nas an example.",
    "created_at": "2019-06-19T00:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488128",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:31'></a>
The patchbot reports a few broken doctests over formatting.

```
File "src/sage/misc/sagedoc.py", line 196, in sage.misc.sagedoc.detex
Failed example:
    detex(r'Some math: `n \geq k`.  A website: \url{sagemath.org}.')
Expected:
    'Some math: n >= k.  A website: sagemath.org.\n'
Got:
    'Some math: *n geq k*.  A website: sagemath.org.\n'
```
as an example.



---

archive/issue_events_081134.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-06-25T06:55:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25786#event-81134"
}
```



---

archive/issue_comments_488129.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-06-28T11:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488129",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_488130.json:
```json
{
    "body": "Changing work_issues from \"is the patchbot happy?\" to \"failing doctests\"",
    "created_at": "2019-06-28T11:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488130",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "is the patchbot happy?" to "failing doctests"



---

archive/issue_comments_488131.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[118b964](https://github.com/sagemath/sagetrac-mirror/commit/118b96416fcd593a24650237808fcd558324605f)|`Attempt to fix failing doctests`|",
    "created_at": "2019-06-28T12:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488131",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[118b964](https://github.com/sagemath/sagetrac-mirror/commit/118b96416fcd593a24650237808fcd558324605f)|`Attempt to fix failing doctests`|



---

archive/issue_comments_488132.json:
```json
{
    "body": "Changing commit from \"8c770a707bc9b3e050a9868dccc559948cb86339\" to \"118b96416fcd593a24650237808fcd558324605f\"",
    "created_at": "2019-06-28T12:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8c770a707bc9b3e050a9868dccc559948cb86339" to "118b96416fcd593a24650237808fcd558324605f"



---

archive/issue_comments_488133.json:
```json
{
    "body": "<a id='comment:36'></a>\nisuruf commented that following seems to be missing.\n\n```\nfrom sage.env import SAGE_DOC_SRC\nsys.path.append(SAGE_DOC_SRC)\nfrom common.conf import *\n```",
    "created_at": "2019-07-01T13:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488133",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:36'></a>
isuruf commented that following seems to be missing.

```
from sage.env import SAGE_DOC_SRC
sys.path.append(SAGE_DOC_SRC)
from common.conf import *
```



---

archive/issue_comments_488134.json:
```json
{
    "body": "<a id='comment:37'></a>\nMaybe move `src/doc/common/conf.py` to `src/sage/docs/conf.py` and update the imports?",
    "created_at": "2019-07-02T17:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488134",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:37'></a>
Maybe move `src/doc/common/conf.py` to `src/sage/docs/conf.py` and update the imports?



---

archive/issue_comments_488135.json:
```json
{
    "body": "<a id='comment:38'></a>\nWhat do you think about the above suggestion? I can update this branch if you agree",
    "created_at": "2019-07-10T14:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488135",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:38'></a>
What do you think about the above suggestion? I can update this branch if you agree



---

archive/issue_comments_488136.json:
```json
{
    "body": "<a id='comment:39'></a>\nSorry, yes please go ahead :)",
    "created_at": "2019-07-10T14:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488136",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:39'></a>
Sorry, yes please go ahead :)



---

archive/issue_comments_488137.json:
```json
{
    "body": "<a id='comment:40'></a>\nIt would be nice to finish this. I would add that the clean up should probably also include this line https://github.com/sagemath/sage/blob/master/src/sage_setup/docbuild/build_options.py#L12\n\n```\nOMIT = [\"introspect\"]  # docs/dirs to omit when listing and building 'all'\n```\nThis ticket is removing that folder altogether. Do we even need `OMIT`?  If we don't, I think we could remove that logic in a follow up ticket.",
    "created_at": "2019-07-16T03:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488137",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'></a>
It would be nice to finish this. I would add that the clean up should probably also include this line https://github.com/sagemath/sage/blob/master/src/sage_setup/docbuild/build_options.py#L12

```
OMIT = ["introspect"]  # docs/dirs to omit when listing and building 'all'
```
This ticket is removing that folder altogether. Do we even need `OMIT`?  If we don't, I think we could remove that logic in a follow up ticket.



---

archive/issue_comments_488138.json:
```json
{
    "body": "<a id='comment:41'></a>\n`@`saraedum can you pull https://github.com/isuruf/sage/commit/863d433d402c9257768929f7d62c4bd478eabbc8",
    "created_at": "2019-07-16T06:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488138",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:41'></a>
`@`saraedum can you pull https://github.com/isuruf/sage/commit/863d433d402c9257768929f7d62c4bd478eabbc8



---

archive/issue_comments_488139.json:
```json
{
    "body": "<a id='comment:42'></a>\nSure. You can also just push to this ticket, there is no ownership as with [GitHub](GitHub) PRs here.",
    "created_at": "2019-07-16T06:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488139",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:42'></a>
Sure. You can also just push to this ticket, there is no ownership as with [GitHub](GitHub) PRs here.



---

archive/issue_comments_488140.json:
```json
{
    "body": "<a id='comment:43'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[f2f53b0](https://github.com/sagemath/sagetrac-mirror/commit/f2f53b00a85bc27642d9cfc4121a36d087e2fc1f)|`Merge branch 'u/saraedum/25786' of git://trac.sagemath.org/sage into develop`|\n|[863d433](https://github.com/sagemath/sagetrac-mirror/commit/863d433d402c9257768929f7d62c4bd478eabbc8)|`mv src/doc/common/*.py to src/sage/docs/conf`|",
    "created_at": "2019-07-16T06:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[f2f53b0](https://github.com/sagemath/sagetrac-mirror/commit/f2f53b00a85bc27642d9cfc4121a36d087e2fc1f)|`Merge branch 'u/saraedum/25786' of git://trac.sagemath.org/sage into develop`|
|[863d433](https://github.com/sagemath/sagetrac-mirror/commit/863d433d402c9257768929f7d62c4bd478eabbc8)|`mv src/doc/common/*.py to src/sage/docs/conf`|



---

archive/issue_comments_488141.json:
```json
{
    "body": "Changing commit from \"118b96416fcd593a24650237808fcd558324605f\" to \"863d433d402c9257768929f7d62c4bd478eabbc8\"",
    "created_at": "2019-07-16T06:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488141",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "118b96416fcd593a24650237808fcd558324605f" to "863d433d402c9257768929f7d62c4bd478eabbc8"



---

archive/issue_comments_488142.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-16T06:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488142",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_488143.json:
```json
{
    "body": "<a id='comment:45'></a>\nIs there a reason why we should not squash one layer here, i.e., move `conf.py` one level up so that we can write `from sage.docs.conf import *`?",
    "created_at": "2019-07-16T06:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488143",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:45'></a>
Is there a reason why we should not squash one layer here, i.e., move `conf.py` one level up so that we can write `from sage.docs.conf import *`?



---

archive/issue_comments_488144.json:
```json
{
    "body": "<a id='comment:46'></a>\nNo reason. I previously had some other files in `sage/docs/conf` and were removed later.",
    "created_at": "2019-07-16T06:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488144",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:46'></a>
No reason. I previously had some other files in `sage/docs/conf` and were removed later.



---

archive/issue_comments_488145.json:
```json
{
    "body": "<a id='comment:47'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[5c63a80](https://github.com/sagemath/sagetrac-mirror/commit/5c63a8079c96a2ca87d8cea1cace10c7e364e831)|`Fix mention of common/conf.py`|",
    "created_at": "2019-07-16T06:39:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[5c63a80](https://github.com/sagemath/sagetrac-mirror/commit/5c63a8079c96a2ca87d8cea1cace10c7e364e831)|`Fix mention of common/conf.py`|



---

archive/issue_comments_488146.json:
```json
{
    "body": "Changing commit from \"863d433d402c9257768929f7d62c4bd478eabbc8\" to \"5c63a8079c96a2ca87d8cea1cace10c7e364e831\"",
    "created_at": "2019-07-16T06:39:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "863d433d402c9257768929f7d62c4bd478eabbc8" to "5c63a8079c96a2ca87d8cea1cace10c7e364e831"



---

archive/issue_comments_488147.json:
```json
{
    "body": "<a id='comment:48'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[edd3ab4](https://github.com/sagemath/sagetrac-mirror/commit/edd3ab4efc393d639bb83fe6bd176557c8386fef)|`Replace conf.conf with conf`|",
    "created_at": "2019-07-16T06:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488147",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[edd3ab4](https://github.com/sagemath/sagetrac-mirror/commit/edd3ab4efc393d639bb83fe6bd176557c8386fef)|`Replace conf.conf with conf`|



---

archive/issue_comments_488148.json:
```json
{
    "body": "Changing commit from \"5c63a8079c96a2ca87d8cea1cace10c7e364e831\" to \"edd3ab4efc393d639bb83fe6bd176557c8386fef\"",
    "created_at": "2019-07-16T06:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488148",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5c63a8079c96a2ca87d8cea1cace10c7e364e831" to "edd3ab4efc393d639bb83fe6bd176557c8386fef"



---

archive/issue_comments_488149.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Julian R\u00fcth, Isuru Fernando\"",
    "created_at": "2019-07-16T06:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488149",
    "user": "https://github.com/saraedum"
}
```

Changing reviewer from "" to "Julian Rüth, Isuru Fernando"



---

archive/issue_comments_488150.json:
```json
{
    "body": "<a id='comment:49'></a>\n`@`isuruf: Could  you have a look at my latest changes? (That I did not test yet, because I have not built recent Sage\u2026)",
    "created_at": "2019-07-16T06:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488150",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:49'></a>
`@`isuruf: Could  you have a look at my latest changes? (That I did not test yet, because I have not built recent Sage…)



---

archive/issue_comments_488151.json:
```json
{
    "body": "Changing author from \"Julian R\u00fcth\" to \"Julian R\u00fcth, Isuru Fernando\"",
    "created_at": "2019-07-16T06:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488151",
    "user": "https://github.com/saraedum"
}
```

Changing author from "Julian Rüth" to "Julian Rüth, Isuru Fernando"



---

archive/issue_comments_488152.json:
```json
{
    "body": "Changing work_issues from \"failing doctests\" to \"is the patchbot happy?\"",
    "created_at": "2019-07-16T06:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488152",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "failing doctests" to "is the patchbot happy?"



---

archive/issue_comments_488153.json:
```json
{
    "body": "<a id='comment:50'></a>\nLooks good to me. Thanks",
    "created_at": "2019-07-16T07:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488153",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:50'></a>
Looks good to me. Thanks



---

archive/issue_comments_488154.json:
```json
{
    "body": "<a id='comment:51'></a>\nThere is strange stuff about `lcalc` in the branch. May be some rebasing is needed?",
    "created_at": "2019-07-16T07:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488154",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:51'></a>
There is strange stuff about `lcalc` in the branch. May be some rebasing is needed?



---

archive/issue_comments_488155.json:
```json
{
    "body": "Changing commit from \"edd3ab4efc393d639bb83fe6bd176557c8386fef\" to \"2f528be198c8362e06a0f9b7cf547913ceb860c2\"",
    "created_at": "2019-07-16T07:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488155",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "edd3ab4efc393d639bb83fe6bd176557c8386fef" to "2f528be198c8362e06a0f9b7cf547913ceb860c2"



---

archive/issue_comments_488156.json:
```json
{
    "body": "<a id='comment:52'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[2f528be](https://github.com/sagemath/sagetrac-mirror/commit/2f528be198c8362e06a0f9b7cf547913ceb860c2)|`Revert lcalc changes`|",
    "created_at": "2019-07-16T07:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488156",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[2f528be](https://github.com/sagemath/sagetrac-mirror/commit/2f528be198c8362e06a0f9b7cf547913ceb860c2)|`Revert lcalc changes`|



---

archive/issue_comments_488157.json:
```json
{
    "body": "<a id='comment:53'></a>\nThanks fbissey. That should not have been here.",
    "created_at": "2019-07-16T07:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488157",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:53'></a>
Thanks fbissey. That should not have been here.



---

archive/issue_comments_488158.json:
```json
{
    "body": "<a id='comment:54'></a>\nNew commits:\n|                                                                                                                                          |                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[5eec95a](https://github.com/sagemath/sagetrac-mirror/commit/5eec95a03774ea9f2b8e5f4075554f9a3e1a0a05)|`Fix some pyflakes issues`|",
    "created_at": "2019-07-16T14:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488158",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:54'></a>
New commits:
|                                                                                                                                          |                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[5eec95a](https://github.com/sagemath/sagetrac-mirror/commit/5eec95a03774ea9f2b8e5f4075554f9a3e1a0a05)|`Fix some pyflakes issues`|



---

archive/issue_comments_488159.json:
```json
{
    "body": "Changing branch from \"u/saraedum/25786\" to \"u/isuruf/25786\"",
    "created_at": "2019-07-16T14:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488159",
    "user": "https://github.com/isuruf"
}
```

Changing branch from "u/saraedum/25786" to "u/isuruf/25786"



---

archive/issue_comments_488160.json:
```json
{
    "body": "Changing commit from \"2f528be198c8362e06a0f9b7cf547913ceb860c2\" to \"5eec95a03774ea9f2b8e5f4075554f9a3e1a0a05\"",
    "created_at": "2019-07-16T14:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488160",
    "user": "https://github.com/isuruf"
}
```

Changing commit from "2f528be198c8362e06a0f9b7cf547913ceb860c2" to "5eec95a03774ea9f2b8e5f4075554f9a3e1a0a05"



---

archive/issue_comments_488161.json:
```json
{
    "body": "<a id='comment:55'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[a401a17](https://github.com/sagemath/sagetrac-mirror/commit/a401a171fcfde7ed5e5a128bb6af0967e96b11a8)|`More pyflakes fixes`|",
    "created_at": "2019-07-16T16:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488161",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[a401a17](https://github.com/sagemath/sagetrac-mirror/commit/a401a171fcfde7ed5e5a128bb6af0967e96b11a8)|`More pyflakes fixes`|



---

archive/issue_comments_488162.json:
```json
{
    "body": "Changing commit from \"5eec95a03774ea9f2b8e5f4075554f9a3e1a0a05\" to \"a401a171fcfde7ed5e5a128bb6af0967e96b11a8\"",
    "created_at": "2019-07-16T16:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488162",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5eec95a03774ea9f2b8e5f4075554f9a3e1a0a05" to "a401a171fcfde7ed5e5a128bb6af0967e96b11a8"



---

archive/issue_comments_488163.json:
```json
{
    "body": "<a id='comment:56'></a>\nI think the patchbot is happy with it (the last run had a failure that should be unrelated). Anything to add or is it completely ready for review?",
    "created_at": "2019-07-16T21:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488163",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:56'></a>
I think the patchbot is happy with it (the last run had a failure that should be unrelated). Anything to add or is it completely ready for review?



---

archive/issue_comments_488164.json:
```json
{
    "body": "<a id='comment:57'></a>\n> Anything to add or is it completely ready for review? \n\n\nNothing to add. Ready for review",
    "created_at": "2019-07-16T21:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488164",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:57'></a>
> Anything to add or is it completely ready for review? 


Nothing to add. Ready for review



---

archive/issue_comments_488165.json:
```json
{
    "body": "Changing reviewer from \"Julian R\u00fcth, Isuru Fernando\" to \"Julian R\u00fcth, Isuru Fernando, Fran\u00e7ois Bissey\"",
    "created_at": "2019-07-16T22:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488165",
    "user": "https://github.com/kiwifb"
}
```

Changing reviewer from "Julian Rüth, Isuru Fernando" to "Julian Rüth, Isuru Fernando, François Bissey"



---

archive/issue_comments_488166.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-16T22:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488166",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_488167.json:
```json
{
    "body": "<a id='comment:58'></a>\nLooks good to me :)",
    "created_at": "2019-07-16T22:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488167",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:58'></a>
Looks good to me :)



---

archive/issue_comments_488168.json:
```json
{
    "body": "Changing branch from \"u/isuruf/25786\" to \"a401a171fcfde7ed5e5a128bb6af0967e96b11a8\"",
    "created_at": "2019-07-23T21:03:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488168",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/isuruf/25786" to "a401a171fcfde7ed5e5a128bb6af0967e96b11a8"



---

archive/issue_comments_488169.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-23T21:03:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25786#issuecomment-488169",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_081135.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-23T21:03:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25786",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25786#event-81135"
}
```
