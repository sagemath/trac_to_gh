# Issue 25799: Remove hardcoded default matplotlib stylesheet

archive/issues_025562.json:
```json
{
    "assignees": [],
    "body": "This does not work:\n\n```\nimport matplotlib as mpl \nmpl.rcParams['font.family'] = 'Impact'\ntext(\"A text here\", (1,1))\n```\nbecause of hardcoded matplotlib stylesheet (`classic`), which silently overwrites the rc parameters. Putting configurations in the file `matplotlibrc` also does not work because of the same reason.\n\nThe patch removes the hardcoded default matplotlib stylesheet that silently applies to all graphics.  With this patch, the usual method to apply a style to graphics works, like\n\n```\nimport matplotlib.pyplot as plt\nplt.style.use('seaborn')\ntext(\"A text here\", (1,1))\n```\n\nThere was more discussion on this matter before at [#23696 comment:111](https://github.com/sagemath/sage/issues/23696#comment:111).\n\n\nCC:  @kiwifb @strogdon\n\nBranch/Commit: **[`42bda6f`](https://github.com/sagemath/sagetrac-mirror/commit/42bda6f486e45c89daf5229ce89034dd5f0da0fb)**\n\nReviewer: **Eric Gourgoulhon, Fran\u00e7ois Bissey**\n\nAuthor: **Kwankyu Lee**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25799_\n\n",
    "closed_at": "2018-08-05T08:16:40Z",
    "created_at": "2018-07-08T08:24:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Remove hardcoded default matplotlib stylesheet",
    "type": "issue",
    "updated_at": "2018-08-05T08:16:40Z",
    "url": "https://github.com/sagemath/sage/issues/25799",
    "user": "https://github.com/kwankyu"
}
```
This does not work:

```
import matplotlib as mpl 
mpl.rcParams['font.family'] = 'Impact'
text("A text here", (1,1))
```
because of hardcoded matplotlib stylesheet (`classic`), which silently overwrites the rc parameters. Putting configurations in the file `matplotlibrc` also does not work because of the same reason.

The patch removes the hardcoded default matplotlib stylesheet that silently applies to all graphics.  With this patch, the usual method to apply a style to graphics works, like

```
import matplotlib.pyplot as plt
plt.style.use('seaborn')
text("A text here", (1,1))
```

There was more discussion on this matter before at [#23696 comment:111](https://github.com/sagemath/sage/issues/23696#comment:111).


CC:  @kiwifb @strogdon

Branch/Commit: **[`42bda6f`](https://github.com/sagemath/sagetrac-mirror/commit/42bda6f486e45c89daf5229ce89034dd5f0da0fb)**

Reviewer: **Eric Gourgoulhon, Fran√ßois Bissey**

Author: **Kwankyu Lee**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/25799_





---

archive/issue_events_358255.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-07-08T08:24:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358255"
}
```



---

archive/issue_events_358256.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-07-08T08:24:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358256"
}
```



---

archive/issue_events_358257.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-07-08T08:24:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358257"
}
```



---

archive/issue_events_358258.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-07-08T08:24:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358258"
}
```



---

archive/issue_comments_396274.json:
```json
{
    "body": "Branch: **[u/klee/25799](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/25799)**",
    "created_at": "2018-07-08T08:25:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396274",
    "user": "https://github.com/kwankyu"
}
```

Branch: **[u/klee/25799](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/25799)**



---

archive/issue_comments_396275.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n ```\n import matplotlib as mpl \n mpl.rcParams['font.family'] = 'Impact'\n-text(u\"A text here\", (1,1))\n+text(\"A text here\", (1,1))\n ```\n because of hardcoded matplotlib stylesheet (`classic`), which silently overwrites the rc parameters. Putting configurations in the file `matplotlibrc` also does not work because of the same reason.\n \n``````\n",
    "created_at": "2018-07-08T08:25:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396275",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 ```
 import matplotlib as mpl 
 mpl.rcParams['font.family'] = 'Impact'
-text(u"A text here", (1,1))
+text("A text here", (1,1))
 ```
 because of hardcoded matplotlib stylesheet (`classic`), which silently overwrites the rc parameters. Putting configurations in the file `matplotlibrc` also does not work because of the same reason.
 
``````




---

archive/issue_comments_396276.json:
```json
{
    "body": "Commit: **[`9173672`](https://github.com/sagemath/sagetrac-mirror/commit/91736728f417dd7598a0eff1ec30bf6125a6fa2a)**",
    "created_at": "2018-07-08T08:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396276",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`9173672`](https://github.com/sagemath/sagetrac-mirror/commit/91736728f417dd7598a0eff1ec30bf6125a6fa2a)**



---

archive/issue_comments_396277.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91736728f417dd7598a0eff1ec30bf6125a6fa2a\"><code>9173672</code></a></td><td><code>Remove hardcoded matplotlib stylesheet</code></td></tr></table>\n",
    "created_at": "2018-07-08T08:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396277",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91736728f417dd7598a0eff1ec30bf6125a6fa2a"><code>9173672</code></a></td><td><code>Remove hardcoded matplotlib stylesheet</code></td></tr></table>




---

archive/issue_events_358259.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-07-08T08:33:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358259"
}
```



---

archive/issue_comments_396278.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,11 @@\n ```\n because of hardcoded matplotlib stylesheet (`classic`), which silently overwrites the rc parameters. Putting configurations in the file `matplotlibrc` also does not work because of the same reason.\n \n-The patch removes the hardcoded default matplotlib stylesheet that silently applies to all graphics. \n+The patch removes the hardcoded default matplotlib stylesheet that silently applies to all graphics.  With this patch, the usual method to apply a style to graphics works, like\n+\n+```\n+import matplotlib.pyplot as plt\n+plt.style.use('seaborn')\n+text(\"A text here\", (1,1))\n+```\n+\n``````\n",
    "created_at": "2018-07-09T01:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396278",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,11 @@
 ```
 because of hardcoded matplotlib stylesheet (`classic`), which silently overwrites the rc parameters. Putting configurations in the file `matplotlibrc` also does not work because of the same reason.
 
-The patch removes the hardcoded default matplotlib stylesheet that silently applies to all graphics. 
+The patch removes the hardcoded default matplotlib stylesheet that silently applies to all graphics.  With this patch, the usual method to apply a style to graphics works, like
+
+```
+import matplotlib.pyplot as plt
+plt.style.use('seaborn')
+text("A text here", (1,1))
+```
+
``````




---

archive/issue_comments_396279.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFor reference, I am copying below a part of this [sage-devel thread](https://groups.google.com/d/msg/sage-devel/4I2bTb00pFg/sEWUTkeeCQAJ):\n\nwe may keep specifically only the math font of the classic style by:\n\n```\nmpl.rcParams['mathtext.fontset'] = 'cm'\nmpl.rcParams['mathtext.rm'] = 'serif'\n```\n\nSee [this example](https://github.com/sagemath/sage/issues/23696#comment:111) for drawbacks of using Matplolib new defaults for math fonts.\nMoreover using cm fonts for math makes plots coherent with MathJax rendering of Jupyter output cells, which is an important feature IMHO.",
    "created_at": "2018-07-10T07:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396279",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:6" align="right">comment:6</div>

For reference, I am copying below a part of this [sage-devel thread](https://groups.google.com/d/msg/sage-devel/4I2bTb00pFg/sEWUTkeeCQAJ):

we may keep specifically only the math font of the classic style by:

```
mpl.rcParams['mathtext.fontset'] = 'cm'
mpl.rcParams['mathtext.rm'] = 'serif'
```

See [this example](https://github.com/sagemath/sage/issues/23696#comment:111) for drawbacks of using Matplolib new defaults for math fonts.
Moreover using cm fonts for math makes plots coherent with MathJax rendering of Jupyter output cells, which is an important feature IMHO.



---

archive/issue_comments_396280.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7828ce2440ed53505c8c6e10e6a16effe1c2e4b5\"><code>7828ce2</code></a></td><td><code>Set computer modern fonts for math text in graphics</code></td></tr></table>\n",
    "created_at": "2018-07-11T00:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396280",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7828ce2440ed53505c8c6e10e6a16effe1c2e4b5"><code>7828ce2</code></a></td><td><code>Set computer modern fonts for math text in graphics</code></td></tr></table>




---

archive/issue_comments_396281.json:
```json
{
    "body": "Changed commit from **[`9173672`](https://github.com/sagemath/sagetrac-mirror/commit/91736728f417dd7598a0eff1ec30bf6125a6fa2a)** to **[`7828ce2`](https://github.com/sagemath/sagetrac-mirror/commit/7828ce2440ed53505c8c6e10e6a16effe1c2e4b5)**",
    "created_at": "2018-07-11T00:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396281",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9173672`](https://github.com/sagemath/sagetrac-mirror/commit/91736728f417dd7598a0eff1ec30bf6125a6fa2a)** to **[`7828ce2`](https://github.com/sagemath/sagetrac-mirror/commit/7828ce2440ed53505c8c6e10e6a16effe1c2e4b5)**



---

archive/issue_comments_396282.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,3 +15,5 @@\n text(\"A text here\", (1,1))\n ```\n \n+There was more discussion on this matter before at [#23696 comment:111](https://github.com/sagemath/sage/issues/23696#comment:111).\n+\n``````\n",
    "created_at": "2018-07-11T00:54:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396282",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,3 +15,5 @@
 text("A text here", (1,1))
 ```
 
+There was more discussion on this matter before at [#23696 comment:111](https://github.com/sagemath/sage/issues/23696#comment:111).
+
``````




---

archive/issue_comments_396283.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nChanging the priority to 'major' in order to get the attention of patchbots.",
    "created_at": "2018-07-14T15:05:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396283",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:9" align="right">comment:9</div>

Changing the priority to 'major' in order to get the attention of patchbots.



---

archive/issue_events_358260.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-14T15:05:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358260"
}
```



---

archive/issue_events_358261.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-14T15:05:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358261"
}
```



---

archive/issue_comments_396284.json:
```json
{
    "body": "Attachment: **[plot.png](https://github.com/sagemath/sage/files/ticket25799/plot.png)**",
    "created_at": "2018-07-14T16:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396284",
    "user": "https://github.com/egourgoulhon"
}
```

Attachment: **[plot.png](https://github.com/sagemath/sage/files/ticket25799/plot.png)**



---

archive/issue_comments_396285.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAttachment: **[plot_classic.png](https://github.com/sagemath/sage/files/ticket25799/plot_classic.png)**\n\nA noticeable effect of the proposed change is that it decreases the size of figures of approx. 20% in each dimension. For instance, with the ticket branch,\n\n```\nsage: plot(sin(x^2), (x, 0, 4), axes_labels=['$x$', '$y$'], gridlines=True)\n```\ngenerates this 628x470 figure:\n![](https://github.com/sagemath/sage/files/ticket25799/plot.png)\n\nwhile we had previously (i.e. with the 'classic' style) this 781x584 figure:\n![](https://github.com/sagemath/sage/files/ticket25799/plot_classic.png)\n\nThis size change was already discussed in [comment:134 of #23696](https://github.com/sagemath/sage/issues/23696#comment:134).\n\nOther changes are the major ticks on the x-axis (Delta_x = 0.5 instead of Delta_x = 1) and the dash style (in general, dashes are narrower than with the classic style, as we can see on the dash plots in the 2D graphics section of the documentation).\n\nI am fine with these changes (*); I simply mention them for the benefit of the discussion. \n\n(*) except maybe for the dash style of curves, which could require some tuning of the option `linestyle='--'` on Sage's side: compare the output of \n\n```\nsage: g1 = plot(sin(x), 0, 2*pi)\nsage: g2 = plot(cos(x), 0, 2*pi, linestyle=\"--\")\nsage: (g1+g2).show(ticks=pi/6, tick_formatter=pi)  # long time # show their sum, nicely formatted\n```\nin the [2D plotting](http://doc.sagemath.org/html/en/reference/plotting/sage/plot/plot.html) section of the documentation.\n\nOn general grounds, I think it is a good thing to remove the 'classic' stylesheet (provided the TeX fonts are corrected as above), in particular because this fixes the issues mentioned in the ticket description.",
    "created_at": "2018-07-14T16:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396285",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:10" align="right">comment:10</div>

Attachment: **[plot_classic.png](https://github.com/sagemath/sage/files/ticket25799/plot_classic.png)**

A noticeable effect of the proposed change is that it decreases the size of figures of approx. 20% in each dimension. For instance, with the ticket branch,

```
sage: plot(sin(x^2), (x, 0, 4), axes_labels=['$x$', '$y$'], gridlines=True)
```
generates this 628x470 figure:
![](https://github.com/sagemath/sage/files/ticket25799/plot.png)

while we had previously (i.e. with the 'classic' style) this 781x584 figure:
![](https://github.com/sagemath/sage/files/ticket25799/plot_classic.png)

This size change was already discussed in [comment:134 of #23696](https://github.com/sagemath/sage/issues/23696#comment:134).

Other changes are the major ticks on the x-axis (Delta_x = 0.5 instead of Delta_x = 1) and the dash style (in general, dashes are narrower than with the classic style, as we can see on the dash plots in the 2D graphics section of the documentation).

I am fine with these changes (*); I simply mention them for the benefit of the discussion. 

(*) except maybe for the dash style of curves, which could require some tuning of the option `linestyle='--'` on Sage's side: compare the output of 

```
sage: g1 = plot(sin(x), 0, 2*pi)
sage: g2 = plot(cos(x), 0, 2*pi, linestyle="--")
sage: (g1+g2).show(ticks=pi/6, tick_formatter=pi)  # long time # show their sum, nicely formatted
```
in the [2D plotting](http://doc.sagemath.org/html/en/reference/plotting/sage/plot/plot.html) section of the documentation.

On general grounds, I think it is a good thing to remove the 'classic' stylesheet (provided the TeX fonts are corrected as above), in particular because this fixes the issues mentioned in the ticket description.



---

archive/issue_comments_396286.json:
```json
{
    "body": "Attachment: **[dashed_classic.png](https://github.com/sagemath/sage/files/ticket25799/dashed_classic.png)**",
    "created_at": "2018-07-15T22:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396286",
    "user": "https://github.com/kwankyu"
}
```

Attachment: **[dashed_classic.png](https://github.com/sagemath/sage/files/ticket25799/dashed_classic.png)**



---

archive/issue_comments_396287.json:
```json
{
    "body": "Attachment: **[dashed_default.png](https://github.com/sagemath/sage/files/ticket25799/dashed_default.png)**",
    "created_at": "2018-07-15T22:56:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396287",
    "user": "https://github.com/kwankyu"
}
```

Attachment: **[dashed_default.png](https://github.com/sagemath/sage/files/ticket25799/dashed_default.png)**



---

archive/issue_comments_396288.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@egourgoulhon](#comment:10):\n> I am fine with these changes (*); I simply mention them for the benefit of the discussion. \n> \n> (*) except maybe for the dash style of curves, which could require some tuning of the option `linestyle='--'` on Sage's side: compare the output of \n> \n> ```\n> sage: g1 = plot(sin(x), 0, 2*pi)\n> sage: g2 = plot(cos(x), 0, 2*pi, linestyle=\"--\")\n> sage: (g1+g2).show(ticks=pi/6, tick_formatter=pi)  # long time # show their sum, nicely formatted\n> ```\n> in the [2D plotting](http://doc.sagemath.org/html/en/reference/plotting/sage/plot/plot.html) section of the documentation.\n\nI am not sure...\n\nDashed line in classic style:\n\n![](https://github.com/sagemath/sage/files/ticket25799/dashed_classic.png)\n\nDashed line in matplotlib2 default style:\n\n![](https://github.com/sagemath/sage/files/ticket25799/dashed_default.png)",
    "created_at": "2018-07-15T23:02:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396288",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@egourgoulhon](#comment:10):
> I am fine with these changes (*); I simply mention them for the benefit of the discussion. 
> 
> (*) except maybe for the dash style of curves, which could require some tuning of the option `linestyle='--'` on Sage's side: compare the output of 
> 
> ```
> sage: g1 = plot(sin(x), 0, 2*pi)
> sage: g2 = plot(cos(x), 0, 2*pi, linestyle="--")
> sage: (g1+g2).show(ticks=pi/6, tick_formatter=pi)  # long time # show their sum, nicely formatted
> ```
> in the [2D plotting](http://doc.sagemath.org/html/en/reference/plotting/sage/plot/plot.html) section of the documentation.

I am not sure...

Dashed line in classic style:

![](https://github.com/sagemath/sage/files/ticket25799/dashed_classic.png)

Dashed line in matplotlib2 default style:

![](https://github.com/sagemath/sage/files/ticket25799/dashed_default.png)



---

archive/issue_comments_396289.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWhile the font change was the most glaring thing, there was other stuff indeed. Changing the style was the shortest way to fix all that. It would be interesting to know if we can set a style just for building the documentation. Of course even that could cause problems if you need to change something for building the documentation in a specific language.",
    "created_at": "2018-07-15T23:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396289",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">comment:13</div>

While the font change was the most glaring thing, there was other stuff indeed. Changing the style was the shortest way to fix all that. It would be interesting to know if we can set a style just for building the documentation. Of course even that could cause problems if you need to change something for building the documentation in a specific language.



---

archive/issue_comments_396290.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@kiwifb](#comment:13):\n> While the font change was the most glaring thing, there was other stuff indeed. Changing the style was the shortest way to fix all that.\n\nIf there are needed other (not uniformly agreed upon) tunings, then it may be necessary to make another ticket for that purpose, while the most glaring changes, like the font change, get into this ticket. Let's see.\n\n> It would be interesting to know if we can set a style just for building the documentation. Of course even that could cause problems if you need to change something for building the documentation in a specific language.\n\nYes. But as someone has suggested in other context,  I agree that users should get the same outputs in their own sessions as in the documentation.",
    "created_at": "2018-07-16T02:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396290",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@kiwifb](#comment:13):
> While the font change was the most glaring thing, there was other stuff indeed. Changing the style was the shortest way to fix all that.

If there are needed other (not uniformly agreed upon) tunings, then it may be necessary to make another ticket for that purpose, while the most glaring changes, like the font change, get into this ticket. Let's see.

> It would be interesting to know if we can set a style just for building the documentation. Of course even that could cause problems if you need to change something for building the documentation in a specific language.

Yes. But as someone has suggested in other context,  I agree that users should get the same outputs in their own sessions as in the documentation.



---

archive/issue_comments_396291.json:
```json
{
    "body": "Attachment: **[dashed2_classic.png](https://github.com/sagemath/sage/files/ticket25799/dashed2_classic.png)**",
    "created_at": "2018-07-16T02:16:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396291",
    "user": "https://github.com/kwankyu"
}
```

Attachment: **[dashed2_classic.png](https://github.com/sagemath/sage/files/ticket25799/dashed2_classic.png)**



---

archive/issue_comments_396292.json:
```json
{
    "body": "Attachment: **[dashed2_default.png](https://github.com/sagemath/sage/files/ticket25799/dashed2_default.png)**",
    "created_at": "2018-07-16T02:16:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396292",
    "user": "https://github.com/kwankyu"
}
```

Attachment: **[dashed2_default.png](https://github.com/sagemath/sage/files/ticket25799/dashed2_default.png)**



---

archive/issue_comments_396293.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nJust for discussion.\n\nDashed lines in classic style:\n\n![](https://github.com/sagemath/sage/files/ticket25799/dashed2_classic.png)\n\nDashed lines in default style:\n\n![](https://github.com/sagemath/sage/files/ticket25799/dashed2_default.png)",
    "created_at": "2018-07-16T02:19:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396293",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:15" align="right">comment:15</div>

Just for discussion.

Dashed lines in classic style:

![](https://github.com/sagemath/sage/files/ticket25799/dashed2_classic.png)

Dashed lines in default style:

![](https://github.com/sagemath/sage/files/ticket25799/dashed2_default.png)



---

archive/issue_comments_396294.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThere was a poll about the changes that the branch of this ticket introduces in \n\nhttps://groups.google.com/forum/#!topic/sage-devel/jz9fCnW8eT8\n\nCounted from 8 participants to the discussion,  there are\n\n5 positive votes;\n\n2 no opinion;\n\n1 not-so-positive vote.",
    "created_at": "2018-07-23T11:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396294",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:16" align="right">comment:16</div>

There was a poll about the changes that the branch of this ticket introduces in 

https://groups.google.com/forum/#!topic/sage-devel/jz9fCnW8eT8

Counted from 8 participants to the discussion,  there are

5 positive votes;

2 no opinion;

1 not-so-positive vote.



---

archive/issue_events_358262.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-23T11:02:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358262"
}
```



---

archive/issue_events_358263.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-23T11:02:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358263"
}
```



---

archive/issue_events_358264.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-23T11:02:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358264"
}
```



---

archive/issue_events_358265.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-23T11:02:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358265"
}
```



---

archive/issue_comments_396295.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2018-07-23T11:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396295",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_396296.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSo let's move this into Sage 8.4!",
    "created_at": "2018-07-23T11:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396296",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:17" align="right">comment:17</div>

So let's move this into Sage 8.4!



---

archive/issue_comments_396297.json:
```json
{
    "body": "Author: **Kwankyu Lee**",
    "created_at": "2018-07-23T11:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396297",
    "user": "https://github.com/egourgoulhon"
}
```

Author: **Kwankyu Lee**



---

archive/issue_events_358266.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-30T15:45:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358266"
}
```



---

archive/issue_events_358267.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-30T15:45:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358267"
}
```



---

archive/issue_comments_396298.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n\n```\nsage -t --long src/sage/plot/arrow.py  # 1 doctest failed\n```",
    "created_at": "2018-07-30T15:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396298",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>


```
sage -t --long src/sage/plot/arrow.py  # 1 doctest failed
```



---

archive/issue_comments_396299.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@vbraun](#comment:19):\n> \n> ```\n> sage -t --long src/sage/plot/arrow.py  # 1 doctest failed\n> ```\n\nThat doctest is fragile and I am pretty sure it depends on the stylesheet used.",
    "created_at": "2018-07-30T21:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396299",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@vbraun](#comment:19):
> 
> ```
> sage -t --long src/sage/plot/arrow.py  # 1 doctest failed
> ```

That doctest is fragile and I am pretty sure it depends on the stylesheet used.



---

archive/issue_comments_396300.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kiwifb](#comment:20):\n> Replying to [@vbraun](#comment:19):\n> > \n> > ```\n> > sage -t --long src/sage/plot/arrow.py  # 1 doctest failed\n> > ```\n\n> \n> That doctest is fragile and I am pretty sure it depends on the stylesheet used.\n\nI confirm the doctest fails with the ticket branch merged in Sage 8.3.rc0:\n\n```\n./sage -t --long src/sage/plot/arrow.py \nRunning doctests with ID 2018-07-30-23-45-27-5227bad0.\nGit branch: matplotlib_style\nUsing --optional=mpir,python2,sage\nDoctesting 1 file.\nsage -t --long --warn-long 80.1 src/sage/plot/arrow.py\n**********************************************************************\nFile \"src/sage/plot/arrow.py\", line 364, in sage.plot.arrow.Arrow._render_on_subplot\nFailed example:\n    two_stroke_re.search(contents) is None\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n1 item had failures:\n   1 of  18 in sage.plot.arrow.Arrow._render_on_subplot\n    [69 tests, 1 failure, 3.79 s]\n```",
    "created_at": "2018-07-30T21:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396300",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kiwifb](#comment:20):
> Replying to [@vbraun](#comment:19):
> > 
> > ```
> > sage -t --long src/sage/plot/arrow.py  # 1 doctest failed
> > ```

> 
> That doctest is fragile and I am pretty sure it depends on the stylesheet used.

I confirm the doctest fails with the ticket branch merged in Sage 8.3.rc0:

```
./sage -t --long src/sage/plot/arrow.py 
Running doctests with ID 2018-07-30-23-45-27-5227bad0.
Git branch: matplotlib_style
Using --optional=mpir,python2,sage
Doctesting 1 file.
sage -t --long --warn-long 80.1 src/sage/plot/arrow.py
**********************************************************************
File "src/sage/plot/arrow.py", line 364, in sage.plot.arrow.Arrow._render_on_subplot
Failed example:
    two_stroke_re.search(contents) is None
Expected:
    True
Got:
    False
**********************************************************************
1 item had failures:
   1 of  18 in sage.plot.arrow.Arrow._render_on_subplot
    [69 tests, 1 failure, 3.79 s]
```



---

archive/issue_comments_396301.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nGetting that doctest to return something sensible required a considerable amount of effort. It is about controlling some aspect of the appearance on screen and stems from an older ticket about the appearance of double dashing. If I am completely honest I am not sure it is worth the time invested into fixing it.",
    "created_at": "2018-07-30T21:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396301",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">comment:22</div>

Getting that doctest to return something sensible required a considerable amount of effort. It is about controlling some aspect of the appearance on screen and stems from an older ticket about the appearance of double dashing. If I am completely honest I am not sure it is worth the time invested into fixing it.



---

archive/issue_comments_396302.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@kiwifb](#comment:22):\n> Getting that doctest to return something sensible required a considerable amount of effort. It is about controlling some aspect of the appearance on screen and stems from an older ticket about the appearance of double dashing. If I am completely honest I am not sure it is worth the time invested into fixing it.\n\nI agree. Doctesting graphics is something that requires a human eye or AI.",
    "created_at": "2018-07-31T00:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396302",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@kiwifb](#comment:22):
> Getting that doctest to return something sensible required a considerable amount of effort. It is about controlling some aspect of the appearance on screen and stems from an older ticket about the appearance of double dashing. If I am completely honest I am not sure it is worth the time invested into fixing it.

I agree. Doctesting graphics is something that requires a human eye or AI.



---

archive/issue_comments_396303.json:
```json
{
    "body": "Changed commit from **[`7828ce2`](https://github.com/sagemath/sagetrac-mirror/commit/7828ce2440ed53505c8c6e10e6a16effe1c2e4b5)** to **[`42bda6f`](https://github.com/sagemath/sagetrac-mirror/commit/42bda6f486e45c89daf5229ce89034dd5f0da0fb)**",
    "created_at": "2018-07-31T00:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396303",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7828ce2`](https://github.com/sagemath/sagetrac-mirror/commit/7828ce2440ed53505c8c6e10e6a16effe1c2e4b5)** to **[`42bda6f`](https://github.com/sagemath/sagetrac-mirror/commit/42bda6f486e45c89daf5229ce89034dd5f0da0fb)**



---

archive/issue_comments_396304.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a825afb9127a765e87d3dfe640f8dd64f99babf2\"><code>a825afb</code></a></td><td><code>Remove a fragile failing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42bda6f486e45c89daf5229ce89034dd5f0da0fb\"><code>42bda6f</code></a></td><td><code>Add a comment on the removed doctest</code></td></tr></table>\n",
    "created_at": "2018-07-31T00:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396304",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a825afb9127a765e87d3dfe640f8dd64f99babf2"><code>a825afb</code></a></td><td><code>Remove a fragile failing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42bda6f486e45c89daf5229ce89034dd5f0da0fb"><code>42bda6f</code></a></td><td><code>Add a comment on the removed doctest</code></td></tr></table>




---

archive/issue_events_358268.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-07-31T00:28:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358268"
}
```



---

archive/issue_events_358269.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-07-31T00:28:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358269"
}
```



---

archive/issue_comments_396305.json:
```json
{
    "body": "Changed reviewer from **Eric Gourgoulhon** to **Eric Gourgoulhon, Fran\u00e7ois Bissey**",
    "created_at": "2018-07-31T06:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396305",
    "user": "https://github.com/egourgoulhon"
}
```

Changed reviewer from **Eric Gourgoulhon** to **Eric Gourgoulhon, Fran√ßois Bissey**



---

archive/issue_events_358270.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-31T06:53:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358270"
}
```



---

archive/issue_events_358271.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-07-31T06:53:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358271"
}
```



---

archive/issue_comments_396306.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nLGTM. Fran\u00e7ois, do you agree?",
    "created_at": "2018-07-31T06:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396306",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:26" align="right">comment:26</div>

LGTM. Fran√ßois, do you agree?



---

archive/issue_comments_396307.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI am OK with it. I'll be waiting for comments on the new look of the documentation. It is inevitable, even when we have talked so much about it.",
    "created_at": "2018-07-31T07:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396307",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:27" align="right">comment:27</div>

I am OK with it. I'll be waiting for comments on the new look of the documentation. It is inevitable, even when we have talked so much about it.



---

archive/issue_comments_396308.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@kwankyu](#comment:23):\n> Replying to [@kiwifb](#comment:22):\n> > Getting that doctest to return something sensible required a considerable amount of effort. It is about controlling some aspect of the appearance on screen and stems from an older ticket about the appearance of double dashing. If I am completely honest I am not sure it is worth the time invested into fixing it.\n\n> \n> I agree. Doctesting graphics is something that requires a human eye or AI.\n\nIt appears that now we are back to the `matching` sequence for `1.5.3` [#23696 comment:27](https://github.com/sagemath/sage/issues/23696#comment:27). This \n\n```\nsage: two_stroke_pattern = r'setdash.*setdash.*stroke.*stroke.*setdash'\n```\nseems to work; although, I haven't checked whether the above `is` matched correctly when the arrow is drawn with `dashed` linetype.",
    "created_at": "2018-08-01T03:31:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396308",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@kwankyu](#comment:23):
> Replying to [@kiwifb](#comment:22):
> > Getting that doctest to return something sensible required a considerable amount of effort. It is about controlling some aspect of the appearance on screen and stems from an older ticket about the appearance of double dashing. If I am completely honest I am not sure it is worth the time invested into fixing it.

> 
> I agree. Doctesting graphics is something that requires a human eye or AI.

It appears that now we are back to the `matching` sequence for `1.5.3` [#23696 comment:27](https://github.com/sagemath/sage/issues/23696#comment:27). This 

```
sage: two_stroke_pattern = r'setdash.*setdash.*stroke.*stroke.*setdash'
```
seems to work; although, I haven't checked whether the above `is` matched correctly when the arrow is drawn with `dashed` linetype.



---

archive/issue_comments_396309.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@strogdon](#comment:28):\n> Replying to [@kwankyu](#comment:23):\n> > Replying to [@kiwifb](#comment:22):\n> > > Getting that doctest to return something sensible required a considerable amount of effort. It is about controlling some aspect of the appearance on screen and stems from an older ticket about the appearance of double dashing. If I am completely honest I am not sure it is worth the time invested into fixing it.\n\n> > \n> > I agree. Doctesting graphics is something that requires a human eye or AI.\n\n> It appears that now we are back to the `matching` sequence for `1.5.3` [#23696 comment:27](https://github.com/sagemath/sage/issues/23696#comment:27). This \n> \n> ```\n> sage: two_stroke_pattern = r'setdash.*setdash.*stroke.*stroke.*setdash'\n> ```\n> seems to work; although, I haven't checked whether the above `is` matched correctly when the arrow is drawn with `dashed` linetype.\n> \n\nThis was just a shot in the dark. It doesn't work properly when the arrow is drawn with `dashed` linetype.",
    "created_at": "2018-08-01T04:42:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396309",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@strogdon](#comment:28):
> Replying to [@kwankyu](#comment:23):
> > Replying to [@kiwifb](#comment:22):
> > > Getting that doctest to return something sensible required a considerable amount of effort. It is about controlling some aspect of the appearance on screen and stems from an older ticket about the appearance of double dashing. If I am completely honest I am not sure it is worth the time invested into fixing it.

> > 
> > I agree. Doctesting graphics is something that requires a human eye or AI.

> It appears that now we are back to the `matching` sequence for `1.5.3` [#23696 comment:27](https://github.com/sagemath/sage/issues/23696#comment:27). This 
> 
> ```
> sage: two_stroke_pattern = r'setdash.*setdash.*stroke.*stroke.*setdash'
> ```
> seems to work; although, I haven't checked whether the above `is` matched correctly when the arrow is drawn with `dashed` linetype.
> 

This was just a shot in the dark. It doesn't work properly when the arrow is drawn with `dashed` linetype.



---

archive/issue_comments_396310.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nJust for the record, not that anything should be changed but\n\n```\nsage: two_stroke_pattern = r'setdash.*setdash.*stroke.*stroke.*setdash'\n```\nis the correct matching pattern. It's fairly straightforward to deduce it. I had a `typo` that led to the previous conclusion.",
    "created_at": "2018-08-02T02:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396310",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:30" align="right">comment:30</div>

Just for the record, not that anything should be changed but

```
sage: two_stroke_pattern = r'setdash.*setdash.*stroke.*stroke.*setdash'
```
is the correct matching pattern. It's fairly straightforward to deduce it. I had a `typo` that led to the previous conclusion.



---

archive/issue_events_358272.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:16:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358272"
}
```



---

archive/issue_events_358273.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1293a23e4c7b54b043fecb2a7134d3f9e787e3ab",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-08-05T08:16:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25799#event-358273"
}
```



---

archive/issue_comments_396311.json:
```json
{
    "body": "Changed branch from **[u/klee/25799](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/25799)** to **[`42bda6f`](https://github.com/sagemath/sagetrac-mirror/commit/42bda6f486e45c89daf5229ce89034dd5f0da0fb)**",
    "created_at": "2018-08-05T08:16:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25799#issuecomment-396311",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/klee/25799](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/25799)** to **[`42bda6f`](https://github.com/sagemath/sagetrac-mirror/commit/42bda6f486e45c89daf5229ce89034dd5f0da0fb)**
