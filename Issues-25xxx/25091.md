# Issue 25091: Expose some normaliz features

archive/issues_024854.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nUsing Normaliz can compute several things that are currently not interfaced. This ticket implements:\n\n- Integral points generators\n- Euclidean volume and volume\n- Triangulation\n- Hilbert series\n- Ehrhart series of compact polyhedron\n- Ehrhart quasi-polynomial of compact polyhedron\n\nFOLLOWUP:\n\n- Make ehrhart_polynomial uniform (in the spirit of `.volume()` that can have several engines.\n- Move the lattice related methods to `Polyhedra_normaliz_QQ`.\n\nDepends on #27682\nDepends on #27716\n\nCC:  @videlec @mo271 @mkoeppe @sebasguts @w-bruns @braunmath @tscrim\n\nComponent: **geometry**\n\nKeywords: **polytope, normaliz, IMA-PolyGeom**\n\nAuthor: **Jean-Philippe Labb\u00e9, Matthias Koeppe**\n\nBranch/Commit: **[`da05706`](https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83)**\n\nReviewer: **Travis Scrimshaw, Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25091_\n\n",
    "closed_at": "2019-05-21T12:16:05Z",
    "created_at": "2018-04-03T18:59:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Expose some normaliz features",
    "type": "issue",
    "updated_at": "2019-05-21T12:16:05Z",
    "url": "https://github.com/sagemath/sage/issues/25091",
    "user": "https://github.com/jplab"
}
```
<div id="comment:0"></div>

Using Normaliz can compute several things that are currently not interfaced. This ticket implements:

- Integral points generators
- Euclidean volume and volume
- Triangulation
- Hilbert series
- Ehrhart series of compact polyhedron
- Ehrhart quasi-polynomial of compact polyhedron

FOLLOWUP:

- Make ehrhart_polynomial uniform (in the spirit of `.volume()` that can have several engines.
- Move the lattice related methods to `Polyhedra_normaliz_QQ`.

Depends on #27682
Depends on #27716

CC:  @videlec @mo271 @mkoeppe @sebasguts @w-bruns @braunmath @tscrim

Component: **geometry**

Keywords: **polytope, normaliz, IMA-PolyGeom**

Author: **Jean-Philippe Labb√©, Matthias Koeppe**

Branch/Commit: **[`da05706`](https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83)**

Reviewer: **Travis Scrimshaw, Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/25091_





---

archive/issue_events_344109.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-03T18:59:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344109"
}
```



---

archive/issue_events_344110.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-03T18:59:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344110"
}
```



---

archive/issue_events_344111.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-03T18:59:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344111"
}
```



---

archive/issue_events_344112.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-03T18:59:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344112"
}
```



---

archive/issue_comments_382415.json:
```json
{
    "body": "Branch: **[u/jipilab/normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/normaliz_features)**",
    "created_at": "2018-04-03T19:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382415",
    "user": "https://github.com/jplab"
}
```

Branch: **[u/jipilab/normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/normaliz_features)**



---

archive/issue_comments_382416.json:
```json
{
    "body": "Commit: **[`e421ff8`](https://github.com/sagemath/sagetrac-mirror/commit/e421ff89087f9d231056f163885b5ce251ed5d3b)**",
    "created_at": "2018-04-03T19:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382416",
    "user": "https://github.com/jplab"
}
```

Commit: **[`e421ff8`](https://github.com/sagemath/sagetrac-mirror/commit/e421ff89087f9d231056f163885b5ce251ed5d3b)**



---

archive/issue_comments_382417.json:
```json
{
    "body": "Dependencies: **#22984, #25090**",
    "created_at": "2018-04-03T19:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382417",
    "user": "https://github.com/jplab"
}
```

Dependencies: **#22984, #25090**



---

archive/issue_comments_382418.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc\"><code>737552d</code></a></td><td><code>Updating patch with upstream fix for wrong number of lattice points.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/530302d6979c495ea15d29e82ca893ac9ca73386\"><code>530302d</code></a></td><td><code>Merge branch 'u/tscrim/upgrade_noramliz_pynormaliz-22984' of git://trac.sagemath.org/sage into u/tscrim/upgrade_noramliz_pynormaliz-22984</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40\"><code>57d40b0</code></a></td><td><code>Upgrade Normaliz to 3.5.2.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913\"><code>6ba442d</code></a></td><td><code>Adding tests from [comment:24](#comment%3A24),25 of #22984.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c\"><code>183087a</code></a></td><td><code>Upgrade PyNormaliz to 1.12</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd\"><code>7f47ec9</code></a></td><td><code>Adapted the polyhedron docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532\"><code>117e428</code></a></td><td><code>Upgrade normaliz to 3.5.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4\"><code>7057ef4</code></a></td><td><code>Merge branch to get docstring adaptation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b37e8b07582a5b932c1f97512b4dfd39007f4f1\"><code>1b37e8b</code></a></td><td><code>Merge branch 'develop' into test_normaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e421ff89087f9d231056f163885b5ce251ed5d3b\"><code>e421ff8</code></a></td><td><code>First version of integral pts gen</code></td></tr></table>\n",
    "created_at": "2018-04-03T19:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382418",
    "user": "https://github.com/jplab"
}
```

<div id="comment:1"></div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc"><code>737552d</code></a></td><td><code>Updating patch with upstream fix for wrong number of lattice points.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/530302d6979c495ea15d29e82ca893ac9ca73386"><code>530302d</code></a></td><td><code>Merge branch 'u/tscrim/upgrade_noramliz_pynormaliz-22984' of git://trac.sagemath.org/sage into u/tscrim/upgrade_noramliz_pynormaliz-22984</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40"><code>57d40b0</code></a></td><td><code>Upgrade Normaliz to 3.5.2.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913"><code>6ba442d</code></a></td><td><code>Adding tests from [comment:24](#comment%3A24),25 of #22984.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c"><code>183087a</code></a></td><td><code>Upgrade PyNormaliz to 1.12</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd"><code>7f47ec9</code></a></td><td><code>Adapted the polyhedron docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532"><code>117e428</code></a></td><td><code>Upgrade normaliz to 3.5.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4"><code>7057ef4</code></a></td><td><code>Merge branch to get docstring adaptation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b37e8b07582a5b932c1f97512b4dfd39007f4f1"><code>1b37e8b</code></a></td><td><code>Merge branch 'develop' into test_normaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e421ff89087f9d231056f163885b5ce251ed5d3b"><code>e421ff8</code></a></td><td><code>First version of integral pts gen</code></td></tr></table>




---

archive/issue_comments_382419.json:
```json
{
    "body": "Changed commit from **[`e421ff8`](https://github.com/sagemath/sagetrac-mirror/commit/e421ff89087f9d231056f163885b5ce251ed5d3b)** to **[`ac35212`](https://github.com/sagemath/sagetrac-mirror/commit/ac35212bdcb4b4671defd9e25ab90634d13f118d)**",
    "created_at": "2018-04-03T19:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382419",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e421ff8`](https://github.com/sagemath/sagetrac-mirror/commit/e421ff89087f9d231056f163885b5ce251ed5d3b)** to **[`ac35212`](https://github.com/sagemath/sagetrac-mirror/commit/ac35212bdcb4b4671defd9e25ab90634d13f118d)**



---

archive/issue_comments_382420.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6ae686c6c10bce1d90d6290ed39066088ecc8d4\"><code>b6ae686</code></a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25090/pynormaliz2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eaedcc2dfe80f9836f9980318d760d8e32c26e74\"><code>eaedcc2</code></a></td><td><code>Update PyNormaliz to 1.14</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac35212bdcb4b4671defd9e25ab90634d13f118d\"><code>ac35212</code></a></td><td><code>Merge branch 'normaliz2' into normaliz_features</code></td></tr></table>\n",
    "created_at": "2018-04-03T19:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382420",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6ae686c6c10bce1d90d6290ed39066088ecc8d4"><code>b6ae686</code></a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25090/pynormaliz2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eaedcc2dfe80f9836f9980318d760d8e32c26e74"><code>eaedcc2</code></a></td><td><code>Update PyNormaliz to 1.14</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac35212bdcb4b4671defd9e25ab90634d13f118d"><code>ac35212</code></a></td><td><code>Merge branch 'normaliz2' into normaliz_features</code></td></tr></table>




---

archive/issue_comments_382421.json:
```json
{
    "body": "Changed branch from **[u/jipilab/normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/normaliz_features)** to **[u/jipilab/some_normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/some_normaliz_features)**",
    "created_at": "2018-04-03T19:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382421",
    "user": "https://github.com/jplab"
}
```

Changed branch from **[u/jipilab/normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/normaliz_features)** to **[u/jipilab/some_normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/some_normaliz_features)**



---

archive/issue_comments_382422.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf8b172f1a58a6d71b857575b00dd19b82f9d2e4\"><code>bf8b172</code></a></td><td><code>Merge branch 'u/mkoeppe/pynormaliz2'</code></td></tr></table>\n",
    "created_at": "2018-04-03T19:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382422",
    "user": "https://github.com/jplab"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf8b172f1a58a6d71b857575b00dd19b82f9d2e4"><code>bf8b172</code></a></td><td><code>Merge branch 'u/mkoeppe/pynormaliz2'</code></td></tr></table>




---

archive/issue_comments_382423.json:
```json
{
    "body": "Changed commit from **[`ac35212`](https://github.com/sagemath/sagetrac-mirror/commit/ac35212bdcb4b4671defd9e25ab90634d13f118d)** to **[`bf8b172`](https://github.com/sagemath/sagetrac-mirror/commit/bf8b172f1a58a6d71b857575b00dd19b82f9d2e4)**",
    "created_at": "2018-04-03T19:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382423",
    "user": "https://github.com/jplab"
}
```

Changed commit from **[`ac35212`](https://github.com/sagemath/sagetrac-mirror/commit/ac35212bdcb4b4671defd9e25ab90634d13f118d)** to **[`bf8b172`](https://github.com/sagemath/sagetrac-mirror/commit/bf8b172f1a58a6d71b857575b00dd19b82f9d2e4)**



---

archive/issue_comments_382424.json:
```json
{
    "body": "Changed commit from **[`bf8b172`](https://github.com/sagemath/sagetrac-mirror/commit/bf8b172f1a58a6d71b857575b00dd19b82f9d2e4)** to **[`9a6af25`](https://github.com/sagemath/sagetrac-mirror/commit/9a6af25046563f288b4c93e61f0e3ab1fa593bf0)**",
    "created_at": "2018-04-03T23:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382424",
    "user": "https://github.com/jplab"
}
```

Changed commit from **[`bf8b172`](https://github.com/sagemath/sagetrac-mirror/commit/bf8b172f1a58a6d71b857575b00dd19b82f9d2e4)** to **[`9a6af25`](https://github.com/sagemath/sagetrac-mirror/commit/9a6af25046563f288b4c93e61f0e3ab1fa593bf0)**



---

archive/issue_comments_382425.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4dbdc7d768bb10de57972ae8fefaeefaee2f85e7\"><code>4dbdc7d</code></a></td><td><code>Updated the Cone calls format</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02575963d69c7c34b438d34d3807968732705e6d\"><code>0257596</code></a></td><td><code>Merge branch 'pynormaliz2' into normaliz_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a6af25046563f288b4c93e61f0e3ab1fa593bf0\"><code>9a6af25</code></a></td><td><code>Added volume, first version</code></td></tr></table>\n",
    "created_at": "2018-04-03T23:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382425",
    "user": "https://github.com/jplab"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4dbdc7d768bb10de57972ae8fefaeefaee2f85e7"><code>4dbdc7d</code></a></td><td><code>Updated the Cone calls format</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02575963d69c7c34b438d34d3807968732705e6d"><code>0257596</code></a></td><td><code>Merge branch 'pynormaliz2' into normaliz_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a6af25046563f288b4c93e61f0e3ab1fa593bf0"><code>9a6af25</code></a></td><td><code>Added volume, first version</code></td></tr></table>




---

archive/issue_comments_382426.json:
```json
{
    "body": "Changed branch from **[u/jipilab/some_normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/some_normaliz_features)** to **[public/some_normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/public/some_normaliz_features)**",
    "created_at": "2018-04-03T23:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382426",
    "user": "https://github.com/jplab"
}
```

Changed branch from **[u/jipilab/some_normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/some_normaliz_features)** to **[public/some_normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/public/some_normaliz_features)**



---

archive/issue_comments_382427.json:
```json
{
    "body": "Changed commit from **[`9a6af25`](https://github.com/sagemath/sagetrac-mirror/commit/9a6af25046563f288b4c93e61f0e3ab1fa593bf0)** to **[`3d3f64a`](https://github.com/sagemath/sagetrac-mirror/commit/3d3f64ab940e973a79557a37ddb7bb346b6b5898)**",
    "created_at": "2018-04-04T00:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382427",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9a6af25`](https://github.com/sagemath/sagetrac-mirror/commit/9a6af25046563f288b4c93e61f0e3ab1fa593bf0)** to **[`3d3f64a`](https://github.com/sagemath/sagetrac-mirror/commit/3d3f64ab940e973a79557a37ddb7bb346b6b5898)**



---

archive/issue_comments_382428.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d3f64ab940e973a79557a37ddb7bb346b6b5898\"><code>3d3f64a</code></a></td><td><code>Handle default behavior</code></td></tr></table>\n",
    "created_at": "2018-04-04T00:14:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382428",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d3f64ab940e973a79557a37ddb7bb346b6b5898"><code>3d3f64a</code></a></td><td><code>Handle default behavior</code></td></tr></table>




---

archive/issue_comments_382429.json:
```json
{
    "body": "Changed commit from **[`3d3f64a`](https://github.com/sagemath/sagetrac-mirror/commit/3d3f64ab940e973a79557a37ddb7bb346b6b5898)** to **[`f376748`](https://github.com/sagemath/sagetrac-mirror/commit/f376748a6c5330ea2f23d5e82de289ed7a575433)**",
    "created_at": "2018-04-04T14:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382429",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3d3f64a`](https://github.com/sagemath/sagetrac-mirror/commit/3d3f64ab940e973a79557a37ddb7bb346b6b5898)** to **[`f376748`](https://github.com/sagemath/sagetrac-mirror/commit/f376748a6c5330ea2f23d5e82de289ed7a575433)**



---

archive/issue_comments_382430.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dcef4c8e00837de088af4f5acaf6a0c6a3a6e3b\"><code>1dcef4c</code></a></td><td><code>_init_from_normaliz_data: New, use it in _init_from_*representation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcd810188e1ad478d62dd50dfe15316c4aa573e8\"><code>fcd8101</code></a></td><td><code>Updated pynormaliz to 1.15</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f376748a6c5330ea2f23d5e82de289ed7a575433\"><code>f376748</code></a></td><td><code>Merge branch 'pynormaliz2' into normaliz_features</code></td></tr></table>\n",
    "created_at": "2018-04-04T14:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382430",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dcef4c8e00837de088af4f5acaf6a0c6a3a6e3b"><code>1dcef4c</code></a></td><td><code>_init_from_normaliz_data: New, use it in _init_from_*representation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcd810188e1ad478d62dd50dfe15316c4aa573e8"><code>fcd8101</code></a></td><td><code>Updated pynormaliz to 1.15</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f376748a6c5330ea2f23d5e82de289ed7a575433"><code>f376748</code></a></td><td><code>Merge branch 'pynormaliz2' into normaliz_features</code></td></tr></table>




---

archive/issue_comments_382431.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nNote that `is_package_installed` is being deprecated, see #20382",
    "created_at": "2018-04-04T14:38:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382431",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">comment:7</div>

Note that `is_package_installed` is being deprecated, see #20382



---

archive/issue_comments_382432.json:
```json
{
    "body": "Changed commit from **[`f376748`](https://github.com/sagemath/sagetrac-mirror/commit/f376748a6c5330ea2f23d5e82de289ed7a575433)** to **[`55c9a04`](https://github.com/sagemath/sagetrac-mirror/commit/55c9a04b9865076dc03dc3d701237ddaf5ee9614)**",
    "created_at": "2018-04-04T19:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382432",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f376748`](https://github.com/sagemath/sagetrac-mirror/commit/f376748a6c5330ea2f23d5e82de289ed7a575433)** to **[`55c9a04`](https://github.com/sagemath/sagetrac-mirror/commit/55c9a04b9865076dc03dc3d701237ddaf5ee9614)**



---

archive/issue_comments_382433.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55c9a04b9865076dc03dc3d701237ddaf5ee9614\"><code>55c9a04</code></a></td><td><code>Added Hilbert series</code></td></tr></table>\n",
    "created_at": "2018-04-04T19:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382433",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55c9a04b9865076dc03dc3d701237ddaf5ee9614"><code>55c9a04</code></a></td><td><code>Added Hilbert series</code></td></tr></table>




---

archive/issue_comments_382434.json:
```json
{
    "body": "Changed commit from **[`55c9a04`](https://github.com/sagemath/sagetrac-mirror/commit/55c9a04b9865076dc03dc3d701237ddaf5ee9614)** to **[`720dc04`](https://github.com/sagemath/sagetrac-mirror/commit/720dc046b8831170f06fe341bdfa42fefeb240c4)**",
    "created_at": "2018-04-04T19:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382434",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`55c9a04`](https://github.com/sagemath/sagetrac-mirror/commit/55c9a04b9865076dc03dc3d701237ddaf5ee9614)** to **[`720dc04`](https://github.com/sagemath/sagetrac-mirror/commit/720dc046b8831170f06fe341bdfa42fefeb240c4)**



---

archive/issue_comments_382435.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/720dc046b8831170f06fe341bdfa42fefeb240c4\"><code>720dc04</code></a></td><td><code>Made tests pass</code></td></tr></table>\n",
    "created_at": "2018-04-04T19:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382435",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/720dc046b8831170f06fe341bdfa42fefeb240c4"><code>720dc04</code></a></td><td><code>Made tests pass</code></td></tr></table>




---

archive/issue_comments_382436.json:
```json
{
    "body": "Changed commit from **[`720dc04`](https://github.com/sagemath/sagetrac-mirror/commit/720dc046b8831170f06fe341bdfa42fefeb240c4)** to **[`a4ddeac`](https://github.com/sagemath/sagetrac-mirror/commit/a4ddeac32690b8be6a5edf66ff77979a1e9a2b3f)**",
    "created_at": "2018-04-04T19:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382436",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`720dc04`](https://github.com/sagemath/sagetrac-mirror/commit/720dc046b8831170f06fe341bdfa42fefeb240c4)** to **[`a4ddeac`](https://github.com/sagemath/sagetrac-mirror/commit/a4ddeac32690b8be6a5edf66ff77979a1e9a2b3f)**



---

archive/issue_comments_382437.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4ddeac32690b8be6a5edf66ff77979a1e9a2b3f\"><code>a4ddeac</code></a></td><td><code>Cropped feature methods</code></td></tr></table>\n",
    "created_at": "2018-04-04T19:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382437",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4ddeac32690b8be6a5edf66ff77979a1e9a2b3f"><code>a4ddeac</code></a></td><td><code>Cropped feature methods</code></td></tr></table>




---

archive/issue_comments_382438.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19d853932f84bcf795ce15118147305ca5bef435\"><code>19d8539</code></a></td><td><code>Polyhedron_normaliz: In verbose mode, write out normaliz format files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cfcd14cb903546f65b9f17688661e90ba087b7a\"><code>4cfcd14</code></a></td><td><code>_normaliz_format: Fix last change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da8ae7a9c50c598f41e7462591f046fc1ce676ee\"><code>da8ae7a</code></a></td><td><code>Added data and cone methods to normaliz backend</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44549fa150a08fa327c7ae34f322bf4927b2eeec\"><code>44549fa</code></a></td><td><code>Merge branch 'pynormaliz2' into normaliz_features</code></td></tr></table>\n",
    "created_at": "2018-04-04T20:02:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382438",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19d853932f84bcf795ce15118147305ca5bef435"><code>19d8539</code></a></td><td><code>Polyhedron_normaliz: In verbose mode, write out normaliz format files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cfcd14cb903546f65b9f17688661e90ba087b7a"><code>4cfcd14</code></a></td><td><code>_normaliz_format: Fix last change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da8ae7a9c50c598f41e7462591f046fc1ce676ee"><code>da8ae7a</code></a></td><td><code>Added data and cone methods to normaliz backend</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44549fa150a08fa327c7ae34f322bf4927b2eeec"><code>44549fa</code></a></td><td><code>Merge branch 'pynormaliz2' into normaliz_features</code></td></tr></table>




---

archive/issue_comments_382439.json:
```json
{
    "body": "Changed commit from **[`a4ddeac`](https://github.com/sagemath/sagetrac-mirror/commit/a4ddeac32690b8be6a5edf66ff77979a1e9a2b3f)** to **[`44549fa`](https://github.com/sagemath/sagetrac-mirror/commit/44549fa150a08fa327c7ae34f322bf4927b2eeec)**",
    "created_at": "2018-04-04T20:02:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382439",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a4ddeac`](https://github.com/sagemath/sagetrac-mirror/commit/a4ddeac32690b8be6a5edf66ff77979a1e9a2b3f)** to **[`44549fa`](https://github.com/sagemath/sagetrac-mirror/commit/44549fa150a08fa327c7ae34f322bf4927b2eeec)**



---

archive/issue_comments_382440.json:
```json
{
    "body": "Changed commit from **[`44549fa`](https://github.com/sagemath/sagetrac-mirror/commit/44549fa150a08fa327c7ae34f322bf4927b2eeec)** to **[`e32c9fd`](https://github.com/sagemath/sagetrac-mirror/commit/e32c9fddc39dd6780fea791796c5a536ecf4d42c)**",
    "created_at": "2018-04-07T18:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382440",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`44549fa`](https://github.com/sagemath/sagetrac-mirror/commit/44549fa150a08fa327c7ae34f322bf4927b2eeec)** to **[`e32c9fd`](https://github.com/sagemath/sagetrac-mirror/commit/e32c9fddc39dd6780fea791796c5a536ecf4d42c)**



---

archive/issue_comments_382441.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e32c9fddc39dd6780fea791796c5a536ecf4d42c\"><code>e32c9fd</code></a></td><td><code>Added triangulate with normaliz</code></td></tr></table>\n",
    "created_at": "2018-04-07T18:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382441",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e32c9fddc39dd6780fea791796c5a536ecf4d42c"><code>e32c9fd</code></a></td><td><code>Added triangulate with normaliz</code></td></tr></table>




---

archive/issue_comments_382442.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,5 @@\n - Triangulations\n \n This ticket provides some new features.\n+\n+TO DO: Make the bridge with PointConfiguration `triangulate` and the triangulation via normaliz.\n``````\n",
    "created_at": "2018-04-07T18:38:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382442",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,5 @@
 - Triangulations
 
 This ticket provides some new features.
+
+TO DO: Make the bridge with PointConfiguration `triangulate` and the triangulation via normaliz.
``````




---

archive/issue_comments_382443.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45c39b85af9485489e081b14af08fcde297c4bd5\"><code>45c39b8</code></a></td><td><code>Some small edits</code></td></tr></table>\n",
    "created_at": "2018-04-07T18:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382443",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45c39b85af9485489e081b14af08fcde297c4bd5"><code>45c39b8</code></a></td><td><code>Some small edits</code></td></tr></table>




---

archive/issue_comments_382444.json:
```json
{
    "body": "Changed commit from **[`e32c9fd`](https://github.com/sagemath/sagetrac-mirror/commit/e32c9fddc39dd6780fea791796c5a536ecf4d42c)** to **[`45c39b8`](https://github.com/sagemath/sagetrac-mirror/commit/45c39b85af9485489e081b14af08fcde297c4bd5)**",
    "created_at": "2018-04-07T18:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382444",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e32c9fd`](https://github.com/sagemath/sagetrac-mirror/commit/e32c9fddc39dd6780fea791796c5a536ecf4d42c)** to **[`45c39b8`](https://github.com/sagemath/sagetrac-mirror/commit/45c39b85af9485489e081b14af08fcde297c4bd5)**



---

archive/issue_comments_382445.json:
```json
{
    "body": "Changed commit from **[`45c39b8`](https://github.com/sagemath/sagetrac-mirror/commit/45c39b85af9485489e081b14af08fcde297c4bd5)** to **[`5679821`](https://github.com/sagemath/sagetrac-mirror/commit/56798216576de3521fc2276c734cbf6c70f14c62)**",
    "created_at": "2018-04-08T16:23:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382445",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`45c39b8`](https://github.com/sagemath/sagetrac-mirror/commit/45c39b85af9485489e081b14af08fcde297c4bd5)** to **[`5679821`](https://github.com/sagemath/sagetrac-mirror/commit/56798216576de3521fc2276c734cbf6c70f14c62)**



---

archive/issue_comments_382446.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56798216576de3521fc2276c734cbf6c70f14c62\"><code>5679821</code></a></td><td><code>Added handling the triangulation with point configurations</code></td></tr></table>\n",
    "created_at": "2018-04-08T16:23:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382446",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56798216576de3521fc2276c734cbf6c70f14c62"><code>5679821</code></a></td><td><code>Added handling the triangulation with point configurations</code></td></tr></table>




---

archive/issue_comments_382447.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b045caf912268156ab2ea91b9efc425b8510df09\"><code>b045caf</code></a></td><td><code>Adapted inhomogeneous case</code></td></tr></table>\n",
    "created_at": "2018-04-08T17:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382447",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b045caf912268156ab2ea91b9efc425b8510df09"><code>b045caf</code></a></td><td><code>Adapted inhomogeneous case</code></td></tr></table>




---

archive/issue_comments_382448.json:
```json
{
    "body": "Changed commit from **[`5679821`](https://github.com/sagemath/sagetrac-mirror/commit/56798216576de3521fc2276c734cbf6c70f14c62)** to **[`b045caf`](https://github.com/sagemath/sagetrac-mirror/commit/b045caf912268156ab2ea91b9efc425b8510df09)**",
    "created_at": "2018-04-08T17:05:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382448",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5679821`](https://github.com/sagemath/sagetrac-mirror/commit/56798216576de3521fc2276c734cbf6c70f14c62)** to **[`b045caf`](https://github.com/sagemath/sagetrac-mirror/commit/b045caf912268156ab2ea91b9efc425b8510df09)**



---

archive/issue_comments_382449.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,8 +3,5 @@\n - Integral points generators\n - Volume\n - Euclidean volume\n-- Triangulations\n-\n-This ticket provides some new features.\n-\n-TO DO: Make the bridge with PointConfiguration `triangulate` and the triangulation via normaliz.\n+- Triangulation\n+- Hilbert series\n``````\n",
    "created_at": "2018-04-08T17:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382449",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,8 +3,5 @@
 - Integral points generators
 - Volume
 - Euclidean volume
-- Triangulations
-
-This ticket provides some new features.
-
-TO DO: Make the bridge with PointConfiguration `triangulate` and the triangulation via normaliz.
+- Triangulation
+- Hilbert series
``````




---

archive/issue_comments_382450.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nIt's probably best to add all lattice-point related methods to `Polyhedron_QQ_normaliz` rather than `Polyhedron_normaliz` in anticipation of #25097 (which moves `integral_points` and `integral_hull` there).",
    "created_at": "2018-04-09T04:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382450",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

It's probably best to add all lattice-point related methods to `Polyhedron_QQ_normaliz` rather than `Polyhedron_normaliz` in anticipation of #25097 (which moves `integral_points` and `integral_hull` there).



---

archive/issue_comments_382451.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@mkoeppe](#comment%3A18):\n> It's probably best to add all lattice-point related methods to `Polyhedron_QQ_normaliz` rather than `Polyhedron_normaliz` in anticipation of #25097 (which moves `integral_points` and `integral_hull` there). \n\nI see. Yes I can do that.",
    "created_at": "2018-04-09T13:24:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382451",
    "user": "https://github.com/jplab"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@mkoeppe](#comment%3A18):
> It's probably best to add all lattice-point related methods to `Polyhedron_QQ_normaliz` rather than `Polyhedron_normaliz` in anticipation of #25097 (which moves `integral_points` and `integral_hull` there). 

I see. Yes I can do that.



---

archive/issue_comments_382452.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jplab](#comment%3A19):\n> Replying to [@mkoeppe](#comment%3A18):\n> > It's probably best to add all lattice-point related methods to `Polyhedron_QQ_normaliz` rather than `Polyhedron_normaliz` in anticipation of #25097 (which moves `integral_points` and `integral_hull` there). \n> \n> \n> I see. Yes I can do that.\n\nAs discussed with mkoeppe: The move of the rational polyhedron methods will be done in #25097. The merge should go without conflicts.",
    "created_at": "2018-04-09T14:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382452",
    "user": "https://github.com/jplab"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jplab](#comment%3A19):
> Replying to [@mkoeppe](#comment%3A18):
> > It's probably best to add all lattice-point related methods to `Polyhedron_QQ_normaliz` rather than `Polyhedron_normaliz` in anticipation of #25097 (which moves `integral_points` and `integral_hull` there). 
> 
> 
> I see. Yes I can do that.

As discussed with mkoeppe: The move of the rational polyhedron methods will be done in #25097. The merge should go without conflicts.



---

archive/issue_comments_382453.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@videlec](#comment%3A7):\n> Note that `is_package_installed` is being deprecated, see #20382\n\nOh! Wow! Thanks for the timely warning! I set it as a dependency. I will change the check once it is merged...",
    "created_at": "2018-04-09T15:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382453",
    "user": "https://github.com/jplab"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@videlec](#comment%3A7):
> Note that `is_package_installed` is being deprecated, see #20382

Oh! Wow! Thanks for the timely warning! I set it as a dependency. I will change the check once it is merged...



---

archive/issue_comments_382454.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n - Euclidean volume\n - Triangulation\n - Hilbert series\n+\n+TODO: Adapt the `is_package_installed` for the volume part (see #20382).\n``````\n",
    "created_at": "2018-04-09T15:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382454",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 - Euclidean volume
 - Triangulation
 - Hilbert series
+
+TODO: Adapt the `is_package_installed` for the volume part (see #20382).
``````




---

archive/issue_comments_382455.json:
```json
{
    "body": "Changed dependencies from **#22984, #25090** to **#22984, #25090, #20382**",
    "created_at": "2018-04-09T15:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382455",
    "user": "https://github.com/jplab"
}
```

Changed dependencies from **#22984, #25090** to **#22984, #25090, #20382**



---

archive/issue_comments_382456.json:
```json
{
    "body": "Changed commit from **[`b045caf`](https://github.com/sagemath/sagetrac-mirror/commit/b045caf912268156ab2ea91b9efc425b8510df09)** to **[`e7be14a`](https://github.com/sagemath/sagetrac-mirror/commit/e7be14a7c0f2b3f2fc13cc2196b6f4cbad3bccdd)**",
    "created_at": "2018-04-09T15:13:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382456",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b045caf`](https://github.com/sagemath/sagetrac-mirror/commit/b045caf912268156ab2ea91b9efc425b8510df09)** to **[`e7be14a`](https://github.com/sagemath/sagetrac-mirror/commit/e7be14a7c0f2b3f2fc13cc2196b6f4cbad3bccdd)**



---

archive/issue_comments_382457.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7be14a7c0f2b3f2fc13cc2196b6f4cbad3bccdd\"><code>e7be14a</code></a></td><td><code>Fixed some polytopes and added some tests</code></td></tr></table>\n",
    "created_at": "2018-04-09T15:13:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382457",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7be14a7c0f2b3f2fc13cc2196b6f4cbad3bccdd"><code>e7be14a</code></a></td><td><code>Fixed some polytopes and added some tests</code></td></tr></table>




---

archive/issue_comments_382458.json:
```json
{
    "body": "Changed commit from **[`e7be14a`](https://github.com/sagemath/sagetrac-mirror/commit/e7be14a7c0f2b3f2fc13cc2196b6f4cbad3bccdd)** to **[`3615f8d`](https://github.com/sagemath/sagetrac-mirror/commit/3615f8d33d9fb37ca0a905195dd21c8e17a05a7d)**",
    "created_at": "2018-04-13T19:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382458",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e7be14a`](https://github.com/sagemath/sagetrac-mirror/commit/e7be14a7c0f2b3f2fc13cc2196b6f4cbad3bccdd)** to **[`3615f8d`](https://github.com/sagemath/sagetrac-mirror/commit/3615f8d33d9fb37ca0a905195dd21c8e17a05a7d)**



---

archive/issue_comments_382459.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa0e2cad2c3e0d72e751f28937abf2e31afcd2ec\"><code>aa0e2ca</code></a></td><td><code>Merge branch normaliz3.5.3 and pynormaliz1.12 into sage8.2.rc2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bbd8a6af8546ef20c9e769ab6a0165f91f39f5b\"><code>2bbd8a6</code></a></td><td><code>Update normaliz and pynormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82d719093a99643ba102d285f705904066380f0b\"><code>82d7190</code></a></td><td><code>Merged old changes with latest versions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3615f8d33d9fb37ca0a905195dd21c8e17a05a7d\"><code>3615f8d</code></a></td><td><code>Merge branch 'update_py_normaliz' into normaliz_features</code></td></tr></table>\n",
    "created_at": "2018-04-13T19:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382459",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa0e2cad2c3e0d72e751f28937abf2e31afcd2ec"><code>aa0e2ca</code></a></td><td><code>Merge branch normaliz3.5.3 and pynormaliz1.12 into sage8.2.rc2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bbd8a6af8546ef20c9e769ab6a0165f91f39f5b"><code>2bbd8a6</code></a></td><td><code>Update normaliz and pynormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82d719093a99643ba102d285f705904066380f0b"><code>82d7190</code></a></td><td><code>Merged old changes with latest versions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3615f8d33d9fb37ca0a905195dd21c8e17a05a7d"><code>3615f8d</code></a></td><td><code>Merge branch 'update_py_normaliz' into normaliz_features</code></td></tr></table>




---

archive/issue_comments_382460.json:
```json
{
    "body": "Changed commit from **[`3615f8d`](https://github.com/sagemath/sagetrac-mirror/commit/3615f8d33d9fb37ca0a905195dd21c8e17a05a7d)** to **[`8bff81f`](https://github.com/sagemath/sagetrac-mirror/commit/8bff81f233fb570e8477db0ea1d898a8a611512d)**",
    "created_at": "2018-04-13T20:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382460",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3615f8d`](https://github.com/sagemath/sagetrac-mirror/commit/3615f8d33d9fb37ca0a905195dd21c8e17a05a7d)** to **[`8bff81f`](https://github.com/sagemath/sagetrac-mirror/commit/8bff81f233fb570e8477db0ea1d898a8a611512d)**



---

archive/issue_comments_382461.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e44cebd10d1086831a058b47b78e73be200604bb\"><code>e44cebd</code></a></td><td><code>Made tests pass for volume</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bff81f233fb570e8477db0ea1d898a8a611512d\"><code>8bff81f</code></a></td><td><code>Fixed the triangulation using normaliz</code></td></tr></table>\n",
    "created_at": "2018-04-13T20:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382461",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e44cebd10d1086831a058b47b78e73be200604bb"><code>e44cebd</code></a></td><td><code>Made tests pass for volume</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bff81f233fb570e8477db0ea1d898a8a611512d"><code>8bff81f</code></a></td><td><code>Fixed the triangulation using normaliz</code></td></tr></table>




---

archive/issue_comments_382462.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0e2498cf6a3e028c856702c23316e709fe17b00\"><code>d0e2498</code></a></td><td><code>Added the Ehrhart Series and Quasi-Polynomial</code></td></tr></table>\n",
    "created_at": "2018-04-13T22:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382462",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0e2498cf6a3e028c856702c23316e709fe17b00"><code>d0e2498</code></a></td><td><code>Added the Ehrhart Series and Quasi-Polynomial</code></td></tr></table>




---

archive/issue_comments_382463.json:
```json
{
    "body": "Changed commit from **[`8bff81f`](https://github.com/sagemath/sagetrac-mirror/commit/8bff81f233fb570e8477db0ea1d898a8a611512d)** to **[`d0e2498`](https://github.com/sagemath/sagetrac-mirror/commit/d0e2498cf6a3e028c856702c23316e709fe17b00)**",
    "created_at": "2018-04-13T22:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382463",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8bff81f`](https://github.com/sagemath/sagetrac-mirror/commit/8bff81f233fb570e8477db0ea1d898a8a611512d)** to **[`d0e2498`](https://github.com/sagemath/sagetrac-mirror/commit/d0e2498cf6a3e028c856702c23316e709fe17b00)**



---

archive/issue_comments_382464.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/668fdfc3d93a3c567c3258b7d8eaa2c36bcc5400\"><code>668fdfc</code></a></td><td><code>Added an example</code></td></tr></table>\n",
    "created_at": "2018-04-13T22:39:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382464",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/668fdfc3d93a3c567c3258b7d8eaa2c36bcc5400"><code>668fdfc</code></a></td><td><code>Added an example</code></td></tr></table>




---

archive/issue_comments_382465.json:
```json
{
    "body": "Changed commit from **[`d0e2498`](https://github.com/sagemath/sagetrac-mirror/commit/d0e2498cf6a3e028c856702c23316e709fe17b00)** to **[`668fdfc`](https://github.com/sagemath/sagetrac-mirror/commit/668fdfc3d93a3c567c3258b7d8eaa2c36bcc5400)**",
    "created_at": "2018-04-13T22:39:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382465",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d0e2498`](https://github.com/sagemath/sagetrac-mirror/commit/d0e2498cf6a3e028c856702c23316e709fe17b00)** to **[`668fdfc`](https://github.com/sagemath/sagetrac-mirror/commit/668fdfc3d93a3c567c3258b7d8eaa2c36bcc5400)**



---

archive/issue_comments_382466.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,10 @@\n Using Normaliz can compute several things that are currently not interfaced. For example:\n \n - Integral points generators\n-- Volume\n-- Euclidean volume\n+- Euclidean volume and volume\n - Triangulation\n - Hilbert series\n+- Ehrhart series of compact polyhedron\n+- Ehrhart quasi-polynomial of compact polyhedron\n \n TODO: Adapt the `is_package_installed` for the volume part (see #20382).\n``````\n",
    "created_at": "2018-04-13T22:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382466",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,10 @@
 Using Normaliz can compute several things that are currently not interfaced. For example:
 
 - Integral points generators
-- Volume
-- Euclidean volume
+- Euclidean volume and volume
 - Triangulation
 - Hilbert series
+- Ehrhart series of compact polyhedron
+- Ehrhart quasi-polynomial of compact polyhedron
 
 TODO: Adapt the `is_package_installed` for the volume part (see #20382).
``````




---

archive/issue_comments_382467.json:
```json
{
    "body": "Author: **Jean-Philippe Labb\u00e9**",
    "created_at": "2018-04-13T22:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382467",
    "user": "https://github.com/jplab"
}
```

Author: **Jean-Philippe Labb√©**



---

archive/issue_events_344113.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-08-05T12:38:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344113"
}
```



---

archive/issue_events_344114.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-08-05T12:38:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344114"
}
```



---

archive/issue_comments_382468.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nOut of interest: Given a monomial ideal in Sage, how can one compute its Hilbert series using normaliz?",
    "created_at": "2018-09-11T15:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382468",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:29" align="right">comment:29</div>

Out of interest: Given a monomial ideal in Sage, how can one compute its Hilbert series using normaliz?



---

archive/issue_comments_382469.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@jplab](#comment%3A21):\n> Replying to [@videlec](#comment%3A7):\n> > Note that `is_package_installed` is being deprecated, see #20382\n> \n> \n> Oh! Wow! Thanks for the timely warning! I set it as a dependency. I will change the check once it is merged...\n\nIt is really a pity that #20382 doesn't explain (in the ticket description!!!) what one is supposed to do instead of `is_package_installed`.\n\nSo, how would one change the current branch to make it use #20382?",
    "created_at": "2018-09-11T16:48:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382469",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@jplab](#comment%3A21):
> Replying to [@videlec](#comment%3A7):
> > Note that `is_package_installed` is being deprecated, see #20382
> 
> 
> Oh! Wow! Thanks for the timely warning! I set it as a dependency. I will change the check once it is merged...

It is really a pity that #20382 doesn't explain (in the ticket description!!!) what one is supposed to do instead of `is_package_installed`.

So, how would one change the current branch to make it use #20382?



---

archive/issue_comments_382470.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to SimonKing\n\nNormaliz can compute Hilbert series of the integral closures of monomial ideals, not of arbitrary monomial ideals. If one wants to apply it: input the monomials as vertices, the polynomial ring as cone (= unit matrix), and put the weights of the indeterminates into the grading.\n\nExample for Normaliz input (integral closure of (x^2, y^2, deg x = 2, deg y =1)\n\n\n```\namb_space 2\nvertices 2\n2 0 1\n0 2 1\ncone 2\n1 0\n0 1\ngrading \n2 1\nHilbertSeries\n```",
    "created_at": "2018-09-11T19:18:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382470",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to SimonKing

Normaliz can compute Hilbert series of the integral closures of monomial ideals, not of arbitrary monomial ideals. If one wants to apply it: input the monomials as vertices, the polynomial ring as cone (= unit matrix), and put the weights of the indeterminates into the grading.

Example for Normaliz input (integral closure of (x^2, y^2, deg x = 2, deg y =1)


```
amb_space 2
vertices 2
2 0 1
0 2 1
cone 2
1 0
0 1
grading 
2 1
HilbertSeries
```



---

archive/issue_comments_382471.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@w-bruns](#comment%3A31):\n> Replying to SimonKing\n> \n> Normaliz can compute Hilbert series of the integral closures of monomial ideals, not of arbitrary monomial ideals. If one wants to apply it: input the monomials as vertices, the polynomial ring as cone (= unit matrix), and put the weights of the indeterminates into the grading.\n> \n> Example for Normaliz input (integral closure of (x^2, y^2, deg x = 2, deg y =1)\n> \n> \n> ```\n> amb_space 2\n> vertices 2\n> 2 0 1\n> 0 2 1\n> cone 2\n> 1 0\n> 0 1\n> grading \n> 2 1\n> HilbertSeries\n> ```\n\nThank you. But my question was really: Given a monomial ideal **in Sage**, how to compute the Hilbert series of it (or maybe of its integral closure) using normaliz as a backend (not: *in* normaliz).\n\nI.e.:\n\n```\n        sage: n=4;m=11;P = PolynomialRing(QQ,n*m,\"x\"); x = P.gens(); M = Matrix(n,x)\n        sage: I = P.ideal(M.minors(2))\n        sage: J = P*[m.lm() for m in I.groebner_basis()]\n```\nand what now? How to use the new interface to normaliz to compute the Hilbert series of (the integral closure of) `J`?\n\nSince I never worked with the integral closure of a monomial ideal: How are the Hilbert series of the ideal and its integral closure related?",
    "created_at": "2018-09-11T19:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382471",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@w-bruns](#comment%3A31):
> Replying to SimonKing
> 
> Normaliz can compute Hilbert series of the integral closures of monomial ideals, not of arbitrary monomial ideals. If one wants to apply it: input the monomials as vertices, the polynomial ring as cone (= unit matrix), and put the weights of the indeterminates into the grading.
> 
> Example for Normaliz input (integral closure of (x^2, y^2, deg x = 2, deg y =1)
> 
> 
> ```
> amb_space 2
> vertices 2
> 2 0 1
> 0 2 1
> cone 2
> 1 0
> 0 1
> grading 
> 2 1
> HilbertSeries
> ```

Thank you. But my question was really: Given a monomial ideal **in Sage**, how to compute the Hilbert series of it (or maybe of its integral closure) using normaliz as a backend (not: *in* normaliz).

I.e.:

```
        sage: n=4;m=11;P = PolynomialRing(QQ,n*m,"x"); x = P.gens(); M = Matrix(n,x)
        sage: I = P.ideal(M.minors(2))
        sage: J = P*[m.lm() for m in I.groebner_basis()]
```
and what now? How to use the new interface to normaliz to compute the Hilbert series of (the integral closure of) `J`?

Since I never worked with the integral closure of a monomial ideal: How are the Hilbert series of the ideal and its integral closure related?



---

archive/issue_comments_382472.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\n\"What now?\" is a question that Jean-Philippe should answer. I have no overview which of the Normaliz computation goals can be reached from Sage. However, all of them can be reached via PyNormaliz. For example, Normaliz can take a binomial ideal (suitably encoded) as input. It finds the affine monoid A defined by the binomial ideal, and then computes invariants of the normalization of A.\n\nI think there is no way to relate the Hilbert series of an ideal I and the Hilbert series of its integral closure in a useful way.",
    "created_at": "2018-09-12T07:50:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382472",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:33" align="right">comment:33</div>

"What now?" is a question that Jean-Philippe should answer. I have no overview which of the Normaliz computation goals can be reached from Sage. However, all of them can be reached via PyNormaliz. For example, Normaliz can take a binomial ideal (suitably encoded) as input. It finds the affine monoid A defined by the binomial ideal, and then computes invariants of the normalization of A.

I think there is no way to relate the Hilbert series of an ideal I and the Hilbert series of its integral closure in a useful way.



---

archive/issue_comments_382473.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\n> \n> Thank you. But my question was really: Given a monomial ideal **in Sage**, how to compute the Hilbert series of it (or maybe of its integral closure) using normaliz as a backend (not: *in* normaliz).\n> \n> I.e.:\n> \n> ```\n>         sage: n=4;m=11;P = PolynomialRing(QQ,n*m,\"x\"); x = P.gens(); M = Matrix(n,x)\n>         sage: I = P.ideal(M.minors(2))\n>         sage: J = P*[m.lm() for m in I.groebner_basis()]\n> ```\n> and what now? How to use the new interface to normaliz to compute the Hilbert series of (the integral closure of) `J`?\n> \n> Since I never worked with the integral closure of a monomial ideal: How are the Hilbert series of the ideal and its integral closure related?\n\nMy knowledge of the theory lacks in order to give you a satisfactory answer to your questions.\n\nThe present ticket allows you to get the Hilbert series *of a rational polyhedron*. Whether this Hilbert series *is* or corresponds to the Hilbert series of a monomial ideal should be clarified. In case they match, then, what I would do in Sage is\n\n1) a function that transfers the data of the monomial ideal to a polyhedron that uses the backend normaliz and compute its hilbert series (a function implemented in this ticket).\n\n2) use PyNormaliz package directly as the normaliz backend of polyhedron is currently doing. This is not really well documented as its usage is currently only in the backend for polyhedron.\n\nFor this, the present ticket provides some useful functions to deal with PyNormaliz that builds on #25090.",
    "created_at": "2018-09-17T15:31:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382473",
    "user": "https://github.com/jplab"
}
```

<div id="comment:34" align="right">comment:34</div>

> 
> Thank you. But my question was really: Given a monomial ideal **in Sage**, how to compute the Hilbert series of it (or maybe of its integral closure) using normaliz as a backend (not: *in* normaliz).
> 
> I.e.:
> 
> ```
>         sage: n=4;m=11;P = PolynomialRing(QQ,n*m,"x"); x = P.gens(); M = Matrix(n,x)
>         sage: I = P.ideal(M.minors(2))
>         sage: J = P*[m.lm() for m in I.groebner_basis()]
> ```
> and what now? How to use the new interface to normaliz to compute the Hilbert series of (the integral closure of) `J`?
> 
> Since I never worked with the integral closure of a monomial ideal: How are the Hilbert series of the ideal and its integral closure related?

My knowledge of the theory lacks in order to give you a satisfactory answer to your questions.

The present ticket allows you to get the Hilbert series *of a rational polyhedron*. Whether this Hilbert series *is* or corresponds to the Hilbert series of a monomial ideal should be clarified. In case they match, then, what I would do in Sage is

1) a function that transfers the data of the monomial ideal to a polyhedron that uses the backend normaliz and compute its hilbert series (a function implemented in this ticket).

2) use PyNormaliz package directly as the normaliz backend of polyhedron is currently doing. This is not really well documented as its usage is currently only in the backend for polyhedron.

For this, the present ticket provides some useful functions to deal with PyNormaliz that builds on #25090.



---

archive/issue_comments_382474.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nWould this compute what you want? I did this with the current ticket and merge with the latest sage.\n\n```\n\nsage: n=4;m=11;P = PolynomialRing(QQ,n*m,\"x\"); x = P.gens(); M = Matrix(n,x)\nsage: I = P.ideal(M.minors(2))\nsage: J = P*[m.lm() for m in I.groebner_basis()]\nsage: P = Polyhedron(rays=[m.degrees() for m in J.gens()],backend='normaliz')\nsage: P\nA 42-dimensional polyhedron in ZZ^44 defined as the convex hull of 1 vertex and 330 rays\nsage: P.hilbert_series()\n\n```\n\nWell, I'd say this is a quite large computation involving triangulating a 42 dimensional polyhedron with 330 vertices...",
    "created_at": "2018-09-17T15:52:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382474",
    "user": "https://github.com/jplab"
}
```

<div id="comment:35" align="right">comment:35</div>

Would this compute what you want? I did this with the current ticket and merge with the latest sage.

```

sage: n=4;m=11;P = PolynomialRing(QQ,n*m,"x"); x = P.gens(); M = Matrix(n,x)
sage: I = P.ideal(M.minors(2))
sage: J = P*[m.lm() for m in I.groebner_basis()]
sage: P = Polyhedron(rays=[m.degrees() for m in J.gens()],backend='normaliz')
sage: P
A 42-dimensional polyhedron in ZZ^44 defined as the convex hull of 1 vertex and 330 rays
sage: P.hilbert_series()

```

Well, I'd say this is a quite large computation involving triangulating a 42 dimensional polyhedron with 330 vertices...



---

archive/issue_comments_382475.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nWhat one really wants is not the Hilbert series of the ideal. The goal is the Hilbert series of the residue class ring defined by the ideal. The residue class ring can be identified with a monomial algebra of Krull dimension 14. The Hilbert series is easily calculated. If one wants to use Normaliz for it, then the best approach is to input the binomial ideal to Normaliz.\n\nYou make a matrix of integer vectors whose rows represent the binomials in the form v-w, corresponding to x^v - x^w. The input type is \"lattice_ideal\". You must also define a grading. Simply say \"total_degree\". In this case it represents a vector with 44 entries 1.\n\nThat one can go this way is due to the fact that the residue class ring is a normal monoid algebra. In general this is not the case.",
    "created_at": "2018-09-17T16:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382475",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:36" align="right">comment:36</div>

What one really wants is not the Hilbert series of the ideal. The goal is the Hilbert series of the residue class ring defined by the ideal. The residue class ring can be identified with a monomial algebra of Krull dimension 14. The Hilbert series is easily calculated. If one wants to use Normaliz for it, then the best approach is to input the binomial ideal to Normaliz.

You make a matrix of integer vectors whose rows represent the binomials in the form v-w, corresponding to x^v - x^w. The input type is "lattice_ideal". You must also define a grading. Simply say "total_degree". In this case it represents a vector with 44 entries 1.

That one can go this way is due to the fact that the residue class ring is a normal monoid algebra. In general this is not the case.



---

archive/issue_comments_382476.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@simon-king-jena](#comment%3A30):\n> Replying to [@jplab](#comment%3A21):\n> > Replying to [@videlec](#comment%3A7):\n> > > Note that `is_package_installed` is being deprecated, see #20382\n> > \n> > \n> > Oh! Wow! Thanks for the timely warning! I set it as a dependency. I will change the check once it is merged...\n> \n> \n> It is really a pity that #20382 doesn't explain (in the ticket description!!!) what one is supposed to do instead of `is_package_installed`.\n\nIndeed.",
    "created_at": "2018-09-17T17:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382476",
    "user": "https://github.com/jplab"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@simon-king-jena](#comment%3A30):
> Replying to [@jplab](#comment%3A21):
> > Replying to [@videlec](#comment%3A7):
> > > Note that `is_package_installed` is being deprecated, see #20382
> > 
> > 
> > Oh! Wow! Thanks for the timely warning! I set it as a dependency. I will change the check once it is merged...
> 
> 
> It is really a pity that #20382 doesn't explain (in the ticket description!!!) what one is supposed to do instead of `is_package_installed`.

Indeed.



---

archive/issue_comments_382477.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nConcerning the `is_package_installed` thing, it seems that it is *not* deprecated when we want to check whether a package was installed using `sage -i` which is what we want here I guess.\n\nSo I would remove it from the necessary things to do for this ticket.",
    "created_at": "2018-09-17T18:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382477",
    "user": "https://github.com/jplab"
}
```

<div id="comment:38" align="right">comment:38</div>

Concerning the `is_package_installed` thing, it seems that it is *not* deprecated when we want to check whether a package was installed using `sage -i` which is what we want here I guess.

So I would remove it from the necessary things to do for this ticket.



---

archive/issue_comments_382478.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@jplab](#comment%3A38):\n> Concerning the `is_package_installed` thing, it seems that it is *not* deprecated when we want to check whether a package was installed using `sage -i` which is what we want here I guess.\n> \n> So I would remove it from the necessary things to do for this ticket.\n\nI tend to disagree. `is_package_installed` is used here to test whether pynormaliz, normaliz, or latte_int is available. And it may be available for reasons that have nothing to do with `sage -i`.",
    "created_at": "2018-09-17T21:03:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382478",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@jplab](#comment%3A38):
> Concerning the `is_package_installed` thing, it seems that it is *not* deprecated when we want to check whether a package was installed using `sage -i` which is what we want here I guess.
> 
> So I would remove it from the necessary things to do for this ticket.

I tend to disagree. `is_package_installed` is used here to test whether pynormaliz, normaliz, or latte_int is available. And it may be available for reasons that have nothing to do with `sage -i`.



---

archive/issue_comments_382479.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@simon-king-jena](#comment%3A39):\n> Replying to [@jplab](#comment%3A38):\n> > Concerning the `is_package_installed` thing, it seems that it is *not* deprecated when we want to check whether a package was installed using `sage -i` which is what we want here I guess.\n> > \n> > So I would remove it from the necessary things to do for this ticket.\n> \n> \n> I tend to disagree. `is_package_installed` is used here to test whether pynormaliz, normaliz, or latte_int is available. And it may be available for reasons that have nothing to do with `sage -i`.\n\nOkay. Nevertheless, the mentionned ticket does not provide a way to check if they are available or not. Right?",
    "created_at": "2018-09-19T00:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382479",
    "user": "https://github.com/jplab"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@simon-king-jena](#comment%3A39):
> Replying to [@jplab](#comment%3A38):
> > Concerning the `is_package_installed` thing, it seems that it is *not* deprecated when we want to check whether a package was installed using `sage -i` which is what we want here I guess.
> > 
> > So I would remove it from the necessary things to do for this ticket.
> 
> 
> I tend to disagree. `is_package_installed` is used here to test whether pynormaliz, normaliz, or latte_int is available. And it may be available for reasons that have nothing to do with `sage -i`.

Okay. Nevertheless, the mentionned ticket does not provide a way to check if they are available or not. Right?



---

archive/issue_comments_382480.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@jplab](#comment%3A40):\n> Okay. Nevertheless, the mentionned ticket does not provide a way to check if they are available or not. Right?\n\nYes, it doesn't. But I guess that's because the author of that ticket thought that the solution is relatively straight forward: When you code in Python, how do you use a package? You do so by importing stuff. Hence, you should test whether the package is available by trying to import something from that package (sooner or later, you will do anyway!), surrounded with a `try: ... except ImportError: ...` clause.\n\nIndeed, in your code, you do `import PyNormaliz`. So, this could be\n\n```\ntry:\n    import PyNormaliz\nexcept ImportError:\n    raise ImportError(\"some meaningful error message, telling the user at least one way to install PyNormaliz\")\n```\n\nFor latte_int, I am not so sure what you do, because I don't see a related import statement in your code. However, in some place of your code, you do use it; you should try and see what happens if latte_int is not available: Will there be an ImportError, or a TypeError, or a ValueError, etc.? Then, instead of `is_package_available`, you could try to use latte_int in a dry run, and if an error occurs, you take it as an answer (namely the answer that latte_int is not available).",
    "created_at": "2018-09-19T06:20:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382480",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@jplab](#comment%3A40):
> Okay. Nevertheless, the mentionned ticket does not provide a way to check if they are available or not. Right?

Yes, it doesn't. But I guess that's because the author of that ticket thought that the solution is relatively straight forward: When you code in Python, how do you use a package? You do so by importing stuff. Hence, you should test whether the package is available by trying to import something from that package (sooner or later, you will do anyway!), surrounded with a `try: ... except ImportError: ...` clause.

Indeed, in your code, you do `import PyNormaliz`. So, this could be

```
try:
    import PyNormaliz
except ImportError:
    raise ImportError("some meaningful error message, telling the user at least one way to install PyNormaliz")
```

For latte_int, I am not so sure what you do, because I don't see a related import statement in your code. However, in some place of your code, you do use it; you should try and see what happens if latte_int is not available: Will there be an ImportError, or a TypeError, or a ValueError, etc.? Then, instead of `is_package_available`, you could try to use latte_int in a dry run, and if an error occurs, you take it as an answer (namely the answer that latte_int is not available).



---

archive/issue_comments_382481.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@jplab](#comment%3A40):\n> Replying to [@simon-king-jena](#comment%3A39):\n> > Replying to [@jplab](#comment%3A38):\n> > > Concerning the `is_package_installed` thing, it seems that it is *not* deprecated when we want to check whether a package was installed using `sage -i` which is what we want here I guess.\n> > > \n> > > So I would remove it from the necessary things to do for this ticket.\n> > \n> > \n> > I tend to disagree. `is_package_installed` is used here to test whether pynormaliz, normaliz, or latte_int is available. And it may be available for reasons that have nothing to do with `sage -i`.\n> \n> \n> Okay. Nevertheless, the mentionned ticket does not provide a way to check if they are available or not. Right?\n\nI think what may be intended here is to subclass `sage.features.PythonModule`.",
    "created_at": "2018-09-19T12:58:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382481",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@jplab](#comment%3A40):
> Replying to [@simon-king-jena](#comment%3A39):
> > Replying to [@jplab](#comment%3A38):
> > > Concerning the `is_package_installed` thing, it seems that it is *not* deprecated when we want to check whether a package was installed using `sage -i` which is what we want here I guess.
> > > 
> > > So I would remove it from the necessary things to do for this ticket.
> > 
> > 
> > I tend to disagree. `is_package_installed` is used here to test whether pynormaliz, normaliz, or latte_int is available. And it may be available for reasons that have nothing to do with `sage -i`.
> 
> 
> Okay. Nevertheless, the mentionned ticket does not provide a way to check if they are available or not. Right?

I think what may be intended here is to subclass `sage.features.PythonModule`.



---

archive/issue_comments_382482.json:
```json
{
    "body": "Changed commit from **[`668fdfc`](https://github.com/sagemath/sagetrac-mirror/commit/668fdfc3d93a3c567c3258b7d8eaa2c36bcc5400)** to **[`d5fdf16`](https://github.com/sagemath/sagetrac-mirror/commit/d5fdf168e49a1a4260dc804d29998f33da3a4aba)**",
    "created_at": "2018-10-10T19:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382482",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`668fdfc`](https://github.com/sagemath/sagetrac-mirror/commit/668fdfc3d93a3c567c3258b7d8eaa2c36bcc5400)** to **[`d5fdf16`](https://github.com/sagemath/sagetrac-mirror/commit/d5fdf168e49a1a4260dc804d29998f33da3a4aba)**



---

archive/issue_comments_382483.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5fdf168e49a1a4260dc804d29998f33da3a4aba\"><code>d5fdf16</code></a></td><td><code>Merge branch 'develop' into HEAD</code></td></tr></table>\n",
    "created_at": "2018-10-10T19:26:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382483",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5fdf168e49a1a4260dc804d29998f33da3a4aba"><code>d5fdf16</code></a></td><td><code>Merge branch 'develop' into HEAD</code></td></tr></table>




---

archive/issue_comments_382484.json:
```json
{
    "body": "Changed commit from **[`d5fdf16`](https://github.com/sagemath/sagetrac-mirror/commit/d5fdf168e49a1a4260dc804d29998f33da3a4aba)** to **[`20d2fde`](https://github.com/sagemath/sagetrac-mirror/commit/20d2fde78750f859770f05473f49d7de460d6bb1)**",
    "created_at": "2018-10-11T17:49:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382484",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d5fdf16`](https://github.com/sagemath/sagetrac-mirror/commit/d5fdf168e49a1a4260dc804d29998f33da3a4aba)** to **[`20d2fde`](https://github.com/sagemath/sagetrac-mirror/commit/20d2fde78750f859770f05473f49d7de460d6bb1)**



---

archive/issue_comments_382485.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20d2fde78750f859770f05473f49d7de460d6bb1\"><code>20d2fde</code></a></td><td><code>Fix typo in docstring.</code></td></tr></table>\n",
    "created_at": "2018-10-11T17:49:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382485",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20d2fde78750f859770f05473f49d7de460d6bb1"><code>20d2fde</code></a></td><td><code>Fix typo in docstring.</code></td></tr></table>




---

archive/issue_comments_382486.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI looked back at this now, and I'm getting a weird result from an example in Normaliz' manual:\n\n```\nsage: P = Polyhedron(vertices=[(1/2,1/2),(1/3,1/3),(1/4,-1/2)],backend='normaliz')\nsage: P\nA 2-dimensional polyhedron in QQ^2 defined as the convex hull of 3 vertices\nsage: P.hilbert_series()\n0\n```\n\nFrom calling PyNormaliz, I get:\n\n```\nsage: h = PyNormaliz.NmzResult(new_cone, \"HilbertSeries\")\nsage: h\n[[], [], -1L]\n```\n\nSo it's not the parsing from PyNormaliz to sage, but rather something weird is happening here. It has been a while since I wrote the code so I am a bit lost in trying to figure out what is going on...\n\nI'll try to do some more searching...",
    "created_at": "2019-01-28T16:59:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382486",
    "user": "https://github.com/jplab"
}
```

<div id="comment:46" align="right">comment:46</div>

I looked back at this now, and I'm getting a weird result from an example in Normaliz' manual:

```
sage: P = Polyhedron(vertices=[(1/2,1/2),(1/3,1/3),(1/4,-1/2)],backend='normaliz')
sage: P
A 2-dimensional polyhedron in QQ^2 defined as the convex hull of 3 vertices
sage: P.hilbert_series()
0
```

From calling PyNormaliz, I get:

```
sage: h = PyNormaliz.NmzResult(new_cone, "HilbertSeries")
sage: h
[[], [], -1L]
```

So it's not the parsing from PyNormaliz to sage, but rather something weird is happening here. It has been a while since I wrote the code so I am a bit lost in trying to figure out what is going on...

I'll try to do some more searching...



---

archive/issue_comments_382487.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI guess you want the Ehrhart series. The Normaliz computation goal HilbertSeries requires the existence of a grading which is not defined with this input. \n\nThis is an intricate point, but it is inevitable: the grading is defined on the space in which the polyhedron lives, not on the cone over it.",
    "created_at": "2019-01-28T18:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382487",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:47" align="right">comment:47</div>

I guess you want the Ehrhart series. The Normaliz computation goal HilbertSeries requires the existence of a grading which is not defined with this input. 

This is an intricate point, but it is inevitable: the grading is defined on the space in which the polyhedron lives, not on the cone over it.



---

archive/issue_comments_382488.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@w-bruns](#comment%3A47):\n> I guess you want the Ehrhart series. The Normaliz computation goal HilbertSeries requires the existence of a grading which is not defined with this input. \n> \n\nYes, in the end I want the Ehrhart series, but I was doing both computations to understand their difference again...\n\n> This is an intricate point, but it is inevitable: the grading is defined on the space in which the polyhedron lives, not on the cone over it.  \n\nYes, agreed. I take this example from p.23 of the Normaliz manual. I thought that HilbertSeries would work out of the box like in the example. That's why I am asking myself what I did wrong.\n\nIn the code for hilbert_series, if no grading is given, we canonically give the all 1's grading on the ambient space, and then ask for the HilbertSeries, in which case we get the empty result(!?). (Is that a good choice of canonical grading?)\n\nSo, my question would be, how do I get the result from the Normaliz manual?\n\nThis issue makes me wonder also if the results in the current examples are actually true (because maybe I am doing something wrong). For example, what would be the expected outputs of for the 3-dimensional 0-1 cube?\n\nCurrently it gives me:\n\n```\nsage: C = Polyhedron(vertices = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1]\n....: ,[1,1,0],[1,1,1]],backend='normaliz')\nsage: C.hilbert_series()\nt^3 + 3*t^2 + 3*t + 1\nsage: C.ehrhart_series()\n(t^2 + 4*t + 1)/(t^10 - t^9 - t^8 + 2*t^5 - t^2 - t + 1)\nsage: C.ehrhart_series().denominator().factor()\n(t + 1)^2 * (t - 1)^4 * (t^2 + 1) * (t^2 + t + 1)\nsage: C.ehrhart_quasipolynomial()\nt^3 + 3*t^2 + 3*t + 1\n```\n\nHilbert series and ehrhart polynomials look fine, but the denominator of the Ehrhart series is not what I would expect. Is that related to the discussion on p.24 of Normaliz' manual?\n\nI would have expected (1-t)^4, so that the degree would be -2 so that when we dilate by a factor two, we see the first interior integer point. Right?",
    "created_at": "2019-01-29T08:36:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382488",
    "user": "https://github.com/jplab"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@w-bruns](#comment%3A47):
> I guess you want the Ehrhart series. The Normaliz computation goal HilbertSeries requires the existence of a grading which is not defined with this input. 
> 

Yes, in the end I want the Ehrhart series, but I was doing both computations to understand their difference again...

> This is an intricate point, but it is inevitable: the grading is defined on the space in which the polyhedron lives, not on the cone over it.  

Yes, agreed. I take this example from p.23 of the Normaliz manual. I thought that HilbertSeries would work out of the box like in the example. That's why I am asking myself what I did wrong.

In the code for hilbert_series, if no grading is given, we canonically give the all 1's grading on the ambient space, and then ask for the HilbertSeries, in which case we get the empty result(!?). (Is that a good choice of canonical grading?)

So, my question would be, how do I get the result from the Normaliz manual?

This issue makes me wonder also if the results in the current examples are actually true (because maybe I am doing something wrong). For example, what would be the expected outputs of for the 3-dimensional 0-1 cube?

Currently it gives me:

```
sage: C = Polyhedron(vertices = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1]
....: ,[1,1,0],[1,1,1]],backend='normaliz')
sage: C.hilbert_series()
t^3 + 3*t^2 + 3*t + 1
sage: C.ehrhart_series()
(t^2 + 4*t + 1)/(t^10 - t^9 - t^8 + 2*t^5 - t^2 - t + 1)
sage: C.ehrhart_series().denominator().factor()
(t + 1)^2 * (t - 1)^4 * (t^2 + 1) * (t^2 + t + 1)
sage: C.ehrhart_quasipolynomial()
t^3 + 3*t^2 + 3*t + 1
```

Hilbert series and ehrhart polynomials look fine, but the denominator of the Ehrhart series is not what I would expect. Is that related to the discussion on p.24 of Normaliz' manual?

I would have expected (1-t)^4, so that the degree would be -2 so that when we dilate by a factor two, we see the first interior integer point. Right?



---

archive/issue_comments_382489.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nHilbertSeries works out of the box, provided you use the right input type:\n\n**polytope** defines a cone and a grading, and the Hilbert series of the cone under this grading is the Ehrhart series of the polytope that arises as the intersection of the cone and the hyperplane of degree 1 elements. **polytope** is a homogeneous input type.\n\nThe inhomogeneous type **vertices**  only defines a polytope P, or in connection with cone a potentially umbounded polyhedron. We can have an grding on the space in which the polytope lives, and then HilbertSeries makes sense.  This Hilbert series is the generating function of the lattice point enumerator of the points **in** P. You can ask Normaliz to compute the Ehrhart series of P if P is bounded. It constructs a cone with a grading behind the scenes and computes the Hilbert series of that cone.\n\nSo far, so good.\n\nIn your cube example: the vertices are in principle rational vectors. What are your denominators? Does Sage choose them automatically? If so what are they? \n\nMoreover, it seems to me tat Sage implicitly defines a grading on the space of the polytpe, taking the sum of the coordinates. This explains why you get a Hilbert series and that it is exactly the result shown: 1 point of degree 0, 3 points of degree 1, 3 of degree 2 and 1 of degree 3.\n\nThe denominator of the Ehrhart series is for a 3-dimensional polytope that has vertices of degree 4,3,2 qnd 1.\n\nBefore I can say more, I must know what happens on the way from Sage input to Normaliz input.",
    "created_at": "2019-01-29T11:58:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382489",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:49" align="right">comment:49</div>

HilbertSeries works out of the box, provided you use the right input type:

**polytope** defines a cone and a grading, and the Hilbert series of the cone under this grading is the Ehrhart series of the polytope that arises as the intersection of the cone and the hyperplane of degree 1 elements. **polytope** is a homogeneous input type.

The inhomogeneous type **vertices**  only defines a polytope P, or in connection with cone a potentially umbounded polyhedron. We can have an grding on the space in which the polytope lives, and then HilbertSeries makes sense.  This Hilbert series is the generating function of the lattice point enumerator of the points **in** P. You can ask Normaliz to compute the Ehrhart series of P if P is bounded. It constructs a cone with a grading behind the scenes and computes the Hilbert series of that cone.

So far, so good.

In your cube example: the vertices are in principle rational vectors. What are your denominators? Does Sage choose them automatically? If so what are they? 

Moreover, it seems to me tat Sage implicitly defines a grading on the space of the polytpe, taking the sum of the coordinates. This explains why you get a Hilbert series and that it is exactly the result shown: 1 point of degree 0, 3 points of degree 1, 3 of degree 2 and 1 of degree 3.

The denominator of the Ehrhart series is for a 3-dimensional polytope that has vertices of degree 4,3,2 qnd 1.

Before I can say more, I must know what happens on the way from Sage input to Normaliz input.



---

archive/issue_comments_382490.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nPS. My question for the denominators must be understood form the viewpoint of Normaliz input. For the 3-cube we need vertices with **four** coordinates in Normaliz where the last coordinate represents a denominator for the first three. (This was introduced before Normaliz allowed fractions in input; it would be superfluous now.)\n\nIf you send the matrix with the 8 vertices as it is to Normaliz as input type **vertices**, then the result will be a BadInputexception, because we have the denominator 0 for some vertices. In other words: Something must have happened from the Sage vertices before they go into Normaliz.\n\nI think you want the denominator 1 attached to each vertex. If we do that, the Normaliz input becomes\n\n\n```\namb_space auto\nvertices\n[[0,0,0,1],[0,0,1,1],[0,1,0,1],[0,1,1,1],[1,0,0,1],[1,0,1,1],[1,1,0,1],[1,1,1,1]]\nEhrhartSeries\n```\n\nand the output contains\n\n\n```\nEhrhart series:\n1 4 1 \ndenominator with 4 factors:\n1: 4\n```\n \nas one expects.\n\nAgain my question: what happens on the way from Sage input to Normaliz input?",
    "created_at": "2019-01-29T14:03:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382490",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:50" align="right">comment:50</div>

PS. My question for the denominators must be understood form the viewpoint of Normaliz input. For the 3-cube we need vertices with **four** coordinates in Normaliz where the last coordinate represents a denominator for the first three. (This was introduced before Normaliz allowed fractions in input; it would be superfluous now.)

If you send the matrix with the 8 vertices as it is to Normaliz as input type **vertices**, then the result will be a BadInputexception, because we have the denominator 0 for some vertices. In other words: Something must have happened from the Sage vertices before they go into Normaliz.

I think you want the denominator 1 attached to each vertex. If we do that, the Normaliz input becomes


```
amb_space auto
vertices
[[0,0,0,1],[0,0,1,1],[0,1,0,1],[0,1,1,1],[1,0,0,1],[1,0,1,1],[1,1,0,1],[1,1,1,1]]
EhrhartSeries
```

and the output contains


```
Ehrhart series:
1 4 1 
denominator with 4 factors:
1: 4
```
 
as one expects.

Again my question: what happens on the way from Sage input to Normaliz input?



---

archive/issue_comments_382491.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nDear Winfried,\n\nThanks for your quick reply. This explanation is really good, and probably I should add it to the top to shortly describe how the translation from sage to normaliz is done.\n\nHere is the verbose of the example for the cube, we can see the input given by sage to normaliz.\nThe current way is to always use inhomogeneous (vertices, cones, and subspaces). Eventually, inhom. equations and inequalities are added.\n\n```\nsage: C = Polyhedron(vertices = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]],backend='normaliz',\n....: verbose=True)\n# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 0, 0, 1], [0, 0, 1, 1], [0, 1, 0, 1], [0, 1, 1, 1], [1, 0, 0, 1], [1, 0, 1, 1], [1, 1, 0, 1], [1, 1, 1, 1]], 'cone': []})\n# ----8<---- Equivalent Normaliz input file ----8<----\namb_space 3\nsubspace 0\nvertices 8\n 0 0 0 1\n 0 0 1 1\n 0 1 0 1\n 0 1 1 1\n 1 0 0 1\n 1 0 1 1\n 1 1 0 1\n 1 1 1 1\ncone 0\n# ----8<-------------------8<-------------------8<----\n```\n\nOnce I have this, I compute the hilbert series, **without** giving any grading. In this case, Sage assign the grading [1,...,1] and passes it to normaliz (as you observed) and get:\n\n```\nsage: C.hilbert_series()\nt^3 + 3*t^2 + 3*t + 1\n```\n\nNow, for the Ehrhart series, I get:\n\n```\nsage: C.ehrhart_series()\n(t^2 + 4*t + 1)/(t^10 - t^9 - t^8 + 2*t^5 - t^2 - t + 1)\n```\n\nAs you said:\n\n>  It constructs a cone with a grading behind the scenes and computes the Hilbert series of that cone. \n\nWhat is the grading in this case?\n\nSo there seems to be a difference between the above input and the one you mentioned:\n\n```\namb_space auto\nvertices\n[[0,0,0,1],[0,0,1,1],[0,1,0,1],[0,1,1,1],[1,0,0,1],[1,0,1,1],[1,1,0,1],[1,1,1,1]]\nEhrhartSeries\n```\n\nbecause they give different output for the Ehrhart series?",
    "created_at": "2019-01-30T10:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382491",
    "user": "https://github.com/jplab"
}
```

<div id="comment:51" align="right">comment:51</div>

Dear Winfried,

Thanks for your quick reply. This explanation is really good, and probably I should add it to the top to shortly describe how the translation from sage to normaliz is done.

Here is the verbose of the example for the cube, we can see the input given by sage to normaliz.
The current way is to always use inhomogeneous (vertices, cones, and subspaces). Eventually, inhom. equations and inequalities are added.

```
sage: C = Polyhedron(vertices = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]],backend='normaliz',
....: verbose=True)
# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 0, 0, 1], [0, 0, 1, 1], [0, 1, 0, 1], [0, 1, 1, 1], [1, 0, 0, 1], [1, 0, 1, 1], [1, 1, 0, 1], [1, 1, 1, 1]], 'cone': []})
# ----8<---- Equivalent Normaliz input file ----8<----
amb_space 3
subspace 0
vertices 8
 0 0 0 1
 0 0 1 1
 0 1 0 1
 0 1 1 1
 1 0 0 1
 1 0 1 1
 1 1 0 1
 1 1 1 1
cone 0
# ----8<-------------------8<-------------------8<----
```

Once I have this, I compute the hilbert series, **without** giving any grading. In this case, Sage assign the grading [1,...,1] and passes it to normaliz (as you observed) and get:

```
sage: C.hilbert_series()
t^3 + 3*t^2 + 3*t + 1
```

Now, for the Ehrhart series, I get:

```
sage: C.ehrhart_series()
(t^2 + 4*t + 1)/(t^10 - t^9 - t^8 + 2*t^5 - t^2 - t + 1)
```

As you said:

>  It constructs a cone with a grading behind the scenes and computes the Hilbert series of that cone. 

What is the grading in this case?

So there seems to be a difference between the above input and the one you mentioned:

```
amb_space auto
vertices
[[0,0,0,1],[0,0,1,1],[0,1,0,1],[0,1,1,1],[1,0,0,1],[1,0,1,1],[1,1,0,1],[1,1,1,1]]
EhrhartSeries
```

because they give different output for the Ehrhart series?



---

archive/issue_comments_382492.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nThe Normaliz input is the desired one. If I run it with the computation goal EhhhartSeries I get the right answer, and if I run it with the computation goal HilbertSeries, then the answer is that it cannot be computed. Everything o.k.\n\nBut it is also clear that this workflow is not exactly that of Sage/PyNormaliz: the latter constructs a cone and then calls functions that trigger computations and return results. For a better analysis the next step is to put the same data into PyNormaliz and to see what happens.",
    "created_at": "2019-01-30T11:47:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382492",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:52" align="right">comment:52</div>

The Normaliz input is the desired one. If I run it with the computation goal EhhhartSeries I get the right answer, and if I run it with the computation goal HilbertSeries, then the answer is that it cannot be computed. Everything o.k.

But it is also clear that this workflow is not exactly that of Sage/PyNormaliz: the latter constructs a cone and then calls functions that trigger computations and return results. For a better analysis the next step is to put the same data into PyNormaliz and to see what happens.



---

archive/issue_comments_382493.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@w-bruns](#comment%3A52):\n> The Normaliz input is the desired one. If I run it with the computation goal EhhhartSeries I get the right answer, and if I run it with the computation goal HilbertSeries, then the answer is that it cannot be computed. Everything o.k.\n\nOk. Good to know!\n\n> \n> But it is also clear that this workflow is not exactly that of Sage/PyNormaliz: the latter constructs a cone and then calls functions that trigger computations and return results. For a better analysis the next step is to put the same data into PyNormaliz and to see what happens.\n\nOk, I will look into that.",
    "created_at": "2019-01-30T12:24:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382493",
    "user": "https://github.com/jplab"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@w-bruns](#comment%3A52):
> The Normaliz input is the desired one. If I run it with the computation goal EhhhartSeries I get the right answer, and if I run it with the computation goal HilbertSeries, then the answer is that it cannot be computed. Everything o.k.

Ok. Good to know!

> 
> But it is also clear that this workflow is not exactly that of Sage/PyNormaliz: the latter constructs a cone and then calls functions that trigger computations and return results. For a better analysis the next step is to put the same data into PyNormaliz and to see what happens.

Ok, I will look into that.



---

archive/issue_comments_382494.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nOk, I think that I have figured out something, that I did not expect.\n\n```\nsage: C = Polyhedron(vertices = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]\n....: ],backend='normaliz',verbose=True)\n# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 0, 0, 1], [0, 0, 1, 1], [0, 1, 0, 1], [0, 1, 1, 1], [1, 0, 0, 1], [1, 0, 1, 1], [1, 1, 0, 1], [1, 1, 1, 1]], 'cone': []})\n# ----8<---- Equivalent Normaliz input file ----8<----\namb_space 3\nsubspace 0\nvertices 8\n 0 0 0 1\n 0 0 1 1\n 0 1 0 1\n 0 1 1 1\n 1 0 0 1\n 1 0 1 1\n 1 1 0 1\n 1 1 1 1\ncone 0\n# ----8<-------------------8<-------------------8<----\n```\n\nSo far I simply created the 0-1-cube using normaliz. Then, I get the normaliz cone and the enclosed data:\n\n```\nsage: cone = C._normaliz_cone;cone\n<capsule object \"Cone\" at 0x7fcc880cf210>\nsage: data = C._get_nmzcone_data()\n```\n\nFrom there, if I compute the Hilbert Series directly, it will complain, because it does not have a grading:\n\n```\nsage: PyNormaliz.NmzResult(cone,\"HilbertSeries\")\n---------------------------------------------------------------------------\nerror                                     Traceback (most recent call last)\n<ipython-input-26-93c9989a5377> in <module>()\n----> 1 PyNormaliz.NmzResult(cone,\"HilbertSeries\")\n\nerror: Could not compute: No grading specified and cannot find one. Cannot compute some requested properties!\n```\n\nSo far so good. Then, I ask for the Ehrhart series and then, it unlocks the Hilbert series:\n\n```\nsage: PyNormaliz.NmzResult(cone,\"EhrhartSeries\")\n[[1L, 4L, 1L], [1L, 1L, 1L, 1L], 0L]\nsage: PyNormaliz.NmzResult(cone,\"HilbertSeries\")\n[[1L, 4L, 1L], [1L, 1L, 1L, 1L], 0L]\n```\n\nFor now, there is no way to access the difference in the normaliz cone. It is now equipped with a grading in the background, but it seems that we can not extract it:\n\n```\nsage: new_C = C.parent().element_class._from_normaliz_cone(parent=C.parent(),normaliz_cone=cone)\nsage: PyNormaliz.NmzResult(new_C._normaliz_cone,\"HilbertSeries\")\n[[1L, 4L, 1L], [1L, 1L, 1L, 1L], 0L]\nsage: PyNormaliz.NmzResult(new_C._normaliz_cone,\"Grading\")\n---------------------------------------------------------------------------\nerror                                     Traceback (most recent call last)\n<ipython-input-43-809cb91899e5> in <module>()\n----> 1 PyNormaliz.NmzResult(new_C._normaliz_cone,\"Grading\")\n\nerror: Could not compute: Grading !\n```\n\nBut, when creating a whole new cone from the data and adding by hand the grading (which is what is done in `hilbert_series` in sage, we get the enumeration of the lattice points with respect to this grading:\n\n```\nsage: C.hilbert_series()\nt^3 + 3*t^2 + 3*t + 1\n```\n\nThis can be reproduced manually as:\n\n```\nsage: data['grading'] = [1] * C.ambient_dim()\nsage: new_cone = C._make_normaliz_cone(data)\nsage: h = PyNormaliz.NmzResult(new_cone, \"HilbertSeries\");h\n[[1L, 3L, 3L, 1L], [], 0L]\n```\n\nSo, right now, we get two potential output for Hilbert series.\n\nFurther, if we actually change the normaliz cone while doing the computation of the Hilbert series (instead of doing it on a distinct cone created on the side), it then breaks the ehrhart series:\n\n```\nsage: C._normaliz_cone = new_cone\nsage: C.ehrhart_series()\n---------------------------------------------------------------------------\nerror                                     Traceback (most recent call last)\n<ipython-input-85-0117d93a819f> in <module>()\n----> 1 C.ehrhart_series()\n\n/home/jplabbe/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in ehrhart_series(self, variable)\n    636 \n    637         cone = self._normaliz_cone\n--> 638         e = PyNormaliz.NmzResult(cone, \"EhrhartSeries\")\n    639 \n    640         from sage.rings.polynomial.polynomial_ring_constructor import PolynomialRing\n\nerror: Some error in the normaliz input data detected: Grading not allowed with Ehrhart series in the inhomogeneous case\n```\n\n\nOi Oi Oi...",
    "created_at": "2019-01-30T14:31:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382494",
    "user": "https://github.com/jplab"
}
```

<div id="comment:54" align="right">comment:54</div>

Ok, I think that I have figured out something, that I did not expect.

```
sage: C = Polyhedron(vertices = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]
....: ],backend='normaliz',verbose=True)
# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 0, 0, 1], [0, 0, 1, 1], [0, 1, 0, 1], [0, 1, 1, 1], [1, 0, 0, 1], [1, 0, 1, 1], [1, 1, 0, 1], [1, 1, 1, 1]], 'cone': []})
# ----8<---- Equivalent Normaliz input file ----8<----
amb_space 3
subspace 0
vertices 8
 0 0 0 1
 0 0 1 1
 0 1 0 1
 0 1 1 1
 1 0 0 1
 1 0 1 1
 1 1 0 1
 1 1 1 1
cone 0
# ----8<-------------------8<-------------------8<----
```

So far I simply created the 0-1-cube using normaliz. Then, I get the normaliz cone and the enclosed data:

```
sage: cone = C._normaliz_cone;cone
<capsule object "Cone" at 0x7fcc880cf210>
sage: data = C._get_nmzcone_data()
```

From there, if I compute the Hilbert Series directly, it will complain, because it does not have a grading:

```
sage: PyNormaliz.NmzResult(cone,"HilbertSeries")
---------------------------------------------------------------------------
error                                     Traceback (most recent call last)
<ipython-input-26-93c9989a5377> in <module>()
----> 1 PyNormaliz.NmzResult(cone,"HilbertSeries")

error: Could not compute: No grading specified and cannot find one. Cannot compute some requested properties!
```

So far so good. Then, I ask for the Ehrhart series and then, it unlocks the Hilbert series:

```
sage: PyNormaliz.NmzResult(cone,"EhrhartSeries")
[[1L, 4L, 1L], [1L, 1L, 1L, 1L], 0L]
sage: PyNormaliz.NmzResult(cone,"HilbertSeries")
[[1L, 4L, 1L], [1L, 1L, 1L, 1L], 0L]
```

For now, there is no way to access the difference in the normaliz cone. It is now equipped with a grading in the background, but it seems that we can not extract it:

```
sage: new_C = C.parent().element_class._from_normaliz_cone(parent=C.parent(),normaliz_cone=cone)
sage: PyNormaliz.NmzResult(new_C._normaliz_cone,"HilbertSeries")
[[1L, 4L, 1L], [1L, 1L, 1L, 1L], 0L]
sage: PyNormaliz.NmzResult(new_C._normaliz_cone,"Grading")
---------------------------------------------------------------------------
error                                     Traceback (most recent call last)
<ipython-input-43-809cb91899e5> in <module>()
----> 1 PyNormaliz.NmzResult(new_C._normaliz_cone,"Grading")

error: Could not compute: Grading !
```

But, when creating a whole new cone from the data and adding by hand the grading (which is what is done in `hilbert_series` in sage, we get the enumeration of the lattice points with respect to this grading:

```
sage: C.hilbert_series()
t^3 + 3*t^2 + 3*t + 1
```

This can be reproduced manually as:

```
sage: data['grading'] = [1] * C.ambient_dim()
sage: new_cone = C._make_normaliz_cone(data)
sage: h = PyNormaliz.NmzResult(new_cone, "HilbertSeries");h
[[1L, 3L, 3L, 1L], [], 0L]
```

So, right now, we get two potential output for Hilbert series.

Further, if we actually change the normaliz cone while doing the computation of the Hilbert series (instead of doing it on a distinct cone created on the side), it then breaks the ehrhart series:

```
sage: C._normaliz_cone = new_cone
sage: C.ehrhart_series()
---------------------------------------------------------------------------
error                                     Traceback (most recent call last)
<ipython-input-85-0117d93a819f> in <module>()
----> 1 C.ehrhart_series()

/home/jplabbe/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in ehrhart_series(self, variable)
    636 
    637         cone = self._normaliz_cone
--> 638         e = PyNormaliz.NmzResult(cone, "EhrhartSeries")
    639 
    640         from sage.rings.polynomial.polynomial_ring_constructor import PolynomialRing

error: Some error in the normaliz input data detected: Grading not allowed with Ehrhart series in the inhomogeneous case
```


Oi Oi Oi...



---

archive/issue_comments_382495.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nEverything above is as it should be, with 2 exceptions:\n\n1) The computation of the Ehrhart series should not make the Hilbert series computed. This requires a correction in libnormaliz.\n\nThere is no grading in the background. The Ehrhart series was computed on an auxiliary cone.\n\n2) Sage should not add a default grading if one asks for the Hilbert series. This is not in my hands.\n\nFurther remark: if one changes the grading later on (or defines one), all grading dependent results are erased.",
    "created_at": "2019-01-30T15:56:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382495",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:55" align="right">comment:55</div>

Everything above is as it should be, with 2 exceptions:

1) The computation of the Ehrhart series should not make the Hilbert series computed. This requires a correction in libnormaliz.

There is no grading in the background. The Ehrhart series was computed on an auxiliary cone.

2) Sage should not add a default grading if one asks for the Hilbert series. This is not in my hands.

Further remark: if one changes the grading later on (or defines one), all grading dependent results are erased.



---

archive/issue_comments_382496.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nPS. The last observation is the intended behavior of Normaliz: HilbertSeries and EhrhartSeries are not allowed on the same input. One intended obstruction to this is that we do not even allow a grading if EhrhartSeries is to be computed.",
    "created_at": "2019-01-30T16:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382496",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:56" align="right">comment:56</div>

PS. The last observation is the intended behavior of Normaliz: HilbertSeries and EhrhartSeries are not allowed on the same input. One intended obstruction to this is that we do not even allow a grading if EhrhartSeries is to be computed.



---

archive/issue_comments_382497.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nThe next Normaliz release will store the Hilbert series and the Ehrhart series separately and provide a specific access function for the Ehrhart series. Then the confusion that we see in the preceding remarks will not arise anymore.",
    "created_at": "2019-02-01T08:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382497",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:57" align="right">comment:57</div>

The next Normaliz release will store the Hilbert series and the Ehrhart series separately and provide a specific access function for the Ehrhart series. Then the confusion that we see in the preceding remarks will not arise anymore.



---

archive/issue_comments_382498.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nOk!!\n\nSo I went back to PyNormaliz and had a look at the tutorial mentioned in Appendix E of the normaliz manual:\n\nhttps://mybinder.org/v2/gh/Normaliz/NormalizJupyter/master\n\nIn there, the PyNormaliz output of .hilbert_series is explained. **Importantly**, it seems that the output is different than the one of normaliz(!). This was the source of one of the above problems.\n\n```\n[[1L, 4L, 1L], [1L, 1L, 1L, 1L], 0L]\n```\n\nAs to be interpreted as `t^2+4t+1` divided by `(1-t)(1-t)(1-t)(1-t)` and a `0` shift.\n\nSo, it's all good. But it indicates that the code should be more explicit on those output formats... I'll put this on my list of TODO to add on some comments on the pynormaliz side...",
    "created_at": "2019-02-04T13:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382498",
    "user": "https://github.com/jplab"
}
```

<div id="comment:58" align="right">comment:58</div>

Ok!!

So I went back to PyNormaliz and had a look at the tutorial mentioned in Appendix E of the normaliz manual:

https://mybinder.org/v2/gh/Normaliz/NormalizJupyter/master

In there, the PyNormaliz output of .hilbert_series is explained. **Importantly**, it seems that the output is different than the one of normaliz(!). This was the source of one of the above problems.

```
[[1L, 4L, 1L], [1L, 1L, 1L, 1L], 0L]
```

As to be interpreted as `t^2+4t+1` divided by `(1-t)(1-t)(1-t)(1-t)` and a `0` shift.

So, it's all good. But it indicates that the code should be more explicit on those output formats... I'll put this on my list of TODO to add on some comments on the pynormaliz side...



---

archive/issue_comments_382499.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nIn the Normaliz pitput file we use a multiset notation. i think this is difficult to represent in Python. Therefore it is translated into a vector format where each element of the multiset is repeated as often as it occurs in the multiset.",
    "created_at": "2019-02-04T16:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382499",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:59" align="right">comment:59</div>

In the Normaliz pitput file we use a multiset notation. i think this is difficult to represent in Python. Therefore it is translated into a vector format where each element of the multiset is repeated as often as it occurs in the multiset.



---

archive/issue_comments_382500.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce986e34feae782ab640d270f33ec4073360cf1f\"><code>ce986e3</code></a></td><td><code>Merge branch 'public/some_normaliz_features' of trac.sagemath.org:sage into 25091</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f36bfeb89fd9293a021a0bb2f8f9584ba1a5ca10\"><code>f36bfeb</code></a></td><td><code>corrected doctests</code></td></tr></table>\n",
    "created_at": "2019-02-04T17:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382500",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce986e34feae782ab640d270f33ec4073360cf1f"><code>ce986e3</code></a></td><td><code>Merge branch 'public/some_normaliz_features' of trac.sagemath.org:sage into 25091</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f36bfeb89fd9293a021a0bb2f8f9584ba1a5ca10"><code>f36bfeb</code></a></td><td><code>corrected doctests</code></td></tr></table>




---

archive/issue_comments_382501.json:
```json
{
    "body": "Changed commit from **[`20d2fde`](https://github.com/sagemath/sagetrac-mirror/commit/20d2fde78750f859770f05473f49d7de460d6bb1)** to **[`f36bfeb`](https://github.com/sagemath/sagetrac-mirror/commit/f36bfeb89fd9293a021a0bb2f8f9584ba1a5ca10)**",
    "created_at": "2019-02-04T17:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382501",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`20d2fde`](https://github.com/sagemath/sagetrac-mirror/commit/20d2fde78750f859770f05473f49d7de460d6bb1)** to **[`f36bfeb`](https://github.com/sagemath/sagetrac-mirror/commit/f36bfeb89fd9293a021a0bb2f8f9584ba1a5ca10)**



---

archive/issue_comments_382502.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@w-bruns](#comment%3A59):\n> In the Normaliz pitput file we use a multiset notation. i think this is difficult to represent in Python. Therefore it is translated into a vector format where each element of the multiset is repeated as often as it occurs in the multiset.\n\nYes, makes sense now. Somehow got it wrong from the beginning. I just commited an update that should cover the mistake. I added several examples coming from normaliz manual to be able to compare.\n\nI still have to smoothen the usage for the user. But now, at least things look like they work and make sense...",
    "created_at": "2019-02-04T17:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382502",
    "user": "https://github.com/jplab"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@w-bruns](#comment%3A59):
> In the Normaliz pitput file we use a multiset notation. i think this is difficult to represent in Python. Therefore it is translated into a vector format where each element of the multiset is repeated as often as it occurs in the multiset.

Yes, makes sense now. Somehow got it wrong from the beginning. I just commited an update that should cover the mistake. I added several examples coming from normaliz manual to be able to compare.

I still have to smoothen the usage for the user. But now, at least things look like they work and make sense...



---

archive/issue_comments_382503.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Using Normaliz can compute several things that are currently not interfaced. For example:\n+Using Normaliz can compute several things that are currently not interfaced. This ticket implements:\n \n - Integral points generators\n - Euclidean volume and volume\n@@ -6,5 +6,3 @@\n - Hilbert series\n - Ehrhart series of compact polyhedron\n - Ehrhart quasi-polynomial of compact polyhedron\n-\n-TODO: Adapt the `is_package_installed` for the volume part (see #20382).\n``````\n",
    "created_at": "2019-02-05T10:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382503",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Using Normaliz can compute several things that are currently not interfaced. For example:
+Using Normaliz can compute several things that are currently not interfaced. This ticket implements:
 
 - Integral points generators
 - Euclidean volume and volume
@@ -6,5 +6,3 @@
 - Hilbert series
 - Ehrhart series of compact polyhedron
 - Ehrhart quasi-polynomial of compact polyhedron
-
-TODO: Adapt the `is_package_installed` for the volume part (see #20382).
``````




---

archive/issue_comments_382504.json:
```json
{
    "body": "Changed commit from **[`f36bfeb`](https://github.com/sagemath/sagetrac-mirror/commit/f36bfeb89fd9293a021a0bb2f8f9584ba1a5ca10)** to **[`dbf7db8`](https://github.com/sagemath/sagetrac-mirror/commit/dbf7db846182a3bc496458d8eea1bf10e8792b0a)**",
    "created_at": "2019-02-05T10:00:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382504",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f36bfeb`](https://github.com/sagemath/sagetrac-mirror/commit/f36bfeb89fd9293a021a0bb2f8f9584ba1a5ca10)** to **[`dbf7db8`](https://github.com/sagemath/sagetrac-mirror/commit/dbf7db846182a3bc496458d8eea1bf10e8792b0a)**



---

archive/issue_comments_382505.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbf7db846182a3bc496458d8eea1bf10e8792b0a\"><code>dbf7db8</code></a></td><td><code>Fixed the Feature of Latte</code></td></tr></table>\n",
    "created_at": "2019-02-05T10:00:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382505",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbf7db846182a3bc496458d8eea1bf10e8792b0a"><code>dbf7db8</code></a></td><td><code>Fixed the Feature of Latte</code></td></tr></table>




---

archive/issue_comments_382506.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,8 @@\n - Hilbert series\n - Ehrhart series of compact polyhedron\n - Ehrhart quasi-polynomial of compact polyhedron\n+\n+FOLLOWUP:\n+\n+- Make ehrhart_polynomial uniform (in the spirit of `.volume()` that can have several engines.\n+- Move the lattice related methods to `Polyhedra_normaliz_QQ`.\n``````\n",
    "created_at": "2019-02-05T10:05:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382506",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,8 @@
 - Hilbert series
 - Ehrhart series of compact polyhedron
 - Ehrhart quasi-polynomial of compact polyhedron
+
+FOLLOWUP:
+
+- Make ehrhart_polynomial uniform (in the spirit of `.volume()` that can have several engines.
+- Move the lattice related methods to `Polyhedra_normaliz_QQ`.
``````




---

archive/issue_comments_382507.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nHere is a bug, which I think is coming from the PyNormaliz side of things:\n\n```\nsage: v = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]]\nsage: cube = Polyhedron(vertices=v,backend='normaliz')\nsage: cube._volume_normaliz()\nsage: cube._volume_normaliz('induced_lattice')\n6\nsage: cube._volume_normaliz()\n1.0\n```\n\nEquivalently:\n\n```\nsage: v = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]]\nsage: cube = Polyhedron(vertices=v,backend='normaliz',verbose=True)\n# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 0, 0, 1], [0, 0, 1, 1], [0, 1, 0, 1], [0, 1, 1, 1], [1, 0, 0, 1], [1, 0, 1, 1], [1, 1, 0, 1], [1, 1, 1, 1]], 'cone': []})\n# ----8<---- Equivalent Normaliz input file ----8<----\namb_space 3\nsubspace 0\nvertices 8\n 0 0 0 1\n 0 0 1 1\n 0 1 0 1\n 0 1 1 1\n 1 0 0 1\n 1 0 1 1\n 1 1 0 1\n 1 1 1 1\ncone 0\n# ----8<-------------------8<-------------------8<----\nsage: cone = cube._normaliz_cone\nsage: import PyNormaliz\nsage: PyNormaliz.NmzResult(cone,'EuclideanVolume')\nsage: PyNormaliz.NmzResult(cone,'EuclideanVolume')\n1.0\n```\n\nThis is weird. The volume somehow seems to get lost on the way. When one asks again, the output appears.",
    "created_at": "2019-02-05T10:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382507",
    "user": "https://github.com/jplab"
}
```

<div id="comment:65" align="right">comment:65</div>

Here is a bug, which I think is coming from the PyNormaliz side of things:

```
sage: v = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]]
sage: cube = Polyhedron(vertices=v,backend='normaliz')
sage: cube._volume_normaliz()
sage: cube._volume_normaliz('induced_lattice')
6
sage: cube._volume_normaliz()
1.0
```

Equivalently:

```
sage: v = [[0,0,0],[0,0,1],[0,1,0],[0,1,1],[1,0,0],[1,0,1],[1,1,0],[1,1,1]]
sage: cube = Polyhedron(vertices=v,backend='normaliz',verbose=True)
# Calling PyNormaliz.NmzCone(**{'subspace': [], 'vertices': [[0, 0, 0, 1], [0, 0, 1, 1], [0, 1, 0, 1], [0, 1, 1, 1], [1, 0, 0, 1], [1, 0, 1, 1], [1, 1, 0, 1], [1, 1, 1, 1]], 'cone': []})
# ----8<---- Equivalent Normaliz input file ----8<----
amb_space 3
subspace 0
vertices 8
 0 0 0 1
 0 0 1 1
 0 1 0 1
 0 1 1 1
 1 0 0 1
 1 0 1 1
 1 1 0 1
 1 1 1 1
cone 0
# ----8<-------------------8<-------------------8<----
sage: cone = cube._normaliz_cone
sage: import PyNormaliz
sage: PyNormaliz.NmzResult(cone,'EuclideanVolume')
sage: PyNormaliz.NmzResult(cone,'EuclideanVolume')
1.0
```

This is weird. The volume somehow seems to get lost on the way. When one asks again, the output appears.



---

archive/issue_comments_382508.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25b17381036c5e0bd792437b3dda0efde017fa4c\"><code>25b1738</code></a></td><td><code>Fixed some doc</code></td></tr></table>\n",
    "created_at": "2019-02-05T11:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382508",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25b17381036c5e0bd792437b3dda0efde017fa4c"><code>25b1738</code></a></td><td><code>Fixed some doc</code></td></tr></table>




---

archive/issue_comments_382509.json:
```json
{
    "body": "Changed commit from **[`dbf7db8`](https://github.com/sagemath/sagetrac-mirror/commit/dbf7db846182a3bc496458d8eea1bf10e8792b0a)** to **[`25b1738`](https://github.com/sagemath/sagetrac-mirror/commit/25b17381036c5e0bd792437b3dda0efde017fa4c)**",
    "created_at": "2019-02-05T11:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382509",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dbf7db8`](https://github.com/sagemath/sagetrac-mirror/commit/dbf7db846182a3bc496458d8eea1bf10e8792b0a)** to **[`25b1738`](https://github.com/sagemath/sagetrac-mirror/commit/25b17381036c5e0bd792437b3dda0efde017fa4c)**



---

archive/issue_comments_382510.json:
```json
{
    "body": "Changed commit from **[`25b1738`](https://github.com/sagemath/sagetrac-mirror/commit/25b17381036c5e0bd792437b3dda0efde017fa4c)** to **[`21671bd`](https://github.com/sagemath/sagetrac-mirror/commit/21671bdf4561edcbf07617f526d649e962038dc2)**",
    "created_at": "2019-03-13T14:18:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382510",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`25b1738`](https://github.com/sagemath/sagetrac-mirror/commit/25b17381036c5e0bd792437b3dda0efde017fa4c)** to **[`21671bd`](https://github.com/sagemath/sagetrac-mirror/commit/21671bdf4561edcbf07617f526d649e962038dc2)**



---

archive/issue_comments_382511.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7356f5bbc61f32ce600ee057bdec90b71ae06610\"><code>7356f5b</code></a></td><td><code>Merge branch 'develop' into 25091</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21671bdf4561edcbf07617f526d649e962038dc2\"><code>21671bd</code></a></td><td><code>typo</code></td></tr></table>\n",
    "created_at": "2019-03-13T14:18:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382511",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7356f5bbc61f32ce600ee057bdec90b71ae06610"><code>7356f5b</code></a></td><td><code>Merge branch 'develop' into 25091</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21671bdf4561edcbf07617f526d649e962038dc2"><code>21671bd</code></a></td><td><code>typo</code></td></tr></table>




---

archive/issue_events_344115.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-03-13T14:19:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344115"
}
```



---

archive/issue_events_344116.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-03-13T14:19:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344116"
}
```



---

archive/issue_comments_382512.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nThis\n\n```\ntry:\n    import PyNormaliz\nexcept ImportError:\n    raise ImportError(\"This backend requires PyNormaliz. To install PyNormaliz, type 'sage -i pynormaliz' in the terminal.\")\n```\nis not desirable. You should do that via a \"feature\". See the class `PythonModule` in `sage/features/__init__.py`. The main reason is that `sage -i` would only work for people compiling from source (which is the case of less and less people nowadays).",
    "created_at": "2019-03-13T19:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382512",
    "user": "https://github.com/videlec"
}
```

<div id="comment:69" align="right">comment:69</div>

This

```
try:
    import PyNormaliz
except ImportError:
    raise ImportError("This backend requires PyNormaliz. To install PyNormaliz, type 'sage -i pynormaliz' in the terminal.")
```
is not desirable. You should do that via a "feature". See the class `PythonModule` in `sage/features/__init__.py`. The main reason is that `sage -i` would only work for people compiling from source (which is the case of less and less people nowadays).



---

archive/issue_comments_382513.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382513",
    "user": "https://github.com/embray"
}
```

<div id="comment:70" align="right">comment:70</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_344117.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344117"
}
```



---

archive/issue_events_344118.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344118"
}
```



---

archive/issue_comments_382514.json:
```json
{
    "body": "Work Issues: **Some doctest fails, will need to be based on a newer version**",
    "created_at": "2019-04-16T14:23:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382514",
    "user": "https://github.com/jplab"
}
```

Work Issues: **Some doctest fails, will need to be based on a newer version**



---

archive/issue_comments_382515.json:
```json
{
    "body": "Upstream: **Fixed upstream, in a later stable release.**",
    "created_at": "2019-04-16T14:23:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382515",
    "user": "https://github.com/jplab"
}
```

Upstream: **Fixed upstream, in a later stable release.**



---

archive/issue_comments_382516.json:
```json
{
    "body": "Changed dependencies from **#22984, #25090, #20382** to **#22984, #25090, #20382, #27682**",
    "created_at": "2019-04-17T07:04:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382516",
    "user": "https://github.com/jplab"
}
```

Changed dependencies from **#22984, #25090, #20382** to **#22984, #25090, #20382, #27682**



---

archive/issue_comments_382517.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nI'd suggest to merge #27716 as a dependency and use the new helper method `_nmz_result`",
    "created_at": "2019-04-23T12:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382517",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:73" align="right">comment:73</div>

I'd suggest to merge #27716 as a dependency and use the new helper method `_nmz_result`



---

archive/issue_comments_382518.json:
```json
{
    "body": "Changed commit from **[`21671bd`](https://github.com/sagemath/sagetrac-mirror/commit/21671bdf4561edcbf07617f526d649e962038dc2)** to **[`86ce442`](https://github.com/sagemath/sagetrac-mirror/commit/86ce4420c5f2f9b4d72f8afe7c01764eea5391b0)**",
    "created_at": "2019-04-23T13:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382518",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`21671bd`](https://github.com/sagemath/sagetrac-mirror/commit/21671bdf4561edcbf07617f526d649e962038dc2)** to **[`86ce442`](https://github.com/sagemath/sagetrac-mirror/commit/86ce4420c5f2f9b4d72f8afe7c01764eea5391b0)**



---

archive/issue_comments_382519.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9bf2f428a4cbb95cddb42fc5d2c6842baa038aa6\"><code>9bf2f42</code></a></td><td><code>Merge branch on top of the latest develop version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57b3569d18e88000615dac9556857fcffc3457a5\"><code>57b3569</code></a></td><td><code>Merge branch 'develop' into 25091</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7618ea92cd050420da53a507c17274b5527d5820\"><code>7618ea9</code></a></td><td><code>package e-antic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d752708b7289be4b18599312a7396e614c349cbe\"><code>d752708</code></a></td><td><code>upgrade normaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4eb02f8a0077cbc1e562e6d46ef6fadefa3ffc46\"><code>4eb02f8</code></a></td><td><code>fix doctest in backend_normaliz.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86ce4420c5f2f9b4d72f8afe7c01764eea5391b0\"><code>86ce442</code></a></td><td><code>Merge branch '27682' into 25091</code></td></tr></table>\n",
    "created_at": "2019-04-23T13:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382519",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9bf2f428a4cbb95cddb42fc5d2c6842baa038aa6"><code>9bf2f42</code></a></td><td><code>Merge branch on top of the latest develop version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57b3569d18e88000615dac9556857fcffc3457a5"><code>57b3569</code></a></td><td><code>Merge branch 'develop' into 25091</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7618ea92cd050420da53a507c17274b5527d5820"><code>7618ea9</code></a></td><td><code>package e-antic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d752708b7289be4b18599312a7396e614c349cbe"><code>d752708</code></a></td><td><code>upgrade normaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4eb02f8a0077cbc1e562e6d46ef6fadefa3ffc46"><code>4eb02f8</code></a></td><td><code>fix doctest in backend_normaliz.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86ce4420c5f2f9b4d72f8afe7c01764eea5391b0"><code>86ce442</code></a></td><td><code>Merge branch '27682' into 25091</code></td></tr></table>




---

archive/issue_comments_382520.json:
```json
{
    "body": "Changed dependencies from **#22984, #25090, #20382, #27682** to **#22984, #25090, #20382, #27682, #27716**",
    "created_at": "2019-04-23T13:31:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382520",
    "user": "https://github.com/jplab"
}
```

Changed dependencies from **#22984, #25090, #20382, #27682** to **#22984, #25090, #20382, #27682, #27716**



---

archive/issue_comments_382521.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nI merge the latest develop and #27682 in the last commits. I will merge #27716 as the next step.",
    "created_at": "2019-04-23T13:31:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382521",
    "user": "https://github.com/jplab"
}
```

<div id="comment:75" align="right">comment:75</div>

I merge the latest develop and #27682 in the last commits. I will merge #27716 as the next step.



---

archive/issue_comments_382522.json:
```json
{
    "body": "<div id=\"comment:76\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dfec03083fabd664f66f296956d8452b7577a6b\"><code>0dfec03</code></a></td><td><code>_format_function_call: Fix doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b370268075f0cdc63291d4639d9051a3c7590dbc\"><code>b370268</code></a></td><td><code>pyflakes fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/328a04a433e1b20227e296dda8bd5aea61e7660c\"><code>328a04a</code></a></td><td><code>_nmz_result: Add doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee5ff410ee028c8563406c2a02cf279051ad95fb\"><code>ee5ff41</code></a></td><td><code>Mark newest doctest # optional - pynormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78c2de49147cae677256e8ab27f303b61108d939\"><code>78c2de4</code></a></td><td><code>Merge branch 't/27716/public/normaliz-backend-refactoring' into t/25091/public/some_normaliz_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41bd96863561007009594486f0be79193235108d\"><code>41bd968</code></a></td><td><code>Fix doctest error message - NormalizError</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7662077fa232a5a98a456ce7165bc13a0f8ef0bd\"><code>7662077</code></a></td><td><code>Fixup merge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/885ef9e80d5af2091baa15ca0d9c2b231e7c14cf\"><code>885ef9e</code></a></td><td><code>Use EhrhartQuasiPolynomial</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/313fee1f82a9f27a3940b555e4381725c39f20e1\"><code>313fee1</code></a></td><td><code>Fix doctest of hilbert_series</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79059033a2b14ba9ffaf032a45361e12817efc75\"><code>7905903</code></a></td><td><code>Pass grading as a matrix</code></td></tr></table>\n",
    "created_at": "2019-04-25T17:29:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382522",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:76"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dfec03083fabd664f66f296956d8452b7577a6b"><code>0dfec03</code></a></td><td><code>_format_function_call: Fix doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b370268075f0cdc63291d4639d9051a3c7590dbc"><code>b370268</code></a></td><td><code>pyflakes fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/328a04a433e1b20227e296dda8bd5aea61e7660c"><code>328a04a</code></a></td><td><code>_nmz_result: Add doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee5ff410ee028c8563406c2a02cf279051ad95fb"><code>ee5ff41</code></a></td><td><code>Mark newest doctest # optional - pynormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78c2de49147cae677256e8ab27f303b61108d939"><code>78c2de4</code></a></td><td><code>Merge branch 't/27716/public/normaliz-backend-refactoring' into t/25091/public/some_normaliz_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41bd96863561007009594486f0be79193235108d"><code>41bd968</code></a></td><td><code>Fix doctest error message - NormalizError</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7662077fa232a5a98a456ce7165bc13a0f8ef0bd"><code>7662077</code></a></td><td><code>Fixup merge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/885ef9e80d5af2091baa15ca0d9c2b231e7c14cf"><code>885ef9e</code></a></td><td><code>Use EhrhartQuasiPolynomial</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/313fee1f82a9f27a3940b555e4381725c39f20e1"><code>313fee1</code></a></td><td><code>Fix doctest of hilbert_series</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79059033a2b14ba9ffaf032a45361e12817efc75"><code>7905903</code></a></td><td><code>Pass grading as a matrix</code></td></tr></table>




---

archive/issue_comments_382523.json:
```json
{
    "body": "Changed commit from **[`86ce442`](https://github.com/sagemath/sagetrac-mirror/commit/86ce4420c5f2f9b4d72f8afe7c01764eea5391b0)** to **[`7905903`](https://github.com/sagemath/sagetrac-mirror/commit/79059033a2b14ba9ffaf032a45361e12817efc75)**",
    "created_at": "2019-04-25T17:29:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382523",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`86ce442`](https://github.com/sagemath/sagetrac-mirror/commit/86ce4420c5f2f9b4d72f8afe7c01764eea5391b0)** to **[`7905903`](https://github.com/sagemath/sagetrac-mirror/commit/79059033a2b14ba9ffaf032a45361e12817efc75)**



---

archive/issue_comments_382524.json:
```json
{
    "body": "<div id=\"comment:77\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9249dda436e7e9c58b644ea5e4728f8fe969949f\"><code>9249dda</code></a></td><td><code>Use _nmz_result instead of calling NmzResult directly</code></td></tr></table>\n",
    "created_at": "2019-04-25T17:39:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382524",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:77"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9249dda436e7e9c58b644ea5e4728f8fe969949f"><code>9249dda</code></a></td><td><code>Use _nmz_result instead of calling NmzResult directly</code></td></tr></table>




---

archive/issue_comments_382525.json:
```json
{
    "body": "Changed commit from **[`7905903`](https://github.com/sagemath/sagetrac-mirror/commit/79059033a2b14ba9ffaf032a45361e12817efc75)** to **[`9249dda`](https://github.com/sagemath/sagetrac-mirror/commit/9249dda436e7e9c58b644ea5e4728f8fe969949f)**",
    "created_at": "2019-04-25T17:39:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382525",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7905903`](https://github.com/sagemath/sagetrac-mirror/commit/79059033a2b14ba9ffaf032a45361e12817efc75)** to **[`9249dda`](https://github.com/sagemath/sagetrac-mirror/commit/9249dda436e7e9c58b644ea5e4728f8fe969949f)**



---

archive/issue_comments_382526.json:
```json
{
    "body": "Changed work issues from **Some doctest fails, will need to be based on a newer version** to none",
    "created_at": "2019-04-25T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382526",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **Some doctest fails, will need to be based on a newer version** to none



---

archive/issue_comments_382527.json:
```json
{
    "body": "Changed author from **Jean-Philippe Labb\u00e9** to **Jean-Philippe Labb\u00e9, Matthias Koeppe**",
    "created_at": "2019-04-25T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382527",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Jean-Philippe Labb√©** to **Jean-Philippe Labb√©, Matthias Koeppe**



---

archive/issue_events_344119.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-25T17:41:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344119"
}
```



---

archive/issue_comments_382528.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, in a later stable release.** to none",
    "created_at": "2019-04-25T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382528",
    "user": "https://github.com/mkoeppe"
}
```

Changed upstream from **Fixed upstream, in a later stable release.** to none



---

archive/issue_comments_382529.json:
```json
{
    "body": "Changed dependencies from **#22984, #25090, #20382, #27682, #27716** to **#27682, #27716**",
    "created_at": "2019-04-25T17:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382529",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#22984, #25090, #20382, #27682, #27716** to **#27682, #27716**



---

archive/issue_comments_382530.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nI have some comments:\n\nThis is a general Python convention we try to follow with the messages, moreover, the error is because the class has the wrong type (you are not expecting it to be implemented at some point, right?):\n\n```diff\n-raise NotImplementedError(\"The backend should be normaliz.\")\n+raise TypeError(\"the backend should be normaliz\")\n```\nA similar comment applies elsewhere too. However, the `ImportError` can be the exception to this guide as it is \"long\".\n\nThe `INPUT:` bullet points are not considered to be complete sentences, so they should not end in a period/full-stop.\n\nPEP8:\n\n```diff\n-sage: S = Polyhedron(vertices = [[0,1],[1,0]],backend='normaliz') # optional - pynormaliz\n+sage: S = Polyhedron(vertices=[[0,1],[1,0]], backend='normaliz')  # optional - pynormaliz\n```\nand similar such things.\n\nIn `ehrhart_series()`, i think this will look better in latex formatting:\n\n```\n-``t^k`` is number of integer lattice points inside the ``k``-th dilation of\n+`t^k` is number of integer lattice points inside the `k`-th dilation of\n```\nNote that `k` and `t` are not input variable names.",
    "created_at": "2019-04-25T23:13:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382530",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:80" align="right">comment:80</div>

I have some comments:

This is a general Python convention we try to follow with the messages, moreover, the error is because the class has the wrong type (you are not expecting it to be implemented at some point, right?):

```diff
-raise NotImplementedError("The backend should be normaliz.")
+raise TypeError("the backend should be normaliz")
```
A similar comment applies elsewhere too. However, the `ImportError` can be the exception to this guide as it is "long".

The `INPUT:` bullet points are not considered to be complete sentences, so they should not end in a period/full-stop.

PEP8:

```diff
-sage: S = Polyhedron(vertices = [[0,1],[1,0]],backend='normaliz') # optional - pynormaliz
+sage: S = Polyhedron(vertices=[[0,1],[1,0]], backend='normaliz')  # optional - pynormaliz
```
and similar such things.

In `ehrhart_series()`, i think this will look better in latex formatting:

```
-``t^k`` is number of integer lattice points inside the ``k``-th dilation of
+`t^k` is number of integer lattice points inside the `k`-th dilation of
```
Note that `k` and `t` are not input variable names.



---

archive/issue_comments_382531.json:
```json
{
    "body": "Changed commit from **[`9249dda`](https://github.com/sagemath/sagetrac-mirror/commit/9249dda436e7e9c58b644ea5e4728f8fe969949f)** to **[`adc3f2a`](https://github.com/sagemath/sagetrac-mirror/commit/adc3f2a4e6d82427850517738d1681300565a675)**",
    "created_at": "2019-04-26T08:39:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382531",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9249dda`](https://github.com/sagemath/sagetrac-mirror/commit/9249dda436e7e9c58b644ea5e4728f8fe969949f)** to **[`adc3f2a`](https://github.com/sagemath/sagetrac-mirror/commit/adc3f2a4e6d82427850517738d1681300565a675)**



---

archive/issue_comments_382532.json:
```json
{
    "body": "<div id=\"comment:81\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2785c27d523f3e91a91cc5e608648903a34c502\"><code>f2785c2</code></a></td><td><code>pep8 and cleaning docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adc3f2a4e6d82427850517738d1681300565a675\"><code>adc3f2a</code></a></td><td><code>made tests pass without pynormaliz</code></td></tr></table>\n",
    "created_at": "2019-04-26T08:39:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382532",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:81"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2785c27d523f3e91a91cc5e608648903a34c502"><code>f2785c2</code></a></td><td><code>pep8 and cleaning docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adc3f2a4e6d82427850517738d1681300565a675"><code>adc3f2a</code></a></td><td><code>made tests pass without pynormaliz</code></td></tr></table>




---

archive/issue_comments_382533.json:
```json
{
    "body": "<div id=\"comment:82\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/970b46dafef7d96fdcb9d0b97edb8c6b132cc473\"><code>970b46d</code></a></td><td><code>Fixed coverage and blocks</code></td></tr></table>\n",
    "created_at": "2019-04-26T12:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382533",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:82"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/970b46dafef7d96fdcb9d0b97edb8c6b132cc473"><code>970b46d</code></a></td><td><code>Fixed coverage and blocks</code></td></tr></table>




---

archive/issue_comments_382534.json:
```json
{
    "body": "Changed commit from **[`adc3f2a`](https://github.com/sagemath/sagetrac-mirror/commit/adc3f2a4e6d82427850517738d1681300565a675)** to **[`970b46d`](https://github.com/sagemath/sagetrac-mirror/commit/970b46dafef7d96fdcb9d0b97edb8c6b132cc473)**",
    "created_at": "2019-04-26T12:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382534",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`adc3f2a`](https://github.com/sagemath/sagetrac-mirror/commit/adc3f2a4e6d82427850517738d1681300565a675)** to **[`970b46d`](https://github.com/sagemath/sagetrac-mirror/commit/970b46dafef7d96fdcb9d0b97edb8c6b132cc473)**



---

archive/issue_comments_382535.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nThere's an error in a doctest. \n\n```\nsage -t --long src/sage/geometry/polyhedron/base.py\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/base.py\", line 2874, in sage.geometry.polyhedron.base.Polyhedron_base._triangulate_normaliz\nFailed example:\n    K._triangulate_normaliz(engine='normaliz')\nExpected:\n    Traceback (most recent call last):\n    ...\n    TypeError: The polyhedron's backend should be 'normaliz'\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1095, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.base.Polyhedron_base._triangulate_normaliz[1]>\", line 1, in <module>\n        K._triangulate_normaliz(engine='normaliz')\n    TypeError: _triangulate_normaliz() got an unexpected keyword argument 'engine'\n**********************************************************************\n```",
    "created_at": "2019-04-26T14:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382535",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:83" align="right">comment:83</div>

There's an error in a doctest. 

```
sage -t --long src/sage/geometry/polyhedron/base.py
**********************************************************************
File "src/sage/geometry/polyhedron/base.py", line 2874, in sage.geometry.polyhedron.base.Polyhedron_base._triangulate_normaliz
Failed example:
    K._triangulate_normaliz(engine='normaliz')
Expected:
    Traceback (most recent call last):
    ...
    TypeError: The polyhedron's backend should be 'normaliz'
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1095, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.base.Polyhedron_base._triangulate_normaliz[1]>", line 1, in <module>
        K._triangulate_normaliz(engine='normaliz')
    TypeError: _triangulate_normaliz() got an unexpected keyword argument 'engine'
**********************************************************************
```



---

archive/issue_events_344120.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-26T14:47:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344120"
}
```



---

archive/issue_events_344121.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-04-26T14:47:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344121"
}
```



---

archive/issue_comments_382536.json:
```json
{
    "body": "Changed commit from **[`970b46d`](https://github.com/sagemath/sagetrac-mirror/commit/970b46dafef7d96fdcb9d0b97edb8c6b132cc473)** to **[`e1eee57`](https://github.com/sagemath/sagetrac-mirror/commit/e1eee578228315cab288ef5a0d22aca81a473731)**",
    "created_at": "2019-04-27T17:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382536",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`970b46d`](https://github.com/sagemath/sagetrac-mirror/commit/970b46dafef7d96fdcb9d0b97edb8c6b132cc473)** to **[`e1eee57`](https://github.com/sagemath/sagetrac-mirror/commit/e1eee578228315cab288ef5a0d22aca81a473731)**



---

archive/issue_comments_382537.json:
```json
{
    "body": "<div id=\"comment:84\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1eee578228315cab288ef5a0d22aca81a473731\"><code>e1eee57</code></a></td><td><code>Fixed some doctests</code></td></tr></table>\n",
    "created_at": "2019-04-27T17:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382537",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1eee578228315cab288ef5a0d22aca81a473731"><code>e1eee57</code></a></td><td><code>Fixed some doctests</code></td></tr></table>




---

archive/issue_events_344122.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-04-27T17:18:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344122"
}
```



---

archive/issue_events_344123.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-04-27T17:18:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344123"
}
```



---

archive/issue_comments_382538.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nI think I ended up being a little vague about the error messages. In Python, error messages start with a lowercase letter and do not end with a period/full-stop. While I do not expect you to change them all, I think it is good not to make it further from the general convention. I know this is not documented, but is sort of an agreement. So if you want to keep things the way they are, then you can go ahead and set a positive review. Although I would appreciate you changing them (or at least making a uniform convention for all of your added error messages).",
    "created_at": "2019-04-29T23:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382538",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:86" align="right">comment:86</div>

I think I ended up being a little vague about the error messages. In Python, error messages start with a lowercase letter and do not end with a period/full-stop. While I do not expect you to change them all, I think it is good not to make it further from the general convention. I know this is not documented, but is sort of an agreement. So if you want to keep things the way they are, then you can go ahead and set a positive review. Although I would appreciate you changing them (or at least making a uniform convention for all of your added error messages).



---

archive/issue_comments_382539.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nOne comment:\n\n```\n+# FLINT is a standard package and E-ANTIC is a standard pakcage. We\n```\n\nthe 2nd occ. of standard -> optional",
    "created_at": "2019-04-30T08:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382539",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:87" align="right">comment:87</div>

One comment:

```
+# FLINT is a standard package and E-ANTIC is a standard pakcage. We
```

the 2nd occ. of standard -> optional



---

archive/issue_comments_382540.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nReplying to [@tscrim](#comment%3A86):\n> I think I ended up being a little vague about the error messages. In Python, error messages start with a lowercase letter and do not end with a period/full-stop. While I do not expect you to change them all, I think it is good not to make it further from the general convention. I know this is not documented, but is sort of an agreement. So if you want to keep things the way they are, then you can go ahead and set a positive review. Although I would appreciate you changing them (or at least making a uniform convention for all of your added error messages).\n\nOh, I see. No problem, I will change it.",
    "created_at": "2019-04-30T08:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382540",
    "user": "https://github.com/jplab"
}
```

<div id="comment:88" align="right">comment:88</div>

Replying to [@tscrim](#comment%3A86):
> I think I ended up being a little vague about the error messages. In Python, error messages start with a lowercase letter and do not end with a period/full-stop. While I do not expect you to change them all, I think it is good not to make it further from the general convention. I know this is not documented, but is sort of an agreement. So if you want to keep things the way they are, then you can go ahead and set a positive review. Although I would appreciate you changing them (or at least making a uniform convention for all of your added error messages).

Oh, I see. No problem, I will change it.



---

archive/issue_comments_382541.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nThis is still using `is_package_installed`.",
    "created_at": "2019-04-30T10:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382541",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:89" align="right">comment:89</div>

This is still using `is_package_installed`.



---

archive/issue_events_344124.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-04-30T10:27:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344124"
}
```



---

archive/issue_events_344125.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-04-30T10:27:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344125"
}
```



---

archive/issue_comments_382542.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nInstead of putting `Latte().require()` in a `try` block, you can just check `if Latte().is_present()`\n\nIt can be argued which kind of error should be given here (I would go for `RuntimeError`), but certainly not a `TypeError`:\n\n```\nraise TypeError(\"The induced rational measure can only be computed with the optional packages `latte_int`, or `pynormaliz`\")\n```",
    "created_at": "2019-04-30T10:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382542",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:90" align="right">comment:90</div>

Instead of putting `Latte().require()` in a `try` block, you can just check `if Latte().is_present()`

It can be argued which kind of error should be given here (I would go for `RuntimeError`), but certainly not a `TypeError`:

```
raise TypeError("The induced rational measure can only be computed with the optional packages `latte_int`, or `pynormaliz`")
```



---

archive/issue_comments_382543.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nReplying to [@mkoeppe](#comment%3A42):\n> I think what may be intended here is to subclass `sage.features.PythonModule`.\n\nNot subclassing, just use it like `PythonModule(\"package.submodule\").is_present()` or whatever.",
    "created_at": "2019-04-30T10:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382543",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:91" align="right">comment:91</div>

Replying to [@mkoeppe](#comment%3A42):
> I think what may be intended here is to subclass `sage.features.PythonModule`.

Not subclassing, just use it like `PythonModule("package.submodule").is_present()` or whatever.



---

archive/issue_comments_382544.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nMore in detail: replace\n\n```\n        try:\n            import PyNormaliz\n        except ImportError:\n            raise ImportError(\"This backend requires PyNormaliz. To install PyNormaliz, type 'sage -i pynormaliz' in the terminal.\")\n```\nby\n\n```\nfrom sage.features import PythonModule\n\n        PythonModule(\"PyNormaliz\", spkg=\"pynormaliz\").require()\n        import PyNormaliz\n```",
    "created_at": "2019-04-30T10:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382544",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:92" align="right">comment:92</div>

More in detail: replace

```
        try:
            import PyNormaliz
        except ImportError:
            raise ImportError("This backend requires PyNormaliz. To install PyNormaliz, type 'sage -i pynormaliz' in the terminal.")
```
by

```
from sage.features import PythonModule

        PythonModule("PyNormaliz", spkg="pynormaliz").require()
        import PyNormaliz
```



---

archive/issue_comments_382545.json:
```json
{
    "body": "<div id=\"comment:93\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59cc7e0f9a6383dbfd103cea6923fff25f097ea1\"><code>59cc7e0</code></a></td><td><code>Fix Error messages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4f01d474d6c5a18ce88ce6bd5a2c65dff7bac29\"><code>a4f01d4</code></a></td><td><code>Fixed typo and added require package</code></td></tr></table>\n",
    "created_at": "2019-04-30T12:06:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382545",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:93"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59cc7e0f9a6383dbfd103cea6923fff25f097ea1"><code>59cc7e0</code></a></td><td><code>Fix Error messages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4f01d474d6c5a18ce88ce6bd5a2c65dff7bac29"><code>a4f01d4</code></a></td><td><code>Fixed typo and added require package</code></td></tr></table>




---

archive/issue_comments_382546.json:
```json
{
    "body": "Changed commit from **[`e1eee57`](https://github.com/sagemath/sagetrac-mirror/commit/e1eee578228315cab288ef5a0d22aca81a473731)** to **[`a4f01d4`](https://github.com/sagemath/sagetrac-mirror/commit/a4f01d474d6c5a18ce88ce6bd5a2c65dff7bac29)**",
    "created_at": "2019-04-30T12:06:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382546",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e1eee57`](https://github.com/sagemath/sagetrac-mirror/commit/e1eee578228315cab288ef5a0d22aca81a473731)** to **[`a4f01d4`](https://github.com/sagemath/sagetrac-mirror/commit/a4f01d474d6c5a18ce88ce6bd5a2c65dff7bac29)**



---

archive/issue_comments_382547.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nI fixed the error messages, typos, and the `require()` of `PyNormaliz`.\n\nReady for review again.",
    "created_at": "2019-04-30T12:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382547",
    "user": "https://github.com/jplab"
}
```

<div id="comment:94" align="right">comment:94</div>

I fixed the error messages, typos, and the `require()` of `PyNormaliz`.

Ready for review again.



---

archive/issue_events_344126.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-04-30T12:08:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344126"
}
```



---

archive/issue_events_344127.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-04-30T12:08:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344127"
}
```



---

archive/issue_events_344128.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-04-30T12:13:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344128"
}
```



---

archive/issue_events_344129.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-04-30T12:13:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344129"
}
```



---

archive/issue_comments_382548.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\n[comment:89]",
    "created_at": "2019-04-30T12:13:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382548",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:95" align="right">comment:95</div>

[comment:89]



---

archive/issue_comments_382549.json:
```json
{
    "body": "Changed commit from **[`a4f01d4`](https://github.com/sagemath/sagetrac-mirror/commit/a4f01d474d6c5a18ce88ce6bd5a2c65dff7bac29)** to **[`fbd3dce`](https://github.com/sagemath/sagetrac-mirror/commit/fbd3dce364043bbd59dc10dbd1a742fec0d937a6)**",
    "created_at": "2019-04-30T12:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382549",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a4f01d4`](https://github.com/sagemath/sagetrac-mirror/commit/a4f01d474d6c5a18ce88ce6bd5a2c65dff7bac29)** to **[`fbd3dce`](https://github.com/sagemath/sagetrac-mirror/commit/fbd3dce364043bbd59dc10dbd1a742fec0d937a6)**



---

archive/issue_comments_382550.json:
```json
{
    "body": "<div id=\"comment:96\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbd3dce364043bbd59dc10dbd1a742fec0d937a6\"><code>fbd3dce</code></a></td><td><code>removed is_package_installed</code></td></tr></table>\n",
    "created_at": "2019-04-30T12:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382550",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:96"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbd3dce364043bbd59dc10dbd1a742fec0d937a6"><code>fbd3dce</code></a></td><td><code>removed is_package_installed</code></td></tr></table>




---

archive/issue_events_344130.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-04-30T12:37:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344130"
}
```



---

archive/issue_events_344131.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-04-30T12:37:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344131"
}
```



---

archive/issue_comments_382551.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\n... forgot about this latte/pynormaliz switch there. Hopefully complete now.",
    "created_at": "2019-04-30T12:37:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382551",
    "user": "https://github.com/jplab"
}
```

<div id="comment:97" align="right">comment:97</div>

... forgot about this latte/pynormaliz switch there. Hopefully complete now.



---

archive/issue_comments_382552.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nI would still recommend to change the type of exception: `TypeError` makes no sense here.",
    "created_at": "2019-04-30T12:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382552",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:98" align="right">comment:98</div>

I would still recommend to change the type of exception: `TypeError` makes no sense here.



---

archive/issue_comments_382553.json:
```json
{
    "body": "Changed commit from **[`fbd3dce`](https://github.com/sagemath/sagetrac-mirror/commit/fbd3dce364043bbd59dc10dbd1a742fec0d937a6)** to **[`8ceee84`](https://github.com/sagemath/sagetrac-mirror/commit/8ceee8473f0b43e9b738923d1de353e66ed84f0a)**",
    "created_at": "2019-04-30T15:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382553",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fbd3dce`](https://github.com/sagemath/sagetrac-mirror/commit/fbd3dce364043bbd59dc10dbd1a742fec0d937a6)** to **[`8ceee84`](https://github.com/sagemath/sagetrac-mirror/commit/8ceee8473f0b43e9b738923d1de353e66ed84f0a)**



---

archive/issue_comments_382554.json:
```json
{
    "body": "<div id=\"comment:99\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ceee8473f0b43e9b738923d1de353e66ed84f0a\"><code>8ceee84</code></a></td><td><code>Change TypeError for RuntimeError</code></td></tr></table>\n",
    "created_at": "2019-04-30T15:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382554",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:99"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ceee8473f0b43e9b738923d1de353e66ed84f0a"><code>8ceee84</code></a></td><td><code>Change TypeError for RuntimeError</code></td></tr></table>




---

archive/issue_comments_382555.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\n... sorry for the omission, and thanks for the coaching on the features module.",
    "created_at": "2019-04-30T15:42:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382555",
    "user": "https://github.com/jplab"
}
```

<div id="comment:100" align="right">comment:100</div>

... sorry for the omission, and thanks for the coaching on the features module.



---

archive/issue_comments_382556.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nThank you for changing the error message strings.\n\nYou also need to make a changes in the `combinat/rigged_configurations/kleber_tree.py`\n\n```diff\n         try:\n             poly = Polyhedron(ieqs=ieqs, backend='normaliz')\n             self._has_normaliz = True\n-        except ImportError:\n+        except FeatureNotPresentError:\n             poly = Polyhedron(ieqs=ieqs)\n             self._has_normaliz = False\n```\nto reflect the new error message is thrown. That should take care of all of the errors reported on the patchbot (for when `normaliz` is not installed).\n\nModulo that, I am happy with this and am willing to set a positive review. Jeroen, any other comments?",
    "created_at": "2019-05-01T00:00:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382556",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:101" align="right">comment:101</div>

Thank you for changing the error message strings.

You also need to make a changes in the `combinat/rigged_configurations/kleber_tree.py`

```diff
         try:
             poly = Polyhedron(ieqs=ieqs, backend='normaliz')
             self._has_normaliz = True
-        except ImportError:
+        except FeatureNotPresentError:
             poly = Polyhedron(ieqs=ieqs)
             self._has_normaliz = False
```
to reflect the new error message is thrown. That should take care of all of the errors reported on the patchbot (for when `normaliz` is not installed).

Modulo that, I am happy with this and am willing to set a positive review. Jeroen, any other comments?



---

archive/issue_comments_382557.json:
```json
{
    "body": "Changed commit from **[`8ceee84`](https://github.com/sagemath/sagetrac-mirror/commit/8ceee8473f0b43e9b738923d1de353e66ed84f0a)** to **[`0da067f`](https://github.com/sagemath/sagetrac-mirror/commit/0da067f203fce15a1f27f480e1f2dd29bc8bd669)**",
    "created_at": "2019-05-01T07:51:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382557",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8ceee84`](https://github.com/sagemath/sagetrac-mirror/commit/8ceee8473f0b43e9b738923d1de353e66ed84f0a)** to **[`0da067f`](https://github.com/sagemath/sagetrac-mirror/commit/0da067f203fce15a1f27f480e1f2dd29bc8bd669)**



---

archive/issue_comments_382558.json:
```json
{
    "body": "<div id=\"comment:102\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0da067f203fce15a1f27f480e1f2dd29bc8bd669\"><code>0da067f</code></a></td><td><code>Fixed doctests and added author name</code></td></tr></table>\n",
    "created_at": "2019-05-01T07:51:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382558",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:102"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0da067f203fce15a1f27f480e1f2dd29bc8bd669"><code>0da067f</code></a></td><td><code>Fixed doctests and added author name</code></td></tr></table>




---

archive/issue_comments_382559.json:
```json
{
    "body": "<div id=\"comment:103\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7122d75e8149e4324e31928a313623ad427817b\"><code>d7122d7</code></a></td><td><code>pyflakes</code></td></tr></table>\n",
    "created_at": "2019-05-01T07:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382559",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:103"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7122d75e8149e4324e31928a313623ad427817b"><code>d7122d7</code></a></td><td><code>pyflakes</code></td></tr></table>




---

archive/issue_comments_382560.json:
```json
{
    "body": "Changed commit from **[`0da067f`](https://github.com/sagemath/sagetrac-mirror/commit/0da067f203fce15a1f27f480e1f2dd29bc8bd669)** to **[`d7122d7`](https://github.com/sagemath/sagetrac-mirror/commit/d7122d75e8149e4324e31928a313623ad427817b)**",
    "created_at": "2019-05-01T07:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382560",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0da067f`](https://github.com/sagemath/sagetrac-mirror/commit/0da067f203fce15a1f27f480e1f2dd29bc8bd669)** to **[`d7122d7`](https://github.com/sagemath/sagetrac-mirror/commit/d7122d75e8149e4324e31928a313623ad427817b)**



---

archive/issue_comments_382561.json:
```json
{
    "body": "<div id=\"comment:104\" align=\"right\">comment:104</div>\n\nYou forgot to import `FeatureNotPresentError` in `kleber_tree.py`.",
    "created_at": "2019-05-01T10:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382561",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:104" align="right">comment:104</div>

You forgot to import `FeatureNotPresentError` in `kleber_tree.py`.



---

archive/issue_comments_382562.json:
```json
{
    "body": "<div id=\"comment:105\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63a80b6634df8ee26bb0a50056956aec2c1a4b3a\"><code>63a80b6</code></a></td><td><code>Forgot an import</code></td></tr></table>\n",
    "created_at": "2019-05-01T15:30:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382562",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:105"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63a80b6634df8ee26bb0a50056956aec2c1a4b3a"><code>63a80b6</code></a></td><td><code>Forgot an import</code></td></tr></table>




---

archive/issue_comments_382563.json:
```json
{
    "body": "Changed commit from **[`d7122d7`](https://github.com/sagemath/sagetrac-mirror/commit/d7122d75e8149e4324e31928a313623ad427817b)** to **[`63a80b6`](https://github.com/sagemath/sagetrac-mirror/commit/63a80b6634df8ee26bb0a50056956aec2c1a4b3a)**",
    "created_at": "2019-05-01T15:30:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382563",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d7122d7`](https://github.com/sagemath/sagetrac-mirror/commit/d7122d75e8149e4324e31928a313623ad427817b)** to **[`63a80b6`](https://github.com/sagemath/sagetrac-mirror/commit/63a80b6634df8ee26bb0a50056956aec2c1a4b3a)**



---

archive/issue_comments_382564.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">comment:106</div>\n\n... it has been a long workshop.",
    "created_at": "2019-05-01T15:30:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382564",
    "user": "https://github.com/jplab"
}
```

<div id="comment:106" align="right">comment:106</div>

... it has been a long workshop.



---

archive/issue_comments_382565.json:
```json
{
    "body": "<div id=\"comment:107\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8716e3b8d51da404a63f7ca747847088a8d0d2a\"><code>d8716e3</code></a></td><td><code>Refactor NmzResult</code></td></tr></table>\n",
    "created_at": "2019-05-02T06:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382565",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:107"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8716e3b8d51da404a63f7ca747847088a8d0d2a"><code>d8716e3</code></a></td><td><code>Refactor NmzResult</code></td></tr></table>




---

archive/issue_comments_382566.json:
```json
{
    "body": "Changed commit from **[`63a80b6`](https://github.com/sagemath/sagetrac-mirror/commit/63a80b6634df8ee26bb0a50056956aec2c1a4b3a)** to **[`d8716e3`](https://github.com/sagemath/sagetrac-mirror/commit/d8716e3b8d51da404a63f7ca747847088a8d0d2a)**",
    "created_at": "2019-05-02T06:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382566",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`63a80b6`](https://github.com/sagemath/sagetrac-mirror/commit/63a80b6634df8ee26bb0a50056956aec2c1a4b3a)** to **[`d8716e3`](https://github.com/sagemath/sagetrac-mirror/commit/d8716e3b8d51da404a63f7ca747847088a8d0d2a)**



---

archive/issue_comments_382567.json:
```json
{
    "body": "<div id=\"comment:108\" align=\"right\">comment:108</div>\n\nThe last commit refactors things in the spirit of #27716.\n\nIt is now completely ready for review... No more forgotten things hopefully.",
    "created_at": "2019-05-02T07:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382567",
    "user": "https://github.com/jplab"
}
```

<div id="comment:108" align="right">comment:108</div>

The last commit refactors things in the spirit of #27716.

It is now completely ready for review... No more forgotten things hopefully.



---

archive/issue_comments_382568.json:
```json
{
    "body": "<div id=\"comment:109\" align=\"right\">comment:109</div>\n\nYou definitely seem to have done quite a bit in your workshop. However, now there are serious things failing: I am getting an infinite recursion happening that ends with\n\n```\n/home/uqtscrim/sage-build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in _nmz_result(self, normaliz_cone, property)\n    193         PythonModule(\"PyNormaliz\", spkg=\"pynormaliz\").require()\n    194         import PyNormaliz\n--> 195         return self._nmz_result(normaliz_cone, property)\n    196 \n    197     def _init_from_normaliz_cone(self, normaliz_cone):\n\n... last 1 frames repeated, from the frame below ...\n\n/home/uqtscrim/sage-build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in _nmz_result(self, normaliz_cone, property)\n    193         PythonModule(\"PyNormaliz\", spkg=\"pynormaliz\").require()\n    194         import PyNormaliz\n--> 195         return self._nmz_result(normaliz_cone, property)\n    196 \n    197     def _init_from_normaliz_cone(self, normaliz_cone):\n\nRuntimeError: maximum recursion depth exceeded in cmp\n```\nA function that only calls itself will definitely infinitely recurse. `;)`\n\nAdditionally, a couple of little details noted by the patchbot from pyflakes for `backend_normaliz.py`:\n\nIn `def _cone_generators(pynormaliz_cone):`, you have\n\n```\nreturn self._nmz_result(pynormaliz_cone, \"Generators\")\n```\nIn particular, `self` is not been defined in this `@staticmethod`.\n\nDo you require the `import PyNormaliz` here in `_nmz_result`:\n\n```\n        PythonModule(\"PyNormaliz\", spkg=\"pynormaliz\").require()\n        import PyNormaliz\n        return self._nmz_result(normaliz_cone, property)\n```",
    "created_at": "2019-05-02T08:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382568",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:109" align="right">comment:109</div>

You definitely seem to have done quite a bit in your workshop. However, now there are serious things failing: I am getting an infinite recursion happening that ends with

```
/home/uqtscrim/sage-build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in _nmz_result(self, normaliz_cone, property)
    193         PythonModule("PyNormaliz", spkg="pynormaliz").require()
    194         import PyNormaliz
--> 195         return self._nmz_result(normaliz_cone, property)
    196 
    197     def _init_from_normaliz_cone(self, normaliz_cone):

... last 1 frames repeated, from the frame below ...

/home/uqtscrim/sage-build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in _nmz_result(self, normaliz_cone, property)
    193         PythonModule("PyNormaliz", spkg="pynormaliz").require()
    194         import PyNormaliz
--> 195         return self._nmz_result(normaliz_cone, property)
    196 
    197     def _init_from_normaliz_cone(self, normaliz_cone):

RuntimeError: maximum recursion depth exceeded in cmp
```
A function that only calls itself will definitely infinitely recurse. `;)`

Additionally, a couple of little details noted by the patchbot from pyflakes for `backend_normaliz.py`:

In `def _cone_generators(pynormaliz_cone):`, you have

```
return self._nmz_result(pynormaliz_cone, "Generators")
```
In particular, `self` is not been defined in this `@staticmethod`.

Do you require the `import PyNormaliz` here in `_nmz_result`:

```
        PythonModule("PyNormaliz", spkg="pynormaliz").require()
        import PyNormaliz
        return self._nmz_result(normaliz_cone, property)
```



---

archive/issue_comments_382569.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw, Jeroen Demeyer**",
    "created_at": "2019-05-02T08:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382569",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw, Jeroen Demeyer**



---

archive/issue_events_344132.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-05-02T08:22:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344132"
}
```



---

archive/issue_events_344133.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-05-02T08:22:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344133"
}
```



---

archive/issue_comments_382570.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nO\u00ef o\u00ef o\u00ef... Will fix this, asap.\n\nReplying to [@tscrim](#comment%3A109):\n> You definitely seem to have done quite a bit in your workshop. However, now there are serious things failing: I am getting an infinite recursion happening that ends with\n> \n> ```\n> /home/uqtscrim/sage-build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in _nmz_result(self, normaliz_cone, property)\n>     193         PythonModule(\"PyNormaliz\", spkg=\"pynormaliz\").require()\n>     194         import PyNormaliz\n> --> 195         return self._nmz_result(normaliz_cone, property)\n>     196 \n>     197     def _init_from_normaliz_cone(self, normaliz_cone):\n> \n> ... last 1 frames repeated, from the frame below ...\n> \n> /home/uqtscrim/sage-build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in _nmz_result(self, normaliz_cone, property)\n>     193         PythonModule(\"PyNormaliz\", spkg=\"pynormaliz\").require()\n>     194         import PyNormaliz\n> --> 195         return self._nmz_result(normaliz_cone, property)\n>     196 \n>     197     def _init_from_normaliz_cone(self, normaliz_cone):\n> \n> RuntimeError: maximum recursion depth exceeded in cmp\n> ```\n> A function that only calls itself will definitely infinitely recurse. `;)`\n> \n> Additionally, a couple of little details noted by the patchbot from pyflakes for `backend_normaliz.py`:\n> \n> In `def _cone_generators(pynormaliz_cone):`, you have\n> \n> ```\n> return self._nmz_result(pynormaliz_cone, \"Generators\")\n> ```\n> In particular, `self` is not been defined in this `@staticmethod`.\n> \n> Do you require the `import PyNormaliz` here in `_nmz_result`:\n> \n> ```\n>         PythonModule(\"PyNormaliz\", spkg=\"pynormaliz\").require()\n>         import PyNormaliz\n>         return self._nmz_result(normaliz_cone, property)\n> ```",
    "created_at": "2019-05-02T14:12:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382570",
    "user": "https://github.com/jplab"
}
```

<div id="comment:110" align="right">comment:110</div>

O√Ø o√Ø o√Ø... Will fix this, asap.

Replying to [@tscrim](#comment%3A109):
> You definitely seem to have done quite a bit in your workshop. However, now there are serious things failing: I am getting an infinite recursion happening that ends with
> 
> ```
> /home/uqtscrim/sage-build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in _nmz_result(self, normaliz_cone, property)
>     193         PythonModule("PyNormaliz", spkg="pynormaliz").require()
>     194         import PyNormaliz
> --> 195         return self._nmz_result(normaliz_cone, property)
>     196 
>     197     def _init_from_normaliz_cone(self, normaliz_cone):
> 
> ... last 1 frames repeated, from the frame below ...
> 
> /home/uqtscrim/sage-build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/backend_normaliz.pyc in _nmz_result(self, normaliz_cone, property)
>     193         PythonModule("PyNormaliz", spkg="pynormaliz").require()
>     194         import PyNormaliz
> --> 195         return self._nmz_result(normaliz_cone, property)
>     196 
>     197     def _init_from_normaliz_cone(self, normaliz_cone):
> 
> RuntimeError: maximum recursion depth exceeded in cmp
> ```
> A function that only calls itself will definitely infinitely recurse. `;)`
> 
> Additionally, a couple of little details noted by the patchbot from pyflakes for `backend_normaliz.py`:
> 
> In `def _cone_generators(pynormaliz_cone):`, you have
> 
> ```
> return self._nmz_result(pynormaliz_cone, "Generators")
> ```
> In particular, `self` is not been defined in this `@staticmethod`.
> 
> Do you require the `import PyNormaliz` here in `_nmz_result`:
> 
> ```
>         PythonModule("PyNormaliz", spkg="pynormaliz").require()
>         import PyNormaliz
>         return self._nmz_result(normaliz_cone, property)
> ```



---

archive/issue_comments_382571.json:
```json
{
    "body": "Changed commit from **[`d8716e3`](https://github.com/sagemath/sagetrac-mirror/commit/d8716e3b8d51da404a63f7ca747847088a8d0d2a)** to **[`08b315b`](https://github.com/sagemath/sagetrac-mirror/commit/08b315bd50d9ae5737f99a2d92d6abe2708a38f3)**",
    "created_at": "2019-05-02T16:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382571",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d8716e3`](https://github.com/sagemath/sagetrac-mirror/commit/d8716e3b8d51da404a63f7ca747847088a8d0d2a)** to **[`08b315b`](https://github.com/sagemath/sagetrac-mirror/commit/08b315bd50d9ae5737f99a2d92d6abe2708a38f3)**



---

archive/issue_comments_382572.json:
```json
{
    "body": "<div id=\"comment:111\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08b315bd50d9ae5737f99a2d92d6abe2708a38f3\"><code>08b315b</code></a></td><td><code>Fixed infinite recursion</code></td></tr></table>\n",
    "created_at": "2019-05-02T16:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382572",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:111"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08b315bd50d9ae5737f99a2d92d6abe2708a38f3"><code>08b315b</code></a></td><td><code>Fixed infinite recursion</code></td></tr></table>




---

archive/issue_comments_382573.json:
```json
{
    "body": "<div id=\"comment:112\" align=\"right\">comment:112</div>\n\nReplying to [@tscrim](#comment%3A109):\n\n> A function that only calls itself will definitely infinitely recurse. `;)`\n>\n>\n\nI love those...\n \n> Additionally, a couple of little details noted by the patchbot from pyflakes for `backend_normaliz.py`:\n> \n> In `def _cone_generators(pynormaliz_cone):`, you have\n> \n> ```\n> return self._nmz_result(pynormaliz_cone, \"Generators\")\n> ```\n> In particular, `self` is not been defined in this `@staticmethod`.\n\nIs now fixed.\n\n> Do you require the `import PyNormaliz` here in `_nmz_result`:\n> \n> ```\n>         PythonModule(\"PyNormaliz\", spkg=\"pynormaliz\").require()\n>         import PyNormaliz\n>         return self._nmz_result(normaliz_cone, property)\n> ```\n\nThis was the cause of the infinite recursion. It is now fixed.",
    "created_at": "2019-05-02T16:50:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382573",
    "user": "https://github.com/jplab"
}
```

<div id="comment:112" align="right">comment:112</div>

Replying to [@tscrim](#comment%3A109):

> A function that only calls itself will definitely infinitely recurse. `;)`
>
>

I love those...
 
> Additionally, a couple of little details noted by the patchbot from pyflakes for `backend_normaliz.py`:
> 
> In `def _cone_generators(pynormaliz_cone):`, you have
> 
> ```
> return self._nmz_result(pynormaliz_cone, "Generators")
> ```
> In particular, `self` is not been defined in this `@staticmethod`.

Is now fixed.

> Do you require the `import PyNormaliz` here in `_nmz_result`:
> 
> ```
>         PythonModule("PyNormaliz", spkg="pynormaliz").require()
>         import PyNormaliz
>         return self._nmz_result(normaliz_cone, property)
> ```

This was the cause of the infinite recursion. It is now fixed.



---

archive/issue_events_344134.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-05-02T16:50:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344134"
}
```



---

archive/issue_events_344135.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-05-02T16:50:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344135"
}
```



---

archive/issue_comments_382574.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nNeeds review again!",
    "created_at": "2019-05-09T14:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382574",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:114" align="right">comment:114</div>

Needs review again!



---

archive/issue_comments_382575.json:
```json
{
    "body": "<div id=\"comment:115\" align=\"right\">comment:115</div>\n\nLGTM.",
    "created_at": "2019-05-09T22:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382575",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:115" align="right">comment:115</div>

LGTM.



---

archive/issue_events_344136.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-05-09T22:55:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344136"
}
```



---

archive/issue_events_344137.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-05-09T22:55:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344137"
}
```



---

archive/issue_comments_382576.json:
```json
{
    "body": "<div id=\"comment:116\" align=\"right\">comment:116</div>\n\nReplying to [@tscrim](#comment%3A115):\n> LGTM.\n\nGreat news!",
    "created_at": "2019-05-10T05:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382576",
    "user": "https://github.com/jplab"
}
```

<div id="comment:116" align="right">comment:116</div>

Replying to [@tscrim](#comment%3A115):
> LGTM.

Great news!



---

archive/issue_comments_382577.json:
```json
{
    "body": "<div id=\"comment:117\" align=\"right\">comment:117</div>\n\n\n```\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/base.py\", line 5295, in sage.geometry.polyhedron.base.Polyhedron_base.volume\nFailed example:\n    P.volume(measure='induced_rational')  # optional - latte_int\nExpected:\n    3/2\nGot:\n    1\n**********************************************************************\n1 item had failures:\n   1 of  47 in sage.geometry.polyhedron.base.Polyhedron_base.volume\n    [1137 tests, 1 failure, 48.32 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/geometry/polyhedron/base.py  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2019-05-14T07:03:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382577",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:117" align="right">comment:117</div>


```
**********************************************************************
File "src/sage/geometry/polyhedron/base.py", line 5295, in sage.geometry.polyhedron.base.Polyhedron_base.volume
Failed example:
    P.volume(measure='induced_rational')  # optional - latte_int
Expected:
    3/2
Got:
    1
**********************************************************************
1 item had failures:
   1 of  47 in sage.geometry.polyhedron.base.Polyhedron_base.volume
    [1137 tests, 1 failure, 48.32 s]
----------------------------------------------------------------------
sage -t --long src/sage/geometry/polyhedron/base.py  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_events_344138.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-14T07:03:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344138"
}
```



---

archive/issue_events_344139.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-14T07:03:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344139"
}
```



---

archive/issue_comments_382578.json:
```json
{
    "body": "<div id=\"comment:118\" align=\"right\">comment:118</div>\n\nReplying to [@vbraun](#comment%3A117):\n> \n> ```\n> **********************************************************************\n> File \"src/sage/geometry/polyhedron/base.py\", line 5295, in sage.geometry.polyhedron.base.Polyhedron_base.volume\n> Failed example:\n>     P.volume(measure='induced_rational')  # optional - latte_int\n> Expected:\n>     3/2\n> Got:\n>     1\n> **********************************************************************\n> 1 item had failures:\n>    1 of  47 in sage.geometry.polyhedron.base.Polyhedron_base.volume\n>     [1137 tests, 1 failure, 48.32 s]\n> ----------------------------------------------------------------------\n> sage -t --long src/sage/geometry/polyhedron/base.py  # 1 doctest failed\n> ----------------------------------------------------------------------\n> ```\n\nHm. Annoying.\n\nI can reproduce this with `--optional=4ti2,bliss,dochtml,e_antic,gfortran,latte_int,lidia,lrslib,memlimit,mpir,ninja_build,python2,sage,topcom`\n\nand all tests pass with `pynormaliz` added. Dammit.",
    "created_at": "2019-05-14T08:10:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382578",
    "user": "https://github.com/jplab"
}
```

<div id="comment:118" align="right">comment:118</div>

Replying to [@vbraun](#comment%3A117):
> 
> ```
> **********************************************************************
> File "src/sage/geometry/polyhedron/base.py", line 5295, in sage.geometry.polyhedron.base.Polyhedron_base.volume
> Failed example:
>     P.volume(measure='induced_rational')  # optional - latte_int
> Expected:
>     3/2
> Got:
>     1
> **********************************************************************
> 1 item had failures:
>    1 of  47 in sage.geometry.polyhedron.base.Polyhedron_base.volume
>     [1137 tests, 1 failure, 48.32 s]
> ----------------------------------------------------------------------
> sage -t --long src/sage/geometry/polyhedron/base.py  # 1 doctest failed
> ----------------------------------------------------------------------
> ```

Hm. Annoying.

I can reproduce this with `--optional=4ti2,bliss,dochtml,e_antic,gfortran,latte_int,lidia,lrslib,memlimit,mpir,ninja_build,python2,sage,topcom`

and all tests pass with `pynormaliz` added. Dammit.



---

archive/issue_comments_382579.json:
```json
{
    "body": "<div id=\"comment:119\" align=\"right\">comment:119</div>\n\nReplying to [@jplab](#comment%3A118):\n> Replying to [@vbraun](#comment%3A117):\n> > \n> > ```\n> > **********************************************************************\n> > File \"src/sage/geometry/polyhedron/base.py\", line 5295, in sage.geometry.polyhedron.base.Polyhedron_base.volume\n> > Failed example:\n> >     P.volume(measure='induced_rational')  # optional - latte_int\n> > Expected:\n> >     3/2\n> > Got:\n> >     1\n> > **********************************************************************\n> > 1 item had failures:\n> >    1 of  47 in sage.geometry.polyhedron.base.Polyhedron_base.volume\n> >     [1137 tests, 1 failure, 48.32 s]\n> > ----------------------------------------------------------------------\n> > sage -t --long src/sage/geometry/polyhedron/base.py  # 1 doctest failed\n> > ----------------------------------------------------------------------\n> > ```\n> \n> \n> Hm. Annoying.\n> \n> I can reproduce this with `--optional=4ti2,bliss,dochtml,e_antic,gfortran,latte_int,lidia,lrslib,memlimit,mpir,ninja_build,python2,sage,topcom`\n> \n> and all tests pass with `pynormaliz` added. Dammit.\n\nGot it! It's from a previous test... That's a easy fix. I forgot to put both latte_it and pynormaliz as optional...",
    "created_at": "2019-05-14T08:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382579",
    "user": "https://github.com/jplab"
}
```

<div id="comment:119" align="right">comment:119</div>

Replying to [@jplab](#comment%3A118):
> Replying to [@vbraun](#comment%3A117):
> > 
> > ```
> > **********************************************************************
> > File "src/sage/geometry/polyhedron/base.py", line 5295, in sage.geometry.polyhedron.base.Polyhedron_base.volume
> > Failed example:
> >     P.volume(measure='induced_rational')  # optional - latte_int
> > Expected:
> >     3/2
> > Got:
> >     1
> > **********************************************************************
> > 1 item had failures:
> >    1 of  47 in sage.geometry.polyhedron.base.Polyhedron_base.volume
> >     [1137 tests, 1 failure, 48.32 s]
> > ----------------------------------------------------------------------
> > sage -t --long src/sage/geometry/polyhedron/base.py  # 1 doctest failed
> > ----------------------------------------------------------------------
> > ```
> 
> 
> Hm. Annoying.
> 
> I can reproduce this with `--optional=4ti2,bliss,dochtml,e_antic,gfortran,latte_int,lidia,lrslib,memlimit,mpir,ninja_build,python2,sage,topcom`
> 
> and all tests pass with `pynormaliz` added. Dammit.

Got it! It's from a previous test... That's a easy fix. I forgot to put both latte_it and pynormaliz as optional...



---

archive/issue_comments_382580.json:
```json
{
    "body": "Changed commit from **[`08b315b`](https://github.com/sagemath/sagetrac-mirror/commit/08b315bd50d9ae5737f99a2d92d6abe2708a38f3)** to **[`da05706`](https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83)**",
    "created_at": "2019-05-14T08:17:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382580",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`08b315b`](https://github.com/sagemath/sagetrac-mirror/commit/08b315bd50d9ae5737f99a2d92d6abe2708a38f3)** to **[`da05706`](https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83)**



---

archive/issue_comments_382581.json:
```json
{
    "body": "<div id=\"comment:120\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83\"><code>da05706</code></a></td><td><code>Fix forgotten optional package test</code></td></tr></table>\n",
    "created_at": "2019-05-14T08:17:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382581",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:120"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83"><code>da05706</code></a></td><td><code>Fix forgotten optional package test</code></td></tr></table>




---

archive/issue_comments_382582.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\nNeeds review again...",
    "created_at": "2019-05-14T08:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382582",
    "user": "https://github.com/jplab"
}
```

<div id="comment:121" align="right">comment:121</div>

Needs review again...



---

archive/issue_events_344140.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-05-14T08:17:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344140"
}
```



---

archive/issue_events_344141.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-05-14T08:17:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344141"
}
```



---

archive/issue_events_344142.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-05-15T00:10:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344142"
}
```



---

archive/issue_events_344143.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-05-15T00:10:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344143"
}
```



---

archive/issue_comments_382583.json:
```json
{
    "body": "Changed branch from **[public/some_normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/public/some_normaliz_features)** to **[`da05706`](https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83)**",
    "created_at": "2019-05-21T12:16:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25091#issuecomment-382583",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/some_normaliz_features](https://github.com/sagemath/sagetrac-mirror/tree/public/some_normaliz_features)** to **[`da05706`](https://github.com/sagemath/sagetrac-mirror/commit/da057067814b4a5adbc1e77ce0fc9dcc8f0dee83)**



---

archive/issue_events_344144.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-21T12:16:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344144"
}
```



---

archive/issue_events_344145.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f60793361a190db7b3d65d3e9fbc467b4151196c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-05-21T12:16:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25091",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25091#event-344145"
}
```
