# Issue 25983: Document that divisors are returned sorted in increasing order

archive/issues_025746.json:
```json
{
    "assignees": [],
    "body": "Initial report:\n\n> The output of `divisors(n)` for integer `n` appears to be sorted.\n\n>\n> If true, this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.\n>\n> Same for `prime_divisors` and `squarefree_divisors`.\n\nIt turns out that for integer `n`, both `divisors(n)` and `prime_divisors(n)`\nare sorted in increasing order.\n\nOn the other hand, for `squarefree_divisors(n)` the order comes from\nusing powerset of the list of prime divisors of `n` and in general will\nnot coincide with the increasing order.\n\nThis ticket makes sure the documentation documents that.\n\nCC:  @slel\n\nKeywords: **divisors, sorted**\n\nBranch/Commit: **[`580b9a1`](https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Samuel Leli\u00e8vre**\n\nComponent: **basic arithmetic**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25983_\n\n",
    "closed_at": "2019-01-28T19:20:19Z",
    "created_at": "2018-08-01T09:04:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p%3A%205%20%E2%80%93%20trivial",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Document that divisors are returned sorted in increasing order",
    "type": "issue",
    "updated_at": "2019-01-28T19:20:19Z",
    "url": "https://github.com/sagemath/sage/issues/25983",
    "user": "https://github.com/zimmermann6"
}
```
Initial report:

> The output of `divisors(n)` for integer `n` appears to be sorted.

>
> If true, this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.
>
> Same for `prime_divisors` and `squarefree_divisors`.

It turns out that for integer `n`, both `divisors(n)` and `prime_divisors(n)`
are sorted in increasing order.

On the other hand, for `squarefree_divisors(n)` the order comes from
using powerset of the list of prime divisors of `n` and in general will
not coincide with the increasing order.

This ticket makes sure the documentation documents that.

CC:  @slel

Keywords: **divisors, sorted**

Branch/Commit: **[`580b9a1`](https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964)**

Reviewer: **Jeroen Demeyer**

Author: **Samuel Lelièvre**

Component: **basic arithmetic**

_Issue created by migration from https://trac.sagemath.org/ticket/25983_





---

archive/issue_events_358935.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-08-01T09:04:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358935"
}
```



---

archive/issue_events_358936.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-08-01T09:04:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358936"
}
```



---

archive/issue_events_358937.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-08-01T09:04:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/p%3A%205%20%E2%80%93%20trivial",
    "label_color": "fff9e5",
    "label_name": "p: 5 \u2013 trivial",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358937"
}
```



---

archive/issue_events_358938.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2018-08-01T09:04:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358938"
}
```



---

archive/issue_comments_399965.json:
```json
{
    "body": "Branch: **[u/slelievre/enhance_documentation_of_divisors](https://github.com/sagemath/sagetrac-mirror/tree/u/slelievre/enhance_documentation_of_divisors)**",
    "created_at": "2018-08-08T13:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399965",
    "user": "https://github.com/slel"
}
```

Branch: **[u/slelievre/enhance_documentation_of_divisors](https://github.com/sagemath/sagetrac-mirror/tree/u/slelievre/enhance_documentation_of_divisors)**



---

archive/issue_comments_399966.json:
```json
{
    "body": "Commit: **[`7fe6d32`](https://github.com/sagemath/sagetrac-mirror/commit/7fe6d3243d8ddd52272a8abc9a083f005960405f)**",
    "created_at": "2018-08-08T13:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399966",
    "user": "https://github.com/slel"
}
```

Commit: **[`7fe6d32`](https://github.com/sagemath/sagetrac-mirror/commit/7fe6d3243d8ddd52272a8abc9a083f005960405f)**



---

archive/issue_comments_399967.json:
```json
{
    "body": "Changed keywords from none to **divisors, sorted**",
    "created_at": "2018-08-08T13:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399967",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **divisors, sorted**



---

archive/issue_comments_399968.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-the output of divisors(n) for n integer appears to be sorted, if true this should be documented, to avoid the user to call sorted(l).\n+The output of divisors(n) for n integer appears to be sorted.\n+If true this should be documented, to avoid the user to call sorted(l).\n+\n+Same for prime_divisors and squarefree_divisors.\n``````\n",
    "created_at": "2018-08-08T13:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399968",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-the output of divisors(n) for n integer appears to be sorted, if true this should be documented, to avoid the user to call sorted(l).
+The output of divisors(n) for n integer appears to be sorted.
+If true this should be documented, to avoid the user to call sorted(l).
+
+Same for prime_divisors and squarefree_divisors.
``````




---

archive/issue_comments_399969.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nTentative documentation improvement. Please review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fe6d3243d8ddd52272a8abc9a083f005960405f\"><code>7fe6d32</code></a></td><td><code>Document that divisors are returned ordered</code></td></tr></table>\n",
    "created_at": "2018-08-08T13:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399969",
    "user": "https://github.com/slel"
}
```

<div id="comment:2" align="right">comment:2</div>

Tentative documentation improvement. Please review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fe6d3243d8ddd52272a8abc9a083f005960405f"><code>7fe6d32</code></a></td><td><code>Document that divisors are returned ordered</code></td></tr></table>




---

archive/issue_events_358939.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-08-08T13:53:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358939"
}
```



---

archive/issue_events_358940.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-08-08T13:53:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "title_is": "Document that divisors are returned sorted in increasing order",
    "title_was": "enhance documentation of divisors",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358940"
}
```



---

archive/issue_comments_399970.json:
```json
{
    "body": "Author: **Samuel Leli\u00e8vre**",
    "created_at": "2018-08-08T13:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399970",
    "user": "https://github.com/slel"
}
```

Author: **Samuel Lelièvre**



---

archive/issue_comments_399971.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n-The output of divisors(n) for n integer appears to be sorted.\n-If true this should be documented, to avoid the user to call sorted(l).\n+The output of `divisors(n)` for n integer appears to be sorted.\n \n-Same for prime_divisors and squarefree_divisors.\n+If true this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.\n+\n+Same for `prime_divisors` and `squarefree_divisors`.\n``````\n",
    "created_at": "2018-08-08T13:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399971",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
-The output of divisors(n) for n integer appears to be sorted.
-If true this should be documented, to avoid the user to call sorted(l).
+The output of `divisors(n)` for n integer appears to be sorted.
 
-Same for prime_divisors and squarefree_divisors.
+If true this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.
+
+Same for `prime_divisors` and `squarefree_divisors`.
``````




---

archive/issue_comments_399972.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nQuestion: Should we sort them? I understand the purpose of sorting them for doctest output, but how often is it useful to go through them in sorted order? In the same vein, would it be useful to have a pure iterator variant?",
    "created_at": "2018-08-08T23:12:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399972",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

Question: Should we sort them? I understand the purpose of sorting them for doctest output, but how often is it useful to go through them in sorted order? In the same vein, would it be useful to have a pure iterator variant?



---

archive/issue_comments_399973.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI strongly support adding an iterator variant, either here or in a separate ticket.",
    "created_at": "2018-08-09T11:36:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399973",
    "user": "https://github.com/slel"
}
```

<div id="comment:5" align="right">comment:5</div>

I strongly support adding an iterator variant, either here or in a separate ticket.



---

archive/issue_comments_399974.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAbout iterators, see also this Ask Sage question:\n\n- [Ask Sage question 24969: Lower prime divisor](https://ask.sagemath.org/question/24969)",
    "created_at": "2018-08-09T11:39:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399974",
    "user": "https://github.com/slel"
}
```

<div id="comment:6" align="right">comment:6</div>

About iterators, see also this Ask Sage question:

- [Ask Sage question 24969: Lower prime divisor](https://ask.sagemath.org/question/24969)



---

archive/issue_events_358941.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-09T12:19:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358941"
}
```



---

archive/issue_events_358942.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-08-09T12:19:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358942"
}
```



---

archive/issue_comments_399975.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI suggest removing the sorting in the generic case.",
    "created_at": "2018-08-09T12:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399975",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

I suggest removing the sorting in the generic case.



---

archive/issue_comments_399976.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI agree some applications don't need the divisors sorted, and those that need it can easily use `sorted(divisors(...))`.",
    "created_at": "2018-08-22T08:06:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399976",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:8" align="right">comment:8</div>

I agree some applications don't need the divisors sorted, and those that need it can easily use `sorted(divisors(...))`.



---

archive/issue_comments_399977.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHow about an optional argument `sorted` defaulting to `False`?",
    "created_at": "2018-10-07T16:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399977",
    "user": "https://github.com/slel"
}
```

<div id="comment:9" align="right">comment:9</div>

How about an optional argument `sorted` defaulting to `False`?



---

archive/issue_comments_399978.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@slel](#comment:9):\n> How about an optional argument `sorted` defaulting to `False`?\n\nthat would be a good solution.",
    "created_at": "2018-10-08T07:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399978",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@slel](#comment:9):
> How about an optional argument `sorted` defaulting to `False`?

that would be a good solution.



---

archive/issue_comments_399979.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@slel](#comment:9):\n> How about an optional argument `sorted` defaulting to `False`?\n\nI wonder to what purpose? Is there any advantage over sorting afterwards?",
    "created_at": "2018-10-08T07:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399979",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@slel](#comment:9):
> How about an optional argument `sorted` defaulting to `False`?

I wonder to what purpose? Is there any advantage over sorting afterwards?



---

archive/issue_events_358943.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-24T14:49:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358943"
}
```



---

archive/issue_events_358944.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-24T14:49:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358944"
}
```



---

archive/issue_comments_399980.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis ticket was opened to document that divisors are returned sorted\nin increasing order.\n\nShould we review that, and open one (ore more) follow-up ticket(s) to\n\n- make `divisors` and `prime_divisors` return unsorted output by default\n- provide an iterator variant for `divisors` and `prime_divisors`\n\nI'm also happy if this ticket is repurposed to something more useful...\nbut I would not know where to start for that, and I'm afraid this stays stalled.",
    "created_at": "2018-10-24T14:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399980",
    "user": "https://github.com/slel"
}
```

<div id="comment:12" align="right">comment:12</div>

This ticket was opened to document that divisors are returned sorted
in increasing order.

Should we review that, and open one (ore more) follow-up ticket(s) to

- make `divisors` and `prime_divisors` return unsorted output by default
- provide an iterator variant for `divisors` and `prime_divisors`

I'm also happy if this ticket is repurposed to something more useful...
but I would not know where to start for that, and I'm afraid this stays stalled.



---

archive/issue_events_358945.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-24T14:49:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358945"
}
```



---

archive/issue_events_358946.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-24T14:49:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358946"
}
```



---

archive/issue_comments_399981.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nMerge failure",
    "created_at": "2019-01-09T09:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399981",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Merge failure



---

archive/issue_events_358947.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-09T09:49:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358947"
}
```



---

archive/issue_events_358948.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-09T09:49:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358948"
}
```



---

archive/issue_events_358949.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-09T10:35:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358949"
}
```



---

archive/issue_events_358950.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-09T10:35:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358950"
}
```



---

archive/issue_comments_399982.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-The output of `divisors(n)` for n integer appears to be sorted.\n+The output of `divisors(n)` for integer `n` appears to be sorted.\n \n-If true this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.\n+If true, this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.\n \n Same for `prime_divisors` and `squarefree_divisors`.\n``````\n",
    "created_at": "2019-01-09T10:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399982",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-The output of `divisors(n)` for n integer appears to be sorted.
+The output of `divisors(n)` for integer `n` appears to be sorted.
 
-If true this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.
+If true, this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.
 
 Same for `prime_divisors` and `squarefree_divisors`.
``````




---

archive/issue_comments_399983.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nRebased on SageMath 8.6.rc0. Please review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e1c2f79aa97a98b1148e77d94b0d7ffcb09774f\"><code>6e1c2f7</code></a></td><td><code>#25983 Say divisors are returned sorted</code></td></tr></table>\n",
    "created_at": "2019-01-09T16:00:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399983",
    "user": "https://github.com/slel"
}
```

<div id="comment:15" align="right">comment:15</div>

Rebased on SageMath 8.6.rc0. Please review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e1c2f79aa97a98b1148e77d94b0d7ffcb09774f"><code>6e1c2f7</code></a></td><td><code>#25983 Say divisors are returned sorted</code></td></tr></table>




---

archive/issue_events_358951.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-09T16:00:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358951"
}
```



---

archive/issue_events_358952.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-09T16:00:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358952"
}
```



---

archive/issue_comments_399984.json:
```json
{
    "body": "Changed branch from **[u/slelievre/enhance_documentation_of_divisors](https://github.com/sagemath/sagetrac-mirror/tree/u/slelievre/enhance_documentation_of_divisors)** to **[u/slelievre/t-25983-say-divisors-are-sorted](https://github.com/sagemath/sagetrac-mirror/tree/u/slelievre/t-25983-say-divisors-are-sorted)**",
    "created_at": "2019-01-09T16:00:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399984",
    "user": "https://github.com/slel"
}
```

Changed branch from **[u/slelievre/enhance_documentation_of_divisors](https://github.com/sagemath/sagetrac-mirror/tree/u/slelievre/enhance_documentation_of_divisors)** to **[u/slelievre/t-25983-say-divisors-are-sorted](https://github.com/sagemath/sagetrac-mirror/tree/u/slelievre/t-25983-say-divisors-are-sorted)**



---

archive/issue_comments_399985.json:
```json
{
    "body": "Changed commit from **[`7fe6d32`](https://github.com/sagemath/sagetrac-mirror/commit/7fe6d3243d8ddd52272a8abc9a083f005960405f)** to **[`6e1c2f7`](https://github.com/sagemath/sagetrac-mirror/commit/6e1c2f79aa97a98b1148e77d94b0d7ffcb09774f)**",
    "created_at": "2019-01-09T16:00:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399985",
    "user": "https://github.com/slel"
}
```

Changed commit from **[`7fe6d32`](https://github.com/sagemath/sagetrac-mirror/commit/7fe6d3243d8ddd52272a8abc9a083f005960405f)** to **[`6e1c2f7`](https://github.com/sagemath/sagetrac-mirror/commit/6e1c2f79aa97a98b1148e77d94b0d7ffcb09774f)**



---

archive/issue_comments_399986.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThis is wrong:\n\n```\nReturn the list of all divisors (up to units) of this element\nof a unique factorization domain, sorted in increasing order.\n```\n\nIn general, there is no guarantee of sorting (it wouldn't make sense either: how would you sort elements of an arbitrary ring?). It is sorted for integers.",
    "created_at": "2019-01-10T10:03:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399986",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

This is wrong:

```
Return the list of all divisors (up to units) of this element
of a unique factorization domain, sorted in increasing order.
```

In general, there is no guarantee of sorting (it wouldn't make sense either: how would you sort elements of an arbitrary ring?). It is sorted for integers.



---

archive/issue_events_358953.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-10T10:05:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358953"
}
```



---

archive/issue_events_358954.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-10T10:05:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358954"
}
```



---

archive/issue_comments_399987.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSame issue in the other changed documentation: the generic functions don't guarantee any kind of sorting. Only specific implementations like for `Integer` do sort.",
    "created_at": "2019-01-10T10:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399987",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Same issue in the other changed documentation: the generic functions don't guarantee any kind of sorting. Only specific implementations like for `Integer` do sort.



---

archive/issue_comments_399988.json:
```json
{
    "body": "Changed commit from **[`6e1c2f7`](https://github.com/sagemath/sagetrac-mirror/commit/6e1c2f79aa97a98b1148e77d94b0d7ffcb09774f)** to **[`580b9a1`](https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964)**",
    "created_at": "2019-01-10T13:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399988",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6e1c2f7`](https://github.com/sagemath/sagetrac-mirror/commit/6e1c2f79aa97a98b1148e77d94b0d7ffcb09774f)** to **[`580b9a1`](https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964)**



---

archive/issue_comments_399989.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964\"><code>580b9a1</code></a></td><td><code>#25983 Squarefree divisors not in increasing order</code></td></tr></table>\n",
    "created_at": "2019-01-10T13:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399989",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964"><code>580b9a1</code></a></td><td><code>#25983 Squarefree divisors not in increasing order</code></td></tr></table>




---

archive/issue_events_358955.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-10T14:06:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358955"
}
```



---

archive/issue_events_358956.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-10T14:06:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358956"
}
```



---

archive/issue_comments_399990.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThanks for these comments. I took them into account.\n\nFor `squarefree_divisors(n)` the order comes from using powerset of\nthe list of prime divisors of `n` and in general will not coincide with\nthe increasing order.\nFor example, the list of prime divisors of 30 is [2, 3, 5], and the\npowers can be [0, 0, 0], [1, 0, 0], [0, 1, 0], [1, 1, 0], [0, 0, 1], [1, 0, 1],\n[0, 1, 1], [1, 1, 1], giving the squarefree divisors 1, 2, 3, 6, 5, 10, 15, 30.\n\nThe order that squarefree divisors of an integer are returned in can\nbe described as follows. \n\nDenote by `p` the list of prime divisors of `n` sorted in increasing order,\nand let `k = len(p)`; then there are `2^k` squarefree divisors of `n` to list.\n\nLet `s` be their list, so that these divisors are `s[j]` for `j` ranging from\n`0` to `2^k - 1`.\n\nIf `b` is the bit sequence corresponding to `j`,\nso that `j = sum(2^b[i] for i in range(k))`,\nthen `s[j] = prod(p[i]^b[i] for i in range(k))`.\n\nShould this be stated in the documentation?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964\"><code>580b9a1</code></a></td><td><code>#25983 Squarefree divisors not in increasing order</code></td></tr></table>\n",
    "created_at": "2019-01-10T14:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399990",
    "user": "https://github.com/slel"
}
```

<div id="comment:19" align="right">comment:19</div>

Thanks for these comments. I took them into account.

For `squarefree_divisors(n)` the order comes from using powerset of
the list of prime divisors of `n` and in general will not coincide with
the increasing order.
For example, the list of prime divisors of 30 is [2, 3, 5], and the
powers can be [0, 0, 0], [1, 0, 0], [0, 1, 0], [1, 1, 0], [0, 0, 1], [1, 0, 1],
[0, 1, 1], [1, 1, 1], giving the squarefree divisors 1, 2, 3, 6, 5, 10, 15, 30.

The order that squarefree divisors of an integer are returned in can
be described as follows. 

Denote by `p` the list of prime divisors of `n` sorted in increasing order,
and let `k = len(p)`; then there are `2^k` squarefree divisors of `n` to list.

Let `s` be their list, so that these divisors are `s[j]` for `j` ranging from
`0` to `2^k - 1`.

If `b` is the bit sequence corresponding to `j`,
so that `j = sum(2^b[i] for i in range(k))`,
then `s[j] = prod(p[i]^b[i] for i in range(k))`.

Should this be stated in the documentation?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964"><code>580b9a1</code></a></td><td><code>#25983 Squarefree divisors not in increasing order</code></td></tr></table>




---

archive/issue_events_358957.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-10T14:06:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358957"
}
```



---

archive/issue_events_358958.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-01-10T14:06:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358958"
}
```



---

archive/issue_comments_399991.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,17 @@\n-The output of `divisors(n)` for integer `n` appears to be sorted.\n+Initial report:\n \n-If true, this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.\n+> The output of `divisors(n)` for integer `n` appears to be sorted.\n \n-Same for `prime_divisors` and `squarefree_divisors`.\n+>\n+> If true, this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.\n+>\n+> Same for `prime_divisors` and `squarefree_divisors`.\n+\n+It turns out that for integer `n`, both `divisors(n)` and `prime_divisors(n)`\n+are sorted in increasing order.\n+\n+On the other hand, for `squarefree_divisors(n)` the order comes from\n+using powerset of the list of prime divisors of `n` and in general will\n+not coincide with the increasing order.\n+\n+This ticket makes sure the documentation documents that.\n``````\n",
    "created_at": "2019-01-10T14:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399991",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,17 @@
-The output of `divisors(n)` for integer `n` appears to be sorted.
+Initial report:
 
-If true, this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.
+> The output of `divisors(n)` for integer `n` appears to be sorted.
 
-Same for `prime_divisors` and `squarefree_divisors`.
+>
+> If true, this should be documented, so users don't unnecessarily call `sorted(divisors(n))`.
+>
+> Same for `prime_divisors` and `squarefree_divisors`.
+
+It turns out that for integer `n`, both `divisors(n)` and `prime_divisors(n)`
+are sorted in increasing order.
+
+On the other hand, for `squarefree_divisors(n)` the order comes from
+using powerset of the list of prime divisors of `n` and in general will
+not coincide with the increasing order.
+
+This ticket makes sure the documentation documents that.
``````




---

archive/issue_comments_399992.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@slel](#comment:19):\n> Should this be stated in the documentation?\n\nPlease no. If we document it, it means that we cannot change the order in the future.",
    "created_at": "2019-01-10T14:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399992",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@slel](#comment:19):
> Should this be stated in the documentation?

Please no. If we document it, it means that we cannot change the order in the future.



---

archive/issue_events_358959.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-10T14:14:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358959"
}
```



---

archive/issue_events_358960.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-10T14:14:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358960"
}
```



---

archive/issue_comments_399993.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2019-01-10T14:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399993",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_399994.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks for the review!\n\nIn the current implementation, squarefree divisors of `n` are\nyielded in increasing order exactly when each prime divisor of `n`\nis greater than the product of the smaller prime divisors of `n`.",
    "created_at": "2019-01-10T14:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399994",
    "user": "https://github.com/slel"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks for the review!

In the current implementation, squarefree divisors of `n` are
yielded in increasing order exactly when each prime divisor of `n`
is greater than the product of the smaller prime divisors of `n`.



---

archive/issue_events_358961.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-28T19:20:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358961"
}
```



---

archive/issue_events_358962.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4a8622674c58c5ab8722f78da3a3f70441908cb3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-28T19:20:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25983#event-358962"
}
```



---

archive/issue_comments_399995.json:
```json
{
    "body": "Changed branch from **[u/slelievre/t-25983-say-divisors-are-sorted](https://github.com/sagemath/sagetrac-mirror/tree/u/slelievre/t-25983-say-divisors-are-sorted)** to **[`580b9a1`](https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964)**",
    "created_at": "2019-01-28T19:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25983#issuecomment-399995",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/slelievre/t-25983-say-divisors-are-sorted](https://github.com/sagemath/sagetrac-mirror/tree/u/slelievre/t-25983-say-divisors-are-sorted)** to **[`580b9a1`](https://github.com/sagemath/sagetrac-mirror/commit/580b9a1c22bd6eee8ede915730d5875306480964)**
