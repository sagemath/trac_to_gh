# Issue 25604: adding a .toric_variety method to fans

archive/issues_025367.json:
```json
{
    "body": "as this is more convenient sometimes than using `ToricVariety(fan)`\n\n**Branch/Commit:** [665fdf1a0d6f74a51786f17cca63318a99171a35](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)\n\n**Reviewer:** Andrey Novoseltsev\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/25604\n\n",
    "closed_at": "2018-06-23T19:58:29Z",
    "created_at": "2018-06-19T07:23:59Z",
    "labels": [
        "component: geometry",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "title": "adding a .toric_variety method to fans",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/25604",
    "user": "https://github.com/fchapoton"
}
```
as this is more convenient sometimes than using `ToricVariety(fan)`

**Branch/Commit:** [665fdf1a0d6f74a51786f17cca63318a99171a35](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)

**Reviewer:** Andrey Novoseltsev

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/25604





---

archive/issue_events_227313.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T07:24:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227313"
}
```



---

archive/issue_comments_395781.json:
```json
{
    "body": "**Branch:** [u/chapoton/25604](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25604)",
    "created_at": "2018-06-19T07:24:50Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395781",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/25604](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25604)



---

archive/issue_comments_395782.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9\">3cb770a</a></td><td><code>adding .toric_variety method for fans</code></td></tr></table>\n",
    "created_at": "2018-06-19T07:24:50Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395782",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9">3cb770a</a></td><td><code>adding .toric_variety method for fans</code></td></tr></table>




---

archive/issue_comments_395783.json:
```json
{
    "body": "**Commit:** [3cb770a8789fe17713a87bb493d1452bb70c5cc9](https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9)",
    "created_at": "2018-06-19T07:24:50Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395783",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [3cb770a8789fe17713a87bb493d1452bb70c5cc9](https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9)



---

archive/issue_events_227314.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-19T13:38:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227314"
}
```



---

archive/issue_events_227315.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-19T13:38:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227315"
}
```



---

archive/issue_comments_395784.json:
```json
{
    "body": "**Reviewer:** Andrey Novoseltsev",
    "created_at": "2018-06-19T13:38:27Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395784",
    "user": "https://github.com/novoselt"
}
```

**Reviewer:** Andrey Novoseltsev



---

archive/issue_comments_395785.json:
```json
{
    "body": "<a id='comment:2'></a>\nI am not quite sure how it is more convenient (apart from TAB-completion), but can you please pass `*args, **kwds` to the constructor? Then these will be two ways for the same functionality.",
    "created_at": "2018-06-19T13:38:27Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395785",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'></a>
I am not quite sure how it is more convenient (apart from TAB-completion), but can you please pass `*args, **kwds` to the constructor? Then these will be two ways for the same functionality.



---

archive/issue_comments_395786.json:
```json
{
    "body": "**Changing commit** from \"[3cb770a8789fe17713a87bb493d1452bb70c5cc9](https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9)\" to \"[110667e984035ca8272e12f790f91a446092a0be](https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be)\".",
    "created_at": "2018-06-19T13:53:35Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3cb770a8789fe17713a87bb493d1452bb70c5cc9](https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9)" to "[110667e984035ca8272e12f790f91a446092a0be](https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be)".



---

archive/issue_comments_395787.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be\">110667e</a></td><td><code>adding *args and **kwds to .toric_variety</code></td></tr></table>\n",
    "created_at": "2018-06-19T13:53:35Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be">110667e</a></td><td><code>adding *args and **kwds to .toric_variety</code></td></tr></table>




---

archive/issue_events_227316.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T13:54:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227316"
}
```



---

archive/issue_events_227317.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T13:54:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227317"
}
```



---

archive/issue_comments_395788.json:
```json
{
    "body": "<a id='comment:4'></a>\nthanks ! Done.",
    "created_at": "2018-06-19T13:54:09Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395788",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
thanks ! Done.



---

archive/issue_comments_395789.json:
```json
{
    "body": "<a id='comment:5'></a>\nCould you please set to positive, if you agree ?\n\nBy the way, I would like to find the polytope associated to an ample divisor class (polytope of sections of the associated line bundle). Do you have any idea on how to do that in sage ?\n\n```\nsage: F = eventail_own(4)\nsage: V = ToricVariety(F)\nsage: d = sum(V.Kaehler_cone().rays())\nsage: d\nDivisor class [-3, 4, 1, 4, 1, 4, 4]\n```\n\nEDIT:\n\nok, I have found what I was looking for:\n\n```\nd.lift().polyhedron()\n```",
    "created_at": "2018-06-20T09:47:42Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395789",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Could you please set to positive, if you agree ?

By the way, I would like to find the polytope associated to an ample divisor class (polytope of sections of the associated line bundle). Do you have any idea on how to do that in sage ?

```
sage: F = eventail_own(4)
sage: V = ToricVariety(F)
sage: d = sum(V.Kaehler_cone().rays())
sage: d
Divisor class [-3, 4, 1, 4, 1, 4, 4]
```

EDIT:

ok, I have found what I was looking for:

```
d.lift().polyhedron()
```



---

archive/issue_comments_395790.json:
```json
{
    "body": "<a id='comment:6'></a>\nI don't agree - there should be INPUT and OUTPUT and the documentation should clearly state that `F.toric_variety(...)` is equivalent to `ToricVariety(F, ...)` and so it is just a shortcut for convenience.\n\nI am still not convinced that it is necessary - those who know about fans presumably do know about toric varieties as well and can figure out how to construct them, but there is no harm and since you find it useful, others may as well.",
    "created_at": "2018-06-20T17:21:48Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395790",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:6'></a>
I don't agree - there should be INPUT and OUTPUT and the documentation should clearly state that `F.toric_variety(...)` is equivalent to `ToricVariety(F, ...)` and so it is just a shortcut for convenience.

I am still not convinced that it is necessary - those who know about fans presumably do know about toric varieties as well and can figure out how to construct them, but there is no harm and since you find it useful, others may as well.



---

archive/issue_events_227318.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-20T17:21:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227318"
}
```



---

archive/issue_events_227319.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-20T17:21:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227319"
}
```



---

archive/issue_comments_395791.json:
```json
{
    "body": "**Changing commit** from \"[110667e984035ca8272e12f790f91a446092a0be](https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be)\" to \"[665fdf1a0d6f74a51786f17cca63318a99171a35](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)\".",
    "created_at": "2018-06-20T17:57:14Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395791",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[110667e984035ca8272e12f790f91a446092a0be](https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be)" to "[665fdf1a0d6f74a51786f17cca63318a99171a35](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)".



---

archive/issue_comments_395792.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35\">665fdf1</a></td><td><code>trac 25604 adding documentation for .toric_variety</code></td></tr></table>\n",
    "created_at": "2018-06-20T17:57:14Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35">665fdf1</a></td><td><code>trac 25604 adding documentation for .toric_variety</code></td></tr></table>




---

archive/issue_comments_395793.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks. I think it is useful. The lack of this has bothered me for a long time.\n\nI have added some documentation, as suggested.",
    "created_at": "2018-06-20T17:58:25Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395793",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Thanks. I think it is useful. The lack of this has bothered me for a long time.

I have added some documentation, as suggested.



---

archive/issue_events_227320.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-20T17:58:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227320"
}
```



---

archive/issue_events_227321.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-20T17:58:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227321"
}
```



---

archive/issue_events_227322.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-20T19:21:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227322"
}
```



---

archive/issue_events_227323.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-20T19:21:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227323"
}
```



---

archive/issue_comments_395794.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/25604](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25604)\" to \"[665fdf1a0d6f74a51786f17cca63318a99171a35](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)\".",
    "created_at": "2018-06-23T19:58:29Z",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-395794",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/25604](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25604)" to "[665fdf1a0d6f74a51786f17cca63318a99171a35](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)".



---

archive/issue_events_227324.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-23T19:58:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227324"
}
```



---

archive/issue_events_227325.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-23T19:58:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-227325"
}
```
