# Issue 25636: ECL crashes in integration

archive/issues_025399.json:
```json
{
    "body": "Computing the following integral using \"maxima\" for integration\ncauses a Sage core dump.\n\n```\n>sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.3.beta6, Release Date: 2018-06-17               \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: var('x m a b')\n(x, m, a, b)\nsage: integrate(x^m/sqrt(a + b*x^(2 - m)), x)\n\n;;;\n;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n;;; Jumping to the outermost toplevel prompt\n;;;\n```\n\nWhen using other algorithms, it works, i.e. Sage does not crash.\n\n```\nsage: integrate(x^m/sqrt(a + b*x^(2 - m)),x,algorithm=\"giac\")\nintegrate(x^m/sqrt(b*x^(-m + 2) + a), x)\n```\n\nObserved under Linux Manjaro, 17.1 on an intel PC.\n\nI would add the core dump file itself, but I do know if one is created\nor where it is saved. Do not see one in my current folder.\n\nAny other information needed, please let me know.\n\nNote: the same error occurs using Sage 8.2-6 (from the\nArch Linux packaging) under Linux Manjaro MATE 17.1.\n\n```\n$ sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.2, Release Date: 2018-05-05                     \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\nNote:\n\n- Upstream (Maxima) bug report: https://sourceforge.net/p/maxima/bugs/3442/\n\n\n\n**Keywords:** integrate, segfault\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\n**Status:** new\n\nIssue created by migration from https://trac.sagemath.org/ticket/25636\n\n",
    "created_at": "2018-06-22T20:20:01Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "ECL crashes in integration",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25636",
    "user": "https://github.com/nasser1"
}
```
Computing the following integral using "maxima" for integration
causes a Sage core dump.

```
>sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.3.beta6, Release Date: 2018-06-17               │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: var('x m a b')
(x, m, a, b)
sage: integrate(x^m/sqrt(a + b*x^(2 - m)), x)

;;;
;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
;;; Jumping to the outermost toplevel prompt
;;;
```

When using other algorithms, it works, i.e. Sage does not crash.

```
sage: integrate(x^m/sqrt(a + b*x^(2 - m)),x,algorithm="giac")
integrate(x^m/sqrt(b*x^(-m + 2) + a), x)
```

Observed under Linux Manjaro, 17.1 on an intel PC.

I would add the core dump file itself, but I do know if one is created
or where it is saved. Do not see one in my current folder.

Any other information needed, please let me know.

Note: the same error occurs using Sage 8.2-6 (from the
Arch Linux packaging) under Linux Manjaro MATE 17.1.

```
$ sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.2, Release Date: 2018-05-05                     │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
```

Note:

- Upstream (Maxima) bug report: https://sourceforge.net/p/maxima/bugs/3442/



**Keywords:** integrate, segfault

**Upstream:** Fixed upstream, but not in a stable release.

**Status:** new

Issue created by migration from https://trac.sagemath.org/ticket/25636





---

archive/issue_comments_493289.json:
```json
{
    "body": "<a id='comment:1'></a>\nSee also [this ask.sagemath post](https://ask.sagemath.org/question/42717/could-someone-please-try-this-integral-segmentation-fault-generated/) from same author.\n\nI can confirm this in 8.3.beta6 on Mac OS as well.",
    "created_at": "2018-06-22T21:21:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493289",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
See also [this ask.sagemath post](https://ask.sagemath.org/question/42717/could-someone-please-try-this-integral-segmentation-fault-generated/) from same author.

I can confirm this in 8.3.beta6 on Mac OS as well.



---

archive/issue_comments_493290.json:
```json
{
    "body": "Valgrind core dump",
    "created_at": "2018-06-23T15:45:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493290",
    "user": "https://github.com/rwst"
}
```

Valgrind core dump



---

archive/issue_comments_493291.json:
```json
{
    "body": "<a id='comment:2'></a>\nAttachment [t](tarball://root/attachments/some-uuid/ticket25636/t) by @rwst created at 2018-06-23 15:51:21\n\nManual input in Sage's Maxima does not show this (just unsolved returned).\n\nBTW, the impact of the Rubi test suite is much appreciated.",
    "created_at": "2018-06-23T15:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493291",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>
Attachment [t](tarball://root/attachments/some-uuid/ticket25636/t) by @rwst created at 2018-06-23 15:51:21

Manual input in Sage's Maxima does not show this (just unsolved returned).

BTW, the impact of the Rubi test suite is much appreciated.



---

archive/issue_events_072994.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-72994"
}
```



---

archive/issue_events_072995.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "rename": {
        "from": "Detected access to protected memory, also kwown as 'bus or segmentation fault'",
        "to": "ECL crashes in integration"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-72995"
}
```



---

archive/issue_comments_493292.json:
```json
{
    "body": "<a id='comment:4'></a>\nBTW, the variables a,b,c,d,e,... in the Rubi test suite are intended to be real, I think. And the vars m,n,... are integer. In fact, this does not crash:\n\n```\nsage: var('a b', domain='real'); var('m,n', domain='integer')\n(a, b)\n(m, n)\nsage: integrate(x^m/sqrt(a + b*x^(2 - m)),x)\nintegrate(x^m/sqrt(b*x^(-m + 2) + a), x)\n```",
    "created_at": "2018-06-23T16:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493292",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>
BTW, the variables a,b,c,d,e,... in the Rubi test suite are intended to be real, I think. And the vars m,n,... are integer. In fact, this does not crash:

```
sage: var('a b', domain='real'); var('m,n', domain='integer')
(a, b)
(m, n)
sage: integrate(x^m/sqrt(a + b*x^(2 - m)),x)
integrate(x^m/sqrt(b*x^(-m + 2) + a), x)
```



---

archive/issue_comments_493293.json:
```json
{
    "body": "<a id='comment:5'></a>\n\"BTW, the variables a,b,c,d,e,... in the Rubi test suite are intended to be real, I think. \"\n\nHello;\n\nActually Rubi is not even meant to be used for floating point numbers. Only exact numbers. Please [see this ](https://groups.google.com/forum/#!topic/sci.math.symbolic/HBxFZd6uinY)\n\n\"Rubi is only designed to handle rational, not floating point, numbers.  If you substitute 3/10 instead of 0.3 for a, it returns the correct antiderivative without the GCD error. \"\n\nThe integrate command should have worked as is without assumption made on variables being real. Adding assumptions have no effect on Rubi's integrate result, since it does not use assumptions.\n\n\n```\nIn[19]:= $Assumptions = x == 0;\n\n(*Rubi*)\nInt[1/x, x]\nOut[20]= Log[x]\n\n(*Mathematica*)\nIn[21]:= Integrate[1/x, x]\nOut[21]= ComplexInfinity\n\n```\n\n\nbtw,  In Mathematica 11.3 and Rubi also, the result for the original integral is\n\n\n```\nIn[11]:= Integrate[x^m/Sqrt[a + b*x^(2 - m)], x]\n\nOut[11]= (x^(1 + m)*Sqrt[1 + (b*x^(2 - m))/a]*\nHypergeometric2F1[1/2, (1 + m)/(2 - m), -(3/(-2 + m)), -((b*x^(2 - m))/a)])/((1 + m)\n*Sqrt[a + b*x^(2 - m)])\n\n```\n\nNo assumptions are used. But good to know that with Maxima using assumptions, now it does not crash sage. \n\nThank you\n\n--Nasser",
    "created_at": "2018-06-23T16:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493293",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:5'></a>
"BTW, the variables a,b,c,d,e,... in the Rubi test suite are intended to be real, I think. "

Hello;

Actually Rubi is not even meant to be used for floating point numbers. Only exact numbers. Please [see this ](https://groups.google.com/forum/#!topic/sci.math.symbolic/HBxFZd6uinY)

"Rubi is only designed to handle rational, not floating point, numbers.  If you substitute 3/10 instead of 0.3 for a, it returns the correct antiderivative without the GCD error. "

The integrate command should have worked as is without assumption made on variables being real. Adding assumptions have no effect on Rubi's integrate result, since it does not use assumptions.


```
In[19]:= $Assumptions = x == 0;

(*Rubi*)
Int[1/x, x]
Out[20]= Log[x]

(*Mathematica*)
In[21]:= Integrate[1/x, x]
Out[21]= ComplexInfinity

```


btw,  In Mathematica 11.3 and Rubi also, the result for the original integral is


```
In[11]:= Integrate[x^m/Sqrt[a + b*x^(2 - m)], x]

Out[11]= (x^(1 + m)*Sqrt[1 + (b*x^(2 - m))/a]*
Hypergeometric2F1[1/2, (1 + m)/(2 - m), -(3/(-2 + m)), -((b*x^(2 - m))/a)])/((1 + m)
*Sqrt[a + b*x^(2 - m)])

```

No assumptions are used. But good to know that with Maxima using assumptions, now it does not crash sage. 

Thank you

--Nasser



---

archive/issue_comments_493294.json:
```json
{
    "body": "<a id='comment:6'></a>\nOf course it fails in maxima because, well ... from sage it fails in maxima. There's a theoretical possibility that sage corrupts maxima's memory, but we've never observed such bugs, so that's very unlikely. In this case, with\n\n```\nbesselexpand : true;\ndisplay2d : false;\ndomain : complex;\nkeepfloat : true;\nload(to_poly_solve);\nload(simplify_sum);\nload(abs_integrate);\nload(diag);\n```\n(That's most of the code sage feeds to maxima for initialization, see [github](https://github.com/sagemath/sage/blob/854f9764d14236110b8d7f7b35a7d52017e044f8/src/sage/interfaces/maxima_lib.py#L167)) we get\n\n```\n(%i9) integrate(x^m/sqrt(a + b*x^(2 - m)),x);\n...\nSegmentation fault (core dumped)\n```\nFor\n\n```\nMaxima 5.41.0 http://maxima.sourceforge.net\nusing Lisp SBCL 1.4.2-1.fc27\n```\nthis fails just as badly.\n\nFor all these integrals, the right place to report them is really maxima. You'll just have to dig a little to find the combinations of settings that trigger the error in maxima. Of course, you might get the reply back \"using these options together doesn't make sense, don't do that\" (although I don't think Robert has ever said that), in which case sage might have to reconsider its use of maxima.",
    "created_at": "2018-06-23T17:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493294",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:6'></a>
Of course it fails in maxima because, well ... from sage it fails in maxima. There's a theoretical possibility that sage corrupts maxima's memory, but we've never observed such bugs, so that's very unlikely. In this case, with

```
besselexpand : true;
display2d : false;
domain : complex;
keepfloat : true;
load(to_poly_solve);
load(simplify_sum);
load(abs_integrate);
load(diag);
```
(That's most of the code sage feeds to maxima for initialization, see [github](https://github.com/sagemath/sage/blob/854f9764d14236110b8d7f7b35a7d52017e044f8/src/sage/interfaces/maxima_lib.py#L167)) we get

```
(%i9) integrate(x^m/sqrt(a + b*x^(2 - m)),x);
...
Segmentation fault (core dumped)
```
For

```
Maxima 5.41.0 http://maxima.sourceforge.net
using Lisp SBCL 1.4.2-1.fc27
```
this fails just as badly.

For all these integrals, the right place to report them is really maxima. You'll just have to dig a little to find the combinations of settings that trigger the error in maxima. Of course, you might get the reply back "using these options together doesn't make sense, don't do that" (although I don't think Robert has ever said that), in which case sage might have to reconsider its use of maxima.



---

archive/issue_comments_493295.json:
```json
{
    "body": "<a id='comment:7'></a>\n\"For all these integrals, the right place to report them is really maxima.\"\n\nHello;\n\nBut when I try the integral directly into Maxima 5.41.0, with lisp ECL 16.1.2, on the same Linux box (Manjora 17.1), Maxima does not crash. \n\nIt hanged for long time thinking, so I ended terminating the command eventually. But it did not crash or even give an error.\n\nOnly when called from [SageMath](SageMath), there is a crash and it happens very quickly after the call. \n\nMay be [SageMath](SageMath) is using different Maxima version. I do not know.  I do not know how Sage communicate with Maxima, or what version of Maxima sage uses. I assumed it is the same as the Maxima installed on same Linux box, or may be Sage is just linked to a Maxima .so lib\n\nIf I report this problem to Maxima, they could tell me that it does not crash in Maxima, which is true, and to report it to [SageMath](SageMath).\n\nThank you for looking at this.",
    "created_at": "2018-06-23T17:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493295",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:7'></a>
"For all these integrals, the right place to report them is really maxima."

Hello;

But when I try the integral directly into Maxima 5.41.0, with lisp ECL 16.1.2, on the same Linux box (Manjora 17.1), Maxima does not crash. 

It hanged for long time thinking, so I ended terminating the command eventually. But it did not crash or even give an error.

Only when called from [SageMath](SageMath), there is a crash and it happens very quickly after the call. 

May be [SageMath](SageMath) is using different Maxima version. I do not know.  I do not know how Sage communicate with Maxima, or what version of Maxima sage uses. I assumed it is the same as the Maxima installed on same Linux box, or may be Sage is just linked to a Maxima .so lib

If I report this problem to Maxima, they could tell me that it does not crash in Maxima, which is true, and to report it to [SageMath](SageMath).

Thank you for looking at this.



---

archive/issue_comments_493296.json:
```json
{
    "body": "<a id='comment:8'></a>\n`@`Nasser, I would like to ask you a favour: please get back to the tickets for the bugs you reported, once they are fixed.  The bugfixes won't make it into sage mainline otherwise (or only after a long time). It's enough to try the bugfix (eg., using `git trac try` followed by the ticket number, see http://doc.sagemath.org/html/en/developer/git_trac.html), and if it works for you, mention this as a comment on the ticket.  That would be extremely helpful!",
    "created_at": "2018-06-23T18:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493296",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:8'></a>
`@`Nasser, I would like to ask you a favour: please get back to the tickets for the bugs you reported, once they are fixed.  The bugfixes won't make it into sage mainline otherwise (or only after a long time). It's enough to try the bugfix (eg., using `git trac try` followed by the ticket number, see http://doc.sagemath.org/html/en/developer/git_trac.html), and if it works for you, mention this as a comment on the ticket.  That would be extremely helpful!



---

archive/issue_comments_493297.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [gh-nasser1](#comment%3A7):\n> It hanged for long time thinking, so I ended terminating the command eventually. But it did not crash or even give an error.\n\n\nSage uses maxima with non-standard settings. I listed a large part of those settings above. If you execute those commands in maxima before you run the relevant command then it's already a lot more probably you'll be getting the same behaviour in maxima (there are still some further differences, so it's not a full guarantee).\n\n> If I report this problem to Maxima, they could tell me that it does not crash in Maxima, which is true, and to report it to [SageMath](SageMath).\n\n\nIndeed, before reporting it to maxima it first needs to be figured out how to create the conditions under which maxima does crash. Hopefully, with the information on this ticket it'll be a little easier to find those conditions. Ultimately, these errors need to be fixed in maxima (or sage should change integration engine), so the translation step needs to be made at some point.",
    "created_at": "2018-06-23T23:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493297",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:9'></a>
Replying to [gh-nasser1](#comment%3A7):
> It hanged for long time thinking, so I ended terminating the command eventually. But it did not crash or even give an error.


Sage uses maxima with non-standard settings. I listed a large part of those settings above. If you execute those commands in maxima before you run the relevant command then it's already a lot more probably you'll be getting the same behaviour in maxima (there are still some further differences, so it's not a full guarantee).

> If I report this problem to Maxima, they could tell me that it does not crash in Maxima, which is true, and to report it to [SageMath](SageMath).


Indeed, before reporting it to maxima it first needs to be figured out how to create the conditions under which maxima does crash. Hopefully, with the information on this ticket it'll be a little easier to find those conditions. Ultimately, these errors need to be fixed in maxima (or sage should change integration engine), so the translation step needs to be made at some point.



---

archive/issue_comments_493298.json:
```json
{
    "body": "Attachment [sagemath.txt](tarball://root/attachments/some-uuid/ticket25636/sagemath.txt) by @nasser1 created at 2018-06-23 23:56:15\n\nsage math build log file",
    "created_at": "2018-06-23T23:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493298",
    "user": "https://github.com/nasser1"
}
```

Attachment [sagemath.txt](tarball://root/attachments/some-uuid/ticket25636/sagemath.txt) by @nasser1 created at 2018-06-23 23:56:15

sage math build log file



---

archive/issue_comments_493299.json:
```json
{
    "body": "<a id='comment:10'></a>\nHello;\n\nI see. Thanks for the explanation. I now typed these commands you gave above, into my Maxima\n\n```\nbesselexpand : true;\ndisplay2d : false;\ndomain : complex;\nkeepfloat : true;\nload(to_poly_solve);\nload(simplify_sum);\nload(abs_integrate);\nload(diag);\nintegrate(x^m/sqrt(a + b*x^(2 - m)),x);\n```\n\nbut it did NOT crash. It is just sitting there for last 15 minutes thinking. No errors or anything. \n\nSo the difference seems to be in the LISP used. You seem to be using Maxima 5.41.0 using Lisp SBCL 1.4.2-1.fc27 while the Maxima I have is Maxima 5.41.0, with lisp ECL 16.1.2. (I assume that the Maxima I have on Linux got installed when I installed [SageMath](SageMath)? I do not know. Since I myself did not install Maxima explicitly myself. I just installed Linux Manjaro, followed by installing [SageMath](SageMath) using Majaro pacman, which complied everything from source. The log file for the the build of [SageMath](SageMath) is a attached FYI. (this was for sage 8.3 beta5, since then I now updated to sage 8.3 beta 6, but I only kept the log file for the build for beta5, but it should be similar)\n\n\n\nThank you\n\n--Nasser",
    "created_at": "2018-06-23T23:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493299",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:10'></a>
Hello;

I see. Thanks for the explanation. I now typed these commands you gave above, into my Maxima

```
besselexpand : true;
display2d : false;
domain : complex;
keepfloat : true;
load(to_poly_solve);
load(simplify_sum);
load(abs_integrate);
load(diag);
integrate(x^m/sqrt(a + b*x^(2 - m)),x);
```

but it did NOT crash. It is just sitting there for last 15 minutes thinking. No errors or anything. 

So the difference seems to be in the LISP used. You seem to be using Maxima 5.41.0 using Lisp SBCL 1.4.2-1.fc27 while the Maxima I have is Maxima 5.41.0, with lisp ECL 16.1.2. (I assume that the Maxima I have on Linux got installed when I installed [SageMath](SageMath)? I do not know. Since I myself did not install Maxima explicitly myself. I just installed Linux Manjaro, followed by installing [SageMath](SageMath) using Majaro pacman, which complied everything from source. The log file for the the build of [SageMath](SageMath) is a attached FYI. (this was for sage 8.3 beta5, since then I now updated to sage 8.3 beta 6, but I only kept the log file for the build for beta5, but it should be similar)



Thank you

--Nasser



---

archive/issue_comments_493300.json:
```json
{
    "body": "<a id='comment:11'></a>\nInteresting. That's something the maxima people can figure out. I get a failure both on\n\n```\n$ maxima\nMaxima 5.41.0 http://maxima.sourceforge.net\nusing Lisp SBCL 1.4.2-1.fc27\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n```\nand on\n\n```\n$ sage -maxima\n;;; Loading #P\"/local-scratch/sage/sage/local/lib/ecl/sb-bsd-sockets.fas\"\n;;; Loading #P\"/local-scratch/sage/sage/local/lib/ecl/sockets.fas\"\n;;; Loading #P\"/local-scratch/sage/sage/local/lib/ecl/defsystem.fas\"\n;;; Loading #P\"/local-scratch/sage/sage/local/lib/ecl/cmp.fas\"\nMaxima 5.39.0 http://maxima.sourceforge.net\nusing Lisp ECL 16.1.2\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n```\nThe errors in both cases are highly indicative of infinite recursions, so it should fail on any lisp. From your perspective, you indeed haven't found the right settings to show the error in maxima yet.",
    "created_at": "2018-06-24T00:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493300",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:11'></a>
Interesting. That's something the maxima people can figure out. I get a failure both on

```
$ maxima
Maxima 5.41.0 http://maxima.sourceforge.net
using Lisp SBCL 1.4.2-1.fc27
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
```
and on

```
$ sage -maxima
;;; Loading #P"/local-scratch/sage/sage/local/lib/ecl/sb-bsd-sockets.fas"
;;; Loading #P"/local-scratch/sage/sage/local/lib/ecl/sockets.fas"
;;; Loading #P"/local-scratch/sage/sage/local/lib/ecl/defsystem.fas"
;;; Loading #P"/local-scratch/sage/sage/local/lib/ecl/cmp.fas"
Maxima 5.39.0 http://maxima.sourceforge.net
using Lisp ECL 16.1.2
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
```
The errors in both cases are highly indicative of infinite recursions, so it should fail on any lisp. From your perspective, you indeed haven't found the right settings to show the error in maxima yet.



---

archive/issue_comments_493301.json:
```json
{
    "body": "<a id='comment:12'></a>\nIn order to make sure you test the Maxima that is used by Sage, you need to run local/bin/maxima in your Sage directory. Just typing maxima will give you the one installed in your system, Nasser.",
    "created_at": "2018-06-24T03:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493301",
    "user": "https://github.com/rwst"
}
```

<a id='comment:12'></a>
In order to make sure you test the Maxima that is used by Sage, you need to run local/bin/maxima in your Sage directory. Just typing maxima will give you the one installed in your system, Nasser.



---

archive/issue_comments_493302.json:
```json
{
    "body": "<a id='comment:13'></a>\nHello;\n\n\"you need to run local/bin/maxima in your Sage directory.\"\n\nSorry, I do not understand what the above means. I do not know what \"sage directory\" is.\n\nI have no \"sage directory\". I installed sage directly from git using the Manjaro package manager. \n\n\n```\n\n>which sage\n/usr/bin/sage\n\n>sage --version\nSageMath version 8.3.beta6, Release Date: 2018-06-17\n\n>which maxima\n/usr/bin/maxima\n\n>maxima --version\n;;; Loading #P\"/usr/lib/ecl-16.1.2/sb-bsd-sockets.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/sockets.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/defsystem.fas\"\n;;; Loading #P\"/usr/lib/ecl-16.1.2/cmp.fas\"\nMaxima 5.41.0\n\n>sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.3.beta6, Release Date: 2018-06-17               \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n\nsage:  print(maxima.version())\n\n;;; Warning: Maxima is unable to set up the help system.\n(Details: CL-INFO::LOAD-PRIMARY-INDEX: Filesystem error with pathname #P\"/usr/info/maxima-index.lisp\".\nEither\n 1) the file does not exist, or\n 2) we are not allowed to access the file, or\n 3) the pathname points to a broken symbolic link.)\n\n5.41.0\n\n```",
    "created_at": "2018-06-24T06:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493302",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:13'></a>
Hello;

"you need to run local/bin/maxima in your Sage directory."

Sorry, I do not understand what the above means. I do not know what "sage directory" is.

I have no "sage directory". I installed sage directly from git using the Manjaro package manager. 


```

>which sage
/usr/bin/sage

>sage --version
SageMath version 8.3.beta6, Release Date: 2018-06-17

>which maxima
/usr/bin/maxima

>maxima --version
;;; Loading #P"/usr/lib/ecl-16.1.2/sb-bsd-sockets.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/sockets.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/defsystem.fas"
;;; Loading #P"/usr/lib/ecl-16.1.2/cmp.fas"
Maxima 5.41.0

>sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.3.beta6, Release Date: 2018-06-17               │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

sage:  print(maxima.version())

;;; Warning: Maxima is unable to set up the help system.
(Details: CL-INFO::LOAD-PRIMARY-INDEX: Filesystem error with pathname #P"/usr/info/maxima-index.lisp".
Either
 1) the file does not exist, or
 2) we are not allowed to access the file, or
 3) the pathname points to a broken symbolic link.)

5.41.0

```



---

archive/issue_comments_493303.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -40,6 +40,23 @@\n \n Any other information needed, please let me know.\n \n-thanks\n+**Update**\n+\n+fyi,\n+\n+I get same error using 8.2-6 on Linux Manjaro MATE 17.1. \n+\n+\n+```\n+$ sage\n+\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n+\u2502 SageMath version 8.2, Release Date: 2018-05-05                     \u2502\n+\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n+\u2502 Type \"help()\" for help.                                            \u2502\n+\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n+\n+\n+```\n+\n \n --Nasser\n``````\n",
    "created_at": "2018-06-25T01:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493303",
    "user": "https://github.com/nasser1"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -40,6 +40,23 @@
 
 Any other information needed, please let me know.
 
-thanks
+**Update**
+
+fyi,
+
+I get same error using 8.2-6 on Linux Manjaro MATE 17.1. 
+
+
+```
+$ sage
+┌────────────────────────────────────────────────────────────────────┐
+│ SageMath version 8.2, Release Date: 2018-05-05                     │
+│ Type "notebook()" for the browser-based notebook interface.        │
+│ Type "help()" for help.                                            │
+└────────────────────────────────────────────────────────────────────┘
+
+
+```
+
 
 --Nasser
``````




---

archive/issue_comments_493304.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2018-06-26T15:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493304",
    "user": "https://github.com/nbruin"
}
```

**Changing upstream** from "N/A" to "Reported upstream. No feedback yet.".



---

archive/issue_comments_493305.json:
```json
{
    "body": "<a id='comment:15'></a>\nReported on\n\nhttps://sourceforge.net/p/maxima/bugs/3442/\n\nand removed \"critical\" status, since fixing this will have to happen in maxima anyway, so the status here doesn't help to bump priority.",
    "created_at": "2018-06-26T15:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493305",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:15'></a>
Reported on

https://sourceforge.net/p/maxima/bugs/3442/

and removed "critical" status, since fixing this will have to happen in maxima anyway, so the status here doesn't help to bump priority.



---

archive/issue_events_072996.json:
```json
{
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-72996"
}
```



---

archive/issue_comments_493306.json:
```json
{
    "body": "<a id='comment:16'></a>\nfyi, on sagemath 8.3 beta7, this still crashes sage, but it now gives a screen dump which I did not see in sagemath 8.3 beta6. This might be useful for someone. Here it is\n\n\n```\n>sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.3.beta7, Release Date: 2018-06-23               \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage:  var('x m a b')\n(x, m, a, b)\nsage: integrate(x^m/sqrt(a + b*x^(2 - m)),x)\next::getcwd error: Numerical result out of range\n\nInternal or unrecoverable error in:\nCan't work without CWD\n  [34: Numerical result out of range]\n\n;;; ECL C Backtrace\n;;; /usr/lib/libecl.so.16.1(si_dump_c_backtrace+0x3e) [0x7f3069cb56de]\n;;; /usr/lib/libecl.so.16.1(ecl_internal_error+0x48) [0x7f3069c9e4a8]\n;;; /usr/lib/libecl.so.16.1(+0x1e26ba) [0x7f3069cd86ba]\n;;; /usr/lib/libecl.so.16.1(si_getcwd+0xd5) [0x7f3069cd9055]\n;;; /usr/lib/libecl.so.16.1(cl_boot+0x3b8) [0x7f3069b91e38]\n;;; /usr/lib/python2.7/site-packages/sage/libs/ecl.so(+0xe7be) [0x7f306a18e7be]\n;;; /usr/lib/python2.7/site-packages/sage/libs/ecl.so(+0xa792) [0x7f306a18a792]\n;;; /usr/lib/python2.7/site-packages/sage/libs/ecl.so(initecl+0x909) [0x7f306a197d02]\n;;; /usr/lib/libpython2.7.so.1.0(_PyImport_LoadDynamicModule+0x83) [0x7f38fcf68093]\n;;; /usr/lib/libpython2.7.so.1.0(+0x17f490) [0x7f38fcf68490]\n;;; /usr/lib/libpython2.7.so.1.0(PyImport_ImportModuleLevel+0xb77) [0x7f38fcf19547]\n;;; /usr/lib/libpython2.7.so.1.0(+0x132c1a) [0x7f38fcf1bc1a]\n;;; /usr/lib/libpython2.7.so.1.0(PyObject_Call+0x43) [0x7f38fce85003]\n;;; /usr/lib/libpython2.7.so.1.0(PyEval_CallObjectWithKeywords+0x31) [0x7f38fcf30c91]\n;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x3995) [0x7f38fce9b295]\n;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x2d6) [0x7f38fcf315a6]\n;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x1a) [0x7f38fcf3675a]\n;;; /usr/lib/libpython2.7.so.1.0(PyImport_ExecCodeModuleEx+0xc1) [0x7f38fcf67ae1]\n;;; /usr/lib/libpython2.7.so.1.0(+0x17ecca) [0x7f38fcf67cca]\n;;; /usr/lib/libpython2.7.so.1.0(+0x17f490) [0x7f38fcf68490]\n;;; /usr/lib/libpython2.7.so.1.0(PyImport_ImportModuleLevel+0xb77) [0x7f38fcf19547]\n;;; /usr/lib/libpython2.7.so.1.0(+0x132c1a) [0x7f38fcf1bc1a]\n;;; /usr/lib/python2.7/site-packages/sage/misc/lazy_import.so(+0x6160) [0x7f38f4889160]\n;;; /usr/lib/python2.7/site-packages/sage/misc/lazy_import.so(+0xb275) [0x7f38f488e275]\n;;; /usr/lib/python2.7/site-packages/sage/misc/lazy_import.so(+0xcaeb) [0x7f38f488faeb]\n;;; /usr/lib/python2.7/site-packages/sage/misc/lazy_import.so(+0xd8fa) [0x7f38f48908fa]\n;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x2fb) [0x7f38fce97bfb]\n;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x2d6) [0x7f38fcf315a6]\n;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5def) [0x7f38fce9d6ef]\n;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x2d6) [0x7f38fcf315a6]\n;;; /usr/lib/libpython2.7.so.1.0(+0xefbcf) [0x7f38fced8bcf]\n;;; /usr/lib/libpython2.7.so.1.0(PyObject_Call+0x43) [0x7f38fce85003]\nAborted (core dumped)\n>\n\n\n```",
    "created_at": "2018-06-28T09:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493306",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:16'></a>
fyi, on sagemath 8.3 beta7, this still crashes sage, but it now gives a screen dump which I did not see in sagemath 8.3 beta6. This might be useful for someone. Here it is


```
>sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.3.beta7, Release Date: 2018-06-23               │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage:  var('x m a b')
(x, m, a, b)
sage: integrate(x^m/sqrt(a + b*x^(2 - m)),x)
ext::getcwd error: Numerical result out of range

Internal or unrecoverable error in:
Can't work without CWD
  [34: Numerical result out of range]

;;; ECL C Backtrace
;;; /usr/lib/libecl.so.16.1(si_dump_c_backtrace+0x3e) [0x7f3069cb56de]
;;; /usr/lib/libecl.so.16.1(ecl_internal_error+0x48) [0x7f3069c9e4a8]
;;; /usr/lib/libecl.so.16.1(+0x1e26ba) [0x7f3069cd86ba]
;;; /usr/lib/libecl.so.16.1(si_getcwd+0xd5) [0x7f3069cd9055]
;;; /usr/lib/libecl.so.16.1(cl_boot+0x3b8) [0x7f3069b91e38]
;;; /usr/lib/python2.7/site-packages/sage/libs/ecl.so(+0xe7be) [0x7f306a18e7be]
;;; /usr/lib/python2.7/site-packages/sage/libs/ecl.so(+0xa792) [0x7f306a18a792]
;;; /usr/lib/python2.7/site-packages/sage/libs/ecl.so(initecl+0x909) [0x7f306a197d02]
;;; /usr/lib/libpython2.7.so.1.0(_PyImport_LoadDynamicModule+0x83) [0x7f38fcf68093]
;;; /usr/lib/libpython2.7.so.1.0(+0x17f490) [0x7f38fcf68490]
;;; /usr/lib/libpython2.7.so.1.0(PyImport_ImportModuleLevel+0xb77) [0x7f38fcf19547]
;;; /usr/lib/libpython2.7.so.1.0(+0x132c1a) [0x7f38fcf1bc1a]
;;; /usr/lib/libpython2.7.so.1.0(PyObject_Call+0x43) [0x7f38fce85003]
;;; /usr/lib/libpython2.7.so.1.0(PyEval_CallObjectWithKeywords+0x31) [0x7f38fcf30c91]
;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x3995) [0x7f38fce9b295]
;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x2d6) [0x7f38fcf315a6]
;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x1a) [0x7f38fcf3675a]
;;; /usr/lib/libpython2.7.so.1.0(PyImport_ExecCodeModuleEx+0xc1) [0x7f38fcf67ae1]
;;; /usr/lib/libpython2.7.so.1.0(+0x17ecca) [0x7f38fcf67cca]
;;; /usr/lib/libpython2.7.so.1.0(+0x17f490) [0x7f38fcf68490]
;;; /usr/lib/libpython2.7.so.1.0(PyImport_ImportModuleLevel+0xb77) [0x7f38fcf19547]
;;; /usr/lib/libpython2.7.so.1.0(+0x132c1a) [0x7f38fcf1bc1a]
;;; /usr/lib/python2.7/site-packages/sage/misc/lazy_import.so(+0x6160) [0x7f38f4889160]
;;; /usr/lib/python2.7/site-packages/sage/misc/lazy_import.so(+0xb275) [0x7f38f488e275]
;;; /usr/lib/python2.7/site-packages/sage/misc/lazy_import.so(+0xcaeb) [0x7f38f488faeb]
;;; /usr/lib/python2.7/site-packages/sage/misc/lazy_import.so(+0xd8fa) [0x7f38f48908fa]
;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x2fb) [0x7f38fce97bfb]
;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x2d6) [0x7f38fcf315a6]
;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5def) [0x7f38fce9d6ef]
;;; /usr/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x2d6) [0x7f38fcf315a6]
;;; /usr/lib/libpython2.7.so.1.0(+0xefbcf) [0x7f38fced8bcf]
;;; /usr/lib/libpython2.7.so.1.0(PyObject_Call+0x43) [0x7f38fce85003]
Aborted (core dumped)
>


```



---

archive/issue_comments_493307.json:
```json
{
    "body": "<a id='comment:17'></a>\nfyi, I found another integral which crashes sage 8.3 rc0\n\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.3.rc0, Release Date: 2018-07-08                 \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n\nvar('x')\nintegrate(log(sin(x))*sin(x)^2,x)\n\n;;;\n;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n;;; Jumping to the outermost toplevel prompt\n;;;\n\n\n\n```",
    "created_at": "2018-07-10T15:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493307",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:17'></a>
fyi, I found another integral which crashes sage 8.3 rc0


```
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.3.rc0, Release Date: 2018-07-08                 │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

var('x')
integrate(log(sin(x))*sin(x)^2,x)

;;;
;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
;;; Jumping to the outermost toplevel prompt
;;;



```



---

archive/issue_comments_493308.json:
```json
{
    "body": "<a id='comment:18'></a>\nYup,\n\n```\nbesselexpand : true;\ndisplay2d : false;\ndomain : complex;\nkeepfloat : true;\nload(to_poly_solve);\nload(simplify_sum);\nload(abs_integrate);\nload(diag);\nintegrate(log(sin(x))*sin(x)^2,x);\n```\ncauses an infinite recursion on both\n\n```\nMaxima 5.41.0 http://maxima.sourceforge.net\nusing Lisp SBCL 1.4.2-1.fc27\n```\nand\n\n```\nMaxima 5.41.0 http://maxima.sourceforge.net\nusing Lisp ECL 16.1.2\n```\nso if this is reported to the maxima bug-tracker, they can do something with it.",
    "created_at": "2018-07-10T17:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493308",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:18'></a>
Yup,

```
besselexpand : true;
display2d : false;
domain : complex;
keepfloat : true;
load(to_poly_solve);
load(simplify_sum);
load(abs_integrate);
load(diag);
integrate(log(sin(x))*sin(x)^2,x);
```
causes an infinite recursion on both

```
Maxima 5.41.0 http://maxima.sourceforge.net
using Lisp SBCL 1.4.2-1.fc27
```
and

```
Maxima 5.41.0 http://maxima.sourceforge.net
using Lisp ECL 16.1.2
```
so if this is reported to the maxima bug-tracker, they can do something with it.



---

archive/issue_comments_493309.json:
```json
{
    "body": "<a id='comment:19'></a>\nI'm including the upstream bug link (from comment 15) in the ticket description.\n(Thanks for having reported upstream!)",
    "created_at": "2018-07-11T18:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493309",
    "user": "https://github.com/slel"
}
```

<a id='comment:19'></a>
I'm including the upstream bug link (from comment 15) in the ticket description.
(Thanks for having reported upstream!)



---

archive/issue_comments_493310.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,5 @@\n-I do not know if this is known or not, or if this happens only on my Linux PC, but thought to report it just in case.\n-\n-This causes sage to core dump. Only when using \"maxima\" for integration.\n-\n+Computing the following integral using \"maxima\" for integration\n+causes a Sage core dump.\n \n ```\n >sage\n@@ -15,37 +13,30 @@\n \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n sage: var('x m a b')\n (x, m, a, b)\n-sage: integrate(x^m/sqrt(a + b*x^(2 - m)),x)\n+sage: integrate(x^m/sqrt(a + b*x^(2 - m)), x)\n \n ;;;\n ;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n ;;; Jumping to the outermost toplevel prompt\n ;;;\n-\n ```\n \n-\n-When using other algorithm, it works OK. i.e. sage does not crash\n-\n+When using other algorithms, it works, i.e. Sage does not crash.\n \n ```\n sage: integrate(x^m/sqrt(a + b*x^(2 - m)),x,algorithm=\"giac\")\n integrate(x^m/sqrt(b*x^(-m + 2) + a), x)\n-\n ```\n \n-I am using Linux Manjaro, 17.1 on an intel PC.\n+Observed under Linux Manjaro, 17.1 on an intel PC.\n \n-I would add the core dump file itself, but I do know if one is created or where it is saved. Do not see one in my current folder.\n+I would add the core dump file itself, but I do know if one is created\n+or where it is saved. Do not see one in my current folder.\n \n Any other information needed, please let me know.\n \n-**Update**\n-\n-fyi,\n-\n-I get same error using 8.2-6 on Linux Manjaro MATE 17.1. \n-\n+Note: the same error occurs using Sage 8.2-6 (from the\n+Arch Linux packaging) under Linux Manjaro MATE 17.1.\n \n ```\n $ sage\n@@ -54,9 +45,10 @@\n \u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n \u2502 Type \"help()\" for help.                                            \u2502\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n+```\n+\n+Note:\n+\n+- Upstream (Maxima) bug report: https://sourceforge.net/p/maxima/bugs/3442/\n \n \n-```\n-\n-\n---Nasser\n``````\n",
    "created_at": "2018-07-11T18:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493310",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,5 @@
-I do not know if this is known or not, or if this happens only on my Linux PC, but thought to report it just in case.
-
-This causes sage to core dump. Only when using "maxima" for integration.
-
+Computing the following integral using "maxima" for integration
+causes a Sage core dump.
 
 ```
 >sage
@@ -15,37 +13,30 @@
 ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
 sage: var('x m a b')
 (x, m, a, b)
-sage: integrate(x^m/sqrt(a + b*x^(2 - m)),x)
+sage: integrate(x^m/sqrt(a + b*x^(2 - m)), x)
 
 ;;;
 ;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
 ;;; Jumping to the outermost toplevel prompt
 ;;;
-
 ```
 
-
-When using other algorithm, it works OK. i.e. sage does not crash
-
+When using other algorithms, it works, i.e. Sage does not crash.
 
 ```
 sage: integrate(x^m/sqrt(a + b*x^(2 - m)),x,algorithm="giac")
 integrate(x^m/sqrt(b*x^(-m + 2) + a), x)
-
 ```
 
-I am using Linux Manjaro, 17.1 on an intel PC.
+Observed under Linux Manjaro, 17.1 on an intel PC.
 
-I would add the core dump file itself, but I do know if one is created or where it is saved. Do not see one in my current folder.
+I would add the core dump file itself, but I do know if one is created
+or where it is saved. Do not see one in my current folder.
 
 Any other information needed, please let me know.
 
-**Update**
-
-fyi,
-
-I get same error using 8.2-6 on Linux Manjaro MATE 17.1. 
-
+Note: the same error occurs using Sage 8.2-6 (from the
+Arch Linux packaging) under Linux Manjaro MATE 17.1.
 
 ```
 $ sage
@@ -54,9 +45,10 @@
 │ Type "notebook()" for the browser-based notebook interface.        │
 │ Type "help()" for help.                                            │
 └────────────────────────────────────────────────────────────────────┘
+```
+
+Note:
+
+- Upstream (Maxima) bug report: https://sourceforge.net/p/maxima/bugs/3442/
 
 
-```
-
-
---Nasser
``````




---

archive/issue_comments_493311.json:
```json
{
    "body": "**Changing keywords** from \"integrate\" to \"integrate, segfault\".",
    "created_at": "2018-07-11T18:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493311",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "integrate" to "integrate, segfault".



---

archive/issue_comments_493312.json:
```json
{
    "body": "<a id='comment:20'></a>\nfyi, found another one that crashes sagemath\n\n\n```\n>sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.3.rc0, Release Date: 2018-07-08                 \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: var('c b a m')\n(c, b, a, m)\nsage: integrate((c*sin(b*x + a)^m)^(5/2),x)\n\n;;;\n;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n;;; Jumping to the outermost toplevel prompt\n;;;\n\n```\n\nthank you\n--Nasser",
    "created_at": "2018-07-13T18:18:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493312",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:20'></a>
fyi, found another one that crashes sagemath


```
>sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.3.rc0, Release Date: 2018-07-08                 │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: var('c b a m')
(c, b, a, m)
sage: integrate((c*sin(b*x + a)^m)^(5/2),x)

;;;
;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
;;; Jumping to the outermost toplevel prompt
;;;

```

thank you
--Nasser



---

archive/issue_comments_493313.json:
```json
{
    "body": "<a id='comment:21'></a>\nfyi, found another one that crashes sagemath\n\n\n```\n\n>sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 8.3.rc0, Release Date: 2018-07-08                 \u2502\n\u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n\u2502 Type \"help()\" for help.                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: \nsage: var('a f m c')\n(a, f, m, c)\nsage: integrate((a*sin(f*x + e) + a)^m*(-c*sin(f*x + e) + c)^(-m - 4)*cos(f*x + e)^2,x)\n\n;;;\n;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n;;; Jumping to the outermost toplevel prompt\n;;;\n\n^C^CSegmentation fault (core dumped)\n\n```",
    "created_at": "2018-07-14T00:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493313",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:21'></a>
fyi, found another one that crashes sagemath


```

>sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 8.3.rc0, Release Date: 2018-07-08                 │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: 
sage: var('a f m c')
(a, f, m, c)
sage: integrate((a*sin(f*x + e) + a)^m*(-c*sin(f*x + e) + c)^(-m - 4)*cos(f*x + e)^2,x)

;;;
;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
;;; Jumping to the outermost toplevel prompt
;;;

^C^CSegmentation fault (core dumped)

```



---

archive/issue_comments_493314.json:
```json
{
    "body": "<a id='comment:22'></a>\nfyi, found another one that crashes sagemath\n\nSageMath version 8.3.rc0, Release Date: 2018-07-08 \n\n```\n\nsage: var('g f x m n a c')\n(g, f, x, m, n, a, c)\n\nsage: integrate((g*cos(f*x + e))^(-m - n - 1)*(a*sin(f*x + e) + a)^m*(-c*sin(f*x + e) + c)^(n + 3),x)\n\n;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n;;; Jumping to the outermost toplevel prompt\n;;;\n\n^C\nSegmentation fault (core dumped)\n\n\n```",
    "created_at": "2018-07-14T04:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493314",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:22'></a>
fyi, found another one that crashes sagemath

SageMath version 8.3.rc0, Release Date: 2018-07-08 

```

sage: var('g f x m n a c')
(g, f, x, m, n, a, c)

sage: integrate((g*cos(f*x + e))^(-m - n - 1)*(a*sin(f*x + e) + a)^m*(-c*sin(f*x + e) + c)^(n + 3),x)

;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
;;; Jumping to the outermost toplevel prompt
;;;

^C
Segmentation fault (core dumped)


```



---

archive/issue_comments_493315.json:
```json
{
    "body": "<a id='comment:23'></a>\nfyi found another one that crashes sagemath\n\n\n```\nsage: version()\n'SageMath version 8.3.rc1, Release Date: 2018-07-14'\n\nsage: var('x c b a m')\n(x, c, b, a, m)\nsage: integrate((c*cos(b*x + a)^m)^(5/2),x)\n\n;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n;;; Jumping to the outermost toplevel prompt\n;;;\n\n^C\nSegmentation fault (core dumped)\n```",
    "created_at": "2018-07-18T00:23:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493315",
    "user": "https://github.com/nasser1"
}
```

<a id='comment:23'></a>
fyi found another one that crashes sagemath


```
sage: version()
'SageMath version 8.3.rc1, Release Date: 2018-07-14'

sage: var('x c b a m')
(x, c, b, a, m)
sage: integrate((c*cos(b*x + a)^m)^(5/2),x)

;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
;;; Jumping to the outermost toplevel prompt
;;;

^C
Segmentation fault (core dumped)
```



---

archive/issue_comments_493316.json:
```json
{
    "body": "<a id='comment:24'></a>\nI have tried the first few examples from description and comments in 9.3.rc2, on macOS 10.15.\nSome of the examples take long, but there are no crashes.\n\n```\nsage: var('x m a b')                                                                                                                                                                                                     \n(x, m, a, b)\nsage: integrate(x^m/sqrt(a + b*x^(2 - m)), x)                                                                                                                                                                            \n-x*x^m*gamma(-m/(m - 2) - 1/(m - 2))*hypergeometric((1/2, -m/(m - 2) - 1/(m - 2)), (-m/(m - 2) - 1/(m - 2) + 1,), -b*x^2/(a*x^m))/(sqrt(a)*m*gamma(-m/(m - 2) - 1/(m - 2) + 1) - 2*sqrt(a)*gamma(-m/(m - 2) - 1/(m - 2) + 1))\nsage: var('x') \n....: integrate(log(sin(x))*sin(x)^2,x) \n....:                                                                                                                                                                                                                                                             \nx\n1/4*I*x^2 - 1/2*I*x*arctan2(sin(x), cos(x) + 1) + 1/2*I*x*arctan2(sin(x), -cos(x) + 1) - 1/4*x*log(cos(x)^2 + sin(x)^2 + 2*cos(x) + 1) - 1/4*x*log(cos(x)^2 + sin(x)^2 - 2*cos(x) + 1) + 1/4*(2*x - sin(2*x))*log(sin(x)) + 1/4*x + 1/2*I*dilog(-e^(I*x)) + 1/2*I*dilog(e^(I*x)) + 1/8*sin(2*x)\nsage: var('c b a m')                                                                                                                                                                                                                                              \n(c, b, a, m)\nsage: integrate((c*sin(b*x + a)^m)^(5/2),x)                                                                                                                                                                                                                       \nintegrate((c*sin(b*x + a)^m)^(5/2), x)\n```",
    "created_at": "2021-04-11T03:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493316",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
I have tried the first few examples from description and comments in 9.3.rc2, on macOS 10.15.
Some of the examples take long, but there are no crashes.

```
sage: var('x m a b')                                                                                                                                                                                                     
(x, m, a, b)
sage: integrate(x^m/sqrt(a + b*x^(2 - m)), x)                                                                                                                                                                            
-x*x^m*gamma(-m/(m - 2) - 1/(m - 2))*hypergeometric((1/2, -m/(m - 2) - 1/(m - 2)), (-m/(m - 2) - 1/(m - 2) + 1,), -b*x^2/(a*x^m))/(sqrt(a)*m*gamma(-m/(m - 2) - 1/(m - 2) + 1) - 2*sqrt(a)*gamma(-m/(m - 2) - 1/(m - 2) + 1))
sage: var('x') 
....: integrate(log(sin(x))*sin(x)^2,x) 
....:                                                                                                                                                                                                                                                             
x
1/4*I*x^2 - 1/2*I*x*arctan2(sin(x), cos(x) + 1) + 1/2*I*x*arctan2(sin(x), -cos(x) + 1) - 1/4*x*log(cos(x)^2 + sin(x)^2 + 2*cos(x) + 1) - 1/4*x*log(cos(x)^2 + sin(x)^2 - 2*cos(x) + 1) + 1/4*(2*x - sin(2*x))*log(sin(x)) + 1/4*x + 1/2*I*dilog(-e^(I*x)) + 1/2*I*dilog(e^(I*x)) + 1/8*sin(2*x)
sage: var('c b a m')                                                                                                                                                                                                                                              
(c, b, a, m)
sage: integrate((c*sin(b*x + a)^m)^(5/2),x)                                                                                                                                                                                                                       
integrate((c*sin(b*x + a)^m)^(5/2), x)
```



---

archive/issue_events_072997.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-11T03:18:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-72997"
}
```



---

archive/issue_events_072998.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-72998"
}
```



---

archive/issue_events_072999.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-72999"
}
```



---

archive/issue_comments_493317.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2021-11-15T12:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493317",
    "user": "https://github.com/kcrisman"
}
```

**Changing upstream** from "Reported upstream. No feedback yet." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_493318.json:
```json
{
    "body": "<a id='comment:27'></a>\nAccording to [this commit](https://sourceforge.net/p/maxima/code/ci/3ca4235b8206b44e6670788696e6614b616f8994/) this is now fixed upstream.",
    "created_at": "2021-11-15T12:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493318",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'></a>
According to [this commit](https://sourceforge.net/p/maxima/code/ci/3ca4235b8206b44e6670788696e6614b616f8994/) this is now fixed upstream.



---

archive/issue_comments_493319.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [mkoeppe](#comment%3A24):\n> I have tried the first few examples from description and comments in 9.3.rc2, on macOS 10.15.\n> Some of the examples take long, but there are no crashes.\n\n\nI think `abs_integrate` has been excluded from the standard options. So I think there are now more integrals that sage won't do by default, and less crashes (while `abs_integrate` tries some things that allow it to integrate functions that maxima otherwise can't, it also produces quite a few really problematic results (and crashes)). So the reported problems here may be \"invalid\" for sagemath already because they now just return unevaluated by default. As kcrisman reports, there has been a whole bunch of updates, so possibly `abs_integrate` has improved. I don't know if that is substantial enough to reintroduce it as a default strategy.",
    "created_at": "2021-11-15T18:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493319",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:28'></a>
Replying to [mkoeppe](#comment%3A24):
> I have tried the first few examples from description and comments in 9.3.rc2, on macOS 10.15.
> Some of the examples take long, but there are no crashes.


I think `abs_integrate` has been excluded from the standard options. So I think there are now more integrals that sage won't do by default, and less crashes (while `abs_integrate` tries some things that allow it to integrate functions that maxima otherwise can't, it also produces quite a few really problematic results (and crashes)). So the reported problems here may be "invalid" for sagemath already because they now just return unevaluated by default. As kcrisman reports, there has been a whole bunch of updates, so possibly `abs_integrate` has improved. I don't know if that is substantial enough to reintroduce it as a default strategy.



---

archive/issue_comments_493320.json:
```json
{
    "body": "<a id='comment:29'></a>\nIndeed `abs_integrate` was removed in #12731, merged in Sage 8.9.\n\nA very recent maxima mailing list discussion\nabout fixes to `abs_integrate`\n\n- https://sourceforge.net/p/maxima/mailman/message/37384574/\n\nhighlights the role of reports from the Sage community.\n\nAt the next Maxima release, we can discuss\nre-enabling `abs_integrate` in Sage.",
    "created_at": "2021-11-15T21:33:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25636#issuecomment-493320",
    "user": "https://github.com/slel"
}
```

<a id='comment:29'></a>
Indeed `abs_integrate` was removed in #12731, merged in Sage 8.9.

A very recent maxima mailing list discussion
about fixes to `abs_integrate`

- https://sourceforge.net/p/maxima/mailman/message/37384574/

highlights the role of reports from the Sage community.

At the next Maxima release, we can discuss
re-enabling `abs_integrate` in Sage.



---

archive/issue_events_073000.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-73000"
}
```



---

archive/issue_events_073001.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-73001"
}
```



---

archive/issue_events_073002.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-73002"
}
```



---

archive/issue_events_073003.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-73003"
}
```



---

archive/issue_events_073004.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-73004"
}
```



---

archive/issue_events_073005.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25636",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25636#event-73005"
}
```
