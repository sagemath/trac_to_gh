# Issue 25598: Triconnectivity linear time algorithm

archive/issues_025361.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nAddition of the linear time algorithm for building triconnected components of a biconnected graph. This is a huge algorithm and we will be coding it one function at a time.\n\nDepends on #22157\n\nCC:  @dcoudert @dimpase @sagetrac-saiharsh\n\nComponent: **graph theory**\n\nKeywords: **connectivity, decomposition, gsoc2018**\n\nAuthor: **Meghana M Reddy, Sai Harsh Tondomker, David Coudert**\n\nBranch: **[`65f2da3`](https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971)**\n\nReviewer: **David Coudert, Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25598_\n\n",
    "closed_at": "2018-09-13T19:25:25Z",
    "created_at": "2018-06-17T18:13:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Triconnectivity linear time algorithm",
    "type": "issue",
    "updated_at": "2018-10-28T14:52:23Z",
    "url": "https://github.com/sagemath/sage/issues/25598",
    "user": "https://github.com/meghanamreddy"
}
```
<div id="comment:0"></div>

Addition of the linear time algorithm for building triconnected components of a biconnected graph. This is a huge algorithm and we will be coding it one function at a time.

Depends on #22157

CC:  @dcoudert @dimpase @sagetrac-saiharsh

Component: **graph theory**

Keywords: **connectivity, decomposition, gsoc2018**

Author: **Meghana M Reddy, Sai Harsh Tondomker, David Coudert**

Branch: **[`65f2da3`](https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971)**

Reviewer: **David Coudert, Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/25598_





---

archive/issue_events_351067.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-06-17T18:13:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351067"
}
```



---

archive/issue_events_351068.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-06-17T18:13:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351068"
}
```



---

archive/issue_events_351069.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-06-17T18:13:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351069"
}
```



---

archive/issue_events_351070.json:
```json
{
    "actor": "https://github.com/meghanamreddy",
    "created_at": "2018-06-17T18:13:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351070"
}
```



---

archive/issue_comments_392731.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI have added the basic class structure of the Triconnectivity module. As discussed, we will first code it in Python and then convert to Cython. Harsh and I will together add functions to the module.",
    "created_at": "2018-06-17T18:15:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392731",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:1" align="right">comment:1</div>

I have added the basic class structure of the Triconnectivity module. As discussed, we will first code it in Python and then convert to Cython. Harsh and I will together add functions to the module.



---

archive/issue_comments_392732.json:
```json
{
    "body": "Changed commit from **[`bb9c543`](https://github.com/sagemath/sagetrac-mirror/commit/bb9c543f9f913634311e3a665d7c4495b5047248)** to **[`c85b5e8`](https://github.com/sagemath/sagetrac-mirror/commit/c85b5e808212dbf1cedf09cec4e9be783b3bbb4d)**",
    "created_at": "2018-06-19T17:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392732",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bb9c543`](https://github.com/sagemath/sagetrac-mirror/commit/bb9c543f9f913634311e3a665d7c4495b5047248)** to **[`c85b5e8`](https://github.com/sagemath/sagetrac-mirror/commit/c85b5e808212dbf1cedf09cec4e9be783b3bbb4d)**



---

archive/issue_comments_392733.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c85b5e808212dbf1cedf09cec4e9be783b3bbb4d\"><code>c85b5e8</code></a></td><td><code>Split_multiple_edges function is added.</code></td></tr></table>\n",
    "created_at": "2018-06-19T17:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392733",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c85b5e808212dbf1cedf09cec4e9be783b3bbb4d"><code>c85b5e8</code></a></td><td><code>Split_multiple_edges function is added.</code></td></tr></table>




---

archive/issue_comments_392734.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1cfce2eb8f0a3e7991f425ef804ecf1f6a732d3\"><code>f1cfce2</code></a></td><td><code>Added the function dfs1() which builds the palm tree.</code></td></tr></table>\n",
    "created_at": "2018-06-21T07:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392734",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1cfce2eb8f0a3e7991f425ef804ecf1f6a732d3"><code>f1cfce2</code></a></td><td><code>Added the function dfs1() which builds the palm tree.</code></td></tr></table>




---

archive/issue_comments_392735.json:
```json
{
    "body": "Changed commit from **[`c85b5e8`](https://github.com/sagemath/sagetrac-mirror/commit/c85b5e808212dbf1cedf09cec4e9be783b3bbb4d)** to **[`f1cfce2`](https://github.com/sagemath/sagetrac-mirror/commit/f1cfce2eb8f0a3e7991f425ef804ecf1f6a732d3)**",
    "created_at": "2018-06-21T07:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392735",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c85b5e8`](https://github.com/sagemath/sagetrac-mirror/commit/c85b5e808212dbf1cedf09cec4e9be783b3bbb4d)** to **[`f1cfce2`](https://github.com/sagemath/sagetrac-mirror/commit/f1cfce2eb8f0a3e7991f425ef804ecf1f6a732d3)**



---

archive/issue_comments_392736.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcc5aee054d20c62d67c94119205a3f38b9f238e\"><code>bcc5aee</code></a></td><td><code>Fixed a small error in split_multi_edges()</code></td></tr></table>\n",
    "created_at": "2018-06-21T07:59:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392736",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcc5aee054d20c62d67c94119205a3f38b9f238e"><code>bcc5aee</code></a></td><td><code>Fixed a small error in split_multi_edges()</code></td></tr></table>




---

archive/issue_comments_392737.json:
```json
{
    "body": "Changed commit from **[`f1cfce2`](https://github.com/sagemath/sagetrac-mirror/commit/f1cfce2eb8f0a3e7991f425ef804ecf1f6a732d3)** to **[`bcc5aee`](https://github.com/sagemath/sagetrac-mirror/commit/bcc5aee054d20c62d67c94119205a3f38b9f238e)**",
    "created_at": "2018-06-21T07:59:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392737",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f1cfce2`](https://github.com/sagemath/sagetrac-mirror/commit/f1cfce2eb8f0a3e7991f425ef804ecf1f6a732d3)** to **[`bcc5aee`](https://github.com/sagemath/sagetrac-mirror/commit/bcc5aee054d20c62d67c94119205a3f38b9f238e)**



---

archive/issue_comments_392738.json:
```json
{
    "body": "Changed commit from **[`bcc5aee`](https://github.com/sagemath/sagetrac-mirror/commit/bcc5aee054d20c62d67c94119205a3f38b9f238e)** to **[`078067e`](https://github.com/sagemath/sagetrac-mirror/commit/078067e2c0ca8676e651319e49d627d7e4de29d8)**",
    "created_at": "2018-06-21T15:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392738",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bcc5aee`](https://github.com/sagemath/sagetrac-mirror/commit/bcc5aee054d20c62d67c94119205a3f38b9f238e)** to **[`078067e`](https://github.com/sagemath/sagetrac-mirror/commit/078067e2c0ca8676e651319e49d627d7e4de29d8)**



---

archive/issue_comments_392739.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/078067e2c0ca8676e651319e49d627d7e4de29d8\"><code>078067e</code></a></td><td><code>Modified dfs1() to check biconnectivity</code></td></tr></table>\n",
    "created_at": "2018-06-21T15:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392739",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/078067e2c0ca8676e651319e49d627d7e4de29d8"><code>078067e</code></a></td><td><code>Modified dfs1() to check biconnectivity</code></td></tr></table>




---

archive/issue_comments_392740.json:
```json
{
    "body": "Changed commit from **[`078067e`](https://github.com/sagemath/sagetrac-mirror/commit/078067e2c0ca8676e651319e49d627d7e4de29d8)** to **[`9875d50`](https://github.com/sagemath/sagetrac-mirror/commit/9875d507ef991628946a1c6be7aa479dfdd2410b)**",
    "created_at": "2018-06-22T06:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392740",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`078067e`](https://github.com/sagemath/sagetrac-mirror/commit/078067e2c0ca8676e651319e49d627d7e4de29d8)** to **[`9875d50`](https://github.com/sagemath/sagetrac-mirror/commit/9875d507ef991628946a1c6be7aa479dfdd2410b)**



---

archive/issue_comments_392741.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9875d507ef991628946a1c6be7aa479dfdd2410b\"><code>9875d50</code></a></td><td><code>Added the function build_acceptable_adjacency_structure()</code></td></tr></table>\n",
    "created_at": "2018-06-22T06:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392741",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9875d507ef991628946a1c6be7aa479dfdd2410b"><code>9875d50</code></a></td><td><code>Added the function build_acceptable_adjacency_structure()</code></td></tr></table>




---

archive/issue_comments_392742.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nFor the function `build_acceptable_adjacency_structure()`, but we require the orientation of the edges of the palm tree. Hence, in the `graph_copy` we are storing, we iterate through every edge, and if the orientation in graph is different from the palm tree, we reverse it. But I discovered the following -\n\n```\ng = Graph()\ng.add_edges([(2,1)])\ng.edges()\n[(1, 2, None)]\n```\n\n```\ng = Graph()\ng.add_edges([(1,2)])\ng.edges()\n[(1, 2, None)]\n```\n\nIrrespective of the order of source and target given in the parameter of `add_edges()`, the edge is stored as `(1, 2, None)`. In such a situation, the other option of reversing an edge is possible if the graph is directed. But I do not want to convert the graph to a digraph, one of the reasons being that while converting, two edges in either direction are added to digraph corresponding to every edge in the original graph.\n\nHence, as of now, I have stored an additional dictionary named `edge_reversed`, and I'm storing all the edges as keys of the dictionary and the value as True or False to denote if the edge is in the reverse direction or not. Every place where the orientation of the edge matters, I have an if and else blocks. \n\nI don't think this is the best method. I am still looking for other methods. Please advice if [SageMath](../wiki/SageMath) has some feature which can be used here.\n\n\nAlso, the function `dfs1()` has been thoroughly tested. I am still testing the function `build_acceptable_adjacency_structure()`, it is hard to test without the `dfs2()` function I think.",
    "created_at": "2018-06-22T06:31:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392742",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:7" align="right">comment:7</div>

For the function `build_acceptable_adjacency_structure()`, but we require the orientation of the edges of the palm tree. Hence, in the `graph_copy` we are storing, we iterate through every edge, and if the orientation in graph is different from the palm tree, we reverse it. But I discovered the following -

```
g = Graph()
g.add_edges([(2,1)])
g.edges()
[(1, 2, None)]
```

```
g = Graph()
g.add_edges([(1,2)])
g.edges()
[(1, 2, None)]
```

Irrespective of the order of source and target given in the parameter of `add_edges()`, the edge is stored as `(1, 2, None)`. In such a situation, the other option of reversing an edge is possible if the graph is directed. But I do not want to convert the graph to a digraph, one of the reasons being that while converting, two edges in either direction are added to digraph corresponding to every edge in the original graph.

Hence, as of now, I have stored an additional dictionary named `edge_reversed`, and I'm storing all the edges as keys of the dictionary and the value as True or False to denote if the edge is in the reverse direction or not. Every place where the orientation of the edge matters, I have an if and else blocks. 

I don't think this is the best method. I am still looking for other methods. Please advice if [SageMath](../wiki/SageMath) has some feature which can be used here.


Also, the function `dfs1()` has been thoroughly tested. I am still testing the function `build_acceptable_adjacency_structure()`, it is hard to test without the `dfs2()` function I think.



---

archive/issue_comments_392743.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n> I don't think this is the best method. I am still looking for other methods. Please advice if [SageMath](../wiki/SageMath) has some feature which can be used here.\n\nUsing dictionary here is a good option. Another solution could be to use a directed graph. I'll let you know if I think about a better solution.",
    "created_at": "2018-06-22T06:47:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392743",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">comment:8</div>

> I don't think this is the best method. I am still looking for other methods. Please advice if [SageMath](../wiki/SageMath) has some feature which can be used here.

Using dictionary here is a good option. Another solution could be to use a directed graph. I'll let you know if I think about a better solution.



---

archive/issue_comments_392744.json:
```json
{
    "body": "Changed commit from **[`9875d50`](https://github.com/sagemath/sagetrac-mirror/commit/9875d507ef991628946a1c6be7aa479dfdd2410b)** to **[`49293bf`](https://github.com/sagemath/sagetrac-mirror/commit/49293bf6914d240a70fb4dcb33c057c766938c6e)**",
    "created_at": "2018-06-23T16:43:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392744",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9875d50`](https://github.com/sagemath/sagetrac-mirror/commit/9875d507ef991628946a1c6be7aa479dfdd2410b)** to **[`49293bf`](https://github.com/sagemath/sagetrac-mirror/commit/49293bf6914d240a70fb4dcb33c057c766938c6e)**



---

archive/issue_comments_392745.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49293bf6914d240a70fb4dcb33c057c766938c6e\"><code>49293bf</code></a></td><td><code>Added adjacency list to make adjacency queries linear time.</code></td></tr></table>\n",
    "created_at": "2018-06-23T16:43:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392745",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49293bf6914d240a70fb4dcb33c057c766938c6e"><code>49293bf</code></a></td><td><code>Added adjacency list to make adjacency queries linear time.</code></td></tr></table>




---

archive/issue_comments_392746.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nInstead of using the `O(n)` `edges_incident()` to get the incident edges of a vertex during dfs, added a list `graph_copy_adjacency` which stores the incident edges of vertex `i` in `graph_copy_adjacency[i]`. Harsh, please use this list while coding the function `dfs2()`.",
    "created_at": "2018-06-23T16:47:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392746",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:10" align="right">comment:10</div>

Instead of using the `O(n)` `edges_incident()` to get the incident edges of a vertex during dfs, added a list `graph_copy_adjacency` which stores the incident edges of vertex `i` in `graph_copy_adjacency[i]`. Harsh, please use this list while coding the function `dfs2()`.



---

archive/issue_comments_392747.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nJust a few comments on coding style\n\n- `if (self.dfs_number[w] < self.lowpt1[v]):`. You don't need to add the brackets.\n\n- `if check == True: ` -> `if check:`\n\n- `if len(comp):` -> `if comp:`. Indeed, if `comp == []`, the test is false, and if `comp` is not empty, the test will be true.\n\n- `if self.edge_status[e] != 0 :` -> `if self.edge_status[e]:`. It's `False` only if the status is 0.\n\n- `first_son == None` -> `first_son is None` is better I think.\n\n- use `range` and not `xrange`. In Python 3, `range` becomes an iterator.\n\n- `edge_reverse`. Instead of a dictionary, you could use a set and consider that an edge is reversed if it belongs to that set. It's not very important.",
    "created_at": "2018-06-24T09:43:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392747",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:11" align="right">comment:11</div>

Just a few comments on coding style

- `if (self.dfs_number[w] < self.lowpt1[v]):`. You don't need to add the brackets.

- `if check == True: ` -> `if check:`

- `if len(comp):` -> `if comp:`. Indeed, if `comp == []`, the test is false, and if `comp` is not empty, the test will be true.

- `if self.edge_status[e] != 0 :` -> `if self.edge_status[e]:`. It's `False` only if the status is 0.

- `first_son == None` -> `first_son is None` is better I think.

- use `range` and not `xrange`. In Python 3, `range` becomes an iterator.

- `edge_reverse`. Instead of a dictionary, you could use a set and consider that an edge is reversed if it belongs to that set. It's not very important.



---

archive/issue_comments_392748.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b79b27603881a7c5961117b3c4a405c1bd6ff69\"><code>4b79b27</code></a></td><td><code>Some changes in coding style</code></td></tr></table>\n",
    "created_at": "2018-06-24T14:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392748",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b79b27603881a7c5961117b3c4a405c1bd6ff69"><code>4b79b27</code></a></td><td><code>Some changes in coding style</code></td></tr></table>




---

archive/issue_comments_392749.json:
```json
{
    "body": "Changed commit from **[`49293bf`](https://github.com/sagemath/sagetrac-mirror/commit/49293bf6914d240a70fb4dcb33c057c766938c6e)** to **[`4b79b27`](https://github.com/sagemath/sagetrac-mirror/commit/4b79b27603881a7c5961117b3c4a405c1bd6ff69)**",
    "created_at": "2018-06-24T14:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392749",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`49293bf`](https://github.com/sagemath/sagetrac-mirror/commit/49293bf6914d240a70fb4dcb33c057c766938c6e)** to **[`4b79b27`](https://github.com/sagemath/sagetrac-mirror/commit/4b79b27603881a7c5961117b3c4a405c1bd6ff69)**



---

archive/issue_comments_392750.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI have made the changes. We will follow the same style from now on.",
    "created_at": "2018-06-24T14:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392750",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:13" align="right">comment:13</div>

I have made the changes. We will follow the same style from now on.



---

archive/issue_comments_392751.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e69d1075696f9d9d9e4b23dd0475414b12d5877\"><code>9e69d10</code></a></td><td><code>Merge to version 8.3beta7.</code></td></tr></table>\n",
    "created_at": "2018-06-24T17:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392751",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e69d1075696f9d9d9e4b23dd0475414b12d5877"><code>9e69d10</code></a></td><td><code>Merge to version 8.3beta7.</code></td></tr></table>




---

archive/issue_comments_392752.json:
```json
{
    "body": "Changed commit from **[`4b79b27`](https://github.com/sagemath/sagetrac-mirror/commit/4b79b27603881a7c5961117b3c4a405c1bd6ff69)** to **[`9e69d10`](https://github.com/sagemath/sagetrac-mirror/commit/9e69d1075696f9d9d9e4b23dd0475414b12d5877)**",
    "created_at": "2018-06-24T17:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392752",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4b79b27`](https://github.com/sagemath/sagetrac-mirror/commit/4b79b27603881a7c5961117b3c4a405c1bd6ff69)** to **[`9e69d10`](https://github.com/sagemath/sagetrac-mirror/commit/9e69d1075696f9d9d9e4b23dd0475414b12d5877)**



---

archive/issue_comments_392753.json:
```json
{
    "body": "Changed commit from **[`9e69d10`](https://github.com/sagemath/sagetrac-mirror/commit/9e69d1075696f9d9d9e4b23dd0475414b12d5877)** to **[`4d7cbe5`](https://github.com/sagemath/sagetrac-mirror/commit/4d7cbe54250391ed4d7ce5b61f3fa0252ef180de)**",
    "created_at": "2018-06-28T21:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392753",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9e69d10`](https://github.com/sagemath/sagetrac-mirror/commit/9e69d1075696f9d9d9e4b23dd0475414b12d5877)** to **[`4d7cbe5`](https://github.com/sagemath/sagetrac-mirror/commit/4d7cbe54250391ed4d7ce5b61f3fa0252ef180de)**



---

archive/issue_comments_392754.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d7cbe54250391ed4d7ce5b61f3fa0252ef180de\"><code>4d7cbe5</code></a></td><td><code>Added DFS2 and Path Finder</code></td></tr></table>\n",
    "created_at": "2018-06-28T21:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392754",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d7cbe54250391ed4d7ce5b61f3fa0252ef180de"><code>4d7cbe5</code></a></td><td><code>Added DFS2 and Path Finder</code></td></tr></table>




---

archive/issue_comments_392755.json:
```json
{
    "body": "Changed commit from **[`4d7cbe5`](https://github.com/sagemath/sagetrac-mirror/commit/4d7cbe54250391ed4d7ce5b61f3fa0252ef180de)** to **[`84cc2cf`](https://github.com/sagemath/sagetrac-mirror/commit/84cc2cf7ef65f6ea0e8ce33b1fd80961a5f04195)**",
    "created_at": "2018-06-30T18:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392755",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4d7cbe5`](https://github.com/sagemath/sagetrac-mirror/commit/4d7cbe54250391ed4d7ce5b61f3fa0252ef180de)** to **[`84cc2cf`](https://github.com/sagemath/sagetrac-mirror/commit/84cc2cf7ef65f6ea0e8ce33b1fd80961a5f04195)**



---

archive/issue_comments_392756.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84cc2cf7ef65f6ea0e8ce33b1fd80961a5f04195\"><code>84cc2cf</code></a></td><td><code>Updated dfs2 and path finder. Added some helper functions for path_search().</code></td></tr></table>\n",
    "created_at": "2018-06-30T18:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392756",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84cc2cf7ef65f6ea0e8ce33b1fd80961a5f04195"><code>84cc2cf</code></a></td><td><code>Updated dfs2 and path finder. Added some helper functions for path_search().</code></td></tr></table>




---

archive/issue_comments_392757.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1d1336f2c382a6f4f459b4dea0deff029e9aef8\"><code>a1d1336</code></a></td><td><code>Added pathsearch() function.</code></td></tr></table>\n",
    "created_at": "2018-07-04T19:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392757",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1d1336f2c382a6f4f459b4dea0deff029e9aef8"><code>a1d1336</code></a></td><td><code>Added pathsearch() function.</code></td></tr></table>




---

archive/issue_comments_392758.json:
```json
{
    "body": "Changed commit from **[`84cc2cf`](https://github.com/sagemath/sagetrac-mirror/commit/84cc2cf7ef65f6ea0e8ce33b1fd80961a5f04195)** to **[`a1d1336`](https://github.com/sagemath/sagetrac-mirror/commit/a1d1336f2c382a6f4f459b4dea0deff029e9aef8)**",
    "created_at": "2018-07-04T19:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392758",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`84cc2cf`](https://github.com/sagemath/sagetrac-mirror/commit/84cc2cf7ef65f6ea0e8ce33b1fd80961a5f04195)** to **[`a1d1336`](https://github.com/sagemath/sagetrac-mirror/commit/a1d1336f2c382a6f4f459b4dea0deff029e9aef8)**



---

archive/issue_comments_392759.json:
```json
{
    "body": "Changed commit from **[`a1d1336`](https://github.com/sagemath/sagetrac-mirror/commit/a1d1336f2c382a6f4f459b4dea0deff029e9aef8)** to **[`c5a73e9`](https://github.com/sagemath/sagetrac-mirror/commit/c5a73e9f695128fd5b13b0946917afd764b175d6)**",
    "created_at": "2018-07-04T19:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392759",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a1d1336`](https://github.com/sagemath/sagetrac-mirror/commit/a1d1336f2c382a6f4f459b4dea0deff029e9aef8)** to **[`c5a73e9`](https://github.com/sagemath/sagetrac-mirror/commit/c5a73e9f695128fd5b13b0946917afd764b175d6)**



---

archive/issue_comments_392760.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5a73e9f695128fd5b13b0946917afd764b175d6\"><code>c5a73e9</code></a></td><td><code>Fixed a small error</code></td></tr></table>\n",
    "created_at": "2018-07-04T19:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392760",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5a73e9f695128fd5b13b0946917afd764b175d6"><code>c5a73e9</code></a></td><td><code>Fixed a small error</code></td></tr></table>




---

archive/issue_comments_392761.json:
```json
{
    "body": "Changed commit from **[`c5a73e9`](https://github.com/sagemath/sagetrac-mirror/commit/c5a73e9f695128fd5b13b0946917afd764b175d6)** to **[`79b8cb8`](https://github.com/sagemath/sagetrac-mirror/commit/79b8cb87abff65aec71c2daacad8b3c8bc85c177)**",
    "created_at": "2018-07-15T07:49:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392761",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c5a73e9`](https://github.com/sagemath/sagetrac-mirror/commit/c5a73e9f695128fd5b13b0946917afd764b175d6)** to **[`79b8cb8`](https://github.com/sagemath/sagetrac-mirror/commit/79b8cb87abff65aec71c2daacad8b3c8bc85c177)**



---

archive/issue_comments_392762.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b222089f90e23e61ac8732c8a211ae3eed6aec7b\"><code>b222089</code></a></td><td><code>Update to 8.3.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ff2b41ef73a5706884653c6bd668a17946aa4aa\"><code>6ff2b41</code></a></td><td><code>Fixed a bug with pathsearch()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79b8cb87abff65aec71c2daacad8b3c8bc85c177\"><code>79b8cb8</code></a></td><td><code>Removed extra print statements. Error with edge_status dictionary.</code></td></tr></table>\n",
    "created_at": "2018-07-15T07:49:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392762",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b222089f90e23e61ac8732c8a211ae3eed6aec7b"><code>b222089</code></a></td><td><code>Update to 8.3.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ff2b41ef73a5706884653c6bd668a17946aa4aa"><code>6ff2b41</code></a></td><td><code>Fixed a bug with pathsearch()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79b8cb87abff65aec71c2daacad8b3c8bc85c177"><code>79b8cb8</code></a></td><td><code>Removed extra print statements. Error with edge_status dictionary.</code></td></tr></table>




---

archive/issue_comments_392763.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n@sagetrac-saiharsh,\nI was debugging and fixed some bugs with pathsearch() but I found an error with the function split_multi_edges() and with the `edge_status` dictionary.\n* In `split_multi_edges()`, \n    `sorted_edges = sorted(self.graph_copy.multiple_edges(labels=False))` removes the edge labels, however in `edge_status` dictionary, we store the edges along with the labels. Hence, if an edge `(3,4,None)` is removed and updated in `split_multi_edges()`, a new item `(3,4)` is added to `edge_status` with label `3` (i.e., denoting removed), whereas the item `(3,4,None)` remains with old label. In the rest of the algorithm, `(3,4,None)` is used, which leads to an error. For now I have changed that line to \n    `sorted_edges = sorted(self.graph_copy.multiple_edges(labels=True))`, need to check.\n\n* A more fundamental error is with the dictionary `edge_status` itself. If we have multiedges `(1,2)` and `(1,2)` in the input graph, in `split_multi_edges()` we intend to change the status of one of the edges to removed and the other remains as a palm tree arc. But since the two edges are identical, one over-writes the other in the dictionary `edge_status`. The dictionary `edge_status` has only one copy of the edge for every set of multi-edges. I had assumed a dictionary would be a good way to store status of the edges but did not think about this error. Please suggest a way in which we can resolve this error. I will also update if I find some fix.\n\nRun the code for a cycle on `4` vertices with one extra edge (the multi-edge).",
    "created_at": "2018-07-15T08:01:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392763",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:20" align="right">comment:20</div>

@sagetrac-saiharsh,
I was debugging and fixed some bugs with pathsearch() but I found an error with the function split_multi_edges() and with the `edge_status` dictionary.
* In `split_multi_edges()`, 
    `sorted_edges = sorted(self.graph_copy.multiple_edges(labels=False))` removes the edge labels, however in `edge_status` dictionary, we store the edges along with the labels. Hence, if an edge `(3,4,None)` is removed and updated in `split_multi_edges()`, a new item `(3,4)` is added to `edge_status` with label `3` (i.e., denoting removed), whereas the item `(3,4,None)` remains with old label. In the rest of the algorithm, `(3,4,None)` is used, which leads to an error. For now I have changed that line to 
    `sorted_edges = sorted(self.graph_copy.multiple_edges(labels=True))`, need to check.

* A more fundamental error is with the dictionary `edge_status` itself. If we have multiedges `(1,2)` and `(1,2)` in the input graph, in `split_multi_edges()` we intend to change the status of one of the edges to removed and the other remains as a palm tree arc. But since the two edges are identical, one over-writes the other in the dictionary `edge_status`. The dictionary `edge_status` has only one copy of the edge for every set of multi-edges. I had assumed a dictionary would be a good way to store status of the edges but did not think about this error. Please suggest a way in which we can resolve this error. I will also update if I find some fix.

Run the code for a cycle on `4` vertices with one extra edge (the multi-edge).



---

archive/issue_comments_392764.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n>sorted_edges = sorted(self.graph_copy.multiple_edges(labels=True)), need to check.\n\nI feel it won't work if all the edges have same labels.\n\nThe error in `split_multi_edges()` because we are unable to differentiate between multiple edges, so I thought to label each edge according to entry in `G.edges`.\n\n```\n        from sage.graphs.graph import Graph\n        self.graph_copy = Graph(multiedges=True)\n        edges = G.edges()\n        # dict to map new edges with the old edges\n        self.edge_label_dict = {}\n        for i in range(len(edges)):\n            newEdge = tuple([edges[i][0], edges[i][1], i])\n            self.graph_copy.add_edge(newEdge)\n            self.edge_label_dict[newEdge] = edges[i]\n        self.graph_copy = self.graph_copy.copy(implementation='c_graph')\n```\nNow `edge_status` will have entry of all multiple edges. \n\nThe only one problem is while returning the final answer we need to map the graph edge labels to it's previous labels using `edge_label_dict`. which will increase the time with `O(m)`.  \n\n`edge_label_dict` will take new edge and return it's previous form. \n\n\nI have manually checked `split_multiple_edges` is working as expected. \n\nPlease suggest me if there is a better way to solve this problem.",
    "created_at": "2018-07-16T13:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392764",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:21" align="right">comment:21</div>

>sorted_edges = sorted(self.graph_copy.multiple_edges(labels=True)), need to check.

I feel it won't work if all the edges have same labels.

The error in `split_multi_edges()` because we are unable to differentiate between multiple edges, so I thought to label each edge according to entry in `G.edges`.

```
        from sage.graphs.graph import Graph
        self.graph_copy = Graph(multiedges=True)
        edges = G.edges()
        # dict to map new edges with the old edges
        self.edge_label_dict = {}
        for i in range(len(edges)):
            newEdge = tuple([edges[i][0], edges[i][1], i])
            self.graph_copy.add_edge(newEdge)
            self.edge_label_dict[newEdge] = edges[i]
        self.graph_copy = self.graph_copy.copy(implementation='c_graph')
```
Now `edge_status` will have entry of all multiple edges. 

The only one problem is while returning the final answer we need to map the graph edge labels to it's previous labels using `edge_label_dict`. which will increase the time with `O(m)`.  

`edge_label_dict` will take new edge and return it's previous form. 


I have manually checked `split_multiple_edges` is working as expected. 

Please suggest me if there is a better way to solve this problem.



---

archive/issue_comments_392765.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0b96316d81e42ecb4ac9312ea21924386fd5e70\"><code>d0b9631</code></a></td><td><code>Updated graph_copy and split_multiple_edges function</code></td></tr></table>\n",
    "created_at": "2018-07-16T14:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392765",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0b96316d81e42ecb4ac9312ea21924386fd5e70"><code>d0b9631</code></a></td><td><code>Updated graph_copy and split_multiple_edges function</code></td></tr></table>




---

archive/issue_comments_392766.json:
```json
{
    "body": "Changed commit from **[`79b8cb8`](https://github.com/sagemath/sagetrac-mirror/commit/79b8cb87abff65aec71c2daacad8b3c8bc85c177)** to **[`d0b9631`](https://github.com/sagemath/sagetrac-mirror/commit/d0b96316d81e42ecb4ac9312ea21924386fd5e70)**",
    "created_at": "2018-07-16T14:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392766",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79b8cb8`](https://github.com/sagemath/sagetrac-mirror/commit/79b8cb87abff65aec71c2daacad8b3c8bc85c177)** to **[`d0b9631`](https://github.com/sagemath/sagetrac-mirror/commit/d0b96316d81e42ecb4ac9312ea21924386fd5e70)**



---

archive/issue_comments_392767.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThere is a bug in your approach. You are modifying the graph while building `graph_copy`.\nSince you are going through the edges and only adding the modified edges, all isolated vertices will be deleted, which is not desired. \n\n`split_multi_edges` is still giving the wrong output. I tried the following example:\n\n```\nsage: G = Graph()\nsage: G.allow_multiple_edges(True)\nsage: G.add_edges([(1,2),(2,3),(3,4),(4,5),(1,5),(1,5)])\nsage: tric = Triconnectivity(G)\n```\n\nThe connected component corresponding to the multi edges is being done correctly. But both the edges corresponding to `(1,5)` edge - `(0,4,1)` and `(0,4,2)` are given a value of `3` after `split_multi_edges`. Only one edge must be deleted.",
    "created_at": "2018-07-18T15:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392767",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:23" align="right">comment:23</div>

There is a bug in your approach. You are modifying the graph while building `graph_copy`.
Since you are going through the edges and only adding the modified edges, all isolated vertices will be deleted, which is not desired. 

`split_multi_edges` is still giving the wrong output. I tried the following example:

```
sage: G = Graph()
sage: G.allow_multiple_edges(True)
sage: G.add_edges([(1,2),(2,3),(3,4),(4,5),(1,5),(1,5)])
sage: tric = Triconnectivity(G)
```

The connected component corresponding to the multi edges is being done correctly. But both the edges corresponding to `(1,5)` edge - `(0,4,1)` and `(0,4,2)` are given a value of `3` after `split_multi_edges`. Only one edge must be deleted.



---

archive/issue_comments_392768.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5c4ea76ba1918e1b4c039817c674691c4f2c967\"><code>a5c4ea7</code></a></td><td><code>Fixed all bugs in path_search.</code></td></tr></table>\n",
    "created_at": "2018-07-19T07:05:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392768",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5c4ea76ba1918e1b4c039817c674691c4f2c967"><code>a5c4ea7</code></a></td><td><code>Fixed all bugs in path_search.</code></td></tr></table>




---

archive/issue_comments_392769.json:
```json
{
    "body": "Changed commit from **[`d0b9631`](https://github.com/sagemath/sagetrac-mirror/commit/d0b96316d81e42ecb4ac9312ea21924386fd5e70)** to **[`a5c4ea7`](https://github.com/sagemath/sagetrac-mirror/commit/a5c4ea76ba1918e1b4c039817c674691c4f2c967)**",
    "created_at": "2018-07-19T07:05:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392769",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d0b9631`](https://github.com/sagemath/sagetrac-mirror/commit/d0b96316d81e42ecb4ac9312ea21924386fd5e70)** to **[`a5c4ea7`](https://github.com/sagemath/sagetrac-mirror/commit/a5c4ea76ba1918e1b4c039817c674691c4f2c967)**



---

archive/issue_comments_392770.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThe `path_search` function is working for simple graphs, and the components are being computed correctly. It will work for multi-graphs also once the bug in `split_multi_edges` is fixed (since the graph becomes a simple graph after the preprocessing in `split_multi_edges`).\n\nThe function `assemble_triconnected_components` has to be coded now, which seems to be simple since the components are already computed and a few of them have to be merged in this function.\n\nOnce this function is done, we can thoroughly test the code by comparing the output with #22157 and OGDF. We can then work on cythonizing the code.",
    "created_at": "2018-07-19T07:13:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392770",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:25" align="right">comment:25</div>

The `path_search` function is working for simple graphs, and the components are being computed correctly. It will work for multi-graphs also once the bug in `split_multi_edges` is fixed (since the graph becomes a simple graph after the preprocessing in `split_multi_edges`).

The function `assemble_triconnected_components` has to be coded now, which seems to be simple since the components are already computed and a few of them have to be merged in this function.

Once this function is done, we can thoroughly test the code by comparing the output with #22157 and OGDF. We can then work on cythonizing the code.



---

archive/issue_comments_392771.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ea9c1b005126e7295f5117d8a5476fdaecf565b\"><code>1ea9c1b</code></a></td><td><code>Fixed the bug in split_multiple_edges</code></td></tr></table>\n",
    "created_at": "2018-07-19T11:25:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392771",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ea9c1b005126e7295f5117d8a5476fdaecf565b"><code>1ea9c1b</code></a></td><td><code>Fixed the bug in split_multiple_edges</code></td></tr></table>




---

archive/issue_comments_392772.json:
```json
{
    "body": "Changed commit from **[`a5c4ea7`](https://github.com/sagemath/sagetrac-mirror/commit/a5c4ea76ba1918e1b4c039817c674691c4f2c967)** to **[`1ea9c1b`](https://github.com/sagemath/sagetrac-mirror/commit/1ea9c1b005126e7295f5117d8a5476fdaecf565b)**",
    "created_at": "2018-07-19T11:25:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392772",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a5c4ea7`](https://github.com/sagemath/sagetrac-mirror/commit/a5c4ea76ba1918e1b4c039817c674691c4f2c967)** to **[`1ea9c1b`](https://github.com/sagemath/sagetrac-mirror/commit/1ea9c1b005126e7295f5117d8a5476fdaecf565b)**



---

archive/issue_comments_392773.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2375d00a47c5256380c9a80f1ed4895cdecdea83\"><code>2375d00</code></a></td><td><code>Fixed a minor bug related to multi-graphs</code></td></tr></table>\n",
    "created_at": "2018-07-19T12:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392773",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2375d00a47c5256380c9a80f1ed4895cdecdea83"><code>2375d00</code></a></td><td><code>Fixed a minor bug related to multi-graphs</code></td></tr></table>




---

archive/issue_comments_392774.json:
```json
{
    "body": "Changed commit from **[`1ea9c1b`](https://github.com/sagemath/sagetrac-mirror/commit/1ea9c1b005126e7295f5117d8a5476fdaecf565b)** to **[`2375d00`](https://github.com/sagemath/sagetrac-mirror/commit/2375d00a47c5256380c9a80f1ed4895cdecdea83)**",
    "created_at": "2018-07-19T12:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392774",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1ea9c1b`](https://github.com/sagemath/sagetrac-mirror/commit/1ea9c1b005126e7295f5117d8a5476fdaecf565b)** to **[`2375d00`](https://github.com/sagemath/sagetrac-mirror/commit/2375d00a47c5256380c9a80f1ed4895cdecdea83)**



---

archive/issue_comments_392775.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b357c7d5323011da8a3b25e6a724212645413c6\"><code>6b357c7</code></a></td><td><code>Added `assemble_triconnected_components` function.</code></td></tr></table>\n",
    "created_at": "2018-07-24T13:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392775",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b357c7d5323011da8a3b25e6a724212645413c6"><code>6b357c7</code></a></td><td><code>Added `assemble_triconnected_components` function.</code></td></tr></table>




---

archive/issue_comments_392776.json:
```json
{
    "body": "Changed commit from **[`2375d00`](https://github.com/sagemath/sagetrac-mirror/commit/2375d00a47c5256380c9a80f1ed4895cdecdea83)** to **[`6b357c7`](https://github.com/sagemath/sagetrac-mirror/commit/6b357c7d5323011da8a3b25e6a724212645413c6)**",
    "created_at": "2018-07-24T13:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392776",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2375d00`](https://github.com/sagemath/sagetrac-mirror/commit/2375d00a47c5256380c9a80f1ed4895cdecdea83)** to **[`6b357c7`](https://github.com/sagemath/sagetrac-mirror/commit/6b357c7d5323011da8a3b25e6a724212645413c6)**



---

archive/issue_comments_392777.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThe triconnectivity is completed. The triconnected components are now correctly constructed.\nThe triconnected components are being printed when we call the `Triconnectivity` function. An example-\n\n```\nsage: from sage.graphs.connectivity import Triconnectivity\nsage: G = Graph()\nsage: G.add_edges([(1,2),(1,4),(1,8),(1,12),(1,13),(2,3),(2,13),(3,4)])\nsage: G.add_edges([(3,13),(4,5),(4,7),(5,6),(5,7),(5,8),(6,7),(8,9),(8,11)])\nsage: G.add_edges([(8,12),(9,10),(9,11),(9,12),(10,11),(10,12)])\nsage: tric = Triconnectivity(G)\n```\n\nIn the output, the current format of vertices is numbers starting from `0` to `n`. Hence the edges printed will use these numberings. I am currently formatting the output to change the vertex labels to original labels. Will finish that in some time.\n\nI am also adding comments to the code to make it more readable.\nPlease let me know if you find any discrepancies in the output.",
    "created_at": "2018-07-24T13:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392777",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:29" align="right">comment:29</div>

The triconnectivity is completed. The triconnected components are now correctly constructed.
The triconnected components are being printed when we call the `Triconnectivity` function. An example-

```
sage: from sage.graphs.connectivity import Triconnectivity
sage: G = Graph()
sage: G.add_edges([(1,2),(1,4),(1,8),(1,12),(1,13),(2,3),(2,13),(3,4)])
sage: G.add_edges([(3,13),(4,5),(4,7),(5,6),(5,7),(5,8),(6,7),(8,9),(8,11)])
sage: G.add_edges([(8,12),(9,10),(9,11),(9,12),(10,11),(10,12)])
sage: tric = Triconnectivity(G)
```

In the output, the current format of vertices is numbers starting from `0` to `n`. Hence the edges printed will use these numberings. I am currently formatting the output to change the vertex labels to original labels. Will finish that in some time.

I am also adding comments to the code to make it more readable.
Please let me know if you find any discrepancies in the output.



---

archive/issue_comments_392778.json:
```json
{
    "body": "Changed commit from **[`6b357c7`](https://github.com/sagemath/sagetrac-mirror/commit/6b357c7d5323011da8a3b25e6a724212645413c6)** to **[`b1d9355`](https://github.com/sagemath/sagetrac-mirror/commit/b1d93554a20791c18752608886f089e832287281)**",
    "created_at": "2018-07-24T19:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392778",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6b357c7`](https://github.com/sagemath/sagetrac-mirror/commit/6b357c7d5323011da8a3b25e6a724212645413c6)** to **[`b1d9355`](https://github.com/sagemath/sagetrac-mirror/commit/b1d93554a20791c18752608886f089e832287281)**



---

archive/issue_comments_392779.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f141082d0fc3769d87b4afc92165200cfb36a99\"><code>7f14108</code></a></td><td><code>Update to 8.3.rc2.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1d93554a20791c18752608886f089e832287281\"><code>b1d9355</code></a></td><td><code>Formatted output to change vertices/edges to original labels.</code></td></tr></table>\n",
    "created_at": "2018-07-24T19:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392779",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f141082d0fc3769d87b4afc92165200cfb36a99"><code>7f14108</code></a></td><td><code>Update to 8.3.rc2.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1d93554a20791c18752608886f089e832287281"><code>b1d9355</code></a></td><td><code>Formatted output to change vertices/edges to original labels.</code></td></tr></table>




---

archive/issue_comments_392780.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThe output is now in terms of original labels. The triconnected components are printed and also stored in the variables `comp_list_new` and `comp_type`. `comp_list_new[i]` contains the list of edges belonging to the `i`th component. `comp_type[i]` contains the type of `i`th component (0=bond, 1=polygon, 2=triconnected component).\nThese can also be accessed as - \n\n```\ntric = Triconnectivity(G)\ntric.comp_list_new\ntric.comp_type\n```\nAlso, in the triconnected components, all the original edges have labels as per the input graph `G`. However, virtual edges have a label starting with `newVEdge` followed by the number of the virtual edge, i.e., `newVEdge5` or `newVEdge14`.",
    "created_at": "2018-07-24T19:42:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392780",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:31" align="right">comment:31</div>

The output is now in terms of original labels. The triconnected components are printed and also stored in the variables `comp_list_new` and `comp_type`. `comp_list_new[i]` contains the list of edges belonging to the `i`th component. `comp_type[i]` contains the type of `i`th component (0=bond, 1=polygon, 2=triconnected component).
These can also be accessed as - 

```
tric = Triconnectivity(G)
tric.comp_list_new
tric.comp_type
```
Also, in the triconnected components, all the original edges have labels as per the input graph `G`. However, virtual edges have a label starting with `newVEdge` followed by the number of the virtual edge, i.e., `newVEdge5` or `newVEdge14`.



---

archive/issue_comments_392781.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d232bd9db42da3c2bcb7135a76ef49a334b3c12\"><code>4d232bd</code></a></td><td><code>Added comments and documentation.</code></td></tr></table>\n",
    "created_at": "2018-07-27T10:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392781",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d232bd9db42da3c2bcb7135a76ef49a334b3c12"><code>4d232bd</code></a></td><td><code>Added comments and documentation.</code></td></tr></table>




---

archive/issue_comments_392782.json:
```json
{
    "body": "Changed commit from **[`b1d9355`](https://github.com/sagemath/sagetrac-mirror/commit/b1d93554a20791c18752608886f089e832287281)** to **[`4d232bd`](https://github.com/sagemath/sagetrac-mirror/commit/4d232bd9db42da3c2bcb7135a76ef49a334b3c12)**",
    "created_at": "2018-07-27T10:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392782",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b1d9355`](https://github.com/sagemath/sagetrac-mirror/commit/b1d93554a20791c18752608886f089e832287281)** to **[`4d232bd`](https://github.com/sagemath/sagetrac-mirror/commit/4d232bd9db42da3c2bcb7135a76ef49a334b3c12)**



---

archive/issue_comments_392783.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI played with the code and got this\n\n```\nsage: G = Graph(2)\nsage: for i in range(3):\n....:     G.add_path([0, G.add_vertex(), G.add_vertex(), 1])\n....:     \nsage: tric = Triconnectivity(G)\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n...\nKeyError: (1, 0, 'newVEdge1')\n```",
    "created_at": "2018-07-27T12:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392783",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:33" align="right">comment:33</div>

I played with the code and got this

```
sage: G = Graph(2)
sage: for i in range(3):
....:     G.add_path([0, G.add_vertex(), G.add_vertex(), 1])
....:     
sage: tric = Triconnectivity(G)
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
...
KeyError: (1, 0, 'newVEdge1')
```



---

archive/issue_comments_392784.json:
```json
{
    "body": "Changed commit from **[`4d232bd`](https://github.com/sagemath/sagetrac-mirror/commit/4d232bd9db42da3c2bcb7135a76ef49a334b3c12)** to **[`0f6d767`](https://github.com/sagemath/sagetrac-mirror/commit/0f6d767d4ca700be62ad70e227c61752fea03fa4)**",
    "created_at": "2018-07-27T18:43:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392784",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4d232bd`](https://github.com/sagemath/sagetrac-mirror/commit/4d232bd9db42da3c2bcb7135a76ef49a334b3c12)** to **[`0f6d767`](https://github.com/sagemath/sagetrac-mirror/commit/0f6d767d4ca700be62ad70e227c61752fea03fa4)**



---

archive/issue_comments_392785.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f6d767d4ca700be62ad70e227c61752fea03fa4\"><code>0f6d767</code></a></td><td><code>Bug fix.</code></td></tr></table>\n",
    "created_at": "2018-07-27T18:43:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392785",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f6d767d4ca700be62ad70e227c61752fea03fa4"><code>0f6d767</code></a></td><td><code>Bug fix.</code></td></tr></table>




---

archive/issue_comments_392786.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/885b5631e2d34c0e38cfb8c1a473f4796044d08a\"><code>885b563</code></a></td><td><code>Deleting edges instead of setting edge_status to removed.</code></td></tr></table>\n",
    "created_at": "2018-08-01T18:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392786",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/885b5631e2d34c0e38cfb8c1a473f4796044d08a"><code>885b563</code></a></td><td><code>Deleting edges instead of setting edge_status to removed.</code></td></tr></table>




---

archive/issue_comments_392787.json:
```json
{
    "body": "Changed commit from **[`0f6d767`](https://github.com/sagemath/sagetrac-mirror/commit/0f6d767d4ca700be62ad70e227c61752fea03fa4)** to **[`885b563`](https://github.com/sagemath/sagetrac-mirror/commit/885b5631e2d34c0e38cfb8c1a473f4796044d08a)**",
    "created_at": "2018-08-01T18:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392787",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0f6d767`](https://github.com/sagemath/sagetrac-mirror/commit/0f6d767d4ca700be62ad70e227c61752fea03fa4)** to **[`885b563`](https://github.com/sagemath/sagetrac-mirror/commit/885b5631e2d34c0e38cfb8c1a473f4796044d08a)**



---

archive/issue_comments_392788.json:
```json
{
    "body": "Changed commit from **[`885b563`](https://github.com/sagemath/sagetrac-mirror/commit/885b5631e2d34c0e38cfb8c1a473f4796044d08a)** to **[`a998f65`](https://github.com/sagemath/sagetrac-mirror/commit/a998f65be84cc6072378d207056b3925a99fa13b)**",
    "created_at": "2018-08-03T19:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392788",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`885b563`](https://github.com/sagemath/sagetrac-mirror/commit/885b5631e2d34c0e38cfb8c1a473f4796044d08a)** to **[`a998f65`](https://github.com/sagemath/sagetrac-mirror/commit/a998f65be84cc6072378d207056b3925a99fa13b)**



---

archive/issue_comments_392789.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a998f65be84cc6072378d207056b3925a99fa13b\"><code>a998f65</code></a></td><td><code>Fixed a bug related to the case of directed grapg input.</code></td></tr></table>\n",
    "created_at": "2018-08-03T19:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392789",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a998f65be84cc6072378d207056b3925a99fa13b"><code>a998f65</code></a></td><td><code>Fixed a bug related to the case of directed grapg input.</code></td></tr></table>




---

archive/issue_comments_392790.json:
```json
{
    "body": "Changed commit from **[`a998f65`](https://github.com/sagemath/sagetrac-mirror/commit/a998f65be84cc6072378d207056b3925a99fa13b)** to **[`759051f`](https://github.com/sagemath/sagetrac-mirror/commit/759051fdda8361fa44b0d935f85d393aa5e8630a)**",
    "created_at": "2018-08-03T19:58:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392790",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a998f65`](https://github.com/sagemath/sagetrac-mirror/commit/a998f65be84cc6072378d207056b3925a99fa13b)** to **[`759051f`](https://github.com/sagemath/sagetrac-mirror/commit/759051fdda8361fa44b0d935f85d393aa5e8630a)**



---

archive/issue_comments_392791.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/759051fdda8361fa44b0d935f85d393aa5e8630a\"><code>759051f</code></a></td><td><code>Update to 8.3</code></td></tr></table>\n",
    "created_at": "2018-08-03T19:58:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392791",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/759051fdda8361fa44b0d935f85d393aa5e8630a"><code>759051f</code></a></td><td><code>Update to 8.3</code></td></tr></table>




---

archive/issue_comments_392792.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8c9410f2a5188cf73c83dc9d4119271cb4b2f0f\"><code>e8c9410</code></a></td><td><code>Added staticSPQRTree</code></td></tr></table>\n",
    "created_at": "2018-08-06T12:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392792",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8c9410f2a5188cf73c83dc9d4119271cb4b2f0f"><code>e8c9410</code></a></td><td><code>Added staticSPQRTree</code></td></tr></table>




---

archive/issue_comments_392793.json:
```json
{
    "body": "Changed commit from **[`759051f`](https://github.com/sagemath/sagetrac-mirror/commit/759051fdda8361fa44b0d935f85d393aa5e8630a)** to **[`e8c9410`](https://github.com/sagemath/sagetrac-mirror/commit/e8c9410f2a5188cf73c83dc9d4119271cb4b2f0f)**",
    "created_at": "2018-08-06T12:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392793",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`759051f`](https://github.com/sagemath/sagetrac-mirror/commit/759051fdda8361fa44b0d935f85d393aa5e8630a)** to **[`e8c9410`](https://github.com/sagemath/sagetrac-mirror/commit/e8c9410f2a5188cf73c83dc9d4119271cb4b2f0f)**



---

archive/issue_comments_392794.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ee5fa0f4368c340cd626c845c1152847c68426d\"><code>5ee5fa0</code></a></td><td><code>Fixed the bug in split_multiple_edges</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27653f7657d6ff5f0572824b52fe33b52f9661ca\"><code>27653f7</code></a></td><td><code>Fixed a minor bug related to multi-graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/443fa84114ac355a7b81f1a7b8bc6ceee2c2771b\"><code>443fa84</code></a></td><td><code>Added `assemble_triconnected_components` function.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/737a2af529586d5cfc5156b677a73c3deb0fba22\"><code>737a2af</code></a></td><td><code>Formatted output to change vertices/edges to original labels.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9dd2aa7ac6d4951f108aa07fd966cfac88cf8693\"><code>9dd2aa7</code></a></td><td><code>Added comments and documentation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b52f8482bbe77aab4116928a9f0e359ddb99fa8a\"><code>b52f848</code></a></td><td><code>Bug fix.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d02146d03ca4e8ef1edce0c91077713358e620fb\"><code>d02146d</code></a></td><td><code>Deleting edges instead of setting edge_status to removed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/035e2be115e6330db364e916613bb087ecda1638\"><code>035e2be</code></a></td><td><code>Fixed a bug related to the case of directed grapg input.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f398a524a6de4374061c63e9ada4d059742795fb\"><code>f398a52</code></a></td><td><code>Added staticSPQRTree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/476dc90681595994b3af713b18c6796203ca6b7d\"><code>476dc90</code></a></td><td><code>Merge branch 'public/graphs/triconnectivity' of git://trac.sagemath.org/sage into public/graphs/triconnectivity</code></td></tr></table>\n",
    "created_at": "2018-08-06T13:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392794",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ee5fa0f4368c340cd626c845c1152847c68426d"><code>5ee5fa0</code></a></td><td><code>Fixed the bug in split_multiple_edges</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27653f7657d6ff5f0572824b52fe33b52f9661ca"><code>27653f7</code></a></td><td><code>Fixed a minor bug related to multi-graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/443fa84114ac355a7b81f1a7b8bc6ceee2c2771b"><code>443fa84</code></a></td><td><code>Added `assemble_triconnected_components` function.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/737a2af529586d5cfc5156b677a73c3deb0fba22"><code>737a2af</code></a></td><td><code>Formatted output to change vertices/edges to original labels.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9dd2aa7ac6d4951f108aa07fd966cfac88cf8693"><code>9dd2aa7</code></a></td><td><code>Added comments and documentation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b52f8482bbe77aab4116928a9f0e359ddb99fa8a"><code>b52f848</code></a></td><td><code>Bug fix.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d02146d03ca4e8ef1edce0c91077713358e620fb"><code>d02146d</code></a></td><td><code>Deleting edges instead of setting edge_status to removed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/035e2be115e6330db364e916613bb087ecda1638"><code>035e2be</code></a></td><td><code>Fixed a bug related to the case of directed grapg input.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f398a524a6de4374061c63e9ada4d059742795fb"><code>f398a52</code></a></td><td><code>Added staticSPQRTree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/476dc90681595994b3af713b18c6796203ca6b7d"><code>476dc90</code></a></td><td><code>Merge branch 'public/graphs/triconnectivity' of git://trac.sagemath.org/sage into public/graphs/triconnectivity</code></td></tr></table>




---

archive/issue_comments_392795.json:
```json
{
    "body": "Changed commit from **[`e8c9410`](https://github.com/sagemath/sagetrac-mirror/commit/e8c9410f2a5188cf73c83dc9d4119271cb4b2f0f)** to **[`476dc90`](https://github.com/sagemath/sagetrac-mirror/commit/476dc90681595994b3af713b18c6796203ca6b7d)**",
    "created_at": "2018-08-06T13:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392795",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8c9410`](https://github.com/sagemath/sagetrac-mirror/commit/e8c9410f2a5188cf73c83dc9d4119271cb4b2f0f)** to **[`476dc90`](https://github.com/sagemath/sagetrac-mirror/commit/476dc90681595994b3af713b18c6796203ca6b7d)**



---

archive/issue_comments_392796.json:
```json
{
    "body": "Dependencies: **22157**",
    "created_at": "2018-08-06T13:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392796",
    "user": "https://github.com/dcoudert"
}
```

Dependencies: **22157**



---

archive/issue_events_351071.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-08-06T13:28:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351071"
}
```



---

archive/issue_events_351072.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-08-06T13:28:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351072"
}
```



---

archive/issue_comments_392797.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI have added the dependency to #22157.\n\nI will do more test, but so far it's working ;)\n\nWe now have to improve / polish the code with more comments, suitable tests, possible improvements, etc.",
    "created_at": "2018-08-06T13:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392797",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:40" align="right">comment:40</div>

I have added the dependency to #22157.

I will do more test, but so far it's working ;)

We now have to improve / polish the code with more comments, suitable tests, possible improvements, etc.



---

archive/issue_comments_392798.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI don't understand method `staticSPQRTree`. Can you explain it to me ? In particular, why do you need to instructions like `tric.vertex_to_int[originalEdge[0]]` ?",
    "created_at": "2018-08-06T14:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392798",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:41" align="right">comment:41</div>

I don't understand method `staticSPQRTree`. Can you explain it to me ? In particular, why do you need to instructions like `tric.vertex_to_int[originalEdge[0]]` ?



---

archive/issue_comments_392799.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7f3b1f707db6799a4d335b3d0afbc48e080f152\"><code>a7f3b1f</code></a></td><td><code>trac #25598: Merged with 8.4.beta0</code></td></tr></table>\n",
    "created_at": "2018-08-06T14:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392799",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7f3b1f707db6799a4d335b3d0afbc48e080f152"><code>a7f3b1f</code></a></td><td><code>trac #25598: Merged with 8.4.beta0</code></td></tr></table>




---

archive/issue_comments_392800.json:
```json
{
    "body": "Changed commit from **[`476dc90`](https://github.com/sagemath/sagetrac-mirror/commit/476dc90681595994b3af713b18c6796203ca6b7d)** to **[`a7f3b1f`](https://github.com/sagemath/sagetrac-mirror/commit/a7f3b1f707db6799a4d335b3d0afbc48e080f152)**",
    "created_at": "2018-08-06T14:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392800",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`476dc90`](https://github.com/sagemath/sagetrac-mirror/commit/476dc90681595994b3af713b18c6796203ca6b7d)** to **[`a7f3b1f`](https://github.com/sagemath/sagetrac-mirror/commit/a7f3b1f707db6799a4d335b3d0afbc48e080f152)**



---

archive/issue_comments_392801.json:
```json
{
    "body": "Changed dependencies from **22157** to **#22157**",
    "created_at": "2018-08-06T14:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392801",
    "user": "https://github.com/dcoudert"
}
```

Changed dependencies from **22157** to **#22157**



---

archive/issue_comments_392802.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04a8748ce7aebf5f213228bdfb4af4af40b77c4f\"><code>04a8748</code></a></td><td><code>trac #25598: review modifications</code></td></tr></table>\n",
    "created_at": "2018-08-06T16:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392802",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04a8748ce7aebf5f213228bdfb4af4af40b77c4f"><code>04a8748</code></a></td><td><code>trac #25598: review modifications</code></td></tr></table>




---

archive/issue_comments_392803.json:
```json
{
    "body": "Changed commit from **[`a7f3b1f`](https://github.com/sagemath/sagetrac-mirror/commit/a7f3b1f707db6799a4d335b3d0afbc48e080f152)** to **[`04a8748`](https://github.com/sagemath/sagetrac-mirror/commit/04a8748ce7aebf5f213228bdfb4af4af40b77c4f)**",
    "created_at": "2018-08-06T16:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392803",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7f3b1f`](https://github.com/sagemath/sagetrac-mirror/commit/a7f3b1f707db6799a4d335b3d0afbc48e080f152)** to **[`04a8748`](https://github.com/sagemath/sagetrac-mirror/commit/04a8748ce7aebf5f213228bdfb4af4af40b77c4f)**



---

archive/issue_comments_392804.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\n`@`Meghana: In class `LinkedListNode`, why do you need to store a pointer to list linked object ? Is it really useful ? Shouldn't this be done only inside `LinkedList` ?\nAlso, if I'm not mistaken, method `replace` of `LinkedList` is not used. If so we can remove it, or better modify it to avoid storing the pointer to the list in the node.\n\nI have pushed some review modifications.",
    "created_at": "2018-08-06T16:44:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392804",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:45" align="right">comment:45</div>

`@`Meghana: In class `LinkedListNode`, why do you need to store a pointer to list linked object ? Is it really useful ? Shouldn't this be done only inside `LinkedList` ?
Also, if I'm not mistaken, method `replace` of `LinkedList` is not used. If so we can remove it, or better modify it to avoid storing the pointer to the list in the node.

I have pushed some review modifications.



---

archive/issue_comments_392805.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nOne operation that is required in the `path_search` function is to replace an edge with a different edge in the adjacency list of a vertex.\nIn the OGDF code, pointers and linked lists are used. So when we need to replace an edge, *e1 = *e2 will replace the edge without requiring any changes to the `LinkedList` object.\n\nIn python, I used references to try to replicate the same. Hence, I have a `LinkedList` object and each node is a `LinkedListNode`.\nHere, when I replace a node, I have to update the `next` and `prev` pointers accordingly. But if the node to be replaced is the `head` of a `LinkedList` object, updating the `next` and `prev` pointers is not sufficient. The `head` variable of the corresponding linked list contains a reference to the old node, which has to be modified. And the only way to access the `head` variable of the corresponding `LinkedList` is if we have a reference to the `LinkedList` object from the node.\n\nAnd yes, we are not using the `replace` of `LinkedList`. We can remove it. Unless we find some way to avoid storing the pointer to linked list.",
    "created_at": "2018-08-06T17:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392805",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:46" align="right">comment:46</div>

One operation that is required in the `path_search` function is to replace an edge with a different edge in the adjacency list of a vertex.
In the OGDF code, pointers and linked lists are used. So when we need to replace an edge, *e1 = *e2 will replace the edge without requiring any changes to the `LinkedList` object.

In python, I used references to try to replicate the same. Hence, I have a `LinkedList` object and each node is a `LinkedListNode`.
Here, when I replace a node, I have to update the `next` and `prev` pointers accordingly. But if the node to be replaced is the `head` of a `LinkedList` object, updating the `next` and `prev` pointers is not sufficient. The `head` variable of the corresponding linked list contains a reference to the old node, which has to be modified. And the only way to access the `head` variable of the corresponding `LinkedList` is if we have a reference to the `LinkedList` object from the node.

And yes, we are not using the `replace` of `LinkedList`. We can remove it. Unless we find some way to avoid storing the pointer to linked list.



---

archive/issue_comments_392806.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3aca08194df85767dbd1934b199f376059d86b6\"><code>e3aca08</code></a></td><td><code>Updated staticSPQRTree</code></td></tr></table>\n",
    "created_at": "2018-08-06T21:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392806",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3aca08194df85767dbd1934b199f376059d86b6"><code>e3aca08</code></a></td><td><code>Updated staticSPQRTree</code></td></tr></table>




---

archive/issue_comments_392807.json:
```json
{
    "body": "Changed commit from **[`04a8748`](https://github.com/sagemath/sagetrac-mirror/commit/04a8748ce7aebf5f213228bdfb4af4af40b77c4f)** to **[`e3aca08`](https://github.com/sagemath/sagetrac-mirror/commit/e3aca08194df85767dbd1934b199f376059d86b6)**",
    "created_at": "2018-08-06T21:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392807",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`04a8748`](https://github.com/sagemath/sagetrac-mirror/commit/04a8748ce7aebf5f213228bdfb4af4af40b77c4f)** to **[`e3aca08`](https://github.com/sagemath/sagetrac-mirror/commit/e3aca08194df85767dbd1934b199f376059d86b6)**



---

archive/issue_comments_392808.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\ntric.comp_list_new: will have all the edges which are in `G` not in graph_copy. \n\ngraph_copy: will have nodes from 0...n-1 similarly edges. \n\nvertex_to_int: to convert vertices from `G` to graph_copy. \n\n\nAlgo: Connect all the components using virtual edges, one virtual edge will connect two components.\n\n1. Iterate over all the edges of the components and for each component creates a tree vertex.\n2. If any virtual edge and partnerNode is None (i.e first component is not found) store tree vertex in partnerNode.\n3. if any virtual edge and partnerNode is exist (i.e first component is found and current tree vertex is the second component), so add an edge between them.\n\nFor this I need a dictionary(partnerNode) which has all the edges of components, \ninitially, I used graph_copy edges as graph_copy has less number of edges then all the edges combined in components(many duplicated edges).\nbut there is a small issue sometime (1, 2, \"newVEdge\") is there sometime (2, 1, \"newVEdge\") which lead to use try and except, in current commit I removed it by initializing with edges in components.\n\nComing to `tric.vertex_to_int[originalEdge[0]]` as partnerNode has edges from graph_copy(initially) and comp_list_new has edges from `G`, so I needed to convert originalEdge to graph_copy edge using vertex_to_int but in current commit I excluded it.\n\nIs it good to keep the current approach for creating tree with 0..n-1 vertex then relabeling it or create the tree with original labels itself?",
    "created_at": "2018-08-06T21:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392808",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:48" align="right">comment:48</div>

tric.comp_list_new: will have all the edges which are in `G` not in graph_copy. 

graph_copy: will have nodes from 0...n-1 similarly edges. 

vertex_to_int: to convert vertices from `G` to graph_copy. 


Algo: Connect all the components using virtual edges, one virtual edge will connect two components.

1. Iterate over all the edges of the components and for each component creates a tree vertex.
2. If any virtual edge and partnerNode is None (i.e first component is not found) store tree vertex in partnerNode.
3. if any virtual edge and partnerNode is exist (i.e first component is found and current tree vertex is the second component), so add an edge between them.

For this I need a dictionary(partnerNode) which has all the edges of components, 
initially, I used graph_copy edges as graph_copy has less number of edges then all the edges combined in components(many duplicated edges).
but there is a small issue sometime (1, 2, "newVEdge") is there sometime (2, 1, "newVEdge") which lead to use try and except, in current commit I removed it by initializing with edges in components.

Coming to `tric.vertex_to_int[originalEdge[0]]` as partnerNode has edges from graph_copy(initially) and comp_list_new has edges from `G`, so I needed to convert originalEdge to graph_copy edge using vertex_to_int but in current commit I excluded it.

Is it good to keep the current approach for creating tree with 0..n-1 vertex then relabeling it or create the tree with original labels itself?



---

archive/issue_comments_392809.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@meghanamreddy](#comment%3A46):\n> One operation that is required in the `path_search` function is to replace an edge with a different edge in the adjacency list of a vertex.\n> In the OGDF code, pointers and linked lists are used. So when we need to replace an edge, *e1 = *e2 will replace the edge without requiring any changes to the `LinkedList` object.\n\nIn C, instruction like `*e1 = *e2` copy the content of the memory cells pointed by e2 to the memory cells pointed by e2. So, wouldn't it be sufficient to do `self.set_data(node.get_data())` ? Considering the instructions you have right after each calls to `replace`, I think this is exactly what you need, no ?",
    "created_at": "2018-08-07T08:13:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392809",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@meghanamreddy](#comment%3A46):
> One operation that is required in the `path_search` function is to replace an edge with a different edge in the adjacency list of a vertex.
> In the OGDF code, pointers and linked lists are used. So when we need to replace an edge, *e1 = *e2 will replace the edge without requiring any changes to the `LinkedList` object.

In C, instruction like `*e1 = *e2` copy the content of the memory cells pointed by e2 to the memory cells pointed by e2. So, wouldn't it be sufficient to do `self.set_data(node.get_data())` ? Considering the instructions you have right after each calls to `replace`, I think this is exactly what you need, no ?



---

archive/issue_comments_392810.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f16db0518f142c8864be9e762eb43d4b289b9ba7\"><code>f16db05</code></a></td><td><code>trac #25598: review modifications on staticSPQRtree</code></td></tr></table>\n",
    "created_at": "2018-08-07T13:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392810",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f16db0518f142c8864be9e762eb43d4b289b9ba7"><code>f16db05</code></a></td><td><code>trac #25598: review modifications on staticSPQRtree</code></td></tr></table>




---

archive/issue_comments_392811.json:
```json
{
    "body": "Changed commit from **[`e3aca08`](https://github.com/sagemath/sagetrac-mirror/commit/e3aca08194df85767dbd1934b199f376059d86b6)** to **[`f16db05`](https://github.com/sagemath/sagetrac-mirror/commit/f16db0518f142c8864be9e762eb43d4b289b9ba7)**",
    "created_at": "2018-08-07T13:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392811",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e3aca08`](https://github.com/sagemath/sagetrac-mirror/commit/e3aca08194df85767dbd1934b199f376059d86b6)** to **[`f16db05`](https://github.com/sagemath/sagetrac-mirror/commit/f16db0518f142c8864be9e762eb43d4b289b9ba7)**



---

archive/issue_comments_392812.json:
```json
{
    "body": "Changed commit from **[`f16db05`](https://github.com/sagemath/sagetrac-mirror/commit/f16db0518f142c8864be9e762eb43d4b289b9ba7)** to **[`30054df`](https://github.com/sagemath/sagetrac-mirror/commit/30054dfbd5a34febcc73b336a97b97b65fc86647)**",
    "created_at": "2018-08-07T14:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392812",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f16db05`](https://github.com/sagemath/sagetrac-mirror/commit/f16db0518f142c8864be9e762eb43d4b289b9ba7)** to **[`30054df`](https://github.com/sagemath/sagetrac-mirror/commit/30054dfbd5a34febcc73b336a97b97b65fc86647)**



---

archive/issue_comments_392813.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30054dfbd5a34febcc73b336a97b97b65fc86647\"><code>30054df</code></a></td><td><code>Removed `replace` and `list_obj` from `LinkedListNode` and `LinkedList`</code></td></tr></table>\n",
    "created_at": "2018-08-07T14:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392813",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30054dfbd5a34febcc73b336a97b97b65fc86647"><code>30054df</code></a></td><td><code>Removed `replace` and `list_obj` from `LinkedListNode` and `LinkedList`</code></td></tr></table>




---

archive/issue_comments_392814.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\n> In C, instruction like `*e1 = *e2` copy the content of the memory cells pointed by e2 to the memory cells pointed by e2. So, wouldn't it be sufficient to do `self.set_data(node.get_data())` ? Considering the instructions you have right after each calls to `replace`, I think this is exactly what you need, no ?\n\nYes, I am sorry. You are correct. We do not need the pointer to the linked list object. Using `self.set_data(new_edge)` is sufficient. I have updated the code.\n\nWe also have the variable `in_adj` which stores the reference to a node of `LinkedList`. And modifying the data inside a node of a `LinkedList` would modify it in `in_adj` wherever it is present. So I thought we would need to replace the entire node, which is not required. As you said, we only need to replace the data inside the node.",
    "created_at": "2018-08-07T14:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392814",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:52" align="right">comment:52</div>

> In C, instruction like `*e1 = *e2` copy the content of the memory cells pointed by e2 to the memory cells pointed by e2. So, wouldn't it be sufficient to do `self.set_data(node.get_data())` ? Considering the instructions you have right after each calls to `replace`, I think this is exactly what you need, no ?

Yes, I am sorry. You are correct. We do not need the pointer to the linked list object. Using `self.set_data(new_edge)` is sufficient. I have updated the code.

We also have the variable `in_adj` which stores the reference to a node of `LinkedList`. And modifying the data inside a node of a `LinkedList` would modify it in `in_adj` wherever it is present. So I thought we would need to replace the entire node, which is not required. As you said, we only need to replace the data inside the node.



---

archive/issue_comments_392815.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3355a83b0da42e0092eb2917a0de47ccfed9245\"><code>f3355a8</code></a></td><td><code>trac #25598: simplifies initilization</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41c14e84e4e0fd1ca8f8452ad311af5b56e68b55\"><code>41c14e8</code></a></td><td><code>trac #25598: use edge and vertex iteratos</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d441a80a7519720e155fb6231dd73e0b62ebd8b\"><code>3d441a8</code></a></td><td><code>trac #25598: change edge_label_dict to list and rename it</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3444f703a3aeada4cb3172da45e2075fd4e993a\"><code>c3444f7</code></a></td><td><code>trac #25598: better trivial cases</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/982e0773a7d24cc04c2ec867ae930e273e852f25\"><code>982e077</code></a></td><td><code>trac #25598: minor changes in split_multi_egdes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7aa98b62b741ce79b0463f05578945142c6eb2c3\"><code>7aa98b6</code></a></td><td><code>trac #25598: minor changes in dfs1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/685da776c8a621825a76fbd03ca212a8960dfb43\"><code>685da77</code></a></td><td><code>trac #25598: minor changes in build_acceptable_adj_struct</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d8f426e19c2e033a69269faa7eeb76c5a53d40c\"><code>9d8f426</code></a></td><td><code>trac #25598: minor changes</code></td></tr></table>\n",
    "created_at": "2018-08-07T17:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392815",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3355a83b0da42e0092eb2917a0de47ccfed9245"><code>f3355a8</code></a></td><td><code>trac #25598: simplifies initilization</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41c14e84e4e0fd1ca8f8452ad311af5b56e68b55"><code>41c14e8</code></a></td><td><code>trac #25598: use edge and vertex iteratos</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d441a80a7519720e155fb6231dd73e0b62ebd8b"><code>3d441a8</code></a></td><td><code>trac #25598: change edge_label_dict to list and rename it</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3444f703a3aeada4cb3172da45e2075fd4e993a"><code>c3444f7</code></a></td><td><code>trac #25598: better trivial cases</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/982e0773a7d24cc04c2ec867ae930e273e852f25"><code>982e077</code></a></td><td><code>trac #25598: minor changes in split_multi_egdes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7aa98b62b741ce79b0463f05578945142c6eb2c3"><code>7aa98b6</code></a></td><td><code>trac #25598: minor changes in dfs1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/685da776c8a621825a76fbd03ca212a8960dfb43"><code>685da77</code></a></td><td><code>trac #25598: minor changes in build_acceptable_adj_struct</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d8f426e19c2e033a69269faa7eeb76c5a53d40c"><code>9d8f426</code></a></td><td><code>trac #25598: minor changes</code></td></tr></table>




---

archive/issue_comments_392816.json:
```json
{
    "body": "Changed commit from **[`30054df`](https://github.com/sagemath/sagetrac-mirror/commit/30054dfbd5a34febcc73b336a97b97b65fc86647)** to **[`9d8f426`](https://github.com/sagemath/sagetrac-mirror/commit/9d8f426e19c2e033a69269faa7eeb76c5a53d40c)**",
    "created_at": "2018-08-07T17:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`30054df`](https://github.com/sagemath/sagetrac-mirror/commit/30054dfbd5a34febcc73b336a97b97b65fc86647)** to **[`9d8f426`](https://github.com/sagemath/sagetrac-mirror/commit/9d8f426e19c2e033a69269faa7eeb76c5a53d40c)**



---

archive/issue_comments_392817.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI did several improvements / simplifications in the code. More can certainly be done.\n\nYou can try to add more comments in the code in some places. It's not easy to read (and I know you had hard time coding it). It is important for the maintainability of the code.\n\n`@`Meghana: I did some trials to use real pointers for the linked list (with mallocs), but then I have hard time for freeing the memory. I don't know if I will be able to find a smart solution.\n\n`@`both: what about moving the `staticSPQRTree` method inside `Triconnectivity` ? I don't like the idea of accessing internal variables outside the class.\nAlso, I think we should add a parameter `algorithm` to method `spqr_tree` and make this method the unique / favored way to get a SPQR tree. Would you agree ?\n\nI'd like to cythonize parts of the code in order to make it faster and reduce memory consumption. No emergency for that. I'll see if I can do something tomorrow.",
    "created_at": "2018-08-07T17:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392817",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:54" align="right">comment:54</div>

I did several improvements / simplifications in the code. More can certainly be done.

You can try to add more comments in the code in some places. It's not easy to read (and I know you had hard time coding it). It is important for the maintainability of the code.

`@`Meghana: I did some trials to use real pointers for the linked list (with mallocs), but then I have hard time for freeing the memory. I don't know if I will be able to find a smart solution.

`@`both: what about moving the `staticSPQRTree` method inside `Triconnectivity` ? I don't like the idea of accessing internal variables outside the class.
Also, I think we should add a parameter `algorithm` to method `spqr_tree` and make this method the unique / favored way to get a SPQR tree. Would you agree ?

I'd like to cythonize parts of the code in order to make it faster and reduce memory consumption. No emergency for that. I'll see if I can do something tomorrow.



---

archive/issue_comments_392818.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@dcoudert](#comment%3A54):\n> I did several improvements / simplifications in the code. More can certainly be done.\n> \n> You can try to add more comments in the code in some places. It's not easy to read (and I know you had hard time coding it). It is important for the maintainability of the code.\n> \n\nI saw your commits, I will work on adding more comments and improving the code.\n\n> `@`Meghana: I did some trials to use real pointers for the linked list (with mallocs), but then I have hard time for freeing the memory. I don't know if I will be able to find a smart solution.\n> \n\nIn OGDF, all the memory allocated through malloc is being freed up at the end of the `init` function. I am not sure which method you tried, but maybe I can also work on it if you think only freeing the memory is the issue.\n\n> `@`both: what about moving the `staticSPQRTree` method inside `Triconnectivity` ? I don't like the idea of accessing internal variables outside the class.\n> Also, I think we should add a parameter `algorithm` to method `spqr_tree` and make this method the unique / favored way to get a SPQR tree. Would you agree ?\n> \n\nYes, adding a parameter `algorithm` is a good idea, many functions in [SageMath](../wiki/SageMath) have a recommended algorithm. My doubt is how do we return the triconnected components or the SPQR tree. Currently, a call to `Triconnectivity` initializes the class and computes the triconnected components. We could also push `staticSPQRTree` inside `Triconnectivity`. Should we add two more functions like `get_triconnected_components` and `get_spqr_tree`? Then a call to the algorithm would be as\n\n```\nG = Graph()\nG.add_edges()\ntric = Triconnectivity(G)\ncomponents = tric.get_triconnected_components()\ntree = tric.get_spqr_tree()\n```\n\nAlso, in this case, we should probably name the `Triconnectivity` class appropriately to reflect SPQR tree functionality.\n> I'd like to cythonize parts of the code in order to make it faster and reduce memory consumption. No emergency for that. I'll see if I can do something tomorrow.\n\nOkay, we can try to cythonize some parts and do the remaining after GSOC period ends. Before the GSOC deadline, we could try to ensure the python code is as good as possible.",
    "created_at": "2018-08-07T18:28:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392818",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@dcoudert](#comment%3A54):
> I did several improvements / simplifications in the code. More can certainly be done.
> 
> You can try to add more comments in the code in some places. It's not easy to read (and I know you had hard time coding it). It is important for the maintainability of the code.
> 

I saw your commits, I will work on adding more comments and improving the code.

> `@`Meghana: I did some trials to use real pointers for the linked list (with mallocs), but then I have hard time for freeing the memory. I don't know if I will be able to find a smart solution.
> 

In OGDF, all the memory allocated through malloc is being freed up at the end of the `init` function. I am not sure which method you tried, but maybe I can also work on it if you think only freeing the memory is the issue.

> `@`both: what about moving the `staticSPQRTree` method inside `Triconnectivity` ? I don't like the idea of accessing internal variables outside the class.
> Also, I think we should add a parameter `algorithm` to method `spqr_tree` and make this method the unique / favored way to get a SPQR tree. Would you agree ?
> 

Yes, adding a parameter `algorithm` is a good idea, many functions in [SageMath](../wiki/SageMath) have a recommended algorithm. My doubt is how do we return the triconnected components or the SPQR tree. Currently, a call to `Triconnectivity` initializes the class and computes the triconnected components. We could also push `staticSPQRTree` inside `Triconnectivity`. Should we add two more functions like `get_triconnected_components` and `get_spqr_tree`? Then a call to the algorithm would be as

```
G = Graph()
G.add_edges()
tric = Triconnectivity(G)
components = tric.get_triconnected_components()
tree = tric.get_spqr_tree()
```

Also, in this case, we should probably name the `Triconnectivity` class appropriately to reflect SPQR tree functionality.
> I'd like to cythonize parts of the code in order to make it faster and reduce memory consumption. No emergency for that. I'll see if I can do something tomorrow.

Okay, we can try to cythonize some parts and do the remaining after GSOC period ends. Before the GSOC deadline, we could try to ensure the python code is as good as possible.



---

archive/issue_comments_392819.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\n> In OGDF, all the memory allocated through malloc is being freed up at the end of the `init` function. I am not sure which method you tried, but maybe I can also work on it if you think only freeing the memory is the issue.\n\nFor all arrays used in th class, it's quite easy to do. The main issue is if we try to use pointers inside `LinkedList`. How to trac all `LinkedListNode`s and ensure we properly free them in the end.\n \n> Also, in this case, we should probably name the `Triconnectivity` class appropriately to reflect SPQR tree functionality.\n\nExactly.\n\n> > I'd like to cythonize parts of the code in order to make it faster and reduce memory consumption. No emergency for that. I'll see if I can do something tomorrow.\n> \n> \n> Okay, we can try to cythonize some parts and do the remaining after GSOC period ends. Before the GSOC deadline, we could try to ensure the python code is as good as possible.\n\nYou are right. The most important is to improve/secure the Python version for the GSoC period.",
    "created_at": "2018-08-07T19:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392819",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:56" align="right">comment:56</div>

> In OGDF, all the memory allocated through malloc is being freed up at the end of the `init` function. I am not sure which method you tried, but maybe I can also work on it if you think only freeing the memory is the issue.

For all arrays used in th class, it's quite easy to do. The main issue is if we try to use pointers inside `LinkedList`. How to trac all `LinkedListNode`s and ensure we properly free them in the end.
 
> Also, in this case, we should probably name the `Triconnectivity` class appropriately to reflect SPQR tree functionality.

Exactly.

> > I'd like to cythonize parts of the code in order to make it faster and reduce memory consumption. No emergency for that. I'll see if I can do something tomorrow.
> 
> 
> Okay, we can try to cythonize some parts and do the remaining after GSOC period ends. Before the GSOC deadline, we could try to ensure the python code is as good as possible.

You are right. The most important is to improve/secure the Python version for the GSoC period.



---

archive/issue_comments_392820.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\n~~Question: I have a doubt with the usage of method `__high` that returns either 0 or `get_data` (so I assume an edge (tuple)). Then we have tests like `self.__high(v) > self.t_stack_h[self.t_stack_top]` or `self.__high(self.node_at[self.lowpt1[w]]) < vnum`. Can you explain me the logic behind ?~~\nMy fault. The values in `highpt` are only integers, so it's ok.",
    "created_at": "2018-08-08T08:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392820",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:57" align="right">comment:57</div>

~~Question: I have a doubt with the usage of method `__high` that returns either 0 or `get_data` (so I assume an edge (tuple)). Then we have tests like `self.__high(v) > self.t_stack_h[self.t_stack_top]` or `self.__high(self.node_at[self.lowpt1[w]]) < vnum`. Can you explain me the logic behind ?~~
My fault. The values in `highpt` are only integers, so it's ok.



---

archive/issue_comments_392821.json:
```json
{
    "body": "Changed commit from **[`9d8f426`](https://github.com/sagemath/sagetrac-mirror/commit/9d8f426e19c2e033a69269faa7eeb76c5a53d40c)** to **[`7ef3ead`](https://github.com/sagemath/sagetrac-mirror/commit/7ef3eadb65b0ef9c2132958159823a49cb3b49f4)**",
    "created_at": "2018-08-08T16:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392821",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9d8f426`](https://github.com/sagemath/sagetrac-mirror/commit/9d8f426e19c2e033a69269faa7eeb76c5a53d40c)** to **[`7ef3ead`](https://github.com/sagemath/sagetrac-mirror/commit/7ef3eadb65b0ef9c2132958159823a49cb3b49f4)**



---

archive/issue_comments_392822.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ef3eadb65b0ef9c2132958159823a49cb3b49f4\"><code>7ef3ead</code></a></td><td><code>Moved `staticSPQRtree` to connectivity, added `algorithm` parameter in `spqr_tree`.</code></td></tr></table>\n",
    "created_at": "2018-08-08T16:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392822",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ef3eadb65b0ef9c2132958159823a49cb3b49f4"><code>7ef3ead</code></a></td><td><code>Moved `staticSPQRtree` to connectivity, added `algorithm` parameter in `spqr_tree`.</code></td></tr></table>




---

archive/issue_comments_392823.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nUntil we decide on the class name, I named it `TriconnectivitySPQR`. \nAlso, what would we call the algorithm of `spqr_tree` which uses the `cleave` method? For how I have referred to it as `cleave` in the description of `spqr_tree`.\n\nI have moved the examples of `staticSPQRtree` to the function `get_spqr_tree` since this will be the function through which it will be accessed? Is that okay? In this case, we can also move the examples of `TriconnectivitySPQR` class to `get_triconnected_components`.",
    "created_at": "2018-08-08T17:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392823",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:59" align="right">comment:59</div>

Until we decide on the class name, I named it `TriconnectivitySPQR`. 
Also, what would we call the algorithm of `spqr_tree` which uses the `cleave` method? For how I have referred to it as `cleave` in the description of `spqr_tree`.

I have moved the examples of `staticSPQRtree` to the function `get_spqr_tree` since this will be the function through which it will be accessed? Is that okay? In this case, we can also move the examples of `TriconnectivitySPQR` class to `get_triconnected_components`.



---

archive/issue_comments_392824.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nFor example [Hopcroft1973]_, #25598 failed as `spqrtree_to_graph` is adding multi edge between (3, 1), it should not add as (3, 1) edge in H as it's a virtual edge. \n`spqrtree_to_graph` will remove (3, 1) edge only if there is a bond containing (3, 1), which couldn't be possible as (3, 1) does not belong to graph G.\n\n```\nsage: G = Graph()\nsage: G = Graph()\nsage: G.add_edges([(1,2),(1,4),(1,8),(1,12),(1,13),(2,3),(2,13),(3,4)])\nsage: G.add_edges([(3,13),(4,5),(4,7),(5,6),(5,7),(5,8),(6,7),(8,9),(8,11)])\nsage: G.add_edges([(8,12),(9,10),(9,11),(9,12),(10,11),(10,12)])\nsage: tree = staticSPQRTree(G)\nsage: H = spqr_tree_to_graph(tree)\nsage: G.is_isomorphic(H)\nFalse\nsage: tric = Triconnectivity(G)\nsage: tric.print_triconnected_components()\nTriconnected:  [(8, 9, None), (9, 10, None), (10, 11, None), (9, 11, None), (8, 11, None), (10, 12, None), (9, 12, None), (8, 12, 'newVEdge0')]\nBond:  [(8, 12, None), (8, 12, 'newVEdge0'), (8, 12, 'newVEdge1')]\nPolygon:  [(8, 12, 'newVEdge1'), (1, 12, None), (8, 1, 'newVEdge2')]\nBond:  [(1, 8, None), (8, 1, 'newVEdge2'), (8, 1, 'newVEdge3')]\nPolygon:  [(5, 8, None), (8, 1, 'newVEdge3'), (4, 5, 'newVEdge8'), (4, 1, 'newVEdge9')]\nPolygon:  [(5, 6, None), (6, 7, None), (5, 7, 'newVEdge5')]\nBond:  [(5, 7, None), (5, 7, 'newVEdge5'), (5, 7, 'newVEdge6')]\nPolygon:  [(5, 7, 'newVEdge6'), (4, 7, None), (5, 4, 'newVEdge7')]\nBond:  [(5, 4, 'newVEdge7'), (4, 5, 'newVEdge8'), (4, 5, None)]\nBond:  [(1, 4, None), (4, 1, 'newVEdge9'), (4, 1, 'newVEdge10')]\nPolygon:  [(3, 4, None), (4, 1, 'newVEdge10'), (3, 1, 'newVEdge11')]\nTriconnected:  [(1, 2, None), (2, 3, None), (3, 1, 'newVEdge11'), (3, 13, None), (2, 13, None), (1, 13, None)]\n```\n\nPlease see last two printed lines where one polygon and Triconnected component share same virtual edge. \n\nOutput of OGDF and `tric.print_triconnected_components()` are same.\nIn #22157 spqr_tree code is generating a bond with (3, 1) so G.is_isomorphic(H) is True.\nSimilar case in [Gut2001]_.",
    "created_at": "2018-08-08T17:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392824",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:60" align="right">comment:60</div>

For example [Hopcroft1973]_, #25598 failed as `spqrtree_to_graph` is adding multi edge between (3, 1), it should not add as (3, 1) edge in H as it's a virtual edge. 
`spqrtree_to_graph` will remove (3, 1) edge only if there is a bond containing (3, 1), which couldn't be possible as (3, 1) does not belong to graph G.

```
sage: G = Graph()
sage: G = Graph()
sage: G.add_edges([(1,2),(1,4),(1,8),(1,12),(1,13),(2,3),(2,13),(3,4)])
sage: G.add_edges([(3,13),(4,5),(4,7),(5,6),(5,7),(5,8),(6,7),(8,9),(8,11)])
sage: G.add_edges([(8,12),(9,10),(9,11),(9,12),(10,11),(10,12)])
sage: tree = staticSPQRTree(G)
sage: H = spqr_tree_to_graph(tree)
sage: G.is_isomorphic(H)
False
sage: tric = Triconnectivity(G)
sage: tric.print_triconnected_components()
Triconnected:  [(8, 9, None), (9, 10, None), (10, 11, None), (9, 11, None), (8, 11, None), (10, 12, None), (9, 12, None), (8, 12, 'newVEdge0')]
Bond:  [(8, 12, None), (8, 12, 'newVEdge0'), (8, 12, 'newVEdge1')]
Polygon:  [(8, 12, 'newVEdge1'), (1, 12, None), (8, 1, 'newVEdge2')]
Bond:  [(1, 8, None), (8, 1, 'newVEdge2'), (8, 1, 'newVEdge3')]
Polygon:  [(5, 8, None), (8, 1, 'newVEdge3'), (4, 5, 'newVEdge8'), (4, 1, 'newVEdge9')]
Polygon:  [(5, 6, None), (6, 7, None), (5, 7, 'newVEdge5')]
Bond:  [(5, 7, None), (5, 7, 'newVEdge5'), (5, 7, 'newVEdge6')]
Polygon:  [(5, 7, 'newVEdge6'), (4, 7, None), (5, 4, 'newVEdge7')]
Bond:  [(5, 4, 'newVEdge7'), (4, 5, 'newVEdge8'), (4, 5, None)]
Bond:  [(1, 4, None), (4, 1, 'newVEdge9'), (4, 1, 'newVEdge10')]
Polygon:  [(3, 4, None), (4, 1, 'newVEdge10'), (3, 1, 'newVEdge11')]
Triconnected:  [(1, 2, None), (2, 3, None), (3, 1, 'newVEdge11'), (3, 13, None), (2, 13, None), (1, 13, None)]
```

Please see last two printed lines where one polygon and Triconnected component share same virtual edge. 

Output of OGDF and `tric.print_triconnected_components()` are same.
In #22157 spqr_tree code is generating a bond with (3, 1) so G.is_isomorphic(H) is True.
Similar case in [Gut2001]_.



---

archive/issue_comments_392825.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@sagetrac-saiharsh](#comment%3A60):\n> For example [Hopcroft1973]_, #25598 failed as `spqrtree_to_graph` ...\n\nIn fact, we are missing the `Bond: [(3, 1, 'newVEdge11'), (3, 1, 'newVEdge11')]`. \n\nCan you check when this virtual edge is added and see why the bond is not added ?",
    "created_at": "2018-08-08T18:44:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392825",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@sagetrac-saiharsh](#comment%3A60):
> For example [Hopcroft1973]_, #25598 failed as `spqrtree_to_graph` ...

In fact, we are missing the `Bond: [(3, 1, 'newVEdge11'), (3, 1, 'newVEdge11')]`. 

Can you check when this virtual edge is added and see why the bond is not added ?



---

archive/issue_comments_392826.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@meghanamreddy](#comment%3A59):\n> Until we decide on the class name, I named it `TriconnectivitySPQR`.\n\nOK\n\n> Also, what would we call the algorithm of `spqr_tree` which uses the `cleave` method? For how I have referred to it as `cleave` in the description of `spqr_tree`.\n\nI agree\n\n> I have moved the examples of `staticSPQRtree` to the function `get_spqr_tree` since this will be the function through which it will be accessed? Is that okay? \n\nYes, but you should also move the code of `__staticSPQRTree(self)` inside this method.\n\n>In this case, we can also move the examples of `TriconnectivitySPQR` class to `get_triconnected_components`.\n\nNo, it's good to have class examples. It ease the understanding of what a class can do / is used for, without having to check all methods.",
    "created_at": "2018-08-08T18:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392826",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@meghanamreddy](#comment%3A59):
> Until we decide on the class name, I named it `TriconnectivitySPQR`.

OK

> Also, what would we call the algorithm of `spqr_tree` which uses the `cleave` method? For how I have referred to it as `cleave` in the description of `spqr_tree`.

I agree

> I have moved the examples of `staticSPQRtree` to the function `get_spqr_tree` since this will be the function through which it will be accessed? Is that okay? 

Yes, but you should also move the code of `__staticSPQRTree(self)` inside this method.

>In this case, we can also move the examples of `TriconnectivitySPQR` class to `get_triconnected_components`.

No, it's good to have class examples. It ease the understanding of what a class can do / is used for, without having to check all methods.



---

archive/issue_comments_392827.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@dcoudert](#comment%3A61):\n> In fact, we are missing the `Bond: [(3, 1, 'newVEdge11'), (3, 1, 'newVEdge11')]`. \n> Can you check when this virtual edge is added and see why the bond is not added ?\n\nI feel a bond is created if there exists a real edge followed by virtual edges, i.e \nwe are expecting a bond like `Bond: [(3, 1, 'None'), (3, 1, 'newVEdge11')]` but it's not possible as (1, 3) edge is not available in `G`.\n\nOGDF returns 5 bonds and each 5 bonds has one real edge.\nCorrect me if I am wrong. \n",
    "created_at": "2018-08-08T19:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392827",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@dcoudert](#comment%3A61):
> In fact, we are missing the `Bond: [(3, 1, 'newVEdge11'), (3, 1, 'newVEdge11')]`. 
> Can you check when this virtual edge is added and see why the bond is not added ?

I feel a bond is created if there exists a real edge followed by virtual edges, i.e 
we are expecting a bond like `Bond: [(3, 1, 'None'), (3, 1, 'newVEdge11')]` but it's not possible as (1, 3) edge is not available in `G`.

OGDF returns 5 bonds and each 5 bonds has one real edge.
Correct me if I am wrong. 




---

archive/issue_comments_392828.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nThe `spqr_tree` method using `cleave` returns 6 bonds and I think it is what we should expect. A bond is created for each 2-cut that is in the solution, even if it has no edge.",
    "created_at": "2018-08-08T19:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392828",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:64" align="right">comment:64</div>

The `spqr_tree` method using `cleave` returns 6 bonds and I think it is what we should expect. A bond is created for each 2-cut that is in the solution, even if it has no edge.



---

archive/issue_comments_392829.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nReplying to [@dcoudert](#comment%3A64):\n> The `spqr_tree` method using `cleave` returns 6 bonds and I think it is what we should expect. A bond is created for each 2-cut that is in the solution, even if it has no edge.\n\nAfter second thought, I think you are right, we should correct methods `spqr_tree` and method `spqr_tree_to_graph`. Any idea on how to do that ?",
    "created_at": "2018-08-08T21:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392829",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:65" align="right">comment:65</div>

Replying to [@dcoudert](#comment%3A64):
> The `spqr_tree` method using `cleave` returns 6 bonds and I think it is what we should expect. A bond is created for each 2-cut that is in the solution, even if it has no edge.

After second thought, I think you are right, we should correct methods `spqr_tree` and method `spqr_tree_to_graph`. Any idea on how to do that ?



---

archive/issue_comments_392830.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c88a35a669e6dcd25ab99b84e70f9ceaa408782\"><code>5c88a35</code></a></td><td><code>trac #25598: correction of method spqr_tree_to_graph</code></td></tr></table>\n",
    "created_at": "2018-08-09T08:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392830",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c88a35a669e6dcd25ab99b84e70f9ceaa408782"><code>5c88a35</code></a></td><td><code>trac #25598: correction of method spqr_tree_to_graph</code></td></tr></table>




---

archive/issue_comments_392831.json:
```json
{
    "body": "Changed commit from **[`7ef3ead`](https://github.com/sagemath/sagetrac-mirror/commit/7ef3eadb65b0ef9c2132958159823a49cb3b49f4)** to **[`5c88a35`](https://github.com/sagemath/sagetrac-mirror/commit/5c88a35a669e6dcd25ab99b84e70f9ceaa408782)**",
    "created_at": "2018-08-09T08:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392831",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7ef3ead`](https://github.com/sagemath/sagetrac-mirror/commit/7ef3eadb65b0ef9c2132958159823a49cb3b49f4)** to **[`5c88a35`](https://github.com/sagemath/sagetrac-mirror/commit/5c88a35a669e6dcd25ab99b84e70f9ceaa408782)**



---

archive/issue_comments_392832.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nI found a way to fix `spqr_tree_to_graph`. It suffices to count separately the number of occurrence of edges in S or R blocks and in P blocks. As multiedges are necessarily in P blocks, if an edges is 2 times in S or R blocks but not in a P block, it is a virtual edge separating 2 blocks and it is not in the original graph. If the virtual edge separates 3 blocks, then the algorithms creates a P block.\n\nNote that the `abs` in `num = abs(count_P[e] - count_G[e])` is not needed. In fact, we could raise an error if `count_P[e] - count_G[e] < 0` in this case...\n\nI will try to find a fix for the `spqr_tree` with `cleave` algorithm. A simple one is to remove P-blocks with only 2 edges before the construction of the spqr tree.\n\nQuestion: is it really useful to let the `'newVEdge11'` labels ?",
    "created_at": "2018-08-09T09:01:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392832",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:67" align="right">comment:67</div>

I found a way to fix `spqr_tree_to_graph`. It suffices to count separately the number of occurrence of edges in S or R blocks and in P blocks. As multiedges are necessarily in P blocks, if an edges is 2 times in S or R blocks but not in a P block, it is a virtual edge separating 2 blocks and it is not in the original graph. If the virtual edge separates 3 blocks, then the algorithms creates a P block.

Note that the `abs` in `num = abs(count_P[e] - count_G[e])` is not needed. In fact, we could raise an error if `count_P[e] - count_G[e] < 0` in this case...

I will try to find a fix for the `spqr_tree` with `cleave` algorithm. A simple one is to remove P-blocks with only 2 edges before the construction of the spqr tree.

Question: is it really useful to let the `'newVEdge11'` labels ?



---

archive/issue_comments_392833.json:
```json
{
    "body": "<div id=\"comment:68\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/febf420ffe539e79d9b792e06a2fe9c4a0727c6a\"><code>febf420</code></a></td><td><code>trac #25598: fix spqr_tree and spqr_tree_to_graph</code></td></tr></table>\n",
    "created_at": "2018-08-09T10:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392833",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:68"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/febf420ffe539e79d9b792e06a2fe9c4a0727c6a"><code>febf420</code></a></td><td><code>trac #25598: fix spqr_tree and spqr_tree_to_graph</code></td></tr></table>




---

archive/issue_comments_392834.json:
```json
{
    "body": "Changed commit from **[`5c88a35`](https://github.com/sagemath/sagetrac-mirror/commit/5c88a35a669e6dcd25ab99b84e70f9ceaa408782)** to **[`febf420`](https://github.com/sagemath/sagetrac-mirror/commit/febf420ffe539e79d9b792e06a2fe9c4a0727c6a)**",
    "created_at": "2018-08-09T10:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392834",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5c88a35`](https://github.com/sagemath/sagetrac-mirror/commit/5c88a35a669e6dcd25ab99b84e70f9ceaa408782)** to **[`febf420`](https://github.com/sagemath/sagetrac-mirror/commit/febf420ffe539e79d9b792e06a2fe9c4a0727c6a)**



---

archive/issue_comments_392835.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nIf found a simple way to fix the `spqr_tree + cleave` method: remove P blocks with only 2 edges and add an edge between neighbors.\n\nI have fixed `spqr_tree_to_graph`. It was missing some edges that are only in P blocks. Note that the example of Sai Harsh is the one with `G = Graph('LlCG{O@?GBoMw?')` (vertex relabels  to start from 0).\n\nPlease do more tests.",
    "created_at": "2018-08-09T10:23:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392835",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:69" align="right">comment:69</div>

If found a simple way to fix the `spqr_tree + cleave` method: remove P blocks with only 2 edges and add an edge between neighbors.

I have fixed `spqr_tree_to_graph`. It was missing some edges that are only in P blocks. Note that the example of Sai Harsh is the one with `G = Graph('LlCG{O@?GBoMw?')` (vertex relabels  to start from 0).

Please do more tests.



---

archive/issue_comments_392836.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\n`@`SaiHarsh: with the 2 following graphs, the `spqr_tree + cleave` method falls into the case that should never happen (raising error \"something goes wrong\").\n\n```\nsage: G = Graph('IZSsJ@C_O')\nsage: G = Graph('K\\\\LPcCIAS_D?')\n```\nPlease check.",
    "created_at": "2018-08-09T15:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392836",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:70" align="right">comment:70</div>

`@`SaiHarsh: with the 2 following graphs, the `spqr_tree + cleave` method falls into the case that should never happen (raising error "something goes wrong").

```
sage: G = Graph('IZSsJ@C_O')
sage: G = Graph('K\\LPcCIAS_D?')
```
Please check.



---

archive/issue_comments_392837.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@dcoudert](#comment%3A70):\n> `@`SaiHarsh: with the 2 following graphs, the `spqr_tree + cleave` method falls into the case that should never happen (raising error \"something goes wrong\").\n> \n> ```\n> sage: G = Graph('IZSsJ@C_O')\n> sage: G = Graph('K\\\\LPcCIAS_D?')\n> ```\n> Please check.\n\nYes, I will but from morning make failed twice, trying to get successful build now.\nI hope I will get it by tomorrow morning. Reply as soon as possible.\n\n(raising error \"something goes wrong\") -> it happened means there is a block with no cycle and multiedge, it could be a path, yet to see.",
    "created_at": "2018-08-09T15:43:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392837",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@dcoudert](#comment%3A70):
> `@`SaiHarsh: with the 2 following graphs, the `spqr_tree + cleave` method falls into the case that should never happen (raising error "something goes wrong").
> 
> ```
> sage: G = Graph('IZSsJ@C_O')
> sage: G = Graph('K\\LPcCIAS_D?')
> ```
> Please check.

Yes, I will but from morning make failed twice, trying to get successful build now.
I hope I will get it by tomorrow morning. Reply as soon as possible.

(raising error "something goes wrong") -> it happened means there is a block with no cycle and multiedge, it could be a path, yet to see.



---

archive/issue_comments_392838.json:
```json
{
    "body": "<div id=\"comment:72\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/695a1d5cca97edd13cbab592356b6db7a9869f5b\"><code>695a1d5</code></a></td><td><code>Moved `spqrtree` function to one place.</code></td></tr></table>\n",
    "created_at": "2018-08-09T18:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392838",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:72"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/695a1d5cca97edd13cbab592356b6db7a9869f5b"><code>695a1d5</code></a></td><td><code>Moved `spqrtree` function to one place.</code></td></tr></table>




---

archive/issue_comments_392839.json:
```json
{
    "body": "Changed commit from **[`febf420`](https://github.com/sagemath/sagetrac-mirror/commit/febf420ffe539e79d9b792e06a2fe9c4a0727c6a)** to **[`695a1d5`](https://github.com/sagemath/sagetrac-mirror/commit/695a1d5cca97edd13cbab592356b6db7a9869f5b)**",
    "created_at": "2018-08-09T18:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392839",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`febf420`](https://github.com/sagemath/sagetrac-mirror/commit/febf420ffe539e79d9b792e06a2fe9c4a0727c6a)** to **[`695a1d5`](https://github.com/sagemath/sagetrac-mirror/commit/695a1d5cca97edd13cbab592356b6db7a9869f5b)**



---

archive/issue_comments_392840.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nReplying to [@dcoudert](#comment%3A70):\n> `@`SaiHarsh: with the 2 following graphs, the `spqr_tree + cleave` method falls into the case that should never happen (raising error \"something goes wrong\").\n> \n> ```\n> sage: G = Graph('IZSsJ@C_O')\n> sage: G = Graph('K\\\\LPcCIAS_D?')\n> ```\n> Please check.\n\nIt seems to be working fine on my laptop. I ran `cleave` and `spqr_tree` and then also checked if `G.is_isomorphic(spqr_tree_to_graph(Tree))`. The output was `True` for both the graphs.",
    "created_at": "2018-08-09T18:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392840",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:73" align="right">comment:73</div>

Replying to [@dcoudert](#comment%3A70):
> `@`SaiHarsh: with the 2 following graphs, the `spqr_tree + cleave` method falls into the case that should never happen (raising error "something goes wrong").
> 
> ```
> sage: G = Graph('IZSsJ@C_O')
> sage: G = Graph('K\\LPcCIAS_D?')
> ```
> Please check.

It seems to be working fine on my laptop. I ran `cleave` and `spqr_tree` and then also checked if `G.is_isomorphic(spqr_tree_to_graph(Tree))`. The output was `True` for both the graphs.



---

archive/issue_comments_392841.json:
```json
{
    "body": "Changed commit from **[`695a1d5`](https://github.com/sagemath/sagetrac-mirror/commit/695a1d5cca97edd13cbab592356b6db7a9869f5b)** to **[`06e67b0`](https://github.com/sagemath/sagetrac-mirror/commit/06e67b020870f2c15a7b33a6d1755abb4f2eca06)**",
    "created_at": "2018-08-10T08:25:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392841",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`695a1d5`](https://github.com/sagemath/sagetrac-mirror/commit/695a1d5cca97edd13cbab592356b6db7a9869f5b)** to **[`06e67b0`](https://github.com/sagemath/sagetrac-mirror/commit/06e67b020870f2c15a7b33a6d1755abb4f2eca06)**



---

archive/issue_comments_392842.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b30d48f8f4680df9c8061af0f156a4c96e9711b\"><code>1b30d48</code></a></td><td><code>trac #25598: add parameters solver and verbose for LP solvers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06e67b020870f2c15a7b33a6d1755abb4f2eca06\"><code>06e67b0</code></a></td><td><code>trac #25598: case of cycles sharing a vertex</code></td></tr></table>\n",
    "created_at": "2018-08-10T08:25:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392842",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b30d48f8f4680df9c8061af0f156a4c96e9711b"><code>1b30d48</code></a></td><td><code>trac #25598: add parameters solver and verbose for LP solvers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06e67b020870f2c15a7b33a6d1755abb4f2eca06"><code>06e67b0</code></a></td><td><code>trac #25598: case of cycles sharing a vertex</code></td></tr></table>




---

archive/issue_comments_392843.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nI have added parameters solver and verbose that can be passed to `vertex_connectivity`.\n\nI have also changed the way the cocycles graph is decomposed as some cycles may share a vertex. So a decomposition into biconnected components seems better. Correct me if I'm wrong. With this modification, the small graphs can be solved on my computer.\n\nHowever, I have issue with this one. Can you try ? \n\n```\nsage: G = Graph(']\\\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')\nsage: T = spqr_tree(G, algorithm='cleave')\n```",
    "created_at": "2018-08-10T08:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392843",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:75" align="right">comment:75</div>

I have added parameters solver and verbose that can be passed to `vertex_connectivity`.

I have also changed the way the cocycles graph is decomposed as some cycles may share a vertex. So a decomposition into biconnected components seems better. Correct me if I'm wrong. With this modification, the small graphs can be solved on my computer.

However, I have issue with this one. Can you try ? 

```
sage: G = Graph(']\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')
sage: T = spqr_tree(G, algorithm='cleave')
```



---

archive/issue_comments_392844.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\n> However, I have issue with this one. Can you try ? \n> \n> ```\n> sage: G = Graph(']\\\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')\n> sage: T = spqr_tree(G, algorithm='cleave')\n> ```\n\nThis gives me the \"Something goes wrong error\"\n\n```\nTraceback (click to the left of this block for traceback)\n...\nValueError: something goes wrong\n```",
    "created_at": "2018-08-10T12:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392844",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:76" align="right">comment:76</div>

> However, I have issue with this one. Can you try ? 
> 
> ```
> sage: G = Graph(']\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')
> sage: T = spqr_tree(G, algorithm='cleave')
> ```

This gives me the "Something goes wrong error"

```
Traceback (click to the left of this block for traceback)
...
ValueError: something goes wrong
```



---

archive/issue_comments_392845.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nMy bad, I forgot to add the parameter `algorithm` yesterday on the other two examples. These two graphs -\n\n```\nsage: G = Graph('IZSsJ@C_O')\nsage: G = Graph('K\\\\LPcCIAS_D?')\n```\nAlso give me the error `something goes wrong`.",
    "created_at": "2018-08-10T14:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392845",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:77" align="right">comment:77</div>

My bad, I forgot to add the parameter `algorithm` yesterday on the other two examples. These two graphs -

```
sage: G = Graph('IZSsJ@C_O')
sage: G = Graph('K\\LPcCIAS_D?')
```
Also give me the error `something goes wrong`.



---

archive/issue_comments_392846.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nYou get the error with the commits of this morning ?",
    "created_at": "2018-08-10T15:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392846",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:78" align="right">comment:78</div>

You get the error with the commits of this morning ?



---

archive/issue_comments_392847.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nMy bad again, I did a `git pull` now. Now the graphs -\n\n```\nsage: G = Graph('IZSsJ@C_O')\nsage: G = Graph('K\\\\LPcCIAS_D?')\n```\ngive no error.\nThe graph \n\n```\nG = Graph(']\\\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')\n```\ngives the `something goes wrong` error.",
    "created_at": "2018-08-10T15:42:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392847",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:79" align="right">comment:79</div>

My bad again, I did a `git pull` now. Now the graphs -

```
sage: G = Graph('IZSsJ@C_O')
sage: G = Graph('K\\LPcCIAS_D?')
```
give no error.
The graph 

```
G = Graph(']\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')
```
gives the `something goes wrong` error.



---

archive/issue_comments_392848.json:
```json
{
    "body": "<div id=\"comment:80\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/400c97dda62ed388066fe0ff7f8db061de66974c\"><code>400c97d</code></a></td><td><code>trac #25598: small correction in cycles_graph edge removal</code></td></tr></table>\n",
    "created_at": "2018-08-10T17:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392848",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:80"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/400c97dda62ed388066fe0ff7f8db061de66974c"><code>400c97d</code></a></td><td><code>trac #25598: small correction in cycles_graph edge removal</code></td></tr></table>




---

archive/issue_comments_392849.json:
```json
{
    "body": "Changed commit from **[`06e67b0`](https://github.com/sagemath/sagetrac-mirror/commit/06e67b020870f2c15a7b33a6d1755abb4f2eca06)** to **[`400c97d`](https://github.com/sagemath/sagetrac-mirror/commit/400c97dda62ed388066fe0ff7f8db061de66974c)**",
    "created_at": "2018-08-10T17:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392849",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`06e67b0`](https://github.com/sagemath/sagetrac-mirror/commit/06e67b020870f2c15a7b33a6d1755abb4f2eca06)** to **[`400c97d`](https://github.com/sagemath/sagetrac-mirror/commit/400c97dda62ed388066fe0ff7f8db061de66974c)**



---

archive/issue_comments_392850.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nReplying to [@dcoudert](#comment%3A75): \n> However, I have issue with this one. Can you try ? \n> \n> ```\n> sage: G = Graph(']\\\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')\n> sage: T = spqr_tree(G, algorithm='cleave')\n> ```\n\nAt last I got a successful build of sage.\nAs mentioned by meghana I also got the same results.\nFor graph \n\n```\nG = Graph(']\\\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')\n```\nIt looks like error is coming when block is an bi-connected component with no multiedges but that error block and R_blocks has three edges common\nthere are \n\n```\n(6, 10, None)\n(6, 19, None)\n(10, 19, None)\n```\nIf we remove these edges from the error block we will get a cycle. \nIs it like we are not deleting less edges? correct me if I am wrong.",
    "created_at": "2018-08-10T17:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392850",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:81" align="right">comment:81</div>

Replying to [@dcoudert](#comment%3A75): 
> However, I have issue with this one. Can you try ? 
> 
> ```
> sage: G = Graph(']\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')
> sage: T = spqr_tree(G, algorithm='cleave')
> ```

At last I got a successful build of sage.
As mentioned by meghana I also got the same results.
For graph 

```
G = Graph(']\\eHS_Q_cCI?GG?aOGCA?Q??AO?O?c??Oa??_A??AC?G??@a???CC???O?G??OA??P?????H??')
```
It looks like error is coming when block is an bi-connected component with no multiedges but that error block and R_blocks has three edges common
there are 

```
(6, 10, None)
(6, 19, None)
(10, 19, None)
```
If we remove these edges from the error block we will get a cycle. 
Is it like we are not deleting less edges? correct me if I am wrong.



---

archive/issue_comments_392851.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nI did a small correction to avoid removing a virtual edge between 2 cycles when the virtual is in a cut with 3 or more components. The result for graph `G = Graph('F^~E?')` was not correct (a `K5` minus edge (0,1) plus 2 paths attachaed).\n\n@sagetrac-saiharsh: yes, when we have an error, the graph is biconnected without multiple edges. Do you know if edges `(6, 10), (6,19), (10, 19)` are virtual or not ?",
    "created_at": "2018-08-10T17:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392851",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:82" align="right">comment:82</div>

I did a small correction to avoid removing a virtual edge between 2 cycles when the virtual is in a cut with 3 or more components. The result for graph `G = Graph('F^~E?')` was not correct (a `K5` minus edge (0,1) plus 2 paths attachaed).

@sagetrac-saiharsh: yes, when we have an error, the graph is biconnected without multiple edges. Do you know if edges `(6, 10), (6,19), (10, 19)` are virtual or not ?



---

archive/issue_comments_392852.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nReplying to [@dcoudert](#comment%3A82):\n> I did a small correction to avoid removing a virtual edge between 2 cycles when the virtual is in a cut with 3 or more components. The result for graph `G = Graph('F^~E?')` was not correct (a `K5` minus edge (0,1) plus 2 paths attachaed).\n> \n> @sagetrac-saiharsh: yes, when we have an error, the graph is biconnected without multiple edges. Do you know if edges `(6, 10), (6,19), (10, 19)` are virtual or not ?\n\nOnly (6, 10) is a real edge, remaining (6,19), (10, 19) are virtual edges.",
    "created_at": "2018-08-10T18:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392852",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:83" align="right">comment:83</div>

Replying to [@dcoudert](#comment%3A82):
> I did a small correction to avoid removing a virtual edge between 2 cycles when the virtual is in a cut with 3 or more components. The result for graph `G = Graph('F^~E?')` was not correct (a `K5` minus edge (0,1) plus 2 paths attachaed).
> 
> @sagetrac-saiharsh: yes, when we have an error, the graph is biconnected without multiple edges. Do you know if edges `(6, 10), (6,19), (10, 19)` are virtual or not ?

Only (6, 10) is a real edge, remaining (6,19), (10, 19) are virtual edges.



---

archive/issue_comments_392853.json:
```json
{
    "body": "<div id=\"comment:84\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04576805c27f838d1f486ad49b66fb05a8f70838\"><code>0457680</code></a></td><td><code>trac #25598: fix manipulation of S_blocks in spqr_tree+cleave</code></td></tr></table>\n",
    "created_at": "2018-08-11T10:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392853",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04576805c27f838d1f486ad49b66fb05a8f70838"><code>0457680</code></a></td><td><code>trac #25598: fix manipulation of S_blocks in spqr_tree+cleave</code></td></tr></table>




---

archive/issue_comments_392854.json:
```json
{
    "body": "Changed commit from **[`400c97d`](https://github.com/sagemath/sagetrac-mirror/commit/400c97dda62ed388066fe0ff7f8db061de66974c)** to **[`0457680`](https://github.com/sagemath/sagetrac-mirror/commit/04576805c27f838d1f486ad49b66fb05a8f70838)**",
    "created_at": "2018-08-11T10:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392854",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`400c97d`](https://github.com/sagemath/sagetrac-mirror/commit/400c97dda62ed388066fe0ff7f8db061de66974c)** to **[`0457680`](https://github.com/sagemath/sagetrac-mirror/commit/04576805c27f838d1f486ad49b66fb05a8f70838)**



---

archive/issue_comments_392855.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nGot it ! Take the graph \n\n```\n    G = Graph()\n    G.add_cycle([6, 13, 10, 27, 19, 26])\n    G.add_edge(6, 10)\n    K = [0, 1, 2, 3]\n    G.add_clique(K)\n    for u in [6, 10, 19]:\n        for v in K:\n            G.add_edge(u, v)\n```\nThe algorithm identifies 3-cycles `[6, 10, 13], [10, 19, 27], [6, 10, 26]`, and the algorithm is right not to identify cycle `[6, 10, 19]` since it is part of a R_block. If you put all edges of these cycles in a same graph, we don't know what to do.\n\nI have changed the way we handle cycles. I should be easier to understand, and more importantly, I think it gives the good result.\n\nPlease check & test.",
    "created_at": "2018-08-11T11:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392855",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:85" align="right">comment:85</div>

Got it ! Take the graph 

```
    G = Graph()
    G.add_cycle([6, 13, 10, 27, 19, 26])
    G.add_edge(6, 10)
    K = [0, 1, 2, 3]
    G.add_clique(K)
    for u in [6, 10, 19]:
        for v in K:
            G.add_edge(u, v)
```
The algorithm identifies 3-cycles `[6, 10, 13], [10, 19, 27], [6, 10, 26]`, and the algorithm is right not to identify cycle `[6, 10, 19]` since it is part of a R_block. If you put all edges of these cycles in a same graph, we don't know what to do.

I have changed the way we handle cycles. I should be easier to understand, and more importantly, I think it gives the good result.

Please check & test.



---

archive/issue_comments_392856.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nReplying to [@dcoudert](#comment%3A85):\n> The algorithm identifies 3-cycles `[6, 10, 13], [10, 19, 27], [6, 10, 26]`, and the algorithm is right not to identify cycle `[6, 10, 19]` since it is part of a R_block. If you put all edges of these cycles in a same graph, we don't know what to do.\n\nYes, you are right.\n> \n> I have changed the way we handle cycles. I should be easier to understand, and more importantly, I think it gives the good result.\n> \n> Please check & test.\n\nYes, it's easier to understand, it fixed the last problem. \n\nI tested on Petersen, RandomTriangulation, paper examples and previous graphs. All are passed. \n\nI will try on more graphs if I found anything I will update you.",
    "created_at": "2018-08-11T12:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392856",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:86" align="right">comment:86</div>

Replying to [@dcoudert](#comment%3A85):
> The algorithm identifies 3-cycles `[6, 10, 13], [10, 19, 27], [6, 10, 26]`, and the algorithm is right not to identify cycle `[6, 10, 19]` since it is part of a R_block. If you put all edges of these cycles in a same graph, we don't know what to do.

Yes, you are right.
> 
> I have changed the way we handle cycles. I should be easier to understand, and more importantly, I think it gives the good result.
> 
> Please check & test.

Yes, it's easier to understand, it fixed the last problem. 

I tested on Petersen, RandomTriangulation, paper examples and previous graphs. All are passed. 

I will try on more graphs if I found anything I will update you.



---

archive/issue_comments_392857.json:
```json
{
    "body": "<div id=\"comment:87\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5030c9d6eba8417dfe36ce54197aa31a3f4c1b8\"><code>a5030c9</code></a></td><td><code>trac #25598: handle Q blocks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8fb124c76c5e708d8129f2cfad0b5dada1dd5a8\"><code>b8fb124</code></a></td><td><code>trac #25598: review modification in examples</code></td></tr></table>\n",
    "created_at": "2018-08-12T09:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392857",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:87"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5030c9d6eba8417dfe36ce54197aa31a3f4c1b8"><code>a5030c9</code></a></td><td><code>trac #25598: handle Q blocks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8fb124c76c5e708d8129f2cfad0b5dada1dd5a8"><code>b8fb124</code></a></td><td><code>trac #25598: review modification in examples</code></td></tr></table>




---

archive/issue_comments_392858.json:
```json
{
    "body": "Changed commit from **[`0457680`](https://github.com/sagemath/sagetrac-mirror/commit/04576805c27f838d1f486ad49b66fb05a8f70838)** to **[`b8fb124`](https://github.com/sagemath/sagetrac-mirror/commit/b8fb124c76c5e708d8129f2cfad0b5dada1dd5a8)**",
    "created_at": "2018-08-12T09:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392858",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0457680`](https://github.com/sagemath/sagetrac-mirror/commit/04576805c27f838d1f486ad49b66fb05a8f70838)** to **[`b8fb124`](https://github.com/sagemath/sagetrac-mirror/commit/b8fb124c76c5e708d8129f2cfad0b5dada1dd5a8)**



---

archive/issue_comments_392859.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nI have added the case of Q blocks in all methods.\n\nIn TriconnectivitySPQR, do we really need methods `get_triconnected_components` and `print_triconnected_components` ? We can of course let them as they are useful for testing methods in the class, but the most important is to return the SPQR tree.\n\nI propose to modify methods so that the `__init__` performs all computations including the construction of the spqr tree, and then the `get_triconnected_components` and `print_triconnected_components` methods just have to consider the nodes of the tree. Do you agree ?",
    "created_at": "2018-08-12T09:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392859",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:88" align="right">comment:88</div>

I have added the case of Q blocks in all methods.

In TriconnectivitySPQR, do we really need methods `get_triconnected_components` and `print_triconnected_components` ? We can of course let them as they are useful for testing methods in the class, but the most important is to return the SPQR tree.

I propose to modify methods so that the `__init__` performs all computations including the construction of the spqr tree, and then the `get_triconnected_components` and `print_triconnected_components` methods just have to consider the nodes of the tree. Do you agree ?



---

archive/issue_comments_392860.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\n> I propose to modify methods so that the `__init__` performs all computations including the construction of the spqr tree, and then the `get_triconnected_components` and `print_triconnected_components` methods just have to consider the nodes of the tree. Do you agree ?\n\nYes, I agree. We should do it. We could make the spqr tree a variable and store it in the `TriconnectivitySPQR` class in the `__init__` function. The functions `get_triconnected_components` and `print_triconnected_components` could use the tree stored in the class. \n\nCurrently, to use this algorithm, two lines of code is required. \n\n```\ntric = TriconnectivitySPQR(G)\ntric.get_spqr_tree()\n```\nMaking the suggested change would not decrease the two lines of code. To an external user, this structural change would not make any difference. But internally, we would have a better design. Do you agree? I will make this change.",
    "created_at": "2018-08-12T10:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392860",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:89" align="right">comment:89</div>

> I propose to modify methods so that the `__init__` performs all computations including the construction of the spqr tree, and then the `get_triconnected_components` and `print_triconnected_components` methods just have to consider the nodes of the tree. Do you agree ?

Yes, I agree. We should do it. We could make the spqr tree a variable and store it in the `TriconnectivitySPQR` class in the `__init__` function. The functions `get_triconnected_components` and `print_triconnected_components` could use the tree stored in the class. 

Currently, to use this algorithm, two lines of code is required. 

```
tric = TriconnectivitySPQR(G)
tric.get_spqr_tree()
```
Making the suggested change would not decrease the two lines of code. To an external user, this structural change would not make any difference. But internally, we would have a better design. Do you agree? I will make this change.



---

archive/issue_comments_392861.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nGo for it !",
    "created_at": "2018-08-12T12:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392861",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:90" align="right">comment:90</div>

Go for it !



---

archive/issue_comments_392862.json:
```json
{
    "body": "Changed commit from **[`b8fb124`](https://github.com/sagemath/sagetrac-mirror/commit/b8fb124c76c5e708d8129f2cfad0b5dada1dd5a8)** to **[`34efb5c`](https://github.com/sagemath/sagetrac-mirror/commit/34efb5c0ba6d92518d71ec3c48ce3c1b0c889e76)**",
    "created_at": "2018-08-12T19:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392862",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b8fb124`](https://github.com/sagemath/sagetrac-mirror/commit/b8fb124c76c5e708d8129f2cfad0b5dada1dd5a8)** to **[`34efb5c`](https://github.com/sagemath/sagetrac-mirror/commit/34efb5c0ba6d92518d71ec3c48ce3c1b0c889e76)**



---

archive/issue_comments_392863.json:
```json
{
    "body": "<div id=\"comment:91\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93daa437094e752623830a73006544f12590502c\"><code>93daa43</code></a></td><td><code>Made the helper classes private.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a59bf8b4401fcc4a18f2b0e15941cf70cbe54f5\"><code>5a59bf8</code></a></td><td><code>Changed some documentation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34efb5c0ba6d92518d71ec3c48ce3c1b0c889e76\"><code>34efb5c</code></a></td><td><code>Moved spqrtree function to init.</code></td></tr></table>\n",
    "created_at": "2018-08-12T19:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392863",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:91"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93daa437094e752623830a73006544f12590502c"><code>93daa43</code></a></td><td><code>Made the helper classes private.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a59bf8b4401fcc4a18f2b0e15941cf70cbe54f5"><code>5a59bf8</code></a></td><td><code>Changed some documentation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34efb5c0ba6d92518d71ec3c48ce3c1b0c889e76"><code>34efb5c</code></a></td><td><code>Moved spqrtree function to init.</code></td></tr></table>




---

archive/issue_comments_392864.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nI moved the spqr construction to the init. However, the doctests are failing due to the following reason.\n\nThe functions `get_triconnected_components` and `print_triconnected_components` use the nodes of the SPQR tree to output the components. Suppose we have two `bond` components, each with the same number of edges. Let the two bond edges be `(1,2)` and (`3,4)`. The corresponding nodes in the SPQR tree will be -\n\n```\n[('P', Multi-graph on 2 vertices),\n ('P', Multi-graph on 2 vertices)]\n```\nThe ordering of these two vertices in the SPQR tree is random since both would be considered as similar vertices. When we access the vertices of the SPQR tree using `for node in self.spqr_tree.vertices()`, we could either get the bond `(1,2)` first or `(3,4)` first. Hence, while constructing the triconnected components from the SPQR tree, there is no fixed ordering of the output components, and thus the doctests will fail.",
    "created_at": "2018-08-12T19:45:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392864",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:92" align="right">comment:92</div>

I moved the spqr construction to the init. However, the doctests are failing due to the following reason.

The functions `get_triconnected_components` and `print_triconnected_components` use the nodes of the SPQR tree to output the components. Suppose we have two `bond` components, each with the same number of edges. Let the two bond edges be `(1,2)` and (`3,4)`. The corresponding nodes in the SPQR tree will be -

```
[('P', Multi-graph on 2 vertices),
 ('P', Multi-graph on 2 vertices)]
```
The ordering of these two vertices in the SPQR tree is random since both would be considered as similar vertices. When we access the vertices of the SPQR tree using `for node in self.spqr_tree.vertices()`, we could either get the bond `(1,2)` first or `(3,4)` first. Hence, while constructing the triconnected components from the SPQR tree, there is no fixed ordering of the output components, and thus the doctests will fail.



---

archive/issue_comments_392865.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nIt does not make sense to force an ordering on the nodes of the SPQR tree.\nWe can let the spqr tree be constructed in `init`, but use `comp_list_new` and `comp_type` to compute the components in the functions `get_triconnected_components` and `print_triconnected_components`, the way we were doing it earlier?",
    "created_at": "2018-08-12T19:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392865",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:93" align="right">comment:93</div>

It does not make sense to force an ordering on the nodes of the SPQR tree.
We can let the spqr tree be constructed in `init`, but use `comp_list_new` and `comp_type` to compute the components in the functions `get_triconnected_components` and `print_triconnected_components`, the way we were doing it earlier?



---

archive/issue_comments_392866.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nAs a SPQR tree is a graph, we can assume an ordering of the vertices. This is a strong requirement for many graph algorithms: there is a unique order of the vertices. So for these methods, you can use a loop over the vertices. You can check that one of  `(1, 2)` or `(3, 4)` will always before the other.",
    "created_at": "2018-08-12T22:26:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392866",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:94" align="right">comment:94</div>

As a SPQR tree is a graph, we can assume an ordering of the vertices. This is a strong requirement for many graph algorithms: there is a unique order of the vertices. So for these methods, you can use a loop over the vertices. You can check that one of  `(1, 2)` or `(3, 4)` will always before the other.



---

archive/issue_comments_392867.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nEven I thought so, but I check the below example\n\n```\nTree = Graph()\nTree.add_vertex(('P', Graph( {1:[0] }, immutable=True, multiedges=True)))\nTree.add_vertex(('P', Graph( {2:[3] }, immutable=True, multiedges=True)))\nTree.vertices()[0][1].edges()\n```\nIn the SPQR tree, the vertices in the tree are ordered by their type - bonds first, then triconnected components and polygons after that. But within the bonds, if two bonds have the same number of vertices (it is printed as `Multi-graph on 2 vertices`), the order of these bonds is not fixed.\n\nIn the example above, I'm printing the edges of the first node of the tree. I ran it 4-5 times. And the output is not fixed. Sometimes it is `[(0, 1, None)]` and sometimes `[(2, 3, None)]`.\n\nIf I print the vertices of the tree with `Tree.vertices()`, the output is `[('P', Multi-graph on 2 vertices), ('P', Multi-graph on 2 vertices)]`.",
    "created_at": "2018-08-13T04:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392867",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:95" align="right">comment:95</div>

Even I thought so, but I check the below example

```
Tree = Graph()
Tree.add_vertex(('P', Graph( {1:[0] }, immutable=True, multiedges=True)))
Tree.add_vertex(('P', Graph( {2:[3] }, immutable=True, multiedges=True)))
Tree.vertices()[0][1].edges()
```
In the SPQR tree, the vertices in the tree are ordered by their type - bonds first, then triconnected components and polygons after that. But within the bonds, if two bonds have the same number of vertices (it is printed as `Multi-graph on 2 vertices`), the order of these bonds is not fixed.

In the example above, I'm printing the edges of the first node of the tree. I ran it 4-5 times. And the output is not fixed. Sometimes it is `[(0, 1, None)]` and sometimes `[(2, 3, None)]`.

If I print the vertices of the tree with `Tree.vertices()`, the output is `[('P', Multi-graph on 2 vertices), ('P', Multi-graph on 2 vertices)]`.



---

archive/issue_comments_392868.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nI was not expecting that. Currently the vertices are sorted (and there is a proposal for deprecating sorting to save time). It explains why we have bonds then polygons then triconnected (`P`, `S`, `R`). I thought that vertices like `('P', Multi-graph on 2 vertices)` had an implicit ordering but I don't know how immutable graphs are hashed...\nSo it's better to use the previous method.",
    "created_at": "2018-08-13T07:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392868",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:96" align="right">comment:96</div>

I was not expecting that. Currently the vertices are sorted (and there is a proposal for deprecating sorting to save time). It explains why we have bonds then polygons then triconnected (`P`, `S`, `R`). I thought that vertices like `('P', Multi-graph on 2 vertices)` had an implicit ordering but I don't know how immutable graphs are hashed...
So it's better to use the previous method.



---

archive/issue_comments_392869.json:
```json
{
    "body": "Changed commit from **[`34efb5c`](https://github.com/sagemath/sagetrac-mirror/commit/34efb5c0ba6d92518d71ec3c48ce3c1b0c889e76)** to **[`ea07a31`](https://github.com/sagemath/sagetrac-mirror/commit/ea07a31104cd12f861af8839a8bc04542e341279)**",
    "created_at": "2018-08-13T18:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392869",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`34efb5c`](https://github.com/sagemath/sagetrac-mirror/commit/34efb5c0ba6d92518d71ec3c48ce3c1b0c889e76)** to **[`ea07a31`](https://github.com/sagemath/sagetrac-mirror/commit/ea07a31104cd12f861af8839a8bc04542e341279)**



---

archive/issue_comments_392870.json:
```json
{
    "body": "<div id=\"comment:97\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea07a31104cd12f861af8839a8bc04542e341279\"><code>ea07a31</code></a></td><td><code>Reverted the changes made to `get/print_connected_components` function.</code></td></tr></table>\n",
    "created_at": "2018-08-13T18:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392870",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:97"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea07a31104cd12f861af8839a8bc04542e341279"><code>ea07a31</code></a></td><td><code>Reverted the changes made to `get/print_connected_components` function.</code></td></tr></table>




---

archive/issue_comments_392871.json:
```json
{
    "body": "<div id=\"comment:98\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4cbcfb124c50067bbbd47dfea3808cd16ad9eb8\"><code>c4cbcfb</code></a></td><td><code>trac #25598: improvement of documentation and tests</code></td></tr></table>\n",
    "created_at": "2018-08-14T10:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392871",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:98"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4cbcfb124c50067bbbd47dfea3808cd16ad9eb8"><code>c4cbcfb</code></a></td><td><code>trac #25598: improvement of documentation and tests</code></td></tr></table>




---

archive/issue_comments_392872.json:
```json
{
    "body": "Changed commit from **[`ea07a31`](https://github.com/sagemath/sagetrac-mirror/commit/ea07a31104cd12f861af8839a8bc04542e341279)** to **[`c4cbcfb`](https://github.com/sagemath/sagetrac-mirror/commit/c4cbcfb124c50067bbbd47dfea3808cd16ad9eb8)**",
    "created_at": "2018-08-14T10:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392872",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ea07a31`](https://github.com/sagemath/sagetrac-mirror/commit/ea07a31104cd12f861af8839a8bc04542e341279)** to **[`c4cbcfb`](https://github.com/sagemath/sagetrac-mirror/commit/c4cbcfb124c50067bbbd47dfea3808cd16ad9eb8)**



---

archive/issue_comments_392873.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nI did some improvements of the documentation. More can certainly be done",
    "created_at": "2018-08-14T10:54:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392873",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:99" align="right">comment:99</div>

I did some improvements of the documentation. More can certainly be done



---

archive/issue_comments_392874.json:
```json
{
    "body": "Changed commit from **[`c4cbcfb`](https://github.com/sagemath/sagetrac-mirror/commit/c4cbcfb124c50067bbbd47dfea3808cd16ad9eb8)** to **[`3281d9e`](https://github.com/sagemath/sagetrac-mirror/commit/3281d9eb951a50e3fac7fa57e570c83737630e06)**",
    "created_at": "2018-08-19T16:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392874",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c4cbcfb`](https://github.com/sagemath/sagetrac-mirror/commit/c4cbcfb124c50067bbbd47dfea3808cd16ad9eb8)** to **[`3281d9e`](https://github.com/sagemath/sagetrac-mirror/commit/3281d9eb951a50e3fac7fa57e570c83737630e06)**



---

archive/issue_comments_392875.json:
```json
{
    "body": "<div id=\"comment:100\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3281d9eb951a50e3fac7fa57e570c83737630e06\"><code>3281d9e</code></a></td><td><code>Added bucket sort and example output updated</code></td></tr></table>\n",
    "created_at": "2018-08-19T16:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392875",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:100"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3281d9eb951a50e3fac7fa57e570c83737630e06"><code>3281d9e</code></a></td><td><code>Added bucket sort and example output updated</code></td></tr></table>




---

archive/issue_comments_392876.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nIn bucket sort, edges `(u, v)` are sorted in such a way that first preference is given to `v` if the same `v` then compare `u`. i.e (1, 2) will come before (0, 3). \n\nInitially, we used the sorted function which is the reverse of bucket sort i.e (0, 3) will come before (1, 2). \n\nAs there is a change in edge processing in `split_multiple_edges`, creation of components and edges which leads to jumble in triconnectivity output. \n\nLet me know if there is any other problem.",
    "created_at": "2018-08-19T17:00:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392876",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:101" align="right">comment:101</div>

In bucket sort, edges `(u, v)` are sorted in such a way that first preference is given to `v` if the same `v` then compare `u`. i.e (1, 2) will come before (0, 3). 

Initially, we used the sorted function which is the reverse of bucket sort i.e (0, 3) will come before (1, 2). 

As there is a change in edge processing in `split_multiple_edges`, creation of components and edges which leads to jumble in triconnectivity output. 

Let me know if there is any other problem.



---

archive/issue_comments_392877.json:
```json
{
    "body": "<div id=\"comment:102\" align=\"right\">comment:102</div>\n\nThe ordering is not an issue as long as the result of the triconnectivity decomposition and construction of spqr tree remains correct.\n\nHave you check if this algorithm is effectively faster that the `sorted` method ?",
    "created_at": "2018-08-19T17:33:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392877",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:102" align="right">comment:102</div>

The ordering is not an issue as long as the result of the triconnectivity decomposition and construction of spqr tree remains correct.

Have you check if this algorithm is effectively faster that the `sorted` method ?



---

archive/issue_comments_392878.json:
```json
{
    "body": "<div id=\"comment:103\" align=\"right\">comment:103</div>\n\nReplying to [@dcoudert](#comment%3A102):\n> The ordering is not an issue as long as the result of the triconnectivity decomposition and construction of spqr tree remains correct.\n\nYes, construction of spqr-tree remains correct. \n> \n> Have you check if this algorithm is effectively faster that the `sorted` method ?\n\nI expect that current method is slightly better than the `sorted` method, as ``sorted`` method uses Timsort and it's running time is `O(mlogm)` m is no. of edges, whereas bucket sort uses extra space but running time is linear. \n\nPractically I didn't compare both methods.",
    "created_at": "2018-08-19T17:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392878",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:103" align="right">comment:103</div>

Replying to [@dcoudert](#comment%3A102):
> The ordering is not an issue as long as the result of the triconnectivity decomposition and construction of spqr tree remains correct.

Yes, construction of spqr-tree remains correct. 
> 
> Have you check if this algorithm is effectively faster that the `sorted` method ?

I expect that current method is slightly better than the `sorted` method, as ``sorted`` method uses Timsort and it's running time is `O(mlogm)` m is no. of edges, whereas bucket sort uses extra space but running time is linear. 

Practically I didn't compare both methods.



---

archive/issue_comments_392879.json:
```json
{
    "body": "Changed commit from **[`3281d9e`](https://github.com/sagemath/sagetrac-mirror/commit/3281d9eb951a50e3fac7fa57e570c83737630e06)** to **[`f2e9fc2`](https://github.com/sagemath/sagetrac-mirror/commit/f2e9fc206814859df6a0820022b78f66b1f9fc9b)**",
    "created_at": "2018-08-19T17:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392879",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3281d9e`](https://github.com/sagemath/sagetrac-mirror/commit/3281d9eb951a50e3fac7fa57e570c83737630e06)** to **[`f2e9fc2`](https://github.com/sagemath/sagetrac-mirror/commit/f2e9fc206814859df6a0820022b78f66b1f9fc9b)**



---

archive/issue_comments_392880.json:
```json
{
    "body": "<div id=\"comment:104\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2e9fc206814859df6a0820022b78f66b1f9fc9b\"><code>f2e9fc2</code></a></td><td><code>Accidentally removed the split_multiple_edges comment</code></td></tr></table>\n",
    "created_at": "2018-08-19T17:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392880",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:104"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2e9fc206814859df6a0820022b78f66b1f9fc9b"><code>f2e9fc2</code></a></td><td><code>Accidentally removed the split_multiple_edges comment</code></td></tr></table>




---

archive/issue_comments_392881.json:
```json
{
    "body": "<div id=\"comment:105\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/804499fecae3d674f9f1be443eead4890a25186a\"><code>804499f</code></a></td><td><code>Minor changes in comments.</code></td></tr></table>\n",
    "created_at": "2018-08-21T17:16:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392881",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:105"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/804499fecae3d674f9f1be443eead4890a25186a"><code>804499f</code></a></td><td><code>Minor changes in comments.</code></td></tr></table>




---

archive/issue_comments_392882.json:
```json
{
    "body": "Changed commit from **[`f2e9fc2`](https://github.com/sagemath/sagetrac-mirror/commit/f2e9fc206814859df6a0820022b78f66b1f9fc9b)** to **[`804499f`](https://github.com/sagemath/sagetrac-mirror/commit/804499fecae3d674f9f1be443eead4890a25186a)**",
    "created_at": "2018-08-21T17:16:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392882",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f2e9fc2`](https://github.com/sagemath/sagetrac-mirror/commit/f2e9fc206814859df6a0820022b78f66b1f9fc9b)** to **[`804499f`](https://github.com/sagemath/sagetrac-mirror/commit/804499fecae3d674f9f1be443eead4890a25186a)**



---

archive/issue_comments_392883.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">comment:106</div>\n\nI made some small changes in the comments and made the sorting functions private.\n\nAnd I compared the bucket sort function with the previously used `sorted` function of Python. The bucket sort seems to be slightly faster than `sorted`. I did not do extensive testing, but with a graph on `3000` vertices (`graphs.RandomBarabasiAlbert(3000,2)`), the bucket sort took about `0.64` seconds and the previous sort took about `0.7` seconds. For a grid graph on `1000` vertices, bucket sort took `0.22` seconds and the previous sort took `0.33` seconds.",
    "created_at": "2018-08-21T17:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392883",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:106" align="right">comment:106</div>

I made some small changes in the comments and made the sorting functions private.

And I compared the bucket sort function with the previously used `sorted` function of Python. The bucket sort seems to be slightly faster than `sorted`. I did not do extensive testing, but with a graph on `3000` vertices (`graphs.RandomBarabasiAlbert(3000,2)`), the bucket sort took about `0.64` seconds and the previous sort took about `0.7` seconds. For a grid graph on `1000` vertices, bucket sort took `0.22` seconds and the previous sort took `0.33` seconds.



---

archive/issue_events_351073.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-08-21T17:52:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351073"
}
```



---

archive/issue_comments_392884.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\nI set this ticket to needs review as I think it is almost ready. I will try to review it seriously before the end of the week.",
    "created_at": "2018-08-21T17:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392884",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:107" align="right">comment:107</div>

I set this ticket to needs review as I think it is almost ready. I will try to review it seriously before the end of the week.



---

archive/issue_comments_392885.json:
```json
{
    "body": "<div id=\"comment:108\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9d48190f0a50f772f39ce0b80adf3a10b030947\"><code>a9d4819</code></a></td><td><code>trac #: Merged with 8.4.beta1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e224c68299700b348574809bb0254f670473f0d3\"><code>e224c68</code></a></td><td><code>trac #25598: reviewer improvement of documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b86b7a342e1cbf058c4bcac771fefb1effb5088\"><code>2b86b7a</code></a></td><td><code>trac #25598: addition of a TODO block</code></td></tr></table>\n",
    "created_at": "2018-08-22T13:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392885",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:108"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9d48190f0a50f772f39ce0b80adf3a10b030947"><code>a9d4819</code></a></td><td><code>trac #: Merged with 8.4.beta1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e224c68299700b348574809bb0254f670473f0d3"><code>e224c68</code></a></td><td><code>trac #25598: reviewer improvement of documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b86b7a342e1cbf058c4bcac771fefb1effb5088"><code>2b86b7a</code></a></td><td><code>trac #25598: addition of a TODO block</code></td></tr></table>




---

archive/issue_comments_392886.json:
```json
{
    "body": "Changed commit from **[`804499f`](https://github.com/sagemath/sagetrac-mirror/commit/804499fecae3d674f9f1be443eead4890a25186a)** to **[`2b86b7a`](https://github.com/sagemath/sagetrac-mirror/commit/2b86b7a342e1cbf058c4bcac771fefb1effb5088)**",
    "created_at": "2018-08-22T13:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392886",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`804499f`](https://github.com/sagemath/sagetrac-mirror/commit/804499fecae3d674f9f1be443eead4890a25186a)** to **[`2b86b7a`](https://github.com/sagemath/sagetrac-mirror/commit/2b86b7a342e1cbf058c4bcac771fefb1effb5088)**



---

archive/issue_comments_392887.json:
```json
{
    "body": "<div id=\"comment:109\" align=\"right\">comment:109</div>\n\nI did some improvements in the documentation and added a TODO block.\nI still have to check that the html output looks good.",
    "created_at": "2018-08-22T13:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392887",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:109" align="right">comment:109</div>

I did some improvements in the documentation and added a TODO block.
I still have to check that the html output looks good.



---

archive/issue_comments_392888.json:
```json
{
    "body": "<div id=\"comment:110\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1ba21810dea251d1454e55ba9809404fcbfef5e\"><code>f1ba218</code></a></td><td><code>trac #25598: improve html output</code></td></tr></table>\n",
    "created_at": "2018-08-22T14:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392888",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:110"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1ba21810dea251d1454e55ba9809404fcbfef5e"><code>f1ba218</code></a></td><td><code>trac #25598: improve html output</code></td></tr></table>




---

archive/issue_comments_392889.json:
```json
{
    "body": "Changed commit from **[`2b86b7a`](https://github.com/sagemath/sagetrac-mirror/commit/2b86b7a342e1cbf058c4bcac771fefb1effb5088)** to **[`f1ba218`](https://github.com/sagemath/sagetrac-mirror/commit/f1ba21810dea251d1454e55ba9809404fcbfef5e)**",
    "created_at": "2018-08-22T14:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392889",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2b86b7a`](https://github.com/sagemath/sagetrac-mirror/commit/2b86b7a342e1cbf058c4bcac771fefb1effb5088)** to **[`f1ba218`](https://github.com/sagemath/sagetrac-mirror/commit/f1ba21810dea251d1454e55ba9809404fcbfef5e)**



---

archive/issue_comments_392890.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">comment:111</div>\n\nFor me this patch is ready. Please double check.",
    "created_at": "2018-08-22T14:06:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392890",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:111" align="right">comment:111</div>

For me this patch is ready. Please double check.



---

archive/issue_comments_392891.json:
```json
{
    "body": "<div id=\"comment:112\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ae7754b298623ecb763a47e04eeb53d94c82583\"><code>1ae7754</code></a></td><td><code>trac #25598: Merged with 8.4.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6eee0fe425259ac061b392492597e363eefb5ae2\"><code>6eee0fe</code></a></td><td><code>trac #25598: expose spqr_tree in Graph</code></td></tr></table>\n",
    "created_at": "2018-08-28T16:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392891",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:112"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ae7754b298623ecb763a47e04eeb53d94c82583"><code>1ae7754</code></a></td><td><code>trac #25598: Merged with 8.4.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6eee0fe425259ac061b392492597e363eefb5ae2"><code>6eee0fe</code></a></td><td><code>trac #25598: expose spqr_tree in Graph</code></td></tr></table>




---

archive/issue_comments_392892.json:
```json
{
    "body": "Changed commit from **[`f1ba218`](https://github.com/sagemath/sagetrac-mirror/commit/f1ba21810dea251d1454e55ba9809404fcbfef5e)** to **[`6eee0fe`](https://github.com/sagemath/sagetrac-mirror/commit/6eee0fe425259ac061b392492597e363eefb5ae2)**",
    "created_at": "2018-08-28T16:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392892",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f1ba218`](https://github.com/sagemath/sagetrac-mirror/commit/f1ba21810dea251d1454e55ba9809404fcbfef5e)** to **[`6eee0fe`](https://github.com/sagemath/sagetrac-mirror/commit/6eee0fe425259ac061b392492597e363eefb5ae2)**



---

archive/issue_comments_392893.json:
```json
{
    "body": "Changed commit from **[`6eee0fe`](https://github.com/sagemath/sagetrac-mirror/commit/6eee0fe425259ac061b392492597e363eefb5ae2)** to **[`b084469`](https://github.com/sagemath/sagetrac-mirror/commit/b084469ecb30d258925ae31581e98ac67240c2ee)**",
    "created_at": "2018-08-28T16:57:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392893",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6eee0fe`](https://github.com/sagemath/sagetrac-mirror/commit/6eee0fe425259ac061b392492597e363eefb5ae2)** to **[`b084469`](https://github.com/sagemath/sagetrac-mirror/commit/b084469ecb30d258925ae31581e98ac67240c2ee)**



---

archive/issue_comments_392894.json:
```json
{
    "body": "<div id=\"comment:113\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b084469ecb30d258925ae31581e98ac67240c2ee\"><code>b084469</code></a></td><td><code>trac #25598: fix small issue in documentation of graph.py</code></td></tr></table>\n",
    "created_at": "2018-08-28T16:57:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392894",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:113"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b084469ecb30d258925ae31581e98ac67240c2ee"><code>b084469</code></a></td><td><code>trac #25598: fix small issue in documentation of graph.py</code></td></tr></table>




---

archive/issue_comments_392895.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nI have exposed the `spqr_tree` method in `Graph` and done some more tests.\nI was about to give positive review... but I found 2 issues, one in `spqr_tree` with the `cleave` method and one in `TriconnectivitySPQR`.\n\n1. For some reason, some 3-cycles are not merged with algorithm `cleave`. I will check that.\n\n```\nsage: G = graphs.PetersenGraph()\nsage: for u,v in G.edges(labels=False):\n....:     G.add_path([u,G.add_vertex(),G.add_vertex(),v])\n....:     \nsage: T = G.spqr_tree()\nsage: T2 = G.spqr_tree(algorithm=\"cleave\")\nsage: T\nSPQR-tree of Petersen graph: Graph on 31 vertices\nsage: T2\nSPQR tree of Petersen graph: Graph on 43 vertices\n```\n2. Some vertices (1 in the example below) are marked as `R`-block instead of `S`-block. Please check.\n\n```\nsage: for u,v in G.edges(labels=False):\n....:     G.add_path([u,G.add_vertex(),G.add_vertex(),v])\nsage: T = G.spqr_tree()\nsage: T\nSPQR-tree of Petersen graph: Graph on 136 vertices\nsage: for u in T:\n....:     if u[0] == 'R':\n....:         print(u, u[1].is_cycle())\n('R', Multi-graph on 10 vertices) False\n('R', Multi-graph on 4 vertices) True\n```",
    "created_at": "2018-08-28T17:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392895",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:114" align="right">comment:114</div>

I have exposed the `spqr_tree` method in `Graph` and done some more tests.
I was about to give positive review... but I found 2 issues, one in `spqr_tree` with the `cleave` method and one in `TriconnectivitySPQR`.

1. For some reason, some 3-cycles are not merged with algorithm `cleave`. I will check that.

```
sage: G = graphs.PetersenGraph()
sage: for u,v in G.edges(labels=False):
....:     G.add_path([u,G.add_vertex(),G.add_vertex(),v])
....:     
sage: T = G.spqr_tree()
sage: T2 = G.spqr_tree(algorithm="cleave")
sage: T
SPQR-tree of Petersen graph: Graph on 31 vertices
sage: T2
SPQR tree of Petersen graph: Graph on 43 vertices
```
2. Some vertices (1 in the example below) are marked as `R`-block instead of `S`-block. Please check.

```
sage: for u,v in G.edges(labels=False):
....:     G.add_path([u,G.add_vertex(),G.add_vertex(),v])
sage: T = G.spqr_tree()
sage: T
SPQR-tree of Petersen graph: Graph on 136 vertices
sage: for u in T:
....:     if u[0] == 'R':
....:         print(u, u[1].is_cycle())
('R', Multi-graph on 10 vertices) False
('R', Multi-graph on 4 vertices) True
```



---

archive/issue_comments_392896.json:
```json
{
    "body": "<div id=\"comment:115\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45d0abbb22ad655ecfd080b6d905155f4cfe728c\"><code>45d0abb</code></a></td><td><code>trac #25598: fix the merging of cycles with cleave</code></td></tr></table>\n",
    "created_at": "2018-08-29T12:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392896",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:115"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45d0abbb22ad655ecfd080b6d905155f4cfe728c"><code>45d0abb</code></a></td><td><code>trac #25598: fix the merging of cycles with cleave</code></td></tr></table>




---

archive/issue_comments_392897.json:
```json
{
    "body": "Changed commit from **[`b084469`](https://github.com/sagemath/sagetrac-mirror/commit/b084469ecb30d258925ae31581e98ac67240c2ee)** to **[`45d0abb`](https://github.com/sagemath/sagetrac-mirror/commit/45d0abbb22ad655ecfd080b6d905155f4cfe728c)**",
    "created_at": "2018-08-29T12:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392897",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b084469`](https://github.com/sagemath/sagetrac-mirror/commit/b084469ecb30d258925ae31581e98ac67240c2ee)** to **[`45d0abb`](https://github.com/sagemath/sagetrac-mirror/commit/45d0abbb22ad655ecfd080b6d905155f4cfe728c)**



---

archive/issue_comments_392898.json:
```json
{
    "body": "<div id=\"comment:116\" align=\"right\">comment:116</div>\n\nI fixed the issue with cleave. We were missing associations between cycles and virtual edges.\n\nI added a (big) test that fails with `Hopcroft_Tarjan` as one cycle is detected as a `R` block. I will have a look at the code, but it should be easier for you to find the issue.",
    "created_at": "2018-08-29T12:07:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392898",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:116" align="right">comment:116</div>

I fixed the issue with cleave. We were missing associations between cycles and virtual edges.

I added a (big) test that fails with `Hopcroft_Tarjan` as one cycle is detected as a `R` block. I will have a look at the code, but it should be easier for you to find the issue.



---

archive/issue_comments_392899.json:
```json
{
    "body": "<div id=\"comment:117\" align=\"right\">comment:117</div>\n\nmethod `finish_tric_or_poly` is called for a component with 4 edges and so given type 2 although it's a cycle. It seems that we are missing a 2-cut here. Any idea on how to correct that ?",
    "created_at": "2018-08-29T12:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392899",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:117" align="right">comment:117</div>

method `finish_tric_or_poly` is called for a component with 4 edges and so given type 2 although it's a cycle. It seems that we are missing a 2-cut here. Any idea on how to correct that ?



---

archive/issue_comments_392900.json:
```json
{
    "body": "<div id=\"comment:118\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/342ebf10c17809710fb830202c940acb6cc007e4\"><code>342ebf1</code></a></td><td><code>trac #25598: fix Hopcroft_Tarjan</code></td></tr></table>\n",
    "created_at": "2018-08-29T17:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392900",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:118"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/342ebf10c17809710fb830202c940acb6cc007e4"><code>342ebf1</code></a></td><td><code>trac #25598: fix Hopcroft_Tarjan</code></td></tr></table>




---

archive/issue_comments_392901.json:
```json
{
    "body": "Changed commit from **[`45d0abb`](https://github.com/sagemath/sagetrac-mirror/commit/45d0abbb22ad655ecfd080b6d905155f4cfe728c)** to **[`342ebf1`](https://github.com/sagemath/sagetrac-mirror/commit/342ebf10c17809710fb830202c940acb6cc007e4)**",
    "created_at": "2018-08-29T17:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392901",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`45d0abb`](https://github.com/sagemath/sagetrac-mirror/commit/45d0abbb22ad655ecfd080b6d905155f4cfe728c)** to **[`342ebf1`](https://github.com/sagemath/sagetrac-mirror/commit/342ebf10c17809710fb830202c940acb6cc007e4)**



---

archive/issue_comments_392902.json:
```json
{
    "body": "<div id=\"comment:119\" align=\"right\">comment:119</div>\n\nUnless I'm mistaken, there is only one biconnected simple graph without loops or multiple edges and 4 edges: a 4-cycle. So my last commit fixes the issue I detected with Hopcroft-Tarjan.\n\nPlease double check and do some more tests so that I can finally set this ticket to positive review.",
    "created_at": "2018-08-29T17:49:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392902",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:119" align="right">comment:119</div>

Unless I'm mistaken, there is only one biconnected simple graph without loops or multiple edges and 4 edges: a 4-cycle. So my last commit fixes the issue I detected with Hopcroft-Tarjan.

Please double check and do some more tests so that I can finally set this ticket to positive review.



---

archive/issue_comments_392903.json:
```json
{
    "body": "<div id=\"comment:120\" align=\"right\">comment:120</div>\n\nYes, I am checking it. Will update once I do some tests.",
    "created_at": "2018-08-29T17:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392903",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:120" align="right">comment:120</div>

Yes, I am checking it. Will update once I do some tests.



---

archive/issue_comments_392904.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\nMy last commit is not enough. If instead of 4-cycles, we add 5-cycles, from time to time some 5-cycles are identified as `R`-blocks :(\n\nConsider the following example without 'R'-block\n\n```\nsage: G = graphs.CycleGraph(4)\nsage: for u,v in G.edges(labels=False):\n....:     G.add_path([u,G.add_vertex(),G.add_vertex(),G.add_vertex(),v])\nsage: for u,v in G.edges(labels=False):\n....:     G.add_path([u,G.add_vertex(),G.add_vertex(),G.add_vertex(),v])\nsage: T = G.spqr_tree()\nsage: V = G.vertices()\nsage: while not Counter(u[0] for u in T)['R']:\n....:     shuffle(V)\n....:     G.relabel(perm=V, inplace=True)\n....:     T = G.spqr_tree()\nsage: Counter(u[0] for u in T)\nCounter({'S': 24, 'P': 20, 'R': 1})\n```\nI don't know if it's a problem of the algorithm that must be fixed, or if it's a \"bug\" in the code.",
    "created_at": "2018-08-30T07:00:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392904",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:121" align="right">comment:121</div>

My last commit is not enough. If instead of 4-cycles, we add 5-cycles, from time to time some 5-cycles are identified as `R`-blocks :(

Consider the following example without 'R'-block

```
sage: G = graphs.CycleGraph(4)
sage: for u,v in G.edges(labels=False):
....:     G.add_path([u,G.add_vertex(),G.add_vertex(),G.add_vertex(),v])
sage: for u,v in G.edges(labels=False):
....:     G.add_path([u,G.add_vertex(),G.add_vertex(),G.add_vertex(),v])
sage: T = G.spqr_tree()
sage: V = G.vertices()
sage: while not Counter(u[0] for u in T)['R']:
....:     shuffle(V)
....:     G.relabel(perm=V, inplace=True)
....:     T = G.spqr_tree()
sage: Counter(u[0] for u in T)
Counter({'S': 24, 'P': 20, 'R': 1})
```
I don't know if it's a problem of the algorithm that must be fixed, or if it's a "bug" in the code.



---

archive/issue_comments_392905.json:
```json
{
    "body": "Changed commit from **[`342ebf1`](https://github.com/sagemath/sagetrac-mirror/commit/342ebf10c17809710fb830202c940acb6cc007e4)** to **[`48b0f1c`](https://github.com/sagemath/sagetrac-mirror/commit/48b0f1ce819cebdeda1b8c82789bc89ca37e81d8)**",
    "created_at": "2018-08-30T09:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392905",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`342ebf1`](https://github.com/sagemath/sagetrac-mirror/commit/342ebf10c17809710fb830202c940acb6cc007e4)** to **[`48b0f1c`](https://github.com/sagemath/sagetrac-mirror/commit/48b0f1ce819cebdeda1b8c82789bc89ca37e81d8)**



---

archive/issue_comments_392906.json:
```json
{
    "body": "<div id=\"comment:122\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48b0f1ce819cebdeda1b8c82789bc89ca37e81d8\"><code>48b0f1c</code></a></td><td><code>trac #25598: better fix of Hopcroft_Tarjan</code></td></tr></table>\n",
    "created_at": "2018-08-30T09:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392906",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:122"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48b0f1ce819cebdeda1b8c82789bc89ca37e81d8"><code>48b0f1c</code></a></td><td><code>trac #25598: better fix of Hopcroft_Tarjan</code></td></tr></table>




---

archive/issue_comments_392907.json:
```json
{
    "body": "<div id=\"comment:123\" align=\"right\">comment:123</div>\n\nI really suspect this is an algorithmic issue (I can't find a clear answer in the papers). It would be nice if one of you can try to reproduce the issue with OGDF. If I'm right, then we can report the issue to OGDF.\n\nMeanwhile, I found a simple way to fix the issue: maintain a list of vertices in each component that is update each time an edge is added. Then, in `finish_tric_or_poly`, we can decide the type of the component by checking if it has more edges than vertices (type 2) or not (type 1).\n\nI have changed the construction of the last component to also use `finish_tric_or_poly`. It's cleaner this way and ensures that we have the good type. I had to update some tests accordingly.\n\nLet me know if you agree.",
    "created_at": "2018-08-30T09:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392907",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:123" align="right">comment:123</div>

I really suspect this is an algorithmic issue (I can't find a clear answer in the papers). It would be nice if one of you can try to reproduce the issue with OGDF. If I'm right, then we can report the issue to OGDF.

Meanwhile, I found a simple way to fix the issue: maintain a list of vertices in each component that is update each time an edge is added. Then, in `finish_tric_or_poly`, we can decide the type of the component by checking if it has more edges than vertices (type 2) or not (type 1).

I have changed the construction of the last component to also use `finish_tric_or_poly`. It's cleaner this way and ensures that we have the good type. I had to update some tests accordingly.

Let me know if you agree.



---

archive/issue_comments_392908.json:
```json
{
    "body": "<div id=\"comment:124\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1733c509a044b6b484b8f0f2e0000588130fca61\"><code>1733c50</code></a></td><td><code>trac #25598: fix issue with edge labels</code></td></tr></table>\n",
    "created_at": "2018-08-30T10:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392908",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:124"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1733c509a044b6b484b8f0f2e0000588130fca61"><code>1733c50</code></a></td><td><code>trac #25598: fix issue with edge labels</code></td></tr></table>




---

archive/issue_comments_392909.json:
```json
{
    "body": "Changed commit from **[`48b0f1c`](https://github.com/sagemath/sagetrac-mirror/commit/48b0f1ce819cebdeda1b8c82789bc89ca37e81d8)** to **[`1733c50`](https://github.com/sagemath/sagetrac-mirror/commit/1733c509a044b6b484b8f0f2e0000588130fca61)**",
    "created_at": "2018-08-30T10:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392909",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`48b0f1c`](https://github.com/sagemath/sagetrac-mirror/commit/48b0f1ce819cebdeda1b8c82789bc89ca37e81d8)** to **[`1733c50`](https://github.com/sagemath/sagetrac-mirror/commit/1733c509a044b6b484b8f0f2e0000588130fca61)**



---

archive/issue_comments_392910.json:
```json
{
    "body": "<div id=\"comment:125\" align=\"right\">comment:125</div>\n\nI discovered and fixed an issue with labeled edges as we can't do `\"newVEdge\" in e[2]` when `e[2]` is a number.",
    "created_at": "2018-08-30T10:49:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392910",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:125" align="right">comment:125</div>

I discovered and fixed an issue with labeled edges as we can't do `"newVEdge" in e[2]` when `e[2]` is a number.



---

archive/issue_comments_392911.json:
```json
{
    "body": "<div id=\"comment:126\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a99ba15128ea25c42eec0eee93c08293a64e5054\"><code>a99ba15</code></a></td><td><code>trac #25598: clean manipulation of virtual edges</code></td></tr></table>\n",
    "created_at": "2018-08-30T11:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392911",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:126"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a99ba15128ea25c42eec0eee93c08293a64e5054"><code>a99ba15</code></a></td><td><code>trac #25598: clean manipulation of virtual edges</code></td></tr></table>




---

archive/issue_comments_392912.json:
```json
{
    "body": "Changed commit from **[`1733c50`](https://github.com/sagemath/sagetrac-mirror/commit/1733c509a044b6b484b8f0f2e0000588130fca61)** to **[`a99ba15`](https://github.com/sagemath/sagetrac-mirror/commit/a99ba15128ea25c42eec0eee93c08293a64e5054)**",
    "created_at": "2018-08-30T11:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392912",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1733c50`](https://github.com/sagemath/sagetrac-mirror/commit/1733c509a044b6b484b8f0f2e0000588130fca61)** to **[`a99ba15`](https://github.com/sagemath/sagetrac-mirror/commit/a99ba15128ea25c42eec0eee93c08293a64e5054)**



---

archive/issue_comments_392913.json:
```json
{
    "body": "<div id=\"comment:127\" align=\"right\">comment:127</div>\n\nI added a method to create virtual edges. It also stores the list of virtual edges which simplifies the test in the construction of the spqr tree.",
    "created_at": "2018-08-30T11:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392913",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:127" align="right">comment:127</div>

I added a method to create virtual edges. It also stores the list of virtual edges which simplifies the test in the construction of the spqr tree.



---

archive/issue_comments_392914.json:
```json
{
    "body": "Changed commit from **[`a99ba15`](https://github.com/sagemath/sagetrac-mirror/commit/a99ba15128ea25c42eec0eee93c08293a64e5054)** to **[`bbef207`](https://github.com/sagemath/sagetrac-mirror/commit/bbef2071fbd1bf74d87a0bd3d7a9d36ca9f550fe)**",
    "created_at": "2018-09-02T12:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392914",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a99ba15`](https://github.com/sagemath/sagetrac-mirror/commit/a99ba15128ea25c42eec0eee93c08293a64e5054)** to **[`bbef207`](https://github.com/sagemath/sagetrac-mirror/commit/bbef2071fbd1bf74d87a0bd3d7a9d36ca9f550fe)**



---

archive/issue_comments_392915.json:
```json
{
    "body": "<div id=\"comment:128\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55dc5753ae9f42a0f308711d1a3e2cf234007e3c\"><code>55dc575</code></a></td><td><code>trac #25598: rebase on 8.4.beta3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbef2071fbd1bf74d87a0bd3d7a9d36ca9f550fe\"><code>bbef207</code></a></td><td><code>trac #25598: fix wikipedia links</code></td></tr></table>\n",
    "created_at": "2018-09-02T12:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392915",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:128"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55dc5753ae9f42a0f308711d1a3e2cf234007e3c"><code>55dc575</code></a></td><td><code>trac #25598: rebase on 8.4.beta3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbef2071fbd1bf74d87a0bd3d7a9d36ca9f550fe"><code>bbef207</code></a></td><td><code>trac #25598: fix wikipedia links</code></td></tr></table>




---

archive/issue_comments_392916.json:
```json
{
    "body": "<div id=\"comment:129\" align=\"right\">comment:129</div>\n\n`@`Meghana, Sai Harsh: can you do a last check ?",
    "created_at": "2018-09-02T13:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392916",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:129" align="right">comment:129</div>

`@`Meghana, Sai Harsh: can you do a last check ?



---

archive/issue_comments_392917.json:
```json
{
    "body": "<div id=\"comment:130\" align=\"right\">comment:130</div>\n\nReplying to [@dcoudert](#comment%3A129):\n> `@`Meghana, Sai Harsh: can you do a last check ?\n\nYes, I will. \n\nI will see if there is the same case in OGDF for example without 'R'-block. \n\nI will try reply by Monday night, worst case Tuesday Morning.",
    "created_at": "2018-09-02T13:21:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392917",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:130" align="right">comment:130</div>

Replying to [@dcoudert](#comment%3A129):
> `@`Meghana, Sai Harsh: can you do a last check ?

Yes, I will. 

I will see if there is the same case in OGDF for example without 'R'-block. 

I will try reply by Monday night, worst case Tuesday Morning.



---

archive/issue_comments_392918.json:
```json
{
    "body": "<div id=\"comment:131\" align=\"right\">comment:131</div>\n\nYes, I will also work on it. I was travelling the last 3 days. Will work on it tomorrow.",
    "created_at": "2018-09-02T18:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392918",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:131" align="right">comment:131</div>

Yes, I will also work on it. I was travelling the last 3 days. Will work on it tomorrow.



---

archive/issue_comments_392919.json:
```json
{
    "body": "<div id=\"comment:132\" align=\"right\">comment:132</div>\n\nReplying to [@dcoudert](#comment%3A121):\n> My last commit is not enough. If instead of 4-cycles, we add 5-cycles, from time to time some 5-cycles are identified as `R`-blocks :(\n> \n> Consider the following example without 'R'-block\n> \n> ```\n> sage: G = graphs.CycleGraph(4)\n> sage: for u,v in G.edges(labels=False):\n> ....:     G.add_path([u,G.add_vertex(),G.add_vertex(),G.add_vertex(),v])\n> sage: for u,v in G.edges(labels=False):\n> ....:     G.add_path([u,G.add_vertex(),G.add_vertex(),G.add_vertex(),v])\n> sage: T = G.spqr_tree()\n> sage: V = G.vertices()\n> sage: while not Counter(u[0] for u in T)['R']:\n> ....:     shuffle(V)\n> ....:     G.relabel(perm=V, inplace=True)\n> ....:     T = G.spqr_tree()\n> sage: Counter(u[0] for u in T)\n> Counter({'S': 24, 'P': 20, 'R': 1})\n> ```\n> I don't know if it's a problem of the algorithm that must be fixed, or if it's a \"bug\" in the code.\n\nI took a graph from the above example which has one `R` component, and ran OGDF code on it. The OGDF output contained only bonds and cycles and no triconnected components. So I feel it could be a bug in our code, I will debug it tomorrow.",
    "created_at": "2018-09-03T19:39:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392919",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:132" align="right">comment:132</div>

Replying to [@dcoudert](#comment%3A121):
> My last commit is not enough. If instead of 4-cycles, we add 5-cycles, from time to time some 5-cycles are identified as `R`-blocks :(
> 
> Consider the following example without 'R'-block
> 
> ```
> sage: G = graphs.CycleGraph(4)
> sage: for u,v in G.edges(labels=False):
> ....:     G.add_path([u,G.add_vertex(),G.add_vertex(),G.add_vertex(),v])
> sage: for u,v in G.edges(labels=False):
> ....:     G.add_path([u,G.add_vertex(),G.add_vertex(),G.add_vertex(),v])
> sage: T = G.spqr_tree()
> sage: V = G.vertices()
> sage: while not Counter(u[0] for u in T)['R']:
> ....:     shuffle(V)
> ....:     G.relabel(perm=V, inplace=True)
> ....:     T = G.spqr_tree()
> sage: Counter(u[0] for u in T)
> Counter({'S': 24, 'P': 20, 'R': 1})
> ```
> I don't know if it's a problem of the algorithm that must be fixed, or if it's a "bug" in the code.

I took a graph from the above example which has one `R` component, and ran OGDF code on it. The OGDF output contained only bonds and cycles and no triconnected components. So I feel it could be a bug in our code, I will debug it tomorrow.



---

archive/issue_comments_392920.json:
```json
{
    "body": "<div id=\"comment:133\" align=\"right\">comment:133</div>\n\nCon you also try adding one more level of paths to `G` and check it with OGDF ? Thanks.",
    "created_at": "2018-09-03T19:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392920",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:133" align="right">comment:133</div>

Con you also try adding one more level of paths to `G` and check it with OGDF ? Thanks.



---

archive/issue_comments_392921.json:
```json
{
    "body": "<div id=\"comment:134\" align=\"right\">comment:134</div>\n\nYa, I tried. OGDF output does not have any `R` components.\nPlease give me some time, I am working on debugging our code.",
    "created_at": "2018-09-04T19:06:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392921",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:134" align="right">comment:134</div>

Ya, I tried. OGDF output does not have any `R` components.
Please give me some time, I am working on debugging our code.



---

archive/issue_comments_392922.json:
```json
{
    "body": "<div id=\"comment:135\" align=\"right\">comment:135</div>\n\n`while not Counter(u[0] for u in T)['R']:` loop ran for nearly 14 hrs on my system still no R block is found. \n\nThat while loop will break only if one R block is found, it's not happening for me, I am still getting the same results like OGDF `Counter({'S': 25, 'P': 20})`. \n\nWhen will I get the same case?",
    "created_at": "2018-09-06T18:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392922",
    "user": "https://github.com/sagetrac-saiharsh"
}
```

<div id="comment:135" align="right">comment:135</div>

`while not Counter(u[0] for u in T)['R']:` loop ran for nearly 14 hrs on my system still no R block is found. 

That while loop will break only if one R block is found, it's not happening for me, I am still getting the same results like OGDF `Counter({'S': 25, 'P': 20})`. 

When will I get the same case?



---

archive/issue_comments_392923.json:
```json
{
    "body": "<div id=\"comment:136\" align=\"right\">comment:136</div>\n\nI one of the last commits, I changed the way to detect if a block is 'R' or 'S'. But as it is sufficient in OGDF to check if the number of edges is `>= 4`, we suspect there is something wrong somewhere, but I don't know what/where.\n\nYou can modify `finish_tric_or_poly` to just check number of edges to see the issue.",
    "created_at": "2018-09-06T19:15:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392923",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:136" align="right">comment:136</div>

I one of the last commits, I changed the way to detect if a block is 'R' or 'S'. But as it is sufficient in OGDF to check if the number of edges is `>= 4`, we suspect there is something wrong somewhere, but I don't know what/where.

You can modify `finish_tric_or_poly` to just check number of edges to see the issue.



---

archive/issue_comments_392924.json:
```json
{
    "body": "<div id=\"comment:137\" align=\"right\">comment:137</div>\n\nI found the bug. It was a mistake I did, should have been more careful. Anyway, I am pushing the code in a few minutes.\n\nDavid, I think we can undo the changes you made to fix the bug.",
    "created_at": "2018-09-08T16:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392924",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:137" align="right">comment:137</div>

I found the bug. It was a mistake I did, should have been more careful. Anyway, I am pushing the code in a few minutes.

David, I think we can undo the changes you made to fix the bug.



---

archive/issue_comments_392925.json:
```json
{
    "body": "<div id=\"comment:138\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbc4759fb67a1158a17d0417813d132b333876ec\"><code>fbc4759</code></a></td><td><code>Bug fix</code></td></tr></table>\n",
    "created_at": "2018-09-08T18:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392925",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:138"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbc4759fb67a1158a17d0417813d132b333876ec"><code>fbc4759</code></a></td><td><code>Bug fix</code></td></tr></table>




---

archive/issue_comments_392926.json:
```json
{
    "body": "Changed commit from **[`bbef207`](https://github.com/sagemath/sagetrac-mirror/commit/bbef2071fbd1bf74d87a0bd3d7a9d36ca9f550fe)** to **[`fbc4759`](https://github.com/sagemath/sagetrac-mirror/commit/fbc4759fb67a1158a17d0417813d132b333876ec)**",
    "created_at": "2018-09-08T18:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392926",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bbef207`](https://github.com/sagemath/sagetrac-mirror/commit/bbef2071fbd1bf74d87a0bd3d7a9d36ca9f550fe)** to **[`fbc4759`](https://github.com/sagemath/sagetrac-mirror/commit/fbc4759fb67a1158a17d0417813d132b333876ec)**



---

archive/issue_comments_392927.json:
```json
{
    "body": "<div id=\"comment:139\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4fec47a8fbbe4845e5c65efcb55dfc99032bea1\"><code>b4fec47</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1abed3d481b55f6bb11ce559a7e98afde64f233d\"><code>1abed3d</code></a></td><td><code>update to 8.4.beta4.</code></td></tr></table>\n",
    "created_at": "2018-09-09T04:21:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392927",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:139"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4fec47a8fbbe4845e5c65efcb55dfc99032bea1"><code>b4fec47</code></a></td><td><code>Merge branch 'develop' of git://github.com/sagemath/sage into develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1abed3d481b55f6bb11ce559a7e98afde64f233d"><code>1abed3d</code></a></td><td><code>update to 8.4.beta4.</code></td></tr></table>




---

archive/issue_comments_392928.json:
```json
{
    "body": "Changed commit from **[`fbc4759`](https://github.com/sagemath/sagetrac-mirror/commit/fbc4759fb67a1158a17d0417813d132b333876ec)** to **[`1abed3d`](https://github.com/sagemath/sagetrac-mirror/commit/1abed3d481b55f6bb11ce559a7e98afde64f233d)**",
    "created_at": "2018-09-09T04:21:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392928",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fbc4759`](https://github.com/sagemath/sagetrac-mirror/commit/fbc4759fb67a1158a17d0417813d132b333876ec)** to **[`1abed3d`](https://github.com/sagemath/sagetrac-mirror/commit/1abed3d481b55f6bb11ce559a7e98afde64f233d)**



---

archive/issue_comments_392929.json:
```json
{
    "body": "<div id=\"comment:140\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971\"><code>65f2da3</code></a></td><td><code>trac #25598: remove storing of vertices in _Component</code></td></tr></table>\n",
    "created_at": "2018-09-09T09:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392929",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:140"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971"><code>65f2da3</code></a></td><td><code>trac #25598: remove storing of vertices in _Component</code></td></tr></table>




---

archive/issue_comments_392930.json:
```json
{
    "body": "Changed commit from **[`1abed3d`](https://github.com/sagemath/sagetrac-mirror/commit/1abed3d481b55f6bb11ce559a7e98afde64f233d)** to **[`65f2da3`](https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971)**",
    "created_at": "2018-09-09T09:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392930",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1abed3d`](https://github.com/sagemath/sagetrac-mirror/commit/1abed3d481b55f6bb11ce559a7e98afde64f233d)** to **[`65f2da3`](https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971)**



---

archive/issue_comments_392931.json:
```json
{
    "body": "<div id=\"comment:141\" align=\"right\">comment:141</div>\n\nExcellent ! Thank you.\n\nWe no longer need to count the number of vertices per components, so I removed that part.\n\nI did several tests and for me every thing is going well now. If you also agree, I will finally set this ticket to positive review. It was quite a lot of work.",
    "created_at": "2018-09-09T09:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392931",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:141" align="right">comment:141</div>

Excellent ! Thank you.

We no longer need to count the number of vertices per components, so I removed that part.

I did several tests and for me every thing is going well now. If you also agree, I will finally set this ticket to positive review. It was quite a lot of work.



---

archive/issue_comments_392932.json:
```json
{
    "body": "<div id=\"comment:142\" align=\"right\">comment:142</div>\n\nYes, I think we can set the ticket to positive review.",
    "created_at": "2018-09-10T17:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392932",
    "user": "https://github.com/meghanamreddy"
}
```

<div id="comment:142" align="right">comment:142</div>

Yes, I think we can set the ticket to positive review.



---

archive/issue_comments_392933.json:
```json
{
    "body": "<div id=\"comment:143\" align=\"right\">comment:143</div>\n\nThis ticket was a big piece of work and you did a great job. Thanks to both of you.",
    "created_at": "2018-09-10T21:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392933",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:143" align="right">comment:143</div>

This ticket was a big piece of work and you did a great job. Thanks to both of you.



---

archive/issue_events_351074.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-09-10T21:15:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351074"
}
```



---

archive/issue_events_351075.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-09-10T21:15:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351075"
}
```



---

archive/issue_comments_392934.json:
```json
{
    "body": "<div id=\"comment:144\" align=\"right\">comment:144</div>\n\nAuthor name...",
    "created_at": "2018-09-11T21:47:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392934",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:144" align="right">comment:144</div>

Author name...



---

archive/issue_events_351076.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-11T21:47:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351076"
}
```



---

archive/issue_events_351077.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-11T21:47:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351077"
}
```



---

archive/issue_events_351078.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-09-11T21:54:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351078"
}
```



---

archive/issue_events_351079.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-09-11T21:54:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351079"
}
```



---

archive/issue_comments_392935.json:
```json
{
    "body": "Author: **Meghana M. Reddy, Sai Harsh Tondomker, David Coudert**",
    "created_at": "2018-09-11T21:54:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392935",
    "user": "https://github.com/dimpase"
}
```

Author: **Meghana M. Reddy, Sai Harsh Tondomker, David Coudert**



---

archive/issue_comments_392936.json:
```json
{
    "body": "<div id=\"comment:146\" align=\"right\">comment:146</div>\n\nhey, ladies and gentlemen ! coverage is supposed to be 100%\n\n```\n+Decreased doctests in graphs/connectivity.pyx: from 21 / 21 = 100% to 24 / 60 = 40%\n```",
    "created_at": "2018-09-12T14:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392936",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:146" align="right">comment:146</div>

hey, ladies and gentlemen ! coverage is supposed to be 100%

```
+Decreased doctests in graphs/connectivity.pyx: from 21 / 21 = 100% to 24 / 60 = 40%
```



---

archive/issue_comments_392937.json:
```json
{
    "body": "<div id=\"comment:147\" align=\"right\">comment:147</div>\n\nperhaps a follow-up ticket to address testing?",
    "created_at": "2018-09-12T14:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392937",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:147" align="right">comment:147</div>

perhaps a follow-up ticket to address testing?



---

archive/issue_comments_392938.json:
```json
{
    "body": "<div id=\"comment:148\" align=\"right\">comment:148</div>\n\nWe implement a big algorithm that is split into sub methods. I don't know how to add doctests that are meaningful for the sub methods. Any suggestion is more than welcome.\n\nBut for sure I plan to continue working on it (remove recursions, cythonise what I can, etc.).",
    "created_at": "2018-09-12T15:15:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392938",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:148" align="right">comment:148</div>

We implement a big algorithm that is split into sub methods. I don't know how to add doctests that are meaningful for the sub methods. Any suggestion is more than welcome.

But for sure I plan to continue working on it (remove recursions, cythonise what I can, etc.).



---

archive/issue_events_351080.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-13T19:25:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351080"
}
```



---

archive/issue_events_351081.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6cece7d33561df9287f9574f4bd3d5925cbbdfec",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-09-13T19:25:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351081"
}
```



---

archive/issue_comments_392939.json:
```json
{
    "body": "Changed branch from **[public/graphs/triconnectivity](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/triconnectivity)** to **[`65f2da3`](https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971)**",
    "created_at": "2018-09-13T19:25:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392939",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/triconnectivity](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/triconnectivity)** to **[`65f2da3`](https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971)**



---

archive/issue_comments_392940.json:
```json
{
    "body": "Changed commit from **[`65f2da3`](https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971)** to none",
    "created_at": "2018-10-24T11:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392940",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`65f2da3`](https://github.com/sagemath/sagetrac-mirror/commit/65f2da3ad652bb77dcd27e8dee42358c8be37971)** to none



---

archive/issue_comments_392941.json:
```json
{
    "body": "Changed author from **Meghana M. Reddy, Sai Harsh Tondomker, David Coudert** to **Meghana M Reddy, Sai Harsh Tondomker, David Coudert**",
    "created_at": "2018-10-24T11:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392941",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Meghana M. Reddy, Sai Harsh Tondomker, David Coudert** to **Meghana M Reddy, Sai Harsh Tondomker, David Coudert**



---

archive/issue_comments_392942.json:
```json
{
    "body": "<div id=\"comment:151\" align=\"right\">comment:151</div>\n\nThis is certainly something technical but I'll be happy to know (learn) what's going on. Thanks.",
    "created_at": "2018-10-24T11:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392942",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:151" align="right">comment:151</div>

This is certainly something technical but I'll be happy to know (learn) what's going on. Thanks.



---

archive/issue_events_351082.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351082"
}
```



---

archive/issue_events_351083.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25598#event-351083"
}
```



---

archive/issue_comments_392943.json:
```json
{
    "body": "<div id=\"comment:152\" align=\"right\">comment:152</div>\n\nThis should be re-targeted for 8.5.",
    "created_at": "2018-10-28T14:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25598#issuecomment-392943",
    "user": "https://github.com/embray"
}
```

<div id="comment:152" align="right">comment:152</div>

This should be re-targeted for 8.5.
