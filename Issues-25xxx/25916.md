# Issue 25916: implement Packed Words

archive/issues_025679.json:
```json
{
    "assignees": [],
    "body": "Combinatorial class of packed words\n\nThese object are trivially in bijection with Ordered set partitions. (counted by the Fubini numbers (A000670))\n\n(use in the Hopf algebra WQSym)\n\nThis ticket is a replacement for the old ticket #15611 which should be closed.\n\nCC:  @tscrim @darijgr @zabrocki @alauve @amypang @sagetrac-hmlodecki @hivert @VivianePons @mathzeta\n\nKeywords: **sagedays@icerm, packed words, CHAs, fpsac2019**\n\nBranch/Commit: **[public/combinat/implement_Packed_Words_25916](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/implement_Packed_Words_25916) @ [`8249639`](https://github.com/sagemath/sagetrac-mirror/commit/82496394bb904387aebe403f543d277d86d7e333)**\n\nReviewer: **Aaron Lauve, Kevin Dilks, Travis Scrimshaw**\n\nAuthor: **Hugo Mlodecki**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25916_\n\n",
    "created_at": "2018-07-24T17:30:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "implement Packed Words",
    "type": "issue",
    "updated_at": "2023-01-13T13:28:02Z",
    "url": "https://github.com/sagemath/sage/issues/25916",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```
Combinatorial class of packed words

These object are trivially in bijection with Ordered set partitions. (counted by the Fubini numbers (A000670))

(use in the Hopf algebra WQSym)

This ticket is a replacement for the old ticket #15611 which should be closed.

CC:  @tscrim @darijgr @zabrocki @alauve @amypang @sagetrac-hmlodecki @hivert @VivianePons @mathzeta

Keywords: **sagedays@icerm, packed words, CHAs, fpsac2019**

Branch/Commit: **[public/combinat/implement_Packed_Words_25916](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/implement_Packed_Words_25916) @ [`8249639`](https://github.com/sagemath/sagetrac-mirror/commit/82496394bb904387aebe403f543d277d86d7e333)**

Reviewer: **Aaron Lauve, Kevin Dilks, Travis Scrimshaw**

Author: **Hugo Mlodecki**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/25916_





---

archive/issue_events_355114.json:
```json
{
    "actor": "https://github.com/sagetrac-hmlodecki",
    "created_at": "2018-07-24T17:30:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355114"
}
```



---

archive/issue_events_355115.json:
```json
{
    "actor": "https://github.com/sagetrac-hmlodecki",
    "created_at": "2018-07-24T17:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355115"
}
```



---

archive/issue_events_355116.json:
```json
{
    "actor": "https://github.com/sagetrac-hmlodecki",
    "created_at": "2018-07-24T17:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355116"
}
```



---

archive/issue_events_355117.json:
```json
{
    "actor": "https://github.com/sagetrac-hmlodecki",
    "created_at": "2018-07-24T17:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355117"
}
```



---

archive/issue_comments_398662.json:
```json
{
    "body": "Attachment: **[packed_words.py.gz](https://github.com/sagemath/sage/files/ticket25916/packed_words.py.gz)**",
    "created_at": "2018-07-24T17:32:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398662",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

Attachment: **[packed_words.py.gz](https://github.com/sagemath/sage/files/ticket25916/packed_words.py.gz)**



---

archive/issue_comments_398663.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAdd branch",
    "created_at": "2018-07-24T17:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398663",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:1" align="right">comment:1</div>

Add branch



---

archive/issue_comments_398664.json:
```json
{
    "body": "Branch: **[public/combinat/implement_Packed_Words_25916](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/implement_Packed_Words_25916)**",
    "created_at": "2018-07-24T17:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398664",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

Branch: **[public/combinat/implement_Packed_Words_25916](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/implement_Packed_Words_25916)**



---

archive/issue_comments_398665.json:
```json
{
    "body": "Commit: **[`ca14d93`](https://github.com/sagemath/sagetrac-mirror/commit/ca14d93061eb0b38c46d772dcfb6466fab672d06)**",
    "created_at": "2018-07-24T18:08:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398665",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`ca14d93`](https://github.com/sagemath/sagetrac-mirror/commit/ca14d93061eb0b38c46d772dcfb6466fab672d06)**



---

archive/issue_comments_398666.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d44f6e4f0a549a96e8bbefc1023730e1b765e425\"><code>d44f6e4</code></a></td><td><code>add PackedWords</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca14d93061eb0b38c46d772dcfb6466fab672d06\"><code>ca14d93</code></a></td><td><code>modified some names</code></td></tr></table>\n",
    "created_at": "2018-07-24T18:08:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398666",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d44f6e4f0a549a96e8bbefc1023730e1b765e425"><code>d44f6e4</code></a></td><td><code>add PackedWords</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca14d93061eb0b38c46d772dcfb6466fab672d06"><code>ca14d93</code></a></td><td><code>modified some names</code></td></tr></table>




---

archive/issue_comments_398667.json:
```json
{
    "body": "Changed commit from **[`ca14d93`](https://github.com/sagemath/sagetrac-mirror/commit/ca14d93061eb0b38c46d772dcfb6466fab672d06)** to **[`c4b64c8`](https://github.com/sagemath/sagetrac-mirror/commit/c4b64c85807b99aeb6eebc38e99f8631df1ddc73)**",
    "created_at": "2018-07-24T20:16:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398667",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ca14d93`](https://github.com/sagemath/sagetrac-mirror/commit/ca14d93061eb0b38c46d772dcfb6466fab672d06)** to **[`c4b64c8`](https://github.com/sagemath/sagetrac-mirror/commit/c4b64c85807b99aeb6eebc38e99f8631df1ddc73)**



---

archive/issue_comments_398668.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4b64c85807b99aeb6eebc38e99f8631df1ddc73\"><code>c4b64c8</code></a></td><td><code>add a comment</code></td></tr></table>\n",
    "created_at": "2018-07-24T20:16:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398668",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4b64c85807b99aeb6eebc38e99f8631df1ddc73"><code>c4b64c8</code></a></td><td><code>add a comment</code></td></tr></table>




---

archive/issue_comments_398669.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/985653e5af4e380b5f512359233a4d72ae21664e\"><code>985653e</code></a></td><td><code>add Packed Words in all and corect tests</code></td></tr></table>\n",
    "created_at": "2018-07-25T13:52:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/985653e5af4e380b5f512359233a4d72ae21664e"><code>985653e</code></a></td><td><code>add Packed Words in all and corect tests</code></td></tr></table>




---

archive/issue_comments_398670.json:
```json
{
    "body": "Changed commit from **[`c4b64c8`](https://github.com/sagemath/sagetrac-mirror/commit/c4b64c85807b99aeb6eebc38e99f8631df1ddc73)** to **[`985653e`](https://github.com/sagemath/sagetrac-mirror/commit/985653e5af4e380b5f512359233a4d72ae21664e)**",
    "created_at": "2018-07-25T13:52:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c4b64c8`](https://github.com/sagemath/sagetrac-mirror/commit/c4b64c85807b99aeb6eebc38e99f8631df1ddc73)** to **[`985653e`](https://github.com/sagemath/sagetrac-mirror/commit/985653e5af4e380b5f512359233a4d72ae21664e)**



---

archive/issue_comments_398671.json:
```json
{
    "body": "Changed commit from **[`985653e`](https://github.com/sagemath/sagetrac-mirror/commit/985653e5af4e380b5f512359233a4d72ae21664e)** to **[`009e1fc`](https://github.com/sagemath/sagetrac-mirror/commit/009e1fccfe6a6164198b85fa8964f3212387c3c3)**",
    "created_at": "2018-07-25T13:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398671",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`985653e`](https://github.com/sagemath/sagetrac-mirror/commit/985653e5af4e380b5f512359233a4d72ae21664e)** to **[`009e1fc`](https://github.com/sagemath/sagetrac-mirror/commit/009e1fccfe6a6164198b85fa8964f3212387c3c3)**



---

archive/issue_comments_398672.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/009e1fccfe6a6164198b85fa8964f3212387c3c3\"><code>009e1fc</code></a></td><td><code>correction of a comment</code></td></tr></table>\n",
    "created_at": "2018-07-25T13:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398672",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/009e1fccfe6a6164198b85fa8964f3212387c3c3"><code>009e1fc</code></a></td><td><code>correction of a comment</code></td></tr></table>




---

archive/issue_events_355118.json:
```json
{
    "actor": "https://github.com/sagetrac-hmlodecki",
    "created_at": "2018-07-25T14:00:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355118"
}
```



---

archive/issue_comments_398673.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nLeft weak order and right weak order will be useful for some basis in WQSym",
    "created_at": "2018-07-25T14:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398673",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:6" align="right">comment:6</div>

Left weak order and right weak order will be useful for some basis in WQSym



---

archive/issue_comments_398674.json:
```json
{
    "body": "Reviewer: **Aaron Lauve**",
    "created_at": "2018-07-25T14:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398674",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

Reviewer: **Aaron Lauve**



---

archive/issue_comments_398675.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI can't provide any useful feedback on the math, but here are a few minor nitpicks:\n\n```diff\n+#       Copyright (C) 2012 Jean-Baptiste Priez <jbp@kerios.fr>,\n```\n\nI assume you'll want to update this to 2018\n\n```diff\n+    :func:`sage.combinat.permutation.to_standard`) for *packed words*.\n+    EXEMPLES::\n```\n\nEXEMPLES -> EXAMPLES; also I think normally there should be an additional blank line before the \"EXAMPLES\" heading.\n\n```diff\n+    for set in li:\n+        for p in set:\n+            dic[p] = i\n+        i += 1\n```\n\nPlease try to avoid using Python built-ins like `set` as a variable name.  It's reasonably unambiguous here, but can still be confusing (especially to editors).  If you're hell-bend on naming the variable \"set\", I'll sometimes do something like `_set` or `set_`.\n\n```diff\n+    return PackedWord(dic.values())\n```\n\nFor Python 3 compatibility please make sure that `PackedWord` can accept an arbitrary iterable its argument.  I believe this might already be the case for `ClonableArray` and subclasses thereof, but I'm not positive.  Otherwise, this would have be something like `list(dic.values())` unfortunately.\n\n```diff\n+            #sage: PackedWord([2,2,1,0,4])\n+            #Traceback (most recent call last)\n+            #...\n+            #AssertionError: This is not a packed word\n```\nthis is commented out for some reason?\n\n```diff\n+        assert(len(s) == 0 or (max(s) == len(s) and min(s) == 1)\n+            ), \"This is not a packed word %s\" % str(self)\n```\n\n`str(self)` is unnecessary; it can just be `self` (the `str()` is implied by the `%s` format code).  I think we're mostly preferring new-style string formatting these days, but I don't think there's a policy either way.\n\n```diff\n+        import collections\n```\n\nPlease avoid in-line imports unless it's absolutely necessary.  I guarantee `collections` is already being imported elsewhere in Sage, so there's no reason not to put it at the top-level of the module.\n\nThere are some other in-line imports elsewhere you might want to check on.  For imports from Sage this is sometimes more necessary to avoid circular imports or slow import times, though a lot of that can also be avoided using `LazyImport` instead.\n\n```diff\n+        return [Set(d[k]) for k in sorted(d.keys())]\n```\n\n`.keys()` is unnecessary here; just `sorted(d)` will work.\n\n```diff\n+    def combinatorial_class_of_size(self, size):\n+        assert(size >= 0), \"size (%d) must be a positive integer\" % size\n+        return PackedWords(size)\n```\n\nMissing docstring here.\n\n```diff\n+        if res.size() != self._size:\n+            raise ValueError, \"Wrong size of word\"\n+        return res\n```\n\nThis is old-style `raise` syntax which should not be used.  Instead use `raise ValueError(\"Wrong size of word\")`.\n\nGeneral comment: Please also use spaces around operators such as `>` and `+` and after commas more often than not, in PEP-8 style.",
    "created_at": "2018-07-25T15:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398675",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">comment:7</div>

I can't provide any useful feedback on the math, but here are a few minor nitpicks:

```diff
+#       Copyright (C) 2012 Jean-Baptiste Priez <jbp@kerios.fr>,
```

I assume you'll want to update this to 2018

```diff
+    :func:`sage.combinat.permutation.to_standard`) for *packed words*.
+    EXEMPLES::
```

EXEMPLES -> EXAMPLES; also I think normally there should be an additional blank line before the "EXAMPLES" heading.

```diff
+    for set in li:
+        for p in set:
+            dic[p] = i
+        i += 1
```

Please try to avoid using Python built-ins like `set` as a variable name.  It's reasonably unambiguous here, but can still be confusing (especially to editors).  If you're hell-bend on naming the variable "set", I'll sometimes do something like `_set` or `set_`.

```diff
+    return PackedWord(dic.values())
```

For Python 3 compatibility please make sure that `PackedWord` can accept an arbitrary iterable its argument.  I believe this might already be the case for `ClonableArray` and subclasses thereof, but I'm not positive.  Otherwise, this would have be something like `list(dic.values())` unfortunately.

```diff
+            #sage: PackedWord([2,2,1,0,4])
+            #Traceback (most recent call last)
+            #...
+            #AssertionError: This is not a packed word
```
this is commented out for some reason?

```diff
+        assert(len(s) == 0 or (max(s) == len(s) and min(s) == 1)
+            ), "This is not a packed word %s" % str(self)
```

`str(self)` is unnecessary; it can just be `self` (the `str()` is implied by the `%s` format code).  I think we're mostly preferring new-style string formatting these days, but I don't think there's a policy either way.

```diff
+        import collections
```

Please avoid in-line imports unless it's absolutely necessary.  I guarantee `collections` is already being imported elsewhere in Sage, so there's no reason not to put it at the top-level of the module.

There are some other in-line imports elsewhere you might want to check on.  For imports from Sage this is sometimes more necessary to avoid circular imports or slow import times, though a lot of that can also be avoided using `LazyImport` instead.

```diff
+        return [Set(d[k]) for k in sorted(d.keys())]
```

`.keys()` is unnecessary here; just `sorted(d)` will work.

```diff
+    def combinatorial_class_of_size(self, size):
+        assert(size >= 0), "size (%d) must be a positive integer" % size
+        return PackedWords(size)
```

Missing docstring here.

```diff
+        if res.size() != self._size:
+            raise ValueError, "Wrong size of word"
+        return res
```

This is old-style `raise` syntax which should not be used.  Instead use `raise ValueError("Wrong size of word")`.

General comment: Please also use spaces around operators such as `>` and `+` and after commas more often than not, in PEP-8 style.



---

archive/issue_comments_398676.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nFor py3 compatibiity:\n\n* do not use it.next() but instead next(it)\n\n* do not use xrange but range",
    "created_at": "2018-07-25T18:26:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398676",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

For py3 compatibiity:

* do not use it.next() but instead next(it)

* do not use xrange but range



---

archive/issue_comments_398677.json:
```json
{
    "body": "Changed commit from **[`009e1fc`](https://github.com/sagemath/sagetrac-mirror/commit/009e1fccfe6a6164198b85fa8964f3212387c3c3)** to **[`618f4f8`](https://github.com/sagemath/sagetrac-mirror/commit/618f4f83e90d16500fb0b55eca7de2a68e7249a1)**",
    "created_at": "2018-07-25T19:17:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398677",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`009e1fc`](https://github.com/sagemath/sagetrac-mirror/commit/009e1fccfe6a6164198b85fa8964f3212387c3c3)** to **[`618f4f8`](https://github.com/sagemath/sagetrac-mirror/commit/618f4f83e90d16500fb0b55eca7de2a68e7249a1)**



---

archive/issue_comments_398678.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25d974f8d5cd9fa5f8ecf0389a0e96c0960d990b\"><code>25d974f</code></a></td><td><code>corrections following embray and chapoton advises</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/618f4f83e90d16500fb0b55eca7de2a68e7249a1\"><code>618f4f8</code></a></td><td><code>corrections following embray and chapoton advises</code></td></tr></table>\n",
    "created_at": "2018-07-25T19:17:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398678",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25d974f8d5cd9fa5f8ecf0389a0e96c0960d990b"><code>25d974f</code></a></td><td><code>corrections following embray and chapoton advises</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/618f4f83e90d16500fb0b55eca7de2a68e7249a1"><code>618f4f8</code></a></td><td><code>corrections following embray and chapoton advises</code></td></tr></table>




---

archive/issue_comments_398679.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFor the copyright, I didn't change because some functions are comming from Jean-Baptiste Priez and he wrote it in 2012.\nFor \"PackedWord(dic.values())\" I checked that the following thing works, is that a good check?\nsage: PackedWord(xrange(1,5))\n[1, 2, 3, 4]",
    "created_at": "2018-07-25T19:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398679",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:10" align="right">comment:10</div>

For the copyright, I didn't change because some functions are comming from Jean-Baptiste Priez and he wrote it in 2012.
For "PackedWord(dic.values())" I checked that the following thing works, is that a good check?
sage: PackedWord(xrange(1,5))
[1, 2, 3, 4]



---

archive/issue_comments_398680.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n* I think it would be better to avoid `Set` in library code.  It comes with great performance penalty.\n\n* A proposal for a replacement of the introductory text:\n\n```\nPacked words are a way to represent ordered set partitions.\nA word `w` with letters in `\\{1,...,n\\}` is a packed word if for each number `k > 1` appearing in `w`, the number `k - 1` appears in `w` too.\n\nThus, `w` can be obtained from an ordered set partition by setting `w_i=j` if `i` belongs to the `j`-th block.\n```",
    "created_at": "2018-07-25T20:15:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398680",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:11" align="right">comment:11</div>

* I think it would be better to avoid `Set` in library code.  It comes with great performance penalty.

* A proposal for a replacement of the introductory text:

```
Packed words are a way to represent ordered set partitions.
A word `w` with letters in `\{1,...,n\}` is a packed word if for each number `k > 1` appearing in `w`, the number `k - 1` appears in `w` too.

Thus, `w` can be obtained from an ordered set partition by setting `w_i=j` if `i` belongs to the `j`-th block.
```



---

archive/issue_comments_398681.json:
```json
{
    "body": "Changed commit from **[`618f4f8`](https://github.com/sagemath/sagetrac-mirror/commit/618f4f83e90d16500fb0b55eca7de2a68e7249a1)** to **[`569323d`](https://github.com/sagemath/sagetrac-mirror/commit/569323dc1547d8b1c6862039692646858848020d)**",
    "created_at": "2018-07-25T21:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398681",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`618f4f8`](https://github.com/sagemath/sagetrac-mirror/commit/618f4f83e90d16500fb0b55eca7de2a68e7249a1)** to **[`569323d`](https://github.com/sagemath/sagetrac-mirror/commit/569323dc1547d8b1c6862039692646858848020d)**



---

archive/issue_comments_398682.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/569323dc1547d8b1c6862039692646858848020d\"><code>569323d</code></a></td><td><code>substitute of `Set` by `set` and replacement of the introductory text</code></td></tr></table>\n",
    "created_at": "2018-07-25T21:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398682",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/569323dc1547d8b1c6862039692646858848020d"><code>569323d</code></a></td><td><code>substitute of `Set` by `set` and replacement of the introductory text</code></td></tr></table>




---

archive/issue_comments_398683.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAlso, anytime you have latex code, you should make the string \"raw\" by starting the (doc)strings with `r\"\"\"`.",
    "created_at": "2018-07-26T12:33:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398683",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

Also, anytime you have latex code, you should make the string "raw" by starting the (doc)strings with `r"""`.



---

archive/issue_comments_398684.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04185fa3b0f7fbf8078b67286460385ae4dc39d0\"><code>04185fa</code></a></td><td><code>adding r before triple quote</code></td></tr></table>\n",
    "created_at": "2018-07-26T14:59:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398684",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04185fa3b0f7fbf8078b67286460385ae4dc39d0"><code>04185fa</code></a></td><td><code>adding r before triple quote</code></td></tr></table>




---

archive/issue_comments_398685.json:
```json
{
    "body": "Changed commit from **[`569323d`](https://github.com/sagemath/sagetrac-mirror/commit/569323dc1547d8b1c6862039692646858848020d)** to **[`04185fa`](https://github.com/sagemath/sagetrac-mirror/commit/04185fa3b0f7fbf8078b67286460385ae4dc39d0)**",
    "created_at": "2018-07-26T14:59:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398685",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`569323d`](https://github.com/sagemath/sagetrac-mirror/commit/569323dc1547d8b1c6862039692646858848020d)** to **[`04185fa`](https://github.com/sagemath/sagetrac-mirror/commit/04185fa3b0f7fbf8078b67286460385ae4dc39d0)**



---

archive/issue_comments_398686.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ebffa9103e0eb6b9bf4174df2826be56b3b3c1d\"><code>9ebffa9</code></a></td><td><code>deplacement of to_park and add a note in set_partition_ordered</code></td></tr></table>\n",
    "created_at": "2018-07-26T23:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398686",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ebffa9103e0eb6b9bf4174df2826be56b3b3c1d"><code>9ebffa9</code></a></td><td><code>deplacement of to_park and add a note in set_partition_ordered</code></td></tr></table>




---

archive/issue_comments_398687.json:
```json
{
    "body": "Changed commit from **[`04185fa`](https://github.com/sagemath/sagetrac-mirror/commit/04185fa3b0f7fbf8078b67286460385ae4dc39d0)** to **[`9ebffa9`](https://github.com/sagemath/sagetrac-mirror/commit/9ebffa9103e0eb6b9bf4174df2826be56b3b3c1d)**",
    "created_at": "2018-07-26T23:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398687",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`04185fa`](https://github.com/sagemath/sagetrac-mirror/commit/04185fa3b0f7fbf8078b67286460385ae4dc39d0)** to **[`9ebffa9`](https://github.com/sagemath/sagetrac-mirror/commit/9ebffa9103e0eb6b9bf4174df2826be56b3b3c1d)**



---

archive/issue_comments_398688.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61f8fdd80e527fed6944666f1893d4c9e7e48dc3\"><code>61f8fdd</code></a></td><td><code>bug fixed</code></td></tr></table>\n",
    "created_at": "2018-07-26T23:22:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398688",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61f8fdd80e527fed6944666f1893d4c9e7e48dc3"><code>61f8fdd</code></a></td><td><code>bug fixed</code></td></tr></table>




---

archive/issue_comments_398689.json:
```json
{
    "body": "Changed commit from **[`9ebffa9`](https://github.com/sagemath/sagetrac-mirror/commit/9ebffa9103e0eb6b9bf4174df2826be56b3b3c1d)** to **[`61f8fdd`](https://github.com/sagemath/sagetrac-mirror/commit/61f8fdd80e527fed6944666f1893d4c9e7e48dc3)**",
    "created_at": "2018-07-26T23:22:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398689",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9ebffa9`](https://github.com/sagemath/sagetrac-mirror/commit/9ebffa9103e0eb6b9bf4174df2826be56b3b3c1d)** to **[`61f8fdd`](https://github.com/sagemath/sagetrac-mirror/commit/61f8fdd80e527fed6944666f1893d4c9e7e48dc3)**



---

archive/issue_comments_398690.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nMinor docstring comments:\n\n* Lots of docstrings that should be sentences are missing periods.\n\n* check() method docstring should be 'Check that' not 'Checks that' (there may be a few other minor grammatical things like that).\n\n* to_ordered_set_partition() docstring should start 'Build an' not 'This method build an'\n\n* to_composition() should mention what a parikh vector is.\n\n* In the docstrings for inversion and coinversions, I'm not sure if the use of the individual character for an exponentiated 2 will work in general\n\n*left_weak_order_greater docstring should say 'information' not 'informations'\n\n* packed_word_size `__init__` method doesn't have a doctest.",
    "created_at": "2018-07-27T13:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398690",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:17" align="right">comment:17</div>

Minor docstring comments:

* Lots of docstrings that should be sentences are missing periods.

* check() method docstring should be 'Check that' not 'Checks that' (there may be a few other minor grammatical things like that).

* to_ordered_set_partition() docstring should start 'Build an' not 'This method build an'

* to_composition() should mention what a parikh vector is.

* In the docstrings for inversion and coinversions, I'm not sure if the use of the individual character for an exponentiated 2 will work in general

*left_weak_order_greater docstring should say 'information' not 'informations'

* packed_word_size `__init__` method doesn't have a doctest.



---

archive/issue_comments_398691.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a84d8147aa43be55a559d9f5f745b54a50fe9b2\"><code>6a84d81</code></a></td><td><code>fix of doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/232aceebc96c4f46137f9fb46d2751d6effc3573\"><code>232acee</code></a></td><td><code>add dot to doc and modified the function to_ordered_set_partition</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/871bb9d6c824e94d97665e362990c5587b02c41a\"><code>871bb9d</code></a></td><td><code>update of to_composition doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb74668ab7c967aca551951e7cc5a63ac1f73be9\"><code>cb74668</code></a></td><td><code>TODO DONE</code></td></tr></table>\n",
    "created_at": "2018-07-27T22:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398691",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a84d8147aa43be55a559d9f5f745b54a50fe9b2"><code>6a84d81</code></a></td><td><code>fix of doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/232aceebc96c4f46137f9fb46d2751d6effc3573"><code>232acee</code></a></td><td><code>add dot to doc and modified the function to_ordered_set_partition</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/871bb9d6c824e94d97665e362990c5587b02c41a"><code>871bb9d</code></a></td><td><code>update of to_composition doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb74668ab7c967aca551951e7cc5a63ac1f73be9"><code>cb74668</code></a></td><td><code>TODO DONE</code></td></tr></table>




---

archive/issue_comments_398692.json:
```json
{
    "body": "Changed commit from **[`61f8fdd`](https://github.com/sagemath/sagetrac-mirror/commit/61f8fdd80e527fed6944666f1893d4c9e7e48dc3)** to **[`cb74668`](https://github.com/sagemath/sagetrac-mirror/commit/cb74668ab7c967aca551951e7cc5a63ac1f73be9)**",
    "created_at": "2018-07-27T22:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398692",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`61f8fdd`](https://github.com/sagemath/sagetrac-mirror/commit/61f8fdd80e527fed6944666f1893d4c9e7e48dc3)** to **[`cb74668`](https://github.com/sagemath/sagetrac-mirror/commit/cb74668ab7c967aca551951e7cc5a63ac1f73be9)**



---

archive/issue_comments_398693.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/108faa490ae91535b8114611c93969b7ded45b51\"><code>108faa4</code></a></td><td><code>Merge branch 'public/combinat/implement_Packed_Words_25916' of git://trac.sagemath.org/sage into public/combinat/implement_Packed_Words_25916</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/683c74c3e1852fd1435ddaa3b61b83bab2c4651e\"><code>683c74c</code></a></td><td><code>Making various improvements and soem cleanup.</code></td></tr></table>\n",
    "created_at": "2018-08-10T02:41:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398693",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/108faa490ae91535b8114611c93969b7ded45b51"><code>108faa4</code></a></td><td><code>Merge branch 'public/combinat/implement_Packed_Words_25916' of git://trac.sagemath.org/sage into public/combinat/implement_Packed_Words_25916</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/683c74c3e1852fd1435ddaa3b61b83bab2c4651e"><code>683c74c</code></a></td><td><code>Making various improvements and soem cleanup.</code></td></tr></table>




---

archive/issue_comments_398694.json:
```json
{
    "body": "Changed commit from **[`cb74668`](https://github.com/sagemath/sagetrac-mirror/commit/cb74668ab7c967aca551951e7cc5a63ac1f73be9)** to **[`683c74c`](https://github.com/sagemath/sagetrac-mirror/commit/683c74c3e1852fd1435ddaa3b61b83bab2c4651e)**",
    "created_at": "2018-08-10T02:41:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398694",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cb74668`](https://github.com/sagemath/sagetrac-mirror/commit/cb74668ab7c967aca551951e7cc5a63ac1f73be9)** to **[`683c74c`](https://github.com/sagemath/sagetrac-mirror/commit/683c74c3e1852fd1435ddaa3b61b83bab2c4651e)**



---

archive/issue_comments_398695.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI have rewritten some parts of the code to directly use some of the feature of the base classes and category you are using. I also made a bunch of doc related fixes and improvements. However, the definition of a left coinversion was exactly the same as that of an inversion. So that will need to be added (currently it is a `???`). Other than that, if my changes are good, then it will be a positive review (I think I have taken care of all of Kevin's comments).",
    "created_at": "2018-08-10T02:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398695",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

I have rewritten some parts of the code to directly use some of the feature of the base classes and category you are using. I also made a bunch of doc related fixes and improvements. However, the definition of a left coinversion was exactly the same as that of an inversion. So that will need to be added (currently it is a `???`). Other than that, if my changes are good, then it will be a positive review (I think I have taken care of all of Kevin's comments).



---

archive/issue_comments_398696.json:
```json
{
    "body": "Changed reviewer from **Aaron Lauve** to **Aaron Lauve, Kevin Dilks, Travis Scrimshaw**",
    "created_at": "2018-08-10T02:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398696",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Aaron Lauve** to **Aaron Lauve, Kevin Dilks, Travis Scrimshaw**



---

archive/issue_events_355119.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-08-10T02:44:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355119"
}
```



---

archive/issue_events_355120.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-08-10T02:44:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355120"
}
```



---

archive/issue_comments_398697.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nmissing blank line in the doc added inside src/sage/combinat/set_partition_ordered.py",
    "created_at": "2018-08-23T16:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398697",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

missing blank line in the doc added inside src/sage/combinat/set_partition_ordered.py



---

archive/issue_comments_398698.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36ab5842bbed89f4f2e98b7445cc292b4bc92f56\"><code>36ab584</code></a></td><td><code>adding blank line in the doc added inside set_partition_ordered.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/239008a29c9b39675723b1fdaec02220c4a9172a\"><code>239008a</code></a></td><td><code>correction on inversions and coinversions</code></td></tr></table>\n",
    "created_at": "2018-09-25T20:34:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398698",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36ab5842bbed89f4f2e98b7445cc292b4bc92f56"><code>36ab584</code></a></td><td><code>adding blank line in the doc added inside set_partition_ordered.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/239008a29c9b39675723b1fdaec02220c4a9172a"><code>239008a</code></a></td><td><code>correction on inversions and coinversions</code></td></tr></table>




---

archive/issue_comments_398699.json:
```json
{
    "body": "Changed commit from **[`683c74c`](https://github.com/sagemath/sagetrac-mirror/commit/683c74c3e1852fd1435ddaa3b61b83bab2c4651e)** to **[`239008a`](https://github.com/sagemath/sagetrac-mirror/commit/239008a29c9b39675723b1fdaec02220c4a9172a)**",
    "created_at": "2018-09-25T20:34:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398699",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`683c74c`](https://github.com/sagemath/sagetrac-mirror/commit/683c74c3e1852fd1435ddaa3b61b83bab2c4651e)** to **[`239008a`](https://github.com/sagemath/sagetrac-mirror/commit/239008a29c9b39675723b1fdaec02220c4a9172a)**



---

archive/issue_comments_398700.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nBack to needs review?",
    "created_at": "2018-09-25T22:41:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398700",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

Back to needs review?



---

archive/issue_comments_398701.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nLet me have a \"pre review\" look first, Travis. Hugo and I are both in Montreal right now, so can go over some aspects of it together.",
    "created_at": "2018-09-26T03:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398701",
    "user": "https://github.com/alauve"
}
```

<div id="comment:24" align="right">comment:24</div>

Let me have a "pre review" look first, Travis. Hugo and I are both in Montreal right now, so can go over some aspects of it together.



---

archive/issue_comments_398702.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nFirst of all, thank you Travis for all the improvements.\n\nYour remarque on inversions make me rework on it. I think it is better to based it on 1 because it is that way on permutations and the coherence is important.\n\nAlso I have some other remarques and questions :\n* The terme **coinversion** is not good so I think it's better to name it **inversions_value_left**, **inversions_position_right**...\n* But now I'm realizing that it might be better to use options like *inversions(side=\"right\",support=\"position\")*. What do you think ?\n* An other question is : is it a good convention to return the (greater,lower) when thes are **values** and (lower,greater) when thes are **positions** ?",
    "created_at": "2018-09-26T18:46:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398702",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:25" align="right">comment:25</div>

First of all, thank you Travis for all the improvements.

Your remarque on inversions make me rework on it. I think it is better to based it on 1 because it is that way on permutations and the coherence is important.

Also I have some other remarques and questions :
* The terme **coinversion** is not good so I think it's better to name it **inversions_value_left**, **inversions_position_right**...
* But now I'm realizing that it might be better to use options like *inversions(side="right",support="position")*. What do you think ?
* An other question is : is it a good convention to return the (greater,lower) when thes are **values** and (lower,greater) when thes are **positions** ?



---

archive/issue_comments_398703.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI am not really sure. These things sound like they would have lots of convention choices depending on who you ask. I would just choose what convention you think is best (for your definition of best) and just clearly spell it out. If there are things in the literature (including what you might be writing), IMO it is generally better to stick to that.",
    "created_at": "2018-09-26T22:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398703",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:26" align="right">comment:26</div>

I am not really sure. These things sound like they would have lots of convention choices depending on who you ask. I would just choose what convention you think is best (for your definition of best) and just clearly spell it out. If there are things in the literature (including what you might be writing), IMO it is generally better to stick to that.



---

archive/issue_comments_398704.json:
```json
{
    "body": "Changed commit from **[`239008a`](https://github.com/sagemath/sagetrac-mirror/commit/239008a29c9b39675723b1fdaec02220c4a9172a)** to **[`ecfcf69`](https://github.com/sagemath/sagetrac-mirror/commit/ecfcf69849d9b8443c990252e3aaea9f4e5a2b8a)**",
    "created_at": "2018-09-27T18:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398704",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`239008a`](https://github.com/sagemath/sagetrac-mirror/commit/239008a29c9b39675723b1fdaec02220c4a9172a)** to **[`ecfcf69`](https://github.com/sagemath/sagetrac-mirror/commit/ecfcf69849d9b8443c990252e3aaea9f4e5a2b8a)**



---

archive/issue_comments_398705.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecfcf69849d9b8443c990252e3aaea9f4e5a2b8a\"><code>ecfcf69</code></a></td><td><code>update inversions with options</code></td></tr></table>\n",
    "created_at": "2018-09-27T18:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398705",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecfcf69849d9b8443c990252e3aaea9f4e5a2b8a"><code>ecfcf69</code></a></td><td><code>update inversions with options</code></td></tr></table>




---

archive/issue_comments_398706.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/973ca627078d06906321bc8806d26f5a51bcc290\"><code>973ca62</code></a></td><td><code>Merge branch 'develop' into public/combinat/implement_Packed_Words_25916</code></td></tr></table>\n",
    "created_at": "2018-09-27T20:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398706",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/973ca627078d06906321bc8806d26f5a51bcc290"><code>973ca62</code></a></td><td><code>Merge branch 'develop' into public/combinat/implement_Packed_Words_25916</code></td></tr></table>




---

archive/issue_comments_398707.json:
```json
{
    "body": "Changed commit from **[`ecfcf69`](https://github.com/sagemath/sagetrac-mirror/commit/ecfcf69849d9b8443c990252e3aaea9f4e5a2b8a)** to **[`973ca62`](https://github.com/sagemath/sagetrac-mirror/commit/973ca627078d06906321bc8806d26f5a51bcc290)**",
    "created_at": "2018-09-27T20:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398707",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ecfcf69`](https://github.com/sagemath/sagetrac-mirror/commit/ecfcf69849d9b8443c990252e3aaea9f4e5a2b8a)** to **[`973ca62`](https://github.com/sagemath/sagetrac-mirror/commit/973ca627078d06906321bc8806d26f5a51bcc290)**



---

archive/issue_comments_398708.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nIs this now ready for re-review?",
    "created_at": "2018-10-01T07:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398708",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

Is this now ready for re-review?



---

archive/issue_comments_398709.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nNot yet. Close.",
    "created_at": "2018-10-01T11:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398709",
    "user": "https://github.com/alauve"
}
```

<div id="comment:30" align="right">comment:30</div>

Not yet. Close.



---

archive/issue_comments_398710.json:
```json
{
    "body": "Changed commit from **[`973ca62`](https://github.com/sagemath/sagetrac-mirror/commit/973ca627078d06906321bc8806d26f5a51bcc290)** to **[`6d30bee`](https://github.com/sagemath/sagetrac-mirror/commit/6d30bee7f7afd7fd9de6fbdc3664606dc8cce8e6)**",
    "created_at": "2018-10-02T23:01:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398710",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`973ca62`](https://github.com/sagemath/sagetrac-mirror/commit/973ca627078d06906321bc8806d26f5a51bcc290)** to **[`6d30bee`](https://github.com/sagemath/sagetrac-mirror/commit/6d30bee7f7afd7fd9de6fbdc3664606dc8cce8e6)**



---

archive/issue_comments_398711.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ccf8bd547a0a58f6a2362c55f35890539a9f445\"><code>7ccf8bd</code></a></td><td><code>some modifications and improvements discussed with Aaron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3bdc48cebc4938275756c54bd9fe20cc1e2392e\"><code>f3bdc48</code></a></td><td><code>adding `__mul__` for packed word and some fix in doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d30bee7f7afd7fd9de6fbdc3664606dc8cce8e6\"><code>6d30bee</code></a></td><td><code>add some TODO</code></td></tr></table>\n",
    "created_at": "2018-10-02T23:01:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398711",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ccf8bd547a0a58f6a2362c55f35890539a9f445"><code>7ccf8bd</code></a></td><td><code>some modifications and improvements discussed with Aaron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3bdc48cebc4938275756c54bd9fe20cc1e2392e"><code>f3bdc48</code></a></td><td><code>adding `__mul__` for packed word and some fix in doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d30bee7f7afd7fd9de6fbdc3664606dc8cce8e6"><code>6d30bee</code></a></td><td><code>add some TODO</code></td></tr></table>




---

archive/issue_comments_398712.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nIt remains some TODO mostly about `check`, `_element_constructor_` and `__contains__` or english improvements.\nI'll propose something tomorrow about the first point.",
    "created_at": "2018-10-02T23:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398712",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:32" align="right">comment:32</div>

It remains some TODO mostly about `check`, `_element_constructor_` and `__contains__` or english improvements.
I'll propose something tomorrow about the first point.



---

archive/issue_comments_398713.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nLooks nice so far, Hugo. (I see a few small issues). Don't worry about english improvements. I'll handle these (and the small issues I alluded to) after your next push.\n\n*EDIT:* I should mention that if somebody else wants to chime-in about how `check`, `_element_constructor_` and `__contains__` should work in concert, now would be the time.",
    "created_at": "2018-10-02T23:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398713",
    "user": "https://github.com/alauve"
}
```

<div id="comment:33" align="right">comment:33</div>

Looks nice so far, Hugo. (I see a few small issues). Don't worry about english improvements. I'll handle these (and the small issues I alluded to) after your next push.

*EDIT:* I should mention that if somebody else wants to chime-in about how `check`, `_element_constructor_` and `__contains__` should work in concert, now would be the time.



---

archive/issue_comments_398714.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI forgot to say that I'm also currently working on right and left weak order intervals.",
    "created_at": "2018-10-02T23:31:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398714",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:34" align="right">comment:34</div>

I forgot to say that I'm also currently working on right and left weak order intervals.



---

archive/issue_comments_398715.json:
```json
{
    "body": "Changed commit from **[`6d30bee`](https://github.com/sagemath/sagetrac-mirror/commit/6d30bee7f7afd7fd9de6fbdc3664606dc8cce8e6)** to **[`53ebdd3`](https://github.com/sagemath/sagetrac-mirror/commit/53ebdd30249e8b5b893fd152486d8e85daead22f)**",
    "created_at": "2018-10-02T23:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398715",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6d30bee`](https://github.com/sagemath/sagetrac-mirror/commit/6d30bee7f7afd7fd9de6fbdc3664606dc8cce8e6)** to **[`53ebdd3`](https://github.com/sagemath/sagetrac-mirror/commit/53ebdd30249e8b5b893fd152486d8e85daead22f)**



---

archive/issue_comments_398716.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53ebdd30249e8b5b893fd152486d8e85daead22f\"><code>53ebdd3</code></a></td><td><code>add intervals under right and left weak order and a small fix</code></td></tr></table>\n",
    "created_at": "2018-10-02T23:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398716",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53ebdd30249e8b5b893fd152486d8e85daead22f"><code>53ebdd3</code></a></td><td><code>add intervals under right and left weak order and a small fix</code></td></tr></table>




---

archive/issue_comments_398717.json:
```json
{
    "body": "Changed commit from **[`53ebdd3`](https://github.com/sagemath/sagetrac-mirror/commit/53ebdd30249e8b5b893fd152486d8e85daead22f)** to **[`5891c7a`](https://github.com/sagemath/sagetrac-mirror/commit/5891c7afd1c4e36cd207ee5c6396ac06a2f65a64)**",
    "created_at": "2018-10-04T18:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398717",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`53ebdd3`](https://github.com/sagemath/sagetrac-mirror/commit/53ebdd30249e8b5b893fd152486d8e85daead22f)** to **[`5891c7a`](https://github.com/sagemath/sagetrac-mirror/commit/5891c7afd1c4e36cd207ee5c6396ac06a2f65a64)**



---

archive/issue_comments_398718.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5891c7afd1c4e36cd207ee5c6396ac06a2f65a64\"><code>5891c7a</code></a></td><td><code>add a test and fix it</code></td></tr></table>\n",
    "created_at": "2018-10-04T18:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398718",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5891c7afd1c4e36cd207ee5c6396ac06a2f65a64"><code>5891c7a</code></a></td><td><code>add a test and fix it</code></td></tr></table>




---

archive/issue_comments_398719.json:
```json
{
    "body": "Changed commit from **[`5891c7a`](https://github.com/sagemath/sagetrac-mirror/commit/5891c7afd1c4e36cd207ee5c6396ac06a2f65a64)** to **[`52984e4`](https://github.com/sagemath/sagetrac-mirror/commit/52984e4e878a60bc8418e8c704f7c49cf168f1c6)**",
    "created_at": "2018-10-06T06:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398719",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5891c7a`](https://github.com/sagemath/sagetrac-mirror/commit/5891c7afd1c4e36cd207ee5c6396ac06a2f65a64)** to **[`52984e4`](https://github.com/sagemath/sagetrac-mirror/commit/52984e4e878a60bc8418e8c704f7c49cf168f1c6)**



---

archive/issue_comments_398720.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b36c46229ead065471d23efaed51b3083e155e19\"><code>b36c462</code></a></td><td><code>add random_element method; add complement involution; cleanup few typos</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2041ad549a936925e7cf6c3b8ec41ea19deb344\"><code>d2041ad</code></a></td><td><code>normalize whitespace for indices and keywords</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/713f025547c3220e42e42b1223e681ecb5a2bd6f\"><code>713f025</code></a></td><td><code>work on docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a653695ec52abf750c309cdeb5dfb729abf950df\"><code>a653695</code></a></td><td><code>reduce number of calls to len; fix global_ascent*; clean up permutation_to_packed_words</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52984e4e878a60bc8418e8c704f7c49cf168f1c6\"><code>52984e4</code></a></td><td><code>trying to sort out check, contains, and element_constructor</code></td></tr></table>\n",
    "created_at": "2018-10-06T06:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398720",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b36c46229ead065471d23efaed51b3083e155e19"><code>b36c462</code></a></td><td><code>add random_element method; add complement involution; cleanup few typos</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2041ad549a936925e7cf6c3b8ec41ea19deb344"><code>d2041ad</code></a></td><td><code>normalize whitespace for indices and keywords</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/713f025547c3220e42e42b1223e681ecb5a2bd6f"><code>713f025</code></a></td><td><code>work on docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a653695ec52abf750c309cdeb5dfb729abf950df"><code>a653695</code></a></td><td><code>reduce number of calls to len; fix global_ascent*; clean up permutation_to_packed_words</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52984e4e878a60bc8418e8c704f7c49cf168f1c6"><code>52984e4</code></a></td><td><code>trying to sort out check, contains, and element_constructor</code></td></tr></table>




---

archive/issue_comments_398721.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI think this ticket is now ready for a deeper-than-superficial glance.\n\n**Two questions for Hugo:**\n\n* Is there a quick way to check whether or not something is greater / lesser\n   in right- or left-weak order? E.g., for ordinary weak order, `pi < sigma` if \n   the inversions of `pi` (or `pi.inverse()`) are a subset of that of `sigma` (or `sigma.inverse()`)\n\n* Doing some computations, it looks like the left and right posets are graded. Is that so? If so, I think it would be better to use `RecursivelyEnumeratedSet` to search for elements in the interval [u1, u2] instead of building all of `u1.right_weak_order_greater()`\n\nIf either of the above are true, then I believe you can speed-up your interval code.\n\nAnd **one question for others** regarding check/contains/element_constructor/eq:\n\n* is this the right convention?: \n   we want `a in B` is \"True\" if and only if `a == B(a)` is \"True\"   \n\nI didn't actually check this yet, but thought I'd ask.",
    "created_at": "2018-10-06T06:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398721",
    "user": "https://github.com/alauve"
}
```

<div id="comment:38" align="right">comment:38</div>

I think this ticket is now ready for a deeper-than-superficial glance.

**Two questions for Hugo:**

* Is there a quick way to check whether or not something is greater / lesser
   in right- or left-weak order? E.g., for ordinary weak order, `pi < sigma` if 
   the inversions of `pi` (or `pi.inverse()`) are a subset of that of `sigma` (or `sigma.inverse()`)

* Doing some computations, it looks like the left and right posets are graded. Is that so? If so, I think it would be better to use `RecursivelyEnumeratedSet` to search for elements in the interval [u1, u2] instead of building all of `u1.right_weak_order_greater()`

If either of the above are true, then I believe you can speed-up your interval code.

And **one question for others** regarding check/contains/element_constructor/eq:

* is this the right convention?: 
   we want `a in B` is "True" if and only if `a == B(a)` is "True"   

I didn't actually check this yet, but thought I'd ask.



---

archive/issue_comments_398722.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nFor the first question, I don't know if there is, it is possible so I'll check that. \nFor the second, you are totally right, I'll change it.",
    "created_at": "2018-10-08T23:55:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398722",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:39" align="right">comment:39</div>

For the first question, I don't know if there is, it is possible so I'll check that. 
For the second, you are totally right, I'll change it.



---

archive/issue_comments_398723.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@alauve](#comment%3A38):\n> * is this the right convention?: \n>    we want `a in B` is \"True\" if and only if `a == B(a)` is \"True\"   \n\nWell, for `a == B(a)`, that also runs a coercion, so it (generically) roughly does `B(a) == B(a)`. What you are really after is does `B(a)` fail or not (but often `B(a)` does the containment check before proceeding).",
    "created_at": "2018-10-09T06:54:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398723",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@alauve](#comment%3A38):
> * is this the right convention?: 
>    we want `a in B` is "True" if and only if `a == B(a)` is "True"   

Well, for `a == B(a)`, that also runs a coercion, so it (generically) roughly does `B(a) == B(a)`. What you are really after is does `B(a)` fail or not (but often `B(a)` does the containment check before proceeding).



---

archive/issue_comments_398724.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@tscrim](#comment%3A40):\n\n> Replying to [@alauve](#comment%3A38):\n> > * is this the right convention?: \n> >    we want `a in B` is \"True\" if and only if `a == B(a)` is \"True\"   \n\n> \n> Well, for `a == B(a)`, that also runs a coercion, so it (generically) roughly does `B(a) == B(a)`. What you are really after is does `B(a)` fail or not (but often `B(a)` does the containment check before proceeding).\n\n.\n\nI'm not quite sure what I'm after, but thought the equality test might be part of the story...\n\nI see very different behavior within `Partitions`, `SetPartitions` and `OrderedSetPartitions`:\n\n```\nsage: [2,1] in Partitions()\nTrue\nsage: [{1,2},{3}] in SetPartitions()\nFalse\nsage: [[1,2],[3]] in OrderedSetPartitions()\nTrue\nsage: [[1,2],[3]] in OrderedSetPartitions(3)\nFalse\nsage: [set([1,2]), set([3])] in OrderedSetPartitions(3)\nTypeError: X (=set([1, 2])) must be a Set\n```\n\nI'm not sure which convention to follow. And consequently, I'm not sure how to divvy up the tasks of creating elements between `check`, `__contains__`, and `_element_constructor_`.",
    "created_at": "2018-10-09T15:05:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398724",
    "user": "https://github.com/alauve"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@tscrim](#comment%3A40):

> Replying to [@alauve](#comment%3A38):
> > * is this the right convention?: 
> >    we want `a in B` is "True" if and only if `a == B(a)` is "True"   

> 
> Well, for `a == B(a)`, that also runs a coercion, so it (generically) roughly does `B(a) == B(a)`. What you are really after is does `B(a)` fail or not (but often `B(a)` does the containment check before proceeding).

.

I'm not quite sure what I'm after, but thought the equality test might be part of the story...

I see very different behavior within `Partitions`, `SetPartitions` and `OrderedSetPartitions`:

```
sage: [2,1] in Partitions()
True
sage: [{1,2},{3}] in SetPartitions()
False
sage: [[1,2],[3]] in OrderedSetPartitions()
True
sage: [[1,2],[3]] in OrderedSetPartitions(3)
False
sage: [set([1,2]), set([3])] in OrderedSetPartitions(3)
TypeError: X (=set([1, 2])) must be a Set
```

I'm not sure which convention to follow. And consequently, I'm not sure how to divvy up the tasks of creating elements between `check`, `__contains__`, and `_element_constructor_`.



---

archive/issue_comments_398725.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\n> Is there a quick way to check whether or not something is greater / lesser in right- or left-weak order? E.g., for ordinary weak order, `pi < sigma` if the inversions of `pi` (or `pi.inverse()`) are a subset of that of `sigma` (or `sigma.inverse()`)\n\nAfter some research, there is a very quick way to check with the inversions. I also need a new methode support(). I think I'll create methodes `is_greater(self, pw, side='right')` and `is_smaller(self, pw, side='right')` with this check and use it in the interval methode.\n\nI should have done it before, sorry.",
    "created_at": "2018-10-10T18:17:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398725",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:42" align="right">comment:42</div>

> Is there a quick way to check whether or not something is greater / lesser in right- or left-weak order? E.g., for ordinary weak order, `pi < sigma` if the inversions of `pi` (or `pi.inverse()`) are a subset of that of `sigma` (or `sigma.inverse()`)

After some research, there is a very quick way to check with the inversions. I also need a new methode support(). I think I'll create methodes `is_greater(self, pw, side='right')` and `is_smaller(self, pw, side='right')` with this check and use it in the interval methode.

I should have done it before, sorry.



---

archive/issue_comments_398726.json:
```json
{
    "body": "Changed commit from **[`52984e4`](https://github.com/sagemath/sagetrac-mirror/commit/52984e4e878a60bc8418e8c704f7c49cf168f1c6)** to **[`5b8866b`](https://github.com/sagemath/sagetrac-mirror/commit/5b8866bf24ab4740c2f18376c70a4a0438cb41e9)**",
    "created_at": "2018-10-12T00:37:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398726",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`52984e4`](https://github.com/sagemath/sagetrac-mirror/commit/52984e4e878a60bc8418e8c704f7c49cf168f1c6)** to **[`5b8866b`](https://github.com/sagemath/sagetrac-mirror/commit/5b8866bf24ab4740c2f18376c70a4a0438cb41e9)**



---

archive/issue_comments_398727.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b8866bf24ab4740c2f18376c70a4a0438cb41e9\"><code>5b8866b</code></a></td><td><code>new methods is_gequal and is_lequal and improvement of intervals' code</code></td></tr></table>\n",
    "created_at": "2018-10-12T00:37:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398727",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b8866bf24ab4740c2f18376c70a4a0438cb41e9"><code>5b8866b</code></a></td><td><code>new methods is_gequal and is_lequal and improvement of intervals' code</code></td></tr></table>




---

archive/issue_events_355121.json:
```json
{
    "actor": "https://github.com/alauve",
    "created_at": "2018-10-12T23:20:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355121"
}
```



---

archive/issue_events_355122.json:
```json
{
    "actor": "https://github.com/alauve",
    "created_at": "2018-10-12T23:20:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355122"
}
```



---

archive/issue_comments_398728.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nMostly looks good. Some comments:\n\nIMO, it is better to not have as much shorthand, so <code>\\`\\forall i <= d < j, u_i > u_j\\`.</code> -> <code>\\`u_i > u_j\\` for all \\`i \\leq d < j.\\`</code>\n\nFormatting change\n\n```\n    TODO:\n\n        - perhaps reformat the display of packed words of sizes 0..3.\n          (I need to look at the documentation to see.)\n```\n\n```\n    .. TODO::\n\n        Perhaps reformat the display of packed words of sizes 0..3.\n```\nor is that a todo for yourself before including it into Sage?\n\n```diff\n-        ``osp`` -- an object or iterable (e.g., a list of lists)\n-        that defines an ordered set partition.\n+        - ``osp`` -- an object or iterable (e.g., a list of lists)\n+          that defines an ordered set partition\n```\n\nThe `TODO:` in the `_element_constructor_` does make sense to do and can be removed.\n\n`.. rubric::` -> `.. RUBRIC::`\n\nI don't understand why there is a `.. rubric` in the `OUTPUT:` of `inversions`. It looks more like it is just in the wrong place.\n\n```diff\n-        - ``side`` -- \"left\" or \"right\": the side of the weak order of inversions\n-        - ``support`` -- \"position\" or \"value\": the support of the result\n+        - ``side`` -- ``\"left\"`` or ``\"right\"``; the side of the weak order of inversions\n+        - ``support`` -- ``\"position\"`` or ``\"value\"``; the support of the result\n```",
    "created_at": "2018-10-13T00:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398728",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:45" align="right">comment:45</div>

Mostly looks good. Some comments:

IMO, it is better to not have as much shorthand, so <code>\`\forall i <= d < j, u_i > u_j\`.</code> -> <code>\`u_i > u_j\` for all \`i \leq d < j.\`</code>

Formatting change

```
    TODO:

        - perhaps reformat the display of packed words of sizes 0..3.
          (I need to look at the documentation to see.)
```

```
    .. TODO::

        Perhaps reformat the display of packed words of sizes 0..3.
```
or is that a todo for yourself before including it into Sage?

```diff
-        ``osp`` -- an object or iterable (e.g., a list of lists)
-        that defines an ordered set partition.
+        - ``osp`` -- an object or iterable (e.g., a list of lists)
+          that defines an ordered set partition
```

The `TODO:` in the `_element_constructor_` does make sense to do and can be removed.

`.. rubric::` -> `.. RUBRIC::`

I don't understand why there is a `.. rubric` in the `OUTPUT:` of `inversions`. It looks more like it is just in the wrong place.

```diff
-        - ``side`` -- "left" or "right": the side of the weak order of inversions
-        - ``support`` -- "position" or "value": the support of the result
+        - ``side`` -- ``"left"`` or ``"right"``; the side of the weak order of inversions
+        - ``support`` -- ``"position"`` or ``"value"``; the support of the result
```



---

archive/issue_comments_398729.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nOh, I see what you are doing with the `inversions()` doc. I don't think that is so useful. I think it would be better to move all of those `.. RUBRIC::` to the main part before the `INPUT:` and then have the `EXAMPLES::` interspersed with maybe a few sentences saying what each test is doing compared the others.",
    "created_at": "2018-10-13T00:03:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398729",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:46" align="right">comment:46</div>

Oh, I see what you are doing with the `inversions()` doc. I don't think that is so useful. I think it would be better to move all of those `.. RUBRIC::` to the main part before the `INPUT:` and then have the `EXAMPLES::` interspersed with maybe a few sentences saying what each test is doing compared the others.



---

archive/issue_comments_398730.json:
```json
{
    "body": "Changed commit from **[`5b8866b`](https://github.com/sagemath/sagetrac-mirror/commit/5b8866bf24ab4740c2f18376c70a4a0438cb41e9)** to **[`b07556e`](https://github.com/sagemath/sagetrac-mirror/commit/b07556e26c753778b3226f44acc9b44c92fb3b53)**",
    "created_at": "2018-10-16T18:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398730",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5b8866b`](https://github.com/sagemath/sagetrac-mirror/commit/5b8866bf24ab4740c2f18376c70a4a0438cb41e9)** to **[`b07556e`](https://github.com/sagemath/sagetrac-mirror/commit/b07556e26c753778b3226f44acc9b44c92fb3b53)**



---

archive/issue_comments_398731.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b07556e26c753778b3226f44acc9b44c92fb3b53\"><code>b07556e</code></a></td><td><code>fix of some tests</code></td></tr></table>\n",
    "created_at": "2018-10-16T18:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398731",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b07556e26c753778b3226f44acc9b44c92fb3b53"><code>b07556e</code></a></td><td><code>fix of some tests</code></td></tr></table>




---

archive/issue_comments_398732.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9db415d48fd321e9a0764cadea4af419ba16439\"><code>c9db415</code></a></td><td><code>fix in the doc</code></td></tr></table>\n",
    "created_at": "2018-10-16T18:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398732",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9db415d48fd321e9a0764cadea4af419ba16439"><code>c9db415</code></a></td><td><code>fix in the doc</code></td></tr></table>




---

archive/issue_comments_398733.json:
```json
{
    "body": "Changed commit from **[`b07556e`](https://github.com/sagemath/sagetrac-mirror/commit/b07556e26c753778b3226f44acc9b44c92fb3b53)** to **[`c9db415`](https://github.com/sagemath/sagetrac-mirror/commit/c9db415d48fd321e9a0764cadea4af419ba16439)**",
    "created_at": "2018-10-16T18:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398733",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b07556e`](https://github.com/sagemath/sagetrac-mirror/commit/b07556e26c753778b3226f44acc9b44c92fb3b53)** to **[`c9db415`](https://github.com/sagemath/sagetrac-mirror/commit/c9db415d48fd321e9a0764cadea4af419ba16439)**



---

archive/issue_comments_398734.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0d06a25d5828534fcba389d4991eb319012c37e\"><code>d0d06a2</code></a></td><td><code>inversions() doc</code></td></tr></table>\n",
    "created_at": "2018-10-16T18:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398734",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0d06a25d5828534fcba389d4991eb319012c37e"><code>d0d06a2</code></a></td><td><code>inversions() doc</code></td></tr></table>




---

archive/issue_comments_398735.json:
```json
{
    "body": "Changed commit from **[`c9db415`](https://github.com/sagemath/sagetrac-mirror/commit/c9db415d48fd321e9a0764cadea4af419ba16439)** to **[`d0d06a2`](https://github.com/sagemath/sagetrac-mirror/commit/d0d06a25d5828534fcba389d4991eb319012c37e)**",
    "created_at": "2018-10-16T18:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398735",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c9db415`](https://github.com/sagemath/sagetrac-mirror/commit/c9db415d48fd321e9a0764cadea4af419ba16439)** to **[`d0d06a2`](https://github.com/sagemath/sagetrac-mirror/commit/d0d06a25d5828534fcba389d4991eb319012c37e)**



---

archive/issue_comments_398736.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI do not know if that's what you thought about ``inversions()`` doc.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0d06a25d5828534fcba389d4991eb319012c37e\"><code>d0d06a2</code></a></td><td><code>inversions() doc</code></td></tr></table>\n",
    "created_at": "2018-10-16T18:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398736",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:50" align="right">comment:50</div>

I do not know if that's what you thought about ``inversions()`` doc.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0d06a25d5828534fcba389d4991eb319012c37e"><code>d0d06a2</code></a></td><td><code>inversions() doc</code></td></tr></table>




---

archive/issue_comments_398737.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\npatchbot plugin says\n\n```\n++        INPUT::\n+wrong syntax for blocks (INPUT, OUTPUT, EXAMPLES, etc) inserted on 1 non-empty lines\n```\nIt should be `INPUT:`",
    "created_at": "2018-10-17T06:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398737",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:51" align="right">comment:51</div>

patchbot plugin says

```
++        INPUT::
+wrong syntax for blocks (INPUT, OUTPUT, EXAMPLES, etc) inserted on 1 non-empty lines
```
It should be `INPUT:`



---

archive/issue_comments_398738.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56dbe3a985c087d18b242e2c33ada5c4ffc6167e\"><code>56dbe3a</code></a></td><td><code>fix input:</code></td></tr></table>\n",
    "created_at": "2018-10-17T15:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398738",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56dbe3a985c087d18b242e2c33ada5c4ffc6167e"><code>56dbe3a</code></a></td><td><code>fix input:</code></td></tr></table>




---

archive/issue_comments_398739.json:
```json
{
    "body": "Changed commit from **[`d0d06a2`](https://github.com/sagemath/sagetrac-mirror/commit/d0d06a25d5828534fcba389d4991eb319012c37e)** to **[`56dbe3a`](https://github.com/sagemath/sagetrac-mirror/commit/56dbe3a985c087d18b242e2c33ada5c4ffc6167e)**",
    "created_at": "2018-10-17T15:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398739",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d0d06a2`](https://github.com/sagemath/sagetrac-mirror/commit/d0d06a25d5828534fcba389d4991eb319012c37e)** to **[`56dbe3a`](https://github.com/sagemath/sagetrac-mirror/commit/56dbe3a985c087d18b242e2c33ada5c4ffc6167e)**



---

archive/issue_comments_398740.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nand patchbot also says that doc does not build:\n\n```\n+[dochtml] OSError: /home/jdemeyer/sage-patchbot/local/lib/python2.7/site-packages/sage/combinat/packed_words.py:docstring of sage.combinat.packed_words.PackedWords.from_ordered_set_partition:6: WARNING: Unexpected indentation.\n```",
    "created_at": "2018-10-17T15:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398740",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:53" align="right">comment:53</div>

and patchbot also says that doc does not build:

```
+[dochtml] OSError: /home/jdemeyer/sage-patchbot/local/lib/python2.7/site-packages/sage/combinat/packed_words.py:docstring of sage.combinat.packed_words.PackedWords.from_ordered_set_partition:6: WARNING: Unexpected indentation.
```



---

archive/issue_comments_398741.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nSorry I don't understand the error... How can I fix it ?",
    "created_at": "2018-10-17T15:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398741",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:54" align="right">comment:54</div>

Sorry I don't understand the error... How can I fix it ?



---

archive/issue_comments_398742.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nin fact, this doc-building error was probably caused by the bad INPUT::\n\nlet me launch my bot to check that doc now builds",
    "created_at": "2018-10-17T16:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398742",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:55" align="right">comment:55</div>

in fact, this doc-building error was probably caused by the bad INPUT::

let me launch my bot to check that doc now builds



---

archive/issue_comments_398743.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nok, doc builds correctly. There remains only a few failing doctests.",
    "created_at": "2018-10-18T07:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398743",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:56" align="right">comment:56</div>

ok, doc builds correctly. There remains only a few failing doctests.



---

archive/issue_comments_398744.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05f06c3f5b8751a55be28e001fb4a75b05b283e8\"><code>05f06c3</code></a></td><td><code>fix random test</code></td></tr></table>\n",
    "created_at": "2018-10-19T00:00:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398744",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05f06c3f5b8751a55be28e001fb4a75b05b283e8"><code>05f06c3</code></a></td><td><code>fix random test</code></td></tr></table>




---

archive/issue_comments_398745.json:
```json
{
    "body": "Changed commit from **[`56dbe3a`](https://github.com/sagemath/sagetrac-mirror/commit/56dbe3a985c087d18b242e2c33ada5c4ffc6167e)** to **[`05f06c3`](https://github.com/sagemath/sagetrac-mirror/commit/05f06c3f5b8751a55be28e001fb4a75b05b283e8)**",
    "created_at": "2018-10-19T00:00:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398745",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`56dbe3a`](https://github.com/sagemath/sagetrac-mirror/commit/56dbe3a985c087d18b242e2c33ada5c4ffc6167e)** to **[`05f06c3`](https://github.com/sagemath/sagetrac-mirror/commit/05f06c3f5b8751a55be28e001fb4a75b05b283e8)**



---

archive/issue_comments_398746.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nIt is the only failling doctest I saw, if there are more I don't know where it is.",
    "created_at": "2018-10-19T00:02:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398746",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:58" align="right">comment:58</div>

It is the only failling doctest I saw, if there are more I don't know where it is.



---

archive/issue_comments_398747.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\ndid you look at the patchbot report ? (click on the round icon at top right, and then click on \"shortlog\" in the top report.)\n\n```\nsage -t --long src/sage/combinat/set_partition_ordered.py  # 1 doctest failed\nsage -t --long src/sage/combinat/packed_words.py  # 3 doctests failed\n```\nYou did fix the first one only.",
    "created_at": "2018-10-19T06:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398747",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:59" align="right">comment:59</div>

did you look at the patchbot report ? (click on the round icon at top right, and then click on "shortlog" in the top report.)

```
sage -t --long src/sage/combinat/set_partition_ordered.py  # 1 doctest failed
sage -t --long src/sage/combinat/packed_words.py  # 3 doctests failed
```
You did fix the first one only.



---

archive/issue_comments_398748.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nFirst, I suppose we don't need to run exactly the same test twice:\n\n```\nFile \"src/sage/combinat/packed_words.py\", line 108, in sage.combinat.packed_words.PackedWord.__init__\nFailed example:\n    TestSuite(PackedWords()).run()  # long time\nExpected nothing\nGot:\n    Failure in _test_an_element:\n    (...)\n      File \"/Applications/sage/local/lib/python2.7/site-packages/sage/categories/sets_cat.py\", line 1099, in _test_an_element\n        tester.assertEqual(self(an_element), an_element, \"element construction is not idempotent\")\n      File \"/Applications/sage/local/lib/python2.7/unittest/case.py\", line 513, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/Applications/sage/local/lib/python2.7/unittest/case.py\", line 506, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: element construction is not idempotent\n```\n\nand then again later in the file:\n\n```\nFile \"src/sage/combinat/packed_words.py\", line 1474, in sage.combinat.packed_words.PackedWords_all.__init__\nFailed example:\n    TestSuite(PackedWords()).run()  # long time\nExpected nothing\nGot:\n    (...)\n```\n\nI'll try to track down the problem, which seems to be that for some `a`, we don't have the expected answer to `PackedWords(a) == a`.",
    "created_at": "2018-10-19T14:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398748",
    "user": "https://github.com/alauve"
}
```

<div id="comment:60" align="right">comment:60</div>

First, I suppose we don't need to run exactly the same test twice:

```
File "src/sage/combinat/packed_words.py", line 108, in sage.combinat.packed_words.PackedWord.__init__
Failed example:
    TestSuite(PackedWords()).run()  # long time
Expected nothing
Got:
    Failure in _test_an_element:
    (...)
      File "/Applications/sage/local/lib/python2.7/site-packages/sage/categories/sets_cat.py", line 1099, in _test_an_element
        tester.assertEqual(self(an_element), an_element, "element construction is not idempotent")
      File "/Applications/sage/local/lib/python2.7/unittest/case.py", line 513, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/Applications/sage/local/lib/python2.7/unittest/case.py", line 506, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: element construction is not idempotent
```

and then again later in the file:

```
File "src/sage/combinat/packed_words.py", line 1474, in sage.combinat.packed_words.PackedWords_all.__init__
Failed example:
    TestSuite(PackedWords()).run()  # long time
Expected nothing
Got:
    (...)
```

I'll try to track down the problem, which seems to be that for some `a`, we don't have the expected answer to `PackedWords(a) == a`.



---

archive/issue_comments_398749.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nOkay, this wasn't too hard to track down (see below). I should have a fix pushed today.\n\n```\nsage: P = PackedWords()\nsage: w = P.an_element(); w\n[]\nsage: pw = P(w); pw\n[]\nsage: w.parent()\nPacked words of size 0\nsage: pw.parent()\nPacked words\nsage: w == pw\nFalse\n```",
    "created_at": "2018-10-19T14:57:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398749",
    "user": "https://github.com/alauve"
}
```

<div id="comment:61" align="right">comment:61</div>

Okay, this wasn't too hard to track down (see below). I should have a fix pushed today.

```
sage: P = PackedWords()
sage: w = P.an_element(); w
[]
sage: pw = P(w); pw
[]
sage: w.parent()
Packed words of size 0
sage: pw.parent()
Packed words
sage: w == pw
False
```



---

archive/issue_comments_398750.json:
```json
{
    "body": "Changed commit from **[`05f06c3`](https://github.com/sagemath/sagetrac-mirror/commit/05f06c3f5b8751a55be28e001fb4a75b05b283e8)** to **[`ca1438b`](https://github.com/sagemath/sagetrac-mirror/commit/ca1438bbadb084672a06a9753fa4151a30519c3c)**",
    "created_at": "2018-10-19T15:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398750",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`05f06c3`](https://github.com/sagemath/sagetrac-mirror/commit/05f06c3f5b8751a55be28e001fb4a75b05b283e8)** to **[`ca1438b`](https://github.com/sagemath/sagetrac-mirror/commit/ca1438bbadb084672a06a9753fa4151a30519c3c)**



---

archive/issue_comments_398751.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca1438bbadb084672a06a9753fa4151a30519c3c\"><code>ca1438b</code></a></td><td><code>added `__iter__` to PackedWords_all</code></td></tr></table>\n",
    "created_at": "2018-10-19T15:19:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398751",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:62"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca1438bbadb084672a06a9753fa4151a30519c3c"><code>ca1438b</code></a></td><td><code>added `__iter__` to PackedWords_all</code></td></tr></table>




---

archive/issue_comments_398752.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nAll tests pass now.",
    "created_at": "2018-10-19T15:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398752",
    "user": "https://github.com/alauve"
}
```

<div id="comment:63" align="right">comment:63</div>

All tests pass now.



---

archive/issue_comments_398753.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nImplementing that `__iter__` I think is not the correct fix. In fact, it should not be creating any elements whose parent is `PackedWords_all` because of the `facade=True`. I think what you need to do is switch `(PackedWords, DisjointUnionEnumeratedSets)` -> `(DisjointUnionEnumeratedSets, PackedWords)` so the `DisjointUnionEnumeratedSets` is first in the MRO (and remove the `__iter__` method).",
    "created_at": "2018-10-19T15:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398753",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:64" align="right">comment:64</div>

Implementing that `__iter__` I think is not the correct fix. In fact, it should not be creating any elements whose parent is `PackedWords_all` because of the `facade=True`. I think what you need to do is switch `(PackedWords, DisjointUnionEnumeratedSets)` -> `(DisjointUnionEnumeratedSets, PackedWords)` so the `DisjointUnionEnumeratedSets` is first in the MRO (and remove the `__iter__` method).



---

archive/issue_comments_398754.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nokay. let me try that route.",
    "created_at": "2018-10-19T15:33:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398754",
    "user": "https://github.com/alauve"
}
```

<div id="comment:65" align="right">comment:65</div>

okay. let me try that route.



---

archive/issue_comments_398755.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nHmm. Maybe not. Seems to break the `PackedWord` constructor ...\n\n```\nsage: PackedWords()([2,3,1])\n[2, 3, 1]\nsage: PackedWord([2,3,1])   \n(...)\nTypeError: _element_constructor_facade() got an unexpected keyword argument 'check'\n```",
    "created_at": "2018-10-19T15:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398755",
    "user": "https://github.com/alauve"
}
```

<div id="comment:66" align="right">comment:66</div>

Hmm. Maybe not. Seems to break the `PackedWord` constructor ...

```
sage: PackedWords()([2,3,1])
[2, 3, 1]
sage: PackedWord([2,3,1])   
(...)
TypeError: _element_constructor_facade() got an unexpected keyword argument 'check'
```



---

archive/issue_comments_398756.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nI don't think `PackedWord` should take a `check` input as user input cannot be trusted in general. If someone wants to skip the checking, they should be creating the correct parent anyways I think (and then when constructing the element directly, then pass the `check`).",
    "created_at": "2018-10-19T15:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398756",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:67" align="right">comment:67</div>

I don't think `PackedWord` should take a `check` input as user input cannot be trusted in general. If someone wants to skip the checking, they should be creating the correct parent anyways I think (and then when constructing the element directly, then pass the `check`).



---

archive/issue_comments_398757.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nWell, Hugo and I are unsure how check works and when it should be used.\n\nWe tried to follow examples in, say, `SetPartition` and `Tableau` but perhaps these aren't good models.",
    "created_at": "2018-10-19T16:04:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398757",
    "user": "https://github.com/alauve"
}
```

<div id="comment:68" align="right">comment:68</div>

Well, Hugo and I are unsure how check works and when it should be used.

We tried to follow examples in, say, `SetPartition` and `Tableau` but perhaps these aren't good models.



---

archive/issue_comments_398758.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nAlso, because of the changed MRO, it seems a contains method should be added to `PackedWords_all` to \"overload\" the default one from `DisjointUnionEnumeratedSets`. This is annoying, and I surely did not settle on the right solution, but I just added\n\n```\n__contains__ = PackedWords.__contains__\n```\nto the `PackedWords_all` class.\n\nMy first stab at dropping `check` made many, many more tests fail, so I need a little guidance here.",
    "created_at": "2018-10-19T16:25:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398758",
    "user": "https://github.com/alauve"
}
```

<div id="comment:69" align="right">comment:69</div>

Also, because of the changed MRO, it seems a contains method should be added to `PackedWords_all` to "overload" the default one from `DisjointUnionEnumeratedSets`. This is annoying, and I surely did not settle on the right solution, but I just added

```
__contains__ = PackedWords.__contains__
```
to the `PackedWords_all` class.

My first stab at dropping `check` made many, many more tests fail, so I need a little guidance here.



---

archive/issue_comments_398759.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nSorry, I don't have any more time this morning. I can try to look at it tonight.",
    "created_at": "2018-10-19T16:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398759",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:70" align="right">comment:70</div>

Sorry, I don't have any more time this morning. I can try to look at it tonight.



---

archive/issue_comments_398760.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nHi, I made some tests and I found an other unexpected result : \n\n```\nsage: p = PackedWords(3).random_element()\nsage: p == PackedWord(p)\nFalse\nsage: type(p)\n<class '__main__.PackedWords_size_with_category.element_class'>\nsage: type(PackedWord(p))\n<class '__main__.PackedWords_all_with_category.element_class'>\n```\n\nOne solution I found to prevent this is to replace the last line of the file\n\n```\nreturn self.element_class(self, osp.to_packed_word(), check=False)\n```\nby \n\n```\n return PackedWord(osp.to_packed_word())\n```\nBut it might not be the best solution.\n\nAbout the questions above, it goes beyond my skills.",
    "created_at": "2018-11-07T14:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398760",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:71" align="right">comment:71</div>

Hi, I made some tests and I found an other unexpected result : 

```
sage: p = PackedWords(3).random_element()
sage: p == PackedWord(p)
False
sage: type(p)
<class '__main__.PackedWords_size_with_category.element_class'>
sage: type(PackedWord(p))
<class '__main__.PackedWords_all_with_category.element_class'>
```

One solution I found to prevent this is to replace the last line of the file

```
return self.element_class(self, osp.to_packed_word(), check=False)
```
by 

```
 return PackedWord(osp.to_packed_word())
```
But it might not be the best solution.

About the questions above, it goes beyond my skills.



---

archive/issue_comments_398761.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nThat is not what you want to do. \n\nThe issue is a lack of coercion from `PackedWords(3)` -> `PackedWords()` because the element class takes the parent into account for the equality. However, if you do the coercion, you also need to change the hash, which also takes into account the parent. (Equal things in Python must have equal hashes.) However, the better fix is flipping the MRO as mentioned in [comment:64](#comment%3A64). I should (finally) be able to look at this either today or tomorrow. Sorry about the delay.",
    "created_at": "2018-11-08T14:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398761",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:72" align="right">comment:72</div>

That is not what you want to do. 

The issue is a lack of coercion from `PackedWords(3)` -> `PackedWords()` because the element class takes the parent into account for the equality. However, if you do the coercion, you also need to change the hash, which also takes into account the parent. (Equal things in Python must have equal hashes.) However, the better fix is flipping the MRO as mentioned in [comment:64](#comment%3A64). I should (finally) be able to look at this either today or tomorrow. Sorry about the delay.



---

archive/issue_comments_398762.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nthe branch is now red, ticket needs to be rebased on latest develop",
    "created_at": "2018-12-31T16:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398762",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:73" align="right">comment:73</div>

the branch is now red, ticket needs to be rebased on latest develop



---

archive/issue_events_355123.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-31T16:28:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355123"
}
```



---

archive/issue_events_355124.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-31T16:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355124"
}
```



---

archive/issue_comments_398763.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ecf0a552850ec4ec4e0294504d1a48059d9618a\"><code>0ecf0a5</code></a></td><td><code>Merge branch 'public/combinat/implement_Packed_Words_25916' in 8.6.b0</code></td></tr></table>\n",
    "created_at": "2018-12-31T20:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398763",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ecf0a552850ec4ec4e0294504d1a48059d9618a"><code>0ecf0a5</code></a></td><td><code>Merge branch 'public/combinat/implement_Packed_Words_25916' in 8.6.b0</code></td></tr></table>




---

archive/issue_comments_398764.json:
```json
{
    "body": "Changed commit from **[`ca1438b`](https://github.com/sagemath/sagetrac-mirror/commit/ca1438bbadb084672a06a9753fa4151a30519c3c)** to **[`0ecf0a5`](https://github.com/sagemath/sagetrac-mirror/commit/0ecf0a552850ec4ec4e0294504d1a48059d9618a)**",
    "created_at": "2018-12-31T20:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398764",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ca1438b`](https://github.com/sagemath/sagetrac-mirror/commit/ca1438bbadb084672a06a9753fa4151a30519c3c)** to **[`0ecf0a5`](https://github.com/sagemath/sagetrac-mirror/commit/0ecf0a552850ec4ec4e0294504d1a48059d9618a)**



---

archive/issue_comments_398765.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nrebasing done",
    "created_at": "2018-12-31T20:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398765",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:75" align="right">comment:75</div>

rebasing done



---

archive/issue_events_355125.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-31T20:31:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355125"
}
```



---

archive/issue_events_355126.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-31T20:31:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355126"
}
```



---

archive/issue_comments_398766.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nTo be clear, making a merge commit from the trunk is not \"rebasing\".  Rebasing is taking a branch from an old trunk (i.e. an old version of the develop branch), snipping it off, and transplanting those commits on top of the new trunk as if they were made there in the first place: https://www.atlassian.com/git/tutorials/merging-vs-rebasing\n\nI prefer, in most cases, to use rebasing when updating development branches because it results in a cleaner commit history, and since it's just a development branch (typically that no one else is working on) there is no danger in slightly rewriting said history since it's just work under development anyways.",
    "created_at": "2019-01-07T14:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398766",
    "user": "https://github.com/embray"
}
```

<div id="comment:76" align="right">comment:76</div>

To be clear, making a merge commit from the trunk is not "rebasing".  Rebasing is taking a branch from an old trunk (i.e. an old version of the develop branch), snipping it off, and transplanting those commits on top of the new trunk as if they were made there in the first place: https://www.atlassian.com/git/tutorials/merging-vs-rebasing

I prefer, in most cases, to use rebasing when updating development branches because it results in a cleaner commit history, and since it's just a development branch (typically that no one else is working on) there is no danger in slightly rewriting said history since it's just work under development anyways.



---

archive/issue_comments_398767.json:
```json
{
    "body": "Changed commit from **[`0ecf0a5`](https://github.com/sagemath/sagetrac-mirror/commit/0ecf0a552850ec4ec4e0294504d1a48059d9618a)** to **[`3077364`](https://github.com/sagemath/sagetrac-mirror/commit/30773647b34e0883867d64673b86a122b48d0636)**",
    "created_at": "2019-01-11T16:00:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398767",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ecf0a5`](https://github.com/sagemath/sagetrac-mirror/commit/0ecf0a552850ec4ec4e0294504d1a48059d9618a)** to **[`3077364`](https://github.com/sagemath/sagetrac-mirror/commit/30773647b34e0883867d64673b86a122b48d0636)**



---

archive/issue_comments_398768.json:
```json
{
    "body": "<div id=\"comment:77\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30defef89990dbe6867bdaac410adfa567f76814\"><code>30defef</code></a></td><td><code>Merge branch 'develop' into public/combinat/implement_Packed_Words_25916</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30773647b34e0883867d64673b86a122b48d0636\"><code>3077364</code></a></td><td><code>implement packed words as ParentWithSetFactory</code></td></tr></table>\n",
    "created_at": "2019-01-11T16:00:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398768",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:77"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30defef89990dbe6867bdaac410adfa567f76814"><code>30defef</code></a></td><td><code>Merge branch 'develop' into public/combinat/implement_Packed_Words_25916</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30773647b34e0883867d64673b86a122b48d0636"><code>3077364</code></a></td><td><code>implement packed words as ParentWithSetFactory</code></td></tr></table>




---

archive/issue_comments_398769.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nTo handle the contains errors returned by `TestSuite`, we decided to try out the `SetFactory` mechanisms. \nComments welcome.\n\n(We still have some test errors to trackdown.)",
    "created_at": "2019-01-11T16:05:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398769",
    "user": "https://github.com/alauve"
}
```

<div id="comment:78" align="right">comment:78</div>

To handle the contains errors returned by `TestSuite`, we decided to try out the `SetFactory` mechanisms. 
Comments welcome.

(We still have some test errors to trackdown.)



---

archive/issue_comments_398770.json:
```json
{
    "body": "Changed commit from **[`3077364`](https://github.com/sagemath/sagetrac-mirror/commit/30773647b34e0883867d64673b86a122b48d0636)** to **[`6a847db`](https://github.com/sagemath/sagetrac-mirror/commit/6a847dba32a90e33c6d07f0e038ee7cec9cbb8e5)**",
    "created_at": "2019-01-11T17:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398770",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3077364`](https://github.com/sagemath/sagetrac-mirror/commit/30773647b34e0883867d64673b86a122b48d0636)** to **[`6a847db`](https://github.com/sagemath/sagetrac-mirror/commit/6a847dba32a90e33c6d07f0e038ee7cec9cbb8e5)**



---

archive/issue_comments_398771.json:
```json
{
    "body": "<div id=\"comment:79\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a847dba32a90e33c6d07f0e038ee7cec9cbb8e5\"><code>6a847db</code></a></td><td><code>fix most of doctests</code></td></tr></table>\n",
    "created_at": "2019-01-11T17:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398771",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:79"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a847dba32a90e33c6d07f0e038ee7cec9cbb8e5"><code>6a847db</code></a></td><td><code>fix most of doctests</code></td></tr></table>




---

archive/issue_comments_398772.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nIt remains one probleme, it is about the methodes that are in `PackedWordsBaseClass` that we want to use with just `PackedWords.a_methode`.",
    "created_at": "2019-01-11T17:20:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398772",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:80" align="right">comment:80</div>

It remains one probleme, it is about the methodes that are in `PackedWordsBaseClass` that we want to use with just `PackedWords.a_methode`.



---

archive/issue_comments_398773.json:
```json
{
    "body": "<div id=\"comment:81\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1956452eb214f11b128bef3998b7f63dada94f14\"><code>1956452</code></a></td><td><code>fix doc tests</code></td></tr></table>\n",
    "created_at": "2019-01-14T19:05:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398773",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:81"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1956452eb214f11b128bef3998b7f63dada94f14"><code>1956452</code></a></td><td><code>fix doc tests</code></td></tr></table>




---

archive/issue_comments_398774.json:
```json
{
    "body": "Changed commit from **[`6a847db`](https://github.com/sagemath/sagetrac-mirror/commit/6a847dba32a90e33c6d07f0e038ee7cec9cbb8e5)** to **[`1956452`](https://github.com/sagemath/sagetrac-mirror/commit/1956452eb214f11b128bef3998b7f63dada94f14)**",
    "created_at": "2019-01-14T19:05:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398774",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6a847db`](https://github.com/sagemath/sagetrac-mirror/commit/6a847dba32a90e33c6d07f0e038ee7cec9cbb8e5)** to **[`1956452`](https://github.com/sagemath/sagetrac-mirror/commit/1956452eb214f11b128bef3998b7f63dada94f14)**



---

archive/issue_comments_398775.json:
```json
{
    "body": "<div id=\"comment:82\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50ceddbc5e85942cf7ca20c12d06067142014561\"><code>50ceddb</code></a></td><td><code>some comment updated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7864e1bc33132a0627833b6c5f5b05ca3191f576\"><code>7864e1b</code></a></td><td><code>improved some doc</code></td></tr></table>\n",
    "created_at": "2019-02-01T15:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398775",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:82"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50ceddbc5e85942cf7ca20c12d06067142014561"><code>50ceddb</code></a></td><td><code>some comment updated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7864e1bc33132a0627833b6c5f5b05ca3191f576"><code>7864e1b</code></a></td><td><code>improved some doc</code></td></tr></table>




---

archive/issue_comments_398776.json:
```json
{
    "body": "Changed commit from **[`1956452`](https://github.com/sagemath/sagetrac-mirror/commit/1956452eb214f11b128bef3998b7f63dada94f14)** to **[`7864e1b`](https://github.com/sagemath/sagetrac-mirror/commit/7864e1bc33132a0627833b6c5f5b05ca3191f576)**",
    "created_at": "2019-02-01T15:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398776",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1956452`](https://github.com/sagemath/sagetrac-mirror/commit/1956452eb214f11b128bef3998b7f63dada94f14)** to **[`7864e1b`](https://github.com/sagemath/sagetrac-mirror/commit/7864e1bc33132a0627833b6c5f5b05ca3191f576)**



---

archive/issue_comments_398777.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nPatchbot says there's still 4 methods that are missing doctests.\n\nIn the method `pack`, replace `uniq(li)` with `sorted(set(li))`. You can also remove the associated import for `uniq`.\n\nTestSuite is having an issue with `add_constraints`, though I can't tell what it's trying to do well enough to guess what it may be.",
    "created_at": "2019-02-11T16:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398777",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:83" align="right">comment:83</div>

Patchbot says there's still 4 methods that are missing doctests.

In the method `pack`, replace `uniq(li)` with `sorted(set(li))`. You can also remove the associated import for `uniq`.

TestSuite is having an issue with `add_constraints`, though I can't tell what it's trying to do well enough to guess what it may be.



---

archive/issue_comments_398778.json:
```json
{
    "body": "<div id=\"comment:84\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d03824d96348f37f5247dd450cf63a0bd2e8c1f\"><code>8d03824</code></a></td><td><code>correct add_constraints</code></td></tr></table>\n",
    "created_at": "2019-02-12T10:30:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398778",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d03824d96348f37f5247dd450cf63a0bd2e8c1f"><code>8d03824</code></a></td><td><code>correct add_constraints</code></td></tr></table>




---

archive/issue_comments_398779.json:
```json
{
    "body": "Changed commit from **[`7864e1b`](https://github.com/sagemath/sagetrac-mirror/commit/7864e1bc33132a0627833b6c5f5b05ca3191f576)** to **[`8d03824`](https://github.com/sagemath/sagetrac-mirror/commit/8d03824d96348f37f5247dd450cf63a0bd2e8c1f)**",
    "created_at": "2019-02-12T10:30:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398779",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7864e1b`](https://github.com/sagemath/sagetrac-mirror/commit/7864e1bc33132a0627833b6c5f5b05ca3191f576)** to **[`8d03824`](https://github.com/sagemath/sagetrac-mirror/commit/8d03824d96348f37f5247dd450cf63a0bd2e8c1f)**



---

archive/issue_comments_398780.json:
```json
{
    "body": "<div id=\"comment:85\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e1b50079ec5c9a1d03fc5ac7e508669941a9038\"><code>3e1b500</code></a></td><td><code>remove uniq</code></td></tr></table>\n",
    "created_at": "2019-02-12T10:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398780",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:85"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e1b50079ec5c9a1d03fc5ac7e508669941a9038"><code>3e1b500</code></a></td><td><code>remove uniq</code></td></tr></table>




---

archive/issue_comments_398781.json:
```json
{
    "body": "Changed commit from **[`8d03824`](https://github.com/sagemath/sagetrac-mirror/commit/8d03824d96348f37f5247dd450cf63a0bd2e8c1f)** to **[`3e1b500`](https://github.com/sagemath/sagetrac-mirror/commit/3e1b50079ec5c9a1d03fc5ac7e508669941a9038)**",
    "created_at": "2019-02-12T10:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398781",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8d03824`](https://github.com/sagemath/sagetrac-mirror/commit/8d03824d96348f37f5247dd450cf63a0bd2e8c1f)** to **[`3e1b500`](https://github.com/sagemath/sagetrac-mirror/commit/3e1b50079ec5c9a1d03fc5ac7e508669941a9038)**



---

archive/issue_comments_398782.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\n* failing doctests, see bot reports\n\n* do not use EXAMPLES:: several times in the same function \"inversions\"\n\n* `support == None` should be `support is None`\n\n* is_lequal is missing EXAMPLES::\n\n* in constraint, too many empty lines after EXAMPLES::\n\n* use `.. TODO::` for todos\n\n* remove the commentied iterator",
    "created_at": "2019-03-17T12:29:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398782",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:86" align="right">comment:86</div>

* failing doctests, see bot reports

* do not use EXAMPLES:: several times in the same function "inversions"

* `support == None` should be `support is None`

* is_lequal is missing EXAMPLES::

* in constraint, too many empty lines after EXAMPLES::

* use `.. TODO::` for todos

* remove the commentied iterator



---

archive/issue_events_355127.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-17T12:29:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355127"
}
```



---

archive/issue_events_355128.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-17T12:29:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355128"
}
```



---

archive/issue_comments_398783.json:
```json
{
    "body": "<div id=\"comment:87\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f07c2fc6e84a45b9b25337fc272aa3456d824f0d\"><code>f07c2fc</code></a></td><td><code>Merge branch 'develop' into public/combinat/implement_Packed_Words_25916</code></td></tr></table>\n",
    "created_at": "2019-07-08T09:35:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398783",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:87"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f07c2fc6e84a45b9b25337fc272aa3456d824f0d"><code>f07c2fc</code></a></td><td><code>Merge branch 'develop' into public/combinat/implement_Packed_Words_25916</code></td></tr></table>




---

archive/issue_comments_398784.json:
```json
{
    "body": "Changed commit from **[`3e1b500`](https://github.com/sagemath/sagetrac-mirror/commit/3e1b50079ec5c9a1d03fc5ac7e508669941a9038)** to **[`f07c2fc`](https://github.com/sagemath/sagetrac-mirror/commit/f07c2fc6e84a45b9b25337fc272aa3456d824f0d)**",
    "created_at": "2019-07-08T09:35:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398784",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3e1b500`](https://github.com/sagemath/sagetrac-mirror/commit/3e1b50079ec5c9a1d03fc5ac7e508669941a9038)** to **[`f07c2fc`](https://github.com/sagemath/sagetrac-mirror/commit/f07c2fc6e84a45b9b25337fc272aa3456d824f0d)**



---

archive/issue_comments_398785.json:
```json
{
    "body": "<div id=\"comment:88\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e941d18b4cc79f4e2dfa9ff28caf539a311a7b40\"><code>e941d18</code></a></td><td><code>fix doc in packed words</code></td></tr></table>\n",
    "created_at": "2019-07-08T13:30:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398785",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:88"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e941d18b4cc79f4e2dfa9ff28caf539a311a7b40"><code>e941d18</code></a></td><td><code>fix doc in packed words</code></td></tr></table>




---

archive/issue_comments_398786.json:
```json
{
    "body": "Changed commit from **[`f07c2fc`](https://github.com/sagemath/sagetrac-mirror/commit/f07c2fc6e84a45b9b25337fc272aa3456d824f0d)** to **[`e941d18`](https://github.com/sagemath/sagetrac-mirror/commit/e941d18b4cc79f4e2dfa9ff28caf539a311a7b40)**",
    "created_at": "2019-07-08T13:30:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398786",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f07c2fc`](https://github.com/sagemath/sagetrac-mirror/commit/f07c2fc6e84a45b9b25337fc272aa3456d824f0d)** to **[`e941d18`](https://github.com/sagemath/sagetrac-mirror/commit/e941d18b4cc79f4e2dfa9ff28caf539a311a7b40)**



---

archive/issue_comments_398787.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nI fixed all these documentation problems.\n\nReplying to [@fchapoton](#comment%3A86):\n> * failing doctests, see bot reports\n> \n> * do not use EXAMPLES:: several times in the same function \"inversions\"\n> \n> * `support == None` should be `support is None`\n> \n> * is_lequal is missing EXAMPLES::\n> \n> * in constraint, too many empty lines after EXAMPLES::\n> \n> * use `.. TODO::` for todos\n> \n> * remove the commentied iterator",
    "created_at": "2019-07-08T13:33:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398787",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

<div id="comment:89" align="right">comment:89</div>

I fixed all these documentation problems.

Replying to [@fchapoton](#comment%3A86):
> * failing doctests, see bot reports
> 
> * do not use EXAMPLES:: several times in the same function "inversions"
> 
> * `support == None` should be `support is None`
> 
> * is_lequal is missing EXAMPLES::
> 
> * in constraint, too many empty lines after EXAMPLES::
> 
> * use `.. TODO::` for todos
> 
> * remove the commentied iterator



---

archive/issue_events_355129.json:
```json
{
    "actor": "https://github.com/sagetrac-hmlodecki",
    "created_at": "2019-07-08T13:35:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355129"
}
```



---

archive/issue_events_355130.json:
```json
{
    "actor": "https://github.com/sagetrac-hmlodecki",
    "created_at": "2019-07-08T13:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355130"
}
```



---

archive/issue_comments_398788.json:
```json
{
    "body": "Changed keywords from **sagedays@icerm, packed words, CHAs** to **sagedays@icerm, packed words, CHAs, fpsac2019**",
    "created_at": "2019-07-12T09:39:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398788",
    "user": "https://github.com/sagetrac-hmlodecki"
}
```

Changed keywords from **sagedays@icerm, packed words, CHAs** to **sagedays@icerm, packed words, CHAs, fpsac2019**



---

archive/issue_comments_398789.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nBe careful about containment checks:\n\n```\n        if pw in Permutations():\n            m = pw.size()\n        elif pw in PackedWords():\n            m = pw._max\n```\nIf `pw` is a list that is, e.g., a permutation, then the code will fail:\n\n```\nsage: [1,3,2] in Permutations()\nTrue\n```\nWhat you really want to do is get the parent, so use the `parent` *function* (not the method). You should add a test that this works with lists (or raises an appropriate error).\n\n`type(self)` is preferred over `self.__class__` (this is something I learned last year or so).\n\nI am about 1/3 of the way through, but I have to go now. I will get through more later today.",
    "created_at": "2019-07-14T09:47:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398789",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:94" align="right">comment:94</div>

Be careful about containment checks:

```
        if pw in Permutations():
            m = pw.size()
        elif pw in PackedWords():
            m = pw._max
```
If `pw` is a list that is, e.g., a permutation, then the code will fail:

```
sage: [1,3,2] in Permutations()
True
```
What you really want to do is get the parent, so use the `parent` *function* (not the method). You should add a test that this works with lists (or raises an appropriate error).

`type(self)` is preferred over `self.__class__` (this is something I learned last year or so).

I am about 1/3 of the way through, but I have to go now. I will get through more later today.



---

archive/issue_comments_398790.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nnot python3 compatible (problems with +range, for instance)",
    "created_at": "2019-11-29T15:01:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398790",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:95" align="right">comment:95</div>

not python3 compatible (problems with +range, for instance)



---

archive/issue_events_355131.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-29T15:01:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355131"
}
```



---

archive/issue_events_355132.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-29T15:01:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355132"
}
```



---

archive/issue_comments_398791.json:
```json
{
    "body": "<div id=\"comment:96\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87e0832189ebeb245f0b683a98852c2a95a90f99\"><code>87e0832</code></a></td><td><code>Merge branch 'develop' into implement_Packed_Words</code></td></tr></table>\n",
    "created_at": "2020-03-18T13:36:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398791",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:96"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87e0832189ebeb245f0b683a98852c2a95a90f99"><code>87e0832</code></a></td><td><code>Merge branch 'develop' into implement_Packed_Words</code></td></tr></table>




---

archive/issue_comments_398792.json:
```json
{
    "body": "Changed commit from **[`e941d18`](https://github.com/sagemath/sagetrac-mirror/commit/e941d18b4cc79f4e2dfa9ff28caf539a311a7b40)** to **[`87e0832`](https://github.com/sagemath/sagetrac-mirror/commit/87e0832189ebeb245f0b683a98852c2a95a90f99)**",
    "created_at": "2020-03-18T13:36:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398792",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e941d18`](https://github.com/sagemath/sagetrac-mirror/commit/e941d18b4cc79f4e2dfa9ff28caf539a311a7b40)** to **[`87e0832`](https://github.com/sagemath/sagetrac-mirror/commit/87e0832189ebeb245f0b683a98852c2a95a90f99)**



---

archive/issue_comments_398793.json:
```json
{
    "body": "Changed commit from **[`87e0832`](https://github.com/sagemath/sagetrac-mirror/commit/87e0832189ebeb245f0b683a98852c2a95a90f99)** to **[`1723aff`](https://github.com/sagemath/sagetrac-mirror/commit/1723affd631531bfd1b30369af2aa5725fa38e94)**",
    "created_at": "2020-07-15T08:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398793",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`87e0832`](https://github.com/sagemath/sagetrac-mirror/commit/87e0832189ebeb245f0b683a98852c2a95a90f99)** to **[`1723aff`](https://github.com/sagemath/sagetrac-mirror/commit/1723affd631531bfd1b30369af2aa5725fa38e94)**



---

archive/issue_comments_398794.json:
```json
{
    "body": "<div id=\"comment:97\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1723affd631531bfd1b30369af2aa5725fa38e94\"><code>1723aff</code></a></td><td><code>Merge branch 'public/combinat/implement_Packed_Words_25916' in 9.2.b5</code></td></tr></table>\n",
    "created_at": "2020-07-15T08:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398794",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:97"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1723affd631531bfd1b30369af2aa5725fa38e94"><code>1723aff</code></a></td><td><code>Merge branch 'public/combinat/implement_Packed_Words_25916' in 9.2.b5</code></td></tr></table>




---

archive/issue_comments_398795.json:
```json
{
    "body": "Changed commit from **[`1723aff`](https://github.com/sagemath/sagetrac-mirror/commit/1723affd631531bfd1b30369af2aa5725fa38e94)** to **[`cc11854`](https://github.com/sagemath/sagetrac-mirror/commit/cc118540c774361adf6594a2d2a15d433bb185cb)**",
    "created_at": "2020-07-15T08:26:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398795",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1723aff`](https://github.com/sagemath/sagetrac-mirror/commit/1723affd631531bfd1b30369af2aa5725fa38e94)** to **[`cc11854`](https://github.com/sagemath/sagetrac-mirror/commit/cc118540c774361adf6594a2d2a15d433bb185cb)**



---

archive/issue_comments_398796.json:
```json
{
    "body": "<div id=\"comment:98\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc118540c774361adf6594a2d2a15d433bb185cb\"><code>cc11854</code></a></td><td><code>one fix for py3</code></td></tr></table>\n",
    "created_at": "2020-07-15T08:26:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398796",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:98"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc118540c774361adf6594a2d2a15d433bb185cb"><code>cc11854</code></a></td><td><code>one fix for py3</code></td></tr></table>




---

archive/issue_comments_398797.json:
```json
{
    "body": "Changed commit from **[`cc11854`](https://github.com/sagemath/sagetrac-mirror/commit/cc118540c774361adf6594a2d2a15d433bb185cb)** to **[`ad69398`](https://github.com/sagemath/sagetrac-mirror/commit/ad693984f9472aedcd53c8ab05ac28f6f425d11c)**",
    "created_at": "2020-07-15T08:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398797",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cc11854`](https://github.com/sagemath/sagetrac-mirror/commit/cc118540c774361adf6594a2d2a15d433bb185cb)** to **[`ad69398`](https://github.com/sagemath/sagetrac-mirror/commit/ad693984f9472aedcd53c8ab05ac28f6f425d11c)**



---

archive/issue_comments_398798.json:
```json
{
    "body": "<div id=\"comment:99\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad693984f9472aedcd53c8ab05ac28f6f425d11c\"><code>ad69398</code></a></td><td><code>pep and pyflakes cleanup</code></td></tr></table>\n",
    "created_at": "2020-07-15T08:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398798",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:99"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad693984f9472aedcd53c8ab05ac28f6f425d11c"><code>ad69398</code></a></td><td><code>pep and pyflakes cleanup</code></td></tr></table>




---

archive/issue_comments_398799.json:
```json
{
    "body": "<div id=\"comment:100\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82496394bb904387aebe403f543d277d86d7e333\"><code>8249639</code></a></td><td><code>fix two typos</code></td></tr></table>\n",
    "created_at": "2020-07-15T08:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398799",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:100"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82496394bb904387aebe403f543d277d86d7e333"><code>8249639</code></a></td><td><code>fix two typos</code></td></tr></table>




---

archive/issue_comments_398800.json:
```json
{
    "body": "Changed commit from **[`ad69398`](https://github.com/sagemath/sagetrac-mirror/commit/ad693984f9472aedcd53c8ab05ac28f6f425d11c)** to **[`8249639`](https://github.com/sagemath/sagetrac-mirror/commit/82496394bb904387aebe403f543d277d86d7e333)**",
    "created_at": "2020-07-15T08:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398800",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ad69398`](https://github.com/sagemath/sagetrac-mirror/commit/ad693984f9472aedcd53c8ab05ac28f6f425d11c)** to **[`8249639`](https://github.com/sagemath/sagetrac-mirror/commit/82496394bb904387aebe403f543d277d86d7e333)**



---

archive/issue_comments_398801.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nThere are now two broken doctests.",
    "created_at": "2020-07-15T08:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25916#issuecomment-398801",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:101" align="right">comment:101</div>

There are now two broken doctests.



---

archive/issue_events_355133.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:42:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25916",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25916#event-355133"
}
```
