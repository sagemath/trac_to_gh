# Issue 25188: Repeated configure run with gcc already installed treats gcc as not installed

archive/issues_024951.json:
```json
{
    "assignees": [],
    "body": "If `./configure` detects an existing GCC installed in Sage (`SAGE_INSTALL_GCC=exists`) then it should keep gcc selected among the packages to be installed as part of the distribution.  Otherwise it basically deselects gcc which is the wrong thing to do (with any package).\n\nDepends on #25857\n\nCC:  @embray\n\nBranch/Commit: **[`5d0a981`](https://github.com/sagemath/sagetrac-mirror/commit/5d0a98124f3e2b6d32de6fc1ffffc6ea660ea2b4)**\n\nReviewer: **Volker Braun, Julian R\u00fcth, Dima Pasechnik**\n\nAuthor: **Erik Bray**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25188_\n\n",
    "closed_at": "2018-10-29T22:46:40Z",
    "created_at": "2018-04-17T09:51:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Repeated configure run with gcc already installed treats gcc as not installed",
    "type": "issue",
    "updated_at": "2018-10-29T22:46:40Z",
    "url": "https://github.com/sagemath/sage/issues/25188",
    "user": "https://github.com/jdemeyer"
}
```
If `./configure` detects an existing GCC installed in Sage (`SAGE_INSTALL_GCC=exists`) then it should keep gcc selected among the packages to be installed as part of the distribution.  Otherwise it basically deselects gcc which is the wrong thing to do (with any package).

Depends on #25857

CC:  @embray

Branch/Commit: **[`5d0a981`](https://github.com/sagemath/sagetrac-mirror/commit/5d0a98124f3e2b6d32de6fc1ffffc6ea660ea2b4)**

Reviewer: **Volker Braun, Julian Rüth, Dima Pasechnik**

Author: **Erik Bray**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/25188_





---

archive/issue_events_348614.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T09:51:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348614"
}
```



---

archive/issue_events_348615.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T09:51:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348615"
}
```



---

archive/issue_events_348616.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T09:51:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348616"
}
```



---

archive/issue_events_348617.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T09:51:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348617"
}
```



---

archive/issue_comments_385075.json:
```json
{
    "body": "Attachment: **[Makefile.gz](https://github.com/sagemath/sage/files/ticket25188/Makefile.gz)**\n\nAuto-generated build/make/Makefile",
    "created_at": "2018-04-17T09:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385075",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[Makefile.gz](https://github.com/sagemath/sage/files/ticket25188/Makefile.gz)**

Auto-generated build/make/Makefile



---

archive/issue_comments_385076.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n It seems that `DUMMY_PACKAGES` in `build/make/Makefile` no longer works correctly.\n \n-`build/make/Makefile` contains\n+On the patchbot system \"arando\" (i686 Linux), [build/make/Makefile](https://github.com/sagemath/sage/files/ticket25188/Makefile.gz) contains\n \n ```\n DUMMY_PACKAGES = \\\n``````\n",
    "created_at": "2018-04-17T09:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385076",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 It seems that `DUMMY_PACKAGES` in `build/make/Makefile` no longer works correctly.
 
-`build/make/Makefile` contains
+On the patchbot system "arando" (i686 Linux), [build/make/Makefile](https://github.com/sagemath/sage/files/ticket25188/Makefile.gz) contains
 
 ```
 DUMMY_PACKAGES = \
``````




---

archive/issue_comments_385077.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,3 +21,5 @@\n         rm -rf $(INST)/gfortran-7.2.0\n ```\n This is causing build failures because `gcc` is also installed.\n+\n+Perhaps the problem is that `gfortran` appears both in `DUMMY_PACKAGES` and `NORMAL_PACKAGES`?\n``````\n",
    "created_at": "2018-04-17T10:01:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385077",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,3 +21,5 @@
         rm -rf $(INST)/gfortran-7.2.0
 ```
 This is causing build failures because `gcc` is also installed.
+
+Perhaps the problem is that `gfortran` appears both in `DUMMY_PACKAGES` and `NORMAL_PACKAGES`?
``````




---

archive/issue_comments_385078.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI don't think this is any different from how it used to work.  For each package, there is a variable in the Makefile called `inst_<pkgname>`.  If the package should be installed (particularly as a dependency of another package) its `inst_<pkgname>` should point to the real stamp file for that package under `SAGE_SPKG_INSTS`.  However, if the package is not being installed in Sage (i.e. due to a configure check) then its `inst_<pkgname>` just points to `.dummy`.  But explicit build rules for that package are still added to the Makefile, so if you run `make gfortran` you can still install the `gfortran` package, overriding the `configure`-time determination.\n\nI'm not 100% convinced that's the best behavior (I think if you want to override a `configure`-based selection you should have to actually re-run `configure`).  But that's how it always worked until now.",
    "created_at": "2018-04-17T16:44:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385078",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

I don't think this is any different from how it used to work.  For each package, there is a variable in the Makefile called `inst_<pkgname>`.  If the package should be installed (particularly as a dependency of another package) its `inst_<pkgname>` should point to the real stamp file for that package under `SAGE_SPKG_INSTS`.  However, if the package is not being installed in Sage (i.e. due to a configure check) then its `inst_<pkgname>` just points to `.dummy`.  But explicit build rules for that package are still added to the Makefile, so if you run `make gfortran` you can still install the `gfortran` package, overriding the `configure`-time determination.

I'm not 100% convinced that's the best behavior (I think if you want to override a `configure`-based selection you should have to actually re-run `configure`).  But that's how it always worked until now.



---

archive/issue_comments_385079.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI think the problem has more to do with the oddities of how gcc is being handled, especially since #24703.\n\nI was confused because you wrote that \"gcc is also installed\", but in your Makefile it has `gcc` in `DUMMY_PACKAGES` implying that it was not selected for installation.  Yet all the packages have `$(SAGE_LOCAL)/bin/gcc` as dependencies implying that it was installed at some point.\n\nI think that what #24703 missed is that even if `$SAGE_INSTALL_GCC = exists` it needs to be setting `needs_to_install_gcc = yes` (this doesn't actually mean it will reinstall gcc if it isn't necessary to--this just means gcc is selected for possible installation in Sage, pending checking of its prerequisites by make).   Since that isn't happening, the build system gets into a funny state where Sage's gcc *is* installed, but the build system doesn't really think it should be.",
    "created_at": "2018-04-17T17:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385079",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

I think the problem has more to do with the oddities of how gcc is being handled, especially since #24703.

I was confused because you wrote that "gcc is also installed", but in your Makefile it has `gcc` in `DUMMY_PACKAGES` implying that it was not selected for installation.  Yet all the packages have `$(SAGE_LOCAL)/bin/gcc` as dependencies implying that it was installed at some point.

I think that what #24703 missed is that even if `$SAGE_INSTALL_GCC = exists` it needs to be setting `needs_to_install_gcc = yes` (this doesn't actually mean it will reinstall gcc if it isn't necessary to--this just means gcc is selected for possible installation in Sage, pending checking of its prerequisites by make).   Since that isn't happening, the build system gets into a funny state where Sage's gcc *is* installed, but the build system doesn't really think it should be.



---

archive/issue_comments_385080.json:
```json
{
    "body": "Branch: **[u/embray/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/ticket-25188)**",
    "created_at": "2018-04-17T17:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385080",
    "user": "https://github.com/embray"
}
```

Branch: **[u/embray/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/ticket-25188)**



---

archive/issue_comments_385081.json:
```json
{
    "body": "Author: **Erik Bray**",
    "created_at": "2018-04-17T17:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385081",
    "user": "https://github.com/embray"
}
```

Author: **Erik Bray**



---

archive/issue_comments_385082.json:
```json
{
    "body": "Commit: **[`2f97ecf`](https://github.com/sagemath/sagetrac-mirror/commit/2f97ecfef40f234c2a3b3ff40efe59dce967cb7b)**",
    "created_at": "2018-04-17T17:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385082",
    "user": "https://github.com/embray"
}
```

Commit: **[`2f97ecf`](https://github.com/sagemath/sagetrac-mirror/commit/2f97ecfef40f234c2a3b3ff40efe59dce967cb7b)**



---

archive/issue_events_348618.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-17T17:38:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348618"
}
```



---

archive/issue_events_348619.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-17T17:38:09Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "title_is": "Repeated configure run with gcc already installed treats gcc as not installed",
    "title_was": "DUMMY_PACKAGES does not work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348619"
}
```



---

archive/issue_comments_385083.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI'm not positive since you weren't clear on the actual symptoms, but I think this should fix the basic problem (I'm guessing that it was a complaint about no target for `$(SAGE_LOCAL)/bin/gcc`).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f97ecfef40f234c2a3b3ff40efe59dce967cb7b\"><code>2f97ecf</code></a></td><td><code>should still set need_to_install_gcc=yes in configure if Sage's gcc is already installed</code></td></tr></table>\n",
    "created_at": "2018-04-17T17:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385083",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">comment:5</div>

I'm not positive since you weren't clear on the actual symptoms, but I think this should fix the basic problem (I'm guessing that it was a complaint about no target for `$(SAGE_LOCAL)/bin/gcc`).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f97ecfef40f234c2a3b3ff40efe59dce967cb7b"><code>2f97ecf</code></a></td><td><code>should still set need_to_install_gcc=yes in configure if Sage's gcc is already installed</code></td></tr></table>




---

archive/issue_comments_385084.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b\"><code>0baf862</code></a></td><td><code>build/make/Makefile should be rebuild with build/make/Makefile.in is updated</code></td></tr></table>\n",
    "created_at": "2018-04-17T17:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385084",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b"><code>0baf862</code></a></td><td><code>build/make/Makefile should be rebuild with build/make/Makefile.in is updated</code></td></tr></table>




---

archive/issue_comments_385085.json:
```json
{
    "body": "Changed commit from **[`2f97ecf`](https://github.com/sagemath/sagetrac-mirror/commit/2f97ecfef40f234c2a3b3ff40efe59dce967cb7b)** to **[`0baf862`](https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b)**",
    "created_at": "2018-04-17T17:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385085",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f97ecf`](https://github.com/sagemath/sagetrac-mirror/commit/2f97ecfef40f234c2a3b3ff40efe59dce967cb7b)** to **[`0baf862`](https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b)**



---

archive/issue_comments_385086.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI haven't reviewed the patch, but it would really be useful if `DEBUG_RULES=1` would show *everything* that ends up in the `Makefile`. In particular, the expansions of the `inst_FOO` variables are currently missing.\n\nThis is precisely the sort of thing why I opposed #21524: the `Makefile` rules are too obscure to understand what is broken.",
    "created_at": "2018-04-17T18:47:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385086",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

I haven't reviewed the patch, but it would really be useful if `DEBUG_RULES=1` would show *everything* that ends up in the `Makefile`. In particular, the expansions of the `inst_FOO` variables are currently missing.

This is precisely the sort of thing why I opposed #21524: the `Makefile` rules are too obscure to understand what is broken.



---

archive/issue_comments_385087.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@embray](#comment:4):\n> I was confused because you wrote that \"gcc is also installed\", but in your Makefile it has `gcc` in `DUMMY_PACKAGES` implying that it was not selected for installation.  Yet all the packages have `$(SAGE_LOCAL)/bin/gcc` as dependencies implying that it was installed at some point.\n\nYes, I meant \"gcc has been installed at some point in the past\". `configure` correctly detects that `gfortran` should not be installed, but it's still being installed anyway.",
    "created_at": "2018-04-17T18:52:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385087",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@embray](#comment:4):
> I was confused because you wrote that "gcc is also installed", but in your Makefile it has `gcc` in `DUMMY_PACKAGES` implying that it was not selected for installation.  Yet all the packages have `$(SAGE_LOCAL)/bin/gcc` as dependencies implying that it was installed at some point.

Yes, I meant "gcc has been installed at some point in the past". `configure` correctly detects that `gfortran` should not be installed, but it's still being installed anyway.



---

archive/issue_comments_385088.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@embray](#comment:3):\n> if you run `make gfortran` you can still install the `gfortran` package, overriding the `configure`-time determination.\n\nTo be clear: this is *not* what I'm doing. `gfortran` is build during the normal build process.",
    "created_at": "2018-04-17T18:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385088",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@embray](#comment:3):
> if you run `make gfortran` you can still install the `gfortran` package, overriding the `configure`-time determination.

To be clear: this is *not* what I'm doing. `gfortran` is build during the normal build process.



---

archive/issue_events_348620.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T19:01:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348620"
}
```



---

archive/issue_events_348621.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T19:01:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348621"
}
```



---

archive/issue_comments_385089.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nNever mind, user error...",
    "created_at": "2018-04-17T19:01:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385089",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Never mind, user error...



---

archive/issue_events_348622.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T19:01:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348622"
}
```



---

archive/issue_events_348623.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T19:01:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348623"
}
```



---

archive/issue_events_348624.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-17T19:01:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348624"
}
```



---

archive/issue_comments_385090.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jdemeyer](#comment:7):\n> I haven't reviewed the patch, but it would really be useful if `DEBUG_RULES=1` would show *everything* that ends up in the `Makefile`. In particular, the expansions of the `inst_FOO` variables are currently missing.\n> \n> This is precisely the sort of thing why I opposed #21524: the `Makefile` rules are too obscure to understand what is broken.\n\nI don't think anything's really being obscured here.  The old hard-coded makefile didn't expand those variables either so if you suspected something to do with them you've lost nothing.",
    "created_at": "2018-04-18T13:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385090",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jdemeyer](#comment:7):
> I haven't reviewed the patch, but it would really be useful if `DEBUG_RULES=1` would show *everything* that ends up in the `Makefile`. In particular, the expansions of the `inst_FOO` variables are currently missing.
> 
> This is precisely the sort of thing why I opposed #21524: the `Makefile` rules are too obscure to understand what is broken.

I don't think anything's really being obscured here.  The old hard-coded makefile didn't expand those variables either so if you suspected something to do with them you've lost nothing.



---

archive/issue_events_348625.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-18T13:18:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348625"
}
```



---

archive/issue_comments_385091.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWell don't just close it.  You've been very vague about what the actual problem is here, though you led me to actually examine the issue closely and this fix actually is the correct thing to do.\n\nIf `./configure` detects an existing GCC installed in Sage (`SAGE_INSTALL_GCC=exists`) then it should keep gcc selected among the packages to be installed as part of the distribution.  Otherwise it basically deselects gcc which is the wrong thing to do (with any package).",
    "created_at": "2018-04-18T13:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385091",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">comment:12</div>

Well don't just close it.  You've been very vague about what the actual problem is here, though you led me to actually examine the issue closely and this fix actually is the correct thing to do.

If `./configure` detects an existing GCC installed in Sage (`SAGE_INSTALL_GCC=exists`) then it should keep gcc selected among the packages to be installed as part of the distribution.  Otherwise it basically deselects gcc which is the wrong thing to do (with any package).



---

archive/issue_events_348626.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-18T13:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348626"
}
```



---

archive/issue_comments_385092.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jdemeyer](#comment:9):\n> Replying to [@embray](#comment:3):\n> > if you run `make gfortran` you can still install the `gfortran` package, overriding the `configure`-time determination.\n\n> \n> To be clear: this is *not* what I'm doing. `gfortran` is build during the normal build process.\n\nRight, I didn't think you were doing that.  I'm just explaining that that capability exists (even if it's sometimes not a good idea), and that that's nothing new.",
    "created_at": "2018-04-18T13:23:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385092",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jdemeyer](#comment:9):
> Replying to [@embray](#comment:3):
> > if you run `make gfortran` you can still install the `gfortran` package, overriding the `configure`-time determination.

> 
> To be clear: this is *not* what I'm doing. `gfortran` is build during the normal build process.

Right, I didn't think you were doing that.  I'm just explaining that that capability exists (even if it's sometimes not a good idea), and that that's nothing new.



---

archive/issue_comments_385093.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,25 +1 @@\n-It seems that `DUMMY_PACKAGES` in `build/make/Makefile` no longer works correctly.\n \n-On the patchbot system \"arando\" (i686 Linux), [build/make/Makefile](https://github.com/sagemath/sage/files/ticket25188/Makefile.gz) contains\n-\n-```\n-DUMMY_PACKAGES = \\\n-    gcc \\\n-    gfortran \\\n-    git \\\n-```\n-\n-Despite this, a normal build rule for `gfortran` is generated. Partial output of `make -f build/make/Makefile -n DEBUG_RULES=1`:\n-\n-```\n-$(INST)/gfortran-7.2.0:   /bin/gcc  |  $(inst_mpir)  $(inst_mpfr)  $(inst_mpc)  $(inst_zlib)  $(inst_xz)\n-        +sage-logger -p '$(SAGE_SPKG) gfortran-7.2.0' '$(SAGE_LOGS)/gfortran-7.2.0.log'\n-\n-gfortran: $(INST)/gfortran-7.2.0\n-\n-gfortran-clean:\n-        rm -rf $(INST)/gfortran-7.2.0\n-```\n-This is causing build failures because `gcc` is also installed.\n-\n-Perhaps the problem is that `gfortran` appears both in `DUMMY_PACKAGES` and `NORMAL_PACKAGES`?\n``````\n",
    "created_at": "2018-04-18T19:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385093",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,25 +1 @@
-It seems that `DUMMY_PACKAGES` in `build/make/Makefile` no longer works correctly.
 
-On the patchbot system "arando" (i686 Linux), [build/make/Makefile](https://github.com/sagemath/sage/files/ticket25188/Makefile.gz) contains
-
-```
-DUMMY_PACKAGES = \
-    gcc \
-    gfortran \
-    git \
-```
-
-Despite this, a normal build rule for `gfortran` is generated. Partial output of `make -f build/make/Makefile -n DEBUG_RULES=1`:
-
-```
-$(INST)/gfortran-7.2.0:   /bin/gcc  |  $(inst_mpir)  $(inst_mpfr)  $(inst_mpc)  $(inst_zlib)  $(inst_xz)
-        +sage-logger -p '$(SAGE_SPKG) gfortran-7.2.0' '$(SAGE_LOGS)/gfortran-7.2.0.log'
-
-gfortran: $(INST)/gfortran-7.2.0
-
-gfortran-clean:
-        rm -rf $(INST)/gfortran-7.2.0
-```
-This is causing build failures because `gcc` is also installed.
-
-Perhaps the problem is that `gfortran` appears both in `DUMMY_PACKAGES` and `NORMAL_PACKAGES`?
``````




---

archive/issue_events_348627.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-18T19:51:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348627"
}
```



---

archive/issue_comments_385094.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+If `./configure` detects an existing GCC installed in Sage (`SAGE_INSTALL_GCC=exists`) then it should keep gcc selected among the packages to be installed as part of the distribution.  Otherwise it basically deselects gcc which is the wrong thing to do (with any package).\n``````\n",
    "created_at": "2018-04-18T19:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385094",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+If `./configure` detects an existing GCC installed in Sage (`SAGE_INSTALL_GCC=exists`) then it should keep gcc selected among the packages to be installed as part of the distribution.  Otherwise it basically deselects gcc which is the wrong thing to do (with any package).
``````




---

archive/issue_comments_385095.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nLgtm; Jeroen, any comments?",
    "created_at": "2018-04-18T23:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385095",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">comment:17</div>

Lgtm; Jeroen, any comments?



---

archive/issue_comments_385096.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2018-04-18T23:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385096",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_385097.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI honestly don't understand the issue here. Which problem is this trying to solve?",
    "created_at": "2018-04-19T09:53:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385097",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

I honestly don't understand the issue here. Which problem is this trying to solve?



---

archive/issue_comments_385098.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIt's resolving the thing I at least thought you were confused about.\n\nSay you want to install gcc in Sage (whether explicitly, or by requirement of configure):\n\n```\n$ SAGE_INSTALL_GCC=yes ./configure\n```\n\nthen `./configure` correctly outputs:\n\n```\nchecking package versions...\n...\n    gcc-7.2.0\n...\n```\n\nThen you install the gcc SPKG (explicitly or otherwise):\n\n```\n$ make gcc\n```\n\nAnd in the Makefile you see\n\n```\nBUILT_PACKAGES =\\\n...\ngcc \\\n...\n```\n\nand\n\n```\nDUMMY_PACKAGES = \\\n    curl \\\n    gfortran \\\n    git \\\n```\n\nHowever, if you then re-run `./configure` (without explicitly supplying `SAGE_INSTALL_GCC=yes`):\n\n```\nchecking package versions...\n...\n    gcc-7.2.0 not installed (configure check)\n...\n```\n\nit now says gcc spkg will not be installed (even though it is in fact already installed, and should continue to be installed).  Furthermore this means:\n\n```\nDUMMY_PACKAGES = \\\n    curl \\\n    gcc \\\n    gfortran \\\n    git \\\n```\n\nso the stamp file for the gcc spkg is now `$SAGE_SPKG_INST/.dummy` and not the real stamp file for the actual installed gcc.  This obviously isn't the intended behavior, nor the behavior for any other package.  This bug is just unique to the gcc package because of how its installation state is being managed by the configure script.",
    "created_at": "2018-04-19T11:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385098",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

It's resolving the thing I at least thought you were confused about.

Say you want to install gcc in Sage (whether explicitly, or by requirement of configure):

```
$ SAGE_INSTALL_GCC=yes ./configure
```

then `./configure` correctly outputs:

```
checking package versions...
...
    gcc-7.2.0
...
```

Then you install the gcc SPKG (explicitly or otherwise):

```
$ make gcc
```

And in the Makefile you see

```
BUILT_PACKAGES =\
...
gcc \
...
```

and

```
DUMMY_PACKAGES = \
    curl \
    gfortran \
    git \
```

However, if you then re-run `./configure` (without explicitly supplying `SAGE_INSTALL_GCC=yes`):

```
checking package versions...
...
    gcc-7.2.0 not installed (configure check)
...
```

it now says gcc spkg will not be installed (even though it is in fact already installed, and should continue to be installed).  Furthermore this means:

```
DUMMY_PACKAGES = \
    curl \
    gcc \
    gfortran \
    git \
```

so the stamp file for the gcc spkg is now `$SAGE_SPKG_INST/.dummy` and not the real stamp file for the actual installed gcc.  This obviously isn't the intended behavior, nor the behavior for any other package.  This bug is just unique to the gcc package because of how its installation state is being managed by the configure script.



---

archive/issue_comments_385099.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@embray](#comment:19):\n> This obviously isn't the intended behavior\n\nI actually think that it is intended.",
    "created_at": "2018-04-19T12:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385099",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@embray](#comment:19):
> This obviously isn't the intended behavior

I actually think that it is intended.



---

archive/issue_comments_385100.json:
```json
{
    "body": "Changed branch from **[u/embray/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/ticket-25188)** to **[`0baf862`](https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b)**",
    "created_at": "2018-04-19T22:56:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385100",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/ticket-25188)** to **[`0baf862`](https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b)**



---

archive/issue_events_348628.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-04-19T22:56:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348628"
}
```



---

archive/issue_events_348629.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-04-19T22:56:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348629"
}
```



---

archive/issue_comments_385101.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI think the affected users would prefer not to recompile gcc if they can avoid it... Though I'll leave it to you two to figure it out. But if there is no resultion real soon (TM) then it won't be in 8.2.",
    "created_at": "2018-04-19T23:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385101",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

I think the affected users would prefer not to recompile gcc if they can avoid it... Though I'll leave it to you two to figure it out. But if there is no resultion real soon (TM) then it won't be in 8.2.



---

archive/issue_comments_385102.json:
```json
{
    "body": "Changed branch from **[`0baf862`](https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b)** to **[u/embray/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/ticket-25188)**",
    "created_at": "2018-04-19T23:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385102",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[`0baf862`](https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b)** to **[u/embray/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/ticket-25188)**



---

archive/issue_events_348630.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-04-19T23:02:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348630"
}
```



---

archive/issue_comments_385103.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@vbraun](#comment:22):\n> I think the affected users would prefer not to recompile gcc if they can avoid it...\n\nIndeed. that's the idea. We never recompile GCC just for fun.",
    "created_at": "2018-04-20T05:13:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385103",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@vbraun](#comment:22):
> I think the affected users would prefer not to recompile gcc if they can avoid it...

Indeed. that's the idea. We never recompile GCC just for fun.



---

archive/issue_comments_385104.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nIt's not that it's recompiling GCC.  It's a reminder that GCC is supposed to be installed in Sage in the first place.  It's really wrong--it means that if you delete `$SAGE_LOCAL/var/lib/sage/installed/gcc-*` then the gcc package won't get rebuilt.  You *do* want that because otherwise the package is for all intents and purposes broken.  I also don't know why you would want to treat gcc differently from any other package in this regard.\n\nThe only way I could see this remotely making sense is if proper uninstallation were also implemented.  Otherwise you're effectively saying \"gcc is not part of this Sage distribution\" even though it is installed.",
    "created_at": "2018-04-20T13:53:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385104",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

It's not that it's recompiling GCC.  It's a reminder that GCC is supposed to be installed in Sage in the first place.  It's really wrong--it means that if you delete `$SAGE_LOCAL/var/lib/sage/installed/gcc-*` then the gcc package won't get rebuilt.  You *do* want that because otherwise the package is for all intents and purposes broken.  I also don't know why you would want to treat gcc differently from any other package in this regard.

The only way I could see this remotely making sense is if proper uninstallation were also implemented.  Otherwise you're effectively saying "gcc is not part of this Sage distribution" even though it is installed.



---

archive/issue_events_348631.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-04-20T16:47:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348631"
}
```



---

archive/issue_comments_385105.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nEither way, doesn't strike me as a blocker.",
    "created_at": "2018-04-20T16:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385105",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

Either way, doesn't strike me as a blocker.



---

archive/issue_comments_385106.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@embray](#comment:25):\n> I also don't know why you would want to treat gcc differently from any other package in this regard.\n\nBecause GCC tends to give cyclic build dependencies: GCC depends on MPIR but MPIR depends on GCC.",
    "created_at": "2018-04-23T07:27:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385106",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@embray](#comment:25):
> I also don't know why you would want to treat gcc differently from any other package in this regard.

Because GCC tends to give cyclic build dependencies: GCC depends on MPIR but MPIR depends on GCC.



---

archive/issue_comments_385107.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOkay, but the current behavior doesn't seem like the correct way to resolve that.",
    "created_at": "2018-04-23T15:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385107",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

Okay, but the current behavior doesn't seem like the correct way to resolve that.



---

archive/issue_comments_385108.json:
```json
{
    "body": "Changed reviewer from **Volker Braun** to **Volker Braun, Julian R\u00fcth**",
    "created_at": "2018-07-17T15:48:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385108",
    "user": "https://github.com/saraedum"
}
```

Changed reviewer from **Volker Braun** to **Volker Braun, Julian Rüth**



---

archive/issue_comments_385109.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThis seems like a reasonable change to me. Feel free to set this to positive review from my end. What's the current status here embray?",
    "created_at": "2018-07-17T15:48:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385109",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:29" align="right">comment:29</div>

This seems like a reasonable change to me. Feel free to set this to positive review from my end. What's the current status here embray?



---

archive/issue_events_348632.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-07-17T15:48:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348632"
}
```



---

archive/issue_events_348633.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-07-17T15:48:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348633"
}
```



---

archive/issue_comments_385110.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nJeroen has expressed some concerns that this has problems related to cyclic dependencies.  I think it's the fact that when you install sage-gcc, mpir, mpc, mpfr, and other dependencies of gcc are installed first in order to bootstrap it, then gcc is build, then its dependencies are *rebuilt* with the new gcc.  After this point, if dependencies of gcc get rebuilt, it should not trigger gcc to be rebuilt as well.\n\nI think, with this patch, that still would not happen, but I need to make sure.\n\nEither way, I don't think pretending that sage-gcc is not selected is a good way to deal with this.  Better to see if a special case can be made for toolchain dependencies (as in the more recent ticket #25857).",
    "created_at": "2018-07-17T19:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385110",
    "user": "https://github.com/embray"
}
```

<div id="comment:31" align="right">comment:31</div>

Jeroen has expressed some concerns that this has problems related to cyclic dependencies.  I think it's the fact that when you install sage-gcc, mpir, mpc, mpfr, and other dependencies of gcc are installed first in order to bootstrap it, then gcc is build, then its dependencies are *rebuilt* with the new gcc.  After this point, if dependencies of gcc get rebuilt, it should not trigger gcc to be rebuilt as well.

I think, with this patch, that still would not happen, but I need to make sure.

Either way, I don't think pretending that sage-gcc is not selected is a good way to deal with this.  Better to see if a special case can be made for toolchain dependencies (as in the more recent ticket #25857).



---

archive/issue_comments_385111.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3d4e6e19c99287686a6efec7b4bbd5d076c2332\"><code>b3d4e6e</code></a></td><td><code>build/make/Makefile should be rebuilt when build/make/Makefile.in is updated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c5fd1e2e56d773fda4c9e88f4b7a30fac487b0a\"><code>0c5fd1e</code></a></td><td><code>If sage-gcc is already installed there is no guarantee these macros will be run</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2965003cb1fd4acecdd099ec876ff99069de2bc9\"><code>2965003</code></a></td><td><code>add vim modeline for this file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5f68da5228889c77a1fee2ae00a6e1f7a32d3c2\"><code>f5f68da</code></a></td><td><code>Add a package that by all rights should be included in this list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15c7b88bd76c58b769a06c2d4c8dede4ef33d850\"><code>15c7b88</code></a></td><td><code>move this list into a TOOLCHAIN_DEPS variable we can use to inspect this list elsewhere</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1954e5e9020a63b851bfa008e5ac54bd1f71bd19\"><code>1954e5e</code></a></td><td><code>Add -k/--keep-existing to sage-spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1411c5ee7e3aad4a11e2eeab767e980a0d65abb\"><code>f1411c5</code></a></td><td><code>From <spkg>-clean targets in the Makefile, just remove the package's</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99760919b4cf66c55dba78d7a4153273b474948d\"><code>9976091</code></a></td><td><code>Use sage-spkg --keep-existing when installing/re-installing packages in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22a1f34f0157cc5f9599e094e0e23da040ef768f\"><code>22a1f34</code></a></td><td><code>Revert to using sage-spkg-uninstall in <spkg>-clean targets, but add a</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d71c88f0f54243300aa5968ecf4827606a642e80\"><code>d71c88f</code></a></td><td><code>Merge branch 'u/embray/ticket-25857' into u/embray/build/ticket-25188</code></td></tr></table>\n",
    "created_at": "2018-07-18T07:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385111",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3d4e6e19c99287686a6efec7b4bbd5d076c2332"><code>b3d4e6e</code></a></td><td><code>build/make/Makefile should be rebuilt when build/make/Makefile.in is updated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c5fd1e2e56d773fda4c9e88f4b7a30fac487b0a"><code>0c5fd1e</code></a></td><td><code>If sage-gcc is already installed there is no guarantee these macros will be run</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2965003cb1fd4acecdd099ec876ff99069de2bc9"><code>2965003</code></a></td><td><code>add vim modeline for this file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5f68da5228889c77a1fee2ae00a6e1f7a32d3c2"><code>f5f68da</code></a></td><td><code>Add a package that by all rights should be included in this list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15c7b88bd76c58b769a06c2d4c8dede4ef33d850"><code>15c7b88</code></a></td><td><code>move this list into a TOOLCHAIN_DEPS variable we can use to inspect this list elsewhere</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1954e5e9020a63b851bfa008e5ac54bd1f71bd19"><code>1954e5e</code></a></td><td><code>Add -k/--keep-existing to sage-spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1411c5ee7e3aad4a11e2eeab767e980a0d65abb"><code>f1411c5</code></a></td><td><code>From <spkg>-clean targets in the Makefile, just remove the package's</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99760919b4cf66c55dba78d7a4153273b474948d"><code>9976091</code></a></td><td><code>Use sage-spkg --keep-existing when installing/re-installing packages in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22a1f34f0157cc5f9599e094e0e23da040ef768f"><code>22a1f34</code></a></td><td><code>Revert to using sage-spkg-uninstall in <spkg>-clean targets, but add a</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d71c88f0f54243300aa5968ecf4827606a642e80"><code>d71c88f</code></a></td><td><code>Merge branch 'u/embray/ticket-25857' into u/embray/build/ticket-25188</code></td></tr></table>




---

archive/issue_comments_385112.json:
```json
{
    "body": "Changed commit from **[`0baf862`](https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b)** to **[`d71c88f`](https://github.com/sagemath/sagetrac-mirror/commit/d71c88f0f54243300aa5968ecf4827606a642e80)**",
    "created_at": "2018-07-18T07:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385112",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0baf862`](https://github.com/sagemath/sagetrac-mirror/commit/0baf86234801c1da822ed8e2aa946ebe6a141d9b)** to **[`d71c88f`](https://github.com/sagemath/sagetrac-mirror/commit/d71c88f0f54243300aa5968ecf4827606a642e80)**



---

archive/issue_comments_385113.json:
```json
{
    "body": "Changed commit from **[`d71c88f`](https://github.com/sagemath/sagetrac-mirror/commit/d71c88f0f54243300aa5968ecf4827606a642e80)** to **[`f062068`](https://github.com/sagemath/sagetrac-mirror/commit/f062068a46d4e8a3d4e964cd2cac1ffd63e45644)**",
    "created_at": "2018-07-18T07:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d71c88f`](https://github.com/sagemath/sagetrac-mirror/commit/d71c88f0f54243300aa5968ecf4827606a642e80)** to **[`f062068`](https://github.com/sagemath/sagetrac-mirror/commit/f062068a46d4e8a3d4e964cd2cac1ffd63e45644)**



---

archive/issue_comments_385114.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f062068a46d4e8a3d4e964cd2cac1ffd63e45644\"><code>f062068</code></a></td><td><code>fix accidentally removed blank line needed to make debugging output look better</code></td></tr></table>\n",
    "created_at": "2018-07-18T07:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385114",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f062068a46d4e8a3d4e964cd2cac1ffd63e45644"><code>f062068</code></a></td><td><code>fix accidentally removed blank line needed to make debugging output look better</code></td></tr></table>




---

archive/issue_events_348634.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T07:35:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348634"
}
```



---

archive/issue_events_348635.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T07:35:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348635"
}
```



---

archive/issue_comments_385115.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI had to make a small change over the previous fix, but I'm pretty confident this works.  I also had to merge in the fix from #25857 in order to be able to be able to test this at all without breaking things too much.\n\nYou can install sage-gcc, then packages that gcc depends on like mpir can be reinstalled and updated as much as you want.  This isn't a problem because, in part, all of gcc's dependencies are listed as prerequisite-only.",
    "created_at": "2018-07-18T07:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385115",
    "user": "https://github.com/embray"
}
```

<div id="comment:34" align="right">comment:34</div>

I had to make a small change over the previous fix, but I'm pretty confident this works.  I also had to merge in the fix from #25857 in order to be able to be able to test this at all without breaking things too much.

You can install sage-gcc, then packages that gcc depends on like mpir can be reinstalled and updated as much as you want.  This isn't a problem because, in part, all of gcc's dependencies are listed as prerequisite-only.



---

archive/issue_comments_385116.json:
```json
{
    "body": "Dependencies: **#25857**",
    "created_at": "2018-07-18T07:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385116",
    "user": "https://github.com/embray"
}
```

Dependencies: **#25857**



---

archive/issue_events_348636.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T10:20:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348636"
}
```



---

archive/issue_events_348637.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T10:20:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348637"
}
```



---

archive/issue_comments_385117.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI suppose this also needs configure tarball and bump...",
    "created_at": "2018-09-07T08:11:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385117",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

I suppose this also needs configure tarball and bump...



---

archive/issue_comments_385118.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nIt might not need a configure tarball, since this looks like one of those ones that \"happens to work\" even without rebuilding configure.",
    "created_at": "2018-09-07T09:16:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385118",
    "user": "https://github.com/embray"
}
```

<div id="comment:37" align="right">comment:37</div>

It might not need a configure tarball, since this looks like one of those ones that "happens to work" even without rebuilding configure.



---

archive/issue_comments_385119.json:
```json
{
    "body": "Changed reviewer from **Volker Braun, Julian R\u00fcth** to **Volker Braun, Julian R\u00fcth, Dima Pasechnik**",
    "created_at": "2018-10-15T09:55:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385119",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Volker Braun, Julian Rüth** to **Volker Braun, Julian Rüth, Dima Pasechnik**



---

archive/issue_events_348638.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-15T09:55:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348638"
}
```



---

archive/issue_events_348639.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-15T09:55:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348639"
}
```



---

archive/issue_comments_385120.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nMerge conflict",
    "created_at": "2018-10-18T12:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385120",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

Merge conflict



---

archive/issue_events_348640.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-18T16:21:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348640"
}
```



---

archive/issue_events_348641.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-18T16:21:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348641"
}
```



---

archive/issue_comments_385121.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@vbraun](#comment:40):\nIIRC that work branch was https://github.com/sagemath/sage - but this does not seem to be the case anymore. Please advice where to look.",
    "created_at": "2018-10-19T09:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385121",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@vbraun](#comment:40):
IIRC that work branch was https://github.com/sagemath/sage - but this does not seem to be the case anymore. Please advice where to look.



---

archive/issue_comments_385122.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\na trivial merge",
    "created_at": "2018-10-28T08:30:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385122",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">comment:42</div>

a trivial merge



---

archive/issue_events_348642.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-28T08:30:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348642"
}
```



---

archive/issue_events_348643.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-28T08:30:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348643"
}
```



---

archive/issue_comments_385123.json:
```json
{
    "body": "Changed branch from **[u/embray/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/ticket-25188)** to **[public/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ticket-25188)**",
    "created_at": "2018-10-28T08:30:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385123",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/embray/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/ticket-25188)** to **[public/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ticket-25188)**



---

archive/issue_comments_385124.json:
```json
{
    "body": "Changed commit from **[`f062068`](https://github.com/sagemath/sagetrac-mirror/commit/f062068a46d4e8a3d4e964cd2cac1ffd63e45644)** to **[`5d0a981`](https://github.com/sagemath/sagetrac-mirror/commit/5d0a98124f3e2b6d32de6fc1ffffc6ea660ea2b4)**",
    "created_at": "2018-10-28T08:30:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385124",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`f062068`](https://github.com/sagemath/sagetrac-mirror/commit/f062068a46d4e8a3d4e964cd2cac1ffd63e45644)** to **[`5d0a981`](https://github.com/sagemath/sagetrac-mirror/commit/5d0a98124f3e2b6d32de6fc1ffffc6ea660ea2b4)**



---

archive/issue_events_348644.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-28T08:35:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348644"
}
```



---

archive/issue_events_348645.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-28T08:35:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348645"
}
```



---

archive/issue_comments_385125.json:
```json
{
    "body": "Changed branch from **[public/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ticket-25188)** to **[`5d0a981`](https://github.com/sagemath/sagetrac-mirror/commit/5d0a98124f3e2b6d32de6fc1ffffc6ea660ea2b4)**",
    "created_at": "2018-10-29T22:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25188#issuecomment-385125",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/build/ticket-25188](https://github.com/sagemath/sagetrac-mirror/tree/public/build/ticket-25188)** to **[`5d0a981`](https://github.com/sagemath/sagetrac-mirror/commit/5d0a98124f3e2b6d32de6fc1ffffc6ea660ea2b4)**



---

archive/issue_events_348646.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-29T22:46:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348646"
}
```



---

archive/issue_events_348647.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "39a74f37ed3ae3751425a52d9c244d53b29effb2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-10-29T22:46:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25188",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25188#event-348647"
}
```
