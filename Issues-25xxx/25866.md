# Issue 25866: Tensor series expansion

archive/issues_025629.json:
```json
{
    "assignees": [],
    "body": "This ticket modifies the method `_simplify` of chart functions on manifolds to permit series expansion of tensor field, scalar field or connection.\n\nMost of the usual operations are already supported (except Lie derivative).\n\nBecause the expansion is performed at the lowest level, it provides a major improvement in performances for computing general perturbations (compared with simply expanding after the computation).\n\nA notebook example can be found [here](http://nbviewer.jupyter.org/github/sagemanifolds/SageManifolds/blob/master/Worksheets/series/First-order%20example.ipynb).\n\n\nThis is part of the \u200b[SageManifolds project](http://sagemanifolds.obspm.fr/); see the metaticket #18528 for an overview. \n\nCC:  @egourgoulhon\n\nComponent: **geometry**\n\nKeywords: **expansion, series, tensor**\n\nAuthor: **Florentin Jaffredo**\n\nBranch/Commit: **[`beaa20e`](https://github.com/sagemath/sagetrac-mirror/commit/beaa20e9f75805a8a9a4476195b8aeaee34876aa)**\n\nReviewer: **Eric Gourgoulhon, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25866_\n\n",
    "closed_at": "2019-03-25T19:43:59Z",
    "created_at": "2018-07-17T09:09:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20manifolds"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Tensor series expansion",
    "type": "issue",
    "updated_at": "2019-03-25T19:43:59Z",
    "url": "https://github.com/sagemath/sage/issues/25866",
    "user": "https://github.com/FlorentinJ"
}
```
This ticket modifies the method `_simplify` of chart functions on manifolds to permit series expansion of tensor field, scalar field or connection.

Most of the usual operations are already supported (except Lie derivative).

Because the expansion is performed at the lowest level, it provides a major improvement in performances for computing general perturbations (compared with simply expanding after the computation).

A notebook example can be found [here](http://nbviewer.jupyter.org/github/sagemanifolds/SageManifolds/blob/master/Worksheets/series/First-order%20example.ipynb).


This is part of the â€‹[SageManifolds project](http://sagemanifolds.obspm.fr/); see the metaticket #18528 for an overview. 

CC:  @egourgoulhon

Component: **geometry**

Keywords: **expansion, series, tensor**

Author: **Florentin Jaffredo**

Branch/Commit: **[`beaa20e`](https://github.com/sagemath/sagetrac-mirror/commit/beaa20e9f75805a8a9a4476195b8aeaee34876aa)**

Reviewer: **Eric Gourgoulhon, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/25866_





---

archive/issue_events_354502.json:
```json
{
    "actor": "https://github.com/FlorentinJ",
    "created_at": "2018-07-17T09:09:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354502"
}
```



---

archive/issue_events_354503.json:
```json
{
    "actor": "https://github.com/FlorentinJ",
    "created_at": "2018-07-17T09:09:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354503"
}
```



---

archive/issue_events_354504.json:
```json
{
    "actor": "https://github.com/FlorentinJ",
    "created_at": "2018-07-17T09:09:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354504"
}
```



---

archive/issue_events_354505.json:
```json
{
    "actor": "https://github.com/FlorentinJ",
    "created_at": "2018-07-17T09:09:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354505"
}
```



---

archive/issue_events_354506.json:
```json
{
    "actor": "https://github.com/FlorentinJ",
    "created_at": "2018-07-17T09:09:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20manifolds",
    "label_color": "0000ff",
    "label_name": "c: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354506"
}
```



---

archive/issue_events_354507.json:
```json
{
    "actor": "https://github.com/FlorentinJ",
    "created_at": "2018-08-06T09:46:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354507"
}
```



---

archive/issue_events_354508.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-09-10T10:15:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354508"
}
```



---

archive/issue_events_354509.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-09-10T10:15:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354509"
}
```



---

archive/issue_comments_397566.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThank you very much for having added this new functionality!\nThe code looks basically good to me. There are some issues with the user interface and documentation though:\n- Method `ChartFunction.__init__()`: the new arguments `symbol` and `order` must added in the `INPUT` section of the documentation of `ChartFunction`; besides the name `symbol` is not explicit enough; it should be replaced by something like `expansion_symbol`\n- Method `TensorField.set_calc_order()`: no explicit call to that method appears in its doctests!\n- Method `TensorFieldParal.series()`: it would help the reader if you add the raw output of this method in the doctests, i.e. add\n\n```\n sage: g.series(e, 3)\n[(Field of symmetric bilinear forms on the 4-dimensional Lorentzian manifold M,\n  0),\n (Field of symmetric bilinear forms on the 4-dimensional Lorentzian manifold M,\n  1),\n (Field of symmetric bilinear forms on the 4-dimensional Lorentzian manifold M,\n  2)]\n```\n  before displaying the individual elements of the returned list\n- In the doctests of the same method and as well as in `truncate()` and `set_calc_order()`, note that you \n  can use \n\n```\nsage: g.set(g+e*h1+e**2*h2)\n```\n  as a shortcut for\n\n```\nsage: g.set_comp()[:] = (g+e*h1+e**2*h2)[:]\n```\n- Method `PseudoRiemannianMetric.inverse()`: the name `symbol` for the argument that triggers the expansion is not explicit enough: it should be changed to something like `expand_with_respect_to`. \n- Method `ScalarField.set_calc_order()`: the docstring (probably cut-and-pasted from the tensor field one) must be adapted to the scalar field case; in particular *components* has no meaning in the current context; besides *Tell the ...* does not look like a proper phrase for a reference manual...",
    "created_at": "2018-09-10T10:15:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397566",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:2" align="right">comment:2</div>

Thank you very much for having added this new functionality!
The code looks basically good to me. There are some issues with the user interface and documentation though:
- Method `ChartFunction.__init__()`: the new arguments `symbol` and `order` must added in the `INPUT` section of the documentation of `ChartFunction`; besides the name `symbol` is not explicit enough; it should be replaced by something like `expansion_symbol`
- Method `TensorField.set_calc_order()`: no explicit call to that method appears in its doctests!
- Method `TensorFieldParal.series()`: it would help the reader if you add the raw output of this method in the doctests, i.e. add

```
 sage: g.series(e, 3)
[(Field of symmetric bilinear forms on the 4-dimensional Lorentzian manifold M,
  0),
 (Field of symmetric bilinear forms on the 4-dimensional Lorentzian manifold M,
  1),
 (Field of symmetric bilinear forms on the 4-dimensional Lorentzian manifold M,
  2)]
```
  before displaying the individual elements of the returned list
- In the doctests of the same method and as well as in `truncate()` and `set_calc_order()`, note that you 
  can use 

```
sage: g.set(g+e*h1+e**2*h2)
```
  as a shortcut for

```
sage: g.set_comp()[:] = (g+e*h1+e**2*h2)[:]
```
- Method `PseudoRiemannianMetric.inverse()`: the name `symbol` for the argument that triggers the expansion is not explicit enough: it should be changed to something like `expand_with_respect_to`. 
- Method `ScalarField.set_calc_order()`: the docstring (probably cut-and-pasted from the tensor field one) must be adapted to the scalar field case; in particular *components* has no meaning in the current context; besides *Tell the ...* does not look like a proper phrase for a reference manual...



---

archive/issue_comments_397567.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2018-09-10T10:16:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397567",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_397568.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b20a0417f7be804493fcb245d892de8c2fb51fdb\"><code>b20a041</code></a></td><td><code>Merge branch 'public/manifolds/series' of git://trac.sagemath.org/sage into public/manifolds/series</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/154314adada09e3a38a38a73476d7101e8653cc7\"><code>154314a</code></a></td><td><code>Addressing Eric's comments.</code></td></tr></table>\n",
    "created_at": "2018-10-08T00:18:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397568",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b20a0417f7be804493fcb245d892de8c2fb51fdb"><code>b20a041</code></a></td><td><code>Merge branch 'public/manifolds/series' of git://trac.sagemath.org/sage into public/manifolds/series</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/154314adada09e3a38a38a73476d7101e8653cc7"><code>154314a</code></a></td><td><code>Addressing Eric's comments.</code></td></tr></table>




---

archive/issue_comments_397569.json:
```json
{
    "body": "Changed commit from **[`eea81a5`](https://github.com/sagemath/sagetrac-mirror/commit/eea81a546948575d7b46870a6bb33780049fce59)** to **[`154314a`](https://github.com/sagemath/sagetrac-mirror/commit/154314adada09e3a38a38a73476d7101e8653cc7)**",
    "created_at": "2018-10-08T00:18:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397569",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eea81a5`](https://github.com/sagemath/sagetrac-mirror/commit/eea81a546948575d7b46870a6bb33780049fce59)** to **[`154314a`](https://github.com/sagemath/sagetrac-mirror/commit/154314adada09e3a38a38a73476d7101e8653cc7)**



---

archive/issue_comments_397570.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis should take care of [comment:2](#comment%3A2) Eric. However, the doctest for `set_calc_order` in `tensorfield.py` and `tensorfield_paral.py` are the same. Florentin, Eric, could one of you get a modified doctest that calls that method specifically?",
    "created_at": "2018-10-08T00:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397570",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

This should take care of [comment:2](#comment%3A2) Eric. However, the doctest for `set_calc_order` in `tensorfield.py` and `tensorfield_paral.py` are the same. Florentin, Eric, could one of you get a modified doctest that calls that method specifically?



---

archive/issue_comments_397571.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab5d29211bde9658ab9bd17d5e3d2c5803d8a897\"><code>ab5d292</code></a></td><td><code>Merge branch 'public/manifolds/series' of git://trac.sagemath.org/sage into series_expansion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/865c5481e0f1ede6aa3ffa85395f56c1ca2b4a86\"><code>865c548</code></a></td><td><code>Correct some doctests in series expansions of tensor fields</code></td></tr></table>\n",
    "created_at": "2018-10-25T09:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397571",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab5d29211bde9658ab9bd17d5e3d2c5803d8a897"><code>ab5d292</code></a></td><td><code>Merge branch 'public/manifolds/series' of git://trac.sagemath.org/sage into series_expansion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/865c5481e0f1ede6aa3ffa85395f56c1ca2b4a86"><code>865c548</code></a></td><td><code>Correct some doctests in series expansions of tensor fields</code></td></tr></table>




---

archive/issue_comments_397572.json:
```json
{
    "body": "Changed commit from **[`154314a`](https://github.com/sagemath/sagetrac-mirror/commit/154314adada09e3a38a38a73476d7101e8653cc7)** to **[`865c548`](https://github.com/sagemath/sagetrac-mirror/commit/865c5481e0f1ede6aa3ffa85395f56c1ca2b4a86)**",
    "created_at": "2018-10-25T09:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397572",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`154314a`](https://github.com/sagemath/sagetrac-mirror/commit/154314adada09e3a38a38a73476d7101e8653cc7)** to **[`865c548`](https://github.com/sagemath/sagetrac-mirror/commit/865c5481e0f1ede6aa3ffa85395f56c1ca2b4a86)**



---

archive/issue_comments_397573.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@tscrim](#comment%3A5):\n> This should take care of [comment:2](#comment%3A2) Eric. However, the doctest for `set_calc_order` in `tensorfield.py` and `tensorfield_paral.py` are the same. Florentin, Eric, could one of you get a modified doctest that calls that method specifically?\n\nThanks for your changes and apologies for the delay in replying. The above commit fixes some doctests and provides a specific doctest for `set_calc_order` in `tensorfield.py`. There are still some documentation issues, that I shall address in a next commit...",
    "created_at": "2018-10-25T09:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397573",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@tscrim](#comment%3A5):
> This should take care of [comment:2](#comment%3A2) Eric. However, the doctest for `set_calc_order` in `tensorfield.py` and `tensorfield_paral.py` are the same. Florentin, Eric, could one of you get a modified doctest that calls that method specifically?

Thanks for your changes and apologies for the delay in replying. The above commit fixes some doctests and provides a specific doctest for `set_calc_order` in `tensorfield.py`. There are still some documentation issues, that I shall address in a next commit...



---

archive/issue_comments_397574.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75bc8cb90d7029e80ac21addb1a80489428087ec\"><code>75bc8cb</code></a></td><td><code>Improvements in the documentation of series expansions of tensor fields</code></td></tr></table>\n",
    "created_at": "2018-10-25T21:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397574",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75bc8cb90d7029e80ac21addb1a80489428087ec"><code>75bc8cb</code></a></td><td><code>Improvements in the documentation of series expansions of tensor fields</code></td></tr></table>




---

archive/issue_comments_397575.json:
```json
{
    "body": "Changed commit from **[`865c548`](https://github.com/sagemath/sagetrac-mirror/commit/865c5481e0f1ede6aa3ffa85395f56c1ca2b4a86)** to **[`75bc8cb`](https://github.com/sagemath/sagetrac-mirror/commit/75bc8cb90d7029e80ac21addb1a80489428087ec)**",
    "created_at": "2018-10-25T21:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397575",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`865c548`](https://github.com/sagemath/sagetrac-mirror/commit/865c5481e0f1ede6aa3ffa85395f56c1ca2b4a86)** to **[`75bc8cb`](https://github.com/sagemath/sagetrac-mirror/commit/75bc8cb90d7029e80ac21addb1a80489428087ec)**



---

archive/issue_comments_397576.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@egourgoulhon](#comment%3A7):\n>There are still some documentation issues, that I shall address in a next commit...\n\nDone in the above commit. \n\nA question remains: the argument `order` of the various methods `set_calc_order`, as well as the attribute `_order`, is the order of the big O. As a result, to get an expansion to first order with respect to the parameter `epsilon`, we have to do `g.set_calc_order(epsilon, 2)`. This seems very counter-intuitive and error-prone to me: I would have expected `g.set_calc_order(epsilon, 1)` instead. I understand that the current setting follows the convention of the method `series` of symbolic expressions, while I would prefer that it follows the convention of `taylor`:\n\n```\nsage: exp(x).series(x, 2)\n1 + 1*x + Order(x^2)\nsage: exp(x).taylor(x, 0, 1)\nx + 1\n```\n(Btw, the above looks like a kind of inconsistency in Sage)\n\nWhat do you think?",
    "created_at": "2018-10-25T21:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397576",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@egourgoulhon](#comment%3A7):
>There are still some documentation issues, that I shall address in a next commit...

Done in the above commit. 

A question remains: the argument `order` of the various methods `set_calc_order`, as well as the attribute `_order`, is the order of the big O. As a result, to get an expansion to first order with respect to the parameter `epsilon`, we have to do `g.set_calc_order(epsilon, 2)`. This seems very counter-intuitive and error-prone to me: I would have expected `g.set_calc_order(epsilon, 1)` instead. I understand that the current setting follows the convention of the method `series` of symbolic expressions, while I would prefer that it follows the convention of `taylor`:

```
sage: exp(x).series(x, 2)
1 + 1*x + Order(x^2)
sage: exp(x).taylor(x, 0, 1)
x + 1
```
(Btw, the above looks like a kind of inconsistency in Sage)

What do you think?



---

archive/issue_events_354510.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-10-25T21:44:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354510"
}
```



---

archive/issue_events_354511.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2018-10-25T21:44:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354511"
}
```



---

archive/issue_comments_397577.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI think Sage is not inconsistent as the input to `taylor` is `degree`, not `order`. However, I do agree that there is some ambiguity on which order it is referring too (i.e., first order approximation vs big O order). You could make the case either way. I don't have an opinion either way, but I think both ways are likely to lead to errors. It may be better to call it `set_calc_degree` to sidestep this issue. Although if you prefer to keep degree, I think either way is fine as long as it is documented with perhaps a `.. WARNING::` block or two.",
    "created_at": "2018-10-26T04:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397577",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

I think Sage is not inconsistent as the input to `taylor` is `degree`, not `order`. However, I do agree that there is some ambiguity on which order it is referring too (i.e., first order approximation vs big O order). You could make the case either way. I don't have an opinion either way, but I think both ways are likely to lead to errors. It may be better to call it `set_calc_degree` to sidestep this issue. Although if you prefer to keep degree, I think either way is fine as long as it is documented with perhaps a `.. WARNING::` block or two.



---

archive/issue_comments_397578.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@tscrim](#comment%3A11):\n> I think Sage is not inconsistent as the input to `taylor` is `degree`, not `order`. However, I do agree that there is some ambiguity on which order it is referring too (i.e., first order approximation vs big O order). You could make the case either way. I don't have an opinion either way, but I think both ways are likely to lead to errors. \n\nWell, at least in physics, I would say that the *order* of an expansion always stands for the degree of the polynomial that approximates the function, not for the degree of the big O. I am pretty sure that this is what the user has in mind when asking for a *n*-th order computation. Since in the currrent context the big O is not even displayed in the result, I would really favor this interpretation of `order`. \n\n> It may be better to call it `set_calc_degree` to sidestep this issue. Although if you prefer to keep degree, I think either way is fine as long as it is documented with perhaps a `.. WARNING::` block or two.\n\nIn the current context, *calculation degree* sounds awkward to me, contrary to *calculation order*. Speaking about `set_calc_order`, are we sure that this is a good name in the first place? This method is indeed the user interface to indicate that one wants to perform an approximate calculation. Would `set_series_expansion` or `use_series_expansion` or something else be a better name?",
    "created_at": "2018-10-26T14:02:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397578",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@tscrim](#comment%3A11):
> I think Sage is not inconsistent as the input to `taylor` is `degree`, not `order`. However, I do agree that there is some ambiguity on which order it is referring too (i.e., first order approximation vs big O order). You could make the case either way. I don't have an opinion either way, but I think both ways are likely to lead to errors. 

Well, at least in physics, I would say that the *order* of an expansion always stands for the degree of the polynomial that approximates the function, not for the degree of the big O. I am pretty sure that this is what the user has in mind when asking for a *n*-th order computation. Since in the currrent context the big O is not even displayed in the result, I would really favor this interpretation of `order`. 

> It may be better to call it `set_calc_degree` to sidestep this issue. Although if you prefer to keep degree, I think either way is fine as long as it is documented with perhaps a `.. WARNING::` block or two.

In the current context, *calculation degree* sounds awkward to me, contrary to *calculation order*. Speaking about `set_calc_order`, are we sure that this is a good name in the first place? This method is indeed the user interface to indicate that one wants to perform an approximate calculation. Would `set_series_expansion` or `use_series_expansion` or something else be a better name?



---

archive/issue_comments_397579.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI don't really are which one we take, but if we use `order`, it just has to be well documented IMO. I am not sure about `series_expansion` as that doesn't feel like the correct thing; it is something I would never guess. I think `set_calc_order` is probably the best we can do; so just documenting what we mean should be enough.",
    "created_at": "2018-10-26T17:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397579",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

I don't really are which one we take, but if we use `order`, it just has to be well documented IMO. I am not sure about `series_expansion` as that doesn't feel like the correct thing; it is something I would never guess. I think `set_calc_order` is probably the best we can do; so just documenting what we mean should be enough.



---

archive/issue_comments_397580.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/131ee7d7f8ae2797a3d6e09c8d04c1f6bc0fc62b\"><code>131ee7d</code></a></td><td><code>Merge branch 'public/manifolds/series' of git://trac.sagemath.org/sage into Sage 8.7.beta7.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10356cf2d91040ad1a147c33e724a10ec1961d13\"><code>10356cf</code></a></td><td><code>Set order to be the degree of the approximating polynomial in tensor series expansions; improve documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8100119f3b9a5f7f7f8b8da6e24e201a7c9241d\"><code>b810011</code></a></td><td><code>Rename method series() to series_expansion() in tensor fields and make it return a list of tensor fields</code></td></tr></table>\n",
    "created_at": "2019-03-12T15:31:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397580",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/131ee7d7f8ae2797a3d6e09c8d04c1f6bc0fc62b"><code>131ee7d</code></a></td><td><code>Merge branch 'public/manifolds/series' of git://trac.sagemath.org/sage into Sage 8.7.beta7.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10356cf2d91040ad1a147c33e724a10ec1961d13"><code>10356cf</code></a></td><td><code>Set order to be the degree of the approximating polynomial in tensor series expansions; improve documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8100119f3b9a5f7f7f8b8da6e24e201a7c9241d"><code>b810011</code></a></td><td><code>Rename method series() to series_expansion() in tensor fields and make it return a list of tensor fields</code></td></tr></table>




---

archive/issue_comments_397581.json:
```json
{
    "body": "Changed commit from **[`75bc8cb`](https://github.com/sagemath/sagetrac-mirror/commit/75bc8cb90d7029e80ac21addb1a80489428087ec)** to **[`b810011`](https://github.com/sagemath/sagetrac-mirror/commit/b8100119f3b9a5f7f7f8b8da6e24e201a7c9241d)**",
    "created_at": "2019-03-12T15:31:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397581",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`75bc8cb`](https://github.com/sagemath/sagetrac-mirror/commit/75bc8cb90d7029e80ac21addb1a80489428087ec)** to **[`b810011`](https://github.com/sagemath/sagetrac-mirror/commit/b8100119f3b9a5f7f7f8b8da6e24e201a7c9241d)**



---

archive/issue_comments_397582.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nSorry for the long delay in coming back to this!\nIn the above commits, I have \n\n- set `order` to be the degree of the polynomial in front of the big O, adding some warnings about this (cf. the discussion in [comment:12](#comment%3A12) and [comment:13](#comment%3A13))\n- simplified the output of the method `TensorFieldParal.series()` (there was not need to return a list of pairs with the second element of each pair being merely the index in the list)\n- add the arguments `expansion_symbol` and `order` to the method `Chart.function()` for consistency with  the constructor of a chart function\n- improved the documentation, in particular regarding the meaning of `order`\n\nBesides I've run some benchmarks to check that the new functionalities added by this ticket, which are essentially implemented in `ChartFunction._simplify()`, do not degrade significantly the tensor calculus performance when no series expansion is required.",
    "created_at": "2019-03-12T15:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397582",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:15" align="right">comment:15</div>

Sorry for the long delay in coming back to this!
In the above commits, I have 

- set `order` to be the degree of the polynomial in front of the big O, adding some warnings about this (cf. the discussion in [comment:12](#comment%3A12) and [comment:13](#comment%3A13))
- simplified the output of the method `TensorFieldParal.series()` (there was not need to return a list of pairs with the second element of each pair being merely the index in the list)
- add the arguments `expansion_symbol` and `order` to the method `Chart.function()` for consistency with  the constructor of a chart function
- improved the documentation, in particular regarding the meaning of `order`

Besides I've run some benchmarks to check that the new functionalities added by this ticket, which are essentially implemented in `ChartFunction._simplify()`, do not degrade significantly the tensor calculus performance when no series expansion is required.



---

archive/issue_events_354512.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-03-12T15:51:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354512"
}
```



---

archive/issue_events_354513.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-03-12T15:51:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354513"
}
```



---

archive/issue_events_354514.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-03-12T15:56:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354514"
}
```



---

archive/issue_events_354515.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-03-12T15:56:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354515"
}
```



---

archive/issue_comments_397583.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI just have some nitpicks that once changed, you can set a positive review on my behalf.\n\nI think this will look at little better in the compiled doc:\n\n```diff\n-`f_0`, `f_1`, ..., `f_n`\n+`f_0, f_1, \\ldots, f_n`\n```\nand similarly for the `T`'s. (Although I am not sure I have actually ever checked this...)\n\nIn all of the `.. MATH::` (that are followed by a `where`), you should add a comma to the end of the formulas for grammatical correctness.\n\nI always think of big `O` with the `O` appearing as a math symbol, so I would say it should be formatted as <code>big \\`O\\`</code> in the doc.",
    "created_at": "2019-03-19T23:27:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397583",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

I just have some nitpicks that once changed, you can set a positive review on my behalf.

I think this will look at little better in the compiled doc:

```diff
-`f_0`, `f_1`, ..., `f_n`
+`f_0, f_1, \ldots, f_n`
```
and similarly for the `T`'s. (Although I am not sure I have actually ever checked this...)

In all of the `.. MATH::` (that are followed by a `where`), you should add a comma to the end of the formulas for grammatical correctness.

I always think of big `O` with the `O` appearing as a math symbol, so I would say it should be formatted as <code>big \`O\`</code> in the doc.



---

archive/issue_comments_397584.json:
```json
{
    "body": "Changed reviewer from **Eric Gourgoulhon** to **Eric Gourgoulhon, Travis Scrimshaw**",
    "created_at": "2019-03-19T23:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397584",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Eric Gourgoulhon** to **Eric Gourgoulhon, Travis Scrimshaw**



---

archive/issue_comments_397585.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87a256bb56c8e09b6b09550ea2fe1c194b00aa5b\"><code>87a256b</code></a></td><td><code>Improve documentation in series expansion of tensor fields</code></td></tr></table>\n",
    "created_at": "2019-03-20T12:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397585",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87a256bb56c8e09b6b09550ea2fe1c194b00aa5b"><code>87a256b</code></a></td><td><code>Improve documentation in series expansion of tensor fields</code></td></tr></table>




---

archive/issue_comments_397586.json:
```json
{
    "body": "Changed commit from **[`b810011`](https://github.com/sagemath/sagetrac-mirror/commit/b8100119f3b9a5f7f7f8b8da6e24e201a7c9241d)** to **[`87a256b`](https://github.com/sagemath/sagetrac-mirror/commit/87a256bb56c8e09b6b09550ea2fe1c194b00aa5b)**",
    "created_at": "2019-03-20T12:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397586",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b810011`](https://github.com/sagemath/sagetrac-mirror/commit/b8100119f3b9a5f7f7f8b8da6e24e201a7c9241d)** to **[`87a256b`](https://github.com/sagemath/sagetrac-mirror/commit/87a256bb56c8e09b6b09550ea2fe1c194b00aa5b)**



---

archive/issue_events_354516.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-03-20T14:36:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354516"
}
```



---

archive/issue_events_354517.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-03-20T14:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354517"
}
```



---

archive/issue_comments_397587.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThanks. LGTM.",
    "created_at": "2019-03-20T14:36:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397587",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">comment:21</div>

Thanks. LGTM.



---

archive/issue_comments_397588.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@tscrim](#comment%3A21):\nThanks for [comment:18](#comment%3A18) and the review!",
    "created_at": "2019-03-20T14:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397588",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@tscrim](#comment%3A21):
Thanks for [comment:18](#comment%3A18) and the review!



---

archive/issue_comments_397589.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWith the python3 version of Sage 8.7.rc0, building the documentation via\n\n```\n./sage -docbuild reference/manifolds html\n```\ngenerates the following warnings:\n\n```\n[manifolds] <unknown>:2105: DeprecationWarning: invalid escape sequence \\e\n[manifolds] <unknown>:2243: DeprecationWarning: invalid escape sequence \\e\n```\n(there was no such warning with the python2 version).\n\nI suspect the issue could be triggered by the `\\epsilon`'s introduced in the documentation. The documentation output looks fine though... Moreover the error message is not very explicit...",
    "created_at": "2019-03-20T15:50:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397589",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:23" align="right">comment:23</div>

With the python3 version of Sage 8.7.rc0, building the documentation via

```
./sage -docbuild reference/manifolds html
```
generates the following warnings:

```
[manifolds] <unknown>:2105: DeprecationWarning: invalid escape sequence \e
[manifolds] <unknown>:2243: DeprecationWarning: invalid escape sequence \e
```
(there was no such warning with the python2 version).

I suspect the issue could be triggered by the `\epsilon`'s introduced in the documentation. The documentation output looks fine though... Moreover the error message is not very explicit...



---

archive/issue_events_354518.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-03-20T15:50:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354518"
}
```



---

archive/issue_events_354519.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-03-20T15:50:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354519"
}
```



---

archive/issue_comments_397590.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@egourgoulhon](#comment%3A23):\n> \n> I suspect the issue could be triggered by the `\\epsilon`'s introduced in the documentation. The documentation output looks fine though... Moreover the error message is not very explicit...\n\nThe offending file is `src/sage/manifolds/differentiable/tensorfield_paral.py` and the numbers 2105 and 2243 in the error message correspond to the ending lines of the docstring of the methods `series_expansion` and `set_calc_order` respectively.\nI looked through the file and did not find any obvious error... Again the html output is fine (all math formulas involving `\\epsilon` are correctly rendered).",
    "created_at": "2019-03-20T16:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397590",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@egourgoulhon](#comment%3A23):
> 
> I suspect the issue could be triggered by the `\epsilon`'s introduced in the documentation. The documentation output looks fine though... Moreover the error message is not very explicit...

The offending file is `src/sage/manifolds/differentiable/tensorfield_paral.py` and the numbers 2105 and 2243 in the error message correspond to the ending lines of the docstring of the methods `series_expansion` and `set_calc_order` respectively.
I looked through the file and did not find any obvious error... Again the html output is fine (all math formulas involving `\epsilon` are correctly rendered).



---

archive/issue_comments_397591.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/beaa20e9f75805a8a9a4476195b8aeaee34876aa\"><code>beaa20e</code></a></td><td><code>Correct docstrings opening in methods series_expansion and set_calc_order of tensorfield_paral.py</code></td></tr></table>\n",
    "created_at": "2019-03-20T17:46:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397591",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/beaa20e9f75805a8a9a4476195b8aeaee34876aa"><code>beaa20e</code></a></td><td><code>Correct docstrings opening in methods series_expansion and set_calc_order of tensorfield_paral.py</code></td></tr></table>




---

archive/issue_comments_397592.json:
```json
{
    "body": "Changed commit from **[`87a256b`](https://github.com/sagemath/sagetrac-mirror/commit/87a256bb56c8e09b6b09550ea2fe1c194b00aa5b)** to **[`beaa20e`](https://github.com/sagemath/sagetrac-mirror/commit/beaa20e9f75805a8a9a4476195b8aeaee34876aa)**",
    "created_at": "2019-03-20T17:46:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397592",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`87a256b`](https://github.com/sagemath/sagetrac-mirror/commit/87a256bb56c8e09b6b09550ea2fe1c194b00aa5b)** to **[`beaa20e`](https://github.com/sagemath/sagetrac-mirror/commit/beaa20e9f75805a8a9a4476195b8aeaee34876aa)**



---

archive/issue_comments_397593.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nOK, I found the reason: the docstrings of the two involved methods were starting with `\"\"\"` instead of `r\"\"\"`.",
    "created_at": "2019-03-20T17:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397593",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:26" align="right">comment:26</div>

OK, I found the reason: the docstrings of the two involved methods were starting with `"""` instead of `r"""`.



---

archive/issue_events_354520.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-03-20T17:48:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354520"
}
```



---

archive/issue_events_354521.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-03-20T17:48:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354521"
}
```



---

archive/issue_comments_397594.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nPython3 is very strict about escape sequences, either it is one (which gives a rendering error in Python2) or it raises an error (whereas Python2 silently ignores it).",
    "created_at": "2019-03-20T22:18:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397594",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

Python3 is very strict about escape sequences, either it is one (which gives a rendering error in Python2) or it raises an error (whereas Python2 silently ignores it).



---

archive/issue_events_354522.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-03-20T22:18:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354522"
}
```



---

archive/issue_events_354523.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-03-20T22:18:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354523"
}
```



---

archive/issue_events_354524.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354524"
}
```



---

archive/issue_events_354525.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354525"
}
```



---

archive/issue_comments_397595.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397595",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_354526.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-25T19:43:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354526"
}
```



---

archive/issue_events_354527.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1e2686a6271428bab72b00fdb150d6a18a8940ad",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-03-25T19:43:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25866#event-354527"
}
```



---

archive/issue_comments_397596.json:
```json
{
    "body": "Changed branch from **[public/manifolds/series](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/series)** to **[`beaa20e`](https://github.com/sagemath/sagetrac-mirror/commit/beaa20e9f75805a8a9a4476195b8aeaee34876aa)**",
    "created_at": "2019-03-25T19:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25866#issuecomment-397596",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/manifolds/series](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/series)** to **[`beaa20e`](https://github.com/sagemath/sagetrac-mirror/commit/beaa20e9f75805a8a9a4476195b8aeaee34876aa)**
