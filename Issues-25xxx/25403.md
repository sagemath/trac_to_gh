# Issue 25403: Random regular bipartite graph generator and bipartite graph embeddings

archive/issues_025166.json:
```json
{
    "body": "Add a generator of random regular bipartite graph, `RandomRegularBipartite`.\n\nThis ticket also unifies the graph embedding method of `CompleteBipartiteGraph`, `RandomRegularBipartite` and `RandomBipartite` by using method `_line_embedding` from `graph_plot.py`.\n\nBranch/Commit: 5c7a97d24d4c8323d6b3bed13e602e0e7eef2452\n\nReviewer: Bryan Gin-ge Chen\n\nAuthor: David Coudert\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25403\n\n",
    "closed_at": "2018-08-05T08:18:14Z",
    "created_at": "2018-05-19T17:34:32Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Random regular bipartite graph generator and bipartite graph embeddings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25403",
    "user": "https://github.com/dcoudert"
}
```
Add a generator of random regular bipartite graph, `RandomRegularBipartite`.

This ticket also unifies the graph embedding method of `CompleteBipartiteGraph`, `RandomRegularBipartite` and `RandomBipartite` by using method `_line_embedding` from `graph_plot.py`.

Branch/Commit: 5c7a97d24d4c8323d6b3bed13e602e0e7eef2452

Reviewer: Bryan Gin-ge Chen

Author: David Coudert

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/25403





---

archive/issue_comments_479549.json:
```json
{
    "body": "Changing branch from \"\" to \"public/25403_random_regular_bipartite\"",
    "created_at": "2018-05-19T18:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479549",
    "user": "https://github.com/dcoudert"
}
```

Changing branch from "" to "public/25403_random_regular_bipartite"



---

archive/issue_comments_479550.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-19T18:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479550",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_479551.json:
```json
{
    "body": "Changing commit from \"\" to \"f7b6ed077c46adb70232cf013290d0bcd0b7c1c9\"",
    "created_at": "2018-05-19T18:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479551",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "" to "f7b6ed077c46adb70232cf013290d0bcd0b7c1c9"



---

archive/issue_comments_479552.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n|[6425d02](https://github.com/sagemath/sagetrac-mirror/commit/6425d0262992b7cea28f90896ab86d90f3ded05b)|`trac #25403: generator of random regular bipartite graphs`|\n|[f7b6ed0](https://github.com/sagemath/sagetrac-mirror/commit/f7b6ed077c46adb70232cf013290d0bcd0b7c1c9)|`trac #25403: fix small bug in RandomBipartite with a side of cardinality 1`|",
    "created_at": "2018-05-19T18:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479552",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
|[6425d02](https://github.com/sagemath/sagetrac-mirror/commit/6425d0262992b7cea28f90896ab86d90f3ded05b)|`trac #25403: generator of random regular bipartite graphs`|
|[f7b6ed0](https://github.com/sagemath/sagetrac-mirror/commit/f7b6ed077c46adb70232cf013290d0bcd0b7c1c9)|`trac #25403: fix small bug in RandomBipartite with a side of cardinality 1`|



---

archive/issue_comments_479553.json:
```json
{
    "body": "<a id='comment:2'></a>\nHello, this is my first attempt to review a patch... feel free to let me know if any of these suggestions are inappropriate or out of scope!\n\nFirst, am I correct that `RandomRegularBipartite` does not sample uniformly from the set of random regular bipartite graphs with the given sizes and degrees? If this is the case, then the documentation for this function should make it more clear what the sampled distribution is. \n\nSecond, would you mind adding documentation (and possibly tests) for the position dictionaries generated by `RandomBipartite` and `RandomRegularBipartite`?\n\nI also noticed that the only other random graph generator which assigns positions is `RandomTriangulation` and it only does so if the parameter `set_position` is explicitly set to `True`. Should these two functions thus also be given a `set_position` parameter for consistency?\n\nFinally, the name given to the graph generated by `RandomRegularBipartite` could be made more informative, perhaps something like:\n\n```python\nname=\"Random regular bipartite graph of size {}+{} with degrees {} and {}\".format(n1, n2, d1, d2)\n```",
    "created_at": "2018-07-24T23:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479553",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:2'></a>
Hello, this is my first attempt to review a patch... feel free to let me know if any of these suggestions are inappropriate or out of scope!

First, am I correct that `RandomRegularBipartite` does not sample uniformly from the set of random regular bipartite graphs with the given sizes and degrees? If this is the case, then the documentation for this function should make it more clear what the sampled distribution is. 

Second, would you mind adding documentation (and possibly tests) for the position dictionaries generated by `RandomBipartite` and `RandomRegularBipartite`?

I also noticed that the only other random graph generator which assigns positions is `RandomTriangulation` and it only does so if the parameter `set_position` is explicitly set to `True`. Should these two functions thus also be given a `set_position` parameter for consistency?

Finally, the name given to the graph generated by `RandomRegularBipartite` could be made more informative, perhaps something like:

```python
name="Random regular bipartite graph of size {}+{} with degrees {} and {}".format(n1, n2, d1, d2)
```



---

archive/issue_comments_479554.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[1d30ff1](https://github.com/sagemath/sagetrac-mirror/commit/1d30ff1852716a0ec550f943ba6ecc1340b415cf)|`trac #25403: Merged with 8.3.rc2`|\n|[06090ba](https://github.com/sagemath/sagetrac-mirror/commit/06090ba457b50311bc2344b79d9e98ce3ecbcc42)|`trac #25403: implement reviewers comments`|",
    "created_at": "2018-07-25T11:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479554",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[1d30ff1](https://github.com/sagemath/sagetrac-mirror/commit/1d30ff1852716a0ec550f943ba6ecc1340b415cf)|`trac #25403: Merged with 8.3.rc2`|
|[06090ba](https://github.com/sagemath/sagetrac-mirror/commit/06090ba457b50311bc2344b79d9e98ce3ecbcc42)|`trac #25403: implement reviewers comments`|



---

archive/issue_comments_479555.json:
```json
{
    "body": "Changing commit from \"f7b6ed077c46adb70232cf013290d0bcd0b7c1c9\" to \"06090ba457b50311bc2344b79d9e98ce3ecbcc42\"",
    "created_at": "2018-07-25T11:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479555",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f7b6ed077c46adb70232cf013290d0bcd0b7c1c9" to "06090ba457b50311bc2344b79d9e98ce3ecbcc42"



---

archive/issue_comments_479556.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[9ae579f](https://github.com/sagemath/sagetrac-mirror/commit/9ae579f07b56c669ca21a3ab09bd385e7fee02ca)|`trac #25403: more comments`|",
    "created_at": "2018-07-25T11:21:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479556",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[9ae579f](https://github.com/sagemath/sagetrac-mirror/commit/9ae579f07b56c669ca21a3ab09bd385e7fee02ca)|`trac #25403: more comments`|



---

archive/issue_comments_479557.json:
```json
{
    "body": "Changing commit from \"06090ba457b50311bc2344b79d9e98ce3ecbcc42\" to \"9ae579f07b56c669ca21a3ab09bd385e7fee02ca\"",
    "created_at": "2018-07-25T11:21:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479557",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "06090ba457b50311bc2344b79d9e98ce3ecbcc42" to "9ae579f07b56c669ca21a3ab09bd385e7fee02ca"



---

archive/issue_comments_479558.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[9ef139e](https://github.com/sagemath/sagetrac-mirror/commit/9ef139ed20f592dc211f2eef907759d868597410)|`trac #25403: add parameter set_position`|",
    "created_at": "2018-07-25T11:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[9ef139e](https://github.com/sagemath/sagetrac-mirror/commit/9ef139ed20f592dc211f2eef907759d868597410)|`trac #25403: add parameter set_position`|



---

archive/issue_comments_479559.json:
```json
{
    "body": "Changing commit from \"9ae579f07b56c669ca21a3ab09bd385e7fee02ca\" to \"9ef139ed20f592dc211f2eef907759d868597410\"",
    "created_at": "2018-07-25T11:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9ae579f07b56c669ca21a3ab09bd385e7fee02ca" to "9ef139ed20f592dc211f2eef907759d868597410"



---

archive/issue_events_080368.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-07-25T11:44:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25403#event-80368"
}
```



---

archive/issue_comments_479560.json:
```json
{
    "body": "<a id='comment:6'></a>\nThank you for reviewing this ticket. It helps a lot.\n\nI have implemented all your comments. For `RandomTriangulation`, the time to compute the positions of vertices is non negligible (planar embedding). Here, it's quite cheap, but I agree that in many cases we don't need it.\n\nDon't forget to put your real name in the field \"Reviewers\"",
    "created_at": "2018-07-25T11:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479560",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>
Thank you for reviewing this ticket. It helps a lot.

I have implemented all your comments. For `RandomTriangulation`, the time to compute the positions of vertices is non negligible (planar embedding). Here, it's quite cheap, but I agree that in many cases we don't need it.

Don't forget to put your real name in the field "Reviewers"



---

archive/issue_comments_479561.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks for making the changes! It seems however there is some issue with the tests. After checking out your branch and building, `sage -t src/sage/graphs/generators/random.py` fails with a timeout. It seems the culprit is:\n\n\n```python\nsage: graphs.RandomRegularBipartite(2, 3, 3, set_position=True).get_pos() ## line 318 ##\n```\n\nThis particular graph must be complete bipartite, so perhaps there is some issue when generating these. In the complete bipartite case (`d1 == n2`) maybe the edge generation should just be made deterministic.\n\nFinally, it would probably be more helpful to users if the coordinates of the positions were included in the docstring in addition to the code comments.",
    "created_at": "2018-07-25T14:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479561",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:7'></a>
Thanks for making the changes! It seems however there is some issue with the tests. After checking out your branch and building, `sage -t src/sage/graphs/generators/random.py` fails with a timeout. It seems the culprit is:


```python
sage: graphs.RandomRegularBipartite(2, 3, 3, set_position=True).get_pos() ## line 318 ##
```

This particular graph must be complete bipartite, so perhaps there is some issue when generating these. In the complete bipartite case (`d1 == n2`) maybe the edge generation should just be made deterministic.

Finally, it would probably be more helpful to users if the coordinates of the positions were included in the docstring in addition to the code comments.



---

archive/issue_comments_479562.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Bryan Gin-ge Chen\"",
    "created_at": "2018-07-25T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479562",
    "user": "https://github.com/bryangingechen"
}
```

Changing reviewer from "" to "Bryan Gin-ge Chen"



---

archive/issue_comments_479563.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-25T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479563",
    "user": "https://github.com/bryangingechen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_479564.json:
```json
{
    "body": "<a id='comment:9'></a>\nIt's more complicated than that. If found other situations like `graphs.RandomRegularBipartite(6, 6, 5, set_position=True)` that can loop endlessly :(\nSo we need another, more secured, algorithms...",
    "created_at": "2018-07-25T15:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479564",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>
It's more complicated than that. If found other situations like `graphs.RandomRegularBipartite(6, 6, 5, set_position=True)` that can loop endlessly :(
So we need another, more secured, algorithms...



---

archive/issue_comments_479565.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[8000a65](https://github.com/sagemath/sagetrac-mirror/commit/8000a651c2c719f0dc490ea01a83dd940b8c0219)|`trac #25403: improved algorithm`|",
    "created_at": "2018-07-29T13:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[8000a65](https://github.com/sagemath/sagetrac-mirror/commit/8000a651c2c719f0dc490ea01a83dd940b8c0219)|`trac #25403: improved algorithm`|



---

archive/issue_comments_479566.json:
```json
{
    "body": "Changing commit from \"9ef139ed20f592dc211f2eef907759d868597410\" to \"8000a651c2c719f0dc490ea01a83dd940b8c0219\"",
    "created_at": "2018-07-29T13:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9ef139ed20f592dc211f2eef907759d868597410" to "8000a651c2c719f0dc490ea01a83dd940b8c0219"



---

archive/issue_comments_479567.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[3266bc8](https://github.com/sagemath/sagetrac-mirror/commit/3266bc8b9f99e7c52fe4b30ecc1638d61ec46c9c)|`trac #25403: Merged with 8.3.rc3`|\n|[e0dd5ab](https://github.com/sagemath/sagetrac-mirror/commit/e0dd5abaff0b01e31fcc33d631633858d9cffae4)|`trac #25403: pyflakes`|",
    "created_at": "2018-07-29T13:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[3266bc8](https://github.com/sagemath/sagetrac-mirror/commit/3266bc8b9f99e7c52fe4b30ecc1638d61ec46c9c)|`trac #25403: Merged with 8.3.rc3`|
|[e0dd5ab](https://github.com/sagemath/sagetrac-mirror/commit/e0dd5abaff0b01e31fcc33d631633858d9cffae4)|`trac #25403: pyflakes`|



---

archive/issue_comments_479568.json:
```json
{
    "body": "Changing commit from \"8000a651c2c719f0dc490ea01a83dd940b8c0219\" to \"e0dd5abaff0b01e31fcc33d631633858d9cffae4\"",
    "created_at": "2018-07-29T13:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8000a651c2c719f0dc490ea01a83dd940b8c0219" to "e0dd5abaff0b01e31fcc33d631633858d9cffae4"



---

archive/issue_comments_479569.json:
```json
{
    "body": "<a id='comment:12'></a>\nThis new version should perform better.",
    "created_at": "2018-07-29T13:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479569",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'></a>
This new version should perform better.



---

archive/issue_comments_479570.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-29T14:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479570",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_479571.json:
```json
{
    "body": "Changing commit from \"e0dd5abaff0b01e31fcc33d631633858d9cffae4\" to \"87ea629c0ade65c9d2be714d8624260d46367ec2\"",
    "created_at": "2018-07-31T12:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479571",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e0dd5abaff0b01e31fcc33d631633858d9cffae4" to "87ea629c0ade65c9d2be714d8624260d46367ec2"



---

archive/issue_comments_479572.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[87ea629](https://github.com/sagemath/sagetrac-mirror/commit/87ea629c0ade65c9d2be714d8624260d46367ec2)|`various changes and fixes`|",
    "created_at": "2018-07-31T12:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[87ea629](https://github.com/sagemath/sagetrac-mirror/commit/87ea629c0ade65c9d2be714d8624260d46367ec2)|`various changes and fixes`|



---

archive/issue_comments_479573.json:
```json
{
    "body": "<a id='comment:15'></a>\nHi, I went ahead and pushed some changes to this branch:\n\n- I had a look at the reference [MW1990]. Thanks for taking the time to implement much of their algorithm! However, I noticed that your implementation did not include the (indeed, rather complicated) probabilistic check to restart in their \"NODOUBLES\" function. For now, I have simply made a change to the docstring to point out that the generated graph is not uniformly random.\n- I added a check on the maximum degree to the function (plus a note in the docstring and a doctest).\n- I fixed a typo: `retart` instead of `restart`.\n- I added information about the positions to the docstring. Also, I'm not sure if we need to do anything about this, but I figured I would point out here that the positions added by this ticket are inconsistent with the position generated by `sage.graphs.CompleteBipartiteGraph`. That function places the two parts horizontally and also uses differently scaled spacing.\n- I fixed some other typos in the comments and docstrings and combined some imports into one line.\n\nEverything else seemed OK, so you may set to positive_review if you're happy with my changes.\n\n---\nNew commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[87ea629](https://github.com/sagemath/sagetrac-mirror/commit/87ea629c0ade65c9d2be714d8624260d46367ec2)|`various changes and fixes`|",
    "created_at": "2018-07-31T12:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479573",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:15'></a>
Hi, I went ahead and pushed some changes to this branch:

- I had a look at the reference [MW1990]. Thanks for taking the time to implement much of their algorithm! However, I noticed that your implementation did not include the (indeed, rather complicated) probabilistic check to restart in their "NODOUBLES" function. For now, I have simply made a change to the docstring to point out that the generated graph is not uniformly random.
- I added a check on the maximum degree to the function (plus a note in the docstring and a doctest).
- I fixed a typo: `retart` instead of `restart`.
- I added information about the positions to the docstring. Also, I'm not sure if we need to do anything about this, but I figured I would point out here that the positions added by this ticket are inconsistent with the position generated by `sage.graphs.CompleteBipartiteGraph`. That function places the two parts horizontally and also uses differently scaled spacing.
- I fixed some other typos in the comments and docstrings and combined some imports into one line.

Everything else seemed OK, so you may set to positive_review if you're happy with my changes.

---
New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[87ea629](https://github.com/sagemath/sagetrac-mirror/commit/87ea629c0ade65c9d2be714d8624260d46367ec2)|`various changes and fixes`|



---

archive/issue_comments_479574.json:
```json
{
    "body": "<a id='comment:16'></a>\nThank you for all the corrections.\n\nFor the consistency of positions, what I can do is add a method in `graph_plot.py` for bipartite embedding, like `_bipartite_embedding(g, V1, V2, first=(0,1), last=(1,0))` in the flavor of `_line_embedding`, and then use it in all bipartite graphs generators.\nIt can proceed as the plotting of `CompleteBipartiteGraph`.\nWould you agree on that ?",
    "created_at": "2018-07-31T15:17:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479574",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>
Thank you for all the corrections.

For the consistency of positions, what I can do is add a method in `graph_plot.py` for bipartite embedding, like `_bipartite_embedding(g, V1, V2, first=(0,1), last=(1,0))` in the flavor of `_line_embedding`, and then use it in all bipartite graphs generators.
It can proceed as the plotting of `CompleteBipartiteGraph`.
Would you agree on that ?



---

archive/issue_comments_479575.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [dcoudert](#comment%3A16):\n> For the consistency of positions, what I can do is add a method in `graph_plot.py` for bipartite embedding, like `_bipartite_embedding(g, V1, V2, first=(0,1), last=(1,0))` in the flavor of `_line_embedding`, and then use it in all bipartite graphs generators.\n> It can proceed as the plotting of `CompleteBipartiteGraph`.\n> Would you agree on that ?\n\n\nI wasn't familiar with those methods in `graph_plot`, but this sounds like a great solution! We should probably update the ticket title / description now though.",
    "created_at": "2018-07-31T15:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479575",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:17'></a>
Replying to [dcoudert](#comment%3A16):
> For the consistency of positions, what I can do is add a method in `graph_plot.py` for bipartite embedding, like `_bipartite_embedding(g, V1, V2, first=(0,1), last=(1,0))` in the flavor of `_line_embedding`, and then use it in all bipartite graphs generators.
> It can proceed as the plotting of `CompleteBipartiteGraph`.
> Would you agree on that ?


I wasn't familiar with those methods in `graph_plot`, but this sounds like a great solution! We should probably update the ticket title / description now though.



---

archive/issue_comments_479576.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-31T15:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479576",
    "user": "https://github.com/bryangingechen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_479577.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n-Add a generator of random regular bipartite graph.\n+Add a generator of random regular bipartite graph, `RandomRegularBipartite`.\n \n+This ticket also moves the graph embedding method in `CompleteBipartite` to `graph_plot` so that embeddings for `CompleteBipartiteGraph`, `RandomRegularBipartite` and `RandomBipartite` can be easily made consistent.\n``````\n",
    "created_at": "2018-07-31T15:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479577",
    "user": "https://github.com/bryangingechen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
-Add a generator of random regular bipartite graph.
+Add a generator of random regular bipartite graph, `RandomRegularBipartite`.
 
+This ticket also moves the graph embedding method in `CompleteBipartite` to `graph_plot` so that embeddings for `CompleteBipartiteGraph`, `RandomRegularBipartite` and `RandomBipartite` can be easily made consistent.
``````




---

archive/issue_events_080369.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "rename": {
        "from": "Random regular bipartite graph generator",
        "to": "Random regular bipartite graph generator and bipartite graph embeddings"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25403#event-80369"
}
```



---

archive/issue_comments_479578.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[2e3d821](https://github.com/sagemath/sagetrac-mirror/commit/2e3d8217c1dadc4d8484f3ff6c57e4acbcc5f5bb)|`trac #25403: corrections of _line_embedding`|\n|[2dafc65](https://github.com/sagemath/sagetrac-mirror/commit/2dafc65bc9f41381c6db0a47a8596be0f22882df)|`trac #25403: use _line_embedding in random.py`|\n|[946a02b](https://github.com/sagemath/sagetrac-mirror/commit/946a02b03335ad465262e708795d24e91c684cfd)|`trac #25403: _line_embedding in CompleteBipartiteGraph`|\n|[0de116b](https://github.com/sagemath/sagetrac-mirror/commit/0de116bb7485766baede915195bde1182ab242fa)|`trac #25403: polishing`|",
    "created_at": "2018-07-31T16:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[2e3d821](https://github.com/sagemath/sagetrac-mirror/commit/2e3d8217c1dadc4d8484f3ff6c57e4acbcc5f5bb)|`trac #25403: corrections of _line_embedding`|
|[2dafc65](https://github.com/sagemath/sagetrac-mirror/commit/2dafc65bc9f41381c6db0a47a8596be0f22882df)|`trac #25403: use _line_embedding in random.py`|
|[946a02b](https://github.com/sagemath/sagetrac-mirror/commit/946a02b03335ad465262e708795d24e91c684cfd)|`trac #25403: _line_embedding in CompleteBipartiteGraph`|
|[0de116b](https://github.com/sagemath/sagetrac-mirror/commit/0de116bb7485766baede915195bde1182ab242fa)|`trac #25403: polishing`|



---

archive/issue_comments_479579.json:
```json
{
    "body": "Changing commit from \"87ea629c0ade65c9d2be714d8624260d46367ec2\" to \"0de116bb7485766baede915195bde1182ab242fa\"",
    "created_at": "2018-07-31T16:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479579",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "87ea629c0ade65c9d2be714d8624260d46367ec2" to "0de116bb7485766baede915195bde1182ab242fa"



---

archive/issue_comments_479580.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-31T17:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479580",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_479581.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Add a generator of random regular bipartite graph, `RandomRegularBipartite`.\n \n-This ticket also moves the graph embedding method in `CompleteBipartite` to `graph_plot` so that embeddings for `CompleteBipartiteGraph`, `RandomRegularBipartite` and `RandomBipartite` can be easily made consistent.\n+This ticket also unifies the graph embedding method of `CompleteBipartiteGraph`, `RandomRegularBipartite` and `RandomBipartite` by using method `_line_embedding` from `graph_plot.py`.\n``````\n",
    "created_at": "2018-07-31T17:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479581",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Add a generator of random regular bipartite graph, `RandomRegularBipartite`.
 
-This ticket also moves the graph embedding method in `CompleteBipartite` to `graph_plot` so that embeddings for `CompleteBipartiteGraph`, `RandomRegularBipartite` and `RandomBipartite` can be easily made consistent.
+This ticket also unifies the graph embedding method of `CompleteBipartiteGraph`, `RandomRegularBipartite` and `RandomBipartite` by using method `_line_embedding` from `graph_plot.py`.
``````




---

archive/issue_comments_479582.json:
```json
{
    "body": "<a id='comment:20'></a>\nI have chosen not to create a new method in `graph_plot.py` as the need for bipartite embedding is rather limited so far. I use 2 calls to `_line_embedding` instead.\n\nI have corrected the method for `_line_embedding` to avoid errors with graphs on 0 or 1 vertex.",
    "created_at": "2018-07-31T17:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479582",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:20'></a>
I have chosen not to create a new method in `graph_plot.py` as the need for bipartite embedding is rather limited so far. I use 2 calls to `_line_embedding` instead.

I have corrected the method for `_line_embedding` to avoid errors with graphs on 0 or 1 vertex.



---

archive/issue_comments_479583.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[315feb7](https://github.com/sagemath/sagetrac-mirror/commit/315feb7e15cc4f51cd1f5b140d6e9a1b021e7fd6)|`Remove trailing whitespace`|",
    "created_at": "2018-07-31T19:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[315feb7](https://github.com/sagemath/sagetrac-mirror/commit/315feb7e15cc4f51cd1f5b140d6e9a1b021e7fd6)|`Remove trailing whitespace`|



---

archive/issue_comments_479584.json:
```json
{
    "body": "Changing commit from \"0de116bb7485766baede915195bde1182ab242fa\" to \"315feb7e15cc4f51cd1f5b140d6e9a1b021e7fd6\"",
    "created_at": "2018-07-31T19:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0de116bb7485766baede915195bde1182ab242fa" to "315feb7e15cc4f51cd1f5b140d6e9a1b021e7fd6"



---

archive/issue_comments_479585.json:
```json
{
    "body": "<a id='comment:22'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[5c7a97d](https://github.com/sagemath/sagetrac-mirror/commit/5c7a97d24d4c8323d6b3bed13e602e0e7eef2452)|`Fix doctest in `sage/graphs/line_graph.py``|",
    "created_at": "2018-07-31T20:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[5c7a97d](https://github.com/sagemath/sagetrac-mirror/commit/5c7a97d24d4c8323d6b3bed13e602e0e7eef2452)|`Fix doctest in `sage/graphs/line_graph.py``|



---

archive/issue_comments_479586.json:
```json
{
    "body": "Changing commit from \"315feb7e15cc4f51cd1f5b140d6e9a1b021e7fd6\" to \"5c7a97d24d4c8323d6b3bed13e602e0e7eef2452\"",
    "created_at": "2018-07-31T20:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "315feb7e15cc4f51cd1f5b140d6e9a1b021e7fd6" to "5c7a97d24d4c8323d6b3bed13e602e0e7eef2452"



---

archive/issue_comments_479587.json:
```json
{
    "body": "<a id='comment:23'></a>\nI removed a trailing whitespace and fixed a doctest that was broken by the change to graph name inside `CompleteBipartiteGraph`. Feel free to set to positive_review after you see this.",
    "created_at": "2018-07-31T20:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479587",
    "user": "https://github.com/bryangingechen"
}
```

<a id='comment:23'></a>
I removed a trailing whitespace and fixed a doctest that was broken by the change to graph name inside `CompleteBipartiteGraph`. Feel free to set to positive_review after you see this.



---

archive/issue_comments_479588.json:
```json
{
    "body": "<a id='comment:24'></a>\nSo then. Thanks.",
    "created_at": "2018-07-31T21:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479588",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:24'></a>
So then. Thanks.



---

archive/issue_comments_479589.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-31T21:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479589",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_080370.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:18:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25403#event-80370"
}
```



---

archive/issue_comments_479590.json:
```json
{
    "body": "Changing branch from \"public/25403_random_regular_bipartite\" to \"5c7a97d24d4c8323d6b3bed13e602e0e7eef2452\"",
    "created_at": "2018-08-05T08:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479590",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/25403_random_regular_bipartite" to "5c7a97d24d4c8323d6b3bed13e602e0e7eef2452"



---

archive/issue_comments_479591.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-05T08:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25403",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25403#issuecomment-479591",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
