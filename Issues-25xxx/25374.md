# Issue 25374: Upgrade cryptominisat to 5.8.0, fix build on Cygwin

archive/issues_025137.json:
```json
{
    "body": "This is to upgrade to CryptoMiniSat 5.8.0, released 2020-07-06.\n\nTarball at: https://github.com/msoos/cryptominisat/archive/refs/tags/5.8.0.tar.gz\n\nRelease notes for the versions since 5.6.8 (current in Sage):\n\n>\n> == 5.8.0 ==\n>\n> Massive new release! Many-many improvements:\n>\n>- Gauss-Jordan elimination is enabled by default\n>- Target Phases (\"Stable Polarities\") are used\n>- CCAnr SLS solver is enabled and is set to work by default\n>- Hybrid variable branching heuristics\n>- Many-many speed improvements\n>- Better DIMACS parsing to work for other systems\n>- Made to work with new ApproxMC and UniGen\n>\n> == 5.7.1 ==\n>\n>- Removing LSIDS, as it was interfering with performance.\n>\n> == 5.7.0 ==\n>\n>- Improved parameters\n>- Hybrid branching strategies\n>- and much more\n\n\n\nPrevious upgrade:\n\n- #27319: Upgrade to Cryptominisat 5.6.8 -- merged in Sage 8.9.beta2\n\n\n**Assignee:** @embray\n\n**CC:**  @slel @tscrim @jm58660 @embray @jdemeyer @saraedum tmonteil @videlec @orlitzky @novoselt @kiwifb @dimpase\n\n**Keywords:** upgrade, cryptominisat\n\n**Branch:** [69033dbc7c588f4112f8b04abcac4358536595f2](https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2)\n\n**Upstream:** Fixed upstream, in a later stable release.\n\n**Reviewer:** Travis Scrimshaw, Julian R\u00fcth, Matthias Koeppe\n\n**Author:** Erik Bray, Thierry Monteil, Fran\u00e7ois Bissey, Matthias Koeppe\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25374\n\n",
    "closed_at": "2022-07-03T22:06:11Z",
    "created_at": "2018-05-16T14:55:09Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Upgrade cryptominisat to 5.8.0, fix build on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25374",
    "user": "https://github.com/embray"
}
```
This is to upgrade to CryptoMiniSat 5.8.0, released 2020-07-06.

Tarball at: https://github.com/msoos/cryptominisat/archive/refs/tags/5.8.0.tar.gz

Release notes for the versions since 5.6.8 (current in Sage):

>
> == 5.8.0 ==
>
> Massive new release! Many-many improvements:
>
>- Gauss-Jordan elimination is enabled by default
>- Target Phases ("Stable Polarities") are used
>- CCAnr SLS solver is enabled and is set to work by default
>- Hybrid variable branching heuristics
>- Many-many speed improvements
>- Better DIMACS parsing to work for other systems
>- Made to work with new ApproxMC and UniGen
>
> == 5.7.1 ==
>
>- Removing LSIDS, as it was interfering with performance.
>
> == 5.7.0 ==
>
>- Improved parameters
>- Hybrid branching strategies
>- and much more



Previous upgrade:

- #27319: Upgrade to Cryptominisat 5.6.8 -- merged in Sage 8.9.beta2


**Assignee:** @embray

**CC:**  @slel @tscrim @jm58660 @embray @jdemeyer @saraedum tmonteil @videlec @orlitzky @novoselt @kiwifb @dimpase

**Keywords:** upgrade, cryptominisat

**Branch:** [69033dbc7c588f4112f8b04abcac4358536595f2](https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2)

**Upstream:** Fixed upstream, in a later stable release.

**Reviewer:** Travis Scrimshaw, Julian Rüth, Matthias Koeppe

**Author:** Erik Bray, Thierry Monteil, François Bissey, Matthias Koeppe

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/25374





---

archive/issue_comments_486730.json:
```json
{
    "body": "**Branch:** [u/embray/cygwin/build/cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/build/cryptominisat)",
    "created_at": "2018-05-16T14:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486730",
    "user": "https://github.com/embray"
}
```

**Branch:** [u/embray/cygwin/build/cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/build/cryptominisat)



---

archive/issue_comments_486731.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Not yet reported upstream; Will do shortly.\".",
    "created_at": "2018-05-16T14:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486731",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "N/A" to "Not yet reported upstream; Will do shortly.".



---

archive/issue_comments_486732.json:
```json
{
    "body": "**Dependencies:** #25372",
    "created_at": "2018-05-16T14:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486732",
    "user": "https://github.com/embray"
}
```

**Dependencies:** #25372



---

archive/issue_comments_486733.json:
```json
{
    "body": "**Author:** Erik Bray",
    "created_at": "2018-05-16T14:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486733",
    "user": "https://github.com/embray"
}
```

**Author:** Erik Bray



---

archive/issue_comments_486734.json:
```json
{
    "body": "**Commit:** [e2b30c09c02eb249a04a8d78d3bdbcce994247dc](https://github.com/sagemath/sagetrac-mirror/commit/e2b30c09c02eb249a04a8d78d3bdbcce994247dc)",
    "created_at": "2018-05-16T14:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486734",
    "user": "https://github.com/embray"
}
```

**Commit:** [e2b30c09c02eb249a04a8d78d3bdbcce994247dc](https://github.com/sagemath/sagetrac-mirror/commit/e2b30c09c02eb249a04a8d78d3bdbcce994247dc)



---

archive/issue_comments_486735.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-05-16T14:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486735",
    "user": "https://github.com/embray"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_486736.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778\">48159c7</a></td><td><code>Use sage-dist-helpers to add DESTDIR support in cryptominisat</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0\">312f1eb</a></td><td><code>add a patch to cryptominisat so that when it installs its Python package that also respects DESTDIR</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2b30c09c02eb249a04a8d78d3bdbcce994247dc\">e2b30c0</a></td><td><code>adds patch for cryptominisat to build and install correctly on Cygwin</code></td></tr></table>\n",
    "created_at": "2018-05-16T14:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486736",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48159c7deac5e180f42d7c01faf1a721740ca778">48159c7</a></td><td><code>Use sage-dist-helpers to add DESTDIR support in cryptominisat</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/312f1eb4a52174e352f8b6ac2866ce14067126f0">312f1eb</a></td><td><code>add a patch to cryptominisat so that when it installs its Python package that also respects DESTDIR</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2b30c09c02eb249a04a8d78d3bdbcce994247dc">e2b30c0</a></td><td><code>adds patch for cryptominisat to build and install correctly on Cygwin</code></td></tr></table>




---

archive/issue_comments_486737.json:
```json
{
    "body": "**Changing upstream** from \"Not yet reported upstream; Will do shortly.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2018-05-16T15:18:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486737",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "Not yet reported upstream; Will do shortly." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_486738.json:
```json
{
    "body": "<a id='comment:2'></a>\nTurns out there's nothing to report upstream, because the problems with Cygwin are already fixed there.  However, the Cygwin fixes are kind of incidental to other changes.  Until/unless we upgrade this package in Sage, these specifically targeted fixes are simpler to patch in than the larger changes in upstream.",
    "created_at": "2018-05-16T15:18:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486738",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>
Turns out there's nothing to report upstream, because the problems with Cygwin are already fixed there.  However, the Cygwin fixes are kind of incidental to other changes.  Until/unless we upgrade this package in Sage, these specifically targeted fixes are simpler to patch in than the larger changes in upstream.



---

archive/issue_comments_486739.json:
```json
{
    "body": "<a id='comment:3'></a>\nI'm confused. Doesn't this add `-g` twice?",
    "created_at": "2018-05-26T17:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486739",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:3'></a>
I'm confused. Doesn't this add `-g` twice?



---

archive/issue_comments_486740.json:
```json
{
    "body": "**Reviewer:** Julian R\u00fcth",
    "created_at": "2018-05-26T17:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486740",
    "user": "https://github.com/saraedum"
}
```

**Reviewer:** Julian Rüth



---

archive/issue_comments_486741.json:
```json
{
    "body": "**Changing status** from needs_review to needs_info.",
    "created_at": "2018-05-26T17:05:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486741",
    "user": "https://github.com/saraedum"
}
```

**Changing status** from needs_review to needs_info.



---

archive/issue_comments_486742.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2018-05-28T14:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486742",
    "user": "https://github.com/embray"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_486743.json:
```json
{
    "body": "<a id='comment:5'></a>\nYes, I had intended to remove the `-g` from those earlier lines.",
    "created_at": "2018-05-28T14:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486743",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Yes, I had intended to remove the `-g` from those earlier lines.



---

archive/issue_comments_486744.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e98cb15313749d32965823f126dc609e4aebc6e1\">e98cb15</a></td><td><code>adds patch for cryptominisat to build and install correctly on Cygwin</code></td></tr></table>\n",
    "created_at": "2018-05-28T17:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e98cb15313749d32965823f126dc609e4aebc6e1">e98cb15</a></td><td><code>adds patch for cryptominisat to build and install correctly on Cygwin</code></td></tr></table>




---

archive/issue_comments_486745.json:
```json
{
    "body": "**Changing commit** from \"[e2b30c09c02eb249a04a8d78d3bdbcce994247dc](https://github.com/sagemath/sagetrac-mirror/commit/e2b30c09c02eb249a04a8d78d3bdbcce994247dc)\" to \"[e98cb15313749d32965823f126dc609e4aebc6e1](https://github.com/sagemath/sagetrac-mirror/commit/e98cb15313749d32965823f126dc609e4aebc6e1)\".",
    "created_at": "2018-05-28T17:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e2b30c09c02eb249a04a8d78d3bdbcce994247dc](https://github.com/sagemath/sagetrac-mirror/commit/e2b30c09c02eb249a04a8d78d3bdbcce994247dc)" to "[e98cb15313749d32965823f126dc609e4aebc6e1](https://github.com/sagemath/sagetrac-mirror/commit/e98cb15313749d32965823f126dc609e4aebc6e1)".



---

archive/issue_comments_486746.json:
```json
{
    "body": "<a id='comment:7'></a>\nPlease see how it looks like with the new release #25480. Do you want to put this ticket as a dependency?",
    "created_at": "2018-05-31T10:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486746",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
Please see how it looks like with the new release #25480. Do you want to put this ticket as a dependency?



---

archive/issue_comments_486747.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis might be mostly superseded by #25480, except maybe for the `spkg-install` updates.\nI'll test and see...",
    "created_at": "2018-05-31T12:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486747",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>
This might be mostly superseded by #25480, except maybe for the `spkg-install` updates.
I'll test and see...



---

archive/issue_comments_486748.json:
```json
{
    "body": "<a id='comment:9'></a>\nAny update on this?",
    "created_at": "2018-07-04T17:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486748",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>
Any update on this?



---

archive/issue_comments_486749.json:
```json
{
    "body": "<a id='comment:10'></a>\nI believe this issue can reasonably be addressed for Sage 8.4.",
    "created_at": "2018-07-18T11:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486749",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>
I believe this issue can reasonably be addressed for Sage 8.4.



---

archive/issue_events_072348.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:47:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72348"
}
```



---

archive/issue_events_072349.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T11:41:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72349"
}
```



---

archive/issue_events_072350.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T11:41:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72350"
}
```



---

archive/issue_comments_486750.json:
```json
{
    "body": "<a id='comment:12'></a>\nRetargeting some of my tickets (somewhat optimistically for now).",
    "created_at": "2018-12-28T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486750",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>
Retargeting some of my tickets (somewhat optimistically for now).



---

archive/issue_events_072351.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-28T14:10:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72351"
}
```



---

archive/issue_events_072352.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-28T14:10:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72352"
}
```



---

archive/issue_comments_486751.json:
```json
{
    "body": "<a id='comment:13'></a>\nWhat's the status of this now after #25480?",
    "created_at": "2019-01-24T09:32:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486751",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
What's the status of this now after #25480?



---

archive/issue_comments_486752.json:
```json
{
    "body": "<a id='comment:14'></a>\nI'll have to give it another try. Maybe this is fixed by #25480? I haven't checked.",
    "created_at": "2019-03-07T15:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486752",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>
I'll have to give it another try. Maybe this is fixed by #25480? I haven't checked.



---

archive/issue_comments_486753.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-03-07T15:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486753",
    "user": "https://github.com/embray"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_486754.json:
```json
{
    "body": "**Assignee:** @embray",
    "created_at": "2019-03-07T15:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486754",
    "user": "https://github.com/embray"
}
```

**Assignee:** @embray



---

archive/issue_events_072353.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:43:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72353"
}
```



---

archive/issue_events_072354.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:43:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72354"
}
```



---

archive/issue_comments_486755.json:
```json
{
    "body": "<a id='comment:16'></a>\nMoving all my in-progress tickets to 8.8 milestone.",
    "created_at": "2019-03-25T10:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486755",
    "user": "https://github.com/embray"
}
```

<a id='comment:16'></a>
Moving all my in-progress tickets to 8.8 milestone.



---

archive/issue_comments_486756.json:
```json
{
    "body": "<a id='comment:17'></a>\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486756",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>
Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_072355.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72355"
}
```



---

archive/issue_events_072356.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72356"
}
```



---

archive/issue_events_072357.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72357"
}
```



---

archive/issue_events_072358.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72358"
}
```



---

archive/issue_comments_486757.json:
```json
{
    "body": "<a id='comment:18'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486757",
    "user": "https://github.com/embray"
}
```

<a id='comment:18'></a>
Ticket retargeted after milestone closed



---

archive/issue_comments_486758.json:
```json
{
    "body": "<a id='comment:19'></a>\nBuilding cryptominisat is still broken with 9.1.rc2 (https://github.com/mkoeppe/sage/runs/641394520)\n\n```\n-- Found python interpreter, libs and header files\n-- Building python interface\nCMake Error at python/CMakeLists.txt:44 (string):\n  string sub-command REPLACE requires at least four arguments.\n\n\n-- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -fdebug-prefix-map=/cygdrive/d/cyg_pub/devel/python/python37/python37-3.7.7-1.x86_64/build=/usr/src/debug/python37-3.7.7-1 -fdebug-prefix-map=/cygdrive/d/cyg_pub/devel/python/python37/python37-3.7.7-1.x86_64/src/Python-3.7.7=/usr/src/debug/python37-3.7.7-1 -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -fdebug-prefix-map=/cygdrive/d/cyg_pub/devel/python/python37/python37-3.7.7-1.x86_64/build=/usr/src/debug/python37-3.7.7-1 -fdebug-prefix-map=/cygdrive/d/cyg_pub/devel/python/python37/python37-3.7.7-1.x86_64/src/Python-3.7.7=/usr/src/debug/python37-3.7.7-1'\n-- Python LDFLAGS: '-lcrypt -lintl -ldl'\n-- Python LINKFORSHARED flags: ''\n-- Python module will be installed to : '/cygdrive/d/a/sage/sage/local'\n-- Configuring incomplete, errors occurred!\nSee also \"/cygdrive/d/a/sage/sage/local/var/tmp/sage/build/cryptominisat-5.6.8/src/CMakeFiles/CMakeOutput.log\".\nSee also \"/cygdrive/d/a/sage/sage/local/var/tmp/sage/build/cryptominisat-5.6.8/src/CMakeFiles/CMakeError.log\".\n********************************************************************************\nError configuring cryptominisat-5.6.8 with cmake\nSee the file\n    /cygdrive/d/a/sage/sage/local/var/tmp/sage/build/cryptominisat-5.6.8/src/CMakeFiles/CMakeOutput.log\nfor details.\n********************************************************************************\n```",
    "created_at": "2020-05-04T02:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486758",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Building cryptominisat is still broken with 9.1.rc2 (https://github.com/mkoeppe/sage/runs/641394520)

```
-- Found python interpreter, libs and header files
-- Building python interface
CMake Error at python/CMakeLists.txt:44 (string):
  string sub-command REPLACE requires at least four arguments.


-- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -fdebug-prefix-map=/cygdrive/d/cyg_pub/devel/python/python37/python37-3.7.7-1.x86_64/build=/usr/src/debug/python37-3.7.7-1 -fdebug-prefix-map=/cygdrive/d/cyg_pub/devel/python/python37/python37-3.7.7-1.x86_64/src/Python-3.7.7=/usr/src/debug/python37-3.7.7-1 -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -fdebug-prefix-map=/cygdrive/d/cyg_pub/devel/python/python37/python37-3.7.7-1.x86_64/build=/usr/src/debug/python37-3.7.7-1 -fdebug-prefix-map=/cygdrive/d/cyg_pub/devel/python/python37/python37-3.7.7-1.x86_64/src/Python-3.7.7=/usr/src/debug/python37-3.7.7-1'
-- Python LDFLAGS: '-lcrypt -lintl -ldl'
-- Python LINKFORSHARED flags: ''
-- Python module will be installed to : '/cygdrive/d/a/sage/sage/local'
-- Configuring incomplete, errors occurred!
See also "/cygdrive/d/a/sage/sage/local/var/tmp/sage/build/cryptominisat-5.6.8/src/CMakeFiles/CMakeOutput.log".
See also "/cygdrive/d/a/sage/sage/local/var/tmp/sage/build/cryptominisat-5.6.8/src/CMakeFiles/CMakeError.log".
********************************************************************************
Error configuring cryptominisat-5.6.8 with cmake
See the file
    /cygdrive/d/a/sage/sage/local/var/tmp/sage/build/cryptominisat-5.6.8/src/CMakeFiles/CMakeOutput.log
for details.
********************************************************************************
```



---

archive/issue_events_072359.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-04T02:21:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72359"
}
```



---

archive/issue_events_072360.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-04T02:21:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72360"
}
```



---

archive/issue_comments_486759.json:
```json
{
    "body": "<a id='comment:21'></a>\nThere's a new release of CryptoMiniSat. The issue here\nwas said to be fixed upstream so it might be enough\nto upgrade to CryptoMiniSat 5.7.1.",
    "created_at": "2020-05-04T09:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486759",
    "user": "https://github.com/slel"
}
```

<a id='comment:21'></a>
There's a new release of CryptoMiniSat. The issue here
was said to be fixed upstream so it might be enough
to upgrade to CryptoMiniSat 5.7.1.



---

archive/issue_events_072361.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "rename": {
        "from": "Fix cryptominisat build on Cygwin",
        "to": "Upgrade cryptominisat to fix cryptominisat build on Cygwin"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72361"
}
```



---

archive/issue_comments_486760.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [slelievre](#comment%3A21):\n> There's a new release of CryptoMiniSat. The issue here\n> was said to be fixed upstream so it might be enough\n> to upgrade to CryptoMiniSat 5.7.1.\n\nOK who wants to work on it?",
    "created_at": "2020-05-04T15:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486760",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Replying to [slelievre](#comment%3A21):
> There's a new release of CryptoMiniSat. The issue here
> was said to be fixed upstream so it might be enough
> to upgrade to CryptoMiniSat 5.7.1.

OK who wants to work on it?



---

archive/issue_comments_486761.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n \n+\n+Previous update: #27319 Cryptominisat 5.6.8\n``````\n",
    "created_at": "2020-07-14T04:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486761",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 
+
+Previous update: #27319 Cryptominisat 5.6.8
``````




---

archive/issue_comments_486762.json:
```json
{
    "body": "<a id='comment:26'></a>\nCryptoMiniSat 5.8.0 was released on 2020-07-06.",
    "created_at": "2020-07-14T14:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486762",
    "user": "https://github.com/slel"
}
```

<a id='comment:26'></a>
CryptoMiniSat 5.8.0 was released on 2020-07-06.



---

archive/issue_comments_486763.json:
```json
{
    "body": "<a id='comment:27'></a>\nInstructions for doing the upgrade:\n\n1) Add `upstream_url` field to `checksums.ini` https://wiki.sagemath.org/ReleaseTours/sage-9.1#For_developers-1\n\n2) Run `./sage -package update cryptominisat 5.8.0`\n\n3) Remove patches\n\n4) Try build on local machine\n\n5) Push to the ticket",
    "created_at": "2020-07-14T16:52:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486763",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Instructions for doing the upgrade:

1) Add `upstream_url` field to `checksums.ini` https://wiki.sagemath.org/ReleaseTours/sage-9.1#For_developers-1

2) Run `./sage -package update cryptominisat 5.8.0`

3) Remove patches

4) Try build on local machine

5) Push to the ticket



---

archive/issue_comments_486764.json:
```json
{
    "body": "<a id='comment:28'></a>\nThe needed URL is\n\n```\nupstream_url=https://github.com/msoos/cryptominisat/archive/VERSION.tar.gz\n```",
    "created_at": "2020-07-15T19:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486764",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:28'></a>
The needed URL is

```
upstream_url=https://github.com/msoos/cryptominisat/archive/VERSION.tar.gz
```



---

archive/issue_comments_486765.json:
```json
{
    "body": "<a id='comment:29'></a>\nForgot about this and opened #30264. I'm setting it to duplicate.",
    "created_at": "2020-08-02T14:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486765",
    "user": "https://github.com/slel"
}
```

<a id='comment:29'></a>
Forgot about this and opened #30264. I'm setting it to duplicate.



---

archive/issue_comments_486766.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,22 @@\n+This is to upgrade to CryptoMiniSat 5.8.0, released 2020-07-06.\n \n+Release notes for the versions since 5.6.8 (current in Sage):\n+\n+5.8.0\n+Massive new release! Many-many improvements:\n+\n+Gauss-Jordan elimination is enabled by default\n+Target Phases (\"Stable Polarities\") are used\n+CCAnr SLS solver is enabled and is set to work by default\n+Hybrid variable branching heuristics\n+Many-many speed improvements\n+Better DIMACS parsing to work for other systems\n+Made to work with new ApproxMC and UniGen\n+5.7.1\n+Removing LSIDS, as it was interfering with performance.\n+5.7.0\n+Improved parameters\n+Hybrid branching strategies\n+and much more\n \n Previous update: #27319 Cryptominisat 5.6.8\n``````\n",
    "created_at": "2020-08-12T18:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486766",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,22 @@
+This is to upgrade to CryptoMiniSat 5.8.0, released 2020-07-06.
 
+Release notes for the versions since 5.6.8 (current in Sage):
+
+5.8.0
+Massive new release! Many-many improvements:
+
+Gauss-Jordan elimination is enabled by default
+Target Phases ("Stable Polarities") are used
+CCAnr SLS solver is enabled and is set to work by default
+Hybrid variable branching heuristics
+Many-many speed improvements
+Better DIMACS parsing to work for other systems
+Made to work with new ApproxMC and UniGen
+5.7.1
+Removing LSIDS, as it was interfering with performance.
+5.7.0
+Improved parameters
+Hybrid branching strategies
+and much more
 
 Previous update: #27319 Cryptominisat 5.6.8
``````




---

archive/issue_comments_486767.json:
```json
{
    "body": "<a id='comment:30'></a>\nWould someone like to update the branch please?",
    "created_at": "2020-08-12T18:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486767",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Would someone like to update the branch please?



---

archive/issue_comments_486768.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"upgrade, cryptominisat\".",
    "created_at": "2020-08-13T13:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486768",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "" to "upgrade, cryptominisat".



---

archive/issue_comments_486769.json:
```json
{
    "body": "**Description changed:**\n``````diff\n\n``````\n",
    "created_at": "2020-08-13T13:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486769",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff

``````




---

archive/issue_comments_486770.json:
```json
{
    "body": "**Changing commit** from \"[e98cb15313749d32965823f126dc609e4aebc6e1](https://github.com/sagemath/sagetrac-mirror/commit/e98cb15313749d32965823f126dc609e4aebc6e1)\" to \"[5603e11e1a6bd62ef6f3e9a092de22a8433d05cc](https://github.com/sagemath/sagetrac-mirror/commit/5603e11e1a6bd62ef6f3e9a092de22a8433d05cc)\".",
    "created_at": "2020-08-13T13:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486770",
    "user": "https://github.com/slel"
}
```

**Changing commit** from "[e98cb15313749d32965823f126dc609e4aebc6e1](https://github.com/sagemath/sagetrac-mirror/commit/e98cb15313749d32965823f126dc609e4aebc6e1)" to "[5603e11e1a6bd62ef6f3e9a092de22a8433d05cc](https://github.com/sagemath/sagetrac-mirror/commit/5603e11e1a6bd62ef6f3e9a092de22a8433d05cc)".



---

archive/issue_comments_486771.json:
```json
{
    "body": "**Changing branch** from \"[u/embray/cygwin/build/cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/build/cryptominisat)\" to \"[public/25374-cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/public/25374-cryptominisat-5.8.0)\".",
    "created_at": "2020-08-13T13:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486771",
    "user": "https://github.com/slel"
}
```

**Changing branch** from "[u/embray/cygwin/build/cryptominisat](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/build/cryptominisat)" to "[public/25374-cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/public/25374-cryptominisat-5.8.0)".



---

archive/issue_comments_486772.json:
```json
{
    "body": "<a id='comment:31'></a>\nWith this branch, `make cryptominisat` and `sage -i cryptominisat` succeed.\n\nThey used to fail with Sage 9.x for the previous version of the package.\n\nTested on Debian 10 buster and macOS 10.14.6 Mojave. Cygwin testing needed.\n\nNew doctest failure (both on Debian and macOS):\n\n```bash\n$ OPT='--optional=build,cryptominisat,dochtml,memlimit,sage'\n$ ./sage -t --long $OPT --random-seed=0 src/sage/sat/boolean_polynomials.py\ntoo many failed tests, not using stored timings\nRunning doctests with ID 2020-08-13-14-39-55-b4ff37bc.\nGit branch: develop\nUsing --optional=build,cryptominisat,dochtml,memlimit,sage\nDoctesting 1 file.\nsage -t --long --random-seed=0 src/sage/sat/boolean_polynomials.py\n**********************************************************************\nFile \"src/sage/sat/boolean_polynomials.py\", line 131, in sage.sat.boolean_polynomials.solve\nFailed example:\n    sr = sage.crypto.mq.SR(1, 4, 4, 8, allow_zero_inversions = True)                  # optional - cryptominisat, long time\nExpected nothing\nGot:\n    c [g 0] truth-find prop checks  : 156\n    c [g 0] -> of which prop        : 22.44 %\n    c [g 0] -> of which confl       :  0.64 %\n    c [g 0] elim called             : 54\n    c [g 0] ---> which lead to prop : 22.22 %\n    c [g 0] ---> which lead to confl:  0.00 %\n    c [g 0] size: 12    x 24\n    c [g 1] truth-find prop checks  : 178\n    c [g 1] -> of which prop        : 51.12 %\n    c [g 1] -> of which confl       :  0.00 %\n    c [g 1] elim called             : 150\n    c [g 1] ---> which lead to prop : 11.33 %\n    c [g 1] ---> which lead to confl:  0.00 %\n    c [g 1] size: 12    x 24\n**********************************************************************\n1 item had failures:\n   1 of  40 in sage.sat.boolean_polynomials.solve\n    [45 tests, 1 failure, 80.53 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/sat/boolean_polynomials.py  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 80.6 seconds\n    cpu time: 82.1 seconds\n    cumulative wall time: 80.5 seconds\n```\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5603e11e1a6bd62ef6f3e9a092de22a8433d05cc\">5603e11</a></td><td><code>#25374 Upgrade to CryptoMiniSat 5.8.0</code></td></tr></table>\n",
    "created_at": "2020-08-13T13:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486772",
    "user": "https://github.com/slel"
}
```

<a id='comment:31'></a>
With this branch, `make cryptominisat` and `sage -i cryptominisat` succeed.

They used to fail with Sage 9.x for the previous version of the package.

Tested on Debian 10 buster and macOS 10.14.6 Mojave. Cygwin testing needed.

New doctest failure (both on Debian and macOS):

```bash
$ OPT='--optional=build,cryptominisat,dochtml,memlimit,sage'
$ ./sage -t --long $OPT --random-seed=0 src/sage/sat/boolean_polynomials.py
too many failed tests, not using stored timings
Running doctests with ID 2020-08-13-14-39-55-b4ff37bc.
Git branch: develop
Using --optional=build,cryptominisat,dochtml,memlimit,sage
Doctesting 1 file.
sage -t --long --random-seed=0 src/sage/sat/boolean_polynomials.py
**********************************************************************
File "src/sage/sat/boolean_polynomials.py", line 131, in sage.sat.boolean_polynomials.solve
Failed example:
    sr = sage.crypto.mq.SR(1, 4, 4, 8, allow_zero_inversions = True)                  # optional - cryptominisat, long time
Expected nothing
Got:
    c [g 0] truth-find prop checks  : 156
    c [g 0] -> of which prop        : 22.44 %
    c [g 0] -> of which confl       :  0.64 %
    c [g 0] elim called             : 54
    c [g 0] ---> which lead to prop : 22.22 %
    c [g 0] ---> which lead to confl:  0.00 %
    c [g 0] size: 12    x 24
    c [g 1] truth-find prop checks  : 178
    c [g 1] -> of which prop        : 51.12 %
    c [g 1] -> of which confl       :  0.00 %
    c [g 1] elim called             : 150
    c [g 1] ---> which lead to prop : 11.33 %
    c [g 1] ---> which lead to confl:  0.00 %
    c [g 1] size: 12    x 24
**********************************************************************
1 item had failures:
   1 of  40 in sage.sat.boolean_polynomials.solve
    [45 tests, 1 failure, 80.53 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/sat/boolean_polynomials.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 80.6 seconds
    cpu time: 82.1 seconds
    cumulative wall time: 80.5 seconds
```

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5603e11e1a6bd62ef6f3e9a092de22a8433d05cc">5603e11</a></td><td><code>#25374 Upgrade to CryptoMiniSat 5.8.0</code></td></tr></table>




---

archive/issue_comments_486773.json:
```json
{
    "body": "<a id='comment:33'></a>\nFor broader testing, push a tag to github...",
    "created_at": "2020-08-13T15:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486773",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
For broader testing, push a tag to github...



---

archive/issue_comments_486774.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,21 +2,32 @@\n \n Release notes for the versions since 5.6.8 (current in Sage):\n \n-5.8.0\n-Massive new release! Many-many improvements:\n+>\n+> == 5.8.0 ==\n+>\n+> Massive new release! Many-many improvements:\n+>\n+>- Gauss-Jordan elimination is enabled by default\n+>- Target Phases (\"Stable Polarities\") are used\n+>- CCAnr SLS solver is enabled and is set to work by default\n+>- Hybrid variable branching heuristics\n+>- Many-many speed improvements\n+>- Better DIMACS parsing to work for other systems\n+>- Made to work with new ApproxMC and UniGen\n+>\n+> == 5.7.1 ==\n+>\n+>- Removing LSIDS, as it was interfering with performance.\n+>\n+> == 5.7.0 ==\n+>\n+>- Improved parameters\n+>- Hybrid branching strategies\n+>- and much more\n \n-Gauss-Jordan elimination is enabled by default\n-Target Phases (\"Stable Polarities\") are used\n-CCAnr SLS solver is enabled and is set to work by default\n-Hybrid variable branching heuristics\n-Many-many speed improvements\n-Better DIMACS parsing to work for other systems\n-Made to work with new ApproxMC and UniGen\n-5.7.1\n-Removing LSIDS, as it was interfering with performance.\n-5.7.0\n-Improved parameters\n-Hybrid branching strategies\n-and much more\n \n-Previous update: #27319 Cryptominisat 5.6.8\n+\n+Previous upgrade:\n+\n+- #27319: Upgrade to Cryptominisat 5.6.8 -- merged in Sage 8.9.beta2\n+\n``````\n",
    "created_at": "2020-08-21T17:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486774",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,21 +2,32 @@
 
 Release notes for the versions since 5.6.8 (current in Sage):
 
-5.8.0
-Massive new release! Many-many improvements:
+>
+> == 5.8.0 ==
+>
+> Massive new release! Many-many improvements:
+>
+>- Gauss-Jordan elimination is enabled by default
+>- Target Phases ("Stable Polarities") are used
+>- CCAnr SLS solver is enabled and is set to work by default
+>- Hybrid variable branching heuristics
+>- Many-many speed improvements
+>- Better DIMACS parsing to work for other systems
+>- Made to work with new ApproxMC and UniGen
+>
+> == 5.7.1 ==
+>
+>- Removing LSIDS, as it was interfering with performance.
+>
+> == 5.7.0 ==
+>
+>- Improved parameters
+>- Hybrid branching strategies
+>- and much more
 
-Gauss-Jordan elimination is enabled by default
-Target Phases ("Stable Polarities") are used
-CCAnr SLS solver is enabled and is set to work by default
-Hybrid variable branching heuristics
-Many-many speed improvements
-Better DIMACS parsing to work for other systems
-Made to work with new ApproxMC and UniGen
-5.7.1
-Removing LSIDS, as it was interfering with performance.
-5.7.0
-Improved parameters
-Hybrid branching strategies
-and much more
 
-Previous update: #27319 Cryptominisat 5.6.8
+
+Previous upgrade:
+
+- #27319: Upgrade to Cryptominisat 5.6.8 -- merged in Sage 8.9.beta2
+
``````




---

archive/issue_comments_486775.json:
```json
{
    "body": "<a id='comment:34'></a>\nThe extra verbosity needs fixing before wider testing. Help needed.",
    "created_at": "2020-08-21T17:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486775",
    "user": "https://github.com/slel"
}
```

<a id='comment:34'></a>
The extra verbosity needs fixing before wider testing. Help needed.



---

archive/issue_comments_486776.json:
```json
{
    "body": "**Changing upstream** from \"Fixed upstream, but not in a stable release.\" to \"Fixed upstream, in a later stable release.\".",
    "created_at": "2020-08-31T18:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486776",
    "user": "https://github.com/slel"
}
```

**Changing upstream** from "Fixed upstream, but not in a stable release." to "Fixed upstream, in a later stable release.".



---

archive/issue_comments_486777.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2020-08-31T18:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486777",
    "user": "https://github.com/slel"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_486778.json:
```json
{
    "body": "<a id='comment:35'></a>\nOr maybe it only happens on my machine?",
    "created_at": "2020-08-31T18:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486778",
    "user": "https://github.com/slel"
}
```

<a id='comment:35'></a>
Or maybe it only happens on my machine?



---

archive/issue_comments_486779.json:
```json
{
    "body": "<a id='comment:36'></a>\nI had a look some time ago, i also had such issues, so it is not only on your machine. If i understood correctly (to be checked), it is possible that the verbosity happens when a cryptominisat instance is run while another is still running, as if we got the log of the previous instance (?). You could inspect by adding some sleep between doctests, just to check.",
    "created_at": "2020-09-01T18:59:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486779",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:36'></a>
I had a look some time ago, i also had such issues, so it is not only on your machine. If i understood correctly (to be checked), it is possible that the verbosity happens when a cryptominisat instance is run while another is still running, as if we got the log of the previous instance (?). You could inspect by adding some sleep between doctests, just to check.



---

archive/issue_comments_486780.json:
```json
{
    "body": "<a id='comment:37'></a>\nSo, i expect the doctest to fail.",
    "created_at": "2020-09-01T18:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486780",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:37'></a>
So, i expect the doctest to fail.



---

archive/issue_comments_486781.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2020-09-01T18:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486781",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_events_072362.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72362"
}
```



---

archive/issue_events_072363.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72363"
}
```



---

archive/issue_comments_486782.json:
```json
{
    "body": "<a id='comment:39'></a>\nCurrently we build cryptominisat including its Python bindings (`pycryptosat`).\nThis is slightly problematic for the plan to separate non-Python packages (`SAGE_LOCAL`) from Python packages (`SAGE_VENV`), see #29013 (and #30534 for `pynac`).\n\nBut there is also https://pypi.org/project/pycryptosat/, which can be installed separately.  Its release history seems to be out of sync with cryptominisat.",
    "created_at": "2020-11-14T02:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486782",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
Currently we build cryptominisat including its Python bindings (`pycryptosat`).
This is slightly problematic for the plan to separate non-Python packages (`SAGE_LOCAL`) from Python packages (`SAGE_VENV`), see #29013 (and #30534 for `pynac`).

But there is also https://pypi.org/project/pycryptosat/, which can be installed separately.  Its release history seems to be out of sync with cryptominisat.



---

archive/issue_comments_486783.json:
```json
{
    "body": "<a id='comment:40'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486783",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_072364.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72364"
}
```



---

archive/issue_events_072365.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72365"
}
```



---

archive/issue_comments_486784.json:
```json
{
    "body": "<a id='comment:41'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486784",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_072366.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72366"
}
```



---

archive/issue_events_072367.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72367"
}
```



---

archive/issue_comments_486785.json:
```json
{
    "body": "<a id='comment:42'></a>\nI forgot the existence of this ticket and created #32545 to get a faster cryptominisat, here is a branch that fixes the issue: i removed the `s_verbosity=1` option of some doctest, since it produces noise to another unrelated doctest that appears later in the same file (which confirms [comment:36](#comment%3A36)).\n\nI could not test on Cygwin.",
    "created_at": "2021-09-22T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486785",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:42'></a>
I forgot the existence of this ticket and created #32545 to get a faster cryptominisat, here is a branch that fixes the issue: i removed the `s_verbosity=1` option of some doctest, since it produces noise to another unrelated doctest that appears later in the same file (which confirms [comment:36](#comment%3A36)).

I could not test on Cygwin.



---

archive/issue_comments_486786.json:
```json
{
    "body": "**Changing commit** from \"[5603e11e1a6bd62ef6f3e9a092de22a8433d05cc](https://github.com/sagemath/sagetrac-mirror/commit/5603e11e1a6bd62ef6f3e9a092de22a8433d05cc)\" to \"[824a597a1981db59ea27fbabc61948da719244cd](https://github.com/sagemath/sagetrac-mirror/commit/824a597a1981db59ea27fbabc61948da719244cd)\".",
    "created_at": "2021-09-22T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486786",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing commit** from "[5603e11e1a6bd62ef6f3e9a092de22a8433d05cc](https://github.com/sagemath/sagetrac-mirror/commit/5603e11e1a6bd62ef6f3e9a092de22a8433d05cc)" to "[824a597a1981db59ea27fbabc61948da719244cd](https://github.com/sagemath/sagetrac-mirror/commit/824a597a1981db59ea27fbabc61948da719244cd)".



---

archive/issue_comments_486787.json:
```json
{
    "body": "**Changing dependencies** from \"#25372\" to \"\".",
    "created_at": "2021-09-22T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486787",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing dependencies** from "#25372" to "".



---

archive/issue_comments_486788.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n This is to upgrade to CryptoMiniSat 5.8.0, released 2020-07-06.\n+\n+Tarball at: https://github.com/msoos/cryptominisat/archive/refs/tags/5.8.0.tar.gz\n \n Release notes for the versions since 5.6.8 (current in Sage):\n \n``````\n",
    "created_at": "2021-09-22T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486788",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 This is to upgrade to CryptoMiniSat 5.8.0, released 2020-07-06.
+
+Tarball at: https://github.com/msoos/cryptominisat/archive/refs/tags/5.8.0.tar.gz
 
 Release notes for the versions since 5.6.8 (current in Sage):
 
``````




---

archive/issue_comments_486789.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-09-22T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486789",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_486790.json:
```json
{
    "body": "**Changing branch** from \"[public/25374-cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/public/25374-cryptominisat-5.8.0)\" to \"[u/tmonteil/upgrade_cryptominisat_to_5_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_cryptominisat_to_5_8_0)\".",
    "created_at": "2021-09-22T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486790",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing branch** from "[public/25374-cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/public/25374-cryptominisat-5.8.0)" to "[u/tmonteil/upgrade_cryptominisat_to_5_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_cryptominisat_to_5_8_0)".



---

archive/issue_comments_486791.json:
```json
{
    "body": "**Changing author** from \"Erik Bray\" to \"Erik Bray, Thierry Monteil\".",
    "created_at": "2021-09-22T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486791",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing author** from "Erik Bray" to "Erik Bray, Thierry Monteil".



---

archive/issue_comments_486792.json:
```json
{
    "body": "<a id='comment:43'></a>\nIt would be good to address [comment:39](#comment%3A39)",
    "created_at": "2021-09-22T15:52:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486792",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
It would be good to address [comment:39](#comment%3A39)



---

archive/issue_comments_486793.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [mkoeppe](#comment%3A43):\n> It would be good to address [comment:39](#comment%3A39)\n\n\nI am not sure i understand the rationale in favor of such a move:\n\n- installing `pycryptosat` from `pypi` still requires that we ship `cryptominisat` binaries, so we just add one dependency without removing work on our side (worse, i guess we will have to ensure that the `pycryptosat` shipped by the author in the tarball is *not* installed)\n\n- relying on `pypi` + `pierrev` (the anonymous maintainer of `pycryptosat` in `pypi`) adds 2 intermediates, for which the web of trust is not very clear to me\n\n- if `pycryptosat` shipped by `pypi` stops being updated, then we are locked to update `cryptominisat`\n\nOr do you mean that we should make 2 spkg with different names (`cryptominisat` and `pycryptosat`) with the same upstream tarball, one with `sdh_make` and one with `sdh_pip_install` ?",
    "created_at": "2021-09-22T19:13:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486793",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:44'></a>
Replying to [mkoeppe](#comment%3A43):
> It would be good to address [comment:39](#comment%3A39)


I am not sure i understand the rationale in favor of such a move:

- installing `pycryptosat` from `pypi` still requires that we ship `cryptominisat` binaries, so we just add one dependency without removing work on our side (worse, i guess we will have to ensure that the `pycryptosat` shipped by the author in the tarball is *not* installed)

- relying on `pypi` + `pierrev` (the anonymous maintainer of `pycryptosat` in `pypi`) adds 2 intermediates, for which the web of trust is not very clear to me

- if `pycryptosat` shipped by `pypi` stops being updated, then we are locked to update `cryptominisat`

Or do you mean that we should make 2 spkg with different names (`cryptominisat` and `pycryptosat`) with the same upstream tarball, one with `sdh_make` and one with `sdh_pip_install` ?



---

archive/issue_comments_486794.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [tmonteil](#comment%3A44):\n> Or do you mean that we should make 2 spkg with different names (`cryptominisat` and `pycryptosat`) with the same upstream tarball, one with `sdh_make` and one with `sdh_pip_install` ?\n\n\nYes, this part at least would be a useful step, as the package will then work with the new separation of SAGE_LOCAL and SAGE_VENV (see for example #32442)",
    "created_at": "2021-09-22T19:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486794",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>
Replying to [tmonteil](#comment%3A44):
> Or do you mean that we should make 2 spkg with different names (`cryptominisat` and `pycryptosat`) with the same upstream tarball, one with `sdh_make` and one with `sdh_pip_install` ?


Yes, this part at least would be a useful step, as the package will then work with the new separation of SAGE_LOCAL and SAGE_VENV (see for example #32442)



---

archive/issue_comments_486795.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [tmonteil](#comment%3A44):\n> - relying on `pypi` + `pierrev` (the anonymous maintainer of `pycryptosat` in `pypi`) adds 2 intermediates, for which the web of trust is not very clear to me\n\n\nYes, this is an unfortunate situation, perhaps we should contact the maintainers of the packages to help clarify it...",
    "created_at": "2021-09-22T19:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486795",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>
Replying to [tmonteil](#comment%3A44):
> - relying on `pypi` + `pierrev` (the anonymous maintainer of `pycryptosat` in `pypi`) adds 2 intermediates, for which the web of trust is not very clear to me


Yes, this is an unfortunate situation, perhaps we should contact the maintainers of the packages to help clarify it...



---

archive/issue_comments_486796.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [mkoeppe](#comment%3A45):\n> Replying to [tmonteil](#comment%3A44):\n> > Or do you mean that we should make 2 spkg with different names (`cryptominisat` and `pycryptosat`) with the same upstream tarball, one with `sdh_make` and one with `sdh_pip_install` ?\n\n> \n> Yes, this part at least would be a useful step, as the package will then work with the new separation of SAGE_LOCAL and SAGE_VENV (see for example #32442)\n\n\nOK. It seems nontrivial since the `python/README.rst` in the tarball states:\n\n```\nThe pycryptosat python package compiles while compiling CryptoMiniSat. It\ncannotbe compiled on its own, it must be compiled at the same time as\nCryptoMiniSat.\n```\n\nSo, perhaps the way is to keep a single spkg, compile the whole, and then install the various stuff according to the respective variables SAGE_LOCAL and SAGE_VENV ?",
    "created_at": "2021-09-22T21:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486796",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:47'></a>
Replying to [mkoeppe](#comment%3A45):
> Replying to [tmonteil](#comment%3A44):
> > Or do you mean that we should make 2 spkg with different names (`cryptominisat` and `pycryptosat`) with the same upstream tarball, one with `sdh_make` and one with `sdh_pip_install` ?

> 
> Yes, this part at least would be a useful step, as the package will then work with the new separation of SAGE_LOCAL and SAGE_VENV (see for example #32442)


OK. It seems nontrivial since the `python/README.rst` in the tarball states:

```
The pycryptosat python package compiles while compiling CryptoMiniSat. It
cannotbe compiled on its own, it must be compiled at the same time as
CryptoMiniSat.
```

So, perhaps the way is to keep a single spkg, compile the whole, and then install the various stuff according to the respective variables SAGE_LOCAL and SAGE_VENV ?



---

archive/issue_comments_486797.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [tmonteil](#comment%3A47):\n> It seems nontrivial since the `python/README.rst` in the tarball states:\n> \n> ```\n> The pycryptosat python package compiles while compiling CryptoMiniSat. It\n> cannotbe compiled on its own, it must be compiled at the same time as\n> CryptoMiniSat.\n> ```\n> \n> So, perhaps the way is to keep a single spkg, compile the whole, and then install the various stuff according to the respective variables SAGE_LOCAL and SAGE_VENV ?\n\n\nThat wouldn't work so well because of the way how we keep installation records for packages.\n\nI think we should try to split it into two packages and just build, but not install, the library a second time.",
    "created_at": "2021-09-23T03:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486797",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>
Replying to [tmonteil](#comment%3A47):
> It seems nontrivial since the `python/README.rst` in the tarball states:
> 
> ```
> The pycryptosat python package compiles while compiling CryptoMiniSat. It
> cannotbe compiled on its own, it must be compiled at the same time as
> CryptoMiniSat.
> ```
> 
> So, perhaps the way is to keep a single spkg, compile the whole, and then install the various stuff according to the respective variables SAGE_LOCAL and SAGE_VENV ?


That wouldn't work so well because of the way how we keep installation records for packages.

I think we should try to split it into two packages and just build, but not install, the library a second time.



---

archive/issue_comments_486798.json:
```json
{
    "body": "<a id='comment:49'></a>\nThis fails for me on Cygwin. For details, see:\n\n- https://www.math.u-psud.fr/~lelievre/t/slel-25374.tar.gz",
    "created_at": "2021-09-23T14:03:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486798",
    "user": "https://github.com/slel"
}
```

<a id='comment:49'></a>
This fails for me on Cygwin. For details, see:

- https://www.math.u-psud.fr/~lelievre/t/slel-25374.tar.gz



---

archive/issue_comments_486799.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-10-01T03:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486799",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_486800.json:
```json
{
    "body": "<a id='comment:51'></a>\nIt seems pycryptosat might land on PyPI soon, see\n\n- https://github.com/msoos/cryptominisat/issues/663#issuecomment-949415672",
    "created_at": "2021-10-22T14:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486800",
    "user": "https://github.com/slel"
}
```

<a id='comment:51'></a>
It seems pycryptosat might land on PyPI soon, see

- https://github.com/msoos/cryptominisat/issues/663#issuecomment-949415672



---

archive/issue_comments_486801.json:
```json
{
    "body": "<a id='comment:52'></a>\nIn fact it has been there for a while:\n\n- https://pypi.org/project/pycryptosat/\n\nbut probably we are waiting on a new release?",
    "created_at": "2021-11-08T12:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486801",
    "user": "https://github.com/slel"
}
```

<a id='comment:52'></a>
In fact it has been there for a while:

- https://pypi.org/project/pycryptosat/

but probably we are waiting on a new release?



---

archive/issue_events_072368.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72368"
}
```



---

archive/issue_events_072369.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72369"
}
```



---

archive/issue_comments_486802.json:
```json
{
    "body": "<a id='comment:54'></a>\nSee also\n\n- #33162: Fix installation of cryptominisat and pycryptosat",
    "created_at": "2022-01-13T20:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486802",
    "user": "https://github.com/slel"
}
```

<a id='comment:54'></a>
See also

- #33162: Fix installation of cryptominisat and pycryptosat



---

archive/issue_events_072370.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "rename": {
        "from": "Upgrade cryptominisat to fix cryptominisat build on Cygwin",
        "to": "Upgrade cryptominisat, fix SAGE_LOCAL/SAGE_VENV install, fix cryptominisat build on Cygwin"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72370"
}
```



---

archive/issue_comments_486803.json:
```json
{
    "body": "**Work_Issues:** see #33162",
    "created_at": "2022-01-14T23:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486803",
    "user": "https://github.com/mkoeppe"
}
```

**Work_Issues:** see #33162



---

archive/issue_comments_486804.json:
```json
{
    "body": "**Dependencies:** #33162",
    "created_at": "2022-01-14T23:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486804",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #33162



---

archive/issue_comments_486805.json:
```json
{
    "body": "**Changing dependencies** from \"#33162\" to \"#33162, #33183\".",
    "created_at": "2022-01-15T17:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486805",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#33162" to "#33162, #33183".



---

archive/issue_comments_486806.json:
```json
{
    "body": "<a id='comment:58'></a>\nReplying to [mkoeppe](#comment%3A46):\n> Replying to [tmonteil](#comment%3A44):\n> > - relying on `pypi` + `pierrev` (the anonymous maintainer of `pycryptosat` in `pypi`) adds 2 intermediates, for which the web of trust is not very clear to me\n \n> \n> Yes, this is an unfortunate situation, perhaps we should contact the maintainers of the packages to help clarify it...\n\n\nPyPI now lists msoos as the maintainer.",
    "created_at": "2022-01-16T10:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486806",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:58'></a>
Replying to [mkoeppe](#comment%3A46):
> Replying to [tmonteil](#comment%3A44):
> > - relying on `pypi` + `pierrev` (the anonymous maintainer of `pycryptosat` in `pypi`) adds 2 intermediates, for which the web of trust is not very clear to me
 
> 
> Yes, this is an unfortunate situation, perhaps we should contact the maintainers of the packages to help clarify it...


PyPI now lists msoos as the maintainer.



---

archive/issue_comments_486807.json:
```json
{
    "body": "**Changing commit** from \"[824a597a1981db59ea27fbabc61948da719244cd](https://github.com/sagemath/sagetrac-mirror/commit/824a597a1981db59ea27fbabc61948da719244cd)\" to \"[ac42f690fb6427c2c66630116c06771089231180](https://github.com/sagemath/sagetrac-mirror/commit/ac42f690fb6427c2c66630116c06771089231180)\".",
    "created_at": "2022-01-16T13:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486807",
    "user": "https://github.com/dimpase"
}
```

**Changing commit** from "[824a597a1981db59ea27fbabc61948da719244cd](https://github.com/sagemath/sagetrac-mirror/commit/824a597a1981db59ea27fbabc61948da719244cd)" to "[ac42f690fb6427c2c66630116c06771089231180](https://github.com/sagemath/sagetrac-mirror/commit/ac42f690fb6427c2c66630116c06771089231180)".



---

archive/issue_comments_486808.json:
```json
{
    "body": "<a id='comment:59'></a>\nneeds testing on cygwin in partiular\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430\">cdd19b0</a></td><td><code>correctly install pycryptosat</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb\">e3d8e91</a></td><td><code>spin off installation of cryptominisat's Python</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c17897c6c3d63aead12cae4d0ecbc1361e718652\">c17897c</a></td><td><code>checksums as link, and added install-requires</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfcf33ae0fa25be10511322efc89cc6fa283553e\">cfcf33a</a></td><td><code>retag the tests: cryptominisat->pycryptosat</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37809fd73db63219262093826a3d7acd754c1072\">37809fd</a></td><td><code>#32545 : update cryptominisat version to 5.8.0.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c48c0dde65f8ef2f989b034ae43f08b22a14636a\">c48c0dd</a></td><td><code>remove verbosity of boolean polynomial doctest with side effects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce292c5ac8b59e3396d00929f755465a180e564a\">ce292c5</a></td><td><code>bump pycryptosat accordingly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac42f690fb6427c2c66630116c06771089231180\">ac42f69</a></td><td><code>make pycryptosat spkg version a link</code></td></tr></table>\n",
    "created_at": "2022-01-16T13:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486808",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:59'></a>
needs testing on cygwin in partiular

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430">cdd19b0</a></td><td><code>correctly install pycryptosat</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb">e3d8e91</a></td><td><code>spin off installation of cryptominisat's Python</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c17897c6c3d63aead12cae4d0ecbc1361e718652">c17897c</a></td><td><code>checksums as link, and added install-requires</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfcf33ae0fa25be10511322efc89cc6fa283553e">cfcf33a</a></td><td><code>retag the tests: cryptominisat->pycryptosat</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37809fd73db63219262093826a3d7acd754c1072">37809fd</a></td><td><code>#32545 : update cryptominisat version to 5.8.0.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c48c0dde65f8ef2f989b034ae43f08b22a14636a">c48c0dd</a></td><td><code>remove verbosity of boolean polynomial doctest with side effects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce292c5ac8b59e3396d00929f755465a180e564a">ce292c5</a></td><td><code>bump pycryptosat accordingly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac42f690fb6427c2c66630116c06771089231180">ac42f69</a></td><td><code>make pycryptosat spkg version a link</code></td></tr></table>




---

archive/issue_comments_486809.json:
```json
{
    "body": "**Changing branch** from \"[u/tmonteil/upgrade_cryptominisat_to_5_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_cryptominisat_to_5_8_0)\" to \"[u/dimpase/packages/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-5.8.0)\".",
    "created_at": "2022-01-16T13:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486809",
    "user": "https://github.com/dimpase"
}
```

**Changing branch** from "[u/tmonteil/upgrade_cryptominisat_to_5_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_cryptominisat_to_5_8_0)" to "[u/dimpase/packages/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-5.8.0)".



---

archive/issue_comments_486810.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-01-16T13:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486810",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_486811.json:
```json
{
    "body": "**Changing reviewer** from \"Julian R\u00fcth\" to \"Julian R\u00fcth, https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865\".",
    "created_at": "2022-01-16T13:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486811",
    "user": "https://github.com/dimpase"
}
```

**Changing reviewer** from "Julian Rüth" to "Julian Rüth, https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865".



---

archive/issue_comments_486812.json:
```json
{
    "body": "<a id='comment:60'></a>\nrunning tests on https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865",
    "created_at": "2022-01-16T13:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486812",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:60'></a>
running tests on https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865



---

archive/issue_comments_486813.json:
```json
{
    "body": "<a id='comment:61'></a>\nNote that you need to run the workflows `tox-optional` and `cygwin-standard` to test it...",
    "created_at": "2022-01-16T18:13:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486813",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:61'></a>
Note that you need to run the workflows `tox-optional` and `cygwin-standard` to test it...



---

archive/issue_comments_486814.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [dimpase](#comment%3A60):\n> running tests on https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865\n\n\nmany (all?) runs failed with \n\n```\n  [sagemath_doc_html-none]   make[3]: *** [Makefile:37: doc-inventory-reference] Error 2\n  [sagemath_doc_html-none]   make[3]: Target 'doc-html' not remade because of errors.\n```\n(I cancelled after all docker ubuntu/debian runs failed)",
    "created_at": "2022-01-17T09:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486814",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:62'></a>
Replying to [dimpase](#comment%3A60):
> running tests on https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865


many (all?) runs failed with 

```
  [sagemath_doc_html-none]   make[3]: *** [Makefile:37: doc-inventory-reference] Error 2
  [sagemath_doc_html-none]   make[3]: Target 'doc-html' not remade because of errors.
```
(I cancelled after all docker ubuntu/debian runs failed)



---

archive/issue_comments_486815.json:
```json
{
    "body": "<a id='comment:63'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0c9f5c11ebeed42fac51035de0e27e435c1e8ce\">c0c9f5c</a></td><td><code>add $(PYTHON_TOOLCHAIN) dependency</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbe186ab1af262b743ab873b6ed3f120679cccae\">dbe186a</a></td><td><code>#32545 : update cryptominisat version to 5.8.0.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a4ebf297468404e73a8d6cc593b589ba19c9e19\">0a4ebf2</a></td><td><code>remove verbosity of boolean polynomial doctest with side effects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/507943777d68d445a2dd408bbdee8e0814114ca5\">5079437</a></td><td><code>bump pycryptosat accordingly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33abc1efbeeff8916ec800274884e28347b0ec36\">33abc1e</a></td><td><code>make pycryptosat spkg version a link</code></td></tr></table>\n",
    "created_at": "2022-01-17T19:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486815",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0c9f5c11ebeed42fac51035de0e27e435c1e8ce">c0c9f5c</a></td><td><code>add $(PYTHON_TOOLCHAIN) dependency</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbe186ab1af262b743ab873b6ed3f120679cccae">dbe186a</a></td><td><code>#32545 : update cryptominisat version to 5.8.0.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a4ebf297468404e73a8d6cc593b589ba19c9e19">0a4ebf2</a></td><td><code>remove verbosity of boolean polynomial doctest with side effects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/507943777d68d445a2dd408bbdee8e0814114ca5">5079437</a></td><td><code>bump pycryptosat accordingly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33abc1efbeeff8916ec800274884e28347b0ec36">33abc1e</a></td><td><code>make pycryptosat spkg version a link</code></td></tr></table>




---

archive/issue_comments_486816.json:
```json
{
    "body": "**Changing commit** from \"[ac42f690fb6427c2c66630116c06771089231180](https://github.com/sagemath/sagetrac-mirror/commit/ac42f690fb6427c2c66630116c06771089231180)\" to \"[33abc1efbeeff8916ec800274884e28347b0ec36](https://github.com/sagemath/sagetrac-mirror/commit/33abc1efbeeff8916ec800274884e28347b0ec36)\".",
    "created_at": "2022-01-17T19:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486816",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ac42f690fb6427c2c66630116c06771089231180](https://github.com/sagemath/sagetrac-mirror/commit/ac42f690fb6427c2c66630116c06771089231180)" to "[33abc1efbeeff8916ec800274884e28347b0ec36](https://github.com/sagemath/sagetrac-mirror/commit/33abc1efbeeff8916ec800274884e28347b0ec36)".



---

archive/issue_comments_486817.json:
```json
{
    "body": "<a id='comment:64'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d4bf116c70c7acefc4133b8ea1dee35bf449291\">6d4bf11</a></td><td><code>add $(PYTHON_TOOLCHAIN) dependency</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b62135949f5a58c3553dcbc3d3e607ce821cc528\">b621359</a></td><td><code>#32545 : update cryptominisat version to 5.8.0.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85ed799391c6d489fb083df020d59f072ab41612\">85ed799</a></td><td><code>remove verbosity of boolean polynomial doctest with side effects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7258790cd50b778e035f941c063f54e3d2b5af24\">7258790</a></td><td><code>bump pycryptosat accordingly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d5d58f721bc241771775a8ed6111d336913b0d4\">7d5d58f</a></td><td><code>make pycryptosat spkg version a link</code></td></tr></table>\n",
    "created_at": "2022-01-17T19:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486817",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d4bf116c70c7acefc4133b8ea1dee35bf449291">6d4bf11</a></td><td><code>add $(PYTHON_TOOLCHAIN) dependency</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b62135949f5a58c3553dcbc3d3e607ce821cc528">b621359</a></td><td><code>#32545 : update cryptominisat version to 5.8.0.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85ed799391c6d489fb083df020d59f072ab41612">85ed799</a></td><td><code>remove verbosity of boolean polynomial doctest with side effects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7258790cd50b778e035f941c063f54e3d2b5af24">7258790</a></td><td><code>bump pycryptosat accordingly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d5d58f721bc241771775a8ed6111d336913b0d4">7d5d58f</a></td><td><code>make pycryptosat spkg version a link</code></td></tr></table>




---

archive/issue_comments_486818.json:
```json
{
    "body": "**Changing commit** from \"[33abc1efbeeff8916ec800274884e28347b0ec36](https://github.com/sagemath/sagetrac-mirror/commit/33abc1efbeeff8916ec800274884e28347b0ec36)\" to \"[7d5d58f721bc241771775a8ed6111d336913b0d4](https://github.com/sagemath/sagetrac-mirror/commit/7d5d58f721bc241771775a8ed6111d336913b0d4)\".",
    "created_at": "2022-01-17T19:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[33abc1efbeeff8916ec800274884e28347b0ec36](https://github.com/sagemath/sagetrac-mirror/commit/33abc1efbeeff8916ec800274884e28347b0ec36)" to "[7d5d58f721bc241771775a8ed6111d336913b0d4](https://github.com/sagemath/sagetrac-mirror/commit/7d5d58f721bc241771775a8ed6111d336913b0d4)".



---

archive/issue_events_072371.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "rename": {
        "from": "Upgrade cryptominisat, fix SAGE_LOCAL/SAGE_VENV install, fix cryptominisat build on Cygwin",
        "to": "Upgrade cryptominisat to 5.8.0, fix build on Cygwin"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72371"
}
```



---

archive/issue_comments_486819.json:
```json
{
    "body": "<a id='comment:66'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea82e77c3524e54608017bfeaa0e45ee472d9b5e\">ea82e77</a></td><td><code>spin off installation of cryptominisat's Python</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be0b019f6c26f67544cd0bfcd0b52575db84dab6\">be0b019</a></td><td><code>checksums as link, and added install-requires</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f834119e76e2fda7e9346c6755d91278e51e0d9a\">f834119</a></td><td><code>retag the tests: cryptominisat->pycryptosat</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7bc1ad6e11e5d3b5eeb7c6b7332b78fafbb72f2\">a7bc1ad</a></td><td><code>add $(PYTHON_TOOLCHAIN) dependency</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e65de871ee67f2aa96b3931b7fa94971247c5d46\">e65de87</a></td><td><code>revert curl change that sneaked in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76463a861f3f643fb68dc4f9eeb606c2d49db607\">76463a8</a></td><td><code>correct SPKG.txt syntax</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f16d57ab699c920ee381e77f04db8d061a60878a\">f16d57a</a></td><td><code>#32545 : update cryptominisat version to 5.8.0.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aabd481cec93f46068d137d76dc844c541acbb35\">aabd481</a></td><td><code>remove verbosity of boolean polynomial doctest with side effects</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17f9c5926f850a0926a3757ec1e4d017c1b9cd3b\">17f9c59</a></td><td><code>bump pycryptosat accordingly</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca6d12331ea5fb93c55313314548d138b26d67a0\">ca6d123</a></td><td><code>make pycryptosat spkg version a link</code></td></tr></table>\n",
    "created_at": "2022-01-22T22:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea82e77c3524e54608017bfeaa0e45ee472d9b5e">ea82e77</a></td><td><code>spin off installation of cryptominisat's Python</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be0b019f6c26f67544cd0bfcd0b52575db84dab6">be0b019</a></td><td><code>checksums as link, and added install-requires</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f834119e76e2fda7e9346c6755d91278e51e0d9a">f834119</a></td><td><code>retag the tests: cryptominisat->pycryptosat</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7bc1ad6e11e5d3b5eeb7c6b7332b78fafbb72f2">a7bc1ad</a></td><td><code>add $(PYTHON_TOOLCHAIN) dependency</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e65de871ee67f2aa96b3931b7fa94971247c5d46">e65de87</a></td><td><code>revert curl change that sneaked in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76463a861f3f643fb68dc4f9eeb606c2d49db607">76463a8</a></td><td><code>correct SPKG.txt syntax</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f16d57ab699c920ee381e77f04db8d061a60878a">f16d57a</a></td><td><code>#32545 : update cryptominisat version to 5.8.0.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aabd481cec93f46068d137d76dc844c541acbb35">aabd481</a></td><td><code>remove verbosity of boolean polynomial doctest with side effects</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17f9c5926f850a0926a3757ec1e4d017c1b9cd3b">17f9c59</a></td><td><code>bump pycryptosat accordingly</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca6d12331ea5fb93c55313314548d138b26d67a0">ca6d123</a></td><td><code>make pycryptosat spkg version a link</code></td></tr></table>




---

archive/issue_comments_486820.json:
```json
{
    "body": "**Changing commit** from \"[7d5d58f721bc241771775a8ed6111d336913b0d4](https://github.com/sagemath/sagetrac-mirror/commit/7d5d58f721bc241771775a8ed6111d336913b0d4)\" to \"[ca6d12331ea5fb93c55313314548d138b26d67a0](https://github.com/sagemath/sagetrac-mirror/commit/ca6d12331ea5fb93c55313314548d138b26d67a0)\".",
    "created_at": "2022-01-22T22:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7d5d58f721bc241771775a8ed6111d336913b0d4](https://github.com/sagemath/sagetrac-mirror/commit/7d5d58f721bc241771775a8ed6111d336913b0d4)" to "[ca6d12331ea5fb93c55313314548d138b26d67a0](https://github.com/sagemath/sagetrac-mirror/commit/ca6d12331ea5fb93c55313314548d138b26d67a0)".



---

archive/issue_events_072372.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72372"
}
```



---

archive/issue_events_072373.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72373"
}
```



---

archive/issue_comments_486821.json:
```json
{
    "body": "<a id='comment:68'></a>\nIs there something missing to get this ticket approved ?",
    "created_at": "2022-06-17T21:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486821",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:68'></a>
Is there something missing to get this ticket approved ?



---

archive/issue_comments_486822.json:
```json
{
    "body": "<a id='comment:69'></a>\nIt needs to be tested on Cygwin",
    "created_at": "2022-06-17T21:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486822",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:69'></a>
It needs to be tested on Cygwin



---

archive/issue_comments_486823.json:
```json
{
    "body": "<a id='comment:70'></a>\nReplying to [mkoeppe](#comment%3A69):\n> It needs to be tested on Cygwin\n\n\nIsn't it unmaintained ?",
    "created_at": "2022-06-17T22:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486823",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:70'></a>
Replying to [mkoeppe](#comment%3A69):
> It needs to be tested on Cygwin


Isn't it unmaintained ?



---

archive/issue_comments_486824.json:
```json
{
    "body": "<a id='comment:71'></a>\nFine with me to just declare that this optional package is not supported on Cygwin.\nBut the ticket title promises something about Cygwin, so at least that should be changed.",
    "created_at": "2022-06-17T22:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486824",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:71'></a>
Fine with me to just declare that this optional package is not supported on Cygwin.
But the ticket title promises something about Cygwin, so at least that should be changed.



---

archive/issue_comments_486825.json:
```json
{
    "body": "<a id='comment:72'></a>\nReplying to [mkoeppe](#comment%3A69):\n> It needs to be tested on Cygwin\n\n\nCan it be tested with GH Actions?",
    "created_at": "2022-06-18T07:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486825",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:72'></a>
Replying to [mkoeppe](#comment%3A69):
> It needs to be tested on Cygwin


Can it be tested with GH Actions?



---

archive/issue_comments_486826.json:
```json
{
    "body": "<a id='comment:73'></a>\nI can try to setup a Cygwin build and test on Monday when I get to my office since my computer there has Windows 11.",
    "created_at": "2022-06-18T09:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486826",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:73'></a>
I can try to setup a Cygwin build and test on Monday when I get to my office since my computer there has Windows 11.



---

archive/attachments_021067.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "cryptominisat-5.8.0.log",
    "asset_url": "tarball://root/attachments/some-uuid/ticket25374/cryptominisat-5.8.0.log",
    "created_at": "2022-06-22T04:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.log",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_486827.json:
```json
{
    "body": "",
    "created_at": "2022-06-22T04:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486827",
    "user": "https://github.com/tscrim"
}
```





---

archive/issue_comments_486828.json:
```json
{
    "body": "<a id='comment:74'></a>\nI was not able to build it following the installation instructions for Cygwin, building Sage from source, and running `sage -i cryptominisat`. I have attached the log. Let me know what other data you might need.",
    "created_at": "2022-06-22T04:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486828",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:74'></a>
I was not able to build it following the installation instructions for Cygwin, building Sage from source, and running `sage -i cryptominisat`. I have attached the log. Let me know what other data you might need.



---

archive/issue_comments_486829.json:
```json
{
    "body": "<a id='comment:75'></a>\nWhat version of cmake was used?",
    "created_at": "2022-06-22T04:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486829",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:75'></a>
What version of cmake was used?



---

archive/issue_comments_486830.json:
```json
{
    "body": "<a id='comment:76'></a>\nReplying to [fbissey](#comment%3A75):\n> What version of cmake was used?\n\n\n\n```\ntscri@DESKTOP-I0BK7J0 ~/sage\n$ cmake --version\ncmake version 3.20.0\n\nCMake suite maintained and supported by Kitware (kitware.com/cmake).\n```",
    "created_at": "2022-06-22T04:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486830",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:76'></a>
Replying to [fbissey](#comment%3A75):
> What version of cmake was used?



```
tscri@DESKTOP-I0BK7J0 ~/sage
$ cmake --version
cmake version 3.20.0

CMake suite maintained and supported by Kitware (kitware.com/cmake).
```



---

archive/issue_comments_486831.json:
```json
{
    "body": "<a id='comment:77'></a>\nCan you attach those two as well\n\n```\nSee also \"/home/tscri/sage/local/var/tmp/sage/build/cryptominisat-5.8.0/src/CMakeFiles/CMakeOutput.log\".\nSee also \"/home/tscri/sage/local/var/tmp/sage/build/cryptominisat-5.8.0/src/CMakeFiles/CMakeError.log\".\n```\nI suspect a variable is empty when it shouldn't. It may just be a matter of an extra option, but it could be a windows special.\n\nThis is where cmake says it fails\n\n```\nstring(REPLACE \"\\n\" \" \" PY_LINKFORSHARED_CONFIG ${PY_LINKFORSHARED_CONFIG})\n```\nIf shared linking doesn't make sense on cygwin, it is not looking good.",
    "created_at": "2022-06-22T05:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486831",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:77'></a>
Can you attach those two as well

```
See also "/home/tscri/sage/local/var/tmp/sage/build/cryptominisat-5.8.0/src/CMakeFiles/CMakeOutput.log".
See also "/home/tscri/sage/local/var/tmp/sage/build/cryptominisat-5.8.0/src/CMakeFiles/CMakeError.log".
```
I suspect a variable is empty when it shouldn't. It may just be a matter of an extra option, but it could be a windows special.

This is where cmake says it fails

```
string(REPLACE "\n" " " PY_LINKFORSHARED_CONFIG ${PY_LINKFORSHARED_CONFIG})
```
If shared linking doesn't make sense on cygwin, it is not looking good.



---

archive/attachments_021068.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "CMakeError.log",
    "asset_url": "tarball://root/attachments/some-uuid/ticket25374/CMakeError.log",
    "created_at": "2022-06-22T05:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.log",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_486832.json:
```json
{
    "body": "",
    "created_at": "2022-06-22T05:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486832",
    "user": "https://github.com/tscrim"
}
```





---

archive/attachments_021069.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "CMakeOutput.log",
    "asset_url": "tarball://root/attachments/some-uuid/ticket25374/CMakeOutput.log",
    "created_at": "2022-06-22T05:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.log",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_486833.json:
```json
{
    "body": "",
    "created_at": "2022-06-22T05:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486833",
    "user": "https://github.com/tscrim"
}
```





---

archive/issue_comments_486834.json:
```json
{
    "body": "<a id='comment:78'></a>\nDone.",
    "created_at": "2022-06-22T05:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486834",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:78'></a>
Done.



---

archive/issue_comments_486835.json:
```json
{
    "body": "<a id='comment:79'></a>\nThanks. I always forgot how those two files are usually useless. I don't think we can easily build the python interface on cygwin. Mostly because to build the python module it wants dynamic flags - on linux for example\n\n```\n-- Found python interpreter, libs and header files\n-- Building python interface\n-- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG'\n-- Python LDFLAGS: '-ldl  -lm'\n-- Python LINKFORSHARED flags: '-Xlinker -export-dynamic'\n-- Python module installation prefix: --prefix=/usr\n```\nIf we can hand feed an appropriate `-DPY_LINKFORSHARED_CONFIG=...` to cmake on cygwin, we may be able to get something. The other option is to turn off python support on the platform :(\n\nAnyone wanting to test flags can do so by running\n\n```\nEXTRA_OPTS=\"-DPY_LINKFORSHARED_CONFIG='$my_flags'\" ./sage -i cryptominisat\n```\ncourtesy of the cmake configure line in `spkg-install.in`\n\n```\nsdh_cmake -DUSE_GAUSS='ON' $EXTRA_OPTS\n```",
    "created_at": "2022-06-22T08:33:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486835",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:79'></a>
Thanks. I always forgot how those two files are usually useless. I don't think we can easily build the python interface on cygwin. Mostly because to build the python module it wants dynamic flags - on linux for example

```
-- Found python interpreter, libs and header files
-- Building python interface
-- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG'
-- Python LDFLAGS: '-ldl  -lm'
-- Python LINKFORSHARED flags: '-Xlinker -export-dynamic'
-- Python module installation prefix: --prefix=/usr
```
If we can hand feed an appropriate `-DPY_LINKFORSHARED_CONFIG=...` to cmake on cygwin, we may be able to get something. The other option is to turn off python support on the platform :(

Anyone wanting to test flags can do so by running

```
EXTRA_OPTS="-DPY_LINKFORSHARED_CONFIG='$my_flags'" ./sage -i cryptominisat
```
courtesy of the cmake configure line in `spkg-install.in`

```
sdh_cmake -DUSE_GAUSS='ON' $EXTRA_OPTS
```



---

archive/issue_comments_486836.json:
```json
{
    "body": "<a id='comment:80'></a>\nReplying to [fbissey](#comment%3A79):\n> Anyone wanting to test flags can do so by running\n> \n> ```\n> EXTRA_OPTS=\"-DPY_LINKFORSHARED_CONFIG='$my_flags'\" ./sage -i cryptominisat\n> ```\n\n\nI ran this and it also did not work for me. Maybe the key bit in the log is this:\n\n```\n[cryptominisat-5.8.0] -- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall'\n[cryptominisat-5.8.0] -- Python LDFLAGS: '-lcrypt -lintl -ldl'\n[cryptominisat-5.8.0] -- Python LINKFORSHARED flags: ''\n```\nI can post updated logs if desired, but I don't think much has changed...",
    "created_at": "2022-06-22T23:51:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486836",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:80'></a>
Replying to [fbissey](#comment%3A79):
> Anyone wanting to test flags can do so by running
> 
> ```
> EXTRA_OPTS="-DPY_LINKFORSHARED_CONFIG='$my_flags'" ./sage -i cryptominisat
> ```


I ran this and it also did not work for me. Maybe the key bit in the log is this:

```
[cryptominisat-5.8.0] -- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall'
[cryptominisat-5.8.0] -- Python LDFLAGS: '-lcrypt -lintl -ldl'
[cryptominisat-5.8.0] -- Python LINKFORSHARED flags: ''
```
I can post updated logs if desired, but I don't think much has changed...



---

archive/issue_comments_486837.json:
```json
{
    "body": "<a id='comment:81'></a>\nWell you were supposed to replace `$my_flags` by what you think should be there if you have a clue. And yes the key bit is\n\n```\n[cryptominisat-5.8.0] -- Python LINKFORSHARED flags: ''\n```\nthe cmake script cannot handle an empty string here.",
    "created_at": "2022-06-22T23:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486837",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:81'></a>
Well you were supposed to replace `$my_flags` by what you think should be there if you have a clue. And yes the key bit is

```
[cryptominisat-5.8.0] -- Python LINKFORSHARED flags: ''
```
the cmake script cannot handle an empty string here.



---

archive/issue_comments_486838.json:
```json
{
    "body": "<a id='comment:82'></a>\nThat is what I was thinking, but I have no idea what to actually put there as I am ignorant/dumb wrt most of the build stuff. I also tried with what was in your post, but it didn't like the `-export-dynamic`. Trying it with `-Xlinker` also results in\n\n```\n[cryptominisat-5.8.0] -- Python LINKFORSHARED flags: ''\n```",
    "created_at": "2022-06-23T00:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486838",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:82'></a>
That is what I was thinking, but I have no idea what to actually put there as I am ignorant/dumb wrt most of the build stuff. I also tried with what was in your post, but it didn't like the `-export-dynamic`. Trying it with `-Xlinker` also results in

```
[cryptominisat-5.8.0] -- Python LINKFORSHARED flags: ''
```



---

archive/issue_comments_486839.json:
```json
{
    "body": "<a id='comment:83'></a>\nI thought you could override the autodetection by providing it but may be you cannot. I'd have to run it interactively with `ccmake` to see what is possible.",
    "created_at": "2022-06-23T00:20:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486839",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:83'></a>
I thought you could override the autodetection by providing it but may be you cannot. I'd have to run it interactively with `ccmake` to see what is possible.



---

archive/issue_comments_486840.json:
```json
{
    "body": "<a id='comment:84'></a>\nOK, no possible override, it is not visible from the interface. Disabling python on cygwin is the only we'll build this out of the box.",
    "created_at": "2022-06-23T00:24:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486840",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:84'></a>
OK, no possible override, it is not visible from the interface. Disabling python on cygwin is the only we'll build this out of the box.



---

archive/issue_comments_486841.json:
```json
{
    "body": "<a id='comment:85'></a>\nIs the python build used on cygwin only static? Or is there a dynamic library somewhere?",
    "created_at": "2022-06-23T00:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486841",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:85'></a>
Is the python build used on cygwin only static? Or is there a dynamic library somewhere?



---

archive/issue_comments_486842.json:
```json
{
    "body": "<a id='comment:86'></a>\nReplying to [fbissey](#comment%3A85):\n> Is the python build used on cygwin only static? Or is there a dynamic library somewhere?\n\n\nI have no idea. How can I check this?",
    "created_at": "2022-06-23T00:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486842",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:86'></a>
Replying to [fbissey](#comment%3A85):
> Is the python build used on cygwin only static? Or is there a dynamic library somewhere?


I have no idea. How can I check this?



---

archive/issue_comments_486843.json:
```json
{
    "body": "<a id='comment:87'></a>\nI don't know, I am not a windows person at all. I don't know how cygwin works. I am inspecting the source to figure out whether this particular is ever used. It may be possible to just edit it out.",
    "created_at": "2022-06-23T00:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486843",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:87'></a>
I don't know, I am not a windows person at all. I don't know how cygwin works. I am inspecting the source to figure out whether this particular is ever used. It may be possible to just edit it out.



---

archive/issue_comments_486844.json:
```json
{
    "body": "<a id='comment:88'></a>\nIt seems like it is dynamic:\n\n```\ntscri@DESKTOP-I0BK7J0 ~/sage\n$ ./sage -sh\n\nStarting subshell with Sage environment variables set.  Don't forget\nto exit when you are done.  Beware:\n * Do not do anything with other copies of Sage on your system.\n * Do not use this for installing Sage packages using \"sage -i\" or for\n   running \"make\" at Sage's root directory.  These should be done\n   outside the Sage shell.\n\nBypassing shell configuration files...\n\nNote: SAGE_ROOT=/home/tscri/sage\n\n(sage-sh) tscri@DESKTOP-I0BK7J0:sage$ which python\n/home/tscri/sage/local/var/lib/sage/venv-python3.9/bin/python\n\n(sage-sh) tscri@DESKTOP-I0BK7J0:sage$ exit\nExited Sage subshell.\n\ntscri@DESKTOP-I0BK7J0 ~/sage\n$ ls -al /home/tscri/sage/local/var/lib/sage/venv-python3.9/bin/python\n-rwxr-xr-x 1 tscri tscri 9747 Jun 22 11:05 /home/tscri/sage/local/var/lib/sage/venv-python3.9/bin/python\n\ntscri@DESKTOP-I0BK7J0 ~/sage\n$ ldd local/var/lib/sage/venv-python3.9/bin/python\n        ntdll.dll => /cygdrive/c/Windows/SYSTEM32/ntdll.dll (0x7ffd1ac00000)\n        KERNEL32.DLL => /cygdrive/c/Windows/System32/KERNEL32.DLL (0x7ffd1a0d0000)\n        KERNELBASE.dll => /cygdrive/c/Windows/System32/KERNELBASE.dll (0x7ffd180e0000)\n        cygwin1.dll => /usr/bin/cygwin1.dll (0x180040000)\n        libpython3.9.dll => /usr/bin/libpython3.9.dll (0x3fcb60000)\n        cygintl-8.dll => /usr/bin/cygintl-8.dll (0x3fe870000)\n        cyggcc_s-seh-1.dll => /usr/bin/cyggcc_s-seh-1.dll (0x3ff490000)\n        cygiconv-2.dll => /usr/bin/cygiconv-2.dll (0x3fe900000)\n```\nHere is also the Cygwin Python's install, which seems to be different:\n\n```\n\ntscri@DESKTOP-I0BK7J0 ~/sage\n$ python\nPython 3.9.10 (main, Jan 20 2022, 21:37:52)\n[GCC 11.2.0] on cygwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>>\n\ntscri@DESKTOP-I0BK7J0 ~/sage\n$ which python\n/usr/bin/python\n\ntscri@DESKTOP-I0BK7J0 ~/sage\n$ ldd /usr/bin/python\n        ntdll.dll => /cygdrive/c/Windows/SYSTEM32/ntdll.dll (0x7ffd1ac00000)\n        KERNEL32.DLL => /cygdrive/c/Windows/System32/KERNEL32.DLL (0x7ffd1a0d0000)\n        KERNELBASE.dll => /cygdrive/c/Windows/System32/KERNELBASE.dll (0x7ffd180e0000)\n        cygwin1.dll => /usr/bin/cygwin1.dll (0x180040000)\n        libpython3.9.dll => /usr/bin/libpython3.9.dll (0x3fcb60000)\n        cygintl-8.dll => /usr/bin/cygintl-8.dll (0x3fe870000)\n        cyggcc_s-seh-1.dll => /usr/bin/cyggcc_s-seh-1.dll (0x3ff490000)\n        cygiconv-2.dll => /usr/bin/cygiconv-2.dll (0x3fe900000)\n```",
    "created_at": "2022-06-23T00:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486844",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:88'></a>
It seems like it is dynamic:

```
tscri@DESKTOP-I0BK7J0 ~/sage
$ ./sage -sh

Starting subshell with Sage environment variables set.  Don't forget
to exit when you are done.  Beware:
 * Do not do anything with other copies of Sage on your system.
 * Do not use this for installing Sage packages using "sage -i" or for
   running "make" at Sage's root directory.  These should be done
   outside the Sage shell.

Bypassing shell configuration files...

Note: SAGE_ROOT=/home/tscri/sage

(sage-sh) tscri@DESKTOP-I0BK7J0:sage$ which python
/home/tscri/sage/local/var/lib/sage/venv-python3.9/bin/python

(sage-sh) tscri@DESKTOP-I0BK7J0:sage$ exit
Exited Sage subshell.

tscri@DESKTOP-I0BK7J0 ~/sage
$ ls -al /home/tscri/sage/local/var/lib/sage/venv-python3.9/bin/python
-rwxr-xr-x 1 tscri tscri 9747 Jun 22 11:05 /home/tscri/sage/local/var/lib/sage/venv-python3.9/bin/python

tscri@DESKTOP-I0BK7J0 ~/sage
$ ldd local/var/lib/sage/venv-python3.9/bin/python
        ntdll.dll => /cygdrive/c/Windows/SYSTEM32/ntdll.dll (0x7ffd1ac00000)
        KERNEL32.DLL => /cygdrive/c/Windows/System32/KERNEL32.DLL (0x7ffd1a0d0000)
        KERNELBASE.dll => /cygdrive/c/Windows/System32/KERNELBASE.dll (0x7ffd180e0000)
        cygwin1.dll => /usr/bin/cygwin1.dll (0x180040000)
        libpython3.9.dll => /usr/bin/libpython3.9.dll (0x3fcb60000)
        cygintl-8.dll => /usr/bin/cygintl-8.dll (0x3fe870000)
        cyggcc_s-seh-1.dll => /usr/bin/cyggcc_s-seh-1.dll (0x3ff490000)
        cygiconv-2.dll => /usr/bin/cygiconv-2.dll (0x3fe900000)
```
Here is also the Cygwin Python's install, which seems to be different:

```

tscri@DESKTOP-I0BK7J0 ~/sage
$ python
Python 3.9.10 (main, Jan 20 2022, 21:37:52)
[GCC 11.2.0] on cygwin
Type "help", "copyright", "credits" or "license" for more information.
>>>

tscri@DESKTOP-I0BK7J0 ~/sage
$ which python
/usr/bin/python

tscri@DESKTOP-I0BK7J0 ~/sage
$ ldd /usr/bin/python
        ntdll.dll => /cygdrive/c/Windows/SYSTEM32/ntdll.dll (0x7ffd1ac00000)
        KERNEL32.DLL => /cygdrive/c/Windows/System32/KERNEL32.DLL (0x7ffd1a0d0000)
        KERNELBASE.dll => /cygdrive/c/Windows/System32/KERNELBASE.dll (0x7ffd180e0000)
        cygwin1.dll => /usr/bin/cygwin1.dll (0x180040000)
        libpython3.9.dll => /usr/bin/libpython3.9.dll (0x3fcb60000)
        cygintl-8.dll => /usr/bin/cygintl-8.dll (0x3fe870000)
        cyggcc_s-seh-1.dll => /usr/bin/cyggcc_s-seh-1.dll (0x3ff490000)
        cygiconv-2.dll => /usr/bin/cygiconv-2.dll (0x3fe900000)
```



---

archive/issue_comments_486845.json:
```json
{
    "body": "<a id='comment:89'></a>\nGood, to know. The bits that are blocking cmake are not actually doing anything in practise. So we can edit them out. Are you OK with trying a patch?",
    "created_at": "2022-06-23T00:49:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486845",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:89'></a>
Good, to know. The bits that are blocking cmake are not actually doing anything in practise. So we can edit them out. Are you OK with trying a patch?



---

archive/issue_comments_486846.json:
```json
{
    "body": "<a id='comment:90'></a>\nReplying to [fbissey](#comment%3A89):\n> Good, to know. The bits that are blocking cmake are not actually doing anything in practise. So we can edit them out. Are you OK with trying a patch?\n\n\nYep, just tell me what to do.",
    "created_at": "2022-06-23T00:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486846",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:90'></a>
Replying to [fbissey](#comment%3A89):
> Good, to know. The bits that are blocking cmake are not actually doing anything in practise. So we can edit them out. Are you OK with trying a patch?


Yep, just tell me what to do.



---

archive/attachments_021070.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "cryptominisat-5.8.0-rm_extra_python_vars.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket25374/cryptominisat-5.8.0-rm_extra_python_vars.patch",
    "created_at": "2022-06-23T00:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kiwifb"
}
```



---

archive/issue_comments_486847.json:
```json
{
    "body": "experimental patch for cryptominisat on cygwin",
    "created_at": "2022-06-23T00:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486847",
    "user": "https://github.com/kiwifb"
}
```

experimental patch for cryptominisat on cygwin



---

archive/issue_comments_486848.json:
```json
{
    "body": "<a id='comment:91'></a>\nOK, I have just attached a patch to the ticket. From the sage root create the folder `build/pkgs/cryptominisat/patches/` and copy the patch in that folder.\n\nOnce done you can proceed with the normal `./sage -i cryptominisat`.",
    "created_at": "2022-06-23T00:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486848",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:91'></a>
OK, I have just attached a patch to the ticket. From the sage root create the folder `build/pkgs/cryptominisat/patches/` and copy the patch in that folder.

Once done you can proceed with the normal `./sage -i cryptominisat`.



---

archive/issue_comments_486849.json:
```json
{
    "body": "<a id='comment:92'></a>\nWith the patch, it built successfully.",
    "created_at": "2022-06-23T01:00:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486849",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:92'></a>
With the patch, it built successfully.



---

archive/issue_comments_486850.json:
```json
{
    "body": "<a id='comment:93'></a>\nGreat, I believe the patch is platform neutral because it only remove parts that are functionally dead. I will update the branch and once we had some retest on other platform we can get this in.",
    "created_at": "2022-06-23T01:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486850",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:93'></a>
Great, I believe the patch is platform neutral because it only remove parts that are functionally dead. I will update the branch and once we had some retest on other platform we can get this in.



---

archive/issue_comments_486851.json:
```json
{
    "body": "<a id='comment:94'></a>\nNow are tests in `src/sage/sat/solvers/cryptominisat.py` expected to pass? They are marked by `pycryptosat`, and when I run\n\n```\n$ ./sage -tp --optional=sage,pycryptosat src/sage/sat/solvers/cryptominisat.py\n```\nI get lots of failures coming down to this:\n\n```\n**********************************************************************\nFile \"src/sage/sat/solvers/cryptominisat.py\", line 50, in sage.sat.solvers.cryptominisat.CryptoMiniSat\nFailed example:\n    solver = CryptoMiniSat()                                  # optional - pycryptosat\nException raised:\n    Traceback (most recent call last):\n      File \"sage/misc/lazy_import.pyx\", line 253, in sage.misc.lazy_import.LazyImport._get_object (build/cythonized/sage/misc/lazy_import.c:2942)\n        self._object = getattr(__import__(self._module, {}, {}, [self._name]), self._name)\n    ModuleNotFoundError: No module named 'pycryptosat'\n\n    During handling of the above exception, another exception occurred:\n\n    Traceback (most recent call last):\n      File \"/home/tscri/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/tscri/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.sat.solvers.cryptominisat.CryptoMiniSat[1]>\", line 1, in <module>\n        solver = CryptoMiniSat()                                  # optional - pycryptosat\n      File \"/home/tscri/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/sat/solvers/cryptominisat.py\", line 69, in __init__\n        self._solver = Solver(verbose=int(verbosity), confl_limit=int(confl_limit), threads=int(threads))\n      File \"sage/misc/lazy_import.pyx\", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4237)\n        return self.get_object()(*args, **kwds)\n      File \"sage/misc/lazy_import.pyx\", line 217, in sage.misc.lazy_import.LazyImport.get_object (build/cythonized/sage/misc/lazy_import.c:2619)\n        return self._get_object()\n      File \"sage/misc/lazy_import.pyx\", line 256, in sage.misc.lazy_import.LazyImport._get_object (build/cythonized/sage/misc/lazy_import.c:3057)\n        raise FeatureNotPresentError(self._feature, reason=f'Importing {self._name} failed: {e}')\n    sage.features.FeatureNotPresentError: pycryptosat is not available.\n    Importing Solver failed: No module named 'pycryptosat'\n    No equivalent system packages for cygwin are known to Sage.\n    To install pycryptosat using the Sage package manager, you can try to run:\n      !sage -i cryptominisat\n    No equivalent system packages for pip are known to Sage.\n```",
    "created_at": "2022-06-23T01:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486851",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:94'></a>
Now are tests in `src/sage/sat/solvers/cryptominisat.py` expected to pass? They are marked by `pycryptosat`, and when I run

```
$ ./sage -tp --optional=sage,pycryptosat src/sage/sat/solvers/cryptominisat.py
```
I get lots of failures coming down to this:

```
**********************************************************************
File "src/sage/sat/solvers/cryptominisat.py", line 50, in sage.sat.solvers.cryptominisat.CryptoMiniSat
Failed example:
    solver = CryptoMiniSat()                                  # optional - pycryptosat
Exception raised:
    Traceback (most recent call last):
      File "sage/misc/lazy_import.pyx", line 253, in sage.misc.lazy_import.LazyImport._get_object (build/cythonized/sage/misc/lazy_import.c:2942)
        self._object = getattr(__import__(self._module, {}, {}, [self._name]), self._name)
    ModuleNotFoundError: No module named 'pycryptosat'

    During handling of the above exception, another exception occurred:

    Traceback (most recent call last):
      File "/home/tscri/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/tscri/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.sat.solvers.cryptominisat.CryptoMiniSat[1]>", line 1, in <module>
        solver = CryptoMiniSat()                                  # optional - pycryptosat
      File "/home/tscri/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/sat/solvers/cryptominisat.py", line 69, in __init__
        self._solver = Solver(verbose=int(verbosity), confl_limit=int(confl_limit), threads=int(threads))
      File "sage/misc/lazy_import.pyx", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4237)
        return self.get_object()(*args, **kwds)
      File "sage/misc/lazy_import.pyx", line 217, in sage.misc.lazy_import.LazyImport.get_object (build/cythonized/sage/misc/lazy_import.c:2619)
        return self._get_object()
      File "sage/misc/lazy_import.pyx", line 256, in sage.misc.lazy_import.LazyImport._get_object (build/cythonized/sage/misc/lazy_import.c:3057)
        raise FeatureNotPresentError(self._feature, reason=f'Importing {self._name} failed: {e}')
    sage.features.FeatureNotPresentError: pycryptosat is not available.
    Importing Solver failed: No module named 'pycryptosat'
    No equivalent system packages for cygwin are known to Sage.
    To install pycryptosat using the Sage package manager, you can try to run:
      !sage -i cryptominisat
    No equivalent system packages for pip are known to Sage.
```



---

archive/issue_comments_486852.json:
```json
{
    "body": "<a id='comment:95'></a>\nOk it installed but obviously it doesn't work. There should be a file with a name starting with `pycryptominisat` inside the `site-packages` folder of python. Can you see it? and if so what is the exact name?",
    "created_at": "2022-06-23T01:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486852",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:95'></a>
Ok it installed but obviously it doesn't work. There should be a file with a name starting with `pycryptominisat` inside the `site-packages` folder of python. Can you see it? and if so what is the exact name?



---

archive/issue_comments_486853.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/packages/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-5.8.0)\" to \"[u/fbissey/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cryptominisat-5.8.0)\".",
    "created_at": "2022-06-23T01:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486853",
    "user": "https://github.com/kiwifb"
}
```

**Changing branch** from "[u/dimpase/packages/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-5.8.0)" to "[u/fbissey/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cryptominisat-5.8.0)".



---

archive/issue_comments_486854.json:
```json
{
    "body": "<a id='comment:96'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c68a505e599d0ec6cbbc84ec0a492b31ffc880c\">2c68a50</a></td><td><code>Merge branch 'develop' into cryptominisat-5.8.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1\">ae01a89</a></td><td><code>Add patch to cryptominisat removing useless bits preventing compilation on cygwin.</code></td></tr></table>\n",
    "created_at": "2022-06-23T01:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486854",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:96'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c68a505e599d0ec6cbbc84ec0a492b31ffc880c">2c68a50</a></td><td><code>Merge branch 'develop' into cryptominisat-5.8.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1">ae01a89</a></td><td><code>Add patch to cryptominisat removing useless bits preventing compilation on cygwin.</code></td></tr></table>




---

archive/issue_comments_486855.json:
```json
{
    "body": "**Changing commit** from \"[ca6d12331ea5fb93c55313314548d138b26d67a0](https://github.com/sagemath/sagetrac-mirror/commit/ca6d12331ea5fb93c55313314548d138b26d67a0)\" to \"[ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1](https://github.com/sagemath/sagetrac-mirror/commit/ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1)\".",
    "created_at": "2022-06-23T01:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486855",
    "user": "https://github.com/kiwifb"
}
```

**Changing commit** from "[ca6d12331ea5fb93c55313314548d138b26d67a0](https://github.com/sagemath/sagetrac-mirror/commit/ca6d12331ea5fb93c55313314548d138b26d67a0)" to "[ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1](https://github.com/sagemath/sagetrac-mirror/commit/ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1)".



---

archive/issue_comments_486856.json:
```json
{
    "body": "<a id='comment:97'></a>\nBecause I was stupid and didn't realize that was a separate package because I probably mistyped the name when doing `./sage -i pycryptosat`. Although I am back with a very familiar error:\n\n```\n[pycryptosat-5.8.0] -- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall'\n[pycryptosat-5.8.0] -- Python LDFLAGS: '-lcrypt -lintl -ldl'\n[pycryptosat-5.8.0] -- Python LINKFORSHARED flags: ''\n[pycryptosat-5.8.0] -- Python module installation prefix: --prefix=/home/tscri/sage/local/var/lib/sage/venv-python3.9\n[pycryptosat-5.8.0] -- Configuring incomplete, errors occurred!\n[pycryptosat-5.8.0] See also \"/home/tscri/sage/local/var/lib/sage/venv-python3.9/var/tmp/sage/build/pycryptosat-5.8.0/src/CMakeFiles/CMakeOutput.log\".\n[pycryptosat-5.8.0] See also \"/home/tscri/sage/local/var/lib/sage/venv-python3.9/var/tmp/sage/build/pycryptosat-5.8.0/src/CMakeFiles/CMakeError.log\".\n[pycryptosat-5.8.0] ****************************************************************************************************************************************************\n[pycryptosat-5.8.0] Error configuring pycryptosat-5.8.0 with cmake\n[pycryptosat-5.8.0] See the file\n[pycryptosat-5.8.0]     /home/tscri/sage/local/var/lib/sage/venv-python3.9/var/tmp/sage/build/pycryptosat-5.8.0/src/CMakeFiles/CMakeOutput.log\n[pycryptosat-5.8.0] for details.\n[pycryptosat-5.8.0] ****************************************************************************************************************************************************\n```",
    "created_at": "2022-06-23T01:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486856",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:97'></a>
Because I was stupid and didn't realize that was a separate package because I probably mistyped the name when doing `./sage -i pycryptosat`. Although I am back with a very familiar error:

```
[pycryptosat-5.8.0] -- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall'
[pycryptosat-5.8.0] -- Python LDFLAGS: '-lcrypt -lintl -ldl'
[pycryptosat-5.8.0] -- Python LINKFORSHARED flags: ''
[pycryptosat-5.8.0] -- Python module installation prefix: --prefix=/home/tscri/sage/local/var/lib/sage/venv-python3.9
[pycryptosat-5.8.0] -- Configuring incomplete, errors occurred!
[pycryptosat-5.8.0] See also "/home/tscri/sage/local/var/lib/sage/venv-python3.9/var/tmp/sage/build/pycryptosat-5.8.0/src/CMakeFiles/CMakeOutput.log".
[pycryptosat-5.8.0] See also "/home/tscri/sage/local/var/lib/sage/venv-python3.9/var/tmp/sage/build/pycryptosat-5.8.0/src/CMakeFiles/CMakeError.log".
[pycryptosat-5.8.0] ****************************************************************************************************************************************************
[pycryptosat-5.8.0] Error configuring pycryptosat-5.8.0 with cmake
[pycryptosat-5.8.0] See the file
[pycryptosat-5.8.0]     /home/tscri/sage/local/var/lib/sage/venv-python3.9/var/tmp/sage/build/pycryptosat-5.8.0/src/CMakeFiles/CMakeOutput.log
[pycryptosat-5.8.0] for details.
[pycryptosat-5.8.0] ****************************************************************************************************************************************************
```



---

archive/issue_comments_486857.json:
```json
{
    "body": "<a id='comment:98'></a>\nGo figure, it needs patching too since it is the same package. I am going to update the branch.",
    "created_at": "2022-06-23T01:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486857",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:98'></a>
Go figure, it needs patching too since it is the same package. I am going to update the branch.



---

archive/issue_comments_486858.json:
```json
{
    "body": "<a id='comment:99'></a>\nI am now trying with the same patch copied over. This seems to be working...",
    "created_at": "2022-06-23T01:15:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486858",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:99'></a>
I am now trying with the same patch copied over. This seems to be working...



---

archive/issue_comments_486859.json:
```json
{
    "body": "**Changing commit** from \"[ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1](https://github.com/sagemath/sagetrac-mirror/commit/ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1)\" to \"[fc04bd5d75e66c91a697e8158da766f90bc1427e](https://github.com/sagemath/sagetrac-mirror/commit/fc04bd5d75e66c91a697e8158da766f90bc1427e)\".",
    "created_at": "2022-06-23T01:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486859",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1](https://github.com/sagemath/sagetrac-mirror/commit/ae01a89e0995a9ebfd4e4ba5cbecca8583acabf1)" to "[fc04bd5d75e66c91a697e8158da766f90bc1427e](https://github.com/sagemath/sagetrac-mirror/commit/fc04bd5d75e66c91a697e8158da766f90bc1427e)".



---

archive/issue_comments_486860.json:
```json
{
    "body": "<a id='comment:0'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc04bd5d75e66c91a697e8158da766f90bc1427e\">fc04bd5</a></td><td><code>link patches from cryptominisat to pycryptosat since they are the same package and need the same fix.</code></td></tr></table>\n",
    "created_at": "2022-06-23T01:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486860",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc04bd5d75e66c91a697e8158da766f90bc1427e">fc04bd5</a></td><td><code>link patches from cryptominisat to pycryptosat since they are the same package and need the same fix.</code></td></tr></table>




---

archive/issue_comments_486861.json:
```json
{
    "body": "<a id='comment:1'></a>\nThat worked and the tests in that file pass.",
    "created_at": "2022-06-23T01:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486861",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
That worked and the tests in that file pass.



---

archive/issue_comments_486862.json:
```json
{
    "body": "<a id='comment:2'></a>\nCool and now that the branch is updated we should make sure `./sage -i pycryptosat` works properly from this branch.",
    "created_at": "2022-06-23T01:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486862",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'></a>
Cool and now that the branch is updated we should make sure `./sage -i pycryptosat` works properly from this branch.



---

archive/issue_comments_486863.json:
```json
{
    "body": "<a id='comment:3'></a>\nAnd I should upstream the thing too, fixing this was just a matter of removing dead branches :)",
    "created_at": "2022-06-23T01:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486863",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'></a>
And I should upstream the thing too, fixing this was just a matter of removing dead branches :)



---

archive/issue_comments_486864.json:
```json
{
    "body": "<a id='comment:4'></a>\nI just did a force rebuild of `./sage -i -f pycryptosat` with the new branch and it is working.",
    "created_at": "2022-06-23T01:21:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486864",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
I just did a force rebuild of `./sage -i -f pycryptosat` with the new branch and it is working.



---

archive/issue_comments_486865.json:
```json
{
    "body": "**Changing author** from \"Erik Bray, Thierry Monteil\" to \"Erik Bray, Thierry Monteil, Fran\u00e7ois Bissey\".",
    "created_at": "2022-06-23T01:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486865",
    "user": "https://github.com/kiwifb"
}
```

**Changing author** from "Erik Bray, Thierry Monteil" to "Erik Bray, Thierry Monteil, François Bissey".



---

archive/issue_comments_486866.json:
```json
{
    "body": "**Changing reviewer** from \"Julian R\u00fcth, https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865\" to \"Travis Scrimshaw, Julian R\u00fcth, https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865\".",
    "created_at": "2022-06-23T01:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486866",
    "user": "https://github.com/kiwifb"
}
```

**Changing reviewer** from "Julian Rüth, https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865" to "Travis Scrimshaw, Julian Rüth, https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865".



---

archive/issue_comments_486867.json:
```json
{
    "body": "**Changing dependencies** from \"#33162, #33183\" to \"\".",
    "created_at": "2022-06-23T01:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486867",
    "user": "https://github.com/kiwifb"
}
```

**Changing dependencies** from "#33162, #33183" to "".



---

archive/issue_comments_486868.json:
```json
{
    "body": "<a id='comment:5'></a>\nI have added myself to authors, does anyone need to add themselves? Dima?\n\nNext we need some reviewers to put their hands up. @tscrim just did cygwin so I added him there.",
    "created_at": "2022-06-23T01:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486868",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
I have added myself to authors, does anyone need to add themselves? Dima?

Next we need some reviewers to put their hands up. @tscrim just did cygwin so I added him there.



---

archive/issue_comments_486869.json:
```json
{
    "body": "**Changing work_issues** from \"see #33162\" to \"\".",
    "created_at": "2022-06-23T01:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486869",
    "user": "https://github.com/kiwifb"
}
```

**Changing work_issues** from "see #33162" to "".



---

archive/issue_comments_486870.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe force rebuild finished and the tests in files that mention `pycryptosat` and `cryptominisat` passed on Cygwin.",
    "created_at": "2022-06-23T01:29:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486870",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
The force rebuild finished and the tests in files that mention `pycryptosat` and `cryptominisat` passed on Cygwin.



---

archive/issue_comments_486871.json:
```json
{
    "body": "<a id='comment:7'></a>\nWe should also add https://github.com/msoos/cryptominisat/pull/679 as a patch so that the next `setuptools` upgrade (#33866) does not break `cryptominisat`",
    "created_at": "2022-06-27T02:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486871",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
We should also add https://github.com/msoos/cryptominisat/pull/679 as a patch so that the next `setuptools` upgrade (#33866) does not break `cryptominisat`



---

archive/issue_comments_486872.json:
```json
{
    "body": "<a id='comment:8'></a>\nVery sensible. I'll add it to my branch in the next few hours if no one else does it.",
    "created_at": "2022-06-27T02:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486872",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
Very sensible. I'll add it to my branch in the next few hours if no one else does it.



---

archive/issue_comments_486873.json:
```json
{
    "body": "<a id='comment:9'></a>\nOn macOS, I also get:\n\n```\n[cryptominisat-5.8.0] cd /Users/mkoeppe/s/sage/sage-rebasing/local/var/tmp/sage/build/cryptominisat-5.8.0/src/pycryptosat && /Users/mkoeppe/s/sage/sage-rebasing/local/bin/cmake -E env CFLAGS='-isysroot/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk\\ -g\\ -O2' /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/bin/python3 setup.py build_ext --inplace --rpath ../lib\n[cryptominisat-5.8.0] [100%] Built target cryptominisat5-bin\n[cryptominisat-5.8.0] clang: warning: no such sysroot directory: '/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk -g -O2' [-Wmissing-sysroot]\n[cryptominisat-5.8.0] In file included from /Users/mkoeppe/s/sage/sage-rebasing/local/var/tmp/sage/build/cryptominisat-5.8.0/src/pycryptosat/src/pycryptosat.cpp:27:\n[cryptominisat-5.8.0] In file included from /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/include/python3.8/Python.h:25:\n[cryptominisat-5.8.0] /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/stdio.h:107:15: fatal error: 'stdio.h' file not found\n```",
    "created_at": "2022-06-27T02:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486873",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
On macOS, I also get:

```
[cryptominisat-5.8.0] cd /Users/mkoeppe/s/sage/sage-rebasing/local/var/tmp/sage/build/cryptominisat-5.8.0/src/pycryptosat && /Users/mkoeppe/s/sage/sage-rebasing/local/bin/cmake -E env CFLAGS='-isysroot/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk\ -g\ -O2' /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/bin/python3 setup.py build_ext --inplace --rpath ../lib
[cryptominisat-5.8.0] [100%] Built target cryptominisat5-bin
[cryptominisat-5.8.0] clang: warning: no such sysroot directory: '/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk -g -O2' [-Wmissing-sysroot]
[cryptominisat-5.8.0] In file included from /Users/mkoeppe/s/sage/sage-rebasing/local/var/tmp/sage/build/cryptominisat-5.8.0/src/pycryptosat/src/pycryptosat.cpp:27:
[cryptominisat-5.8.0] In file included from /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/include/python3.8/Python.h:25:
[cryptominisat-5.8.0] /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/stdio.h:107:15: fatal error: 'stdio.h' file not found
```



---

archive/issue_comments_486874.json:
```json
{
    "body": "<a id='comment:0'></a>\nThis appears to come from https://github.com/msoos/cryptominisat/blob/master/python/CMakeLists.txt#L85",
    "created_at": "2022-06-27T03:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486874",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
This appears to come from https://github.com/msoos/cryptominisat/blob/master/python/CMakeLists.txt#L85



---

archive/issue_comments_486875.json:
```json
{
    "body": "<a id='comment:1'></a>\nI don't see a fix for this in https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/cryptominisat.rb",
    "created_at": "2022-06-27T03:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486875",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
I don't see a fix for this in https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/cryptominisat.rb



---

archive/issue_comments_486876.json:
```json
{
    "body": "<a id='comment:2'></a>\ncryptominisat master already contains a workaround for likely the same issue of misquoting: https://github.com/msoos/cryptominisat/pull/621/files",
    "created_at": "2022-06-27T03:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486876",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
cryptominisat master already contains a workaround for likely the same issue of misquoting: https://github.com/msoos/cryptominisat/pull/621/files



---

archive/issue_comments_486877.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis whole broken `-isysroot` thing added in https://github.com/msoos/cryptominisat/commit/8e5c38b8f4099bf558ef1a18b2a8b893460e9943 should probably be removed upstream. But the path of least resistance for us would be to apply https://github.com/msoos/cryptominisat/pull/621 as a patch and to fake `NIX_CC`.",
    "created_at": "2022-06-27T03:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486877",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
This whole broken `-isysroot` thing added in https://github.com/msoos/cryptominisat/commit/8e5c38b8f4099bf558ef1a18b2a8b893460e9943 should probably be removed upstream. But the path of least resistance for us would be to apply https://github.com/msoos/cryptominisat/pull/621 as a patch and to fake `NIX_CC`.



---

archive/issue_comments_486878.json:
```json
{
    "body": "**Changing branch** from \"[u/fbissey/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cryptominisat-5.8.0)\" to \"[u/mkoeppe/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cryptominisat-5.8.0)\".",
    "created_at": "2022-06-27T03:43:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486878",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/fbissey/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cryptominisat-5.8.0)" to "[u/mkoeppe/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cryptominisat-5.8.0)".



---

archive/issue_comments_486879.json:
```json
{
    "body": "**Changing commit** from \"[fc04bd5d75e66c91a697e8158da766f90bc1427e](https://github.com/sagemath/sagetrac-mirror/commit/fc04bd5d75e66c91a697e8158da766f90bc1427e)\" to \"[6dbbe94c1f69370bf593694dc493aafc39e7f57c](https://github.com/sagemath/sagetrac-mirror/commit/6dbbe94c1f69370bf593694dc493aafc39e7f57c)\".",
    "created_at": "2022-06-27T03:45:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486879",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[fc04bd5d75e66c91a697e8158da766f90bc1427e](https://github.com/sagemath/sagetrac-mirror/commit/fc04bd5d75e66c91a697e8158da766f90bc1427e)" to "[6dbbe94c1f69370bf593694dc493aafc39e7f57c](https://github.com/sagemath/sagetrac-mirror/commit/6dbbe94c1f69370bf593694dc493aafc39e7f57c)".



---

archive/issue_comments_486880.json:
```json
{
    "body": "<a id='comment:5'></a>\nNext error:\n\n```\n[cryptominisat-5.8.0] [100%] Built target cryptominisat5-bin\n[cryptominisat-5.8.0] In file included from src/pycryptosat.cpp:32:\n[cryptominisat-5.8.0] In file included from ../cmsat5-src/cryptominisat5/cryptominisat.h:35:\n[cryptominisat-5.8.0] ../cmsat5-src/cryptominisat5/solvertypesmini.h:33:1: error: unknown type name 'constexpr'\n[cryptominisat-5.8.0] constexpr uint32_t var_Undef(0xffffffffU >> 4);\n```\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/376e3fc142c5ca2ee2f163bdea7dd6bc06e9e9f1\">376e3fc</a></td><td><code>build/pkgs/cryptominisat: Work around for macOS CFLAGS misquoting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6dbbe94c1f69370bf593694dc493aafc39e7f57c\">6dbbe94</a></td><td><code>build/pkgs/cryptominisat/patches/679.patch: New</code></td></tr></table>\n",
    "created_at": "2022-06-27T03:45:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486880",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
Next error:

```
[cryptominisat-5.8.0] [100%] Built target cryptominisat5-bin
[cryptominisat-5.8.0] In file included from src/pycryptosat.cpp:32:
[cryptominisat-5.8.0] In file included from ../cmsat5-src/cryptominisat5/cryptominisat.h:35:
[cryptominisat-5.8.0] ../cmsat5-src/cryptominisat5/solvertypesmini.h:33:1: error: unknown type name 'constexpr'
[cryptominisat-5.8.0] constexpr uint32_t var_Undef(0xffffffffU >> 4);
```

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/376e3fc142c5ca2ee2f163bdea7dd6bc06e9e9f1">376e3fc</a></td><td><code>build/pkgs/cryptominisat: Work around for macOS CFLAGS misquoting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6dbbe94c1f69370bf593694dc493aafc39e7f57c">6dbbe94</a></td><td><code>build/pkgs/cryptominisat/patches/679.patch: New</code></td></tr></table>




---

archive/issue_comments_486881.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bacff4ee0ec1b323a118929b1dae31ff723d0eba\">bacff4e</a></td><td><code>build/pkgs/cryptominisat/spkg-install.in: Do not build the Python interface here</code></td></tr></table>\n",
    "created_at": "2022-06-27T03:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486881",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bacff4ee0ec1b323a118929b1dae31ff723d0eba">bacff4e</a></td><td><code>build/pkgs/cryptominisat/spkg-install.in: Do not build the Python interface here</code></td></tr></table>




---

archive/issue_comments_486882.json:
```json
{
    "body": "**Changing commit** from \"[6dbbe94c1f69370bf593694dc493aafc39e7f57c](https://github.com/sagemath/sagetrac-mirror/commit/6dbbe94c1f69370bf593694dc493aafc39e7f57c)\" to \"[bacff4ee0ec1b323a118929b1dae31ff723d0eba](https://github.com/sagemath/sagetrac-mirror/commit/bacff4ee0ec1b323a118929b1dae31ff723d0eba)\".",
    "created_at": "2022-06-27T03:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6dbbe94c1f69370bf593694dc493aafc39e7f57c](https://github.com/sagemath/sagetrac-mirror/commit/6dbbe94c1f69370bf593694dc493aafc39e7f57c)" to "[bacff4ee0ec1b323a118929b1dae31ff723d0eba](https://github.com/sagemath/sagetrac-mirror/commit/bacff4ee0ec1b323a118929b1dae31ff723d0eba)".



---

archive/issue_comments_486883.json:
```json
{
    "body": "<a id='comment:7'></a>\nNow it builds at least `cryptominisat` for me.",
    "created_at": "2022-06-27T03:55:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486883",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Now it builds at least `cryptominisat` for me.



---

archive/issue_comments_486884.json:
```json
{
    "body": "<a id='comment:8'></a>\nIt should work for `pycryptomini` provided you add the `NIX_CC=fake` thing to its `spkg-install.in` since I made its patches folder a link to the `cryptominisat` one, so patches would match.",
    "created_at": "2022-06-27T04:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486884",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
It should work for `pycryptomini` provided you add the `NIX_CC=fake` thing to its `spkg-install.in` since I made its patches folder a link to the `cryptominisat` one, so patches would match.



---

archive/issue_comments_486885.json:
```json
{
    "body": "<a id='comment:9'></a>\npycryptosat currently fails for me with the `constexpr` problem (same as [comment:115](#comment%3A115)). This looks like it is the same as https://github.com/msoos/cryptominisat/issues/684",
    "created_at": "2022-06-27T04:05:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486885",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
pycryptosat currently fails for me with the `constexpr` problem (same as [comment:115](#comment%3A115)). This looks like it is the same as https://github.com/msoos/cryptominisat/issues/684



---

archive/issue_comments_486886.json:
```json
{
    "body": "<a id='comment:0'></a>\nHomebrew fixes it like this: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/cryptominisat.rb#L39",
    "created_at": "2022-06-27T04:06:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486886",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
Homebrew fixes it like this: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/cryptominisat.rb#L39



---

archive/issue_comments_486887.json:
```json
{
    "body": "**Changing commit** from \"[bacff4ee0ec1b323a118929b1dae31ff723d0eba](https://github.com/sagemath/sagetrac-mirror/commit/bacff4ee0ec1b323a118929b1dae31ff723d0eba)\" to \"[62e4a96b24e1da2a71c49c32b98742ac69b70688](https://github.com/sagemath/sagetrac-mirror/commit/62e4a96b24e1da2a71c49c32b98742ac69b70688)\".",
    "created_at": "2022-06-27T04:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486887",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bacff4ee0ec1b323a118929b1dae31ff723d0eba](https://github.com/sagemath/sagetrac-mirror/commit/bacff4ee0ec1b323a118929b1dae31ff723d0eba)" to "[62e4a96b24e1da2a71c49c32b98742ac69b70688](https://github.com/sagemath/sagetrac-mirror/commit/62e4a96b24e1da2a71c49c32b98742ac69b70688)".



---

archive/issue_comments_486888.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62e4a96b24e1da2a71c49c32b98742ac69b70688\">62e4a96</a></td><td><code>build/pkgs/pycryptosat/spkg-install.in: Use -std=gnu++11</code></td></tr></table>\n",
    "created_at": "2022-06-27T04:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486888",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62e4a96b24e1da2a71c49c32b98742ac69b70688">62e4a96</a></td><td><code>build/pkgs/pycryptosat/spkg-install.in: Use -std=gnu++11</code></td></tr></table>




---

archive/issue_comments_486889.json:
```json
{
    "body": "<a id='comment:2'></a>\nNow this builds for me. Strangely I didn't need the `NIX_CC` workaround. Looks like this broken stuff is only used when the Python module build is done from within the cmake build.",
    "created_at": "2022-06-27T04:12:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486889",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Now this builds for me. Strangely I didn't need the `NIX_CC` workaround. Looks like this broken stuff is only used when the Python module build is done from within the cmake build.



---

archive/issue_comments_486890.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b316c5f7ab5396cc80dee2eca3e55080895798e\">8b316c5</a></td><td><code>build/pkgs/cryptominisat/patches/679.patch: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b943ed0e8c120f03afe77726e7da9466c0629749\">b943ed0</a></td><td><code>build/pkgs/cryptominisat/spkg-install.in: Do not build the Python interface here</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2\">69033db</a></td><td><code>build/pkgs/pycryptosat/spkg-install.in: Use -std=gnu++11</code></td></tr></table>\n",
    "created_at": "2022-06-27T04:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486890",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b316c5f7ab5396cc80dee2eca3e55080895798e">8b316c5</a></td><td><code>build/pkgs/cryptominisat/patches/679.patch: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b943ed0e8c120f03afe77726e7da9466c0629749">b943ed0</a></td><td><code>build/pkgs/cryptominisat/spkg-install.in: Do not build the Python interface here</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2">69033db</a></td><td><code>build/pkgs/pycryptosat/spkg-install.in: Use -std=gnu++11</code></td></tr></table>




---

archive/issue_comments_486891.json:
```json
{
    "body": "**Changing commit** from \"[62e4a96b24e1da2a71c49c32b98742ac69b70688](https://github.com/sagemath/sagetrac-mirror/commit/62e4a96b24e1da2a71c49c32b98742ac69b70688)\" to \"[69033dbc7c588f4112f8b04abcac4358536595f2](https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2)\".",
    "created_at": "2022-06-27T04:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486891",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[62e4a96b24e1da2a71c49c32b98742ac69b70688](https://github.com/sagemath/sagetrac-mirror/commit/62e4a96b24e1da2a71c49c32b98742ac69b70688)" to "[69033dbc7c588f4112f8b04abcac4358536595f2](https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2)".



---

archive/issue_comments_486892.json:
```json
{
    "body": "<a id='comment:4'></a>\nSo here's a simpler version without the NIX_CC workaround.",
    "created_at": "2022-06-27T04:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486892",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
So here's a simpler version without the NIX_CC workaround.



---

archive/issue_comments_486893.json:
```json
{
    "body": "<a id='comment:5'></a>\nBuilds OK and passes `./sage -tp src/sage/sat`",
    "created_at": "2022-06-27T04:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486893",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
Builds OK and passes `./sage -tp src/sage/sat`



---

archive/issue_comments_486894.json:
```json
{
    "body": "**Changing author** from \"Erik Bray, Thierry Monteil, Fran\u00e7ois Bissey\" to \"Erik Bray, Thierry Monteil, Fran\u00e7ois Bissey, Matthias Koeppe\".",
    "created_at": "2022-06-27T04:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486894",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Erik Bray, Thierry Monteil, François Bissey" to "Erik Bray, Thierry Monteil, François Bissey, Matthias Koeppe".



---

archive/issue_comments_486895.json:
```json
{
    "body": "**Changing reviewer** from \"Travis Scrimshaw, Julian R\u00fcth, https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865\" to \"Travis Scrimshaw, Julian R\u00fcth, Matthias Koeppe\".",
    "created_at": "2022-06-27T04:25:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486895",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Travis Scrimshaw, Julian Rüth, https://github.com/sagemath/sagetrac-mirror/actions/runs/1704383865" to "Travis Scrimshaw, Julian Rüth, Matthias Koeppe".



---

archive/issue_comments_486896.json:
```json
{
    "body": "<a id='comment:8'></a>\nI am a bit uncertain as to where the c++11 flags are supposed to come from in https://github.com/msoos/cryptominisat/issues/684 and where they got missing. I'll dig that if I have time later, but some stuff is clearly not going well on OS X. I am not even sure how the above issue avoided the isysroot issue.",
    "created_at": "2022-06-27T04:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486896",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
I am a bit uncertain as to where the c++11 flags are supposed to come from in https://github.com/msoos/cryptominisat/issues/684 and where they got missing. I'll dig that if I have time later, but some stuff is clearly not going well on OS X. I am not even sure how the above issue avoided the isysroot issue.



---

archive/issue_comments_486897.json:
```json
{
    "body": "<a id='comment:9'></a>\nThat pycryptosat setup.py.in is a big mess. Upstream should probably rewrite it using setuptools instead of distutils and back out the `sysconfig` manipulation.",
    "created_at": "2022-06-27T04:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486897",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
That pycryptosat setup.py.in is a big mess. Upstream should probably rewrite it using setuptools instead of distutils and back out the `sysconfig` manipulation.



---

archive/issue_comments_486898.json:
```json
{
    "body": "<a id='comment:130'></a>\nReplying to [fbissey](#comment%3A128):\n> I am not even sure how the above [...] avoided the isysroot issue.\n\n\nJust by using `-DENABLE_PYTHON_INTERFACE=OFF` in the cryptominisat build",
    "created_at": "2022-06-27T04:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486898",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:130'></a>
Replying to [fbissey](#comment%3A128):
> I am not even sure how the above [...] avoided the isysroot issue.


Just by using `-DENABLE_PYTHON_INTERFACE=OFF` in the cryptominisat build



---

archive/issue_comments_486899.json:
```json
{
    "body": "<a id='comment:131'></a>\nReplying to [mkoeppe](#comment%3A130):\n> Replying to [fbissey](#comment%3A128):\n> > I am not even sure how the above [...] avoided the isysroot issue.\n\n> \n> Just by using `-DENABLE_PYTHON_INTERFACE=OFF` in the cryptominisat build\n\n\nI was talking about https://github.com/msoos/cryptominisat/issues/684 which I guess means there were no `CFLAGS`.",
    "created_at": "2022-06-27T04:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486899",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:131'></a>
Replying to [mkoeppe](#comment%3A130):
> Replying to [fbissey](#comment%3A128):
> > I am not even sure how the above [...] avoided the isysroot issue.

> 
> Just by using `-DENABLE_PYTHON_INTERFACE=OFF` in the cryptominisat build


I was talking about https://github.com/msoos/cryptominisat/issues/684 which I guess means there were no `CFLAGS`.



---

archive/issue_comments_486900.json:
```json
{
    "body": "<a id='comment:2'></a>\nWith #34017 merged, also `tox -e docker-debian-stretch-standard -- pycryptosat` passes.",
    "created_at": "2022-06-27T04:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486900",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
With #34017 merged, also `tox -e docker-debian-stretch-standard -- pycryptosat` passes.



---

archive/issue_comments_486901.json:
```json
{
    "body": "<a id='comment:133'></a>\nReplying to [fbissey](#comment%3A131):\n> Replying to [mkoeppe](#comment%3A130):\n> > Replying to [fbissey](#comment%3A128):\n> > > I am not even sure how the above [...] avoided the isysroot issue.\n\n> > \n> I was talking about https://github.com/msoos/cryptominisat/issues/684 which I guess means there were no `CFLAGS`.\n\n\nI agree, that's the likely explanation.",
    "created_at": "2022-06-27T04:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486901",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:133'></a>
Replying to [fbissey](#comment%3A131):
> Replying to [mkoeppe](#comment%3A130):
> > Replying to [fbissey](#comment%3A128):
> > > I am not even sure how the above [...] avoided the isysroot issue.

> > 
> I was talking about https://github.com/msoos/cryptominisat/issues/684 which I guess means there were no `CFLAGS`.


I agree, that's the likely explanation.



---

archive/issue_comments_486902.json:
```json
{
    "body": "<a id='comment:4'></a>\nI would be happy with setting this ticket to positive review. Perhaps it should be checked that the changes did not break anything on Cygwin, but I think it's unlikely",
    "created_at": "2022-06-27T05:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486902",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
I would be happy with setting this ticket to positive review. Perhaps it should be checked that the changes did not break anything on Cygwin, but I think it's unlikely



---

archive/issue_comments_486903.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-06-27T17:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486903",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_072374.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-03T22:06:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25374#event-72374"
}
```



---

archive/issue_comments_486904.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2022-07-03T22:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486904",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_486905.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cryptominisat-5.8.0)\" to \"[69033dbc7c588f4112f8b04abcac4358536595f2](https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2)\".",
    "created_at": "2022-07-03T22:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486905",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/cryptominisat-5.8.0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cryptominisat-5.8.0)" to "[69033dbc7c588f4112f8b04abcac4358536595f2](https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2)".



---

archive/issue_comments_486906.json:
```json
{
    "body": "<a id='comment:137'></a>\nReplying to [Matthias K\u00f6ppe](#comment%3A129):\n> That pycryptosat setup.py.in is a big mess. Upstream should probably rewrite it using setuptools instead of distutils and back out the `sysconfig` manipulation.\n\n\nHi, this is upstream talking :) Yep, that is a big mess. Sorry. So, I fixed it up, and it's waaaaay more modern now. Also, there is a Python package, with pip install working etc:\n\nhttps://pypi.org/project/pycryptosat/\n\nAuto-builds the binary package using [GitHub](GitHub) actions so that's sweet. Let me know how it could be changed to be better. However, I think it should be a lot closer to \"good\" than the previous setup.\n\nMate",
    "created_at": "2022-10-23T22:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486906",
    "user": "https://trac.sagemath.org/admin/accounts/users/msoos"
}
```

<a id='comment:137'></a>
Replying to [Matthias Köppe](#comment%3A129):
> That pycryptosat setup.py.in is a big mess. Upstream should probably rewrite it using setuptools instead of distutils and back out the `sysconfig` manipulation.


Hi, this is upstream talking :) Yep, that is a big mess. Sorry. So, I fixed it up, and it's waaaaay more modern now. Also, there is a Python package, with pip install working etc:

https://pypi.org/project/pycryptosat/

Auto-builds the binary package using [GitHub](GitHub) actions so that's sweet. Let me know how it could be changed to be better. However, I think it should be a lot closer to "good" than the previous setup.

Mate



---

archive/issue_comments_486907.json:
```json
{
    "body": "**Changing commit** from \"[69033dbc7c588f4112f8b04abcac4358536595f2](https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2)\" to \"\".",
    "created_at": "2022-10-23T22:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486907",
    "user": "https://trac.sagemath.org/admin/accounts/users/msoos"
}
```

**Changing commit** from "[69033dbc7c588f4112f8b04abcac4358536595f2](https://github.com/sagemath/sagetrac-mirror/commit/69033dbc7c588f4112f8b04abcac4358536595f2)" to "".



---

archive/issue_comments_486908.json:
```json
{
    "body": "<a id='comment:8'></a>\nNext update in #34687",
    "created_at": "2022-10-23T22:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25374",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25374#issuecomment-486908",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Next update in #34687
