# Issue 25864: make LinearExtensions an iterator

archive/issues_025627.json:
```json
{
    "body": "Currently, it is returning a (sorted) list.  However, this is not good when trying to iterate through the linear extensions of slightly larger posets.\n\n**CC:**  @tscrim @fchapoton @jm58660 @kevindilks @anneschilling\n\n**Keywords:** sagedays@icerm\n\n**Branch/Commit:** [c62cd56d523b93380171659b4a788ecbabc6b8fa](https://github.com/sagemath/sagetrac-mirror/commit/c62cd56d523b93380171659b4a788ecbabc6b8fa)\n\n**Reviewer:** Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Martin Rubey\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/25864\n\n",
    "closed_at": "2018-12-30T09:15:32Z",
    "created_at": "2018-07-17T06:35:19Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.6",
    "title": "make LinearExtensions an iterator",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25864",
    "user": "https://github.com/mantepse"
}
```
Currently, it is returning a (sorted) list.  However, this is not good when trying to iterate through the linear extensions of slightly larger posets.

**CC:**  @tscrim @fchapoton @jm58660 @kevindilks @anneschilling

**Keywords:** sagedays@icerm

**Branch/Commit:** [c62cd56d523b93380171659b4a788ecbabc6b8fa](https://github.com/sagemath/sagetrac-mirror/commit/c62cd56d523b93380171659b4a788ecbabc6b8fa)

**Reviewer:** Travis Scrimshaw, Frédéric Chapoton

**Author:** Martin Rubey

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/25864





---

archive/issue_comments_497979.json:
```json
{
    "body": "**Branch:** [u/mantepse/make_linearextensions_an_iterator](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/make_linearextensions_an_iterator)",
    "created_at": "2018-07-17T06:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497979",
    "user": "https://github.com/mantepse"
}
```

**Branch:** [u/mantepse/make_linearextensions_an_iterator](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/make_linearextensions_an_iterator)



---

archive/issue_comments_497980.json:
```json
{
    "body": "**Author:** Martin Rubey",
    "created_at": "2018-07-17T07:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497980",
    "user": "https://github.com/mantepse"
}
```

**Author:** Martin Rubey



---

archive/issue_comments_497981.json:
```json
{
    "body": "**Commit:** [8050b00052c5aca2d2e8b3b2dd2311d30cb56d53](https://github.com/sagemath/sagetrac-mirror/commit/8050b00052c5aca2d2e8b3b2dd2311d30cb56d53)",
    "created_at": "2018-07-17T07:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497981",
    "user": "https://github.com/mantepse"
}
```

**Commit:** [8050b00052c5aca2d2e8b3b2dd2311d30cb56d53](https://github.com/sagemath/sagetrac-mirror/commit/8050b00052c5aca2d2e8b3b2dd2311d30cb56d53)



---

archive/issue_comments_497982.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8050b00052c5aca2d2e8b3b2dd2311d30cb56d53\">8050b00</a></td><td><code>create graphs.LinearExtensions.__iter__, adapt a few methods and doctests</code></td></tr></table>\n",
    "created_at": "2018-07-17T07:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497982",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8050b00052c5aca2d2e8b3b2dd2311d30cb56d53">8050b00</a></td><td><code>create graphs.LinearExtensions.__iter__, adapt a few methods and doctests</code></td></tr></table>




---

archive/issue_comments_497983.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Currently, it is returning a (sorted) list.  However, this is not good when trying to iterate through the linear extensions of slightly larger posets.\n``````\n",
    "created_at": "2018-07-17T07:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497983",
    "user": "https://github.com/mantepse"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Currently, it is returning a (sorted) list.  However, this is not good when trying to iterate through the linear extensions of slightly larger posets.
``````




---

archive/issue_comments_497984.json:
```json
{
    "body": "**Changing commit** from \"[8050b00052c5aca2d2e8b3b2dd2311d30cb56d53](https://github.com/sagemath/sagetrac-mirror/commit/8050b00052c5aca2d2e8b3b2dd2311d30cb56d53)\" to \"[f1705d88f7688dac8e84a102e1c2c1fa547f7852](https://github.com/sagemath/sagetrac-mirror/commit/f1705d88f7688dac8e84a102e1c2c1fa547f7852)\".",
    "created_at": "2018-07-17T11:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497984",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8050b00052c5aca2d2e8b3b2dd2311d30cb56d53](https://github.com/sagemath/sagetrac-mirror/commit/8050b00052c5aca2d2e8b3b2dd2311d30cb56d53)" to "[f1705d88f7688dac8e84a102e1c2c1fa547f7852](https://github.com/sagemath/sagetrac-mirror/commit/f1705d88f7688dac8e84a102e1c2c1fa547f7852)".



---

archive/issue_comments_497985.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1705d88f7688dac8e84a102e1c2c1fa547f7852\">f1705d8</a></td><td><code>fix mistake in initialisation of LinearExtensions and adapt doctests</code></td></tr></table>\n",
    "created_at": "2018-07-17T11:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497985",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1705d88f7688dac8e84a102e1c2c1fa547f7852">f1705d8</a></td><td><code>fix mistake in initialisation of LinearExtensions and adapt doctests</code></td></tr></table>




---

archive/issue_comments_497986.json:
```json
{
    "body": "**Changing commit** from \"[f1705d88f7688dac8e84a102e1c2c1fa547f7852](https://github.com/sagemath/sagetrac-mirror/commit/f1705d88f7688dac8e84a102e1c2c1fa547f7852)\" to \"[c49f132080731f444d8cfb707301c89ebe89b8ba](https://github.com/sagemath/sagetrac-mirror/commit/c49f132080731f444d8cfb707301c89ebe89b8ba)\".",
    "created_at": "2018-07-17T18:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497986",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f1705d88f7688dac8e84a102e1c2c1fa547f7852](https://github.com/sagemath/sagetrac-mirror/commit/f1705d88f7688dac8e84a102e1c2c1fa547f7852)" to "[c49f132080731f444d8cfb707301c89ebe89b8ba](https://github.com/sagemath/sagetrac-mirror/commit/c49f132080731f444d8cfb707301c89ebe89b8ba)".



---

archive/issue_comments_497987.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c49f132080731f444d8cfb707301c89ebe89b8ba\">c49f132</a></td><td><code>fix doctests and topological_sort_generator</code></td></tr></table>\n",
    "created_at": "2018-07-17T18:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497987",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c49f132080731f444d8cfb707301c89ebe89b8ba">c49f132</a></td><td><code>fix doctests and topological_sort_generator</code></td></tr></table>




---

archive/issue_comments_497988.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-07-17T18:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497988",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_497989.json:
```json
{
    "body": "**Changing commit** from \"[c49f132080731f444d8cfb707301c89ebe89b8ba](https://github.com/sagemath/sagetrac-mirror/commit/c49f132080731f444d8cfb707301c89ebe89b8ba)\" to \"[6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2](https://github.com/sagemath/sagetrac-mirror/commit/6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2)\".",
    "created_at": "2018-07-18T07:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497989",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c49f132080731f444d8cfb707301c89ebe89b8ba](https://github.com/sagemath/sagetrac-mirror/commit/c49f132080731f444d8cfb707301c89ebe89b8ba)" to "[6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2](https://github.com/sagemath/sagetrac-mirror/commit/6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2)".



---

archive/issue_comments_497990.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2\">6c7d6ec</a></td><td><code>fix another doctest</code></td></tr></table>\n",
    "created_at": "2018-07-18T07:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497990",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2">6c7d6ec</a></td><td><code>fix another doctest</code></td></tr></table>




---

archive/issue_comments_497991.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65\">d1ce5e8</a></td><td><code>fix more doctests</code></td></tr></table>\n",
    "created_at": "2018-07-18T08:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497991",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65">d1ce5e8</a></td><td><code>fix more doctests</code></td></tr></table>




---

archive/issue_comments_497992.json:
```json
{
    "body": "**Changing commit** from \"[6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2](https://github.com/sagemath/sagetrac-mirror/commit/6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2)\" to \"[d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65](https://github.com/sagemath/sagetrac-mirror/commit/d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65)\".",
    "created_at": "2018-07-18T08:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497992",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2](https://github.com/sagemath/sagetrac-mirror/commit/6c7d6ec8ce55df936e8d836c930b59f2ad6eb6c2)" to "[d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65](https://github.com/sagemath/sagetrac-mirror/commit/d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65)".



---

archive/issue_comments_497993.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5\">450ac8c</a></td><td><code>fix coverage and pyflakes, slightly simplify logic</code></td></tr></table>\n",
    "created_at": "2018-07-18T11:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497993",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5">450ac8c</a></td><td><code>fix coverage and pyflakes, slightly simplify logic</code></td></tr></table>




---

archive/issue_comments_497994.json:
```json
{
    "body": "**Changing commit** from \"[d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65](https://github.com/sagemath/sagetrac-mirror/commit/d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65)\" to \"[450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5](https://github.com/sagemath/sagetrac-mirror/commit/450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5)\".",
    "created_at": "2018-07-18T11:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497994",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65](https://github.com/sagemath/sagetrac-mirror/commit/d1ce5e8e3fbb8e97dcccd1b770fadc55075ddf65)" to "[450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5](https://github.com/sagemath/sagetrac-mirror/commit/450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5)".



---

archive/issue_comments_497995.json:
```json
{
    "body": "<a id='comment:10'></a>\nI do not understand. \"Currently, it is returning a (sorted) list.\", but already\n\n`_ = posets.BooleanLattice(4).linear_extensions()`\n\ntakes about zero time, whereas\n\n`_ = list(posets.BooleanLattice(4).linear_extensions())`\n\ntakes at least a minute, and for example\n\n`_ = posets.BooleanLattice(4).linear_extensions()[2000]`\n\ntakes a fraction of a second. So, this seems to already be an iterator.",
    "created_at": "2018-07-18T15:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497995",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>
I do not understand. "Currently, it is returning a (sorted) list.", but already

`_ = posets.BooleanLattice(4).linear_extensions()`

takes about zero time, whereas

`_ = list(posets.BooleanLattice(4).linear_extensions())`

takes at least a minute, and for example

`_ = posets.BooleanLattice(4).linear_extensions()[2000]`

takes a fraction of a second. So, this seems to already be an iterator.



---

archive/issue_comments_497996.json:
```json
{
    "body": "<a id='comment:11'></a>\nCurrently, `P.linear_extensions()` returns a class, with some (rather little) initialisations done.  This class has a `__list__` method, which triggers the actual computation.\n\nIn particular:\n\nReplying to [jmantysalo](#comment%3A10):\n> I do not understand. \"Currently, it is returning a (sorted) list.\", but already\n> \n> `_ = posets.BooleanLattice(4).linear_extensions()`\n> \n> takes about zero time, whereas\n\n\nbecause only the initialisation code is run,\n\n> `_ = list(posets.BooleanLattice(4).linear_extensions())`\n> \n> takes at least a minute, and for example\n\n\nbecause the list of all linear extensions is created, and\n\n> `_ = posets.BooleanLattice(4).linear_extensions()[2000]`\n> \n> takes a fraction of a second.\n\n\nbecause this is only accessing an element in a list.",
    "created_at": "2018-07-18T17:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497996",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:11'></a>
Currently, `P.linear_extensions()` returns a class, with some (rather little) initialisations done.  This class has a `__list__` method, which triggers the actual computation.

In particular:

Replying to [jmantysalo](#comment%3A10):
> I do not understand. "Currently, it is returning a (sorted) list.", but already
> 
> `_ = posets.BooleanLattice(4).linear_extensions()`
> 
> takes about zero time, whereas


because only the initialisation code is run,

> `_ = list(posets.BooleanLattice(4).linear_extensions())`
> 
> takes at least a minute, and for example


because the list of all linear extensions is created, and

> `_ = posets.BooleanLattice(4).linear_extensions()[2000]`
> 
> takes a fraction of a second.


because this is only accessing an element in a list.



---

archive/issue_comments_497997.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [mantepse](#comment%3A11):\n> Currently, `P.linear_extensions()` returns a class, with some (rather little) initialisations done.  This class has a `__list__` method, which triggers the actual computation.\n\n\n??? No, it has `__iter__` that is an iterator.",
    "created_at": "2018-07-19T04:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497997",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>
Replying to [mantepse](#comment%3A11):
> Currently, `P.linear_extensions()` returns a class, with some (rather little) initialisations done.  This class has a `__list__` method, which triggers the actual computation.


??? No, it has `__iter__` that is an iterator.



---

archive/issue_comments_497998.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [jmantysalo](#comment%3A12):\n> Replying to [mantepse](#comment%3A11):\n> > Currently, `P.linear_extensions()` returns a class, with some (rather little) initialisations done.  This class has a `__list__` method, which triggers the actual computation.\n\n> \n> ??? No, it has `__iter__` that is an iterator.\n\n\nwhich calls `self._linear_extensions_of_hasse_diagram` which is `sage.graphs.linearextensions.LinearExtensions(poset._hasse_diagram)` which had only a `list` method before this ticket...",
    "created_at": "2018-07-19T08:29:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497998",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:13'></a>
Replying to [jmantysalo](#comment%3A12):
> Replying to [mantepse](#comment%3A11):
> > Currently, `P.linear_extensions()` returns a class, with some (rather little) initialisations done.  This class has a `__list__` method, which triggers the actual computation.

> 
> ??? No, it has `__iter__` that is an iterator.


which calls `self._linear_extensions_of_hasse_diagram` which is `sage.graphs.linearextensions.LinearExtensions(poset._hasse_diagram)` which had only a `list` method before this ticket...



---

archive/issue_comments_497999.json:
```json
{
    "body": "<a id='comment:14'></a>\nBut clearly there is some kind of \"iterator\" used here, as we can ask for example tenth linear extension without generating the whole list. In a quick look it seems that `generate_linear_extensions` gives kind of \"implicit iterator\", as it computes \"next\" linear extension in some order of extensions.\n\nBut is it so that current implementation eats memory, i.e. already \"used\" extensions are not released from the memory? If so, then I understand this.",
    "created_at": "2018-07-19T08:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-497999",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:14'></a>
But clearly there is some kind of "iterator" used here, as we can ask for example tenth linear extension without generating the whole list. In a quick look it seems that `generate_linear_extensions` gives kind of "implicit iterator", as it computes "next" linear extension in some order of extensions.

But is it so that current implementation eats memory, i.e. already "used" extensions are not released from the memory? If so, then I understand this.



---

archive/issue_comments_498000.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [jmantysalo](#comment%3A14):\n> But clearly there is some kind of \"iterator\" used here, as we can ask for example tenth linear extension without generating the whole list. \n\n\nNo, the problem is precisely that the whole list is always generated.  This is slightly obscured by the fact that posets are `UniqueRepresentation`.  But to see it, you can insert a line\n\n```diff\ndiff --git a/src/sage/graphs/linearextensions.py b/src/sage/graphs/linearextensions.py\nindex 113a2cd..f899dfc 100644\n--- a/src/sage/graphs/linearextensions.py\n+++ b/src/sage/graphs/linearextensions.py\n@@ -347,6 +347,7 @@ class LinearExtensions(CombinatorialClass):\n              [0, 2, 1, 4, 3],\n              [0, 2, 4, 1, 3]]\n         \"\"\"\n+        print(\"computing\")\n         if self.linear_extensions is not None:\n             return self.linear_extensions[:]\n```\nrebuild sage, and then verify the following:\n\n```\nsage: P = posets.AntichainPoset(9); L = P.linear_extensions()._linear_extensions_of_hasse_diagram\nsage: type(L.linear_extensions)\n<type 'NoneType'>\nsage: L[0]\ncomputing\n[0, 1, 2, 3, 4, 5, 6, 7, 8]\nsage: type(L.linear_extensions)\n<type 'list'>\nsage: L.linear_extensions[0]\n[0, 1, 2, 3, 4, 5, 6, 7, 8]\nsage: L.linear_extensions[-1]\n[8, 7, 6, 5, 4, 3, 2, 1, 0]\n```\n\nAs you can see, the list of linear extensions is computed although only the first element is requested.",
    "created_at": "2018-07-19T11:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498000",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:15'></a>
Replying to [jmantysalo](#comment%3A14):
> But clearly there is some kind of "iterator" used here, as we can ask for example tenth linear extension without generating the whole list. 


No, the problem is precisely that the whole list is always generated.  This is slightly obscured by the fact that posets are `UniqueRepresentation`.  But to see it, you can insert a line

```diff
diff --git a/src/sage/graphs/linearextensions.py b/src/sage/graphs/linearextensions.py
index 113a2cd..f899dfc 100644
--- a/src/sage/graphs/linearextensions.py
+++ b/src/sage/graphs/linearextensions.py
@@ -347,6 +347,7 @@ class LinearExtensions(CombinatorialClass):
              [0, 2, 1, 4, 3],
              [0, 2, 4, 1, 3]]
         """
+        print("computing")
         if self.linear_extensions is not None:
             return self.linear_extensions[:]
```
rebuild sage, and then verify the following:

```
sage: P = posets.AntichainPoset(9); L = P.linear_extensions()._linear_extensions_of_hasse_diagram
sage: type(L.linear_extensions)
<type 'NoneType'>
sage: L[0]
computing
[0, 1, 2, 3, 4, 5, 6, 7, 8]
sage: type(L.linear_extensions)
<type 'list'>
sage: L.linear_extensions[0]
[0, 1, 2, 3, 4, 5, 6, 7, 8]
sage: L.linear_extensions[-1]
[8, 7, 6, 5, 4, 3, 2, 1, 0]
```

As you can see, the list of linear extensions is computed although only the first element is requested.



---

archive/issue_comments_498001.json:
```json
{
    "body": "<a id='comment:16'></a>\nThis is very interesting. Maybe Travis or Fr\u00e9d\u00e9ric can tell what happens here... I start Sage and say\n\n```\nsage: for x in posets.AntichainPoset(10).linear_extensions():\n....:     print x\n....:     break\n```\n\nNo output, system seems to be stalled. I press Ctrl+C and get back to command line. I give the same command again, and now I got\n\n`[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]`\n\nSo, it seems that this kind of is an iterator, but not exactly.",
    "created_at": "2018-07-19T12:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498001",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:16'></a>
This is very interesting. Maybe Travis or Frédéric can tell what happens here... I start Sage and say

```
sage: for x in posets.AntichainPoset(10).linear_extensions():
....:     print x
....:     break
```

No output, system seems to be stalled. I press Ctrl+C and get back to command line. I give the same command again, and now I got

`[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]`

So, it seems that this kind of is an iterator, but not exactly.



---

archive/issue_comments_498002.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [jmantysalo](#comment%3A16):\n> This is very interesting. Maybe Travis or Fr\u00e9d\u00e9ric can tell what happens here... I start Sage and say\n> \n> \n> ```\n> sage: for x in posets.AntichainPoset(10).linear_extensions():\n> ....:     print x\n> ....:     break\n> ```\n> \n> No output, system seems to be stalled. I press Ctrl+C and get back to command line. I give the same command again, and now I got\n> \n> `[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]`\n> \n> So, it seems that this kind of is an iterator, but not exactly.\n\n\nYou are simply interrupting the computation in `posets.AntichainPoset(10).linear_extensions()._linear_extensions_of_hasse_diagram.list()`.\n\nYou can see this as follows: in a fresh session (!!!) do the same as before, that is, interrupt\n\n```\nsage: P = posets.AntichainPoset(10)\nsage: for x in P.linear_extensions():\n....:     print x\n....:     break\n```\nthen again\n\n```\nsage: for x in P.linear_extensions():\n....:     print x\n....:     break\n```\nwhich will yield\n\n```\n[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]\n```\nThen check that\n\n```\nsage: P.linear_extensions().cardinality()\n3628800\n```\nFinally:\n\n```\nsage: len(P.linear_extensions()._linear_extensions_of_hasse_diagram.linear_extensions)\n```\nwhich will tell you a smaller number.  And indeed\n\n```\nsage: P.linear_extensions()[3628800-1]\n```\nwill give an error (after a while, because lists are copied all the time).",
    "created_at": "2018-07-19T12:13:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498002",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:17'></a>
Replying to [jmantysalo](#comment%3A16):
> This is very interesting. Maybe Travis or Frédéric can tell what happens here... I start Sage and say
> 
> 
> ```
> sage: for x in posets.AntichainPoset(10).linear_extensions():
> ....:     print x
> ....:     break
> ```
> 
> No output, system seems to be stalled. I press Ctrl+C and get back to command line. I give the same command again, and now I got
> 
> `[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]`
> 
> So, it seems that this kind of is an iterator, but not exactly.


You are simply interrupting the computation in `posets.AntichainPoset(10).linear_extensions()._linear_extensions_of_hasse_diagram.list()`.

You can see this as follows: in a fresh session (!!!) do the same as before, that is, interrupt

```
sage: P = posets.AntichainPoset(10)
sage: for x in P.linear_extensions():
....:     print x
....:     break
```
then again

```
sage: for x in P.linear_extensions():
....:     print x
....:     break
```
which will yield

```
[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
```
Then check that

```
sage: P.linear_extensions().cardinality()
3628800
```
Finally:

```
sage: len(P.linear_extensions()._linear_extensions_of_hasse_diagram.linear_extensions)
```
which will tell you a smaller number.  And indeed

```
sage: P.linear_extensions()[3628800-1]
```
will give an error (after a while, because lists are copied all the time).



---

archive/issue_comments_498003.json:
```json
{
    "body": "<a id='comment:19'></a>\nIn the process of reading the code in `graphs/linearextensions.py`, and trying to figure out how it needs to be modified to become an iterator. I may need to read a bit more of the paper to understand what the individual helper methods are doing and how they tie together. I'm hoping it will eventually be as easy as changing the end of the `move()` and `switch()` methods to be yield statements, and make the `list()` method an `_iter_()` method.\n\nOne potential problem that could arise by changing things is if any other code relies on linear extensions of a poset being generated in lexicographic order. The algorithm itself does not generate them in lexicographic order, but the current implementation makes it appear that way to the user since the entire list is generated and then sorted before being iterated over.",
    "created_at": "2018-07-23T15:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498003",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:19'></a>
In the process of reading the code in `graphs/linearextensions.py`, and trying to figure out how it needs to be modified to become an iterator. I may need to read a bit more of the paper to understand what the individual helper methods are doing and how they tie together. I'm hoping it will eventually be as easy as changing the end of the `move()` and `switch()` methods to be yield statements, and make the `list()` method an `_iter_()` method.

One potential problem that could arise by changing things is if any other code relies on linear extensions of a poset being generated in lexicographic order. The algorithm itself does not generate them in lexicographic order, but the current implementation makes it appear that way to the user since the entire list is generated and then sorted before being iterated over.



---

archive/issue_comments_498004.json:
```json
{
    "body": "<a id='comment:20'></a>\n`@`kdilks: I modified the code already so that it is a true iterator!\n\nIt only needs review, there is no coding to be done!",
    "created_at": "2018-07-23T17:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498004",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:20'></a>
`@`kdilks: I modified the code already so that it is a true iterator!

It only needs review, there is no coding to be done!



---

archive/issue_comments_498005.json:
```json
{
    "body": "<a id='comment:21'></a>\nMuch easier!\n\nStill building Sage to run some tests. Only extremely minor thing I see from looking at the diff is that the docstring for the _iter_ method still says 'Returns a list of ...' from when it was the list method.",
    "created_at": "2018-07-23T19:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498005",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:21'></a>
Much easier!

Still building Sage to run some tests. Only extremely minor thing I see from looking at the diff is that the docstring for the _iter_ method still says 'Returns a list of ...' from when it was the list method.



---

archive/issue_comments_498006.json:
```json
{
    "body": "**Changing commit** from \"[450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5](https://github.com/sagemath/sagetrac-mirror/commit/450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5)\" to \"[e70ba7c721a0a9ffcdb3db51edb56dff652ddad0](https://github.com/sagemath/sagetrac-mirror/commit/e70ba7c721a0a9ffcdb3db51edb56dff652ddad0)\".",
    "created_at": "2018-07-23T20:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498006",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5](https://github.com/sagemath/sagetrac-mirror/commit/450ac8c1763a7bc6ef2b3a55c82da9c82363f1f5)" to "[e70ba7c721a0a9ffcdb3db51edb56dff652ddad0](https://github.com/sagemath/sagetrac-mirror/commit/e70ba7c721a0a9ffcdb3db51edb56dff652ddad0)".



---

archive/issue_comments_498007.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e70ba7c721a0a9ffcdb3db51edb56dff652ddad0\">e70ba7c</a></td><td><code>fix docstring</code></td></tr></table>\n",
    "created_at": "2018-07-23T20:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498007",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e70ba7c721a0a9ffcdb3db51edb56dff652ddad0">e70ba7c</a></td><td><code>fix docstring</code></td></tr></table>




---

archive/issue_comments_498008.json:
```json
{
    "body": "<a id='comment:23'></a>\nSome things:\n\n- It is better practice to copy the dag on input rather than at `_prepare` as it is possible to pass the dag in, modify the dag, and then run `_prepare`. It also means that it will never have an inconsistent state by having linear extensions for a dag that is not its `self.dag`.\n\n- Errors are not full sentences by Python conventions:\n\n  ```diff\n-ValueError(\"The digraph must be acyclic to have linear extensions.\")\n+ValueError(\"the digraph must be acyclic to have linear extensions\")\n  ```\n\n- The result is no longer cached. So if this is called repeatedly for the same dag, this could be slower. I think your change is okay, but it might have unintended consequences in terms of speed. Did you check this?",
    "created_at": "2018-07-24T03:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498008",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
Some things:

- It is better practice to copy the dag on input rather than at `_prepare` as it is possible to pass the dag in, modify the dag, and then run `_prepare`. It also means that it will never have an inconsistent state by having linear extensions for a dag that is not its `self.dag`.

- Errors are not full sentences by Python conventions:

  ```diff
-ValueError("The digraph must be acyclic to have linear extensions.")
+ValueError("the digraph must be acyclic to have linear extensions")
  ```

- The result is no longer cached. So if this is called repeatedly for the same dag, this could be slower. I think your change is okay, but it might have unintended consequences in terms of speed. Did you check this?



---

archive/issue_comments_498009.json:
```json
{
    "body": "<a id='comment:24'></a>\nThe first item is a bit more work, because I will have to copy the graph twice or prepare a matrix of incomparable elements.  Not sure yet what's better.",
    "created_at": "2018-07-24T11:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498009",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:24'></a>
The first item is a bit more work, because I will have to copy the graph twice or prepare a matrix of incomparable elements.  Not sure yet what's better.



---

archive/issue_comments_498010.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80a5766d6d2c288d003ab520b45ddcd147ff8fad\">80a5766</a></td><td><code>remove CombinatorialClass, prepend underscores to internal methods and variables, etc.</code></td></tr></table>\n",
    "created_at": "2018-07-24T13:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80a5766d6d2c288d003ab520b45ddcd147ff8fad">80a5766</a></td><td><code>remove CombinatorialClass, prepend underscores to internal methods and variables, etc.</code></td></tr></table>




---

archive/issue_comments_498011.json:
```json
{
    "body": "**Changing commit** from \"[e70ba7c721a0a9ffcdb3db51edb56dff652ddad0](https://github.com/sagemath/sagetrac-mirror/commit/e70ba7c721a0a9ffcdb3db51edb56dff652ddad0)\" to \"[80a5766d6d2c288d003ab520b45ddcd147ff8fad](https://github.com/sagemath/sagetrac-mirror/commit/80a5766d6d2c288d003ab520b45ddcd147ff8fad)\".",
    "created_at": "2018-07-24T13:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498011",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e70ba7c721a0a9ffcdb3db51edb56dff652ddad0](https://github.com/sagemath/sagetrac-mirror/commit/e70ba7c721a0a9ffcdb3db51edb56dff652ddad0)" to "[80a5766d6d2c288d003ab520b45ddcd147ff8fad](https://github.com/sagemath/sagetrac-mirror/commit/80a5766d6d2c288d003ab520b45ddcd147ff8fad)".



---

archive/issue_comments_498012.json:
```json
{
    "body": "<a id='comment:26'></a>\nI now get\n\n```\n            sage: l == loads(dumps(l))\n            False\n```\nno idea why (I don't even know what this does...)",
    "created_at": "2018-07-24T13:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498012",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:26'></a>
I now get

```
            sage: l == loads(dumps(l))
            False
```
no idea why (I don't even know what this does...)



---

archive/issue_comments_498013.json:
```json
{
    "body": "<a id='comment:27'></a>\nGoogle is telling me that this error can occur when you have a dictionary with non-string keys (dumps converts a dictionary to a json file which only has string keys, and then loads recreates the dictionary). How/why that's coming up...I've got nothing.",
    "created_at": "2018-07-24T13:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498013",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:27'></a>
Google is telling me that this error can occur when you have a dictionary with non-string keys (dumps converts a dictionary to a json file which only has string keys, and then loads recreates the dictionary). How/why that's coming up...I've got nothing.



---

archive/issue_comments_498014.json:
```json
{
    "body": "<a id='comment:28'></a>\nThe loads/dumps problem is a \"pickling issue\" : dumps somehow saves a compressed copy of the object (pickle) and loads restores back something from that. This kind of error is usually triggered by wrong behaviour of the comparison methods `__eq__` or `__richcmp__`. You should try to understand why `l` and `loads(dumps(l))` do not compare equal, and who is in charge of the comparison.",
    "created_at": "2018-07-24T13:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498014",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'></a>
The loads/dumps problem is a "pickling issue" : dumps somehow saves a compressed copy of the object (pickle) and loads restores back something from that. This kind of error is usually triggered by wrong behaviour of the comparison methods `__eq__` or `__richcmp__`. You should try to understand why `l` and `loads(dumps(l))` do not compare equal, and who is in charge of the comparison.



---

archive/issue_comments_498015.json:
```json
{
    "body": "<a id='comment:29'></a>\nIt appears to me now that this class actually shouldn't be a parent, because that's what `LinearExtensionsOfPoset` does, except that the latter is specialised to posets, not arbitrary DAGs.\n\nApart from there, this class is only used once in library code, in `Permutation`.\n\nAlternatively, blow it up similarly to `LinearExtensionsOfPoset`, but I'm a bit afraid that this is really only bloat.",
    "created_at": "2018-07-24T13:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498015",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:29'></a>
It appears to me now that this class actually shouldn't be a parent, because that's what `LinearExtensionsOfPoset` does, except that the latter is specialised to posets, not arbitrary DAGs.

Apart from there, this class is only used once in library code, in `Permutation`.

Alternatively, blow it up similarly to `LinearExtensionsOfPoset`, but I'm a bit afraid that this is really only bloat.



---

archive/issue_comments_498016.json:
```json
{
    "body": "<a id='comment:30'></a>\nI at least agree that it probably should not be a non-fa\u00e7ade `Parent` as its \"elements\" are lists. In fact, this is probably something we should consider cythonizing since this is *also* used by `DiGraph.topological_sort_generator` (which sounds like it should return an iterator, not a list, but that is a separate issue). Granted, since this is more of an internal class, you are probably right in that it should not be a subclass of `Parent`, but it might mean a finer check.",
    "created_at": "2018-07-26T12:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498016",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>
I at least agree that it probably should not be a non-façade `Parent` as its "elements" are lists. In fact, this is probably something we should consider cythonizing since this is *also* used by `DiGraph.topological_sort_generator` (which sounds like it should return an iterator, not a list, but that is a separate issue). Granted, since this is more of an internal class, you are probably right in that it should not be a subclass of `Parent`, but it might mean a finer check.



---

archive/issue_comments_498017.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2018-07-26T12:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498017",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_498018.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sagedays@icerm\".",
    "created_at": "2018-07-26T12:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498018",
    "user": "https://github.com/tscrim"
}
```

**Changing keywords** from "" to "sagedays@icerm".



---

archive/issue_comments_498019.json:
```json
{
    "body": "<a id='comment:31'></a>\nCould you say (or give me a reference to) what a non-facade parent is?  Or, maybe easier, what `LinearExtensions` should inherit from.\n\n(I have already adapted the code from `LinearExtensionsOfPoset`, making it a real parent with a new element class `LinearExtension` - its easy to do, I just don't know whether it is what should be done.)",
    "created_at": "2018-07-26T18:51:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498019",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:31'></a>
Could you say (or give me a reference to) what a non-facade parent is?  Or, maybe easier, what `LinearExtensions` should inherit from.

(I have already adapted the code from `LinearExtensionsOfPoset`, making it a real parent with a new element class `LinearExtension` - its easy to do, I just don't know whether it is what should be done.)



---

archive/issue_comments_498020.json:
```json
{
    "body": "<a id='comment:32'></a>\nA fa\u00e7ade parent is a parent that does not have elements but functionally behaves like a parent. IIRC, see the doc of `Parent`. As I said in[comment:30](#comment%3A30), it probably should not inherit from `Parent`, and so probably should be a subclass of `object`. However, there might be some things from the category that do get utilized (such as in the top sort method).",
    "created_at": "2018-07-26T23:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498020",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'></a>
A façade parent is a parent that does not have elements but functionally behaves like a parent. IIRC, see the doc of `Parent`. As I said in[comment:30](#comment%3A30), it probably should not inherit from `Parent`, and so probably should be a subclass of `object`. However, there might be some things from the category that do get utilized (such as in the top sort method).



---

archive/issue_comments_498021.json:
```json
{
    "body": "<a id='comment:33'></a>\nI decided to give it a try and cythonized the iterator.  I currently have a speedup of a factor 2.  I am still polishing.",
    "created_at": "2018-08-26T06:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498021",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:33'></a>
I decided to give it a try and cythonized the iterator.  I currently have a speedup of a factor 2.  I am still polishing.



---

archive/issue_comments_498022.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/015a14e008d8ce1d8a0536ff150ec9e229a83d03\">015a14e</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88fdef6ef83f920047f2a48c01766d7b6c1a47f6\">88fdef6</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf582a35ca96b80cbf977b3cea10cc8eeb25d53a\">cf582a3</a></td><td><code>cythonize iterator</code></td></tr></table>\n",
    "created_at": "2018-08-26T21:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498022",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/015a14e008d8ce1d8a0536ff150ec9e229a83d03">015a14e</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88fdef6ef83f920047f2a48c01766d7b6c1a47f6">88fdef6</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf582a35ca96b80cbf977b3cea10cc8eeb25d53a">cf582a3</a></td><td><code>cythonize iterator</code></td></tr></table>




---

archive/issue_comments_498023.json:
```json
{
    "body": "**Changing commit** from \"[80a5766d6d2c288d003ab520b45ddcd147ff8fad](https://github.com/sagemath/sagetrac-mirror/commit/80a5766d6d2c288d003ab520b45ddcd147ff8fad)\" to \"[cf582a35ca96b80cbf977b3cea10cc8eeb25d53a](https://github.com/sagemath/sagetrac-mirror/commit/cf582a35ca96b80cbf977b3cea10cc8eeb25d53a)\".",
    "created_at": "2018-08-26T21:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[80a5766d6d2c288d003ab520b45ddcd147ff8fad](https://github.com/sagemath/sagetrac-mirror/commit/80a5766d6d2c288d003ab520b45ddcd147ff8fad)" to "[cf582a35ca96b80cbf977b3cea10cc8eeb25d53a](https://github.com/sagemath/sagetrac-mirror/commit/cf582a35ca96b80cbf977b3cea10cc8eeb25d53a)".



---

archive/issue_comments_498024.json:
```json
{
    "body": "<a id='comment:35'></a>\nnew:\n\n```\nsage: from sage.combinat.combinat_cython import linear_extension_iterator\nsage: D = posets.BooleanLattice(4)\nsage: %time for e in linear_extension_iterator(D._hasse_diagram): pass\nCPU times: user 23.5 s, sys: 47.7 ms, total: 23.5 s\nWall time: 23.5 s\nsage: from sage.graphs.linearextensions import LinearExtensions\nsage: %time for e in LinearExtensions(D): pass\nCPU times: user 25.1 s, sys: 0 ns, total: 25.1 s\nWall time: 25 s\n```\nold:\n\n```\nsage: D = posets.BooleanLattice(4)\nsage: from sage.graphs.linearextensions import LinearExtensions\nsage: %time for e in LinearExtensions(D.hasse_diagram()): pass\nCPU times: user 2min 49s, sys: 692 ms, total: 2min 49s\nWall time: 2min 51s\n```",
    "created_at": "2018-08-26T21:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498024",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:35'></a>
new:

```
sage: from sage.combinat.combinat_cython import linear_extension_iterator
sage: D = posets.BooleanLattice(4)
sage: %time for e in linear_extension_iterator(D._hasse_diagram): pass
CPU times: user 23.5 s, sys: 47.7 ms, total: 23.5 s
Wall time: 23.5 s
sage: from sage.graphs.linearextensions import LinearExtensions
sage: %time for e in LinearExtensions(D): pass
CPU times: user 25.1 s, sys: 0 ns, total: 25.1 s
Wall time: 25 s
```
old:

```
sage: D = posets.BooleanLattice(4)
sage: from sage.graphs.linearextensions import LinearExtensions
sage: %time for e in LinearExtensions(D.hasse_diagram()): pass
CPU times: user 2min 49s, sys: 692 ms, total: 2min 49s
Wall time: 2min 51s
```



---

archive/issue_comments_498025.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-08-27T19:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498025",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_498026.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4de624fb8b3f183563bb161468c1985f823a0e09\">4de624f</a></td><td><code>partially fix relabelling issue</code></td></tr></table>\n",
    "created_at": "2018-08-28T08:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498026",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4de624fb8b3f183563bb161468c1985f823a0e09">4de624f</a></td><td><code>partially fix relabelling issue</code></td></tr></table>




---

archive/issue_comments_498027.json:
```json
{
    "body": "**Changing commit** from \"[cf582a35ca96b80cbf977b3cea10cc8eeb25d53a](https://github.com/sagemath/sagetrac-mirror/commit/cf582a35ca96b80cbf977b3cea10cc8eeb25d53a)\" to \"[4de624fb8b3f183563bb161468c1985f823a0e09](https://github.com/sagemath/sagetrac-mirror/commit/4de624fb8b3f183563bb161468c1985f823a0e09)\".",
    "created_at": "2018-08-28T08:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cf582a35ca96b80cbf977b3cea10cc8eeb25d53a](https://github.com/sagemath/sagetrac-mirror/commit/cf582a35ca96b80cbf977b3cea10cc8eeb25d53a)" to "[4de624fb8b3f183563bb161468c1985f823a0e09](https://github.com/sagemath/sagetrac-mirror/commit/4de624fb8b3f183563bb161468c1985f823a0e09)".



---

archive/issue_comments_498028.json:
```json
{
    "body": "**Changing commit** from \"[4de624fb8b3f183563bb161468c1985f823a0e09](https://github.com/sagemath/sagetrac-mirror/commit/4de624fb8b3f183563bb161468c1985f823a0e09)\" to \"[04459fa5110226c2d8bdc3615478ce5e86ebc86b](https://github.com/sagemath/sagetrac-mirror/commit/04459fa5110226c2d8bdc3615478ce5e86ebc86b)\".",
    "created_at": "2018-08-28T20:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498028",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4de624fb8b3f183563bb161468c1985f823a0e09](https://github.com/sagemath/sagetrac-mirror/commit/4de624fb8b3f183563bb161468c1985f823a0e09)" to "[04459fa5110226c2d8bdc3615478ce5e86ebc86b](https://github.com/sagemath/sagetrac-mirror/commit/04459fa5110226c2d8bdc3615478ce5e86ebc86b)".



---

archive/issue_comments_498029.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04459fa5110226c2d8bdc3615478ce5e86ebc86b\">04459fa</a></td><td><code>simplify logic and fix issue with ordering</code></td></tr></table>\n",
    "created_at": "2018-08-28T20:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498029",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04459fa5110226c2d8bdc3615478ce5e86ebc86b">04459fa</a></td><td><code>simplify logic and fix issue with ordering</code></td></tr></table>




---

archive/issue_comments_498030.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79e9579343f712a4d63b4f4e48fb3df1dd18a770\">79e9579</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr></table>\n",
    "created_at": "2018-09-02T10:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498030",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79e9579343f712a4d63b4f4e48fb3df1dd18a770">79e9579</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr></table>




---

archive/issue_comments_498031.json:
```json
{
    "body": "**Changing commit** from \"[04459fa5110226c2d8bdc3615478ce5e86ebc86b](https://github.com/sagemath/sagetrac-mirror/commit/04459fa5110226c2d8bdc3615478ce5e86ebc86b)\" to \"[79e9579343f712a4d63b4f4e48fb3df1dd18a770](https://github.com/sagemath/sagetrac-mirror/commit/79e9579343f712a4d63b4f4e48fb3df1dd18a770)\".",
    "created_at": "2018-09-02T10:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498031",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[04459fa5110226c2d8bdc3615478ce5e86ebc86b](https://github.com/sagemath/sagetrac-mirror/commit/04459fa5110226c2d8bdc3615478ce5e86ebc86b)" to "[79e9579343f712a4d63b4f4e48fb3df1dd18a770](https://github.com/sagemath/sagetrac-mirror/commit/79e9579343f712a4d63b4f4e48fb3df1dd18a770)".



---

archive/issue_comments_498032.json:
```json
{
    "body": "**Changing status** from needs_work to needs_info.",
    "created_at": "2018-09-02T10:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498032",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from needs_work to needs_info.



---

archive/issue_comments_498033.json:
```json
{
    "body": "<a id='comment:41'></a>\nI don't know what to do with\n\n```\n            sage: from sage.graphs.linearextensions import LinearExtensions\n            sage: D = DiGraph({ 0:[1,2], 1:[3], 2:[3,4] })\n            sage: l = LinearExtensions(D)\n            sage: l == loads(dumps(l))\n            True\n```\n(because this now gives `False`)\n\nAlso, maybe it would be better to deprecate the class `LinearExtensions` completely, the class `LinearExtensionsOfPoset` should be a good replacement (and might be renamed `LinearExtensions`).",
    "created_at": "2018-09-02T10:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498033",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:41'></a>
I don't know what to do with

```
            sage: from sage.graphs.linearextensions import LinearExtensions
            sage: D = DiGraph({ 0:[1,2], 1:[3], 2:[3,4] })
            sage: l = LinearExtensions(D)
            sage: l == loads(dumps(l))
            True
```
(because this now gives `False`)

Also, maybe it would be better to deprecate the class `LinearExtensions` completely, the class `LinearExtensionsOfPoset` should be a good replacement (and might be renamed `LinearExtensions`).



---

archive/issue_comments_498034.json:
```json
{
    "body": "**Changing commit** from \"[79e9579343f712a4d63b4f4e48fb3df1dd18a770](https://github.com/sagemath/sagetrac-mirror/commit/79e9579343f712a4d63b4f4e48fb3df1dd18a770)\" to \"[f9a7227fdb5ba3e6e3b6a161421edb3d4911f686](https://github.com/sagemath/sagetrac-mirror/commit/f9a7227fdb5ba3e6e3b6a161421edb3d4911f686)\".",
    "created_at": "2018-09-02T13:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498034",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[79e9579343f712a4d63b4f4e48fb3df1dd18a770](https://github.com/sagemath/sagetrac-mirror/commit/79e9579343f712a4d63b4f4e48fb3df1dd18a770)" to "[f9a7227fdb5ba3e6e3b6a161421edb3d4911f686](https://github.com/sagemath/sagetrac-mirror/commit/f9a7227fdb5ba3e6e3b6a161421edb3d4911f686)".



---

archive/issue_comments_498035.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9a7227fdb5ba3e6e3b6a161421edb3d4911f686\">f9a7227</a></td><td><code>fix pyflakes import statements</code></td></tr></table>\n",
    "created_at": "2018-09-02T13:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498035",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9a7227fdb5ba3e6e3b6a161421edb3d4911f686">f9a7227</a></td><td><code>fix pyflakes import statements</code></td></tr></table>




---

archive/issue_comments_498036.json:
```json
{
    "body": "<a id='comment:43'></a>\nAnne, I'm guessing that this might affect (positively, I hope) a lot of your code...",
    "created_at": "2018-09-02T13:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498036",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:43'></a>
Anne, I'm guessing that this might affect (positively, I hope) a lot of your code...



---

archive/issue_comments_498037.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [mantepse](#comment%3A41):\n> I don't know what to do with\n> \n> ```\n>             sage: from sage.graphs.linearextensions import LinearExtensions\n>             sage: D = DiGraph({ 0:[1,2], 1:[3], 2:[3,4] })\n>             sage: l = LinearExtensions(D)\n>             sage: l == loads(dumps(l))\n>             True\n> ```\n> (because this now gives `False`)\n\n\nBecause `Parent` does not have an `__eq__` method (so it defaults to compare by id, which is obviously false).\n\n> Also, maybe it would be better to deprecate the class `LinearExtensions` completely, the class `LinearExtensionsOfPoset` should be a good replacement (and might be renamed `LinearExtensions`).\n\n\n`LinearExtensions` was serving as an iterator object that yielded low level objects. Now this is done by your cython iterator. So +1 for deprecating it, -1 from saying `LinearExtensionsOfPoset` is a replacement.\n\nAlso, I have a general -1 on all of those `sorted`. They should not be necessary, and within code, they can be (relatively) expensive when not needed.",
    "created_at": "2018-09-02T22:28:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498037",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:44'></a>
Replying to [mantepse](#comment%3A41):
> I don't know what to do with
> 
> ```
>             sage: from sage.graphs.linearextensions import LinearExtensions
>             sage: D = DiGraph({ 0:[1,2], 1:[3], 2:[3,4] })
>             sage: l = LinearExtensions(D)
>             sage: l == loads(dumps(l))
>             True
> ```
> (because this now gives `False`)


Because `Parent` does not have an `__eq__` method (so it defaults to compare by id, which is obviously false).

> Also, maybe it would be better to deprecate the class `LinearExtensions` completely, the class `LinearExtensionsOfPoset` should be a good replacement (and might be renamed `LinearExtensions`).


`LinearExtensions` was serving as an iterator object that yielded low level objects. Now this is done by your cython iterator. So +1 for deprecating it, -1 from saying `LinearExtensionsOfPoset` is a replacement.

Also, I have a general -1 on all of those `sorted`. They should not be necessary, and within code, they can be (relatively) expensive when not needed.



---

archive/issue_comments_498038.json:
```json
{
    "body": "**Changing commit** from \"[f9a7227fdb5ba3e6e3b6a161421edb3d4911f686](https://github.com/sagemath/sagetrac-mirror/commit/f9a7227fdb5ba3e6e3b6a161421edb3d4911f686)\" to \"[84aad72318baa661734246ba47d6e3889adb3eb7](https://github.com/sagemath/sagetrac-mirror/commit/84aad72318baa661734246ba47d6e3889adb3eb7)\".",
    "created_at": "2018-09-04T16:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f9a7227fdb5ba3e6e3b6a161421edb3d4911f686](https://github.com/sagemath/sagetrac-mirror/commit/f9a7227fdb5ba3e6e3b6a161421edb3d4911f686)" to "[84aad72318baa661734246ba47d6e3889adb3eb7](https://github.com/sagemath/sagetrac-mirror/commit/84aad72318baa661734246ba47d6e3889adb3eb7)".



---

archive/issue_comments_498039.json:
```json
{
    "body": "<a id='comment:45'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84aad72318baa661734246ba47d6e3889adb3eb7\">84aad72</a></td><td><code>deprecate LinearExtensions</code></td></tr></table>\n",
    "created_at": "2018-09-04T16:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84aad72318baa661734246ba47d6e3889adb3eb7">84aad72</a></td><td><code>deprecate LinearExtensions</code></td></tr></table>




---

archive/issue_comments_498040.json:
```json
{
    "body": "<a id='comment:46'></a>\nTravis, I need some help with the deprecation message and the `sorted` issue.\n\n* I think the deprecation is mainly (but not exclusively) to direct the user to alternatives.  Thus I'd say it's `DiGraph.topological_sort_generator` and `LinearExtensionsOfPoset`.  You wrote that you disagree with `LinearExtensionsOfPoset`, could you please expand why?\n\n* `LinearExtensions` sorted it's result, and I think it's fine to leave it that way in the deprecated class.  However, in `LinearExtensionsOfPoset` I certainly do not want to sort.  Should I remove the sorting from the doctests too?\n\n* `topological_sort_generator` returns a sorted list.  Should I create a new method `topological_sort_iterator`, which is an iterator, and deprecate the old method, or should I silently modify the old method?\n\n* I would actually like to advertise `LinearExtensionsOfPoset` as main entry point, and I think this should also be a method of `Poset`.  What do you think?",
    "created_at": "2018-09-04T16:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498040",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:46'></a>
Travis, I need some help with the deprecation message and the `sorted` issue.

* I think the deprecation is mainly (but not exclusively) to direct the user to alternatives.  Thus I'd say it's `DiGraph.topological_sort_generator` and `LinearExtensionsOfPoset`.  You wrote that you disagree with `LinearExtensionsOfPoset`, could you please expand why?

* `LinearExtensions` sorted it's result, and I think it's fine to leave it that way in the deprecated class.  However, in `LinearExtensionsOfPoset` I certainly do not want to sort.  Should I remove the sorting from the doctests too?

* `topological_sort_generator` returns a sorted list.  Should I create a new method `topological_sort_iterator`, which is an iterator, and deprecate the old method, or should I silently modify the old method?

* I would actually like to advertise `LinearExtensionsOfPoset` as main entry point, and I think this should also be a method of `Poset`.  What do you think?



---

archive/issue_comments_498041.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [mantepse](#comment%3A46):\n> * I think the deprecation is mainly (but not exclusively) to direct the user to alternatives.  Thus I'd say it's `DiGraph.topological_sort_generator` and `LinearExtensionsOfPoset`.  You wrote that you disagree with `LinearExtensionsOfPoset`, could you please expand why?\n\n\nAs per[comment:44](#comment%3A44), `LinearExtensionsOfPoset` does not return a low-level object (in this case, a list). It is not equivalent or an alternative as a DAG is not a poset.\n\n> * `LinearExtensions` sorted it's result, and I think it's fine to leave it that way in the deprecated class.  However, in `LinearExtensionsOfPoset` I certainly do not want to sort.  Should I remove the sorting from the doctests too?\n\n\nYes. It is not machine dependent, right? There is no point in adding useless things (e.g. sorting) to doctests or code.\n\n> * `topological_sort_generator` returns a sorted list.  Should I create a new method `topological_sort_iterator`, which is an iterator, and deprecate the old method, or should I silently modify the old method?\n\n\nThat it was sorting things is an implementation detail. There is nothing in the documentation about guaranteeing that the linear extensions returned are in a particular order.\n\n> * I would actually like to advertise `LinearExtensionsOfPoset` as main entry point, and I think this should also be a method of `Poset`.  What do you think?\n\n\nStrong -1 on having `LinearExtensionsOfPoset` as a global entry point and suggesting it in any documentation. You should always go through `Poset(foo).linear_extensions()`. This is natural and helps keeps the global namespace clean.",
    "created_at": "2018-09-04T22:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498041",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:47'></a>
Replying to [mantepse](#comment%3A46):
> * I think the deprecation is mainly (but not exclusively) to direct the user to alternatives.  Thus I'd say it's `DiGraph.topological_sort_generator` and `LinearExtensionsOfPoset`.  You wrote that you disagree with `LinearExtensionsOfPoset`, could you please expand why?


As per[comment:44](#comment%3A44), `LinearExtensionsOfPoset` does not return a low-level object (in this case, a list). It is not equivalent or an alternative as a DAG is not a poset.

> * `LinearExtensions` sorted it's result, and I think it's fine to leave it that way in the deprecated class.  However, in `LinearExtensionsOfPoset` I certainly do not want to sort.  Should I remove the sorting from the doctests too?


Yes. It is not machine dependent, right? There is no point in adding useless things (e.g. sorting) to doctests or code.

> * `topological_sort_generator` returns a sorted list.  Should I create a new method `topological_sort_iterator`, which is an iterator, and deprecate the old method, or should I silently modify the old method?


That it was sorting things is an implementation detail. There is nothing in the documentation about guaranteeing that the linear extensions returned are in a particular order.

> * I would actually like to advertise `LinearExtensionsOfPoset` as main entry point, and I think this should also be a method of `Poset`.  What do you think?


Strong -1 on having `LinearExtensionsOfPoset` as a global entry point and suggesting it in any documentation. You should always go through `Poset(foo).linear_extensions()`. This is natural and helps keeps the global namespace clean.



---

archive/issue_comments_498042.json:
```json
{
    "body": "<a id='comment:48'></a>\nOh, I didn't realize that `Poset` has a method returning `LinearExtensionsOfPoset`...",
    "created_at": "2018-09-05T04:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498042",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:48'></a>
Oh, I didn't realize that `Poset` has a method returning `LinearExtensionsOfPoset`...



---

archive/issue_comments_498043.json:
```json
{
    "body": "<a id='comment:49'></a>\nI am now removing the sorted from the doctests, but I must say that I think this is wrong, for the following reasons:\n\n* it saves no time (because sorting a list of 4 elements is not very costly)\n\n* it makes the doctests less expressive: adding the `sorted` also tells the user not to rely on the order\n\n* it creates a lot of work and larger diffs.\n\nI am totally with you to remove the sorted from the methods, however.",
    "created_at": "2018-09-05T05:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498043",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:49'></a>
I am now removing the sorted from the doctests, but I must say that I think this is wrong, for the following reasons:

* it saves no time (because sorting a list of 4 elements is not very costly)

* it makes the doctests less expressive: adding the `sorted` also tells the user not to rely on the order

* it creates a lot of work and larger diffs.

I am totally with you to remove the sorted from the methods, however.



---

archive/issue_comments_498044.json:
```json
{
    "body": "**Changing commit** from \"[84aad72318baa661734246ba47d6e3889adb3eb7](https://github.com/sagemath/sagetrac-mirror/commit/84aad72318baa661734246ba47d6e3889adb3eb7)\" to \"[d8795fb2cb3aa8897196bdba51e294b6a2ee52c5](https://github.com/sagemath/sagetrac-mirror/commit/d8795fb2cb3aa8897196bdba51e294b6a2ee52c5)\".",
    "created_at": "2018-09-05T05:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[84aad72318baa661734246ba47d6e3889adb3eb7](https://github.com/sagemath/sagetrac-mirror/commit/84aad72318baa661734246ba47d6e3889adb3eb7)" to "[d8795fb2cb3aa8897196bdba51e294b6a2ee52c5](https://github.com/sagemath/sagetrac-mirror/commit/d8795fb2cb3aa8897196bdba51e294b6a2ee52c5)".



---

archive/issue_comments_498045.json:
```json
{
    "body": "<a id='comment:50'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8795fb2cb3aa8897196bdba51e294b6a2ee52c5\">d8795fb</a></td><td><code>do not sort in methods</code></td></tr></table>\n",
    "created_at": "2018-09-05T05:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498045",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8795fb2cb3aa8897196bdba51e294b6a2ee52c5">d8795fb</a></td><td><code>do not sort in methods</code></td></tr></table>




---

archive/issue_comments_498046.json:
```json
{
    "body": "<a id='comment:51'></a>\nI won't be able to unsort soon, sorry.",
    "created_at": "2018-09-05T06:29:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498046",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:51'></a>
I won't be able to unsort soon, sorry.



---

archive/issue_comments_498047.json:
```json
{
    "body": "<a id='comment:52'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcb8fe3cd7dc554892cdcc7773911768383adb80\">dcb8fe3</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr></table>\n",
    "created_at": "2018-09-10T14:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcb8fe3cd7dc554892cdcc7773911768383adb80">dcb8fe3</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr></table>




---

archive/issue_comments_498048.json:
```json
{
    "body": "**Changing commit** from \"[d8795fb2cb3aa8897196bdba51e294b6a2ee52c5](https://github.com/sagemath/sagetrac-mirror/commit/d8795fb2cb3aa8897196bdba51e294b6a2ee52c5)\" to \"[dcb8fe3cd7dc554892cdcc7773911768383adb80](https://github.com/sagemath/sagetrac-mirror/commit/dcb8fe3cd7dc554892cdcc7773911768383adb80)\".",
    "created_at": "2018-09-10T14:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d8795fb2cb3aa8897196bdba51e294b6a2ee52c5](https://github.com/sagemath/sagetrac-mirror/commit/d8795fb2cb3aa8897196bdba51e294b6a2ee52c5)" to "[dcb8fe3cd7dc554892cdcc7773911768383adb80](https://github.com/sagemath/sagetrac-mirror/commit/dcb8fe3cd7dc554892cdcc7773911768383adb80)".



---

archive/issue_comments_498049.json:
```json
{
    "body": "<a id='comment:53'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8512ff7459cb49d95a69175490fb90e0e2159fd8\">8512ff7</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr></table>\n",
    "created_at": "2018-11-20T09:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8512ff7459cb49d95a69175490fb90e0e2159fd8">8512ff7</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr></table>




---

archive/issue_comments_498050.json:
```json
{
    "body": "**Changing commit** from \"[dcb8fe3cd7dc554892cdcc7773911768383adb80](https://github.com/sagemath/sagetrac-mirror/commit/dcb8fe3cd7dc554892cdcc7773911768383adb80)\" to \"[8512ff7459cb49d95a69175490fb90e0e2159fd8](https://github.com/sagemath/sagetrac-mirror/commit/8512ff7459cb49d95a69175490fb90e0e2159fd8)\".",
    "created_at": "2018-11-20T09:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dcb8fe3cd7dc554892cdcc7773911768383adb80](https://github.com/sagemath/sagetrac-mirror/commit/dcb8fe3cd7dc554892cdcc7773911768383adb80)" to "[8512ff7459cb49d95a69175490fb90e0e2159fd8](https://github.com/sagemath/sagetrac-mirror/commit/8512ff7459cb49d95a69175490fb90e0e2159fd8)".



---

archive/issue_comments_498051.json:
```json
{
    "body": "**Changing commit** from \"[8512ff7459cb49d95a69175490fb90e0e2159fd8](https://github.com/sagemath/sagetrac-mirror/commit/8512ff7459cb49d95a69175490fb90e0e2159fd8)\" to \"[9ec826f79a54f826f44d7b35f92786f5e58667ca](https://github.com/sagemath/sagetrac-mirror/commit/9ec826f79a54f826f44d7b35f92786f5e58667ca)\".",
    "created_at": "2018-11-20T09:49:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8512ff7459cb49d95a69175490fb90e0e2159fd8](https://github.com/sagemath/sagetrac-mirror/commit/8512ff7459cb49d95a69175490fb90e0e2159fd8)" to "[9ec826f79a54f826f44d7b35f92786f5e58667ca](https://github.com/sagemath/sagetrac-mirror/commit/9ec826f79a54f826f44d7b35f92786f5e58667ca)".



---

archive/issue_comments_498052.json:
```json
{
    "body": "<a id='comment:54'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ec826f79a54f826f44d7b35f92786f5e58667ca\">9ec826f</a></td><td><code>fix doctests</code></td></tr></table>\n",
    "created_at": "2018-11-20T09:49:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ec826f79a54f826f44d7b35f92786f5e58667ca">9ec826f</a></td><td><code>fix doctests</code></td></tr></table>




---

archive/issue_comments_498053.json:
```json
{
    "body": "<a id='comment:55'></a>\nI am now going to remove the sorting from the doctests.",
    "created_at": "2018-11-20T09:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498053",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:55'></a>
I am now going to remove the sorting from the doctests.



---

archive/issue_comments_498054.json:
```json
{
    "body": "**Changing commit** from \"[9ec826f79a54f826f44d7b35f92786f5e58667ca](https://github.com/sagemath/sagetrac-mirror/commit/9ec826f79a54f826f44d7b35f92786f5e58667ca)\" to \"[4ec19005cec766c9d2cc4e198dd163002561a19c](https://github.com/sagemath/sagetrac-mirror/commit/4ec19005cec766c9d2cc4e198dd163002561a19c)\".",
    "created_at": "2018-11-20T10:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9ec826f79a54f826f44d7b35f92786f5e58667ca](https://github.com/sagemath/sagetrac-mirror/commit/9ec826f79a54f826f44d7b35f92786f5e58667ca)" to "[4ec19005cec766c9d2cc4e198dd163002561a19c](https://github.com/sagemath/sagetrac-mirror/commit/4ec19005cec766c9d2cc4e198dd163002561a19c)".



---

archive/issue_comments_498055.json:
```json
{
    "body": "<a id='comment:56'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ec19005cec766c9d2cc4e198dd163002561a19c\">4ec1900</a></td><td><code>remove sorting in doctests by reviewer's request</code></td></tr></table>\n",
    "created_at": "2018-11-20T10:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498055",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ec19005cec766c9d2cc4e198dd163002561a19c">4ec1900</a></td><td><code>remove sorting in doctests by reviewer's request</code></td></tr></table>




---

archive/issue_comments_498056.json:
```json
{
    "body": "<a id='comment:57'></a>\nPlease check that this \"unsorting\" also works with python3. Yes, I know that this is a burden..",
    "created_at": "2018-11-20T10:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498056",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:57'></a>
Please check that this "unsorting" also works with python3. Yes, I know that this is a burden..



---

archive/issue_comments_498057.json:
```json
{
    "body": "<a id='comment:58'></a>\nThe calls to `sorted` are now also removed in doctests.  Please review!",
    "created_at": "2018-11-20T10:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498057",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:58'></a>
The calls to `sorted` are now also removed in doctests.  Please review!



---

archive/issue_comments_498058.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2018-11-20T10:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498058",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_498059.json:
```json
{
    "body": "<a id='comment:59'></a>\nReplying to [chapoton](#comment%3A57):\n> Please check that this \"unsorting\" also works with python3. Yes, I know that this is a burden..\n\n\nIt was not my idea not to sort, and I explained well why I think that sorting shoult be done, to no avail.  I just spent more than an hour to remove all the sorts, and I have no idea how to do this with python3.\n\nExcuse me, it's absolutely not your fault, but if this was wasted time, I'm really pissed off.",
    "created_at": "2018-11-20T10:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498059",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:59'></a>
Replying to [chapoton](#comment%3A57):
> Please check that this "unsorting" also works with python3. Yes, I know that this is a burden..


It was not my idea not to sort, and I explained well why I think that sorting shoult be done, to no avail.  I just spent more than an hour to remove all the sorts, and I have no idea how to do this with python3.

Excuse me, it's absolutely not your fault, but if this was wasted time, I'm really pissed off.



---

archive/issue_comments_498060.json:
```json
{
    "body": "<a id='comment:60'></a>\nI am sorry, because I could in fact have told you a bit earlier. I did not want to interfere, but then I feeled obliged to do so.\n\nThe point is: are we sure that the order in which the linear extensions are produced is deterministic ? \n\nYou need to check that the doctests that you take great care to modify will not break on a python3-build sage. I have no available time to do that for you. This means building another copy of sage, and running the doctests..",
    "created_at": "2018-11-20T10:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498060",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:60'></a>
I am sorry, because I could in fact have told you a bit earlier. I did not want to interfere, but then I feeled obliged to do so.

The point is: are we sure that the order in which the linear extensions are produced is deterministic ? 

You need to check that the doctests that you take great care to modify will not break on a python3-build sage. I have no available time to do that for you. This means building another copy of sage, and running the doctests..



---

archive/issue_comments_498061.json:
```json
{
    "body": "<a id='comment:61'></a>\nI am right now trying your branch on a python3-sage..",
    "created_at": "2018-11-20T10:53:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498061",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:61'></a>
I am right now trying your branch on a python3-sage..



---

archive/issue_comments_498062.json:
```json
{
    "body": "<a id='comment:62'></a>\nok, this seems to work smoothly on python3. So let the review process go on.",
    "created_at": "2018-11-20T10:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498062",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:62'></a>
ok, this seems to work smoothly on python3. So let the review process go on.



---

archive/issue_comments_498063.json:
```json
{
    "body": "<a id='comment:63'></a>\nOK, now building with python3.",
    "created_at": "2018-11-20T11:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498063",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:63'></a>
OK, now building with python3.



---

archive/issue_comments_498064.json:
```json
{
    "body": "<a id='comment:64'></a>\nReplying to [chapoton](#comment%3A60):\n> I am sorry, because I could in fact have told you a bit earlier. I did not want to interfere, but then I feeled obliged to do so.\n\n\nNo problem, I very much value your work, and I overreacted, because I did not and do not see any sense in removing the sorting, as I explained above.  (In fact, putting in the sorting also took some time.)\n\nI hope that this can be merged soon, so #25865 can be merged, too.",
    "created_at": "2018-11-20T11:29:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498064",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:64'></a>
Replying to [chapoton](#comment%3A60):
> I am sorry, because I could in fact have told you a bit earlier. I did not want to interfere, but then I feeled obliged to do so.


No problem, I very much value your work, and I overreacted, because I did not and do not see any sense in removing the sorting, as I explained above.  (In fact, putting in the sorting also took some time.)

I hope that this can be merged soon, so #25865 can be merged, too.



---

archive/issue_comments_498065.json:
```json
{
    "body": "<a id='comment:65'></a>\nThank you for removing the unnecessary sorting.\n\nThe patchbot is getting one failure:\n\n```\nFile \"src/sage/combinat/posets/poset_examples.py\", line 1400, in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset\nFailed example:\n    P.cover_relations()\nExpected:\n    [[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)],\n     [(0, 1), (1, 1)]]\nGot:\n    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0), (1, 1)]]\n```\nAlso, before you whine about this, this was *not* affected by the sorting changes.",
    "created_at": "2018-11-20T17:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498065",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:65'></a>
Thank you for removing the unnecessary sorting.

The patchbot is getting one failure:

```
File "src/sage/combinat/posets/poset_examples.py", line 1400, in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset
Failed example:
    P.cover_relations()
Expected:
    [[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)],
     [(0, 1), (1, 1)]]
Got:
    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0), (1, 1)]]
```
Also, before you whine about this, this was *not* affected by the sorting changes.



---

archive/issue_comments_498066.json:
```json
{
    "body": "<a id='comment:66'></a>\nThis is. #26586",
    "created_at": "2018-11-20T18:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498066",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:66'></a>
This is. #26586



---

archive/issue_comments_498067.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-11-20T18:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498067",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_073533.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-20T18:16:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25864#event-73533"
}
```



---

archive/issue_comments_498068.json:
```json
{
    "body": "**Changing reviewer** from \"Travis Scrimshaw\" to \"Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2018-11-20T18:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498068",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Travis Scrimshaw" to "Travis Scrimshaw, Frédéric Chapoton".



---

archive/issue_comments_498069.json:
```json
{
    "body": "<a id='comment:67'></a>\nOkay, then positive review.",
    "created_at": "2018-11-20T18:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498069",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:67'></a>
Okay, then positive review.



---

archive/issue_comments_498070.json:
```json
{
    "body": "<a id='comment:68'></a>\nThank you!",
    "created_at": "2018-11-20T19:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498070",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:68'></a>
Thank you!



---

archive/issue_comments_498071.json:
```json
{
    "body": "**Dependencies:** 26586",
    "created_at": "2018-11-21T19:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498071",
    "user": "https://github.com/vbraun"
}
```

**Dependencies:** 26586



---

archive/issue_comments_498072.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2018-11-21T19:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498072",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_498073.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2018-11-21T19:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498073",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_498074.json:
```json
{
    "body": "**Changing dependencies** from \"26586\" to \"#26586\".",
    "created_at": "2018-11-21T19:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498074",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "26586" to "#26586".



---

archive/issue_comments_498075.json:
```json
{
    "body": "**Changing dependencies** from \"#26586\" to \"\".",
    "created_at": "2018-11-21T20:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498075",
    "user": "https://github.com/tscrim"
}
```

**Changing dependencies** from "#26586" to "".



---

archive/issue_comments_498076.json:
```json
{
    "body": "<a id='comment:71'></a>\n#26586 is not a dependency of this ticket as that problem already exists and is independent of this ticket.",
    "created_at": "2018-11-21T20:59:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498076",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:71'></a>
#26586 is not a dependency of this ticket as that problem already exists and is independent of this ticket.



---

archive/issue_comments_498077.json:
```json
{
    "body": "<a id='comment:72'></a>\nI wasn't aware of the #26586 issue before this. Or does this ticket make #26586 now appear without running the doctests with `--gc=never`?",
    "created_at": "2018-11-21T21:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498077",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:72'></a>
I wasn't aware of the #26586 issue before this. Or does this ticket make #26586 now appear without running the doctests with `--gc=never`?



---

archive/issue_comments_498078.json:
```json
{
    "body": "<a id='comment:73'></a>\nNo, it is not really a dependency.  What happens is that I was not using `--long` on my laptop, but the patchbot is.\n\nThe problem exists with and without this branch, but this branch modifies the output.",
    "created_at": "2018-11-21T21:06:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498078",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:73'></a>
No, it is not really a dependency.  What happens is that I was not using `--long` on my laptop, but the patchbot is.

The problem exists with and without this branch, but this branch modifies the output.



---

archive/issue_comments_498079.json:
```json
{
    "body": "<a id='comment:74'></a>\nFor whatever reason this ticket excascerbates the problem; I'm not going to merge it if it makes half of the buildbots fail.",
    "created_at": "2018-11-22T00:07:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498079",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:74'></a>
For whatever reason this ticket excascerbates the problem; I'm not going to merge it if it makes half of the buildbots fail.



---

archive/issue_comments_498080.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2018-11-22T00:07:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498080",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_498081.json:
```json
{
    "body": "**Changing commit** from \"[4ec19005cec766c9d2cc4e198dd163002561a19c](https://github.com/sagemath/sagetrac-mirror/commit/4ec19005cec766c9d2cc4e198dd163002561a19c)\" to \"[cca16168918bf62dc04e2b84c5dca69d6517c68b](https://github.com/sagemath/sagetrac-mirror/commit/cca16168918bf62dc04e2b84c5dca69d6517c68b)\".",
    "created_at": "2018-12-24T23:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4ec19005cec766c9d2cc4e198dd163002561a19c](https://github.com/sagemath/sagetrac-mirror/commit/4ec19005cec766c9d2cc4e198dd163002561a19c)" to "[cca16168918bf62dc04e2b84c5dca69d6517c68b](https://github.com/sagemath/sagetrac-mirror/commit/cca16168918bf62dc04e2b84c5dca69d6517c68b)".



---

archive/issue_comments_498082.json:
```json
{
    "body": "<a id='comment:75'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cca16168918bf62dc04e2b84c5dca69d6517c68b\">cca1616</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr></table>\n",
    "created_at": "2018-12-24T23:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:75'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cca16168918bf62dc04e2b84c5dca69d6517c68b">cca1616</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr></table>




---

archive/issue_comments_498083.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-12-25T00:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498083",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_498084.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-12-25T01:04:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498084",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_498085.json:
```json
{
    "body": "<a id='comment:78'></a>\nMerge conflict",
    "created_at": "2018-12-25T14:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498085",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:78'></a>
Merge conflict



---

archive/issue_comments_498086.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2018-12-25T14:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498086",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_498087.json:
```json
{
    "body": "<a id='comment:79'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79c034eaa3c12a56d0b06a3795f7683e6552791e\">79c034e</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c62cd56d523b93380171659b4a788ecbabc6b8fa\">c62cd56</a></td><td><code>remove \"# known bug\" because it now works as expected</code></td></tr></table>\n",
    "created_at": "2018-12-28T15:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:79'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79c034eaa3c12a56d0b06a3795f7683e6552791e">79c034e</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/25864/make_linearextensions_an_iterator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c62cd56d523b93380171659b4a788ecbabc6b8fa">c62cd56</a></td><td><code>remove "# known bug" because it now works as expected</code></td></tr></table>




---

archive/issue_comments_498088.json:
```json
{
    "body": "**Changing commit** from \"[cca16168918bf62dc04e2b84c5dca69d6517c68b](https://github.com/sagemath/sagetrac-mirror/commit/cca16168918bf62dc04e2b84c5dca69d6517c68b)\" to \"[c62cd56d523b93380171659b4a788ecbabc6b8fa](https://github.com/sagemath/sagetrac-mirror/commit/c62cd56d523b93380171659b4a788ecbabc6b8fa)\".",
    "created_at": "2018-12-28T15:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cca16168918bf62dc04e2b84c5dca69d6517c68b](https://github.com/sagemath/sagetrac-mirror/commit/cca16168918bf62dc04e2b84c5dca69d6517c68b)" to "[c62cd56d523b93380171659b4a788ecbabc6b8fa](https://github.com/sagemath/sagetrac-mirror/commit/c62cd56d523b93380171659b4a788ecbabc6b8fa)".



---

archive/issue_comments_498089.json:
```json
{
    "body": "<a id='comment:80'></a>\nEssentially trivial merge.",
    "created_at": "2018-12-28T15:13:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498089",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:80'></a>
Essentially trivial merge.



---

archive/issue_comments_498090.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-12-28T15:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498090",
    "user": "https://github.com/mantepse"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_498091.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-12-29T02:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498091",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_073534.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-12-29T02:20:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25864#event-73534"
}
```



---

archive/issue_events_073535.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-12-29T02:20:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25864#event-73535"
}
```



---

archive/issue_comments_498092.json:
```json
{
    "body": "**Changing branch** from \"[u/mantepse/make_linearextensions_an_iterator](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/make_linearextensions_an_iterator)\" to \"[c62cd56d523b93380171659b4a788ecbabc6b8fa](https://github.com/sagemath/sagetrac-mirror/commit/c62cd56d523b93380171659b4a788ecbabc6b8fa)\".",
    "created_at": "2018-12-30T09:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498092",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mantepse/make_linearextensions_an_iterator](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/make_linearextensions_an_iterator)" to "[c62cd56d523b93380171659b4a788ecbabc6b8fa](https://github.com/sagemath/sagetrac-mirror/commit/c62cd56d523b93380171659b4a788ecbabc6b8fa)".



---

archive/issue_comments_498093.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2018-12-30T09:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25864#issuecomment-498093",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_073536.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-30T09:15:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25864",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25864#event-73536"
}
```
