# Issue 25318: Improve basic operations with fraction field elements

archive/issues_025081.json:
```json
{
    "assignees": [],
    "body": "As discussed in\n[this 2018-06 sage-devel discussion](https://groups.google.com/d/topic/sage-devel/Sqt4N8eVq-o/discussion),\nthis is part of an effort to improve fraction field elements,\nand in particular rational fractions in several variables,\nspread across four tickets:\n\n- #25318: Improve basic operations with fraction field elements (the present ticket)\n- #25290: Don't use Karatsuba for multiplying polynomials over fraction fields\n- #23909; GCD for univariate polynomials over fraction fields\n- #16268: Better normalization for fraction field elements\n\nAt least for some applications, these tickets bring Sage fraction field elements\nfrom \"so slow they are unusable\" to \"not really great yet but reasonable\".\n\n\nDepends on #16268\n\nCC:  @roed314 @xcaruso @slel @nthiery @anneschilling\n\nComponent: **algebra**\n\nAuthor: **Marc Mezzarobba**\n\nBranch/Commit: **[u/mmezzarobba/fractions_trivial](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/fractions_trivial) @ [`51c4308`](https://github.com/sagemath/sagetrac-mirror/commit/51c430873b0b8fe64865328afa73550241927866)**\n\nReviewer: **Julian R\u00fcth**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25318_\n\n",
    "created_at": "2018-05-09T19:34:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improve basic operations with fraction field elements",
    "type": "issue",
    "updated_at": "2022-08-31T02:51:13Z",
    "url": "https://github.com/sagemath/sage/issues/25318",
    "user": "https://github.com/mezzarobba"
}
```
As discussed in
[this 2018-06 sage-devel discussion](https://groups.google.com/d/topic/sage-devel/Sqt4N8eVq-o/discussion),
this is part of an effort to improve fraction field elements,
and in particular rational fractions in several variables,
spread across four tickets:

- #25318: Improve basic operations with fraction field elements (the present ticket)
- #25290: Don't use Karatsuba for multiplying polynomials over fraction fields
- #23909; GCD for univariate polynomials over fraction fields
- #16268: Better normalization for fraction field elements

At least for some applications, these tickets bring Sage fraction field elements
from "so slow they are unusable" to "not really great yet but reasonable".


Depends on #16268

CC:  @roed314 @xcaruso @slel @nthiery @anneschilling

Component: **algebra**

Author: **Marc Mezzarobba**

Branch/Commit: **[u/mmezzarobba/fractions_trivial](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/fractions_trivial) @ [`51c4308`](https://github.com/sagemath/sagetrac-mirror/commit/51c430873b0b8fe64865328afa73550241927866)**

Reviewer: **Julian RÃ¼th**

_Issue created by migration from https://trac.sagemath.org/ticket/25318_





---

archive/issue_events_347300.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-09T19:34:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347300"
}
```



---

archive/issue_events_347301.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-09T19:34:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347301"
}
```



---

archive/issue_events_347302.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-09T19:34:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347302"
}
```



---

archive/issue_events_347303.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-09T19:34:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347303"
}
```



---

archive/issue_comments_387056.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7ae439978809de866b88411f0b0008838f756e9\"><code>d7ae439</code></a></td><td><code>fewer temporaries in `_mul_`, `_richcmp_` of fractions</code></td></tr></table>\n",
    "created_at": "2018-05-09T19:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387056",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7ae439978809de866b88411f0b0008838f756e9"><code>d7ae439</code></a></td><td><code>fewer temporaries in `_mul_`, `_richcmp_` of fractions</code></td></tr></table>




---

archive/issue_comments_387057.json:
```json
{
    "body": "Changed commit from **[`89e6e7f`](https://github.com/sagemath/sagetrac-mirror/commit/89e6e7f254e5a6fc1f8a8a7cc4ec7e0967eda4fe)** to **[`d7ae439`](https://github.com/sagemath/sagetrac-mirror/commit/d7ae439978809de866b88411f0b0008838f756e9)**",
    "created_at": "2018-05-09T19:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387057",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`89e6e7f`](https://github.com/sagemath/sagetrac-mirror/commit/89e6e7f254e5a6fc1f8a8a7cc4ec7e0967eda4fe)** to **[`d7ae439`](https://github.com/sagemath/sagetrac-mirror/commit/d7ae439978809de866b88411f0b0008838f756e9)**



---

archive/issue_comments_387058.json:
```json
{
    "body": "Dependencies: **#16268**",
    "created_at": "2018-05-09T19:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387058",
    "user": "https://github.com/mezzarobba"
}
```

Dependencies: **#16268**



---

archive/issue_events_347304.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-09T19:39:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347304"
}
```



---

archive/issue_events_347305.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-11T19:00:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347305"
}
```



---

archive/issue_events_347306.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-11T19:00:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347306"
}
```



---

archive/issue_comments_387059.json:
```json
{
    "body": "Changed commit from **[`d7ae439`](https://github.com/sagemath/sagetrac-mirror/commit/d7ae439978809de866b88411f0b0008838f756e9)** to **[`8a92c36`](https://github.com/sagemath/sagetrac-mirror/commit/8a92c3604437b755d1cf123dd1f2bbb66e32f85d)**",
    "created_at": "2018-05-11T19:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387059",
    "user": "https://github.com/mezzarobba"
}
```

Changed commit from **[`d7ae439`](https://github.com/sagemath/sagetrac-mirror/commit/d7ae439978809de866b88411f0b0008838f756e9)** to **[`8a92c36`](https://github.com/sagemath/sagetrac-mirror/commit/8a92c3604437b755d1cf123dd1f2bbb66e32f85d)**



---

archive/issue_comments_387060.json:
```json
{
    "body": "Changed branch from **[u/mmezzarobba/fractions_tmp](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/fractions_tmp)** to **[u/mmezzarobba/fractions_trivial](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/fractions_trivial)**",
    "created_at": "2018-05-11T19:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387060",
    "user": "https://github.com/mezzarobba"
}
```

Changed branch from **[u/mmezzarobba/fractions_tmp](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/fractions_tmp)** to **[u/mmezzarobba/fractions_trivial](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/fractions_trivial)**



---

archive/issue_events_347307.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-11T19:00:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "title_is": "Improve basic operations with fraction field elements",
    "title_was": "Minor optimizations of arithmetic with fraction field elements",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347307"
}
```



---

archive/issue_comments_387061.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a92c3604437b755d1cf123dd1f2bbb66e32f85d\"><code>8a92c36</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr></table>\n",
    "created_at": "2018-05-11T19:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387061",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a92c3604437b755d1cf123dd1f2bbb66e32f85d"><code>8a92c36</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr></table>




---

archive/issue_comments_387062.json:
```json
{
    "body": "Changed commit from **[`8a92c36`](https://github.com/sagemath/sagetrac-mirror/commit/8a92c3604437b755d1cf123dd1f2bbb66e32f85d)** to **[`a08972e`](https://github.com/sagemath/sagetrac-mirror/commit/a08972e652a524849920a0d517225d390eedf9fe)**",
    "created_at": "2018-05-11T19:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387062",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8a92c36`](https://github.com/sagemath/sagetrac-mirror/commit/8a92c3604437b755d1cf123dd1f2bbb66e32f85d)** to **[`a08972e`](https://github.com/sagemath/sagetrac-mirror/commit/a08972e652a524849920a0d517225d390eedf9fe)**



---

archive/issue_comments_387063.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a08972e652a524849920a0d517225d390eedf9fe\"><code>a08972e</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr></table>\n",
    "created_at": "2018-05-11T19:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387063",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a08972e652a524849920a0d517225d390eedf9fe"><code>a08972e</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr></table>




---

archive/issue_events_347308.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-12T05:02:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347308"
}
```



---

archive/issue_events_347309.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-12T05:02:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347309"
}
```



---

archive/issue_comments_387064.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3197980f179f0ee05b0aea3ee9bf98c29ec6cc77\"><code>3197980</code></a></td><td><code>Fix documentation of normalize</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff7be787ca59de3490f875fa9e87119a22a7e73e\"><code>ff7be78</code></a></td><td><code>Fix doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9edad3283289b1231b8540daf2b5e954862cf1da\"><code>9edad32</code></a></td><td><code>More careful hashing of FractionFieldElement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a2fbd7ce08cda248fcfc9b753ad2c94fa392460\"><code>6a2fbd7</code></a></td><td><code>slightly simplify/robustify FractionFieldElement.reduce()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c16d55a247b21d6c46d00f603ca21d7d6d64db19\"><code>c16d55a</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c8a45abecdf5224c9f0a324447ba69db22057b5\"><code>7c8a45a</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1f928fd4ca5159dd6dccbbb9863c938e3bb3aaf\"><code>c1f928f</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8cff798aace0fe8d69b6fcdc3bf2054b6f71fcd0\"><code>8cff798</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/544a8dfb4bf1e385592d444062867ce2f4987232\"><code>544a8df</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aede39f806b75a559125d1ff008fff346eddbb74\"><code>aede39f</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr></table>\n",
    "created_at": "2018-05-12T07:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387064",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3197980f179f0ee05b0aea3ee9bf98c29ec6cc77"><code>3197980</code></a></td><td><code>Fix documentation of normalize</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff7be787ca59de3490f875fa9e87119a22a7e73e"><code>ff7be78</code></a></td><td><code>Fix doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9edad3283289b1231b8540daf2b5e954862cf1da"><code>9edad32</code></a></td><td><code>More careful hashing of FractionFieldElement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a2fbd7ce08cda248fcfc9b753ad2c94fa392460"><code>6a2fbd7</code></a></td><td><code>slightly simplify/robustify FractionFieldElement.reduce()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c16d55a247b21d6c46d00f603ca21d7d6d64db19"><code>c16d55a</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c8a45abecdf5224c9f0a324447ba69db22057b5"><code>7c8a45a</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1f928fd4ca5159dd6dccbbb9863c938e3bb3aaf"><code>c1f928f</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8cff798aace0fe8d69b6fcdc3bf2054b6f71fcd0"><code>8cff798</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/544a8dfb4bf1e385592d444062867ce2f4987232"><code>544a8df</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aede39f806b75a559125d1ff008fff346eddbb74"><code>aede39f</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr></table>




---

archive/issue_comments_387065.json:
```json
{
    "body": "Changed commit from **[`a08972e`](https://github.com/sagemath/sagetrac-mirror/commit/a08972e652a524849920a0d517225d390eedf9fe)** to **[`aede39f`](https://github.com/sagemath/sagetrac-mirror/commit/aede39f806b75a559125d1ff008fff346eddbb74)**",
    "created_at": "2018-05-12T07:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a08972e`](https://github.com/sagemath/sagetrac-mirror/commit/a08972e652a524849920a0d517225d390eedf9fe)** to **[`aede39f`](https://github.com/sagemath/sagetrac-mirror/commit/aede39f806b75a559125d1ff008fff346eddbb74)**



---

archive/issue_comments_387066.json:
```json
{
    "body": "Changed commit from **[`aede39f`](https://github.com/sagemath/sagetrac-mirror/commit/aede39f806b75a559125d1ff008fff346eddbb74)** to **[`da9f8d3`](https://github.com/sagemath/sagetrac-mirror/commit/da9f8d3410249f27d6c95e4f4c4c6e884875ef32)**",
    "created_at": "2018-05-12T08:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387066",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aede39f`](https://github.com/sagemath/sagetrac-mirror/commit/aede39f806b75a559125d1ff008fff346eddbb74)** to **[`da9f8d3`](https://github.com/sagemath/sagetrac-mirror/commit/da9f8d3410249f27d6c95e4f4c4c6e884875ef32)**



---

archive/issue_comments_387067.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75ddc0dee1104e6970d02352ea2aafc3262c0f49\"><code>75ddc0d</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f22b2232b7c79d15f71acf10c68849d753db2689\"><code>f22b223</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b8e3f88ea0b1b450145354337b788a7b8845723\"><code>9b8e3f8</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da9f8d3410249f27d6c95e4f4c4c6e884875ef32\"><code>da9f8d3</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>\n",
    "created_at": "2018-05-12T08:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387067",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75ddc0dee1104e6970d02352ea2aafc3262c0f49"><code>75ddc0d</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f22b2232b7c79d15f71acf10c68849d753db2689"><code>f22b223</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b8e3f88ea0b1b450145354337b788a7b8845723"><code>9b8e3f8</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da9f8d3410249f27d6c95e4f4c4c6e884875ef32"><code>da9f8d3</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>




---

archive/issue_comments_387068.json:
```json
{
    "body": "Changed commit from **[`da9f8d3`](https://github.com/sagemath/sagetrac-mirror/commit/da9f8d3410249f27d6c95e4f4c4c6e884875ef32)** to **[`a8d994e`](https://github.com/sagemath/sagetrac-mirror/commit/a8d994e09356b9e0f00873f5eb9778c5ce1390cb)**",
    "created_at": "2018-05-12T10:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387068",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`da9f8d3`](https://github.com/sagemath/sagetrac-mirror/commit/da9f8d3410249f27d6c95e4f4c4c6e884875ef32)** to **[`a8d994e`](https://github.com/sagemath/sagetrac-mirror/commit/a8d994e09356b9e0f00873f5eb9778c5ce1390cb)**



---

archive/issue_comments_387069.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8d994e09356b9e0f00873f5eb9778c5ce1390cb\"><code>a8d994e</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>\n",
    "created_at": "2018-05-12T10:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387069",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8d994e09356b9e0f00873f5eb9778c5ce1390cb"><code>a8d994e</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>




---

archive/issue_comments_387070.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccfe0ef0b7c2a9eb734ec2fb2ce894428008ff59\"><code>ccfe0ef</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/345e73dc7c76b46982a9735cb1f87bf7d45dae57\"><code>345e73d</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>\n",
    "created_at": "2018-05-12T16:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387070",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccfe0ef0b7c2a9eb734ec2fb2ce894428008ff59"><code>ccfe0ef</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/345e73dc7c76b46982a9735cb1f87bf7d45dae57"><code>345e73d</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>




---

archive/issue_comments_387071.json:
```json
{
    "body": "Changed commit from **[`a8d994e`](https://github.com/sagemath/sagetrac-mirror/commit/a8d994e09356b9e0f00873f5eb9778c5ce1390cb)** to **[`345e73d`](https://github.com/sagemath/sagetrac-mirror/commit/345e73dc7c76b46982a9735cb1f87bf7d45dae57)**",
    "created_at": "2018-05-12T16:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387071",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a8d994e`](https://github.com/sagemath/sagetrac-mirror/commit/a8d994e09356b9e0f00873f5eb9778c5ce1390cb)** to **[`345e73d`](https://github.com/sagemath/sagetrac-mirror/commit/345e73dc7c76b46982a9735cb1f87bf7d45dae57)**



---

archive/issue_events_347310.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-12T17:55:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347310"
}
```



---

archive/issue_events_347311.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-05-12T17:55:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347311"
}
```



---

archive/issue_comments_387072.json:
```json
{
    "body": "Changed commit from **[`345e73d`](https://github.com/sagemath/sagetrac-mirror/commit/345e73dc7c76b46982a9735cb1f87bf7d45dae57)** to **[`2b48678`](https://github.com/sagemath/sagetrac-mirror/commit/2b4867890bafb703bf47788e34666f52c2376ee2)**",
    "created_at": "2018-05-27T19:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387072",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`345e73d`](https://github.com/sagemath/sagetrac-mirror/commit/345e73dc7c76b46982a9735cb1f87bf7d45dae57)** to **[`2b48678`](https://github.com/sagemath/sagetrac-mirror/commit/2b4867890bafb703bf47788e34666f52c2376ee2)**



---

archive/issue_comments_387073.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b4867890bafb703bf47788e34666f52c2376ee2\"><code>2b48678</code></a></td><td><code>Merge branch 'develop' into fractions_trivial</code></td></tr></table>\n",
    "created_at": "2018-05-27T19:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387073",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b4867890bafb703bf47788e34666f52c2376ee2"><code>2b48678</code></a></td><td><code>Merge branch 'develop' into fractions_trivial</code></td></tr></table>




---

archive/issue_comments_387074.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15d9f0654b5dc744cfe066372214025b06301ad1\"><code>15d9f06</code></a></td><td><code>#25318 fix doctest after merging with develop</code></td></tr></table>\n",
    "created_at": "2018-05-29T08:51:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387074",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15d9f0654b5dc744cfe066372214025b06301ad1"><code>15d9f06</code></a></td><td><code>#25318 fix doctest after merging with develop</code></td></tr></table>




---

archive/issue_comments_387075.json:
```json
{
    "body": "Changed commit from **[`2b48678`](https://github.com/sagemath/sagetrac-mirror/commit/2b4867890bafb703bf47788e34666f52c2376ee2)** to **[`15d9f06`](https://github.com/sagemath/sagetrac-mirror/commit/15d9f0654b5dc744cfe066372214025b06301ad1)**",
    "created_at": "2018-05-29T08:51:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387075",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2b48678`](https://github.com/sagemath/sagetrac-mirror/commit/2b4867890bafb703bf47788e34666f52c2376ee2)** to **[`15d9f06`](https://github.com/sagemath/sagetrac-mirror/commit/15d9f0654b5dc744cfe066372214025b06301ad1)**



---

archive/issue_comments_387076.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/305c98f0871008ec4b4fa338ed10c0d1dde7f097\"><code>305c98f</code></a></td><td><code>More careful hashing of FractionFieldElement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d524b75aa04e94422ea5b27052c41a4afcfafa13\"><code>d524b75</code></a></td><td><code>slightly simplify/robustify FractionFieldElement.reduce()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a9d4de410fd571336c33ef89ecb3e9a255d5e7d\"><code>9a9d4de</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59c558c09ead4dc0f06037151c917a6ca9cadb2b\"><code>59c558c</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afc6a0505d43b9f72926da5b8894ede7651cd283\"><code>afc6a05</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dfe3c307e8e852f7df0b6bb7ab4a615a351ed6d\"><code>7dfe3c3</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a3d32fb60b4c5177c7ce0824076d78aeb90184c\"><code>3a3d32f</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e56e5a4d96667b9cd8e2f9bb0f05f717e383f93a\"><code>e56e5a4</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0430e4114c8e1a8e6209f2cbb7bbefeffdb4cc1\"><code>e0430e4</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81ac9ec89a31858955aa603672d518bcd0e11d51\"><code>81ac9ec</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>\n",
    "created_at": "2018-05-29T09:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387076",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/305c98f0871008ec4b4fa338ed10c0d1dde7f097"><code>305c98f</code></a></td><td><code>More careful hashing of FractionFieldElement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d524b75aa04e94422ea5b27052c41a4afcfafa13"><code>d524b75</code></a></td><td><code>slightly simplify/robustify FractionFieldElement.reduce()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a9d4de410fd571336c33ef89ecb3e9a255d5e7d"><code>9a9d4de</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59c558c09ead4dc0f06037151c917a6ca9cadb2b"><code>59c558c</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afc6a0505d43b9f72926da5b8894ede7651cd283"><code>afc6a05</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dfe3c307e8e852f7df0b6bb7ab4a615a351ed6d"><code>7dfe3c3</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a3d32fb60b4c5177c7ce0824076d78aeb90184c"><code>3a3d32f</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e56e5a4d96667b9cd8e2f9bb0f05f717e383f93a"><code>e56e5a4</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0430e4114c8e1a8e6209f2cbb7bbefeffdb4cc1"><code>e0430e4</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81ac9ec89a31858955aa603672d518bcd0e11d51"><code>81ac9ec</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>




---

archive/issue_comments_387077.json:
```json
{
    "body": "Changed commit from **[`15d9f06`](https://github.com/sagemath/sagetrac-mirror/commit/15d9f0654b5dc744cfe066372214025b06301ad1)** to **[`81ac9ec`](https://github.com/sagemath/sagetrac-mirror/commit/81ac9ec89a31858955aa603672d518bcd0e11d51)**",
    "created_at": "2018-05-29T09:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387077",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`15d9f06`](https://github.com/sagemath/sagetrac-mirror/commit/15d9f0654b5dc744cfe066372214025b06301ad1)** to **[`81ac9ec`](https://github.com/sagemath/sagetrac-mirror/commit/81ac9ec89a31858955aa603672d518bcd0e11d51)**



---

archive/issue_comments_387078.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@sagetrac-git](#comment%3A12):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15d9f0654b5dc744cfe066372214025b06301ad1\"><code>15d9f06</code></a></td><td><code>#25318 fix doctest after merging with develop</code></td></tr></table>\n\nOops, this fix should have gone to #16268. Moved it there and rebased on top of it.",
    "created_at": "2018-05-29T09:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387078",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@sagetrac-git](#comment%3A12):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15d9f0654b5dc744cfe066372214025b06301ad1"><code>15d9f06</code></a></td><td><code>#25318 fix doctest after merging with develop</code></td></tr></table>

Oops, this fix should have gone to #16268. Moved it there and rebased on top of it.



---

archive/issue_comments_387079.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03d91ab59cc541b31f065e4b7b5838eb9b6d111b\"><code>03d91ab</code></a></td><td><code>slightly simplify/robustify FractionFieldElement.reduce()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/610e5859c9a2abf2230226f15287ff8911552258\"><code>610e585</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8aa61d5b80eb773bdc6a45b76c6596b816018f28\"><code>8aa61d5</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e01d960874f1dbceef25a7f93afdfb7cb1868ea0\"><code>e01d960</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bd62795b3deb2375ec7220ecff35f1c510a8e1f\"><code>1bd6279</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f6b0b6a818c53072fd6d162e931dfcf7677f675\"><code>1f6b0b6</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d4a6890e27f84afb6aa8d713117dfcb0c5a702b\"><code>5d4a689</code></a></td><td><code>additional doctest update after #25440</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed02ed10986c8d9427ccb1d3c86bd987944336b4\"><code>ed02ed1</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9af66337db19e5cb9adf6bbbea02a715a7ff11d2\"><code>9af6633</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f9621f03a990aa181c4de868aa2d77b66e49dde\"><code>2f9621f</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>\n",
    "created_at": "2018-06-10T12:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387079",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03d91ab59cc541b31f065e4b7b5838eb9b6d111b"><code>03d91ab</code></a></td><td><code>slightly simplify/robustify FractionFieldElement.reduce()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/610e5859c9a2abf2230226f15287ff8911552258"><code>610e585</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8aa61d5b80eb773bdc6a45b76c6596b816018f28"><code>8aa61d5</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e01d960874f1dbceef25a7f93afdfb7cb1868ea0"><code>e01d960</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bd62795b3deb2375ec7220ecff35f1c510a8e1f"><code>1bd6279</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f6b0b6a818c53072fd6d162e931dfcf7677f675"><code>1f6b0b6</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d4a6890e27f84afb6aa8d713117dfcb0c5a702b"><code>5d4a689</code></a></td><td><code>additional doctest update after #25440</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed02ed10986c8d9427ccb1d3c86bd987944336b4"><code>ed02ed1</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9af66337db19e5cb9adf6bbbea02a715a7ff11d2"><code>9af6633</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f9621f03a990aa181c4de868aa2d77b66e49dde"><code>2f9621f</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr></table>




---

archive/issue_comments_387080.json:
```json
{
    "body": "Changed commit from **[`81ac9ec`](https://github.com/sagemath/sagetrac-mirror/commit/81ac9ec89a31858955aa603672d518bcd0e11d51)** to **[`2f9621f`](https://github.com/sagemath/sagetrac-mirror/commit/2f9621f03a990aa181c4de868aa2d77b66e49dde)**",
    "created_at": "2018-06-10T12:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387080",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`81ac9ec`](https://github.com/sagemath/sagetrac-mirror/commit/81ac9ec89a31858955aa603672d518bcd0e11d51)** to **[`2f9621f`](https://github.com/sagemath/sagetrac-mirror/commit/2f9621f03a990aa181c4de868aa2d77b66e49dde)**



---

archive/issue_comments_387081.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nRebased on 8.3.beta5 along with #16268.",
    "created_at": "2018-06-10T12:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387081",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:16" align="right">comment:16</div>

Rebased on 8.3.beta5 along with #16268.



---

archive/issue_comments_387082.json:
```json
{
    "body": "Changed commit from **[`2f9621f`](https://github.com/sagemath/sagetrac-mirror/commit/2f9621f03a990aa181c4de868aa2d77b66e49dde)** to **[`964927f`](https://github.com/sagemath/sagetrac-mirror/commit/964927fe88a8b0c919eb796c51c5a18b49a5b30b)**",
    "created_at": "2018-06-10T12:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387082",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f9621f`](https://github.com/sagemath/sagetrac-mirror/commit/2f9621f03a990aa181c4de868aa2d77b66e49dde)** to **[`964927f`](https://github.com/sagemath/sagetrac-mirror/commit/964927fe88a8b0c919eb796c51c5a18b49a5b30b)**



---

archive/issue_comments_387083.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/964927fe88a8b0c919eb796c51c5a18b49a5b30b\"><code>964927f</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>\n",
    "created_at": "2018-06-10T12:59:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387083",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/964927fe88a8b0c919eb796c51c5a18b49a5b30b"><code>964927f</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>




---

archive/issue_comments_387084.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nCould you explain why you need to remove the p-adic doctest? You mentioned this in #25440 but I could not immediately find a reason for this in this ticket:\n\n```patch\n-        Check that inexact elements are treated correctly::\n-\n-            sage: K=Qp(2,5)\n-            sage: R.<x> = K[]\n-            sage: L = R.fraction_field()\n-            sage: S.<y> = L[]\n-            sage: y(K(1,1)/x)\n-            ((1 + O(2)))/((1 + O(2^5))*x)\n```",
    "created_at": "2018-06-11T06:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387084",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:18" align="right">comment:18</div>

Could you explain why you need to remove the p-adic doctest? You mentioned this in #25440 but I could not immediately find a reason for this in this ticket:

```patch
-        Check that inexact elements are treated correctly::
-
-            sage: K=Qp(2,5)
-            sage: R.<x> = K[]
-            sage: L = R.fraction_field()
-            sage: S.<y> = L[]
-            sage: y(K(1,1)/x)
-            ((1 + O(2)))/((1 + O(2^5))*x)
```



---

archive/issue_events_347312.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-06-11T06:00:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347312"
}
```



---

archive/issue_events_347313.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-06-11T06:00:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347313"
}
```



---

archive/issue_comments_387085.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nBecause it breaks again after this ticket, due to new code that uses `is_one()` to test if a leading coefficient (or something like that, I don't remember exactly) is one. And while I have nothing against the workaround you added in #25440 to accommodate the behavior of `is_one()` for p-adics as long as it doesn't break anything else, I don't think we want to block other changes due to what I see as a bug of p-adics...",
    "created_at": "2018-06-11T08:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387085",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:19" align="right">comment:19</div>

Because it breaks again after this ticket, due to new code that uses `is_one()` to test if a leading coefficient (or something like that, I don't remember exactly) is one. And while I have nothing against the workaround you added in #25440 to accommodate the behavior of `is_one()` for p-adics as long as it doesn't break anything else, I don't think we want to block other changes due to what I see as a bug of p-adics...



---

archive/issue_events_347314.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-06-11T08:54:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347314"
}
```



---

archive/issue_events_347315.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2018-06-11T08:54:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347315"
}
```



---

archive/issue_comments_387086.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI don't think it's a bug. p-adics make imho the less fortunate of two reasonable choices on how to implement `==`. No matter how you implement it, lots of implementations that are not aware of inexact elements break.\n\nIf you take the above doctest out, doesn't this mean that you produce a wrong result again now? I am not sure that it's valid to just claim that p-adics are broken, so we should not care about them.\n\nI also don't want to block progress on fraction fields which would be quite nice. But can't we have both?",
    "created_at": "2018-06-11T15:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387086",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:21" align="right">comment:21</div>

I don't think it's a bug. p-adics make imho the less fortunate of two reasonable choices on how to implement `==`. No matter how you implement it, lots of implementations that are not aware of inexact elements break.

If you take the above doctest out, doesn't this mean that you produce a wrong result again now? I am not sure that it's valid to just claim that p-adics are broken, so we should not care about them.

I also don't want to block progress on fraction fields which would be quite nice. But can't we have both?



---

archive/issue_comments_387087.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nLet's hear what some other people think about this\u2026",
    "created_at": "2018-06-11T15:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387087",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:22" align="right">comment:22</div>

Let's hear what some other people think about thisâ¦



---

archive/issue_comments_387088.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@saraedum](#comment%3A21):\n> I don't think it's a bug. p-adics make imho the less fortunate of two reasonable choices on how to implement `==`. No matter how you implement it, lots of implementations that are not aware of inexact elements break.\n\nOk, perhaps calling it a bug is a bit strong. But in the parts of Sage I'm familiar with, there are a number of generic algorithms that already use equality and (more importantly) `is_zero()`, `is_one()`, `bool()` in a way compatible with interval-like rings... but with the semantics of interval arithmetic, not those of p-adics.\n\n> If you take the above doctest out, doesn't this mean that you produce a wrong result again now?\n\nYes, I think so.\n\n> I am not sure that it's valid to just claim that p-adics are broken, so we should not care about them.\n> \n> I also don't want to block progress on fraction fields which would be quite nice. But can't we have both?\n\nIn the present case, I don't really see how without changing the implementation of p-adics, but if you have an idea I'd love to hear it!\n\nDo you think it would be break anything if we modified the p-adic `is_zero()` and `is_one()` without touching\u00a0`==`, though? While it can be argued that `==` is an \u201cinternal\u201d operation on each parent (using it in combination with coercion is known to be dangerous anyway), whose semantics could vary from parent to parent, I really don't see anyone calling `is_one()` and expecting it to return `True` on anything but the exact unit element, even for p-adics... And I guess that change already would be enough to make most generic algorithms work on p-adics.",
    "created_at": "2018-06-11T17:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387088",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@saraedum](#comment%3A21):
> I don't think it's a bug. p-adics make imho the less fortunate of two reasonable choices on how to implement `==`. No matter how you implement it, lots of implementations that are not aware of inexact elements break.

Ok, perhaps calling it a bug is a bit strong. But in the parts of Sage I'm familiar with, there are a number of generic algorithms that already use equality and (more importantly) `is_zero()`, `is_one()`, `bool()` in a way compatible with interval-like rings... but with the semantics of interval arithmetic, not those of p-adics.

> If you take the above doctest out, doesn't this mean that you produce a wrong result again now?

Yes, I think so.

> I am not sure that it's valid to just claim that p-adics are broken, so we should not care about them.
> 
> I also don't want to block progress on fraction fields which would be quite nice. But can't we have both?

In the present case, I don't really see how without changing the implementation of p-adics, but if you have an idea I'd love to hear it!

Do you think it would be break anything if we modified the p-adic `is_zero()` and `is_one()` without touchingÂ `==`, though? While it can be argued that `==` is an âinternalâ operation on each parent (using it in combination with coercion is known to be dangerous anyway), whose semantics could vary from parent to parent, I really don't see anyone calling `is_one()` and expecting it to return `True` on anything but the exact unit element, even for p-adics... And I guess that change already would be enough to make most generic algorithms work on p-adics.



---

archive/issue_comments_387089.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nCurrently, I think that the exact p-adic one does not exist in Sage (except for floating point arithmetics). So are you saying that `is_one` should always return `False`? Or that exact p-adic elements have to be implemented?",
    "created_at": "2018-06-15T12:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387089",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:24" align="right">comment:24</div>

Currently, I think that the exact p-adic one does not exist in Sage (except for floating point arithmetics). So are you saying that `is_one` should always return `False`? Or that exact p-adic elements have to be implemented?



---

archive/issue_comments_387090.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@xcaruso](#comment%3A24):\n> Currently, I think that the exact p-adic one does not exist in Sage (except for floating point arithmetics). So are you saying that `is_one` should always return `False`? Or that exact p-adic elements have to be implemented?\n\nI don't know. Perhaps it should always return `False`, or perhaps it should return `True` when the element is one up to the maximum precision of the ring... I guess it depends how you want generic objects to behave. For example, what should be the degree of a polynomial whose leading term is O(p<sup>k</sup>)? When should multiplication by \u201czero\u201d, resp. \u201cone\u201d yield `R.zero()`, resp. the other operand?",
    "created_at": "2018-06-15T12:38:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387090",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@xcaruso](#comment%3A24):
> Currently, I think that the exact p-adic one does not exist in Sage (except for floating point arithmetics). So are you saying that `is_one` should always return `False`? Or that exact p-adic elements have to be implemented?

I don't know. Perhaps it should always return `False`, or perhaps it should return `True` when the element is one up to the maximum precision of the ring... I guess it depends how you want generic objects to behave. For example, what should be the degree of a polynomial whose leading term is O(p<sup>k</sup>)? When should multiplication by âzeroâ, resp. âoneâ yield `R.zero()`, resp. the other operand?



---

archive/issue_comments_387091.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nMy personal philosophy is that a should be considered as equal to b as soon as they are indistinguishable (which is the current behavior), but I agree that this has disadvantages as well.\n\nI'm not sure that it's a good idea to let `a == 1` have a different meaning than `a.is_one()`. Personally, I consider the two constructions as equivalent.",
    "created_at": "2018-06-15T13:54:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387091",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:26" align="right">comment:26</div>

My personal philosophy is that a should be considered as equal to b as soon as they are indistinguishable (which is the current behavior), but I agree that this has disadvantages as well.

I'm not sure that it's a good idea to let `a == 1` have a different meaning than `a.is_one()`. Personally, I consider the two constructions as equivalent.



---

archive/issue_comments_387092.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@xcaruso](#comment%3A26):\n> My personal philosophy is that a should be considered as equal to b as soon as they are indistinguishable (which is the current behavior), but I agree that this has disadvantages as well.\n\nAnd I'm fine with that. But it seems hard to me to make generic algorithms (that must work over other parents too) accommodate that, unless you also agree that operations involving p-adics can return results \u201cequal\u201d to the correct one in that sense (but possibly more precise).\n\nI don't really like having `x.is_one()` differ from `== 1` either, but that would solve the problem in many cases...\n\nWhat do you think we should do in the case of the present ticket? Or, to take a similar but simpler example, what do you think `c*pol` should return when `pol` is a generic polynomial and `c` is a scalar with `c.is_one()`? And when `c.is_zero()`?",
    "created_at": "2018-06-15T14:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387092",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@xcaruso](#comment%3A26):
> My personal philosophy is that a should be considered as equal to b as soon as they are indistinguishable (which is the current behavior), but I agree that this has disadvantages as well.

And I'm fine with that. But it seems hard to me to make generic algorithms (that must work over other parents too) accommodate that, unless you also agree that operations involving p-adics can return results âequalâ to the correct one in that sense (but possibly more precise).

I don't really like having `x.is_one()` differ from `== 1` either, but that would solve the problem in many cases...

What do you think we should do in the case of the present ticket? Or, to take a similar but simpler example, what do you think `c*pol` should return when `pol` is a generic polynomial and `c` is a scalar with `c.is_one()`? And when `c.is_zero()`?



---

archive/issue_comments_387093.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nSomething I'm using times to times is to add a named argument (I usually use `secure` but it can also be `exact`, it's possibly better). If `secure` is true, then `a == b` returns false (or raises an error) if one cannot assert that they are equal for sure; otherwise, it behaves as it does currently.\n\nI'm not very very enthusiastic with the solution, but I guess that it may solve the problem.",
    "created_at": "2018-06-15T15:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387093",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:28" align="right">comment:28</div>

Something I'm using times to times is to add a named argument (I usually use `secure` but it can also be `exact`, it's possibly better). If `secure` is true, then `a == b` returns false (or raises an error) if one cannot assert that they are equal for sure; otherwise, it behaves as it does currently.

I'm not very very enthusiastic with the solution, but I guess that it may solve the problem.



---

archive/issue_comments_387094.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f220ba171ae07a870c2aeca5caf03a1dce9c284b\"><code>f220ba1</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d57e93467c7e053d979803512817bc0bc6f4889f\"><code>d57e934</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db40831275199de5a7ff4a3bf6c5b959257bacd5\"><code>db40831</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2955aa9477e44f132e7998403a3e1259e1b19553\"><code>2955aa9</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/069cca80732d645e774b4798efb92cf380aac0b4\"><code>069cca8</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcd92b72b863663c4306018735c8df9bd0213d73\"><code>dcd92b7</code></a></td><td><code>additional doctest update after #25440</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/645e29ce470e7021f39c49fce6fe5d6bbc674aa6\"><code>645e29c</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/637061e59348181cffd0a3ebc8c9d50f9c407ae6\"><code>637061e</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94b5b194096892881233c894c9bbb8e7cefe5ebe\"><code>94b5b19</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2293ce75efff5c1e09f7334f999b5f024eb376ba\"><code>2293ce7</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>\n",
    "created_at": "2018-06-24T11:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387094",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f220ba171ae07a870c2aeca5caf03a1dce9c284b"><code>f220ba1</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d57e93467c7e053d979803512817bc0bc6f4889f"><code>d57e934</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db40831275199de5a7ff4a3bf6c5b959257bacd5"><code>db40831</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2955aa9477e44f132e7998403a3e1259e1b19553"><code>2955aa9</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/069cca80732d645e774b4798efb92cf380aac0b4"><code>069cca8</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcd92b72b863663c4306018735c8df9bd0213d73"><code>dcd92b7</code></a></td><td><code>additional doctest update after #25440</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/645e29ce470e7021f39c49fce6fe5d6bbc674aa6"><code>645e29c</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/637061e59348181cffd0a3ebc8c9d50f9c407ae6"><code>637061e</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94b5b194096892881233c894c9bbb8e7cefe5ebe"><code>94b5b19</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2293ce75efff5c1e09f7334f999b5f024eb376ba"><code>2293ce7</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>




---

archive/issue_comments_387095.json:
```json
{
    "body": "Changed commit from **[`964927f`](https://github.com/sagemath/sagetrac-mirror/commit/964927fe88a8b0c919eb796c51c5a18b49a5b30b)** to **[`2293ce7`](https://github.com/sagemath/sagetrac-mirror/commit/2293ce75efff5c1e09f7334f999b5f024eb376ba)**",
    "created_at": "2018-06-24T11:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387095",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`964927f`](https://github.com/sagemath/sagetrac-mirror/commit/964927fe88a8b0c919eb796c51c5a18b49a5b30b)** to **[`2293ce7`](https://github.com/sagemath/sagetrac-mirror/commit/2293ce75efff5c1e09f7334f999b5f024eb376ba)**



---

archive/issue_comments_387096.json:
```json
{
    "body": "Changed commit from **[`2293ce7`](https://github.com/sagemath/sagetrac-mirror/commit/2293ce75efff5c1e09f7334f999b5f024eb376ba)** to **[`18c3f55`](https://github.com/sagemath/sagetrac-mirror/commit/18c3f5546f39f965d34c8fab578f923d7e2699ce)**",
    "created_at": "2018-07-03T08:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387096",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2293ce7`](https://github.com/sagemath/sagetrac-mirror/commit/2293ce75efff5c1e09f7334f999b5f024eb376ba)** to **[`18c3f55`](https://github.com/sagemath/sagetrac-mirror/commit/18c3f5546f39f965d34c8fab578f923d7e2699ce)**



---

archive/issue_comments_387097.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/029346f6b30c052156b56572248145344e7e8bc9\"><code>029346f</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80f18f0f0e1936c821db76f9b02576dde26f9f97\"><code>80f18f0</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1153b5dfe3f26bf9b1a2b64e0a3c709a672370ad\"><code>1153b5d</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b71ab2d566bef202899147a8368aecf663043150\"><code>b71ab2d</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e663dbe550077471e93046163f63f6706a8a4fb7\"><code>e663dbe</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db762fc4082cf6af913a7637b895f970a7492a74\"><code>db762fc</code></a></td><td><code>additional doctest update after #25440</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ffe62ba337f1943f80935beb54df709f4ba9b97\"><code>1ffe62b</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/213a63ef64773b0a5c497b5795c4e3e82e569a2e\"><code>213a63e</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6ca21fbf4afa12b7c02f9c83389be9c6bcd74e2\"><code>d6ca21f</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18c3f5546f39f965d34c8fab578f923d7e2699ce\"><code>18c3f55</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>\n",
    "created_at": "2018-07-03T08:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387097",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/029346f6b30c052156b56572248145344e7e8bc9"><code>029346f</code></a></td><td><code>FractionFieldElement: merge reduce() and normalize()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80f18f0f0e1936c821db76f9b02576dde26f9f97"><code>80f18f0</code></a></td><td><code>Tweak fraction field element hashing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1153b5dfe3f26bf9b1a2b64e0a3c709a672370ad"><code>1153b5d</code></a></td><td><code>#16268 boring doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b71ab2d566bef202899147a8368aecf663043150"><code>b71ab2d</code></a></td><td><code>#16268 other doctest updates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e663dbe550077471e93046163f63f6706a8a4fb7"><code>e663dbe</code></a></td><td><code>fix normalization of leading coefficients</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db762fc4082cf6af913a7637b895f970a7492a74"><code>db762fc</code></a></td><td><code>additional doctest update after #25440</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ffe62ba337f1943f80935beb54df709f4ba9b97"><code>1ffe62b</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/213a63ef64773b0a5c497b5795c4e3e82e569a2e"><code>213a63e</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6ca21fbf4afa12b7c02f9c83389be9c6bcd74e2"><code>d6ca21f</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18c3f5546f39f965d34c8fab578f923d7e2699ce"><code>18c3f55</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>




---

archive/issue_comments_387098.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387098",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">comment:31</div>

update milestone 8.3 -> 8.4



---

archive/issue_events_347316.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347316"
}
```



---

archive/issue_events_347317.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347317"
}
```



---

archive/issue_comments_387099.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nCould a few words be added to the ticket description?",
    "created_at": "2018-12-28T09:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387099",
    "user": "https://github.com/slel"
}
```

<div id="comment:32" align="right">comment:32</div>

Could a few words be added to the ticket description?



---

archive/issue_events_347318.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-12-28T09:34:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347318"
}
```



---

archive/issue_events_347319.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-12-28T09:34:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347319"
}
```



---

archive/issue_comments_387100.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@slel](#comment%3A32):\n> Could a few words be added to the ticket description?\n\nI'm not sure what to add to what already is in the commit messages. (And I don't remember much about this ticket.) What information would you like to see?",
    "created_at": "2019-01-04T13:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387100",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@slel](#comment%3A32):
> Could a few words be added to the ticket description?

I'm not sure what to add to what already is in the commit messages. (And I don't remember much about this ticket.) What information would you like to see?



---

archive/issue_comments_387101.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387101",
    "user": "https://github.com/embray"
}
```

<div id="comment:34" align="right">comment:34</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_347320.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347320"
}
```



---

archive/issue_events_347321.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347321"
}
```



---

archive/issue_comments_387102.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/287ec3c102c494bb73baa57a0c3d26fda91521e9\"><code>287ec3c</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d572aa39f73939e3d737249048765ba1890726a5\"><code>d572aa3</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d0dfd2efd146add4a2278bbe25b140bca1567b8\"><code>4d0dfd2</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91ad8e8c80ac03aa0642f02684ea667e4b0829fc\"><code>91ad8e8</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>\n",
    "created_at": "2019-02-01T13:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387102",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/287ec3c102c494bb73baa57a0c3d26fda91521e9"><code>287ec3c</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d572aa39f73939e3d737249048765ba1890726a5"><code>d572aa3</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d0dfd2efd146add4a2278bbe25b140bca1567b8"><code>4d0dfd2</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91ad8e8c80ac03aa0642f02684ea667e4b0829fc"><code>91ad8e8</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>




---

archive/issue_comments_387103.json:
```json
{
    "body": "Changed commit from **[`18c3f55`](https://github.com/sagemath/sagetrac-mirror/commit/18c3f5546f39f965d34c8fab578f923d7e2699ce)** to **[`91ad8e8`](https://github.com/sagemath/sagetrac-mirror/commit/91ad8e8c80ac03aa0642f02684ea667e4b0829fc)**",
    "created_at": "2019-02-01T13:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387103",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`18c3f55`](https://github.com/sagemath/sagetrac-mirror/commit/18c3f5546f39f965d34c8fab578f923d7e2699ce)** to **[`91ad8e8`](https://github.com/sagemath/sagetrac-mirror/commit/91ad8e8c80ac03aa0642f02684ea667e4b0829fc)**



---

archive/issue_comments_387104.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21b95d99bfd3940b33c7e6a0e1d73d017f82b685\"><code>21b95d9</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1623be4322aa1dca6ca48b4930051f11c4526c8f\"><code>1623be4</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b0335400f385373710971b3e5ea8d544136ab77\"><code>1b03354</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5856979df85452a692c4f70af5d7cf4f774da5d4\"><code>5856979</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>\n",
    "created_at": "2019-02-03T12:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387104",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21b95d99bfd3940b33c7e6a0e1d73d017f82b685"><code>21b95d9</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1623be4322aa1dca6ca48b4930051f11c4526c8f"><code>1623be4</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b0335400f385373710971b3e5ea8d544136ab77"><code>1b03354</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5856979df85452a692c4f70af5d7cf4f774da5d4"><code>5856979</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>




---

archive/issue_comments_387105.json:
```json
{
    "body": "Changed commit from **[`91ad8e8`](https://github.com/sagemath/sagetrac-mirror/commit/91ad8e8c80ac03aa0642f02684ea667e4b0829fc)** to **[`5856979`](https://github.com/sagemath/sagetrac-mirror/commit/5856979df85452a692c4f70af5d7cf4f774da5d4)**",
    "created_at": "2019-02-03T12:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387105",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`91ad8e8`](https://github.com/sagemath/sagetrac-mirror/commit/91ad8e8c80ac03aa0642f02684ea667e4b0829fc)** to **[`5856979`](https://github.com/sagemath/sagetrac-mirror/commit/5856979df85452a692c4f70af5d7cf4f774da5d4)**



---

archive/issue_comments_387106.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,14 @@\n+As discussed in\n+[this 2018-06 sage-devel discussion](https://groups.google.com/d/topic/sage-devel/Sqt4N8eVq-o/discussion),\n+this is part of an effort to improve fraction field elements,\n+and in particular rational fractions in several variables,\n+spread across four tickets:\n \n+- #25318: Improve basic operations with fraction field elements (the present ticket)\n+- #25290: Don't use Karatsuba for multiplying polynomials over fraction fields\n+- #23909; GCD for univariate polynomials over fraction fields\n+- #16268: Better normalization for fraction field elements\n+\n+At least for some applications, these tickets bring Sage fraction field elements\n+from \"so slow they are unusable\" to \"not really great yet but reasonable\".\n+\n``````\n",
    "created_at": "2019-02-03T19:38:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387106",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,14 @@
+As discussed in
+[this 2018-06 sage-devel discussion](https://groups.google.com/d/topic/sage-devel/Sqt4N8eVq-o/discussion),
+this is part of an effort to improve fraction field elements,
+and in particular rational fractions in several variables,
+spread across four tickets:
 
+- #25318: Improve basic operations with fraction field elements (the present ticket)
+- #25290: Don't use Karatsuba for multiplying polynomials over fraction fields
+- #23909; GCD for univariate polynomials over fraction fields
+- #16268: Better normalization for fraction field elements
+
+At least for some applications, these tickets bring Sage fraction field elements
+from "so slow they are unusable" to "not really great yet but reasonable".
+
``````




---

archive/issue_events_347322.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347322"
}
```



---

archive/issue_events_347323.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347323"
}
```



---

archive/issue_comments_387107.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387107",
    "user": "https://github.com/embray"
}
```

<div id="comment:38" align="right">comment:38</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_347324.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347324"
}
```



---

archive/issue_events_347325.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347325"
}
```



---

archive/issue_comments_387108.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387108",
    "user": "https://github.com/embray"
}
```

<div id="comment:39" align="right">comment:39</div>

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_comments_387109.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nMarc, I am likely to have a look next week (Sage days 100). If you have time to rebase, that would be appreciated).",
    "created_at": "2019-07-19T12:48:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387109",
    "user": "https://github.com/videlec"
}
```

<div id="comment:40" align="right">comment:40</div>

Marc, I am likely to have a look next week (Sage days 100). If you have time to rebase, that would be appreciated).



---

archive/issue_events_347326.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-07-19T12:48:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347326"
}
```



---

archive/issue_events_347327.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-07-19T12:48:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347327"
}
```



---

archive/issue_comments_387110.json:
```json
{
    "body": "Changed commit from **[`5856979`](https://github.com/sagemath/sagetrac-mirror/commit/5856979df85452a692c4f70af5d7cf4f774da5d4)** to **[`4e72ae1`](https://github.com/sagemath/sagetrac-mirror/commit/4e72ae179dc70868a0bb2f3a8ae91484a1e6e46a)**",
    "created_at": "2019-07-21T12:14:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387110",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5856979`](https://github.com/sagemath/sagetrac-mirror/commit/5856979df85452a692c4f70af5d7cf4f774da5d4)** to **[`4e72ae1`](https://github.com/sagemath/sagetrac-mirror/commit/4e72ae179dc70868a0bb2f3a8ae91484a1e6e46a)**



---

archive/issue_comments_387111.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a969822eb7db320d858c78f410288b3c81fc0451\"><code>a969822</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8420f9db9b4cd6dd76fbfc7d2e1b9b0e6dec7b2d\"><code>8420f9d</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/767965d81528ba36a436277287772df2f6888e55\"><code>767965d</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e72ae179dc70868a0bb2f3a8ae91484a1e6e46a\"><code>4e72ae1</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>\n",
    "created_at": "2019-07-21T12:14:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387111",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a969822eb7db320d858c78f410288b3c81fc0451"><code>a969822</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8420f9db9b4cd6dd76fbfc7d2e1b9b0e6dec7b2d"><code>8420f9d</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/767965d81528ba36a436277287772df2f6888e55"><code>767965d</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e72ae179dc70868a0bb2f3a8ae91484a1e6e46a"><code>4e72ae1</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>




---

archive/issue_comments_387112.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@videlec](#comment%3A40):\n> Marc, I am likely to have a look next week (Sage days 100). If you have time to rebase, that would be appreciated).\n\nDone (but not tested at all: I'm on the train, on battery).",
    "created_at": "2019-07-21T12:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387112",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@videlec](#comment%3A40):
> Marc, I am likely to have a look next week (Sage days 100). If you have time to rebase, that would be appreciated).

Done (but not tested at all: I'm on the train, on battery).



---

archive/issue_events_347328.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2019-07-21T12:15:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347328"
}
```



---

archive/issue_events_347329.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2019-07-21T12:15:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347329"
}
```



---

archive/issue_comments_387113.json:
```json
{
    "body": "Changed commit from **[`4e72ae1`](https://github.com/sagemath/sagetrac-mirror/commit/4e72ae179dc70868a0bb2f3a8ae91484a1e6e46a)** to **[`69cbbed`](https://github.com/sagemath/sagetrac-mirror/commit/69cbbed57b6c8665333287a9951f4433b49b910c)**",
    "created_at": "2019-11-21T16:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4e72ae1`](https://github.com/sagemath/sagetrac-mirror/commit/4e72ae179dc70868a0bb2f3a8ae91484a1e6e46a)** to **[`69cbbed`](https://github.com/sagemath/sagetrac-mirror/commit/69cbbed57b6c8665333287a9951f4433b49b910c)**



---

archive/issue_comments_387114.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29d4de54faff74a0c4e743b1cb0784d1dffeef77\"><code>29d4de5</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d120de2b588527298e6dfd793931cb538cd9e25\"><code>3d120de</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c46f2d726011ac45b417cecf9123072c5f41ea3c\"><code>c46f2d7</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69cbbed57b6c8665333287a9951f4433b49b910c\"><code>69cbbed</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>\n",
    "created_at": "2019-11-21T16:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387114",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29d4de54faff74a0c4e743b1cb0784d1dffeef77"><code>29d4de5</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d120de2b588527298e6dfd793931cb538cd9e25"><code>3d120de</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c46f2d726011ac45b417cecf9123072c5f41ea3c"><code>c46f2d7</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69cbbed57b6c8665333287a9951f4433b49b910c"><code>69cbbed</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr></table>




---

archive/issue_comments_387115.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nrebased (result not tested)",
    "created_at": "2019-11-21T16:51:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387115",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:46" align="right">comment:46</div>

rebased (result not tested)



---

archive/issue_comments_387116.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nPatchbot says\n\n```\nsage -t --long src/sage/combinat/root_system/non_symmetric_macdonald_polynomials.py  # 130 doctests failed\nsage -t --long src/sage/combinat/root_system/root_lattice_realization_algebras.py  # 11 doctests failed\nsage -t --long src/sage/combinat/root_system/hecke_algebra_representation.py  # 16 doctests failed\nsage -t --long src/sage/categories/coxeter_group_algebras.py  # 1 doctest failed\n```",
    "created_at": "2019-11-22T09:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387116",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:47" align="right">comment:47</div>

Patchbot says

```
sage -t --long src/sage/combinat/root_system/non_symmetric_macdonald_polynomials.py  # 130 doctests failed
sage -t --long src/sage/combinat/root_system/root_lattice_realization_algebras.py  # 11 doctests failed
sage -t --long src/sage/combinat/root_system/hecke_algebra_representation.py  # 16 doctests failed
sage -t --long src/sage/categories/coxeter_group_algebras.py  # 1 doctest failed
```



---

archive/issue_events_347330.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2019-11-22T11:29:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347330"
}
```



---

archive/issue_events_347331.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2019-11-22T11:29:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347331"
}
```



---

archive/issue_comments_387117.json:
```json
{
    "body": "Changed commit from **[`69cbbed`](https://github.com/sagemath/sagetrac-mirror/commit/69cbbed57b6c8665333287a9951f4433b49b910c)** to **[`c81b9ab`](https://github.com/sagemath/sagetrac-mirror/commit/c81b9abba9685a12f68c017a05d7f3a515da3755)**",
    "created_at": "2019-12-17T14:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387117",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`69cbbed`](https://github.com/sagemath/sagetrac-mirror/commit/69cbbed57b6c8665333287a9951f4433b49b910c)** to **[`c81b9ab`](https://github.com/sagemath/sagetrac-mirror/commit/c81b9abba9685a12f68c017a05d7f3a515da3755)**



---

archive/issue_comments_387118.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f22d0859de5fdab8fb11decc246dee6d3017093d\"><code>f22d085</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/725cfd842a4d7dbf0714c5b33b1777dfd7972070\"><code>725cfd8</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64f4a8c0957549109740342335cdb8536f26697c\"><code>64f4a8c</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6247181fe1be0279e5b490e22fff870e548a09b\"><code>e624718</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c81b9abba9685a12f68c017a05d7f3a515da3755\"><code>c81b9ab</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr></table>\n",
    "created_at": "2019-12-17T14:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387118",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f22d0859de5fdab8fb11decc246dee6d3017093d"><code>f22d085</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/725cfd842a4d7dbf0714c5b33b1777dfd7972070"><code>725cfd8</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64f4a8c0957549109740342335cdb8536f26697c"><code>64f4a8c</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6247181fe1be0279e5b490e22fff870e548a09b"><code>e624718</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c81b9abba9685a12f68c017a05d7f3a515da3755"><code>c81b9ab</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr></table>




---

archive/issue_comments_387119.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nOk, I think the actual issue behind these failures was in the py3 port of hecke_algebra_representations, see my last commit. (Phew, this one wasn't easy to track down!)",
    "created_at": "2019-12-17T14:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387119",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:50" align="right">comment:50</div>

Ok, I think the actual issue behind these failures was in the py3 port of hecke_algebra_representations, see my last commit. (Phew, this one wasn't easy to track down!)



---

archive/issue_events_347332.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2019-12-17T14:34:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347332"
}
```



---

archive/issue_events_347333.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2019-12-17T14:34:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347333"
}
```



---

archive/issue_comments_387120.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI think the last commit is correct, but perhaps Nicolas or Anne, could one of you verify?",
    "created_at": "2019-12-27T17:04:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387120",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:51" align="right">comment:51</div>

I think the last commit is correct, but perhaps Nicolas or Anne, could one of you verify?



---

archive/issue_comments_387121.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387121",
    "user": "https://github.com/embray"
}
```

<div id="comment:52" align="right">comment:52</div>

Ticket retargeted after milestone closed



---

archive/issue_events_347334.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347334"
}
```



---

archive/issue_events_347335.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347335"
}
```



---

archive/issue_comments_387122.json:
```json
{
    "body": "Changed commit from **[`c81b9ab`](https://github.com/sagemath/sagetrac-mirror/commit/c81b9abba9685a12f68c017a05d7f3a515da3755)** to **[`569267a`](https://github.com/sagemath/sagetrac-mirror/commit/569267aeae87248a385b8984be051966cc876aa7)**",
    "created_at": "2020-01-10T12:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387122",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c81b9ab`](https://github.com/sagemath/sagetrac-mirror/commit/c81b9abba9685a12f68c017a05d7f3a515da3755)** to **[`569267a`](https://github.com/sagemath/sagetrac-mirror/commit/569267aeae87248a385b8984be051966cc876aa7)**



---

archive/issue_comments_387123.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8cb064f877b2c617404db0a425c26f8f787c70d\"><code>a8cb064</code></a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659\"><code>f99562a</code></a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68de2332d493193ee86f86b432d8af859cb0b3a6\"><code>68de233</code></a></td><td><code>Merge remote-tracking branch 'trac/u/embray/ticket-28890' into develop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/806abc525322b88ebf0473a84c38fb5aee47da4a\"><code>806abc5</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8779b93f6d1dd7a17ec88dce10f060f73f7fc545\"><code>8779b93</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0906ca71f4e275509b10c3e9c6fd52017d062471\"><code>0906ca7</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e86d9e26763855ee760e92f7432bb60844c83a6\"><code>6e86d9e</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/569267aeae87248a385b8984be051966cc876aa7\"><code>569267a</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr></table>\n",
    "created_at": "2020-01-10T12:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387123",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8cb064f877b2c617404db0a425c26f8f787c70d"><code>a8cb064</code></a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659"><code>f99562a</code></a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68de2332d493193ee86f86b432d8af859cb0b3a6"><code>68de233</code></a></td><td><code>Merge remote-tracking branch 'trac/u/embray/ticket-28890' into develop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/806abc525322b88ebf0473a84c38fb5aee47da4a"><code>806abc5</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8779b93f6d1dd7a17ec88dce10f060f73f7fc545"><code>8779b93</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0906ca71f4e275509b10c3e9c6fd52017d062471"><code>0906ca7</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e86d9e26763855ee760e92f7432bb60844c83a6"><code>6e86d9e</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/569267aeae87248a385b8984be051966cc876aa7"><code>569267a</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr></table>




---

archive/issue_comments_387124.json:
```json
{
    "body": "Changed commit from **[`569267a`](https://github.com/sagemath/sagetrac-mirror/commit/569267aeae87248a385b8984be051966cc876aa7)** to **[`6f21d5c`](https://github.com/sagemath/sagetrac-mirror/commit/6f21d5cce812af9502949810b40715290e4daf4e)**",
    "created_at": "2020-01-10T12:02:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387124",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`569267a`](https://github.com/sagemath/sagetrac-mirror/commit/569267aeae87248a385b8984be051966cc876aa7)** to **[`6f21d5c`](https://github.com/sagemath/sagetrac-mirror/commit/6f21d5cce812af9502949810b40715290e4daf4e)**



---

archive/issue_comments_387125.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d69dfa6eda2607aad35acdd576affae9068be981\"><code>d69dfa6</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bf7952103527930d6529d8a888e5eb1a0df3975\"><code>2bf7952</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27ec3c52c967f3d510e4d3f9d3281c3899897399\"><code>27ec3c5</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc016ab738db2ce68c5df0dffa71aa3a6990557f\"><code>bc016ab</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f21d5cce812af9502949810b40715290e4daf4e\"><code>6f21d5c</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr></table>\n",
    "created_at": "2020-01-10T12:02:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387125",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d69dfa6eda2607aad35acdd576affae9068be981"><code>d69dfa6</code></a></td><td><code>better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bf7952103527930d6529d8a888e5eb1a0df3975"><code>2bf7952</code></a></td><td><code>simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27ec3c52c967f3d510e4d3f9d3281c3899897399"><code>27ec3c5</code></a></td><td><code>fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc016ab738db2ce68c5df0dffa71aa3a6990557f"><code>bc016ab</code></a></td><td><code>remove an (IMO) incorrect doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f21d5cce812af9502949810b40715290e4daf4e"><code>6f21d5c</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr></table>




---

archive/issue_comments_387126.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\npatchbot says that\n\n```\n++        Returns self raised to the `n^{th}` power.\n```\nshould be\n\n```\n++        Return ``self`` raised to the `n^{th}` power.\n```",
    "created_at": "2020-01-10T16:54:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387126",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:55" align="right">comment:55</div>

patchbot says that

```
++        Returns self raised to the `n^{th}` power.
```
should be

```
++        Return ``self`` raised to the `n^{th}` power.
```



---

archive/issue_comments_387127.json:
```json
{
    "body": "Changed commit from **[`6f21d5c`](https://github.com/sagemath/sagetrac-mirror/commit/6f21d5cce812af9502949810b40715290e4daf4e)** to **[`05b14bb`](https://github.com/sagemath/sagetrac-mirror/commit/05b14bb40abf39a6280b8cb94765242953b93dd7)**",
    "created_at": "2020-01-11T16:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387127",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6f21d5c`](https://github.com/sagemath/sagetrac-mirror/commit/6f21d5cce812af9502949810b40715290e4daf4e)** to **[`05b14bb`](https://github.com/sagemath/sagetrac-mirror/commit/05b14bb40abf39a6280b8cb94765242953b93dd7)**



---

archive/issue_comments_387128.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05b14bb40abf39a6280b8cb94765242953b93dd7\"><code>05b14bb</code></a></td><td><code>#25318 minor fix in docstring</code></td></tr></table>\n",
    "created_at": "2020-01-11T16:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387128",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05b14bb40abf39a6280b8cb94765242953b93dd7"><code>05b14bb</code></a></td><td><code>#25318 minor fix in docstring</code></td></tr></table>




---

archive/issue_comments_387129.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nThank you.",
    "created_at": "2020-01-11T16:08:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387129",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:57" align="right">comment:57</div>

Thank you.



---

archive/issue_comments_387130.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nIn gcd, why is `self.__class__(self._parent, rnum*sden + rden*snum, rden*sden, coerce=False, reduce=False, is_reduced=True)` necessarily reduced? You then divide by `d` but in the `except:` case, it won't be reduced, right?",
    "created_at": "2020-02-06T23:02:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387130",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:58" align="right">comment:58</div>

In gcd, why is `self.__class__(self._parent, rnum*sden + rden*snum, rden*sden, coerce=False, reduce=False, is_reduced=True)` necessarily reduced? You then divide by `d` but in the `except:` case, it won't be reduced, right?



---

archive/issue_comments_387131.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nSame a few lines below of course.",
    "created_at": "2020-02-06T23:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387131",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:59" align="right">comment:59</div>

Same a few lines below of course.



---

archive/issue_comments_387132.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nI believe that this is only correct over exact rings:\n\n```\n        if rnum.is_zero() or snum.is_zero():\n            return self._parent.zero()\n        elif self.is_one():\n            return right\n        elif _right.is_one():\n            return self\n```",
    "created_at": "2020-02-06T23:04:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387132",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:60" align="right">comment:60</div>

I believe that this is only correct over exact rings:

```
        if rnum.is_zero() or snum.is_zero():
            return self._parent.zero()
        elif self.is_one():
            return right
        elif _right.is_one():
            return self
```



---

archive/issue_comments_387133.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nWhy is this here automatically reduced in the except case?\n\n```\n+            tnum = rnum * snum\n+            tden = rden * sden\n+            res = self.__class__(self._parent, tnum, tden, coerce=False,\n+                   reduce=False)\n+            try:\n+                (<FractionFieldElement> res).normalize_unit_denominator()\n+            except (AttributeError, NotImplementedError):\n+                pass\n+            (<FractionFieldElement> res)._is_reduced = True\n```",
    "created_at": "2020-02-06T23:05:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387133",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:61" align="right">comment:61</div>

Why is this here automatically reduced in the except case?

```
+            tnum = rnum * snum
+            tden = rden * sden
+            res = self.__class__(self._parent, tnum, tden, coerce=False,
+                   reduce=False)
+            try:
+                (<FractionFieldElement> res).normalize_unit_denominator()
+            except (AttributeError, NotImplementedError):
+                pass
+            (<FractionFieldElement> res)._is_reduced = True
```



---

archive/issue_comments_387134.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nThis is not correct for inexact rings I think:\n\n```\n+        elif self.is_one():\n+            return ~right\n```",
    "created_at": "2020-02-06T23:13:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387134",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:62" align="right">comment:62</div>

This is not correct for inexact rings I think:

```
+        elif self.is_one():
+            return ~right
```



---

archive/issue_comments_387135.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nMaybe I am missing something in general here but why would that be automatically reduced if `self` isn't?\n\n```\n             return self.__class__(self.parent(),\n-                snum**right, sden**right,\n-                coerce=False, reduce=False)\n+                snum**n, sden**n,\n+                coerce=False, reduce=False, is_reduced=True)\n```",
    "created_at": "2020-02-06T23:14:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387135",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:63" align="right">comment:63</div>

Maybe I am missing something in general here but why would that be automatically reduced if `self` isn't?

```
             return self.__class__(self.parent(),
-                snum**right, sden**right,
-                coerce=False, reduce=False)
+                snum**n, sden**n,
+                coerce=False, reduce=False, is_reduced=True)
```



---

archive/issue_comments_387136.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nShouldn't that be protected by a try-except like in other places? This one is in pow.\n\n```\n+            (<FractionFieldElement> res).normalize_unit_denominator()\n+            (<FractionFieldElement> res)._is_reduced = True\n```",
    "created_at": "2020-02-06T23:16:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387136",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:64" align="right">comment:64</div>

Shouldn't that be protected by a try-except like in other places? This one is in pow.

```
+            (<FractionFieldElement> res).normalize_unit_denominator()
+            (<FractionFieldElement> res)._is_reduced = True
```



---

archive/issue_comments_387137.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nAgain, here in `neg`. Can't it be that `self` is not reduced?\n\n```         \n     return self.__class__(self._parent,\n             -self.__numerator, self.__denominator,\n-            coerce=False, reduce=False)\n+            coerce=False, reduce=False, is_reduced=True)\n```",
    "created_at": "2020-02-06T23:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387137",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:65" align="right">comment:65</div>

Again, here in `neg`. Can't it be that `self` is not reduced?

```         
     return self.__class__(self._parent,
             -self.__numerator, self.__denominator,
-            coerce=False, reduce=False)
+            coerce=False, reduce=False, is_reduced=True)
```



---

archive/issue_comments_387138.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nIn `inv`, should `normalize_unit_denominator` not be in try-except like in other places? Why is this reduced if `normalize_unit_denominator` failed silently? Why is this reduced if the original was not reduced?\n\n```\n+        (<FractionFieldElement> inv).normalize_unit_denominator()\n+        (<FractionFieldElement> inv)._is_reduced = True\n+        return inv\n```",
    "created_at": "2020-02-06T23:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387138",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:66" align="right">comment:66</div>

In `inv`, should `normalize_unit_denominator` not be in try-except like in other places? Why is this reduced if `normalize_unit_denominator` failed silently? Why is this reduced if the original was not reduced?

```
+        (<FractionFieldElement> inv).normalize_unit_denominator()
+        (<FractionFieldElement> inv)._is_reduced = True
+        return inv
```



---

archive/issue_comments_387139.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nWhy did you drop this test?\n\n```\n-\n-        Check that inexact elements are treated correctly::\n-\n-            sage: K=Qp(2,5)\n-            sage: R.<x> = K[]\n-            sage: L = R.fraction_field()\n-            sage: S.<y> = L[]\n-            sage: y(K(1,1)/x)\n-            (1 + O(2))/((1 + O(2))*x)\n```",
    "created_at": "2020-02-06T23:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387139",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:67" align="right">comment:67</div>

Why did you drop this test?

```
-
-        Check that inexact elements are treated correctly::
-
-            sage: K=Qp(2,5)
-            sage: R.<x> = K[]
-            sage: L = R.fraction_field()
-            sage: S.<y> = L[]
-            sage: y(K(1,1)/x)
-            (1 + O(2))/((1 + O(2))*x)
```



---

archive/issue_comments_387140.json:
```json
{
    "body": "Reviewer: **Julian R\u00fcth**",
    "created_at": "2020-02-06T23:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387140",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian RÃ¼th**



---

archive/issue_events_347336.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2020-02-06T23:23:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347336"
}
```



---

archive/issue_events_347337.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2020-02-06T23:23:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347337"
}
```



---

archive/issue_comments_387141.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nI like the idea of this ticket. Fraction fields are annoyingly slow and I am very much in favor of improving the situation. I might be misunderstanding a general pattern here, so looking forward to your comments.",
    "created_at": "2020-02-06T23:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387141",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:69" align="right">comment:69</div>

I like the idea of this ticket. Fraction fields are annoyingly slow and I am very much in favor of improving the situation. I might be misunderstanding a general pattern here, so looking forward to your comments.



---

archive/issue_comments_387142.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387142",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:70" align="right">comment:70</div>

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_347338.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347338"
}
```



---

archive/issue_events_347339.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347339"
}
```



---

archive/issue_comments_387143.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nNeeds rebase",
    "created_at": "2020-08-18T21:10:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387143",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:71" align="right">comment:71</div>

Needs rebase



---

archive/issue_comments_387144.json:
```json
{
    "body": "Changed commit from **[`05b14bb`](https://github.com/sagemath/sagetrac-mirror/commit/05b14bb40abf39a6280b8cb94765242953b93dd7)** to **[`e82fd35`](https://github.com/sagemath/sagetrac-mirror/commit/e82fd352272c4808ee7706b11a2461e72f98891d)**",
    "created_at": "2020-08-19T14:17:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387144",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`05b14bb`](https://github.com/sagemath/sagetrac-mirror/commit/05b14bb40abf39a6280b8cb94765242953b93dd7)** to **[`e82fd35`](https://github.com/sagemath/sagetrac-mirror/commit/e82fd352272c4808ee7706b11a2461e72f98891d)**



---

archive/issue_comments_387145.json:
```json
{
    "body": "<div id=\"comment:72\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ce383f2e710f9d7c27efacfd43e808c0df6b758\"><code>3ce383f</code></a></td><td><code>#25318 better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61c9a0bdf177fe7c1c4d9b1dfe734ced5524fb9e\"><code>61c9a0b</code></a></td><td><code>#25318 simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aafdf5385e3dc01aaaa9a27bbc764d490b1d22f5\"><code>aafdf53</code></a></td><td><code>#25318 fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e32f2caad96fe3e456dbc65522f177dfac047444\"><code>e32f2ca</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3194d4cef1351ad867c06639b09502772a18c5d0\"><code>3194d4c</code></a></td><td><code>#25318 minor fix in docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6caa829c1b80eb5bd272901695f42b35da0cac2\"><code>f6caa82</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e82fd352272c4808ee7706b11a2461e72f98891d\"><code>e82fd35</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>\n",
    "created_at": "2020-08-19T14:17:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387145",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:72"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ce383f2e710f9d7c27efacfd43e808c0df6b758"><code>3ce383f</code></a></td><td><code>#25318 better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61c9a0bdf177fe7c1c4d9b1dfe734ced5524fb9e"><code>61c9a0b</code></a></td><td><code>#25318 simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aafdf5385e3dc01aaaa9a27bbc764d490b1d22f5"><code>aafdf53</code></a></td><td><code>#25318 fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e32f2caad96fe3e456dbc65522f177dfac047444"><code>e32f2ca</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3194d4cef1351ad867c06639b09502772a18c5d0"><code>3194d4c</code></a></td><td><code>#25318 minor fix in docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6caa829c1b80eb5bd272901695f42b35da0cac2"><code>f6caa82</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e82fd352272c4808ee7706b11a2461e72f98891d"><code>e82fd35</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>




---

archive/issue_events_347340.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2020-08-19T14:17:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347340"
}
```



---

archive/issue_events_347341.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2020-08-19T14:17:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347341"
}
```



---

archive/issue_comments_387146.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nThanks a lot for your comments--and sorry for taking so long to reply, you caught me at a bad time!\n\nReplying to [@saraedum](#comment%3A58):\n> In gcd, why is `self.__class__(self._parent, rnum*sden + rden*snum, rden*sden, coerce=False, reduce=False, is_reduced=True)` necessarily reduced? You then divide by `d` but in the `except:` case, it won't be reduced, right?\n\nI assume you mean in `_add_`? But even so I don't understand the question: this line is under `if d.is_unit()`, and I'm dividing by `d` (or trying to) when that's not the case.\n\nReplying to [@saraedum](#comment%3A59):\n> Same a few lines below of course.\n\nA few lines below, the whole fraction is zero.\n\nReplying to [@saraedum](#comment%3A60):\n> I believe that this is only correct over exact rings:\n> \n> ```\n>         if rnum.is_zero() or snum.is_zero():\n>             return self._parent.zero()\n>         elif self.is_one():\n>             return right\n>         elif _right.is_one():\n>             return self\n> ```\n\nReplying to [@saraedum](#comment%3A62):\n> This is not correct for inexact rings I think:\n> \n> ```\n> +        elif self.is_one():\n> +            return ~right\n> ```\n\nReplying to [@saraedum](#comment%3A67):\n> Why did you drop this test?\n> \n> ```\n> -\n> -        Check that inexact elements are treated correctly::\n> -\n> -            sage: K=Qp(2,5)\n> -            sage: R.<x> = K[]\n> -            sage: L = R.fraction_field()\n> -            sage: S.<y> = L[]\n> -            sage: y(K(1,1)/x)\n> -            (1 + O(2))/((1 + O(2))*x)\n> ```\n\nSee the discussion above: I think it is correct over most inexact rings (RR, RDF, RBF, RIF, CC, CDF, CBF, CIF, SR... and constructions over them), but apparently not over p-adic rings, unfortunately. For want of a proper solution, I'm now using this logic over exact rings only.\n\nI dropped the test because I didn't realize this behavior of `is_zero()` and `is_one()` was something the p-adics people actually wanted. I have restored it in the rebased branch.\n\nReplying to [@saraedum](#comment%3A61):\n> Why is this here automatically reduced in the except case?\n> \n> ```\n> +            tnum = rnum * snum\n> +            tden = rden * sden\n> +            res = self.__class__(self._parent, tnum, tden, coerce=False,\n> +                   reduce=False)\n> +            try:\n> +                (<FractionFieldElement> res).normalize_unit_denominator()\n> +            except (AttributeError, NotImplementedError):\n> +                pass\n> +            (<FractionFieldElement> res)._is_reduced = True\n> ```\n\nStrictly speaking it isn't, but that's because we're unable to reduce over that ring, hence there is no point in trying again later. (Cf. the comment in front of the initial definition of `_is_reduced` in `__init__()`.)\n\nReplying to [@saraedum](#comment%3A63):\n> Maybe I am missing something in general here but why would that be automatically reduced if `self` isn't?\n> \n> ```\n>              return self.__class__(self.parent(),\n> -                snum**right, sden**right,\n> -                coerce=False, reduce=False)\n> +                snum**n, sden**n,\n> +                coerce=False, reduce=False, is_reduced=True)\n> ```\n\nReplying to [@saraedum](#comment%3A65):\n> Again, here in `neg`. Can't it be that `self` is not reduced?\n> \n> ```         \n>      return self.__class__(self._parent,\n>              -self.__numerator, self.__denominator,\n> -            coerce=False, reduce=False)\n> +            coerce=False, reduce=False, is_reduced=True)\n> ```\n\nI think you are right, `is_reduced=self._is_reduced` would be better in these cases.\n\nReplying to [@saraedum](#comment%3A64):\n> Shouldn't that be protected by a try-except like in other places? This one is in pow.\n> \n> ```\n> +            (<FractionFieldElement> res).normalize_unit_denominator()\n> +            (<FractionFieldElement> res)._is_reduced = True\n> ```\n\nReplying to [@saraedum](#comment%3A66):\n> In `inv`, should `normalize_unit_denominator` not be in try-except like in other places?\n> Why is this reduced if `normalize_unit_denominator` failed silently?\n> Why is this reduced if the original was not reduced?\n> \n> ```\n> +        (<FractionFieldElement> inv).normalize_unit_denominator()\n> +        (<FractionFieldElement> inv)._is_reduced = True\n> +        return inv\n> ```\n\nAFAICT it is the other way around: the try-excepts that are present in some cases are leftovers from a previous version and are unnecessary.\n\nSee above for the other points.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ce383f2e710f9d7c27efacfd43e808c0df6b758\"><code>3ce383f</code></a></td><td><code>#25318 better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61c9a0bdf177fe7c1c4d9b1dfe734ced5524fb9e\"><code>61c9a0b</code></a></td><td><code>#25318 simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aafdf5385e3dc01aaaa9a27bbc764d490b1d22f5\"><code>aafdf53</code></a></td><td><code>#25318 fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e32f2caad96fe3e456dbc65522f177dfac047444\"><code>e32f2ca</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3194d4cef1351ad867c06639b09502772a18c5d0\"><code>3194d4c</code></a></td><td><code>#25318 minor fix in docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6caa829c1b80eb5bd272901695f42b35da0cac2\"><code>f6caa82</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e82fd352272c4808ee7706b11a2461e72f98891d\"><code>e82fd35</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>\n",
    "created_at": "2020-08-19T14:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387146",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:73" align="right">comment:73</div>

Thanks a lot for your comments--and sorry for taking so long to reply, you caught me at a bad time!

Replying to [@saraedum](#comment%3A58):
> In gcd, why is `self.__class__(self._parent, rnum*sden + rden*snum, rden*sden, coerce=False, reduce=False, is_reduced=True)` necessarily reduced? You then divide by `d` but in the `except:` case, it won't be reduced, right?

I assume you mean in `_add_`? But even so I don't understand the question: this line is under `if d.is_unit()`, and I'm dividing by `d` (or trying to) when that's not the case.

Replying to [@saraedum](#comment%3A59):
> Same a few lines below of course.

A few lines below, the whole fraction is zero.

Replying to [@saraedum](#comment%3A60):
> I believe that this is only correct over exact rings:
> 
> ```
>         if rnum.is_zero() or snum.is_zero():
>             return self._parent.zero()
>         elif self.is_one():
>             return right
>         elif _right.is_one():
>             return self
> ```

Replying to [@saraedum](#comment%3A62):
> This is not correct for inexact rings I think:
> 
> ```
> +        elif self.is_one():
> +            return ~right
> ```

Replying to [@saraedum](#comment%3A67):
> Why did you drop this test?
> 
> ```
> -
> -        Check that inexact elements are treated correctly::
> -
> -            sage: K=Qp(2,5)
> -            sage: R.<x> = K[]
> -            sage: L = R.fraction_field()
> -            sage: S.<y> = L[]
> -            sage: y(K(1,1)/x)
> -            (1 + O(2))/((1 + O(2))*x)
> ```

See the discussion above: I think it is correct over most inexact rings (RR, RDF, RBF, RIF, CC, CDF, CBF, CIF, SR... and constructions over them), but apparently not over p-adic rings, unfortunately. For want of a proper solution, I'm now using this logic over exact rings only.

I dropped the test because I didn't realize this behavior of `is_zero()` and `is_one()` was something the p-adics people actually wanted. I have restored it in the rebased branch.

Replying to [@saraedum](#comment%3A61):
> Why is this here automatically reduced in the except case?
> 
> ```
> +            tnum = rnum * snum
> +            tden = rden * sden
> +            res = self.__class__(self._parent, tnum, tden, coerce=False,
> +                   reduce=False)
> +            try:
> +                (<FractionFieldElement> res).normalize_unit_denominator()
> +            except (AttributeError, NotImplementedError):
> +                pass
> +            (<FractionFieldElement> res)._is_reduced = True
> ```

Strictly speaking it isn't, but that's because we're unable to reduce over that ring, hence there is no point in trying again later. (Cf. the comment in front of the initial definition of `_is_reduced` in `__init__()`.)

Replying to [@saraedum](#comment%3A63):
> Maybe I am missing something in general here but why would that be automatically reduced if `self` isn't?
> 
> ```
>              return self.__class__(self.parent(),
> -                snum**right, sden**right,
> -                coerce=False, reduce=False)
> +                snum**n, sden**n,
> +                coerce=False, reduce=False, is_reduced=True)
> ```

Replying to [@saraedum](#comment%3A65):
> Again, here in `neg`. Can't it be that `self` is not reduced?
> 
> ```         
>      return self.__class__(self._parent,
>              -self.__numerator, self.__denominator,
> -            coerce=False, reduce=False)
> +            coerce=False, reduce=False, is_reduced=True)
> ```

I think you are right, `is_reduced=self._is_reduced` would be better in these cases.

Replying to [@saraedum](#comment%3A64):
> Shouldn't that be protected by a try-except like in other places? This one is in pow.
> 
> ```
> +            (<FractionFieldElement> res).normalize_unit_denominator()
> +            (<FractionFieldElement> res)._is_reduced = True
> ```

Replying to [@saraedum](#comment%3A66):
> In `inv`, should `normalize_unit_denominator` not be in try-except like in other places?
> Why is this reduced if `normalize_unit_denominator` failed silently?
> Why is this reduced if the original was not reduced?
> 
> ```
> +        (<FractionFieldElement> inv).normalize_unit_denominator()
> +        (<FractionFieldElement> inv)._is_reduced = True
> +        return inv
> ```

AFAICT it is the other way around: the try-excepts that are present in some cases are leftovers from a previous version and are unnecessary.

See above for the other points.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ce383f2e710f9d7c27efacfd43e808c0df6b758"><code>3ce383f</code></a></td><td><code>#25318 better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61c9a0bdf177fe7c1c4d9b1dfe734ced5524fb9e"><code>61c9a0b</code></a></td><td><code>#25318 simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aafdf5385e3dc01aaaa9a27bbc764d490b1d22f5"><code>aafdf53</code></a></td><td><code>#25318 fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e32f2caad96fe3e456dbc65522f177dfac047444"><code>e32f2ca</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3194d4cef1351ad867c06639b09502772a18c5d0"><code>3194d4c</code></a></td><td><code>#25318 minor fix in docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6caa829c1b80eb5bd272901695f42b35da0cac2"><code>f6caa82</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e82fd352272c4808ee7706b11a2461e72f98891d"><code>e82fd35</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>




---

archive/issue_comments_387147.json:
```json
{
    "body": "Changed commit from **[`e82fd35`](https://github.com/sagemath/sagetrac-mirror/commit/e82fd352272c4808ee7706b11a2461e72f98891d)** to **[`f279b43`](https://github.com/sagemath/sagetrac-mirror/commit/f279b43ed55e465782bbaabeaf266b645e2722e2)**",
    "created_at": "2020-08-20T11:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387147",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e82fd35`](https://github.com/sagemath/sagetrac-mirror/commit/e82fd352272c4808ee7706b11a2461e72f98891d)** to **[`f279b43`](https://github.com/sagemath/sagetrac-mirror/commit/f279b43ed55e465782bbaabeaf266b645e2722e2)**



---

archive/issue_comments_387148.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd39ad54fa77486dc4ff6b6b654746829d0081b4\"><code>fd39ad5</code></a></td><td><code>#25318 minor fix in docstring to make the patchbot happy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb63c06f612cf6dcd52178bf8a07650387f6cef8\"><code>eb63c06</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f279b43ed55e465782bbaabeaf266b645e2722e2\"><code>f279b43</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>\n",
    "created_at": "2020-08-20T11:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387148",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd39ad54fa77486dc4ff6b6b654746829d0081b4"><code>fd39ad5</code></a></td><td><code>#25318 minor fix in docstring to make the patchbot happy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb63c06f612cf6dcd52178bf8a07650387f6cef8"><code>eb63c06</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f279b43ed55e465782bbaabeaf266b645e2722e2"><code>f279b43</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>




---

archive/issue_events_347342.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347342"
}
```



---

archive/issue_events_347343.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347343"
}
```



---

archive/issue_comments_387149.json:
```json
{
    "body": "<div id=\"comment:76\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aee42003780752be86e2c40cc8ab21f777ba557b\"><code>aee4200</code></a></td><td><code>#25318 better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d89343acaa919c09ad74d35423a0a51b6a33f54\"><code>7d89343</code></a></td><td><code>#25318 simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc7cf8b861e6d796d0a7085837a45ffcaaabb283\"><code>fc7cf8b</code></a></td><td><code>#25318 fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a64812c129ccaa4de55cb18bb214033f00cf48ea\"><code>a64812c</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b1e9f15e545526bcc158a5f10f2ccc88a4ea4b9\"><code>7b1e9f1</code></a></td><td><code>#25318 minor fix in docstring to make the patchbot happy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ed1d791e694a45c6b5bcbddaaf33a91126ca5b6\"><code>8ed1d79</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5cdf79729f71f6cc4248620de9207c72d18552e\"><code>e5cdf79</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>\n",
    "created_at": "2020-12-20T17:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387149",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:76"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aee42003780752be86e2c40cc8ab21f777ba557b"><code>aee4200</code></a></td><td><code>#25318 better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d89343acaa919c09ad74d35423a0a51b6a33f54"><code>7d89343</code></a></td><td><code>#25318 simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc7cf8b861e6d796d0a7085837a45ffcaaabb283"><code>fc7cf8b</code></a></td><td><code>#25318 fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a64812c129ccaa4de55cb18bb214033f00cf48ea"><code>a64812c</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b1e9f15e545526bcc158a5f10f2ccc88a4ea4b9"><code>7b1e9f1</code></a></td><td><code>#25318 minor fix in docstring to make the patchbot happy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ed1d791e694a45c6b5bcbddaaf33a91126ca5b6"><code>8ed1d79</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5cdf79729f71f6cc4248620de9207c72d18552e"><code>e5cdf79</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>




---

archive/issue_comments_387150.json:
```json
{
    "body": "Changed commit from **[`f279b43`](https://github.com/sagemath/sagetrac-mirror/commit/f279b43ed55e465782bbaabeaf266b645e2722e2)** to **[`e5cdf79`](https://github.com/sagemath/sagetrac-mirror/commit/e5cdf79729f71f6cc4248620de9207c72d18552e)**",
    "created_at": "2020-12-20T17:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387150",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f279b43`](https://github.com/sagemath/sagetrac-mirror/commit/f279b43ed55e465782bbaabeaf266b645e2722e2)** to **[`e5cdf79`](https://github.com/sagemath/sagetrac-mirror/commit/e5cdf79729f71f6cc4248620de9207c72d18552e)**



---

archive/issue_comments_387151.json:
```json
{
    "body": "Changed commit from **[`e5cdf79`](https://github.com/sagemath/sagetrac-mirror/commit/e5cdf79729f71f6cc4248620de9207c72d18552e)** to **[`51c4308`](https://github.com/sagemath/sagetrac-mirror/commit/51c430873b0b8fe64865328afa73550241927866)**",
    "created_at": "2021-03-08T16:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387151",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e5cdf79`](https://github.com/sagemath/sagetrac-mirror/commit/e5cdf79729f71f6cc4248620de9207c72d18552e)** to **[`51c4308`](https://github.com/sagemath/sagetrac-mirror/commit/51c430873b0b8fe64865328afa73550241927866)**



---

archive/issue_comments_387152.json:
```json
{
    "body": "<div id=\"comment:77\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e02180adfc3ec163f2a3372031ac69e17c95768\"><code>0e02180</code></a></td><td><code>#25318 better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87143667b573c14a6909db369cef924af2a7cb4b\"><code>8714366</code></a></td><td><code>#25318 simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d896979c47e54e51c44d63243b56982ddd81cda\"><code>9d89697</code></a></td><td><code>#25318 fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65d3edf8dc4b9b3ef8e58ec41f54a74a486db3c1\"><code>65d3edf</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4686b143d78269b3e1d1c005a986aaed90a3d77e\"><code>4686b14</code></a></td><td><code>#25318 minor fix in docstring to make the patchbot happy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b26fbf3211feed75379b9c5c9653587807198c1a\"><code>b26fbf3</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51c430873b0b8fe64865328afa73550241927866\"><code>51c4308</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>\n",
    "created_at": "2021-03-08T16:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387152",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:77"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e02180adfc3ec163f2a3372031ac69e17c95768"><code>0e02180</code></a></td><td><code>#25318 better handle trivial cases of ==, * for fractions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87143667b573c14a6909db369cef924af2a7cb4b"><code>8714366</code></a></td><td><code>#25318 simplify fraction field elements +, *, and reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d896979c47e54e51c44d63243b56982ddd81cda"><code>9d89697</code></a></td><td><code>#25318 fractions: propagate the _is_reduced flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65d3edf8dc4b9b3ef8e58ec41f54a74a486db3c1"><code>65d3edf</code></a></td><td><code>#25318 fix / vs // issue revealed by changes to rational functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4686b143d78269b3e1d1c005a986aaed90a3d77e"><code>4686b14</code></a></td><td><code>#25318 minor fix in docstring to make the patchbot happy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b26fbf3211feed75379b9c5c9653587807198c1a"><code>b26fbf3</code></a></td><td><code>#25318 Accommodate p-adic rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51c430873b0b8fe64865328afa73550241927866"><code>51c4308</code></a></td><td><code>#25318 remove superfluous try/excepts</code></td></tr></table>




---

archive/issue_comments_387153.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nRebased on 9.3.beta8.",
    "created_at": "2021-03-08T16:06:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387153",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:78" align="right">comment:78</div>

Rebased on 9.3.beta8.



---

archive/issue_comments_387154.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nDo you have some timings?",
    "created_at": "2021-03-09T00:13:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387154",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:79" align="right">comment:79</div>

Do you have some timings?



---

archive/issue_events_347344.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2021-03-09T10:41:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347344"
}
```



---

archive/issue_events_347345.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2021-03-09T10:41:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347345"
}
```



---

archive/issue_comments_387155.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nReplying to [@tscrim](#comment%3A79):\n> Do you have some timings?\n\nGood question. I am almost certain my version was faster when I first wrote it, but with the current Sage beta I no longer see any measurable improvement. For all I know the this ticket's branch may even be a bit slower. Thanks for asking! `:-/`",
    "created_at": "2021-03-09T10:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387155",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:80" align="right">comment:80</div>

Replying to [@tscrim](#comment%3A79):
> Do you have some timings?

Good question. I am almost certain my version was faster when I first wrote it, but with the current Sage beta I no longer see any measurable improvement. For all I know the this ticket's branch may even be a bit slower. Thanks for asking! `:-/`



---

archive/issue_events_347346.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347346"
}
```



---

archive/issue_events_347347.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347347"
}
```



---

archive/issue_comments_387156.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387156",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:81" align="right">comment:81</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_387157.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25318#issuecomment-387157",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:82" align="right">comment:82</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_347348.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347348"
}
```



---

archive/issue_events_347349.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347349"
}
```



---

archive/issue_events_347350.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347350"
}
```



---

archive/issue_events_347351.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347351"
}
```



---

archive/issue_events_347352.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347352"
}
```



---

archive/issue_events_347353.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347353"
}
```



---

archive/issue_events_347354.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347354"
}
```



---

archive/issue_events_347355.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25318",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25318#event-347355"
}
```
