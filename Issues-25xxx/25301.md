# Issue 25301: sparse_2term_quotient_only_pm1 gives different results depending on set iteration order

archive/issues_025064.json:
```json
{
    "assignees": [],
    "body": "This function in the `sage.modular.modsym.relation_matrix_pyx` takes a set as input, and gives different results depending on the iteration order of the set (which is arbitrary, and often different on Python 2 vs Python 3).\n\nWhile this in itself is not at all a bug, but a feature of the algorithm, this has far reaching effect on the results of other computations, resulting in tests that fail on Python 3 since the set ordering is definitely not the same (but the same tests could just as easily fail on Python 2 in principle).\n\nNot sure yet what the best approach is to this.\n\nCC:  @JohnCremona @williamstein @loefflerd @kevinywlui @koffie @pjbruin\n\nBranch/Commit: **[19af688](https://github.com/sagemath/sagetrac-mirror/commit/19af6889ef08455e4c560d56e382d8921f9ed3f4)**\n\nReviewer: **John Cremona, Erik Bray, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **John Cremona, Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25301_\n\n",
    "closed_at": "2019-01-24T18:18:04Z",
    "created_at": "2018-05-07T14:00:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "sparse_2term_quotient_only_pm1 gives different results depending on set iteration order",
    "type": "issue",
    "updated_at": "2019-01-24T18:18:04Z",
    "url": "https://github.com/sagemath/sage/issues/25301",
    "user": "https://github.com/embray"
}
```
This function in the `sage.modular.modsym.relation_matrix_pyx` takes a set as input, and gives different results depending on the iteration order of the set (which is arbitrary, and often different on Python 2 vs Python 3).

While this in itself is not at all a bug, but a feature of the algorithm, this has far reaching effect on the results of other computations, resulting in tests that fail on Python 3 since the set ordering is definitely not the same (but the same tests could just as easily fail on Python 2 in principle).

Not sure yet what the best approach is to this.

CC:  @JohnCremona @williamstein @loefflerd @kevinywlui @koffie @pjbruin

Branch/Commit: **[19af688](https://github.com/sagemath/sagetrac-mirror/commit/19af6889ef08455e4c560d56e382d8921f9ed3f4)**

Reviewer: **John Cremona, Erik Bray, Frédéric Chapoton**

Author: **John Cremona, Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/25301_





---

archive/issue_events_331997.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-07T14:00:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-331997"
}
```



---

archive/issue_events_331998.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-07T14:00:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "000080",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-331998"
}
```



---

archive/issue_events_331999.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-07T14:00:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-331999"
}
```



---

archive/issue_events_332000.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-05-07T14:00:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332000"
}
```



---

archive/issue_events_332001.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:57:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332001"
}
```



---

archive/issue_events_332002.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:57:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332002"
}
```



---

archive/issue_comments_389553.json:
```json
{
    "body": "Branch: **[u/chapoton/25301](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25301)**",
    "created_at": "2018-10-05T09:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389553",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/25301](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25301)**



---

archive/issue_comments_389554.json:
```json
{
    "body": "Commit: **[92ce67c](https://github.com/sagemath/sagetrac-mirror/commit/92ce67cc8d88b4b1ff6281a09b85834df3c9c94a)**",
    "created_at": "2018-10-05T09:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389554",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[92ce67c](https://github.com/sagemath/sagetrac-mirror/commit/92ce67cc8d88b4b1ff6281a09b85834df3c9c94a)**



---

archive/issue_comments_389555.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92ce67cc8d88b4b1ff6281a09b85834df3c9c94a\">92ce67c</a></td><td><code>trac 25301 first steps</code></td></tr></table>\n",
    "created_at": "2018-10-05T09:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389555",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92ce67cc8d88b4b1ff6281a09b85834df3c9c94a">92ce67c</a></td><td><code>trac 25301 first steps</code></td></tr></table>




---

archive/issue_comments_389556.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/edf3ee9a40e82b11a38f6caab8938a18d9c3a3e6\">edf3ee9</a></td><td><code>trying to sort</code></td></tr></table>\n",
    "created_at": "2018-10-05T09:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389556",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/edf3ee9a40e82b11a38f6caab8938a18d9c3a3e6">edf3ee9</a></td><td><code>trying to sort</code></td></tr></table>




---

archive/issue_comments_389557.json:
```json
{
    "body": "Changed commit from **[92ce67c](https://github.com/sagemath/sagetrac-mirror/commit/92ce67cc8d88b4b1ff6281a09b85834df3c9c94a)** to **[edf3ee9](https://github.com/sagemath/sagetrac-mirror/commit/edf3ee9a40e82b11a38f6caab8938a18d9c3a3e6)**",
    "created_at": "2018-10-05T09:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389557",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[92ce67c](https://github.com/sagemath/sagetrac-mirror/commit/92ce67cc8d88b4b1ff6281a09b85834df3c9c94a)** to **[edf3ee9](https://github.com/sagemath/sagetrac-mirror/commit/edf3ee9a40e82b11a38f6caab8938a18d9c3a3e6)**



---

archive/issue_comments_389558.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/415800d1512cce9eb8f9b703b66976c7dc24d75b\">415800d</a></td><td><code>fix doctests in /modsym/heilbronn</code></td></tr></table>\n",
    "created_at": "2018-10-05T15:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389558",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/415800d1512cce9eb8f9b703b66976c7dc24d75b">415800d</a></td><td><code>fix doctests in /modsym/heilbronn</code></td></tr></table>




---

archive/issue_comments_389559.json:
```json
{
    "body": "Changed commit from **[edf3ee9](https://github.com/sagemath/sagetrac-mirror/commit/edf3ee9a40e82b11a38f6caab8938a18d9c3a3e6)** to **[415800d](https://github.com/sagemath/sagetrac-mirror/commit/415800d1512cce9eb8f9b703b66976c7dc24d75b)**",
    "created_at": "2018-10-05T15:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389559",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[edf3ee9](https://github.com/sagemath/sagetrac-mirror/commit/edf3ee9a40e82b11a38f6caab8938a18d9c3a3e6)** to **[415800d](https://github.com/sagemath/sagetrac-mirror/commit/415800d1512cce9eb8f9b703b66976c7dc24d75b)**



---

archive/issue_comments_389560.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nSo the question is : \n\nshould we just change the doctests or try to make them more robust ?\n\nThe opinion of some experts in modular symbols and Hecke operators is required..",
    "created_at": "2018-10-05T15:35:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389560",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">Comment 5</div>

So the question is : 

should we just change the doctests or try to make them more robust ?

The opinion of some experts in modular symbols and Hecke operators is required..



---

archive/issue_comments_389561.json:
```json
{
    "body": "Changed commit from **[415800d](https://github.com/sagemath/sagetrac-mirror/commit/415800d1512cce9eb8f9b703b66976c7dc24d75b)** to **[60a22e5](https://github.com/sagemath/sagetrac-mirror/commit/60a22e502300f00bf16e750aa721055f241f0167)**",
    "created_at": "2018-10-05T15:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389561",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[415800d](https://github.com/sagemath/sagetrac-mirror/commit/415800d1512cce9eb8f9b703b66976c7dc24d75b)** to **[60a22e5](https://github.com/sagemath/sagetrac-mirror/commit/60a22e502300f00bf16e750aa721055f241f0167)**



---

archive/issue_comments_389562.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60a22e502300f00bf16e750aa721055f241f0167\">60a22e5</a></td><td><code>another more robust test</code></td></tr></table>\n",
    "created_at": "2018-10-05T15:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389562",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60a22e502300f00bf16e750aa721055f241f0167">60a22e5</a></td><td><code>another more robust test</code></td></tr></table>




---

archive/issue_comments_389563.json:
```json
{
    "body": "Changed commit from **[60a22e5](https://github.com/sagemath/sagetrac-mirror/commit/60a22e502300f00bf16e750aa721055f241f0167)** to **[36f6be1](https://github.com/sagemath/sagetrac-mirror/commit/36f6be1dfd5bfd7fdbfd03d795ff53a97d090269)**",
    "created_at": "2018-10-14T07:23:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389563",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[60a22e5](https://github.com/sagemath/sagetrac-mirror/commit/60a22e502300f00bf16e750aa721055f241f0167)** to **[36f6be1](https://github.com/sagemath/sagetrac-mirror/commit/36f6be1dfd5bfd7fdbfd03d795ff53a97d090269)**



---

archive/issue_comments_389564.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bab53bbac4ef730846c59fcc46ea6178a1bc741f\">bab53bb</a></td><td><code>Merge branch 'u/chapoton/25301' in 8.4.rc1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36f6be1dfd5bfd7fdbfd03d795ff53a97d090269\">36f6be1</a></td><td><code>making some doctests of modular symbols more robust</code></td></tr></table>\n",
    "created_at": "2018-10-14T07:23:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389564",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bab53bbac4ef730846c59fcc46ea6178a1bc741f">bab53bb</a></td><td><code>Merge branch 'u/chapoton/25301' in 8.4.rc1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36f6be1dfd5bfd7fdbfd03d795ff53a97d090269">36f6be1</a></td><td><code>making some doctests of modular symbols more robust</code></td></tr></table>




---

archive/issue_comments_389565.json:
```json
{
    "body": "Changed branch from **[u/chapoton/25301](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25301)** to none",
    "created_at": "2018-11-10T13:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389565",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/chapoton/25301](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25301)** to none



---

archive/issue_comments_389566.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\na branch making some doctests more robust was moved to #26673",
    "created_at": "2018-11-10T13:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389566",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">Comment 8</div>

a branch making some doctests more robust was moved to #26673



---

archive/issue_comments_389567.json:
```json
{
    "body": "Changed commit from **[36f6be1](https://github.com/sagemath/sagetrac-mirror/commit/36f6be1dfd5bfd7fdbfd03d795ff53a97d090269)** to none",
    "created_at": "2018-11-10T13:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389567",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[36f6be1](https://github.com/sagemath/sagetrac-mirror/commit/36f6be1dfd5bfd7fdbfd03d795ff53a97d090269)** to none



---

archive/issue_comments_389568.json:
```json
{
    "body": "Branch: **[public/ticket/25301](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/25301)**",
    "created_at": "2018-12-20T18:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389568",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[public/ticket/25301](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/25301)**



---

archive/issue_comments_389569.json:
```json
{
    "body": "Commit: **[1282000](https://github.com/sagemath/sagetrac-mirror/commit/12820008a39ed91b90196d43ab5401113ddcede3)**",
    "created_at": "2018-12-20T18:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389569",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[1282000](https://github.com/sagemath/sagetrac-mirror/commit/12820008a39ed91b90196d43ab5401113ddcede3)**



---

archive/issue_comments_389570.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12820008a39ed91b90196d43ab5401113ddcede3\">1282000</a></td><td><code>trying to sort the relations in modular symbols</code></td></tr></table>\n",
    "created_at": "2018-12-20T18:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389570",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">Comment 9</div>

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12820008a39ed91b90196d43ab5401113ddcede3">1282000</a></td><td><code>trying to sort the relations in modular symbols</code></td></tr></table>




---

archive/issue_comments_389571.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\n**PLEASE**, opinion from experts of modular symbols is required on the failing doctests!\n\nTell us if either\n\n(1) the current change only modifies the bases of modular symbols and is harmless. We just need to change the doctests.\n\nor\n\n(2) at least some of the failing doctests are real failures, with bad and wrong answers",
    "created_at": "2018-12-20T20:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389571",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">Comment 10</div>

**PLEASE**, opinion from experts of modular symbols is required on the failing doctests!

Tell us if either

(1) the current change only modifies the bases of modular symbols and is harmless. We just need to change the doctests.

or

(2) at least some of the failing doctests are real failures, with bad and wrong answers



---

archive/issue_events_332003.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-20T20:32:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332003"
}
```



---

archive/issue_events_332004.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-20T20:32:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332004"
}
```



---

archive/issue_events_332005.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-20T20:32:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332005"
}
```



---

archive/issue_comments_389572.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI'll look at it.   (http://homepages.warwick.ac.uk/staff/J.E.Cremona/theses/index.html should qualify me)",
    "created_at": "2018-12-21T09:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389572",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:12" align="right">Comment 12</div>

I'll look at it.   (http://homepages.warwick.ac.uk/staff/J.E.Cremona/theses/index.html should qualify me)



---

archive/issue_comments_389573.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nI have started working through these, so far have done 3 out of 5 files in sage/modular and all are OK (i.e. the new output is equally valid).  It will take a while to do the rest and I may not get back to it before the middle of next week for obvious reasons.",
    "created_at": "2018-12-21T15:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389573",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:13" align="right">Comment 13</div>

I have started working through these, so far have done 3 out of 5 files in sage/modular and all are OK (i.e. the new output is equally valid).  It will take a while to do the rest and I may not get back to it before the middle of next week for obvious reasons.



---

archive/issue_comments_389574.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nIn several places the difference is that a different basis is being used for some vector space, so the matrices of Hecke operators look different.  One plan might be to tag the matrix display as #random but to include the characteristic polynomial in the output.  I am not currently doing this.",
    "created_at": "2018-12-21T17:08:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389574",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:14" align="right">Comment 14</div>

In several places the difference is that a different basis is being used for some vector space, so the matrices of Hecke operators look different.  One plan might be to tag the matrix display as #random but to include the characteristic polynomial in the output.  I am not currently doing this.



---

archive/issue_comments_389575.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nI'm having trouble with the test in line 217 of modular/modform/modular added for #8018 in 2010, authored by R Beezer and reviewed by AlexGhitza.",
    "created_at": "2018-12-21T17:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389575",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:15" align="right">Comment 15</div>

I'm having trouble with the test in line 217 of modular/modform/modular added for #8018 in 2010, authored by R Beezer and reviewed by AlexGhitza.



---

archive/issue_comments_389576.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nConcerning the idea of tagging with `# random`, this should not be necessary: instead one will change the doctests to their new values. The new values will hopefuly work in both python2 and python3 without problem. The only issue is to be sure that nothing got broken by all these changes of bases. This is exactly what you have started to do, thanks a lot.\n\nIn [comment:15](#comment%3A15), you mean line 217 of `modular/modform/numerical`, right ?",
    "created_at": "2018-12-30T15:11:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389576",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">Comment 16</div>

Concerning the idea of tagging with `# random`, this should not be necessary: instead one will change the doctests to their new values. The new values will hopefuly work in both python2 and python3 without problem. The only issue is to be sure that nothing got broken by all these changes of bases. This is exactly what you have started to do, thanks a lot.

In [comment:15](#comment%3A15), you mean line 217 of `modular/modform/numerical`, right ?



---

archive/issue_comments_389577.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@fchapoton](#comment%3A16):\n> Concerning the idea of tagging with `# random`, this should not be necessary: instead one will change the doctests to their new values. The new values will hopefuly work in both python2 and python3 without problem. The only issue is to be sure that nothing got broken by all these changes of bases. This is exactly what you have started to do, thanks a lot.\n\n\nOK \n\n> \n> In [comment:15](#comment%3A15), you mean line 217 of `modular/modform/numerical`, right ?\n> \n\nyes\n\nI am getting back to this now.",
    "created_at": "2019-01-02T09:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389577",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@fchapoton](#comment%3A16):
> Concerning the idea of tagging with `# random`, this should not be necessary: instead one will change the doctests to their new values. The new values will hopefuly work in both python2 and python3 without problem. The only issue is to be sure that nothing got broken by all these changes of bases. This is exactly what you have started to do, thanks a lot.


OK 

> 
> In [comment:15](#comment%3A15), you mean line 217 of `modular/modform/numerical`, right ?
> 

yes

I am getting back to this now.



---

archive/issue_comments_389578.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c65b74696ceff7067e81c0ef607c9778957d8502\">c65b746</a></td><td><code>#25301: fix all but one doctest in sage.modular</code></td></tr></table>\n",
    "created_at": "2019-01-02T17:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389578",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c65b74696ceff7067e81c0ef607c9778957d8502">c65b746</a></td><td><code>#25301: fix all but one doctest in sage.modular</code></td></tr></table>




---

archive/issue_comments_389579.json:
```json
{
    "body": "Changed commit from **[1282000](https://github.com/sagemath/sagetrac-mirror/commit/12820008a39ed91b90196d43ab5401113ddcede3)** to **[c65b746](https://github.com/sagemath/sagetrac-mirror/commit/c65b74696ceff7067e81c0ef607c9778957d8502)**",
    "created_at": "2019-01-02T17:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389579",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1282000](https://github.com/sagemath/sagetrac-mirror/commit/12820008a39ed91b90196d43ab5401113ddcede3)** to **[c65b746](https://github.com/sagemath/sagetrac-mirror/commit/c65b74696ceff7067e81c0ef607c9778957d8502)**



---

archive/issue_comments_389580.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nThe latest commit fixes all but one doctest in sage/modular, the last one being the one I mentioned above in the numerical section.  It is hard to get a new example which works since the code finds a random linear combination of a few Tp for small p, which is different every time -- yet one needs to find one such which has eigenvalues quite close together.  I will come back to this.\n\nI mostly just replaced the expected output with what the actual output now is, after doing some tests to check that the new output is reasonable.  In a few places I adapted the doctest to be just as useful but more canonical.  In one place I reworded a docstring (when the output of some modular symbol operation is not literally a monomial modular symbol but a linear combination of these).\n\nI'm adding David Loeffler to the notification list since some of the files I touched are (I think) written and/or worked on by him.  Meanwhile I am looking to see if there are any failing doctests outside sage/modular.",
    "created_at": "2019-01-02T17:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389580",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:19" align="right">Comment 19</div>

The latest commit fixes all but one doctest in sage/modular, the last one being the one I mentioned above in the numerical section.  It is hard to get a new example which works since the code finds a random linear combination of a few Tp for small p, which is different every time -- yet one needs to find one such which has eigenvalues quite close together.  I will come back to this.

I mostly just replaced the expected output with what the actual output now is, after doing some tests to check that the new output is reasonable.  In a few places I adapted the doctest to be just as useful but more canonical.  In one place I reworded a docstring (when the output of some modular symbol operation is not literally a monomial modular symbol but a linear combination of these).

I'm adding David Loeffler to the notification list since some of the files I touched are (I think) written and/or worked on by him.  Meanwhile I am looking to see if there are any failing doctests outside sage/modular.



---

archive/issue_events_332006.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-02T17:10:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332006"
}
```



---

archive/issue_events_332007.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-02T17:10:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332007"
}
```



---

archive/issue_comments_389581.json:
```json
{
    "body": "Reviewer: **John Cremona**",
    "created_at": "2019-01-02T17:10:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389581",
    "user": "https://github.com/JohnCremona"
}
```

Reviewer: **John Cremona**



---

archive/issue_comments_389582.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00f5218bfe205beccf73102a2e5df07a7c172eda\">00f5218</a></td><td><code>#25301: fix doctests outside sage.modular</code></td></tr></table>\n",
    "created_at": "2019-01-03T10:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389582",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00f5218bfe205beccf73102a2e5df07a7c172eda">00f5218</a></td><td><code>#25301: fix doctests outside sage.modular</code></td></tr></table>




---

archive/issue_comments_389583.json:
```json
{
    "body": "Changed commit from **[c65b746](https://github.com/sagemath/sagetrac-mirror/commit/c65b74696ceff7067e81c0ef607c9778957d8502)** to **[00f5218](https://github.com/sagemath/sagetrac-mirror/commit/00f5218bfe205beccf73102a2e5df07a7c172eda)**",
    "created_at": "2019-01-03T10:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389583",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c65b746](https://github.com/sagemath/sagetrac-mirror/commit/c65b74696ceff7067e81c0ef607c9778957d8502)** to **[00f5218](https://github.com/sagemath/sagetrac-mirror/commit/00f5218bfe205beccf73102a2e5df07a7c172eda)**



---

archive/issue_comments_389584.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nThere were 6 files outside sage/modular with doctests which needed changing: done.\n\nThat just leaves the numerical one which I will look at again now.",
    "created_at": "2019-01-03T10:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389584",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:22" align="right">Comment 22</div>

There were 6 files outside sage/modular with doctests which needed changing: done.

That just leaves the numerical one which I will look at again now.



---

archive/issue_comments_389585.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/356403a6cd93c5e2db964b0f61f16a54f4422117\">356403a</a></td><td><code>#25301: fix last doctest</code></td></tr></table>\n",
    "created_at": "2019-01-03T10:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389585",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/356403a6cd93c5e2db964b0f61f16a54f4422117">356403a</a></td><td><code>#25301: fix last doctest</code></td></tr></table>




---

archive/issue_comments_389586.json:
```json
{
    "body": "Changed commit from **[00f5218](https://github.com/sagemath/sagetrac-mirror/commit/00f5218bfe205beccf73102a2e5df07a7c172eda)** to **[356403a](https://github.com/sagemath/sagetrac-mirror/commit/356403a6cd93c5e2db964b0f61f16a54f4422117)**",
    "created_at": "2019-01-03T10:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389586",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[00f5218](https://github.com/sagemath/sagetrac-mirror/commit/00f5218bfe205beccf73102a2e5df07a7c172eda)** to **[356403a](https://github.com/sagemath/sagetrac-mirror/commit/356403a6cd93c5e2db964b0f61f16a54f4422117)**



---

archive/issue_comments_389587.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nOK all done.\n\nI put myself down as a reviewer but we need further review: I only tested with default python, and also it would be good for another pair of eyes to look at all the doctests I changed.",
    "created_at": "2019-01-03T10:29:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389587",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:24" align="right">Comment 24</div>

OK all done.

I put myself down as a reviewer but we need further review: I only tested with default python, and also it would be good for another pair of eyes to look at all the doctests I changed.



---

archive/issue_comments_389588.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nThanks John for your hard work on this ticket, which is of major importance in our progress towards python3.",
    "created_at": "2019-01-03T10:45:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389588",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">Comment 25</div>

Thanks John for your hard work on this ticket, which is of major importance in our progress towards python3.



---

archive/issue_comments_389589.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nGood, the bot is fully green.",
    "created_at": "2019-01-03T13:46:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389589",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">Comment 26</div>

Good, the bot is fully green.



---

archive/issue_comments_389590.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nAnd this fixes all doctests in 14 files in python3.\n\nSo I am extremely tempted to give it a positive review...",
    "created_at": "2019-01-07T13:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389590",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">Comment 27</div>

And this fixes all doctests in 14 files in python3.

So I am extremely tempted to give it a positive review...



---

archive/issue_comments_389591.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\n\n```diff\ndiff --git a/src/sage/modular/modsym/relation_matrix.py b/src/sage/modular/modsym/relation_matrix.py\nindex 5e968c3..8e92a7c 100644\n--- a/src/sage/modular/modsym/relation_matrix.py\n+++ b/src/sage/modular/modsym/relation_matrix.py\n@@ -496,7 +496,7 @@ def relation_matrix_wtk_g0(syms, sign, field, sparse):\n         # Let rels = rels union I relations.\n         rels.update(modI_relations(syms, sign))\n \n-    rels = list(rels)\n+    rels = sorted(rels)\n     # should be sorted(rels), but this breaks many doctests\n \n     if syms._apply_S_only_0pm1() and is_RationalField(field):\n```\n\nThere's a still a comment saying \"should be sorted(rels)\" when now it *is* that.\n\n+1 from me unless there's any good reason not to sort (is this a major performance regression anywhere?  We haven't really gotten anywhere with performance testing so who knows...)",
    "created_at": "2019-01-07T13:50:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389591",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">Comment 28</div>


```diff
diff --git a/src/sage/modular/modsym/relation_matrix.py b/src/sage/modular/modsym/relation_matrix.py
index 5e968c3..8e92a7c 100644
--- a/src/sage/modular/modsym/relation_matrix.py
+++ b/src/sage/modular/modsym/relation_matrix.py
@@ -496,7 +496,7 @@ def relation_matrix_wtk_g0(syms, sign, field, sparse):
         # Let rels = rels union I relations.
         rels.update(modI_relations(syms, sign))
 
-    rels = list(rels)
+    rels = sorted(rels)
     # should be sorted(rels), but this breaks many doctests
 
     if syms._apply_S_only_0pm1() and is_RationalField(field):
```

There's a still a comment saying "should be sorted(rels)" when now it *is* that.

+1 from me unless there's any good reason not to sort (is this a major performance regression anywhere?  We haven't really gotten anywhere with performance testing so who knows...)



---

archive/issue_comments_389592.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c11dd9f5d461571e1981a16e12e608a9cf44451\">8c11dd9</a></td><td><code>Merge branch 'public/ticket/25301' in 8.6.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a59f31865b0f8e1e777f4829537e7b284a4d3c52\">a59f318</a></td><td><code>trac 25301 change the message below the sorting line</code></td></tr></table>\n",
    "created_at": "2019-01-07T13:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389592",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29" align="right">Comment 29</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c11dd9f5d461571e1981a16e12e608a9cf44451">8c11dd9</a></td><td><code>Merge branch 'public/ticket/25301' in 8.6.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a59f31865b0f8e1e777f4829537e7b284a4d3c52">a59f318</a></td><td><code>trac 25301 change the message below the sorting line</code></td></tr></table>




---

archive/issue_comments_389593.json:
```json
{
    "body": "Changed commit from **[356403a](https://github.com/sagemath/sagetrac-mirror/commit/356403a6cd93c5e2db964b0f61f16a54f4422117)** to **[a59f318](https://github.com/sagemath/sagetrac-mirror/commit/a59f31865b0f8e1e777f4829537e7b284a4d3c52)**",
    "created_at": "2019-01-07T13:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389593",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[356403a](https://github.com/sagemath/sagetrac-mirror/commit/356403a6cd93c5e2db964b0f61f16a54f4422117)** to **[a59f318](https://github.com/sagemath/sagetrac-mirror/commit/a59f31865b0f8e1e777f4829537e7b284a4d3c52)**



---

archive/issue_comments_389594.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nIn my idea, this change should not impact the performance at all. We are just sorting a bunch of pairs of integers, no big deal.\n\n@JohnCremona: do you have some worries on this question of performance regression, John ? What would be a good test to run to make sure that no speed is lost ?",
    "created_at": "2019-01-07T20:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389594",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">Comment 30</div>

In my idea, this change should not impact the performance at all. We are just sorting a bunch of pairs of integers, no big deal.

@JohnCremona: do you have some worries on this question of performance regression, John ? What would be a good test to run to make sure that no speed is lost ?



---

archive/issue_comments_389595.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nBefore\n\n```\nsage: %timeit ModularSymbols(4691).basis()\n1 loop, best of 3: 1.28 s per loop\n```\nAfter\n\n```\nsage: %timeit ModularSymbols(4691).basis()\n1 loop, best of 3: 1.27 s per loop\n```\nSo I do not see any significant difference here.",
    "created_at": "2019-01-08T09:20:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389595",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:31" align="right">Comment 31</div>

Before

```
sage: %timeit ModularSymbols(4691).basis()
1 loop, best of 3: 1.28 s per loop
```
After

```
sage: %timeit ModularSymbols(4691).basis()
1 loop, best of 3: 1.27 s per loop
```
So I do not see any significant difference here.



---

archive/issue_comments_389596.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nReplying to [@fchapoton](#comment%3A31):\n> Before\n> \n> ```\n> sage: %timeit ModularSymbols(4691).basis()\n> 1 loop, best of 3: 1.28 s per loop\n> ```\n> After\n> \n> ```\n> sage: %timeit ModularSymbols(4691).basis()\n> 1 loop, best of 3: 1.27 s per loop\n> ```\n> So I do not see any significant difference here.\n\nThat is just the sort of test I was going to suggest, but 4691 is prime and that is a very special case, so I suggest (as you have the new and old code up and running I think it is easier for you than for me right now) that you also try the following levels:  N with several prime factors (e.g. 2310), larger prime powers, and a combination of the above such as 1680.",
    "created_at": "2019-01-08T09:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389596",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:32" align="right">Comment 32</div>

Replying to [@fchapoton](#comment%3A31):
> Before
> 
> ```
> sage: %timeit ModularSymbols(4691).basis()
> 1 loop, best of 3: 1.28 s per loop
> ```
> After
> 
> ```
> sage: %timeit ModularSymbols(4691).basis()
> 1 loop, best of 3: 1.27 s per loop
> ```
> So I do not see any significant difference here.

That is just the sort of test I was going to suggest, but 4691 is prime and that is a very special case, so I suggest (as you have the new and old code up and running I think it is easier for you than for me right now) that you also try the following levels:  N with several prime factors (e.g. 2310), larger prime powers, and a combination of the above such as 1680.



---

archive/issue_comments_389597.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nbefore:\n\n```\nsage: %timeit ModularSymbols(2310).basis()\n1 loop, best of 3: 6.53 s per loop\nsage: %timeit ModularSymbols(1680).basis()\n1 loop, best of 3: 2.06 s per loop\nsage: %timeit ModularSymbols(5**5).basis()\n1 loop, best of 3: 8.59 s per loop    (fluctuates between 8.59 and 8.65)\n```\nafter:\n\n```\nsage: %timeit ModularSymbols(2310).basis()\n1 loop, best of 3: 6.52 s per loop         (or 6.53)\nsage: %timeit ModularSymbols(1680).basis()\n1 loop, best of 3: 2.07 s per loop\nsage: %timeit ModularSymbols(5**5).basis()\n1 loop, best of 3: 8.68 s per loop    (fluctuates between 8.66 and 8.73)\n```\nSo there is no meaningful difference in the first two cases, I think. The last one for `5**5` fluctuates more than the others, but seems to be consistently slightly slower.",
    "created_at": "2019-01-08T10:08:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389597",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">Comment 33</div>

before:

```
sage: %timeit ModularSymbols(2310).basis()
1 loop, best of 3: 6.53 s per loop
sage: %timeit ModularSymbols(1680).basis()
1 loop, best of 3: 2.06 s per loop
sage: %timeit ModularSymbols(5**5).basis()
1 loop, best of 3: 8.59 s per loop    (fluctuates between 8.59 and 8.65)
```
after:

```
sage: %timeit ModularSymbols(2310).basis()
1 loop, best of 3: 6.52 s per loop         (or 6.53)
sage: %timeit ModularSymbols(1680).basis()
1 loop, best of 3: 2.07 s per loop
sage: %timeit ModularSymbols(5**5).basis()
1 loop, best of 3: 8.68 s per loop    (fluctuates between 8.66 and 8.73)
```
So there is no meaningful difference in the first two cases, I think. The last one for `5**5` fluctuates more than the others, but seems to be consistently slightly slower.



---

archive/issue_comments_389598.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nOkay, thank you for checking.  I did not think it would likely make a significant difference, but I wasn't exactly sure how best to benchmark that.",
    "created_at": "2019-01-08T13:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389598",
    "user": "https://github.com/embray"
}
```

<div id="comment:34" align="right">Comment 34</div>

Okay, thank you for checking.  I did not think it would likely make a significant difference, but I wasn't exactly sure how best to benchmark that.



---

archive/issue_events_332008.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-08T13:44:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332008"
}
```



---

archive/issue_events_332009.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-08T13:44:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332009"
}
```



---

archive/issue_comments_389599.json:
```json
{
    "body": "Changed reviewer from **John Cremona** to **John Cremona, Erik Bray**",
    "created_at": "2019-01-08T13:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389599",
    "user": "https://github.com/embray"
}
```

Changed reviewer from **John Cremona** to **John Cremona, Erik Bray**



---

archive/issue_comments_389600.json:
```json
{
    "body": "Author: **John Cremona, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2019-01-08T20:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389600",
    "user": "https://github.com/fchapoton"
}
```

Author: **John Cremona, Frédéric Chapoton**



---

archive/issue_comments_389601.json:
```json
{
    "body": "Changed reviewer from **John Cremona, Erik Bray** to **John Cremona, Erik Bray, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2019-01-08T20:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389601",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **John Cremona, Erik Bray** to **John Cremona, Erik Bray, Frédéric Chapoton**



---

archive/issue_comments_389602.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389602",
    "user": "https://github.com/embray"
}
```

<div id="comment:36" align="right">Comment 36</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_332010.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332010"
}
```



---

archive/issue_events_332011.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332011"
}
```



---

archive/issue_comments_389603.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nOn 32-bit:\n\n```\n**********************************************************************\nFile \"src/sage/modular/modform/numerical.py\", line 75, in sage.modular.modform.numerical.NumericalEigenforms\nFailed example:\n    n.ap(2)  # rel tol 2e-15\nExpected:\n    [3.0, -1.6180339887498947, 0.6180339887498968]\nGot:\n    [3.0, -1.6180339887498965, 0.6180339887498943]\nTolerance exceeded in 1 of 3:\n    0.6180339887498968 vs 0.6180339887498943, tolerance 4e-15 > 2e-15\n**********************************************************************\nFile \"src/sage/modular/modform/numerical.py\", line 77, in sage.modular.modform.numerical.NumericalEigenforms\nFailed example:\n    n.systems_of_eigenvalues(7)  # rel tol 2e-15\nExpected:\n    [\n    [-1.6180339887498947, 2.2360679774997894, -3.2360679774997894],\n    [0.6180339887498968, -2.236067977499788, 1.2360679774997936],\n    [3.0, 4.0, 6.0]\n    ]\nGot:\n    [\n    [-1.6180339887498965, 2.2360679774997894, -3.236067977499793],\n    [0.6180339887498943, -2.2360679774997894, 1.2360679774997887],\n    [3.0, 4.0, 6.0]\n    ]\nTolerance exceeded in 2 of 9:\n    0.6180339887498968 vs 0.6180339887498943, tolerance 4e-15 > 2e-15\n    1.2360679774997936 vs 1.2360679774997887, tolerance 4e-15 > 2e-15\n**********************************************************************\nFile \"src/sage/modular/modform/numerical.py\", line 89, in sage.modular.modform.numerical.NumericalEigenforms\nFailed example:\n    n.eigenvalues([2,3,5])  # rel tol 2e-15\nExpected:\n    [[3.0, -1.6180339887498947, 0.6180339887498968],\n     [4.0, 2.2360679774997894, -2.236067977499788],\n     [6.0, -3.2360679774997894, 1.2360679774997936]]\nGot:\n    [[3.0, -1.6180339887498965, 0.6180339887498943],\n     [4.0, 2.2360679774997894, -2.2360679774997894],\n     [6.0, -3.236067977499793, 1.2360679774997887]]\nTolerance exceeded in 2 of 9:\n    0.6180339887498968 vs 0.6180339887498943, tolerance 4e-15 > 2e-15\n    1.2360679774997936 vs 1.2360679774997887, tolerance 4e-15 > 2e-15\n**********************************************************************\n1 item had failures:\n   3 of   7 in sage.modular.modform.numerical.NumericalEigenforms\n    [46 tests, 3 failures, 0.46 s]\n```",
    "created_at": "2019-01-20T00:10:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389603",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">Comment 37</div>

On 32-bit:

```
**********************************************************************
File "src/sage/modular/modform/numerical.py", line 75, in sage.modular.modform.numerical.NumericalEigenforms
Failed example:
    n.ap(2)  # rel tol 2e-15
Expected:
    [3.0, -1.6180339887498947, 0.6180339887498968]
Got:
    [3.0, -1.6180339887498965, 0.6180339887498943]
Tolerance exceeded in 1 of 3:
    0.6180339887498968 vs 0.6180339887498943, tolerance 4e-15 > 2e-15
**********************************************************************
File "src/sage/modular/modform/numerical.py", line 77, in sage.modular.modform.numerical.NumericalEigenforms
Failed example:
    n.systems_of_eigenvalues(7)  # rel tol 2e-15
Expected:
    [
    [-1.6180339887498947, 2.2360679774997894, -3.2360679774997894],
    [0.6180339887498968, -2.236067977499788, 1.2360679774997936],
    [3.0, 4.0, 6.0]
    ]
Got:
    [
    [-1.6180339887498965, 2.2360679774997894, -3.236067977499793],
    [0.6180339887498943, -2.2360679774997894, 1.2360679774997887],
    [3.0, 4.0, 6.0]
    ]
Tolerance exceeded in 2 of 9:
    0.6180339887498968 vs 0.6180339887498943, tolerance 4e-15 > 2e-15
    1.2360679774997936 vs 1.2360679774997887, tolerance 4e-15 > 2e-15
**********************************************************************
File "src/sage/modular/modform/numerical.py", line 89, in sage.modular.modform.numerical.NumericalEigenforms
Failed example:
    n.eigenvalues([2,3,5])  # rel tol 2e-15
Expected:
    [[3.0, -1.6180339887498947, 0.6180339887498968],
     [4.0, 2.2360679774997894, -2.236067977499788],
     [6.0, -3.2360679774997894, 1.2360679774997936]]
Got:
    [[3.0, -1.6180339887498965, 0.6180339887498943],
     [4.0, 2.2360679774997894, -2.2360679774997894],
     [6.0, -3.236067977499793, 1.2360679774997887]]
Tolerance exceeded in 2 of 9:
    0.6180339887498968 vs 0.6180339887498943, tolerance 4e-15 > 2e-15
    1.2360679774997936 vs 1.2360679774997887, tolerance 4e-15 > 2e-15
**********************************************************************
1 item had failures:
   3 of   7 in sage.modular.modform.numerical.NumericalEigenforms
    [46 tests, 3 failures, 0.46 s]
```



---

archive/issue_events_332012.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-20T00:10:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332012"
}
```



---

archive/issue_events_332013.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-20T00:10:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332013"
}
```



---

archive/issue_comments_389604.json:
```json
{
    "body": "Changed commit from **[a59f318](https://github.com/sagemath/sagetrac-mirror/commit/a59f31865b0f8e1e777f4829537e7b284a4d3c52)** to **[19af688](https://github.com/sagemath/sagetrac-mirror/commit/19af6889ef08455e4c560d56e382d8921f9ed3f4)**",
    "created_at": "2019-01-20T10:17:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389604",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a59f318](https://github.com/sagemath/sagetrac-mirror/commit/a59f31865b0f8e1e777f4829537e7b284a4d3c52)** to **[19af688](https://github.com/sagemath/sagetrac-mirror/commit/19af6889ef08455e4c560d56e382d8921f9ed3f4)**



---

archive/issue_comments_389605.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d198ed93188ef1f2fdc6cb8d6aea24e38c4302b8\">d198ed9</a></td><td><code>Merge branch 'public/ticket/25301' in 8.6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19af6889ef08455e4c560d56e382d8921f9ed3f4\">19af688</a></td><td><code>trac 25301 fix 32 bit doctests by lowering precision, plus pyflakes change</code></td></tr></table>\n",
    "created_at": "2019-01-20T10:17:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389605",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38" align="right">Comment 38</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d198ed93188ef1f2fdc6cb8d6aea24e38c4302b8">d198ed9</a></td><td><code>Merge branch 'public/ticket/25301' in 8.6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19af6889ef08455e4c560d56e382d8921f9ed3f4">19af688</a></td><td><code>trac 25301 fix 32 bit doctests by lowering precision, plus pyflakes change</code></td></tr></table>




---

archive/issue_comments_389606.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nI have lowered slightly the precision",
    "created_at": "2019-01-20T10:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389606",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">Comment 39</div>

I have lowered slightly the precision



---

archive/issue_events_332014.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-20T10:17:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332014"
}
```



---

archive/issue_events_332015.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-20T10:17:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332015"
}
```



---

archive/issue_events_332016.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-20T10:59:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332016"
}
```



---

archive/issue_events_332017.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2019-01-20T10:59:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332017"
}
```



---

archive/issue_events_332018.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-24T18:18:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332018"
}
```



---

archive/issue_events_332019.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f35fa3d58c75d3b8ec3c969f5e121d665afc683a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-24T18:18:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25301#event-332019"
}
```



---

archive/issue_comments_389607.json:
```json
{
    "body": "Changed branch from **[public/ticket/25301](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/25301)** to **[19af688](https://github.com/sagemath/sagetrac-mirror/commit/19af6889ef08455e4c560d56e382d8921f9ed3f4)**",
    "created_at": "2019-01-24T18:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25301#issuecomment-389607",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/25301](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/25301)** to **[19af688](https://github.com/sagemath/sagetrac-mirror/commit/19af6889ef08455e4c560d56e382d8921f9ed3f4)**
