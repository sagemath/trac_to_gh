# Issue 25869: Add manifold catalog

archive/issues_025632.json:
```json
{
    "body": "This ticket implements a few shortcuts to define some manifolds.\n\nWith this ticket, n-sphere, torus, Minkowski and Kerr spacetime can be declared in just one line, which is convenient for casual users and future doctests or examples.\n\n**CC:**  @egourgoulhon @tscrim\n\n**Keywords:** generator, shortcut, manifold\n\n**Branch/Commit:** [ba166f87999a9afb44025713782affaa2d18f8c6](https://github.com/sagemath/sagetrac-mirror/commit/ba166f87999a9afb44025713782affaa2d18f8c6)\n\n**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw\n\n**Author:** Florentin Jaffredo\n\nIssue created by migration from https://trac.sagemath.org/ticket/25869\n\n",
    "closed_at": "2018-10-20T11:58:57Z",
    "created_at": "2018-07-17T16:01:11Z",
    "labels": [
        "component: geometry",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "Add manifold catalog",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25869",
    "user": "https://github.com/FlorentinJ"
}
```
This ticket implements a few shortcuts to define some manifolds.

With this ticket, n-sphere, torus, Minkowski and Kerr spacetime can be declared in just one line, which is convenient for casual users and future doctests or examples.

**CC:**  @egourgoulhon @tscrim

**Keywords:** generator, shortcut, manifold

**Branch/Commit:** [ba166f87999a9afb44025713782affaa2d18f8c6](https://github.com/sagemath/sagetrac-mirror/commit/ba166f87999a9afb44025713782affaa2d18f8c6)

**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw

**Author:** Florentin Jaffredo

Issue created by migration from https://trac.sagemath.org/ticket/25869





---

archive/issue_comments_474164.json:
```json
{
    "body": "<a id='comment:1'></a>\nA more Pythonic way would be to have these be functions in a module and import the module (this is how most the other catalogs are done in Sage). So the new file you've created should be renames as something like `catalog.py` and imported in `manifolds/all.py` by\n\n```\nimport .catalog as manifolds\n```\nWithin the file, you should move the import\n\n```\nfrom sage.manifolds.manifold import Manifold\n```\nwithin each function. I might also consider masquerading the functions as classes by making them start with uppercase letters or breaking with Python conventions by capitalizing the proper names, but Sage doesn't really have a true convention for these things.\n\nAlso, typo: <code>\\`\\`sng\\`\\`</code>, but I think the sign should also take an generic tuple of length 4.",
    "created_at": "2018-07-18T03:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474164",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
A more Pythonic way would be to have these be functions in a module and import the module (this is how most the other catalogs are done in Sage). So the new file you've created should be renames as something like `catalog.py` and imported in `manifolds/all.py` by

```
import .catalog as manifolds
```
Within the file, you should move the import

```
from sage.manifolds.manifold import Manifold
```
within each function. I might also consider masquerading the functions as classes by making them start with uppercase letters or breaking with Python conventions by capitalizing the proper names, but Sage doesn't really have a true convention for these things.

Also, typo: <code>\`\`sng\`\`</code>, but I think the sign should also take an generic tuple of length 4.



---

archive/issue_comments_474165.json:
```json
{
    "body": "**Changing commit** from \"[a6f428660e8a9a5ded6888bb80b4e488dc3c36d6](https://github.com/sagemath/sagetrac-mirror/commit/a6f428660e8a9a5ded6888bb80b4e488dc3c36d6)\" to \"[911bde9c48467f37d145095dbd462ed47bb309c9](https://github.com/sagemath/sagetrac-mirror/commit/911bde9c48467f37d145095dbd462ed47bb309c9)\".",
    "created_at": "2018-07-18T12:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474165",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a6f428660e8a9a5ded6888bb80b4e488dc3c36d6](https://github.com/sagemath/sagetrac-mirror/commit/a6f428660e8a9a5ded6888bb80b4e488dc3c36d6)" to "[911bde9c48467f37d145095dbd462ed47bb309c9](https://github.com/sagemath/sagetrac-mirror/commit/911bde9c48467f37d145095dbd462ed47bb309c9)".



---

archive/issue_comments_474166.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/911bde9c48467f37d145095dbd462ed47bb309c9\">911bde9</a></td><td><code>Refactored code, better signature handling</code></td></tr></table>\n",
    "created_at": "2018-07-18T12:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474166",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/911bde9c48467f37d145095dbd462ed47bb309c9">911bde9</a></td><td><code>Refactored code, better signature handling</code></td></tr></table>




---

archive/issue_comments_474167.json:
```json
{
    "body": "<a id='comment:3'></a>\nI changed it according to your remarks. I originally used the file `surface3d_generators.py` as an example, but i didn't realize it was an exception.\n\nI'm currently experiencing difficulties building the documentation (for no reason at all, it worked well last week), so i don't know if it build properly.",
    "created_at": "2018-07-18T12:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474167",
    "user": "https://github.com/FlorentinJ"
}
```

<a id='comment:3'></a>
I changed it according to your remarks. I originally used the file `surface3d_generators.py` as an example, but i didn't realize it was an exception.

I'm currently experiencing difficulties building the documentation (for no reason at all, it worked well last week), so i don't know if it build properly.



---

archive/issue_comments_474168.json:
```json
{
    "body": "<a id='comment:4'></a>\nMany thanks for introducing a manifold catalog, at last!\n\nA short comment: to avoid any confusion and code duplication, I would remove `Euclidean` from the catalog, since Euclidean spaces can now be easily constructed with `EuclideanSpace`, as implemented in #24623 (merged in Sage 8.3.beta0). Or even better, `manifolds.Euclidean()` could return an object of class `EuclideanSpace` (possibly of the subclasses `EuclideanPlane` or `Euclidean3dimSpace`).",
    "created_at": "2018-07-18T19:18:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474168",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'></a>
Many thanks for introducing a manifold catalog, at last!

A short comment: to avoid any confusion and code duplication, I would remove `Euclidean` from the catalog, since Euclidean spaces can now be easily constructed with `EuclideanSpace`, as implemented in #24623 (merged in Sage 8.3.beta0). Or even better, `manifolds.Euclidean()` could return an object of class `EuclideanSpace` (possibly of the subclasses `EuclideanPlane` or `Euclidean3dimSpace`).



---

archive/issue_comments_474169.json:
```json
{
    "body": "**Changing commit** from \"[911bde9c48467f37d145095dbd462ed47bb309c9](https://github.com/sagemath/sagetrac-mirror/commit/911bde9c48467f37d145095dbd462ed47bb309c9)\" to \"[7a5bde2cd4ee60f91625545535c8ac21a0962cd7](https://github.com/sagemath/sagetrac-mirror/commit/7a5bde2cd4ee60f91625545535c8ac21a0962cd7)\".",
    "created_at": "2018-07-19T11:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[911bde9c48467f37d145095dbd462ed47bb309c9](https://github.com/sagemath/sagetrac-mirror/commit/911bde9c48467f37d145095dbd462ed47bb309c9)" to "[7a5bde2cd4ee60f91625545535c8ac21a0962cd7](https://github.com/sagemath/sagetrac-mirror/commit/7a5bde2cd4ee60f91625545535c8ac21a0962cd7)".



---

archive/issue_comments_474170.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a5bde2cd4ee60f91625545535c8ac21a0962cd7\">7a5bde2</a></td><td><code>Now uses EuclideanSpace, added doc entry</code></td></tr></table>\n",
    "created_at": "2018-07-19T11:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474170",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a5bde2cd4ee60f91625545535c8ac21a0962cd7">7a5bde2</a></td><td><code>Now uses EuclideanSpace, added doc entry</code></td></tr></table>




---

archive/issue_comments_474171.json:
```json
{
    "body": "**Changing commit** from \"[7a5bde2cd4ee60f91625545535c8ac21a0962cd7](https://github.com/sagemath/sagetrac-mirror/commit/7a5bde2cd4ee60f91625545535c8ac21a0962cd7)\" to \"[ecca83272e56a4a2091c02769321f713d9a7c0f6](https://github.com/sagemath/sagetrac-mirror/commit/ecca83272e56a4a2091c02769321f713d9a7c0f6)\".",
    "created_at": "2018-07-20T08:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474171",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7a5bde2cd4ee60f91625545535c8ac21a0962cd7](https://github.com/sagemath/sagetrac-mirror/commit/7a5bde2cd4ee60f91625545535c8ac21a0962cd7)" to "[ecca83272e56a4a2091c02769321f713d9a7c0f6](https://github.com/sagemath/sagetrac-mirror/commit/ecca83272e56a4a2091c02769321f713d9a7c0f6)".



---

archive/issue_comments_474172.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecca83272e56a4a2091c02769321f713d9a7c0f6\">ecca832</a></td><td><code>minor fix</code></td></tr></table>\n",
    "created_at": "2018-07-20T08:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474172",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecca83272e56a4a2091c02769321f713d9a7c0f6">ecca832</a></td><td><code>minor fix</code></td></tr></table>




---

archive/issue_comments_474173.json:
```json
{
    "body": "**Changing commit** from \"[ecca83272e56a4a2091c02769321f713d9a7c0f6](https://github.com/sagemath/sagetrac-mirror/commit/ecca83272e56a4a2091c02769321f713d9a7c0f6)\" to \"[4ff840bfd6f8cb8a9380456a6acbc11ecab172f1](https://github.com/sagemath/sagetrac-mirror/commit/4ff840bfd6f8cb8a9380456a6acbc11ecab172f1)\".",
    "created_at": "2018-07-23T14:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ecca83272e56a4a2091c02769321f713d9a7c0f6](https://github.com/sagemath/sagetrac-mirror/commit/ecca83272e56a4a2091c02769321f713d9a7c0f6)" to "[4ff840bfd6f8cb8a9380456a6acbc11ecab172f1](https://github.com/sagemath/sagetrac-mirror/commit/4ff840bfd6f8cb8a9380456a6acbc11ecab172f1)".



---

archive/issue_comments_474174.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/028012dbc0a966cd04e56260468abcfec1867f84\">028012d</a></td><td><code>another small fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ff840bfd6f8cb8a9380456a6acbc11ecab172f1\">4ff840b</a></td><td><code>Fix wrong Kerr metric</code></td></tr></table>\n",
    "created_at": "2018-07-23T14:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/028012dbc0a966cd04e56260468abcfec1867f84">028012d</a></td><td><code>another small fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ff840bfd6f8cb8a9380456a6acbc11ecab172f1">4ff840b</a></td><td><code>Fix wrong Kerr metric</code></td></tr></table>




---

archive/issue_comments_474175.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de1d433607609c04eb8943a4ded388e6ac5fdd1f\">de1d433</a></td><td><code>Added stereographic chart for 2d spheres</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5594f9dcf6954606eb773a65a9b00ae6f9d4c919\">5594f9d</a></td><td><code>Changed the immersion of the sphere</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/622fff3513bf71b94641337152d8247195d51ac3\">622fff3</a></td><td><code>Previous commit was missing some expressions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3c6996765b274f6353b81adb34a6cbbd5f2cc7c\">a3c6996</a></td><td><code>Added a small check</code></td></tr></table>\n",
    "created_at": "2018-08-06T10:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de1d433607609c04eb8943a4ded388e6ac5fdd1f">de1d433</a></td><td><code>Added stereographic chart for 2d spheres</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5594f9dcf6954606eb773a65a9b00ae6f9d4c919">5594f9d</a></td><td><code>Changed the immersion of the sphere</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/622fff3513bf71b94641337152d8247195d51ac3">622fff3</a></td><td><code>Previous commit was missing some expressions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3c6996765b274f6353b81adb34a6cbbd5f2cc7c">a3c6996</a></td><td><code>Added a small check</code></td></tr></table>




---

archive/issue_comments_474176.json:
```json
{
    "body": "**Changing commit** from \"[4ff840bfd6f8cb8a9380456a6acbc11ecab172f1](https://github.com/sagemath/sagetrac-mirror/commit/4ff840bfd6f8cb8a9380456a6acbc11ecab172f1)\" to \"[a3c6996765b274f6353b81adb34a6cbbd5f2cc7c](https://github.com/sagemath/sagetrac-mirror/commit/a3c6996765b274f6353b81adb34a6cbbd5f2cc7c)\".",
    "created_at": "2018-08-06T10:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4ff840bfd6f8cb8a9380456a6acbc11ecab172f1](https://github.com/sagemath/sagetrac-mirror/commit/4ff840bfd6f8cb8a9380456a6acbc11ecab172f1)" to "[a3c6996765b274f6353b81adb34a6cbbd5f2cc7c](https://github.com/sagemath/sagetrac-mirror/commit/a3c6996765b274f6353b81adb34a6cbbd5f2cc7c)".



---

archive/issue_comments_474177.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-08-06T10:01:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474177",
    "user": "https://github.com/FlorentinJ"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_474178.json:
```json
{
    "body": "<a id='comment:11'></a>\nA few comments:\n- In `src/sage/manifolds/catalog.py`, there is a reference to the class `ManifoldGenerator`, while no such class does exist.\n- The example provided for `manifolds.Euclidean` is too short (a single line!). A slightly more illustrative example (3 lines) would be:\n\n```\nsage: E.<x, y, z> = manifolds.Euclidean()\nsage: E\nEuclidean space E^3\n```\n  You could add as well\n\n```\nsage: E.atlas()\n[Chart (E^3, (x, y, z))]\nsage: E.metric().display()\ng = dx*dx + dy*dy + dz*dz\n```\n- Similarly the example of `manifolds.Sphere` could be extended to \n\n```\nsage: S.<th, ph> = manifolds.Sphere()\nsage: S\n2-dimensional pseudo-Riemannian submanifold S embedded in \n 3-dimensional differentiable manifold E^3\nsage: S.atlas()\n[Chart (S, (th, ph))]\nsage: S.metric().display()\ngamma = dth*dth + sin(th)^2 dph*dph\n```\n  By the way, shouldn't the (default) metric name should be `g` here (as in the other manifolds of the catalog)?\n- The example for `manifolds.Kerr` should be extended as well, to something like:\n\n```\nsage: m, a = var('m, a')\nsage: K = manifolds.Kerr(m, a)\nsage: K\n4-dimensional Lorentzian manifold M\nsage: K.atlas()\n[Chart (M, (t, r, th, ph))]\nsage: K.metric().display()\ng = (2*m*r/(a^2*cos(th)^2 + r^2) - 1) dt*dt \n + 2*a*m*r*sin(th)^2/(a^2*cos(th)^2 + r^2) dt*dph \n + (a^2*cos(th)^2 + r^2)/(a^2 - 2*m*r + r^2) dr*dr \n + (a^2*cos(th)^2 + r^2) dth*dth \n + 2*a*m*r*sin(th)^2/(a^2*cos(th)^2 + r^2) dph*dt\n + (2*a^2*m*r*sin(th)^2/(a^2*cos(th)^2 + r^2) + a^2 + r^2)*sin(th)^2 dph*dph\n``` \n- Using \n\n```\nsage: m, a = var('m, a')\nsage: K.<t, r, th, ph> = manifolds.Kerr(m, a)\n```\n  leads to wrong coordinate ranges:\n\n```\nsage: K.default_chart().coord_range()\nt: (-oo, +oo); r: (-oo, +oo); th: (-oo, +oo); ph: (-oo, +oo)\n```\n- The example for `manifolds.Torus` should be extended to something like:\n\n```\nsage: T.<theta, phi> = manifolds.Torus(3,1)\nsage: T\n2-dimensional pseudo-Riemannian submanifold M embedded in \n 3-dimensional differentiable manifold E^3\nsage: T.atlas()\n[Chart (M, (theta, phi))]\nsage: T.embedding().display()\nM --> E^3\n   (theta, phi) |--> (x_0, x_1, x_2) = ((cos(theta) + 3)*cos(phi), \n                                        (cos(theta) + 3)*sin(phi), \n                                        sin(theta))\nsage: T.metric().display()\ngamma = dtheta*dtheta + (cos(theta)^2 + 6*cos(theta) + 9) dphi*dphi\n```\n- In the code for `manifolds.Torus`, replace \n\n```\nxnames = tuple([\"x_{}\".format(i) for i in range(3)])\nE = Euclidean(names=xnames)\n```\n  by \n\n```\nE = EuclideanSpace(3, symbols='X Y Z')\n```\n- Similarly, in the code for `manifolds.Sphere`, replace\n\n```\nxnames = (\"X\",\"Y\",\"Z\")\nE = Euclidean(names=xnames)\n```\n  by\n\n```\nE = EuclideanSpace(3, symbols='X Y Z')\n```\n- In the code of `manifolds.Minkowski`, the structure should be `Lorentzian` instead of `pseudo-Riemannian`:\n\n```\nM = Manifold(4, 'M', structure='Lorentzian')\n```",
    "created_at": "2018-09-10T12:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474178",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:11'></a>
A few comments:
- In `src/sage/manifolds/catalog.py`, there is a reference to the class `ManifoldGenerator`, while no such class does exist.
- The example provided for `manifolds.Euclidean` is too short (a single line!). A slightly more illustrative example (3 lines) would be:

```
sage: E.<x, y, z> = manifolds.Euclidean()
sage: E
Euclidean space E^3
```
  You could add as well

```
sage: E.atlas()
[Chart (E^3, (x, y, z))]
sage: E.metric().display()
g = dx*dx + dy*dy + dz*dz
```
- Similarly the example of `manifolds.Sphere` could be extended to 

```
sage: S.<th, ph> = manifolds.Sphere()
sage: S
2-dimensional pseudo-Riemannian submanifold S embedded in 
 3-dimensional differentiable manifold E^3
sage: S.atlas()
[Chart (S, (th, ph))]
sage: S.metric().display()
gamma = dth*dth + sin(th)^2 dph*dph
```
  By the way, shouldn't the (default) metric name should be `g` here (as in the other manifolds of the catalog)?
- The example for `manifolds.Kerr` should be extended as well, to something like:

```
sage: m, a = var('m, a')
sage: K = manifolds.Kerr(m, a)
sage: K
4-dimensional Lorentzian manifold M
sage: K.atlas()
[Chart (M, (t, r, th, ph))]
sage: K.metric().display()
g = (2*m*r/(a^2*cos(th)^2 + r^2) - 1) dt*dt 
 + 2*a*m*r*sin(th)^2/(a^2*cos(th)^2 + r^2) dt*dph 
 + (a^2*cos(th)^2 + r^2)/(a^2 - 2*m*r + r^2) dr*dr 
 + (a^2*cos(th)^2 + r^2) dth*dth 
 + 2*a*m*r*sin(th)^2/(a^2*cos(th)^2 + r^2) dph*dt
 + (2*a^2*m*r*sin(th)^2/(a^2*cos(th)^2 + r^2) + a^2 + r^2)*sin(th)^2 dph*dph
``` 
- Using 

```
sage: m, a = var('m, a')
sage: K.<t, r, th, ph> = manifolds.Kerr(m, a)
```
  leads to wrong coordinate ranges:

```
sage: K.default_chart().coord_range()
t: (-oo, +oo); r: (-oo, +oo); th: (-oo, +oo); ph: (-oo, +oo)
```
- The example for `manifolds.Torus` should be extended to something like:

```
sage: T.<theta, phi> = manifolds.Torus(3,1)
sage: T
2-dimensional pseudo-Riemannian submanifold M embedded in 
 3-dimensional differentiable manifold E^3
sage: T.atlas()
[Chart (M, (theta, phi))]
sage: T.embedding().display()
M --> E^3
   (theta, phi) |--> (x_0, x_1, x_2) = ((cos(theta) + 3)*cos(phi), 
                                        (cos(theta) + 3)*sin(phi), 
                                        sin(theta))
sage: T.metric().display()
gamma = dtheta*dtheta + (cos(theta)^2 + 6*cos(theta) + 9) dphi*dphi
```
- In the code for `manifolds.Torus`, replace 

```
xnames = tuple(["x_{}".format(i) for i in range(3)])
E = Euclidean(names=xnames)
```
  by 

```
E = EuclideanSpace(3, symbols='X Y Z')
```
- Similarly, in the code for `manifolds.Sphere`, replace

```
xnames = ("X","Y","Z")
E = Euclidean(names=xnames)
```
  by

```
E = EuclideanSpace(3, symbols='X Y Z')
```
- In the code of `manifolds.Minkowski`, the structure should be `Lorentzian` instead of `pseudo-Riemannian`:

```
M = Manifold(4, 'M', structure='Lorentzian')
```



---

archive/issue_comments_474179.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2018-09-10T12:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474179",
    "user": "https://github.com/egourgoulhon"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_474180.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64fbf0969f3579302e745b7cbf8dbd213c3621e5\">64fbf09</a></td><td><code>Merge branch 'public/manifolds/generator' of git://trac.sagemath.org/sage into public/manifolds/generator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3\">a8aa3ac</a></td><td><code>Reviewer changes and some bug fixes to manifolds catalog.</code></td></tr></table>\n",
    "created_at": "2018-10-07T23:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64fbf0969f3579302e745b7cbf8dbd213c3621e5">64fbf09</a></td><td><code>Merge branch 'public/manifolds/generator' of git://trac.sagemath.org/sage into public/manifolds/generator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3">a8aa3ac</a></td><td><code>Reviewer changes and some bug fixes to manifolds catalog.</code></td></tr></table>




---

archive/issue_comments_474181.json:
```json
{
    "body": "**Changing commit** from \"[a3c6996765b274f6353b81adb34a6cbbd5f2cc7c](https://github.com/sagemath/sagetrac-mirror/commit/a3c6996765b274f6353b81adb34a6cbbd5f2cc7c)\" to \"[a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3](https://github.com/sagemath/sagetrac-mirror/commit/a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3)\".",
    "created_at": "2018-10-07T23:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474181",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a3c6996765b274f6353b81adb34a6cbbd5f2cc7c](https://github.com/sagemath/sagetrac-mirror/commit/a3c6996765b274f6353b81adb34a6cbbd5f2cc7c)" to "[a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3](https://github.com/sagemath/sagetrac-mirror/commit/a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3)".



---

archive/issue_comments_474182.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2018-10-07T23:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474182",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_474183.json:
```json
{
    "body": "<a id='comment:14'></a>\nI have fixed all of Eric's comments in [comment:11](#comment%3A11), as well as fixed a bug in that `Sphere` was only implemented with the assumption that it was 2 dimensional (this now raises a `NotImplementedError` instead of a more cryptic error). Eric, if my changes are good with you, then we can set this to a positive review (unfortunately, it seems we just missed the 8.4 window :/).",
    "created_at": "2018-10-07T23:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474183",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
I have fixed all of Eric's comments in [comment:11](#comment%3A11), as well as fixed a bug in that `Sphere` was only implemented with the assumption that it was 2 dimensional (this now raises a `NotImplementedError` instead of a more cryptic error). Eric, if my changes are good with you, then we can set this to a positive review (unfortunately, it seems we just missed the 8.4 window :/).



---

archive/issue_comments_474184.json:
```json
{
    "body": "**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw",
    "created_at": "2018-10-07T23:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474184",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw



---

archive/issue_comments_474185.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18479687f5fa6be0c9699b386c3c5cc0f0c4da3b\">1847968</a></td><td><code>Small tweaks in manifolds catalog</code></td></tr></table>\n",
    "created_at": "2018-10-08T13:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474185",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18479687f5fa6be0c9699b386c3c5cc0f0c4da3b">1847968</a></td><td><code>Small tweaks in manifolds catalog</code></td></tr></table>




---

archive/issue_comments_474186.json:
```json
{
    "body": "**Changing commit** from \"[a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3](https://github.com/sagemath/sagetrac-mirror/commit/a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3)\" to \"[18479687f5fa6be0c9699b386c3c5cc0f0c4da3b](https://github.com/sagemath/sagetrac-mirror/commit/18479687f5fa6be0c9699b386c3c5cc0f0c4da3b)\".",
    "created_at": "2018-10-08T13:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3](https://github.com/sagemath/sagetrac-mirror/commit/a8aa3ac0a3ed4da3ee58b2fa9bfd69cbd6f2d0d3)" to "[18479687f5fa6be0c9699b386c3c5cc0f0c4da3b](https://github.com/sagemath/sagetrac-mirror/commit/18479687f5fa6be0c9699b386c3c5cc0f0c4da3b)".



---

archive/issue_events_073864.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "rename": {
        "from": "Simple manifold generator",
        "to": "Add manifold catalog"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25869#event-73864"
}
```



---

archive/issue_comments_474187.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [tscrim](#comment%3A14):\n> I have fixed all of Eric's comments in [comment:11](#comment%3A11), as well as fixed a bug in that `Sphere` was only implemented with the assumption that it was 2 dimensional (this now raises a `NotImplementedError` instead of a more cryptic error). Eric, if my changes are good with you, then we can set this to a positive review (unfortunately, it seems we just missed the 8.4 window :/).\n\n\nThanks Travis for the changes! I'm 100% fine with them. In the commit  of [comment:15](#comment%3A15), I've made a few very small tweaks + the change of \"ADM\" to \"Kerr\" for the second coordinate system of Kerr spacetime, since \"Kerr\" is the common name in the literature for such coordinates. From my point of view, the ticket is ready to go.",
    "created_at": "2018-10-08T13:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474187",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:17'></a>
Replying to [tscrim](#comment%3A14):
> I have fixed all of Eric's comments in [comment:11](#comment%3A11), as well as fixed a bug in that `Sphere` was only implemented with the assumption that it was 2 dimensional (this now raises a `NotImplementedError` instead of a more cryptic error). Eric, if my changes are good with you, then we can set this to a positive review (unfortunately, it seems we just missed the 8.4 window :/).


Thanks Travis for the changes! I'm 100% fine with them. In the commit  of [comment:15](#comment%3A15), I've made a few very small tweaks + the change of "ADM" to "Kerr" for the second coordinate system of Kerr spacetime, since "Kerr" is the common name in the literature for such coordinates. From my point of view, the ticket is ready to go.



---

archive/issue_comments_474188.json:
```json
{
    "body": "<a id='comment:18'></a>\nReading your [comment:1](#comment%3A1), I am realizing that I've probably made a mistake by removing\n\n```\nfrom sage.manifolds.manifold import Manifold\n```\nfrom each function to put it at the top of the file...\nSimilar thing for `EuclideanSpace`...\n\n(well in the current case, both `Manifold` and `EuclideanSpace` should already be imported in the global namespace, but for clarity, we should make all the imports in `catalog.py` be local to the functions, shouldn't we?)",
    "created_at": "2018-10-08T13:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474188",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:18'></a>
Reading your [comment:1](#comment%3A1), I am realizing that I've probably made a mistake by removing

```
from sage.manifolds.manifold import Manifold
```
from each function to put it at the top of the file...
Similar thing for `EuclideanSpace`...

(well in the current case, both `Manifold` and `EuclideanSpace` should already be imported in the global namespace, but for clarity, we should make all the imports in `catalog.py` be local to the functions, shouldn't we?)



---

archive/issue_comments_474189.json:
```json
{
    "body": "**Changing commit** from \"[18479687f5fa6be0c9699b386c3c5cc0f0c4da3b](https://github.com/sagemath/sagetrac-mirror/commit/18479687f5fa6be0c9699b386c3c5cc0f0c4da3b)\" to \"[f0acd1f3765c78486aba1817416cfd76c70ab341](https://github.com/sagemath/sagetrac-mirror/commit/f0acd1f3765c78486aba1817416cfd76c70ab341)\".",
    "created_at": "2018-10-08T14:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474189",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[18479687f5fa6be0c9699b386c3c5cc0f0c4da3b](https://github.com/sagemath/sagetrac-mirror/commit/18479687f5fa6be0c9699b386c3c5cc0f0c4da3b)" to "[f0acd1f3765c78486aba1817416cfd76c70ab341](https://github.com/sagemath/sagetrac-mirror/commit/f0acd1f3765c78486aba1817416cfd76c70ab341)".



---

archive/issue_comments_474190.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0acd1f3765c78486aba1817416cfd76c70ab341\">f0acd1f</a></td><td><code>Correct import in manifolds catalog</code></td></tr></table>\n",
    "created_at": "2018-10-08T14:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0acd1f3765c78486aba1817416cfd76c70ab341">f0acd1f</a></td><td><code>Correct import in manifolds catalog</code></td></tr></table>




---

archive/issue_comments_474191.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [egourgoulhon](#comment%3A18):\n> Reading your [comment:1](#comment%3A1), I am realizing that I've probably made a mistake by removing\n> \n> ```\n> from sage.manifolds.manifold import Manifold\n> ```\n> from each function to put it at the top of the file...\n> Similar thing for `EuclideanSpace`...\n> \n\nThis is corrected in the last commit.\nSo at this stage, I would say that everything is fine for me.",
    "created_at": "2018-10-08T14:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474191",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:20'></a>
Replying to [egourgoulhon](#comment%3A18):
> Reading your [comment:1](#comment%3A1), I am realizing that I've probably made a mistake by removing
> 
> ```
> from sage.manifolds.manifold import Manifold
> ```
> from each function to put it at the top of the file...
> Similar thing for `EuclideanSpace`...
> 

This is corrected in the last commit.
So at this stage, I would say that everything is fine for me.



---

archive/issue_comments_474192.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba166f87999a9afb44025713782affaa2d18f8c6\">ba166f8</a></td><td><code>Correct stereographic coord. changes in the Sphere() entry of manifold catalog</code></td></tr></table>\n",
    "created_at": "2018-10-08T15:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba166f87999a9afb44025713782affaa2d18f8c6">ba166f8</a></td><td><code>Correct stereographic coord. changes in the Sphere() entry of manifold catalog</code></td></tr></table>




---

archive/issue_comments_474193.json:
```json
{
    "body": "**Changing commit** from \"[f0acd1f3765c78486aba1817416cfd76c70ab341](https://github.com/sagemath/sagetrac-mirror/commit/f0acd1f3765c78486aba1817416cfd76c70ab341)\" to \"[ba166f87999a9afb44025713782affaa2d18f8c6](https://github.com/sagemath/sagetrac-mirror/commit/ba166f87999a9afb44025713782affaa2d18f8c6)\".",
    "created_at": "2018-10-08T15:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474193",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f0acd1f3765c78486aba1817416cfd76c70ab341](https://github.com/sagemath/sagetrac-mirror/commit/f0acd1f3765c78486aba1817416cfd76c70ab341)" to "[ba166f87999a9afb44025713782affaa2d18f8c6](https://github.com/sagemath/sagetrac-mirror/commit/ba166f87999a9afb44025713782affaa2d18f8c6)".



---

archive/issue_comments_474194.json:
```json
{
    "body": "<a id='comment:22'></a>\nGiving a last look at the code, I've rewritten slightly the change of stereographic coordinates part in the sphere, thereby removing two pyflakes errors revealed by the patchbot. This time, this should finally be OK for me.",
    "created_at": "2018-10-08T15:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474194",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:22'></a>
Giving a last look at the code, I've rewritten slightly the change of stereographic coordinates part in the sphere, thereby removing two pyflakes errors revealed by the patchbot. This time, this should finally be OK for me.



---

archive/issue_comments_474195.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-10-08T22:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474195",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_474196.json:
```json
{
    "body": "<a id='comment:23'></a>\nLGTM. Thank you.",
    "created_at": "2018-10-08T22:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474196",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
LGTM. Thank you.



---

archive/issue_comments_474197.json:
```json
{
    "body": "**Changing branch** from \"[public/manifolds/generator](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/generator)\" to \"[ba166f87999a9afb44025713782affaa2d18f8c6](https://github.com/sagemath/sagetrac-mirror/commit/ba166f87999a9afb44025713782affaa2d18f8c6)\".",
    "created_at": "2018-10-20T11:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474197",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/manifolds/generator](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/generator)" to "[ba166f87999a9afb44025713782affaa2d18f8c6](https://github.com/sagemath/sagetrac-mirror/commit/ba166f87999a9afb44025713782affaa2d18f8c6)".



---

archive/issue_events_073865.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-20T11:58:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25869#event-73865"
}
```



---

archive/issue_comments_474198.json:
```json
{
    "body": "<a id='comment:25'></a>\nThis should be re-targeted for 8.5.",
    "created_at": "2018-10-28T14:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25869#issuecomment-474198",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'></a>
This should be re-targeted for 8.5.



---

archive/issue_events_073866.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25869",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25869#event-73866"
}
```
