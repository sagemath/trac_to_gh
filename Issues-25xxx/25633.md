# Issue 25633: Speed up SBox module

archive/issues_025396.json:
```json
{
    "assignees": [
        "https://github.com/pfasante"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nAs briefly discussed on ask.sagemath.org (https://ask.sagemath.org/question/42492/huge-delay-in-sagecryptosboxsbox-method-nonlinearity-introduced-in-v82/?answer=42505#post-id-42505), the implementation for computing the linear approximation table can be speed up.\nSimilarly, the difference distribution matrix computation should be faster. Maybe the module should just be converted to cython.\n\nDepends on #25516\n\nCC:  @tscrim\n\nComponent: **cryptography**\n\nKeywords: **sbox, days94**\n\nAuthor: **Friedrich Wiemer**\n\nBranch: **[`9f79692`](https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25633_\n\n",
    "closed_at": "2022-01-31T23:31:51Z",
    "created_at": "2018-06-21T17:46:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20cryptography",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20cython"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Speed up SBox module",
    "type": "issue",
    "updated_at": "2022-02-15T13:07:15Z",
    "url": "https://github.com/sagemath/sage/issues/25633",
    "user": "https://github.com/pfasante"
}
```
<div id="comment:0"></div>

As briefly discussed on ask.sagemath.org (https://ask.sagemath.org/question/42492/huge-delay-in-sagecryptosboxsbox-method-nonlinearity-introduced-in-v82/?answer=42505#post-id-42505), the implementation for computing the linear approximation table can be speed up.
Similarly, the difference distribution matrix computation should be faster. Maybe the module should just be converted to cython.

Depends on #25516

CC:  @tscrim

Component: **cryptography**

Keywords: **sbox, days94**

Author: **Friedrich Wiemer**

Branch: **[`9f79692`](https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/25633_





---

archive/issue_events_351484.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-06-21T17:46:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351484"
}
```



---

archive/issue_events_351485.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-06-21T17:46:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20cryptography",
    "label_color": "0000ff",
    "label_name": "c: cryptography",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351485"
}
```



---

archive/issue_events_351486.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-06-21T17:46:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351486"
}
```



---

archive/issue_events_351487.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-06-21T17:46:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351487"
}
```



---

archive/issue_events_351488.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-06-21T17:46:15Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "subject": "https://github.com/pfasante",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351488"
}
```



---

archive/issue_comments_393474.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis is a follow up ticket of #25516.",
    "created_at": "2018-06-25T08:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393474",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:2" align="right">comment:2</div>

This is a follow up ticket of #25516.



---

archive/issue_comments_393475.json:
```json
{
    "body": "Dependencies: **25516**",
    "created_at": "2018-06-25T08:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393475",
    "user": "https://github.com/pfasante"
}
```

Dependencies: **25516**



---

archive/issue_comments_393476.json:
```json
{
    "body": "Changed dependencies from **25516** to **#25516**",
    "created_at": "2018-06-30T08:47:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393476",
    "user": "https://github.com/pfasante"
}
```

Changed dependencies from **25516** to **#25516**



---

archive/issue_comments_393477.json:
```json
{
    "body": "Branch: **[u/asante/speed_up_lat_computation_for_sboxes](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/speed_up_lat_computation_for_sboxes)**",
    "created_at": "2018-06-30T10:36:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393477",
    "user": "https://github.com/pfasante"
}
```

Branch: **[u/asante/speed_up_lat_computation_for_sboxes](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/speed_up_lat_computation_for_sboxes)**



---

archive/issue_comments_393478.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8f743b10d42477e4fa21274089af8d4786e3a61\"><code>b8f743b</code></a></td><td><code>Reset branch to `develop` to fix git del && git add vs git mv</code></td></tr></table>\n",
    "created_at": "2018-07-01T14:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393478",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8f743b10d42477e4fa21274089af8d4786e3a61"><code>b8f743b</code></a></td><td><code>Reset branch to `develop` to fix git del && git add vs git mv</code></td></tr></table>




---

archive/issue_comments_393479.json:
```json
{
    "body": "Commit: **[`b8f743b`](https://github.com/sagemath/sagetrac-mirror/commit/b8f743b10d42477e4fa21274089af8d4786e3a61)**",
    "created_at": "2018-07-01T14:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393479",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`b8f743b`](https://github.com/sagemath/sagetrac-mirror/commit/b8f743b10d42477e4fa21274089af8d4786e3a61)**



---

archive/issue_comments_393480.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI've reset the branch, because the initial \"git del && git add\" poluted the diff (instead of doing a \"git mv\").",
    "created_at": "2018-07-01T14:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393480",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:6" align="right">comment:6</div>

I've reset the branch, because the initial "git del && git add" poluted the diff (instead of doing a "git mv").



---

archive/issue_comments_393481.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19dfad623e14d79210f73ab66e5d89dc593827a7\"><code>19dfad6</code></a></td><td><code>cythonize sbox.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/071950242518f4ff8fe12bb42d035ab241a37880\"><code>0719502</code></a></td><td><code>speed up linear_approximation_matrix method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/903f1664c1f4879bbe7e6cb0040684b073578039\"><code>903f166</code></a></td><td><code>Revert \"speed up linear_approximation_matrix method\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3c114869d2a06815f6cef0290ed387b0b5f0adf\"><code>c3c1148</code></a></td><td><code>Revert \"cythonize sbox.py\"</code></td></tr></table>\n",
    "created_at": "2018-07-01T15:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393481",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19dfad623e14d79210f73ab66e5d89dc593827a7"><code>19dfad6</code></a></td><td><code>cythonize sbox.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/071950242518f4ff8fe12bb42d035ab241a37880"><code>0719502</code></a></td><td><code>speed up linear_approximation_matrix method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/903f1664c1f4879bbe7e6cb0040684b073578039"><code>903f166</code></a></td><td><code>Revert "speed up linear_approximation_matrix method"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3c114869d2a06815f6cef0290ed387b0b5f0adf"><code>c3c1148</code></a></td><td><code>Revert "cythonize sbox.py"</code></td></tr></table>




---

archive/issue_comments_393482.json:
```json
{
    "body": "Changed commit from **[`b8f743b`](https://github.com/sagemath/sagetrac-mirror/commit/b8f743b10d42477e4fa21274089af8d4786e3a61)** to **[`c3c1148`](https://github.com/sagemath/sagetrac-mirror/commit/c3c114869d2a06815f6cef0290ed387b0b5f0adf)**",
    "created_at": "2018-07-01T15:12:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393482",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b8f743b`](https://github.com/sagemath/sagetrac-mirror/commit/b8f743b10d42477e4fa21274089af8d4786e3a61)** to **[`c3c1148`](https://github.com/sagemath/sagetrac-mirror/commit/c3c114869d2a06815f6cef0290ed387b0b5f0adf)**



---

archive/issue_comments_393483.json:
```json
{
    "body": "Changed commit from **[`c3c1148`](https://github.com/sagemath/sagetrac-mirror/commit/c3c114869d2a06815f6cef0290ed387b0b5f0adf)** to none",
    "created_at": "2018-07-01T15:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393483",
    "user": "https://github.com/pfasante"
}
```

Changed commit from **[`c3c1148`](https://github.com/sagemath/sagetrac-mirror/commit/c3c114869d2a06815f6cef0290ed387b0b5f0adf)** to none



---

archive/issue_comments_393484.json:
```json
{
    "body": "Changed branch from **[u/asante/speed_up_lat_computation_for_sboxes](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/speed_up_lat_computation_for_sboxes)** to **[u/asante/speed_up_sbox_module](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/speed_up_sbox_module)**",
    "created_at": "2018-07-01T15:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393484",
    "user": "https://github.com/pfasante"
}
```

Changed branch from **[u/asante/speed_up_lat_computation_for_sboxes](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/speed_up_lat_computation_for_sboxes)** to **[u/asante/speed_up_sbox_module](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/speed_up_sbox_module)**



---

archive/issue_comments_393485.json:
```json
{
    "body": "Commit: **[`a01c9d8`](https://github.com/sagemath/sagetrac-mirror/commit/a01c9d889ffd944e6cae5384efbd0d4db9cb5f6b)**",
    "created_at": "2018-07-01T15:15:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393485",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`a01c9d8`](https://github.com/sagemath/sagetrac-mirror/commit/a01c9d889ffd944e6cae5384efbd0d4db9cb5f6b)**



---

archive/issue_comments_393486.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a01c9d889ffd944e6cae5384efbd0d4db9cb5f6b\"><code>a01c9d8</code></a></td><td><code>cythonize sbox.py</code></td></tr></table>\n",
    "created_at": "2018-07-01T15:15:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393486",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a01c9d889ffd944e6cae5384efbd0d4db9cb5f6b"><code>a01c9d8</code></a></td><td><code>cythonize sbox.py</code></td></tr></table>




---

archive/issue_comments_393487.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nSo, finally managed to delete the branch from my first attempt ~.~",
    "created_at": "2018-07-01T15:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393487",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:10" align="right">comment:10</div>

So, finally managed to delete the branch from my first attempt ~.~



---

archive/issue_comments_393488.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n As briefly discussed on ask.sagemath.org (https://ask.sagemath.org/question/42492/huge-delay-in-sagecryptosboxsbox-method-nonlinearity-introduced-in-v82/?answer=42505#post-id-42505), the implementation for computing the linear approximation table can be speed up.\n+Similarly, the difference distribution matrix computation should be faster. Maybe the module should just be converted to cython.\n``````\n",
    "created_at": "2018-07-01T17:23:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393488",
    "user": "https://github.com/pfasante"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
 As briefly discussed on ask.sagemath.org (https://ask.sagemath.org/question/42492/huge-delay-in-sagecryptosboxsbox-method-nonlinearity-introduced-in-v82/?answer=42505#post-id-42505), the implementation for computing the linear approximation table can be speed up.
+Similarly, the difference distribution matrix computation should be faster. Maybe the module should just be converted to cython.
``````




---

archive/issue_events_351489.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-07-01T17:23:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "title_is": "Speed up SBox module",
    "title_was": "Speed up LAT computation for SBoxes",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351489"
}
```



---

archive/issue_comments_393489.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92dd237fb76ceca8b9c843760d27a2335019fa29\"><code>92dd237</code></a></td><td><code>skip input conversion/checks in computation of component_function when used within linear_approximation_matrix</code></td></tr></table>\n",
    "created_at": "2018-07-02T14:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393489",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92dd237fb76ceca8b9c843760d27a2335019fa29"><code>92dd237</code></a></td><td><code>skip input conversion/checks in computation of component_function when used within linear_approximation_matrix</code></td></tr></table>




---

archive/issue_comments_393490.json:
```json
{
    "body": "Changed commit from **[`a01c9d8`](https://github.com/sagemath/sagetrac-mirror/commit/a01c9d889ffd944e6cae5384efbd0d4db9cb5f6b)** to **[`92dd237`](https://github.com/sagemath/sagetrac-mirror/commit/92dd237fb76ceca8b9c843760d27a2335019fa29)**",
    "created_at": "2018-07-02T14:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393490",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a01c9d8`](https://github.com/sagemath/sagetrac-mirror/commit/a01c9d889ffd944e6cae5384efbd0d4db9cb5f6b)** to **[`92dd237`](https://github.com/sagemath/sagetrac-mirror/commit/92dd237fb76ceca8b9c843760d27a2335019fa29)**



---

archive/issue_comments_393491.json:
```json
{
    "body": "Changed commit from **[`92dd237`](https://github.com/sagemath/sagetrac-mirror/commit/92dd237fb76ceca8b9c843760d27a2335019fa29)** to **[`ada90da`](https://github.com/sagemath/sagetrac-mirror/commit/ada90daf6b30beaf0e6aabab41523ba213bcceb1)**",
    "created_at": "2018-07-02T21:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393491",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`92dd237`](https://github.com/sagemath/sagetrac-mirror/commit/92dd237fb76ceca8b9c843760d27a2335019fa29)** to **[`ada90da`](https://github.com/sagemath/sagetrac-mirror/commit/ada90daf6b30beaf0e6aabab41523ba213bcceb1)**



---

archive/issue_comments_393492.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ada90daf6b30beaf0e6aabab41523ba213bcceb1\"><code>ada90da</code></a></td><td><code>cdef'ed SBox class</code></td></tr></table>\n",
    "created_at": "2018-07-02T21:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393492",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ada90daf6b30beaf0e6aabab41523ba213bcceb1"><code>ada90da</code></a></td><td><code>cdef'ed SBox class</code></td></tr></table>




---

archive/issue_comments_393493.json:
```json
{
    "body": "Changed commit from **[`ada90da`](https://github.com/sagemath/sagetrac-mirror/commit/ada90daf6b30beaf0e6aabab41523ba213bcceb1)** to **[`9bd1044`](https://github.com/sagemath/sagetrac-mirror/commit/9bd10441bb6b1bf6a24b7b0c07231986596c6f44)**",
    "created_at": "2018-07-02T21:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393493",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ada90da`](https://github.com/sagemath/sagetrac-mirror/commit/ada90daf6b30beaf0e6aabab41523ba213bcceb1)** to **[`9bd1044`](https://github.com/sagemath/sagetrac-mirror/commit/9bd10441bb6b1bf6a24b7b0c07231986596c6f44)**



---

archive/issue_comments_393494.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/def15422423ad186bce4e004830649596aaaa591\"><code>def1542</code></a></td><td><code>updated sbox.pyx filename in doctesting.rst</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9bd10441bb6b1bf6a24b7b0c07231986596c6f44\"><code>9bd1044</code></a></td><td><code>add a `__dict__` to the class, so that cached_method work again</code></td></tr></table>\n",
    "created_at": "2018-07-02T21:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393494",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/def15422423ad186bce4e004830649596aaaa591"><code>def1542</code></a></td><td><code>updated sbox.pyx filename in doctesting.rst</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9bd10441bb6b1bf6a24b7b0c07231986596c6f44"><code>9bd1044</code></a></td><td><code>add a `__dict__` to the class, so that cached_method work again</code></td></tr></table>




---

archive/issue_comments_393495.json:
```json
{
    "body": "Changed commit from **[`9bd1044`](https://github.com/sagemath/sagetrac-mirror/commit/9bd10441bb6b1bf6a24b7b0c07231986596c6f44)** to **[`16d7211`](https://github.com/sagemath/sagetrac-mirror/commit/16d7211a61e7251572db1a699de6c05e5affac6c)**",
    "created_at": "2018-07-03T09:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393495",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9bd1044`](https://github.com/sagemath/sagetrac-mirror/commit/9bd10441bb6b1bf6a24b7b0c07231986596c6f44)** to **[`16d7211`](https://github.com/sagemath/sagetrac-mirror/commit/16d7211a61e7251572db1a699de6c05e5affac6c)**



---

archive/issue_comments_393496.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16d7211a61e7251572db1a699de6c05e5affac6c\"><code>16d7211</code></a></td><td><code>cythonized class methods of sbox</code></td></tr></table>\n",
    "created_at": "2018-07-03T09:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393496",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16d7211a61e7251572db1a699de6c05e5affac6c"><code>16d7211</code></a></td><td><code>cythonized class methods of sbox</code></td></tr></table>




---

archive/issue_comments_393497.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI think the methods are now reasonable optimized. Computing the linear approximation matrix now takes roughly 40 to 80ms on my laptop -- note that this heavily depends on the scaling of the matrix in the end:\n\n```sage\nsage: for j in range(10):\n....:     S = [x for x in range(256)];shuffle(S)\n....:     S = sage.crypto.sbox.SBox(S)\n....:     %time _ = S.linear_approximation_matrix()\n....:     \nCPU times: user 180 ms, sys: 24 ms, total: 204 ms\nWall time: 191 ms\nCPU times: user 84 ms, sys: 0 ns, total: 84 ms\nWall time: 84.6 ms\nCPU times: user 84 ms, sys: 0 ns, total: 84 ms\nWall time: 85.2 ms\nCPU times: user 84 ms, sys: 0 ns, total: 84 ms\nWall time: 84.5 ms\nCPU times: user 88 ms, sys: 0 ns, total: 88 ms\nWall time: 84.9 ms\nCPU times: user 84 ms, sys: 0 ns, total: 84 ms\nWall time: 84.5 ms\nCPU times: user 84 ms, sys: 0 ns, total: 84 ms\nWall time: 83.6 ms\nCPU times: user 84 ms, sys: 0 ns, total: 84 ms\nWall time: 84.1 ms\nCPU times: user 88 ms, sys: 0 ns, total: 88 ms\nWall time: 85.9 ms\nCPU times: user 84 ms, sys: 0 ns, total: 84 ms\nWall time: 85.3 ms\nsage: for j in range(10):\n....:     S = [x for x in range(256)];shuffle(S)\n....:     S = sage.crypto.sbox.SBox(S)\n....:     %time _ = S.linear_approximation_matrix(\"fourier_coefficient\")\n....:     \nCPU times: user 48 ms, sys: 0 ns, total: 48 ms\nWall time: 49.3 ms\nCPU times: user 44 ms, sys: 0 ns, total: 44 ms\nWall time: 42.6 ms\nCPU times: user 48 ms, sys: 0 ns, total: 48 ms\nWall time: 45.7 ms\nCPU times: user 40 ms, sys: 0 ns, total: 40 ms\nWall time: 40.6 ms\nCPU times: user 44 ms, sys: 0 ns, total: 44 ms\nWall time: 44.5 ms\nCPU times: user 40 ms, sys: 0 ns, total: 40 ms\nWall time: 40.5 ms\nCPU times: user 44 ms, sys: 0 ns, total: 44 ms\nWall time: 44.3 ms\nCPU times: user 44 ms, sys: 0 ns, total: 44 ms\nWall time: 41.7 ms\nCPU times: user 44 ms, sys: 0 ns, total: 44 ms\nWall time: 44.5 ms\nCPU times: user 40 ms, sys: 0 ns, total: 40 ms\nWall time: 40.9 ms\n```",
    "created_at": "2018-07-03T09:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393497",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:16" align="right">comment:16</div>

I think the methods are now reasonable optimized. Computing the linear approximation matrix now takes roughly 40 to 80ms on my laptop -- note that this heavily depends on the scaling of the matrix in the end:

```sage
sage: for j in range(10):
....:     S = [x for x in range(256)];shuffle(S)
....:     S = sage.crypto.sbox.SBox(S)
....:     %time _ = S.linear_approximation_matrix()
....:     
CPU times: user 180 ms, sys: 24 ms, total: 204 ms
Wall time: 191 ms
CPU times: user 84 ms, sys: 0 ns, total: 84 ms
Wall time: 84.6 ms
CPU times: user 84 ms, sys: 0 ns, total: 84 ms
Wall time: 85.2 ms
CPU times: user 84 ms, sys: 0 ns, total: 84 ms
Wall time: 84.5 ms
CPU times: user 88 ms, sys: 0 ns, total: 88 ms
Wall time: 84.9 ms
CPU times: user 84 ms, sys: 0 ns, total: 84 ms
Wall time: 84.5 ms
CPU times: user 84 ms, sys: 0 ns, total: 84 ms
Wall time: 83.6 ms
CPU times: user 84 ms, sys: 0 ns, total: 84 ms
Wall time: 84.1 ms
CPU times: user 88 ms, sys: 0 ns, total: 88 ms
Wall time: 85.9 ms
CPU times: user 84 ms, sys: 0 ns, total: 84 ms
Wall time: 85.3 ms
sage: for j in range(10):
....:     S = [x for x in range(256)];shuffle(S)
....:     S = sage.crypto.sbox.SBox(S)
....:     %time _ = S.linear_approximation_matrix("fourier_coefficient")
....:     
CPU times: user 48 ms, sys: 0 ns, total: 48 ms
Wall time: 49.3 ms
CPU times: user 44 ms, sys: 0 ns, total: 44 ms
Wall time: 42.6 ms
CPU times: user 48 ms, sys: 0 ns, total: 48 ms
Wall time: 45.7 ms
CPU times: user 40 ms, sys: 0 ns, total: 40 ms
Wall time: 40.6 ms
CPU times: user 44 ms, sys: 0 ns, total: 44 ms
Wall time: 44.5 ms
CPU times: user 40 ms, sys: 0 ns, total: 40 ms
Wall time: 40.5 ms
CPU times: user 44 ms, sys: 0 ns, total: 44 ms
Wall time: 44.3 ms
CPU times: user 44 ms, sys: 0 ns, total: 44 ms
Wall time: 41.7 ms
CPU times: user 44 ms, sys: 0 ns, total: 44 ms
Wall time: 44.5 ms
CPU times: user 40 ms, sys: 0 ns, total: 40 ms
Wall time: 40.9 ms
```



---

archive/issue_comments_393498.json:
```json
{
    "body": "Changed keywords from **days94** to **sbox, days94**",
    "created_at": "2018-07-03T09:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393498",
    "user": "https://github.com/pfasante"
}
```

Changed keywords from **days94** to **sbox, days94**



---

archive/issue_events_351490.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-07-03T09:16:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20cython",
    "label_color": "0000b0",
    "label_name": "c: cython",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351490"
}
```



---

archive/issue_events_351491.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-07-03T09:16:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351491"
}
```



---

archive/issue_comments_393499.json:
```json
{
    "body": "Changed commit from **[`16d7211`](https://github.com/sagemath/sagetrac-mirror/commit/16d7211a61e7251572db1a699de6c05e5affac6c)** to **[`95c38c6`](https://github.com/sagemath/sagetrac-mirror/commit/95c38c6d8ce6f6fa3d6b6b7ff3e1f1ed2d7db9a3)**",
    "created_at": "2018-07-03T10:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393499",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`16d7211`](https://github.com/sagemath/sagetrac-mirror/commit/16d7211a61e7251572db1a699de6c05e5affac6c)** to **[`95c38c6`](https://github.com/sagemath/sagetrac-mirror/commit/95c38c6d8ce6f6fa3d6b6b7ff3e1f1ed2d7db9a3)**



---

archive/issue_comments_393500.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95c38c6d8ce6f6fa3d6b6b7ff3e1f1ed2d7db9a3\"><code>95c38c6</code></a></td><td><code>cdef'd more loop variables, changes based on Jeroen's comments</code></td></tr></table>\n",
    "created_at": "2018-07-03T10:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393500",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95c38c6d8ce6f6fa3d6b6b7ff3e1f1ed2d7db9a3"><code>95c38c6</code></a></td><td><code>cdef'd more loop variables, changes based on Jeroen's comments</code></td></tr></table>




---

archive/issue_comments_393501.json:
```json
{
    "body": "Changed commit from **[`95c38c6`](https://github.com/sagemath/sagetrac-mirror/commit/95c38c6d8ce6f6fa3d6b6b7ff3e1f1ed2d7db9a3)** to **[`a476adf`](https://github.com/sagemath/sagetrac-mirror/commit/a476adf53f4e7e122365017babf0b2e249ad5e9e)**",
    "created_at": "2018-07-17T12:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393501",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`95c38c6`](https://github.com/sagemath/sagetrac-mirror/commit/95c38c6d8ce6f6fa3d6b6b7ff3e1f1ed2d7db9a3)** to **[`a476adf`](https://github.com/sagemath/sagetrac-mirror/commit/a476adf53f4e7e122365017babf0b2e249ad5e9e)**



---

archive/issue_comments_393502.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a476adf53f4e7e122365017babf0b2e249ad5e9e\"><code>a476adf</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>\n",
    "created_at": "2018-07-17T12:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393502",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a476adf53f4e7e122365017babf0b2e249ad5e9e"><code>a476adf</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>




---

archive/issue_comments_393503.json:
```json
{
    "body": "Changed commit from **[`a476adf`](https://github.com/sagemath/sagetrac-mirror/commit/a476adf53f4e7e122365017babf0b2e249ad5e9e)** to **[`2299dcb`](https://github.com/sagemath/sagetrac-mirror/commit/2299dcbffb52a45df70ee337199e231e6325c02d)**",
    "created_at": "2018-07-17T13:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393503",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a476adf`](https://github.com/sagemath/sagetrac-mirror/commit/a476adf53f4e7e122365017babf0b2e249ad5e9e)** to **[`2299dcb`](https://github.com/sagemath/sagetrac-mirror/commit/2299dcbffb52a45df70ee337199e231e6325c02d)**



---

archive/issue_comments_393504.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2299dcbffb52a45df70ee337199e231e6325c02d\"><code>2299dcb</code></a></td><td><code>pyflakes changes</code></td></tr></table>\n",
    "created_at": "2018-07-17T13:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393504",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2299dcbffb52a45df70ee337199e231e6325c02d"><code>2299dcb</code></a></td><td><code>pyflakes changes</code></td></tr></table>




---

archive/issue_comments_393505.json:
```json
{
    "body": "Changed commit from **[`2299dcb`](https://github.com/sagemath/sagetrac-mirror/commit/2299dcbffb52a45df70ee337199e231e6325c02d)** to **[`eb7866c`](https://github.com/sagemath/sagetrac-mirror/commit/eb7866cec0976675a187d9190e82b0cbb4b2c672)**",
    "created_at": "2018-07-17T13:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393505",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2299dcb`](https://github.com/sagemath/sagetrac-mirror/commit/2299dcbffb52a45df70ee337199e231e6325c02d)** to **[`eb7866c`](https://github.com/sagemath/sagetrac-mirror/commit/eb7866cec0976675a187d9190e82b0cbb4b2c672)**



---

archive/issue_comments_393506.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb7866cec0976675a187d9190e82b0cbb4b2c672\"><code>eb7866c</code></a></td><td><code>fix doctests</code></td></tr></table>\n",
    "created_at": "2018-07-17T13:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393506",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb7866cec0976675a187d9190e82b0cbb4b2c672"><code>eb7866c</code></a></td><td><code>fix doctests</code></td></tr></table>




---

archive/issue_events_351492.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-08-06T08:25:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351492"
}
```



---

archive/issue_events_351493.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-08-06T08:25:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351493"
}
```



---

archive/issue_comments_393507.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f3cd548565ca1bc82aab9cf0944bd11341301d5\"><code>6f3cd54</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>\n",
    "created_at": "2018-08-27T12:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393507",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f3cd548565ca1bc82aab9cf0944bd11341301d5"><code>6f3cd54</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>




---

archive/issue_comments_393508.json:
```json
{
    "body": "Changed commit from **[`eb7866c`](https://github.com/sagemath/sagetrac-mirror/commit/eb7866cec0976675a187d9190e82b0cbb4b2c672)** to **[`6f3cd54`](https://github.com/sagemath/sagetrac-mirror/commit/6f3cd548565ca1bc82aab9cf0944bd11341301d5)**",
    "created_at": "2018-08-27T12:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393508",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eb7866c`](https://github.com/sagemath/sagetrac-mirror/commit/eb7866cec0976675a187d9190e82b0cbb4b2c672)** to **[`6f3cd54`](https://github.com/sagemath/sagetrac-mirror/commit/6f3cd548565ca1bc82aab9cf0944bd11341301d5)**



---

archive/issue_comments_393509.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fca8bbe0ec01030328b66436234af7c7717c8106\"><code>fca8bbe</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>\n",
    "created_at": "2018-11-23T19:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393509",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fca8bbe0ec01030328b66436234af7c7717c8106"><code>fca8bbe</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>




---

archive/issue_comments_393510.json:
```json
{
    "body": "Changed commit from **[`6f3cd54`](https://github.com/sagemath/sagetrac-mirror/commit/6f3cd548565ca1bc82aab9cf0944bd11341301d5)** to **[`fca8bbe`](https://github.com/sagemath/sagetrac-mirror/commit/fca8bbe0ec01030328b66436234af7c7717c8106)**",
    "created_at": "2018-11-23T19:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393510",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6f3cd54`](https://github.com/sagemath/sagetrac-mirror/commit/6f3cd548565ca1bc82aab9cf0944bd11341301d5)** to **[`fca8bbe`](https://github.com/sagemath/sagetrac-mirror/commit/fca8bbe0ec01030328b66436234af7c7717c8106)**



---

archive/issue_events_351494.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-11-23T19:39:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351494"
}
```



---

archive/issue_events_351495.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2018-11-23T19:39:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351495"
}
```



---

archive/issue_events_351496.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-25T23:33:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351496"
}
```



---

archive/issue_events_351497.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-11-25T23:33:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351497"
}
```



---

archive/issue_comments_393511.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nMerge conflict. Once rebased on the latest beta, I will review this.",
    "created_at": "2018-11-25T23:33:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393511",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

Merge conflict. Once rebased on the latest beta, I will review this.



---

archive/issue_comments_393512.json:
```json
{
    "body": "Changed commit from **[`fca8bbe`](https://github.com/sagemath/sagetrac-mirror/commit/fca8bbe0ec01030328b66436234af7c7717c8106)** to **[`3ab449c`](https://github.com/sagemath/sagetrac-mirror/commit/3ab449cf68a445cb57fc0c0221466e957458fd99)**",
    "created_at": "2018-11-26T12:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393512",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fca8bbe`](https://github.com/sagemath/sagetrac-mirror/commit/fca8bbe0ec01030328b66436234af7c7717c8106)** to **[`3ab449c`](https://github.com/sagemath/sagetrac-mirror/commit/3ab449cf68a445cb57fc0c0221466e957458fd99)**



---

archive/issue_comments_393513.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ab449cf68a445cb57fc0c0221466e957458fd99\"><code>3ab449c</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>\n",
    "created_at": "2018-11-26T12:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393513",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ab449cf68a445cb57fc0c0221466e957458fd99"><code>3ab449c</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>




---

archive/issue_comments_393514.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIn #25708 some SBox class methods were deprecated.\nThese now throw an error, when called:\n\n```python\nsage: from sage.crypto.sbox import SBox\nsage: S = SBox(7,6,0,4,2,5,1,3)\nsage: S.difference_distribution_matrix()\n/home/asante/werkstatt/werkbank/sage/src/bin/sage-ipython:1: DeprecationWarning: difference_distribution_matrix is deprecated. Please use difference_distribution_table instead.\nSee https://trac.sagemath.org/25708 for details.\n  #!/usr/bin/env sage-python23\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-3-9af42cf79b34> in <module>()\n----> 1 S.difference_distribution_matrix()\n/home/asante/werkstatt/werkbank/sage/local/lib/python2.7/site-packages/sage/misc/superseded.pyc in __call__(self, *args, **kwds)\n    426             return self.func(*args, **kwds)\n    427         else:\n--> 428             return self.func(self.instance, *args, **kwds)\n    429\n    430     def __get__(self, inst, cls=None):\nTypeError: __call__() takes exactly 0 positional arguments (1 given)\n```\n\nShould I fix this within this ticket or create a new one?\nAnd does anyone has an idea whats wrong with this deprecation?\nThe new methods work as expected.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ab449cf68a445cb57fc0c0221466e957458fd99\"><code>3ab449c</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>\n",
    "created_at": "2018-11-26T12:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393514",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:27" align="right">comment:27</div>

In #25708 some SBox class methods were deprecated.
These now throw an error, when called:

```python
sage: from sage.crypto.sbox import SBox
sage: S = SBox(7,6,0,4,2,5,1,3)
sage: S.difference_distribution_matrix()
/home/asante/werkstatt/werkbank/sage/src/bin/sage-ipython:1: DeprecationWarning: difference_distribution_matrix is deprecated. Please use difference_distribution_table instead.
See https://trac.sagemath.org/25708 for details.
  #!/usr/bin/env sage-python23
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-3-9af42cf79b34> in <module>()
----> 1 S.difference_distribution_matrix()
/home/asante/werkstatt/werkbank/sage/local/lib/python2.7/site-packages/sage/misc/superseded.pyc in __call__(self, *args, **kwds)
    426             return self.func(*args, **kwds)
    427         else:
--> 428             return self.func(self.instance, *args, **kwds)
    429
    430     def __get__(self, inst, cls=None):
TypeError: __call__() takes exactly 0 positional arguments (1 given)
```

Should I fix this within this ticket or create a new one?
And does anyone has an idea whats wrong with this deprecation?
The new methods work as expected.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ab449cf68a445cb57fc0c0221466e957458fd99"><code>3ab449c</code></a></td><td><code>Merge branch 'develop' into t/25633/speed_up_sbox_module</code></td></tr></table>




---

archive/issue_comments_393515.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nWe should fix this within this ticket by not making it an alias but manually issuing the deprecation warning and calling the corresponding function. So something like this:\n\n```python\ndef difference_distribution_matrix(self):\n    \"\"\"\n    Deprecated in :trac:`25708` for :meth:`difference_distribution_table`.\n    \"\"\"\n    from sage.misc.superseded import deprecation\n    deprecation(25708, \"difference_distribution_matrix is deprecated. Please use difference_distribution_table instead.\")\n    return self.difference_distribution_table()\n```\nSince this is slated to be removed, it is not worth the time to add doctests.",
    "created_at": "2018-11-27T02:56:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393515",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

We should fix this within this ticket by not making it an alias but manually issuing the deprecation warning and calling the corresponding function. So something like this:

```python
def difference_distribution_matrix(self):
    """
    Deprecated in :trac:`25708` for :meth:`difference_distribution_table`.
    """
    from sage.misc.superseded import deprecation
    deprecation(25708, "difference_distribution_matrix is deprecated. Please use difference_distribution_table instead.")
    return self.difference_distribution_table()
```
Since this is slated to be removed, it is not worth the time to add doctests.



---

archive/issue_comments_393516.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nSome comments:\n\n- Instead of using `long` and `int`, you should use the more machine-independent `Py_ssize_t` (unless you have a specific reason to limit the size, such as you know these must be small values).\n\n- In `_nterms`, it would be good to mark `total`, `divisor`, and `var_choices` as `Py_ssize_t`. Do you also want `var_choices/divisor` to be floor/integer division? If so, I think it is better to do `var_choices//divisor` to better emphasize this.\n\n- It might be better to not declare `i` to be a `bint` in `from_bits` as you never use that fact (so it avoids extra checks in Cython). Also, why is there even a `swp` function? Would it be better to just do\n\n  ```python\n        if self._big_endian:\n            x = list(reversed(x))\n        return ZZ([i for i in self._rpad(swp(x), n)], 2)\n  ```\n- Replace `[GF(2)(0)]` with `[GF(2).zero()]`.\n- Why are you converting to `ZZ` here `X = ZZ([ZZ(i) for i in X], 2)` when `i` is already an `int`? It might also be good to take care of this comment in `Integer`: `# should probably also have fast code for Python ints...` It actually seems like a good thing to factor the code to construct an integer from a bitstring out into a `cdef` helper function.\n- It seems redundant to call `vector` here `return K(vector(GF(2), out))`. Shouldn't `K` be able to handle `out`?\n- You could consider making `output_bits` into an array that you manually `alloc`/`free` so you will have better type control and can initialize without having to create a temp object to reverse it.\n- You could use the `get_unsafe` operations for `lat` and `act` (once you explicitly cast it as a `Matrix` object).\n- This is not correct: `cdef A = []`. I believe you want `cdef list A = []`.\n- Add the `cdef list` declaration: `cdef list L = [self(i) for i in range(1 << m)]`.\n- I would factor out the `substitute` into a `cdef` function and explicitly declare variable types.",
    "created_at": "2018-11-27T03:29:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393516",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

Some comments:

- Instead of using `long` and `int`, you should use the more machine-independent `Py_ssize_t` (unless you have a specific reason to limit the size, such as you know these must be small values).

- In `_nterms`, it would be good to mark `total`, `divisor`, and `var_choices` as `Py_ssize_t`. Do you also want `var_choices/divisor` to be floor/integer division? If so, I think it is better to do `var_choices//divisor` to better emphasize this.

- It might be better to not declare `i` to be a `bint` in `from_bits` as you never use that fact (so it avoids extra checks in Cython). Also, why is there even a `swp` function? Would it be better to just do

  ```python
        if self._big_endian:
            x = list(reversed(x))
        return ZZ([i for i in self._rpad(swp(x), n)], 2)
  ```
- Replace `[GF(2)(0)]` with `[GF(2).zero()]`.
- Why are you converting to `ZZ` here `X = ZZ([ZZ(i) for i in X], 2)` when `i` is already an `int`? It might also be good to take care of this comment in `Integer`: `# should probably also have fast code for Python ints...` It actually seems like a good thing to factor the code to construct an integer from a bitstring out into a `cdef` helper function.
- It seems redundant to call `vector` here `return K(vector(GF(2), out))`. Shouldn't `K` be able to handle `out`?
- You could consider making `output_bits` into an array that you manually `alloc`/`free` so you will have better type control and can initialize without having to create a temp object to reverse it.
- You could use the `get_unsafe` operations for `lat` and `act` (once you explicitly cast it as a `Matrix` object).
- This is not correct: `cdef A = []`. I believe you want `cdef list A = []`.
- Add the `cdef list` declaration: `cdef list L = [self(i) for i in range(1 << m)]`.
- I would factor out the `substitute` into a `cdef` function and explicitly declare variable types.



---

archive/issue_comments_393517.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4aadefe093b40e9fb894145a4120ca6006e2244\"><code>c4aadef</code></a></td><td><code>fixed error in deprecation of SBox.*_matrix methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d9232efc735c3933a500e91c574c5c83482f0bc\"><code>3d9232e</code></a></td><td><code>changed cdef long/int to cdef Py_ssize_t</code></td></tr></table>\n",
    "created_at": "2018-11-27T09:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393517",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4aadefe093b40e9fb894145a4120ca6006e2244"><code>c4aadef</code></a></td><td><code>fixed error in deprecation of SBox.*_matrix methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d9232efc735c3933a500e91c574c5c83482f0bc"><code>3d9232e</code></a></td><td><code>changed cdef long/int to cdef Py_ssize_t</code></td></tr></table>




---

archive/issue_comments_393518.json:
```json
{
    "body": "Changed commit from **[`3ab449c`](https://github.com/sagemath/sagetrac-mirror/commit/3ab449cf68a445cb57fc0c0221466e957458fd99)** to **[`3d9232e`](https://github.com/sagemath/sagetrac-mirror/commit/3d9232efc735c3933a500e91c574c5c83482f0bc)**",
    "created_at": "2018-11-27T09:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393518",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3ab449c`](https://github.com/sagemath/sagetrac-mirror/commit/3ab449cf68a445cb57fc0c0221466e957458fd99)** to **[`3d9232e`](https://github.com/sagemath/sagetrac-mirror/commit/3d9232efc735c3933a500e91c574c5c83482f0bc)**



---

archive/issue_comments_393519.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nregarding the `cdef Py_ssize_t`, should I also change parts like the following?\n\n```python\ncdef int i\nx = [GF(2)(i) for i in ZZ(x).digits(base=2, padto=n)]\n```\n\n\nAnother thing that comes to my mind, when I see this part: I'm not so sure how helpful it actually is, to convert the digits to GF(2) elements, as we are only returning a list and not a vector.\n\nBut I guess changing this could cause some other code to break, so it may not be good to do so?",
    "created_at": "2018-11-27T09:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393519",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:31" align="right">comment:31</div>

regarding the `cdef Py_ssize_t`, should I also change parts like the following?

```python
cdef int i
x = [GF(2)(i) for i in ZZ(x).digits(base=2, padto=n)]
```


Another thing that comes to my mind, when I see this part: I'm not so sure how helpful it actually is, to convert the digits to GF(2) elements, as we are only returning a list and not a vector.

But I guess changing this could cause some other code to break, so it may not be good to do so?



---

archive/issue_comments_393520.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@pfasante](#comment%3A31):\n> regarding the `cdef Py_ssize_t`, should I also change parts like the following?\n> \n> ```python\n> cdef int i\n> x = [GF(2)(i) for i in ZZ(x).digits(base=2, padto=n)]\n> ```\n\nI don't see the benefit of saying/converting `i` to an `int` because the `GF(2)` element constructor does not use that information. So it essentially adds another useless check. Thus, I would remove the `cdef int i` altogether.\n\n> Another thing that comes to my mind, when I see this part: I'm not so sure how helpful it actually is, to convert the digits to GF(2) elements, as we are only returning a list and not a vector.\n\nA list is lightweight compared to a vector and implemented directly into the Python interpreter/language, so it is much faster.",
    "created_at": "2018-11-27T09:38:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393520",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@pfasante](#comment%3A31):
> regarding the `cdef Py_ssize_t`, should I also change parts like the following?
> 
> ```python
> cdef int i
> x = [GF(2)(i) for i in ZZ(x).digits(base=2, padto=n)]
> ```

I don't see the benefit of saying/converting `i` to an `int` because the `GF(2)` element constructor does not use that information. So it essentially adds another useless check. Thus, I would remove the `cdef int i` altogether.

> Another thing that comes to my mind, when I see this part: I'm not so sure how helpful it actually is, to convert the digits to GF(2) elements, as we are only returning a list and not a vector.

A list is lightweight compared to a vector and implemented directly into the Python interpreter/language, so it is much faster.



---

archive/issue_comments_393521.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOK. I added this `cdef int i` because, IIRC, Jeroen said that it is faster, because cython can then optimize the `for i in` loop stuff. But maybe I just misunderstood this and its only faster when doing something like `for i in range(...)`?\nBut OK, I'll just remove it then.\n\nRegarding the second point: should I remove the conversion to GF(2) then, or leave it?",
    "created_at": "2018-11-27T10:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393521",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:33" align="right">comment:33</div>

OK. I added this `cdef int i` because, IIRC, Jeroen said that it is faster, because cython can then optimize the `for i in` loop stuff. But maybe I just misunderstood this and its only faster when doing something like `for i in range(...)`?
But OK, I'll just remove it then.

Regarding the second point: should I remove the conversion to GF(2) then, or leave it?



---

archive/issue_comments_393522.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@pfasante](#comment%3A33):\n> OK. I added this `cdef int i` because, IIRC, Jeroen said that it is faster, because cython can then optimize the `for i in` loop stuff. But maybe I just misunderstood this and its only faster when doing something like `for i in range(...)`?\n> But OK, I'll just remove it then.\n\nYes, that is when it is faster because Cython converts it to a C `for` loop. It is also useful for when you are using the type declaration.\n\n> Regarding the second point: should I remove the conversion to GF(2) then, or leave it?\n\nIDK as this is outside of my area of math. If it is the object you return and mathematically it should be in `GF(2)`, then you should keep the conversion. I was merely commenting on your question above returning a list versus a vector.\n\nMicro-optimization:\n\n```python\nF = GF(2)\nx = [F(i) for i in ZZ(x).digits(base=2, padto=n)]\n```\nso you do not (re)create `GF(2)` on every call.",
    "created_at": "2018-11-27T10:09:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393522",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@pfasante](#comment%3A33):
> OK. I added this `cdef int i` because, IIRC, Jeroen said that it is faster, because cython can then optimize the `for i in` loop stuff. But maybe I just misunderstood this and its only faster when doing something like `for i in range(...)`?
> But OK, I'll just remove it then.

Yes, that is when it is faster because Cython converts it to a C `for` loop. It is also useful for when you are using the type declaration.

> Regarding the second point: should I remove the conversion to GF(2) then, or leave it?

IDK as this is outside of my area of math. If it is the object you return and mathematically it should be in `GF(2)`, then you should keep the conversion. I was merely commenting on your question above returning a list versus a vector.

Micro-optimization:

```python
F = GF(2)
x = [F(i) for i in ZZ(x).digits(base=2, padto=n)]
```
so you do not (re)create `GF(2)` on every call.



---

archive/issue_comments_393523.json:
```json
{
    "body": "Changed commit from **[`3d9232e`](https://github.com/sagemath/sagetrac-mirror/commit/3d9232efc735c3933a500e91c574c5c83482f0bc)** to **[`c7cc765`](https://github.com/sagemath/sagetrac-mirror/commit/c7cc765f8ea5bdb6e088cbddccacc47e4ec72268)**",
    "created_at": "2018-11-27T18:30:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393523",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3d9232e`](https://github.com/sagemath/sagetrac-mirror/commit/3d9232efc735c3933a500e91c574c5c83482f0bc)** to **[`c7cc765`](https://github.com/sagemath/sagetrac-mirror/commit/c7cc765f8ea5bdb6e088cbddccacc47e4ec72268)**



---

archive/issue_comments_393524.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ace44dbff6ef19bdecb7bc98c53e93146b8d13e\"><code>5ace44d</code></a></td><td><code>removed swp function from to/from_bits method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b46866d35b22b64b6566b2184fd1f427908e4d79\"><code>b46866d</code></a></td><td><code>changed GF(2)(0) to GF(2).zero()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5feb31d9a3a363c084fa8c95ceb7fe5bb83e5ace\"><code>5feb31d</code></a></td><td><code>changing a leftover in a comment from the SBox.*_matrix deprecation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1bcc95ec3af56995d59aac474749e5cb6cdcaec\"><code>b1bcc95</code></a></td><td><code>to/from bits clean up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/533731ed509b2853ff60186f7c3ff1a96b1d9f35\"><code>533731e</code></a></td><td><code>cdef'ed integers, using Py_ssize_t here</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d5125ca36595f2a123ae151609cf043a1d05ca5\"><code>2d5125c</code></a></td><td><code>cdef'ed lists and slightly refactored SBox.*_table methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24a8bbec067dfab298e5e09a7aa9ba41213cba27\"><code>24a8bbe</code></a></td><td><code>clean up the SBox construction functions, as they duplicate some code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89cf15f11c6f6143a8f35d37c7ba593cf0d9ad3f\"><code>89cf15f</code></a></td><td><code>restructured SBox.__call__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7cc765f8ea5bdb6e088cbddccacc47e4ec72268\"><code>c7cc765</code></a></td><td><code>simplify SBox.interpolation_polyonmial by utilizing SBox.__call__</code></td></tr></table>\n",
    "created_at": "2018-11-27T18:30:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393524",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ace44dbff6ef19bdecb7bc98c53e93146b8d13e"><code>5ace44d</code></a></td><td><code>removed swp function from to/from_bits method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b46866d35b22b64b6566b2184fd1f427908e4d79"><code>b46866d</code></a></td><td><code>changed GF(2)(0) to GF(2).zero()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5feb31d9a3a363c084fa8c95ceb7fe5bb83e5ace"><code>5feb31d</code></a></td><td><code>changing a leftover in a comment from the SBox.*_matrix deprecation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1bcc95ec3af56995d59aac474749e5cb6cdcaec"><code>b1bcc95</code></a></td><td><code>to/from bits clean up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/533731ed509b2853ff60186f7c3ff1a96b1d9f35"><code>533731e</code></a></td><td><code>cdef'ed integers, using Py_ssize_t here</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d5125ca36595f2a123ae151609cf043a1d05ca5"><code>2d5125c</code></a></td><td><code>cdef'ed lists and slightly refactored SBox.*_table methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24a8bbec067dfab298e5e09a7aa9ba41213cba27"><code>24a8bbe</code></a></td><td><code>clean up the SBox construction functions, as they duplicate some code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89cf15f11c6f6143a8f35d37c7ba593cf0d9ad3f"><code>89cf15f</code></a></td><td><code>restructured SBox.__call__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7cc765f8ea5bdb6e088cbddccacc47e4ec72268"><code>c7cc765</code></a></td><td><code>simplify SBox.interpolation_polyonmial by utilizing SBox.__call__</code></td></tr></table>




---

archive/issue_comments_393525.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI tried to commit the changes in logical parts, hopefully thats ok for reviewing.\n\nRegarding commit 24a8bbe 'clean up the SBox construction functions, as they duplicate some code' -- I'm not sure how to properly test the cdef functions used here. Are these indirect doctests ok or should I think about some better tests?",
    "created_at": "2018-11-27T18:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393525",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:36" align="right">comment:36</div>

I tried to commit the changes in logical parts, hopefully thats ok for reviewing.

Regarding commit 24a8bbe 'clean up the SBox construction functions, as they duplicate some code' -- I'm not sure how to properly test the cdef functions used here. Are these indirect doctests ok or should I think about some better tests?



---

archive/issue_comments_393526.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@pfasante](#comment%3A36):\n> I tried to commit the changes in logical parts, hopefully thats ok for reviewing.\n\nYes, that is good (both for reviewing and history, makes it easier to find when bugs might have been introduced; I am not as good as I should be with granularity of my commits...).\n\n> Regarding commit 24a8bbe 'clean up the SBox construction functions, as they duplicate some code' -- I'm not sure how to properly test the cdef functions used here. Are these indirect doctests ok or should I think about some better tests?\n\nIndirect doctests are good. Strictly speaking, I think our policy is `cdef` functions/methods do not need doctests, but it is better to have them when can be meaningful.",
    "created_at": "2018-11-27T22:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393526",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@pfasante](#comment%3A36):
> I tried to commit the changes in logical parts, hopefully thats ok for reviewing.

Yes, that is good (both for reviewing and history, makes it easier to find when bugs might have been introduced; I am not as good as I should be with granularity of my commits...).

> Regarding commit 24a8bbe 'clean up the SBox construction functions, as they duplicate some code' -- I'm not sure how to properly test the cdef functions used here. Are these indirect doctests ok or should I think about some better tests?

Indirect doctests are good. Strictly speaking, I think our policy is `cdef` functions/methods do not need doctests, but it is better to have them when can be meaningful.



---

archive/issue_comments_393527.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nAs a data point for why `list` is faster:\n\n```\nsage: L = list(map(GF(2), [1,0,1,0,1]))\nsage: %timeit k(vector(L))\nThe slowest run took 896.22 times longer than the fastest. This could mean that an intermediate result is being cached.\n10000 loops, best of 3: 81.6 \u00b5s per loop\nsage: %timeit k(L)\n10000 loops, best of 3: 22.5 \u00b5s per loop\n```\n\nI am planning to go through the files here this morning and see what other changes I can do to try and speed things up further. Do you have some computations you have been doing for timings of various parts (besides [comment:16](#comment%3A16))? (I do not know anything of the mathematics, so I don't know what are meaningful examples.)",
    "created_at": "2018-11-27T22:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393527",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:38" align="right">comment:38</div>

As a data point for why `list` is faster:

```
sage: L = list(map(GF(2), [1,0,1,0,1]))
sage: %timeit k(vector(L))
The slowest run took 896.22 times longer than the fastest. This could mean that an intermediate result is being cached.
10000 loops, best of 3: 81.6 s per loop
sage: %timeit k(L)
10000 loops, best of 3: 22.5 s per loop
```

I am planning to go through the files here this morning and see what other changes I can do to try and speed things up further. Do you have some computations you have been doing for timings of various parts (besides [comment:16](#comment%3A16))? (I do not know anything of the mathematics, so I don't know what are meaningful examples.)



---

archive/issue_comments_393528.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nNo I have no other timing checks. And its also quite late here, so I wont have much time for some experiments in the next few hours..\n\nFrom my intuition it might be worth to look for optimisations in the `__call__` method. I assume it is the most called method and the current input handling looks like it takes some time.. But I also do not know how to handle this more elegant.\n\nIt's basically only a array look up, but for sake of easier handling, we also want to support vector/list/tuple inputs (that encodes the array index as a binary string) or a finite field element (where the coefficient vector encodes the index as binary string, or, equivalent, the return value is the evaluation of the polynomial representation of the sbox).\n\nCurrently this is done with this try blocks, but I guess catching exceptions just to handle different input types might not be the fastest option.",
    "created_at": "2018-11-27T22:46:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393528",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:39" align="right">comment:39</div>

No I have no other timing checks. And its also quite late here, so I wont have much time for some experiments in the next few hours..

From my intuition it might be worth to look for optimisations in the `__call__` method. I assume it is the most called method and the current input handling looks like it takes some time.. But I also do not know how to handle this more elegant.

It's basically only a array look up, but for sake of easier handling, we also want to support vector/list/tuple inputs (that encodes the array index as a binary string) or a finite field element (where the coefficient vector encodes the index as binary string, or, equivalent, the return value is the evaluation of the polynomial representation of the sbox).

Currently this is done with this try blocks, but I guess catching exceptions just to handle different input types might not be the fastest option.



---

archive/issue_comments_393529.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nIs this a bug? According to the docstring in `__call__`, it is:\n\n```\nsage: from sage.crypto.sbox import SBox\nsage: S = SBox([7,6,0,4,2,5,1,3])\nsage: k.<a> = GF(2^3)\nsage: vector(a^2)\n(0, 0, 1)\nsage: S([0,0,1])\n[1, 1, 0]\nsage: S(vector(a^2))\n[1, 1, 0]\nsage: S(a^2)  # From the docstring, this should be 1 + a\na\n```",
    "created_at": "2018-12-01T00:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393529",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:40" align="right">comment:40</div>

Is this a bug? According to the docstring in `__call__`, it is:

```
sage: from sage.crypto.sbox import SBox
sage: S = SBox([7,6,0,4,2,5,1,3])
sage: k.<a> = GF(2^3)
sage: vector(a^2)
(0, 0, 1)
sage: S([0,0,1])
[1, 1, 0]
sage: S(vector(a^2))
[1, 1, 0]
sage: S(a^2)  # From the docstring, this should be 1 + a
a
```



---

archive/issue_comments_393530.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThanks for checking this. I stumbled across this during changing to cython.\nIn the end I was a bit confused and then forgot about this again. But I think you are right, it should be 1 + a.\n\nWhen fixing this thou, other doctests that rely on the current behaviour fail:\n\n\n```\n**********************************************************************\nFile \"src/sage/crypto/sbox.pyx\", line 1007, in sage.crypto.sbox.SBox.interpolation_polynomial\nFailed example:\n    f\nExpected:\n    x^6 + a*x^5 + (a + 1)*x^4 + (a^2 + a + 1)*x^3\n      + (a^2 + 1)*x^2 + (a + 1)*x + a^2 + a + 1\nGot:\n    (a^2 + a + 1)*x^6 + a^2*x^5 + (a + 1)*x^4 + (a^2 + a)*x^3 + x^2 + a*x + a^2 + a + 1\n**********************************************************************\nFile \"src/sage/crypto/sbox.pyx\", line 1759, in sage.crypto.sbox.SBox.is_monomial_function\nFailed example:\n    S.interpolation_polynomial()\nExpected:\n    (a + 1)*x^6 + (a^2 + a + 1)*x^5 + (a^2 + 1)*x^3\nGot:\n    (a + 1)*x^6 + (a^2 + a + 1)*x^5 + (a^2 + a)*x^4 + (a^2 + 1)*x^3 + a*x^2 + a*x\n**********************************************************************\nFile \"src/sage/crypto/sbox.pyx\", line 1763, in sage.crypto.sbox.SBox.is_monomial_function\nFailed example:\n    S.is_monomial_function()\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"src/sage/crypto/sbox.pyx\", line 1765, in sage.crypto.sbox.SBox.is_monomial_function\nFailed example:\n    S.interpolation_polynomial()\nExpected:\n    x^6\nGot:\n    (a^2 + a)*x^6 + (a + 1)*x^5 + (a + 1)*x^4 + (a^2 + a + 1)*x^3 + (a^2 + a)*x\n**********************************************************************\n```\n\nShould I change this doctests? This might also brake other code, could'nt it?",
    "created_at": "2018-12-06T10:07:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393530",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:41" align="right">comment:41</div>

Thanks for checking this. I stumbled across this during changing to cython.
In the end I was a bit confused and then forgot about this again. But I think you are right, it should be 1 + a.

When fixing this thou, other doctests that rely on the current behaviour fail:


```
**********************************************************************
File "src/sage/crypto/sbox.pyx", line 1007, in sage.crypto.sbox.SBox.interpolation_polynomial
Failed example:
    f
Expected:
    x^6 + a*x^5 + (a + 1)*x^4 + (a^2 + a + 1)*x^3
      + (a^2 + 1)*x^2 + (a + 1)*x + a^2 + a + 1
Got:
    (a^2 + a + 1)*x^6 + a^2*x^5 + (a + 1)*x^4 + (a^2 + a)*x^3 + x^2 + a*x + a^2 + a + 1
**********************************************************************
File "src/sage/crypto/sbox.pyx", line 1759, in sage.crypto.sbox.SBox.is_monomial_function
Failed example:
    S.interpolation_polynomial()
Expected:
    (a + 1)*x^6 + (a^2 + a + 1)*x^5 + (a^2 + 1)*x^3
Got:
    (a + 1)*x^6 + (a^2 + a + 1)*x^5 + (a^2 + a)*x^4 + (a^2 + 1)*x^3 + a*x^2 + a*x
**********************************************************************
File "src/sage/crypto/sbox.pyx", line 1763, in sage.crypto.sbox.SBox.is_monomial_function
Failed example:
    S.is_monomial_function()
Expected:
    True
Got:
    False
**********************************************************************
File "src/sage/crypto/sbox.pyx", line 1765, in sage.crypto.sbox.SBox.is_monomial_function
Failed example:
    S.interpolation_polynomial()
Expected:
    x^6
Got:
    (a^2 + a)*x^6 + (a + 1)*x^5 + (a + 1)*x^4 + (a^2 + a + 1)*x^3 + (a^2 + a)*x
**********************************************************************
```

Should I change this doctests? This might also brake other code, could'nt it?



---

archive/issue_comments_393531.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI knew these were failing, but I did not want to change them until I knew what the correct behavior was (specifically, if I switched the endianness, then the tests passed). I will change them as I continue my review. It is possible that it will break code in the wild, but I would treat that as a [spacebar](https://xkcd.com/1172/).",
    "created_at": "2018-12-06T13:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393531",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:42" align="right">comment:42</div>

I knew these were failing, but I did not want to change them until I knew what the correct behavior was (specifically, if I switched the endianness, then the tests passed). I will change them as I continue my review. It is possible that it will break code in the wild, but I would treat that as a [spacebar](https://xkcd.com/1172/).



---

archive/issue_comments_393532.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nWith my latest changes, I am getting a speedup from your last comment of `72ms` and `36ms` to `60ms` and `<22ms` respectively.\n\nSome other timings of current:\nwithout my last commit:\n\n```\nsage: from sage.crypto.sbox import SBox\nsage: S = SBox([7,6,0,4,2,5,1,3])\nsage: k.<a> = GF(2^3)\nsage: x = vector(a)\nsage: %timeit S([0,1,0])\n100000 loops, best of 3: 10.5 \u00b5s per loop\nsage: %timeit S(a)\n10000 loops, best of 3: 50.6 \u00b5s per loop\nsage: %timeit S(x)\n10000 loops, best of 3: 32.4 \u00b5s per loop\nsage: %timeit S(5)\n10000000 loops, best of 3: 138 ns per loop\n```\nvs your branch:\n\n```\nsage: %timeit S([0,1,0])\n100000 loops, best of 3: 14.5 \u00b5s per loop\nsage: %timeit S(a)\n10000 loops, best of 3: 65.3 \u00b5s per loop\nsage: %timeit S(x)\n10000 loops, best of 3: 33.9 \u00b5s per loop\nsage: %timeit S(5)\n1000000 loops, best of 3: 434 ns per loop\n```",
    "created_at": "2018-12-08T11:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393532",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:43" align="right">comment:43</div>

With my latest changes, I am getting a speedup from your last comment of `72ms` and `36ms` to `60ms` and `<22ms` respectively.

Some other timings of current:
without my last commit:

```
sage: from sage.crypto.sbox import SBox
sage: S = SBox([7,6,0,4,2,5,1,3])
sage: k.<a> = GF(2^3)
sage: x = vector(a)
sage: %timeit S([0,1,0])
100000 loops, best of 3: 10.5 s per loop
sage: %timeit S(a)
10000 loops, best of 3: 50.6 s per loop
sage: %timeit S(x)
10000 loops, best of 3: 32.4 s per loop
sage: %timeit S(5)
10000000 loops, best of 3: 138 ns per loop
```
vs your branch:

```
sage: %timeit S([0,1,0])
100000 loops, best of 3: 14.5 s per loop
sage: %timeit S(a)
10000 loops, best of 3: 65.3 s per loop
sage: %timeit S(x)
10000 loops, best of 3: 33.9 s per loop
sage: %timeit S(5)
1000000 loops, best of 3: 434 ns per loop
```



---

archive/issue_comments_393533.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nWith my last commit, I now get `50ms` and `13ms` respectively. Little tweaks and looking at the C code can go a long way. `:)`",
    "created_at": "2018-12-08T11:09:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393533",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:44" align="right">comment:44</div>

With my last commit, I now get `50ms` and `13ms` respectively. Little tweaks and looking at the C code can go a long way. `:)`



---

archive/issue_comments_393534.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nOkay, I have done what I can other than special casing the bit in/output for `ZZ`. Yet, I think this is good for now.\n\nHowever, I would like verification from someone else who does use the **F**<sub>2</sub> call input to the SBox to verify that the docstring was indeed how it was suppose to be treated. Subsequently, I would like verification about the corresponding doctests that needed to be changed.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdfbbd59a20601cfcca3a81950ef4ff22f92ad00\"><code>fdfbbd5</code></a></td><td><code>PEP8 and some standardization of error messages and docstrings.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2b4724d762a5d2bd507ab0741bdb2cb550c6037\"><code>b2b4724</code></a></td><td><code>Fixing deprecated function.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c291c1fc87c0294523063ad1b2e80ca598e53019\"><code>c291c1f</code></a></td><td><code>Some optimizations avoiding function calls and improving __call__.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6703a2ffa5da1acfab16cf7a66052d42e68864ca\"><code>6703a2f</code></a></td><td><code>Fixing doctests and some other speedups.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f2b8ed38d2b03ffcc86e30332950de755e46740\"><code>0f2b8ed</code></a></td><td><code>A few more speedups and improvements.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd376ec9fbbcf146f6dc39e42401367c9c0ce165\"><code>cd376ec</code></a></td><td><code>Some PEP8 and cleanup of boolean_function.pyx.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8ec337bb336320c9c01737aa0b4a7366530a401\"><code>a8ec337</code></a></td><td><code>Some little fixes to improve the C code.</code></td></tr></table>\n",
    "created_at": "2018-12-08T11:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393534",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:45" align="right">comment:45</div>

Okay, I have done what I can other than special casing the bit in/output for `ZZ`. Yet, I think this is good for now.

However, I would like verification from someone else who does use the **F**<sub>2</sub> call input to the SBox to verify that the docstring was indeed how it was suppose to be treated. Subsequently, I would like verification about the corresponding doctests that needed to be changed.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdfbbd59a20601cfcca3a81950ef4ff22f92ad00"><code>fdfbbd5</code></a></td><td><code>PEP8 and some standardization of error messages and docstrings.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2b4724d762a5d2bd507ab0741bdb2cb550c6037"><code>b2b4724</code></a></td><td><code>Fixing deprecated function.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c291c1fc87c0294523063ad1b2e80ca598e53019"><code>c291c1f</code></a></td><td><code>Some optimizations avoiding function calls and improving __call__.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6703a2ffa5da1acfab16cf7a66052d42e68864ca"><code>6703a2f</code></a></td><td><code>Fixing doctests and some other speedups.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f2b8ed38d2b03ffcc86e30332950de755e46740"><code>0f2b8ed</code></a></td><td><code>A few more speedups and improvements.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd376ec9fbbcf146f6dc39e42401367c9c0ce165"><code>cd376ec</code></a></td><td><code>Some PEP8 and cleanup of boolean_function.pyx.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8ec337bb336320c9c01737aa0b4a7366530a401"><code>a8ec337</code></a></td><td><code>Some little fixes to improve the C code.</code></td></tr></table>




---

archive/issue_events_351498.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-12-08T11:14:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351498"
}
```



---

archive/issue_events_351499.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-12-08T11:14:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351499"
}
```



---

archive/issue_comments_393535.json:
```json
{
    "body": "Changed commit from **[`c7cc765`](https://github.com/sagemath/sagetrac-mirror/commit/c7cc765f8ea5bdb6e088cbddccacc47e4ec72268)** to **[`a8ec337`](https://github.com/sagemath/sagetrac-mirror/commit/a8ec337bb336320c9c01737aa0b4a7366530a401)**",
    "created_at": "2018-12-08T11:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393535",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`c7cc765`](https://github.com/sagemath/sagetrac-mirror/commit/c7cc765f8ea5bdb6e088cbddccacc47e4ec72268)** to **[`a8ec337`](https://github.com/sagemath/sagetrac-mirror/commit/a8ec337bb336320c9c01737aa0b4a7366530a401)**



---

archive/issue_comments_393536.json:
```json
{
    "body": "Changed branch from **[u/asante/speed_up_sbox_module](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/speed_up_sbox_module)** to **[public/crypto/speedup_sbox-25633](https://github.com/sagemath/sagetrac-mirror/tree/public/crypto/speedup_sbox-25633)**",
    "created_at": "2018-12-08T11:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393536",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/asante/speed_up_sbox_module](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/speed_up_sbox_module)** to **[public/crypto/speedup_sbox-25633](https://github.com/sagemath/sagetrac-mirror/tree/public/crypto/speedup_sbox-25633)**



---

archive/issue_comments_393537.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-12-08T11:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393537",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_393538.json:
```json
{
    "body": "Changed commit from **[`a8ec337`](https://github.com/sagemath/sagetrac-mirror/commit/a8ec337bb336320c9c01737aa0b4a7366530a401)** to **[`65352b7`](https://github.com/sagemath/sagetrac-mirror/commit/65352b790482abe5d04537ad714ad42eae9d881d)**",
    "created_at": "2018-12-08T11:30:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393538",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a8ec337`](https://github.com/sagemath/sagetrac-mirror/commit/a8ec337bb336320c9c01737aa0b4a7366530a401)** to **[`65352b7`](https://github.com/sagemath/sagetrac-mirror/commit/65352b790482abe5d04537ad714ad42eae9d881d)**



---

archive/issue_comments_393539.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ac8f7b60983121d4c68fee865a06c5d20a97fa0\"><code>1ac8f7b</code></a></td><td><code>Use get_unsafe for matrix lookup in SBox.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65352b790482abe5d04537ad714ad42eae9d881d\"><code>65352b7</code></a></td><td><code>Adding specialized code for base 2 with Python int/long.</code></td></tr></table>\n",
    "created_at": "2018-12-08T11:30:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393539",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ac8f7b60983121d4c68fee865a06c5d20a97fa0"><code>1ac8f7b</code></a></td><td><code>Use get_unsafe for matrix lookup in SBox.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65352b790482abe5d04537ad714ad42eae9d881d"><code>65352b7</code></a></td><td><code>Adding specialized code for base 2 with Python int/long.</code></td></tr></table>




---

archive/issue_comments_393540.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI took care of two other todo points I mentioned above. Now I am done.",
    "created_at": "2018-12-08T11:31:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393540",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:47" align="right">comment:47</div>

I took care of two other todo points I mentioned above. Now I am done.



---

archive/issue_comments_393541.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThanks for your work :)\n\nIs the change in rings/integer.pyx on purpose within this ticket?\n\nApart from that, LGTM. I'll see if I can find someone who used the interpolation stuff (maybe Martin Albrecht did).",
    "created_at": "2018-12-19T14:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393541",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:48" align="right">comment:48</div>

Thanks for your work :)

Is the change in rings/integer.pyx on purpose within this ticket?

Apart from that, LGTM. I'll see if I can find someone who used the interpolation stuff (maybe Martin Albrecht did).



---

archive/issue_comments_393542.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@pfasante](#comment%3A48):\n> Thanks for your work :)\n\nNo problem.\n\n> Is the change in rings/integer.pyx on purpose within this ticket?\n\nYes, it is.\n\n> Apart from that, LGTM. I'll see if I can find someone who used the interpolation stuff (maybe Martin Albrecht did).\n\nGreat, thank you. Looks like we will need to rebase the branch on the latest version before finalizing this, but that should be trivial.",
    "created_at": "2018-12-19T23:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393542",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@pfasante](#comment%3A48):
> Thanks for your work :)

No problem.

> Is the change in rings/integer.pyx on purpose within this ticket?

Yes, it is.

> Apart from that, LGTM. I'll see if I can find someone who used the interpolation stuff (maybe Martin Albrecht did).

Great, thank you. Looks like we will need to rebase the branch on the latest version before finalizing this, but that should be trivial.



---

archive/issue_comments_393543.json:
```json
{
    "body": "Changed commit from **[`65352b7`](https://github.com/sagemath/sagetrac-mirror/commit/65352b790482abe5d04537ad714ad42eae9d881d)** to **[`5126cb8`](https://github.com/sagemath/sagetrac-mirror/commit/5126cb813618cc8e17790bc4a77034b382c2aca2)**",
    "created_at": "2018-12-19T23:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393543",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`65352b7`](https://github.com/sagemath/sagetrac-mirror/commit/65352b790482abe5d04537ad714ad42eae9d881d)** to **[`5126cb8`](https://github.com/sagemath/sagetrac-mirror/commit/5126cb813618cc8e17790bc4a77034b382c2aca2)**



---

archive/issue_comments_393544.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5126cb813618cc8e17790bc4a77034b382c2aca2\"><code>5126cb8</code></a></td><td><code>Merge branch 'public/crypto/speedup_sbox-25633' of git://trac.sagemath.org/sage into public/crypto/speedup_sbox-25633</code></td></tr></table>\n",
    "created_at": "2018-12-19T23:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393544",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5126cb813618cc8e17790bc4a77034b382c2aca2"><code>5126cb8</code></a></td><td><code>Merge branch 'public/crypto/speedup_sbox-25633' of git://trac.sagemath.org/sage into public/crypto/speedup_sbox-25633</code></td></tr></table>




---

archive/issue_comments_393545.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI just did the trivial rebase.",
    "created_at": "2018-12-19T23:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393545",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:51" align="right">comment:51</div>

I just did the trivial rebase.



---

archive/issue_comments_393546.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nSo in order to get this ticket closed at some point and as https://groups.google.com/forum/#!searchin/sage-devel/sbox$20interpolation_polynomial%7Csort:date/sage-devel/_fLVL-r4B7Q/KnxL9WnyBQAJ did not really resulted in a final decision, should we go with Martin's suggestion and keep the current behaviour, and discuss it in the docs?",
    "created_at": "2019-06-16T20:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393546",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:52" align="right">comment:52</div>

So in order to get this ticket closed at some point and as https://groups.google.com/forum/#!searchin/sage-devel/sbox$20interpolation_polynomial%7Csort:date/sage-devel/_fLVL-r4B7Q/KnxL9WnyBQAJ did not really resulted in a final decision, should we go with Martin's suggestion and keep the current behaviour, and discuss it in the docs?



---

archive/issue_events_351500.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2022-01-10T21:54:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351500"
}
```



---

archive/issue_events_351501.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2022-01-10T21:54:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351501"
}
```



---

archive/issue_comments_393547.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nAs there was no more reaction, I'd go with Martins suggestion: \"If it\u2019s all the same, perhaps keeping the current behaviour (and changing the documentation) is the strategy of least surprise?\"\n\nI'll try to work on this in the next days.",
    "created_at": "2022-01-10T21:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393547",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:53" align="right">comment:53</div>

As there was no more reaction, I'd go with Martins suggestion: "If its all the same, perhaps keeping the current behaviour (and changing the documentation) is the strategy of least surprise?"

I'll try to work on this in the next days.



---

archive/issue_events_351502.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2022-01-10T21:54:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351502"
}
```



---

archive/issue_events_351503.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2022-01-10T21:54:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351503"
}
```



---

archive/issue_comments_393548.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb7a8e6e2ea5f90c2e1fbadd2503134d6d855329\"><code>cb7a8e6</code></a></td><td><code>Merge branch 'develop' into t/25633/public/crypto/speedup_sbox-25633</code></td></tr></table>\n",
    "created_at": "2022-01-11T18:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393548",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb7a8e6e2ea5f90c2e1fbadd2503134d6d855329"><code>cb7a8e6</code></a></td><td><code>Merge branch 'develop' into t/25633/public/crypto/speedup_sbox-25633</code></td></tr></table>




---

archive/issue_comments_393549.json:
```json
{
    "body": "Changed commit from **[`5126cb8`](https://github.com/sagemath/sagetrac-mirror/commit/5126cb813618cc8e17790bc4a77034b382c2aca2)** to **[`cb7a8e6`](https://github.com/sagemath/sagetrac-mirror/commit/cb7a8e6e2ea5f90c2e1fbadd2503134d6d855329)**",
    "created_at": "2022-01-11T18:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393549",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5126cb8`](https://github.com/sagemath/sagetrac-mirror/commit/5126cb813618cc8e17790bc4a77034b382c2aca2)** to **[`cb7a8e6`](https://github.com/sagemath/sagetrac-mirror/commit/cb7a8e6e2ea5f90c2e1fbadd2503134d6d855329)**



---

archive/issue_comments_393550.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nThat is fine with me. (I don't have any stake in this as I don't use this code.)",
    "created_at": "2022-01-13T00:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393550",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:55" align="right">comment:55</div>

That is fine with me. (I don't have any stake in this as I don't use this code.)



---

archive/issue_comments_393551.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4d2e839949f386ce806bf781d1cd23115f4772d\"><code>d4d2e83</code></a></td><td><code>fix deprecation warning for FreeModule's vector_space</code></td></tr></table>\n",
    "created_at": "2022-01-13T22:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393551",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4d2e839949f386ce806bf781d1cd23115f4772d"><code>d4d2e83</code></a></td><td><code>fix deprecation warning for FreeModule's vector_space</code></td></tr></table>




---

archive/issue_comments_393552.json:
```json
{
    "body": "Changed commit from **[`cb7a8e6`](https://github.com/sagemath/sagetrac-mirror/commit/cb7a8e6e2ea5f90c2e1fbadd2503134d6d855329)** to **[`d4d2e83`](https://github.com/sagemath/sagetrac-mirror/commit/d4d2e839949f386ce806bf781d1cd23115f4772d)**",
    "created_at": "2022-01-13T22:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393552",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cb7a8e6`](https://github.com/sagemath/sagetrac-mirror/commit/cb7a8e6e2ea5f90c2e1fbadd2503134d6d855329)** to **[`d4d2e83`](https://github.com/sagemath/sagetrac-mirror/commit/d4d2e839949f386ce806bf781d1cd23115f4772d)**



---

archive/issue_comments_393553.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56952f55e260b20190e2761fb12ba8414fe98482\"><code>56952f5</code></a></td><td><code>adjust remaining doctests to change in interpolation_polynomial</code></td></tr></table>\n",
    "created_at": "2022-01-14T20:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393553",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56952f55e260b20190e2761fb12ba8414fe98482"><code>56952f5</code></a></td><td><code>adjust remaining doctests to change in interpolation_polynomial</code></td></tr></table>




---

archive/issue_comments_393554.json:
```json
{
    "body": "Changed commit from **[`d4d2e83`](https://github.com/sagemath/sagetrac-mirror/commit/d4d2e839949f386ce806bf781d1cd23115f4772d)** to **[`56952f5`](https://github.com/sagemath/sagetrac-mirror/commit/56952f55e260b20190e2761fb12ba8414fe98482)**",
    "created_at": "2022-01-14T20:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393554",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d4d2e83`](https://github.com/sagemath/sagetrac-mirror/commit/d4d2e839949f386ce806bf781d1cd23115f4772d)** to **[`56952f5`](https://github.com/sagemath/sagetrac-mirror/commit/56952f55e260b20190e2761fb12ba8414fe98482)**



---

archive/issue_comments_393555.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI'd say its ready for review - however since I worked on a ticket for the last time, this new lint button seems to be introduced, which says 'failing'.\n\nCan someone tell me how to use this, so that I can find out what to fix? Thanks in advance!",
    "created_at": "2022-01-14T21:02:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393555",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:58" align="right">comment:58</div>

I'd say its ready for review - however since I worked on a ticket for the last time, this new lint button seems to be introduced, which says 'failing'.

Can someone tell me how to use this, so that I can find out what to fix? Thanks in advance!



---

archive/issue_events_351504.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-01-15T01:37:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351504"
}
```



---

archive/issue_events_351505.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-01-15T01:37:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351505"
}
```



---

archive/issue_comments_393556.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nI wouldn't worry too much about it. Setting to needs review to get the patchbot to look at this. Have you reverted the behavior? I don't see those changes, but maybe I missed something.",
    "created_at": "2022-01-15T01:37:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393556",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:59" align="right">comment:59</div>

I wouldn't worry too much about it. Setting to needs review to get the patchbot to look at this. Have you reverted the behavior? I don't see those changes, but maybe I missed something.



---

archive/issue_comments_393557.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b788ef3b7929ffa67633864504a2dc4bd6bf0c1\"><code>3b788ef</code></a></td><td><code>document changes in interpolation_polynomial</code></td></tr></table>\n",
    "created_at": "2022-01-15T21:02:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393557",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b788ef3b7929ffa67633864504a2dc4bd6bf0c1"><code>3b788ef</code></a></td><td><code>document changes in interpolation_polynomial</code></td></tr></table>




---

archive/issue_comments_393558.json:
```json
{
    "body": "Changed commit from **[`56952f5`](https://github.com/sagemath/sagetrac-mirror/commit/56952f55e260b20190e2761fb12ba8414fe98482)** to **[`3b788ef`](https://github.com/sagemath/sagetrac-mirror/commit/3b788ef3b7929ffa67633864504a2dc4bd6bf0c1)**",
    "created_at": "2022-01-15T21:02:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393558",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`56952f5`](https://github.com/sagemath/sagetrac-mirror/commit/56952f55e260b20190e2761fb12ba8414fe98482)** to **[`3b788ef`](https://github.com/sagemath/sagetrac-mirror/commit/3b788ef3b7929ffa67633864504a2dc4bd6bf0c1)**



---

archive/issue_comments_393559.json:
```json
{
    "body": "Changed commit from **[`3b788ef`](https://github.com/sagemath/sagetrac-mirror/commit/3b788ef3b7929ffa67633864504a2dc4bd6bf0c1)** to **[`91ba2d3`](https://github.com/sagemath/sagetrac-mirror/commit/91ba2d326bbbcc56fe5952661a49ed4d06071ef4)**",
    "created_at": "2022-01-15T21:14:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393559",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3b788ef`](https://github.com/sagemath/sagetrac-mirror/commit/3b788ef3b7929ffa67633864504a2dc4bd6bf0c1)** to **[`91ba2d3`](https://github.com/sagemath/sagetrac-mirror/commit/91ba2d326bbbcc56fe5952661a49ed4d06071ef4)**



---

archive/issue_comments_393560.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91ba2d326bbbcc56fe5952661a49ed4d06071ef4\"><code>91ba2d3</code></a></td><td><code>add another sanity doctest for interpolation_polynomial</code></td></tr></table>\n",
    "created_at": "2022-01-15T21:14:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393560",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91ba2d326bbbcc56fe5952661a49ed4d06071ef4"><code>91ba2d3</code></a></td><td><code>add another sanity doctest for interpolation_polynomial</code></td></tr></table>




---

archive/issue_comments_393561.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nYes you are right.\n\nI agree with your changes, that `interpolation_polynomial` should directly use `__call__`.\nHowever, changing the endianness for the finite field input inside the call function breaks a lot of stuff at other places.\n\nThus, I'd propose to (instead of what suggested by Martin and mentioned by me above) keep the documented behaviour.",
    "created_at": "2022-01-15T21:15:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393561",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:62" align="right">comment:62</div>

Yes you are right.

I agree with your changes, that `interpolation_polynomial` should directly use `__call__`.
However, changing the endianness for the finite field input inside the call function breaks a lot of stuff at other places.

Thus, I'd propose to (instead of what suggested by Martin and mentioned by me above) keep the documented behaviour.



---

archive/issue_comments_393562.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nI think there was a pair of changes I needed to make, but it has been too long for me to remember exactly. While there might be some doctests that break, only the ones that were touched could potentially be reset. Anyways, if you are happy with the current behavior, then I will set a positive review assuming there are no other objections (and a green patchbot).\n\nOne trivial change needed before that though:\n\n```diff\n-NOTE:\n+.. NOTE::\n```",
    "created_at": "2022-01-16T03:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393562",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:63" align="right">comment:63</div>

I think there was a pair of changes I needed to make, but it has been too long for me to remember exactly. While there might be some doctests that break, only the ones that were touched could potentially be reset. Anyways, if you are happy with the current behavior, then I will set a positive review assuming there are no other objections (and a green patchbot).

One trivial change needed before that though:

```diff
-NOTE:
+.. NOTE::
```



---

archive/issue_comments_393563.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb0ff104e2a4abae08116557b29593abf7544d49\"><code>cb0ff10</code></a></td><td><code>fix NOTE documentation</code></td></tr></table>\n",
    "created_at": "2022-01-17T21:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393563",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb0ff104e2a4abae08116557b29593abf7544d49"><code>cb0ff10</code></a></td><td><code>fix NOTE documentation</code></td></tr></table>




---

archive/issue_comments_393564.json:
```json
{
    "body": "Changed commit from **[`91ba2d3`](https://github.com/sagemath/sagetrac-mirror/commit/91ba2d326bbbcc56fe5952661a49ed4d06071ef4)** to **[`cb0ff10`](https://github.com/sagemath/sagetrac-mirror/commit/cb0ff104e2a4abae08116557b29593abf7544d49)**",
    "created_at": "2022-01-17T21:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393564",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`91ba2d3`](https://github.com/sagemath/sagetrac-mirror/commit/91ba2d326bbbcc56fe5952661a49ed4d06071ef4)** to **[`cb0ff10`](https://github.com/sagemath/sagetrac-mirror/commit/cb0ff104e2a4abae08116557b29593abf7544d49)**



---

archive/issue_comments_393565.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nThanks. I think this will be good for now. It should be relatively easy to revert the change if necessary (such as people disagree with it). I am slightly wondering if we want to put a note in the doc about this ticket with the change. Either way you decide, you can set a positive review (on my behalf if you add the note).",
    "created_at": "2022-01-23T10:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393565",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:65" align="right">comment:65</div>

Thanks. I think this will be good for now. It should be relatively easy to revert the change if necessary (such as people disagree with it). I am slightly wondering if we want to put a note in the doc about this ticket with the change. Either way you decide, you can set a positive review (on my behalf if you add the note).



---

archive/issue_comments_393566.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nOK cool.\n\nRegarding the note in the doc: I added the following note to the docstring of `interpolation_polynomial`. Do you have something else in mind?\n\n```diff\n\ndiff --git a/src/sage/crypto/sbox.pyx b/src/sage/crypto/sbox.pyx\n--- a/src/sage/crypto/sbox.pyx\n+++ b/src/sage/crypto/sbox.pyx\n@@ -1044,6 +1044,12 @@ cdef class SBox(SageObject):\n             sage: f(a^2 + 1), S(5)\n             (a^2 + 1, 5)\n+\n+        ..NOTE::\n+\n+            The method-internal call to the S-box initially used a different\n+            endianess for handling finite field elements. This changed in\n+            https://github.com/sagemath/sage/issues/25633, by calling the S-box directly.\n         \"\"\"\n         if self.m != self.n:\n             raise TypeError(\"Lagrange interpolation only supported if\"\n\n```",
    "created_at": "2022-01-23T11:30:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393566",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:66" align="right">comment:66</div>

OK cool.

Regarding the note in the doc: I added the following note to the docstring of `interpolation_polynomial`. Do you have something else in mind?

```diff

diff --git a/src/sage/crypto/sbox.pyx b/src/sage/crypto/sbox.pyx
--- a/src/sage/crypto/sbox.pyx
+++ b/src/sage/crypto/sbox.pyx
@@ -1044,6 +1044,12 @@ cdef class SBox(SageObject):
             sage: f(a^2 + 1), S(5)
             (a^2 + 1, 5)
+
+        ..NOTE::
+
+            The method-internal call to the S-box initially used a different
+            endianess for handling finite field elements. This changed in
+            https://github.com/sagemath/sage/issues/25633, by calling the S-box directly.
         """
         if self.m != self.n:
             raise TypeError("Lagrange interpolation only supported if"

```



---

archive/issue_comments_393567.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nAh, right. No that is good other than using <code>:trac:\\`25633\\`</code> instead of the explicit trac link.",
    "created_at": "2022-01-23T11:53:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393567",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:67" align="right">comment:67</div>

Ah, right. No that is good other than using <code>:trac:\`25633\`</code> instead of the explicit trac link.



---

archive/issue_comments_393568.json:
```json
{
    "body": "<div id=\"comment:68\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/388b459e7bec2ae7bac3f488ea1562f84995bdeb\"><code>388b459</code></a></td><td><code>use trac macro for link to ticket</code></td></tr></table>\n",
    "created_at": "2022-01-23T12:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393568",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:68"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/388b459e7bec2ae7bac3f488ea1562f84995bdeb"><code>388b459</code></a></td><td><code>use trac macro for link to ticket</code></td></tr></table>




---

archive/issue_comments_393569.json:
```json
{
    "body": "Changed commit from **[`cb0ff10`](https://github.com/sagemath/sagetrac-mirror/commit/cb0ff104e2a4abae08116557b29593abf7544d49)** to **[`388b459`](https://github.com/sagemath/sagetrac-mirror/commit/388b459e7bec2ae7bac3f488ea1562f84995bdeb)**",
    "created_at": "2022-01-23T12:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393569",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cb0ff10`](https://github.com/sagemath/sagetrac-mirror/commit/cb0ff104e2a4abae08116557b29593abf7544d49)** to **[`388b459`](https://github.com/sagemath/sagetrac-mirror/commit/388b459e7bec2ae7bac3f488ea1562f84995bdeb)**



---

archive/issue_comments_393570.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54\"><code>9f79692</code></a></td><td><code>remove unnecessary brackets around trac macro</code></td></tr></table>\n",
    "created_at": "2022-01-23T12:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393570",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54"><code>9f79692</code></a></td><td><code>remove unnecessary brackets around trac macro</code></td></tr></table>




---

archive/issue_comments_393571.json:
```json
{
    "body": "Changed commit from **[`388b459`](https://github.com/sagemath/sagetrac-mirror/commit/388b459e7bec2ae7bac3f488ea1562f84995bdeb)** to **[`9f79692`](https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54)**",
    "created_at": "2022-01-23T12:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393571",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`388b459`](https://github.com/sagemath/sagetrac-mirror/commit/388b459e7bec2ae7bac3f488ea1562f84995bdeb)** to **[`9f79692`](https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54)**



---

archive/issue_events_351506.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2022-01-23T12:19:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351506"
}
```



---

archive/issue_events_351507.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2022-01-23T12:19:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351507"
}
```



---

archive/issue_comments_393572.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nPerfect, I wasn't aware of that macro.\nSetting it to *positive review* then.",
    "created_at": "2022-01-23T12:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393572",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:70" align="right">comment:70</div>

Perfect, I wasn't aware of that macro.
Setting it to *positive review* then.



---

archive/issue_comments_393573.json:
```json
{
    "body": "Changed branch from **[public/crypto/speedup_sbox-25633](https://github.com/sagemath/sagetrac-mirror/tree/public/crypto/speedup_sbox-25633)** to **[`9f79692`](https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54)**",
    "created_at": "2022-01-31T23:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393573",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/crypto/speedup_sbox-25633](https://github.com/sagemath/sagetrac-mirror/tree/public/crypto/speedup_sbox-25633)** to **[`9f79692`](https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54)**



---

archive/issue_events_351508.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-31T23:31:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351508"
}
```



---

archive/issue_events_351509.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7483aad48a944754a222d89c53ea20825a251525",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-01-31T23:31:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25633#event-351509"
}
```



---

archive/issue_comments_393574.json:
```json
{
    "body": "Changed commit from **[`9f79692`](https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54)** to none",
    "created_at": "2022-02-03T19:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393574",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`9f79692`](https://github.com/sagemath/sagetrac-mirror/commit/9f79692e7c40c10cef8fe208efa45e97392efe54)** to none



---

archive/issue_comments_393575.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nThis breaks the Cygwin build:\n\n```\n[ 74/529] gcc -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -DOPENSSL_NO_SSL3=1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/build=/usr/src/debug/python38-3.8.12-1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/src/Python-3.8.12=/usr/src/debug/python38-3.8.12-1 -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -DOPENSSL_NO_SSL3=1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/build=/usr/src/debug/python38-3.8.12-1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/src/Python-3.8.12=/usr/src/debug/python38-3.8.12-1 -g -O2 -I./sage/cpython -I/opt/sage-3c8073266a16294562cd0273556664c883917216/lib/python3.8/site-packages/cysignals -I/cygdrive/d/a/sage/sage/pkgs/sagemath-standard -I/usr/include/python3.8 -I/opt/sage-3c8073266a16294562cd0273556664c883917216/lib/python3.8/site-packages/numpy/core/include -Ibuild/cythonized -I/opt/sage-3c8073266a16294562cd0273556664c883917216/include -I/usr/include/python3.8 -c build/cythonized/sage/crypto/sbox.c -o build/temp.cygwin-3.3.4-x86_64-3.8/build/cythonized/sage/crypto/sbox.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -std=gnu99\ngcc -shared -Wl,--enable-auto-image-base -L/opt/sage-3c8073266a16294562cd0273556664c883917216/lib -Wl,-rpath,/opt/sage-3c8073266a16294562cd0273556664c883917216/lib -g -O2 build/temp.cygwin-3.3.4-x86_64-3.8/build/cythonized/sage/cpython/wrapperdescr.o -L/opt/sage-3c8073266a16294562cd0273556664c883917216/lib/python3.8/config -L/usr/lib -lpython3.8 -o build/lib.cygwin-3.3.4-x86_64-3.8/sage/cpython/wrapperdescr.cpython-38-x86_64-cygwin.dll\nIn file included from /usr/include/python3.8/unicodeobject.h:58,\n                 from /usr/include/python3.8/Python.h:97,\n                 from build/cythonized/sage/crypto/sbox.c:45:\nbuild/cythonized/sage/crypto/sbox.c:1642:13: error: expected identifier or \u2018(\u2019 before numeric constant\n 1642 |   PyObject *_S;\n      |             ^~\nIn file included from /usr/include/python3.8/pytime.h:6,\n                 from /usr/include/python3.8/Python.h:85,\n                 from build/cythonized/sage/crypto/sbox.c:45:\nbuild/cythonized/sage/crypto/sbox.c: In function \u2018__pyx_pf_4sage_6crypto_4sbox_4SBox___init__\u2019:\nbuild/cythonized/sage/crypto/sbox.c:4577:30: error: expected identifier before numeric constant\n 4577 |   __Pyx_DECREF(__pyx_v_self->_S);\n      |                              ^~\n```\nhttps://github.com/mkoeppe/sage/runs/5054706036?check_suite_focus=true",
    "created_at": "2022-02-03T19:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393575",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:72" align="right">comment:72</div>

This breaks the Cygwin build:

```
[ 74/529] gcc -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -DOPENSSL_NO_SSL3=1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/build=/usr/src/debug/python38-3.8.12-1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/src/Python-3.8.12=/usr/src/debug/python38-3.8.12-1 -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -DOPENSSL_NO_SSL3=1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/build=/usr/src/debug/python38-3.8.12-1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/src/Python-3.8.12=/usr/src/debug/python38-3.8.12-1 -g -O2 -I./sage/cpython -I/opt/sage-3c8073266a16294562cd0273556664c883917216/lib/python3.8/site-packages/cysignals -I/cygdrive/d/a/sage/sage/pkgs/sagemath-standard -I/usr/include/python3.8 -I/opt/sage-3c8073266a16294562cd0273556664c883917216/lib/python3.8/site-packages/numpy/core/include -Ibuild/cythonized -I/opt/sage-3c8073266a16294562cd0273556664c883917216/include -I/usr/include/python3.8 -c build/cythonized/sage/crypto/sbox.c -o build/temp.cygwin-3.3.4-x86_64-3.8/build/cythonized/sage/crypto/sbox.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -std=gnu99
gcc -shared -Wl,--enable-auto-image-base -L/opt/sage-3c8073266a16294562cd0273556664c883917216/lib -Wl,-rpath,/opt/sage-3c8073266a16294562cd0273556664c883917216/lib -g -O2 build/temp.cygwin-3.3.4-x86_64-3.8/build/cythonized/sage/cpython/wrapperdescr.o -L/opt/sage-3c8073266a16294562cd0273556664c883917216/lib/python3.8/config -L/usr/lib -lpython3.8 -o build/lib.cygwin-3.3.4-x86_64-3.8/sage/cpython/wrapperdescr.cpython-38-x86_64-cygwin.dll
In file included from /usr/include/python3.8/unicodeobject.h:58,
                 from /usr/include/python3.8/Python.h:97,
                 from build/cythonized/sage/crypto/sbox.c:45:
build/cythonized/sage/crypto/sbox.c:1642:13: error: expected identifier or ( before numeric constant
 1642 |   PyObject *_S;
      |             ^~
In file included from /usr/include/python3.8/pytime.h:6,
                 from /usr/include/python3.8/Python.h:85,
                 from build/cythonized/sage/crypto/sbox.c:45:
build/cythonized/sage/crypto/sbox.c: In function __pyx_pf_4sage_6crypto_4sbox_4SBox___init__:
build/cythonized/sage/crypto/sbox.c:4577:30: error: expected identifier before numeric constant
 4577 |   __Pyx_DECREF(__pyx_v_self->_S);
      |                              ^~
```
https://github.com/mkoeppe/sage/runs/5054706036?check_suite_focus=true



---

archive/issue_comments_393576.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nThis is likely from a clash with an unfortunately named macro from a system header file\n\n(see https://eigen.tuxfamily.org/bz/show_bug.cgi?id=658)",
    "created_at": "2022-02-03T19:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393576",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:73" align="right">comment:73</div>

This is likely from a clash with an unfortunately named macro from a system header file

(see https://eigen.tuxfamily.org/bz/show_bug.cgi?id=658)



---

archive/issue_comments_393577.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nShould I take care of fixing this?",
    "created_at": "2022-02-03T19:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393577",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:74" align="right">comment:74</div>

Should I take care of fixing this?



---

archive/issue_comments_393578.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nThat would be great. Since the ticket has already been closed, it would be best done in a follow-up ticket",
    "created_at": "2022-02-03T20:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393578",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:75" align="right">comment:75</div>

That would be great. Since the ticket has already been closed, it would be best done in a follow-up ticket



---

archive/issue_comments_393579.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nOk. I opened #33284 for this.",
    "created_at": "2022-02-03T20:06:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393579",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:76" align="right">comment:76</div>

Ok. I opened #33284 for this.



---

archive/issue_comments_393580.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nusage of six is no longer allowed. See #33350",
    "created_at": "2022-02-15T13:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25633",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25633#issuecomment-393580",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:77" align="right">comment:77</div>

usage of six is no longer allowed. See #33350
