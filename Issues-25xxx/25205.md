# Issue 25205: Hang in gcc while building python3 on Cygwin

archive/issues_024968.json:
```json
{
    "assignees": [],
    "body": "I experienced a strange indefinite hang in GCC while building Sage 8.2.rc3 from scratch on Cygwin.\n\nFrom exploring the logs, it seems this probably happened while linking `_ctypes.dll`. At least, that was the last thing in the logs when the hang occurred.  It might have been a different command just after.\n\nI attached to the hung process with strace but it didn't show anything, so it must have been in some kind of deadlock.  I killed the process before I got a chance to try attaching with gdb or doing any further exploration.\n\nAfter restarting the build it proceeded with no problems.  I've never seen this before, but after this build finishes I'm going to do it once more from scratch to confirm that it was a fluke.\n\nMost likely whatever happened is a bug in Cygwin and/or gcc.\n\nComponent: **porting: Cygwin**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25205_\n\n",
    "closed_at": "2021-03-10T15:12:09Z",
    "created_at": "2018-04-18T12:25:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Hang in gcc while building python3 on Cygwin",
    "type": "issue",
    "updated_at": "2021-03-10T15:12:09Z",
    "url": "https://github.com/sagemath/sage/issues/25205",
    "user": "https://github.com/embray"
}
```
I experienced a strange indefinite hang in GCC while building Sage 8.2.rc3 from scratch on Cygwin.

From exploring the logs, it seems this probably happened while linking `_ctypes.dll`. At least, that was the last thing in the logs when the hang occurred.  It might have been a different command just after.

I attached to the hung process with strace but it didn't show anything, so it must have been in some kind of deadlock.  I killed the process before I got a chance to try attaching with gdb or doing any further exploration.

After restarting the build it proceeded with no problems.  I've never seen this before, but after this build finishes I'm going to do it once more from scratch to confirm that it was a fluke.

Most likely whatever happened is a bug in Cygwin and/or gcc.

Component: **porting: Cygwin**

_Issue created by migration from https://trac.sagemath.org/ticket/25205_





---

archive/issue_events_348876.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-18T12:25:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
    "label_color": "000080",
    "label_name": "c: porting: cygwin",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348876"
}
```



---

archive/issue_events_348877.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-18T12:25:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348877"
}
```



---

archive/issue_events_348878.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-18T12:25:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348878"
}
```



---

archive/issue_events_348879.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-06T17:36:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348879"
}
```



---

archive/issue_events_348880.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-06T17:36:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348880"
}
```



---

archive/issue_events_348881.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-06T17:36:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348881"
}
```



---

archive/issue_comments_385377.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nErik, can we close ?",
    "created_at": "2020-09-13T06:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25205#issuecomment-385377",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">comment:2</div>

Erik, can we close ?



---

archive/issue_events_348882.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2021-03-10T15:12:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348882"
}
```



---

archive/issue_comments_385378.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI don't recall seeing this again since then.  Sage also works with the system Python from Cygwin which is becoming more and more common over building a Python for Sage.",
    "created_at": "2021-03-10T15:12:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25205#issuecomment-385378",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

I don't recall seeing this again since then.  Sage also works with the system Python from Cygwin which is becoming more and more common over building a Python for Sage.



---

archive/issue_events_348883.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2021-03-10T15:12:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348883"
}
```



---

archive/issue_events_348884.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2021-03-10T15:12:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25205",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25205#event-348884"
}
```
