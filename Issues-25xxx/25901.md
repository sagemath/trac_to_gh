# Issue 25901: Implement web basis elements of rings of SL_3 invariants, as in work of Kuperberg and Fomin-Pylyavskyy

archive/issues_025664.json:
```json
{
    "assignees": [],
    "body": "Implement various things to help study rings of SL_3 invariants, as in the paper by Fomin and Pylyavskyy, arXiv:1210.1888. In particular:\n* Calculate SL_3 invariant polynomial for a web.\n* Display a web based on the Khovanov-Kuperberg encoding of the web.\n\nCC:  @tscrim\n\nKeywords: **sagedays@icerm, web basis, cluster algebra, SL_3 invariants, Grassmannians**\n\nBranch/Commit: **[public/web_sl3_minimal](https://github.com/sagemath/sagetrac-mirror/tree/public/web_sl3_minimal) @ [8a67001](https://github.com/sagemath/sagetrac-mirror/commit/8a67001f79f6b9be6fc1ae047536d7a4b5dc4680)**\n\nAuthor: **V\u00e9ronique Bazier-Matte, Guillaume Douville, Hugh Thomas**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25901_\n\n",
    "created_at": "2018-07-22T22:35:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement web basis elements of rings of SL_3 invariants, as in work of Kuperberg and Fomin-Pylyavskyy",
    "type": "issue",
    "updated_at": "2022-08-31T05:25:02Z",
    "url": "https://github.com/sagemath/sage/issues/25901",
    "user": "https://github.com/hughrthomas"
}
```
Implement various things to help study rings of SL_3 invariants, as in the paper by Fomin and Pylyavskyy, arXiv:1210.1888. In particular:
* Calculate SL_3 invariant polynomial for a web.
* Display a web based on the Khovanov-Kuperberg encoding of the web.

CC:  @tscrim

Keywords: **sagedays@icerm, web basis, cluster algebra, SL_3 invariants, Grassmannians**

Branch/Commit: **[public/web_sl3_minimal](https://github.com/sagemath/sagetrac-mirror/tree/public/web_sl3_minimal) @ [8a67001](https://github.com/sagemath/sagetrac-mirror/commit/8a67001f79f6b9be6fc1ae047536d7a4b5dc4680)**

Author: **VÃ©ronique Bazier-Matte, Guillaume Douville, Hugh Thomas**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/25901_





---

archive/issue_events_357969.json:
```json
{
    "actor": "https://github.com/hughrthomas",
    "created_at": "2018-07-22T22:35:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357969"
}
```



---

archive/issue_events_357970.json:
```json
{
    "actor": "https://github.com/hughrthomas",
    "created_at": "2018-07-22T22:35:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357970"
}
```



---

archive/issue_events_357971.json:
```json
{
    "actor": "https://github.com/hughrthomas",
    "created_at": "2018-07-22T22:35:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357971"
}
```



---

archive/issue_events_357972.json:
```json
{
    "actor": "https://github.com/hughrthomas",
    "created_at": "2018-07-22T22:35:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357972"
}
```



---

archive/issue_comments_398269.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nsee #25173 for an implementation (warning: it's an attached file, not a branch) of some of the algorithms, including display.",
    "created_at": "2018-07-23T07:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398269",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:2" align="right">comment:2</div>

see #25173 for an implementation (warning: it's an attached file, not a branch) of some of the algorithms, including display.



---

archive/issue_comments_398270.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHi Martin, thanks for getting in touch, and thanks for sharing your code.  There isn't a whole lot of overlap with what we have done so far, since we have focussed on actually drawing the web as a planar graph (which is fiddly to do, but nice to have, I think) and calculating the web invariant (which we have made some efforts to do fast, so as to be able to calculate the invariant for reasonably large webs).\n\nI am very much open to advice or suggestions about what should be done about combining this code with yours and/or organizing this code for inclusion into Sage.\n\nI am attaching the current state of the files so people can see them at the Sagedays, even though they are not really in a state for public distribution yet.",
    "created_at": "2018-07-25T12:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398270",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:3" align="right">comment:3</div>

Hi Martin, thanks for getting in touch, and thanks for sharing your code.  There isn't a whole lot of overlap with what we have done so far, since we have focussed on actually drawing the web as a planar graph (which is fiddly to do, but nice to have, I think) and calculating the web invariant (which we have made some efforts to do fast, so as to be able to calculate the invariant for reasonably large webs).

I am very much open to advice or suggestions about what should be done about combining this code with yours and/or organizing this code for inclusion into Sage.

I am attaching the current state of the files so people can see them at the Sagedays, even though they are not really in a state for public distribution yet.



---

archive/issue_comments_398271.json:
```json
{
    "body": "Attachment: **[web-10.sage.gz](https://github.com/sagemath/sage/files/ticket25901/web-10.sage.gz)**",
    "created_at": "2018-07-25T12:02:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398271",
    "user": "https://github.com/hughrthomas"
}
```

Attachment: **[web-10.sage.gz](https://github.com/sagemath/sage/files/ticket25901/web-10.sage.gz)**



---

archive/issue_comments_398272.json:
```json
{
    "body": "Attachment: **[web-10.spyx.gz](https://github.com/sagemath/sage/files/ticket25901/web-10.spyx.gz)**",
    "created_at": "2018-07-25T12:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398272",
    "user": "https://github.com/hughrthomas"
}
```

Attachment: **[web-10.spyx.gz](https://github.com/sagemath/sage/files/ticket25901/web-10.spyx.gz)**



---

archive/issue_comments_398273.json:
```json
{
    "body": "Commit: **[2d8e7f2](https://github.com/sagemath/sagetrac-mirror/commit/2d8e7f20350ad84ddf911a53338f02aede124a74)**",
    "created_at": "2020-07-01T13:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398273",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[2d8e7f2](https://github.com/sagemath/sagetrac-mirror/commit/2d8e7f20350ad84ddf911a53338f02aede124a74)**



---

archive/issue_comments_398274.json:
```json
{
    "body": "Branch: **[public/web_sl3_minimal](https://github.com/sagemath/sagetrac-mirror/tree/public/web_sl3_minimal)**",
    "created_at": "2020-07-01T13:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398274",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[public/web_sl3_minimal](https://github.com/sagemath/sagetrac-mirror/tree/public/web_sl3_minimal)**



---

archive/issue_comments_398275.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nJ'ai fait une branche..\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d8e7f20350ad84ddf911a53338f02aede124a74\">2d8e7f2</a></td><td><code>a minimal branch for SL3 webs</code></td></tr></table>\n",
    "created_at": "2020-07-01T13:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398275",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

J'ai fait une branche..

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d8e7f20350ad84ddf911a53338f02aede124a74">2d8e7f2</a></td><td><code>a minimal branch for SL3 webs</code></td></tr></table>




---

archive/issue_comments_398276.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWhat would be a non-trivial example of input for the \"Web\" class ?",
    "created_at": "2020-07-01T13:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398276",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

What would be a non-trivial example of input for the "Web" class ?



---

archive/issue_comments_398277.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nInitState is an n-tuple of 0,1, or -1; InitColor is an n-tuple of 1 or -1. (The example input which uses [1,2,3,4] as the InitState doesn't make any sense.) \n\nNot every pair of n-tuples will work. The example on page 8 of https://arxiv.org/pdf/q-alg/9712046.pdf is \nInitState=(1,1,0,0,-1,0,-1), InitColor=(1,-1,1,-1,1,1,1).\n\nLet me mention that the code for calculating the invariant performs about as well as using the generic graph-colouring code which exists in Sage, so the calculation of the invariant should be rewritten to use that code.",
    "created_at": "2020-07-29T16:34:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398277",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:6" align="right">comment:6</div>

InitState is an n-tuple of 0,1, or -1; InitColor is an n-tuple of 1 or -1. (The example input which uses [1,2,3,4] as the InitState doesn't make any sense.) 

Not every pair of n-tuples will work. The example on page 8 of https://arxiv.org/pdf/q-alg/9712046.pdf is 
InitState=(1,1,0,0,-1,0,-1), InitColor=(1,-1,1,-1,1,1,1).

Let me mention that the code for calculating the invariant performs about as well as using the generic graph-colouring code which exists in Sage, so the calculation of the invariant should be rewritten to use that code.



---

archive/issue_comments_398278.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI'd recommend to add documentation like this to the docstrings...",
    "created_at": "2020-07-29T17:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398278",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

I'd recommend to add documentation like this to the docstrings...



---

archive/issue_comments_398279.json:
```json
{
    "body": "Changed commit from **[2d8e7f2](https://github.com/sagemath/sagetrac-mirror/commit/2d8e7f20350ad84ddf911a53338f02aede124a74)** to **[8a67001](https://github.com/sagemath/sagetrac-mirror/commit/8a67001f79f6b9be6fc1ae047536d7a4b5dc4680)**",
    "created_at": "2020-08-27T16:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398279",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2d8e7f2](https://github.com/sagemath/sagetrac-mirror/commit/2d8e7f20350ad84ddf911a53338f02aede124a74)** to **[8a67001](https://github.com/sagemath/sagetrac-mirror/commit/8a67001f79f6b9be6fc1ae047536d7a4b5dc4680)**



---

archive/issue_comments_398280.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f1b1669c9f0388f795a1e229d916ad0c74eb178\">0f1b166</a></td><td><code>a minimal branch for SL3 webs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a67001f79f6b9be6fc1ae047536d7a4b5dc4680\">8a67001</a></td><td><code>various fixes, more doctests</code></td></tr></table>\n",
    "created_at": "2020-08-27T16:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398280",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f1b1669c9f0388f795a1e229d916ad0c74eb178">0f1b166</a></td><td><code>a minimal branch for SL3 webs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a67001f79f6b9be6fc1ae047536d7a4b5dc4680">8a67001</a></td><td><code>various fixes, more doctests</code></td></tr></table>




---

archive/issue_events_357973.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T16:45:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357973"
}
```



---

archive/issue_events_357974.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T16:45:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357974"
}
```



---

archive/issue_events_357975.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357975"
}
```



---

archive/issue_events_357976.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357976"
}
```



---

archive/issue_comments_398281.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25901#issuecomment-398281",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_357977.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357977"
}
```



---

archive/issue_events_357978.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357978"
}
```



---

archive/issue_events_357979.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357979"
}
```



---

archive/issue_events_357980.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357980"
}
```



---

archive/issue_events_357981.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357981"
}
```



---

archive/issue_events_357982.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357982"
}
```



---

archive/issue_events_357983.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357983"
}
```



---

archive/issue_events_357984.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357984"
}
```



---

archive/issue_events_357985.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357985"
}
```



---

archive/issue_events_357986.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25901",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25901#event-357986"
}
```
