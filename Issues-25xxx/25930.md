# Issue 25930: implementation of different basis of WQSym

archive/issues_025693.json:
```json
{
    "body": "This ticket is created to implement different basis of WQSym defined by Yannic Vargas  (F, G, E, H...) for the autoduality of WQSym.\n\nCC:  @tscrim @darijgr @zabrocki @alauve amypang hmlodecki fhivert vivianepons @embray @fchapoton @mantepse\n\nKeywords: sagedays@icerm, packed words, ordered set partition, CHAs, WQSym,\n\nAuthor: Hugo Mlodecki\n\nBranch: public/combinat/implementation_of_different_basis_of_wqsym-25930\n\nStatus: new\n\nDependencies: #25916\n\nCommit: 5d7004c812041c89efbf9d4186d5bb8970cdd575\n\nIssue created by migration from https://trac.sagemath.org/ticket/25930\n\n",
    "created_at": "2018-07-25T21:25:17Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "implementation of different basis of WQSym",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25930",
    "user": "https://trac.sagemath.org/admin/accounts/users/hmlodecki"
}
```
This ticket is created to implement different basis of WQSym defined by Yannic Vargas  (F, G, E, H...) for the autoduality of WQSym.

CC:  @tscrim @darijgr @zabrocki @alauve amypang hmlodecki fhivert vivianepons @embray @fchapoton @mantepse

Keywords: sagedays@icerm, packed words, ordered set partition, CHAs, WQSym,

Author: Hugo Mlodecki

Branch: public/combinat/implementation_of_different_basis_of_wqsym-25930

Status: new

Dependencies: #25916

Commit: 5d7004c812041c89efbf9d4186d5bb8970cdd575

Issue created by migration from https://trac.sagemath.org/ticket/25930





---

archive/issue_comments_497977.json:
```json
{
    "body": "Changing branch from \"\" to \"public/combinat/implementation_of_different_basis_of_WQSym_25930\"",
    "created_at": "2019-01-17T15:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497977",
    "user": "https://trac.sagemath.org/admin/accounts/users/hmlodecki"
}
```

Changing branch from "" to "public/combinat/implementation_of_different_basis_of_WQSym_25930"



---

archive/issue_comments_497978.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe first thing I'm going to do is split the `wqsym` file into several files because there will be too many different bases after that.",
    "created_at": "2019-01-17T15:22:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497978",
    "user": "https://trac.sagemath.org/admin/accounts/users/hmlodecki"
}
```

<a id='comment:2'></a>
The first thing I'm going to do is split the `wqsym` file into several files because there will be too many different bases after that.



---

archive/issue_comments_497979.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [hmlodecki](#comment%3A2):\n> The first thing I'm going to do is split the `wqsym` file into several files because there will be too many different bases after that.\n\n\nI might consider thinking a little more on that. If the various bases do not require a lot of code, then the file might still remain (relatively) small. Having one file makes maintenance a little easier by having the code (and hence the documentation) more localized. I am not saying you shouldn't, but just that it might be better to see about splitting it after you add the additional bases.",
    "created_at": "2019-01-17T16:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497979",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
Replying to [hmlodecki](#comment%3A2):
> The first thing I'm going to do is split the `wqsym` file into several files because there will be too many different bases after that.


I might consider thinking a little more on that. If the various bases do not require a lot of code, then the file might still remain (relatively) small. Having one file makes maintenance a little easier by having the code (and hence the documentation) more localized. I am not saying you shouldn't, but just that it might be better to see about splitting it after you add the additional bases.



---

archive/issue_comments_497980.json:
```json
{
    "body": "Changing branch from \"public/combinat/implementation_of_different_basis_of_WQSym_25930\" to \"\"",
    "created_at": "2019-01-17T17:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497980",
    "user": "https://trac.sagemath.org/admin/accounts/users/hmlodecki"
}
```

Changing branch from "public/combinat/implementation_of_different_basis_of_WQSym_25930" to ""



---

archive/issue_comments_497981.json:
```json
{
    "body": "Changing branch from \"\" to \"u/hmlodecki/implementation_of_different_basis_of_wqsym\"",
    "created_at": "2019-01-17T17:16:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497981",
    "user": "https://trac.sagemath.org/admin/accounts/users/hmlodecki"
}
```

Changing branch from "" to "u/hmlodecki/implementation_of_different_basis_of_wqsym"



---

archive/issue_comments_497982.json:
```json
{
    "body": "Changing commit from \"\" to \"3cf17b53506fba006f4e80ffb5d659a6bccb437f\"",
    "created_at": "2019-01-17T17:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497982",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "3cf17b53506fba006f4e80ffb5d659a6bccb437f"



---

archive/issue_comments_497983.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[d0d06a2](https://git.sagemath.org/sage.git/commit/?id=d0d06a25d5828534fcba389d4991eb319012c37e)|`inversions() doc`|\n|[56dbe3a](https://git.sagemath.org/sage.git/commit/?id=56dbe3a985c087d18b242e2c33ada5c4ffc6167e)|`fix input:`|\n|[05f06c3](https://git.sagemath.org/sage.git/commit/?id=05f06c3f5b8751a55be28e001fb4a75b05b283e8)|`fix random test`|\n|[ca1438b](https://git.sagemath.org/sage.git/commit/?id=ca1438bbadb084672a06a9753fa4151a30519c3c)|`added __iter__ to PackedWords_all`|\n|[0ecf0a5](https://git.sagemath.org/sage.git/commit/?id=0ecf0a552850ec4ec4e0294504d1a48059d9618a)|`Merge branch 'public/combinat/implement_Packed_Words_25916' in 8.6.b0`|\n|[30defef](https://git.sagemath.org/sage.git/commit/?id=30defef89990dbe6867bdaac410adfa567f76814)|`Merge branch 'develop' into public/combinat/implement_Packed_Words_25916`|\n|[3077364](https://git.sagemath.org/sage.git/commit/?id=30773647b34e0883867d64673b86a122b48d0636)|`implement packed words as ParentWithSetFactory`|\n|[6a847db](https://git.sagemath.org/sage.git/commit/?id=6a847dba32a90e33c6d07f0e038ee7cec9cbb8e5)|`fix most of doctests`|\n|[1956452](https://git.sagemath.org/sage.git/commit/?id=1956452eb214f11b128bef3998b7f63dada94f14)|`fix doc tests`|\n|[3cf17b5](https://git.sagemath.org/sage.git/commit/?id=3cf17b53506fba006f4e80ffb5d659a6bccb437f)|`Merge branch 'public/combinat/implement_Packed_Words_25916' into t/25930/implementation_of_different_basis_of_wqsym`|",
    "created_at": "2019-01-17T17:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497983",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[d0d06a2](https://git.sagemath.org/sage.git/commit/?id=d0d06a25d5828534fcba389d4991eb319012c37e)|`inversions() doc`|
|[56dbe3a](https://git.sagemath.org/sage.git/commit/?id=56dbe3a985c087d18b242e2c33ada5c4ffc6167e)|`fix input:`|
|[05f06c3](https://git.sagemath.org/sage.git/commit/?id=05f06c3f5b8751a55be28e001fb4a75b05b283e8)|`fix random test`|
|[ca1438b](https://git.sagemath.org/sage.git/commit/?id=ca1438bbadb084672a06a9753fa4151a30519c3c)|`added __iter__ to PackedWords_all`|
|[0ecf0a5](https://git.sagemath.org/sage.git/commit/?id=0ecf0a552850ec4ec4e0294504d1a48059d9618a)|`Merge branch 'public/combinat/implement_Packed_Words_25916' in 8.6.b0`|
|[30defef](https://git.sagemath.org/sage.git/commit/?id=30defef89990dbe6867bdaac410adfa567f76814)|`Merge branch 'develop' into public/combinat/implement_Packed_Words_25916`|
|[3077364](https://git.sagemath.org/sage.git/commit/?id=30773647b34e0883867d64673b86a122b48d0636)|`implement packed words as ParentWithSetFactory`|
|[6a847db](https://git.sagemath.org/sage.git/commit/?id=6a847dba32a90e33c6d07f0e038ee7cec9cbb8e5)|`fix most of doctests`|
|[1956452](https://git.sagemath.org/sage.git/commit/?id=1956452eb214f11b128bef3998b7f63dada94f14)|`fix doc tests`|
|[3cf17b5](https://git.sagemath.org/sage.git/commit/?id=3cf17b53506fba006f4e80ffb5d659a6bccb437f)|`Merge branch 'public/combinat/implement_Packed_Words_25916' into t/25930/implementation_of_different_basis_of_wqsym`|



---

archive/issue_comments_497984.json:
```json
{
    "body": "Changing commit from \"3cf17b53506fba006f4e80ffb5d659a6bccb437f\" to \"85b27b40511cb87df7fd64fddfe510d1f28c6c64\"",
    "created_at": "2019-01-18T14:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497984",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3cf17b53506fba006f4e80ffb5d659a6bccb437f" to "85b27b40511cb87df7fd64fddfe510d1f28c6c64"



---

archive/issue_comments_497985.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[85b27b4](https://git.sagemath.org/sage.git/commit/?id=85b27b40511cb87df7fd64fddfe510d1f28c6c64)|`just a little work here..`|",
    "created_at": "2019-01-18T14:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497985",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[85b27b4](https://git.sagemath.org/sage.git/commit/?id=85b27b40511cb87df7fd64fddfe510d1f28c6c64)|`just a little work here..`|



---

archive/issue_comments_497986.json:
```json
{
    "body": "Changing commit from \"85b27b40511cb87df7fd64fddfe510d1f28c6c64\" to \"3f01341dd4b10ac209b4b87b5dfe783446ce684d\"",
    "created_at": "2019-01-21T17:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497986",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "85b27b40511cb87df7fd64fddfe510d1f28c6c64" to "3f01341dd4b10ac209b4b87b5dfe783446ce684d"



---

archive/issue_comments_497987.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[3f01341](https://git.sagemath.org/sage.git/commit/?id=3f01341dd4b10ac209b4b87b5dfe783446ce684d)|`maj H dans wqsym`|",
    "created_at": "2019-01-21T17:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497987",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[3f01341](https://git.sagemath.org/sage.git/commit/?id=3f01341dd4b10ac209b4b87b5dfe783446ce684d)|`maj H dans wqsym`|



---

archive/issue_comments_497988.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[e0bff78](https://git.sagemath.org/sage.git/commit/?id=e0bff78d7519a857ac1da05d30bd46bbddbb08aa)|`maj of H base`|\n|[41f4f1f](https://git.sagemath.org/sage.git/commit/?id=41f4f1fda6f90f9a998b671b0cc41552039e6bf8)|`find a proplem of complexity...`|\n|[a553c51](https://git.sagemath.org/sage.git/commit/?id=a553c510f73c900b5584c6ce5c25d8c795723158)|`correction of Q_to_H morphism`|",
    "created_at": "2019-01-28T15:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[e0bff78](https://git.sagemath.org/sage.git/commit/?id=e0bff78d7519a857ac1da05d30bd46bbddbb08aa)|`maj of H base`|
|[41f4f1f](https://git.sagemath.org/sage.git/commit/?id=41f4f1fda6f90f9a998b671b0cc41552039e6bf8)|`find a proplem of complexity...`|
|[a553c51](https://git.sagemath.org/sage.git/commit/?id=a553c510f73c900b5584c6ce5c25d8c795723158)|`correction of Q_to_H morphism`|



---

archive/issue_comments_497989.json:
```json
{
    "body": "Changing commit from \"3f01341dd4b10ac209b4b87b5dfe783446ce684d\" to \"a553c510f73c900b5584c6ce5c25d8c795723158\"",
    "created_at": "2019-01-28T15:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497989",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3f01341dd4b10ac209b4b87b5dfe783446ce684d" to "a553c510f73c900b5584c6ce5c25d8c795723158"



---

archive/issue_comments_497990.json:
```json
{
    "body": "Changing branch from \"u/hmlodecki/implementation_of_different_basis_of_wqsym\" to \"public/combinat/implementation_of_different_basis_of_wqsym-25930\"",
    "created_at": "2019-01-31T23:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497990",
    "user": "https://github.com/alauve"
}
```

Changing branch from "u/hmlodecki/implementation_of_different_basis_of_wqsym" to "public/combinat/implementation_of_different_basis_of_wqsym-25930"



---

archive/issue_comments_497991.json:
```json
{
    "body": "<a id='comment:10'></a>\nMade branch public. (I hope I did this correctly.)",
    "created_at": "2019-01-31T23:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497991",
    "user": "https://github.com/alauve"
}
```

<a id='comment:10'></a>
Made branch public. (I hope I did this correctly.)



---

archive/issue_comments_497992.json:
```json
{
    "body": "<a id='comment:11'></a>\nOh, I see it probably wasn't yet meant for public consumption. My apologies!\nLet me know, Hugo, where I can help.",
    "created_at": "2019-01-31T23:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497992",
    "user": "https://github.com/alauve"
}
```

<a id='comment:11'></a>
Oh, I see it probably wasn't yet meant for public consumption. My apologies!
Let me know, Hugo, where I can help.



---

archive/issue_comments_497993.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe only difference between a public branch and a trac-name branch is that anyone can push to a public. Otherwise they can pull and then set their own branch here.",
    "created_at": "2019-01-31T23:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497993",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
The only difference between a public branch and a trac-name branch is that anyone can push to a public. Otherwise they can pull and then set their own branch here.



---

archive/issue_comments_497994.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [alauve](#comment%3A11):\n> Oh, I see it probably wasn't yet meant for public consumption. My apologies!\n> Let me know, Hugo, where I can help.\n\n\n\nFor now I'm steel working on having a first correct base, I've chosen the H basis, but I'm confronted to some complexity issues that I think is due to the convertions into `PackedWords`...\nI have a lot of comments in french but the main problem is that in this version there is this test \n\n```\nsage: t0 = time.time(); m4HQ = matr_chgmt_base_osp(H,Q,4); print time.time() - t0; m4QH = matr_chgm\n....: t_base_osp(Q,H,4); print time.time() - t0\n16.4242839813\n51.6398468018\n```\nand in my personel version where I've impleted WQSym on `Packed Words` I have these times :\n\n```\nsage: t0 = time.time(); m4HQ = matr_chgmt_base_pw(GL,L,4); print\n....:  time.time() - t0; m4QH = matr_chgmt_base_pw(L,GL,4); prin\n....: t time.time() - t0\n6.23473000526\n13.2976300716\n```\n\nI do not really know how to get around the problem...",
    "created_at": "2019-02-01T15:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497994",
    "user": "https://trac.sagemath.org/admin/accounts/users/hmlodecki"
}
```

<a id='comment:13'></a>
Replying to [alauve](#comment%3A11):
> Oh, I see it probably wasn't yet meant for public consumption. My apologies!
> Let me know, Hugo, where I can help.



For now I'm steel working on having a first correct base, I've chosen the H basis, but I'm confronted to some complexity issues that I think is due to the convertions into `PackedWords`...
I have a lot of comments in french but the main problem is that in this version there is this test 

```
sage: t0 = time.time(); m4HQ = matr_chgmt_base_osp(H,Q,4); print time.time() - t0; m4QH = matr_chgm
....: t_base_osp(Q,H,4); print time.time() - t0
16.4242839813
51.6398468018
```
and in my personel version where I've impleted WQSym on `Packed Words` I have these times :

```
sage: t0 = time.time(); m4HQ = matr_chgmt_base_pw(GL,L,4); print
....:  time.time() - t0; m4QH = matr_chgmt_base_pw(L,GL,4); prin
....: t time.time() - t0
6.23473000526
13.2976300716
```

I do not really know how to get around the problem...



---

archive/issue_comments_497995.json:
```json
{
    "body": "<a id='comment:14'></a>\nDo you suppose this is coming from the fact that you cannot simply write \"unitriangular=true\" in the change of basis code to setup the inverse change-of-basis? (For those unaware, the ordering used for PackedWords is different from the ordering on set compositions... at least, for the standard bijection between the two.)\n\nOr do you think it is a different problem?\n\nHow about adding a ``@`cached_method` flag?",
    "created_at": "2019-02-04T14:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497995",
    "user": "https://github.com/alauve"
}
```

<a id='comment:14'></a>
Do you suppose this is coming from the fact that you cannot simply write "unitriangular=true" in the change of basis code to setup the inverse change-of-basis? (For those unaware, the ordering used for PackedWords is different from the ordering on set compositions... at least, for the standard bijection between the two.)

Or do you think it is a different problem?

How about adding a ``@`cached_method` flag?



---

archive/issue_comments_497996.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [alauve](#comment%3A14):\n> Do you suppose this is coming from the fact that you cannot simply write \"unitriangular=true\" in the change of basis code to setup the inverse change-of-basis? (For those unaware, the ordering used for `PackedWords` is different from the ordering on set compositions... at least, for the standard bijection between the two.)\n> \n> Or do you think it is a different problem?\n> \n> How about adding a ``@`cached_method` flag?\n\n\n\nI thought my method was cached but you are right, it was only this... Thank you for suggesting it!\nDo you think this solution of `new_rank` is a good solution ?",
    "created_at": "2019-02-04T15:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497996",
    "user": "https://trac.sagemath.org/admin/accounts/users/hmlodecki"
}
```

<a id='comment:15'></a>
Replying to [alauve](#comment%3A14):
> Do you suppose this is coming from the fact that you cannot simply write "unitriangular=true" in the change of basis code to setup the inverse change-of-basis? (For those unaware, the ordering used for `PackedWords` is different from the ordering on set compositions... at least, for the standard bijection between the two.)
> 
> Or do you think it is a different problem?
> 
> How about adding a ``@`cached_method` flag?



I thought my method was cached but you are right, it was only this... Thank you for suggesting it!
Do you think this solution of `new_rank` is a good solution ?



---

archive/issue_comments_497997.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [hmlodecki](#comment%3A15):\n> \n> I thought my method was cached but you are right, it was only this... Thank you for suggesting it!\n> Do you think this solution of `new_rank` is a good solution ?\n\n\nI thought it was a great idea! Yet, it didn't give you much speedup? \nIn your original code (implemented with packed words), do you have the change of basis method cached or not?\n\nPerhaps it would be good to use `%prun` or `runsnake` to see where most of the time is being spent? ([Profiling](http://doc.sagemath.org/html/en/thematic_tutorials/profiling.html))",
    "created_at": "2019-02-04T15:50:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497997",
    "user": "https://github.com/alauve"
}
```

<a id='comment:16'></a>
Replying to [hmlodecki](#comment%3A15):
> 
> I thought my method was cached but you are right, it was only this... Thank you for suggesting it!
> Do you think this solution of `new_rank` is a good solution ?


I thought it was a great idea! Yet, it didn't give you much speedup? 
In your original code (implemented with packed words), do you have the change of basis method cached or not?

Perhaps it would be good to use `%prun` or `runsnake` to see where most of the time is being spent? ([Profiling](http://doc.sagemath.org/html/en/thematic_tutorials/profiling.html))



---

archive/issue_comments_497998.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[8c23bbe](https://git.sagemath.org/sage.git/commit/?id=8c23bbe76dfc71ab40fa1ec77646570381a75a0f)|`add a simple comment...`|\n|[1677722](https://git.sagemath.org/sage.git/commit/?id=16777226c48cb00560ea5ae9dac89c99dcfbed2a)|`chached method`|\n|[3b8020e](https://git.sagemath.org/sage.git/commit/?id=3b8020e9b5adce9735a14e333d2968f974da4753)|` H to M`|\n|[babac73](https://git.sagemath.org/sage.git/commit/?id=babac73816c770eacb46ed4fe09215e1496f05c7)|`elementaire basis`|",
    "created_at": "2019-02-13T11:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497998",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[8c23bbe](https://git.sagemath.org/sage.git/commit/?id=8c23bbe76dfc71ab40fa1ec77646570381a75a0f)|`add a simple comment...`|
|[1677722](https://git.sagemath.org/sage.git/commit/?id=16777226c48cb00560ea5ae9dac89c99dcfbed2a)|`chached method`|
|[3b8020e](https://git.sagemath.org/sage.git/commit/?id=3b8020e9b5adce9735a14e333d2968f974da4753)|` H to M`|
|[babac73](https://git.sagemath.org/sage.git/commit/?id=babac73816c770eacb46ed4fe09215e1496f05c7)|`elementaire basis`|



---

archive/issue_comments_497999.json:
```json
{
    "body": "Changing commit from \"a553c510f73c900b5584c6ce5c25d8c795723158\" to \"babac73816c770eacb46ed4fe09215e1496f05c7\"",
    "created_at": "2019-02-13T11:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-497999",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a553c510f73c900b5584c6ce5c25d8c795723158" to "babac73816c770eacb46ed4fe09215e1496f05c7"



---

archive/issue_comments_498000.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[95c634f](https://git.sagemath.org/sage.git/commit/?id=95c634feb30ceda39fb8faa65ed590b37d8f5b72)|`rightweakorder basis`|\n|[06df3d7](https://git.sagemath.org/sage.git/commit/?id=06df3d797727bdbefd57d0051a001e72a899b7ed)|`add of two basis, duals of elementairs and homogeneous`|",
    "created_at": "2019-02-27T16:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-498000",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[95c634f](https://git.sagemath.org/sage.git/commit/?id=95c634feb30ceda39fb8faa65ed590b37d8f5b72)|`rightweakorder basis`|
|[06df3d7](https://git.sagemath.org/sage.git/commit/?id=06df3d797727bdbefd57d0051a001e72a899b7ed)|`add of two basis, duals of elementairs and homogeneous`|



---

archive/issue_comments_498001.json:
```json
{
    "body": "Changing commit from \"babac73816c770eacb46ed4fe09215e1496f05c7\" to \"06df3d797727bdbefd57d0051a001e72a899b7ed\"",
    "created_at": "2019-02-27T16:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-498001",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "babac73816c770eacb46ed4fe09215e1496f05c7" to "06df3d797727bdbefd57d0051a001e72a899b7ed"



---

archive/issue_comments_498002.json:
```json
{
    "body": "Changing commit from \"06df3d797727bdbefd57d0051a001e72a899b7ed\" to \"9e451674a7ae6d84bd337513d4206472aa4cafaa\"",
    "created_at": "2020-03-18T13:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-498002",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "06df3d797727bdbefd57d0051a001e72a899b7ed" to "9e451674a7ae6d84bd337513d4206472aa4cafaa"



---

archive/issue_comments_498003.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[9e45167](https://git.sagemath.org/sage.git/commit/?id=9e451674a7ae6d84bd337513d4206472aa4cafaa)|`Merge branch 'develop' into implementation_of_different_basis_of_wqsym`|",
    "created_at": "2020-03-18T13:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-498003",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[9e45167](https://git.sagemath.org/sage.git/commit/?id=9e451674a7ae6d84bd337513d4206472aa4cafaa)|`Merge branch 'develop' into implementation_of_different_basis_of_wqsym`|



---

archive/issue_comments_498004.json:
```json
{
    "body": "Changing commit from \"9e451674a7ae6d84bd337513d4206472aa4cafaa\" to \"5d7004c812041c89efbf9d4186d5bb8970cdd575\"",
    "created_at": "2020-03-18T13:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-498004",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9e451674a7ae6d84bd337513d4206472aa4cafaa" to "5d7004c812041c89efbf9d4186d5bb8970cdd575"



---

archive/issue_comments_498005.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[50ceddb](https://git.sagemath.org/sage.git/commit/?id=50ceddbc5e85942cf7ca20c12d06067142014561)|`some comment updated`|\n|[7864e1b](https://git.sagemath.org/sage.git/commit/?id=7864e1bc33132a0627833b6c5f5b05ca3191f576)|`improved some doc`|\n|[8d03824](https://git.sagemath.org/sage.git/commit/?id=8d03824d96348f37f5247dd450cf63a0bd2e8c1f)|`correct add_constraints`|\n|[3e1b500](https://git.sagemath.org/sage.git/commit/?id=3e1b50079ec5c9a1d03fc5ac7e508669941a9038)|`remove uniq`|\n|[f07c2fc](https://git.sagemath.org/sage.git/commit/?id=f07c2fc6e84a45b9b25337fc272aa3456d824f0d)|`Merge branch 'develop' into public/combinat/implement_Packed_Words_25916`|\n|[e941d18](https://git.sagemath.org/sage.git/commit/?id=e941d18b4cc79f4e2dfa9ff28caf539a311a7b40)|`fix doc in packed words`|\n|[87e0832](https://git.sagemath.org/sage.git/commit/?id=87e0832189ebeb245f0b683a98852c2a95a90f99)|`Merge branch 'develop' into implement_Packed_Words`|\n|[5d7004c](https://git.sagemath.org/sage.git/commit/?id=5d7004c812041c89efbf9d4186d5bb8970cdd575)|`Merge branch 'implement_Packed_Words' into implementation_of_different_basis_of_wqsym`|",
    "created_at": "2020-03-18T13:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25930#issuecomment-498005",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[50ceddb](https://git.sagemath.org/sage.git/commit/?id=50ceddbc5e85942cf7ca20c12d06067142014561)|`some comment updated`|
|[7864e1b](https://git.sagemath.org/sage.git/commit/?id=7864e1bc33132a0627833b6c5f5b05ca3191f576)|`improved some doc`|
|[8d03824](https://git.sagemath.org/sage.git/commit/?id=8d03824d96348f37f5247dd450cf63a0bd2e8c1f)|`correct add_constraints`|
|[3e1b500](https://git.sagemath.org/sage.git/commit/?id=3e1b50079ec5c9a1d03fc5ac7e508669941a9038)|`remove uniq`|
|[f07c2fc](https://git.sagemath.org/sage.git/commit/?id=f07c2fc6e84a45b9b25337fc272aa3456d824f0d)|`Merge branch 'develop' into public/combinat/implement_Packed_Words_25916`|
|[e941d18](https://git.sagemath.org/sage.git/commit/?id=e941d18b4cc79f4e2dfa9ff28caf539a311a7b40)|`fix doc in packed words`|
|[87e0832](https://git.sagemath.org/sage.git/commit/?id=87e0832189ebeb245f0b683a98852c2a95a90f99)|`Merge branch 'develop' into implement_Packed_Words`|
|[5d7004c](https://git.sagemath.org/sage.git/commit/?id=5d7004c812041c89efbf9d4186d5bb8970cdd575)|`Merge branch 'implement_Packed_Words' into implementation_of_different_basis_of_wqsym`|
