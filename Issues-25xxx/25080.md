# Issue 25080: code for Cartesian factorization of posets

archive/issues_024843.json:
```json
{
    "assignees": [],
    "body": "as a very useful tool to have\n\n\nCC:  @jm58660\n\nBranch/Commit: **[6ad6d44](https://github.com/sagemath/sagetrac-mirror/commit/6ad6d4400abe1e32812683da1a8301283bdb199c)**\n\nReviewer: **Jori M\u00e4ntysalo**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25080_\n\n",
    "closed_at": "2018-05-12T11:46:31Z",
    "created_at": "2018-04-02T15:34:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "code for Cartesian factorization of posets",
    "type": "issue",
    "updated_at": "2018-05-12T11:46:31Z",
    "url": "https://github.com/sagemath/sage/issues/25080",
    "user": "https://github.com/fchapoton"
}
```
as a very useful tool to have


CC:  @jm58660

Branch/Commit: **[6ad6d44](https://github.com/sagemath/sagetrac-mirror/commit/6ad6d4400abe1e32812683da1a8301283bdb199c)**

Reviewer: **Jori Mäntysalo**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/25080_





---

archive/issue_events_317055.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-02T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317055"
}
```



---

archive/issue_events_317056.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-02T15:34:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317056"
}
```



---

archive/issue_events_317057.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-02T15:34:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317057"
}
```



---

archive/issue_events_317058.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-02T15:34:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317058"
}
```



---

archive/issue_comments_385008.json:
```json
{
    "body": "Branch: **[u/chapoton/25080](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25080)**",
    "created_at": "2018-04-02T15:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385008",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/25080](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25080)**



---

archive/issue_comments_385009.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n as a very useful tool to have\n+\n``````\n",
    "created_at": "2018-04-02T15:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385009",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
 as a very useful tool to have
+
``````




---

archive/issue_comments_385010.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaafd6a148397470a9cb6350b50991fc4b8b1e85\">aaafd6a</a></td><td><code>code for cartesian factorisation of posets</code></td></tr></table>\n",
    "created_at": "2018-04-02T15:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385010",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaafd6a148397470a9cb6350b50991fc4b8b1e85">aaafd6a</a></td><td><code>code for cartesian factorisation of posets</code></td></tr></table>




---

archive/issue_comments_385011.json:
```json
{
    "body": "Commit: **[aaafd6a](https://github.com/sagemath/sagetrac-mirror/commit/aaafd6a148397470a9cb6350b50991fc4b8b1e85)**",
    "created_at": "2018-04-02T15:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385011",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[aaafd6a](https://github.com/sagemath/sagetrac-mirror/commit/aaafd6a148397470a9cb6350b50991fc4b8b1e85)**



---

archive/issue_events_317059.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-02T15:35:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317059"
}
```



---

archive/issue_comments_385012.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1d1276ec1309b296a312bfc8cbc587d1981b947\">e1d1276</a></td><td><code>adding doi</code></td></tr></table>\n",
    "created_at": "2018-04-02T16:01:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385012",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1d1276ec1309b296a312bfc8cbc587d1981b947">e1d1276</a></td><td><code>adding doi</code></td></tr></table>




---

archive/issue_comments_385013.json:
```json
{
    "body": "Changed commit from **[aaafd6a](https://github.com/sagemath/sagetrac-mirror/commit/aaafd6a148397470a9cb6350b50991fc4b8b1e85)** to **[e1d1276](https://github.com/sagemath/sagetrac-mirror/commit/e1d1276ec1309b296a312bfc8cbc587d1981b947)**",
    "created_at": "2018-04-02T16:01:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385013",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[aaafd6a](https://github.com/sagemath/sagetrac-mirror/commit/aaafd6a148397470a9cb6350b50991fc4b8b1e85)** to **[e1d1276](https://github.com/sagemath/sagetrac-mirror/commit/e1d1276ec1309b296a312bfc8cbc587d1981b947)**



---

archive/issue_events_317060.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2018-04-02T17:58:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317060"
}
```



---

archive/issue_events_317061.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2018-04-02T17:58:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317061"
}
```



---

archive/issue_comments_385014.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nFails with disconnected posets, see `posets.AntichainPoset(4).factorize()`. Works with the empty poset, but a test for the corner case would be nice.\n\nMaybe this is the best name for this function; however, what will be the name for the converse of ordinal product?\n\nI think that a factor of a lattice is always a lattice. Or is it? Got to think about this later.\n\nE: Also, a test where the underlying undirected graph can be factorized, but the poset can not, would be nice.",
    "created_at": "2018-04-02T17:58:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385014",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:3'>Comment 3:</a>
Fails with disconnected posets, see `posets.AntichainPoset(4).factorize()`. Works with the empty poset, but a test for the corner case would be nice.

Maybe this is the best name for this function; however, what will be the name for the converse of ordinal product?

I think that a factor of a lattice is always a lattice. Or is it? Got to think about this later.

E: Also, a test where the underlying undirected graph can be factorized, but the poset can not, would be nice.



---

archive/issue_comments_385015.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nWrong indentation in the reference, i.e. may break Sphinx.",
    "created_at": "2018-04-02T18:04:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385015",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'>Comment 4:</a>
Wrong indentation in the reference, i.e. may break Sphinx.



---

archive/issue_comments_385016.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5e9234572681e19ede6a4e4dfbbd510996c09b5\">c5e9234</a></td><td><code>trac 25080 adding check that poset is connected</code></td></tr></table>\n",
    "created_at": "2018-04-02T19:00:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385016",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5e9234572681e19ede6a4e4dfbbd510996c09b5">c5e9234</a></td><td><code>trac 25080 adding check that poset is connected</code></td></tr></table>




---

archive/issue_comments_385017.json:
```json
{
    "body": "Changed commit from **[e1d1276](https://github.com/sagemath/sagetrac-mirror/commit/e1d1276ec1309b296a312bfc8cbc587d1981b947)** to **[c5e9234](https://github.com/sagemath/sagetrac-mirror/commit/c5e9234572681e19ede6a4e4dfbbd510996c09b5)**",
    "created_at": "2018-04-02T19:00:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385017",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e1d1276](https://github.com/sagemath/sagetrac-mirror/commit/e1d1276ec1309b296a312bfc8cbc587d1981b947)** to **[c5e9234](https://github.com/sagemath/sagetrac-mirror/commit/c5e9234572681e19ede6a4e4dfbbd510996c09b5)**



---

archive/issue_comments_385018.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a72873d0c8a9bb4daebc0effc446e29c305b46f\">4a72873</a></td><td><code>trac 25080 adding more tests</code></td></tr></table>\n",
    "created_at": "2018-04-02T19:20:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385018",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a72873d0c8a9bb4daebc0effc446e29c305b46f">4a72873</a></td><td><code>trac 25080 adding more tests</code></td></tr></table>




---

archive/issue_comments_385019.json:
```json
{
    "body": "Changed commit from **[c5e9234](https://github.com/sagemath/sagetrac-mirror/commit/c5e9234572681e19ede6a4e4dfbbd510996c09b5)** to **[4a72873](https://github.com/sagemath/sagetrac-mirror/commit/4a72873d0c8a9bb4daebc0effc446e29c305b46f)**",
    "created_at": "2018-04-02T19:20:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385019",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c5e9234](https://github.com/sagemath/sagetrac-mirror/commit/c5e9234572681e19ede6a4e4dfbbd510996c09b5)** to **[4a72873](https://github.com/sagemath/sagetrac-mirror/commit/4a72873d0c8a9bb4daebc0effc446e29c305b46f)**



---

archive/issue_comments_385020.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThanks for the comments, Jori.\n\nFor the name, my favorite choice would be just \"factor\". Other possibilies are \"factor_cartesian\" and \"factor_ordinal\" ; or maybe \"cartesian_factor\" and \"ordinal_factor\".\n\nFor the lattice property, I think this holds for the factors, and the same for MeetSemiLattice, etc. But I do not feel any need for that.",
    "created_at": "2018-04-02T19:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385020",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'>Comment 7:</a>
Thanks for the comments, Jori.

For the name, my favorite choice would be just "factor". Other possibilies are "factor_cartesian" and "factor_ordinal" ; or maybe "cartesian_factor" and "ordinal_factor".

For the lattice property, I think this holds for the factors, and the same for MeetSemiLattice, etc. But I do not feel any need for that.



---

archive/issue_comments_385021.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nSee http://www.phy.olemiss.edu/~luca/Topics/p/poset_types.html: \"Prime poset: One such that all its autonomous subsets are trivial.\" Is this the same concept with different words? If not, should that be mentioned in `OUTPUT` section?\n\nMaybe \"factor\" or \"factorize\" is good, as also plain \"product\" means the Cartesian product.\n\nIs it really a `ValueError` to run this with unconnected posets? IMO it should be seen as a missing implementation, as an unconnected poset can be a Cartesian product of two posets.",
    "created_at": "2018-04-03T04:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385021",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'>Comment 8:</a>
See http://www.phy.olemiss.edu/~luca/Topics/p/poset_types.html: "Prime poset: One such that all its autonomous subsets are trivial." Is this the same concept with different words? If not, should that be mentioned in `OUTPUT` section?

Maybe "factor" or "factorize" is good, as also plain "product" means the Cartesian product.

Is it really a `ValueError` to run this with unconnected posets? IMO it should be seen as a missing implementation, as an unconnected poset can be a Cartesian product of two posets.



---

archive/issue_comments_385022.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nError in seealso-link, cartesian_product() should be product().\n\nAlso there is now two seealso-blocks in product(), and it seems a little strange.",
    "created_at": "2018-04-03T06:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385022",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'>Comment 9:</a>
Error in seealso-link, cartesian_product() should be product().

Also there is now two seealso-blocks in product(), and it seems a little strange.



---

archive/issue_comments_385023.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ad6d4400abe1e32812683da1a8301283bdb199c\">6ad6d44</a></td><td><code>trac 25080 change name to factor, other details</code></td></tr></table>\n",
    "created_at": "2018-04-03T06:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385023",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ad6d4400abe1e32812683da1a8301283bdb199c">6ad6d44</a></td><td><code>trac 25080 change name to factor, other details</code></td></tr></table>




---

archive/issue_comments_385024.json:
```json
{
    "body": "Changed commit from **[4a72873](https://github.com/sagemath/sagetrac-mirror/commit/4a72873d0c8a9bb4daebc0effc446e29c305b46f)** to **[6ad6d44](https://github.com/sagemath/sagetrac-mirror/commit/6ad6d4400abe1e32812683da1a8301283bdb199c)**",
    "created_at": "2018-04-03T06:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385024",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4a72873](https://github.com/sagemath/sagetrac-mirror/commit/4a72873d0c8a9bb4daebc0effc446e29c305b46f)** to **[6ad6d44](https://github.com/sagemath/sagetrac-mirror/commit/6ad6d4400abe1e32812683da1a8301283bdb199c)**



---

archive/issue_events_317062.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-03T06:31:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317062"
}
```



---

archive/issue_events_317063.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-03T06:31:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317063"
}
```



---

archive/issue_comments_385025.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nAll done.\n\nThere remains, maybe, the question of using `LatticePoset` for the factors when handling products of lattices.",
    "created_at": "2018-04-03T06:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385025",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
All done.

There remains, maybe, the question of using `LatticePoset` for the factors when handling products of lattices.



---

archive/issue_comments_385026.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nThanks. Now, to the code. When is `if A1 != B1:` evaluated as true? I guess you have implemented an algorithm to factor general digraph, and for poset you don't need all of that.",
    "created_at": "2018-04-03T06:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385026",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'>Comment 12:</a>
Thanks. Now, to the code. When is `if A1 != B1:` evaluated as true? I guess you have implemented an algorithm to factor general digraph, and for poset you don't need all of that.



---

archive/issue_comments_385027.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThe idea is to check that every little square is a commutative square. There are certainly better ways than what I did quickly. The `A1 != B1` test is meant to check that parallel arrows in one square go the same way.\n\nThe algorithm would possibly work for simple digraphs with no 2-cycles. Given this restricted domain, I think it is best to keep it here for the moment.",
    "created_at": "2018-04-03T07:01:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385027",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'>Comment 13:</a>
The idea is to check that every little square is a commutative square. There are certainly better ways than what I did quickly. The `A1 != B1` test is meant to check that parallel arrows in one square go the same way.

The algorithm would possibly work for simple digraphs with no 2-cycles. Given this restricted domain, I think it is best to keep it here for the moment.



---

archive/issue_events_317064.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2018-04-03T07:42:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317064"
}
```



---

archive/issue_events_317065.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2018-04-03T07:42:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317065"
}
```



---

archive/issue_comments_385028.json:
```json
{
    "body": "Reviewer: **Jori M\u00e4ntysalo**",
    "created_at": "2018-04-03T07:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385028",
    "user": "https://github.com/jm58660"
}
```

Reviewer: **Jori Mäntysalo**



---

archive/issue_comments_385029.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nOK, I'll mark this as positive review. (Change milestone when 8.3 is available.)\n\nI don't see how there could be parallel arrows when the graph is the Hasse diagram of some poset. However, almost all the time is spent in factoring undirected graph, so this makes no real difference.\n\nOutput type for lattices can be changed later.\n\nThere are some shortcuts that could be used: for example the numbers of minimal elements must not be a prime. Also the number of edges in the Hasse diagram can show that a poset can't be a Cartesian product etc. However, all this can also be added later.",
    "created_at": "2018-04-03T07:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385029",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:14'>Comment 14:</a>
OK, I'll mark this as positive review. (Change milestone when 8.3 is available.)

I don't see how there could be parallel arrows when the graph is the Hasse diagram of some poset. However, almost all the time is spent in factoring undirected graph, so this makes no real difference.

Output type for lattices can be changed later.

There are some shortcuts that could be used: for example the numbers of minimal elements must not be a prime. Also the number of edges in the Hasse diagram can show that a poset can't be a Cartesian product etc. However, all this can also be added later.



---

archive/issue_events_317066.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2018-04-17T08:12:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317066"
}
```



---

archive/issue_events_317067.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2018-04-17T08:12:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317067"
}
```



---

archive/issue_events_317068.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-12T11:46:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317068"
}
```



---

archive/issue_events_317069.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "62a893aba32c634a9043e1e12668120e0a629c24",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-12T11:46:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25080#event-317069"
}
```



---

archive/issue_comments_385030.json:
```json
{
    "body": "Changed branch from **[u/chapoton/25080](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25080)** to **[6ad6d44](https://github.com/sagemath/sagetrac-mirror/commit/6ad6d4400abe1e32812683da1a8301283bdb199c)**",
    "created_at": "2018-05-12T11:46:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25080#issuecomment-385030",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/25080](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25080)** to **[6ad6d44](https://github.com/sagemath/sagetrac-mirror/commit/6ad6d4400abe1e32812683da1a8301283bdb199c)**
