# Issue 17684: faster matching polynomial

archive/issues_017684.json:
```json
{
    "body": "CC:  vdelecroix ncohen\n\nADD DESCRIPTION\n\nAdded ``matching_generating_poly``, modified ``matching_polynomial``\n\n``matching_generating_poly`` computes the matching generating polynomial\non (possibly weighted) graphs.\n\nThe algorithm (see [ButPer]) uses polynomials on nilpotent elements,\nimplemented in the class ``Hobj`` in matchpoly.pyx,\nand a greedy argument to order edges, contained in active_nodes.py\n\nThis algorithm is faster than the Godsil algorithm on large graphs.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17921\n\n",
    "created_at": "2015-03-09T19:35:02Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "title": "faster matching polynomial",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17684",
    "user": "pernici"
}
```
CC:  vdelecroix ncohen

ADD DESCRIPTION

Added ``matching_generating_poly``, modified ``matching_polynomial``

``matching_generating_poly`` computes the matching generating polynomial
on (possibly weighted) graphs.

The algorithm (see [ButPer]) uses polynomials on nilpotent elements,
implemented in the class ``Hobj`` in matchpoly.pyx,
and a greedy argument to order edges, contained in active_nodes.py

This algorithm is faster than the Godsil algorithm on large graphs.

Issue created by migration from https://trac.sagemath.org/ticket/17921





---

archive/issue_comments_236397.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-11T15:15:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236397",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236398.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-11T15:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236398",
    "user": "pernici"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_236399.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-03-15T15:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236399",
    "user": "vdelecroix"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_236400.json:
```json
{
    "body": "I clean the description of the ticket to make it readable. Could you try to make it understandable?",
    "created_at": "2015-03-15T15:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236400",
    "user": "vdelecroix"
}
```

I clean the description of the ticket to make it readable. Could you try to make it understandable?



---

archive/issue_comments_236401.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-03-16T17:52:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236401",
    "user": "pernici"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_236402.json:
```json
{
    "body": "I added an explanation on the use of nilpotent elements and two more examples.",
    "created_at": "2015-03-16T18:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236402",
    "user": "pernici"
}
```

I added an explanation on the use of nilpotent elements and two more examples.



---

archive/issue_comments_236403.json:
```json
{
    "body": "The greedy argument to order edges in active_nodes.py orders edges in such a way that the graph\n`G_i` defined by `edges[:i]` has few nodes which have not the same degree as in `G` (active nodes).\nThis leads to few `\\eta_i` in the corresponding polynomial, so there are few terms.\nThe greedy algorithm adds edges without increasing the number of active nodes, if possible;\notherwise it adds a short path between two active nodes.\n\nThis algorithm can be probably improved using some\ngraph algorithm already in Sage, maybe an algorithm to reorder vertices used to visualize graphs.",
    "created_at": "2015-03-17T11:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236403",
    "user": "pernici"
}
```

The greedy argument to order edges in active_nodes.py orders edges in such a way that the graph
`G_i` defined by `edges[:i]` has few nodes which have not the same degree as in `G` (active nodes).
This leads to few `\eta_i` in the corresponding polynomial, so there are few terms.
The greedy algorithm adds edges without increasing the number of active nodes, if possible;
otherwise it adds a short path between two active nodes.

This algorithm can be probably improved using some
graph algorithm already in Sage, maybe an algorithm to reorder vertices used to visualize graphs.



---

archive/issue_comments_236404.json:
```json
{
    "body": "Please try to get 100% coverage (`sage -coverage`) also in private methods. Please adhere to usual documentation guidelines: esp. start paragraphs with big caps, do not use `>>>` for examples.",
    "created_at": "2015-03-22T15:38:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236404",
    "user": "rws"
}
```

Please try to get 100% coverage (`sage -coverage`) also in private methods. Please adhere to usual documentation guidelines: esp. start paragraphs with big caps, do not use `>>>` for examples.



---

archive/issue_comments_236405.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-03-24T21:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236405",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_236406.json:
```json
{
    "body": "failing doctests, see patchbot report\n\nplus very bad formatting of the doc",
    "created_at": "2015-03-24T21:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236406",
    "user": "chapoton"
}
```

failing doctests, see patchbot report

plus very bad formatting of the doc



---

archive/issue_comments_236407.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-26T12:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236407",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_236408.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-03-26T12:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236408",
    "user": "pernici"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_236409.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-06-02T10:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236409",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_236410.json:
```json
{
    "body": "I personally don't care about this ticket, but let me mention that it doesn't apply and that it should be rebased on top of #23126.",
    "created_at": "2017-06-02T10:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17684",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17684#issuecomment-236410",
    "user": "jdemeyer"
}
```

I personally don't care about this ticket, but let me mention that it doesn't apply and that it should be rebased on top of #23126.
