# Issue 33151: sage-conf_pypi does not build wheelhouse

archive/issues_032914.json:
```json
{
    "body": "Contrary to what is claimed in the README in https://pypi.org/project/sage-conf/9.5rc0/, after `pip install  sage_conf==9.5rc0`, there is no wheelhouse available: `ls $(sage-config SAGE_SPKG_WHEELS)` gives \"No such file or directory\".\n\nWe fix this by changing `make build-local` to `make build` in the install script (and fixing a bug that caused `make build` to fail).\n\nDistribution using the branch of this ticket uploaded as https://pypi.org/project/sage-conf/9.5rc0.post1/\n\n\nCC:  @dimpase\n\nBranch/Commit: 04066abb68c6bb101bc7543c85c2656822f0f112\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33151\n\n",
    "closed_at": "2022-01-30T11:38:03Z",
    "created_at": "2022-01-11T19:06:44Z",
    "labels": [
        "component: distribution",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "sage-conf_pypi does not build wheelhouse",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33151",
    "user": "https://github.com/mkoeppe"
}
```
Contrary to what is claimed in the README in https://pypi.org/project/sage-conf/9.5rc0/, after `pip install  sage_conf==9.5rc0`, there is no wheelhouse available: `ls $(sage-config SAGE_SPKG_WHEELS)` gives "No such file or directory".

We fix this by changing `make build-local` to `make build` in the install script (and fixing a bug that caused `make build` to fail).

Distribution using the branch of this ticket uploaded as https://pypi.org/project/sage-conf/9.5rc0.post1/


CC:  @dimpase

Branch/Commit: 04066abb68c6bb101bc7543c85c2656822f0f112

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33151





---

archive/issue_comments_501369.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-12T00:21:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501369",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_501370.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -9,6 +9,9 @@\n make[2]: *** [all-build-venv] Error 2\n \\`\\`\\`\n \n+Distribution using the branch of this ticket uploaded as https://pypi.org/project/sage-conf/9.5rc0.post1/\n+\n+\n Comment: 1\n \n Priority: major\n```\n",
    "created_at": "2022-01-12T01:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501370",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -9,6 +9,9 @@
 make[2]: *** [all-build-venv] Error 2
 \`\`\`
 
+Distribution using the branch of this ticket uploaded as https://pypi.org/project/sage-conf/9.5rc0.post1/
+
+
 Comment: 1
 
 Priority: major
```




---

archive/issue_comments_501371.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-01-12T01:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501371",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_501372.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-12T02:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501372",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_501373.json:
```json
{
    "body": "<a id='comment:5'></a>What is the aim of this ticket, it's a bit unclear from the description.",
    "created_at": "2022-01-12T11:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501373",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>What is the aim of this ticket, it's a bit unclear from the description.



---

archive/issue_comments_501374.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,8 @@\n+Contrary to what is claimed in the README in https://pypi.org/project/sage-conf/9.5rc0/, after \\`pip install  sage_conf==9.5rc0\\`, there is no wheelhouse available: \\`ls $(sage-config SAGE_SPKG_WHEELS)\\` gives \"No such file or directory\".\n+\n+We fix this by changing \\`make build-local\\` to \\`make build\\` in the install script (and fixing a bug that caused \\`make build\\` to fail).\n+\n+Distribution using the branch of this ticket uploaded as https://pypi.org/project/sage-conf/9.5rc0.post1/\n \n \n Comment: 1\n```\n",
    "created_at": "2022-01-12T17:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501374",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,8 @@
+Contrary to what is claimed in the README in https://pypi.org/project/sage-conf/9.5rc0/, after \`pip install  sage_conf==9.5rc0\`, there is no wheelhouse available: \`ls $(sage-config SAGE_SPKG_WHEELS)\` gives "No such file or directory".
+
+We fix this by changing \`make build-local\` to \`make build\` in the install script (and fixing a bug that caused \`make build\` to fail).
+
+Distribution using the branch of this ticket uploaded as https://pypi.org/project/sage-conf/9.5rc0.post1/
 
 
 Comment: 1
```




---

archive/issue_comments_501375.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-12T21:58:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501375",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_501376.json:
```json
{
    "body": "<a id='comment:7'></a>lgtm",
    "created_at": "2022-01-12T21:58:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501376",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>lgtm



---

archive/issue_comments_501377.json:
```json
{
    "body": "<a id='comment:8'></a>Thanks.",
    "created_at": "2022-01-12T22:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501377",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Thanks.



---

archive/issue_comments_501378.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2022-01-28T22:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501378",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to blocker.



---

archive/issue_events_087588.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-30T11:38:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33151#event-87588"
}
```



---

archive/issue_comments_501379.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-30T11:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33151#issuecomment-501379",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
