# Issue 33162: Fix installation of cryptominisat and pycryptosat

archive/issues_032925.json:
```json
{
    "assignees": [],
    "body": "pycryptosat is meant to be installed as a part of cryptominisat,\nbut it does not happen.\n\nThis is because it's installing the Python module in SAGE_ROOT/local/\nFrom the log:\n\n```\n-- Found python interpreter, libs and header files\n-- Building python interface\n-- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -ffile-prefix-map=/build/python3.9-RNBry6/python3.9-3.9.2=.  -fstack-protector-strong -Wformat -Werror=format-security  -g -fwrapv -O2   '\n-- Python LDFLAGS: '-lcrypt -lpthread -ldl  -lutil -lm'\n-- Python LINKFORSHARED flags: '-Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions'\n-- Python module will be installed to : '/home/dimpase/work/sage/local'\n-- Configuring done\n```\n\nSee\n https://groups.google.com/d/msgid/sage-release/cc134257-34d8-4c26-8719-24a994dc42dan%40googlegroups.com\n\n```\n./sage --pip install pycryptosat\n```\ncan be used as a workaround\n\n\nCC:  @mkoeppe @slel @vbraun\n\nKeywords: **cryptominisat**\n\nBranch: **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Dima Pasechnik**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33162_\n\n",
    "closed_at": "2022-01-15T18:58:37Z",
    "created_at": "2022-01-13T19:07:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix installation of cryptominisat and pycryptosat",
    "type": "issue",
    "updated_at": "2022-01-21T21:56:01Z",
    "url": "https://github.com/sagemath/sage/issues/33162",
    "user": "https://github.com/dimpase"
}
```
pycryptosat is meant to be installed as a part of cryptominisat,
but it does not happen.

This is because it's installing the Python module in SAGE_ROOT/local/
From the log:

```
-- Found python interpreter, libs and header files
-- Building python interface
-- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -ffile-prefix-map=/build/python3.9-RNBry6/python3.9-3.9.2=.  -fstack-protector-strong -Wformat -Werror=format-security  -g -fwrapv -O2   '
-- Python LDFLAGS: '-lcrypt -lpthread -ldl  -lutil -lm'
-- Python LINKFORSHARED flags: '-Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions'
-- Python module will be installed to : '/home/dimpase/work/sage/local'
-- Configuring done
```

See
 https://groups.google.com/d/msgid/sage-release/cc134257-34d8-4c26-8719-24a994dc42dan%40googlegroups.com

```
./sage --pip install pycryptosat
```
can be used as a workaround


CC:  @mkoeppe @slel @vbraun

Keywords: **cryptominisat**

Branch: **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**

Reviewer: **Matthias Koeppe**

Author: **Dima Pasechnik**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/33162_





---

archive/issue_events_456317.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-13T19:07:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456317"
}
```



---

archive/issue_events_456318.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-13T19:07:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456318"
}
```



---

archive/issue_events_456319.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-13T19:07:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456319"
}
```



---

archive/issue_events_456320.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-13T19:07:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456320"
}
```



---

archive/issue_comments_536070.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nin cmake [config of cryptominisat](https://github.com/msoos/cryptominisat/blob/master/python/CMakeLists.txt) on sees\n\n```\nif(DEFINED ENV{PYCRYPTOSAT_INSTALL_PATH})\n    set(PY_INSTALL_PREFIX \"--prefix=$ENV{PYCRYPTOSAT_INSTALL_PATH}\")\nelseif(DEFINED ENV{VIRTUAL_ENV})\n    set(PY_INSTALL_PREFIX \"\")\nelse()\n    set(PY_INSTALL_PREFIX \"--prefix=${CMAKE_INSTALL_PREFIX}\")\nendif()\n```\n\nso one can explicitly set the path for the module. But to what value?",
    "created_at": "2022-01-13T19:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536070",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">comment:1</div>

in cmake [config of cryptominisat](https://github.com/msoos/cryptominisat/blob/master/python/CMakeLists.txt) on sees

```
if(DEFINED ENV{PYCRYPTOSAT_INSTALL_PATH})
    set(PY_INSTALL_PREFIX "--prefix=$ENV{PYCRYPTOSAT_INSTALL_PATH}")
elseif(DEFINED ENV{VIRTUAL_ENV})
    set(PY_INSTALL_PREFIX "")
else()
    set(PY_INSTALL_PREFIX "--prefix=${CMAKE_INSTALL_PREFIX}")
endif()
```

so one can explicitly set the path for the module. But to what value?



---

archive/issue_comments_536071.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSee also\n\n- #25374: Upgrade cryptominisat to fix cryptominisat build on Cygwin",
    "created_at": "2022-01-13T20:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536071",
    "user": "https://github.com/slel"
}
```

<div id="comment:2" align="right">comment:2</div>

See also

- #25374: Upgrade cryptominisat to fix cryptominisat build on Cygwin



---

archive/issue_comments_536072.json:
```json
{
    "body": "Changed keywords from none to **cryptominisat**",
    "created_at": "2022-01-13T20:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536072",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **cryptominisat**



---

archive/issue_events_456321.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-13T20:09:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "title_is": "Fix installation of cryptominisat and pycryptosat",
    "title_was": "installation of pycryprosat/cryptominisat is broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456321"
}
```



---

archive/issue_comments_536073.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIn principle, it would be set to ${SAGE_VENV}. \nBut it is not a correct solution, as explained in [#25374 comment:39](https://github.com/sagemath/sage/issues/25374#comment:39)",
    "created_at": "2022-01-13T20:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536073",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

In principle, it would be set to ${SAGE_VENV}. 
But it is not a correct solution, as explained in [#25374 comment:39](https://github.com/sagemath/sage/issues/25374#comment:39)



---

archive/issue_comments_536074.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@mkoeppe](#comment:4):\n> In principle, it would be set to ${SAGE_VENV}. \n> But it is not a correct solution, as explained in [#25374 comment:39](https://github.com/sagemath/sage/issues/25374#comment:39)\n\nI don't see why it's not OK. Passing `PYCRYPTOSAT_INSTALL_PATH=$SAGE_VENV`\nwould make sure the python package installs in the correct venv, while the rest goes where it should.",
    "created_at": "2022-01-13T20:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536074",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@mkoeppe](#comment:4):
> In principle, it would be set to ${SAGE_VENV}. 
> But it is not a correct solution, as explained in [#25374 comment:39](https://github.com/sagemath/sage/issues/25374#comment:39)

I don't see why it's not OK. Passing `PYCRYPTOSAT_INSTALL_PATH=$SAGE_VENV`
would make sure the python package installs in the correct venv, while the rest goes where it should.



---

archive/issue_comments_536075.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nBecause of our installation records in SAGE_LOCAL/var/lib/sage/installed/ and SAGE_VENV/var/lib/sage/installed.",
    "created_at": "2022-01-13T20:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536075",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Because of our installation records in SAGE_LOCAL/var/lib/sage/installed/ and SAGE_VENV/var/lib/sage/installed.



---

archive/issue_comments_536076.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@mkoeppe](#comment:6):\n> Because of our installation records in SAGE_LOCAL/var/lib/sage/installed/ and SAGE_VENV/var/lib/sage/installed.\n> \n\ncan we allow Python modules in SAGE_LOCAL, too? As a temporary fix, at least.",
    "created_at": "2022-01-13T21:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536076",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@mkoeppe](#comment:6):
> Because of our installation records in SAGE_LOCAL/var/lib/sage/installed/ and SAGE_VENV/var/lib/sage/installed.
> 

can we allow Python modules in SAGE_LOCAL, too? As a temporary fix, at least.



---

archive/issue_comments_536077.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nno, they won't be in the load path.",
    "created_at": "2022-01-14T03:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536077",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

no, they won't be in the load path.



---

archive/issue_comments_536078.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSolution is as I said in [#25374 comment:48](https://github.com/sagemath/sage/issues/25374#comment:48)",
    "created_at": "2022-01-14T03:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536078",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Solution is as I said in [#25374 comment:48](https://github.com/sagemath/sage/issues/25374#comment:48)



---

archive/issue_comments_536079.json:
```json
{
    "body": "Commit: **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**",
    "created_at": "2022-01-14T10:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536079",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**



---

archive/issue_events_456322.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-14T10:21:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456322"
}
```



---

archive/issue_comments_536080.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2022-01-14T10:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536080",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_536081.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nhere is an easier fix. \n\nMade it blocker, as this fixes an otherwise totally broken optional package.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430\">cdd19b0</a></td><td><code>correctly install pycryptosat</code></td></tr></table>\n",
    "created_at": "2022-01-14T10:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536081",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

here is an easier fix. 

Made it blocker, as this fixes an otherwise totally broken optional package.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430">cdd19b0</a></td><td><code>correctly install pycryptosat</code></td></tr></table>




---

archive/issue_events_456323.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-14T10:21:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456323"
}
```



---

archive/issue_events_456324.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-14T10:21:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456324"
}
```



---

archive/issue_comments_536082.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/cryptominisat-fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-fix)**",
    "created_at": "2022-01-14T10:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536082",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/cryptominisat-fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-fix)**



---

archive/issue_comments_536083.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThis is not enough because it will break when you switch to a different Python.",
    "created_at": "2022-01-14T15:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536083",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

This is not enough because it will break when you switch to a different Python.



---

archive/issue_events_456325.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-14T15:56:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456325"
}
```



---

archive/issue_events_456326.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-14T15:56:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456326"
}
```



---

archive/issue_comments_536084.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\ncryptominisat depends on\n$(PYTHON), thus such a switch will trigger a rebuild.",
    "created_at": "2022-01-14T17:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536084",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

cryptominisat depends on
$(PYTHON), thus such a switch will trigger a rebuild.



---

archive/issue_comments_536085.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nNope",
    "created_at": "2022-01-14T17:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536085",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

Nope



---

archive/issue_comments_536086.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nthen I don't understand what \"switch\" means.",
    "created_at": "2022-01-14T18:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536086",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

then I don't understand what "switch" means.



---

archive/issue_comments_536087.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWhen a system python is in use, `$(PYTHON)` is the path to `$(SAGE_VENV)/pyvenv.cfg`. This file is created on creation of the venv for the configured python and is never updated.\n\nSwitching between pythons = Re-running `configure`, with or without `--with-python=....`, which selects different system python versions.",
    "created_at": "2022-01-14T18:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536087",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

When a system python is in use, `$(PYTHON)` is the path to `$(SAGE_VENV)/pyvenv.cfg`. This file is created on creation of the venv for the configured python and is never updated.

Switching between pythons = Re-running `configure`, with or without `--with-python=....`, which selects different system python versions.



---

archive/issue_comments_536088.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nand how does one trigger rebuild of a Pyhton package in such a case?",
    "created_at": "2022-01-14T18:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536088",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

and how does one trigger rebuild of a Pyhton package in such a case?



---

archive/issue_comments_536089.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nInstallation records for Python packages are kept in $(SAGE_VENV)/var/lib/sage/installed.\nDifferent Python version -> Different SAGE_VENV -> different installation records.",
    "created_at": "2022-01-14T18:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536089",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Installation records for Python packages are kept in $(SAGE_VENV)/var/lib/sage/installed.
Different Python version -> Different SAGE_VENV -> different installation records.



---

archive/issue_comments_536090.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nthis does not answer my question.",
    "created_at": "2022-01-14T18:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536090",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

this does not answer my question.



---

archive/issue_comments_536091.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThen I don't understand your question - what should trigger a rebuild of what?",
    "created_at": "2022-01-14T18:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536091",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Then I don't understand your question - what should trigger a rebuild of what?



---

archive/issue_comments_536092.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nhow does using another Python in a configure run sets up rebuilt of python packages? Suppose you have \n\n```\n./configure --with-python=foo\nmake\n./configure --with-python=bar\nmake\n```\nWhat is triggering building Python packages for `bar` ?",
    "created_at": "2022-01-14T19:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536092",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

how does using another Python in a configure run sets up rebuilt of python packages? Suppose you have 

```
./configure --with-python=foo
make
./configure --with-python=bar
make
```
What is triggering building Python packages for `bar` ?



---

archive/issue_comments_536093.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIf foo is python3.8 and bar is python3.9, \nthen first, `SAGE_VENV=$SAGE_LOCAL/var/lib/sage/venv-python3.8`\nand after reconfiguration, `SAGE_VENV=$SAGE_LOCAL/var/lib/sage/venv-python3.9`.\n\nInstallation records for Python packages are kept in `$SAGE_VENV/var/lib/sage/installed`.\nAfter reconfiguration, no Python package will have installation records. So all Python packages are built.",
    "created_at": "2022-01-14T19:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536093",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

If foo is python3.8 and bar is python3.9, 
then first, `SAGE_VENV=$SAGE_LOCAL/var/lib/sage/venv-python3.8`
and after reconfiguration, `SAGE_VENV=$SAGE_LOCAL/var/lib/sage/venv-python3.9`.

Installation records for Python packages are kept in `$SAGE_VENV/var/lib/sage/installed`.
After reconfiguration, no Python package will have installation records. So all Python packages are built.



---

archive/issue_comments_536094.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI've added some explanation of this in https://wiki.sagemath.org/ReleaseTours/sage-9.5#Separate_virtual_environment_for_Python_packages",
    "created_at": "2022-01-14T19:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536094",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

I've added some explanation of this in https://wiki.sagemath.org/ReleaseTours/sage-9.5#Separate_virtual_environment_for_Python_packages



---

archive/issue_comments_536095.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\ncan we set up a \"dummy\" Python package pycryptosat, a dependency of cryptominisat, which sole purpose is to trigger rebuild of cryptominisat ?",
    "created_at": "2022-01-14T19:37:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536095",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

can we set up a "dummy" Python package pycryptosat, a dependency of cryptominisat, which sole purpose is to trigger rebuild of cryptominisat ?



---

archive/issue_comments_536096.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWhy not just make it an ordinary package?",
    "created_at": "2022-01-14T19:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536096",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Why not just make it an ordinary package?



---

archive/issue_comments_536097.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nbecause I have no idea how to decouple pycryptosat from cryptominisat.\n\nthe former is generated on the fly from templates, by the latter.",
    "created_at": "2022-01-14T20:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536097",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

because I have no idea how to decouple pycryptosat from cryptominisat.

the former is generated on the fly from templates, by the latter.



---

archive/issue_comments_536098.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThere is not a separate Makefile target for just installing the Python package?\nOK to build the C library twice; but we should avoid to install it twice.",
    "created_at": "2022-01-14T20:29:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536098",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

There is not a separate Makefile target for just installing the Python package?
OK to build the C library twice; but we should avoid to install it twice.



---

archive/issue_comments_536099.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nmakefiles generated by cmake are usually a mess.",
    "created_at": "2022-01-14T20:51:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536099",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

makefiles generated by cmake are usually a mess.



---

archive/issue_comments_536100.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI would be surprised if so built python module was linked correctly, against the already installed library, and not the one built by this 2nd round.\n\nHow about just renaming cryptominisat spkg to pycryptosat ?",
    "created_at": "2022-01-14T21:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536100",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:28" align="right">comment:28</div>

I would be surprised if so built python module was linked correctly, against the already installed library, and not the one built by this 2nd round.

How about just renaming cryptominisat spkg to pycryptosat ?



---

archive/issue_comments_536101.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@dimpase](#comment:28):\n> I would be surprised if so built python module was linked correctly, against the already installed library, and not the one built by this 2nd round.\n\nI don't see how it could fail. All the rpaths are set correctly by the build system.",
    "created_at": "2022-01-14T21:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536101",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@dimpase](#comment:28):
> I would be surprised if so built python module was linked correctly, against the already installed library, and not the one built by this 2nd round.

I don't see how it could fail. All the rpaths are set correctly by the build system.



---

archive/issue_comments_536102.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@dimpase](#comment:28):\n> How about just renaming cryptominisat spkg to pycryptosat ?\n\nFine with me; then you could add an `install-requires.txt`, which will ensure installation will go into SAGE_VENV.",
    "created_at": "2022-01-14T21:07:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536102",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@dimpase](#comment:28):
> How about just renaming cryptominisat spkg to pycryptosat ?

Fine with me; then you could add an `install-requires.txt`, which will ensure installation will go into SAGE_VENV.



---

archive/issue_comments_536103.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nimho using `sdh_pip_install` already makes sure it goes to SAGE_VENV, no?",
    "created_at": "2022-01-14T21:23:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536103",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

imho using `sdh_pip_install` already makes sure it goes to SAGE_VENV, no?



---

archive/issue_comments_536104.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThe installation of the Python package yes, but not the library and not the installation record!",
    "created_at": "2022-01-14T22:07:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536104",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

The installation of the Python package yes, but not the library and not the installation record!



---

archive/issue_comments_536105.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nBut the present branch is certainly an improvement, so let's consider it a hotfix for Sage 9.5",
    "created_at": "2022-01-14T23:53:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536105",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

But the present branch is certainly an improvement, so let's consider it a hotfix for Sage 9.5



---

archive/issue_events_456327.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-14T23:53:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456327"
}
```



---

archive/issue_events_456328.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-14T23:53:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456328"
}
```



---

archive/issue_comments_536106.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2022-01-15T01:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536106",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_comments_536107.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@mkoeppe](#comment:32):\n> The installation of the Python package yes, but not the library and not the installation record!\n\n\nthe library still goes to SAGE_LOCAL.\n\nImho all the sdh_ - scripts correctly set installation records of Sage.",
    "created_at": "2022-01-15T09:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536107",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@mkoeppe](#comment:32):
> The installation of the Python package yes, but not the library and not the installation record!


the library still goes to SAGE_LOCAL.

Imho all the sdh_ - scripts correctly set installation records of Sage.



---

archive/issue_comments_536108.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb\">e3d8e91</a></td><td><code>spin off installation of cryptominisat's Python</code></td></tr></table>\n",
    "created_at": "2022-01-15T14:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536108",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb">e3d8e91</a></td><td><code>spin off installation of cryptominisat's Python</code></td></tr></table>




---

archive/issue_events_456329.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-01-15T14:28:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456329"
}
```



---

archive/issue_events_456330.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-01-15T14:28:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456330"
}
```



---

archive/issue_comments_536109.json:
```json
{
    "body": "Changed commit from **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)** to **[`e3d8e91`](https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb)**",
    "created_at": "2022-01-15T14:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536109",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)** to **[`e3d8e91`](https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb)**



---

archive/issue_comments_536110.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nIs this what you kept in mind? Turns out one just needs to run cmake to get pycryptosat set up, no need to build the library twice.",
    "created_at": "2022-01-15T14:30:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536110",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:37" align="right">comment:37</div>

Is this what you kept in mind? Turns out one just needs to run cmake to get pycryptosat set up, no need to build the library twice.



---

archive/issue_comments_536111.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@dimpase](#comment:35):\n> Imho all the sdh_ - scripts correctly set installation records of Sage. \n\nThe installation records are set by `sage-spkg`, not by `sdh_...`.\nOne record for one package.",
    "created_at": "2022-01-15T16:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536111",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@dimpase](#comment:35):
> Imho all the sdh_ - scripts correctly set installation records of Sage. 

The installation records are set by `sage-spkg`, not by `sdh_...`.
One record for one package.



---

archive/issue_comments_536112.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@dimpase](#comment:37):\n> Is this what you kept in mind? Turns out one just needs to run cmake to get pycryptosat set up, no need to build the library twice.\n\nAlmost. Still need `build/pkgs/pycryptosat/install-requires.txt` so that the installation record goes into SAGE_VENV, not in SAGE_LOCAL",
    "created_at": "2022-01-15T16:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536112",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@dimpase](#comment:37):
> Is this what you kept in mind? Turns out one just needs to run cmake to get pycryptosat set up, no need to build the library twice.

Almost. Still need `build/pkgs/pycryptosat/install-requires.txt` so that the installation record goes into SAGE_VENV, not in SAGE_LOCAL



---

archive/issue_comments_536113.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nAnd `build/pkgs/pycryptosat/checksums.ini` should be a symlink, not a copy, of `cryptominisat`'s.\n(Like it is done for `gcc`/`gfortran`)",
    "created_at": "2022-01-15T16:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536113",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">comment:40</div>

And `build/pkgs/pycryptosat/checksums.ini` should be a symlink, not a copy, of `cryptominisat`'s.
(Like it is done for `gcc`/`gfortran`)



---

archive/issue_comments_536114.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nAre the `pycryptosat` `distros` correct? Do the \"cryptominisat\" distro packages really install the Python bindings?",
    "created_at": "2022-01-15T16:29:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536114",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">comment:41</div>

Are the `pycryptosat` `distros` correct? Do the "cryptominisat" distro packages really install the Python bindings?



---

archive/issue_comments_536115.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nAlso a good moment to add `upstream_url` in `checksums.ini`",
    "created_at": "2022-01-15T16:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536115",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:42" align="right">comment:42</div>

Also a good moment to add `upstream_url` in `checksums.ini`



---

archive/issue_comments_536116.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nAlso note that the positively reviewed version of this ticket is already on Volker's branch, so best to reset to that and continue on a follow-up ticket",
    "created_at": "2022-01-15T16:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536116",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

Also note that the positively reviewed version of this ticket is already on Volker's branch, so best to reset to that and continue on a follow-up ticket



---

archive/issue_comments_536117.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-15T17:13:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536117",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_536118.json:
```json
{
    "body": "Changed commit from **[`e3d8e91`](https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb)** to **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**",
    "created_at": "2022-01-15T17:13:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536118",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e3d8e91`](https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb)** to **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**



---

archive/issue_comments_536119.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nok, this is the old fix",
    "created_at": "2022-01-15T17:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536119",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:45" align="right">comment:45</div>

ok, this is the old fix



---

archive/issue_events_456331.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-15T17:14:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456331"
}
```



---

archive/issue_events_456332.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-15T17:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456332"
}
```



---

archive/issue_comments_536120.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nfollowup on #33183",
    "created_at": "2022-01-15T17:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536120",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:46" align="right">comment:46</div>

followup on #33183



---

archive/issue_comments_536121.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@mkoeppe](#comment:41):\n> Are the `pycryptosat` `distros` correct? Do the \"cryptominisat\" distro packages really install the Python bindings?\n\nI don't know - as spkg-configure is not yet there, it can be left as such for the time being.",
    "created_at": "2022-01-15T17:21:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536121",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@mkoeppe](#comment:41):
> Are the `pycryptosat` `distros` correct? Do the "cryptominisat" distro packages really install the Python bindings?

I don't know - as spkg-configure is not yet there, it can be left as such for the time being.



---

archive/issue_events_456333.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-15T18:58:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456333"
}
```



---

archive/issue_events_456334.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "fe634f86137dff7f03977b4c5bd24fb78ef8db39",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-01-15T18:58:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-456334"
}
```



---

archive/issue_comments_536122.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/cryptominisat-fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-fix)** to **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**",
    "created_at": "2022-01-15T18:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536122",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/cryptominisat-fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-fix)** to **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**



---

archive/issue_comments_536123.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nIt seems something is missing (maybe a dependency) as it is now broken on my machine, see https://groups.google.com/g/sage-release/c/1YV0dNtEZz4/m/Tm7RSWINAgAJ\n\nIs there a ticket for it already? I think I have seen a report of the failure earlier this week by someone else, I don't remember where.",
    "created_at": "2022-01-21T16:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536123",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:49" align="right">comment:49</div>

It seems something is missing (maybe a dependency) as it is now broken on my machine, see https://groups.google.com/g/sage-release/c/1YV0dNtEZz4/m/Tm7RSWINAgAJ

Is there a ticket for it already? I think I have seen a report of the failure earlier this week by someone else, I don't remember where.



---

archive/issue_comments_536124.json:
```json
{
    "body": "Changed commit from **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)** to none",
    "created_at": "2022-01-21T16:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536124",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`cdd19b0`](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)** to none



---

archive/issue_comments_536125.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nmissing python toolchain in deps of cryptominisat.\n\nsee #33183",
    "created_at": "2022-01-21T21:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-536125",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:50" align="right">comment:50</div>

missing python toolchain in deps of cryptominisat.

see #33183
