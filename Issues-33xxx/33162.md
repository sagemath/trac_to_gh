# Issue 33162: Fix installation of cryptominisat and pycryptosat

archive/issues_032925.json:
```json
{
    "assignees": [],
    "body": "pycryptosat is meant to be installed as a part of cryptominisat,\nbut it does not happen.\n\nThis is because it's installing the Python module in SAGE_ROOT/local/\nFrom the log:\n\n```\n-- Found python interpreter, libs and header files\n-- Building python interface\n-- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -ffile-prefix-map=/build/python3.9-RNBry6/python3.9-3.9.2=.  -fstack-protector-strong -Wformat -Werror=format-security  -g -fwrapv -O2   '\n-- Python LDFLAGS: '-lcrypt -lpthread -ldl  -lutil -lm'\n-- Python LINKFORSHARED flags: '-Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions'\n-- Python module will be installed to : '/home/dimpase/work/sage/local'\n-- Configuring done\n```\n\nSee\n https://groups.google.com/d/msgid/sage-release/cc134257-34d8-4c26-8719-24a994dc42dan%40googlegroups.com\n\n```\n./sage --pip install pycryptosat\n```\ncan be used as a workaround\n\n\nCC:  @mkoeppe @slel @vbraun\n\nKeywords: **cryptominisat**\n\nBranch: **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33162_\n\n",
    "closed_at": "2022-01-15T18:58:37Z",
    "created_at": "2022-01-13T19:07:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix installation of cryptominisat and pycryptosat",
    "type": "issue",
    "updated_at": "2022-01-21T21:56:01Z",
    "url": "https://github.com/sagemath/sage/issues/33162",
    "user": "https://github.com/dimpase"
}
```
pycryptosat is meant to be installed as a part of cryptominisat,
but it does not happen.

This is because it's installing the Python module in SAGE_ROOT/local/
From the log:

```
-- Found python interpreter, libs and header files
-- Building python interface
-- Python CFLAGS:  '-Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -ffile-prefix-map=/build/python3.9-RNBry6/python3.9-3.9.2=.  -fstack-protector-strong -Wformat -Werror=format-security  -g -fwrapv -O2   '
-- Python LDFLAGS: '-lcrypt -lpthread -ldl  -lutil -lm'
-- Python LINKFORSHARED flags: '-Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions'
-- Python module will be installed to : '/home/dimpase/work/sage/local'
-- Configuring done
```

See
 https://groups.google.com/d/msgid/sage-release/cc134257-34d8-4c26-8719-24a994dc42dan%40googlegroups.com

```
./sage --pip install pycryptosat
```
can be used as a workaround


CC:  @mkoeppe @slel @vbraun

Keywords: **cryptominisat**

Branch: **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**

Reviewer: **Matthias Koeppe**

Author: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/33162_





---

archive/issue_events_423614.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-13T19:07:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423614"
}
```



---

archive/issue_events_423615.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-13T19:07:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423615"
}
```



---

archive/issue_events_423616.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-13T19:07:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423616"
}
```



---

archive/issue_events_423617.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-13T19:07:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423617"
}
```



---

archive/issue_comments_539025.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nin cmake [config of cryptominisat](https://github.com/msoos/cryptominisat/blob/master/python/CMakeLists.txt) on sees\n\n```\nif(DEFINED ENV{PYCRYPTOSAT_INSTALL_PATH})\n    set(PY_INSTALL_PREFIX \"--prefix=$ENV{PYCRYPTOSAT_INSTALL_PATH}\")\nelseif(DEFINED ENV{VIRTUAL_ENV})\n    set(PY_INSTALL_PREFIX \"\")\nelse()\n    set(PY_INSTALL_PREFIX \"--prefix=${CMAKE_INSTALL_PREFIX}\")\nendif()\n```\n\nso one can explicitly set the path for the module. But to what value?",
    "created_at": "2022-01-13T19:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539025",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'>Comment 1:</a>
in cmake [config of cryptominisat](https://github.com/msoos/cryptominisat/blob/master/python/CMakeLists.txt) on sees

```
if(DEFINED ENV{PYCRYPTOSAT_INSTALL_PATH})
    set(PY_INSTALL_PREFIX "--prefix=$ENV{PYCRYPTOSAT_INSTALL_PATH}")
elseif(DEFINED ENV{VIRTUAL_ENV})
    set(PY_INSTALL_PREFIX "")
else()
    set(PY_INSTALL_PREFIX "--prefix=${CMAKE_INSTALL_PREFIX}")
endif()
```

so one can explicitly set the path for the module. But to what value?



---

archive/issue_comments_539026.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nSee also\n\n- #25374: Upgrade cryptominisat to fix cryptominisat build on Cygwin",
    "created_at": "2022-01-13T20:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539026",
    "user": "https://github.com/slel"
}
```

<a id='comment:2'>Comment 2:</a>
See also

- #25374: Upgrade cryptominisat to fix cryptominisat build on Cygwin



---

archive/issue_comments_539027.json:
```json
{
    "body": "Changed keywords from **** to **cryptominisat**",
    "created_at": "2022-01-13T20:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539027",
    "user": "https://github.com/slel"
}
```

Changed keywords from **** to **cryptominisat**



---

archive/issue_events_423618.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-13T20:09:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "title_is": "Fix installation of cryptominisat and pycryptosat",
    "title_was": "installation of pycryprosat/cryptominisat is broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423618"
}
```



---

archive/issue_comments_539028.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nIn principle, it would be set to ${SAGE_VENV}. \nBut it is not a correct solution, as explained in [#25374 comment:39](https://github.com/sagemath/sage/issues/25374#comment:39)",
    "created_at": "2022-01-13T20:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539028",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'>Comment 4:</a>
In principle, it would be set to ${SAGE_VENV}. 
But it is not a correct solution, as explained in [#25374 comment:39](https://github.com/sagemath/sage/issues/25374#comment:39)



---

archive/issue_comments_539029.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@mkoeppe](#comment%3A4):\n> In principle, it would be set to ${SAGE_VENV}. \n> But it is not a correct solution, as explained in [#25374 comment:39](https://github.com/sagemath/sage/issues/25374#comment:39)\n\nI don't see why it's not OK. Passing `PYCRYPTOSAT_INSTALL_PATH=$SAGE_VENV`\nwould make sure the python package installs in the correct venv, while the rest goes where it should.",
    "created_at": "2022-01-13T20:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539029",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@mkoeppe](#comment%3A4):
> In principle, it would be set to ${SAGE_VENV}. 
> But it is not a correct solution, as explained in [#25374 comment:39](https://github.com/sagemath/sage/issues/25374#comment:39)

I don't see why it's not OK. Passing `PYCRYPTOSAT_INSTALL_PATH=$SAGE_VENV`
would make sure the python package installs in the correct venv, while the rest goes where it should.



---

archive/issue_comments_539030.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBecause of our installation records in SAGE_LOCAL/var/lib/sage/installed/ and SAGE_VENV/var/lib/sage/installed.",
    "created_at": "2022-01-13T20:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539030",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'>Comment 6:</a>
Because of our installation records in SAGE_LOCAL/var/lib/sage/installed/ and SAGE_VENV/var/lib/sage/installed.



---

archive/issue_comments_539031.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@mkoeppe](#comment%3A6):\n> Because of our installation records in SAGE_LOCAL/var/lib/sage/installed/ and SAGE_VENV/var/lib/sage/installed.\n> \n\ncan we allow Python modules in SAGE_LOCAL, too? As a temporary fix, at least.",
    "created_at": "2022-01-13T21:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539031",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@mkoeppe](#comment%3A6):
> Because of our installation records in SAGE_LOCAL/var/lib/sage/installed/ and SAGE_VENV/var/lib/sage/installed.
> 

can we allow Python modules in SAGE_LOCAL, too? As a temporary fix, at least.



---

archive/issue_comments_539032.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nno, they won't be in the load path.",
    "created_at": "2022-01-14T03:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539032",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'>Comment 8:</a>
no, they won't be in the load path.



---

archive/issue_comments_539033.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nSolution is as I said in [#25374 comment:48](https://github.com/sagemath/sage/issues/25374#comment:48)",
    "created_at": "2022-01-14T03:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539033",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'>Comment 9:</a>
Solution is as I said in [#25374 comment:48](https://github.com/sagemath/sage/issues/25374#comment:48)



---

archive/issue_comments_539034.json:
```json
{
    "body": "Commit: **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**",
    "created_at": "2022-01-14T10:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539034",
    "user": "https://github.com/dimpase"
}
```

Commit: **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**



---

archive/issue_events_423619.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-14T10:21:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423619"
}
```



---

archive/issue_comments_539035.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2022-01-14T10:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539035",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_539036.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nhere is an easier fix. \n\nMade it blocker, as this fixes an otherwise totally broken optional package.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430\">cdd19b0</a></td><td><code>correctly install pycryptosat</code></td></tr></table>\n",
    "created_at": "2022-01-14T10:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539036",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'>Comment 10:</a>
here is an easier fix. 

Made it blocker, as this fixes an otherwise totally broken optional package.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430">cdd19b0</a></td><td><code>correctly install pycryptosat</code></td></tr></table>




---

archive/issue_events_423620.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-14T10:21:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423620"
}
```



---

archive/issue_events_423621.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-14T10:21:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423621"
}
```



---

archive/issue_comments_539037.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/cryptominisat-fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-fix)**",
    "created_at": "2022-01-14T10:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539037",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/cryptominisat-fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-fix)**



---

archive/issue_comments_539038.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nThis is not enough because it will break when you switch to a different Python.",
    "created_at": "2022-01-14T15:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539038",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'>Comment 11:</a>
This is not enough because it will break when you switch to a different Python.



---

archive/issue_events_423622.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-14T15:56:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423622"
}
```



---

archive/issue_events_423623.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-14T15:56:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423623"
}
```



---

archive/issue_comments_539039.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\ncryptominisat depends on\n$(PYTHON), thus such a switch will trigger a rebuild.",
    "created_at": "2022-01-14T17:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539039",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'>Comment 12:</a>
cryptominisat depends on
$(PYTHON), thus such a switch will trigger a rebuild.



---

archive/issue_comments_539040.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nNope",
    "created_at": "2022-01-14T17:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539040",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'>Comment 13:</a>
Nope



---

archive/issue_comments_539041.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nthen I don't understand what \"switch\" means.",
    "created_at": "2022-01-14T18:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539041",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'>Comment 14:</a>
then I don't understand what "switch" means.



---

archive/issue_comments_539042.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nWhen a system python is in use, `$(PYTHON)` is the path to `$(SAGE_VENV)/pyvenv.cfg`. This file is created on creation of the venv for the configured python and is never updated.\n\nSwitching between pythons = Re-running `configure`, with or without `--with-python=....`, which selects different system python versions.",
    "created_at": "2022-01-14T18:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539042",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'>Comment 15:</a>
When a system python is in use, `$(PYTHON)` is the path to `$(SAGE_VENV)/pyvenv.cfg`. This file is created on creation of the venv for the configured python and is never updated.

Switching between pythons = Re-running `configure`, with or without `--with-python=....`, which selects different system python versions.



---

archive/issue_comments_539043.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nand how does one trigger rebuild of a Pyhton package in such a case?",
    "created_at": "2022-01-14T18:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539043",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'>Comment 16:</a>
and how does one trigger rebuild of a Pyhton package in such a case?



---

archive/issue_comments_539044.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nInstallation records for Python packages are kept in $(SAGE_VENV)/var/lib/sage/installed.\nDifferent Python version -> Different SAGE_VENV -> different installation records.",
    "created_at": "2022-01-14T18:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539044",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'>Comment 17:</a>
Installation records for Python packages are kept in $(SAGE_VENV)/var/lib/sage/installed.
Different Python version -> Different SAGE_VENV -> different installation records.



---

archive/issue_comments_539045.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nthis does not answer my question.",
    "created_at": "2022-01-14T18:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539045",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'>Comment 18:</a>
this does not answer my question.



---

archive/issue_comments_539046.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nThen I don't understand your question - what should trigger a rebuild of what?",
    "created_at": "2022-01-14T18:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539046",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'>Comment 19:</a>
Then I don't understand your question - what should trigger a rebuild of what?



---

archive/issue_comments_539047.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nhow does using another Python in a configure run sets up rebuilt of python packages? Suppose you have \n\n```\n./configure --with-python=foo\nmake\n./configure --with-python=bar\nmake\n```\nWhat is triggering building Python packages for `bar` ?",
    "created_at": "2022-01-14T19:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539047",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'>Comment 20:</a>
how does using another Python in a configure run sets up rebuilt of python packages? Suppose you have 

```
./configure --with-python=foo
make
./configure --with-python=bar
make
```
What is triggering building Python packages for `bar` ?



---

archive/issue_comments_539048.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nIf foo is python3.8 and bar is python3.9, \nthen first, `SAGE_VENV=$SAGE_LOCAL/var/lib/sage/venv-python3.8`\nand after reconfiguration, `SAGE_VENV=$SAGE_LOCAL/var/lib/sage/venv-python3.9`.\n\nInstallation records for Python packages are kept in `$SAGE_VENV/var/lib/sage/installed`.\nAfter reconfiguration, no Python package will have installation records. So all Python packages are built.",
    "created_at": "2022-01-14T19:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539048",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'>Comment 21:</a>
If foo is python3.8 and bar is python3.9, 
then first, `SAGE_VENV=$SAGE_LOCAL/var/lib/sage/venv-python3.8`
and after reconfiguration, `SAGE_VENV=$SAGE_LOCAL/var/lib/sage/venv-python3.9`.

Installation records for Python packages are kept in `$SAGE_VENV/var/lib/sage/installed`.
After reconfiguration, no Python package will have installation records. So all Python packages are built.



---

archive/issue_comments_539049.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nI've added some explanation of this in https://wiki.sagemath.org/ReleaseTours/sage-9.5#Separate_virtual_environment_for_Python_packages",
    "created_at": "2022-01-14T19:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539049",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'>Comment 22:</a>
I've added some explanation of this in https://wiki.sagemath.org/ReleaseTours/sage-9.5#Separate_virtual_environment_for_Python_packages



---

archive/issue_comments_539050.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\ncan we set up a \"dummy\" Python package pycryptosat, a dependency of cryptominisat, which sole purpose is to trigger rebuild of cryptominisat ?",
    "created_at": "2022-01-14T19:37:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539050",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'>Comment 23:</a>
can we set up a "dummy" Python package pycryptosat, a dependency of cryptominisat, which sole purpose is to trigger rebuild of cryptominisat ?



---

archive/issue_comments_539051.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nWhy not just make it an ordinary package?",
    "created_at": "2022-01-14T19:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539051",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'>Comment 24:</a>
Why not just make it an ordinary package?



---

archive/issue_comments_539052.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nbecause I have no idea how to decouple pycryptosat from cryptominisat.\n\nthe former is generated on the fly from templates, by the latter.",
    "created_at": "2022-01-14T20:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539052",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'>Comment 25:</a>
because I have no idea how to decouple pycryptosat from cryptominisat.

the former is generated on the fly from templates, by the latter.



---

archive/issue_comments_539053.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nThere is not a separate Makefile target for just installing the Python package?\nOK to build the C library twice; but we should avoid to install it twice.",
    "created_at": "2022-01-14T20:29:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539053",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'>Comment 26:</a>
There is not a separate Makefile target for just installing the Python package?
OK to build the C library twice; but we should avoid to install it twice.



---

archive/issue_comments_539054.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nmakefiles generated by cmake are usually a mess.",
    "created_at": "2022-01-14T20:51:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539054",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'>Comment 27:</a>
makefiles generated by cmake are usually a mess.



---

archive/issue_comments_539055.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nI would be surprised if so built python module was linked correctly, against the already installed library, and not the one built by this 2nd round.\n\nHow about just renaming cryptominisat spkg to pycryptosat ?",
    "created_at": "2022-01-14T21:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539055",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'>Comment 28:</a>
I would be surprised if so built python module was linked correctly, against the already installed library, and not the one built by this 2nd round.

How about just renaming cryptominisat spkg to pycryptosat ?



---

archive/issue_comments_539056.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nReplying to [@dimpase](#comment%3A28):\n> I would be surprised if so built python module was linked correctly, against the already installed library, and not the one built by this 2nd round.\n\nI don't see how it could fail. All the rpaths are set correctly by the build system.",
    "created_at": "2022-01-14T21:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539056",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'>Comment 29:</a>
Replying to [@dimpase](#comment%3A28):
> I would be surprised if so built python module was linked correctly, against the already installed library, and not the one built by this 2nd round.

I don't see how it could fail. All the rpaths are set correctly by the build system.



---

archive/issue_comments_539057.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@dimpase](#comment%3A28):\n> How about just renaming cryptominisat spkg to pycryptosat ?\n\nFine with me; then you could add an `install-requires.txt`, which will ensure installation will go into SAGE_VENV.",
    "created_at": "2022-01-14T21:07:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539057",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@dimpase](#comment%3A28):
> How about just renaming cryptominisat spkg to pycryptosat ?

Fine with me; then you could add an `install-requires.txt`, which will ensure installation will go into SAGE_VENV.



---

archive/issue_comments_539058.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nimho using `sdh_pip_install` already makes sure it goes to SAGE_VENV, no?",
    "created_at": "2022-01-14T21:23:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539058",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'>Comment 31:</a>
imho using `sdh_pip_install` already makes sure it goes to SAGE_VENV, no?



---

archive/issue_comments_539059.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nThe installation of the Python package yes, but not the library and not the installation record!",
    "created_at": "2022-01-14T22:07:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539059",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'>Comment 32:</a>
The installation of the Python package yes, but not the library and not the installation record!



---

archive/issue_comments_539060.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nBut the present branch is certainly an improvement, so let's consider it a hotfix for Sage 9.5",
    "created_at": "2022-01-14T23:53:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539060",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'>Comment 33:</a>
But the present branch is certainly an improvement, so let's consider it a hotfix for Sage 9.5



---

archive/issue_events_423624.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-14T23:53:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423624"
}
```



---

archive/issue_events_423625.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-14T23:53:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423625"
}
```



---

archive/issue_comments_539061.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2022-01-15T01:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539061",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_comments_539062.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [@mkoeppe](#comment%3A32):\n> The installation of the Python package yes, but not the library and not the installation record!\n\n\nthe library still goes to SAGE_LOCAL.\n\nImho all the sdh_ - scripts correctly set installation records of Sage.",
    "created_at": "2022-01-15T09:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539062",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [@mkoeppe](#comment%3A32):
> The installation of the Python package yes, but not the library and not the installation record!


the library still goes to SAGE_LOCAL.

Imho all the sdh_ - scripts correctly set installation records of Sage.



---

archive/issue_comments_539063.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb\">e3d8e91</a></td><td><code>spin off installation of cryptominisat's Python</code></td></tr></table>\n",
    "created_at": "2022-01-15T14:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539063",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'>Comment 36:</a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb">e3d8e91</a></td><td><code>spin off installation of cryptominisat's Python</code></td></tr></table>




---

archive/issue_events_423626.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-01-15T14:28:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423626"
}
```



---

archive/issue_events_423627.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-01-15T14:28:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423627"
}
```



---

archive/issue_comments_539064.json:
```json
{
    "body": "Changed commit from **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)** to **[e3d8e91](https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb)**",
    "created_at": "2022-01-15T14:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539064",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)** to **[e3d8e91](https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb)**



---

archive/issue_comments_539065.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nIs this what you kept in mind? Turns out one just needs to run cmake to get pycryptosat set up, no need to build the library twice.",
    "created_at": "2022-01-15T14:30:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539065",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:37'>Comment 37:</a>
Is this what you kept in mind? Turns out one just needs to run cmake to get pycryptosat set up, no need to build the library twice.



---

archive/issue_comments_539066.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nReplying to [@dimpase](#comment%3A35):\n> Imho all the sdh_ - scripts correctly set installation records of Sage. \n\nThe installation records are set by `sage-spkg`, not by `sdh_...`.\nOne record for one package.",
    "created_at": "2022-01-15T16:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539066",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'>Comment 38:</a>
Replying to [@dimpase](#comment%3A35):
> Imho all the sdh_ - scripts correctly set installation records of Sage. 

The installation records are set by `sage-spkg`, not by `sdh_...`.
One record for one package.



---

archive/issue_comments_539067.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nReplying to [@dimpase](#comment%3A37):\n> Is this what you kept in mind? Turns out one just needs to run cmake to get pycryptosat set up, no need to build the library twice.\n\nAlmost. Still need `build/pkgs/pycryptosat/install-requires.txt` so that the installation record goes into SAGE_VENV, not in SAGE_LOCAL",
    "created_at": "2022-01-15T16:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539067",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'>Comment 39:</a>
Replying to [@dimpase](#comment%3A37):
> Is this what you kept in mind? Turns out one just needs to run cmake to get pycryptosat set up, no need to build the library twice.

Almost. Still need `build/pkgs/pycryptosat/install-requires.txt` so that the installation record goes into SAGE_VENV, not in SAGE_LOCAL



---

archive/issue_comments_539068.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nAnd `build/pkgs/pycryptosat/checksums.ini` should be a symlink, not a copy, of `cryptominisat`'s.\n(Like it is done for `gcc`/`gfortran`)",
    "created_at": "2022-01-15T16:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539068",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'>Comment 40:</a>
And `build/pkgs/pycryptosat/checksums.ini` should be a symlink, not a copy, of `cryptominisat`'s.
(Like it is done for `gcc`/`gfortran`)



---

archive/issue_comments_539069.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nAre the `pycryptosat` `distros` correct? Do the \"cryptominisat\" distro packages really install the Python bindings?",
    "created_at": "2022-01-15T16:29:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539069",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'>Comment 41:</a>
Are the `pycryptosat` `distros` correct? Do the "cryptominisat" distro packages really install the Python bindings?



---

archive/issue_comments_539070.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nAlso a good moment to add `upstream_url` in `checksums.ini`",
    "created_at": "2022-01-15T16:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539070",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'>Comment 42:</a>
Also a good moment to add `upstream_url` in `checksums.ini`



---

archive/issue_comments_539071.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nAlso note that the positively reviewed version of this ticket is already on Volker's branch, so best to reset to that and continue on a follow-up ticket",
    "created_at": "2022-01-15T16:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539071",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'>Comment 43:</a>
Also note that the positively reviewed version of this ticket is already on Volker's branch, so best to reset to that and continue on a follow-up ticket



---

archive/issue_comments_539072.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-15T17:13:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539072",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'>Comment 44:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_539073.json:
```json
{
    "body": "Changed commit from **[e3d8e91](https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb)** to **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**",
    "created_at": "2022-01-15T17:13:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539073",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e3d8e91](https://github.com/sagemath/sagetrac-mirror/commit/e3d8e9190033b14a3da5626a19701429fa9633fb)** to **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**



---

archive/issue_comments_539074.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nok, this is the old fix",
    "created_at": "2022-01-15T17:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539074",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:45'>Comment 45:</a>
ok, this is the old fix



---

archive/issue_events_423628.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-15T17:14:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423628"
}
```



---

archive/issue_events_423629.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-01-15T17:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423629"
}
```



---

archive/issue_comments_539075.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nfollowup on #33183",
    "created_at": "2022-01-15T17:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539075",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'>Comment 46:</a>
followup on #33183



---

archive/issue_comments_539076.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nReplying to [@mkoeppe](#comment%3A41):\n> Are the `pycryptosat` `distros` correct? Do the \"cryptominisat\" distro packages really install the Python bindings?\n\nI don't know - as spkg-configure is not yet there, it can be left as such for the time being.",
    "created_at": "2022-01-15T17:21:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539076",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:47'>Comment 47:</a>
Replying to [@mkoeppe](#comment%3A41):
> Are the `pycryptosat` `distros` correct? Do the "cryptominisat" distro packages really install the Python bindings?

I don't know - as spkg-configure is not yet there, it can be left as such for the time being.



---

archive/issue_events_423630.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-15T18:58:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423630"
}
```



---

archive/issue_events_423631.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "fe634f86137dff7f03977b4c5bd24fb78ef8db39",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-01-15T18:58:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33162#event-423631"
}
```



---

archive/issue_comments_539077.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/cryptominisat-fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-fix)** to **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**",
    "created_at": "2022-01-15T18:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539077",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/cryptominisat-fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cryptominisat-fix)** to **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)**



---

archive/issue_comments_539078.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nIt seems something is missing (maybe a dependency) as it is now broken on my machine, see https://groups.google.com/g/sage-release/c/1YV0dNtEZz4/m/Tm7RSWINAgAJ\n\nIs there a ticket for it already? I think I have seen a report of the failure earlier this week by someone else, I don't remember where.",
    "created_at": "2022-01-21T16:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539078",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:49'>Comment 49:</a>
It seems something is missing (maybe a dependency) as it is now broken on my machine, see https://groups.google.com/g/sage-release/c/1YV0dNtEZz4/m/Tm7RSWINAgAJ

Is there a ticket for it already? I think I have seen a report of the failure earlier this week by someone else, I don't remember where.



---

archive/issue_comments_539079.json:
```json
{
    "body": "Changed commit from **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)** to none",
    "created_at": "2022-01-21T16:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539079",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[cdd19b0](https://github.com/sagemath/sagetrac-mirror/commit/cdd19b0ac19b7c1cd3c9df1e55468e3cd5d23430)** to none



---

archive/issue_comments_539080.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nmissing python toolchain in deps of cryptominisat.\n\nsee #33183",
    "created_at": "2022-01-21T21:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33162",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33162#issuecomment-539080",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:50'>Comment 50:</a>
missing python toolchain in deps of cryptominisat.

see #33183
