# Issue 33347: Enforce MathJax for every page of Sage documentation

archive/issues_033110.json:
```json
{
    "assignees": [],
    "body": "HTML pages of our documentation that contain maths only in TOC trees do not render maths by MathJax because Sphinx does not include MathJax javascript files as the Sphinx MathJax extension does not recognize maths in TOC trees and to save loading time. See for instance,\n\n  https://doc.sagemath.org/html/en/reference/schemes/index.html\n\nThere could be several solutions:\n\n1. Fix in the upstream Sphinx MathJax extension. A relevant discussion is\n\n   https://github.com/sphinx-doc/sphinx/issues/10192\n\n2. Add dummy :math:... to every inflicted pages to enable MathJax.\n\n3. Enable MathJax by brute force by adding line\n\n  ```python\n  html_js_files = ['MathJax.js?config=TeX-AMS_HTML-full', 'mathjax_sage.js']\n   ``` \n   for `conf` files. But this results in duplicate MathJax inclusion \n   in the generated html file.\n\n4. Rewrite maths in titles using bold, italics, superscripts, and subscripts as allowed in rst format.\n\nA good solution would be implemented in this ticket.\n\n\nBranch/Commit: **[`231b0e0`](https://github.com/sagemath/sagetrac-mirror/commit/231b0e05edc6b3500d2868dc13fe05720a2e51d8)**\n\nReviewer: **Kwankyu Lee**\n\nAuthor: **John Palmieri**\n\nComponent: **documentation**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33347_\n\n",
    "closed_at": "2022-03-09T23:38:04Z",
    "created_at": "2022-02-15T05:27:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Enforce MathJax for every page of Sage documentation",
    "type": "issue",
    "updated_at": "2022-03-09T23:38:04Z",
    "url": "https://github.com/sagemath/sage/issues/33347",
    "user": "https://github.com/kwankyu"
}
```
HTML pages of our documentation that contain maths only in TOC trees do not render maths by MathJax because Sphinx does not include MathJax javascript files as the Sphinx MathJax extension does not recognize maths in TOC trees and to save loading time. See for instance,

  https://doc.sagemath.org/html/en/reference/schemes/index.html

There could be several solutions:

1. Fix in the upstream Sphinx MathJax extension. A relevant discussion is

   https://github.com/sphinx-doc/sphinx/issues/10192

2. Add dummy :math:... to every inflicted pages to enable MathJax.

3. Enable MathJax by brute force by adding line

  ```python
  html_js_files = ['MathJax.js?config=TeX-AMS_HTML-full', 'mathjax_sage.js']
   ``` 
   for `conf` files. But this results in duplicate MathJax inclusion 
   in the generated html file.

4. Rewrite maths in titles using bold, italics, superscripts, and subscripts as allowed in rst format.

A good solution would be implemented in this ticket.


Branch/Commit: **[`231b0e0`](https://github.com/sagemath/sagetrac-mirror/commit/231b0e05edc6b3500d2868dc13fe05720a2e51d8)**

Reviewer: **Kwankyu Lee**

Author: **John Palmieri**

Component: **documentation**

_Issue created by migration from https://trac.sagemath.org/ticket/33347_





---

archive/issue_events_460667.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-02-15T05:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460667"
}
```



---

archive/issue_events_460668.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-02-15T05:27:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460668"
}
```



---

archive/issue_events_460669.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-02-15T05:27:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460669"
}
```



---

archive/issue_events_460670.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-02-15T05:27:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460670"
}
```



---

archive/issue_comments_538904.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,8 +13,7 @@\n 3. Enable MathJax by brute force by adding line\n \n   ```python\n-  html_js_files = ['MathJax.js?config=TeX-AMS_HTML-full', \n-  'mathjax_sage.js']\n+  html_js_files = ['MathJax.js?config=TeX-AMS_HTML-full', 'mathjax_sage.js']\n    ``` \n    for `conf` files. But this results in duplicate MathJax inclusion \n    in the generated html file.\n``````\n",
    "created_at": "2022-02-15T05:30:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538904",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,8 +13,7 @@
 3. Enable MathJax by brute force by adding line
 
   ```python
-  html_js_files = ['MathJax.js?config=TeX-AMS_HTML-full', 
-  'mathjax_sage.js']
+  html_js_files = ['MathJax.js?config=TeX-AMS_HTML-full', 'mathjax_sage.js']
    ``` 
    for `conf` files. But this results in duplicate MathJax inclusion 
    in the generated html file.
``````




---

archive/issue_comments_538905.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI don't know much about html. What is the disadvantage to duplicate MathJax inclusion in html files?",
    "created_at": "2022-02-15T05:34:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538905",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">comment:2</div>

I don't know much about html. What is the disadvantage to duplicate MathJax inclusion in html files?



---

archive/issue_comments_538906.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nWe could also adopt a style that strongly discourages math from titles, and we could replace (for example) <code>\\`p\\`-adic</code> by `<em>p</em>-adic`. Html can handle boldface, italics, subscripts, and superscripts, and that probably covers almost all of our math usage in tables of contents.",
    "created_at": "2022-02-15T05:36:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538906",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">comment:3</div>

We could also adopt a style that strongly discourages math from titles, and we could replace (for example) <code>\`p\`-adic</code> by `<em>p</em>-adic`. Html can handle boldface, italics, subscripts, and superscripts, and that probably covers almost all of our math usage in tables of contents.



---

archive/issue_comments_538907.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@jhpalmieri](#comment:2):\n> I don't know much about html. What is the disadvantage to duplicate MathJax inclusion in html files?\n\nPerhaps the same disadvantage of running a program twice, aside aesthetic reason.",
    "created_at": "2022-02-15T05:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538907",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@jhpalmieri](#comment:2):
> I don't know much about html. What is the disadvantage to duplicate MathJax inclusion in html files?

Perhaps the same disadvantage of running a program twice, aside aesthetic reason.



---

archive/issue_comments_538908.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@jhpalmieri](#comment:3):\n> We could also adopt a style that strongly discourages math from titles, and we could replace (for example) <code>\\`p\\`-adic</code> by `<em>p</em>-adic`. Html can handle boldface, italics, subscripts, and superscripts, and that probably covers almost all of our math usage in tables of contents.\n\nDoc files are in reStructuredText format. HTML tags do not work in rst files, as I understand.\n\nIf Sphinx people do not help, then we may go for the option (2) somehow.",
    "created_at": "2022-02-15T05:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538908",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@jhpalmieri](#comment:3):
> We could also adopt a style that strongly discourages math from titles, and we could replace (for example) <code>\`p\`-adic</code> by `<em>p</em>-adic`. Html can handle boldface, italics, subscripts, and superscripts, and that probably covers almost all of our math usage in tables of contents.

Doc files are in reStructuredText format. HTML tags do not work in rst files, as I understand.

If Sphinx people do not help, then we may go for the option (2) somehow.



---

archive/issue_comments_538909.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@kwankyu](#comment:4):\n> Replying to [@jhpalmieri](#comment:2):\n> > I don't know much about html. What is the disadvantage to duplicate MathJax inclusion in html files?\n\n> \n> Perhaps the same disadvantage of running a program twice, aside aesthetic reason.\n\nThe web page https://developer.yahoo.com/performance/rules.html claims that duplicate inclusion of javascript files hurts performance.",
    "created_at": "2022-02-15T05:53:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538909",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@kwankyu](#comment:4):
> Replying to [@jhpalmieri](#comment:2):
> > I don't know much about html. What is the disadvantage to duplicate MathJax inclusion in html files?

> 
> Perhaps the same disadvantage of running a program twice, aside aesthetic reason.

The web page https://developer.yahoo.com/performance/rules.html claims that duplicate inclusion of javascript files hurts performance.



---

archive/issue_comments_538910.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@kwankyu](#comment:5):\n> Replying to [@jhpalmieri](#comment:3):\n> > We could also adopt a style that strongly discourages math from titles, and we could replace (for example) <code>\\`p\\`-adic</code> by `<em>p</em>-adic`. Html can handle boldface, italics, subscripts, and superscripts, and that probably covers almost all of our math usage in tables of contents.\n\n> \n> Doc files are in reStructuredText format.\n\nNo kidding.\n\n> HTML tags do not work in rst files, as I understand.\n\nrst can also do bold, italics, superscripts, and subscripts.",
    "created_at": "2022-02-15T05:54:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538910",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@kwankyu](#comment:5):
> Replying to [@jhpalmieri](#comment:3):
> > We could also adopt a style that strongly discourages math from titles, and we could replace (for example) <code>\`p\`-adic</code> by `<em>p</em>-adic`. Html can handle boldface, italics, subscripts, and superscripts, and that probably covers almost all of our math usage in tables of contents.

> 
> Doc files are in reStructuredText format.

No kidding.

> HTML tags do not work in rst files, as I understand.

rst can also do bold, italics, superscripts, and subscripts.



---

archive/issue_comments_538911.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n   https://doc.sagemath.org/html/en/reference/schemes/index.html\n \n-There could be several solutions in the order of preference:\n+There could be several solutions:\n \n 1. Fix in the upstream Sphinx MathJax extension. A relevant discussion is\n \n@@ -18,5 +18,7 @@\n    for `conf` files. But this results in duplicate MathJax inclusion \n    in the generated html file.\n \n+4. Rewrite maths in titles using bold, italics, superscripts, and subscripts as allowed in rst format.\n+\n A good solution would be implemented in this ticket.\n \n``````\n",
    "created_at": "2022-02-15T06:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538911",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
   https://doc.sagemath.org/html/en/reference/schemes/index.html
 
-There could be several solutions in the order of preference:
+There could be several solutions:
 
 1. Fix in the upstream Sphinx MathJax extension. A relevant discussion is
 
@@ -18,5 +18,7 @@
    for `conf` files. But this results in duplicate MathJax inclusion 
    in the generated html file.
 
+4. Rewrite maths in titles using bold, italics, superscripts, and subscripts as allowed in rst format.
+
 A good solution would be implemented in this ticket.
 
``````




---

archive/issue_comments_538912.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@jhpalmieri](#comment:7):\n> > HTML tags do not work in rst files, as I understand.\n\n> \n> rst can also do bold, italics, superscripts, and subscripts.\n\nOkay, then.",
    "created_at": "2022-02-15T06:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538912",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@jhpalmieri](#comment:7):
> > HTML tags do not work in rst files, as I understand.

> 
> rst can also do bold, italics, superscripts, and subscripts.

Okay, then.



---

archive/issue_comments_538913.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHow would you like to proceed? Should we start converting math in module titles to bold, italics, etc.?",
    "created_at": "2022-03-04T02:39:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538913",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:9" align="right">comment:9</div>

How would you like to proceed? Should we start converting math in module titles to bold, italics, etc.?



---

archive/issue_comments_538914.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@jhpalmieri](#comment:9):\n> How would you like to proceed? Should we start converting math in module titles to bold, italics, etc.?\n\nI would like to go for the option 1 or 2. If Sphinx people do not provide an official way to enforce MathJax inclusion, then we may investigate unofficial ways (such as tweaking Shinx's `MathDomain` somehow, where `has_equation` test is defined). If we fail, then a simplest (but a bit ugly) solution is the option 2 (adding dummy math nodes).\n\nI really don't like the option 4, which would make our documentation include maths in an alternative format.\n\nAnyway I am busy now for my main work. Let me get back to this ticket later.",
    "created_at": "2022-03-04T04:46:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538914",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@jhpalmieri](#comment:9):
> How would you like to proceed? Should we start converting math in module titles to bold, italics, etc.?

I would like to go for the option 1 or 2. If Sphinx people do not provide an official way to enforce MathJax inclusion, then we may investigate unofficial ways (such as tweaking Shinx's `MathDomain` somehow, where `has_equation` test is defined). If we fail, then a simplest (but a bit ugly) solution is the option 2 (adding dummy math nodes).

I really don't like the option 4, which would make our documentation include maths in an alternative format.

Anyway I am busy now for my main work. Let me get back to this ticket later.



---

archive/issue_comments_538915.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nFor the option 2, this dummy works pretty well:\n\n```diff\n--- a/src/doc/en/reference/finite_rings/index.rst\n+++ b/src/doc/en/reference/finite_rings/index.rst\n@@ -1,5 +1,8 @@\n Finite Rings\n-====================================\n+============\n+\n+.. math::\n+   :nowrap:\n \n Finite Rings\n ------------\n```\n\nGetting maths back by adding this bit of ugly thing seems worth it.",
    "created_at": "2022-03-04T12:05:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538915",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:11" align="right">comment:11</div>

For the option 2, this dummy works pretty well:

```diff
--- a/src/doc/en/reference/finite_rings/index.rst
+++ b/src/doc/en/reference/finite_rings/index.rst
@@ -1,5 +1,8 @@
 Finite Rings
-====================================
+============
+
+.. math::
+   :nowrap:
 
 Finite Rings
 ------------
```

Getting maths back by adding this bit of ugly thing seems worth it.



---

archive/issue_comments_538916.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis single change works, since `footer.txt` is imported into the various index files:\n\n```diff\ndiff --git a/src/doc/en/reference/footer.txt b/src/doc/en/reference/footer.txt\nindex fa7bc30eea..e9b5166be4 100644\n--- a/src/doc/en/reference/footer.txt\n+++ b/src/doc/en/reference/footer.txt\n@@ -1,6 +1,9 @@\n Indices and Tables\n ==================\n \n+.. math::\n+   :nowrap:\n+\n * `Index <../genindex.html>`_\n * `Module Index <../py-modindex.html>`_\n * `Search Page <../search.html>`_\n```",
    "created_at": "2022-03-04T22:27:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538916",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

This single change works, since `footer.txt` is imported into the various index files:

```diff
diff --git a/src/doc/en/reference/footer.txt b/src/doc/en/reference/footer.txt
index fa7bc30eea..e9b5166be4 100644
--- a/src/doc/en/reference/footer.txt
+++ b/src/doc/en/reference/footer.txt
@@ -1,6 +1,9 @@
 Indices and Tables
 ==================
 
+.. math::
+   :nowrap:
+
 * `Index <../genindex.html>`_
 * `Module Index <../py-modindex.html>`_
 * `Search Page <../search.html>`_
```



---

archive/issue_comments_538917.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI can push a branch with that change (+ some minor fixes for the TOC entries for the p-adics page) if you want.",
    "created_at": "2022-03-04T22:30:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538917",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:13" align="right">comment:13</div>

I can push a branch with that change (+ some minor fixes for the TOC entries for the p-adics page) if you want.



---

archive/issue_comments_538918.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jhpalmieri](#comment:13):\n> I can push a branch with that change (+ some minor fixes for the TOC entries for the p-adics page) if you want.\n\nPlease go ahead. Thank you.",
    "created_at": "2022-03-05T03:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538918",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jhpalmieri](#comment:13):
> I can push a branch with that change (+ some minor fixes for the TOC entries for the p-adics page) if you want.

Please go ahead. Thank you.



---

archive/issue_comments_538919.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nMoreover we may need to add somewhere in the developer manual a remark about the purpose of the added lines to prevent anyone from deleting the seemingly useless lines.",
    "created_at": "2022-03-05T03:43:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538919",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:15" align="right">comment:15</div>

Moreover we may need to add somewhere in the developer manual a remark about the purpose of the added lines to prevent anyone from deleting the seemingly useless lines.



---

archive/issue_comments_538920.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jhpalmieri](#comment:12):\n> This single change works, since `footer.txt` is imported into the various index files.\n\nGood idea!",
    "created_at": "2022-03-05T03:45:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538920",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jhpalmieri](#comment:12):
> This single change works, since `footer.txt` is imported into the various index files.

Good idea!



---

archive/issue_comments_538921.json:
```json
{
    "body": "Branch: **[u/jhpalmieri/sphinx-force-mathjax](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/sphinx-force-mathjax)**",
    "created_at": "2022-03-05T16:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538921",
    "user": "https://github.com/jhpalmieri"
}
```

Branch: **[u/jhpalmieri/sphinx-force-mathjax](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/sphinx-force-mathjax)**



---

archive/issue_comments_538922.json:
```json
{
    "body": "Commit: **[`f57953a`](https://github.com/sagemath/sagetrac-mirror/commit/f57953a6082a031e92dfb144006a6b74ae0e8277)**",
    "created_at": "2022-03-05T17:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538922",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[`f57953a`](https://github.com/sagemath/sagetrac-mirror/commit/f57953a6082a031e92dfb144006a6b74ae0e8277)**



---

archive/issue_comments_538923.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOkay, here is a branch. Before this, about half of the p-adic TOC entries used <code>\\`p\\`-adic</code> and the rest used `p-adic` (no math mode); now they all use the former.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f57953a6082a031e92dfb144006a6b74ae0e8277\"><code>f57953a</code></a></td><td><code>trac 33347: force MathJax on every reference manual index page</code></td></tr></table>\n",
    "created_at": "2022-03-05T17:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538923",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:18" align="right">comment:18</div>

Okay, here is a branch. Before this, about half of the p-adic TOC entries used <code>\`p\`-adic</code> and the rest used `p-adic` (no math mode); now they all use the former.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f57953a6082a031e92dfb144006a6b74ae0e8277"><code>f57953a</code></a></td><td><code>trac 33347: force MathJax on every reference manual index page</code></td></tr></table>




---

archive/issue_comments_538924.json:
```json
{
    "body": "Author: **John Palmieri**",
    "created_at": "2022-03-05T17:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538924",
    "user": "https://github.com/jhpalmieri"
}
```

Author: **John Palmieri**



---

archive/issue_events_460671.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-03-05T17:00:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460671"
}
```



---

archive/issue_comments_538925.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAs in\n\nhttps://en.wikipedia.org/wiki/P-adic_analysis\n\np-adic seems in a better style than p-Adic in titles. If you agree, I can upload a commit to apply this style to p-adics.",
    "created_at": "2022-03-06T03:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538925",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:20" align="right">comment:20</div>

As in

https://en.wikipedia.org/wiki/P-adic_analysis

p-adic seems in a better style than p-Adic in titles. If you agree, I can upload a commit to apply this style to p-adics.



---

archive/issue_comments_538926.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kwankyu](#comment:20):\n> As in\n> \n> https://en.wikipedia.org/wiki/P-adic_analysis\n> \n> p-adic seems in a better style than p-Adic in titles.\n\n+1.\n\nGood main title \"p-adic analysis\" there,\nsubsection title \"P-adic quantum mechanics\" needs work:\n\n- https://en.wikipedia.org/wiki/P-adic_analysis#P-adic_quantum_mechanics\n\nthough the main title \"p-adic_quantum_mechanics\"\nat the dedicated page for it is good:\n\n- https://en.wikipedia.org/wiki/P-adic_quantum_mechanics",
    "created_at": "2022-03-06T13:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538926",
    "user": "https://github.com/slel"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kwankyu](#comment:20):
> As in
> 
> https://en.wikipedia.org/wiki/P-adic_analysis
> 
> p-adic seems in a better style than p-Adic in titles.

+1.

Good main title "p-adic analysis" there,
subsection title "P-adic quantum mechanics" needs work:

- https://en.wikipedia.org/wiki/P-adic_analysis#P-adic_quantum_mechanics

though the main title "p-adic_quantum_mechanics"
at the dedicated page for it is good:

- https://en.wikipedia.org/wiki/P-adic_quantum_mechanics



---

archive/issue_comments_538927.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/963b355d34daa659a790b42cca71d3c0b494abbf\"><code>963b355</code></a></td><td><code>Better p-adic than p-Adic</code></td></tr></table>\n",
    "created_at": "2022-03-06T14:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538927",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:22"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/963b355d34daa659a790b42cca71d3c0b494abbf"><code>963b355</code></a></td><td><code>Better p-adic than p-Adic</code></td></tr></table>




---

archive/issue_comments_538928.json:
```json
{
    "body": "Changed commit from **[`f57953a`](https://github.com/sagemath/sagetrac-mirror/commit/f57953a6082a031e92dfb144006a6b74ae0e8277)** to **[`963b355`](https://github.com/sagemath/sagetrac-mirror/commit/963b355d34daa659a790b42cca71d3c0b494abbf)**",
    "created_at": "2022-03-06T14:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538928",
    "user": "https://github.com/kwankyu"
}
```

Changed commit from **[`f57953a`](https://github.com/sagemath/sagetrac-mirror/commit/f57953a6082a031e92dfb144006a6b74ae0e8277)** to **[`963b355`](https://github.com/sagemath/sagetrac-mirror/commit/963b355d34daa659a790b42cca71d3c0b494abbf)**



---

archive/issue_comments_538929.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/sphinx-force-mathjax](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/sphinx-force-mathjax)** to **[public/33347](https://github.com/sagemath/sagetrac-mirror/tree/public/33347)**",
    "created_at": "2022-03-06T14:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538929",
    "user": "https://github.com/kwankyu"
}
```

Changed branch from **[u/jhpalmieri/sphinx-force-mathjax](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/sphinx-force-mathjax)** to **[public/33347](https://github.com/sagemath/sagetrac-mirror/tree/public/33347)**



---

archive/issue_comments_538930.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2022-03-06T14:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538930",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_538931.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI am positive on the branch. But let me do the final check on the built documentation.",
    "created_at": "2022-03-06T14:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538931",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:23" align="right">comment:23</div>

I am positive on the branch. But let me do the final check on the built documentation.



---

archive/issue_comments_538932.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/231b0e05edc6b3500d2868dc13fe05720a2e51d8\"><code>231b0e0</code></a></td><td><code>trac 33347: doctest fix</code></td></tr></table>\n",
    "created_at": "2022-03-06T18:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538932",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/231b0e05edc6b3500d2868dc13fe05720a2e51d8"><code>231b0e0</code></a></td><td><code>trac 33347: doctest fix</code></td></tr></table>




---

archive/issue_comments_538933.json:
```json
{
    "body": "Changed commit from **[`963b355`](https://github.com/sagemath/sagetrac-mirror/commit/963b355d34daa659a790b42cca71d3c0b494abbf)** to **[`231b0e0`](https://github.com/sagemath/sagetrac-mirror/commit/231b0e05edc6b3500d2868dc13fe05720a2e51d8)**",
    "created_at": "2022-03-06T18:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538933",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`963b355`](https://github.com/sagemath/sagetrac-mirror/commit/963b355d34daa659a790b42cca71d3c0b494abbf)** to **[`231b0e0`](https://github.com/sagemath/sagetrac-mirror/commit/231b0e05edc6b3500d2868dc13fe05720a2e51d8)**



---

archive/issue_comments_538934.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOne easy-to-fix doctest failure, otherwise looks good to me.\n\nFor a future ticket: if we can think of a way to solve it, changing the html title of the web page to not use math would be nice. As it is, the title bar in my browser says `Ring \\(\\ZZ/n\\ZZ\\) of integers modulo \\(n\\) \u2014 Finite Rings`. Is there a handy way to autoconvert the title?",
    "created_at": "2022-03-06T18:34:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538934",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:25" align="right">comment:25</div>

One easy-to-fix doctest failure, otherwise looks good to me.

For a future ticket: if we can think of a way to solve it, changing the html title of the web page to not use math would be nice. As it is, the title bar in my browser says `Ring \(\ZZ/n\ZZ\) of integers modulo \(n\) — Finite Rings`. Is there a handy way to autoconvert the title?



---

archive/issue_comments_538935.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@jhpalmieri](#comment:25):\n> For a future ticket: if we can think of a way to solve it, changing the html title of the web page to not use math would be nice. As it is, the title bar in my browser says `Ring \\(\\ZZ/n\\ZZ\\) of integers modulo \\(n\\) \u2014 Finite Rings`. Is there a handy way to autoconvert the title?\n\nSimply removing `\\(`, `\\)` pairs, backslashes, (and `$` perhaps) would be enough. This could be done on the fly by javascript...",
    "created_at": "2022-03-07T01:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538935",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@jhpalmieri](#comment:25):
> For a future ticket: if we can think of a way to solve it, changing the html title of the web page to not use math would be nice. As it is, the title bar in my browser says `Ring \(\ZZ/n\ZZ\) of integers modulo \(n\) — Finite Rings`. Is there a handy way to autoconvert the title?

Simply removing `\(`, `\)` pairs, backslashes, (and `$` perhaps) would be enough. This could be done on the fly by javascript...



---

archive/issue_comments_538936.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nMorally greenbot.",
    "created_at": "2022-03-07T07:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538936",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:27" align="right">comment:27</div>

Morally greenbot.



---

archive/issue_events_460672.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-03-07T07:08:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460672"
}
```



---

archive/issue_events_460673.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-03-07T07:08:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460673"
}
```



---

archive/issue_comments_538937.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@kwankyu](#comment:26):\n> Simply removing `\\(`, `\\)` pairs, backslashes, (and `$` perhaps) would be enough. This could be done on the fly by javascript...\n\nDone in #33475.",
    "created_at": "2022-03-07T07:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538937",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@kwankyu](#comment:26):
> Simply removing `\(`, `\)` pairs, backslashes, (and `$` perhaps) would be enough. This could be done on the fly by javascript...

Done in #33475.



---

archive/issue_events_460674.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-09T23:38:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460674"
}
```



---

archive/issue_events_460675.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1b9dbfe1d6a2742330993409a90cd3f90d4780d1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-03-09T23:38:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33347#event-460675"
}
```



---

archive/issue_comments_538938.json:
```json
{
    "body": "Changed branch from **[public/33347](https://github.com/sagemath/sagetrac-mirror/tree/public/33347)** to **[`231b0e0`](https://github.com/sagemath/sagetrac-mirror/commit/231b0e05edc6b3500d2868dc13fe05720a2e51d8)**",
    "created_at": "2022-03-09T23:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33347",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33347#issuecomment-538938",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/33347](https://github.com/sagemath/sagetrac-mirror/tree/public/33347)** to **[`231b0e0`](https://github.com/sagemath/sagetrac-mirror/commit/231b0e05edc6b3500d2868dc13fe05720a2e51d8)**
