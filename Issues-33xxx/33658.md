# Issue 33658: Argument type checking in classical_cipher.py is buggy

archive/issues_033421.json:
```json
{
    "body": "Students often call these functions with strings. This results in an error like \"str has no attribute parent\":\n\n```python\n    336         \"\"\"\n    337         dom = self.domain()  # = plaintext_space = ciphertext_space\n--> 338         if not isinstance(M, StringMonoidElement) and M.parent() == dom:\n    339             raise TypeError(\"Argument M (= %s) must be a string in the plaintext/ciphertext space.\" % M)\n    340         from sage.rings.finite_rings.integer_mod import Mod\n\nAttributeError: 'str' object has no attribute 'parent'\n```\n\nNote that it almost made it to raising a `TypeError` which would be tidier.\n\nBranch: u/hoodmane/classical-ciper-typeerrors\n\nStatus: new\n\nIssue created by migration from https://trac.sagemath.org/ticket/33658\n\n",
    "created_at": "2022-04-07T22:19:59Z",
    "labels": [
        "component: cryptography",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Argument type checking in classical_cipher.py is buggy",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33658",
    "user": "https://github.com/hoodmane"
}
```
Students often call these functions with strings. This results in an error like "str has no attribute parent":

```python
    336         """
    337         dom = self.domain()  # = plaintext_space = ciphertext_space
--> 338         if not isinstance(M, StringMonoidElement) and M.parent() == dom:
    339             raise TypeError("Argument M (= %s) must be a string in the plaintext/ciphertext space." % M)
    340         from sage.rings.finite_rings.integer_mod import Mod

AttributeError: 'str' object has no attribute 'parent'
```

Note that it almost made it to raising a `TypeError` which would be tidier.

Branch: u/hoodmane/classical-ciper-typeerrors

Status: new

Issue created by migration from https://trac.sagemath.org/ticket/33658





---

archive/issue_comments_475229.json:
```json
{
    "body": "<a id='comment:4'></a>I get a permission error when trying to push though.",
    "created_at": "2022-04-07T22:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33658#issuecomment-475229",
    "user": "https://github.com/hoodmane"
}
```

<a id='comment:4'></a>I get a permission error when trying to push though.



---

archive/issue_comments_475230.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 gh-hoodmane]:\n> I get a permission error when trying to push though.\n\ntry `u/gh-hoodmane/classical-ciper-typeerrors`",
    "created_at": "2022-04-08T05:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33658",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33658#issuecomment-475230",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:5'></a>Replying to [comment:4 gh-hoodmane]:
> I get a permission error when trying to push though.

try `u/gh-hoodmane/classical-ciper-typeerrors`



---

archive/issue_events_088498.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33658",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33658#event-88498"
}
```



---

archive/issue_events_088499.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33658",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33658#event-88499"
}
```



---

archive/issue_events_088500.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33658",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33658#event-88500"
}
```
