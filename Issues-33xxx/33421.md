# Issue 33421: Add elliptic_curves dependency to sagemath_doc_html

archive/issues_033184.json:
```json
{
    "body": "Needed after #32993, which enriched the documentation\nwith pictures of elliptic curve plots.\n\nThe code for drawing those uses labels from Cremona's\nelliptic curve database.\n\nIn a fresh clone, `make -j1` builds `sagemath_doc_html`\nbefore `elliptic_curves`, and fails.\n\nThe error message somewhat misleadingly suggests to install\nthe full elliptic curves database provided by the\n`database_cremona_ellcurve` optional spkg,\nwhen only the mini Cremona database provided by the\n`elliptic_curves` standard spkg is in fact needed.\n\nSince `elliptic_curves` is standard, hinting at\ninstalling `database_cremona_ellcurve` when an\nelliptic curve cannot be found by label is understandable.\n\nThus adding the missing new dependency on `elliptic_curves`\nto `sagemath_doc_html` is all that is needed here.\n\nReported also in https://groups.google.com/g/sage-devel/c/jxJ50Oqxpzo/m/ikdx8X4JBwAJ\n\nCC:  jhonrubia6 @kwankyu @slel @videlec\n\nKeywords: dependency\n\nBranch/Commit: 3d4ff93180ade17257759ad41acd00589d77c9ea\n\nReviewer: Matthias Koeppe\n\nAuthor: Samuel Leli\u00e8vre\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33421\n\n",
    "closed_at": "2022-03-03T22:19:57Z",
    "created_at": "2022-02-27T10:59:23Z",
    "labels": [
        "component: documentation",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Add elliptic_curves dependency to sagemath_doc_html",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33421",
    "user": "https://github.com/slel"
}
```
Needed after #32993, which enriched the documentation
with pictures of elliptic curve plots.

The code for drawing those uses labels from Cremona's
elliptic curve database.

In a fresh clone, `make -j1` builds `sagemath_doc_html`
before `elliptic_curves`, and fails.

The error message somewhat misleadingly suggests to install
the full elliptic curves database provided by the
`database_cremona_ellcurve` optional spkg,
when only the mini Cremona database provided by the
`elliptic_curves` standard spkg is in fact needed.

Since `elliptic_curves` is standard, hinting at
installing `database_cremona_ellcurve` when an
elliptic curve cannot be found by label is understandable.

Thus adding the missing new dependency on `elliptic_curves`
to `sagemath_doc_html` is all that is needed here.

Reported also in https://groups.google.com/g/sage-devel/c/jxJ50Oqxpzo/m/ikdx8X4JBwAJ

CC:  jhonrubia6 @kwankyu @slel @videlec

Keywords: dependency

Branch/Commit: 3d4ff93180ade17257759ad41acd00589d77c9ea

Reviewer: Matthias Koeppe

Author: Samuel Lelièvre

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33421





---

archive/issue_comments_666362.json:
```json
{
    "body": "<a id='comment:1'></a>> In a fresh clone, `make -j1` builds `sagemath_doc_html` before `elliptic_curves`, and fails.\n\n\nIs this, building the doc before the sage library, normal?",
    "created_at": "2022-02-27T11:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666362",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:1'></a>> In a fresh clone, `make -j1` builds `sagemath_doc_html` before `elliptic_curves`, and fails.


Is this, building the doc before the sage library, normal?



---

archive/issue_comments_666363.json:
```json
{
    "body": "<a id='comment:2'></a>No, `sagemath_doc_html` depends on `sagelib` which depends on `eclib`.\n\nShould `elliptic_curves` be added to `sagelib`'s or `eclib`'s dependencies?",
    "created_at": "2022-02-27T12:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666363",
    "user": "https://github.com/slel"
}
```

<a id='comment:2'></a>No, `sagemath_doc_html` depends on `sagelib` which depends on `eclib`.

Should `elliptic_curves` be added to `sagelib`'s or `eclib`'s dependencies?



---

archive/issue_comments_666364.json:
```json
{
    "body": "<a id='comment:3'></a>I'd be in favor of adding it to `sagemath_doc_html`'s dependencies as proposed",
    "created_at": "2022-02-27T19:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666364",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>I'd be in favor of adding it to `sagemath_doc_html`'s dependencies as proposed



---

archive/issue_comments_666365.json:
```json
{
    "body": "<a id='comment:5'></a>Should it go before or after the `|` in the `dependencies` file?",
    "created_at": "2022-03-01T11:16:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666365",
    "user": "https://github.com/slel"
}
```

<a id='comment:5'></a>Should it go before or after the `|` in the `dependencies` file?



---

archive/issue_comments_666366.json:
```json
{
    "body": "<a id='comment:6'></a>It does not matter in this case, perhaps put it after",
    "created_at": "2022-03-01T18:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666366",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>It does not matter in this case, perhaps put it after



---

archive/issue_comments_666367.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,6 +20,8 @@\n Thus adding the missing new dependency on `elliptic_curves`\n to `sagemath_doc_html` is all that is needed here.\n \n+Reported also in https://groups.google.com/g/sage-devel/c/jxJ50Oqxpzo/m/ikdx8X4JBwAJ\n+\n Comment: 1\n \n Priority: major\n``````\n",
    "created_at": "2022-03-01T18:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666367",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,6 +20,8 @@
 Thus adding the missing new dependency on `elliptic_curves`
 to `sagemath_doc_html` is all that is needed here.
 
+Reported also in https://groups.google.com/g/sage-devel/c/jxJ50Oqxpzo/m/ikdx8X4JBwAJ
+
 Comment: 1
 
 Priority: major
``````




---

archive/issue_comments_666368.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2022-03-01T18:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666368",
    "user": "https://github.com/mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_666369.json:
```json
{
    "body": "<a id='comment:9'></a>Ready for review.\n\n---\nNew commits:",
    "created_at": "2022-03-01T18:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666369",
    "user": "https://github.com/slel"
}
```

<a id='comment:9'></a>Ready for review.

---
New commits:



---

archive/issue_comments_666370.json:
```json
{
    "body": "Changing branch from \"\" to \"u/slelievre/33421\"",
    "created_at": "2022-03-01T18:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666370",
    "user": "https://github.com/slel"
}
```

Changing branch from "" to "u/slelievre/33421"



---

archive/issue_comments_666371.json:
```json
{
    "body": "Changing author from \"\" to \"Samuel Leli\u00e8vre\"",
    "created_at": "2022-03-01T18:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666371",
    "user": "https://github.com/slel"
}
```

Changing author from "" to "Samuel Lelièvre"



---

archive/issue_comments_666372.json:
```json
{
    "body": "Changing commit from \"\" to \"3d4ff93180ade17257759ad41acd00589d77c9ea\"",
    "created_at": "2022-03-01T18:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666372",
    "user": "https://github.com/slel"
}
```

Changing commit from "" to "3d4ff93180ade17257759ad41acd00589d77c9ea"



---

archive/issue_comments_666373.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-01T18:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666373",
    "user": "https://github.com/slel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_666374.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-01T18:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666374",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_666375.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-03-01T18:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666375",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Matthias Koeppe"



---

archive/issue_comments_666376.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-03T22:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666376",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_666377.json:
```json
{
    "body": "Changing branch from \"u/slelievre/33421\" to \"3d4ff93180ade17257759ad41acd00589d77c9ea\"",
    "created_at": "2022-03-03T22:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33421#issuecomment-666377",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/slelievre/33421" to "3d4ff93180ade17257759ad41acd00589d77c9ea"



---

archive/issue_events_088120.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-03T22:19:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33421",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33421#event-88120"
}
```
