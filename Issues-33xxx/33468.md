# Issue 33468: Feature for gfan

archive/issues_033231.json:
```json
{
    "body": "As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.\n\nThis makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).\n\nTo test:\n\n```\n$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,[\"z1\",\"zz1\"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'\n2\n```\n\nFollowing pycodestyle advice, we replace `I` by `input` and we add a deprecation message for it:\n\n```\n     sage: _ = gfan(I='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases')\n     doctest:...:\n     DeprecationWarning: use the option 'input' instead of 'I'\n     See https://trac.sagemath.org/33468 for details.\n```\n\nMoreover, the `format` argument was ignored, so we added a deprecation warning about it:\n\n```\nsage: _ = gfan(input='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases', format=True)\ndoctest:...:\nDeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\nSee https://trac.sagemath.org/33468 for details.\n```\n\nWe also added a deprecation for using the ignored `format` argument in the gfan method as used here:\n\n```\nsage: R.<x,y> = PolynomialRing(QQ,2)\nsage: gf = R.ideal([x^3-y,y^3-x-1]).groebner_fan()\nsage: gf.gfan(format=True)\n... DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\nSee https://trac.sagemath.org/33468 for details.\n  gf.gfan(format=True)\n'Q[x,y]\\n{{\\ny^9-1-y+3*y^3-3*y^6,\\nx+1-y^3}\\n,\\n{\\nx^3-y,\\ny^3-1-x}\\n,\\n{\\nx^9-1-x,\\ny-x^3}\\n}\\n'\n```\n\nCC:  @seblabbe\n\nBranch/Commit: 7fd1d61429d107a197a80a855516f27c09ff3d37\n\nReviewer: S\u00e9bastien Labb\u00e9, Matthias Koeppe\n\nAuthor: Matthias Koeppe, S\u00e9bastien Labb\u00e9\n\nDependencies: #31296\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33468\n\n",
    "closed_at": "2022-04-10T13:12:36Z",
    "created_at": "2022-03-06T03:12:32Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Feature for gfan",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33468",
    "user": "https://github.com/mkoeppe"
}
```
As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.

This makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).

To test:

```
$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,["z1","zz1"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'
2
```

Following pycodestyle advice, we replace `I` by `input` and we add a deprecation message for it:

```
     sage: _ = gfan(I='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases')
     doctest:...:
     DeprecationWarning: use the option 'input' instead of 'I'
     See https://trac.sagemath.org/33468 for details.
```

Moreover, the `format` argument was ignored, so we added a deprecation warning about it:

```
sage: _ = gfan(input='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases', format=True)
doctest:...:
DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
See https://trac.sagemath.org/33468 for details.
```

We also added a deprecation for using the ignored `format` argument in the gfan method as used here:

```
sage: R.<x,y> = PolynomialRing(QQ,2)
sage: gf = R.ideal([x^3-y,y^3-x-1]).groebner_fan()
sage: gf.gfan(format=True)
... DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
See https://trac.sagemath.org/33468 for details.
  gf.gfan(format=True)
'Q[x,y]\n{{\ny^9-1-y+3*y^3-3*y^6,\nx+1-y^3}\n,\n{\nx^3-y,\ny^3-1-x}\n,\n{\nx^9-1-x,\ny-x^3}\n}\n'
```

CC:  @seblabbe

Branch/Commit: 7fd1d61429d107a197a80a855516f27c09ff3d37

Reviewer: Sébastien Labbé, Matthias Koeppe

Author: Matthias Koeppe, Sébastien Labbé

Dependencies: #31296

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33468





---

archive/issue_comments_667199.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/feature_for_gfan\"",
    "created_at": "2022-03-25T19:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667199",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/feature_for_gfan"



---

archive/issue_comments_667200.json:
```json
{
    "body": "Changing commit from \"\" to \"b24764b905d39123066a34e6b73abd64638d5fe1\"",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667200",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "b24764b905d39123066a34e6b73abd64638d5fe1"



---

archive/issue_comments_667201.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667201",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_667202.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667202",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_667203.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.\n+\n+This makes Sage becomes fully functional even when not being run from within `sage-env` (which sets `PATH`).\n+\n+To test:\n+\n+```\n+$ venv/bin/python3 -c 'import sage.all; R.<z1,zz1> = PolynomialRing(QQ,2); print(R.ideal([z1^2*zz1-1,zz1-2]).groebner_fan())'\n+```\n \n \n Dependencies: #31296\n``````\n",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667203",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,12 @@
+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.
+
+This makes Sage becomes fully functional even when not being run from within `sage-env` (which sets `PATH`).
+
+To test:
+
+```
+$ venv/bin/python3 -c 'import sage.all; R.<z1,zz1> = PolynomialRing(QQ,2); print(R.ideal([z1^2*zz1-1,zz1-2]).groebner_fan())'
+```
 
 
 Dependencies: #31296
``````




---

archive/issue_comments_667204.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.\n+\n+This makes Sage becomes fully functional even when not being run from within `sage-env` (which sets `PATH`).\n+\n+To test:\n+\n+```\n+$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,[\"z1\",\"zz1\"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'\n+2\n+```\n \n \n Dependencies: #31296\n``````\n",
    "created_at": "2022-03-25T19:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667204",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.
+
+This makes Sage becomes fully functional even when not being run from within `sage-env` (which sets `PATH`).
+
+To test:
+
+```
+$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,["z1","zz1"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'
+2
+```
 
 
 Dependencies: #31296
``````




---

archive/issue_comments_667205.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-25T19:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667205",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_667206.json:
```json
{
    "body": "<a id='comment:5'></a>`from .join_feature import JoinFeature` is not used in gfan.py",
    "created_at": "2022-03-27T07:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667206",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:5'></a>`from .join_feature import JoinFeature` is not used in gfan.py



---

archive/issue_comments_667207.json:
```json
{
    "body": "Changing commit from \"b24764b905d39123066a34e6b73abd64638d5fe1\" to \"e6c61eb3d43ebcff4bf9bd99437968af3acd5d97\"",
    "created_at": "2022-03-27T15:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b24764b905d39123066a34e6b73abd64638d5fe1" to "e6c61eb3d43ebcff4bf9bd99437968af3acd5d97"



---

archive/issue_comments_667208.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-27T15:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_667209.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.\n+\n+This makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).\n+\n+To test:\n+\n+```\n+$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,[\"z1\",\"zz1\"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'\n+2\n+```\n \n \n Dependencies: #31296\n``````\n",
    "created_at": "2022-03-27T15:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667209",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.
+
+This makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).
+
+To test:
+
+```
+$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,["z1","zz1"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'
+2
+```
 
 
 Dependencies: #31296
``````




---

archive/issue_comments_667210.json:
```json
{
    "body": "Changing commit from \"e6c61eb3d43ebcff4bf9bd99437968af3acd5d97\" to \"25674e4aa8cc4d61b90073d7c8426e6b0b403a7a\"",
    "created_at": "2022-03-29T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667210",
    "user": "https://github.com/seblabbe"
}
```

Changing commit from "e6c61eb3d43ebcff4bf9bd99437968af3acd5d97" to "25674e4aa8cc4d61b90073d7c8426e6b0b403a7a"



---

archive/issue_comments_667211.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/feature_for_gfan\" to \"public/33468\"",
    "created_at": "2022-03-29T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667211",
    "user": "https://github.com/seblabbe"
}
```

Changing branch from "u/mkoeppe/feature_for_gfan" to "public/33468"



---

archive/issue_comments_667212.json:
```json
{
    "body": "<a id='comment:8'></a>I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6). It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?\n\n---\nNew commits:",
    "created_at": "2022-03-29T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667212",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:8'></a>I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6). It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?

---
New commits:



---

archive/issue_comments_667213.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 slabbe]:\n> I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6).\n\n\nThank you!\n\n> It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?\n\n\nGood idea, let's deprecate it",
    "created_at": "2022-03-29T18:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667213",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>Replying to [comment:8 slabbe]:
> I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6).


Thank you!

> It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?


Good idea, let's deprecate it



---

archive/issue_comments_667214.json:
```json
{
    "body": "Changing author from \"Matthias Koeppe\" to \"Matthias Koeppe, S\u00e9bastien Labb\u00e9\"",
    "created_at": "2022-03-29T18:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667214",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Matthias Koeppe" to "Matthias Koeppe, Sébastien Labbé"



---

archive/issue_comments_667215.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-29T20:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_667216.json:
```json
{
    "body": "Changing commit from \"25674e4aa8cc4d61b90073d7c8426e6b0b403a7a\" to \"e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38\"",
    "created_at": "2022-03-29T20:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "25674e4aa8cc4d61b90073d7c8426e6b0b403a7a" to "e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38"



---

archive/issue_comments_667217.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:9 mkoeppe]:\n> Good idea, let's deprecate it \n\n\nDone.",
    "created_at": "2022-03-29T20:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667217",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:11'></a>Replying to [comment:9 mkoeppe]:
> Good idea, let's deprecate it 


Done.



---

archive/issue_comments_667218.json:
```json
{
    "body": "<a id='comment:12'></a>\n```\n$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py \npycodestyle installed: pycodestyle==2.8.0\npycodestyle run-test-pre: PYTHONHASHSEED='1743415609'\npycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py\nsage/interfaces/gfan.py:28:1: E265 block comment should start with '# '\nsage/interfaces/gfan.py:41:1: E265 block comment should start with '# '\nsage/interfaces/gfan.py:52:24: E741 ambiguous variable name 'I'\nsage/interfaces/gfan.py:85:12: E714 test for object identity should be 'is not'\nsage/interfaces/gfan.py:88:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:89:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:90:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:114:1: E305 expected 2 blank lines after class or function definition, found 1\n3       E128 continuation line under-indented for visual indent\n2       E265 block comment should start with '# '\n1       E305 expected 2 blank lines after class or function definition, found 1\n1       E714 test for object identity should be 'is not'\n1       E741 ambiguous variable name 'I'\n```",
    "created_at": "2022-03-29T20:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667218",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
```
$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py 
pycodestyle installed: pycodestyle==2.8.0
pycodestyle run-test-pre: PYTHONHASHSEED='1743415609'
pycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py
sage/interfaces/gfan.py:28:1: E265 block comment should start with '# '
sage/interfaces/gfan.py:41:1: E265 block comment should start with '# '
sage/interfaces/gfan.py:52:24: E741 ambiguous variable name 'I'
sage/interfaces/gfan.py:85:12: E714 test for object identity should be 'is not'
sage/interfaces/gfan.py:88:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:89:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:90:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:114:1: E305 expected 2 blank lines after class or function definition, found 1
3       E128 continuation line under-indented for visual indent
2       E265 block comment should start with '# '
1       E305 expected 2 blank lines after class or function definition, found 1
1       E714 test for object identity should be 'is not'
1       E741 ambiguous variable name 'I'
```



---

archive/issue_comments_667219.json:
```json
{
    "body": "<a id='comment:13'></a>hahaha, more comments than lines of code added!\n\nOk, I will check this out tomorrow.",
    "created_at": "2022-03-29T21:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667219",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:13'></a>hahaha, more comments than lines of code added!

Ok, I will check this out tomorrow.



---

archive/issue_comments_667220.json:
```json
{
    "body": "Changing commit from \"e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38\" to \"eed35ab0d373abe581f9ad8e14e5549f56e85652\"",
    "created_at": "2022-03-31T09:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38" to "eed35ab0d373abe581f9ad8e14e5549f56e85652"



---

archive/issue_comments_667221.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-31T09:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_667222.json:
```json
{
    "body": "<a id='comment:15'></a>After `sage -pip intall tox`, I now get:\n\n```\n$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py\npycodestyle installed: pycodestyle==2.8.0\npycodestyle run-test-pre: PYTHONHASHSEED='1348994557'\npycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py\n______________________________________________ summary ______________________________________________\n  pycodestyle: commands succeeded\n  congratulations :)\n```\n\nNeeds review.",
    "created_at": "2022-03-31T09:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667222",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:15'></a>After `sage -pip intall tox`, I now get:

```
$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py
pycodestyle installed: pycodestyle==2.8.0
pycodestyle run-test-pre: PYTHONHASHSEED='1348994557'
pycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py
______________________________________________ summary ______________________________________________
  pycodestyle: commands succeeded
  congratulations :)
```

Needs review.



---

archive/issue_comments_667223.json:
```json
{
    "body": "<a id='comment:16'></a>I don't think we can rename `I` to `input` - it is a breaking interface change, as `gfan(I=...)` will not work any more.",
    "created_at": "2022-03-31T13:08:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667223",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>I don't think we can rename `I` to `input` - it is a breaking interface change, as `gfan(I=...)` will not work any more.



---

archive/issue_comments_667224.json:
```json
{
    "body": "<a id='comment:17'></a>True. I did that to fix one of the pycodestyle warning `E741 ambiguous variable name 'I'`.\n\nEither I revert that change or I use ``@`rename_keword(I=input)`. Any preference?",
    "created_at": "2022-04-01T07:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667224",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:17'></a>True. I did that to fix one of the pycodestyle warning `E741 ambiguous variable name 'I'`.

Either I revert that change or I use ``@`rename_keword(I=input)`. Any preference?



---

archive/issue_comments_667225.json:
```json
{
    "body": "Changing commit from \"eed35ab0d373abe581f9ad8e14e5549f56e85652\" to \"1a860dbfdc46244f1febffdd10e13a71ba367e80\"",
    "created_at": "2022-04-01T07:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667225",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "eed35ab0d373abe581f9ad8e14e5549f56e85652" to "1a860dbfdc46244f1febffdd10e13a71ba367e80"



---

archive/issue_comments_667226.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-04-01T07:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_667227.json:
```json
{
    "body": "<a id='comment:19'></a>So, I added a commit using the rename keyword stuff.\n\nAlso, I checked that `sage -grep \"gfan(I=\"` does not return any use case in the sage code.",
    "created_at": "2022-04-01T07:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667227",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:19'></a>So, I added a commit using the rename keyword stuff.

Also, I checked that `sage -grep "gfan(I="` does not return any use case in the sage code.



---

archive/issue_comments_667228.json:
```json
{
    "body": "<a id='comment:20'></a>I'm getting deprecation warnings in the doctests\n\n```\nFile \"src/sage/rings/polynomial/groebner_fan.py\", line 979, in sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors\nFailed example:\n    g.weight_vectors()\nExpected:\n    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]\nGot:\n    doctest:warning\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/bin/sage-runtests\", line 149, in <module>\n        err = DC.run()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py\", line 1343, in run\n        self.run_doctests()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py\", line 1044, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2016, in dispatch\n        self.parallel_dispatch()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 1911, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2185, in start\n        super(DocTestWorker, self).start()\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py\", line 121, in start\n        self._popen = self._Popen(self)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py\", line 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py\", line 19, in __init__\n        self._launch(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py\", line 71, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2157, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2487, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2539, in _run\n        result = runner.run(test)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 866, in run\n        return self._run(test, compileflags, out)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors[2]>\", line 1, in <module>\n        g.weight_vectors()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py\", line 988, in weight_vectors\n        ans, err = gfan_processes.communicate(input=str_to_bytes(self.gfan()))\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py\", line 1130, in gfan\n        s = gfan(I, cmd, verbose=self.__verbose, format=format)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/decorators.py\", line 651, in wrapper\n        return func(*args, **kwds)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/interfaces/gfan.py\", line 96, in __call__\n        deprecation(33468, 'argument `format` is ignored in the code: '\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py\", line 99, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py\", line 180, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\n    See https://trac.sagemath.org/33468 for details.\n    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]\n```",
    "created_at": "2022-04-01T15:59:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667228",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>I'm getting deprecation warnings in the doctests

```
File "src/sage/rings/polynomial/groebner_fan.py", line 979, in sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors
Failed example:
    g.weight_vectors()
Expected:
    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]
Got:
    doctest:warning
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/bin/sage-runtests", line 149, in <module>
        err = DC.run()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py", line 1343, in run
        self.run_doctests()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py", line 1044, in run_doctests
        self.dispatcher.dispatch()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2016, in dispatch
        self.parallel_dispatch()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 1911, in parallel_dispatch
        w.start()  # This might take some time
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2185, in start
        super(DocTestWorker, self).start()
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py", line 121, in start
        self._popen = self._Popen(self)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py", line 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py", line 19, in __init__
        self._launch(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py", line 71, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2157, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2487, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2539, in _run
        result = runner.run(test)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 866, in run
        return self._run(test, compileflags, out)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors[2]>", line 1, in <module>
        g.weight_vectors()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py", line 988, in weight_vectors
        ans, err = gfan_processes.communicate(input=str_to_bytes(self.gfan()))
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py", line 1130, in gfan
        s = gfan(I, cmd, verbose=self.__verbose, format=format)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/decorators.py", line 651, in wrapper
        return func(*args, **kwds)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/interfaces/gfan.py", line 96, in __call__
        deprecation(33468, 'argument `format` is ignored in the code: '
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py", line 99, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py", line 180, in warning
        warn(message, warning_class, stacklevel)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
    See https://trac.sagemath.org/33468 for details.
    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]
```



---

archive/issue_comments_667229.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-04-02T20:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667229",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_667230.json:
```json
{
    "body": "<a id='comment:22'></a>Indeed, the patchbot says the following doctests are failing:\n\n```\n----------------------------------------------------------------------\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/groebner_fan.py  # 3 doctests failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ru/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/en/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/fr/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/pt/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ja/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/de/tutorial/tour_advanced.rst  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2022-04-07T09:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667230",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:22'></a>Indeed, the patchbot says the following doctests are failing:

```
----------------------------------------------------------------------
sage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/groebner_fan.py  # 3 doctests failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ru/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/en/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/fr/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/pt/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ja/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/de/tutorial/tour_advanced.rst  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_comments_667231.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-04-07T09:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_667232.json:
```json
{
    "body": "Changing commit from \"1a860dbfdc46244f1febffdd10e13a71ba367e80\" to \"bab4d8ae03e06a8a3d311c39f992f52b1884d6b5\"",
    "created_at": "2022-04-07T09:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667232",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1a860dbfdc46244f1febffdd10e13a71ba367e80" to "bab4d8ae03e06a8a3d311c39f992f52b1884d6b5"



---

archive/issue_comments_667233.json:
```json
{
    "body": "<a id='comment:24'></a>I rebased on beta7.",
    "created_at": "2022-04-07T09:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667233",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:24'></a>I rebased on beta7.



---

archive/issue_comments_667234.json:
```json
{
    "body": "<a id='comment:25'></a>updated description with new added deprecation warnings",
    "created_at": "2022-04-07T09:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667234",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:25'></a>updated description with new added deprecation warnings



---

archive/issue_comments_667235.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,43 @@\n+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.\n \n+This makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).\n+\n+To test:\n+\n+```\n+$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,[\"z1\",\"zz1\"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'\n+2\n+```\n+\n+Following pycodestyle advice, we replace `I` by `input` and we add a deprecation message for it:\n+\n+```\n+     sage: _ = gfan(I='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases')\n+     doctest:...:\n+     DeprecationWarning: use the option 'input' instead of 'I'\n+     See https://trac.sagemath.org/33468 for details.\n+```\n+\n+Moreover, the `format` argument was ignored, so we added a deprecation warning about it:\n+\n+```\n+sage: _ = gfan(input='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases', format=True)\n+doctest:...:\n+DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\n+See https://trac.sagemath.org/33468 for details.\n+```\n+\n+We also added a deprecation for using the ignored `format` argument in the gfan method as used here:\n+\n+```\n+sage: R.<x,y> = PolynomialRing(QQ,2)\n+sage: gf = R.ideal([x^3-y,y^3-x-1]).groebner_fan()\n+sage: gf.gfan(format=True)\n+... DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\n+See https://trac.sagemath.org/33468 for details.\n+  gf.gfan(format=True)\n+'Q[x,y]\\n{{\\ny^9-1-y+3*y^3-3*y^6,\\nx+1-y^3}\\n,\\n{\\nx^3-y,\\ny^3-1-x}\\n,\\n{\\nx^9-1-x,\\ny-x^3}\\n}\\n'\n+```\n \n Dependencies: #31296\n \n``````\n",
    "created_at": "2022-04-07T09:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667235",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,43 @@
+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.
 
+This makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).
+
+To test:
+
+```
+$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,["z1","zz1"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'
+2
+```
+
+Following pycodestyle advice, we replace `I` by `input` and we add a deprecation message for it:
+
+```
+     sage: _ = gfan(I='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases')
+     doctest:...:
+     DeprecationWarning: use the option 'input' instead of 'I'
+     See https://trac.sagemath.org/33468 for details.
+```
+
+Moreover, the `format` argument was ignored, so we added a deprecation warning about it:
+
+```
+sage: _ = gfan(input='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases', format=True)
+doctest:...:
+DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
+See https://trac.sagemath.org/33468 for details.
+```
+
+We also added a deprecation for using the ignored `format` argument in the gfan method as used here:
+
+```
+sage: R.<x,y> = PolynomialRing(QQ,2)
+sage: gf = R.ideal([x^3-y,y^3-x-1]).groebner_fan()
+sage: gf.gfan(format=True)
+... DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
+See https://trac.sagemath.org/33468 for details.
+  gf.gfan(format=True)
+'Q[x,y]\n{{\ny^9-1-y+3*y^3-3*y^6,\nx+1-y^3}\n,\n{\nx^3-y,\ny^3-1-x}\n,\n{\nx^9-1-x,\ny-x^3}\n}\n'
+```
 
 Dependencies: #31296
 
``````




---

archive/issue_comments_667236.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-04-07T09:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_667237.json:
```json
{
    "body": "Changing commit from \"bab4d8ae03e06a8a3d311c39f992f52b1884d6b5\" to \"7fd1d61429d107a197a80a855516f27c09ff3d37\"",
    "created_at": "2022-04-07T09:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667237",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bab4d8ae03e06a8a3d311c39f992f52b1884d6b5" to "7fd1d61429d107a197a80a855516f27c09ff3d37"



---

archive/issue_comments_667238.json:
```json
{
    "body": "<a id='comment:27'></a>I added a deprecation of the format argument in groebner_fan.py file. I checked that it fixes the issues listed in comment:22.\n\nNeeds review!",
    "created_at": "2022-04-07T09:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667238",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:27'></a>I added a deprecation of the format argument in groebner_fan.py file. I checked that it fixes the issues listed in comment:22.

Needs review!



---

archive/issue_comments_667239.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-04-07T09:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667239",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_667240.json:
```json
{
    "body": "Changing reviewer from \"\" to \"..., Matthias Koeppe\"",
    "created_at": "2022-04-07T17:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667240",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "..., Matthias Koeppe"



---

archive/issue_comments_667241.json:
```json
{
    "body": "<a id='comment:28'></a>Thanks for all your work on this ticket! LGTM. The patchbot failures are unrelated.",
    "created_at": "2022-04-07T17:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667241",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>Thanks for all your work on this ticket! LGTM. The patchbot failures are unrelated.



---

archive/issue_comments_667242.json:
```json
{
    "body": "<a id='comment:29'></a>Is comment:28 suppose to be a positive review?",
    "created_at": "2022-04-08T08:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667242",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>Is comment:28 suppose to be a positive review?



---

archive/issue_comments_667243.json:
```json
{
    "body": "<a id='comment:30'></a>I think Matthias was waiting for someone to review his commit.\n\nI give a positive review to Matthias' commits.",
    "created_at": "2022-04-08T11:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667243",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:30'></a>I think Matthias was waiting for someone to review his commit.

I give a positive review to Matthias' commits.



---

archive/issue_comments_667244.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-04-08T11:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667244",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_667245.json:
```json
{
    "body": "Changing reviewer from \"..., Matthias Koeppe\" to \"S\u00e9bastien Labb\u00e9, Matthias Koeppe\"",
    "created_at": "2022-04-08T11:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667245",
    "user": "https://github.com/seblabbe"
}
```

Changing reviewer from "..., Matthias Koeppe" to "Sébastien Labbé, Matthias Koeppe"



---

archive/issue_comments_667246.json:
```json
{
    "body": "<a id='comment:31'></a>Thank you!",
    "created_at": "2022-04-08T17:46:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667246",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>Thank you!



---

archive/issue_events_088193.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-10T13:12:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33468#event-88193"
}
```



---

archive/issue_comments_667247.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-04-10T13:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667247",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_667248.json:
```json
{
    "body": "Changing branch from \"public/33468\" to \"7fd1d61429d107a197a80a855516f27c09ff3d37\"",
    "created_at": "2022-04-10T13:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667248",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/33468" to "7fd1d61429d107a197a80a855516f27c09ff3d37"
