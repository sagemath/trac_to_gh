# Issue 33468: Feature for gfan

archive/issues_033231.json:
```json
{
    "body": "As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.\n\nThis makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).\n\nTo test:\n\n```\n$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,[\"z1\",\"zz1\"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'\n2\n```\n\nFollowing pycodestyle advice, we replace `I` by `input` and we add a deprecation message for it:\n\n```\n     sage: _ = gfan(I='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases')\n     doctest:...:\n     DeprecationWarning: use the option 'input' instead of 'I'\n     See https://trac.sagemath.org/33468 for details.\n```\n\nMoreover, the `format` argument was ignored, so we added a deprecation warning about it:\n\n```\nsage: _ = gfan(input='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases', format=True)\ndoctest:...:\nDeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\nSee https://trac.sagemath.org/33468 for details.\n```\n\nWe also added a deprecation for using the ignored `format` argument in the gfan method as used here:\n\n```\nsage: R.<x,y> = PolynomialRing(QQ,2)\nsage: gf = R.ideal([x^3-y,y^3-x-1]).groebner_fan()\nsage: gf.gfan(format=True)\n... DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\nSee https://trac.sagemath.org/33468 for details.\n  gf.gfan(format=True)\n'Q[x,y]\\n{{\\ny^9-1-y+3*y^3-3*y^6,\\nx+1-y^3}\\n,\\n{\\nx^3-y,\\ny^3-1-x}\\n,\\n{\\nx^9-1-x,\\ny-x^3}\\n}\\n'\n```\n\nCC:  @seblabbe\n\nBranch/Commit: 7fd1d61429d107a197a80a855516f27c09ff3d37\n\nReviewer: S\u00e9bastien Labb\u00e9, Matthias Koeppe\n\nAuthor: Matthias Koeppe, S\u00e9bastien Labb\u00e9\n\nDependencies: #31296\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33468\n\n",
    "closed_at": "2022-04-10T13:12:36Z",
    "created_at": "2022-03-06T03:12:32Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Feature for gfan",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33468",
    "user": "https://github.com/mkoeppe"
}
```
As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.

This makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).

To test:

```
$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,["z1","zz1"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'
2
```

Following pycodestyle advice, we replace `I` by `input` and we add a deprecation message for it:

```
     sage: _ = gfan(I='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases')
     doctest:...:
     DeprecationWarning: use the option 'input' instead of 'I'
     See https://trac.sagemath.org/33468 for details.
```

Moreover, the `format` argument was ignored, so we added a deprecation warning about it:

```
sage: _ = gfan(input='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases', format=True)
doctest:...:
DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
See https://trac.sagemath.org/33468 for details.
```

We also added a deprecation for using the ignored `format` argument in the gfan method as used here:

```
sage: R.<x,y> = PolynomialRing(QQ,2)
sage: gf = R.ideal([x^3-y,y^3-x-1]).groebner_fan()
sage: gf.gfan(format=True)
... DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
See https://trac.sagemath.org/33468 for details.
  gf.gfan(format=True)
'Q[x,y]\n{{\ny^9-1-y+3*y^3-3*y^6,\nx+1-y^3}\n,\n{\nx^3-y,\ny^3-1-x}\n,\n{\nx^9-1-x,\ny-x^3}\n}\n'
```

CC:  @seblabbe

Branch/Commit: 7fd1d61429d107a197a80a855516f27c09ff3d37

Reviewer: Sébastien Labbé, Matthias Koeppe

Author: Matthias Koeppe, Sébastien Labbé

Dependencies: #31296

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33468





---

archive/issue_comments_667082.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/feature_for_gfan\"",
    "created_at": "2022-03-25T19:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667082",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/feature_for_gfan"



---

archive/issue_comments_667083.json:
```json
{
    "body": "Changing commit from \"\" to \"b24764b905d39123066a34e6b73abd64638d5fe1\"",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667083",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "b24764b905d39123066a34e6b73abd64638d5fe1"



---

archive/issue_comments_667084.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[b24764b](https://github.com/sagemath/sagetrac-mirror/commit/b24764b905d39123066a34e6b73abd64638d5fe1)|`src/sage/features/gfan.py: New, use it in sage.interfaces.gfan`|",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667084",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[b24764b](https://github.com/sagemath/sagetrac-mirror/commit/b24764b905d39123066a34e6b73abd64638d5fe1)|`src/sage/features/gfan.py: New, use it in sage.interfaces.gfan`|



---

archive/issue_comments_667085.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667085",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_667086.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,10 @@\n+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.\n \n+This makes Sage becomes fully functional even when not being run from within `sage-env` (which sets `PATH`).\n+\n+To test:\n+\n+```\n+$ venv/bin/python3 -c 'import sage.all; R.<z1,zz1> = PolynomialRing(QQ,2); print(R.ideal([z1^2*zz1-1,zz1-2]).groebner_fan())'\n+```\n+\n``````\n",
    "created_at": "2022-03-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667086",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,10 @@
+As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.
 
+This makes Sage becomes fully functional even when not being run from within `sage-env` (which sets `PATH`).
+
+To test:
+
+```
+$ venv/bin/python3 -c 'import sage.all; R.<z1,zz1> = PolynomialRing(QQ,2); print(R.ideal([z1^2*zz1-1,zz1-2]).groebner_fan())'
+```
+
``````




---

archive/issue_comments_667087.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n To test:\n \n ```\n-$ venv/bin/python3 -c 'import sage.all; R.<z1,zz1> = PolynomialRing(QQ,2); print(R.ideal([z1^2*zz1-1,zz1-2]).groebner_fan())'\n+$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,[\"z1\",\"zz1\"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'\n+2\n ```\n \n``````\n",
    "created_at": "2022-03-25T19:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667087",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 To test:
 
 ```
-$ venv/bin/python3 -c 'import sage.all; R.<z1,zz1> = PolynomialRing(QQ,2); print(R.ideal([z1^2*zz1-1,zz1-2]).groebner_fan())'
+$ venv/bin/python3 -c 'from sage.all import PolynomialRing, QQ; R = PolynomialRing(QQ,["z1","zz1"]); z1,zz1 = R.gens(); print(R.ideal([z1**2*zz1-1,zz1-2]).groebner_fan().maximal_total_degree_of_a_groebner_basis())'
+2
 ```
 
``````




---

archive/issue_comments_667088.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-25T19:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667088",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_667089.json:
```json
{
    "body": "<a id='comment:5'></a>\n`from .join_feature import JoinFeature` is not used in gfan.py",
    "created_at": "2022-03-27T07:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667089",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:5'></a>
`from .join_feature import JoinFeature` is not used in gfan.py



---

archive/issue_comments_667090.json:
```json
{
    "body": "Changing commit from \"b24764b905d39123066a34e6b73abd64638d5fe1\" to \"e6c61eb3d43ebcff4bf9bd99437968af3acd5d97\"",
    "created_at": "2022-03-27T15:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b24764b905d39123066a34e6b73abd64638d5fe1" to "e6c61eb3d43ebcff4bf9bd99437968af3acd5d97"



---

archive/issue_comments_667091.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[e6c61eb](https://github.com/sagemath/sagetrac-mirror/commit/e6c61eb3d43ebcff4bf9bd99437968af3acd5d97)|`src/sage/features/gfan.py: Remove unused import`|",
    "created_at": "2022-03-27T15:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[e6c61eb](https://github.com/sagemath/sagetrac-mirror/commit/e6c61eb3d43ebcff4bf9bd99437968af3acd5d97)|`src/sage/features/gfan.py: Remove unused import`|



---

archive/issue_comments_667092.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.\n \n-This makes Sage becomes fully functional even when not being run from within `sage-env` (which sets `PATH`).\n+This makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).\n \n To test:\n \n``````\n",
    "created_at": "2022-03-27T15:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667092",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 As a follow-up on #31296 and part of Meta-ticket #30818, we create `Feature`s for gfan executables and use these features in `sage.interfaces.gfan`.
 
-This makes Sage becomes fully functional even when not being run from within `sage-env` (which sets `PATH`).
+This makes Sage become fully functional even when not being run from within `sage-env` (which sets `PATH`).
 
 To test:
 
``````




---

archive/issue_comments_667093.json:
```json
{
    "body": "Changing commit from \"e6c61eb3d43ebcff4bf9bd99437968af3acd5d97\" to \"25674e4aa8cc4d61b90073d7c8426e6b0b403a7a\"",
    "created_at": "2022-03-29T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667093",
    "user": "https://github.com/seblabbe"
}
```

Changing commit from "e6c61eb3d43ebcff4bf9bd99437968af3acd5d97" to "25674e4aa8cc4d61b90073d7c8426e6b0b403a7a"



---

archive/issue_comments_667094.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/feature_for_gfan\" to \"public/33468\"",
    "created_at": "2022-03-29T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667094",
    "user": "https://github.com/seblabbe"
}
```

Changing branch from "u/mkoeppe/feature_for_gfan" to "public/33468"



---

archive/issue_comments_667095.json:
```json
{
    "body": "<a id='comment:8'></a>\nI added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6). It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n|[a091fe3](https://github.com/sagemath/sagetrac-mirror/commit/a091fe34fb791f6dbad57608aacdfecfddda1bc5)|`Merge branch 'u/mkoeppe/feature_for_gfan' of trac.sagemath.org:sage into 33468`|\n|[25674e4](https://github.com/sagemath/sagetrac-mirror/commit/25674e4aa8cc4d61b90073d7c8426e6b0b403a7a)|`33468: adding doctest to gfan interface call method`|",
    "created_at": "2022-03-29T13:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667095",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:8'></a>
I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6). It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?

---
New commits:
|                                                                                                                                          |                                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
|[a091fe3](https://github.com/sagemath/sagetrac-mirror/commit/a091fe34fb791f6dbad57608aacdfecfddda1bc5)|`Merge branch 'u/mkoeppe/feature_for_gfan' of trac.sagemath.org:sage into 33468`|
|[25674e4](https://github.com/sagemath/sagetrac-mirror/commit/25674e4aa8cc4d61b90073d7c8426e6b0b403a7a)|`33468: adding doctest to gfan interface call method`|



---

archive/issue_comments_667096.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [slabbe](#comment%3A8):\n> I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6).\n\n\nThank you!\n\n> It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?\n\n\nGood idea, let's deprecate it",
    "created_at": "2022-03-29T18:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667096",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Replying to [slabbe](#comment%3A8):
> I added a commit on top to add docstring and doctest for the `__call__` method (after merging with beta6).


Thank you!

> It made me realize that the `format` argument is just ignored in the code of `__call__`. Should we remove/deprecate it?


Good idea, let's deprecate it



---

archive/issue_comments_667097.json:
```json
{
    "body": "Changing author from \"Matthias Koeppe\" to \"Matthias Koeppe, S\u00e9bastien Labb\u00e9\"",
    "created_at": "2022-03-29T18:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667097",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Matthias Koeppe" to "Matthias Koeppe, Sébastien Labbé"



---

archive/issue_comments_667098.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[e6e3a38](https://github.com/sagemath/sagetrac-mirror/commit/e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38)|`33468: deprecate format argument`|",
    "created_at": "2022-03-29T20:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[e6e3a38](https://github.com/sagemath/sagetrac-mirror/commit/e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38)|`33468: deprecate format argument`|



---

archive/issue_comments_667099.json:
```json
{
    "body": "Changing commit from \"25674e4aa8cc4d61b90073d7c8426e6b0b403a7a\" to \"e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38\"",
    "created_at": "2022-03-29T20:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "25674e4aa8cc4d61b90073d7c8426e6b0b403a7a" to "e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38"



---

archive/issue_comments_667100.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [mkoeppe](#comment%3A9):\n> Good idea, let's deprecate it \n\n\nDone.",
    "created_at": "2022-03-29T20:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667100",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:11'></a>
Replying to [mkoeppe](#comment%3A9):
> Good idea, let's deprecate it 


Done.



---

archive/issue_comments_667101.json:
```json
{
    "body": "<a id='comment:12'></a>\n\n```\n$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py \npycodestyle installed: pycodestyle==2.8.0\npycodestyle run-test-pre: PYTHONHASHSEED='1743415609'\npycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py\nsage/interfaces/gfan.py:28:1: E265 block comment should start with '# '\nsage/interfaces/gfan.py:41:1: E265 block comment should start with '# '\nsage/interfaces/gfan.py:52:24: E741 ambiguous variable name 'I'\nsage/interfaces/gfan.py:85:12: E714 test for object identity should be 'is not'\nsage/interfaces/gfan.py:88:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:89:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:90:21: E128 continuation line under-indented for visual indent\nsage/interfaces/gfan.py:114:1: E305 expected 2 blank lines after class or function definition, found 1\n3       E128 continuation line under-indented for visual indent\n2       E265 block comment should start with '# '\n1       E305 expected 2 blank lines after class or function definition, found 1\n1       E714 test for object identity should be 'is not'\n1       E741 ambiguous variable name 'I'\n```",
    "created_at": "2022-03-29T20:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667101",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>

```
$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py 
pycodestyle installed: pycodestyle==2.8.0
pycodestyle run-test-pre: PYTHONHASHSEED='1743415609'
pycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py
sage/interfaces/gfan.py:28:1: E265 block comment should start with '# '
sage/interfaces/gfan.py:41:1: E265 block comment should start with '# '
sage/interfaces/gfan.py:52:24: E741 ambiguous variable name 'I'
sage/interfaces/gfan.py:85:12: E714 test for object identity should be 'is not'
sage/interfaces/gfan.py:88:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:89:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:90:21: E128 continuation line under-indented for visual indent
sage/interfaces/gfan.py:114:1: E305 expected 2 blank lines after class or function definition, found 1
3       E128 continuation line under-indented for visual indent
2       E265 block comment should start with '# '
1       E305 expected 2 blank lines after class or function definition, found 1
1       E714 test for object identity should be 'is not'
1       E741 ambiguous variable name 'I'
```



---

archive/issue_comments_667102.json:
```json
{
    "body": "<a id='comment:13'></a>\nhahaha, more comments than lines of code added!\n\nOk, I will check this out tomorrow.",
    "created_at": "2022-03-29T21:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667102",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:13'></a>
hahaha, more comments than lines of code added!

Ok, I will check this out tomorrow.



---

archive/issue_comments_667103.json:
```json
{
    "body": "Changing commit from \"e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38\" to \"eed35ab0d373abe581f9ad8e14e5549f56e85652\"",
    "created_at": "2022-03-31T09:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e6e3a38d59d67218fbc2c4b6b9890feb54e1fd38" to "eed35ab0d373abe581f9ad8e14e5549f56e85652"



---

archive/issue_comments_667104.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[eed35ab](https://github.com/sagemath/sagetrac-mirror/commit/eed35ab0d373abe581f9ad8e14e5549f56e85652)|`33468: fixing pycodestyle warnings`|",
    "created_at": "2022-03-31T09:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[eed35ab](https://github.com/sagemath/sagetrac-mirror/commit/eed35ab0d373abe581f9ad8e14e5549f56e85652)|`33468: fixing pycodestyle warnings`|



---

archive/issue_comments_667105.json:
```json
{
    "body": "<a id='comment:15'></a>\nAfter `sage -pip intall tox`, I now get:\n\n```\n$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py\npycodestyle installed: pycodestyle==2.8.0\npycodestyle run-test-pre: PYTHONHASHSEED='1348994557'\npycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py\n______________________________________________ summary ______________________________________________\n  pycodestyle: commands succeeded\n  congratulations :)\n```\n\nNeeds review.",
    "created_at": "2022-03-31T09:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667105",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:15'></a>
After `sage -pip intall tox`, I now get:

```
$ ./sage -tox -e pycodestyle src/sage/interfaces/gfan.py
pycodestyle installed: pycodestyle==2.8.0
pycodestyle run-test-pre: PYTHONHASHSEED='1348994557'
pycodestyle run-test: commands[0] | pycodestyle sage/interfaces/gfan.py
______________________________________________ summary ______________________________________________
  pycodestyle: commands succeeded
  congratulations :)
```

Needs review.



---

archive/issue_comments_667106.json:
```json
{
    "body": "<a id='comment:16'></a>\nI don't think we can rename `I` to `input` - it is a breaking interface change, as `gfan(I=...)` will not work any more.",
    "created_at": "2022-03-31T13:08:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667106",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
I don't think we can rename `I` to `input` - it is a breaking interface change, as `gfan(I=...)` will not work any more.



---

archive/issue_comments_667107.json:
```json
{
    "body": "<a id='comment:17'></a>\nTrue. I did that to fix one of the pycodestyle warning `E741 ambiguous variable name 'I'`.\n\nEither I revert that change or I use ``@`rename_keword(I=input)`. Any preference?",
    "created_at": "2022-04-01T07:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667107",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:17'></a>
True. I did that to fix one of the pycodestyle warning `E741 ambiguous variable name 'I'`.

Either I revert that change or I use ``@`rename_keword(I=input)`. Any preference?



---

archive/issue_comments_667108.json:
```json
{
    "body": "Changing commit from \"eed35ab0d373abe581f9ad8e14e5549f56e85652\" to \"1a860dbfdc46244f1febffdd10e13a71ba367e80\"",
    "created_at": "2022-04-01T07:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "eed35ab0d373abe581f9ad8e14e5549f56e85652" to "1a860dbfdc46244f1febffdd10e13a71ba367e80"



---

archive/issue_comments_667109.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[1a860db](https://github.com/sagemath/sagetrac-mirror/commit/1a860dbfdc46244f1febffdd10e13a71ba367e80)|`33468: `@`rename_keyword(I='input')`|",
    "created_at": "2022-04-01T07:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667109",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[1a860db](https://github.com/sagemath/sagetrac-mirror/commit/1a860dbfdc46244f1febffdd10e13a71ba367e80)|`33468: `@`rename_keyword(I='input')`|



---

archive/issue_comments_667110.json:
```json
{
    "body": "<a id='comment:19'></a>\nSo, I added a commit using the rename keyword stuff.\n\nAlso, I checked that `sage -grep \"gfan(I=\"` does not return any use case in the sage code.",
    "created_at": "2022-04-01T07:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667110",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:19'></a>
So, I added a commit using the rename keyword stuff.

Also, I checked that `sage -grep "gfan(I="` does not return any use case in the sage code.



---

archive/issue_comments_667111.json:
```json
{
    "body": "<a id='comment:20'></a>\nI'm getting deprecation warnings in the doctests\n\n```\nFile \"src/sage/rings/polynomial/groebner_fan.py\", line 979, in sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors\nFailed example:\n    g.weight_vectors()\nExpected:\n    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]\nGot:\n    doctest:warning\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/bin/sage-runtests\", line 149, in <module>\n        err = DC.run()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py\", line 1343, in run\n        self.run_doctests()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py\", line 1044, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2016, in dispatch\n        self.parallel_dispatch()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 1911, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2185, in start\n        super(DocTestWorker, self).start()\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py\", line 121, in start\n        self._popen = self._Popen(self)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py\", line 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py\", line 19, in __init__\n        self._launch(process_obj)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py\", line 71, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2157, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2487, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 2539, in _run\n        result = runner.run(test)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 866, in run\n        return self._run(test, compileflags, out)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors[2]>\", line 1, in <module>\n        g.weight_vectors()\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py\", line 988, in weight_vectors\n        ans, err = gfan_processes.communicate(input=str_to_bytes(self.gfan()))\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py\", line 1130, in gfan\n        s = gfan(I, cmd, verbose=self.__verbose, format=format)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/decorators.py\", line 651, in wrapper\n        return func(*args, **kwds)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/interfaces/gfan.py\", line 96, in __call__\n        deprecation(33468, 'argument `format` is ignored in the code: '\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py\", line 99, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py\", line 180, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\n    See https://trac.sagemath.org/33468 for details.\n    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]\n```",
    "created_at": "2022-04-01T15:59:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667111",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
I'm getting deprecation warnings in the doctests

```
File "src/sage/rings/polynomial/groebner_fan.py", line 979, in sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors
Failed example:
    g.weight_vectors()
Expected:
    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]
Got:
    doctest:warning
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/bin/sage-runtests", line 149, in <module>
        err = DC.run()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py", line 1343, in run
        self.run_doctests()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/control.py", line 1044, in run_doctests
        self.dispatcher.dispatch()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2016, in dispatch
        self.parallel_dispatch()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 1911, in parallel_dispatch
        w.start()  # This might take some time
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2185, in start
        super(DocTestWorker, self).start()
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py", line 121, in start
        self._popen = self._Popen(self)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py", line 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py", line 19, in __init__
        self._launch(process_obj)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/popen_fork.py", line 71, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2157, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2487, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 2539, in _run
        result = runner.run(test)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 866, in run
        return self._run(test, compileflags, out)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.groebner_fan.GroebnerFan.weight_vectors[2]>", line 1, in <module>
        g.weight_vectors()
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py", line 988, in weight_vectors
        ans, err = gfan_processes.communicate(input=str_to_bytes(self.gfan()))
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/rings/polynomial/groebner_fan.py", line 1130, in gfan
        s = gfan(I, cmd, verbose=self.__verbose, format=format)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/decorators.py", line 651, in wrapper
        return func(*args, **kwds)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/interfaces/gfan.py", line 96, in __call__
        deprecation(33468, 'argument `format` is ignored in the code: '
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py", line 99, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/misc/superseded.py", line 180, in warning
        warn(message, warning_class, stacklevel)
      File "/usr/local/Cellar/python@3.10/3.10.2/Frameworks/Python.framework/Versions/3.10/lib/python3.10/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
    See https://trac.sagemath.org/33468 for details.
    [(3, 7, 1), (5, 1, 2), (7, 1, 4), (5, 1, 4), (1, 1, 1), (1, 4, 8), (1, 4, 10)]
```



---

archive/issue_comments_667112.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-04-02T20:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667112",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_667113.json:
```json
{
    "body": "<a id='comment:22'></a>\nIndeed, the patchbot says the following doctests are failing:\n\n```\n----------------------------------------------------------------------\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/groebner_fan.py  # 3 doctests failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ru/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/en/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/fr/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/pt/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ja/tutorial/tour_advanced.rst  # 1 doctest failed\nsage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/de/tutorial/tour_advanced.rst  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2022-04-07T09:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667113",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:22'></a>
Indeed, the patchbot says the following doctests are failing:

```
----------------------------------------------------------------------
sage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/sage/rings/polynomial/groebner_fan.py  # 3 doctests failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ru/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/en/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/fr/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/pt/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/ja/tutorial/tour_advanced.rst  # 1 doctest failed
sage -t --long --random-seed=201618586090654190254950585468856090968 src/doc/de/tutorial/tour_advanced.rst  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_comments_667114.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[c415f70](https://github.com/sagemath/sagetrac-mirror/commit/c415f70c809f773d816368421c72cb890017c4ea)|`src/sage/features/gfan.py: New, use it in sage.interfaces.gfan`|\n|[e3df154](https://github.com/sagemath/sagetrac-mirror/commit/e3df154ce82fac7a0d3283717402c64e64bfa13f)|`src/sage/features/gfan.py: Remove unused import`|\n|[fc0ff51](https://github.com/sagemath/sagetrac-mirror/commit/fc0ff5133d6871fd76c7e1539eff43f4f8c5d9cb)|`33468: adding doctest to gfan interface call method`|\n|[b86f85b](https://github.com/sagemath/sagetrac-mirror/commit/b86f85bbfc57b7394a48c5205ad6951b1c05ca9e)|`33468: deprecate format argument`|\n|[a47a6d2](https://github.com/sagemath/sagetrac-mirror/commit/a47a6d2be12a7b65ca485b3b2be91d94fa31ca1e)|`33468: fixing pycodestyle warnings`|\n|[bab4d8a](https://github.com/sagemath/sagetrac-mirror/commit/bab4d8ae03e06a8a3d311c39f992f52b1884d6b5)|`33468: `@`rename_keyword(I='input')`|",
    "created_at": "2022-04-07T09:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[c415f70](https://github.com/sagemath/sagetrac-mirror/commit/c415f70c809f773d816368421c72cb890017c4ea)|`src/sage/features/gfan.py: New, use it in sage.interfaces.gfan`|
|[e3df154](https://github.com/sagemath/sagetrac-mirror/commit/e3df154ce82fac7a0d3283717402c64e64bfa13f)|`src/sage/features/gfan.py: Remove unused import`|
|[fc0ff51](https://github.com/sagemath/sagetrac-mirror/commit/fc0ff5133d6871fd76c7e1539eff43f4f8c5d9cb)|`33468: adding doctest to gfan interface call method`|
|[b86f85b](https://github.com/sagemath/sagetrac-mirror/commit/b86f85bbfc57b7394a48c5205ad6951b1c05ca9e)|`33468: deprecate format argument`|
|[a47a6d2](https://github.com/sagemath/sagetrac-mirror/commit/a47a6d2be12a7b65ca485b3b2be91d94fa31ca1e)|`33468: fixing pycodestyle warnings`|
|[bab4d8a](https://github.com/sagemath/sagetrac-mirror/commit/bab4d8ae03e06a8a3d311c39f992f52b1884d6b5)|`33468: `@`rename_keyword(I='input')`|



---

archive/issue_comments_667115.json:
```json
{
    "body": "Changing commit from \"1a860dbfdc46244f1febffdd10e13a71ba367e80\" to \"bab4d8ae03e06a8a3d311c39f992f52b1884d6b5\"",
    "created_at": "2022-04-07T09:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667115",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1a860dbfdc46244f1febffdd10e13a71ba367e80" to "bab4d8ae03e06a8a3d311c39f992f52b1884d6b5"



---

archive/issue_comments_667116.json:
```json
{
    "body": "<a id='comment:24'></a>\nI rebased on beta7.",
    "created_at": "2022-04-07T09:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667116",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:24'></a>
I rebased on beta7.



---

archive/issue_comments_667117.json:
```json
{
    "body": "<a id='comment:25'></a>\nupdated description with new added deprecation warnings",
    "created_at": "2022-04-07T09:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667117",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:25'></a>
updated description with new added deprecation warnings



---

archive/issue_comments_667118.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,3 +9,32 @@\n 2\n ```\n \n+Following pycodestyle advice, we replace `I` by `input` and we add a deprecation message for it:\n+\n+```\n+     sage: _ = gfan(I='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases')\n+     doctest:...:\n+     DeprecationWarning: use the option 'input' instead of 'I'\n+     See https://trac.sagemath.org/33468 for details.\n+```\n+\n+Moreover, the `format` argument was ignored, so we added a deprecation warning about it:\n+\n+```\n+sage: _ = gfan(input='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases', format=True)\n+doctest:...:\n+DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\n+See https://trac.sagemath.org/33468 for details.\n+```\n+\n+We also added a deprecation for using the ignored `format` argument in the gfan method as used here:\n+\n+```\n+sage: R.<x,y> = PolynomialRing(QQ,2)\n+sage: gf = R.ideal([x^3-y,y^3-x-1]).groebner_fan()\n+sage: gf.gfan(format=True)\n+... DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.\n+See https://trac.sagemath.org/33468 for details.\n+  gf.gfan(format=True)\n+'Q[x,y]\\n{{\\ny^9-1-y+3*y^3-3*y^6,\\nx+1-y^3}\\n,\\n{\\nx^3-y,\\ny^3-1-x}\\n,\\n{\\nx^9-1-x,\\ny-x^3}\\n}\\n'\n+```\n``````\n",
    "created_at": "2022-04-07T09:41:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667118",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,3 +9,32 @@
 2
 ```
 
+Following pycodestyle advice, we replace `I` by `input` and we add a deprecation message for it:
+
+```
+     sage: _ = gfan(I='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases')
+     doctest:...:
+     DeprecationWarning: use the option 'input' instead of 'I'
+     See https://trac.sagemath.org/33468 for details.
+```
+
+Moreover, the `format` argument was ignored, so we added a deprecation warning about it:
+
+```
+sage: _ = gfan(input='Q[x,y]{x^2-y-1,y^2-xy-2/3}', cmd='bases', format=True)
+doctest:...:
+DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
+See https://trac.sagemath.org/33468 for details.
+```
+
+We also added a deprecation for using the ignored `format` argument in the gfan method as used here:
+
+```
+sage: R.<x,y> = PolynomialRing(QQ,2)
+sage: gf = R.ideal([x^3-y,y^3-x-1]).groebner_fan()
+sage: gf.gfan(format=True)
+... DeprecationWarning: argument `format` is ignored in the code: it is now deprecated. Please update your code without this argument as it will be removed in a later version of SageMath.
+See https://trac.sagemath.org/33468 for details.
+  gf.gfan(format=True)
+'Q[x,y]\n{{\ny^9-1-y+3*y^3-3*y^6,\nx+1-y^3}\n,\n{\nx^3-y,\ny^3-1-x}\n,\n{\nx^9-1-x,\ny-x^3}\n}\n'
+```
``````




---

archive/issue_comments_667119.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[7fd1d61](https://github.com/sagemath/sagetrac-mirror/commit/7fd1d61429d107a197a80a855516f27c09ff3d37)|`33468: deprecating argument format in groebner_fan.py file`|",
    "created_at": "2022-04-07T09:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667119",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[7fd1d61](https://github.com/sagemath/sagetrac-mirror/commit/7fd1d61429d107a197a80a855516f27c09ff3d37)|`33468: deprecating argument format in groebner_fan.py file`|



---

archive/issue_comments_667120.json:
```json
{
    "body": "Changing commit from \"bab4d8ae03e06a8a3d311c39f992f52b1884d6b5\" to \"7fd1d61429d107a197a80a855516f27c09ff3d37\"",
    "created_at": "2022-04-07T09:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667120",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bab4d8ae03e06a8a3d311c39f992f52b1884d6b5" to "7fd1d61429d107a197a80a855516f27c09ff3d37"



---

archive/issue_comments_667121.json:
```json
{
    "body": "<a id='comment:27'></a>\nI added a deprecation of the format argument in groebner_fan.py file. I checked that it fixes the issues listed in[comment:22](#comment%3A22).\n\nNeeds review!",
    "created_at": "2022-04-07T09:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667121",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:27'></a>
I added a deprecation of the format argument in groebner_fan.py file. I checked that it fixes the issues listed in[comment:22](#comment%3A22).

Needs review!



---

archive/issue_comments_667122.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-04-07T09:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667122",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_667123.json:
```json
{
    "body": "Changing reviewer from \"\" to \"..., Matthias Koeppe\"",
    "created_at": "2022-04-07T17:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667123",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "..., Matthias Koeppe"



---

archive/issue_comments_667124.json:
```json
{
    "body": "<a id='comment:28'></a>\nThanks for all your work on this ticket! LGTM. The patchbot failures are unrelated.",
    "created_at": "2022-04-07T17:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667124",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
Thanks for all your work on this ticket! LGTM. The patchbot failures are unrelated.



---

archive/issue_comments_667125.json:
```json
{
    "body": "<a id='comment:29'></a>\nIs[comment:28](#comment%3A28) suppose to be a positive review?",
    "created_at": "2022-04-08T08:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667125",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
Is[comment:28](#comment%3A28) suppose to be a positive review?



---

archive/issue_comments_667126.json:
```json
{
    "body": "<a id='comment:30'></a>\nI think Matthias was waiting for someone to review his commit.\n\nI give a positive review to Matthias' commits.",
    "created_at": "2022-04-08T11:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667126",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:30'></a>
I think Matthias was waiting for someone to review his commit.

I give a positive review to Matthias' commits.



---

archive/issue_comments_667127.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-04-08T11:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667127",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_667128.json:
```json
{
    "body": "Changing reviewer from \"..., Matthias Koeppe\" to \"S\u00e9bastien Labb\u00e9, Matthias Koeppe\"",
    "created_at": "2022-04-08T11:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667128",
    "user": "https://github.com/seblabbe"
}
```

Changing reviewer from "..., Matthias Koeppe" to "Sébastien Labbé, Matthias Koeppe"



---

archive/issue_comments_667129.json:
```json
{
    "body": "<a id='comment:31'></a>\nThank you!",
    "created_at": "2022-04-08T17:46:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667129",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
Thank you!



---

archive/issue_events_099224.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-10T13:12:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33468#event-99224"
}
```



---

archive/issue_comments_667130.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-04-10T13:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667130",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_667131.json:
```json
{
    "body": "Changing branch from \"public/33468\" to \"7fd1d61429d107a197a80a855516f27c09ff3d37\"",
    "created_at": "2022-04-10T13:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33468#issuecomment-667131",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/33468" to "7fd1d61429d107a197a80a855516f27c09ff3d37"
