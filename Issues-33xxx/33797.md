# Issue 33797: sage.misc.temporary_file: Remove use of SAGE_TMP

archive/issues_033560.json:
```json
{
    "body": "(split out from #33213)\n\nUntil `tmp_filename` and `tmp_dir` are eliminated from the library, we don't want them cluttering up /tmp. In typical usage, this is easy enough to avoid by using one parent temporary directory to contain all the other temporary files and directories, and then removing that one parent as sage exits.\n\n\n\nCC:  @orlitzky\n\nReviewer: Matthias Koeppe\n\nAuthor: Michael Orlitzky\n\nBranch: bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33797\n\n",
    "closed_at": "2022-05-22T16:31:57Z",
    "created_at": "2022-05-04T18:39:31Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "sage.misc.temporary_file: Remove use of SAGE_TMP",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33797",
    "user": "https://github.com/mkoeppe"
}
```
(split out from #33213)

Until `tmp_filename` and `tmp_dir` are eliminated from the library, we don't want them cluttering up /tmp. In typical usage, this is easy enough to avoid by using one parent temporary directory to contain all the other temporary files and directories, and then removing that one parent as sage exits.



CC:  @orlitzky

Reviewer: Matthias Koeppe

Author: Michael Orlitzky

Branch: bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33797





---

archive/issue_comments_665614.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/sage_misc_temporary_file__remove_use_of_sage_tmp\"",
    "created_at": "2022-05-04T18:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665614",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/sage_misc_temporary_file__remove_use_of_sage_tmp"



---

archive/issue_comments_665615.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,5 @@\n (split out from #33213)\n \n+Until `tmp_filename` and `tmp_dir` are eliminated from the library, we don't want them cluttering up /tmp. In typical usage, this is easy enough to avoid by using one parent temporary directory to contain all the other temporary files and directories, and then removing that one parent as sage exits.\n+\n+\n``````\n",
    "created_at": "2022-05-04T18:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665615",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,5 @@
 (split out from #33213)
 
+Until `tmp_filename` and `tmp_dir` are eliminated from the library, we don't want them cluttering up /tmp. In typical usage, this is easy enough to avoid by using one parent temporary directory to contain all the other temporary files and directories, and then removing that one parent as sage exits.
+
+
``````




---

archive/issue_comments_665616.json:
```json
{
    "body": "Changing commit from \"\" to \"bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e\"",
    "created_at": "2022-05-04T18:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665616",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e"



---

archive/issue_comments_665617.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[4182565](https://github.com/sagemath/sagetrac-mirror/commit/41825650ebc237539d3df1eeba07b3f5d1b6279a)|`Trac #33213: remove SAGE_TMP from tmp_dir() and tmp_filename().`|\n|[bd76501](https://github.com/sagemath/sagetrac-mirror/commit/bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e)|`Trac #33213: clean up after tmp_filename() and tmp_dir() for now.`|",
    "created_at": "2022-05-04T18:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665617",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[4182565](https://github.com/sagemath/sagetrac-mirror/commit/41825650ebc237539d3df1eeba07b3f5d1b6279a)|`Trac #33213: remove SAGE_TMP from tmp_dir() and tmp_filename().`|
|[bd76501](https://github.com/sagemath/sagetrac-mirror/commit/bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e)|`Trac #33213: clean up after tmp_filename() and tmp_dir() for now.`|



---

archive/issue_comments_665618.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-05-04T18:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665618",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_665619.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-05-04T20:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665619",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_107824.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-22T16:31:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33797#event-107824"
}
```



---

archive/issue_comments_665620.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/sage_misc_temporary_file__remove_use_of_sage_tmp\" to \"bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e\"",
    "created_at": "2022-05-22T16:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665620",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/sage_misc_temporary_file__remove_use_of_sage_tmp" to "bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e"



---

archive/issue_comments_665621.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-22T16:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665621",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_665622.json:
```json
{
    "body": "Changing commit from \"bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e\" to \"\"",
    "created_at": "2022-06-01T20:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665622",
    "user": "https://github.com/seblabbe"
}
```

Changing commit from "bd76501b6220a3c7ed3064cc3a8fd68e7c48ff5e" to ""



---

archive/issue_comments_665623.json:
```json
{
    "body": "<a id='comment:6'></a>\na follow-up is at #33944",
    "created_at": "2022-06-01T20:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33797#issuecomment-665623",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'></a>
a follow-up is at #33944
