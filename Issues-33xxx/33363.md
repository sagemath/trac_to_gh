# Issue 33363: (Too) long doctest in sage/matrix/matrix_integer_dense.pyx

archive/issues_033126.json:
```json
{
    "body": "This test,\n\n```\nsage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  \nsage: m.parent()                                                    \nFull MatrixSpace of 100 by 100 dense matrices over Integer Ring     \nsage: H, U = m.hermite_form(algorithm=\"flint\", transformation=True)  # long time\n```\n\nusually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.\n\nBranch/Commit: 9b21f8fc48b8757a913d53c376de68de4986fc49\n\nReviewer: Travis Scrimshaw\n\nAuthor: Michael Orlitzky\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33363\n\n",
    "closed_at": "2022-03-01T21:31:33Z",
    "created_at": "2022-02-17T02:56:16Z",
    "labels": [
        "component: doctest framework",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "(Too) long doctest in sage/matrix/matrix_integer_dense.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33363",
    "user": "https://github.com/orlitzky"
}
```
This test,

```
sage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  
sage: m.parent()                                                    
Full MatrixSpace of 100 by 100 dense matrices over Integer Ring     
sage: H, U = m.hermite_form(algorithm="flint", transformation=True)  # long time
```

usually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.

Branch/Commit: 9b21f8fc48b8757a913d53c376de68de4986fc49

Reviewer: Travis Scrimshaw

Author: Michael Orlitzky

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33363





---

archive/issue_comments_665383.json:
```json
{
    "body": "<a id='comment:1'></a>\nI thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.",
    "created_at": "2022-02-26T13:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665383",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'></a>
I thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.



---

archive/issue_comments_665384.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[330493a](https://git.sagemath.org/sage.git/commit?id=330493a05aab6bac7c300684a7f9bce0968fd149)|`Trac #33363: shrink a hermite_form() test.`|",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665384",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[330493a](https://git.sagemath.org/sage.git/commit?id=330493a05aab6bac7c300684a7f9bce0968fd149)|`Trac #33363: shrink a hermite_form() test.`|



---

archive/issue_comments_665385.json:
```json
{
    "body": "Changing commit from \"\" to \"330493a05aab6bac7c300684a7f9bce0968fd149\"",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665385",
    "user": "https://github.com/orlitzky"
}
```

Changing commit from "" to "330493a05aab6bac7c300684a7f9bce0968fd149"



---

archive/issue_comments_665386.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mjo/ticket/33363\"",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665386",
    "user": "https://github.com/orlitzky"
}
```

Changing branch from "" to "u/mjo/ticket/33363"



---

archive/issue_comments_665387.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665387",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_665388.json:
```json
{
    "body": "Changing author from \"\" to \"Michael Orlitzky\"",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665388",
    "user": "https://github.com/orlitzky"
}
```

Changing author from "" to "Michael Orlitzky"



---

archive/issue_comments_665389.json:
```json
{
    "body": "<a id='comment:3'></a>\nFollow-up in #33418 if someone wants to investigate one of the slow examples.",
    "created_at": "2022-02-26T15:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665389",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:3'></a>
Follow-up in #33418 if someone wants to investigate one of the slow examples.



---

archive/issue_comments_665390.json:
```json
{
    "body": "<a id='comment:4'></a>\nI am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.",
    "created_at": "2022-02-27T00:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665390",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
I am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.



---

archive/issue_comments_665391.json:
```json
{
    "body": "Changing commit from \"330493a05aab6bac7c300684a7f9bce0968fd149\" to \"7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26\"",
    "created_at": "2022-02-27T12:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665391",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "330493a05aab6bac7c300684a7f9bce0968fd149" to "7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26"



---

archive/issue_comments_665392.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[7a2a06c](https://git.sagemath.org/sage.git/commit/?id=7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)|`Trac #33363: shrink a hermite_form() test.`|",
    "created_at": "2022-02-27T12:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[7a2a06c](https://git.sagemath.org/sage.git/commit/?id=7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)|`Trac #33363: shrink a hermite_form() test.`|



---

archive/issue_comments_665393.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[9b21f8f](https://git.sagemath.org/sage.git/commit/?id=9b21f8fc48b8757a913d53c376de68de4986fc49)|`Trac #33363: shrink a hermite_form() test.`|",
    "created_at": "2022-02-27T12:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665393",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[9b21f8f](https://git.sagemath.org/sage.git/commit/?id=9b21f8fc48b8757a913d53c376de68de4986fc49)|`Trac #33363: shrink a hermite_form() test.`|



---

archive/issue_comments_665394.json:
```json
{
    "body": "Changing commit from \"7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26\" to \"9b21f8fc48b8757a913d53c376de68de4986fc49\"",
    "created_at": "2022-02-27T12:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665394",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26" to "9b21f8fc48b8757a913d53c376de68de4986fc49"



---

archive/issue_comments_665395.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.",
    "created_at": "2022-02-27T12:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665395",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'></a>
Thanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.



---

archive/issue_comments_665396.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665396",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_665397.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665397",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_665398.json:
```json
{
    "body": "<a id='comment:8'></a>\nThank you.",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665398",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Thank you.



---

archive/issue_comments_665399.json:
```json
{
    "body": "Changing branch from \"u/mjo/ticket/33363\" to \"9b21f8fc48b8757a913d53c376de68de4986fc49\"",
    "created_at": "2022-03-01T21:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665399",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mjo/ticket/33363" to "9b21f8fc48b8757a913d53c376de68de4986fc49"



---

archive/issue_events_088018.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-01T21:31:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33363#event-88018"
}
```



---

archive/issue_comments_665400.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-01T21:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-665400",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
