# Issue 33363: (Too) long doctest in sage/matrix/matrix_integer_dense.pyx

archive/issues_033126.json:
```json
{
    "body": "This test,\n\n```\nsage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  \nsage: m.parent()                                                    \nFull MatrixSpace of 100 by 100 dense matrices over Integer Ring     \nsage: H, U = m.hermite_form(algorithm=\"flint\", transformation=True)  # long time\n```\n\nusually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.\n\n**Branch/Commit:** [9b21f8fc48b8757a913d53c376de68de4986fc49](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Michael Orlitzky\n\nIssue created by migration from https://trac.sagemath.org/ticket/33363\n\n",
    "closed_at": "2022-03-01T21:31:33Z",
    "created_at": "2022-02-17T02:56:16Z",
    "labels": [
        "component: doctest framework",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "(Too) long doctest in sage/matrix/matrix_integer_dense.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33363",
    "user": "https://github.com/orlitzky"
}
```
This test,

```
sage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  
sage: m.parent()                                                    
Full MatrixSpace of 100 by 100 dense matrices over Integer Ring     
sage: H, U = m.hermite_form(algorithm="flint", transformation=True)  # long time
```

usually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.

**Branch/Commit:** [9b21f8fc48b8757a913d53c376de68de4986fc49](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)

**Reviewer:** Travis Scrimshaw

**Author:** Michael Orlitzky

Issue created by migration from https://trac.sagemath.org/ticket/33363





---

archive/issue_comments_635843.json:
```json
{
    "body": "<a id='comment:1'></a>\nI thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.",
    "created_at": "2022-02-26T13:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635843",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'></a>
I thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.



---

archive/issue_comments_635844.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149\">330493a</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>\n",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635844",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149">330493a</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>




---

archive/issue_comments_635845.json:
```json
{
    "body": "**Commit:** [330493a05aab6bac7c300684a7f9bce0968fd149](https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149)",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635845",
    "user": "https://github.com/orlitzky"
}
```

**Commit:** [330493a05aab6bac7c300684a7f9bce0968fd149](https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149)



---

archive/issue_comments_635846.json:
```json
{
    "body": "**Branch:** [u/mjo/ticket/33363](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33363)",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635846",
    "user": "https://github.com/orlitzky"
}
```

**Branch:** [u/mjo/ticket/33363](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33363)



---

archive/issue_comments_635847.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635847",
    "user": "https://github.com/orlitzky"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_635848.json:
```json
{
    "body": "**Author:** Michael Orlitzky",
    "created_at": "2022-02-26T13:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635848",
    "user": "https://github.com/orlitzky"
}
```

**Author:** Michael Orlitzky



---

archive/issue_comments_635849.json:
```json
{
    "body": "<a id='comment:3'></a>\nFollow-up in #33418 if someone wants to investigate one of the slow examples.",
    "created_at": "2022-02-26T15:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635849",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:3'></a>
Follow-up in #33418 if someone wants to investigate one of the slow examples.



---

archive/issue_comments_635850.json:
```json
{
    "body": "<a id='comment:4'></a>\nI am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.",
    "created_at": "2022-02-27T00:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635850",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
I am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.



---

archive/issue_comments_635851.json:
```json
{
    "body": "**Changing commit** from \"[330493a05aab6bac7c300684a7f9bce0968fd149](https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149)\" to \"[7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26](https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)\".",
    "created_at": "2022-02-27T12:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635851",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[330493a05aab6bac7c300684a7f9bce0968fd149](https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149)" to "[7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26](https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)".



---

archive/issue_comments_635852.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26\">7a2a06c</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>\n",
    "created_at": "2022-02-27T12:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635852",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26">7a2a06c</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>




---

archive/issue_comments_635853.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49\">9b21f8f</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>\n",
    "created_at": "2022-02-27T12:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635853",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49">9b21f8f</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>




---

archive/issue_comments_635854.json:
```json
{
    "body": "**Changing commit** from \"[7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26](https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)\" to \"[9b21f8fc48b8757a913d53c376de68de4986fc49](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)\".",
    "created_at": "2022-02-27T12:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635854",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26](https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)" to "[9b21f8fc48b8757a913d53c376de68de4986fc49](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)".



---

archive/issue_comments_635855.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.",
    "created_at": "2022-02-27T12:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635855",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'></a>
Thanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.



---

archive/issue_comments_635856.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635856",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_635857.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635857",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_635858.json:
```json
{
    "body": "<a id='comment:8'></a>\nThank you.",
    "created_at": "2022-02-28T04:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635858",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Thank you.



---

archive/issue_comments_635859.json:
```json
{
    "body": "**Changing branch** from \"[u/mjo/ticket/33363](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33363)\" to \"[9b21f8fc48b8757a913d53c376de68de4986fc49](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)\".",
    "created_at": "2022-03-01T21:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33363#issuecomment-635859",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mjo/ticket/33363](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33363)" to "[9b21f8fc48b8757a913d53c376de68de4986fc49](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)".



---

archive/issue_events_098723.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-01T21:31:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33363",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33363#event-98723"
}
```
