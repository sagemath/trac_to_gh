# Issue 33363: (Too) long doctest in sage/matrix/matrix_integer_dense.pyx

archive/issues_033126.json:
```json
{
    "assignees": [],
    "body": "This test,\n\n```\nsage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  \nsage: m.parent()                                                    \nFull MatrixSpace of 100 by 100 dense matrices over Integer Ring     \nsage: H, U = m.hermite_form(algorithm=\"flint\", transformation=True)  # long time\n```\n\nusually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.\n\nBranch/Commit: **[9b21f8f](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Michael Orlitzky**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33363_\n\n",
    "closed_at": "2022-03-01T21:31:33Z",
    "created_at": "2022-02-17T02:56:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "(Too) long doctest in sage/matrix/matrix_integer_dense.pyx",
    "type": "issue",
    "updated_at": "2022-03-01T21:31:33Z",
    "url": "https://github.com/sagemath/sage/issues/33363",
    "user": "https://github.com/orlitzky"
}
```
This test,

```
sage: m = random_matrix(ZZ, 100, 100, x=-1000, y=1000, density=.1)  
sage: m.parent()                                                    
Full MatrixSpace of 100 by 100 dense matrices over Integer Ring     
sage: H, U = m.hermite_form(algorithm="flint", transformation=True)  # long time
```

usually finishes immediately, often takes a few minutes, and rarely (if you're unlucky) takes ~25 minutes. Unless the `100` is imporant, we should probably decrease the size of this example down to, say, `10`.

Branch/Commit: **[9b21f8f](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)**

Reviewer: **Travis Scrimshaw**

Author: **Michael Orlitzky**

_Issue created by migration from https://trac.sagemath.org/ticket/33363_





---

archive/issue_events_425877.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-17T02:56:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425877"
}
```



---

archive/issue_events_425878.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-17T02:56:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20framework",
    "label_color": "000080",
    "label_name": "component: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425878"
}
```



---

archive/issue_events_425879.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-17T02:56:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425879"
}
```



---

archive/issue_events_425880.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-17T02:56:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425880"
}
```



---

archive/issue_comments_542231.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nI thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.",
    "created_at": "2022-02-26T13:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542231",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'>Comment 1:</a>
I thought this was due to bad luck with the density, but that's not the case, even with `density=1` this test usually completes quickly.



---

archive/issue_comments_542232.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149\">330493a</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>\n",
    "created_at": "2022-02-26T13:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542232",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149">330493a</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>




---

archive/issue_comments_542233.json:
```json
{
    "body": "Commit: **[330493a](https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149)**",
    "created_at": "2022-02-26T13:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542233",
    "user": "https://github.com/orlitzky"
}
```

Commit: **[330493a](https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149)**



---

archive/issue_comments_542234.json:
```json
{
    "body": "Branch: **[u/mjo/ticket/33363](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33363)**",
    "created_at": "2022-02-26T13:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542234",
    "user": "https://github.com/orlitzky"
}
```

Branch: **[u/mjo/ticket/33363](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33363)**



---

archive/issue_events_425881.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-26T13:25:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425881"
}
```



---

archive/issue_comments_542235.json:
```json
{
    "body": "Author: **Michael Orlitzky**",
    "created_at": "2022-02-26T13:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542235",
    "user": "https://github.com/orlitzky"
}
```

Author: **Michael Orlitzky**



---

archive/issue_comments_542236.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nFollow-up in #33418 if someone wants to investigate one of the slow examples.",
    "created_at": "2022-02-26T15:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542236",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:3'>Comment 3:</a>
Follow-up in #33418 if someone wants to investigate one of the slow examples.



---

archive/issue_comments_542237.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.",
    "created_at": "2022-02-27T00:44:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542237",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'>Comment 4:</a>
I am good with lowering the dimension as I don't see any reason it needs to be relatively high (I always get a full rank matrix). However, I think we should keep the density fairly low as I suspect this test is meant to cover the more sparse matrices.



---

archive/issue_comments_542238.json:
```json
{
    "body": "Changed commit from **[330493a](https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149)** to **[7a2a06c](https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)**",
    "created_at": "2022-02-27T12:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542238",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[330493a](https://github.com/sagemath/sagetrac-mirror/commit/330493a05aab6bac7c300684a7f9bce0968fd149)** to **[7a2a06c](https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)**



---

archive/issue_comments_542239.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26\">7a2a06c</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>\n",
    "created_at": "2022-02-27T12:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542239",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26">7a2a06c</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>




---

archive/issue_comments_542240.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49\">9b21f8f</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>\n",
    "created_at": "2022-02-27T12:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542240",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49">9b21f8f</a></td><td><code>Trac #33363: shrink a hermite_form() test.</code></td></tr></table>




---

archive/issue_comments_542241.json:
```json
{
    "body": "Changed commit from **[7a2a06c](https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)** to **[9b21f8f](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)**",
    "created_at": "2022-02-27T12:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542241",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7a2a06c](https://github.com/sagemath/sagetrac-mirror/commit/7a2a06c1e6f1e065b7c9a5098988d9ddb899dc26)** to **[9b21f8f](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)**



---

archive/issue_comments_542242.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.",
    "created_at": "2022-02-27T12:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542242",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'>Comment 7:</a>
Thanks, the change in density was unintentional. I tried it while testing but thought I put it back to 0.1.



---

archive/issue_comments_542243.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2022-02-28T04:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542243",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_425882.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-02-28T04:01:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425882"
}
```



---

archive/issue_events_425883.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-02-28T04:01:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425883"
}
```



---

archive/issue_comments_542244.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThank you.",
    "created_at": "2022-02-28T04:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542244",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'>Comment 8:</a>
Thank you.



---

archive/issue_comments_542245.json:
```json
{
    "body": "Changed branch from **[u/mjo/ticket/33363](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33363)** to **[9b21f8f](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)**",
    "created_at": "2022-03-01T21:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33363#issuecomment-542245",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mjo/ticket/33363](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33363)** to **[9b21f8f](https://github.com/sagemath/sagetrac-mirror/commit/9b21f8fc48b8757a913d53c376de68de4986fc49)**



---

archive/issue_events_425884.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-01T21:31:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425884"
}
```



---

archive/issue_events_425885.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6779f414bfb4db2b27b1f2b95902f9be3a4f2e0e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-03-01T21:31:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33363",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33363#event-425885"
}
```
