# Issue 33237: fix p_group_cohomology

archive/issues_033237.json:
```json
{
    "body": "CC:  @mkoeppe\n\np_group_cohomology no longer works in 9.6.beta3\n\nThe breakage probably happened during switch to venv\n\nIssue created by migration from https://trac.sagemath.org/ticket/33474\n\n",
    "closed_at": "2022-04-11T20:19:23Z",
    "created_at": "2022-03-07T05:59:47Z",
    "labels": [
        "component: packages: optional",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "fix p_group_cohomology",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33237",
    "user": "https://github.com/dimpase"
}
```
CC:  @mkoeppe

p_group_cohomology no longer works in 9.6.beta3

The breakage probably happened during switch to venv

Issue created by migration from https://trac.sagemath.org/ticket/33474





---

archive/issue_comments_472747.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2022-03-07T06:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33237#issuecomment-472747",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_472748.json:
```json
{
    "body": "With these patches, building still fails, at extension building, as it can't find `libmodred.so`.\n\nIt is fixed by exporting, before build, `LDFLAGS=\"-L<SAGE_ROOT>/venv/lib\"`,\nas that's where `libmodres.so` gets installed.\n\nWhat's the correct way to fix this?\n\n \n---\nNew commits:",
    "created_at": "2022-03-07T06:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33237#issuecomment-472748",
    "user": "https://github.com/dimpase"
}
```

With these patches, building still fails, at extension building, as it can't find `libmodred.so`.

It is fixed by exporting, before build, `LDFLAGS="-L<SAGE_ROOT>/venv/lib"`,
as that's where `libmodres.so` gets installed.

What's the correct way to fix this?

 
---
New commits:



---

archive/issue_comments_472749.json:
```json
{
    "body": "should be fixed through #30787.\nThe non-Python package `modular_resolution` should be installed in SAGE_LOCAL.",
    "created_at": "2022-03-07T06:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33237#issuecomment-472749",
    "user": "https://github.com/mkoeppe"
}
```

should be fixed through #30787.
The non-Python package `modular_resolution` should be installed in SAGE_LOCAL.



---

archive/issue_comments_472750.json:
```json
{
    "body": "Except that #30787 hasn't moved at all. We shipped Sage 9.5 with this package broken. :-(",
    "created_at": "2022-03-07T06:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33237#issuecomment-472750",
    "user": "https://github.com/dimpase"
}
```

Except that #30787 hasn't moved at all. We shipped Sage 9.5 with this package broken. :-(



---

archive/issue_events_088199.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-03-07T13:53:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33237#event-88199"
}
```



---

archive/issue_comments_472751.json:
```json
{
    "body": "This will be fixed by #30787.",
    "created_at": "2022-03-07T13:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33237#issuecomment-472751",
    "user": "https://github.com/dimpase"
}
```

This will be fixed by #30787.



---

archive/issue_comments_472752.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2022-03-07T13:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33237#issuecomment-472752",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_472753.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2022-04-11T20:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33237#issuecomment-472753",
    "user": "https://github.com/vbraun"
}
```

Resolution: duplicate



---

archive/issue_events_088200.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-11T20:19:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33237",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33237#event-88200"
}
```
