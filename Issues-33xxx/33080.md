# Issue 33080: Fix scipy-1.7.2 build failure on Cygwin

archive/issues_032843.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nSage 9.5.beta9 + #33043 fails to build scipy-1.7.2\non Cygwin.\n\nInitial report:\n- [sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)\n\nIssues/PRs:\n- https://github.com/boostorg/math/pull/727 - add Cygwin CI (superseded by 729)\n- https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch (superseded by 729)\n- https://github.com/boostorg/math/pull/729 - combined PR (merged)\n- https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin\n- https://github.com/scipy/boost-headers-only/pull/5\n\n\n\nCC:  @dimpase @mkoeppe @slel\n\nComponent: **porting: Cygwin**\n\nKeywords: **scipy**\n\nAuthor: **Matthias Koeppe**\n\nBranch: **[`9070a03`](https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0)**\n\nReviewer: **Samuel Leli\u00e8vre**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33080_\n\n",
    "closed_at": "2022-01-01T00:23:00Z",
    "created_at": "2021-12-25T04:52:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix scipy-1.7.2 build failure on Cygwin",
    "type": "issue",
    "updated_at": "2022-02-18T04:38:50Z",
    "url": "https://github.com/sagemath/sage/issues/33080",
    "user": "https://github.com/slel"
}
```
<div id="comment:0"></div>

Sage 9.5.beta9 + #33043 fails to build scipy-1.7.2
on Cygwin.

Initial report:
- [sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)

Issues/PRs:
- https://github.com/boostorg/math/pull/727 - add Cygwin CI (superseded by 729)
- https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch (superseded by 729)
- https://github.com/boostorg/math/pull/729 - combined PR (merged)
- https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin
- https://github.com/scipy/boost-headers-only/pull/5



CC:  @dimpase @mkoeppe @slel

Component: **porting: Cygwin**

Keywords: **scipy**

Author: **Matthias Koeppe**

Branch: **[`9070a03`](https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0)**

Reviewer: **Samuel Leli√®vre**

_Issue created by migration from https://trac.sagemath.org/ticket/33080_





---

archive/issue_events_451886.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-12-25T04:52:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451886"
}
```



---

archive/issue_events_451887.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-12-25T04:52:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
    "label_color": "0000b0",
    "label_name": "c: porting: cygwin",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451887"
}
```



---

archive/issue_events_451888.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-12-25T04:52:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451888"
}
```



---

archive/issue_events_451889.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-12-25T04:52:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451889"
}
```



---

archive/issue_events_451890.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-12-25T04:52:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451890"
}
```



---

archive/issue_events_451891.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-12-25T04:52:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
    "label_color": "0000b0",
    "label_name": "c: porting: cygwin",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451891"
}
```



---

archive/issue_comments_534059.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nlogs please",
    "created_at": "2021-12-25T08:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534059",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">comment:1</div>

logs please



---

archive/issue_events_451892.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-26T00:39:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "title_is": "Fix scipy-1.7.2 build failure on Cygwin",
    "title_was": "Fix scipy-3.7.2 build failure on Cygwin",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451892"
}
```



---

archive/issue_comments_534060.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Sage 9.5.beta9 + #33043 fails to build scipy-3.7.2\n+Sage 9.5.beta9 + #33043 fails to build scipy-1.7.2\n on Cygwin.\n \n - [report on sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)\n``````\n",
    "created_at": "2021-12-26T00:39:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534060",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Sage 9.5.beta9 + #33043 fails to build scipy-3.7.2
+Sage 9.5.beta9 + #33043 fails to build scipy-1.7.2
 on Cygwin.
 
 - [report on sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)
``````




---

archive/issue_comments_534061.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI see this build failure now also in https://github.com/mkoeppe/sage/runs/4635610425?check_suite_focus=true (tested with the update to 1.7.3 in #33049)",
    "created_at": "2021-12-26T19:06:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534061",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

I see this build failure now also in https://github.com/mkoeppe/sage/runs/4635610425?check_suite_focus=true (tested with the update to 1.7.3 in #33049)



---

archive/issue_comments_534062.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n\n```\n  scipy/stats/_boost/src/beta_ufunc.cxx:3903:46:   required from here\n  /opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/var/tmp/sage/build/scipy-1.7.3/src/scipy/_lib/boost/boost/math/tools/promotion.hpp:148:37: error: static assertion failed: Sorry, but this platform does not have sufficient long double support for the special functions to be reliably implemented.\n    148 |          BOOST_STATIC_ASSERT_MSG((0 == ::boost::is_same<type, long double>::value), \"Sorry, but this platform does not have sufficient long double support for the special functions to be reliably implemented.\");\nerror: Command \"g++ -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -DOPENSSL_NO_SSL3=1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/build=/usr/src/debug/python38-3.8.12-1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/src/Python-3.8.12=/usr/src/debug/python38-3.8.12-1 -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -DOPENSSL_NO_SSL3=1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/build=/usr/src/debug/python38-3.8.12-1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/src/Python-3.8.12=/usr/src/debug/python38-3.8.12-1 -D_GNU_SOURCE -DBOOST_MATH_DOMAIN_ERROR_POLICY=ignore_error -DBOOST_MATH_EVALUATION_ERROR_POLICY=user_error -DBOOST_MATH_PROMOTE_DOUBLE_POLICY=false -Iscipy/stats/_boost/include/ -Iscipy/stats/_boost/src/ -I/opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/lib/python3.8/site-packages/numpy/core/include -I/opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/var/tmp/sage/build/scipy-1.7.3/src/scipy/_lib/boost -I/opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/lib/python3.8/site-packages/numpy/core/include -Ibuild/src.cygwin-3.3.3-x86_64-3.8/numpy/distutils/include -I/opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/include -I/usr/include/python3.8 -c scipy/stats/_boost/src/beta_ufunc.cxx -o build/temp.cygwin-3.3.3-x86_64-3.8/scipy/stats/_boost/src/beta_ufunc.o -MMD -MF build/temp.cygwin-3.3.3-x86_64-3.8/scipy/stats/_boost/src/beta_ufunc.o.d -std=c++14 -msse -msse2 -msse3\" failed with exit status 1\n```",
    "created_at": "2021-12-26T19:11:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534062",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>


```
  scipy/stats/_boost/src/beta_ufunc.cxx:3903:46:   required from here
  /opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/var/tmp/sage/build/scipy-1.7.3/src/scipy/_lib/boost/boost/math/tools/promotion.hpp:148:37: error: static assertion failed: Sorry, but this platform does not have sufficient long double support for the special functions to be reliably implemented.
    148 |          BOOST_STATIC_ASSERT_MSG((0 == ::boost::is_same<type, long double>::value), "Sorry, but this platform does not have sufficient long double support for the special functions to be reliably implemented.");
error: Command "g++ -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -DOPENSSL_NO_SSL3=1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/build=/usr/src/debug/python38-3.8.12-1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/src/Python-3.8.12=/usr/src/debug/python38-3.8.12-1 -ggdb -O2 -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fstack-protector-strong --param=ssp-buffer-size=4 -DOPENSSL_NO_SSL3=1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/build=/usr/src/debug/python38-3.8.12-1 -fdebug-prefix-map=/pub/devel/python/python38/python38-3.8.12-1.x86_64/src/Python-3.8.12=/usr/src/debug/python38-3.8.12-1 -D_GNU_SOURCE -DBOOST_MATH_DOMAIN_ERROR_POLICY=ignore_error -DBOOST_MATH_EVALUATION_ERROR_POLICY=user_error -DBOOST_MATH_PROMOTE_DOUBLE_POLICY=false -Iscipy/stats/_boost/include/ -Iscipy/stats/_boost/src/ -I/opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/lib/python3.8/site-packages/numpy/core/include -I/opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/var/tmp/sage/build/scipy-1.7.3/src/scipy/_lib/boost -I/opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/lib/python3.8/site-packages/numpy/core/include -Ibuild/src.cygwin-3.3.3-x86_64-3.8/numpy/distutils/include -I/opt/sage-4525b51c9c556e7d1bf7a4d90ee129c6b7f1d9a7/include -I/usr/include/python3.8 -c scipy/stats/_boost/src/beta_ufunc.cxx -o build/temp.cygwin-3.3.3-x86_64-3.8/scipy/stats/_boost/src/beta_ufunc.o -MMD -MF build/temp.cygwin-3.3.3-x86_64-3.8/scipy/stats/_boost/src/beta_ufunc.o.d -std=c++14 -msse -msse2 -msse3" failed with exit status 1
```



---

archive/issue_comments_534063.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nUse of (vendored) `boost` was introduced in scipy 1.7.0",
    "created_at": "2021-12-26T19:15:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534063",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Use of (vendored) `boost` was introduced in scipy 1.7.0



---

archive/issue_comments_534064.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis is with gcc-g++ 11.2.0-1",
    "created_at": "2021-12-26T19:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534064",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

This is with gcc-g++ 11.2.0-1



---

archive/issue_comments_534065.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis is coming in through https://github.com/scipy/boost-headers-only/blob/ca02b3b71579fe4913e3e4d1153c34868ec95769/boost/math/tools/config.hpp#L31",
    "created_at": "2021-12-26T19:31:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534065",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

This is coming in through https://github.com/scipy/boost-headers-only/blob/ca02b3b71579fe4913e3e4d1153c34868ec95769/boost/math/tools/config.hpp#L31



---

archive/issue_comments_534066.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAlso affects FreeBSD apparently, and the porters just patch it out: https://cgit.freebsd.org/ports/tree/science/py-scipy/files/patch-scipy___lib_boost_boost_math_tools_config.hpp",
    "created_at": "2021-12-26T19:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534066",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Also affects FreeBSD apparently, and the porters just patch it out: https://cgit.freebsd.org/ports/tree/science/py-scipy/files/patch-scipy___lib_boost_boost_math_tools_config.hpp



---

archive/issue_comments_534067.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nUpstream boost: https://github.com/boostorg/math/blob/develop/include/boost/math/tools/config.hpp",
    "created_at": "2021-12-26T19:54:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534067",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Upstream boost: https://github.com/boostorg/math/blob/develop/include/boost/math/tools/config.hpp



---

archive/issue_comments_534068.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nNeither of these projects has a Cygwin CI (and obviously no FreeBSD CI):\n- https://github.com/boostorg/math/blob/develop/.github/workflows/ci.yml\n- https://github.com/scipy/scipy/tree/master/.github/workflows",
    "created_at": "2021-12-26T20:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534068",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Neither of these projects has a Cygwin CI (and obviously no FreeBSD CI):
- https://github.com/boostorg/math/blob/develop/.github/workflows/ci.yml
- https://github.com/scipy/scipy/tree/master/.github/workflows



---

archive/issue_events_451893.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-26T20:03:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451893"
}
```



---

archive/issue_events_451894.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-26T20:03:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451894"
}
```



---

archive/issue_comments_534069.json:
```json
{
    "body": "Branch: **[u/mkoeppe/fix_scipy_1_7_2_build_failure_on_cygwin](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_scipy_1_7_2_build_failure_on_cygwin)**",
    "created_at": "2021-12-26T20:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534069",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/fix_scipy_1_7_2_build_failure_on_cygwin](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_scipy_1_7_2_build_failure_on_cygwin)**



---

archive/issue_comments_534070.json:
```json
{
    "body": "Commit: **[`1eccca3`](https://github.com/sagemath/sagetrac-mirror/commit/1eccca38a41ccb2aecc287d7041ba31e6c547936)**",
    "created_at": "2021-12-26T20:23:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534070",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`1eccca3`](https://github.com/sagemath/sagetrac-mirror/commit/1eccca38a41ccb2aecc287d7041ba31e6c547936)**



---

archive/issue_comments_534071.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1eccca38a41ccb2aecc287d7041ba31e6c547936\"><code>1eccca3</code></a></td><td><code>build/pkgs/scipy/patches/boost_math_tools_config.patch: Fixup</code></td></tr></table>\n",
    "created_at": "2021-12-26T20:23:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534071",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1eccca38a41ccb2aecc287d7041ba31e6c547936"><code>1eccca3</code></a></td><td><code>build/pkgs/scipy/patches/boost_math_tools_config.patch: Fixup</code></td></tr></table>




---

archive/issue_events_451895.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-26T20:24:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451895"
}
```



---

archive/issue_comments_534072.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-12-26T20:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534072",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_534073.json:
```json
{
    "body": "Reviewer: **https://github.com/mkoeppe/sage/actions/runs/1624899707**",
    "created_at": "2021-12-26T20:43:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534073",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/mkoeppe/sage/actions/runs/1624899707**



---

archive/issue_comments_534074.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0\"><code>9070a03</code></a></td><td><code>build/pkgs/scipy/patches/boost_math_tools_config.patch: Fixup</code></td></tr></table>\n",
    "created_at": "2021-12-26T21:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534074",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0"><code>9070a03</code></a></td><td><code>build/pkgs/scipy/patches/boost_math_tools_config.patch: Fixup</code></td></tr></table>




---

archive/issue_comments_534075.json:
```json
{
    "body": "Changed commit from **[`1eccca3`](https://github.com/sagemath/sagetrac-mirror/commit/1eccca38a41ccb2aecc287d7041ba31e6c547936)** to **[`9070a03`](https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0)**",
    "created_at": "2021-12-26T21:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534075",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1eccca3`](https://github.com/sagemath/sagetrac-mirror/commit/1eccca38a41ccb2aecc287d7041ba31e6c547936)** to **[`9070a03`](https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0)**



---

archive/issue_comments_534076.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/1624899707** to **https://github.com/mkoeppe/sage/actions/runs/1625005817**",
    "created_at": "2021-12-26T21:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534076",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/1624899707** to **https://github.com/mkoeppe/sage/actions/runs/1625005817**



---

archive/issue_comments_534077.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI don't seem to be getting Windows runners on GH Actions at the moment, so manual testing of this branch on Cygwin would be helpful",
    "created_at": "2021-12-27T00:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534077",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

I don't seem to be getting Windows runners on GH Actions at the moment, so manual testing of this branch on Cygwin would be helpful



---

archive/issue_comments_534078.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThis branch fixes the issue, as can be seen in the successful run https://github.com/mkoeppe/sage/runs/4646463107?check_suite_focus=true",
    "created_at": "2021-12-28T04:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534078",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

This branch fixes the issue, as can be seen in the successful run https://github.com/mkoeppe/sage/runs/4646463107?check_suite_focus=true



---

archive/issue_comments_534079.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,7 @@\n on Cygwin.\n \n - [report on sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)\n+\n+PRs:\n+- https://github.com/boostorg/math/pull/727 - add Cygwin CI\n+\n``````\n",
    "created_at": "2021-12-28T06:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534079",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,7 @@
 on Cygwin.
 
 - [report on sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)
+
+PRs:
+- https://github.com/boostorg/math/pull/727 - add Cygwin CI
+
``````




---

archive/issue_comments_534080.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,5 @@\n \n PRs:\n - https://github.com/boostorg/math/pull/727 - add Cygwin CI\n+- https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch\n \n``````\n",
    "created_at": "2021-12-28T06:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534080",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,5 @@
 
 PRs:
 - https://github.com/boostorg/math/pull/727 - add Cygwin CI
+- https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch
 
``````




---

archive/issue_comments_534081.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,8 @@\n \n - [report on sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)\n \n-PRs:\n+Issues/PRs:\n - https://github.com/boostorg/math/pull/727 - add Cygwin CI\n - https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch\n+- https://github.com/scipy/scipy/issues/15296\n \n``````\n",
    "created_at": "2021-12-28T06:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534081",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,8 @@
 
 - [report on sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)
 
-PRs:
+Issues/PRs:
 - https://github.com/boostorg/math/pull/727 - add Cygwin CI
 - https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch
+- https://github.com/scipy/scipy/issues/15296
 
``````




---

archive/issue_comments_534082.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThis lets the scipy-1.7.2 spkg build for me.\n\nThanks for the fix and for sending pull requests\nto Boost and opening an issue for SciPy.\n\nShould the the patch or the commit messages\nmention the inspiration is from FreeBSD?\n\nOr is the discussion here enough?\n\nOne way or the other, you can set to\npositive review on my behalf.",
    "created_at": "2021-12-28T07:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534082",
    "user": "https://github.com/slel"
}
```

<div id="comment:23" align="right">comment:23</div>

This lets the scipy-1.7.2 spkg build for me.

Thanks for the fix and for sending pull requests
to Boost and opening an issue for SciPy.

Should the the patch or the commit messages
mention the inspiration is from FreeBSD?

Or is the discussion here enough?

One way or the other, you can set to
positive review on my behalf.



---

archive/issue_comments_534083.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/1625005817** to **Samuel  Leli\u00e8vre**",
    "created_at": "2021-12-28T07:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534083",
    "user": "https://github.com/slel"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/1625005817** to **Samuel  Leli√®vre**



---

archive/issue_comments_534084.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,11 @@\n Sage 9.5.beta9 + #33043 fails to build scipy-1.7.2\n on Cygwin.\n \n-- [report on sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)\n+Initial report:\n+- [sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)\n \n Issues/PRs:\n - https://github.com/boostorg/math/pull/727 - add Cygwin CI\n - https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch\n-- https://github.com/scipy/scipy/issues/15296\n+- https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin\n \n``````\n",
    "created_at": "2021-12-28T07:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534084",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,11 @@
 Sage 9.5.beta9 + #33043 fails to build scipy-1.7.2
 on Cygwin.
 
-- [report on sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)
+Initial report:
+- [sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)
 
 Issues/PRs:
 - https://github.com/boostorg/math/pull/727 - add Cygwin CI
 - https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch
-- https://github.com/scipy/scipy/issues/15296
+- https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin
 
``````




---

archive/issue_events_451896.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-28T08:58:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451896"
}
```



---

archive/issue_events_451897.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-28T08:58:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451897"
}
```



---

archive/issue_comments_534085.json:
```json
{
    "body": "Changed reviewer from **Samuel  Leli\u00e8vre** to **Samuel Leli\u00e8vre**",
    "created_at": "2021-12-28T08:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534085",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Samuel  Leli√®vre** to **Samuel Leli√®vre**



---

archive/issue_comments_534086.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThanks for testing!",
    "created_at": "2021-12-28T08:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534086",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Thanks for testing!



---

archive/issue_comments_534087.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@slel](#comment%3A23):\n> Should the the patch or the commit messages\n> mention the inspiration is from FreeBSD?\n> \n> Or is the discussion here enough?\n\nI think it's fine as is.",
    "created_at": "2021-12-28T08:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534087",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@slel](#comment%3A23):
> Should the the patch or the commit messages
> mention the inspiration is from FreeBSD?
> 
> Or is the discussion here enough?

I think it's fine as is.



---

archive/issue_events_451898.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-01T00:23:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451898"
}
```



---

archive/issue_events_451899.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "52f8223178be9699c4330e71baea17989496b48b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-01-01T00:23:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33080#event-451899"
}
```



---

archive/issue_comments_534088.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/fix_scipy_1_7_2_build_failure_on_cygwin](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_scipy_1_7_2_build_failure_on_cygwin)** to **[`9070a03`](https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0)**",
    "created_at": "2022-01-01T00:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534088",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/fix_scipy_1_7_2_build_failure_on_cygwin](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_scipy_1_7_2_build_failure_on_cygwin)** to **[`9070a03`](https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0)**



---

archive/issue_comments_534089.json:
```json
{
    "body": "Changed commit from **[`9070a03`](https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0)** to none",
    "created_at": "2022-01-14T18:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534089",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`9070a03`](https://github.com/sagemath/sagetrac-mirror/commit/9070a038099b5f37f60f731d9dc4f98345cd5bf0)** to none



---

archive/issue_comments_534090.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,5 +7,6 @@\n Issues/PRs:\n - https://github.com/boostorg/math/pull/727 - add Cygwin CI\n - https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch\n+- https://github.com/boostorg/math/pull/729 - combined PR\n - https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin\n \n``````\n",
    "created_at": "2022-01-14T18:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534090",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,5 +7,6 @@
 Issues/PRs:
 - https://github.com/boostorg/math/pull/727 - add Cygwin CI
 - https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch
+- https://github.com/boostorg/math/pull/729 - combined PR
 - https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin
 
``````




---

archive/issue_comments_534091.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,8 +5,8 @@\n - [sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)\n \n Issues/PRs:\n-- https://github.com/boostorg/math/pull/727 - add Cygwin CI\n-- https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch\n-- https://github.com/boostorg/math/pull/729 - combined PR\n+- https://github.com/boostorg/math/pull/727 - add Cygwin CI (superseded by 729)\n+- https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch (superseded by 729)\n+- https://github.com/boostorg/math/pull/729 - combined PR (merged)\n - https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin\n \n``````\n",
    "created_at": "2022-02-15T19:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534091",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,8 +5,8 @@
 - [sage-release, 2021-12](https://groups.google.com/g/sage-release/c/V9KflJYxHrk/m/gJIZHkegDQAJ)
 
 Issues/PRs:
-- https://github.com/boostorg/math/pull/727 - add Cygwin CI
-- https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch
-- https://github.com/boostorg/math/pull/729 - combined PR
+- https://github.com/boostorg/math/pull/727 - add Cygwin CI (superseded by 729)
+- https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch (superseded by 729)
+- https://github.com/boostorg/math/pull/729 - combined PR (merged)
 - https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin
 
``````




---

archive/issue_comments_534092.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,4 +9,6 @@\n - https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch (superseded by 729)\n - https://github.com/boostorg/math/pull/729 - combined PR (merged)\n - https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin\n+- https://github.com/scipy/boost-headers-only/pull/5\n \n+\n``````\n",
    "created_at": "2022-02-18T04:38:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33080",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33080#issuecomment-534092",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,4 +9,6 @@
 - https://github.com/boostorg/math/pull/728 - boost_math_tools_config.patch (superseded by 729)
 - https://github.com/boostorg/math/pull/729 - combined PR (merged)
 - https://github.com/scipy/scipy/issues/15296 - SciPy 1.7.x build failure on Cygwin
+- https://github.com/scipy/boost-headers-only/pull/5
 
+
``````

