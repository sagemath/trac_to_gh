# Issue 33142: remove doctest parsing of py2 long integers

archive/issues_032905.json:
```json
{
    "body": "\n\n**CC:**  @tscrim @slel @kliem\n\n**Branch/Commit:** [5b309aac974be15cd4344889b4487c7dff149b40](https://github.com/sagemath/sagetrac-mirror/commit/5b309aac974be15cd4344889b4487c7dff149b40)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/33142\n\n",
    "closed_at": "2022-02-13T10:17:25Z",
    "created_at": "2022-01-10T13:29:34Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "remove doctest parsing of py2 long integers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33142",
    "user": "https://github.com/fchapoton"
}
```


**CC:**  @tscrim @slel @kliem

**Branch/Commit:** [5b309aac974be15cd4344889b4487c7dff149b40](https://github.com/sagemath/sagetrac-mirror/commit/5b309aac974be15cd4344889b4487c7dff149b40)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/33142





---

archive/issue_comments_631886.json:
```json
{
    "body": "**Branch:** [u/chapoton/33142](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33142)",
    "created_at": "2022-01-10T13:30:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631886",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/33142](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33142)



---

archive/issue_comments_631887.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2022-01-10T13:30:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631887",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_631888.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9cd12fad15b5f084af0b85a68f38a29e5911a5a\">a9cd12f</a></td><td><code>remove doctest handling of long L suffix</code></td></tr></table>\n",
    "created_at": "2022-01-10T13:30:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631888",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9cd12fad15b5f084af0b85a68f38a29e5911a5a">a9cd12f</a></td><td><code>remove doctest handling of long L suffix</code></td></tr></table>




---

archive/issue_comments_631889.json:
```json
{
    "body": "**Commit:** [a9cd12fad15b5f084af0b85a68f38a29e5911a5a](https://github.com/sagemath/sagetrac-mirror/commit/a9cd12fad15b5f084af0b85a68f38a29e5911a5a)",
    "created_at": "2022-01-10T13:30:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631889",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [a9cd12fad15b5f084af0b85a68f38a29e5911a5a](https://github.com/sagemath/sagetrac-mirror/commit/a9cd12fad15b5f084af0b85a68f38a29e5911a5a)



---

archive/issue_comments_631890.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4\">6bd688e</a></td><td><code>fixing the few failing doctests</code></td></tr></table>\n",
    "created_at": "2022-01-10T16:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631890",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4">6bd688e</a></td><td><code>fixing the few failing doctests</code></td></tr></table>




---

archive/issue_comments_631891.json:
```json
{
    "body": "**Changing commit** from \"[a9cd12fad15b5f084af0b85a68f38a29e5911a5a](https://github.com/sagemath/sagetrac-mirror/commit/a9cd12fad15b5f084af0b85a68f38a29e5911a5a)\" to \"[6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4](https://github.com/sagemath/sagetrac-mirror/commit/6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4)\".",
    "created_at": "2022-01-10T16:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631891",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a9cd12fad15b5f084af0b85a68f38a29e5911a5a](https://github.com/sagemath/sagetrac-mirror/commit/a9cd12fad15b5f084af0b85a68f38a29e5911a5a)" to "[6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4](https://github.com/sagemath/sagetrac-mirror/commit/6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4)".



---

archive/issue_events_098213.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-01-10T19:12:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33142#event-98213"
}
```



---

archive/issue_comments_631892.json:
```json
{
    "body": "<a id='comment:4'></a>\nbot is now green, so please review\n\ndoc building seems to be broken for some reason in 9.5.rc0",
    "created_at": "2022-01-10T21:01:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631892",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
bot is now green, so please review

doc building seems to be broken for some reason in 9.5.rc0



---

archive/issue_comments_631893.json:
```json
{
    "body": "<a id='comment:5'></a>\nDocbuild failure tracked at #33139.",
    "created_at": "2022-01-10T23:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631893",
    "user": "https://github.com/slel"
}
```

<a id='comment:5'></a>
Docbuild failure tracked at #33139.



---

archive/issue_comments_631894.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-01-11T08:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631894",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_631895.json:
```json
{
    "body": "<a id='comment:6'></a>\nGoodbye `L`. *waves*",
    "created_at": "2022-01-11T08:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631895",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Goodbye `L`. *waves*



---

archive/issue_comments_631896.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2022-01-11T08:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631896",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_631897.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks, Travis. Happy New Year !",
    "created_at": "2022-01-11T09:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631897",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
Thanks, Travis. Happy New Year !



---

archive/issue_comments_631898.json:
```json
{
    "body": "<a id='comment:8'></a>\nOn 32-bit:\n\n```\n**********************************************************************\nFile \"src/sage/arith/multi_modular.pyx\", line 824, in sage.arith.multi_modular.MultiModularBasis_base.__getitem__\nFailed example:\n    mm[1]\nExpected:\n    10009L            \nGot:\n    10009\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.arith.multi_modular.MultiModularBasis_base.__getitem__\n    [134 tests, 1 failure, 0.14 s]\n**********************************************************************\nFile \"src/sage/modular/modsym/p1list.pyx\", line 1279, in sage.modular.modsym.p1list.lift_to_sl2z_llong\nFailed example:\n    lift_to_sl2z_llong(2,6,11)\nExpected:\n    [1L, 8L, 2L, 17L] \nGot:\n    [1, 8, 2, 17]\n**********************************************************************\nFile \"src/sage/modular/modsym/p1list.pyx\", line 1347, in sage.modular.modsym.p1list.lift_to_sl2z\nFailed example:\n    lift_to_sl2z(2,3,6000000)\nExpected:\n    [1L, 1L, 2L, 3L] \nGot:\n    [1, 1, 2, 3]\n**********************************************************************\n2 items had failures:\n   1 of   6 in sage.modular.modsym.p1list.lift_to_sl2z\n   1 of   5 in sage.modular.modsym.p1list.lift_to_sl2z_llong\n    [122 tests, 2 failures, 0.11 s]\n**********************************************************************\nFile \"src/sage/symbolic/pynac_impl.pxi\", line 223, in sage.symbolic.pynac_impl.paramset_from_Expression\nFailed example:\n    paramset_from_Expression(f(x).diff(x))\nExpected:\n    [0L] \nGot:\n    [0]\n**********************************************************************\n1 item had failures:\n   1 of   4 in sage.symbolic.pynac_impl.paramset_from_Expression\n    [332 tests, 1 failure, 3.33 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/arith/multi_modular.pyx  # 1 doctest failed\nsage -t --long --random-seed=0 src/sage/modular/modsym/p1list.pyx  # 2 doctests failed\nsage -t --long --random-seed=0 src/sage/symbolic/pynac_impl.pxi  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2022-02-01T23:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631898",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
On 32-bit:

```
**********************************************************************
File "src/sage/arith/multi_modular.pyx", line 824, in sage.arith.multi_modular.MultiModularBasis_base.__getitem__
Failed example:
    mm[1]
Expected:
    10009L            
Got:
    10009
**********************************************************************
1 item had failures:
   1 of   6 in sage.arith.multi_modular.MultiModularBasis_base.__getitem__
    [134 tests, 1 failure, 0.14 s]
**********************************************************************
File "src/sage/modular/modsym/p1list.pyx", line 1279, in sage.modular.modsym.p1list.lift_to_sl2z_llong
Failed example:
    lift_to_sl2z_llong(2,6,11)
Expected:
    [1L, 8L, 2L, 17L] 
Got:
    [1, 8, 2, 17]
**********************************************************************
File "src/sage/modular/modsym/p1list.pyx", line 1347, in sage.modular.modsym.p1list.lift_to_sl2z
Failed example:
    lift_to_sl2z(2,3,6000000)
Expected:
    [1L, 1L, 2L, 3L] 
Got:
    [1, 1, 2, 3]
**********************************************************************
2 items had failures:
   1 of   6 in sage.modular.modsym.p1list.lift_to_sl2z
   1 of   5 in sage.modular.modsym.p1list.lift_to_sl2z_llong
    [122 tests, 2 failures, 0.11 s]
**********************************************************************
File "src/sage/symbolic/pynac_impl.pxi", line 223, in sage.symbolic.pynac_impl.paramset_from_Expression
Failed example:
    paramset_from_Expression(f(x).diff(x))
Expected:
    [0L] 
Got:
    [0]
**********************************************************************
1 item had failures:
   1 of   4 in sage.symbolic.pynac_impl.paramset_from_Expression
    [332 tests, 1 failure, 3.33 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/arith/multi_modular.pyx  # 1 doctest failed
sage -t --long --random-seed=0 src/sage/modular/modsym/p1list.pyx  # 2 doctests failed
sage -t --long --random-seed=0 src/sage/symbolic/pynac_impl.pxi  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_comments_631899.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2022-02-01T23:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631899",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_631900.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/028d3e4c6ea4318eff1419e7e4152ab0f1103751\">028d3e4</a></td><td><code>Merge branch 'u/chapoton/33142' in 9.5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b309aac974be15cd4344889b4487c7dff149b40\">5b309aa</a></td><td><code>more fixes about obsolete L suffix for long</code></td></tr></table>\n",
    "created_at": "2022-02-02T08:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631900",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/028d3e4c6ea4318eff1419e7e4152ab0f1103751">028d3e4</a></td><td><code>Merge branch 'u/chapoton/33142' in 9.5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b309aac974be15cd4344889b4487c7dff149b40">5b309aa</a></td><td><code>more fixes about obsolete L suffix for long</code></td></tr></table>




---

archive/issue_comments_631901.json:
```json
{
    "body": "**Changing commit** from \"[6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4](https://github.com/sagemath/sagetrac-mirror/commit/6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4)\" to \"[5b309aac974be15cd4344889b4487c7dff149b40](https://github.com/sagemath/sagetrac-mirror/commit/5b309aac974be15cd4344889b4487c7dff149b40)\".",
    "created_at": "2022-02-02T08:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631901",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4](https://github.com/sagemath/sagetrac-mirror/commit/6bd688ef6a92a267136c8f59b0ca0cc1d4b673d4)" to "[5b309aac974be15cd4344889b4487c7dff149b40](https://github.com/sagemath/sagetrac-mirror/commit/5b309aac974be15cd4344889b4487c7dff149b40)".



---

archive/issue_comments_631902.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-02-02T08:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631902",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_631903.json:
```json
{
    "body": "<a id='comment:10'></a>\nfixed, back to \"needs review\"",
    "created_at": "2022-02-02T08:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631903",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
fixed, back to "needs review"



---

archive/issue_comments_631904.json:
```json
{
    "body": "<a id='comment:11'></a>\nLGTM.",
    "created_at": "2022-02-02T08:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631904",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
LGTM.



---

archive/issue_comments_631905.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-02-02T08:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631905",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_098214.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-13T10:17:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33142#event-98214"
}
```



---

archive/issue_comments_631906.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/33142](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33142)\" to \"[5b309aac974be15cd4344889b4487c7dff149b40](https://github.com/sagemath/sagetrac-mirror/commit/5b309aac974be15cd4344889b4487c7dff149b40)\".",
    "created_at": "2022-02-13T10:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33142#issuecomment-631906",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/33142](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33142)" to "[5b309aac974be15cd4344889b4487c7dff149b40](https://github.com/sagemath/sagetrac-mirror/commit/5b309aac974be15cd4344889b4487c7dff149b40)".
