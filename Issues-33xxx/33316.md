# Issue 33316: Drop support for GCC < 6.3 in Sage 9.7

archive/issues_033079.json:
```json
{
    "body": "(see Meta-ticket #32074: Remove support for outdated distros)\n\nThis ticket can be used as a dependency for upgrade tickets that impose stricter compiler requirements.\n\n\nCC:  @dimpase @kliem\n\nBranch/Commit: 7c0072ee09ae13eb519c42fbe1728bcee7ae6cd7\n\nReviewer: Jonathan Kliem\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33316\n\n",
    "closed_at": "2022-06-19T15:24:40Z",
    "created_at": "2022-02-08T21:21:18Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Drop support for GCC < 6.3 in Sage 9.7",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33316",
    "user": "https://github.com/mkoeppe"
}
```
(see Meta-ticket #32074: Remove support for outdated distros)

This ticket can be used as a dependency for upgrade tickets that impose stricter compiler requirements.


CC:  @dimpase @kliem

Branch/Commit: 7c0072ee09ae13eb519c42fbe1728bcee7ae6cd7

Reviewer: Jonathan Kliem

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33316





---

archive/issue_comments_664537.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#33187\"",
    "created_at": "2022-02-08T21:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664537",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#33187"



---

archive/issue_comments_664538.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/drop_support_for_gcc___6_3_in_sage_9_7\"",
    "created_at": "2022-02-08T21:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664538",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/drop_support_for_gcc___6_3_in_sage_9_7"



---

archive/issue_comments_664539.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[bf96a8a](https://git.sagemath.org/sage.git/commit/?id=bf96a8acb434f4fbd7ac5b007bea832e58f7f66f)|`README.md, src/doc/en/installation/source.rst: Update info on GCC versions`|",
    "created_at": "2022-02-08T22:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664539",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[bf96a8a](https://git.sagemath.org/sage.git/commit/?id=bf96a8acb434f4fbd7ac5b007bea832e58f7f66f)|`README.md, src/doc/en/installation/source.rst: Update info on GCC versions`|



---

archive/issue_comments_664540.json:
```json
{
    "body": "Changing commit from \"\" to \"bf96a8acb434f4fbd7ac5b007bea832e58f7f66f\"",
    "created_at": "2022-02-08T22:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664540",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "bf96a8acb434f4fbd7ac5b007bea832e58f7f66f"



---

archive/issue_comments_664541.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-02-08T22:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664541",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_664542.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Update platforms tested on GH Actions, best on top of #33062\"",
    "created_at": "2022-02-09T20:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664542",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "Update platforms tested on GH Actions, best on top of #33062"



---

archive/issue_comments_664543.json:
```json
{
    "body": "Changing commit from \"bf96a8acb434f4fbd7ac5b007bea832e58f7f66f\" to \"4e8b2c2771c933f7e2fac7c16fb99cc4e240238f\"",
    "created_at": "2022-04-20T23:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bf96a8acb434f4fbd7ac5b007bea832e58f7f66f" to "4e8b2c2771c933f7e2fac7c16fb99cc4e240238f"



---

archive/issue_comments_664544.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[1124ded](https://git.sagemath.org/sage.git/commit/?id=1124ded86b0eff3ac0b98e9a4e32c04b3d02ca7d)|`build/pkgs/gcc/spkg-configure.m4: Bump minimum version to 6.3`|\n|[4e8b2c2](https://git.sagemath.org/sage.git/commit/?id=4e8b2c2771c933f7e2fac7c16fb99cc4e240238f)|`README.md, src/doc/en/installation/source.rst: Update info on GCC versions`|",
    "created_at": "2022-04-20T23:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664544",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[1124ded](https://git.sagemath.org/sage.git/commit/?id=1124ded86b0eff3ac0b98e9a4e32c04b3d02ca7d)|`build/pkgs/gcc/spkg-configure.m4: Bump minimum version to 6.3`|
|[4e8b2c2](https://git.sagemath.org/sage.git/commit/?id=4e8b2c2771c933f7e2fac7c16fb99cc4e240238f)|`README.md, src/doc/en/installation/source.rst: Update info on GCC versions`|



---

archive/issue_comments_664545.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[9b388ea](https://git.sagemath.org/sage.git/commit/?id=9b388ea6e2ab3f2690e61753182acecceef33464)|`.github/workflows/tox*.yml: Update platforms for drop of GCC < 6.3`|",
    "created_at": "2022-04-20T23:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664545",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[9b388ea](https://git.sagemath.org/sage.git/commit/?id=9b388ea6e2ab3f2690e61753182acecceef33464)|`.github/workflows/tox*.yml: Update platforms for drop of GCC < 6.3`|



---

archive/issue_comments_664546.json:
```json
{
    "body": "Changing commit from \"4e8b2c2771c933f7e2fac7c16fb99cc4e240238f\" to \"9b388ea6e2ab3f2690e61753182acecceef33464\"",
    "created_at": "2022-04-20T23:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664546",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4e8b2c2771c933f7e2fac7c16fb99cc4e240238f" to "9b388ea6e2ab3f2690e61753182acecceef33464"



---

archive/issue_comments_664547.json:
```json
{
    "body": "Changing work_issues from \"Update platforms tested on GH Actions, best on top of #33062\" to \"\"",
    "created_at": "2022-04-20T23:41:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664547",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Update platforms tested on GH Actions, best on top of #33062" to ""



---

archive/issue_comments_664548.json:
```json
{
    "body": "Changing dependencies from \"#33187\" to \"\"",
    "created_at": "2022-04-20T23:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664548",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33187" to ""



---

archive/issue_comments_664549.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[e7ff2a8](https://git.sagemath.org/sage.git/commit/?id=e7ff2a83a3718923588f56a06c073721b2d18d8b)|`build/pkgs/gcc/spkg-configure.m4: Fixup`|",
    "created_at": "2022-04-21T00:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664549",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[e7ff2a8](https://git.sagemath.org/sage.git/commit/?id=e7ff2a83a3718923588f56a06c073721b2d18d8b)|`build/pkgs/gcc/spkg-configure.m4: Fixup`|



---

archive/issue_comments_664550.json:
```json
{
    "body": "Changing commit from \"9b388ea6e2ab3f2690e61753182acecceef33464\" to \"e7ff2a83a3718923588f56a06c073721b2d18d8b\"",
    "created_at": "2022-04-21T00:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664550",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9b388ea6e2ab3f2690e61753182acecceef33464" to "e7ff2a83a3718923588f56a06c073721b2d18d8b"



---

archive/issue_comments_664551.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|\n|[0713f53](https://git.sagemath.org/sage.git/commit/?id=0713f534c47ec586e485bd2e688fdf7fe4a80f53)|`.github/workflows/tox*.yml: Replace ubuntu-xenial by ubuntu-xenial-toolchain-gcc_9`|",
    "created_at": "2022-04-21T06:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664551",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
|[0713f53](https://git.sagemath.org/sage.git/commit/?id=0713f534c47ec586e485bd2e688fdf7fe4a80f53)|`.github/workflows/tox*.yml: Replace ubuntu-xenial by ubuntu-xenial-toolchain-gcc_9`|



---

archive/issue_comments_664552.json:
```json
{
    "body": "Changing commit from \"e7ff2a83a3718923588f56a06c073721b2d18d8b\" to \"0713f534c47ec586e485bd2e688fdf7fe4a80f53\"",
    "created_at": "2022-04-21T06:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664552",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e7ff2a83a3718923588f56a06c073721b2d18d8b" to "0713f534c47ec586e485bd2e688fdf7fe4a80f53"



---

archive/issue_comments_664553.json:
```json
{
    "body": "Changing reviewer from \"\" to \"https://github.com/mkoeppe/sage/actions/runs/2242737566, https://github.com/mkoeppe/sage/actions/runs/2242737575\"",
    "created_at": "2022-04-29T00:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664553",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "https://github.com/mkoeppe/sage/actions/runs/2242737566, https://github.com/mkoeppe/sage/actions/runs/2242737575"



---

archive/issue_comments_664554.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-04-29T00:46:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664554",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_664555.json:
```json
{
    "body": "<a id='comment:13'></a>\nOn `ubuntu-trusty-toolchain-gcc_9-minimal` (https://github.com/mkoeppe/sage/runs/6221011844) and `-standard`, `nauty`, `ecm`, `ntl` fail with \n`Error: operand size mismatch for `vmovdqa64'` or `Error: operand size mismatch for `vmovdqu64'`; and `fflas_ffpack` fails with many different `operand size mismatch` errors.",
    "created_at": "2022-04-29T04:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664555",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
On `ubuntu-trusty-toolchain-gcc_9-minimal` (https://github.com/mkoeppe/sage/runs/6221011844) and `-standard`, `nauty`, `ecm`, `ntl` fail with 
`Error: operand size mismatch for `vmovdqa64'` or `Error: operand size mismatch for `vmovdqu64'`; and `fflas_ffpack` fails with many different `operand size mismatch` errors.



---

archive/issue_comments_664556.json:
```json
{
    "body": "<a id='comment:14'></a>\nI'm guessing the problem is in https://github.com/linbox-team/fflas-ffpack/blob/b51626baf2715c8b8bcb0c334856b204f9a4a901/fflas-ffpack/fflas/fflas_simd/simd512_double.inl\n\nThey are calling `_mm512_and_pd` with `const __mm512d` instead of just `__m512d`. The problem should mostly go away, because stuff is inlined, but it might fail with g++ 9.\n\nIt seems to work with g++ 11.3.0 for me. At least I cannot reproduce the bug, even though I have available the `avx512...` instructions. But then again, it works for the other workflows, so this doesn't seem to be a problem in other cases. Just in the `toolchain-gcc_9-minimal` workflow.\n\nCan we configure `fflas_ffpack` with `--disable-avx512dq` in this case?",
    "created_at": "2022-04-30T17:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664556",
    "user": "https://github.com/kliem"
}
```

<a id='comment:14'></a>
I'm guessing the problem is in https://github.com/linbox-team/fflas-ffpack/blob/b51626baf2715c8b8bcb0c334856b204f9a4a901/fflas-ffpack/fflas/fflas_simd/simd512_double.inl

They are calling `_mm512_and_pd` with `const __mm512d` instead of just `__m512d`. The problem should mostly go away, because stuff is inlined, but it might fail with g++ 9.

It seems to work with g++ 11.3.0 for me. At least I cannot reproduce the bug, even though I have available the `avx512...` instructions. But then again, it works for the other workflows, so this doesn't seem to be a problem in other cases. Just in the `toolchain-gcc_9-minimal` workflow.

Can we configure `fflas_ffpack` with `--disable-avx512dq` in this case?



---

archive/issue_comments_664557.json:
```json
{
    "body": "<a id='comment:15'></a>\nI'll try first if installing `binutils-2.26` (and setting `PATH=\"/usr/lib/binutils-2.26/bin:$PATH\"`) helps.",
    "created_at": "2022-05-01T01:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664557",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
I'll try first if installing `binutils-2.26` (and setting `PATH="/usr/lib/binutils-2.26/bin:$PATH"`) helps.



---

archive/issue_comments_664558.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[d650177](https://git.sagemath.org/sage.git/commit/?id=d650177c305213b7529d1f70b30d78155efb826a)|`Merge tag '9.6.rc2' into t/33316/drop_support_for_gcc___6_3_in_sage_9_7`|\n|[a0e037f](https://git.sagemath.org/sage.git/commit/?id=a0e037f4df2f303423855351c4d5fc5001cca69f)|`build/bin/write-dockerfile.sh [debian]: Handle EXTRA_PATH, EXTRA_SYSTEM_PACKAGES`|\n|[dae2d08](https://git.sagemath.org/sage.git/commit/?id=dae2d08286e06f7a5a4c7e5e8931670ecfbda64a)|`tox.ini (ubuntu-trusty-toolchain): Use binutils-2.26`|",
    "created_at": "2022-05-02T22:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[d650177](https://git.sagemath.org/sage.git/commit/?id=d650177c305213b7529d1f70b30d78155efb826a)|`Merge tag '9.6.rc2' into t/33316/drop_support_for_gcc___6_3_in_sage_9_7`|
|[a0e037f](https://git.sagemath.org/sage.git/commit/?id=a0e037f4df2f303423855351c4d5fc5001cca69f)|`build/bin/write-dockerfile.sh [debian]: Handle EXTRA_PATH, EXTRA_SYSTEM_PACKAGES`|
|[dae2d08](https://git.sagemath.org/sage.git/commit/?id=dae2d08286e06f7a5a4c7e5e8931670ecfbda64a)|`tox.ini (ubuntu-trusty-toolchain): Use binutils-2.26`|



---

archive/issue_comments_664559.json:
```json
{
    "body": "Changing commit from \"0713f534c47ec586e485bd2e688fdf7fe4a80f53\" to \"dae2d08286e06f7a5a4c7e5e8931670ecfbda64a\"",
    "created_at": "2022-05-02T22:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0713f534c47ec586e485bd2e688fdf7fe4a80f53" to "dae2d08286e06f7a5a4c7e5e8931670ecfbda64a"



---

archive/issue_comments_664560.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/2242737566, https://github.com/mkoeppe/sage/actions/runs/2242737575\" to \"https://github.com/mkoeppe/sage/actions/runs/2260846479\"",
    "created_at": "2022-05-02T22:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664560",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/2242737566, https://github.com/mkoeppe/sage/actions/runs/2242737575" to "https://github.com/mkoeppe/sage/actions/runs/2260846479"



---

archive/issue_comments_664561.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [mkoeppe](#comment%3A15):\n> I'll try first if installing `binutils-2.26` (and setting `PATH=\"/usr/lib/binutils-2.26/bin:$PATH\"`) helps. \n\n\nIt seems to work. Ready for review",
    "created_at": "2022-05-03T03:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664561",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Replying to [mkoeppe](#comment%3A15):
> I'll try first if installing `binutils-2.26` (and setting `PATH="/usr/lib/binutils-2.26/bin:$PATH"`) helps. 


It seems to work. Ready for review



---

archive/issue_comments_664562.json:
```json
{
    "body": "Changing commit from \"dae2d08286e06f7a5a4c7e5e8931670ecfbda64a\" to \"33ca13187c3f29b009e5e93f01d0e42fde64a713\"",
    "created_at": "2022-05-03T06:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664562",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dae2d08286e06f7a5a4c7e5e8931670ecfbda64a" to "33ca13187c3f29b009e5e93f01d0e42fde64a713"



---

archive/issue_comments_664563.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[33ca131](https://git.sagemath.org/sage.git/commit/?id=33ca13187c3f29b009e5e93f01d0e42fde64a713)|`tox.ini, .github/workflows/tox*.yml: Add ubuntu-kinetic, linuxmint-21, fedora-37`|",
    "created_at": "2022-05-03T06:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664563",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[33ca131](https://git.sagemath.org/sage.git/commit/?id=33ca13187c3f29b009e5e93f01d0e42fde64a713)|`tox.ini, .github/workflows/tox*.yml: Add ubuntu-kinetic, linuxmint-21, fedora-37`|



---

archive/issue_comments_664564.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/2260846479\" to \"Jonathan Kliem\"",
    "created_at": "2022-05-09T10:22:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664564",
    "user": "https://github.com/kliem"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/2260846479" to "Jonathan Kliem"



---

archive/issue_comments_664565.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-05-09T10:22:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664565",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_664566.json:
```json
{
    "body": "<a id='comment:20'></a>\nLGTM.",
    "created_at": "2022-05-09T10:22:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664566",
    "user": "https://github.com/kliem"
}
```

<a id='comment:20'></a>
LGTM.



---

archive/issue_comments_664567.json:
```json
{
    "body": "<a id='comment:21'></a>\nThank you!",
    "created_at": "2022-05-09T17:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664567",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Thank you!



---

archive/issue_comments_664568.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-05-22T09:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664568",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_664569.json:
```json
{
    "body": "<a id='comment:22'></a>\nIf configure doesn't find a supported version we should just install it instead of giving users instructions for other configure flags:\n\n```\nconfigure: error: \n    Given --with-system-gcc=force, but no system package could be used.\n    That's an error.  Please install the indicated package to continue.\n    (To override this error, use ./configure --without-system-gcc)\n```",
    "created_at": "2022-05-22T09:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664569",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>
If configure doesn't find a supported version we should just install it instead of giving users instructions for other configure flags:

```
configure: error: 
    Given --with-system-gcc=force, but no system package could be used.
    That's an error.  Please install the indicated package to continue.
    (To override this error, use ./configure --without-system-gcc)
```



---

archive/issue_comments_664570.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [vbraun](#comment%3A22):\n> If configure doesn't find a supported version we should just install it instead of giving users instructions for other configure flags:\n> \n> ```\n> configure: error: \n>     Given --with-system-gcc=force, but no system package could be used.\n>     That's an error.  Please install the indicated package to continue.\n>     (To override this error, use ./configure --without-system-gcc)\n> ```\n\n\nVolker, it is not a bug, it is how `=force`  option is meant to be.",
    "created_at": "2022-05-22T11:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664570",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>
Replying to [vbraun](#comment%3A22):
> If configure doesn't find a supported version we should just install it instead of giving users instructions for other configure flags:
> 
> ```
> configure: error: 
>     Given --with-system-gcc=force, but no system package could be used.
>     That's an error.  Please install the indicated package to continue.
>     (To override this error, use ./configure --without-system-gcc)
> ```


Volker, it is not a bug, it is how `=force`  option is meant to be.



---

archive/issue_comments_664571.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-05-22T11:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664571",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_664572.json:
```json
{
    "body": "<a id='comment:24'></a>\nFor reference, this behavior was implemented in #32060.",
    "created_at": "2022-05-22T11:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664572",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
For reference, this behavior was implemented in #32060.



---

archive/issue_comments_664573.json:
```json
{
    "body": "<a id='comment:25'></a>\nBreaks the Debian 9 buildbot, we can merge this after I get around to update the buildbot config",
    "created_at": "2022-05-22T16:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664573",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:25'></a>
Breaks the Debian 9 buildbot, we can merge this after I get around to update the buildbot config



---

archive/issue_comments_664574.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-05-22T16:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664574",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_664575.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-05-22T16:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664575",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_664576.json:
```json
{
    "body": "<a id='comment:26'></a>\nSee #32074 - we're dropping support for Debian 9.",
    "created_at": "2022-05-22T16:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664576",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
See #32074 - we're dropping support for Debian 9.



---

archive/issue_comments_664577.json:
```json
{
    "body": "<a id='comment:27'></a>\nDebian 9 is still LTS",
    "created_at": "2022-05-22T16:39:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664577",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>
Debian 9 is still LTS



---

archive/issue_comments_664578.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [mkoeppe](#comment%3A26):\n> See #32074 - we're dropping support for Debian 9.\n\n\nSorry, I was off by one. Debian 9 is fine. What's the problem on your buildbot?",
    "created_at": "2022-05-22T16:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664578",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
Replying to [mkoeppe](#comment%3A26):
> See #32074 - we're dropping support for Debian 9.


Sorry, I was off by one. Debian 9 is fine. What's the problem on your buildbot?



---

archive/issue_comments_664579.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-05-22T16:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664579",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_664580.json:
```json
{
    "body": "<a id='comment:29'></a>\nso needs_work but not on the ticket",
    "created_at": "2022-05-22T16:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664580",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
so needs_work but not on the ticket



---

archive/issue_comments_664581.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [vbraun](#comment%3A27):\n> Debian 9 is still LTS \n\n\nbut only till 01.07.2022, so we should be dropping it in 9.7, I guess.",
    "created_at": "2022-05-22T21:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664581",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
Replying to [vbraun](#comment%3A27):
> Debian 9 is still LTS 


but only till 01.07.2022, so we should be dropping it in 9.7, I guess.



---

archive/issue_comments_664582.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-05-24T01:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664582",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_664583.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#33888\"",
    "created_at": "2022-05-24T01:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664583",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#33888"



---

archive/issue_comments_664584.json:
```json
{
    "body": "Changing dependencies from \"#33888\" to \"\"",
    "created_at": "2022-06-13T18:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664584",
    "user": "https://github.com/vbraun"
}
```

Changing dependencies from "#33888" to ""



---

archive/issue_comments_664585.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-06-13T18:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664585",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_664586.json:
```json
{
    "body": "<a id='comment:33'></a>\nMerge failure on top of:\n\n08609a40ad Trac #33829: sage.graphs: Do not use SAGE_TMP in doctests\n\neca52b24ab Trac #33922: Add missing title to conf.py\n\ne9bfcd2dd8 Trac #33980: codespell in graphs: fix a few typos\n\n28f70e0932 Trac #31153: Fix latex of elements of multivariate polynomial quotient ring\n\nb36c11c5d7 Trac #33983: sage_setup: Add missing dependency\n\n6edac51d8b Trac #33970: Remove a period sneaked in the documentation website\n\n6d60bf357f Trac #33977: fix pycodestyle E306 in geometry and schemes\n\nedd7a74ed3 Trac #33976: some pycodestyle fixes in pxd and pxi files\n\nb0973afaa7 Trac #33975: get rid of commented old-style prints\n\nb3d6a0b8ff Trac #33956: some better .join with iterator inside\n\na33f2df893 Trac #33949: get rid of have_ring option in singular interface\n\nad1c3ac34f Trac #33946: fix pycodestyle E306 in rings and algebras\n\n4942ca958b Trac #33945: fix pycodestyle E306 outside of algebras,rings,graphs,schemes,categories\n\n8dad9ce80f Trac #30683: Nu Tamari\n\n346b3b04a5 Trac #33968: Replace $...$ in docstrings by `...`\n\nf793558dd1 Trac #33967: sage -t: Print git commit hash and SAGE_LOCAL, SAGE_VENV\n\n0e48fececd Trac #33963: wrong sign for symbolic Legendre polynomial at 0\n\n34d562ee2b Trac #33962: wrong sign for value of Legendre polynomial at 0\n\nbd33f87651 Trac #33961: compute square roots modulo powers of two in polynomial time\n\n16af958d67 Trac #33940: enhance maple interface\n\n8d921a4996 Trac #33872: Upgrade memory allocator to 0.1.3\n\n29499f89e2 Trac #33871: Don't run singular in spkg-configure.m4 when cross compiling\n\n4cc978b96c Trac #33823: sage -t --optional='sage,!FEATURE'\n\n6b6f0cf0f4 Trac #33776: move method distance_graph to graph.py\n\n65e866a5b1 Trac #23443: More Schubert polynomial shenanigans\n\na6e696e91d Updated [SageMath](SageMath) version to 9.7.beta2\n\n\n\nmerge was not clean: conflicts in .github/workflows/tox.yml",
    "created_at": "2022-06-13T18:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664586",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>
Merge failure on top of:

08609a40ad Trac #33829: sage.graphs: Do not use SAGE_TMP in doctests

eca52b24ab Trac #33922: Add missing title to conf.py

e9bfcd2dd8 Trac #33980: codespell in graphs: fix a few typos

28f70e0932 Trac #31153: Fix latex of elements of multivariate polynomial quotient ring

b36c11c5d7 Trac #33983: sage_setup: Add missing dependency

6edac51d8b Trac #33970: Remove a period sneaked in the documentation website

6d60bf357f Trac #33977: fix pycodestyle E306 in geometry and schemes

edd7a74ed3 Trac #33976: some pycodestyle fixes in pxd and pxi files

b0973afaa7 Trac #33975: get rid of commented old-style prints

b3d6a0b8ff Trac #33956: some better .join with iterator inside

a33f2df893 Trac #33949: get rid of have_ring option in singular interface

ad1c3ac34f Trac #33946: fix pycodestyle E306 in rings and algebras

4942ca958b Trac #33945: fix pycodestyle E306 outside of algebras,rings,graphs,schemes,categories

8dad9ce80f Trac #30683: Nu Tamari

346b3b04a5 Trac #33968: Replace $...$ in docstrings by `...`

f793558dd1 Trac #33967: sage -t: Print git commit hash and SAGE_LOCAL, SAGE_VENV

0e48fececd Trac #33963: wrong sign for symbolic Legendre polynomial at 0

34d562ee2b Trac #33962: wrong sign for value of Legendre polynomial at 0

bd33f87651 Trac #33961: compute square roots modulo powers of two in polynomial time

16af958d67 Trac #33940: enhance maple interface

8d921a4996 Trac #33872: Upgrade memory allocator to 0.1.3

29499f89e2 Trac #33871: Don't run singular in spkg-configure.m4 when cross compiling

4cc978b96c Trac #33823: sage -t --optional='sage,!FEATURE'

6b6f0cf0f4 Trac #33776: move method distance_graph to graph.py

65e866a5b1 Trac #23443: More Schubert polynomial shenanigans

a6e696e91d Updated [SageMath](SageMath) version to 9.7.beta2



merge was not clean: conflicts in .github/workflows/tox.yml



---

archive/issue_comments_664587.json:
```json
{
    "body": "<a id='comment:34'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|\n|[7c0072e](https://git.sagemath.org/sage.git/commit/?id=7c0072ee09ae13eb519c42fbe1728bcee7ae6cd7)|`Merge tag '9.7.beta2' into t/33316/drop_support_for_gcc___6_3_in_sage_9_7`|",
    "created_at": "2022-06-13T18:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|
|[7c0072e](https://git.sagemath.org/sage.git/commit/?id=7c0072ee09ae13eb519c42fbe1728bcee7ae6cd7)|`Merge tag '9.7.beta2' into t/33316/drop_support_for_gcc___6_3_in_sage_9_7`|



---

archive/issue_comments_664588.json:
```json
{
    "body": "Changing commit from \"33ca13187c3f29b009e5e93f01d0e42fde64a713\" to \"7c0072ee09ae13eb519c42fbe1728bcee7ae6cd7\"",
    "created_at": "2022-06-13T18:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "33ca13187c3f29b009e5e93f01d0e42fde64a713" to "7c0072ee09ae13eb519c42fbe1728bcee7ae6cd7"



---

archive/issue_comments_664589.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-06-13T18:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664589",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_087923.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-06-19T15:24:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33316#event-87923"
}
```



---

archive/issue_comments_664590.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/drop_support_for_gcc___6_3_in_sage_9_7\" to \"7c0072ee09ae13eb519c42fbe1728bcee7ae6cd7\"",
    "created_at": "2022-06-19T15:24:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664590",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/drop_support_for_gcc___6_3_in_sage_9_7" to "7c0072ee09ae13eb519c42fbe1728bcee7ae6cd7"



---

archive/issue_comments_664591.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-06-19T15:24:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33316#issuecomment-664591",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
