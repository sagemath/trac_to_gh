# Issue 33726: get rid of some iteritems

archive/issues_033489.json:
```json
{
    "body": "Change `iteritems` to `items` in two py files where `iteritems` makes no sense with python3.\n\nAlso in one pyx file. Note that in pyx files, with python3, `items` is the same as `iteritems`.\n\nCC:  @tscrim\n\nReviewer: Kwankyu Lee\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nBranch: 0d580e574300e7ee44eb22c4856a51e97c413cad\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33726\n\n",
    "closed_at": "2022-05-24T22:44:15Z",
    "created_at": "2022-04-18T10:59:34Z",
    "labels": [
        "component: refactoring",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "get rid of some iteritems",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33726",
    "user": "https://github.com/fchapoton"
}
```
Change `iteritems` to `items` in two py files where `iteritems` makes no sense with python3.

Also in one pyx file. Note that in pyx files, with python3, `items` is the same as `iteritems`.

CC:  @tscrim

Reviewer: Kwankyu Lee

Author: Frédéric Chapoton

Branch: 0d580e574300e7ee44eb22c4856a51e97c413cad

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33726





---

archive/issue_comments_664334.json:
```json
{
    "body": "Changing commit from \"\" to \"aa5108410f38f3dd9c6556346a5bbf8e468cb736\"",
    "created_at": "2022-04-18T11:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664334",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "aa5108410f38f3dd9c6556346a5bbf8e468cb736"



---

archive/issue_comments_664335.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[aa51084](https://github.com/sagemath/sagetrac-mirror/commit/aa5108410f38f3dd9c6556346a5bbf8e468cb736)|`get rid of some iteritems`|",
    "created_at": "2022-04-18T11:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664335",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[aa51084](https://github.com/sagemath/sagetrac-mirror/commit/aa5108410f38f3dd9c6556346a5bbf8e468cb736)|`get rid of some iteritems`|



---

archive/issue_comments_664336.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/33726\"",
    "created_at": "2022-04-18T11:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664336",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/33726"



---

archive/issue_events_107676.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-04-18T11:00:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33726#event-107676"
}
```



---

archive/issue_comments_664337.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-04-18T11:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664337",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_664338.json:
```json
{
    "body": "<a id='comment:2'></a>\n> in two py files where this makes no sense\n\n\nWhat do you mean? You only replaced `iteritems` with `items` (of python3).",
    "created_at": "2022-04-19T04:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664338",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:2'></a>
> in two py files where this makes no sense


What do you mean? You only replaced `iteritems` with `items` (of python3).



---

archive/issue_comments_664339.json:
```json
{
    "body": "<a id='comment:3'></a>\nWhile we are at it, why not change `for t,g in ...` to `for t, g in ...`?",
    "created_at": "2022-04-19T04:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664339",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:3'></a>
While we are at it, why not change `for t,g in ...` to `for t, g in ...`?



---

archive/issue_comments_664340.json:
```json
{
    "body": "Changing commit from \"aa5108410f38f3dd9c6556346a5bbf8e468cb736\" to \"0d580e574300e7ee44eb22c4856a51e97c413cad\"",
    "created_at": "2022-04-19T07:19:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "aa5108410f38f3dd9c6556346a5bbf8e468cb736" to "0d580e574300e7ee44eb22c4856a51e97c413cad"



---

archive/issue_comments_664341.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[0d580e5](https://github.com/sagemath/sagetrac-mirror/commit/0d580e574300e7ee44eb22c4856a51e97c413cad)|`more spaces after comma`|",
    "created_at": "2022-04-19T07:19:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664341",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[0d580e5](https://github.com/sagemath/sagetrac-mirror/commit/0d580e574300e7ee44eb22c4856a51e97c413cad)|`more spaces after comma`|



---

archive/issue_comments_664342.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [klee](#comment%3A2):\n> > in two py files where this makes no sense\n\n> \n> What do you mean? You only replaced `iteritems` with `items` (of python3).\n\n\nWell, I suspect that this part of the code is never doctested. In python3, dictionaries no longer have an iteritems method.\n\nThe only thing that still have an iteritems method are sage own's weak dictionaries. We should switch this method's name to items, but not in this ticket.",
    "created_at": "2022-04-19T07:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664342",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Replying to [klee](#comment%3A2):
> > in two py files where this makes no sense

> 
> What do you mean? You only replaced `iteritems` with `items` (of python3).


Well, I suspect that this part of the code is never doctested. In python3, dictionaries no longer have an iteritems method.

The only thing that still have an iteritems method are sage own's weak dictionaries. We should switch this method's name to items, but not in this ticket.



---

archive/issue_comments_664343.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Kwankyu Lee\"",
    "created_at": "2022-04-19T07:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664343",
    "user": "https://github.com/kwankyu"
}
```

Changing reviewer from "" to "Kwankyu Lee"



---

archive/issue_comments_664344.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-04-19T07:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664344",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_664345.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [chapoton](#comment%3A5):\n> Replying to [klee](#comment%3A2):\n> > > in two py files where this makes no sense\n\n> > \n> > What do you mean? You only replaced `iteritems` with `items` (of python3).\n\n> \n> Well, I suspect that this part of the code is never doctested. In python3, dictionaries no longer have an iteritems method.\n\n\nRight.\n \n> The only thing that still have an iteritems method are sage own's weak dictionaries. We should switch this method's name to items, but not in this ticket.\n\n\nOkay.",
    "created_at": "2022-04-19T07:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664345",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:6'></a>
Replying to [chapoton](#comment%3A5):
> Replying to [klee](#comment%3A2):
> > > in two py files where this makes no sense

> > 
> > What do you mean? You only replaced `iteritems` with `items` (of python3).

> 
> Well, I suspect that this part of the code is never doctested. In python3, dictionaries no longer have an iteritems method.


Right.
 
> The only thing that still have an iteritems method are sage own's weak dictionaries. We should switch this method's name to items, but not in this ticket.


Okay.



---

archive/issue_comments_664346.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-in two py files where this makes no sense\n+Change `iteritems` to `items` in two py files where `iteritems` makes no sense with python3.\n \n-also in one pyx file\n-\n-Note that in pyx files, with python3, items is the same as iteritems\n+Also in one pyx file. Note that in pyx files, with python3, `items` is the same as `iteritems`.\n``````\n",
    "created_at": "2022-04-19T07:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664346",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-in two py files where this makes no sense
+Change `iteritems` to `items` in two py files where `iteritems` makes no sense with python3.
 
-also in one pyx file
-
-Note that in pyx files, with python3, items is the same as iteritems
+Also in one pyx file. Note that in pyx files, with python3, `items` is the same as `iteritems`.
``````




---

archive/issue_events_107677.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-24T22:44:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33726#event-107677"
}
```



---

archive/issue_comments_664347.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-24T22:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664347",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_664348.json:
```json
{
    "body": "Changing branch from \"u/chapoton/33726\" to \"0d580e574300e7ee44eb22c4856a51e97c413cad\"",
    "created_at": "2022-05-24T22:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664348",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/33726" to "0d580e574300e7ee44eb22c4856a51e97c413cad"



---

archive/issue_comments_664349.json:
```json
{
    "body": "Changing commit from \"0d580e574300e7ee44eb22c4856a51e97c413cad\" to \"\"",
    "created_at": "2022-05-31T16:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664349",
    "user": "https://github.com/slel"
}
```

Changing commit from "0d580e574300e7ee44eb22c4856a51e97c413cad" to ""



---

archive/issue_comments_664350.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis change missed one of the `iteritems`:\n\n```diff\n-        for t,g in self._t_dict.iteritems():\n-            for k,c in g.monomial_coefficients(copy=False).iteritems():\n+        for t, g in self._t_dict.items():\n+            for k, c in g.monomial_coefficients(copy=False).iteritems():\n```",
    "created_at": "2022-05-31T16:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664350",
    "user": "https://github.com/slel"
}
```

<a id='comment:8'></a>
This change missed one of the `iteritems`:

```diff
-        for t,g in self._t_dict.iteritems():
-            for k,c in g.monomial_coefficients(copy=False).iteritems():
+        for t, g in self._t_dict.items():
+            for k, c in g.monomial_coefficients(copy=False).iteritems():
```



---

archive/issue_comments_664351.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [Fr\u00e9d\u00e9ric Chapoton](#comment%3A5):\n> The only thing that still have an iteritems method are sage own's weak dictionaries. We should switch this method's name to items, but not in this ticket.\n\n\nI've opened #34488 for this",
    "created_at": "2022-09-03T21:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33726",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33726#issuecomment-664351",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Replying to [Frédéric Chapoton](#comment%3A5):
> The only thing that still have an iteritems method are sage own's weak dictionaries. We should switch this method's name to items, but not in this ticket.


I've opened #34488 for this
