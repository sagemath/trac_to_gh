# Issue 33375: create dot_sage function returning a pathlib.Path object

archive/issues_033138.json:
```json
{
    "body": "To be used when possible instead of DOT_SAGE.\n\nThis simplifies the code, no more \"os.path.join\" everywhere.\n\n\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/33375\n\n",
    "closed_at": "2022-05-03T17:47:54Z",
    "created_at": "2022-02-18T19:11:09Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "create dot_sage function returning a pathlib.Path object",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33375",
    "user": "https://github.com/fchapoton"
}
```
To be used when possible instead of DOT_SAGE.

This simplifies the code, no more "os.path.join" everywhere.



Author: Frédéric Chapoton

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/33375





---

archive/issue_comments_665534.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-18T19:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665534",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_665535.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2022-02-18T19:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665535",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_665536.json:
```json
{
    "body": "Changing commit from \"\" to \"c789deb87f5e14f0b52093b9f8b30695a60fc8c5\"",
    "created_at": "2022-02-18T19:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665536",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "c789deb87f5e14f0b52093b9f8b30695a60fc8c5"



---

archive/issue_comments_665537.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/33375\"",
    "created_at": "2022-02-18T19:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665537",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/33375"



---

archive/issue_comments_665538.json:
```json
{
    "body": "<a id='comment:2'></a>-1; capitalized variables in `sage.env` are strings, not typed",
    "created_at": "2022-02-18T19:17:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665538",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>-1; capitalized variables in `sage.env` are strings, not typed



---

archive/issue_comments_665539.json:
```json
{
    "body": "<a id='comment:3'></a>By the word of god almighty ?",
    "created_at": "2022-02-18T19:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665539",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>By the word of god almighty ?



---

archive/issue_comments_665540.json:
```json
{
    "body": "<a id='comment:4'></a>For uniformity?",
    "created_at": "2022-02-18T19:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665540",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>For uniformity?



---

archive/issue_comments_665541.json:
```json
{
    "body": "<a id='comment:5'></a>Previous discussion in the same direction in #30855",
    "created_at": "2022-02-18T19:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665541",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Previous discussion in the same direction in #30855



---

archive/issue_comments_665542.json:
```json
{
    "body": "Changing commit from \"c789deb87f5e14f0b52093b9f8b30695a60fc8c5\" to \"86f1620a743d897e240b95e084faf73f47ce1bdf\"",
    "created_at": "2022-02-18T19:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c789deb87f5e14f0b52093b9f8b30695a60fc8c5" to "86f1620a743d897e240b95e084faf73f47ce1bdf"



---

archive/issue_comments_665543.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-18T19:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665544.json:
```json
{
    "body": "<a id='comment:7'></a>Specifically on `DOT_SAGE`, I think that providing a function `dot_sage` would be better. We should no longer operate in a model in which library code can assume that \"startup code\" has been run and created this directory.",
    "created_at": "2022-02-18T19:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665544",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Specifically on `DOT_SAGE`, I think that providing a function `dot_sage` would be better. We should no longer operate in a model in which library code can assume that "startup code" has been run and created this directory.



---

archive/issue_comments_665545.json:
```json
{
    "body": "<a id='comment:8'></a>Currently this directory is created at import-time in `src/sage/misc/misc.py` and also in `src/bin/sage`. This really needs to be cleaned up so that the Sage library becomes a more well-behaved Python library.",
    "created_at": "2022-02-18T19:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665545",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Currently this directory is created at import-time in `src/sage/misc/misc.py` and also in `src/bin/sage`. This really needs to be cleaned up so that the Sage library becomes a more well-behaved Python library.



---

archive/issue_comments_665546.json:
```json
{
    "body": "<a id='comment:9'></a>The function `dot_sage` could have the return type that you like and would create the directory if it does not exist yet.",
    "created_at": "2022-02-18T19:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665546",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>The function `dot_sage` could have the return type that you like and would create the directory if it does not exist yet.



---

archive/issue_comments_665547.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-18T23:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665547",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_665548.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-19T10:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665548",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665549.json:
```json
{
    "body": "Changing commit from \"86f1620a743d897e240b95e084faf73f47ce1bdf\" to \"692f547c6d1a4c44a8ce7402199fee2a1cff8273\"",
    "created_at": "2022-02-19T10:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665549",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "86f1620a743d897e240b95e084faf73f47ce1bdf" to "692f547c6d1a4c44a8ce7402199fee2a1cff8273"



---

archive/issue_comments_665550.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-19T12:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665550",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665551.json:
```json
{
    "body": "Changing commit from \"692f547c6d1a4c44a8ce7402199fee2a1cff8273\" to \"6f154a66c13938627b531503df53ac752d45f676\"",
    "created_at": "2022-02-19T12:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665551",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "692f547c6d1a4c44a8ce7402199fee2a1cff8273" to "6f154a66c13938627b531503df53ac752d45f676"



---

archive/issue_comments_665552.json:
```json
{
    "body": "Changing commit from \"6f154a66c13938627b531503df53ac752d45f676\" to \"4a06ec7c9ef932177f326c2936d3dccbeb92f56c\"",
    "created_at": "2022-02-19T16:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665552",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6f154a66c13938627b531503df53ac752d45f676" to "4a06ec7c9ef932177f326c2936d3dccbeb92f56c"



---

archive/issue_comments_665553.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-19T16:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665553",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665554.json:
```json
{
    "body": "<a id='comment:14'></a>huge +1, the changes show how advantageous and more readable it is to have path variables really as `Paths` instead of strings.",
    "created_at": "2022-02-19T19:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665554",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:14'></a>huge +1, the changes show how advantageous and more readable it is to have path variables really as `Paths` instead of strings.



---

archive/issue_comments_665555.json:
```json
{
    "body": "Changing commit from \"4a06ec7c9ef932177f326c2936d3dccbeb92f56c\" to \"9a91d0c6870efe1b254e683a553191daff101916\"",
    "created_at": "2022-02-20T07:43:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665555",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4a06ec7c9ef932177f326c2936d3dccbeb92f56c" to "9a91d0c6870efe1b254e683a553191daff101916"



---

archive/issue_comments_665556.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T07:43:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665556",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665557.json:
```json
{
    "body": "Changing commit from \"9a91d0c6870efe1b254e683a553191daff101916\" to \"012cc266588228e9d329870fc422dd78791a2a6c\"",
    "created_at": "2022-02-20T13:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665557",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9a91d0c6870efe1b254e683a553191daff101916" to "012cc266588228e9d329870fc422dd78791a2a6c"



---

archive/issue_comments_665558.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T13:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665559.json:
```json
{
    "body": "<a id='comment:17'></a>hmm, qepcad is using \"sys.stdout\" as a logfile, which does not look quite right. I removed that possibility.\n\nAbout the proposed function \"dot_sage\", where should it go ? I made a first sketch in misc/misc.py",
    "created_at": "2022-02-20T13:30:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665559",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>hmm, qepcad is using "sys.stdout" as a logfile, which does not look quite right. I removed that possibility.

About the proposed function "dot_sage", where should it go ? I made a first sketch in misc/misc.py



---

archive/issue_comments_665560.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T13:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665560",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665561.json:
```json
{
    "body": "Changing commit from \"012cc266588228e9d329870fc422dd78791a2a6c\" to \"19ea7ebe57fbe198a2e0ea36acbd1fa9c99c10af\"",
    "created_at": "2022-02-20T13:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665561",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "012cc266588228e9d329870fc422dd78791a2a6c" to "19ea7ebe57fbe198a2e0ea36acbd1fa9c99c10af"



---

archive/issue_comments_665562.json:
```json
{
    "body": "Changing commit from \"19ea7ebe57fbe198a2e0ea36acbd1fa9c99c10af\" to \"4359c88aac76fa036d5f6c9b6bd0556dd08fceed\"",
    "created_at": "2022-02-20T14:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665562",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "19ea7ebe57fbe198a2e0ea36acbd1fa9c99c10af" to "4359c88aac76fa036d5f6c9b6bd0556dd08fceed"



---

archive/issue_comments_665563.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T14:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665563",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665564.json:
```json
{
    "body": "<a id='comment:20'></a>Note `sage_makedirs` is going away in #32987",
    "created_at": "2022-02-20T18:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665564",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>Note `sage_makedirs` is going away in #32987



---

archive/issue_comments_665565.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:17 chapoton]:\n> About the proposed function \"dot_sage\", where should it go ? I made a first sketch in misc/misc.py\n\n\nBest not to put more into `sage.misc.misc` - I'm in the process of removing environment bits from it (see for example #32986). I would suggest to just put it in a separate module `sage.misc.dot_sage`. For modularization context: #29941 puts things like this in a distribution **sagemath-environment** - which does not have any dependencies",
    "created_at": "2022-02-20T18:44:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665565",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>Replying to [comment:17 chapoton]:
> About the proposed function "dot_sage", where should it go ? I made a first sketch in misc/misc.py


Best not to put more into `sage.misc.misc` - I'm in the process of removing environment bits from it (see for example #32986). I would suggest to just put it in a separate module `sage.misc.dot_sage`. For modularization context: #29941 puts things like this in a distribution **sagemath-environment** - which does not have any dependencies



---

archive/issue_comments_665566.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T09:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665567.json:
```json
{
    "body": "Changing commit from \"4359c88aac76fa036d5f6c9b6bd0556dd08fceed\" to \"7bbb9f5dc2a48c72133c2cf172daa6bed6811910\"",
    "created_at": "2022-02-21T09:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4359c88aac76fa036d5f6c9b6bd0556dd08fceed" to "7bbb9f5dc2a48c72133c2cf172daa6bed6811910"



---

archive/issue_comments_665568.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T09:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665569.json:
```json
{
    "body": "Changing commit from \"7bbb9f5dc2a48c72133c2cf172daa6bed6811910\" to \"50a83dd0e94d1ddc2e42ce2566dd539766a54dba\"",
    "created_at": "2022-02-21T09:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665569",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7bbb9f5dc2a48c72133c2cf172daa6bed6811910" to "50a83dd0e94d1ddc2e42ce2566dd539766a54dba"



---

archive/issue_comments_665570.json:
```json
{
    "body": "<a id='comment:24'></a>maybe the `dot_sage()` path should be cached in some way ? how ?",
    "created_at": "2022-02-21T09:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665570",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>maybe the `dot_sage()` path should be cached in some way ? how ?



---

archive/issue_comments_665571.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T11:05:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665571",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665572.json:
```json
{
    "body": "Changing commit from \"50a83dd0e94d1ddc2e42ce2566dd539766a54dba\" to \"cde99548eaa6441b77889c7052de0817a268f37c\"",
    "created_at": "2022-02-21T11:05:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "50a83dd0e94d1ddc2e42ce2566dd539766a54dba" to "cde99548eaa6441b77889c7052de0817a268f37c"



---

archive/issue_comments_665573.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T12:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665574.json:
```json
{
    "body": "Changing commit from \"cde99548eaa6441b77889c7052de0817a268f37c\" to \"c004db10150a03e1ca842f250a1cc46ce32bb27d\"",
    "created_at": "2022-02-21T12:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665574",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cde99548eaa6441b77889c7052de0817a268f37c" to "c004db10150a03e1ca842f250a1cc46ce32bb27d"



---

archive/issue_comments_665575.json:
```json
{
    "body": "Changing commit from \"c004db10150a03e1ca842f250a1cc46ce32bb27d\" to \"2ce961751f54de12ee62598017e99444ffec7b1d\"",
    "created_at": "2022-02-21T13:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665575",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c004db10150a03e1ca842f250a1cc46ce32bb27d" to "2ce961751f54de12ee62598017e99444ffec7b1d"



---

archive/issue_comments_665576.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T13:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665577.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T13:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665577",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665578.json:
```json
{
    "body": "Changing commit from \"2ce961751f54de12ee62598017e99444ffec7b1d\" to \"7da31fc6589483dd847eb865fa5d2355108eb6cd\"",
    "created_at": "2022-02-21T13:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2ce961751f54de12ee62598017e99444ffec7b1d" to "7da31fc6589483dd847eb865fa5d2355108eb6cd"



---

archive/issue_comments_665579.json:
```json
{
    "body": "Changing commit from \"7da31fc6589483dd847eb865fa5d2355108eb6cd\" to \"b80de596bdfa717ed08825d2cfdd64c2985a920b\"",
    "created_at": "2022-02-21T14:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665579",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7da31fc6589483dd847eb865fa5d2355108eb6cd" to "b80de596bdfa717ed08825d2cfdd64c2985a920b"



---

archive/issue_comments_665580.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T14:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665581.json:
```json
{
    "body": "<a id='comment:30'></a>Looking good but I'd say `DOT_SAGE` shouldn't just be removed from sage.env; user code may depend on it",
    "created_at": "2022-02-21T19:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665581",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>Looking good but I'd say `DOT_SAGE` shouldn't just be removed from sage.env; user code may depend on it



---

archive/issue_comments_665582.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-22T07:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665582",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665583.json:
```json
{
    "body": "Changing commit from \"b80de596bdfa717ed08825d2cfdd64c2985a920b\" to \"962cf00d768981c7466c083bf65842b73a839f12\"",
    "created_at": "2022-02-22T07:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665583",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b80de596bdfa717ed08825d2cfdd64c2985a920b" to "962cf00d768981c7466c083bf65842b73a839f12"



---

archive/issue_comments_665584.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-22T13:40:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665585.json:
```json
{
    "body": "Changing commit from \"962cf00d768981c7466c083bf65842b73a839f12\" to \"9327aa91adc7b07eab6c55272a0084c5eebb0096\"",
    "created_at": "2022-02-22T13:40:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "962cf00d768981c7466c083bf65842b73a839f12" to "9327aa91adc7b07eab6c55272a0084c5eebb0096"



---

archive/issue_comments_665586.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-23T13:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665587.json:
```json
{
    "body": "Changing commit from \"9327aa91adc7b07eab6c55272a0084c5eebb0096\" to \"8ab7e605e084cb54efad35298c0f3006675033dd\"",
    "created_at": "2022-02-23T13:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9327aa91adc7b07eab6c55272a0084c5eebb0096" to "8ab7e605e084cb54efad35298c0f3006675033dd"



---

archive/issue_comments_665588.json:
```json
{
    "body": "<a id='comment:34'></a>Doctests do pass, so back to needs review",
    "created_at": "2022-02-23T13:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665588",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'></a>Doctests do pass, so back to needs review



---

archive/issue_comments_665589.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-23T13:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665589",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_665590.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+To be used when possible instead of DOT_SAGE.\n+\n This simplifies the code, no more \"os.path.join\" everywhere.\n+\n+\n``````\n",
    "created_at": "2022-02-23T13:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665590",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+To be used when possible instead of DOT_SAGE.
+
 This simplifies the code, no more "os.path.join" everywhere.
+
+
``````




---

archive/issue_comments_665591.json:
```json
{
    "body": "<a id='comment:35'></a>Still comment:2, and moreover I think `sage.misc.dot_sage` should use `sage.env`, not the other way around. Note that `var` defined in `sage.env` not only gets values from environment variables but also from `sage_conf`.\n\nI think we can change the location of `DOT_SAGE` on Cygwin to be unconditionally `/home/.sage` to disentangle it from the \"space in directory name\" warning.",
    "created_at": "2022-02-23T17:27:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665591",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>Still comment:2, and moreover I think `sage.misc.dot_sage` should use `sage.env`, not the other way around. Note that `var` defined in `sage.env` not only gets values from environment variables but also from `sage_conf`.

I think we can change the location of `DOT_SAGE` on Cygwin to be unconditionally `/home/.sage` to disentangle it from the "space in directory name" warning.



---

archive/issue_comments_665592.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-23T18:52:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665592",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665593.json:
```json
{
    "body": "Changing commit from \"8ab7e605e084cb54efad35298c0f3006675033dd\" to \"64e210a5366508c7e40736172601b66f5e7efae2\"",
    "created_at": "2022-02-23T18:52:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665593",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8ab7e605e084cb54efad35298c0f3006675033dd" to "64e210a5366508c7e40736172601b66f5e7efae2"



---

archive/issue_comments_665594.json:
```json
{
    "body": "<a id='comment:37'></a>If \"dot_sage\" uses \"DOT_SAGE\" from \"sage.env\", then once again we are doing twice the job of deciding which folder to use as \".sage\". The logic is rather unclear to me.",
    "created_at": "2022-02-23T18:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665594",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:37'></a>If "dot_sage" uses "DOT_SAGE" from "sage.env", then once again we are doing twice the job of deciding which folder to use as ".sage". The logic is rather unclear to me.



---

archive/issue_comments_665595.json:
```json
{
    "body": "<a id='comment:38'></a>Shouldn't \"DOT_SAGE\" in `env` be deprecated, or at least have a comment explaining that `dot_sage` should be used whenever possible?\n\nI'm also not sure if the misc package is the right place, since similar refactorings could (and should) be done for all path-variables in `env` so one would end-up with quite a few helper modules in `misc`.",
    "created_at": "2022-02-23T22:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665595",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:38'></a>Shouldn't "DOT_SAGE" in `env` be deprecated, or at least have a comment explaining that `dot_sage` should be used whenever possible?

I'm also not sure if the misc package is the right place, since similar refactorings could (and should) be done for all path-variables in `env` so one would end-up with quite a few helper modules in `misc`.



---

archive/issue_comments_665596.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:38 gh-tobiasdiez]:\n> similar refactorings could (and should) be done for all path-variables in `env`\n\n\nNot really. Most of these paths are low-level information for which we already have a high-level interface in `sage.features`. For example `CONWAY_POLYNOMIALS_DATA_DIR` is exposed via `src/sage/features/databases.py`.",
    "created_at": "2022-02-23T22:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665596",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>Replying to [comment:38 gh-tobiasdiez]:
> similar refactorings could (and should) be done for all path-variables in `env`


Not really. Most of these paths are low-level information for which we already have a high-level interface in `sage.features`. For example `CONWAY_POLYNOMIALS_DATA_DIR` is exposed via `src/sage/features/databases.py`.



---

archive/issue_comments_665597.json:
```json
{
    "body": "Changing commit from \"64e210a5366508c7e40736172601b66f5e7efae2\" to \"0d87d713135e7a42b6a764504f8195dc4ae9d831\"",
    "created_at": "2022-02-28T15:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665597",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "64e210a5366508c7e40736172601b66f5e7efae2" to "0d87d713135e7a42b6a764504f8195dc4ae9d831"



---

archive/issue_comments_665598.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-28T15:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665598",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665599.json:
```json
{
    "body": "<a id='comment:41'></a>please help me with comment:37",
    "created_at": "2022-03-04T09:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665599",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>please help me with comment:37



---

archive/issue_comments_665600.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-27T18:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665600",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_665601.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-04-02T16:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665601",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_665602.json:
```json
{
    "body": "Changing commit from \"0d87d713135e7a42b6a764504f8195dc4ae9d831\" to \"b4db2080b5091b01daafb6289486ef5359c59f4f\"",
    "created_at": "2022-04-02T16:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0d87d713135e7a42b6a764504f8195dc4ae9d831" to "b4db2080b5091b01daafb6289486ef5359c59f4f"



---

archive/issue_events_088041.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33375#event-88041"
}
```



---

archive/issue_comments_665603.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2022-05-03T17:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665603",
    "user": "https://github.com/fchapoton"
}
```

Resolution: invalid



---

archive/issue_comments_665604.json:
```json
{
    "body": "Changing commit from \"b4db2080b5091b01daafb6289486ef5359c59f4f\" to \"\"",
    "created_at": "2022-05-03T17:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665604",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "b4db2080b5091b01daafb6289486ef5359c59f4f" to ""



---

archive/issue_comments_665605.json:
```json
{
    "body": "Changing branch from \"u/chapoton/33375\" to \"\"",
    "created_at": "2022-05-03T17:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665605",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/chapoton/33375" to ""



---

archive/issue_events_088042.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-03T17:47:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33375#event-88042"
}
```



---

archive/issue_events_088043.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-03T17:47:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33375#event-88043"
}
```



---

archive/issue_events_088044.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-03T17:47:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33375#event-88044"
}
```



---

archive/issue_comments_665606.json:
```json
{
    "body": "<a id='comment:45'></a>dropping this one into firebin",
    "created_at": "2022-05-03T17:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-665606",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:45'></a>dropping this one into firebin
