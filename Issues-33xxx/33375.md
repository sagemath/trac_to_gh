# Issue 33375: create dot_sage function returning a pathlib.Path object

archive/issues_033138.json:
```json
{
    "body": "To be used when possible instead of DOT_SAGE.\n\nThis simplifies the code, no more \"os.path.join\" everywhere.\n\n\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/33375\n\n",
    "closed_at": "2022-05-03T17:47:54Z",
    "created_at": "2022-02-18T19:11:09Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "create dot_sage function returning a pathlib.Path object",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33375",
    "user": "https://github.com/fchapoton"
}
```
To be used when possible instead of DOT_SAGE.

This simplifies the code, no more "os.path.join" everywhere.



Author: Frédéric Chapoton

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/33375





---

archive/issue_comments_504290.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-18T19:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504290",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_504291.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2022-02-18T19:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504291",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_504292.json:
```json
{
    "body": "<a id='comment:2'></a>-1; capitalized variables in `sage.env` are strings, not typed",
    "created_at": "2022-02-18T19:17:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504292",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>-1; capitalized variables in `sage.env` are strings, not typed



---

archive/issue_comments_504293.json:
```json
{
    "body": "<a id='comment:3'></a>By the word of god almighty ?",
    "created_at": "2022-02-18T19:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504293",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>By the word of god almighty ?



---

archive/issue_comments_504294.json:
```json
{
    "body": "<a id='comment:4'></a>For uniformity?",
    "created_at": "2022-02-18T19:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504294",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>For uniformity?



---

archive/issue_comments_504295.json:
```json
{
    "body": "<a id='comment:5'></a>Previous discussion in the same direction in #30855",
    "created_at": "2022-02-18T19:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504295",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Previous discussion in the same direction in #30855



---

archive/issue_comments_504296.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-18T19:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504296",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504297.json:
```json
{
    "body": "<a id='comment:7'></a>Specifically on `DOT_SAGE`, I think that providing a function `dot_sage` would be better. We should no longer operate in a model in which library code can assume that \"startup code\" has been run and created this directory.",
    "created_at": "2022-02-18T19:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504297",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Specifically on `DOT_SAGE`, I think that providing a function `dot_sage` would be better. We should no longer operate in a model in which library code can assume that "startup code" has been run and created this directory.



---

archive/issue_comments_504298.json:
```json
{
    "body": "<a id='comment:8'></a>Currently this directory is created at import-time in `src/sage/misc/misc.py` and also in `src/bin/sage`. This really needs to be cleaned up so that the Sage library becomes a more well-behaved Python library.",
    "created_at": "2022-02-18T19:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504298",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Currently this directory is created at import-time in `src/sage/misc/misc.py` and also in `src/bin/sage`. This really needs to be cleaned up so that the Sage library becomes a more well-behaved Python library.



---

archive/issue_comments_504299.json:
```json
{
    "body": "<a id='comment:9'></a>The function `dot_sage` could have the return type that you like and would create the directory if it does not exist yet.",
    "created_at": "2022-02-18T19:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504299",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>The function `dot_sage` could have the return type that you like and would create the directory if it does not exist yet.



---

archive/issue_comments_504300.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-18T23:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504300",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_504301.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-19T10:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504302.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-19T12:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504303.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-19T16:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504304.json:
```json
{
    "body": "<a id='comment:14'></a>huge +1, the changes show how advantageous and more readable it is to have path variables really as `Paths` instead of strings.",
    "created_at": "2022-02-19T19:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504304",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:14'></a>huge +1, the changes show how advantageous and more readable it is to have path variables really as `Paths` instead of strings.



---

archive/issue_comments_504305.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T07:43:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504306.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T13:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504307.json:
```json
{
    "body": "<a id='comment:17'></a>hmm, qepcad is using \"sys.stdout\" as a logfile, which does not look quite right. I removed that possibility.\n\nAbout the proposed function \"dot_sage\", where should it go ? I made a first sketch in misc/misc.py",
    "created_at": "2022-02-20T13:30:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504307",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>hmm, qepcad is using "sys.stdout" as a logfile, which does not look quite right. I removed that possibility.

About the proposed function "dot_sage", where should it go ? I made a first sketch in misc/misc.py



---

archive/issue_comments_504308.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T13:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504308",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504309.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T14:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504310.json:
```json
{
    "body": "<a id='comment:20'></a>Note `sage_makedirs` is going away in #32987",
    "created_at": "2022-02-20T18:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504310",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>Note `sage_makedirs` is going away in #32987



---

archive/issue_comments_504311.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:17 chapoton]:\n> About the proposed function \"dot_sage\", where should it go ? I made a first sketch in misc/misc.py\n\n\nBest not to put more into `sage.misc.misc` - I'm in the process of removing environment bits from it (see for example #32986). I would suggest to just put it in a separate module `sage.misc.dot_sage`. For modularization context: #29941 puts things like this in a distribution **sagemath-environment** - which does not have any dependencies",
    "created_at": "2022-02-20T18:44:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504311",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>Replying to [comment:17 chapoton]:
> About the proposed function "dot_sage", where should it go ? I made a first sketch in misc/misc.py


Best not to put more into `sage.misc.misc` - I'm in the process of removing environment bits from it (see for example #32986). I would suggest to just put it in a separate module `sage.misc.dot_sage`. For modularization context: #29941 puts things like this in a distribution **sagemath-environment** - which does not have any dependencies



---

archive/issue_comments_504312.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T09:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504313.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T09:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504314.json:
```json
{
    "body": "<a id='comment:24'></a>maybe the `dot_sage()` path should be cached in some way ? how ?",
    "created_at": "2022-02-21T09:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504314",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>maybe the `dot_sage()` path should be cached in some way ? how ?



---

archive/issue_comments_504315.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T11:05:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504316.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T12:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504317.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T13:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504318.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T13:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504319.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-21T14:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504320.json:
```json
{
    "body": "<a id='comment:30'></a>Looking good but I'd say `DOT_SAGE` shouldn't just be removed from sage.env; user code may depend on it",
    "created_at": "2022-02-21T19:35:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504320",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>Looking good but I'd say `DOT_SAGE` shouldn't just be removed from sage.env; user code may depend on it



---

archive/issue_comments_504321.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-22T07:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504322.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-22T13:40:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504323.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-23T13:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504324.json:
```json
{
    "body": "<a id='comment:34'></a>Doctests do pass, so back to needs review",
    "created_at": "2022-02-23T13:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504324",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'></a>Doctests do pass, so back to needs review



---

archive/issue_comments_504325.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-23T13:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504325",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_504326.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+To be used when possible instead of DOT_SAGE.\n+\n This simplifies the code, no more \"os.path.join\" everywhere.\n+\n+\n \n Author: Fr\u00e9d\u00e9ric Chapoton\n \n``````\n",
    "created_at": "2022-02-23T13:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504326",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+To be used when possible instead of DOT_SAGE.
+
 This simplifies the code, no more "os.path.join" everywhere.
+
+
 
 Author: Frédéric Chapoton
 
``````




---

archive/issue_comments_504327.json:
```json
{
    "body": "<a id='comment:35'></a>Still comment:2, and moreover I think `sage.misc.dot_sage` should use `sage.env`, not the other way around. Note that `var` defined in `sage.env` not only gets values from environment variables but also from `sage_conf`.\n\nI think we can change the location of `DOT_SAGE` on Cygwin to be unconditionally `/home/.sage` to disentangle it from the \"space in directory name\" warning.",
    "created_at": "2022-02-23T17:27:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504327",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>Still comment:2, and moreover I think `sage.misc.dot_sage` should use `sage.env`, not the other way around. Note that `var` defined in `sage.env` not only gets values from environment variables but also from `sage_conf`.

I think we can change the location of `DOT_SAGE` on Cygwin to be unconditionally `/home/.sage` to disentangle it from the "space in directory name" warning.



---

archive/issue_comments_504328.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-23T18:52:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504329.json:
```json
{
    "body": "<a id='comment:37'></a>If \"dot_sage\" uses \"DOT_SAGE\" from \"sage.env\", then once again we are doing twice the job of deciding which folder to use as \".sage\". The logic is rather unclear to me.",
    "created_at": "2022-02-23T18:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504329",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:37'></a>If "dot_sage" uses "DOT_SAGE" from "sage.env", then once again we are doing twice the job of deciding which folder to use as ".sage". The logic is rather unclear to me.



---

archive/issue_comments_504330.json:
```json
{
    "body": "<a id='comment:38'></a>Shouldn't \"DOT_SAGE\" in `env` be deprecated, or at least have a comment explaining that `dot_sage` should be used whenever possible?\n\nI'm also not sure if the misc package is the right place, since similar refactorings could (and should) be done for all path-variables in `env` so one would end-up with quite a few helper modules in `misc`.",
    "created_at": "2022-02-23T22:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504330",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:38'></a>Shouldn't "DOT_SAGE" in `env` be deprecated, or at least have a comment explaining that `dot_sage` should be used whenever possible?

I'm also not sure if the misc package is the right place, since similar refactorings could (and should) be done for all path-variables in `env` so one would end-up with quite a few helper modules in `misc`.



---

archive/issue_comments_504331.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:38 gh-tobiasdiez]:\n> similar refactorings could (and should) be done for all path-variables in `env`\n\n\nNot really. Most of these paths are low-level information for which we already have a high-level interface in `sage.features`. For example `CONWAY_POLYNOMIALS_DATA_DIR` is exposed via `src/sage/features/databases.py`.",
    "created_at": "2022-02-23T22:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504331",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>Replying to [comment:38 gh-tobiasdiez]:
> similar refactorings could (and should) be done for all path-variables in `env`


Not really. Most of these paths are low-level information for which we already have a high-level interface in `sage.features`. For example `CONWAY_POLYNOMIALS_DATA_DIR` is exposed via `src/sage/features/databases.py`.



---

archive/issue_comments_504332.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-28T15:11:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504333.json:
```json
{
    "body": "<a id='comment:41'></a>please help me with comment:37",
    "created_at": "2022-03-04T09:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504333",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>please help me with comment:37



---

archive/issue_comments_504334.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-27T18:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504334",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_504335.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-04-02T16:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504335",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_088041.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33375#event-88041"
}
```



---

archive/issue_comments_504336.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2022-05-03T17:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504336",
    "user": "https://github.com/fchapoton"
}
```

Resolution: invalid



---

archive/issue_events_088042.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-03T17:47:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33375#event-88042"
}
```



---

archive/issue_events_088043.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-03T17:47:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33375#event-88043"
}
```



---

archive/issue_events_088044.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-03T17:47:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33375#event-88044"
}
```



---

archive/issue_comments_504337.json:
```json
{
    "body": "<a id='comment:45'></a>dropping this one into firebin",
    "created_at": "2022-05-03T17:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33375",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33375#issuecomment-504337",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:45'></a>dropping this one into firebin
