# Issue 33971: Height of a dynamical system is wrong

archive/issues_033734.json:
```json
{
    "assignees": [
        "https://github.com/guojing0"
    ],
    "body": "The height of a dynamical system is currently calculated as the max of the heights of the coefficients, which is incorrect. To avoid writing a complicated formula, the correct height can be thought of as treating the coefficients of all coordinate functions as one big projective point and taking the height of that. For example\n\n```\nP.<x,y>=ProjectiveSpace(QQ,1)\nf=DynamicalSystem([1/25*x^2 + 25/3*x*y+y^2,1*y^2])\nexp(f.global_height())\n```\n\ngives 25, but should be 625.\n\nCC:  @bhutz @EnderWannabe\n\nKeywords: **gsoc2022**\n\nBranch/Commit: **[d24eea8](https://github.com/sagemath/sagetrac-mirror/commit/d24eea822da6c3676b3194898da152828f3ee46b)**\n\nReviewer: **Ben Hutz**\n\nAuthor: **Jing Guo**\n\nComponent: **dynamics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33971_\n\n",
    "closed_at": "2022-08-01T20:20:42Z",
    "created_at": "2022-06-10T11:45:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20dynamics",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Height of a dynamical system is wrong",
    "type": "issue",
    "updated_at": "2022-08-01T20:20:42Z",
    "url": "https://github.com/sagemath/sage/issues/33971",
    "user": "https://github.com/guojing0"
}
```
The height of a dynamical system is currently calculated as the max of the heights of the coefficients, which is incorrect. To avoid writing a complicated formula, the correct height can be thought of as treating the coefficients of all coordinate functions as one big projective point and taking the height of that. For example

```
P.<x,y>=ProjectiveSpace(QQ,1)
f=DynamicalSystem([1/25*x^2 + 25/3*x*y+y^2,1*y^2])
exp(f.global_height())
```

gives 25, but should be 625.

CC:  @bhutz @EnderWannabe

Keywords: **gsoc2022**

Branch/Commit: **[d24eea8](https://github.com/sagemath/sagetrac-mirror/commit/d24eea822da6c3676b3194898da152828f3ee46b)**

Reviewer: **Ben Hutz**

Author: **Jing Guo**

Component: **dynamics**

_Issue created by migration from https://trac.sagemath.org/ticket/33971_





---

archive/issue_events_465518.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-06-10T11:45:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465518"
}
```



---

archive/issue_events_465519.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-06-10T11:45:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20dynamics",
    "label_color": "0000ff",
    "label_name": "c: dynamics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465519"
}
```



---

archive/issue_events_465520.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-06-10T11:45:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465520"
}
```



---

archive/issue_events_465521.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-06-10T11:45:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465521"
}
```



---

archive/issue_comments_549225.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,4 @@\n-The height of a dynamical system is the max of the heights of the polynomials, which is calculated as the max of the heights of the cofficients.\n-\n-The following is wrong:\n+The height of a dynamical system is the max of the heights of the polynomials, which is calculated as the max of the heights of the cofficients. This is wrong:\n \n ```\n P.<x,y>=ProjectiveSpace(QQ,1)\n``````\n",
    "created_at": "2022-06-10T11:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549225",
    "user": "https://github.com/guojing0"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,4 @@
-The height of a dynamical system is the max of the heights of the polynomials, which is calculated as the max of the heights of the cofficients.
-
-The following is wrong:
+The height of a dynamical system is the max of the heights of the polynomials, which is calculated as the max of the heights of the cofficients. This is wrong:
 
 ```
 P.<x,y>=ProjectiveSpace(QQ,1)
``````




---

archive/issue_events_465522.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-06-10T11:46:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465522"
}
```



---

archive/issue_comments_549226.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The height of a dynamical system is the max of the heights of the polynomials, which is calculated as the max of the heights of the cofficients. This is wrong:\n+The height of a dynamical system is currently calculated as the max of the heights of the coefficients, which is incorrect. To avoid writing a complicated formula, the correct height can be thought of as treating the coefficients of all coordinate functions as one big projective point and taking the height of that. For example\n \n ```\n P.<x,y>=ProjectiveSpace(QQ,1)\n@@ -6,3 +6,4 @@\n exp(f.global_height())\n ```\n \n+gives 25, but should be 625.\n``````\n",
    "created_at": "2022-06-10T16:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549226",
    "user": "https://github.com/bhutz"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The height of a dynamical system is the max of the heights of the polynomials, which is calculated as the max of the heights of the cofficients. This is wrong:
+The height of a dynamical system is currently calculated as the max of the heights of the coefficients, which is incorrect. To avoid writing a complicated formula, the correct height can be thought of as treating the coefficients of all coordinate functions as one big projective point and taking the height of that. For example
 
 ```
 P.<x,y>=ProjectiveSpace(QQ,1)
@@ -6,3 +6,4 @@
 exp(f.global_height())
 ```
 
+gives 25, but should be 625.
``````




---

archive/issue_events_465523.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-06-10T16:09:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465523"
}
```



---

archive/issue_comments_549227.json:
```json
{
    "body": "Branch: **[u/gh-guojing0/33971_dyn_sys_height](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-guojing0/33971_dyn_sys_height)**",
    "created_at": "2022-06-16T08:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549227",
    "user": "https://github.com/guojing0"
}
```

Branch: **[u/gh-guojing0/33971_dyn_sys_height](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-guojing0/33971_dyn_sys_height)**



---

archive/issue_events_465524.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-06-16T08:50:57Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "subject": "https://github.com/guojing0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465524"
}
```



---

archive/issue_comments_549228.json:
```json
{
    "body": "Commit: **[5fb2a6e](https://github.com/sagemath/sagetrac-mirror/commit/5fb2a6ea44400e469caee82748cf863ca0c5f724)**",
    "created_at": "2022-06-16T08:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549228",
    "user": "https://github.com/guojing0"
}
```

Commit: **[5fb2a6e](https://github.com/sagemath/sagetrac-mirror/commit/5fb2a6ea44400e469caee82748cf863ca0c5f724)**



---

archive/issue_comments_549229.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2892e00569fe3b7731d20b04511f94b3ec1cbf3\">a2892e0</a></td><td><code>polynomial_element_generic.py: Add `height` fn</code></td></tr></table>\n",
    "created_at": "2022-06-21T14:33:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549229",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2892e00569fe3b7731d20b04511f94b3ec1cbf3">a2892e0</a></td><td><code>polynomial_element_generic.py: Add `height` fn</code></td></tr></table>




---

archive/issue_comments_549230.json:
```json
{
    "body": "Changed commit from **[5fb2a6e](https://github.com/sagemath/sagetrac-mirror/commit/5fb2a6ea44400e469caee82748cf863ca0c5f724)** to **[a2892e0](https://github.com/sagemath/sagetrac-mirror/commit/a2892e00569fe3b7731d20b04511f94b3ec1cbf3)**",
    "created_at": "2022-06-21T14:33:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549230",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5fb2a6e](https://github.com/sagemath/sagetrac-mirror/commit/5fb2a6ea44400e469caee82748cf863ca0c5f724)** to **[a2892e0](https://github.com/sagemath/sagetrac-mirror/commit/a2892e00569fe3b7731d20b04511f94b3ec1cbf3)**



---

archive/issue_comments_549231.json:
```json
{
    "body": "Changed commit from **[a2892e0](https://github.com/sagemath/sagetrac-mirror/commit/a2892e00569fe3b7731d20b04511f94b3ec1cbf3)** to **[0d58271](https://github.com/sagemath/sagetrac-mirror/commit/0d582710e18af55d4c7b3626a12237e322a80647)**",
    "created_at": "2022-06-22T11:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549231",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a2892e0](https://github.com/sagemath/sagetrac-mirror/commit/a2892e00569fe3b7731d20b04511f94b3ec1cbf3)** to **[0d58271](https://github.com/sagemath/sagetrac-mirror/commit/0d582710e18af55d4c7b3626a12237e322a80647)**



---

archive/issue_comments_549232.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d582710e18af55d4c7b3626a12237e322a80647\">0d58271</a></td><td><code>multi_polynomial_element.py and polynomial_element_generic.py: Implement</code></td></tr></table>\n",
    "created_at": "2022-06-22T11:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549232",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d582710e18af55d4c7b3626a12237e322a80647">0d58271</a></td><td><code>multi_polynomial_element.py and polynomial_element_generic.py: Implement</code></td></tr></table>




---

archive/issue_comments_549233.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThese changes are meant to add a height function for polynomials. As such, they should have their own ticket, as this ticket is meant to address dynamical systems specifically.",
    "created_at": "2022-06-22T17:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549233",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:7" align="right">comment:7</div>

These changes are meant to add a height function for polynomials. As such, they should have their own ticket, as this ticket is meant to address dynamical systems specifically.



---

archive/issue_comments_549234.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAs suggested by Alex, a new ticket #34060 is created.",
    "created_at": "2022-06-24T08:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549234",
    "user": "https://github.com/guojing0"
}
```

<div id="comment:8" align="right">comment:8</div>

As suggested by Alex, a new ticket #34060 is created.



---

archive/issue_comments_549235.json:
```json
{
    "body": "Changed commit from **[0d58271](https://github.com/sagemath/sagetrac-mirror/commit/0d582710e18af55d4c7b3626a12237e322a80647)** to none",
    "created_at": "2022-06-24T08:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549235",
    "user": "https://github.com/guojing0"
}
```

Changed commit from **[0d58271](https://github.com/sagemath/sagetrac-mirror/commit/0d582710e18af55d4c7b3626a12237e322a80647)** to none



---

archive/issue_comments_549236.json:
```json
{
    "body": "Changed branch from **[u/gh-guojing0/33971_dyn_sys_height](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-guojing0/33971_dyn_sys_height)** to none",
    "created_at": "2022-06-24T08:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549236",
    "user": "https://github.com/guojing0"
}
```

Changed branch from **[u/gh-guojing0/33971_dyn_sys_height](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-guojing0/33971_dyn_sys_height)** to none



---

archive/issue_comments_549237.json:
```json
{
    "body": "Branch: **[u/gh-guojing0/33971_ds_height](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-guojing0/33971_ds_height)**",
    "created_at": "2022-06-28T15:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549237",
    "user": "https://github.com/guojing0"
}
```

Branch: **[u/gh-guojing0/33971_ds_height](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-guojing0/33971_ds_height)**



---

archive/issue_comments_549238.json:
```json
{
    "body": "Commit: **[38425b5](https://github.com/sagemath/sagetrac-mirror/commit/38425b51bcdc7fd556d8bd54f488d4e0a4096b14)**",
    "created_at": "2022-06-28T15:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549238",
    "user": "https://github.com/guojing0"
}
```

Commit: **[38425b5](https://github.com/sagemath/sagetrac-mirror/commit/38425b51bcdc7fd556d8bd54f488d4e0a4096b14)**



---

archive/issue_comments_549239.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38425b51bcdc7fd556d8bd54f488d4e0a4096b14\">38425b5</a></td><td><code>projective_morphism.py: Debug `global_height` fn</code></td></tr></table>\n",
    "created_at": "2022-06-28T15:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549239",
    "user": "https://github.com/guojing0"
}
```

<div id="comment:9"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38425b51bcdc7fd556d8bd54f488d4e0a4096b14">38425b5</a></td><td><code>projective_morphism.py: Debug `global_height` fn</code></td></tr></table>




---

archive/issue_comments_549240.json:
```json
{
    "body": "Changed commit from **[38425b5](https://github.com/sagemath/sagetrac-mirror/commit/38425b51bcdc7fd556d8bd54f488d4e0a4096b14)** to **[c7187f4](https://github.com/sagemath/sagetrac-mirror/commit/c7187f42ed44c13ced8458c9bdf8a038f3701f76)**",
    "created_at": "2022-06-29T01:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549240",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[38425b5](https://github.com/sagemath/sagetrac-mirror/commit/38425b51bcdc7fd556d8bd54f488d4e0a4096b14)** to **[c7187f4](https://github.com/sagemath/sagetrac-mirror/commit/c7187f42ed44c13ced8458c9bdf8a038f3701f76)**



---

archive/issue_comments_549241.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7187f42ed44c13ced8458c9bdf8a038f3701f76\">c7187f4</a></td><td><code>projective_morphism.py: New example and move `import` inside</code></td></tr></table>\n",
    "created_at": "2022-06-29T01:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549241",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7187f42ed44c13ced8458c9bdf8a038f3701f76">c7187f4</a></td><td><code>projective_morphism.py: New example and move `import` inside</code></td></tr></table>




---

archive/issue_comments_549242.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThe return values of the examples in the docstring of `global_height` in `projective_morphism.py` are same as before, except for the first one (current result is something like 20.83484...):\n\n\n```\nsage: P.<x,y> = ProjectiveSpace(QQ,1)\nsage: H = Hom(P,P)\nsage: f = H([1/1331*x^2+1/4000*y^2, 210*x*y]);\nsage: f.global_height()\n8.29404964010203\n```\n\nI also added the example from description to the documentation.",
    "created_at": "2022-06-29T01:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549242",
    "user": "https://github.com/guojing0"
}
```

<div id="comment:11" align="right">comment:11</div>

The return values of the examples in the docstring of `global_height` in `projective_morphism.py` are same as before, except for the first one (current result is something like 20.83484...):


```
sage: P.<x,y> = ProjectiveSpace(QQ,1)
sage: H = Hom(P,P)
sage: f = H([1/1331*x^2+1/4000*y^2, 210*x*y]);
sage: f.global_height()
8.29404964010203
```

I also added the example from description to the documentation.



---

archive/issue_events_465525.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-06-29T05:06:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465525"
}
```



---

archive/issue_comments_549243.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nA couple issues here\n\n- The dimension of the projective space is off by 1. It should be\n\n```\nP = ProjectiveSpace(K, len(coeffs)-1)\n```\n\n- I'd suggest having one less variable defined\n\n```\nproj_point = P.point(coeffs)\nreturn proj_point.global_height()\n```\nto\n\n```\nreturn P.point(coeffs).global_height()\n```\n\n- correct the doc string to describe what this height is actually doing. (i.e., this is the global height of the coefficents as a projective point)\n\n- There seems to be an issue with scaling. The definition of height should be independent of the representative, so these should return the same height. I suggest adding an example for this too. There is an issue somewhere as these are giving different values.\n\n```\nP.<x,y>=ProjectiveSpace(QQ,1)\nf=DynamicalSystem([1/25*x^2 + 25/3*x*y+y^2,1*y^2])\nprint(f.global_height())\nc=10000\nf.scale_by(c)\nf.global_height()\n```\n\n- These should be implemented for Affine Dynamical systems too. Careful here that you construct the correct projective point; it may be simplest to homogenize the dynamical system first and then call the projective version (don't forget the case of morphisms between spaces of different dimensions).\n\n- The local_height and local_height_arch seem not to be implemented for affine morphisms at all yet.",
    "created_at": "2022-06-30T13:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549243",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:13" align="right">comment:13</div>

A couple issues here

- The dimension of the projective space is off by 1. It should be

```
P = ProjectiveSpace(K, len(coeffs)-1)
```

- I'd suggest having one less variable defined

```
proj_point = P.point(coeffs)
return proj_point.global_height()
```
to

```
return P.point(coeffs).global_height()
```

- correct the doc string to describe what this height is actually doing. (i.e., this is the global height of the coefficents as a projective point)

- There seems to be an issue with scaling. The definition of height should be independent of the representative, so these should return the same height. I suggest adding an example for this too. There is an issue somewhere as these are giving different values.

```
P.<x,y>=ProjectiveSpace(QQ,1)
f=DynamicalSystem([1/25*x^2 + 25/3*x*y+y^2,1*y^2])
print(f.global_height())
c=10000
f.scale_by(c)
f.global_height()
```

- These should be implemented for Affine Dynamical systems too. Careful here that you construct the correct projective point; it may be simplest to homogenize the dynamical system first and then call the projective version (don't forget the case of morphisms between spaces of different dimensions).

- The local_height and local_height_arch seem not to be implemented for affine morphisms at all yet.



---

archive/issue_events_465526.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-06-30T13:38:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465526"
}
```



---

archive/issue_events_465527.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-06-30T13:38:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465527"
}
```



---

archive/issue_comments_549244.json:
```json
{
    "body": "Reviewer: **Ben Hutz**",
    "created_at": "2022-06-30T13:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549244",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Ben Hutz**



---

archive/issue_comments_549245.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a182698d195cfb07cb24d7d1f48da93fd36aa0ff\">a182698</a></td><td><code>Debug `global_height` for proj morphism</code></td></tr></table>\n",
    "created_at": "2022-07-01T05:47:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549245",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a182698d195cfb07cb24d7d1f48da93fd36aa0ff">a182698</a></td><td><code>Debug `global_height` for proj morphism</code></td></tr></table>




---

archive/issue_comments_549246.json:
```json
{
    "body": "Changed commit from **[c7187f4](https://github.com/sagemath/sagetrac-mirror/commit/c7187f42ed44c13ced8458c9bdf8a038f3701f76)** to **[a182698](https://github.com/sagemath/sagetrac-mirror/commit/a182698d195cfb07cb24d7d1f48da93fd36aa0ff)**",
    "created_at": "2022-07-01T05:47:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549246",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c7187f4](https://github.com/sagemath/sagetrac-mirror/commit/c7187f42ed44c13ced8458c9bdf8a038f3701f76)** to **[a182698](https://github.com/sagemath/sagetrac-mirror/commit/a182698d195cfb07cb24d7d1f48da93fd36aa0ff)**



---

archive/issue_comments_549247.json:
```json
{
    "body": "Changed commit from **[a182698](https://github.com/sagemath/sagetrac-mirror/commit/a182698d195cfb07cb24d7d1f48da93fd36aa0ff)** to **[eb1d791](https://github.com/sagemath/sagetrac-mirror/commit/eb1d7918cc48c5c111f3031b1460ff09be272de0)**",
    "created_at": "2022-07-01T05:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549247",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a182698](https://github.com/sagemath/sagetrac-mirror/commit/a182698d195cfb07cb24d7d1f48da93fd36aa0ff)** to **[eb1d791](https://github.com/sagemath/sagetrac-mirror/commit/eb1d7918cc48c5c111f3031b1460ff09be272de0)**



---

archive/issue_comments_549248.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb1d7918cc48c5c111f3031b1460ff09be272de0\">eb1d791</a></td><td><code>More doc</code></td></tr></table>\n",
    "created_at": "2022-07-01T05:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549248",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb1d7918cc48c5c111f3031b1460ff09be272de0">eb1d791</a></td><td><code>More doc</code></td></tr></table>




---

archive/issue_comments_549249.json:
```json
{
    "body": "Changed commit from **[eb1d791](https://github.com/sagemath/sagetrac-mirror/commit/eb1d7918cc48c5c111f3031b1460ff09be272de0)** to **[71c8807](https://github.com/sagemath/sagetrac-mirror/commit/71c8807bf1210d8f3c51c855b87306a8c6ef97e7)**",
    "created_at": "2022-07-01T07:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549249",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[eb1d791](https://github.com/sagemath/sagetrac-mirror/commit/eb1d7918cc48c5c111f3031b1460ff09be272de0)** to **[71c8807](https://github.com/sagemath/sagetrac-mirror/commit/71c8807bf1210d8f3c51c855b87306a8c6ef97e7)**



---

archive/issue_comments_549250.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71c8807bf1210d8f3c51c855b87306a8c6ef97e7\">71c8807</a></td><td><code>Correct impl of `global_height` for affine morphism</code></td></tr></table>\n",
    "created_at": "2022-07-01T07:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549250",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71c8807bf1210d8f3c51c855b87306a8c6ef97e7">71c8807</a></td><td><code>Correct impl of `global_height` for affine morphism</code></td></tr></table>




---

archive/issue_comments_549251.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30dd5f26d32036b41f7fbbb35e2e6687a9186cdf\">30dd5f2</a></td><td><code>local height for affine morphism</code></td></tr></table>\n",
    "created_at": "2022-07-02T07:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549251",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30dd5f26d32036b41f7fbbb35e2e6687a9186cdf">30dd5f2</a></td><td><code>local height for affine morphism</code></td></tr></table>




---

archive/issue_comments_549252.json:
```json
{
    "body": "Changed commit from **[71c8807](https://github.com/sagemath/sagetrac-mirror/commit/71c8807bf1210d8f3c51c855b87306a8c6ef97e7)** to **[30dd5f2](https://github.com/sagemath/sagetrac-mirror/commit/30dd5f26d32036b41f7fbbb35e2e6687a9186cdf)**",
    "created_at": "2022-07-02T07:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549252",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[71c8807](https://github.com/sagemath/sagetrac-mirror/commit/71c8807bf1210d8f3c51c855b87306a8c6ef97e7)** to **[30dd5f2](https://github.com/sagemath/sagetrac-mirror/commit/30dd5f26d32036b41f7fbbb35e2e6687a9186cdf)**



---

archive/issue_comments_549253.json:
```json
{
    "body": "Changed commit from **[30dd5f2](https://github.com/sagemath/sagetrac-mirror/commit/30dd5f26d32036b41f7fbbb35e2e6687a9186cdf)** to **[28369c6](https://github.com/sagemath/sagetrac-mirror/commit/28369c6885e4cadad8bad7055aaac21bbdb600ec)**",
    "created_at": "2022-07-02T07:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549253",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[30dd5f2](https://github.com/sagemath/sagetrac-mirror/commit/30dd5f26d32036b41f7fbbb35e2e6687a9186cdf)** to **[28369c6](https://github.com/sagemath/sagetrac-mirror/commit/28369c6885e4cadad8bad7055aaac21bbdb600ec)**



---

archive/issue_comments_549254.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28369c6885e4cadad8bad7055aaac21bbdb600ec\">28369c6</a></td><td><code>local_height_arch for affine morphism</code></td></tr></table>\n",
    "created_at": "2022-07-02T07:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549254",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28369c6885e4cadad8bad7055aaac21bbdb600ec">28369c6</a></td><td><code>local_height_arch for affine morphism</code></td></tr></table>




---

archive/issue_events_465528.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-07-02T07:58:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465528"
}
```



---

archive/issue_events_465529.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-07-02T07:58:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465529"
}
```



---

archive/issue_comments_549255.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThe things in bhutz's reviews are fixed. The three height functions (`global_height`, `local_height`, and `local_height_arch`) for affine morphisms are implemented as well.",
    "created_at": "2022-07-02T07:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549255",
    "user": "https://github.com/guojing0"
}
```

<div id="comment:19" align="right">comment:19</div>

The things in bhutz's reviews are fixed. The three height functions (`global_height`, `local_height`, and `local_height_arch`) for affine morphisms are implemented as well.



---

archive/issue_events_465530.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-07-05T17:21:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465530"
}
```



---

archive/issue_events_465531.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-07-05T17:21:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465531"
}
```



---

archive/issue_comments_549256.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n- add description to the affine one that you are taking the height of the homogenization.\n\n-doc test failures:\n\n```\n1 item had failures:\n   3 of  32 in sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space.global_height\n    [612 tests, 3 failures, 4.79 s]\n```\nI did not run the full set of doc tests, so be sure to do so.\n\n- docs fail to build\n\n```\nOSError: /home/ben/sage-dev/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space.global_height:60: WARNING: Literal block expected; none found.\n```",
    "created_at": "2022-07-05T17:21:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549256",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:20" align="right">comment:20</div>

- add description to the affine one that you are taking the height of the homogenization.

-doc test failures:

```
1 item had failures:
   3 of  32 in sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space.global_height
    [612 tests, 3 failures, 4.79 s]
```
I did not run the full set of doc tests, so be sure to do so.

- docs fail to build

```
OSError: /home/ben/sage-dev/local/var/lib/sage/venv-python3.10.3/lib/python3.10/site-packages/sage/schemes/projective/projective_morphism.py:docstring of sage.schemes.projective.projective_morphism.SchemeMorphism_polynomial_projective_space.global_height:60: WARNING: Literal block expected; none found.
```



---

archive/issue_comments_549257.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a617700847eff2c4f3afb99adf80541bc4cb100\">0a61770</a></td><td><code>Correct doc</code></td></tr></table>\n",
    "created_at": "2022-07-06T05:16:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549257",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a617700847eff2c4f3afb99adf80541bc4cb100">0a61770</a></td><td><code>Correct doc</code></td></tr></table>




---

archive/issue_comments_549258.json:
```json
{
    "body": "Changed commit from **[28369c6](https://github.com/sagemath/sagetrac-mirror/commit/28369c6885e4cadad8bad7055aaac21bbdb600ec)** to **[0a61770](https://github.com/sagemath/sagetrac-mirror/commit/0a617700847eff2c4f3afb99adf80541bc4cb100)**",
    "created_at": "2022-07-06T05:16:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549258",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[28369c6](https://github.com/sagemath/sagetrac-mirror/commit/28369c6885e4cadad8bad7055aaac21bbdb600ec)** to **[0a61770](https://github.com/sagemath/sagetrac-mirror/commit/0a617700847eff2c4f3afb99adf80541bc4cb100)**



---

archive/issue_comments_549259.json:
```json
{
    "body": "Changed commit from **[0a61770](https://github.com/sagemath/sagetrac-mirror/commit/0a617700847eff2c4f3afb99adf80541bc4cb100)** to **[94a2805](https://github.com/sagemath/sagetrac-mirror/commit/94a28058512d44978f57d228b7d1c56f1563e493)**",
    "created_at": "2022-07-09T02:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549259",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0a61770](https://github.com/sagemath/sagetrac-mirror/commit/0a617700847eff2c4f3afb99adf80541bc4cb100)** to **[94a2805](https://github.com/sagemath/sagetrac-mirror/commit/94a28058512d44978f57d228b7d1c56f1563e493)**



---

archive/issue_comments_549260.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94a28058512d44978f57d228b7d1c56f1563e493\">94a2805</a></td><td><code>33971: Correct doc</code></td></tr></table>\n",
    "created_at": "2022-07-09T02:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549260",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94a28058512d44978f57d228b7d1c56f1563e493">94a2805</a></td><td><code>33971: Correct doc</code></td></tr></table>




---

archive/issue_comments_549261.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThe status badge says that building documentation is successful. It passed all the tests after I ran `./sage -t affine_morphism.py` and `./sage -t projective_morphism.py`.",
    "created_at": "2022-07-09T04:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549261",
    "user": "https://github.com/guojing0"
}
```

<div id="comment:23" align="right">comment:23</div>

The status badge says that building documentation is successful. It passed all the tests after I ran `./sage -t affine_morphism.py` and `./sage -t projective_morphism.py`.



---

archive/issue_events_465532.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-07-09T04:19:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465532"
}
```



---

archive/issue_events_465533.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-07-09T04:19:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465533"
}
```



---

archive/issue_comments_549262.json:
```json
{
    "body": "Changed commit from **[94a2805](https://github.com/sagemath/sagetrac-mirror/commit/94a28058512d44978f57d228b7d1c56f1563e493)** to **[ab35cbc](https://github.com/sagemath/sagetrac-mirror/commit/ab35cbc1fbda7fa4c05c67d63c949440bf0c1aef)**",
    "created_at": "2022-07-09T04:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549262",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[94a2805](https://github.com/sagemath/sagetrac-mirror/commit/94a28058512d44978f57d228b7d1c56f1563e493)** to **[ab35cbc](https://github.com/sagemath/sagetrac-mirror/commit/ab35cbc1fbda7fa4c05c67d63c949440bf0c1aef)**



---

archive/issue_comments_549263.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab35cbc1fbda7fa4c05c67d63c949440bf0c1aef\">ab35cbc</a></td><td><code>33971: Correct `prec` and relevent examples</code></td></tr></table>\n",
    "created_at": "2022-07-09T04:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549263",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab35cbc1fbda7fa4c05c67d63c949440bf0c1aef">ab35cbc</a></td><td><code>33971: Correct `prec` and relevent examples</code></td></tr></table>




---

archive/issue_events_465534.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-07-11T13:47:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465534"
}
```



---

archive/issue_events_465535.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-07-11T13:47:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465535"
}
```



---

archive/issue_comments_549264.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThe functionality works when the domain and codomain have the same dimension, but not when they do not.\n\n```\nP.<x,y,z> = ProjectiveSpace(QQ,2)\nA.<z,w>=ProjectiveSpace(QQ,1)\nH = Hom(P,A)\nf = H([1/1331*x^2 + 4000*y*z,y^2])\nf.global_height()\n```\n\n```\nP.<x,y> = AffineSpace(QQ,2)\nA.<z>=AffineSpace(QQ,1)\nH = Hom(P,A)\nf = H([1/1331*x^2 + 4000*y])\nf.global_height()\n```\n\nThis example no longer makes sense since normalization does not have an effect on the height. Delete the text and the second half of the example.\n\n```\n        This function does not automatically normalize::\n\n            sage: P.<x,y,z> = ProjectiveSpace(ZZ,2)\n            sage: H = Hom(P,P)\n            sage: f = H([4*x^2 + 100*y^2, 210*x*y, 10000*z^2]);\n            sage: f.global_height()\n            8.51719319141624\n            sage: f.normalize_coordinates()\n            sage: f.global_height()\n            8.51719319141624\n```",
    "created_at": "2022-07-11T13:47:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549264",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:25" align="right">comment:25</div>

The functionality works when the domain and codomain have the same dimension, but not when they do not.

```
P.<x,y,z> = ProjectiveSpace(QQ,2)
A.<z,w>=ProjectiveSpace(QQ,1)
H = Hom(P,A)
f = H([1/1331*x^2 + 4000*y*z,y^2])
f.global_height()
```

```
P.<x,y> = AffineSpace(QQ,2)
A.<z>=AffineSpace(QQ,1)
H = Hom(P,A)
f = H([1/1331*x^2 + 4000*y])
f.global_height()
```

This example no longer makes sense since normalization does not have an effect on the height. Delete the text and the second half of the example.

```
        This function does not automatically normalize::

            sage: P.<x,y,z> = ProjectiveSpace(ZZ,2)
            sage: H = Hom(P,P)
            sage: f = H([4*x^2 + 100*y^2, 210*x*y, 10000*z^2]);
            sage: f.global_height()
            8.51719319141624
            sage: f.normalize_coordinates()
            sage: f.global_height()
            8.51719319141624
```



---

archive/issue_comments_549265.json:
```json
{
    "body": "Changed commit from **[ab35cbc](https://github.com/sagemath/sagetrac-mirror/commit/ab35cbc1fbda7fa4c05c67d63c949440bf0c1aef)** to **[d24eea8](https://github.com/sagemath/sagetrac-mirror/commit/d24eea822da6c3676b3194898da152828f3ee46b)**",
    "created_at": "2022-07-12T04:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549265",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ab35cbc](https://github.com/sagemath/sagetrac-mirror/commit/ab35cbc1fbda7fa4c05c67d63c949440bf0c1aef)** to **[d24eea8](https://github.com/sagemath/sagetrac-mirror/commit/d24eea822da6c3676b3194898da152828f3ee46b)**



---

archive/issue_comments_549266.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d24eea822da6c3676b3194898da152828f3ee46b\">d24eea8</a></td><td><code>33971: Allow domain and codomain have diff dim's</code></td></tr></table>\n",
    "created_at": "2022-07-12T04:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549266",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d24eea822da6c3676b3194898da152828f3ee46b">d24eea8</a></td><td><code>33971: Allow domain and codomain have diff dim's</code></td></tr></table>




---

archive/issue_events_465536.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-07-12T04:50:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465536"
}
```



---

archive/issue_events_465537.json:
```json
{
    "actor": "https://github.com/guojing0",
    "created_at": "2022-07-12T04:50:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465537"
}
```



---

archive/issue_comments_549267.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThe two examples are added as parts of the `EXAMPLES`.",
    "created_at": "2022-07-12T04:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549267",
    "user": "https://github.com/guojing0"
}
```

<div id="comment:27" align="right">comment:27</div>

The two examples are added as parts of the `EXAMPLES`.



---

archive/issue_comments_549268.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThis is passing my tests now. I'd like to have the patchbot pick it up before I marked it positive. Let's give it a couple days.",
    "created_at": "2022-07-12T20:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549268",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:28" align="right">comment:28</div>

This is passing my tests now. I'd like to have the patchbot pick it up before I marked it positive. Let's give it a couple days.



---

archive/issue_events_465538.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-07-14T13:48:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465538"
}
```



---

archive/issue_events_465539.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2022-07-14T13:48:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465539"
}
```



---

archive/issue_comments_549269.json:
```json
{
    "body": "Changed branch from **[u/gh-guojing0/33971_ds_height](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-guojing0/33971_ds_height)** to **[d24eea8](https://github.com/sagemath/sagetrac-mirror/commit/d24eea822da6c3676b3194898da152828f3ee46b)**",
    "created_at": "2022-08-01T20:20:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33971#issuecomment-549269",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-guojing0/33971_ds_height](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-guojing0/33971_ds_height)** to **[d24eea8](https://github.com/sagemath/sagetrac-mirror/commit/d24eea822da6c3676b3194898da152828f3ee46b)**



---

archive/issue_events_465540.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-01T20:20:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465540"
}
```



---

archive/issue_events_465541.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "288834efb2394baaa41dd0659433ae1c8df170a1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-08-01T20:20:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33971",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33971#event-465541"
}
```
