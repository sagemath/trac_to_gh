# Issue 33693: various code formatting details in pyx files

archive/issues_033456.json:
```json
{
    "body": "found using\n\n```\npycodestyle --select E111,E401,E701,E702,E703,W605,E711,E712,E713,E721,E722 --filename=*.pyx src/sage/\n```\n\nBranch/Commit: [49a26246f0af7256627a2b44963a42d57bb7b3c0](https://github.com/sagemath/sagetrac-mirror/commit/49a26246f0af7256627a2b44963a42d57bb7b3c0)\n\nReviewer: David Coudert, Lorenz Panny\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33693\n\n",
    "closed_at": "2022-05-22T09:57:36Z",
    "created_at": "2022-04-12T12:41:48Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "various code formatting details in pyx files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33693",
    "user": "https://github.com/fchapoton"
}
```
found using

```
pycodestyle --select E111,E401,E701,E702,E703,W605,E711,E712,E713,E721,E722 --filename=*.pyx src/sage/
```

Branch/Commit: [49a26246f0af7256627a2b44963a42d57bb7b3c0](https://github.com/sagemath/sagetrac-mirror/commit/49a26246f0af7256627a2b44963a42d57bb7b3c0)

Reviewer: David Coudert, Lorenz Panny

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33693





---

archive/issue_comments_671763.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-04-12T12:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671763",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_671764.json:
```json
{
    "body": "Branch: [u/chapoton/33693](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33693)",
    "created_at": "2022-04-12T12:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671764",
    "user": "https://github.com/fchapoton"
}
```

Branch: [u/chapoton/33693](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33693)



---

archive/issue_comments_671765.json:
```json
{
    "body": "Commit: [266ef46f221bf6a49dc0e2de40d919c595256f03](https://github.com/sagemath/sagetrac-mirror/commit/266ef46f221bf6a49dc0e2de40d919c595256f03)",
    "created_at": "2022-04-12T12:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671765",
    "user": "https://github.com/fchapoton"
}
```

Commit: [266ef46f221bf6a49dc0e2de40d919c595256f03](https://github.com/sagemath/sagetrac-mirror/commit/266ef46f221bf6a49dc0e2de40d919c595256f03)



---

archive/issue_comments_671766.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[266ef46](https://github.com/sagemath/sagetrac-mirror/commit/266ef46f221bf6a49dc0e2de40d919c595256f03)|`various code formatting details in pyx files`|",
    "created_at": "2022-04-12T12:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671766",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[266ef46](https://github.com/sagemath/sagetrac-mirror/commit/266ef46f221bf6a49dc0e2de40d919c595256f03)|`various code formatting details in pyx files`|



---

archive/issue_comments_671767.json:
```json
{
    "body": "<a id='comment:2'></a>\n\n```diff\n-import zlib; comp = zlib\n-import bz2; comp_other = bz2\n+import zlib\n+import bz2\n+comp = zlib\n+comp_other = bz2\n```\nI haven't looked at the surrounding code, but is there a reason not to simply `import ... as ...`?\n\n```diff\n         if names and self.Vrep():\n-            return tuple(self.Vrep()[i]  for i in range(self.n_Vrepresentation()) if not i in self.far_face_tuple())\n+            return tuple(self.Vrep()[i] for i in range(self.n_Vrepresentation()) if i not in self.far_face_tuple())\n         else:\n-            return tuple(smallInteger(i) for i in range(self.n_Vrepresentation()) if not i in self.far_face_tuple())\n+            return tuple(smallInteger(i) for i in range(self.n_Vrepresentation()) if i not in self.far_face_tuple())\n```\nNot sure about this one: The formatting was clearly intended to make the `for ...` parts start in the same column. I'm fine with it either way, but it may be something to reconsider.",
    "created_at": "2022-04-12T13:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671767",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:2'></a>

```diff
-import zlib; comp = zlib
-import bz2; comp_other = bz2
+import zlib
+import bz2
+comp = zlib
+comp_other = bz2
```
I haven't looked at the surrounding code, but is there a reason not to simply `import ... as ...`?

```diff
         if names and self.Vrep():
-            return tuple(self.Vrep()[i]  for i in range(self.n_Vrepresentation()) if not i in self.far_face_tuple())
+            return tuple(self.Vrep()[i] for i in range(self.n_Vrepresentation()) if i not in self.far_face_tuple())
         else:
-            return tuple(smallInteger(i) for i in range(self.n_Vrepresentation()) if not i in self.far_face_tuple())
+            return tuple(smallInteger(i) for i in range(self.n_Vrepresentation()) if i not in self.far_face_tuple())
```
Not sure about this one: The formatting was clearly intended to make the `for ...` parts start in the same column. I'm fine with it either way, but it may be something to reconsider.



---

archive/issue_comments_671768.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[49a2624](https://github.com/sagemath/sagetrac-mirror/commit/49a26246f0af7256627a2b44963a42d57bb7b3c0)|`fix typo`|",
    "created_at": "2022-04-12T14:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671768",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[49a2624](https://github.com/sagemath/sagetrac-mirror/commit/49a26246f0af7256627a2b44963a42d57bb7b3c0)|`fix typo`|



---

archive/issue_comments_671769.json:
```json
{
    "body": "Changing commit from \"[266ef46f221bf6a49dc0e2de40d919c595256f03](https://github.com/sagemath/sagetrac-mirror/commit/266ef46f221bf6a49dc0e2de40d919c595256f03)\" to \"[49a26246f0af7256627a2b44963a42d57bb7b3c0](https://github.com/sagemath/sagetrac-mirror/commit/49a26246f0af7256627a2b44963a42d57bb7b3c0)\"",
    "created_at": "2022-04-12T14:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671769",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[266ef46f221bf6a49dc0e2de40d919c595256f03](https://github.com/sagemath/sagetrac-mirror/commit/266ef46f221bf6a49dc0e2de40d919c595256f03)" to "[49a26246f0af7256627a2b44963a42d57bb7b3c0](https://github.com/sagemath/sagetrac-mirror/commit/49a26246f0af7256627a2b44963a42d57bb7b3c0)"



---

archive/issue_comments_671770.json:
```json
{
    "body": "<a id='comment:4'></a>\nLGTM.",
    "created_at": "2022-04-12T16:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671770",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>
LGTM.



---

archive/issue_comments_671771.json:
```json
{
    "body": "Reviewer: David Coudert",
    "created_at": "2022-04-12T16:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671771",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: David Coudert



---

archive/issue_comments_671772.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-04-12T16:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671772",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_671773.json:
```json
{
    "body": "Changing reviewer from \"David Coudert\" to \"David Coudert, Lorenz Panny\"",
    "created_at": "2022-04-12T16:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671773",
    "user": "https://github.com/dcoudert"
}
```

Changing reviewer from "David Coudert" to "David Coudert, Lorenz Panny"



---

archive/issue_comments_671774.json:
```json
{
    "body": "<a id='comment:5'></a>\nActually, I should not forget Lorentz.",
    "created_at": "2022-04-12T16:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671774",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>
Actually, I should not forget Lorentz.



---

archive/issue_comments_671775.json:
```json
{
    "body": "<a id='comment:6'></a>\nbump to 9.7",
    "created_at": "2022-04-22T08:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671775",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
bump to 9.7



---

archive/issue_events_099678.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-04-22T08:46:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33693#event-99678"
}
```



---

archive/issue_comments_671776.json:
```json
{
    "body": "Changing branch from \"[u/chapoton/33693](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33693)\" to \"[49a26246f0af7256627a2b44963a42d57bb7b3c0](https://github.com/sagemath/sagetrac-mirror/commit/49a26246f0af7256627a2b44963a42d57bb7b3c0)\"",
    "created_at": "2022-05-22T09:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671776",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/chapoton/33693](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33693)" to "[49a26246f0af7256627a2b44963a42d57bb7b3c0](https://github.com/sagemath/sagetrac-mirror/commit/49a26246f0af7256627a2b44963a42d57bb7b3c0)"



---

archive/issue_comments_671777.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-22T09:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33693#issuecomment-671777",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_099679.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-22T09:57:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33693",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33693#event-99679"
}
```
