# Issue 33167: Improve is_functional of lrs feature

archive/issues_032930.json:
```json
{
    "assignees": [],
    "body": "From [#33101 comment:3](https://github.com/sagemath/sage/issues/33101#comment:3) :\n\n\"*This was after a distclean. I had not explicitly installed lrslib, it was on the system. If I understand the config.log correctly, the system lrslib was not accepted by Sage. Yet, ptestlong runs the optional lrslib tests.*\"\n\n```\n## ------------------------------------------------------- ##\n## Checking whether SageMath should install SPKG lrslib... ##\n## ------------------------------------------------------- ##\nconfigure:30190: checking whether any of gmp flint is installed as or will be installed as SPKG\nconfigure:30194: result: yes; install lrslib as well\nconfigure:30296: no suitable system package found for SPKG lrslib\n```\n\n---\n\nIn this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, then it is not picked up by sagemath at runtime or during doctests.\n\n\n\nCC:  @mwageringel @orlitzky\n\nBranch: **[16e1b24](https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **S\u00e9bastien Labb\u00e9, Markus Wageringel**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33167_\n\n",
    "closed_at": "2022-02-13T10:17:10Z",
    "created_at": "2022-01-14T14:11:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improve is_functional of lrs feature",
    "type": "issue",
    "updated_at": "2022-03-05T20:49:28Z",
    "url": "https://github.com/sagemath/sage/issues/33167",
    "user": "https://github.com/seblabbe"
}
```
From [#33101 comment:3](https://github.com/sagemath/sage/issues/33101#comment:3) :

"*This was after a distclean. I had not explicitly installed lrslib, it was on the system. If I understand the config.log correctly, the system lrslib was not accepted by Sage. Yet, ptestlong runs the optional lrslib tests.*"

```
## ------------------------------------------------------- ##
## Checking whether SageMath should install SPKG lrslib... ##
## ------------------------------------------------------- ##
configure:30190: checking whether any of gmp flint is installed as or will be installed as SPKG
configure:30194: result: yes; install lrslib as well
configure:30296: no suitable system package found for SPKG lrslib
```

---

In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, then it is not picked up by sagemath at runtime or during doctests.



CC:  @mwageringel @orlitzky

Branch: **[16e1b24](https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5)**

Reviewer: **Matthias Koeppe**

Author: **Sébastien Labbé, Markus Wageringel**

_Issue created by migration from https://trac.sagemath.org/ticket/33167_





---

archive/issue_events_438080.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-01-14T14:11:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438080"
}
```



---

archive/issue_events_438081.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-01-14T14:11:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438081"
}
```



---

archive/issue_events_438082.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-01-14T14:11:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438082"
}
```



---

archive/issue_events_438083.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-01-14T14:11:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438083"
}
```



---

archive/issue_comments_539167.json:
```json
{
    "body": "Commit: **[5ecec1d](https://github.com/sagemath/sagetrac-mirror/commit/5ecec1dcee59f8e4e2dbac98a78926d9603b518e)**",
    "created_at": "2022-01-14T14:13:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539167",
    "user": "https://github.com/seblabbe"
}
```

Commit: **[5ecec1d](https://github.com/sagemath/sagetrac-mirror/commit/5ecec1dcee59f8e4e2dbac98a78926d9603b518e)**



---

archive/issue_comments_539168.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0342538db47e2171ae536ed25f74531f0dd34b81\">0342538</a></td><td><code>33101: adding a second check in lrs feature is_functional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ecec1dcee59f8e4e2dbac98a78926d9603b518e\">5ecec1d</a></td><td><code>33101: simplification of check #1 in is_functional method of lrs feature</code></td></tr></table>\n",
    "created_at": "2022-01-14T14:13:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539168",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0342538db47e2171ae536ed25f74531f0dd34b81">0342538</a></td><td><code>33101: adding a second check in lrs feature is_functional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ecec1dcee59f8e4e2dbac98a78926d9603b518e">5ecec1d</a></td><td><code>33101: simplification of check #1 in is_functional method of lrs feature</code></td></tr></table>




---

archive/issue_events_438084.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-01-14T14:13:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438084"
}
```



---

archive/issue_comments_539169.json:
```json
{
    "body": "Branch: **[u/slabbe/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33167)**",
    "created_at": "2022-01-14T14:13:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539169",
    "user": "https://github.com/seblabbe"
}
```

Branch: **[u/slabbe/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33167)**



---

archive/issue_comments_539170.json:
```json
{
    "body": "Changed commit from **[5ecec1d](https://github.com/sagemath/sagetrac-mirror/commit/5ecec1dcee59f8e4e2dbac98a78926d9603b518e)** to **[f1d1269](https://github.com/sagemath/sagetrac-mirror/commit/f1d1269d031db4c0acffeed0e7fbce4b21f926d9)**",
    "created_at": "2022-01-14T14:14:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539170",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5ecec1d](https://github.com/sagemath/sagetrac-mirror/commit/5ecec1dcee59f8e4e2dbac98a78926d9603b518e)** to **[f1d1269](https://github.com/sagemath/sagetrac-mirror/commit/f1d1269d031db4c0acffeed0e7fbce4b21f926d9)**



---

archive/issue_comments_539171.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32edecbbbbf00b88993cb7ae51460fa55746dea1\">32edecb</a></td><td><code>33167: adding a second check in lrs feature is_functional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1d1269d031db4c0acffeed0e7fbce4b21f926d9\">f1d1269</a></td><td><code>33167: simplification of check #1 in is_functional method of lrs feature</code></td></tr></table>\n",
    "created_at": "2022-01-14T14:14:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539171",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32edecbbbbf00b88993cb7ae51460fa55746dea1">32edecb</a></td><td><code>33167: adding a second check in lrs feature is_functional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1d1269d031db4c0acffeed0e7fbce4b21f926d9">f1d1269</a></td><td><code>33167: simplification of check #1 in is_functional method of lrs feature</code></td></tr></table>




---

archive/issue_comments_539172.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nForced push to rename the commit message to mention #33167 instead of #33101.",
    "created_at": "2022-01-14T14:15:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539172",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:3" align="right">Comment 3</div>

Forced push to rename the commit message to mention #33167 instead of #33101.



---

archive/issue_comments_539173.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI wonder if we should not check both `lrs` and `lrsnash` executables in the same `is_functional` method. Maybe a `JoinFeature` would be better here, as it is done for instance for `graphviz`. What does the reviewer think?",
    "created_at": "2022-01-14T14:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539173",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:4" align="right">Comment 4</div>

I wonder if we should not check both `lrs` and `lrsnash` executables in the same `is_functional` method. Maybe a `JoinFeature` would be better here, as it is done for instance for `graphviz`. What does the reviewer think?



---

archive/issue_comments_539174.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n(this comment is copied from [#33101 comment:19](https://github.com/sagemath/sage/issues/33101#comment:19) where I originally posted the branch)\n\nFor now, I just imported the test made in the m4 file into the `is_functional` method. On my machine everything works, so I can not test it properly. If I made stuff correctly, the following should now return False for affected users like gh-mwageringel :\n\n```\nsage: from sage.features.lrs import Lrs\nsage: Lrs().is_present()\nFeatureTestResult('lrslib', True)\nsage: Lrs().is_functional()\nFeatureTestResult('lrslib', True)\n```",
    "created_at": "2022-01-14T14:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539174",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:5" align="right">Comment 5</div>

(this comment is copied from [#33101 comment:19](https://github.com/sagemath/sage/issues/33101#comment:19) where I originally posted the branch)

For now, I just imported the test made in the m4 file into the `is_functional` method. On my machine everything works, so I can not test it properly. If I made stuff correctly, the following should now return False for affected users like gh-mwageringel :

```
sage: from sage.features.lrs import Lrs
sage: Lrs().is_present()
FeatureTestResult('lrslib', True)
sage: Lrs().is_functional()
FeatureTestResult('lrslib', True)
```



---

archive/issue_comments_539175.json:
```json
{
    "body": "Author: **S\u00e9bastien Labb\u00e9**",
    "created_at": "2022-01-14T16:09:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539175",
    "user": "https://github.com/seblabbe"
}
```

Author: **Sébastien Labbé**



---

archive/issue_comments_539176.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n \n ---\n \n-In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, than it is not picked up by sagemath at runtime or during doctests.\n+In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, then it is not picked up by sagemath at runtime or during doctests.\n``````\n",
    "created_at": "2022-01-14T16:09:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539176",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 
 ---
 
-In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, than it is not picked up by sagemath at runtime or during doctests.
+In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, then it is not picked up by sagemath at runtime or during doctests.
``````




---

archive/issue_comments_539177.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nWhy do we need a feature for lrs at all when we have an optional package for it? If we simply remove the feature, the spkg-configure check will handle this, won't it?",
    "created_at": "2022-01-15T00:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539177",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:9" align="right">Comment 9</div>

Why do we need a feature for lrs at all when we have an optional package for it? If we simply remove the feature, the spkg-configure check will handle this, won't it?



---

archive/issue_comments_539178.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nReplying to [@orlitzky](#comment%3A9):\n> Why do we need a feature for lrs at all when we have an optional package for it? If we simply remove the feature, the spkg-configure check will handle this, won't it?\n\nNevermind, I found #30746.",
    "created_at": "2022-01-15T03:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539178",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:10" align="right">Comment 10</div>

Replying to [@orlitzky](#comment%3A9):
> Why do we need a feature for lrs at all when we have an optional package for it? If we simply remove the feature, the spkg-configure check will handle this, won't it?

Nevermind, I found #30746.



---

archive/issue_comments_539179.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@seblabbe](#comment%3A5):\n> For now, I just imported the test made in the m4 file into the `is_functional` method. On my machine everything works, so I can not test it properly. If I made stuff correctly, the following should now return False for affected users like gh-mwageringel :\n\nThis is not the case, I am afraid. I get the same output:\n\n```\nsage: from sage.features.lrs import Lrs\nsage: Lrs().is_present()\nFeatureTestResult('lrslib', True)\nsage: Lrs().is_functional()\nFeatureTestResult('lrslib', True)\n```\nMy system lrslib seems to be mostly functional, as all the doctests apart from #33101 pass. But it is rejected by the .m4 file because of the dependency on flint \u2013 my Sage builds its own flint, so would also build its own lrslib.",
    "created_at": "2022-01-15T12:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539179",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@seblabbe](#comment%3A5):
> For now, I just imported the test made in the m4 file into the `is_functional` method. On my machine everything works, so I can not test it properly. If I made stuff correctly, the following should now return False for affected users like gh-mwageringel :

This is not the case, I am afraid. I get the same output:

```
sage: from sage.features.lrs import Lrs
sage: Lrs().is_present()
FeatureTestResult('lrslib', True)
sage: Lrs().is_functional()
FeatureTestResult('lrslib', True)
```
My system lrslib seems to be mostly functional, as all the doctests apart from #33101 pass. But it is rejected by the .m4 file because of the dependency on flint – my Sage builds its own flint, so would also build its own lrslib.



---

archive/issue_comments_539180.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@mwageringel](#comment%3A11):\n> My system lrslib seems to be mostly functional, as all the doctests apart from #33101 pass. But it is rejected by the .m4 file because of the dependency on flint \u2013 my Sage builds its own flint, so would also build its own lrslib.\n\nThis is probably a mistake in the `spkg-configure.m4` for lrslib. If all we do is run the executables from lrslib, we don't care if they're linked to a mismatched version of flint/gmp.",
    "created_at": "2022-01-15T14:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539180",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@mwageringel](#comment%3A11):
> My system lrslib seems to be mostly functional, as all the doctests apart from #33101 pass. But it is rejected by the .m4 file because of the dependency on flint – my Sage builds its own flint, so would also build its own lrslib.

This is probably a mistake in the `spkg-configure.m4` for lrslib. If all we do is run the executables from lrslib, we don't care if they're linked to a mismatched version of flint/gmp.



---

archive/issue_comments_539181.json:
```json
{
    "body": "Changed commit from **[f1d1269](https://github.com/sagemath/sagetrac-mirror/commit/f1d1269d031db4c0acffeed0e7fbce4b21f926d9)** to **[bb047c7](https://github.com/sagemath/sagetrac-mirror/commit/bb047c7da865cb8c96116ad290c5aa1681d80d23)**",
    "created_at": "2022-01-17T20:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539181",
    "user": "https://github.com/mwageringel"
}
```

Changed commit from **[f1d1269](https://github.com/sagemath/sagetrac-mirror/commit/f1d1269d031db4c0acffeed0e7fbce4b21f926d9)** to **[bb047c7](https://github.com/sagemath/sagetrac-mirror/commit/bb047c7da865cb8c96116ad290c5aa1681d80d23)**



---

archive/issue_comments_539182.json:
```json
{
    "body": "Changed branch from **[u/slabbe/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33167)** to **[u/gh-mwageringel/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/33167)**",
    "created_at": "2022-01-17T20:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539182",
    "user": "https://github.com/mwageringel"
}
```

Changed branch from **[u/slabbe/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33167)** to **[u/gh-mwageringel/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/33167)**



---

archive/issue_comments_539183.json:
```json
{
    "body": "Changed author from **S\u00e9bastien Labb\u00e9** to **S\u00e9bastien Labb\u00e9, Markus Wageringel**",
    "created_at": "2022-01-17T20:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539183",
    "user": "https://github.com/mwageringel"
}
```

Changed author from **Sébastien Labbé** to **Sébastien Labbé, Markus Wageringel**



---

archive/issue_comments_539184.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@orlitzky](#comment%3A12):\n> Replying to [@mwageringel](#comment%3A11):\n> This is probably a mistake in the `spkg-configure.m4` for lrslib. If all we do is run the executables from lrslib, we don't care if they're linked to a mismatched version of flint/gmp.\n\nYes, this seems to be the case. I have removed the check for gmp/flint from the .m4 file. Now it works as I would expect \u2013 this is the relevant output of configure:\n\n```\nChecking whether SageMath should install SPKG lrslib...\nchecking for lrsnash... lrsnash\nchecking whether lrsnash can handle the new input format... yes\nconfigure: will use system package and not install SPKG lrslib\n```\nThis is the first time I have edited an .m4 file, so I hope I did not break anything.\n\nBesides that, I have removed a `print` call from the `is_functional` check which was probably not intended in the first place.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28abf29f573d4b5beada79c39be32996dccadfe2\">28abf29</a></td><td><code>33167: avoid printing of output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb047c7da865cb8c96116ad290c5aa1681d80d23\">bb047c7</a></td><td><code>33167: remove check for gmp/flint in lrslib's m4 file</code></td></tr></table>\n",
    "created_at": "2022-01-17T20:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539184",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@orlitzky](#comment%3A12):
> Replying to [@mwageringel](#comment%3A11):
> This is probably a mistake in the `spkg-configure.m4` for lrslib. If all we do is run the executables from lrslib, we don't care if they're linked to a mismatched version of flint/gmp.

Yes, this seems to be the case. I have removed the check for gmp/flint from the .m4 file. Now it works as I would expect – this is the relevant output of configure:

```
Checking whether SageMath should install SPKG lrslib...
checking for lrsnash... lrsnash
checking whether lrsnash can handle the new input format... yes
configure: will use system package and not install SPKG lrslib
```
This is the first time I have edited an .m4 file, so I hope I did not break anything.

Besides that, I have removed a `print` call from the `is_functional` check which was probably not intended in the first place.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28abf29f573d4b5beada79c39be32996dccadfe2">28abf29</a></td><td><code>33167: avoid printing of output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb047c7da865cb8c96116ad290c5aa1681d80d23">bb047c7</a></td><td><code>33167: remove check for gmp/flint in lrslib's m4 file</code></td></tr></table>




---

archive/issue_comments_539185.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,3 +14,5 @@\n ---\n \n In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, then it is not picked up by sagemath at runtime or during doctests.\n+\n+Additionally, we remove the check for gmp/flint from the `spkg-configure.m4` for lrslib, as Sage only uses the lrs and lrsnash binaries.\n``````\n",
    "created_at": "2022-01-17T20:42:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539185",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,3 +14,5 @@
 ---
 
 In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, then it is not picked up by sagemath at runtime or during doctests.
+
+Additionally, we remove the check for gmp/flint from the `spkg-configure.m4` for lrslib, as Sage only uses the lrs and lrsnash binaries.
``````




---

archive/issue_comments_539186.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@mwageringel](#comment%3A13):\n> This is the first time I have edited an .m4 file, so I hope I did not break anything.\n\nIt looks like you deleted the `DEPCHECK` line and its matching `])`, and then un-indented the stuff between? That should be right.\n\nm4 and the `./configure` script are all \"stringly typed,\" so really the only way we have of testing is to run `./configure` in every configuration and watch the output.",
    "created_at": "2022-01-18T00:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539186",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@mwageringel](#comment%3A13):
> This is the first time I have edited an .m4 file, so I hope I did not break anything.

It looks like you deleted the `DEPCHECK` line and its matching `])`, and then un-indented the stuff between? That should be right.

m4 and the `./configure` script are all "stringly typed," so really the only way we have of testing is to run `./configure` in every configuration and watch the output.



---

archive/issue_comments_539187.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@orlitzky](#comment%3A15):\n> It looks like you deleted the `DEPCHECK` line and its matching `])`, and then un-indented the stuff between?\n\nYes, exactly.\n\n> m4 and the `./configure` script are all \"stringly typed,\" so really the only way we have of testing is to run `./configure` in every configuration and watch the output.\n\nFor another data point, I have tested this by replacing the lrsnash binary by a non-functional one, which also leads to the intended result:\n\n```\nChecking whether SageMath should install SPKG lrslib...\nchecking for lrsnash... lrsnash\nchecking whether lrsnash can handle the new input format... no\nconfigure: no suitable system package found for SPKG lrslib\n```",
    "created_at": "2022-01-19T18:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539187",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@orlitzky](#comment%3A15):
> It looks like you deleted the `DEPCHECK` line and its matching `])`, and then un-indented the stuff between?

Yes, exactly.

> m4 and the `./configure` script are all "stringly typed," so really the only way we have of testing is to run `./configure` in every configuration and watch the output.

For another data point, I have tested this by replacing the lrsnash binary by a non-functional one, which also leads to the intended result:

```
Checking whether SageMath should install SPKG lrslib...
checking for lrsnash... lrsnash
checking whether lrsnash can handle the new input format... no
configure: no suitable system package found for SPKG lrslib
```



---

archive/issue_comments_539188.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nSince I saw the problem described in #33231, I wonder if the line\n\n```\nresult = subprocess.run(command, capture_output=True, text=True)\n```\nshould be put inside of a `try` to catch `OSError` type of failures?",
    "created_at": "2022-01-26T20:12:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539188",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:17" align="right">Comment 17</div>

Since I saw the problem described in #33231, I wonder if the line

```
result = subprocess.run(command, capture_output=True, text=True)
```
should be put inside of a `try` to catch `OSError` type of failures?



---

archive/issue_comments_539189.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nReplying to [@seblabbe](#comment%3A17):\n> Since I saw the problem described in #33231, I wonder if the line\n> \n> ```\n> result = subprocess.run(command, capture_output=True, text=True)\n> ```\n> should be put inside of a `try` to catch `OSError` type of failures?\n\nYeah, just about anything can go wrong. Another example:\n\n```\nsage: from sage.features.imagemagick import ImageMagick\nsage: ImageMagick().is_functional()\n...\nPermissionError: [Errno 13] Permission denied: 'convert'\n```\n\nOr with a dangling symlink from graphicsmagick,\n\n```\n...\nFileNotFoundError: [Errno 2] No such file or directory: 'convert'\n```\n\nThese aren't normal scenarios, but if there's no way to disable the check, the test suite can't crash whenever e.g. someone installs a broken tool in `/usr/local/bin`.",
    "created_at": "2022-01-27T01:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539189",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:18" align="right">Comment 18</div>

Replying to [@seblabbe](#comment%3A17):
> Since I saw the problem described in #33231, I wonder if the line
> 
> ```
> result = subprocess.run(command, capture_output=True, text=True)
> ```
> should be put inside of a `try` to catch `OSError` type of failures?

Yeah, just about anything can go wrong. Another example:

```
sage: from sage.features.imagemagick import ImageMagick
sage: ImageMagick().is_functional()
...
PermissionError: [Errno 13] Permission denied: 'convert'
```

Or with a dangling symlink from graphicsmagick,

```
...
FileNotFoundError: [Errno 2] No such file or directory: 'convert'
```

These aren't normal scenarios, but if there's no way to disable the check, the test suite can't crash whenever e.g. someone installs a broken tool in `/usr/local/bin`.



---

archive/issue_comments_539190.json:
```json
{
    "body": "Changed branch from **[u/gh-mwageringel/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/33167)** to **[u/slabbe/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33167)**",
    "created_at": "2022-01-27T08:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539190",
    "user": "https://github.com/seblabbe"
}
```

Changed branch from **[u/gh-mwageringel/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/33167)** to **[u/slabbe/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33167)**



---

archive/issue_comments_539191.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nI am now wondering if it should be a join feature instead.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffe23f9485adf2aff8636345f00182ef06331803\">ffe23f9</a></td><td><code>33167: adding a second check in lrs feature is_functional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/986ed5305d3b0827da4c6699928fae87a706ae5c\">986ed53</a></td><td><code>33167: simplification of check #1 in is_functional method of lrs feature</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab57121e38ec952845da6f1d0c953001389d4883\">ab57121</a></td><td><code>33167: avoid printing of output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fe547b032eca2f7693e322f69546a9d17ac0be3\">0fe547b</a></td><td><code>33167: remove check for gmp/flint in lrslib's m4 file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f42ade04a608cfad16cfee749e1672f65eff523c\">f42ade0</a></td><td><code>33231: add try except clause to catch OSError during run</code></td></tr></table>\n",
    "created_at": "2022-01-27T08:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539191",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:19" align="right">Comment 19</div>

I am now wondering if it should be a join feature instead.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffe23f9485adf2aff8636345f00182ef06331803">ffe23f9</a></td><td><code>33167: adding a second check in lrs feature is_functional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/986ed5305d3b0827da4c6699928fae87a706ae5c">986ed53</a></td><td><code>33167: simplification of check #1 in is_functional method of lrs feature</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab57121e38ec952845da6f1d0c953001389d4883">ab57121</a></td><td><code>33167: avoid printing of output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fe547b032eca2f7693e322f69546a9d17ac0be3">0fe547b</a></td><td><code>33167: remove check for gmp/flint in lrslib's m4 file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f42ade04a608cfad16cfee749e1672f65eff523c">f42ade0</a></td><td><code>33231: add try except clause to catch OSError during run</code></td></tr></table>




---

archive/issue_comments_539192.json:
```json
{
    "body": "Changed commit from **[bb047c7](https://github.com/sagemath/sagetrac-mirror/commit/bb047c7da865cb8c96116ad290c5aa1681d80d23)** to **[f42ade0](https://github.com/sagemath/sagetrac-mirror/commit/f42ade04a608cfad16cfee749e1672f65eff523c)**",
    "created_at": "2022-01-27T08:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539192",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[bb047c7](https://github.com/sagemath/sagetrac-mirror/commit/bb047c7da865cb8c96116ad290c5aa1681d80d23)** to **[f42ade0](https://github.com/sagemath/sagetrac-mirror/commit/f42ade04a608cfad16cfee749e1672f65eff523c)**



---

archive/issue_comments_539193.json:
```json
{
    "body": "Changed commit from **[f42ade0](https://github.com/sagemath/sagetrac-mirror/commit/f42ade04a608cfad16cfee749e1672f65eff523c)** to **[1d38000](https://github.com/sagemath/sagetrac-mirror/commit/1d38000cf382bf15d214990fb5f40ca763f2c450)**",
    "created_at": "2022-01-27T14:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539193",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f42ade0](https://github.com/sagemath/sagetrac-mirror/commit/f42ade04a608cfad16cfee749e1672f65eff523c)** to **[1d38000](https://github.com/sagemath/sagetrac-mirror/commit/1d38000cf382bf15d214990fb5f40ca763f2c450)**



---

archive/issue_comments_539194.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d38000cf382bf15d214990fb5f40ca763f2c450\">1d38000</a></td><td><code>33167: add try except clause to catch OSError during run</code></td></tr></table>\n",
    "created_at": "2022-01-27T14:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539194",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20" align="right">Comment 20</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d38000cf382bf15d214990fb5f40ca763f2c450">1d38000</a></td><td><code>33167: add try except clause to catch OSError during run</code></td></tr></table>




---

archive/issue_comments_539195.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nI made an error in the commit message. I just force-pushed the last commit.",
    "created_at": "2022-01-27T14:10:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539195",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:21" align="right">Comment 21</div>

I made an error in the commit message. I just force-pushed the last commit.



---

archive/issue_comments_539196.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nSet milestone to sage-9.6 after Sage 9.5 release.",
    "created_at": "2022-01-30T15:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539196",
    "user": "https://github.com/slel"
}
```

<div id="comment:22" align="right">Comment 22</div>

Set milestone to sage-9.6 after Sage 9.5 release.



---

archive/issue_events_438085.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-30T15:44:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438085"
}
```



---

archive/issue_events_438086.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-30T15:44:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438086"
}
```



---

archive/issue_events_438087.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-03T00:43:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438087"
}
```



---

archive/issue_events_438088.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-03T00:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438088"
}
```



---

archive/issue_comments_539197.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nReplying to [@mwageringel](#comment%3A13):\n> Replying to [@orlitzky](#comment%3A12):\n> > Replying to [@mwageringel](#comment%3A11):\n> > This is probably a mistake in the `spkg-configure.m4` for lrslib. If all we do is run the executables from lrslib, we don't care if they're linked to a mismatched version of flint/gmp.\n\n> \n> Yes, this seems to be the case. I have removed the check for gmp/flint from the .m4 file. \n\nI don't like this change. `polymake` does using lrslib as a library. This is why we need the DEPCHECK.",
    "created_at": "2022-02-03T00:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539197",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">Comment 23</div>

Replying to [@mwageringel](#comment%3A13):
> Replying to [@orlitzky](#comment%3A12):
> > Replying to [@mwageringel](#comment%3A11):
> > This is probably a mistake in the `spkg-configure.m4` for lrslib. If all we do is run the executables from lrslib, we don't care if they're linked to a mismatched version of flint/gmp.

> 
> Yes, this seems to be the case. I have removed the check for gmp/flint from the .m4 file. 

I don't like this change. `polymake` does using lrslib as a library. This is why we need the DEPCHECK.



---

archive/issue_comments_539198.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@mkoeppe](#comment%3A23):\n> > \n> > Yes, this seems to be the case. I have removed the check for gmp/flint from the .m4 file. \n\n> \n> I don't like this change. `polymake` does using lrslib as a library. This is why we need the DEPCHECK.\n> \n\nDo we link against polymake?",
    "created_at": "2022-02-03T01:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539198",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@mkoeppe](#comment%3A23):
> > 
> > Yes, this seems to be the case. I have removed the check for gmp/flint from the .m4 file. 

> 
> I don't like this change. `polymake` does using lrslib as a library. This is why we need the DEPCHECK.
> 

Do we link against polymake?



---

archive/issue_comments_539199.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nYes",
    "created_at": "2022-02-03T01:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539199",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">Comment 25</div>

Yes



---

archive/issue_comments_539200.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nOk, I guess put it back then. A comment would be nice too. We can't expect people to be aware of all second-order optional reverse dependencies when reading these files.",
    "created_at": "2022-02-03T01:39:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539200",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:26" align="right">Comment 26</div>

Ok, I guess put it back then. A comment would be nice too. We can't expect people to be aware of all second-order optional reverse dependencies when reading these files.



---

archive/issue_comments_539201.json:
```json
{
    "body": "Changed branch from **[u/slabbe/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33167)** to **[u/gh-mwageringel/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/33167)**",
    "created_at": "2022-02-03T08:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539201",
    "user": "https://github.com/mwageringel"
}
```

Changed branch from **[u/slabbe/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33167)** to **[u/gh-mwageringel/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/33167)**



---

archive/issue_comments_539202.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nReplying to [@orlitzky](#comment%3A26):\n> Ok, I guess put it back then. A comment would be nice too.\n\nI have removed the respective commit from the branch and added a comment instead in the last commit.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed2a3d4d17e004d5f2ebc40d64f8f5c74e7628f1\">ed2a3d4</a></td><td><code>33167: add try except clause to catch OSError during run</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5\">16e1b24</a></td><td><code>33167: add comment about polymake's use of lrslib</code></td></tr></table>\n",
    "created_at": "2022-02-03T08:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539202",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:27" align="right">Comment 27</div>

Replying to [@orlitzky](#comment%3A26):
> Ok, I guess put it back then. A comment would be nice too.

I have removed the respective commit from the branch and added a comment instead in the last commit.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed2a3d4d17e004d5f2ebc40d64f8f5c74e7628f1">ed2a3d4</a></td><td><code>33167: add try except clause to catch OSError during run</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5">16e1b24</a></td><td><code>33167: add comment about polymake's use of lrslib</code></td></tr></table>




---

archive/issue_comments_539203.json:
```json
{
    "body": "Changed commit from **[1d38000](https://github.com/sagemath/sagetrac-mirror/commit/1d38000cf382bf15d214990fb5f40ca763f2c450)** to **[16e1b24](https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5)**",
    "created_at": "2022-02-03T08:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539203",
    "user": "https://github.com/mwageringel"
}
```

Changed commit from **[1d38000](https://github.com/sagemath/sagetrac-mirror/commit/1d38000cf382bf15d214990fb5f40ca763f2c450)** to **[16e1b24](https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5)**



---

archive/issue_events_438089.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2022-02-03T08:34:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438089"
}
```



---

archive/issue_events_438090.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2022-02-03T08:34:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438090"
}
```



---

archive/issue_comments_539204.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,4 +15,4 @@\n \n In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, then it is not picked up by sagemath at runtime or during doctests.\n \n-Additionally, we remove the check for gmp/flint from the `spkg-configure.m4` for lrslib, as Sage only uses the lrs and lrsnash binaries.\n+\n``````\n",
    "created_at": "2022-02-03T17:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539204",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,4 +15,4 @@
 
 In this ticket, we add to the `is_functional` method a check corresponding to the check made in `build/pkgs/lrslib/spkg-configure.m4` so that if `lrslib` is not picked up by sagemath at configuration/build time, then it is not picked up by sagemath at runtime or during doctests.
 
-Additionally, we remove the check for gmp/flint from the `spkg-configure.m4` for lrslib, as Sage only uses the lrs and lrsnash binaries.
+
``````




---

archive/issue_events_438091.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-03T17:59:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438091"
}
```



---

archive/issue_events_438092.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-03T17:59:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438092"
}
```



---

archive/issue_comments_539205.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2022-02-03T17:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539205",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_comments_539206.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nThanks.",
    "created_at": "2022-02-05T12:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539206",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:30" align="right">Comment 30</div>

Thanks.



---

archive/issue_events_438093.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-13T10:17:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438093"
}
```



---

archive/issue_events_438094.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "14f11b0e96e52397f490089d5d20b8916d9f2595",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-02-13T10:17:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33167#event-438094"
}
```



---

archive/issue_comments_539207.json:
```json
{
    "body": "Changed branch from **[u/gh-mwageringel/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/33167)** to **[16e1b24](https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5)**",
    "created_at": "2022-02-13T10:17:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539207",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-mwageringel/33167](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/33167)** to **[16e1b24](https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5)**



---

archive/issue_comments_539208.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nFollow-up: #33466",
    "created_at": "2022-03-05T20:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539208",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">Comment 32</div>

Follow-up: #33466



---

archive/issue_comments_539209.json:
```json
{
    "body": "Changed commit from **[16e1b24](https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5)** to none",
    "created_at": "2022-03-05T20:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33167",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33167#issuecomment-539209",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[16e1b24](https://github.com/sagemath/sagetrac-mirror/commit/16e1b241bff8e0485f773c7b420fd7b2fc4defa5)** to none
