# Issue 33345: configure --with-system-standard-packages={force,yes,no}

archive/issues_033108.json:
```json
{
    "body": "This new option sets a default for `--with-system-...` for all standard packages that have this configure option (except for `gcc`, which has its own special default).\n\nThe default is unchanged and corresponds to the option value `yes`.\n\nTo build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`\n\nTo require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)\n\nThe defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:\n\n```\n  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n```\n\nWe also simplify `tox.ini` and `build/bin/write-dockerfile.sh` by removing code that generated long lists of `--with-system-...` options. It is no longer needed.\n\nCC:  @dimpase @jhpalmieri @tobiasdiez @seblabbe @slel\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/configure___with_system_standard_packages__force_yes_no_\n\nStatus: needs_work\n\nDependencies: #29114\n\nCommit: 106c7ac44e0c3a4b5c1a85c58cca417c68cb4402\n\nIssue created by migration from https://trac.sagemath.org/ticket/33345\n\n",
    "created_at": "2022-02-15T00:52:41Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "configure --with-system-standard-packages={force,yes,no}",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33345",
    "user": "https://github.com/mkoeppe"
}
```
This new option sets a default for `--with-system-...` for all standard packages that have this configure option (except for `gcc`, which has its own special default).

The default is unchanged and corresponds to the option value `yes`.

To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`

To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)

The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:

```
  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
```

We also simplify `tox.ini` and `build/bin/write-dockerfile.sh` by removing code that generated long lists of `--with-system-...` options. It is no longer needed.

CC:  @dimpase @jhpalmieri @tobiasdiez @seblabbe @slel

Author: Matthias Koeppe

Branch: u/mkoeppe/configure___with_system_standard_packages__force_yes_no_

Status: needs_work

Dependencies: #29114

Commit: 106c7ac44e0c3a4b5c1a85c58cca417c68cb4402

Issue created by migration from https://trac.sagemath.org/ticket/33345





---

archive/issue_comments_503988.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,18 @@\n This new option sets a default for all standard packages.\n+\n+The default is unchanged and corresponds to the option value `yes`.\n \n To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`.\n \n To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n+\n \n Author: Matthias Koeppe\n \n``````\n",
    "created_at": "2022-02-15T01:02:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503988",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,18 @@
 This new option sets a default for all standard packages.
+
+The default is unchanged and corresponds to the option value `yes`.
 
 To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`.
 
 To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
+
 
 Author: Matthias Koeppe
 
``````




---

archive/issue_comments_503989.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2022-02-15T01:02:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503989",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_503990.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-02-15T01:11:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503990",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_503991.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This new option sets a default for all standard packages.\n+\n+The default is unchanged and corresponds to the option value `yes`.\n+\n+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`.\n+\n+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages are usable.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n \n \n Author: Matthias Koeppe\n``````\n",
    "created_at": "2022-02-15T01:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503991",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This new option sets a default for all standard packages.
+
+The default is unchanged and corresponds to the option value `yes`.
+
+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`.
+
+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages are usable.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
 
 
 Author: Matthias Koeppe
``````




---

archive/issue_comments_503992.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This new option sets a default for all standard packages.\n+\n+The default is unchanged and corresponds to the option value `yes`.\n+\n+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`.\n+\n+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with spkg-`configure.m4`) are usable.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n \n \n Author: Matthias Koeppe\n``````\n",
    "created_at": "2022-02-15T01:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503992",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This new option sets a default for all standard packages.
+
+The default is unchanged and corresponds to the option value `yes`.
+
+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`.
+
+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with spkg-`configure.m4`) are usable.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
 
 
 Author: Matthias Koeppe
``````




---

archive/issue_comments_503993.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-15T01:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503993",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_503994.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This new option sets a default for all standard packages.\n+\n+The default is unchanged and corresponds to the option value `yes`.\n+\n+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`\n+\n+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with spkg-`configure.m4`) are usable.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n \n \n Author: Matthias Koeppe\n``````\n",
    "created_at": "2022-02-15T01:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503994",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This new option sets a default for all standard packages.
+
+The default is unchanged and corresponds to the option value `yes`.
+
+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`
+
+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with spkg-`configure.m4`) are usable.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
 
 
 Author: Matthias Koeppe
``````




---

archive/issue_comments_503995.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This new option sets a default for `--with-system-...` for all standard packages.\n+\n+The default is unchanged and corresponds to the option value `yes`.\n+\n+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`\n+\n+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with spkg-`configure.m4`) are usable.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n \n \n Author: Matthias Koeppe\n``````\n",
    "created_at": "2022-02-15T01:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503995",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This new option sets a default for `--with-system-...` for all standard packages.
+
+The default is unchanged and corresponds to the option value `yes`.
+
+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`
+
+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with spkg-`configure.m4`) are usable.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
 
 
 Author: Matthias Koeppe
``````




---

archive/issue_comments_503996.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-15T02:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503996",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_503997.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-15T04:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503997",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_503998.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-15T04:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503998",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_503999.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This new option sets a default for `--with-system-...` for all standard packages.\n+\n+The default is unchanged and corresponds to the option value `yes`.\n+\n+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`\n+\n+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n \n \n Author: Matthias Koeppe\n``````\n",
    "created_at": "2022-02-15T04:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-503999",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This new option sets a default for `--with-system-...` for all standard packages.
+
+The default is unchanged and corresponds to the option value `yes`.
+
+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`
+
+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
 
 
 Author: Matthias Koeppe
``````




---

archive/issue_comments_504000.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-15T05:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504000",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504001.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+This new option sets a default for `--with-system-...` for all standard packages.\n \n+The default is unchanged and corresponds to the option value `yes`.\n+\n+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`\n+\n+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n+We also simplify `tox.ini` and `build/bin/write-dockerfile.sh` by removing code that generated long lists of `--with-system-...` options. It is no longer needed.\n \n Author: Matthias Koeppe\n \n``````\n",
    "created_at": "2022-02-15T05:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504001",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,18 @@
+This new option sets a default for `--with-system-...` for all standard packages.
 
+The default is unchanged and corresponds to the option value `yes`.
+
+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`
+
+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
+We also simplify `tox.ini` and `build/bin/write-dockerfile.sh` by removing code that generated long lists of `--with-system-...` options. It is no longer needed.
 
 Author: Matthias Koeppe
 
``````




---

archive/issue_comments_504002.json:
```json
{
    "body": "<a id='comment:14'></a>Just to clarify, is this for all standard packages, including these without `spkg-configure.m4` ?",
    "created_at": "2022-02-15T06:15:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504002",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>Just to clarify, is this for all standard packages, including these without `spkg-configure.m4` ?



---

archive/issue_comments_504003.json:
```json
{
    "body": "<a id='comment:15'></a>Only for those standard packages for which the option `--with-system-...` exists, i.e., the ones with `spkg-configure.m4`.",
    "created_at": "2022-02-15T06:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504003",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>Only for those standard packages for which the option `--with-system-...` exists, i.e., the ones with `spkg-configure.m4`.



---

archive/issue_comments_504004.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+This new option sets a default for `--with-system-...` for all standard packages that have this configure option.\n \n+The default is unchanged and corresponds to the option value `yes`.\n+\n+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`\n+\n+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n+We also simplify `tox.ini` and `build/bin/write-dockerfile.sh` by removing code that generated long lists of `--with-system-...` options. It is no longer needed.\n \n Author: Matthias Koeppe\n \n``````\n",
    "created_at": "2022-02-15T06:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504004",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,18 @@
+This new option sets a default for `--with-system-...` for all standard packages that have this configure option.
 
+The default is unchanged and corresponds to the option value `yes`.
+
+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`
+
+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
+We also simplify `tox.ini` and `build/bin/write-dockerfile.sh` by removing code that generated long lists of `--with-system-...` options. It is no longer needed.
 
 Author: Matthias Koeppe
 
``````




---

archive/issue_comments_504005.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+This new option sets a default for `--with-system-...` for all standard packages that have this configure option (except for `gcc`, which has its own special default).\n \n+The default is unchanged and corresponds to the option value `yes`.\n+\n+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`\n+\n+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS=\"--prefix=/opt/conda --with-system-standard-packages=force\" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)\n+\n+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:\n+\n+```\n+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes \n+```\n+\n+We also simplify `tox.ini` and `build/bin/write-dockerfile.sh` by removing code that generated long lists of `--with-system-...` options. It is no longer needed.\n \n Author: Matthias Koeppe\n \n``````\n",
    "created_at": "2022-02-15T06:34:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504005",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,18 @@
+This new option sets a default for `--with-system-...` for all standard packages that have this configure option (except for `gcc`, which has its own special default).
 
+The default is unchanged and corresponds to the option value `yes`.
+
+To build all standard packages (except gcc) from SPKG, use `configure --with-system-standard-packages=no`. This is a quick way to build a vanilla Sage, much shorter than using `configure --with-system-openblas=no --with-system-gfan=no --with-system-gmp=no ...........`
+
+To require all standard packages to be present in the system, use `configure --with-system-standard-packages=force`. (This is for #30845: For example, `EXTRA_CONFIGURE_ARGS="--prefix=/opt/conda --with-system-standard-packages=force" tox -e docker-conda-forge-standard -- config.status` will test that conda packages for all standard packages (with `spkg-configure.m4`) are usable.)
+
+The defaults set with the new option can be overridden by `--with-system-...` options for individual packages. The order in which these options appear on the command line does not matter. For example:
+
+```
+  ./configure --with-system-palp=no --with-system-standard-packages=force --with-system-pari=yes 
+```
+
+We also simplify `tox.ini` and `build/bin/write-dockerfile.sh` by removing code that generated long lists of `--with-system-...` options. It is no longer needed.
 
 Author: Matthias Koeppe
 
``````




---

archive/issue_comments_504006.json:
```json
{
    "body": "<a id='comment:20'></a>I guess this isn't really a question for this ticket; if you know of a better place, please point me there, but anyway: when I run `./configure --help`, I see\n\n```\n...\nOptional Features:\n...\n  --enable-bliss={no|if_installed (default)|yes}\n                          enable build and use of the optional package bliss: Computing\n                          automorphism groups and canonical forms of graphs\n                          * package info: ./sage -info bliss\n  --disable-bliss         disable build and uninstall if previously installed by Sage in PREFIX;\n                          same as --enable-bliss=no\n...\n  --enable-sagemath_objects={no|if_installed (default)|yes}\n                          enable build and use of the experimental package\n                          ============================================================================================================\n                          * package info: ./sage -info sagemath_objects\n...\nOptional Packages:\n...\n  --with-system-brial={no|yes (default)|force (exit with an error if no usable version is found)}\n                          detect and use an existing system brial\n...\n```\nI guess I have more than one question:\n- `bliss`, for example, is an optional package, but it's listed in the \"Optional Features\" section of the help message. Why?\n- What's up with all of the \"=\" in `--enable-sagemath-objects`?\n- `brial`, for example, is a standard package but it's listed in the \"Optional Packages\" section. Why?\n\nI noticed this when looking at the help message for `--with-system-standard-packages`, which says \"default setting for all standard package except gcc\". This doesn't sound quite right to me. Maybe \"provide default setting for ...\"?\n\nThis is all pretty low priority because I don't know if anyone actually looks at this help message in any detail; I tend to do `./configure --help | grep <whatever>`, so I miss the organizational scheme anyway.",
    "created_at": "2022-02-16T18:27:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504006",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'></a>I guess this isn't really a question for this ticket; if you know of a better place, please point me there, but anyway: when I run `./configure --help`, I see

```
...
Optional Features:
...
  --enable-bliss={no|if_installed (default)|yes}
                          enable build and use of the optional package bliss: Computing
                          automorphism groups and canonical forms of graphs
                          * package info: ./sage -info bliss
  --disable-bliss         disable build and uninstall if previously installed by Sage in PREFIX;
                          same as --enable-bliss=no
...
  --enable-sagemath_objects={no|if_installed (default)|yes}
                          enable build and use of the experimental package
                          ============================================================================================================
                          * package info: ./sage -info sagemath_objects
...
Optional Packages:
...
  --with-system-brial={no|yes (default)|force (exit with an error if no usable version is found)}
                          detect and use an existing system brial
...
```
I guess I have more than one question:
- `bliss`, for example, is an optional package, but it's listed in the "Optional Features" section of the help message. Why?
- What's up with all of the "=" in `--enable-sagemath-objects`?
- `brial`, for example, is a standard package but it's listed in the "Optional Packages" section. Why?

I noticed this when looking at the help message for `--with-system-standard-packages`, which says "default setting for all standard package except gcc". This doesn't sound quite right to me. Maybe "provide default setting for ..."?

This is all pretty low priority because I don't know if anyone actually looks at this help message in any detail; I tend to do `./configure --help | grep <whatever>`, so I miss the organizational scheme anyway.



---

archive/issue_comments_504007.json:
```json
{
    "body": "<a id='comment:21'></a>\"Optional Features\" is just autoconf's section for all `--enable/disable` options\nand \"Optional Packages\" is the section for all `--with` options. This cannot be changed.",
    "created_at": "2022-02-16T18:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504007",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>"Optional Features" is just autoconf's section for all `--enable/disable` options
and "Optional Packages" is the section for all `--with` options. This cannot be changed.



---

archive/issue_comments_504008.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-16T18:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504008",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504009.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-16T18:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_504010.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:20 jhpalmieri]:\n> - What's up with all of the \"=\" in `--enable-sagemath-objects`?\n\n\nThanks for spotting this, fixed now",
    "created_at": "2022-02-16T18:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504010",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>Replying to [comment:20 jhpalmieri]:
> - What's up with all of the "=" in `--enable-sagemath-objects`?


Thanks for spotting this, fixed now



---

archive/issue_comments_504011.json:
```json
{
    "body": "<a id='comment:25'></a>Maybe I don't understand what this is supposed to do. I did `brew uninstall singular` and then `./configure --with-system-standard-packages=force`. I didn't get an error (or if so it wasn't obvious, and `echo $?` returned 0), but instead the usual message:\n\n```\nchecking for the package system in use... homebrew\nconfigure:\n\n    hint: installing the following system packages, if not\n    already present, is recommended and may avoid having to\n    build them (though some may have to be built anyway):\n\n      $ brew install singular\n```\nSame if I do `brew uninstall cmake`.",
    "created_at": "2022-02-16T19:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504011",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:25'></a>Maybe I don't understand what this is supposed to do. I did `brew uninstall singular` and then `./configure --with-system-standard-packages=force`. I didn't get an error (or if so it wasn't obvious, and `echo $?` returned 0), but instead the usual message:

```
checking for the package system in use... homebrew
configure:

    hint: installing the following system packages, if not
    already present, is recommended and may avoid having to
    build them (though some may have to be built anyway):

      $ brew install singular
```
Same if I do `brew uninstall cmake`.



---

archive/issue_comments_504012.json:
```json
{
    "body": "<a id='comment:26'></a>`config.log` please",
    "created_at": "2022-02-16T19:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504012",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>`config.log` please



---

archive/issue_comments_504013.json:
```json
{
    "body": "Attachment [config.log](tarball://root/attachments/some-uuid/ticket33345/config.log) by @jhpalmieri created at 2022-02-16 19:58:59",
    "created_at": "2022-02-16T19:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504013",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [config.log](tarball://root/attachments/some-uuid/ticket33345/config.log) by @jhpalmieri created at 2022-02-16 19:58:59



---

archive/issue_comments_504014.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:25 jhpalmieri]:\n> Same if I do `brew uninstall cmake`.\n\n\nIndeed, when I try this here, I see\n\n```\ncmake-3.21.0:                                no suitable system package; this is an error\n```\nbut no error is actually issued. I'll fix this.",
    "created_at": "2022-02-16T20:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504014",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>Replying to [comment:25 jhpalmieri]:
> Same if I do `brew uninstall cmake`.


Indeed, when I try this here, I see

```
cmake-3.21.0:                                no suitable system package; this is an error
```
but no error is actually issued. I'll fix this.



---

archive/issue_comments_504015.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-16T20:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504015",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_504016.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-02-18T05:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33345#issuecomment-504016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_events_087983.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-15T21:12:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33345#event-87983"
}
```



---

archive/issue_events_087984.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33345#event-87984"
}
```



---

archive/issue_events_087985.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33345",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33345#event-87985"
}
```
