# Issue 33852: bootstrap, src/doc/Makefile: Remove use of the SAGE_ROOT/sage script

archive/issues_033615.json:
```json
{
    "body": "We change the `bootstrap` scripts so that they invoke `build/bin/sage-package` directly instead of going through the `SAGE_ROOT/sage` script.\n\nThis is faster and also more robust because it separates build phases better by eliminating the (unnecessary) use of `configure`-generated files such as `src/bin/sage-src-env-config`.\n\nWe also move the generation of `src/doc/en/reference/repl/options.txt` (by calling `sage -advanced`) from bootstrap time to `src/doc/Makefile`. The information displayed there depends on what packages are installed, so running it at bootstrap time was not correct.\n\n\nDepends on #33740\n\n**CC:**  @jhpalmieri @tobiasdiez @orlitzky @dimpase @kiwifb\n\n**Branch/Commit:** [67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)\n\n**Reviewer:** John Palmieri, Fran\u00e7ois Bissey\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/33852\n\n",
    "closed_at": "2022-06-06T21:24:19Z",
    "created_at": "2022-05-14T21:05:12Z",
    "labels": [
        "component: scripts",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "title": "bootstrap, src/doc/Makefile: Remove use of the SAGE_ROOT/sage script",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/33852",
    "user": "https://github.com/mkoeppe"
}
```
We change the `bootstrap` scripts so that they invoke `build/bin/sage-package` directly instead of going through the `SAGE_ROOT/sage` script.

This is faster and also more robust because it separates build phases better by eliminating the (unnecessary) use of `configure`-generated files such as `src/bin/sage-src-env-config`.

We also move the generation of `src/doc/en/reference/repl/options.txt` (by calling `sage -advanced`) from bootstrap time to `src/doc/Makefile`. The information displayed there depends on what packages are installed, so running it at bootstrap time was not correct.


Depends on #33740

**CC:**  @jhpalmieri @tobiasdiez @orlitzky @dimpase @kiwifb

**Branch/Commit:** [67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)

**Reviewer:** John Palmieri, François Bissey

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/33852





---

archive/issue_comments_550080.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/bootstrap__remove_use_of_the_sage_root_sage_script](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/bootstrap__remove_use_of_the_sage_root_sage_script)",
    "created_at": "2022-05-14T21:08:41Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550080",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/bootstrap__remove_use_of_the_sage_root_sage_script](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/bootstrap__remove_use_of_the_sage_root_sage_script)



---

archive/issue_events_302449.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-14T21:13:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "rename": {
        "from": "bootstrap: Remove use of the SAGE_ROOT/sage script",
        "to": "bootstrap, src/doc/Makefile: Remove use of the SAGE_ROOT/sage script"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33852#event-302449"
}
```



---

archive/issue_comments_550081.json:
```json
{
    "body": "**Commit:** [ccbc21ad139c604078e2066bd9d34d514072eade](https://github.com/sagemath/sagetrac-mirror/commit/ccbc21ad139c604078e2066bd9d34d514072eade)",
    "created_at": "2022-05-14T21:13:56Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550081",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [ccbc21ad139c604078e2066bd9d34d514072eade](https://github.com/sagemath/sagetrac-mirror/commit/ccbc21ad139c604078e2066bd9d34d514072eade)



---

archive/issue_comments_550082.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10338a76ce5812db62f4ac72a17e6c6330f1fb8c\">10338a7</a></td><td><code>Change ci as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cf7334736fa9ec9fb2af8099722767fea2bdc0d\">0cf7334</a></td><td><code>Add sage-setup as install-requires dep</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d2b14978335da5bfd8148266183a8abd5f32cce\">6d2b149</a></td><td><code>Use relative paths to not install src package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dba3ba01d15153940f310a9e1c427f00d4460d6\">1dba3ba</a></td><td><code>Maybe thats the correct shebang?</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1b2fbf6b82fb388cbb143453b2eeaa428b604ff\">c1b2fbf</a></td><td><code>Revert install_requires change</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad56ba3dab303edea7cdd2d449c69feaaf624beb\">ad56ba3</a></td><td><code>Go back to two pip installs for now</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b42f5f51e716d6d01cb491699220ba42c674cd5c\">b42f5f5</a></td><td><code>Readd how to use specific python version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87f360ca7a4703b6c45ad3427363ccf4ae531b2c\">87f360c</a></td><td><code>Readd name arg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/765dff791ee25f1e985e22582a2fafe6f354abba\">765dff7</a></td><td><code>Merge #33740</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccbc21ad139c604078e2066bd9d34d514072eade\">ccbc21a</a></td><td><code>bootstrap, bootstrap-conda, src/doc/bootstrap: Use build/bin/sage-package directly</code></td></tr></table>\n",
    "created_at": "2022-05-14T21:13:56Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550082",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10338a76ce5812db62f4ac72a17e6c6330f1fb8c">10338a7</a></td><td><code>Change ci as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cf7334736fa9ec9fb2af8099722767fea2bdc0d">0cf7334</a></td><td><code>Add sage-setup as install-requires dep</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d2b14978335da5bfd8148266183a8abd5f32cce">6d2b149</a></td><td><code>Use relative paths to not install src package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dba3ba01d15153940f310a9e1c427f00d4460d6">1dba3ba</a></td><td><code>Maybe thats the correct shebang?</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1b2fbf6b82fb388cbb143453b2eeaa428b604ff">c1b2fbf</a></td><td><code>Revert install_requires change</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad56ba3dab303edea7cdd2d449c69feaaf624beb">ad56ba3</a></td><td><code>Go back to two pip installs for now</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b42f5f51e716d6d01cb491699220ba42c674cd5c">b42f5f5</a></td><td><code>Readd how to use specific python version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87f360ca7a4703b6c45ad3427363ccf4ae531b2c">87f360c</a></td><td><code>Readd name arg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/765dff791ee25f1e985e22582a2fafe6f354abba">765dff7</a></td><td><code>Merge #33740</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccbc21ad139c604078e2066bd9d34d514072eade">ccbc21a</a></td><td><code>bootstrap, bootstrap-conda, src/doc/bootstrap: Use build/bin/sage-package directly</code></td></tr></table>




---

archive/issue_comments_550083.json:
```json
{
    "body": "**Changing commit** from \"[ccbc21ad139c604078e2066bd9d34d514072eade](https://github.com/sagemath/sagetrac-mirror/commit/ccbc21ad139c604078e2066bd9d34d514072eade)\" to \"[45608952c47f3a9bd406299958a130e8612a26d6](https://github.com/sagemath/sagetrac-mirror/commit/45608952c47f3a9bd406299958a130e8612a26d6)\".",
    "created_at": "2022-05-14T21:23:50Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ccbc21ad139c604078e2066bd9d34d514072eade](https://github.com/sagemath/sagetrac-mirror/commit/ccbc21ad139c604078e2066bd9d34d514072eade)" to "[45608952c47f3a9bd406299958a130e8612a26d6](https://github.com/sagemath/sagetrac-mirror/commit/45608952c47f3a9bd406299958a130e8612a26d6)".



---

archive/issue_comments_550084.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45608952c47f3a9bd406299958a130e8612a26d6\">4560895</a></td><td><code>src/doc/Makefile: Remove explicit use of SAGE_ROOT and the top-level sage script</code></td></tr></table>\n",
    "created_at": "2022-05-14T21:23:50Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45608952c47f3a9bd406299958a130e8612a26d6">4560895</a></td><td><code>src/doc/Makefile: Remove explicit use of SAGE_ROOT and the top-level sage script</code></td></tr></table>




---

archive/issue_comments_550085.json:
```json
{
    "body": "**Changing commit** from \"[45608952c47f3a9bd406299958a130e8612a26d6](https://github.com/sagemath/sagetrac-mirror/commit/45608952c47f3a9bd406299958a130e8612a26d6)\" to \"[7759f3c23b07b56897a691baf57e6f00b98d78b6](https://github.com/sagemath/sagetrac-mirror/commit/7759f3c23b07b56897a691baf57e6f00b98d78b6)\".",
    "created_at": "2022-05-14T21:37:04Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[45608952c47f3a9bd406299958a130e8612a26d6](https://github.com/sagemath/sagetrac-mirror/commit/45608952c47f3a9bd406299958a130e8612a26d6)" to "[7759f3c23b07b56897a691baf57e6f00b98d78b6](https://github.com/sagemath/sagetrac-mirror/commit/7759f3c23b07b56897a691baf57e6f00b98d78b6)".



---

archive/issue_comments_550086.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7759f3c23b07b56897a691baf57e6f00b98d78b6\">7759f3c</a></td><td><code>Generate en/reference/repl/options.txt at build time, not bootstrap time</code></td></tr></table>\n",
    "created_at": "2022-05-14T21:37:04Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7759f3c23b07b56897a691baf57e6f00b98d78b6">7759f3c</a></td><td><code>Generate en/reference/repl/options.txt at build time, not bootstrap time</code></td></tr></table>




---

archive/issue_comments_550087.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,3 +2,5 @@\n \n This is faster and also more robust because it separates build phases better by eliminating the (unnecessary) use of `configure`-generated files such as `src/bin/sage-src-env-config`.\n \n+We also move the generation of `src/doc/en/reference/repl/options.txt` (by calling `sage -advanced`) from bootstrap time to `src/doc/Makefile`. The information displayed there depends on what packages are installed, so running it at bootstrap time was not correct.\n+\n``````\n",
    "created_at": "2022-05-14T21:39:35Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550087",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,3 +2,5 @@
 
 This is faster and also more robust because it separates build phases better by eliminating the (unnecessary) use of `configure`-generated files such as `src/bin/sage-src-env-config`.
 
+We also move the generation of `src/doc/en/reference/repl/options.txt` (by calling `sage -advanced`) from bootstrap time to `src/doc/Makefile`. The information displayed there depends on what packages are installed, so running it at bootstrap time was not correct.
+
``````




---

archive/issue_events_302450.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-14T21:39:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33852#event-302450"
}
```



---

archive/issue_comments_550088.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70\">67c8238</a></td><td><code>src/bin/sage: Print error to error output</code></td></tr></table>\n",
    "created_at": "2022-05-15T00:46:20Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70">67c8238</a></td><td><code>src/bin/sage: Print error to error output</code></td></tr></table>




---

archive/issue_comments_550089.json:
```json
{
    "body": "**Changing commit** from \"[7759f3c23b07b56897a691baf57e6f00b98d78b6](https://github.com/sagemath/sagetrac-mirror/commit/7759f3c23b07b56897a691baf57e6f00b98d78b6)\" to \"[67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)\".",
    "created_at": "2022-05-15T00:46:20Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7759f3c23b07b56897a691baf57e6f00b98d78b6](https://github.com/sagemath/sagetrac-mirror/commit/7759f3c23b07b56897a691baf57e6f00b98d78b6)" to "[67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)".



---

archive/issue_comments_550090.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[c671cbb](https://github.com/sagemath/sagetrac-mirror/commit/c671cbbff537e87d4beb23e9a5dc48cb8ed10ca6)</td><td><code>`m4/sage_spkg_collect.m4: Read files dependencies_{optional,order_only,check`}</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f3a296b4ea236f075c6c014eceb8941ea93c3aa\">9f3a296</a></td><td><code>build/pkgs: Split dependencies_optional and dependencies_check out from dependencies</code></td></tr></table>\n",
    "created_at": "2022-05-15T02:39:07Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[c671cbb](https://github.com/sagemath/sagetrac-mirror/commit/c671cbbff537e87d4beb23e9a5dc48cb8ed10ca6)</td><td><code>`m4/sage_spkg_collect.m4: Read files dependencies_{optional,order_only,check`}</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f3a296b4ea236f075c6c014eceb8941ea93c3aa">9f3a296</a></td><td><code>build/pkgs: Split dependencies_optional and dependencies_check out from dependencies</code></td></tr></table>




---

archive/issue_comments_550091.json:
```json
{
    "body": "**Changing commit** from \"[67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)\" to \"[9f3a296b4ea236f075c6c014eceb8941ea93c3aa](https://github.com/sagemath/sagetrac-mirror/commit/9f3a296b4ea236f075c6c014eceb8941ea93c3aa)\".",
    "created_at": "2022-05-15T02:39:07Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)" to "[9f3a296b4ea236f075c6c014eceb8941ea93c3aa](https://github.com/sagemath/sagetrac-mirror/commit/9f3a296b4ea236f075c6c014eceb8941ea93c3aa)".



---

archive/issue_comments_550092.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46144d1ea4a5bd3d58c7cc150ff7c2c7c93335d9\">46144d1</a></td><td><code>build/bin/sage-spkg-info: Restore message '(none known)' for packages without system package info</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3faf0ab51ea5e686b2d01a346a9733b95ea80b8e\">3faf0ab</a></td><td><code>build/bin/sage-spkg-info: Format dependencies</code></td></tr></table>\n",
    "created_at": "2022-05-15T03:06:01Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46144d1ea4a5bd3d58c7cc150ff7c2c7c93335d9">46144d1</a></td><td><code>build/bin/sage-spkg-info: Restore message '(none known)' for packages without system package info</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3faf0ab51ea5e686b2d01a346a9733b95ea80b8e">3faf0ab</a></td><td><code>build/bin/sage-spkg-info: Format dependencies</code></td></tr></table>




---

archive/issue_comments_550093.json:
```json
{
    "body": "**Changing commit** from \"[9f3a296b4ea236f075c6c014eceb8941ea93c3aa](https://github.com/sagemath/sagetrac-mirror/commit/9f3a296b4ea236f075c6c014eceb8941ea93c3aa)\" to \"[3faf0ab51ea5e686b2d01a346a9733b95ea80b8e](https://github.com/sagemath/sagetrac-mirror/commit/3faf0ab51ea5e686b2d01a346a9733b95ea80b8e)\".",
    "created_at": "2022-05-15T03:06:01Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9f3a296b4ea236f075c6c014eceb8941ea93c3aa](https://github.com/sagemath/sagetrac-mirror/commit/9f3a296b4ea236f075c6c014eceb8941ea93c3aa)" to "[3faf0ab51ea5e686b2d01a346a9733b95ea80b8e](https://github.com/sagemath/sagetrac-mirror/commit/3faf0ab51ea5e686b2d01a346a9733b95ea80b8e)".



---

archive/issue_comments_550094.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/facb1fccd26c1749314e4106915b42be994e82c0\">facb1fc</a></td><td><code>build/bin/sage-spkg-info: Format dependencies</code></td></tr></table>\n",
    "created_at": "2022-05-15T03:23:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/facb1fccd26c1749314e4106915b42be994e82c0">facb1fc</a></td><td><code>build/bin/sage-spkg-info: Format dependencies</code></td></tr></table>




---

archive/issue_comments_550095.json:
```json
{
    "body": "**Changing commit** from \"[3faf0ab51ea5e686b2d01a346a9733b95ea80b8e](https://github.com/sagemath/sagetrac-mirror/commit/3faf0ab51ea5e686b2d01a346a9733b95ea80b8e)\" to \"[facb1fccd26c1749314e4106915b42be994e82c0](https://github.com/sagemath/sagetrac-mirror/commit/facb1fccd26c1749314e4106915b42be994e82c0)\".",
    "created_at": "2022-05-15T03:23:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3faf0ab51ea5e686b2d01a346a9733b95ea80b8e](https://github.com/sagemath/sagetrac-mirror/commit/3faf0ab51ea5e686b2d01a346a9733b95ea80b8e)" to "[facb1fccd26c1749314e4106915b42be994e82c0](https://github.com/sagemath/sagetrac-mirror/commit/facb1fccd26c1749314e4106915b42be994e82c0)".



---

archive/issue_comments_550096.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ab0814b63b4cf0aeb6641606f4e76631b5463c3\">8ab0814</a></td><td><code>build/pkgs/memory_allocator/SPKG.rst: Fix markup</code></td></tr></table>\n",
    "created_at": "2022-05-15T03:26:52Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ab0814b63b4cf0aeb6641606f4e76631b5463c3">8ab0814</a></td><td><code>build/pkgs/memory_allocator/SPKG.rst: Fix markup</code></td></tr></table>




---

archive/issue_comments_550097.json:
```json
{
    "body": "**Changing commit** from \"[facb1fccd26c1749314e4106915b42be994e82c0](https://github.com/sagemath/sagetrac-mirror/commit/facb1fccd26c1749314e4106915b42be994e82c0)\" to \"[8ab0814b63b4cf0aeb6641606f4e76631b5463c3](https://github.com/sagemath/sagetrac-mirror/commit/8ab0814b63b4cf0aeb6641606f4e76631b5463c3)\".",
    "created_at": "2022-05-15T03:26:52Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[facb1fccd26c1749314e4106915b42be994e82c0](https://github.com/sagemath/sagetrac-mirror/commit/facb1fccd26c1749314e4106915b42be994e82c0)" to "[8ab0814b63b4cf0aeb6641606f4e76631b5463c3](https://github.com/sagemath/sagetrac-mirror/commit/8ab0814b63b4cf0aeb6641606f4e76631b5463c3)".



---

archive/issue_comments_550098.json:
```json
{
    "body": "**Changing commit** from \"[8ab0814b63b4cf0aeb6641606f4e76631b5463c3](https://github.com/sagemath/sagetrac-mirror/commit/8ab0814b63b4cf0aeb6641606f4e76631b5463c3)\" to \"[2d12c0b68e14a6fde9fd2929628b7314dd47badc](https://github.com/sagemath/sagetrac-mirror/commit/2d12c0b68e14a6fde9fd2929628b7314dd47badc)\".",
    "created_at": "2022-05-15T03:32:06Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8ab0814b63b4cf0aeb6641606f4e76631b5463c3](https://github.com/sagemath/sagetrac-mirror/commit/8ab0814b63b4cf0aeb6641606f4e76631b5463c3)" to "[2d12c0b68e14a6fde9fd2929628b7314dd47badc](https://github.com/sagemath/sagetrac-mirror/commit/2d12c0b68e14a6fde9fd2929628b7314dd47badc)".



---

archive/issue_comments_550099.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d12c0b68e14a6fde9fd2929628b7314dd47badc\">2d12c0b</a></td><td><code>build/pkgs/memory_allocator/SPKG.rst: Fix markup</code></td></tr></table>\n",
    "created_at": "2022-05-15T03:32:06Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d12c0b68e14a6fde9fd2929628b7314dd47badc">2d12c0b</a></td><td><code>build/pkgs/memory_allocator/SPKG.rst: Fix markup</code></td></tr></table>




---

archive/issue_comments_550100.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e5162aa5a1624de66b543d7665b4054318b3f8f\">0e5162a</a></td><td><code>build/pkgs/mathics/SPKG.rst: Fix title</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51eb3059889f68e9f614da7f231e31ef6bca44f3\">51eb305</a></td><td><code>build/bin/sage-spkg-info: Fix rst label</code></td></tr></table>\n",
    "created_at": "2022-05-15T04:11:54Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e5162aa5a1624de66b543d7665b4054318b3f8f">0e5162a</a></td><td><code>build/pkgs/mathics/SPKG.rst: Fix title</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51eb3059889f68e9f614da7f231e31ef6bca44f3">51eb305</a></td><td><code>build/bin/sage-spkg-info: Fix rst label</code></td></tr></table>




---

archive/issue_comments_550101.json:
```json
{
    "body": "**Changing commit** from \"[2d12c0b68e14a6fde9fd2929628b7314dd47badc](https://github.com/sagemath/sagetrac-mirror/commit/2d12c0b68e14a6fde9fd2929628b7314dd47badc)\" to \"[51eb3059889f68e9f614da7f231e31ef6bca44f3](https://github.com/sagemath/sagetrac-mirror/commit/51eb3059889f68e9f614da7f231e31ef6bca44f3)\".",
    "created_at": "2022-05-15T04:11:54Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550101",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2d12c0b68e14a6fde9fd2929628b7314dd47badc](https://github.com/sagemath/sagetrac-mirror/commit/2d12c0b68e14a6fde9fd2929628b7314dd47badc)" to "[51eb3059889f68e9f614da7f231e31ef6bca44f3](https://github.com/sagemath/sagetrac-mirror/commit/51eb3059889f68e9f614da7f231e31ef6bca44f3)".



---

archive/issue_comments_550102.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:",
    "created_at": "2022-05-15T04:15:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:



---

archive/issue_comments_550103.json:
```json
{
    "body": "**Changing commit** from \"[51eb3059889f68e9f614da7f231e31ef6bca44f3](https://github.com/sagemath/sagetrac-mirror/commit/51eb3059889f68e9f614da7f231e31ef6bca44f3)\" to \"[67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)\".",
    "created_at": "2022-05-15T04:15:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[51eb3059889f68e9f614da7f231e31ef6bca44f3](https://github.com/sagemath/sagetrac-mirror/commit/51eb3059889f68e9f614da7f231e31ef6bca44f3)" to "[67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)".



---

archive/issue_comments_550104.json:
```json
{
    "body": "<a id='comment:17'></a>\nI found it a bit hard to figure out what came from #33740 and what is this ticket :(\n\nOnce I get past that issue, I agree with the changes. It is much cleaner and simpler. May not go far enough from a sage-on-gentoo point of view (I will still patch but we had that discussion `sage --docbuild` vs `python -m sage_docbuild` somewhere else and that step is not ready yet). Just one remark, all the targets are phony in `src/doc/Makefile` by necessity but we could have had `en/reference/repl/options.txt` as a real target instead of a phony one, not that it matter much in that sea of stuff that rebuild every time you call make.",
    "created_at": "2022-05-26T20:11:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550104",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:17'></a>
I found it a bit hard to figure out what came from #33740 and what is this ticket :(

Once I get past that issue, I agree with the changes. It is much cleaner and simpler. May not go far enough from a sage-on-gentoo point of view (I will still patch but we had that discussion `sage --docbuild` vs `python -m sage_docbuild` somewhere else and that step is not ready yet). Just one remark, all the targets are phony in `src/doc/Makefile` by necessity but we could have had `en/reference/repl/options.txt` as a real target instead of a phony one, not that it matter much in that sea of stuff that rebuild every time you call make.



---

archive/issue_comments_550105.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [fbissey](#comment%3A17):\n> we could have had `en/reference/repl/options.txt` as a real target instead of a phony one\n\n\nYes but what would be its dependencies?",
    "created_at": "2022-05-26T20:13:24Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550105",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Replying to [fbissey](#comment%3A17):
> we could have had `en/reference/repl/options.txt` as a real target instead of a phony one


Yes but what would be its dependencies?



---

archive/issue_comments_550106.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [mkoeppe](#comment%3A18):\n> Replying to [fbissey](#comment%3A17):\n> > we could have had `en/reference/repl/options.txt` as a real target instead of a phony one\n\n> \n> Yes but what would be its dependencies?\n\n\nI am not sure I follow. It doesn't need to have dependencies or have I forgotten something fundamental about makefiles.",
    "created_at": "2022-05-26T20:22:12Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550106",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'></a>
Replying to [mkoeppe](#comment%3A18):
> Replying to [fbissey](#comment%3A17):
> > we could have had `en/reference/repl/options.txt` as a real target instead of a phony one

> 
> Yes but what would be its dependencies?


I am not sure I follow. It doesn't need to have dependencies or have I forgotten something fundamental about makefiles.



---

archive/issue_comments_550107.json:
```json
{
    "body": "<a id='comment:20'></a>\nIn that case it would never be updated, which can't be right",
    "created_at": "2022-05-26T20:28:19Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550107",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
In that case it would never be updated, which can't be right



---

archive/issue_comments_550108.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [mkoeppe](#comment%3A20):\n> In that case it would never be updated, which can't be right\n\n\nThank you for reminding me of some essentials :) I'd like to brush it off as it being too early in the morning to make a proper comment but I think that's just part of a pattern where I am too deep on the packager side, and thinking of workflow in which ultimately, makefile such as this one are \"single use\", and when something doesn't work you just restart from the top because you need the flow to be right. I am not spending enough time on the pure dev side, that's what",
    "created_at": "2022-05-26T20:58:12Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550108",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:21'></a>
Replying to [mkoeppe](#comment%3A20):
> In that case it would never be updated, which can't be right


Thank you for reminding me of some essentials :) I'd like to brush it off as it being too early in the morning to make a proper comment but I think that's just part of a pattern where I am too deep on the packager side, and thinking of workflow in which ultimately, makefile such as this one are "single use", and when something doesn't work you just restart from the top because you need the flow to be right. I am not spending enough time on the pure dev side, that's what



---

archive/issue_comments_550109.json:
```json
{
    "body": "<a id='comment:22'></a>\nI think this looks okay, too. Fran\u00e7ois, do you agree with a positive review?",
    "created_at": "2022-05-27T18:42:01Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550109",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:22'></a>
I think this looks okay, too. François, do you agree with a positive review?



---

archive/issue_comments_550110.json:
```json
{
    "body": "<a id='comment:23'></a>\nYes, let's get it in the next beta.",
    "created_at": "2022-05-27T20:13:00Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550110",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:23'></a>
Yes, let's get it in the next beta.



---

archive/issue_events_302451.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-05-28T15:07:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33852#event-302451"
}
```



---

archive/issue_events_302452.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-05-28T15:07:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33852#event-302452"
}
```



---

archive/issue_comments_550111.json:
```json
{
    "body": "**Reviewer:** John Palmieri, Fran\u00e7ois Bissey",
    "created_at": "2022-05-28T15:07:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550111",
    "user": "https://github.com/jhpalmieri"
}
```

**Reviewer:** John Palmieri, François Bissey



---

archive/issue_comments_550112.json:
```json
{
    "body": "<a id='comment:25'></a>\nThanks!",
    "created_at": "2022-05-28T17:24:35Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550112",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Thanks!



---

archive/issue_comments_550113.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/bootstrap__remove_use_of_the_sage_root_sage_script](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/bootstrap__remove_use_of_the_sage_root_sage_script)\" to \"[67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)\".",
    "created_at": "2022-06-06T21:24:19Z",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33852#issuecomment-550113",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/bootstrap__remove_use_of_the_sage_root_sage_script](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/bootstrap__remove_use_of_the_sage_root_sage_script)" to "[67c8238c067ffb62f17a7e338dab57bc7d24ce70](https://github.com/sagemath/sagetrac-mirror/commit/67c8238c067ffb62f17a7e338dab57bc7d24ce70)".



---

archive/issue_events_302453.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-06-06T21:24:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33852#event-302453"
}
```



---

archive/issue_events_302454.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2537707a5f8c1ea7a224bd4cdd23a3cde6a88c89",
    "created_at": "2022-06-06T21:24:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33852",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33852#event-302454"
}
```
