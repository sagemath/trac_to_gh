# Issue 33589: Gitpod: track remote trac branch

archive/issues_033352.json:
```json
{
    "assignees": [],
    "body": "Currently, gitpod tracks the branch on github as the remote. Thus, one might accidentally changes to github instead of trac. With this ticket, the remote is changed to trac. \n\nCC:  @mkoeppe\n\nBranch/Commit: **[`bbe8724`](https://github.com/sagemath/sagetrac-mirror/commit/bbe8724fede61a8e52795e48a9ef2c328f338adc)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Tobias Diez**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33589_\n\n",
    "closed_at": "2022-04-03T11:13:40Z",
    "created_at": "2022-03-29T13:59:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Gitpod: track remote trac branch",
    "type": "issue",
    "updated_at": "2022-04-03T11:13:40Z",
    "url": "https://github.com/sagemath/sage/issues/33589",
    "user": "https://github.com/tobiasdiez"
}
```
Currently, gitpod tracks the branch on github as the remote. Thus, one might accidentally changes to github instead of trac. With this ticket, the remote is changed to trac. 

CC:  @mkoeppe

Branch/Commit: **[`bbe8724`](https://github.com/sagemath/sagetrac-mirror/commit/bbe8724fede61a8e52795e48a9ef2c328f338adc)**

Reviewer: **Matthias Koeppe**

Author: **Tobias Diez**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/33589_





---

archive/issue_events_461251.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2022-03-29T13:59:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461251"
}
```



---

archive/issue_events_461252.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2022-03-29T13:59:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461252"
}
```



---

archive/issue_events_461253.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2022-03-29T13:59:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461253"
}
```



---

archive/issue_events_461254.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2022-03-29T13:59:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461254"
}
```



---

archive/issue_events_461255.json:
```json
{
    "actor": "https://github.com/tobiasdiez",
    "created_at": "2022-03-29T13:59:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461255"
}
```



---

archive/issue_comments_542771.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI think `git remote set-url --push origin git@trac.sagemath.org:sage.git` would also be good to add",
    "created_at": "2022-03-29T19:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542771",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

I think `git remote set-url --push origin git@trac.sagemath.org:sage.git` would also be good to add



---

archive/issue_comments_542772.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nNot sure if that's really a good idea. The git manual contains\n\n>Note that the push URL and the fetch URL, even though they can be set differently, must still refer to the same place. What you pushed to the push URL should be what you would see if you immediately fetched from the fetch URL. If you are trying to fetch from one place (e.g. your upstream) and push to another (e.g. your publishing repository), use two separate remotes.\n\n\nYour idea was to prevent accidental commits to github, right? Would it be possible to restrict write access for the trac mirror repo to only allow the sync-hook to have write access?",
    "created_at": "2022-03-29T19:18:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542772",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:3" align="right">comment:3</div>

Not sure if that's really a good idea. The git manual contains

>Note that the push URL and the fetch URL, even though they can be set differently, must still refer to the same place. What you pushed to the push URL should be what you would see if you immediately fetched from the fetch URL. If you are trying to fetch from one place (e.g. your upstream) and push to another (e.g. your publishing repository), use two separate remotes.


Your idea was to prevent accidental commits to github, right? Would it be possible to restrict write access for the trac mirror repo to only allow the sync-hook to have write access?



---

archive/issue_comments_542773.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt's already documented as standard procedure in `src/doc/en/developer/manual_git.rst`",
    "created_at": "2022-03-29T19:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542773",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

It's already documented as standard procedure in `src/doc/en/developer/manual_git.rst`



---

archive/issue_comments_542774.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWhere exactly? I can only find `git remote set-url --push trac git@trac.sagemath.org:sage.git` at https://doc.sagemath.org/html/en/developer/manual_git.html",
    "created_at": "2022-03-29T19:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542774",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:5" align="right">comment:5</div>

Where exactly? I can only find `git remote set-url --push trac git@trac.sagemath.org:sage.git` at https://doc.sagemath.org/html/en/developer/manual_git.html



---

archive/issue_comments_542775.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYes, that's the one.",
    "created_at": "2022-03-31T15:24:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542775",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Yes, that's the one.



---

archive/issue_comments_542776.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis is already included in the gitpod config:\n\n```\n      git remote add trac git@trac.sagemath.org:sage.git -t master -t develop -t $(git branch --show-current)\n      git remote set-url --push trac git@trac.sagemath.org:sage.git\n      git fetch trac\n      git branch -u trac/$(git branch --show-current)\n```",
    "created_at": "2022-03-31T15:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542776",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:7" align="right">comment:7</div>

This is already included in the gitpod config:

```
      git remote add trac git@trac.sagemath.org:sage.git -t master -t develop -t $(git branch --show-current)
      git remote set-url --push trac git@trac.sagemath.org:sage.git
      git fetch trac
      git branch -u trac/$(git branch --show-current)
```



---

archive/issue_comments_542777.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nNo, the first line is setting the wrong URL for fetching.",
    "created_at": "2022-03-31T15:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542777",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

No, the first line is setting the wrong URL for fetching.



---

archive/issue_comments_542778.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI took this from the docs: https://doc.sagemath.org/html/en/developer/manual_git.html#the-trac-server\n\n```\ngit remote add trac git@trac.sagemath.org:sage.git -t master\n```\nWhat is then the correct url?",
    "created_at": "2022-03-31T15:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542778",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:9" align="right">comment:9</div>

I took this from the docs: https://doc.sagemath.org/html/en/developer/manual_git.html#the-trac-server

```
git remote add trac git@trac.sagemath.org:sage.git -t master
```
What is then the correct url?



---

archive/issue_comments_542779.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFurther up in the same section.",
    "created_at": "2022-03-31T15:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542779",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Further up in the same section.



---

archive/issue_comments_542780.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n\n```\ngit remote add trac https://github.com/sagemath/sagetrac-mirror.git -t master\n```\nDoes not work well. If you then push something to trac, VS still notifies you that there are changes between your local and remote branch. The reason is that VS invokes `git fetch` directly after pushing, but then the sync hook has not yet been executed so it still fetches the old branch on github.",
    "created_at": "2022-03-31T15:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542780",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:11" align="right">comment:11</div>


```
git remote add trac https://github.com/sagemath/sagetrac-mirror.git -t master
```
Does not work well. If you then push something to trac, VS still notifies you that there are changes between your local and remote branch. The reason is that VS invokes `git fetch` directly after pushing, but then the sync hook has not yet been executed so it still fetches the old branch on github.



---

archive/issue_comments_542781.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOK. Then I'd suggest that we make switching to the ssh remote (`git@trac.sagemath.org:sage.git`) part of the instructions for adding the SSH key.",
    "created_at": "2022-03-31T15:59:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542781",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

OK. Then I'd suggest that we make switching to the ssh remote (`git@trac.sagemath.org:sage.git`) part of the instructions for adding the SSH key.



---

archive/issue_comments_542782.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWe should probably also note this in the documentation (https://doc.sagemath.org/html/en/developer/manual_git.html) that the first configuration is not recommended for users who use VS Code.",
    "created_at": "2022-03-31T16:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542782",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

We should probably also note this in the documentation (https://doc.sagemath.org/html/en/developer/manual_git.html) that the first configuration is not recommended for users who use VS Code.



---

archive/issue_comments_542783.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@mkoeppe](#comment:12):\n> OK. Then I'd suggest that we make switching to the ssh remote (`git@trac.sagemath.org:sage.git`) part of the instructions for adding the SSH key.\n\nThe point of this ticket was that this happens automatically for each ticket/gitpod session without manual intervention.",
    "created_at": "2022-03-31T16:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542783",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@mkoeppe](#comment:12):
> OK. Then I'd suggest that we make switching to the ssh remote (`git@trac.sagemath.org:sage.git`) part of the instructions for adding the SSH key.

The point of this ticket was that this happens automatically for each ticket/gitpod session without manual intervention.



---

archive/issue_comments_542784.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@mkoeppe](#comment:13):\n> We should probably also note this in the documentation (https://doc.sagemath.org/html/en/developer/manual_git.html) that the first configuration is not recommended for users who use VS Code.\n\nWhat's the reason for this config in the first place? It is also against the git recommendations that I've cited above.",
    "created_at": "2022-03-31T16:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542784",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@mkoeppe](#comment:13):
> We should probably also note this in the documentation (https://doc.sagemath.org/html/en/developer/manual_git.html) that the first configuration is not recommended for users who use VS Code.

What's the reason for this config in the first place? It is also against the git recommendations that I've cited above.



---

archive/issue_comments_542785.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@tobiasdiez](#comment:15):\n> What's the reason for this config in the first place? It is also against the git recommendations that I've cited above.\n\nThat's what read-only mirrors are for - they scale better than 1 read/write server.\n\nI don't think that recommendation that you found in the doc is intended to rule out mirrors.",
    "created_at": "2022-03-31T16:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542785",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@tobiasdiez](#comment:15):
> What's the reason for this config in the first place? It is also against the git recommendations that I've cited above.

That's what read-only mirrors are for - they scale better than 1 read/write server.

I don't think that recommendation that you found in the doc is intended to rule out mirrors.



---

archive/issue_comments_542786.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@tobiasdiez](#comment:14):\n> Replying to [@mkoeppe](#comment:12):\n> > OK. Then I'd suggest that we make switching to the ssh remote (`git@trac.sagemath.org:sage.git`) part of the instructions for adding the SSH key.\n\n> \n> The point of this ticket was that this happens automatically for each ticket/gitpod session without manual intervention.\n\nI think we shouldn't force users to do the SSH key thing if all they want to do is fetch from trac.",
    "created_at": "2022-03-31T16:08:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542786",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@tobiasdiez](#comment:14):
> Replying to [@mkoeppe](#comment:12):
> > OK. Then I'd suggest that we make switching to the ssh remote (`git@trac.sagemath.org:sage.git`) part of the instructions for adding the SSH key.

> 
> The point of this ticket was that this happens automatically for each ticket/gitpod session without manual intervention.

I think we shouldn't force users to do the SSH key thing if all they want to do is fetch from trac.



---

archive/issue_comments_542787.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nMaybe it should be made conditional on `PRIVATE_SSH_KEY` being set already?\nBy the way, the current script in `.gitpod.yml` creates an empty id_rsa file if `PRIVATE_SSH_KEY` is not provided; creating that should probably be avoided too",
    "created_at": "2022-03-31T16:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542787",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Maybe it should be made conditional on `PRIVATE_SSH_KEY` being set already?
By the way, the current script in `.gitpod.yml` creates an empty id_rsa file if `PRIVATE_SSH_KEY` is not provided; creating that should probably be avoided too



---

archive/issue_comments_542788.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77b11ea3ef560b61eaa4ee1031bb0c79a0176ad0\">77b11ea</a></td><td><code>Only add trac if sshkey is set</code></td></tr></table>\n",
    "created_at": "2022-03-31T16:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542788",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77b11ea3ef560b61eaa4ee1031bb0c79a0176ad0">77b11ea</a></td><td><code>Only add trac if sshkey is set</code></td></tr></table>




---

archive/issue_comments_542789.json:
```json
{
    "body": "Changed commit from **[`ac4ec05`](https://github.com/sagemath/sagetrac-mirror/commit/ac4ec055744192abd4840abe91c520bd13e34ae6)** to **[`77b11ea`](https://github.com/sagemath/sagetrac-mirror/commit/77b11ea3ef560b61eaa4ee1031bb0c79a0176ad0)**",
    "created_at": "2022-03-31T16:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542789",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ac4ec05`](https://github.com/sagemath/sagetrac-mirror/commit/ac4ec055744192abd4840abe91c520bd13e34ae6)** to **[`77b11ea`](https://github.com/sagemath/sagetrac-mirror/commit/77b11ea3ef560b61eaa4ee1031bb0c79a0176ad0)**



---

archive/issue_comments_542790.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@mkoeppe](#comment:18):\n> Maybe it should be made conditional on `PRIVATE_SSH_KEY` being set already?\n> By the way, the current script in `.gitpod.yml` creates an empty id_rsa file if `PRIVATE_SSH_KEY` is not provided; creating that should probably be avoided too\n\nGood suggestion, thanks. I've implemented that now.",
    "created_at": "2022-03-31T16:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542790",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@mkoeppe](#comment:18):
> Maybe it should be made conditional on `PRIVATE_SSH_KEY` being set already?
> By the way, the current script in `.gitpod.yml` creates an empty id_rsa file if `PRIVATE_SSH_KEY` is not provided; creating that should probably be avoided too

Good suggestion, thanks. I've implemented that now.



---

archive/issue_comments_542791.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThat should be \"-n \"${PRIVATE_SSH_KEY}\"`",
    "created_at": "2022-03-31T16:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542791",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

That should be "-n "${PRIVATE_SSH_KEY}"`



---

archive/issue_comments_542792.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nYes...",
    "created_at": "2022-03-31T16:36:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542792",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:22" align="right">comment:22</div>

Yes...



---

archive/issue_comments_542793.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAnd everyone needs the `trac` remote. \nWhen `PRIVATE_SSH_KEY` is set, just switch the fetch URL to the good one.",
    "created_at": "2022-03-31T16:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542793",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

And everyone needs the `trac` remote. 
When `PRIVATE_SSH_KEY` is set, just switch the fetch URL to the good one.



---

archive/issue_comments_542794.json:
```json
{
    "body": "Changed commit from **[`77b11ea`](https://github.com/sagemath/sagetrac-mirror/commit/77b11ea3ef560b61eaa4ee1031bb0c79a0176ad0)** to **[`a5d10a2`](https://github.com/sagemath/sagetrac-mirror/commit/a5d10a2bef6d2503ed793912217c3ff74a52e84d)**",
    "created_at": "2022-03-31T16:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542794",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`77b11ea`](https://github.com/sagemath/sagetrac-mirror/commit/77b11ea3ef560b61eaa4ee1031bb0c79a0176ad0)** to **[`a5d10a2`](https://github.com/sagemath/sagetrac-mirror/commit/a5d10a2bef6d2503ed793912217c3ff74a52e84d)**



---

archive/issue_comments_542795.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5d10a2bef6d2503ed793912217c3ff74a52e84d\">a5d10a2</a></td><td><code>Fix typo</code></td></tr></table>\n",
    "created_at": "2022-03-31T16:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542795",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5d10a2bef6d2503ed793912217c3ff74a52e84d">a5d10a2</a></td><td><code>Fix typo</code></td></tr></table>




---

archive/issue_comments_542796.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@mkoeppe](#comment:23):\n> And everyone needs the `trac` remote. \n> When `PRIVATE_SSH_KEY` is set, just switch the fetch URL to the good one.\n\nBut this is `origin` already, so where is the point of adding trac as the same alias?",
    "created_at": "2022-03-31T16:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542796",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@mkoeppe](#comment:23):
> And everyone needs the `trac` remote. 
> When `PRIVATE_SSH_KEY` is set, just switch the fetch URL to the good one.

But this is `origin` already, so where is the point of adding trac as the same alias?



---

archive/issue_comments_542797.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n`trac` is the name used in the developer's guide; and it is also the hardcoded name of the remote that is used in git-trac-command.",
    "created_at": "2022-03-31T16:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542797",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

`trac` is the name used in the developer's guide; and it is also the hardcoded name of the remote that is used in git-trac-command.



---

archive/issue_comments_542798.json:
```json
{
    "body": "Changed commit from **[`a5d10a2`](https://github.com/sagemath/sagetrac-mirror/commit/a5d10a2bef6d2503ed793912217c3ff74a52e84d)** to **[`4950bcf`](https://github.com/sagemath/sagetrac-mirror/commit/4950bcfed0f313db02ca96894a95ccc006df7a15)**",
    "created_at": "2022-03-31T16:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542798",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a5d10a2`](https://github.com/sagemath/sagetrac-mirror/commit/a5d10a2bef6d2503ed793912217c3ff74a52e84d)** to **[`4950bcf`](https://github.com/sagemath/sagetrac-mirror/commit/4950bcfed0f313db02ca96894a95ccc006df7a15)**



---

archive/issue_comments_542799.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4950bcfed0f313db02ca96894a95ccc006df7a15\">4950bcf</a></td><td><code>Add fallback to github mirror</code></td></tr></table>\n",
    "created_at": "2022-03-31T16:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542799",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4950bcfed0f313db02ca96894a95ccc006df7a15">4950bcf</a></td><td><code>Add fallback to github mirror</code></td></tr></table>




---

archive/issue_comments_542800.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n\n```\n+      else\n+        # Fallback to sagemath mirror\n+        git remote add trac https://github.com/sagemath/sagetrac-mirror.git -t master -t develop\n+      fi\n+\n```\nbut only for fetch, not for push!",
    "created_at": "2022-03-31T16:47:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542800",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>


```
+      else
+        # Fallback to sagemath mirror
+        git remote add trac https://github.com/sagemath/sagetrac-mirror.git -t master -t develop
+      fi
+
```
but only for fetch, not for push!



---

archive/issue_comments_542801.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c235eadd675d05d8b8429f72edd76dacdcc5d454\">c235ead</a></td><td><code>Disable pushing to github</code></td></tr></table>\n",
    "created_at": "2022-03-31T16:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542801",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c235eadd675d05d8b8429f72edd76dacdcc5d454">c235ead</a></td><td><code>Disable pushing to github</code></td></tr></table>




---

archive/issue_comments_542802.json:
```json
{
    "body": "Changed commit from **[`4950bcf`](https://github.com/sagemath/sagetrac-mirror/commit/4950bcfed0f313db02ca96894a95ccc006df7a15)** to **[`c235ead`](https://github.com/sagemath/sagetrac-mirror/commit/c235eadd675d05d8b8429f72edd76dacdcc5d454)**",
    "created_at": "2022-03-31T16:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542802",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4950bcf`](https://github.com/sagemath/sagetrac-mirror/commit/4950bcfed0f313db02ca96894a95ccc006df7a15)** to **[`c235ead`](https://github.com/sagemath/sagetrac-mirror/commit/c235eadd675d05d8b8429f72edd76dacdcc5d454)**



---

archive/issue_comments_542803.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThis line should probably be run in both cases\n\n```\n+        git remote set-url --push origin pushing-only-via-trac\n```",
    "created_at": "2022-03-31T17:24:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542803",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

This line should probably be run in both cases

```
+        git remote set-url --push origin pushing-only-via-trac
```



---

archive/issue_comments_542804.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAlso [comment:12](#comment:12), [comment:13](#comment:13)",
    "created_at": "2022-03-31T17:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542804",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Also [comment:12](#comment:12), [comment:13](#comment:13)



---

archive/issue_comments_542805.json:
```json
{
    "body": "Changed commit from **[`c235ead`](https://github.com/sagemath/sagetrac-mirror/commit/c235eadd675d05d8b8429f72edd76dacdcc5d454)** to **[`89591c4`](https://github.com/sagemath/sagetrac-mirror/commit/89591c4a40f185d62846fdc6b1dcd6a7688385dc)**",
    "created_at": "2022-03-31T17:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542805",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c235ead`](https://github.com/sagemath/sagetrac-mirror/commit/c235eadd675d05d8b8429f72edd76dacdcc5d454)** to **[`89591c4`](https://github.com/sagemath/sagetrac-mirror/commit/89591c4a40f185d62846fdc6b1dcd6a7688385dc)**



---

archive/issue_comments_542806.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40d1e23ab49ddb366022390ab6dcd64b5791ea35\">40d1e23</a></td><td><code>Always disable pushing to origin</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89591c4a40f185d62846fdc6b1dcd6a7688385dc\">89591c4</a></td><td><code>Remove wrong trac from prebuild</code></td></tr></table>\n",
    "created_at": "2022-03-31T17:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542806",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40d1e23ab49ddb366022390ab6dcd64b5791ea35">40d1e23</a></td><td><code>Always disable pushing to origin</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89591c4a40f185d62846fdc6b1dcd6a7688385dc">89591c4</a></td><td><code>Remove wrong trac from prebuild</code></td></tr></table>




---

archive/issue_comments_542807.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@mkoeppe](#comment:30):\n> This line should probably be run in both cases\n> \n> ```\n> +        git remote set-url --push origin pushing-only-via-trac\n> ```\n\nDone.",
    "created_at": "2022-03-31T17:51:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542807",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@mkoeppe](#comment:30):
> This line should probably be run in both cases
> 
> ```
> +        git remote set-url --push origin pushing-only-via-trac
> ```

Done.



---

archive/issue_comments_542808.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@mkoeppe](#comment:31):\n> Also [comment:12](#comment:12), [comment:13](#comment:13)\n\nI think [comment:12](#comment:12) is obsolete now (or I misunderstand it), and [comment:13](#comment:13) is not in the scope of this ticket.",
    "created_at": "2022-03-31T17:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542808",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@mkoeppe](#comment:31):
> Also [comment:12](#comment:12), [comment:13](#comment:13)

I think [comment:12](#comment:12) is obsolete now (or I misunderstand it), and [comment:13](#comment:13) is not in the scope of this ticket.



---

archive/issue_comments_542809.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\ncomment:12 - when the user sets up the key the first time (https://620901c077fb7caa9f914f33--sagemath-tobias.netlify.app/developer/workspace.html#section-gitpod), the user needs to change the remote - this needs to be added to the instructions",
    "created_at": "2022-03-31T17:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542809",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

comment:12 - when the user sets up the key the first time (https://620901c077fb7caa9f914f33--sagemath-tobias.netlify.app/developer/workspace.html#section-gitpod), the user needs to change the remote - this needs to be added to the instructions



---

archive/issue_comments_542810.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n\n```\n+        git remote remove trac # might still exists from a previous run/prebuild\n```\ndoes this not give an error if the remote is not there?",
    "created_at": "2022-03-31T17:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542810",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>


```
+        git remote remove trac # might still exists from a previous run/prebuild
```
does this not give an error if the remote is not there?



---

archive/issue_comments_542811.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@mkoeppe](#comment:36):\n> \n> ```\n> +        git remote remove trac # might still exists from a previous run/prebuild\n> ```\n> does this not give an error if the remote is not there?\n\nYes, it prints an error (during the prebuild) but the script keeps executing.",
    "created_at": "2022-03-31T18:00:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542811",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@mkoeppe](#comment:36):
> 
> ```
> +        git remote remove trac # might still exists from a previous run/prebuild
> ```
> does this not give an error if the remote is not there?

Yes, it prints an error (during the prebuild) but the script keeps executing.



---

archive/issue_comments_542812.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nYou can silence it by appending `2> /dev/null`",
    "created_at": "2022-03-31T18:06:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542812",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

You can silence it by appending `2> /dev/null`



---

archive/issue_comments_542813.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d450f36a251147178fba1f8931c3be50a08c366\">3d450f3</a></td><td><code>Update docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9035ae0330755ccd54bf179a1481fa901b632ac\">e9035ae</a></td><td><code>Silence semi-expected errors during (pre)build</code></td></tr></table>\n",
    "created_at": "2022-03-31T18:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542813",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d450f36a251147178fba1f8931c3be50a08c366">3d450f3</a></td><td><code>Update docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9035ae0330755ccd54bf179a1481fa901b632ac">e9035ae</a></td><td><code>Silence semi-expected errors during (pre)build</code></td></tr></table>




---

archive/issue_comments_542814.json:
```json
{
    "body": "Changed commit from **[`89591c4`](https://github.com/sagemath/sagetrac-mirror/commit/89591c4a40f185d62846fdc6b1dcd6a7688385dc)** to **[`e9035ae`](https://github.com/sagemath/sagetrac-mirror/commit/e9035ae0330755ccd54bf179a1481fa901b632ac)**",
    "created_at": "2022-03-31T18:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542814",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`89591c4`](https://github.com/sagemath/sagetrac-mirror/commit/89591c4a40f185d62846fdc6b1dcd6a7688385dc)** to **[`e9035ae`](https://github.com/sagemath/sagetrac-mirror/commit/e9035ae0330755ccd54bf179a1481fa901b632ac)**



---

archive/issue_comments_542815.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI've added [comment:13](#comment:13) to #33088",
    "created_at": "2022-03-31T18:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542815",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">comment:40</div>

I've added [comment:13](#comment:13) to #33088



---

archive/issue_comments_542816.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n\n```\n+ 4. Close this Gitpod workspace.\n```\nOK, that's a good solution too",
    "created_at": "2022-03-31T18:24:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542816",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">comment:41</div>


```
+ 4. Close this Gitpod workspace.
```
OK, that's a good solution too



---

archive/issue_comments_542817.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI think all of these steps:\n\n```\n+        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild\n```\nand\n\n```\n+        git remote set-url --push trac git@trac.sagemath.org:sage.git\n+        git fetch trac\n+        git branch -u trac/$(git branch --show-current)\n```\nshould be unconditional",
    "created_at": "2022-03-31T20:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542817",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:42" align="right">comment:42</div>

I think all of these steps:

```
+        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild
```
and

```
+        git remote set-url --push trac git@trac.sagemath.org:sage.git
+        git fetch trac
+        git branch -u trac/$(git branch --show-current)
```
should be unconditional



---

archive/issue_comments_542818.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@mkoeppe](#comment:42):\n> I think all of these steps:\n> \n> ```\n> +        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild\n> ```\n\nDuring the prebuild there is never a ssh key set, so the trac remote is always either unset or set to the github mirror.\n\n> and\n> \n> ```\n> +        git remote set-url --push trac git@trac.sagemath.org:sage.git\n> +        git fetch trac\n> +        git branch -u trac/$(git branch --show-current)\n> ```\n> should be unconditional\n\nFetching trac doesn't work without ssh keys (at least for me).",
    "created_at": "2022-03-31T21:35:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542818",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@mkoeppe](#comment:42):
> I think all of these steps:
> 
> ```
> +        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild
> ```

During the prebuild there is never a ssh key set, so the trac remote is always either unset or set to the github mirror.

> and
> 
> ```
> +        git remote set-url --push trac git@trac.sagemath.org:sage.git
> +        git fetch trac
> +        git branch -u trac/$(git branch --show-current)
> ```
> should be unconditional

Fetching trac doesn't work without ssh keys (at least for me).



---

archive/issue_comments_542819.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@tobiasdiez](#comment:43):\n> Fetching trac doesn't work without ssh keys (at least for me).\n\nIt doesn't if the remote is ssh, which is why we have changed that.",
    "created_at": "2022-03-31T22:41:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542819",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@tobiasdiez](#comment:43):
> Fetching trac doesn't work without ssh keys (at least for me).

It doesn't if the remote is ssh, which is why we have changed that.



---

archive/issue_comments_542820.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI don't get what you want.\n\n```\n+        git remote set-url --push trac git@trac.sagemath.org:sage.git\n```\nis in conflict with\n\n```\n+        git remote set-url --push trac pushing-needs-ssh-key\n```\nSince the ssh setup is more involved for gitpod, its better in my opinion to explicitly tell the user that something is off so he might look this up in the docs.\n\nPs: can we please migrate to github/gitlab; their server are beefy enough to don't need a special mirror setup ;-)",
    "created_at": "2022-03-31T23:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542820",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:45" align="right">comment:45</div>

I don't get what you want.

```
+        git remote set-url --push trac git@trac.sagemath.org:sage.git
```
is in conflict with

```
+        git remote set-url --push trac pushing-needs-ssh-key
```
Since the ssh setup is more involved for gitpod, its better in my opinion to explicitly tell the user that something is off so he might look this up in the docs.

Ps: can we please migrate to github/gitlab; their server are beefy enough to don't need a special mirror setup ;-)



---

archive/issue_comments_542821.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI mean like this (untested).\n\n```\ndiff --git a/.gitpod.yml b/.gitpod.yml\nindex 7c6800ab8f..8244bafae9 100644\n--- a/.gitpod.yml\n+++ b/.gitpod.yml\n@@ -36,7 +36,9 @@ image:\n tasks:\n   - name: Setup\n     before: |\n+      git remote set-url --push origin pushing-only-via-trac\n       # Setup trac as remote\n+      git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild\n       ## In order to push to trac, generate a new key with `ssh-keygen -f tempkey` and save the private key to gitpod `gp env PRIVATE_SSH_KEY=\"$(<tempkey)\"` (or by following https://www.gitpod.io/docs/environment-variables#using-the-account-settings)\n       ## then follow https://doc.sagemath.org/html/en/developer/trac.html#linking-your-public-key-to-your-trac-account to register the public key with trac.\n       ## Afterwards, create a new gitpod workspace.\n@@ -50,18 +52,15 @@ tasks:\n         ssh-keyscan -H trac.sagemath.org >> ~/.ssh/known_hosts\n \n         # Setup trac repo\n-        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild\n         git remote add trac git@trac.sagemath.org:sage.git -t master -t develop -t $(git branch --show-current)\n         git remote set-url --push trac git@trac.sagemath.org:sage.git\n-        git fetch trac\n-        git branch -u trac/$(git branch --show-current)\n-        git remote set-url --push origin pushing-only-via-trac\n       else\n         # Fallback to sagemath mirror\n-        git remote add trac https://github.com/sagemath/sagetrac-mirror.git -t master -t develop\n+        git remote add trac https://github.com/sagemath/sagetrac-mirror.git -t master -t develop -t $(git branch --show-current)\n         git remote set-url --push trac pushing-needs-ssh-key\n-        git remote set-url --push origin pushing-only-via-trac\n       fi\n+      git fetch trac\n+      git branch -u trac/$(git branch --show-current)\n       \n       ## No need for pyenv\n       pyenv shell --unset 2> /dev/null\n```",
    "created_at": "2022-03-31T23:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542821",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

I mean like this (untested).

```
diff --git a/.gitpod.yml b/.gitpod.yml
index 7c6800ab8f..8244bafae9 100644
--- a/.gitpod.yml
+++ b/.gitpod.yml
@@ -36,7 +36,9 @@ image:
 tasks:
   - name: Setup
     before: |
+      git remote set-url --push origin pushing-only-via-trac
       # Setup trac as remote
+      git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild
       ## In order to push to trac, generate a new key with `ssh-keygen -f tempkey` and save the private key to gitpod `gp env PRIVATE_SSH_KEY="$(<tempkey)"` (or by following https://www.gitpod.io/docs/environment-variables#using-the-account-settings)
       ## then follow https://doc.sagemath.org/html/en/developer/trac.html#linking-your-public-key-to-your-trac-account to register the public key with trac.
       ## Afterwards, create a new gitpod workspace.
@@ -50,18 +52,15 @@ tasks:
         ssh-keyscan -H trac.sagemath.org >> ~/.ssh/known_hosts
 
         # Setup trac repo
-        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild
         git remote add trac git@trac.sagemath.org:sage.git -t master -t develop -t $(git branch --show-current)
         git remote set-url --push trac git@trac.sagemath.org:sage.git
-        git fetch trac
-        git branch -u trac/$(git branch --show-current)
-        git remote set-url --push origin pushing-only-via-trac
       else
         # Fallback to sagemath mirror
-        git remote add trac https://github.com/sagemath/sagetrac-mirror.git -t master -t develop
+        git remote add trac https://github.com/sagemath/sagetrac-mirror.git -t master -t develop -t $(git branch --show-current)
         git remote set-url --push trac pushing-needs-ssh-key
-        git remote set-url --push origin pushing-only-via-trac
       fi
+      git fetch trac
+      git branch -u trac/$(git branch --show-current)
       
       ## No need for pyenv
       pyenv shell --unset 2> /dev/null
```



---

archive/issue_comments_542822.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nThat would work, I guess. But I fail to see the point of setting the upstream to \"trac\" even if you don't have the ssh keys configured. Why change the gitpod default? \n\nI would like to leave the whole trac remote business as minimal as possible.",
    "created_at": "2022-04-01T00:02:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542822",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:47" align="right">comment:47</div>

That would work, I guess. But I fail to see the point of setting the upstream to "trac" even if you don't have the ssh keys configured. Why change the gitpod default? 

I would like to leave the whole trac remote business as minimal as possible.



---

archive/issue_comments_542823.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@tobiasdiez](#comment:47):\n> That would work, I guess. But I fail to see the point of setting the upstream to \"trac\" even if you don't have the ssh keys configured. \n\nBecause it means that there are fewer differences between \"without ssh key\" and \"with ssh key\", which reduces the complexity in explaining it to developers?",
    "created_at": "2022-04-01T00:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542823",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@tobiasdiez](#comment:47):
> That would work, I guess. But I fail to see the point of setting the upstream to "trac" even if you don't have the ssh keys configured. 

Because it means that there are fewer differences between "without ssh key" and "with ssh key", which reduces the complexity in explaining it to developers?



---

archive/issue_comments_542824.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nIf you cannot push anything, then you don't need to worry about trac at all. Everything you need is in \"origin\". The remove trac is only added because of the limitations of git-trac you mentioned above.",
    "created_at": "2022-04-01T00:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542824",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:49" align="right">comment:49</div>

If you cannot push anything, then you don't need to worry about trac at all. Everything you need is in "origin". The remove trac is only added because of the limitations of git-trac you mentioned above.



---

archive/issue_comments_542825.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nOK, I think this makes sense",
    "created_at": "2022-04-01T00:16:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542825",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:50" align="right">comment:50</div>

OK, I think this makes sense



---

archive/issue_comments_542826.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nNow if we also want to support a development model in which users use their own [GitHub](../wiki/GitHub) forks as `origin`, then we should probably do the line `git remote set-url --push origin pushing-only-via-trac` in the \"else\" branch only when `origin` is in the `sagemath` organization.",
    "created_at": "2022-04-01T00:17:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542826",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

Now if we also want to support a development model in which users use their own [GitHub](../wiki/GitHub) forks as `origin`, then we should probably do the line `git remote set-url --push origin pushing-only-via-trac` in the "else" branch only when `origin` is in the `sagemath` organization.



---

archive/issue_comments_542827.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nAnd I'd still prefer to move the line\n\n```\n+        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild\n```\nto the very beginning so that it runs in both cases - it's easier to understand that it is correct",
    "created_at": "2022-04-01T00:20:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542827",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:52" align="right">comment:52</div>

And I'd still prefer to move the line

```
+        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild
```
to the very beginning so that it runs in both cases - it's easier to understand that it is correct



---

archive/issue_comments_542828.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@mkoeppe](#comment:51):\n> Now if we also want to support a development model in which users use their own [GitHub](../wiki/GitHub) forks as `origin`, then we should probably do the line `git remote set-url --push origin pushing-only-via-trac` in the \"else\" branch only when `origin` is in the `sagemath` organization.\n\nDo you know how/with which credentials the sync hook pushes to the github mirror? Maybe its easy to setup a branch protection rule that would prevent any pushes to the mirror (except for the syncs).",
    "created_at": "2022-04-01T00:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542828",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@mkoeppe](#comment:51):
> Now if we also want to support a development model in which users use their own [GitHub](../wiki/GitHub) forks as `origin`, then we should probably do the line `git remote set-url --push origin pushing-only-via-trac` in the "else" branch only when `origin` is in the `sagemath` organization.

Do you know how/with which credentials the sync hook pushes to the github mirror? Maybe its easy to setup a branch protection rule that would prevent any pushes to the mirror (except for the syncs).



---

archive/issue_comments_542829.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nNo idea, sorry",
    "created_at": "2022-04-01T05:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542829",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:54" align="right">comment:54</div>

No idea, sorry



---

archive/issue_comments_542830.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80e8e2e64d5e9544c61f51b2c527b727b8ae2ee6\">80e8e2e</a></td><td><code>Remove special treatment of origin for pushes</code></td></tr></table>\n",
    "created_at": "2022-04-01T14:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542830",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80e8e2e64d5e9544c61f51b2c527b727b8ae2ee6">80e8e2e</a></td><td><code>Remove special treatment of origin for pushes</code></td></tr></table>




---

archive/issue_comments_542831.json:
```json
{
    "body": "Changed commit from **[`e9035ae`](https://github.com/sagemath/sagetrac-mirror/commit/e9035ae0330755ccd54bf179a1481fa901b632ac)** to **[`80e8e2e`](https://github.com/sagemath/sagetrac-mirror/commit/80e8e2e64d5e9544c61f51b2c527b727b8ae2ee6)**",
    "created_at": "2022-04-01T14:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542831",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e9035ae`](https://github.com/sagemath/sagetrac-mirror/commit/e9035ae0330755ccd54bf179a1481fa901b632ac)** to **[`80e8e2e`](https://github.com/sagemath/sagetrac-mirror/commit/80e8e2e64d5e9544c61f51b2c527b727b8ae2ee6)**



---

archive/issue_comments_542832.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0250accef262739445d81302a35c345b1fbf8a04\">0250acc</a></td><td><code>Test commit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc45a3bfaa40905b72527dc1254e1e1e5086e0e4\">cc45a3b</a></td><td><code>Revert</code></td></tr></table>\n",
    "created_at": "2022-04-01T14:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542832",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0250accef262739445d81302a35c345b1fbf8a04">0250acc</a></td><td><code>Test commit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc45a3bfaa40905b72527dc1254e1e1e5086e0e4">cc45a3b</a></td><td><code>Revert</code></td></tr></table>




---

archive/issue_comments_542833.json:
```json
{
    "body": "Changed commit from **[`80e8e2e`](https://github.com/sagemath/sagetrac-mirror/commit/80e8e2e64d5e9544c61f51b2c527b727b8ae2ee6)** to **[`cc45a3b`](https://github.com/sagemath/sagetrac-mirror/commit/cc45a3bfaa40905b72527dc1254e1e1e5086e0e4)**",
    "created_at": "2022-04-01T14:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542833",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`80e8e2e`](https://github.com/sagemath/sagetrac-mirror/commit/80e8e2e64d5e9544c61f51b2c527b727b8ae2ee6)** to **[`cc45a3b`](https://github.com/sagemath/sagetrac-mirror/commit/cc45a3bfaa40905b72527dc1254e1e1e5086e0e4)**



---

archive/issue_comments_542834.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nAccording to \n\n```\ncurl -H \"Accept: application/vnd.github.v3+json\" https://api.github.com/networks/sagemath/sagetrac-mirror/events?per_page=100 | ConvertFrom-Json | where { $_.type -eq \"PushEvent\" } | Select actor\n```\nit is always `sageb0t`. I've now added a branch protection rule, see https://groups.google.com/g/sage-devel/c/Z1rx_uP7LtY. Thus the special handling of origin is no longer needed.",
    "created_at": "2022-04-01T14:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542834",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:57" align="right">comment:57</div>

According to 

```
curl -H "Accept: application/vnd.github.v3+json" https://api.github.com/networks/sagemath/sagetrac-mirror/events?per_page=100 | ConvertFrom-Json | where { $_.type -eq "PushEvent" } | Select actor
```
it is always `sageb0t`. I've now added a branch protection rule, see https://groups.google.com/g/sage-devel/c/Z1rx_uP7LtY. Thus the special handling of origin is no longer needed.



---

archive/issue_comments_542835.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nReplying to [@mkoeppe](#comment:52):\n> And I'd still prefer to move the line\n> \n> ```\n> +        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild\n> ```\n> to the very beginning so that it runs in both cases - it's easier to understand that it is correct\n\nI agree.",
    "created_at": "2022-04-01T14:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542835",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:58" align="right">comment:58</div>

Replying to [@mkoeppe](#comment:52):
> And I'd still prefer to move the line
> 
> ```
> +        git remote remove trac 2> /dev/null # might still exists from a previous run/prebuild
> ```
> to the very beginning so that it runs in both cases - it's easier to understand that it is correct

I agree.



---

archive/issue_comments_542836.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbe8724fede61a8e52795e48a9ef2c328f338adc\">bbe8724</a></td><td><code>Move reset of trac remote</code></td></tr></table>\n",
    "created_at": "2022-04-01T14:57:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542836",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbe8724fede61a8e52795e48a9ef2c328f338adc">bbe8724</a></td><td><code>Move reset of trac remote</code></td></tr></table>




---

archive/issue_comments_542837.json:
```json
{
    "body": "Changed commit from **[`cc45a3b`](https://github.com/sagemath/sagetrac-mirror/commit/cc45a3bfaa40905b72527dc1254e1e1e5086e0e4)** to **[`bbe8724`](https://github.com/sagemath/sagetrac-mirror/commit/bbe8724fede61a8e52795e48a9ef2c328f338adc)**",
    "created_at": "2022-04-01T14:57:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542837",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cc45a3b`](https://github.com/sagemath/sagetrac-mirror/commit/cc45a3bfaa40905b72527dc1254e1e1e5086e0e4)** to **[`bbe8724`](https://github.com/sagemath/sagetrac-mirror/commit/bbe8724fede61a8e52795e48a9ef2c328f338adc)**



---

archive/issue_comments_542838.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2022-04-01T15:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542838",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_461256.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T15:50:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461256"
}
```



---

archive/issue_events_461257.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T15:50:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461257"
}
```



---

archive/issue_comments_542839.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nThanks for the review and the many helpful suggestions!",
    "created_at": "2022-04-01T16:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542839",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:61" align="right">comment:61</div>

Thanks for the review and the many helpful suggestions!



---

archive/issue_comments_542840.json:
```json
{
    "body": "Changed branch from **[public/build/gitpod_trac_tracking](https://github.com/sagemath/sagetrac-mirror/tree/public/build/gitpod_trac_tracking)** to **[`bbe8724`](https://github.com/sagemath/sagetrac-mirror/commit/bbe8724fede61a8e52795e48a9ef2c328f338adc)**",
    "created_at": "2022-04-03T11:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33589#issuecomment-542840",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/build/gitpod_trac_tracking](https://github.com/sagemath/sagetrac-mirror/tree/public/build/gitpod_trac_tracking)** to **[`bbe8724`](https://github.com/sagemath/sagetrac-mirror/commit/bbe8724fede61a8e52795e48a9ef2c328f338adc)**



---

archive/issue_events_461258.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-03T11:13:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461258"
}
```



---

archive/issue_events_461259.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "97533a71f920fc17f1e2aac8b73e8fbd0dac9201",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-04-03T11:13:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33589",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33589#event-461259"
}
```
