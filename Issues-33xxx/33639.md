# Issue 33639: Replace sage.graphs.graph_editor with a call to phitigra

archive/issues_033402.json:
```json
{
    "assignees": [],
    "body": "phitigra was added as an optional package in #30540.\n\nTo launch the editor:\n\n```\nsage: e = graph_editor()\nsage: e.show()             # the editor widget appears\n```\n\nTo retrieve the graph:\n\n```\nsage: G = e.get_graph()   # G is a copy of the drawn graph, both can be modified independently\n```\n\n\nDepends on #30540\n\nCC:  @kcrisman @fchapoton @dcoudert @dimpase @jfraymond @novoselt\n\nBranch/Commit: **[0549fa9](https://github.com/sagemath/sagetrac-mirror/commit/0549fa931de58dea51edb56a4e2faea278b13e7a)**\n\nReviewer: **Matthias Koeppe, Kwankyu Lee**\n\nAuthor: **Jean-Florent Raymond**\n\nComponent: **user interface**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33639_\n\n",
    "closed_at": "2022-05-12T21:42:23Z",
    "created_at": "2022-04-03T18:42:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Replace sage.graphs.graph_editor with a call to phitigra",
    "type": "issue",
    "updated_at": "2022-05-12T21:42:23Z",
    "url": "https://github.com/sagemath/sage/issues/33639",
    "user": "https://github.com/mkoeppe"
}
```
phitigra was added as an optional package in #30540.

To launch the editor:

```
sage: e = graph_editor()
sage: e.show()             # the editor widget appears
```

To retrieve the graph:

```
sage: G = e.get_graph()   # G is a copy of the drawn graph, both can be modified independently
```


Depends on #30540

CC:  @kcrisman @fchapoton @dcoudert @dimpase @jfraymond @novoselt

Branch/Commit: **[0549fa9](https://github.com/sagemath/sagetrac-mirror/commit/0549fa931de58dea51edb56a4e2faea278b13e7a)**

Reviewer: **Matthias Koeppe, Kwankyu Lee**

Author: **Jean-Florent Raymond**

Component: **user interface**

_Issue created by migration from https://trac.sagemath.org/ticket/33639_





---

archive/issue_events_461819.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-03T18:42:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461819"
}
```



---

archive/issue_events_461820.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-03T18:42:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "000080",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461820"
}
```



---

archive/issue_events_461821.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-03T18:42:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461821"
}
```



---

archive/issue_events_461822.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-03T18:42:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461822"
}
```



---

archive/issue_comments_543599.json:
```json
{
    "body": "Dependencies: **#30540**",
    "created_at": "2022-04-12T06:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543599",
    "user": "https://github.com/jfraymond"
}
```

Dependencies: **#30540**



---

archive/issue_comments_543600.json:
```json
{
    "body": "Branch: **[u/gh-jfraymond/replace_graph_editor](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jfraymond/replace_graph_editor)**",
    "created_at": "2022-04-12T06:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543600",
    "user": "https://github.com/jfraymond"
}
```

Branch: **[u/gh-jfraymond/replace_graph_editor](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jfraymond/replace_graph_editor)**



---

archive/issue_comments_543601.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94717ee20571f408f482d2008cab3cf1dd2f3129\">94717ee</a></td><td><code>ticket 33639: replacing the deprecated graph editor with a call to phitigra</code></td></tr></table>\n",
    "created_at": "2022-04-12T06:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543601",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94717ee20571f408f482d2008cab3cf1dd2f3129">94717ee</a></td><td><code>ticket 33639: replacing the deprecated graph editor with a call to phitigra</code></td></tr></table>




---

archive/issue_comments_543602.json:
```json
{
    "body": "Commit: **[94717ee](https://github.com/sagemath/sagetrac-mirror/commit/94717ee20571f408f482d2008cab3cf1dd2f3129)**",
    "created_at": "2022-04-12T06:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543602",
    "user": "https://github.com/jfraymond"
}
```

Commit: **[94717ee](https://github.com/sagemath/sagetrac-mirror/commit/94717ee20571f408f482d2008cab3cf1dd2f3129)**



---

archive/issue_comments_543603.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nCould you add in the ticket description what should be done to launch the editor.\nI tried in a Jupiter notebook and only got:\n\n```\ngraph_editor()\n<phitigra.graph_editor.GraphEditor object at 0x1755ab820>\n```",
    "created_at": "2022-04-12T09:03:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543603",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:3" align="right">comment:3</div>

Could you add in the ticket description what should be done to launch the editor.
I tried in a Jupiter notebook and only got:

```
graph_editor()
<phitigra.graph_editor.GraphEditor object at 0x1755ab820>
```



---

archive/issue_comments_543604.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYes, I just added it in the description.\n\nIt is slightly different than the previous editor: here we define an editor object, that we have to display (with `.show()`) in order to draw the graph with the mouse. The drawn graph can then be retrieved with the `.get_graph()` method of the editor object.\n\nThe call to `graph_editor` could directly show the widget, but then I don't know how we would retrieve the drawn graph.\n\nBy the way, I am not done with the changes yet, I only pushed the commit so that  I can work on this from a different computer.",
    "created_at": "2022-04-12T11:35:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543604",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:4" align="right">comment:4</div>

Yes, I just added it in the description.

It is slightly different than the previous editor: here we define an editor object, that we have to display (with `.show()`) in order to draw the graph with the mouse. The drawn graph can then be retrieved with the `.get_graph()` method of the editor object.

The call to `graph_editor` could directly show the widget, but then I don't know how we would retrieve the drawn graph.

By the way, I am not done with the changes yet, I only pushed the commit so that  I can work on this from a different computer.



---

archive/issue_comments_543605.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,9 @@\n phitigra was added as an optional package in #30540.\n \n+To launch the editor:\n+\n+```\n+sage: e = graph_editor()\n+sage: e.show()             # the editor widget appears\n+```\n+\n``````\n",
    "created_at": "2022-04-12T11:35:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543605",
    "user": "https://github.com/jfraymond"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,9 @@
 phitigra was added as an optional package in #30540.
 
+To launch the editor:
+
+```
+sage: e = graph_editor()
+sage: e.show()             # the editor widget appears
+```
+
``````




---

archive/issue_comments_543606.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,9 @@\n sage: e.show()             # the editor widget appears\n ```\n \n+To retrieve the graph:\n+\n+```\n+sage: G = e.get_graph()   # G is a copy of the drawn graph, both can be modified independently\n+```\n+\n``````\n",
    "created_at": "2022-04-12T11:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543606",
    "user": "https://github.com/jfraymond"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,9 @@
 sage: e.show()             # the editor widget appears
 ```
 
+To retrieve the graph:
+
+```
+sage: G = e.get_graph()   # G is a copy of the drawn graph, both can be modified independently
+```
+
``````




---

archive/issue_comments_543607.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks for working on this!  The old graph editor was really a fantastic resource we loved to show off, and a good replacement  would have been useful even last week for me to advertise.\n\nIf there is the possibility of demonstrating/documenting a few (even if not possible to be tested) examples in your coming updates, that would also be great.  It is likely that this would be used by people \n\nAlso, if we could see whether this works properly in the Sage cell server before it's released in a final version (beta is fine), that would be good, so I'm cc:ing Andrey N.",
    "created_at": "2022-04-12T12:00:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543607",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks for working on this!  The old graph editor was really a fantastic resource we loved to show off, and a good replacement  would have been useful even last week for me to advertise.

If there is the possibility of demonstrating/documenting a few (even if not possible to be tested) examples in your coming updates, that would also be great.  It is likely that this would be used by people 

Also, if we could see whether this works properly in the Sage cell server before it's released in a final version (beta is fine), that would be good, so I'm cc:ing Andrey N.



---

archive/issue_comments_543608.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@kcrisman](#comment:6):\n> Thanks for working on this!  The old graph editor was really a fantastic resource we loved to show off, and a good replacement  would have been useful even last week for me to advertise.\n> \n> If there is the possibility of demonstrating/documenting a few (even if not possible to be tested) examples in your coming updates, that would also be great.  It is likely that this would be used by people \n> \n> Also, if we could see whether this works properly in the Sage cell server before it's released in a final version (beta is fine), that would be good, so I'm cc:ing Andrey N.\n\nHi,\n\nThe repository of the editor widget ( https://github.com/jfraymond/phitigra ) has a demo notebook (`demo.ipynb`) where some of the examples of use are shown.\n\nCurrently it is already possible to try the demo notebook after installing the editor package with `sage -pip`.\n\nDuring a short period of time it was possible to run it on mybinder https://mybinder.org/v2/gh/jfraymond/phitigra/master?filepath=demo.ipynb but for some reason (on the mybinder side?) it stopped working.",
    "created_at": "2022-04-12T12:10:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543608",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@kcrisman](#comment:6):
> Thanks for working on this!  The old graph editor was really a fantastic resource we loved to show off, and a good replacement  would have been useful even last week for me to advertise.
> 
> If there is the possibility of demonstrating/documenting a few (even if not possible to be tested) examples in your coming updates, that would also be great.  It is likely that this would be used by people 
> 
> Also, if we could see whether this works properly in the Sage cell server before it's released in a final version (beta is fine), that would be good, so I'm cc:ing Andrey N.

Hi,

The repository of the editor widget ( https://github.com/jfraymond/phitigra ) has a demo notebook (`demo.ipynb`) where some of the examples of use are shown.

Currently it is already possible to try the demo notebook after installing the editor package with `sage -pip`.

During a short period of time it was possible to run it on mybinder https://mybinder.org/v2/gh/jfraymond/phitigra/master?filepath=demo.ipynb but for some reason (on the mybinder side?) it stopped working.



---

archive/issue_comments_543609.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI tried on macOS 12.2.1 and it works well. It just needs some documentation.",
    "created_at": "2022-04-12T14:15:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543609",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">comment:8</div>

I tried on macOS 12.2.1 and it works well. It just needs some documentation.



---

archive/issue_comments_543610.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n\n```\n+    try:\n+        from phitigra import GraphEditor\n+    except ModuleNotFoundError:\n+        raise ModuleNotFoundError(\"The graph editor is provided by the optional package phitigra, which currently not installed.\")\n```\nIt's best to replace this with a \"lazy_import with feature\", similar to \nhttps://github.com/sagemath/sage/blob/develop/src/sage/sat/solvers/picosat.py#L23",
    "created_at": "2022-04-13T01:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543610",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>


```
+    try:
+        from phitigra import GraphEditor
+    except ModuleNotFoundError:
+        raise ModuleNotFoundError("The graph editor is provided by the optional package phitigra, which currently not installed.")
```
It's best to replace this with a "lazy_import with feature", similar to 
https://github.com/sagemath/sage/blob/develop/src/sage/sat/solvers/picosat.py#L23



---

archive/issue_comments_543611.json:
```json
{
    "body": "Changed commit from **[94717ee](https://github.com/sagemath/sagetrac-mirror/commit/94717ee20571f408f482d2008cab3cf1dd2f3129)** to **[6323a38](https://github.com/sagemath/sagetrac-mirror/commit/6323a380d6c1952ef4a0d312002afe642097b968)**",
    "created_at": "2022-04-20T07:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543611",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[94717ee](https://github.com/sagemath/sagetrac-mirror/commit/94717ee20571f408f482d2008cab3cf1dd2f3129)** to **[6323a38](https://github.com/sagemath/sagetrac-mirror/commit/6323a380d6c1952ef4a0d312002afe642097b968)**



---

archive/issue_comments_543612.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6323a380d6c1952ef4a0d312002afe642097b968\">6323a38</a></td><td><code>33639: use of lazy import + examples</code></td></tr></table>\n",
    "created_at": "2022-04-20T07:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543612",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6323a380d6c1952ef4a0d312002afe642097b968">6323a38</a></td><td><code>33639: use of lazy import + examples</code></td></tr></table>




---

archive/issue_comments_543613.json:
```json
{
    "body": "Changed commit from **[6323a38](https://github.com/sagemath/sagetrac-mirror/commit/6323a380d6c1952ef4a0d312002afe642097b968)** to **[f2adae6](https://github.com/sagemath/sagetrac-mirror/commit/f2adae67566313d5fe58e0a1b283d44eab642c03)**",
    "created_at": "2022-04-20T09:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543613",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6323a38](https://github.com/sagemath/sagetrac-mirror/commit/6323a380d6c1952ef4a0d312002afe642097b968)** to **[f2adae6](https://github.com/sagemath/sagetrac-mirror/commit/f2adae67566313d5fe58e0a1b283d44eab642c03)**



---

archive/issue_comments_543614.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a58884c62b4ee6c4d0ad47a8ff40e2ce8fb6863\">8a58884</a></td><td><code>33639: minor improvements in documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87b67c91202e7eddf0df8e61a0c7b2b32e3321b7\">87b67c9</a></td><td><code>33639: Merge branch 'develop' into replace_graph_editor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2adae67566313d5fe58e0a1b283d44eab642c03\">f2adae6</a></td><td><code>33639: added live widget examples in the docstrings with \".. JUPYTER-EXECUTE\"</code></td></tr></table>\n",
    "created_at": "2022-04-20T09:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543614",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a58884c62b4ee6c4d0ad47a8ff40e2ce8fb6863">8a58884</a></td><td><code>33639: minor improvements in documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87b67c91202e7eddf0df8e61a0c7b2b32e3321b7">87b67c9</a></td><td><code>33639: Merge branch 'develop' into replace_graph_editor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2adae67566313d5fe58e0a1b283d44eab642c03">f2adae6</a></td><td><code>33639: added live widget examples in the docstrings with ".. JUPYTER-EXECUTE"</code></td></tr></table>




---

archive/issue_comments_543615.json:
```json
{
    "body": "Author: **Jean-Florent Raymond**",
    "created_at": "2022-04-20T10:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543615",
    "user": "https://github.com/jfraymond"
}
```

Author: **Jean-Florent Raymond**



---

archive/issue_comments_543616.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThere are now some live examples of the widget using the recently introduced \".. JUPYTER-EXECUTE::\" sphinx directive (this is the reason why I merged the develop branch). I was not able to completely test them, presumably because the version of sage running them (online?) does not include the current ticket yet. If this is a problem I can revert to a previous commit and add the examples in an other ticket.",
    "created_at": "2022-04-20T10:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543616",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:12" align="right">comment:12</div>

There are now some live examples of the widget using the recently introduced ".. JUPYTER-EXECUTE::" sphinx directive (this is the reason why I merged the develop branch). I was not able to completely test them, presumably because the version of sage running them (online?) does not include the current ticket yet. If this is a problem I can revert to a previous commit and add the examples in an other ticket.



---

archive/issue_events_461823.json:
```json
{
    "actor": "https://github.com/jfraymond",
    "created_at": "2022-04-20T10:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461823"
}
```



---

archive/issue_comments_543617.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWhat's the expected behavior of the live examples if phitigra is not installed ?",
    "created_at": "2022-04-20T14:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543617",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:13" align="right">comment:13</div>

What's the expected behavior of the live examples if phitigra is not installed ?



---

archive/issue_comments_543618.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThat's a good question. I just tested and the documentation does not build in this case :(.\n\nIf I guessed correctly from what I experienced in this first encounter with sphinx-jupyter\n* there is a non-interactive \"preview\" of the jupyter part generated when building the doc (this clearly requires the package to exist on the computer building the doc)\n* then one can click on the \"Make live\" button and run the code of the cell on some server somewhere in the cloud (for this to work this server as well should have the package)\n\nAs it is an optional package I guess the correct choice here is to remove these live examples, right ?\nBy the way, how should I proceed with the doctests (that also require the package to be installed)? Is there a way to tell sage to skip the tests in a file if the package is not present, of is it better to mark all the examples and tests with `# not tested`? (Tests are being made in the package anyway).",
    "created_at": "2022-04-20T16:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543618",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:14" align="right">comment:14</div>

That's a good question. I just tested and the documentation does not build in this case :(.

If I guessed correctly from what I experienced in this first encounter with sphinx-jupyter
* there is a non-interactive "preview" of the jupyter part generated when building the doc (this clearly requires the package to exist on the computer building the doc)
* then one can click on the "Make live" button and run the code of the cell on some server somewhere in the cloud (for this to work this server as well should have the package)

As it is an optional package I guess the correct choice here is to remove these live examples, right ?
By the way, how should I proceed with the doctests (that also require the package to be installed)? Is there a way to tell sage to skip the tests in a file if the package is not present, of is it better to mark all the examples and tests with `# not tested`? (Tests are being made in the package anyway).



---

archive/issue_comments_543619.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYou can try `# optional - phitigra`, but since the introduction of `Feature` other solutions might be better.\n\nMatthias will certainly clarify this.",
    "created_at": "2022-04-20T16:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543619",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">comment:15</div>

You can try `# optional - phitigra`, but since the introduction of `Feature` other solutions might be better.

Matthias will certainly clarify this.



---

archive/issue_comments_543620.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n`# optional - phitigra` is the correct solution, but to make it work, you will have to add a module `sage.features.phitigra`. You can adapt it from `sage.features.igraph`.",
    "created_at": "2022-04-20T20:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543620",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

`# optional - phitigra` is the correct solution, but to make it work, you will have to add a module `sage.features.phitigra`. You can adapt it from `sage.features.igraph`.



---

archive/issue_comments_543621.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n... or adapt it from `sage.features.sphinx`, which is a tiny bit simpler.",
    "created_at": "2022-04-20T20:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543621",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

... or adapt it from `sage.features.sphinx`, which is a tiny bit simpler.



---

archive/issue_comments_543622.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis is a nice addition to sage. Thanks for working on this.\n\nA few comments:\n\n1. The ticket #33320 would make all code blocks in sage docoumentation runnable. This will in effect deprecate using `.. JUPYTER-EXECUTE::` directly. The ticket needs review too.\n\n2. Please respect the developer's guide: https://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files. The file `graph_editor.py` is old, and does not follow the guidelines.",
    "created_at": "2022-04-22T06:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543622",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:18" align="right">comment:18</div>

This is a nice addition to sage. Thanks for working on this.

A few comments:

1. The ticket #33320 would make all code blocks in sage docoumentation runnable. This will in effect deprecate using `.. JUPYTER-EXECUTE::` directly. The ticket needs review too.

2. Please respect the developer's guide: https://doc.sagemath.org/html/en/developer/coding_basics.html#headings-of-sage-library-code-files. The file `graph_editor.py` is old, and does not follow the guidelines.



---

archive/issue_comments_543623.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@kwankyu](#comment:18):\n> 1. The ticket #33320 would make all code blocks in sage docoumentation runnable. This will in effect deprecate using `.. JUPYTER-EXECUTE::` directly. The ticket needs review too.\n\nTo be clear, there is no problem in your using `.. JUPYTER-EXECUTE::` in this ticket.",
    "created_at": "2022-04-22T06:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543623",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@kwankyu](#comment:18):
> 1. The ticket #33320 would make all code blocks in sage docoumentation runnable. This will in effect deprecate using `.. JUPYTER-EXECUTE::` directly. The ticket needs review too.

To be clear, there is no problem in your using `.. JUPYTER-EXECUTE::` in this ticket.



---

archive/issue_comments_543624.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThank you all for the advice!\n\nReplying to [@kwankyu](#comment:18):\n> 1. The ticket #33320 would make all code blocks in sage docoumentation runnable. This will in effect deprecate using `.. JUPYTER-EXECUTE::` directly. The ticket needs review too.\n\nIs there a way (maybe with #33320?) to tell sphinx that the **live** code blocks depend on an optional package and should be ignored if the package is not installed (like the `# optional - <package_name>` tag for doctests)?\nIt seems that currently, what is in a `.. JUPYTER-EXECUTE` block gets ran anyway (even with the `# optional - <package_name>` tag) which results in an error if the package is not installed. (I read about the `.. ifconfig::` directive in sphinx's doc to conditionally include some sections but it seems that it comes as an extention that is not in our sphinx install.)",
    "created_at": "2022-04-22T06:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543624",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:20" align="right">comment:20</div>

Thank you all for the advice!

Replying to [@kwankyu](#comment:18):
> 1. The ticket #33320 would make all code blocks in sage docoumentation runnable. This will in effect deprecate using `.. JUPYTER-EXECUTE::` directly. The ticket needs review too.

Is there a way (maybe with #33320?) to tell sphinx that the **live** code blocks depend on an optional package and should be ignored if the package is not installed (like the `# optional - <package_name>` tag for doctests)?
It seems that currently, what is in a `.. JUPYTER-EXECUTE` block gets ran anyway (even with the `# optional - <package_name>` tag) which results in an error if the package is not installed. (I read about the `.. ifconfig::` directive in sphinx's doc to conditionally include some sections but it seems that it comes as an extention that is not in our sphinx install.)



---

archive/issue_events_461824.json:
```json
{
    "actor": "https://github.com/jfraymond",
    "created_at": "2022-04-22T06:39:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461824"
}
```



---

archive/issue_events_461825.json:
```json
{
    "actor": "https://github.com/jfraymond",
    "created_at": "2022-04-22T06:39:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461825"
}
```



---

archive/issue_comments_543625.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jfraymond](#comment:20):\n> Thank you all for the advice!\n> \n> Replying to [@kwankyu](#comment:18):\n> > 1. The ticket #33320 would make all code blocks in sage docoumentation runnable. This will in effect deprecate using `.. JUPYTER-EXECUTE::` directly. The ticket needs review too.\n\n> \n> Is there a way (maybe with #33320?) to tell sphinx that the **live** code blocks depend on an optional package and should be ignored if the package is not installed (like the `# optional - <package_name>` tag for doctests)?\n> It seems that currently, what is in a `.. JUPYTER-EXECUTE` block gets ran anyway (even with the `# optional - <package_name>` tag) which results in an error if the package is not installed. (I read about the `.. ifconfig::` directive in sphinx's doc to conditionally include some sections but it seems that it comes as an extension that is not in our sphinx install.)\n\nYou mean the error in building the reference manual. Right. Currently there is no way to avoid that. As you observed, the vanilla jupyter-sphinx run the code block in the build time, needlessly for us.\n\nWith #33320, the patched jupyter-sphinx do no run code blocks in the build time. So there should be no problem. But unfortunately as I just checked, because of a bug in #33320, this ticket merged with #33320 still fails. I would work on this.",
    "created_at": "2022-04-22T07:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543625",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jfraymond](#comment:20):
> Thank you all for the advice!
> 
> Replying to [@kwankyu](#comment:18):
> > 1. The ticket #33320 would make all code blocks in sage docoumentation runnable. This will in effect deprecate using `.. JUPYTER-EXECUTE::` directly. The ticket needs review too.

> 
> Is there a way (maybe with #33320?) to tell sphinx that the **live** code blocks depend on an optional package and should be ignored if the package is not installed (like the `# optional - <package_name>` tag for doctests)?
> It seems that currently, what is in a `.. JUPYTER-EXECUTE` block gets ran anyway (even with the `# optional - <package_name>` tag) which results in an error if the package is not installed. (I read about the `.. ifconfig::` directive in sphinx's doc to conditionally include some sections but it seems that it comes as an extension that is not in our sphinx install.)

You mean the error in building the reference manual. Right. Currently there is no way to avoid that. As you observed, the vanilla jupyter-sphinx run the code block in the build time, needlessly for us.

With #33320, the patched jupyter-sphinx do no run code blocks in the build time. So there should be no problem. But unfortunately as I just checked, because of a bug in #33320, this ticket merged with #33320 still fails. I would work on this.



---

archive/issue_comments_543626.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@kwankyu](#comment:21):\n> With #33320, the patched jupyter-sphinx do no run code blocks in the build time. So there should be no problem. But unfortunately as I just checked, because of a bug in #33320, this ticket merged with #33320 still fails. I would work on this. \n\nIf you remove the `.. JUPYTER-EXECUTE::` block and build the live doc, there would be no problem.",
    "created_at": "2022-04-22T07:10:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543626",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@kwankyu](#comment:21):
> With #33320, the patched jupyter-sphinx do no run code blocks in the build time. So there should be no problem. But unfortunately as I just checked, because of a bug in #33320, this ticket merged with #33320 still fails. I would work on this. 

If you remove the `.. JUPYTER-EXECUTE::` block and build the live doc, there would be no problem.



---

archive/issue_comments_543627.json:
```json
{
    "body": "Changed commit from **[f2adae6](https://github.com/sagemath/sagetrac-mirror/commit/f2adae67566313d5fe58e0a1b283d44eab642c03)** to **[961ec2f](https://github.com/sagemath/sagetrac-mirror/commit/961ec2f8cde876384eef8b8a3a2c0cfa65c17282)**",
    "created_at": "2022-04-22T11:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543627",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f2adae6](https://github.com/sagemath/sagetrac-mirror/commit/f2adae67566313d5fe58e0a1b283d44eab642c03)** to **[961ec2f](https://github.com/sagemath/sagetrac-mirror/commit/961ec2f8cde876384eef8b8a3a2c0cfa65c17282)**



---

archive/issue_comments_543628.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80ed44f5b6ee127c26b16e5d1f128aca97085459\">80ed44f</a></td><td><code>33639: removed live examples + added feature file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/961ec2f8cde876384eef8b8a3a2c0cfa65c17282\">961ec2f</a></td><td><code>33639: updated headings</code></td></tr></table>\n",
    "created_at": "2022-04-22T11:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543628",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80ed44f5b6ee127c26b16e5d1f128aca97085459">80ed44f</a></td><td><code>33639: removed live examples + added feature file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/961ec2f8cde876384eef8b8a3a2c0cfa65c17282">961ec2f</a></td><td><code>33639: updated headings</code></td></tr></table>




---

archive/issue_comments_543629.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSo in the end I removed all examples of live code (with `JUPYTER_EXECUTE`) because otherwise the doc would not build on systems without the package. If at some point (after #33320 is completed?) it becomes possible to have these live examples, I can add them back (in a different ticket).  \n\n\nOn my computer the tests succeed and the doc builds (for this file) regardless of whether phitigra is installed or not.",
    "created_at": "2022-04-22T11:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543629",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:24" align="right">comment:24</div>

So in the end I removed all examples of live code (with `JUPYTER_EXECUTE`) because otherwise the doc would not build on systems without the package. If at some point (after #33320 is completed?) it becomes possible to have these live examples, I can add them back (in a different ticket).  


On my computer the tests succeed and the doc builds (for this file) regardless of whether phitigra is installed or not.



---

archive/issue_events_461826.json:
```json
{
    "actor": "https://github.com/jfraymond",
    "created_at": "2022-04-22T11:53:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461826"
}
```



---

archive/issue_events_461827.json:
```json
{
    "actor": "https://github.com/jfraymond",
    "created_at": "2022-04-22T11:53:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461827"
}
```



---

archive/issue_comments_543630.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\n\n```\n+from sage.features import PythonModule\n+lazy_import('phitigra', 'GraphEditor',\n+            feature=PythonModule('phitigra', spkg='phitigra'))\n```\nNow that `sage.features.phitigra.Phitigra` exists, it is best to use it here",
    "created_at": "2022-04-22T19:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543630",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>


```
+from sage.features import PythonModule
+lazy_import('phitigra', 'GraphEditor',
+            feature=PythonModule('phitigra', spkg='phitigra'))
```
Now that `sage.features.phitigra.Phitigra` exists, it is best to use it here



---

archive/issue_comments_543631.json:
```json
{
    "body": "Changed commit from **[961ec2f](https://github.com/sagemath/sagetrac-mirror/commit/961ec2f8cde876384eef8b8a3a2c0cfa65c17282)** to **[8b86a03](https://github.com/sagemath/sagetrac-mirror/commit/8b86a033ef7d6c69532ce397f2cb625aacb1a17f)**",
    "created_at": "2022-04-23T07:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543631",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[961ec2f](https://github.com/sagemath/sagetrac-mirror/commit/961ec2f8cde876384eef8b8a3a2c0cfa65c17282)** to **[8b86a03](https://github.com/sagemath/sagetrac-mirror/commit/8b86a033ef7d6c69532ce397f2cb625aacb1a17f)**



---

archive/issue_comments_543632.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b86a033ef7d6c69532ce397f2cb625aacb1a17f\">8b86a03</a></td><td><code>33639: using sage.phitigra.feature</code></td></tr></table>\n",
    "created_at": "2022-04-23T07:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543632",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b86a033ef7d6c69532ce397f2cb625aacb1a17f">8b86a03</a></td><td><code>33639: using sage.phitigra.feature</code></td></tr></table>




---

archive/issue_comments_543633.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI just replaced like that:\n\n```diff\n-from sage.features import PythonModule\n-lazy_import('phitigra', 'GraphEditor',\n-            feature=PythonModule('phitigra', spkg='phitigra'))\n+from sage.features.phitigra import Phitigra\n+lazy_import('phitigra', 'GraphEditor', feature=Phitigra())\n```",
    "created_at": "2022-04-23T07:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543633",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:27" align="right">comment:27</div>

I just replaced like that:

```diff
-from sage.features import PythonModule
-lazy_import('phitigra', 'GraphEditor',
-            feature=PythonModule('phitigra', spkg='phitigra'))
+from sage.features.phitigra import Phitigra
+lazy_import('phitigra', 'GraphEditor', feature=Phitigra())
```



---

archive/issue_comments_543634.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, ...**",
    "created_at": "2022-04-23T17:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543634",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, ...**



---

archive/issue_comments_543635.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThanks, the use of `Feature`s looks good now.",
    "created_at": "2022-04-23T17:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543635",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Thanks, the use of `Feature`s looks good now.



---

archive/issue_comments_543636.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Kwankyu Lee**",
    "created_at": "2022-04-24T09:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543636",
    "user": "https://github.com/kwankyu"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Kwankyu Lee**



---

archive/issue_comments_543637.json:
```json
{
    "body": "Changed commit from **[8b86a03](https://github.com/sagemath/sagetrac-mirror/commit/8b86a033ef7d6c69532ce397f2cb625aacb1a17f)** to **[967cd5d](https://github.com/sagemath/sagetrac-mirror/commit/967cd5d6023a90b1f8c4613756e68400bff866ca)**",
    "created_at": "2022-04-24T09:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543637",
    "user": "https://github.com/kwankyu"
}
```

Changed commit from **[8b86a03](https://github.com/sagemath/sagetrac-mirror/commit/8b86a033ef7d6c69532ce397f2cb625aacb1a17f)** to **[967cd5d](https://github.com/sagemath/sagetrac-mirror/commit/967cd5d6023a90b1f8c4613756e68400bff866ca)**



---

archive/issue_comments_543638.json:
```json
{
    "body": "Changed branch from **[u/gh-jfraymond/replace_graph_editor](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jfraymond/replace_graph_editor)** to **[public/33639](https://github.com/sagemath/sagetrac-mirror/tree/public/33639)**",
    "created_at": "2022-04-24T09:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543638",
    "user": "https://github.com/kwankyu"
}
```

Changed branch from **[u/gh-jfraymond/replace_graph_editor](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jfraymond/replace_graph_editor)** to **[public/33639](https://github.com/sagemath/sagetrac-mirror/tree/public/33639)**



---

archive/issue_comments_543639.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/967cd5d6023a90b1f8c4613756e68400bff866ca\">967cd5d</a></td><td><code>Reviewer edits</code></td></tr></table>\n",
    "created_at": "2022-04-24T09:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543639",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:29"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/967cd5d6023a90b1f8c4613756e68400bff866ca">967cd5d</a></td><td><code>Reviewer edits</code></td></tr></table>




---

archive/issue_comments_543640.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI did some edits. If you are okay with those, then you can give positive review.",
    "created_at": "2022-04-24T09:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543640",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:30" align="right">comment:30</div>

I did some edits. If you are okay with those, then you can give positive review.



---

archive/issue_events_461828.json:
```json
{
    "actor": "https://github.com/jfraymond",
    "created_at": "2022-04-24T10:54:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461828"
}
```



---

archive/issue_events_461829.json:
```json
{
    "actor": "https://github.com/jfraymond",
    "created_at": "2022-04-24T10:54:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461829"
}
```



---

archive/issue_comments_543641.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThanks!",
    "created_at": "2022-04-24T10:54:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543641",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:31" align="right">comment:31</div>

Thanks!



---

archive/issue_events_461830.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-07T18:35:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461830"
}
```



---

archive/issue_events_461831.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-07T18:35:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461831"
}
```



---

archive/issue_comments_543642.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0549fa931de58dea51edb56a4e2faea278b13e7a\">0549fa9</a></td><td><code>33639: minor change to make the patchbots happy</code></td></tr></table>\n",
    "created_at": "2022-05-08T07:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543642",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0549fa931de58dea51edb56a4e2faea278b13e7a">0549fa9</a></td><td><code>33639: minor change to make the patchbots happy</code></td></tr></table>




---

archive/issue_events_461832.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-05-08T07:32:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461832"
}
```



---

archive/issue_events_461833.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-05-08T07:32:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461833"
}
```



---

archive/issue_comments_543643.json:
```json
{
    "body": "Changed commit from **[967cd5d](https://github.com/sagemath/sagetrac-mirror/commit/967cd5d6023a90b1f8c4613756e68400bff866ca)** to **[0549fa9](https://github.com/sagemath/sagetrac-mirror/commit/0549fa931de58dea51edb56a4e2faea278b13e7a)**",
    "created_at": "2022-05-08T07:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543643",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[967cd5d](https://github.com/sagemath/sagetrac-mirror/commit/967cd5d6023a90b1f8c4613756e68400bff866ca)** to **[0549fa9](https://github.com/sagemath/sagetrac-mirror/commit/0549fa931de58dea51edb56a4e2faea278b13e7a)**



---

archive/issue_events_461834.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-08T07:36:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461834"
}
```



---

archive/issue_events_461835.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-08T07:36:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461835"
}
```



---

archive/issue_comments_543644.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nthis was not necessary ; patchbot is dumb and only giving advice\n\nsuggestion : never ever do something on a positive reviewed ticket, unless it is critical",
    "created_at": "2022-05-08T07:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543644",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:34" align="right">comment:34</div>

this was not necessary ; patchbot is dumb and only giving advice

suggestion : never ever do something on a positive reviewed ticket, unless it is critical



---

archive/issue_comments_543645.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nOK, thanks for the advice and sorry for the useless commit then.\nI though this was what was preventing the ticket to be closed.\nAnd indeed the patchbot can be dumb, here I think it was the word \"sagenb\" **in a comment** that was causing the problem.",
    "created_at": "2022-05-08T07:39:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543645",
    "user": "https://github.com/jfraymond"
}
```

<div id="comment:35" align="right">comment:35</div>

OK, thanks for the advice and sorry for the useless commit then.
I though this was what was preventing the ticket to be closed.
And indeed the patchbot can be dumb, here I think it was the word "sagenb" **in a comment** that was causing the problem.



---

archive/issue_comments_543646.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nBah, \u00e7a prend toujours une plombe pour qu'un ticket soit int\u00e9gr\u00e9 dans sage. Et encore plus longtemps quand on est dans une p\u00e9riode juste avant une nouvelle version. La 9.6 ne va pas tarder.",
    "created_at": "2022-05-08T07:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543646",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:36" align="right">comment:36</div>

Bah, a prend toujours une plombe pour qu'un ticket soit intgr dans sage. Et encore plus longtemps quand on est dans une priode juste avant une nouvelle version. La 9.6 ne va pas tarder.



---

archive/issue_events_461836.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-12T21:42:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461836"
}
```



---

archive/issue_events_461837.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "68a765215a7a7b78db8ecd37d0ccff19e2fe90ee",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-05-12T21:42:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33639#event-461837"
}
```



---

archive/issue_comments_543647.json:
```json
{
    "body": "Changed branch from **[public/33639](https://github.com/sagemath/sagetrac-mirror/tree/public/33639)** to **[0549fa9](https://github.com/sagemath/sagetrac-mirror/commit/0549fa931de58dea51edb56a4e2faea278b13e7a)**",
    "created_at": "2022-05-12T21:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33639#issuecomment-543647",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/33639](https://github.com/sagemath/sagetrac-mirror/tree/public/33639)** to **[0549fa9](https://github.com/sagemath/sagetrac-mirror/commit/0549fa931de58dea51edb56a4e2faea278b13e7a)**
