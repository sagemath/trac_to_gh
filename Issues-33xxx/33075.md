# Issue 33075: Constant field extension of function fields

archive/issues_032838.json:
```json
{
    "body": "We add constant field extensions of function fields, which can compute conorms of places and divisors.\n\nAlong the way, we \n\n(1) add `is_effective`, `numerator`, `denominator` methods to divisors;\n\n(2) fix some methods to return Integer values rather than `int`;\n\n(3) fix minor inconveniences.\n\nBranch/Commit: 09e3b703044ac241e248df93440a8c64babd2e9e\n\nReviewer: Travis Scrimshaw\n\nAuthor: Kwankyu Lee\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33075\n\n",
    "closed_at": "2022-03-09T23:38:15Z",
    "created_at": "2021-12-24T07:50:44Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Constant field extension of function fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33075",
    "user": "https://github.com/kwankyu"
}
```
We add constant field extensions of function fields, which can compute conorms of places and divisors.

Along the way, we 

(1) add `is_effective`, `numerator`, `denominator` methods to divisors;

(2) fix some methods to return Integer values rather than `int`;

(3) fix minor inconveniences.

Branch/Commit: 09e3b703044ac241e248df93440a8c64babd2e9e

Reviewer: Travis Scrimshaw

Author: Kwankyu Lee

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33075





---

archive/issue_comments_499875.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-24T07:51:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499875",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499876.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-24T07:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499876",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_499877.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n We add constant field extension of function fields, which can compute conorms of divisors.\n+\n+Along the way, we add \\`is_effective\\` method to divisors and do a fix for integer return values.\n \n Comment: 1\n \n```\n",
    "created_at": "2021-12-24T07:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499877",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,6 @@
 We add constant field extension of function fields, which can compute conorms of divisors.
+
+Along the way, we add \`is_effective\` method to divisors and do a fix for integer return values.
 
 Comment: 1
 
```




---

archive/issue_comments_499878.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-24T08:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499878",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_087393.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-27T01:03:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33075#event-87393"
}
```



---

archive/issue_comments_499879.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-12-31T10:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499879",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_499880.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-01T02:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_499881.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-01T02:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499881",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_499882.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-03T00:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499883.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-03T01:13:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499883",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499884.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-04T07:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499884",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499885.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-11T11:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499885",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_499886.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-12T05:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499886",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499887.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-12T05:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499887",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_499888.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+We add constant field extension of function fields, which can compute conorms of places and divisors.\n \n+Along the way, we \n+\n+(1) add \\`is_effective\\` method to divisors, \n+\n+(2) fix some methods to return Integer values rather than \\`int\\`.\n+\n+(3) fix some minor inconveniences.\n \n Comment: 1\n \n```\n",
    "created_at": "2022-01-12T05:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499888",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+We add constant field extension of function fields, which can compute conorms of places and divisors.
 
+Along the way, we 
+
+(1) add \`is_effective\` method to divisors, 
+
+(2) fix some methods to return Integer values rather than \`int\`.
+
+(3) fix some minor inconveniences.
 
 Comment: 1
 
```




---

archive/issue_comments_499889.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-12T06:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499889",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499890.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-12T06:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499890",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499891.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+We add constant field extensions of function fields, which can compute conorms of places and divisors.\n \n+Along the way, we \n+\n+(1) add \\`is_effective\\` method to divisors, \n+\n+(2) fix some methods to return Integer values rather than \\`int\\`.\n+\n+(3) fix minor inconveniences.\n \n Comment: 1\n \n```\n",
    "created_at": "2022-01-12T06:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499891",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+We add constant field extensions of function fields, which can compute conorms of places and divisors.
 
+Along the way, we 
+
+(1) add \`is_effective\` method to divisors, 
+
+(2) fix some methods to return Integer values rather than \`int\`.
+
+(3) fix minor inconveniences.
 
 Comment: 1
 
```




---

archive/issue_comments_499892.json:
```json
{
    "body": "<a id='comment:20'></a>Am I correct in that the `conorm_*` depend on knowing this is an extension and what that extension is? Perhaps we can simplify the implementation by not having this extension class (which otherwise just differs by the base ring, correct?), but instead having the `conorm_*` take an extra argument for a subfield of the base field. This would mean less work to get this data, and we wouldn't have to find a name for a field extension by the field of constants (constant field extension is also awkward to me as a non-expert in this area).",
    "created_at": "2022-02-27T08:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499892",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>Am I correct in that the `conorm_*` depend on knowing this is an extension and what that extension is? Perhaps we can simplify the implementation by not having this extension class (which otherwise just differs by the base ring, correct?), but instead having the `conorm_*` take an extra argument for a subfield of the base field. This would mean less work to get this data, and we wouldn't have to find a name for a field extension by the field of constants (constant field extension is also awkward to me as a non-expert in this area).



---

archive/issue_comments_499893.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-27T10:15:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499893",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499894.json:
```json
{
    "body": "<a id='comment:22'></a>First, thank you for your attention!\n\n> Am I correct in that the `conorm_*` depend on knowing this is an extension and what that extension is? \n\n\nExtension of function fields. Yes, of course.\n\n> Perhaps we can simplify the implementation by not having this extension class (which otherwise just differs by the base ring, correct?), but instead having the `conorm_*` take an extra argument for a subfield of the base field. \n\n\n`conorm_*` methods use the data `self._embedF` that is computed in the initialization method. If we do not have this extension class `ConstantFieldExtension`, then `conorm_*` methods will take more time to compute the return value. This is inefficient because they are supposed to be invoked many times for a fixed extension (in the code for Jacobians of function fields I am developing).\n\n> This would mean less work to get this data, and we wouldn't have to find a name for a field extension by the field of constants (constant field extension is also awkward to me as a non-expert in this area).\n\n\nThe name \"constant field extension\" is standard in the theory of function fields. And there are other \"* extensions\" like \"Artin-Shreier\", \"Kummer\", ..., which could be implemented in future in the same module `function_fields.extensions`.",
    "created_at": "2022-02-27T11:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499894",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:22'></a>First, thank you for your attention!

> Am I correct in that the `conorm_*` depend on knowing this is an extension and what that extension is? 


Extension of function fields. Yes, of course.

> Perhaps we can simplify the implementation by not having this extension class (which otherwise just differs by the base ring, correct?), but instead having the `conorm_*` take an extra argument for a subfield of the base field. 


`conorm_*` methods use the data `self._embedF` that is computed in the initialization method. If we do not have this extension class `ConstantFieldExtension`, then `conorm_*` methods will take more time to compute the return value. This is inefficient because they are supposed to be invoked many times for a fixed extension (in the code for Jacobians of function fields I am developing).

> This would mean less work to get this data, and we wouldn't have to find a name for a field extension by the field of constants (constant field extension is also awkward to me as a non-expert in this area).


The name "constant field extension" is standard in the theory of function fields. And there are other "* extensions" like "Artin-Shreier", "Kummer", ..., which could be implemented in future in the same module `function_fields.extensions`.



---

archive/issue_comments_499895.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+We add constant field extensions of function fields, which can compute conorms of places and divisors.\n \n+Along the way, we \n+\n+(1) add \\`is_effective\\`, \\`numerator\\`, \\`denominator\\` methods to divisors;\n+\n+(2) fix some methods to return Integer values rather than \\`int\\`;\n+\n+(3) fix minor inconveniences.\n \n Comment: 1\n \n```\n",
    "created_at": "2022-02-27T11:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499895",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+We add constant field extensions of function fields, which can compute conorms of places and divisors.
 
+Along the way, we 
+
+(1) add \`is_effective\`, \`numerator\`, \`denominator\` methods to divisors;
+
+(2) fix some methods to return Integer values rather than \`int\`;
+
+(3) fix minor inconveniences.
 
 Comment: 1
 
```




---

archive/issue_comments_499896.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-27T11:30:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499896",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499897.json:
```json
{
    "body": "<a id='comment:25'></a>Okay, thank you. Just take care of the pyflakes (which is also the doctest) failure, and then it is a positive review for me.",
    "created_at": "2022-02-28T04:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499897",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>Okay, thank you. Just take care of the pyflakes (which is also the doctest) failure, and then it is a positive review for me.



---

archive/issue_comments_499898.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-28T04:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499898",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499899.json:
```json
{
    "body": "<a id='comment:28'></a>Replying to [comment:25 tscrim]:\n> Just take care of the pyflakes (which is also the doctest) failure, and then it is a positive review for me.\n\n\nI will wait for a green patchbot before setting it positive myself. Thank you!",
    "created_at": "2022-02-28T04:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499899",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:28'></a>Replying to [comment:25 tscrim]:
> Just take care of the pyflakes (which is also the doctest) failure, and then it is a positive review for me.


I will wait for a green patchbot before setting it positive myself. Thank you!



---

archive/issue_comments_499900.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-03T02:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499900",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_499901.json:
```json
{
    "body": "<a id='comment:30'></a>The patchbot is morally green.",
    "created_at": "2022-03-04T00:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499901",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:30'></a>The patchbot is morally green.



---

archive/issue_comments_499902.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-04T00:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499902",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_087394.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-09T23:38:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33075#event-87394"
}
```



---

archive/issue_comments_499903.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-09T23:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33075",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33075#issuecomment-499903",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
