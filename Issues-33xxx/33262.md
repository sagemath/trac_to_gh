# Issue 33262: Versioned SAGE_ROOT/logs directory; append config.log

archive/issues_033025.json:
```json
{
    "assignees": [],
    "body": "The `SAGE_ROOT/logs` directory is never cleaned up and can grow very large over time.\n\nWe append the Sage version number to it, e.g., `SAGE_ROOT/logs-9.6` (and create a symlink from `SAGE_ROOT/logs` for convenience). Upon first use, `make` moves the old `logs` directory out of the way so that the symlink can be created.\n\nUsers can then delete old log directories without having to worry that they lose information that is relevant for reporting bugs.\n\nThe location of the log file can also be overridden using an environment variable `SAGE_ROOT_LOGS`. This is useful for `tox` and devcontainer runs, whose logs are best kept separate from local direct builds.\n\nAlso, we change the handling of `config.log`, previously set up as a symlink into `logs/pkgs/`. We often get reports about build problems with a `config.log` attached that just shows \"... already installed as an SPKG\", so we cannot see what caused the SPKG to be installed in the first place. We fix this problem by appending the current contents of `config.log` (whenever it has changed) to `logs/pkgs/config.log`.\n\n\nCC:  @orlitzky @dimpase @jhpalmieri\n\nBranch/Commit: **[u/mkoeppe/append_config_log](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/append_config_log) @ [`ab876cc`](https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef)**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **build: configure**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33262_\n\n",
    "created_at": "2022-01-31T19:35:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Versioned SAGE_ROOT/logs directory; append config.log",
    "type": "issue",
    "updated_at": "2023-01-07T21:39:40Z",
    "url": "https://github.com/sagemath/sage/issues/33262",
    "user": "https://github.com/mkoeppe"
}
```
The `SAGE_ROOT/logs` directory is never cleaned up and can grow very large over time.

We append the Sage version number to it, e.g., `SAGE_ROOT/logs-9.6` (and create a symlink from `SAGE_ROOT/logs` for convenience). Upon first use, `make` moves the old `logs` directory out of the way so that the symlink can be created.

Users can then delete old log directories without having to worry that they lose information that is relevant for reporting bugs.

The location of the log file can also be overridden using an environment variable `SAGE_ROOT_LOGS`. This is useful for `tox` and devcontainer runs, whose logs are best kept separate from local direct builds.

Also, we change the handling of `config.log`, previously set up as a symlink into `logs/pkgs/`. We often get reports about build problems with a `config.log` attached that just shows "... already installed as an SPKG", so we cannot see what caused the SPKG to be installed in the first place. We fix this problem by appending the current contents of `config.log` (whenever it has changed) to `logs/pkgs/config.log`.


CC:  @orlitzky @dimpase @jhpalmieri

Branch/Commit: **[u/mkoeppe/append_config_log](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/append_config_log) @ [`ab876cc`](https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef)**

Author: **Matthias Koeppe**

Component: **build: configure**

_Issue created by migration from https://trac.sagemath.org/ticket/33262_





---

archive/issue_events_457536.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-31T19:35:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457536"
}
```



---

archive/issue_events_457537.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-31T19:35:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "000080",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457537"
}
```



---

archive/issue_events_457538.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-31T19:35:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457538"
}
```



---

archive/issue_events_457539.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-31T19:35:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457539"
}
```



---

archive/issue_events_457540.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T01:55:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457540"
}
```



---

archive/issue_events_457541.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T01:55:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457541"
}
```



---

archive/issue_comments_537753.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,10 @@\n-The behavior of our `configure` script depends on what SPKGs are already installed.\n+The `SAGE_ROOT/logs` directory is never cleaned up and can grow very large over time.\n \n-We often get reports about build problems with a `config.log` attached that just shows \"... already installed as an SPKG\", so we cannot see what caused the SPKG to be installed in the first place.\n+We append the Sage version number to it, e.g., `SAGE_ROOT/logs-9.6` (and create a symlink from `SAGE_ROOT/logs` for convenience). Upon first use, `make` moves the old `logs` directory out of the way so that the symlink can be created.\n \n-So at the end of a `configure` run or perhaps as a step in `build`, we should append the current contents of `config.log` to some file in `logs/`\n+Users can then delete old log directories without having to worry that they lose information that is relevant for reporting bugs.\n \n+The location of the log file can also be overridden using an environment variable `SAGE_ROOT_LOGS`. This is useful for `tox` and devcontainer runs, whose logs are best kept separate from local direct builds.\n+\n+Also, we change the handling of `config.log`, previously set up as a symlink into `logs/pkgs/`. We often get reports about build problems with a `config.log` attached that just shows \"... already installed as an SPKG\", so we cannot see what caused the SPKG to be installed in the first place. We fix this problem by appending the current contents of `config.log` (whenever it has changed) to `logs/pkgs/config.log`.\n+\n``````\n",
    "created_at": "2022-05-21T01:09:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537753",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,10 @@
-The behavior of our `configure` script depends on what SPKGs are already installed.
+The `SAGE_ROOT/logs` directory is never cleaned up and can grow very large over time.
 
-We often get reports about build problems with a `config.log` attached that just shows "... already installed as an SPKG", so we cannot see what caused the SPKG to be installed in the first place.
+We append the Sage version number to it, e.g., `SAGE_ROOT/logs-9.6` (and create a symlink from `SAGE_ROOT/logs` for convenience). Upon first use, `make` moves the old `logs` directory out of the way so that the symlink can be created.
 
-So at the end of a `configure` run or perhaps as a step in `build`, we should append the current contents of `config.log` to some file in `logs/`
+Users can then delete old log directories without having to worry that they lose information that is relevant for reporting bugs.
 
+The location of the log file can also be overridden using an environment variable `SAGE_ROOT_LOGS`. This is useful for `tox` and devcontainer runs, whose logs are best kept separate from local direct builds.
+
+Also, we change the handling of `config.log`, previously set up as a symlink into `logs/pkgs/`. We often get reports about build problems with a `config.log` attached that just shows "... already installed as an SPKG", so we cannot see what caused the SPKG to be installed in the first place. We fix this problem by appending the current contents of `config.log` (whenever it has changed) to `logs/pkgs/config.log`.
+
``````




---

archive/issue_events_457542.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-21T01:09:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "title_is": "Versioned SAGE_ROOT/logs directory; append config.log",
    "title_was": "Append config.log",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457542"
}
```



---

archive/issue_comments_537754.json:
```json
{
    "body": "Branch: **[u/mkoeppe/append_config_log](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/append_config_log)**",
    "created_at": "2022-05-21T02:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537754",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/append_config_log](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/append_config_log)**



---

archive/issue_comments_537755.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-05-21T02:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537755",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_537756.json:
```json
{
    "body": "Commit: **[`7024f58`](https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4)**",
    "created_at": "2022-05-21T02:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537756",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`7024f58`](https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4)**



---

archive/issue_events_457543.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-21T02:14:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457543"
}
```



---

archive/issue_comments_537757.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4\"><code>7024f58</code></a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr></table>\n",
    "created_at": "2022-05-21T02:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537757",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4"><code>7024f58</code></a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr></table>




---

archive/issue_comments_537758.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nShould `make misc-clean` remove the new `logs-...` directories? `make distclean` certainly should.",
    "created_at": "2022-05-23T18:45:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537758",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">comment:5</div>

Should `make misc-clean` remove the new `logs-...` directories? `make distclean` certainly should.



---

archive/issue_comments_537759.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks, great point.",
    "created_at": "2022-05-24T00:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537759",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks, great point.



---

archive/issue_events_457544.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-24T00:31:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457544"
}
```



---

archive/issue_events_457545.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-24T00:31:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457545"
}
```



---

archive/issue_comments_537760.json:
```json
{
    "body": "Changed commit from **[`7024f58`](https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4)** to **[`cbfe328`](https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb)**",
    "created_at": "2022-05-24T00:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537760",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7024f58`](https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4)** to **[`cbfe328`](https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb)**



---

archive/issue_comments_537761.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb\"><code>cbfe328</code></a></td><td><code>Makefile (misc-clean): Delete logs-* too</code></td></tr></table>\n",
    "created_at": "2022-05-24T00:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537761",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb"><code>cbfe328</code></a></td><td><code>Makefile (misc-clean): Delete logs-* too</code></td></tr></table>




---

archive/issue_events_457546.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-24T00:48:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457546"
}
```



---

archive/issue_events_457547.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-24T00:48:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457547"
}
```



---

archive/issue_comments_537762.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI don't know if it's worth it, but it would keep the top-level directory cleaner if the action all happened inside the `logs` directory: either move old `logs` directories there or create versioned `pkgs` directories. I don't know if we need to have versioned and archived `install.log` or `ptestlong.log` files.",
    "created_at": "2022-05-27T19:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537762",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:9" align="right">comment:9</div>

I don't know if it's worth it, but it would keep the top-level directory cleaner if the action all happened inside the `logs` directory: either move old `logs` directories there or create versioned `pkgs` directories. I don't know if we need to have versioned and archived `install.log` or `ptestlong.log` files.



---

archive/issue_comments_537763.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI don't think the separation of the `*test*.log` from the package logs is very useful, so \nI suppose we could get rid of `pkgs` and then put everything in a versioned `logs/sage-X.Y` directory?",
    "created_at": "2022-05-27T19:45:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537763",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

I don't think the separation of the `*test*.log` from the package logs is very useful, so 
I suppose we could get rid of `pkgs` and then put everything in a versioned `logs/sage-X.Y` directory?



---

archive/issue_comments_537764.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIn this case I could use a symlink `logs/current` that's pointing to the corresponding `logs/sage-X.Y` (or in the case of a tox build, to the tox log dir)",
    "created_at": "2022-05-27T19:50:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537764",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

In this case I could use a symlink `logs/current` that's pointing to the corresponding `logs/sage-X.Y` (or in the case of a tox build, to the tox log dir)



---

archive/issue_comments_537765.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThat's an interesting idea. Is there a good way to highlight the non-pkg logs? Capitalize their names? Does it matter?",
    "created_at": "2022-05-27T20:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537765",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

That's an interesting idea. Is there a good way to highlight the non-pkg logs? Capitalize their names? Does it matter?



---

archive/issue_comments_537766.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe idea behind the naming of the `*test*.log` files is not fully clear to me. Do people really need to distinguish between `test.log` and `ptest.log`?",
    "created_at": "2022-05-27T20:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537766",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

The idea behind the naming of the `*test*.log` files is not fully clear to me. Do people really need to distinguish between `test.log` and `ptest.log`?



---

archive/issue_comments_537767.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIt's good to know if a test failure might be happening because it was running in parallel.",
    "created_at": "2022-05-27T21:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537767",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:14" align="right">comment:14</div>

It's good to know if a test failure might be happening because it was running in parallel.



---

archive/issue_comments_537768.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOK, then mixing in the logs from `pkgs/` is probably not such a good idea",
    "created_at": "2022-05-28T01:10:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537768",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

OK, then mixing in the logs from `pkgs/` is probably not such a good idea



---

archive/issue_comments_537769.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI could open a separate ticket where we rename the test logs as `test...log`: instead of `ptest.log`, use `testp.log` (or `testparallel.log` or whatever). Our use of `p` as a prefix meaning \"parallel\" is not particularly standard, is it? We could even go so far as to change the `make` targets from `ptest` to `testparallel` or similar. I would even be tempted to try to set the `-p` flag for doctesting automatically, depending on `MAKE`, `MAKEFLAGS`, etc.",
    "created_at": "2022-06-01T16:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537769",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:16" align="right">comment:16</div>

I could open a separate ticket where we rename the test logs as `test...log`: instead of `ptest.log`, use `testp.log` (or `testparallel.log` or whatever). Our use of `p` as a prefix meaning "parallel" is not particularly standard, is it? We could even go so far as to change the `make` targets from `ptest` to `testparallel` or similar. I would even be tempted to try to set the `-p` flag for doctesting automatically, depending on `MAKE`, `MAKEFLAGS`, etc.



---

archive/issue_comments_537770.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nBy the way, what do you think of this change? (For a separate ticket, I think.)\n\n```diff\ndiff --git a/Makefile b/Makefile\nindex a9290e54b7..6b4cdaaddb 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -223,8 +223,8 @@ fast-rebuild-clean: misc-clean\n \t# Remove leftovers from ancient branches\n \trm -rf src/build\n \n-TESTALL = ./sage -t --all\n-PTESTALL = ./sage -t -p --all\n+TESTALL = ./sage -t --all --logfile=logs/$@.log\n+PTESTALL = $(TESTALL) -p\n \n # Flags for ./sage -t --all.\n # When the documentation is installed, \"optional\" also includes all tests marked 'sagemath_doc_html',\n@@ -233,80 +233,80 @@ PTESTALL = ./sage -t -p --all\n TESTALL_FLAGS = --optional=sage,optional,external\n \n test: all\n-\t$(TESTALL) --logfile=logs/test.log\n+\t$(TESTALL)\n \n check: test\n \n testall: all\n-\t$(TESTALL) $(TESTALL_FLAGS) --logfile=logs/testall.log\n+\t$(TESTALL) $(TESTALL_FLAGS)\n \n testlong: all\n-\t$(TESTALL) --long --logfile=logs/testlong.log\n+\t$(TESTALL) --long\n \n testalllong: all\n-\t$(TESTALL) --long $(TESTALL_FLAGS) --logfile=logs/testalllong.log\n+\t$(TESTALL) --long $(TESTALL_FLAGS)\n \n ptest: all\n-\t$(PTESTALL) --logfile=logs/ptest.log\n+\t$(PTESTALL)\n \n ptestall: all\n-\t$(PTESTALL) $(TESTALL_FLAGS) --logfile=logs/ptestall.log\n+\t$(PTESTALL) $(TESTALL_FLAGS)\n \n ptestlong: all\n-\t$(PTESTALL) --long --logfile=logs/ptestlong.log\n+\t$(PTESTALL) --long\n \n ptestalllong: all\n-\t$(PTESTALL) --long $(TESTALL_FLAGS) --logfile=logs/ptestalllong.log\n+\t$(PTESTALL) --long $(TESTALL_FLAGS)\n \n testoptional: all\n-\t$(TESTALL) --logfile=logs/testoptional.log\n+\t$(TESTALL)\n \n testoptionallong: all\n-\t$(TESTALL) --long --logfile=logs/testoptionallong.log\n+\t$(TESTALL) --long\n \n ptestoptional: all\n-\t$(PTESTALL) --logfile=logs/ptestoptional.log\n+\t$(PTESTALL)\n \n ptestoptionallong: all\n-\t$(PTESTALL) --long --logfile=logs/ptestoptionallong.log\n+\t$(PTESTALL) --long\n \n test-nodoc: build\n-\t$(TESTALL) --logfile=logs/test.log\n+\t$(TESTALL)\n \n check-nodoc: test-nodoc\n \n testall-nodoc: build\n-\t$(TESTALL) $(TESTALL_FLAGS) --logfile=logs/testall.log\n+\t$(TESTALL) $(TESTALL_FLAGS)\n \n testlong-nodoc: build\n-\t$(TESTALL) --long --logfile=logs/testlong.log\n+\t$(TESTALL) --long\n \n testalllong-nodoc: build\n-\t$(TESTALL) --long $(TESTALL_FLAGS) --logfile=logs/testalllong.log\n+\t$(TESTALL) --long $(TESTALL_FLAGS)\n \n ptest-nodoc: build\n-\t$(PTESTALL) --logfile=logs/ptest.log\n+\t$(PTESTALL)\n \n ptestall-nodoc: build\n-\t$(PTESTALL) $(TESTALL_FLAGS) --logfile=logs/ptestall.log\n+\t$(PTESTALL) $(TESTALL_FLAGS)\n \n ptestlong-nodoc: build\n-\t$(PTESTALL) --long --logfile=logs/ptestlong.log\n+\t$(PTESTALL) --long\n \n ptestalllong-nodoc: build\n-\t$(PTESTALL) --long $(TESTALL_FLAGS) --logfile=logs/ptestalllong.log\n+\t$(PTESTALL) --long $(TESTALL_FLAGS)\n \n testoptional-nodoc: build\n-\t$(TESTALL) --logfile=logs/testoptional.log\n+\t$(TESTALL)\n \n testoptionallong-nodoc: build\n-\t$(TESTALL) --long --logfile=logs/testoptionallong.log\n+\t$(TESTALL) --long\n \n ptestoptional-nodoc: build\n-\t$(PTESTALL) --logfile=logs/ptestoptional.log\n+\t$(PTESTALL)\n \n ptestoptionallong-nodoc: build\n-\t$(PTESTALL) --long --logfile=logs/ptestoptionallong.log\n+\t$(PTESTALL) --long\n \n configure: bootstrap src/doc/bootstrap configure.ac src/bin/sage-version.sh m4/*.m4 build/pkgs/*/spkg-configure.m4 build/pkgs/*/type build/pkgs/*/install-requires.txt build/pkgs/*/package-version.txt build/pkgs/*/distros/*.txt\n \t./bootstrap -d\n```\nI think the only difference in behavior is that `-nodoc` will be added to the corresponding log files.",
    "created_at": "2022-06-02T21:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537770",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:17" align="right">comment:17</div>

By the way, what do you think of this change? (For a separate ticket, I think.)

```diff
diff --git a/Makefile b/Makefile
index a9290e54b7..6b4cdaaddb 100644
--- a/Makefile
+++ b/Makefile
@@ -223,8 +223,8 @@ fast-rebuild-clean: misc-clean
 	# Remove leftovers from ancient branches
 	rm -rf src/build
 
-TESTALL = ./sage -t --all
-PTESTALL = ./sage -t -p --all
+TESTALL = ./sage -t --all --logfile=logs/$@.log
+PTESTALL = $(TESTALL) -p
 
 # Flags for ./sage -t --all.
 # When the documentation is installed, "optional" also includes all tests marked 'sagemath_doc_html',
@@ -233,80 +233,80 @@ PTESTALL = ./sage -t -p --all
 TESTALL_FLAGS = --optional=sage,optional,external
 
 test: all
-	$(TESTALL) --logfile=logs/test.log
+	$(TESTALL)
 
 check: test
 
 testall: all
-	$(TESTALL) $(TESTALL_FLAGS) --logfile=logs/testall.log
+	$(TESTALL) $(TESTALL_FLAGS)
 
 testlong: all
-	$(TESTALL) --long --logfile=logs/testlong.log
+	$(TESTALL) --long
 
 testalllong: all
-	$(TESTALL) --long $(TESTALL_FLAGS) --logfile=logs/testalllong.log
+	$(TESTALL) --long $(TESTALL_FLAGS)
 
 ptest: all
-	$(PTESTALL) --logfile=logs/ptest.log
+	$(PTESTALL)
 
 ptestall: all
-	$(PTESTALL) $(TESTALL_FLAGS) --logfile=logs/ptestall.log
+	$(PTESTALL) $(TESTALL_FLAGS)
 
 ptestlong: all
-	$(PTESTALL) --long --logfile=logs/ptestlong.log
+	$(PTESTALL) --long
 
 ptestalllong: all
-	$(PTESTALL) --long $(TESTALL_FLAGS) --logfile=logs/ptestalllong.log
+	$(PTESTALL) --long $(TESTALL_FLAGS)
 
 testoptional: all
-	$(TESTALL) --logfile=logs/testoptional.log
+	$(TESTALL)
 
 testoptionallong: all
-	$(TESTALL) --long --logfile=logs/testoptionallong.log
+	$(TESTALL) --long
 
 ptestoptional: all
-	$(PTESTALL) --logfile=logs/ptestoptional.log
+	$(PTESTALL)
 
 ptestoptionallong: all
-	$(PTESTALL) --long --logfile=logs/ptestoptionallong.log
+	$(PTESTALL) --long
 
 test-nodoc: build
-	$(TESTALL) --logfile=logs/test.log
+	$(TESTALL)
 
 check-nodoc: test-nodoc
 
 testall-nodoc: build
-	$(TESTALL) $(TESTALL_FLAGS) --logfile=logs/testall.log
+	$(TESTALL) $(TESTALL_FLAGS)
 
 testlong-nodoc: build
-	$(TESTALL) --long --logfile=logs/testlong.log
+	$(TESTALL) --long
 
 testalllong-nodoc: build
-	$(TESTALL) --long $(TESTALL_FLAGS) --logfile=logs/testalllong.log
+	$(TESTALL) --long $(TESTALL_FLAGS)
 
 ptest-nodoc: build
-	$(PTESTALL) --logfile=logs/ptest.log
+	$(PTESTALL)
 
 ptestall-nodoc: build
-	$(PTESTALL) $(TESTALL_FLAGS) --logfile=logs/ptestall.log
+	$(PTESTALL) $(TESTALL_FLAGS)
 
 ptestlong-nodoc: build
-	$(PTESTALL) --long --logfile=logs/ptestlong.log
+	$(PTESTALL) --long
 
 ptestalllong-nodoc: build
-	$(PTESTALL) --long $(TESTALL_FLAGS) --logfile=logs/ptestalllong.log
+	$(PTESTALL) --long $(TESTALL_FLAGS)
 
 testoptional-nodoc: build
-	$(TESTALL) --logfile=logs/testoptional.log
+	$(TESTALL)
 
 testoptionallong-nodoc: build
-	$(TESTALL) --long --logfile=logs/testoptionallong.log
+	$(TESTALL) --long
 
 ptestoptional-nodoc: build
-	$(PTESTALL) --logfile=logs/ptestoptional.log
+	$(PTESTALL)
 
 ptestoptionallong-nodoc: build
-	$(PTESTALL) --long --logfile=logs/ptestoptionallong.log
+	$(PTESTALL) --long
 
 configure: bootstrap src/doc/bootstrap configure.ac src/bin/sage-version.sh m4/*.m4 build/pkgs/*/spkg-configure.m4 build/pkgs/*/type build/pkgs/*/install-requires.txt build/pkgs/*/package-version.txt build/pkgs/*/distros/*.txt
 	./bootstrap -d
```
I think the only difference in behavior is that `-nodoc` will be added to the corresponding log files.



---

archive/issue_comments_537771.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@jhpalmieri](#comment:14):\n> It's good to know if a test failure might be happening because it was running in parallel.\n\nThis is a good point, but I think it is also clearly visible in the first lines of output in the log:\n\n```\nRunning doctests with ID 2022-06-08-00-48-49-d7ceb8b6.\nGit branch: t/33011/remove___init___py_files_for_packages_designated_to_be_namespace_packages\nUsing --optional=bliss,ccache,e_antic,homebrew,igraph,normaliz,perl_term_readline_gnu,pip,sage,sage_spkg\nFeatures to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,gfan,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,msolve,nauty,palp,pandoc,pdf2svg,pdftocairo,phitigra,plantri,polytopes_db,polytopes_db_4d,pynormaliz,python_igraph,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,sagemath_doc_html,sphinx,tdlib\nDoctesting entire Sage library.\nDoctesting all documentation sources.\nSorting sources by runtime so that slower doctests are run first....\nDoctesting 4364 files using 8 threads.\nsage -t --random-seed=200685860218284960962388612985087409788 src/sage/modules/free_module_element.pxd\n    [0 tests, 0.00 s]\n```",
    "created_at": "2022-06-09T19:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537771",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@jhpalmieri](#comment:14):
> It's good to know if a test failure might be happening because it was running in parallel.

This is a good point, but I think it is also clearly visible in the first lines of output in the log:

```
Running doctests with ID 2022-06-08-00-48-49-d7ceb8b6.
Git branch: t/33011/remove___init___py_files_for_packages_designated_to_be_namespace_packages
Using --optional=bliss,ccache,e_antic,homebrew,igraph,normaliz,perl_term_readline_gnu,pip,sage,sage_spkg
Features to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,gfan,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,msolve,nauty,palp,pandoc,pdf2svg,pdftocairo,phitigra,plantri,polytopes_db,polytopes_db_4d,pynormaliz,python_igraph,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,sagemath_doc_html,sphinx,tdlib
Doctesting entire Sage library.
Doctesting all documentation sources.
Sorting sources by runtime so that slower doctests are run first....
Doctesting 4364 files using 8 threads.
sage -t --random-seed=200685860218284960962388612985087409788 src/sage/modules/free_module_element.pxd
    [0 tests, 0.00 s]
```



---

archive/issue_comments_537772.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nSo maybe it's fine to use the same log file for all testing if the relevant information is written to the log file: parallel, nodoc, optional, long, etc.",
    "created_at": "2022-06-13T20:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537772",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

So maybe it's fine to use the same log file for all testing if the relevant information is written to the log file: parallel, nodoc, optional, long, etc.



---

archive/issue_comments_537773.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI don't think `nodoc` needs to be indicated in the logfile - this is only a shortcut for developers to avoid waiting for the docbuild",
    "created_at": "2022-06-13T20:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537773",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

I don't think `nodoc` needs to be indicated in the logfile - this is only a shortcut for developers to avoid waiting for the docbuild



---

archive/issue_comments_537774.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI thought that `nodoc` meant that fewer doctests are run \u2014\u00a0the ones depending on the presence of the documentation in particular. Or they are run on an old version of the documentation which happens to be lying around. I think this is useful information.",
    "created_at": "2022-06-13T21:53:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537774",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:21" align="right">comment:21</div>

I thought that `nodoc` meant that fewer doctests are run — the ones depending on the presence of the documentation in particular. Or they are run on an old version of the documentation which happens to be lying around. I think this is useful information.



---

archive/issue_events_457548.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-14T01:34:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457548"
}
```



---

archive/issue_events_457549.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-14T01:34:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457549"
}
```



---

archive/issue_comments_537775.json:
```json
{
    "body": "Dependencies: **#33823**",
    "created_at": "2022-06-14T01:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537775",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#33823**



---

archive/issue_comments_537776.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThat's not the current behavior, but it's an interesting idea for an improvement. Easy to implement using #33823",
    "created_at": "2022-06-14T01:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537776",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

That's not the current behavior, but it's an interesting idea for an improvement. Easy to implement using #33823



---

archive/issue_comments_537777.json:
```json
{
    "body": "Changed commit from **[`cbfe328`](https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb)** to **[`f129c74`](https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48)**",
    "created_at": "2022-06-14T01:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537777",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cbfe328`](https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb)** to **[`f129c74`](https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48)**



---

archive/issue_comments_537778.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/389ee104e4e3a80f4a2db86e211c3effc20b63c6\"><code>389ee10</code></a></td><td><code>Merge tag '9.7.beta2' into t/33262/append_config_log</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1ce8d6cb361701b388e3c2c3be7e1c831ee85ff\"><code>b1ce8d6</code></a></td><td><code>sage -t: Handle --optional=!FEATURE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a670ae8ac34dff7c29f84744463a1c4aeb6892d4\"><code>a670ae8</code></a></td><td><code>src/bin/sage-runtests: Update documentation of --optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba86146e5a5e3308026aac49d87d2716a80c6a93\"><code>ba86146</code></a></td><td><code>src/bin/sage-runtests --help: Say that ! needs to be quoted</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de421e488f07d480f28431b75985b92432b12c2e\"><code>de421e4</code></a></td><td><code>Merge #33823</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48\"><code>f129c74</code></a></td><td><code>Makefile (*test*-nodoc): Skip tests marked # optional - sagemath_doc_html or sagemath_doc_pdf</code></td></tr></table>\n",
    "created_at": "2022-06-14T01:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537778",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/389ee104e4e3a80f4a2db86e211c3effc20b63c6"><code>389ee10</code></a></td><td><code>Merge tag '9.7.beta2' into t/33262/append_config_log</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1ce8d6cb361701b388e3c2c3be7e1c831ee85ff"><code>b1ce8d6</code></a></td><td><code>sage -t: Handle --optional=!FEATURE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a670ae8ac34dff7c29f84744463a1c4aeb6892d4"><code>a670ae8</code></a></td><td><code>src/bin/sage-runtests: Update documentation of --optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba86146e5a5e3308026aac49d87d2716a80c6a93"><code>ba86146</code></a></td><td><code>src/bin/sage-runtests --help: Say that ! needs to be quoted</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de421e488f07d480f28431b75985b92432b12c2e"><code>de421e4</code></a></td><td><code>Merge #33823</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48"><code>f129c74</code></a></td><td><code>Makefile (*test*-nodoc): Skip tests marked # optional - sagemath_doc_html or sagemath_doc_pdf</code></td></tr></table>




---

archive/issue_comments_537779.json:
```json
{
    "body": "Changed commit from **[`f129c74`](https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48)** to **[`8668dfe`](https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea)**",
    "created_at": "2022-06-14T02:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537779",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f129c74`](https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48)** to **[`8668dfe`](https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea)**



---

archive/issue_comments_537780.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b5b0f697db9deb4c68aff4dff98de3e45bc1513\"><code>3b5b0f6</code></a></td><td><code>Makefile (*test*): Log to a common log file TEST.log</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea\"><code>8668dfe</code></a></td><td><code>Makefile: testoptional is the same as test</code></td></tr></table>\n",
    "created_at": "2022-06-14T02:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537780",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b5b0f697db9deb4c68aff4dff98de3e45bc1513"><code>3b5b0f6</code></a></td><td><code>Makefile (*test*): Log to a common log file TEST.log</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea"><code>8668dfe</code></a></td><td><code>Makefile: testoptional is the same as test</code></td></tr></table>




---

archive/issue_comments_537781.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21\"><code>2e602d9</code></a></td><td><code>Makefile: Rewrite *test* targets using target-specific variables TEST_FLAGS, TEST_OPTIONAL</code></td></tr></table>\n",
    "created_at": "2022-06-14T17:36:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537781",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21"><code>2e602d9</code></a></td><td><code>Makefile: Rewrite *test* targets using target-specific variables TEST_FLAGS, TEST_OPTIONAL</code></td></tr></table>




---

archive/issue_comments_537782.json:
```json
{
    "body": "Changed commit from **[`8668dfe`](https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea)** to **[`2e602d9`](https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21)**",
    "created_at": "2022-06-14T17:36:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537782",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8668dfe`](https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea)** to **[`2e602d9`](https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21)**



---

archive/issue_comments_537783.json:
```json
{
    "body": "Changed dependencies from **#33823** to **#33823, #33967**",
    "created_at": "2022-06-14T17:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537783",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#33823** to **#33823, #33967**



---

archive/issue_comments_537784.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ae68cc3cf82ab8d3ce5676044fae0fbfe3f8f38\"><code>4ae68cc</code></a></td><td><code>foo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d242f96d3302bb9124dd5dc345e80b76e2f3caa3\"><code>d242f96</code></a></td><td><code>src/sage/doctest/control.py: Show also 'git describe --always --dirty'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2468abaa1275cf58dd1ad5cafd111478d0df5ba\"><code>f2468ab</code></a></td><td><code>src/sage/doctest/control.py: Show SAGE_LOCAL, SAGE_VENV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8\"><code>bad1af9</code></a></td><td><code>Merge #33967</code></td></tr></table>\n",
    "created_at": "2022-06-14T17:37:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537784",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ae68cc3cf82ab8d3ce5676044fae0fbfe3f8f38"><code>4ae68cc</code></a></td><td><code>foo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d242f96d3302bb9124dd5dc345e80b76e2f3caa3"><code>d242f96</code></a></td><td><code>src/sage/doctest/control.py: Show also 'git describe --always --dirty'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2468abaa1275cf58dd1ad5cafd111478d0df5ba"><code>f2468ab</code></a></td><td><code>src/sage/doctest/control.py: Show SAGE_LOCAL, SAGE_VENV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8"><code>bad1af9</code></a></td><td><code>Merge #33967</code></td></tr></table>




---

archive/issue_comments_537785.json:
```json
{
    "body": "Changed commit from **[`2e602d9`](https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21)** to **[`bad1af9`](https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8)**",
    "created_at": "2022-06-14T17:37:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537785",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2e602d9`](https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21)** to **[`bad1af9`](https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8)**



---

archive/issue_comments_537786.json:
```json
{
    "body": "Changed commit from **[`bad1af9`](https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8)** to **[`bc412b1`](https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd)**",
    "created_at": "2022-06-14T17:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537786",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bad1af9`](https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8)** to **[`bc412b1`](https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd)**



---

archive/issue_comments_537787.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd\"><code>bc412b1</code></a></td><td><code>Makefile (test): Back to using test.log (not TEST.log) for now</code></td></tr></table>\n",
    "created_at": "2022-06-14T17:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537787",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd"><code>bc412b1</code></a></td><td><code>Makefile (test): Back to using test.log (not TEST.log) for now</code></td></tr></table>




---

archive/issue_comments_537788.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nCan we just delete the redundant make targets `testoptional` etc.? They do not seem to be documented anywhere.",
    "created_at": "2022-06-15T22:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537788",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:29" align="right">comment:29</div>

Can we just delete the redundant make targets `testoptional` etc.? They do not seem to be documented anywhere.



---

archive/issue_comments_537789.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThese changes are now on #33995, where I added deprecation warnings for these targets.",
    "created_at": "2022-06-17T18:35:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537789",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

These changes are now on #33995, where I added deprecation warnings for these targets.



---

archive/issue_comments_537790.json:
```json
{
    "body": "Work Issues: **Rebase on #33995**",
    "created_at": "2022-06-17T18:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537790",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **Rebase on #33995**



---

archive/issue_comments_537791.json:
```json
{
    "body": "Changed dependencies from **#33823, #33967** to **#33823, #33967, #33995**",
    "created_at": "2022-06-17T18:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537791",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#33823, #33967** to **#33823, #33967, #33995**



---

archive/issue_comments_537792.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfa5db202c41dc3e7891dce693929d81c5fd1cd2\"><code>bfa5db2</code></a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4\"><code>97c4cfc</code></a></td><td><code>Makefile (misc-clean): Delete logs-* too</code></td></tr></table>\n",
    "created_at": "2022-07-18T07:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537792",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfa5db202c41dc3e7891dce693929d81c5fd1cd2"><code>bfa5db2</code></a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4"><code>97c4cfc</code></a></td><td><code>Makefile (misc-clean): Delete logs-* too</code></td></tr></table>




---

archive/issue_comments_537793.json:
```json
{
    "body": "Changed commit from **[`bc412b1`](https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd)** to **[`97c4cfc`](https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4)**",
    "created_at": "2022-07-18T07:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537793",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bc412b1`](https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd)** to **[`97c4cfc`](https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4)**



---

archive/issue_comments_537794.json:
```json
{
    "body": "Changed work issues from **Rebase on #33995** to none",
    "created_at": "2022-07-18T07:22:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537794",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **Rebase on #33995** to none



---

archive/issue_comments_537795.json:
```json
{
    "body": "Changed dependencies from **#33823, #33967, #33995** to none",
    "created_at": "2022-07-18T07:22:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537795",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#33823, #33967, #33995** to none



---

archive/issue_comments_537796.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef\"><code>ab876cc</code></a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr></table>\n",
    "created_at": "2022-07-18T07:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537796",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef"><code>ab876cc</code></a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr></table>




---

archive/issue_comments_537797.json:
```json
{
    "body": "Changed commit from **[`97c4cfc`](https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4)** to **[`ab876cc`](https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef)**",
    "created_at": "2022-07-18T07:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-537797",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`97c4cfc`](https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4)** to **[`ab876cc`](https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef)**



---

archive/issue_events_457550.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457550"
}
```



---

archive/issue_events_457551.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457551"
}
```



---

archive/issue_events_457552.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457552"
}
```



---

archive/issue_events_457553.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone_number": null,
    "milestone_title": "sage-9.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-457553"
}
```
