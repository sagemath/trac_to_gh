# Issue 33262: Versioned SAGE_ROOT/logs directory; append config.log

archive/issues_033025.json:
```json
{
    "body": "The `SAGE_ROOT/logs` directory is never cleaned up and can grow very large over time.\n\nWe append the Sage version number to it, e.g., `SAGE_ROOT/logs-9.6` (and create a symlink from `SAGE_ROOT/logs` for convenience). Upon first use, `make` moves the old `logs` directory out of the way so that the symlink can be created.\n\nUsers can then delete old log directories without having to worry that they lose information that is relevant for reporting bugs.\n\nThe location of the log file can also be overridden using an environment variable `SAGE_ROOT_LOGS`. This is useful for `tox` and devcontainer runs, whose logs are best kept separate from local direct builds.\n\nAlso, we change the handling of `config.log`, previously set up as a symlink into `logs/pkgs/`. We often get reports about build problems with a `config.log` attached that just shows \"... already installed as an SPKG\", so we cannot see what caused the SPKG to be installed in the first place. We fix this problem by appending the current contents of `config.log` (whenever it has changed) to `logs/pkgs/config.log`.\n\n\n**CC:**  @orlitzky @dimpase @jhpalmieri\n\n**Branch:** [u/mkoeppe/append_config_log](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/append_config_log)\n\n**Commit:** [ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef](https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef)\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/33262\n\n",
    "created_at": "2022-01-31T19:35:17Z",
    "labels": [
        "component: build: configure",
        "enhancement",
        "needs work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "title": "Versioned SAGE_ROOT/logs directory; append config.log",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/33262",
    "user": "https://github.com/mkoeppe"
}
```
The `SAGE_ROOT/logs` directory is never cleaned up and can grow very large over time.

We append the Sage version number to it, e.g., `SAGE_ROOT/logs-9.6` (and create a symlink from `SAGE_ROOT/logs` for convenience). Upon first use, `make` moves the old `logs` directory out of the way so that the symlink can be created.

Users can then delete old log directories without having to worry that they lose information that is relevant for reporting bugs.

The location of the log file can also be overridden using an environment variable `SAGE_ROOT_LOGS`. This is useful for `tox` and devcontainer runs, whose logs are best kept separate from local direct builds.

Also, we change the handling of `config.log`, previously set up as a symlink into `logs/pkgs/`. We often get reports about build problems with a `config.log` attached that just shows "... already installed as an SPKG", so we cannot see what caused the SPKG to be installed in the first place. We fix this problem by appending the current contents of `config.log` (whenever it has changed) to `logs/pkgs/config.log`.


**CC:**  @orlitzky @dimpase @jhpalmieri

**Branch:** [u/mkoeppe/append_config_log](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/append_config_log)

**Commit:** [ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef](https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef)

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/33262





---

archive/issue_events_298210.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T01:55:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298210"
}
```



---

archive/issue_events_298211.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T01:55:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298211"
}
```



---

archive/issue_comments_540239.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,10 @@\n-The behavior of our `configure` script depends on what SPKGs are already installed.\n+The `SAGE_ROOT/logs` directory is never cleaned up and can grow very large over time.\n \n-We often get reports about build problems with a `config.log` attached that just shows \"... already installed as an SPKG\", so we cannot see what caused the SPKG to be installed in the first place.\n+We append the Sage version number to it, e.g., `SAGE_ROOT/logs-9.6` (and create a symlink from `SAGE_ROOT/logs` for convenience). Upon first use, `make` moves the old `logs` directory out of the way so that the symlink can be created.\n \n-So at the end of a `configure` run or perhaps as a step in `build`, we should append the current contents of `config.log` to some file in `logs/`\n+Users can then delete old log directories without having to worry that they lose information that is relevant for reporting bugs.\n \n+The location of the log file can also be overridden using an environment variable `SAGE_ROOT_LOGS`. This is useful for `tox` and devcontainer runs, whose logs are best kept separate from local direct builds.\n+\n+Also, we change the handling of `config.log`, previously set up as a symlink into `logs/pkgs/`. We often get reports about build problems with a `config.log` attached that just shows \"... already installed as an SPKG\", so we cannot see what caused the SPKG to be installed in the first place. We fix this problem by appending the current contents of `config.log` (whenever it has changed) to `logs/pkgs/config.log`.\n+\n``````\n",
    "created_at": "2022-05-21T01:09:46Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540239",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,10 @@
-The behavior of our `configure` script depends on what SPKGs are already installed.
+The `SAGE_ROOT/logs` directory is never cleaned up and can grow very large over time.
 
-We often get reports about build problems with a `config.log` attached that just shows "... already installed as an SPKG", so we cannot see what caused the SPKG to be installed in the first place.
+We append the Sage version number to it, e.g., `SAGE_ROOT/logs-9.6` (and create a symlink from `SAGE_ROOT/logs` for convenience). Upon first use, `make` moves the old `logs` directory out of the way so that the symlink can be created.
 
-So at the end of a `configure` run or perhaps as a step in `build`, we should append the current contents of `config.log` to some file in `logs/`
+Users can then delete old log directories without having to worry that they lose information that is relevant for reporting bugs.
 
+The location of the log file can also be overridden using an environment variable `SAGE_ROOT_LOGS`. This is useful for `tox` and devcontainer runs, whose logs are best kept separate from local direct builds.
+
+Also, we change the handling of `config.log`, previously set up as a symlink into `logs/pkgs/`. We often get reports about build problems with a `config.log` attached that just shows "... already installed as an SPKG", so we cannot see what caused the SPKG to be installed in the first place. We fix this problem by appending the current contents of `config.log` (whenever it has changed) to `logs/pkgs/config.log`.
+
``````




---

archive/issue_events_298212.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-21T01:09:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "rename": {
        "from": "Append config.log",
        "to": "Versioned SAGE_ROOT/logs directory; append config.log"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298212"
}
```



---

archive/issue_comments_540240.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/append_config_log](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/append_config_log)",
    "created_at": "2022-05-21T02:14:39Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540240",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/append_config_log](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/append_config_log)



---

archive/issue_comments_540241.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2022-05-21T02:14:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540241",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_events_298213.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-21T02:14:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298213"
}
```



---

archive/issue_comments_540242.json:
```json
{
    "body": "<a id='comment:4'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4\">7024f58</a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr></table>\n",
    "created_at": "2022-05-21T02:14:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540242",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4">7024f58</a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr></table>




---

archive/issue_comments_540243.json:
```json
{
    "body": "**Commit:** [7024f58b133c4febaedf4cb21795b4d2a60598a4](https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4)",
    "created_at": "2022-05-21T02:14:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540243",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [7024f58b133c4febaedf4cb21795b4d2a60598a4](https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4)



---

archive/issue_comments_540244.json:
```json
{
    "body": "<a id='comment:5'></a>\nShould `make misc-clean` remove the new `logs-...` directories? `make distclean` certainly should.",
    "created_at": "2022-05-23T18:45:52Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540244",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
Should `make misc-clean` remove the new `logs-...` directories? `make distclean` certainly should.



---

archive/issue_comments_540245.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks, great point.",
    "created_at": "2022-05-24T00:31:16Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540245",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Thanks, great point.



---

archive/issue_events_298214.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-24T00:31:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298214"
}
```



---

archive/issue_events_298215.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-24T00:31:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298215"
}
```



---

archive/issue_comments_540246.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb\">cbfe328</a></td><td><code>Makefile (misc-clean): Delete logs-* too</code></td></tr></table>\n",
    "created_at": "2022-05-24T00:48:19Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540246",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb">cbfe328</a></td><td><code>Makefile (misc-clean): Delete logs-* too</code></td></tr></table>




---

archive/issue_comments_540247.json:
```json
{
    "body": "**Changing commit** from \"[7024f58b133c4febaedf4cb21795b4d2a60598a4](https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4)\" to \"[cbfe3285434b05312df0e868b5130cf4a71793eb](https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb)\".",
    "created_at": "2022-05-24T00:48:19Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540247",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7024f58b133c4febaedf4cb21795b4d2a60598a4](https://github.com/sagemath/sagetrac-mirror/commit/7024f58b133c4febaedf4cb21795b4d2a60598a4)" to "[cbfe3285434b05312df0e868b5130cf4a71793eb](https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb)".



---

archive/issue_events_298216.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-24T00:48:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298216"
}
```



---

archive/issue_events_298217.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-24T00:48:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298217"
}
```



---

archive/issue_comments_540248.json:
```json
{
    "body": "<a id='comment:9'></a>\nI don't know if it's worth it, but it would keep the top-level directory cleaner if the action all happened inside the `logs` directory: either move old `logs` directories there or create versioned `pkgs` directories. I don't know if we need to have versioned and archived `install.log` or `ptestlong.log` files.",
    "created_at": "2022-05-27T19:32:35Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540248",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>
I don't know if it's worth it, but it would keep the top-level directory cleaner if the action all happened inside the `logs` directory: either move old `logs` directories there or create versioned `pkgs` directories. I don't know if we need to have versioned and archived `install.log` or `ptestlong.log` files.



---

archive/issue_comments_540249.json:
```json
{
    "body": "<a id='comment:10'></a>\nI don't think the separation of the `*test*.log` from the package logs is very useful, so \nI suppose we could get rid of `pkgs` and then put everything in a versioned `logs/sage-X.Y` directory?",
    "created_at": "2022-05-27T19:45:53Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540249",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
I don't think the separation of the `*test*.log` from the package logs is very useful, so 
I suppose we could get rid of `pkgs` and then put everything in a versioned `logs/sage-X.Y` directory?



---

archive/issue_comments_540250.json:
```json
{
    "body": "<a id='comment:11'></a>\nIn this case I could use a symlink `logs/current` that's pointing to the corresponding `logs/sage-X.Y` (or in the case of a tox build, to the tox log dir)",
    "created_at": "2022-05-27T19:50:02Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540250",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
In this case I could use a symlink `logs/current` that's pointing to the corresponding `logs/sage-X.Y` (or in the case of a tox build, to the tox log dir)



---

archive/issue_comments_540251.json:
```json
{
    "body": "<a id='comment:12'></a>\nThat's an interesting idea. Is there a good way to highlight the non-pkg logs? Capitalize their names? Does it matter?",
    "created_at": "2022-05-27T20:11:47Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540251",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>
That's an interesting idea. Is there a good way to highlight the non-pkg logs? Capitalize their names? Does it matter?



---

archive/issue_comments_540252.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe idea behind the naming of the `*test*.log` files is not fully clear to me. Do people really need to distinguish between `test.log` and `ptest.log`?",
    "created_at": "2022-05-27T20:21:35Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540252",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
The idea behind the naming of the `*test*.log` files is not fully clear to me. Do people really need to distinguish between `test.log` and `ptest.log`?



---

archive/issue_comments_540253.json:
```json
{
    "body": "<a id='comment:14'></a>\nIt's good to know if a test failure might be happening because it was running in parallel.",
    "created_at": "2022-05-27T21:36:37Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540253",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>
It's good to know if a test failure might be happening because it was running in parallel.



---

archive/issue_comments_540254.json:
```json
{
    "body": "<a id='comment:15'></a>\nOK, then mixing in the logs from `pkgs/` is probably not such a good idea",
    "created_at": "2022-05-28T01:10:10Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540254",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
OK, then mixing in the logs from `pkgs/` is probably not such a good idea



---

archive/issue_comments_540255.json:
```json
{
    "body": "<a id='comment:16'></a>\nI could open a separate ticket where we rename the test logs as `test...log`: instead of `ptest.log`, use `testp.log` (or `testparallel.log` or whatever). Our use of `p` as a prefix meaning \"parallel\" is not particularly standard, is it? We could even go so far as to change the `make` targets from `ptest` to `testparallel` or similar. I would even be tempted to try to set the `-p` flag for doctesting automatically, depending on `MAKE`, `MAKEFLAGS`, etc.",
    "created_at": "2022-06-01T16:39:10Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540255",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>
I could open a separate ticket where we rename the test logs as `test...log`: instead of `ptest.log`, use `testp.log` (or `testparallel.log` or whatever). Our use of `p` as a prefix meaning "parallel" is not particularly standard, is it? We could even go so far as to change the `make` targets from `ptest` to `testparallel` or similar. I would even be tempted to try to set the `-p` flag for doctesting automatically, depending on `MAKE`, `MAKEFLAGS`, etc.



---

archive/issue_comments_540256.json:
```json
{
    "body": "<a id='comment:17'></a>\nBy the way, what do you think of this change? (For a separate ticket, I think.)\n\n```diff\ndiff --git a/Makefile b/Makefile\nindex a9290e54b7..6b4cdaaddb 100644\n--- a/Makefile\n+++ b/Makefile\n@@ -223,8 +223,8 @@ fast-rebuild-clean: misc-clean\n \t# Remove leftovers from ancient branches\n \trm -rf src/build\n \n-TESTALL = ./sage -t --all\n-PTESTALL = ./sage -t -p --all\n+TESTALL = ./sage -t --all --logfile=logs/$@.log\n+PTESTALL = $(TESTALL) -p\n \n # Flags for ./sage -t --all.\n # When the documentation is installed, \"optional\" also includes all tests marked 'sagemath_doc_html',\n@@ -233,80 +233,80 @@ PTESTALL = ./sage -t -p --all\n TESTALL_FLAGS = --optional=sage,optional,external\n \n test: all\n-\t$(TESTALL) --logfile=logs/test.log\n+\t$(TESTALL)\n \n check: test\n \n testall: all\n-\t$(TESTALL) $(TESTALL_FLAGS) --logfile=logs/testall.log\n+\t$(TESTALL) $(TESTALL_FLAGS)\n \n testlong: all\n-\t$(TESTALL) --long --logfile=logs/testlong.log\n+\t$(TESTALL) --long\n \n testalllong: all\n-\t$(TESTALL) --long $(TESTALL_FLAGS) --logfile=logs/testalllong.log\n+\t$(TESTALL) --long $(TESTALL_FLAGS)\n \n ptest: all\n-\t$(PTESTALL) --logfile=logs/ptest.log\n+\t$(PTESTALL)\n \n ptestall: all\n-\t$(PTESTALL) $(TESTALL_FLAGS) --logfile=logs/ptestall.log\n+\t$(PTESTALL) $(TESTALL_FLAGS)\n \n ptestlong: all\n-\t$(PTESTALL) --long --logfile=logs/ptestlong.log\n+\t$(PTESTALL) --long\n \n ptestalllong: all\n-\t$(PTESTALL) --long $(TESTALL_FLAGS) --logfile=logs/ptestalllong.log\n+\t$(PTESTALL) --long $(TESTALL_FLAGS)\n \n testoptional: all\n-\t$(TESTALL) --logfile=logs/testoptional.log\n+\t$(TESTALL)\n \n testoptionallong: all\n-\t$(TESTALL) --long --logfile=logs/testoptionallong.log\n+\t$(TESTALL) --long\n \n ptestoptional: all\n-\t$(PTESTALL) --logfile=logs/ptestoptional.log\n+\t$(PTESTALL)\n \n ptestoptionallong: all\n-\t$(PTESTALL) --long --logfile=logs/ptestoptionallong.log\n+\t$(PTESTALL) --long\n \n test-nodoc: build\n-\t$(TESTALL) --logfile=logs/test.log\n+\t$(TESTALL)\n \n check-nodoc: test-nodoc\n \n testall-nodoc: build\n-\t$(TESTALL) $(TESTALL_FLAGS) --logfile=logs/testall.log\n+\t$(TESTALL) $(TESTALL_FLAGS)\n \n testlong-nodoc: build\n-\t$(TESTALL) --long --logfile=logs/testlong.log\n+\t$(TESTALL) --long\n \n testalllong-nodoc: build\n-\t$(TESTALL) --long $(TESTALL_FLAGS) --logfile=logs/testalllong.log\n+\t$(TESTALL) --long $(TESTALL_FLAGS)\n \n ptest-nodoc: build\n-\t$(PTESTALL) --logfile=logs/ptest.log\n+\t$(PTESTALL)\n \n ptestall-nodoc: build\n-\t$(PTESTALL) $(TESTALL_FLAGS) --logfile=logs/ptestall.log\n+\t$(PTESTALL) $(TESTALL_FLAGS)\n \n ptestlong-nodoc: build\n-\t$(PTESTALL) --long --logfile=logs/ptestlong.log\n+\t$(PTESTALL) --long\n \n ptestalllong-nodoc: build\n-\t$(PTESTALL) --long $(TESTALL_FLAGS) --logfile=logs/ptestalllong.log\n+\t$(PTESTALL) --long $(TESTALL_FLAGS)\n \n testoptional-nodoc: build\n-\t$(TESTALL) --logfile=logs/testoptional.log\n+\t$(TESTALL)\n \n testoptionallong-nodoc: build\n-\t$(TESTALL) --long --logfile=logs/testoptionallong.log\n+\t$(TESTALL) --long\n \n ptestoptional-nodoc: build\n-\t$(PTESTALL) --logfile=logs/ptestoptional.log\n+\t$(PTESTALL)\n \n ptestoptionallong-nodoc: build\n-\t$(PTESTALL) --long --logfile=logs/ptestoptionallong.log\n+\t$(PTESTALL) --long\n \n configure: bootstrap src/doc/bootstrap configure.ac src/bin/sage-version.sh m4/*.m4 build/pkgs/*/spkg-configure.m4 build/pkgs/*/type build/pkgs/*/install-requires.txt build/pkgs/*/package-version.txt build/pkgs/*/distros/*.txt\n \t./bootstrap -d\n```\nI think the only difference in behavior is that `-nodoc` will be added to the corresponding log files.",
    "created_at": "2022-06-02T21:20:08Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540256",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>
By the way, what do you think of this change? (For a separate ticket, I think.)

```diff
diff --git a/Makefile b/Makefile
index a9290e54b7..6b4cdaaddb 100644
--- a/Makefile
+++ b/Makefile
@@ -223,8 +223,8 @@ fast-rebuild-clean: misc-clean
 	# Remove leftovers from ancient branches
 	rm -rf src/build
 
-TESTALL = ./sage -t --all
-PTESTALL = ./sage -t -p --all
+TESTALL = ./sage -t --all --logfile=logs/$@.log
+PTESTALL = $(TESTALL) -p
 
 # Flags for ./sage -t --all.
 # When the documentation is installed, "optional" also includes all tests marked 'sagemath_doc_html',
@@ -233,80 +233,80 @@ PTESTALL = ./sage -t -p --all
 TESTALL_FLAGS = --optional=sage,optional,external
 
 test: all
-	$(TESTALL) --logfile=logs/test.log
+	$(TESTALL)
 
 check: test
 
 testall: all
-	$(TESTALL) $(TESTALL_FLAGS) --logfile=logs/testall.log
+	$(TESTALL) $(TESTALL_FLAGS)
 
 testlong: all
-	$(TESTALL) --long --logfile=logs/testlong.log
+	$(TESTALL) --long
 
 testalllong: all
-	$(TESTALL) --long $(TESTALL_FLAGS) --logfile=logs/testalllong.log
+	$(TESTALL) --long $(TESTALL_FLAGS)
 
 ptest: all
-	$(PTESTALL) --logfile=logs/ptest.log
+	$(PTESTALL)
 
 ptestall: all
-	$(PTESTALL) $(TESTALL_FLAGS) --logfile=logs/ptestall.log
+	$(PTESTALL) $(TESTALL_FLAGS)
 
 ptestlong: all
-	$(PTESTALL) --long --logfile=logs/ptestlong.log
+	$(PTESTALL) --long
 
 ptestalllong: all
-	$(PTESTALL) --long $(TESTALL_FLAGS) --logfile=logs/ptestalllong.log
+	$(PTESTALL) --long $(TESTALL_FLAGS)
 
 testoptional: all
-	$(TESTALL) --logfile=logs/testoptional.log
+	$(TESTALL)
 
 testoptionallong: all
-	$(TESTALL) --long --logfile=logs/testoptionallong.log
+	$(TESTALL) --long
 
 ptestoptional: all
-	$(PTESTALL) --logfile=logs/ptestoptional.log
+	$(PTESTALL)
 
 ptestoptionallong: all
-	$(PTESTALL) --long --logfile=logs/ptestoptionallong.log
+	$(PTESTALL) --long
 
 test-nodoc: build
-	$(TESTALL) --logfile=logs/test.log
+	$(TESTALL)
 
 check-nodoc: test-nodoc
 
 testall-nodoc: build
-	$(TESTALL) $(TESTALL_FLAGS) --logfile=logs/testall.log
+	$(TESTALL) $(TESTALL_FLAGS)
 
 testlong-nodoc: build
-	$(TESTALL) --long --logfile=logs/testlong.log
+	$(TESTALL) --long
 
 testalllong-nodoc: build
-	$(TESTALL) --long $(TESTALL_FLAGS) --logfile=logs/testalllong.log
+	$(TESTALL) --long $(TESTALL_FLAGS)
 
 ptest-nodoc: build
-	$(PTESTALL) --logfile=logs/ptest.log
+	$(PTESTALL)
 
 ptestall-nodoc: build
-	$(PTESTALL) $(TESTALL_FLAGS) --logfile=logs/ptestall.log
+	$(PTESTALL) $(TESTALL_FLAGS)
 
 ptestlong-nodoc: build
-	$(PTESTALL) --long --logfile=logs/ptestlong.log
+	$(PTESTALL) --long
 
 ptestalllong-nodoc: build
-	$(PTESTALL) --long $(TESTALL_FLAGS) --logfile=logs/ptestalllong.log
+	$(PTESTALL) --long $(TESTALL_FLAGS)
 
 testoptional-nodoc: build
-	$(TESTALL) --logfile=logs/testoptional.log
+	$(TESTALL)
 
 testoptionallong-nodoc: build
-	$(TESTALL) --long --logfile=logs/testoptionallong.log
+	$(TESTALL) --long
 
 ptestoptional-nodoc: build
-	$(PTESTALL) --logfile=logs/ptestoptional.log
+	$(PTESTALL)
 
 ptestoptionallong-nodoc: build
-	$(PTESTALL) --long --logfile=logs/ptestoptionallong.log
+	$(PTESTALL) --long
 
 configure: bootstrap src/doc/bootstrap configure.ac src/bin/sage-version.sh m4/*.m4 build/pkgs/*/spkg-configure.m4 build/pkgs/*/type build/pkgs/*/install-requires.txt build/pkgs/*/package-version.txt build/pkgs/*/distros/*.txt
 	./bootstrap -d
```
I think the only difference in behavior is that `-nodoc` will be added to the corresponding log files.



---

archive/issue_comments_540257.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [@jhpalmieri](#comment%3A14):\n> It's good to know if a test failure might be happening because it was running in parallel.\n\nThis is a good point, but I think it is also clearly visible in the first lines of output in the log:\n\n```\nRunning doctests with ID 2022-06-08-00-48-49-d7ceb8b6.\nGit branch: t/33011/remove___init___py_files_for_packages_designated_to_be_namespace_packages\nUsing --optional=bliss,ccache,e_antic,homebrew,igraph,normaliz,perl_term_readline_gnu,pip,sage,sage_spkg\nFeatures to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,gfan,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,msolve,nauty,palp,pandoc,pdf2svg,pdftocairo,phitigra,plantri,polytopes_db,polytopes_db_4d,pynormaliz,python_igraph,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,sagemath_doc_html,sphinx,tdlib\nDoctesting entire Sage library.\nDoctesting all documentation sources.\nSorting sources by runtime so that slower doctests are run first....\nDoctesting 4364 files using 8 threads.\nsage -t --random-seed=200685860218284960962388612985087409788 src/sage/modules/free_module_element.pxd\n    [0 tests, 0.00 s]\n```",
    "created_at": "2022-06-09T19:17:19Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540257",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Replying to [@jhpalmieri](#comment%3A14):
> It's good to know if a test failure might be happening because it was running in parallel.

This is a good point, but I think it is also clearly visible in the first lines of output in the log:

```
Running doctests with ID 2022-06-08-00-48-49-d7ceb8b6.
Git branch: t/33011/remove___init___py_files_for_packages_designated_to_be_namespace_packages
Using --optional=bliss,ccache,e_antic,homebrew,igraph,normaliz,perl_term_readline_gnu,pip,sage,sage_spkg
Features to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,gfan,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,msolve,nauty,palp,pandoc,pdf2svg,pdftocairo,phitigra,plantri,polytopes_db,polytopes_db_4d,pynormaliz,python_igraph,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,sagemath_doc_html,sphinx,tdlib
Doctesting entire Sage library.
Doctesting all documentation sources.
Sorting sources by runtime so that slower doctests are run first....
Doctesting 4364 files using 8 threads.
sage -t --random-seed=200685860218284960962388612985087409788 src/sage/modules/free_module_element.pxd
    [0 tests, 0.00 s]
```



---

archive/issue_comments_540258.json:
```json
{
    "body": "<a id='comment:19'></a>\nSo maybe it's fine to use the same log file for all testing if the relevant information is written to the log file: parallel, nodoc, optional, long, etc.",
    "created_at": "2022-06-13T20:42:00Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540258",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'></a>
So maybe it's fine to use the same log file for all testing if the relevant information is written to the log file: parallel, nodoc, optional, long, etc.



---

archive/issue_comments_540259.json:
```json
{
    "body": "<a id='comment:20'></a>\nI don't think `nodoc` needs to be indicated in the logfile - this is only a shortcut for developers to avoid waiting for the docbuild",
    "created_at": "2022-06-13T20:52:23Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540259",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
I don't think `nodoc` needs to be indicated in the logfile - this is only a shortcut for developers to avoid waiting for the docbuild



---

archive/issue_comments_540260.json:
```json
{
    "body": "<a id='comment:21'></a>\nI thought that `nodoc` meant that fewer doctests are run \u2014\u00a0the ones depending on the presence of the documentation in particular. Or they are run on an old version of the documentation which happens to be lying around. I think this is useful information.",
    "created_at": "2022-06-13T21:53:39Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540260",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:21'></a>
I thought that `nodoc` meant that fewer doctests are run — the ones depending on the presence of the documentation in particular. Or they are run on an old version of the documentation which happens to be lying around. I think this is useful information.



---

archive/issue_events_298218.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-14T01:34:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298218"
}
```



---

archive/issue_events_298219.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-14T01:34:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298219"
}
```



---

archive/issue_comments_540261.json:
```json
{
    "body": "**Dependencies:** #33823",
    "created_at": "2022-06-14T01:34:27Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540261",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #33823



---

archive/issue_comments_540262.json:
```json
{
    "body": "<a id='comment:22'></a>\nThat's not the current behavior, but it's an interesting idea for an improvement. Easy to implement using #33823",
    "created_at": "2022-06-14T01:34:27Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540262",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
That's not the current behavior, but it's an interesting idea for an improvement. Easy to implement using #33823



---

archive/issue_comments_540263.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/389ee104e4e3a80f4a2db86e211c3effc20b63c6\">389ee10</a></td><td><code>Merge tag '9.7.beta2' into t/33262/append_config_log</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1ce8d6cb361701b388e3c2c3be7e1c831ee85ff\">b1ce8d6</a></td><td><code>sage -t: Handle --optional=!FEATURE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a670ae8ac34dff7c29f84744463a1c4aeb6892d4\">a670ae8</a></td><td><code>src/bin/sage-runtests: Update documentation of --optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba86146e5a5e3308026aac49d87d2716a80c6a93\">ba86146</a></td><td><code>src/bin/sage-runtests --help: Say that ! needs to be quoted</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de421e488f07d480f28431b75985b92432b12c2e\">de421e4</a></td><td><code>Merge #33823</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48\">f129c74</a></td><td><code>Makefile (*test*-nodoc): Skip tests marked # optional - sagemath_doc_html or sagemath_doc_pdf</code></td></tr></table>\n",
    "created_at": "2022-06-14T01:49:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/389ee104e4e3a80f4a2db86e211c3effc20b63c6">389ee10</a></td><td><code>Merge tag '9.7.beta2' into t/33262/append_config_log</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1ce8d6cb361701b388e3c2c3be7e1c831ee85ff">b1ce8d6</a></td><td><code>sage -t: Handle --optional=!FEATURE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a670ae8ac34dff7c29f84744463a1c4aeb6892d4">a670ae8</a></td><td><code>src/bin/sage-runtests: Update documentation of --optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba86146e5a5e3308026aac49d87d2716a80c6a93">ba86146</a></td><td><code>src/bin/sage-runtests --help: Say that ! needs to be quoted</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de421e488f07d480f28431b75985b92432b12c2e">de421e4</a></td><td><code>Merge #33823</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48">f129c74</a></td><td><code>Makefile (*test*-nodoc): Skip tests marked # optional - sagemath_doc_html or sagemath_doc_pdf</code></td></tr></table>




---

archive/issue_comments_540264.json:
```json
{
    "body": "**Changing commit** from \"[cbfe3285434b05312df0e868b5130cf4a71793eb](https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb)\" to \"[f129c74d9883df355ce72c001e0e0acf1bff1a48](https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48)\".",
    "created_at": "2022-06-14T01:49:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cbfe3285434b05312df0e868b5130cf4a71793eb](https://github.com/sagemath/sagetrac-mirror/commit/cbfe3285434b05312df0e868b5130cf4a71793eb)" to "[f129c74d9883df355ce72c001e0e0acf1bff1a48](https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48)".



---

archive/issue_comments_540265.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b5b0f697db9deb4c68aff4dff98de3e45bc1513\">3b5b0f6</a></td><td><code>Makefile (*test*): Log to a common log file TEST.log</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea\">8668dfe</a></td><td><code>Makefile: testoptional is the same as test</code></td></tr></table>\n",
    "created_at": "2022-06-14T02:50:03Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540265",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b5b0f697db9deb4c68aff4dff98de3e45bc1513">3b5b0f6</a></td><td><code>Makefile (*test*): Log to a common log file TEST.log</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea">8668dfe</a></td><td><code>Makefile: testoptional is the same as test</code></td></tr></table>




---

archive/issue_comments_540266.json:
```json
{
    "body": "**Changing commit** from \"[f129c74d9883df355ce72c001e0e0acf1bff1a48](https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48)\" to \"[8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea](https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea)\".",
    "created_at": "2022-06-14T02:50:03Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f129c74d9883df355ce72c001e0e0acf1bff1a48](https://github.com/sagemath/sagetrac-mirror/commit/f129c74d9883df355ce72c001e0e0acf1bff1a48)" to "[8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea](https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea)".



---

archive/issue_comments_540267.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21\">2e602d9</a></td><td><code>Makefile: Rewrite *test* targets using target-specific variables TEST_FLAGS, TEST_OPTIONAL</code></td></tr></table>\n",
    "created_at": "2022-06-14T17:36:15Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21">2e602d9</a></td><td><code>Makefile: Rewrite *test* targets using target-specific variables TEST_FLAGS, TEST_OPTIONAL</code></td></tr></table>




---

archive/issue_comments_540268.json:
```json
{
    "body": "**Changing commit** from \"[8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea](https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea)\" to \"[2e602d9a7718c86fac3fab28ced13439cdaccf21](https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21)\".",
    "created_at": "2022-06-14T17:36:15Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea](https://github.com/sagemath/sagetrac-mirror/commit/8668dfeb82ffb5c5b515debd7a53d3faa9bf4dea)" to "[2e602d9a7718c86fac3fab28ced13439cdaccf21](https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21)".



---

archive/issue_comments_540269.json:
```json
{
    "body": "**Changing dependencies** from \"#33823\" to \"#33823, #33967\".",
    "created_at": "2022-06-14T17:37:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540269",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#33823" to "#33823, #33967".



---

archive/issue_comments_540270.json:
```json
{
    "body": "**Changing commit** from \"[2e602d9a7718c86fac3fab28ced13439cdaccf21](https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21)\" to \"[bad1af995e8ac562b6bff74c632c0649e182b8e8](https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8)\".",
    "created_at": "2022-06-14T17:37:36Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2e602d9a7718c86fac3fab28ced13439cdaccf21](https://github.com/sagemath/sagetrac-mirror/commit/2e602d9a7718c86fac3fab28ced13439cdaccf21)" to "[bad1af995e8ac562b6bff74c632c0649e182b8e8](https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8)".



---

archive/issue_comments_540271.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ae68cc3cf82ab8d3ce5676044fae0fbfe3f8f38\">4ae68cc</a></td><td><code>foo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d242f96d3302bb9124dd5dc345e80b76e2f3caa3\">d242f96</a></td><td><code>src/sage/doctest/control.py: Show also 'git describe --always --dirty'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2468abaa1275cf58dd1ad5cafd111478d0df5ba\">f2468ab</a></td><td><code>src/sage/doctest/control.py: Show SAGE_LOCAL, SAGE_VENV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8\">bad1af9</a></td><td><code>Merge #33967</code></td></tr></table>\n",
    "created_at": "2022-06-14T17:37:36Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ae68cc3cf82ab8d3ce5676044fae0fbfe3f8f38">4ae68cc</a></td><td><code>foo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d242f96d3302bb9124dd5dc345e80b76e2f3caa3">d242f96</a></td><td><code>src/sage/doctest/control.py: Show also 'git describe --always --dirty'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2468abaa1275cf58dd1ad5cafd111478d0df5ba">f2468ab</a></td><td><code>src/sage/doctest/control.py: Show SAGE_LOCAL, SAGE_VENV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8">bad1af9</a></td><td><code>Merge #33967</code></td></tr></table>




---

archive/issue_comments_540272.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd\">bc412b1</a></td><td><code>Makefile (test): Back to using test.log (not TEST.log) for now</code></td></tr></table>\n",
    "created_at": "2022-06-14T17:44:04Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd">bc412b1</a></td><td><code>Makefile (test): Back to using test.log (not TEST.log) for now</code></td></tr></table>




---

archive/issue_comments_540273.json:
```json
{
    "body": "**Changing commit** from \"[bad1af995e8ac562b6bff74c632c0649e182b8e8](https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8)\" to \"[bc412b1dc6e9235285d699ed939acb1a6648c7dd](https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd)\".",
    "created_at": "2022-06-14T17:44:04Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bad1af995e8ac562b6bff74c632c0649e182b8e8](https://github.com/sagemath/sagetrac-mirror/commit/bad1af995e8ac562b6bff74c632c0649e182b8e8)" to "[bc412b1dc6e9235285d699ed939acb1a6648c7dd](https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd)".



---

archive/issue_comments_540274.json:
```json
{
    "body": "<a id='comment:29'></a>\nCan we just delete the redundant make targets `testoptional` etc.? They do not seem to be documented anywhere.",
    "created_at": "2022-06-15T22:12:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540274",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:29'></a>
Can we just delete the redundant make targets `testoptional` etc.? They do not seem to be documented anywhere.



---

archive/issue_comments_540275.json:
```json
{
    "body": "<a id='comment:30'></a>\nThese changes are now on #33995, where I added deprecation warnings for these targets.",
    "created_at": "2022-06-17T18:35:12Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540275",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
These changes are now on #33995, where I added deprecation warnings for these targets.



---

archive/issue_comments_540276.json:
```json
{
    "body": "**Work Issues:** Rebase on #33995",
    "created_at": "2022-06-17T18:35:38Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540276",
    "user": "https://github.com/mkoeppe"
}
```

**Work Issues:** Rebase on #33995



---

archive/issue_comments_540277.json:
```json
{
    "body": "**Changing dependencies** from \"#33823, #33967\" to \"#33823, #33967, #33995\".",
    "created_at": "2022-06-17T18:35:38Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540277",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#33823, #33967" to "#33823, #33967, #33995".



---

archive/issue_comments_540278.json:
```json
{
    "body": "**Changing commit** from \"[bc412b1dc6e9235285d699ed939acb1a6648c7dd](https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd)\" to \"[97c4cfcb99b3f3a81fad50ca60e389efc4f042b4](https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4)\".",
    "created_at": "2022-07-18T07:21:20Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bc412b1dc6e9235285d699ed939acb1a6648c7dd](https://github.com/sagemath/sagetrac-mirror/commit/bc412b1dc6e9235285d699ed939acb1a6648c7dd)" to "[97c4cfcb99b3f3a81fad50ca60e389efc4f042b4](https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4)".



---

archive/issue_comments_540279.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfa5db202c41dc3e7891dce693929d81c5fd1cd2\">bfa5db2</a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4\">97c4cfc</a></td><td><code>Makefile (misc-clean): Delete logs-* too</code></td></tr></table>\n",
    "created_at": "2022-07-18T07:21:20Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfa5db202c41dc3e7891dce693929d81c5fd1cd2">bfa5db2</a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4">97c4cfc</a></td><td><code>Makefile (misc-clean): Delete logs-* too</code></td></tr></table>




---

archive/issue_comments_540280.json:
```json
{
    "body": "**Changing dependencies** from \"#33823, #33967, #33995\" to \"\".",
    "created_at": "2022-07-18T07:22:32Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540280",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#33823, #33967, #33995" to "".



---

archive/issue_comments_540281.json:
```json
{
    "body": "**Changing work issues** from \"Rebase on #33995\" to \"\".",
    "created_at": "2022-07-18T07:22:32Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540281",
    "user": "https://github.com/mkoeppe"
}
```

**Changing work issues** from "Rebase on #33995" to "".



---

archive/issue_comments_540282.json:
```json
{
    "body": "**Changing commit** from \"[97c4cfcb99b3f3a81fad50ca60e389efc4f042b4](https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4)\" to \"[ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef](https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef)\".",
    "created_at": "2022-07-18T07:26:38Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[97c4cfcb99b3f3a81fad50ca60e389efc4f042b4](https://github.com/sagemath/sagetrac-mirror/commit/97c4cfcb99b3f3a81fad50ca60e389efc4f042b4)" to "[ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef](https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef)".



---

archive/issue_comments_540283.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef\">ab876cc</a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr></table>\n",
    "created_at": "2022-07-18T07:26:38Z",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33262#issuecomment-540283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab876cc7647b6c5d33300bdc2e4ad9fe708d9cef">ab876cc</a></td><td><code>Versioned SAGE_ROOT/logs directory; append config.log</code></td></tr></table>




---

archive/issue_events_298220.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298220"
}
```



---

archive/issue_events_298221.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33262",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33262#event-298221"
}
```
