# Issue 33733: allow to use flint for Stirling numbers

archive/issues_033496.json:
```json
{
    "body": "of both kind\n\n**CC:**  @tscrim @slel @kliem @kwankyu\n\n**Branch/Commit:** [bbd7807cf9aa149776067cde757b2a81bc85f3e5](https://github.com/sagemath/sagetrac-mirror/commit/bbd7807cf9aa149776067cde757b2a81bc85f3e5)\n\n**Reviewer:** Marc Mezzarobba, Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/33733\n\n",
    "closed_at": "2022-05-22T16:32:25Z",
    "created_at": "2022-04-19T15:12:57Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "title": "allow to use flint for Stirling numbers",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/33733",
    "user": "https://github.com/fchapoton"
}
```
of both kind

**CC:**  @tscrim @slel @kliem @kwankyu

**Branch/Commit:** [bbd7807cf9aa149776067cde757b2a81bc85f3e5](https://github.com/sagemath/sagetrac-mirror/commit/bbd7807cf9aa149776067cde757b2a81bc85f3e5)

**Reviewer:** Marc Mezzarobba, Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/33733





---

archive/issue_comments_547896.json:
```json
{
    "body": "**Commit:** [adf124483735f8ef246f75393adc76e874d32a61](https://github.com/sagemath/sagetrac-mirror/commit/adf124483735f8ef246f75393adc76e874d32a61)",
    "created_at": "2022-04-19T15:13:27Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547896",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [adf124483735f8ef246f75393adc76e874d32a61](https://github.com/sagemath/sagetrac-mirror/commit/adf124483735f8ef246f75393adc76e874d32a61)



---

archive/issue_comments_547897.json:
```json
{
    "body": "**Branch:** [u/chapoton/33733](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33733)",
    "created_at": "2022-04-19T15:13:27Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547897",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/33733](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33733)



---

archive/issue_events_301591.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-04-19T15:13:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33733#event-301591"
}
```



---

archive/issue_comments_547898.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adf124483735f8ef246f75393adc76e874d32a61\">adf1244</a></td><td><code>allow to use flint for Stirling numbers of both kind</code></td></tr></table>\n",
    "created_at": "2022-04-19T15:13:27Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547898",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adf124483735f8ef246f75393adc76e874d32a61">adf1244</a></td><td><code>allow to use flint for Stirling numbers of both kind</code></td></tr></table>




---

archive/issue_comments_547899.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32\">722c2db</a></td><td><code>fix indentation</code></td></tr></table>\n",
    "created_at": "2022-04-19T15:15:40Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547899",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32">722c2db</a></td><td><code>fix indentation</code></td></tr></table>




---

archive/issue_comments_547900.json:
```json
{
    "body": "**Changing commit** from \"[adf124483735f8ef246f75393adc76e874d32a61](https://github.com/sagemath/sagetrac-mirror/commit/adf124483735f8ef246f75393adc76e874d32a61)\" to \"[722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32](https://github.com/sagemath/sagetrac-mirror/commit/722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32)\".",
    "created_at": "2022-04-19T15:15:40Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547900",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[adf124483735f8ef246f75393adc76e874d32a61](https://github.com/sagemath/sagetrac-mirror/commit/adf124483735f8ef246f75393adc76e874d32a61)" to "[722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32](https://github.com/sagemath/sagetrac-mirror/commit/722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32)".



---

archive/issue_comments_547901.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/384ac6eb47efd51f63297a9bf165534bbe29c01d\">384ac6e</a></td><td><code>remove duplicate TEST</code></td></tr></table>\n",
    "created_at": "2022-04-19T15:17:11Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547901",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/384ac6eb47efd51f63297a9bf165534bbe29c01d">384ac6e</a></td><td><code>remove duplicate TEST</code></td></tr></table>




---

archive/issue_comments_547902.json:
```json
{
    "body": "**Changing commit** from \"[722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32](https://github.com/sagemath/sagetrac-mirror/commit/722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32)\" to \"[384ac6eb47efd51f63297a9bf165534bbe29c01d](https://github.com/sagemath/sagetrac-mirror/commit/384ac6eb47efd51f63297a9bf165534bbe29c01d)\".",
    "created_at": "2022-04-19T15:17:11Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547902",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32](https://github.com/sagemath/sagetrac-mirror/commit/722c2db180aa6f8c6d2f1ebf8cda1ff0571abe32)" to "[384ac6eb47efd51f63297a9bf165534bbe29c01d](https://github.com/sagemath/sagetrac-mirror/commit/384ac6eb47efd51f63297a9bf165534bbe29c01d)".



---

archive/issue_comments_547903.json:
```json
{
    "body": "<a id='comment:4'></a>\ngreen bot, so please review",
    "created_at": "2022-04-21T15:31:09Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547903",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
green bot, so please review



---

archive/issue_comments_547904.json:
```json
{
    "body": "<a id='comment:5'></a>\nMaybe one should not remove the maxima algorithm, which is not using the pexpect interface in fact ?",
    "created_at": "2022-04-21T15:36:36Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547904",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Maybe one should not remove the maxima algorithm, which is not using the pexpect interface in fact ?



---

archive/issue_comments_547905.json:
```json
{
    "body": "<a id='comment:6'></a>\nI agree that it would be better not to remove the `algorithm=\"maxima\"` option without deprecating it first.\n\nAs far as I understand, the native Sage implementation of the Stirling numbers of the second kind and the Sage implementation were both written by Fredrik. Is the native Sage version better in some way? Do we need to keep it at all?\n\nWould it make sense to change the default implementation for some of the functions?\n\nA minor style point: why do you write\n\n```\ndef stirling_number1(n, k, algorithm=None) -> Integer:\n    ...\n    if algorithm is None:\n        algorithm='gap'\n```\nrather than\n\n```\ndef stirling_number1(n, k, algorithm=\"gap\") -> Integer:\n    ...\n```\n?",
    "created_at": "2022-04-21T16:07:37Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547905",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:6'></a>
I agree that it would be better not to remove the `algorithm="maxima"` option without deprecating it first.

As far as I understand, the native Sage implementation of the Stirling numbers of the second kind and the Sage implementation were both written by Fredrik. Is the native Sage version better in some way? Do we need to keep it at all?

Would it make sense to change the default implementation for some of the functions?

A minor style point: why do you write

```
def stirling_number1(n, k, algorithm=None) -> Integer:
    ...
    if algorithm is None:
        algorithm='gap'
```
rather than

```
def stirling_number1(n, k, algorithm="gap") -> Integer:
    ...
```
?



---

archive/issue_comments_547906.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42d5b6952bf439ae0be526565537a06c67a5893b\">42d5b69</a></td><td><code>Merge branch 'u/chapoton/33733' in 9.6.rc1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbd7807cf9aa149776067cde757b2a81bc85f3e5\">bbd7807</a></td><td><code>re-add maxima algo for Stirling</code></td></tr></table>\n",
    "created_at": "2022-04-21T18:17:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547906",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42d5b6952bf439ae0be526565537a06c67a5893b">42d5b69</a></td><td><code>Merge branch 'u/chapoton/33733' in 9.6.rc1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbd7807cf9aa149776067cde757b2a81bc85f3e5">bbd7807</a></td><td><code>re-add maxima algo for Stirling</code></td></tr></table>




---

archive/issue_comments_547907.json:
```json
{
    "body": "**Changing commit** from \"[384ac6eb47efd51f63297a9bf165534bbe29c01d](https://github.com/sagemath/sagetrac-mirror/commit/384ac6eb47efd51f63297a9bf165534bbe29c01d)\" to \"[bbd7807cf9aa149776067cde757b2a81bc85f3e5](https://github.com/sagemath/sagetrac-mirror/commit/bbd7807cf9aa149776067cde757b2a81bc85f3e5)\".",
    "created_at": "2022-04-21T18:17:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547907",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[384ac6eb47efd51f63297a9bf165534bbe29c01d](https://github.com/sagemath/sagetrac-mirror/commit/384ac6eb47efd51f63297a9bf165534bbe29c01d)" to "[bbd7807cf9aa149776067cde757b2a81bc85f3e5](https://github.com/sagemath/sagetrac-mirror/commit/bbd7807cf9aa149776067cde757b2a81bc85f3e5)".



---

archive/issue_comments_547908.json:
```json
{
    "body": "<a id='comment:8'></a>\nvoila, j'ai remis l'algorithme \"maxima\" en place",
    "created_at": "2022-04-21T18:20:23Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547908",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
voila, j'ai remis l'algorithme "maxima" en place



---

archive/issue_comments_547909.json:
```json
{
    "body": "<a id='comment:9'></a>\net le patchbot est tout vert",
    "created_at": "2022-04-22T06:41:05Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547909",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
et le patchbot est tout vert



---

archive/issue_comments_547910.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n of both kind\n-\n-also get rid of slow usage of maxima pexpect interface\n``````\n",
    "created_at": "2022-04-29T11:13:31Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547910",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1 @@
 of both kind
-
-also get rid of slow usage of maxima pexpect interface
``````




---

archive/issue_comments_547911.json:
```json
{
    "body": "<a id='comment:11'></a>\nplease review",
    "created_at": "2022-04-29T11:13:31Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547911",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
please review



---

archive/issue_comments_547912.json:
```json
{
    "body": "<a id='comment:12'></a>\nWhat about Marc's other questions in [comment:6](#comment%3A6)?",
    "created_at": "2022-04-29T23:38:02Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547912",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
What about Marc's other questions in [comment:6](#comment%3A6)?



---

archive/issue_comments_547913.json:
```json
{
    "body": "<a id='comment:13'></a>\n> As far as I understand, the native Sage implementation of the Stirling numbers of the second kind and the Sage implementation were both written by Fredrik. Is the native Sage version better in some way? Do we need to keep it at all?\n\n\n> Would it make sense to change the default implementation for some of the functions?\n\n\nI have no idea, and do not plan to investigate",
    "created_at": "2022-04-30T06:36:14Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547913",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
> As far as I understand, the native Sage implementation of the Stirling numbers of the second kind and the Sage implementation were both written by Fredrik. Is the native Sage version better in some way? Do we need to keep it at all?


> Would it make sense to change the default implementation for some of the functions?


I have no idea, and do not plan to investigate



---

archive/issue_events_301592.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33733#event-301592"
}
```



---

archive/issue_events_301593.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33733#event-301593"
}
```



---

archive/issue_comments_547914.json:
```json
{
    "body": "<a id='comment:15'></a>\nmay we please move forward here ?",
    "created_at": "2022-05-20T06:28:17Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547914",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
may we please move forward here ?



---

archive/issue_comments_547915.json:
```json
{
    "body": "**Reviewer:** Marc Mezzarobba, Travis Scrimshaw",
    "created_at": "2022-05-20T07:28:48Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547915",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Marc Mezzarobba, Travis Scrimshaw



---

archive/issue_events_301594.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-05-20T07:28:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33733#event-301594"
}
```



---

archive/issue_events_301595.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-05-20T07:28:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33733#event-301595"
}
```



---

archive/issue_comments_547916.json:
```json
{
    "body": "<a id='comment:16'></a>\nSorry, I lost track of this. Thank you. LGTM.",
    "created_at": "2022-05-20T07:28:48Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547916",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Sorry, I lost track of this. Thank you. LGTM.



---

archive/issue_events_301596.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-22T16:32:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33733#event-301596"
}
```



---

archive/issue_events_301597.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8e7dcca8d3b58a18a7a80bc0730e231ec80f4262",
    "created_at": "2022-05-22T16:32:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33733#event-301597"
}
```



---

archive/issue_comments_547917.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/33733](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33733)\" to \"[bbd7807cf9aa149776067cde757b2a81bc85f3e5](https://github.com/sagemath/sagetrac-mirror/commit/bbd7807cf9aa149776067cde757b2a81bc85f3e5)\".",
    "created_at": "2022-05-22T16:32:25Z",
    "issue": "https://github.com/sagemath/sage/issues/33733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33733#issuecomment-547917",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/33733](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33733)" to "[bbd7807cf9aa149776067cde757b2a81bc85f3e5](https://github.com/sagemath/sagetrac-mirror/commit/bbd7807cf9aa149776067cde757b2a81bc85f3e5)".
