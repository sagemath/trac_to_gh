# Issue 33474: fix p_group_cohomology

archive/issues_033237.json:
```json
{
    "body": "p_group_cohomology no longer works in 9.6.beta3\n\nThe breakage probably happened during switch to venv\n\nCC:  @mkoeppe\n\nBranch: u/dimpase/packages/p_group_comhomology_sage96\n\nCommit: 071e29d77396d2e8517122443e3c038ebbed2357\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/33474\n\n",
    "closed_at": "2022-04-11T20:19:23Z",
    "created_at": "2022-03-07T05:59:47Z",
    "labels": [
        "component: packages: optional",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "fix p_group_cohomology",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33474",
    "user": "https://github.com/dimpase"
}
```
p_group_cohomology no longer works in 9.6.beta3

The breakage probably happened during switch to venv

CC:  @mkoeppe

Branch: u/dimpase/packages/p_group_comhomology_sage96

Commit: 071e29d77396d2e8517122443e3c038ebbed2357

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/33474





---

archive/issue_comments_667346.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dimpase/packages/p_group_comhomology_sage96\"",
    "created_at": "2022-03-07T06:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667346",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "" to "u/dimpase/packages/p_group_comhomology_sage96"



---

archive/issue_comments_667347.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2022-03-07T06:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667347",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_667348.json:
```json
{
    "body": "Changing commit from \"\" to \"071e29d77396d2e8517122443e3c038ebbed2357\"",
    "created_at": "2022-03-07T06:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667348",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "" to "071e29d77396d2e8517122443e3c038ebbed2357"



---

archive/issue_comments_667349.json:
```json
{
    "body": "<a id='comment:1'></a>With these patches, building still fails, at extension building, as it can't find `libmodred.so`.\n\nIt is fixed by exporting, before build, `LDFLAGS=\"-L<SAGE_ROOT>/venv/lib\"`,\nas that's where `libmodres.so` gets installed.\n\nWhat's the correct way to fix this?\n\n \n---\nNew commits:",
    "created_at": "2022-03-07T06:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667349",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>With these patches, building still fails, at extension building, as it can't find `libmodred.so`.

It is fixed by exporting, before build, `LDFLAGS="-L<SAGE_ROOT>/venv/lib"`,
as that's where `libmodres.so` gets installed.

What's the correct way to fix this?

 
---
New commits:



---

archive/issue_comments_667350.json:
```json
{
    "body": "<a id='comment:2'></a>should be fixed through #30787.\nThe non-Python package `modular_resolution` should be installed in SAGE_LOCAL.",
    "created_at": "2022-03-07T06:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667350",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>should be fixed through #30787.
The non-Python package `modular_resolution` should be installed in SAGE_LOCAL.



---

archive/issue_comments_667351.json:
```json
{
    "body": "<a id='comment:3'></a>Except that #30787 hasn't moved at all. We shipped Sage 9.5 with this package broken. :-(",
    "created_at": "2022-03-07T06:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667351",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>Except that #30787 hasn't moved at all. We shipped Sage 9.5 with this package broken. :-(



---

archive/issue_events_088199.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-03-07T13:53:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33474#event-88199"
}
```



---

archive/issue_comments_667352.json:
```json
{
    "body": "<a id='comment:4'></a>This will be fixed by #30787.",
    "created_at": "2022-03-07T13:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667352",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>This will be fixed by #30787.



---

archive/issue_comments_667353.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2022-03-07T13:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667353",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_667354.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2022-04-11T20:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33474#issuecomment-667354",
    "user": "https://github.com/vbraun"
}
```

Resolution: duplicate



---

archive/issue_events_088200.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-11T20:19:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33474",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33474#event-88200"
}
```
