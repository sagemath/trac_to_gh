# Issue 33270: Difference between a formula and an image in Contour Plots

archive/issues_033033.json:
```json
{
    "body": "A sign error in one of the examples in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html) leads to an unexpected image.\n\n\n# tiny mistake(minus or plus)\n\n```\nsage: f(x, y)=x^2-y^2\n BAD             ^\n```\n![](ticket:33270:tmp_ynxwu9m7.png)\n\n## correct\n\n```\nsage: f(x, y)=x^2+y^2\n  OK             ^\n```\n![](https://doc.sagemath.org/html/en/reference/plotting/_images/contour_plot-24.svg)\n\n\nKeywords: beginner\n\nBranch/Commit: e306b3965e7bc41e63b5323490fc09d8430020fe\n\nReviewer: Markus Wageringel\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33270\n\n",
    "closed_at": "2022-03-03T22:19:42Z",
    "created_at": "2022-02-01T19:04:32Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Difference between a formula and an image in Contour Plots",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33270",
    "user": "https://github.com/umedoblock"
}
```
A sign error in one of the examples in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html) leads to an unexpected image.


# tiny mistake(minus or plus)

```
sage: f(x, y)=x^2-y^2
 BAD             ^
```
![](ticket:33270:tmp_ynxwu9m7.png)

## correct

```
sage: f(x, y)=x^2+y^2
  OK             ^
```
![](https://doc.sagemath.org/html/en/reference/plotting/_images/contour_plot-24.svg)


Keywords: beginner

Branch/Commit: e306b3965e7bc41e63b5323490fc09d8430020fe

Reviewer: Markus Wageringel

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33270





---

archive/issue_comments_663741.json:
```json
{
    "body": "made image",
    "created_at": "2022-02-01T19:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663741",
    "user": "https://github.com/umedoblock"
}
```

made image



---

archive/issue_comments_663742.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,7 +26,7 @@\n sage: f(x, y)=x^2-y^2\n  BAD             ^\n ```\n-![](ticket:1:x.png)\n+![](ticket:33270:tmp_ynxwu9m7.png)\n \n ## correct\n \n``````\n",
    "created_at": "2022-02-01T19:06:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663742",
    "user": "https://github.com/umedoblock"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,7 +26,7 @@
 sage: f(x, y)=x^2-y^2
  BAD             ^
 ```
-![](ticket:1:x.png)
+![](ticket:33270:tmp_ynxwu9m7.png)
 
 ## correct
 
``````




---

archive/issue_comments_663743.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [tmp_ynxwu9m7.png](tarball://root/attachments/some-uuid/ticket33270/tmp_ynxwu9m7.png) by @umedoblock created at 2022-02-01 19:06:28",
    "created_at": "2022-02-01T19:06:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663743",
    "user": "https://github.com/umedoblock"
}
```

<a id='comment:1'></a>
Attachment [tmp_ynxwu9m7.png](tarball://root/attachments/some-uuid/ticket33270/tmp_ynxwu9m7.png) by @umedoblock created at 2022-02-01 19:06:28



---

archive/issue_comments_663744.json:
```json
{
    "body": "<a id='comment:2'></a>\nOk, this is an error in the documentation code indeed. Are you planning to work on it?",
    "created_at": "2022-02-01T19:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663744",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:2'></a>
Ok, this is an error in the documentation code indeed. Are you planning to work on it?



---

archive/issue_comments_663745.json:
```json
{
    "body": "<a id='comment:3'></a>\nIt works under codes.\n\n```\nsage: f(x, y)=x^2+y^2                                                           \nsage: contour_plot(f, (x,-3,3), (y,-3,3), colorbar=True)                        \n```",
    "created_at": "2022-02-02T01:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663745",
    "user": "https://github.com/umedoblock"
}
```

<a id='comment:3'></a>
It works under codes.

```
sage: f(x, y)=x^2+y^2                                                           
sage: contour_plot(f, (x,-3,3), (y,-3,3), colorbar=True)                        
```



---

archive/issue_comments_663746.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2022-02-02T19:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663746",
    "user": "https://github.com/mwageringel"
}
```

Changing priority from major to minor.



---

archive/issue_comments_663747.json:
```json
{
    "body": "<a id='comment:4'></a>\nYes, the image in the documentation is generated by a hidden line of code. You can see the sign error [here](https://github.com/sagemath/sage/blob/439907fd9a15f7abff7b000e9845806099a6d329/src/sage/plot/contour_plot.py#L675-L684).",
    "created_at": "2022-02-02T19:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663747",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:4'></a>
Yes, the image in the documentation is generated by a hidden line of code. You can see the sign error [here](https://github.com/sagemath/sage/blob/439907fd9a15f7abff7b000e9845806099a6d329/src/sage/plot/contour_plot.py#L675-L684).



---

archive/issue_comments_663748.json:
```json
{
    "body": "Changing keywords from \"\" to \"beginner\".",
    "created_at": "2022-02-02T19:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663748",
    "user": "https://github.com/mwageringel"
}
```

Changing keywords from "" to "beginner".



---

archive/issue_comments_663749.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,26 +1,7 @@\n-I tried to run some EXAMPLEs in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html)\n+A sign error in one of the examples in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html) leads to an unexpected image.\n \n-## environment\n-\n-```\n-macOS Monterey\n-Version 12.1\n-```\n-\n-```\n-\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n-\u2502 SageMath version 9.5.rc2, Release Date: 2022-01-16                 \u2502\n-\u2502 Using Python 3.9.9. Type \"help()\" for help.                        \u2502\n-\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n-\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n-\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n-\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n-```\n-\n-# example in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html)\n \n # tiny mistake(minus or plus)\n-## made\n \n ```\n sage: f(x, y)=x^2-y^2\n``````\n",
    "created_at": "2022-02-02T19:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663749",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,26 +1,7 @@
-I tried to run some EXAMPLEs in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html)
+A sign error in one of the examples in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html) leads to an unexpected image.
 
-## environment
-
-```
-macOS Monterey
-Version 12.1
-```
-
-```
-┌────────────────────────────────────────────────────────────────────┐
-│ SageMath version 9.5.rc2, Release Date: 2022-01-16                 │
-│ Using Python 3.9.9. Type "help()" for help.                        │
-└────────────────────────────────────────────────────────────────────┘
-┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
-┃ Warning: this is a prerelease version, and it may be unstable.     ┃
-┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
-```
-
-# example in [Contour Plots](https://doc.sagemath.org/html/en/reference/plotting/sage/plot/contour_plot.html)
 
 # tiny mistake(minus or plus)
-## made
 
 ```
 sage: f(x, y)=x^2-y^2
``````




---

archive/issue_comments_663750.json:
```json
{
    "body": "Changing component from graphics to documentation.",
    "created_at": "2022-02-02T19:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663750",
    "user": "https://github.com/mwageringel"
}
```

Changing component from graphics to documentation.



---

archive/issue_comments_663751.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2022-02-02T19:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663751",
    "user": "https://github.com/mwageringel"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_663752.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks gh-mwageringel.\n\nI have no idea about a hidden line of code.\n\nIt's auto generated.\n\nAnd I'm not planning to work on it.",
    "created_at": "2022-02-02T19:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663752",
    "user": "https://github.com/umedoblock"
}
```

<a id='comment:5'></a>
Thanks gh-mwageringel.

I have no idea about a hidden line of code.

It's auto generated.

And I'm not planning to work on it.



---

archive/issue_comments_663753.json:
```json
{
    "body": "Changing commit from \"\" to \"e306b3965e7bc41e63b5323490fc09d8430020fe\"",
    "created_at": "2022-02-15T09:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663753",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "e306b3965e7bc41e63b5323490fc09d8430020fe"



---

archive/issue_comments_663754.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-15T09:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663754",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_663755.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2022-02-15T09:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663755",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_663756.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/33270\"",
    "created_at": "2022-02-15T09:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663756",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/33270"



---

archive/issue_comments_663757.json:
```json
{
    "body": "<a id='comment:6'></a>\nNew commits:\n|                                                                                                                                          |                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[e306b39](https://git.sagemath.org/sage.git/commit?id=e306b3965e7bc41e63b5323490fc09d8430020fe)|`fix plot in contour_plot`|",
    "created_at": "2022-02-15T09:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663757",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
New commits:
|                                                                                                                                          |                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[e306b39](https://git.sagemath.org/sage.git/commit?id=e306b3965e7bc41e63b5323490fc09d8430020fe)|`fix plot in contour_plot`|



---

archive/issue_comments_663758.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Markus Wageringel\"",
    "created_at": "2022-02-15T19:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663758",
    "user": "https://github.com/mwageringel"
}
```

Changing reviewer from "" to "Markus Wageringel"



---

archive/issue_comments_663759.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-15T19:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663759",
    "user": "https://github.com/mwageringel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_663760.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks. With the new netlify status badge, the results can be seen [here](https://e306b3965e7bc41e63b5323490fc09d8430020fe--sagemath-tobias.netlify.app/reference/plotting/sage/plot/contour_plot.html#sage.plot.contour_plot.contour_plot), which shows that the problem is fixed.",
    "created_at": "2022-02-15T19:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663760",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:7'></a>
Thanks. With the new netlify status badge, the results can be seen [here](https://e306b3965e7bc41e63b5323490fc09d8430020fe--sagemath-tobias.netlify.app/reference/plotting/sage/plot/contour_plot.html#sage.plot.contour_plot.contour_plot), which shows that the problem is fixed.



---

archive/issue_comments_663761.json:
```json
{
    "body": "Changing branch from \"u/chapoton/33270\" to \"e306b3965e7bc41e63b5323490fc09d8430020fe\"",
    "created_at": "2022-03-03T22:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663761",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/33270" to "e306b3965e7bc41e63b5323490fc09d8430020fe"



---

archive/issue_events_087846.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-03T22:19:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33270#event-87846"
}
```



---

archive/issue_comments_663762.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-03T22:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33270#issuecomment-663762",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
