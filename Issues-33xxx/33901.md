# Issue 33901: sage-bootstrap-python doesn't work when pyenv shadows all usable pythons in PATH

archive/issues_033664.json:
```json
{
    "body": "The script sage-bootstrap-python attempts to call a command like\n\"/path/to/python\" -c \"...\"\nPyenv python treats \"python\" differently from just python, giving the output:\n/home/.../.pyenv/shims/python: line 1: 2: command not found\n\nWith pyenv installed and configured normally, the script will never check a non-pyenv version of python, and thus will fail to find a suitable python. My fix was to attempt to remove pyenv from the PATH before testing for python.\n\nI've only confirmed this behavior on arch linux\n\nAssignee: @k3w1k0d3r\n\nKeywords: bootstrap, build, python, pyenv\n\nBranch/Commit: dedc9c20d79d408b5e02ac4b89de5a38a5e6c48c\n\nReviewer: Matthias Koeppe\n\nAuthor: Julien Grijalva\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33901\n\n",
    "closed_at": "2022-05-29T11:29:06Z",
    "created_at": "2022-05-25T06:27:00Z",
    "labels": [
        "component: build: configure",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "sage-bootstrap-python doesn't work when pyenv shadows all usable pythons in PATH",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33901",
    "user": "https://github.com/k3w1k0d3r"
}
```
The script sage-bootstrap-python attempts to call a command like
"/path/to/python" -c "..."
Pyenv python treats "python" differently from just python, giving the output:
/home/.../.pyenv/shims/python: line 1: 2: command not found

With pyenv installed and configured normally, the script will never check a non-pyenv version of python, and thus will fail to find a suitable python. My fix was to attempt to remove pyenv from the PATH before testing for python.

I've only confirmed this behavior on arch linux

Assignee: @k3w1k0d3r

Keywords: bootstrap, build, python, pyenv

Branch/Commit: dedc9c20d79d408b5e02ac4b89de5a38a5e6c48c

Reviewer: Matthias Koeppe

Author: Julien Grijalva

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33901





---

archive/issue_comments_676299.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-k3w1k0d3r/pyfix\"",
    "created_at": "2022-05-25T06:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676299",
    "user": "https://github.com/k3w1k0d3r"
}
```

Changing branch from "" to "u/gh-k3w1k0d3r/pyfix"



---

archive/issue_comments_676300.json:
```json
{
    "body": "Changing commit from \"\" to \"ab156dd97eb921688d7f13082718086e1e409828\"",
    "created_at": "2022-05-25T06:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676300",
    "user": "https://github.com/k3w1k0d3r"
}
```

Changing commit from "" to "ab156dd97eb921688d7f13082718086e1e409828"



---

archive/issue_comments_676301.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2022-05-25T06:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676301",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_676302.json:
```json
{
    "body": "Set assignee to @k3w1k0d3r.",
    "created_at": "2022-05-25T06:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676302",
    "user": "https://github.com/k3w1k0d3r"
}
```

Set assignee to @k3w1k0d3r.



---

archive/issue_comments_676303.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-05-25T06:28:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676303",
    "user": "https://github.com/k3w1k0d3r"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_676304.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-05-25T16:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676304",
    "user": "https://github.com/k3w1k0d3r"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_676305.json:
```json
{
    "body": "<a id='comment:5'></a>Could you please open a bug report with pyenv? It's pretty wild that they install a broken python command in PATH",
    "created_at": "2022-05-25T16:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676305",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Could you please open a bug report with pyenv? It's pretty wild that they install a broken python command in PATH



---

archive/issue_comments_676306.json:
```json
{
    "body": "<a id='comment:6'></a>yeah sure\n\ndo you think I should give up on this ticket or should I still work on it to make the build not fail?",
    "created_at": "2022-05-25T17:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676306",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:6'></a>yeah sure

do you think I should give up on this ticket or should I still work on it to make the build not fail?



---

archive/issue_comments_676307.json:
```json
{
    "body": "<a id='comment:7'></a>well I'll fix it because it's not too bad, I just used bash-only syntax and for some reason when I tested it locally it still worked",
    "created_at": "2022-05-25T17:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676307",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:7'></a>well I'll fix it because it's not too bad, I just used bash-only syntax and for some reason when I tested it locally it still worked



---

archive/issue_comments_676308.json:
```json
{
    "body": "<a id='comment:8'></a>Yes, we can merge a workaround in Sage. But the bug is in pyenv",
    "created_at": "2022-05-25T17:36:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676308",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Yes, we can merge a workaround in Sage. But the bug is in pyenv



---

archive/issue_comments_676309.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-25T17:43:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_676310.json:
```json
{
    "body": "Changing commit from \"ab156dd97eb921688d7f13082718086e1e409828\" to \"4421ac2f879bec4c6508cb85fe616fd92004410a\"",
    "created_at": "2022-05-25T17:43:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ab156dd97eb921688d7f13082718086e1e409828" to "4421ac2f879bec4c6508cb85fe616fd92004410a"



---

archive/issue_comments_676311.json:
```json
{
    "body": "<a id='comment:10'></a>great thank you",
    "created_at": "2022-05-25T17:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676311",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:10'></a>great thank you



---

archive/issue_comments_676312.json:
```json
{
    "body": "Changing commit from \"4421ac2f879bec4c6508cb85fe616fd92004410a\" to \"50d92726ed8087fe252c1ef20e81f76e77dea4b2\"",
    "created_at": "2022-05-25T17:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4421ac2f879bec4c6508cb85fe616fd92004410a" to "50d92726ed8087fe252c1ef20e81f76e77dea4b2"



---

archive/issue_comments_676313.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-25T17:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_676314.json:
```json
{
    "body": "<a id='comment:13'></a>\n```\n+paths=$(echo $SAGE_ORIG_PATH | tr \":\" \"\\n\")\n+NEW_PATH=\"\"\n+for path in $paths\n```\nLoops like this are better done with IFS",
    "created_at": "2022-05-25T18:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676314",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
```
+paths=$(echo $SAGE_ORIG_PATH | tr ":" "\n")
+NEW_PATH=""
+for path in $paths
```
Loops like this are better done with IFS



---

archive/issue_comments_676315.json:
```json
{
    "body": "Changing commit from \"50d92726ed8087fe252c1ef20e81f76e77dea4b2\" to \"cd208701e75de1ff3fc10b069e16f538b16d0488\"",
    "created_at": "2022-05-25T18:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "50d92726ed8087fe252c1ef20e81f76e77dea4b2" to "cd208701e75de1ff3fc10b069e16f538b16d0488"



---

archive/issue_comments_676316.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-25T18:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_676317.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 mkoeppe]:\n> {{{\n> +paths=$(echo $SAGE_ORIG_PATH | tr \":\" \"\\n\")\n> +NEW_PATH=\"\"\n> +for path in $paths\n> }}}\n> Loops like this are better done with IFS\n\nalright I'll change it thanks",
    "created_at": "2022-05-25T18:16:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676317",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:15'></a>Replying to [comment:13 mkoeppe]:
> {{{
> +paths=$(echo $SAGE_ORIG_PATH | tr ":" "\n")
> +NEW_PATH=""
> +for path in $paths
> }}}
> Loops like this are better done with IFS

alright I'll change it thanks



---

archive/issue_comments_676318.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-25T18:28:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_676319.json:
```json
{
    "body": "Changing commit from \"cd208701e75de1ff3fc10b069e16f538b16d0488\" to \"15cd6fec54a83db8b59373c66873d8bcd4c3ae51\"",
    "created_at": "2022-05-25T18:28:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cd208701e75de1ff3fc10b069e16f538b16d0488" to "15cd6fec54a83db8b59373c66873d8bcd4c3ae51"



---

archive/issue_comments_676320.json:
```json
{
    "body": "<a id='comment:17'></a>I realized my system sh was a symlink to bash instead of dash, which is why my local tests worked. I've now properly tested with dash, so hopefully now everything works.",
    "created_at": "2022-05-25T18:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676320",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:17'></a>I realized my system sh was a symlink to bash instead of dash, which is why my local tests worked. I've now properly tested with dash, so hopefully now everything works.



---

archive/issue_comments_676321.json:
```json
{
    "body": "<a id='comment:18'></a>https://github.com/pyenv/pyenv/issues/2378",
    "created_at": "2022-05-25T19:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676321",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:18'></a>https://github.com/pyenv/pyenv/issues/2378



---

archive/issue_comments_676322.json:
```json
{
    "body": "<a id='comment:19'></a>it seems that the issue with pyenv is most likely a misconfiguration on my end of some sort",
    "created_at": "2022-05-25T19:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676322",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:19'></a>it seems that the issue with pyenv is most likely a misconfiguration on my end of some sort



---

archive/issue_comments_676323.json:
```json
{
    "body": "<a id='comment:20'></a>yeah the quotes issue is fixed on my system, but the old script still doesn't work for me. I assume it's because of #29285",
    "created_at": "2022-05-25T21:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676323",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:20'></a>yeah the quotes issue is fixed on my system, but the old script still doesn't work for me. I assume it's because of #29285



---

archive/issue_comments_676324.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-05-25T21:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676324",
    "user": "https://github.com/k3w1k0d3r"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_676325.json:
```json
{
    "body": "<a id='comment:22'></a>\n```\n+        *      ) NEW_PATH=\"$NEW_PATH$path:\";;\n```\nshouldn't the colon be in a different place?",
    "created_at": "2022-05-25T23:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676325",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
```
+        *      ) NEW_PATH="$NEW_PATH$path:";;
```
shouldn't the colon be in a different place?



---

archive/issue_comments_676326.json:
```json
{
    "body": "<a id='comment:23'></a>I think \":$NEW_PATH$path\" also works if that's what you mean.",
    "created_at": "2022-05-25T23:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676326",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:23'></a>I think ":$NEW_PATH$path" also works if that's what you mean.



---

archive/issue_comments_676327.json:
```json
{
    "body": "<a id='comment:24'></a>I think the constructed path should neither begin nor end with `:` because that would mean that the current directory is included.",
    "created_at": "2022-05-25T23:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676327",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>I think the constructed path should neither begin nor end with `:` because that would mean that the current directory is included.



---

archive/issue_comments_676328.json:
```json
{
    "body": "<a id='comment:25'></a>okay I'll get rid of the extra `:`",
    "created_at": "2022-05-25T23:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676328",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:25'></a>okay I'll get rid of the extra `:`



---

archive/issue_comments_676329.json:
```json
{
    "body": "<a id='comment:26'></a>Also could you make the pattern `*pyenv*` a bit more specific?",
    "created_at": "2022-05-25T23:31:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676329",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>Also could you make the pattern `*pyenv*` a bit more specific?



---

archive/issue_comments_676330.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-25T23:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_676331.json:
```json
{
    "body": "Changing commit from \"15cd6fec54a83db8b59373c66873d8bcd4c3ae51\" to \"60a30a6c9db46b8836a5a2c1c2980a3d90e8922e\"",
    "created_at": "2022-05-25T23:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "15cd6fec54a83db8b59373c66873d8bcd4c3ae51" to "60a30a6c9db46b8836a5a2c1c2980a3d90e8922e"



---

archive/issue_comments_676332.json:
```json
{
    "body": "<a id='comment:28'></a>\n```\n+        '/home/'*'/.pyenv/shims'*);;\n```\nWell that's now a bit too specific. For example, on macOS, user home directories live in `/Users`. By the way, words don't need to be quoted in these patterns",
    "created_at": "2022-05-26T00:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676332",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
```
+        '/home/'*'/.pyenv/shims'*);;
```
Well that's now a bit too specific. For example, on macOS, user home directories live in `/Users`. By the way, words don't need to be quoted in these patterns



---

archive/issue_comments_676333.json:
```json
{
    "body": "Changing commit from \"60a30a6c9db46b8836a5a2c1c2980a3d90e8922e\" to \"ec49dd290ac63bfeea13a81d8a09ed102f269331\"",
    "created_at": "2022-05-26T00:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676333",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "60a30a6c9db46b8836a5a2c1c2980a3d90e8922e" to "ec49dd290ac63bfeea13a81d8a09ed102f269331"



---

archive/issue_comments_676334.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T00:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_676335.json:
```json
{
    "body": "<a id='comment:30'></a>Replying to [comment:28 mkoeppe]:\n> {{{\n> +        '/home/'*'/.pyenv/shims'*);;\n> }}}\n> Well that's now a bit too specific. For example, on macOS, user home directories live in `/Users`. By the way, words don't need to be quoted in these patterns\n\nyeah I didn't think that through very well",
    "created_at": "2022-05-26T00:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676335",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:30'></a>Replying to [comment:28 mkoeppe]:
> {{{
> +        '/home/'*'/.pyenv/shims'*);;
> }}}
> Well that's now a bit too specific. For example, on macOS, user home directories live in `/Users`. By the way, words don't need to be quoted in these patterns

yeah I didn't think that through very well



---

archive/issue_comments_676336.json:
```json
{
    "body": "<a id='comment:31'></a>\n```\n+IFS=' '\n```\nIt doesn't matter very much here, but note that this is not the default value of `IFS`.\nIt would be more idiomatic to either save the old IFS in a variable and then restore it, or to `unset IFS` to restore the default behavior of the shell.",
    "created_at": "2022-05-26T16:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676336",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
```
+IFS=' '
```
It doesn't matter very much here, but note that this is not the default value of `IFS`.
It would be more idiomatic to either save the old IFS in a variable and then restore it, or to `unset IFS` to restore the default behavior of the shell.



---

archive/issue_comments_676337.json:
```json
{
    "body": "Changing commit from \"ec49dd290ac63bfeea13a81d8a09ed102f269331\" to \"dedc9c20d79d408b5e02ac4b89de5a38a5e6c48c\"",
    "created_at": "2022-05-26T18:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ec49dd290ac63bfeea13a81d8a09ed102f269331" to "dedc9c20d79d408b5e02ac4b89de5a38a5e6c48c"



---

archive/issue_comments_676338.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T18:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676338",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_676339.json:
```json
{
    "body": "<a id='comment:33'></a>it seems odd that this failed a startup time test right? it doesn't seem like this script ever gets executed after it's already been configured",
    "created_at": "2022-05-26T18:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676339",
    "user": "https://github.com/k3w1k0d3r"
}
```

<a id='comment:33'></a>it seems odd that this failed a startup time test right? it doesn't seem like this script ever gets executed after it's already been configured



---

archive/issue_comments_676340.json:
```json
{
    "body": "<a id='comment:34'></a>The startup time test is safe to ignore. It is much too optimistic regarding the precision of its measurements.",
    "created_at": "2022-05-26T18:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676340",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>The startup time test is safe to ignore. It is much too optimistic regarding the precision of its measurements.



---

archive/issue_comments_676341.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-05-26T18:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676341",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_676342.json:
```json
{
    "body": "<a id='comment:35'></a>Thanks for this contribution.",
    "created_at": "2022-05-26T18:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676342",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>Thanks for this contribution.



---

archive/issue_comments_676343.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-05-26T18:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676343",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Matthias Koeppe"



---

archive/issue_comments_676344.json:
```json
{
    "body": "Changing branch from \"u/gh-k3w1k0d3r/pyfix\" to \"dedc9c20d79d408b5e02ac4b89de5a38a5e6c48c\"",
    "created_at": "2022-05-29T11:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676344",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-k3w1k0d3r/pyfix" to "dedc9c20d79d408b5e02ac4b89de5a38a5e6c48c"



---

archive/issue_comments_676345.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-29T11:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33901#issuecomment-676345",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_088899.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-29T11:29:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33901",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33901#event-88899"
}
```
