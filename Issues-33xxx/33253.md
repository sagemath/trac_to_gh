# Issue 33253: Ephemeral patchbot on GH Actions

archive/issues_033016.json:
```json
{
    "body": "CC:  @fchapoton\n\nPR https://github.com/sagemath/sage-patchbot/pull/155 adds a GH Actions workflow to sage-patchbot, which runs the patchbot in a Docker container using one of the pre-built images that our CI pushes to https://github.com/orgs/sagemath/packages?repo_name=sage\n\n\n\nFollow-ups:\n- https://github.com/sagemath/sage-patchbot/pull/156 (fixup)\n\n- https://github.com/sagemath/sage-patchbot/pull/157 (Cygwin)\n\n- Run as a scheduled workflow on GH Actions.  Users who fork the GitHub repo can activate the workflow by depositing a repository secret `SAGE_PATCHBOT_ENVS` of the form `ubuntu-focal-standard ubuntu-hirsute-standard ...`. The workflow would create 1 job per platform listed there\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/33253\n\n",
    "created_at": "2022-01-30T23:40:44Z",
    "labels": [
        "component: scripts"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Ephemeral patchbot on GH Actions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33253",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @fchapoton

PR https://github.com/sagemath/sage-patchbot/pull/155 adds a GH Actions workflow to sage-patchbot, which runs the patchbot in a Docker container using one of the pre-built images that our CI pushes to https://github.com/orgs/sagemath/packages?repo_name=sage



Follow-ups:
- https://github.com/sagemath/sage-patchbot/pull/156 (fixup)

- https://github.com/sagemath/sage-patchbot/pull/157 (Cygwin)

- Run as a scheduled workflow on GH Actions.  Users who fork the GitHub repo can activate the workflow by depositing a repository secret `SAGE_PATCHBOT_ENVS` of the form `ubuntu-focal-standard ubuntu-hirsute-standard ...`. The workflow would create 1 job per platform listed there


Issue created by migration from https://trac.sagemath.org/ticket/33253





---

archive/issue_comments_470210.json:
```json
{
    "body": "Is this really necessary? It's running one ci tool in another one. I would say its more flexible to convert the patchbot steps into github workflows, as we have already done with the linter and #33263. This should replace the patchbots completely in the long term.",
    "created_at": "2022-02-05T09:10:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33253#issuecomment-470210",
    "user": "https://github.com/tobiasdiez"
}
```

Is this really necessary? It's running one ci tool in another one. I would say its more flexible to convert the patchbot steps into github workflows, as we have already done with the linter and #33263. This should replace the patchbots completely in the long term.



---

archive/issue_comments_470211.json:
```json
{
    "body": "Replying to [comment:5 gh-tobiasdiez]:\n> It's running one ci tool in another one.\n\n\nGH Actions is not a CI, it runs CIs",
    "created_at": "2022-02-05T15:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33253#issuecomment-470211",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:5 gh-tobiasdiez]:
> It's running one ci tool in another one.


GH Actions is not a CI, it runs CIs



---

archive/issue_events_087808.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33253#event-87808"
}
```



---

archive/issue_events_087809.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33253#event-87809"
}
```



---

archive/issue_events_087810.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33253#event-87810"
}
```



---

archive/issue_comments_470212.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-09-10T19:09:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33253#issuecomment-470212",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_470213.json:
```json
{
    "body": "Completed, can be closed",
    "created_at": "2022-09-10T19:09:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33253#issuecomment-470213",
    "user": "https://github.com/mkoeppe"
}
```

Completed, can be closed



---

archive/issue_events_087811.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-10T19:09:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33253#event-87811"
}
```



---

archive/issue_events_087812.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-10T19:09:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33253",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33253#event-87812"
}
```
