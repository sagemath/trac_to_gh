# Issue 33011: Remove __init__.py files for subpackages designated to be namespace packages

archive/issues_032774.json:
```json
{
    "body": "This ticket changes the following packages to namespace packages (by removing `__init__.py`): \n- `sage.matrix` (this allows the new distribution `sage-meataxe` introduced in #30151 to add the module `sage.matrix.matrix_gfpn_dense`) to the package)\n- `sage.libs` (for `.meataxe` - #30151, `.sirocco`, `.coexter3`, `.fes`)\n- `sage.interfaces` (for `.primecount`)\n- `sage.graphs` (for `.bliss`, `.mcqd`)\n- `sage.graphs.graph_decompositions` (for `.tdlib` -> `sage-tdlib`, #29864.)\n- `sage.numerical`, `sage.numerical.backends`. (This is preparation for later work, in #30152.)\n\nA complication lies in the behavior of the Python import machinery: \n`setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).\nBut when an old version of `sage` that is an ordinary package is installed already, the source will not shadow it.\n\nTo avoid this complication, in this ticket we do not yet remove `src/sage/__init__.py`. That is done in #34187.\n\n\n**CC:**  @tobiasdiez @kwankyu\n\n**Branch/Commit:** [39aa2f1ea4432291c4e5920971d6f10e175a838b](https://github.com/sagemath/sagetrac-mirror/commit/39aa2f1ea4432291c4e5920971d6f10e175a838b)\n\n**Reviewer:** Kwankyu Lee\n\n**Author:** Matthias Koeppe\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33011\n\n",
    "closed_at": "2022-07-21T21:12:13Z",
    "created_at": "2021-12-11T04:27:50Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Remove __init__.py files for subpackages designated to be namespace packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33011",
    "user": "https://github.com/mkoeppe"
}
```
This ticket changes the following packages to namespace packages (by removing `__init__.py`): 
- `sage.matrix` (this allows the new distribution `sage-meataxe` introduced in #30151 to add the module `sage.matrix.matrix_gfpn_dense`) to the package)
- `sage.libs` (for `.meataxe` - #30151, `.sirocco`, `.coexter3`, `.fes`)
- `sage.interfaces` (for `.primecount`)
- `sage.graphs` (for `.bliss`, `.mcqd`)
- `sage.graphs.graph_decompositions` (for `.tdlib` -> `sage-tdlib`, #29864.)
- `sage.numerical`, `sage.numerical.backends`. (This is preparation for later work, in #30152.)

A complication lies in the behavior of the Python import machinery: 
`setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).
But when an old version of `sage` that is an ordinary package is installed already, the source will not shadow it.

To avoid this complication, in this ticket we do not yet remove `src/sage/__init__.py`. That is done in #34187.


**CC:**  @tobiasdiez @kwankyu

**Branch/Commit:** [39aa2f1ea4432291c4e5920971d6f10e175a838b](https://github.com/sagemath/sagetrac-mirror/commit/39aa2f1ea4432291c4e5920971d6f10e175a838b)

**Reviewer:** Kwankyu Lee

**Author:** Matthias Koeppe

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/33011





---

archive/issue_comments_658183.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/remove___init___py_files_for_packages_designated_to_be_namespace_packages](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/remove___init___py_files_for_packages_designated_to_be_namespace_packages)",
    "created_at": "2021-12-11T04:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658183",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/remove___init___py_files_for_packages_designated_to_be_namespace_packages](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/remove___init___py_files_for_packages_designated_to_be_namespace_packages)



---

archive/issue_comments_658184.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087\">2a4a323</a></td><td><code>Merge tag '9.5.beta7' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ef0567f0dcbbe8b7143f1571ae57f693e6a90fd\">9ef0567</a></td><td><code>Merge #29039</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0399a10251b2c67642b2be81f9c25634dc0038e\">e0399a1</a></td><td><code>pkgs/sagemath-objects: Install a fixed set of scripts, not all of src/bin</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7519048d7af6f8545574e6990e3ca77165f7cee6\">7519048</a></td><td><code>src/bin/sage[-env]: Put SAGE_ROOT/src/bin in front of path only if run out of this directory</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00024e6f775ee0f6e50afb9ccf432fbdbcfd6787\">00024e6</a></td><td><code>Merge #32933</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfc953b1b4d1049e3dfe052ffc337be8c8d850fa\">bfc953b</a></td><td><code>src/sage/doctest/reporting.py: Indicate --environment if not default</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36d6b097ab164189a244eb8169d2b8efb913972a\">36d6b09</a></td><td><code>pkgs/sagemath-categories/setup.cfg.m4: Add scripts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/864874173a842a21f1087fab2367f4bec18bd351\">8648741</a></td><td><code>Merge #29865</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d91e23b0a529b4da59ba41595ca5fb761f9492d3\">d91e23b</a></td><td><code>Merge #28925</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/137f5ee709ae9bd6982750a68eba91cdd4cf852a\">137f5ee</a></td><td><code>Remove __init__.py files</code></td></tr></table>\n",
    "created_at": "2021-12-11T04:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658184",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087">2a4a323</a></td><td><code>Merge tag '9.5.beta7' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ef0567f0dcbbe8b7143f1571ae57f693e6a90fd">9ef0567</a></td><td><code>Merge #29039</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0399a10251b2c67642b2be81f9c25634dc0038e">e0399a1</a></td><td><code>pkgs/sagemath-objects: Install a fixed set of scripts, not all of src/bin</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7519048d7af6f8545574e6990e3ca77165f7cee6">7519048</a></td><td><code>src/bin/sage[-env]: Put SAGE_ROOT/src/bin in front of path only if run out of this directory</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00024e6f775ee0f6e50afb9ccf432fbdbcfd6787">00024e6</a></td><td><code>Merge #32933</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfc953b1b4d1049e3dfe052ffc337be8c8d850fa">bfc953b</a></td><td><code>src/sage/doctest/reporting.py: Indicate --environment if not default</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36d6b097ab164189a244eb8169d2b8efb913972a">36d6b09</a></td><td><code>pkgs/sagemath-categories/setup.cfg.m4: Add scripts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/864874173a842a21f1087fab2367f4bec18bd351">8648741</a></td><td><code>Merge #29865</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d91e23b0a529b4da59ba41595ca5fb761f9492d3">d91e23b</a></td><td><code>Merge #28925</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/137f5ee709ae9bd6982750a68eba91cdd4cf852a">137f5ee</a></td><td><code>Remove __init__.py files</code></td></tr></table>




---

archive/issue_comments_658185.json:
```json
{
    "body": "**Commit:** [137f5ee709ae9bd6982750a68eba91cdd4cf852a](https://github.com/sagemath/sagetrac-mirror/commit/137f5ee709ae9bd6982750a68eba91cdd4cf852a)",
    "created_at": "2021-12-11T04:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658185",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [137f5ee709ae9bd6982750a68eba91cdd4cf852a](https://github.com/sagemath/sagetrac-mirror/commit/137f5ee709ae9bd6982750a68eba91cdd4cf852a)



---

archive/issue_comments_658186.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n+This ticket changes the following packages to namespace packages (by removing `__init__.py`): \n+- `sage.matrix` (this allows the new distribution `sage-meataxe` introduced in #30151 to add the module `sage.matrix.matrix_gfpn_dense`) to the package)\n+- `sage.libs` (for `.meataxe` - #30151, `.sirocco`, `.coexter3`, `.fes`)\n+- `sage.interfaces` (for `.primecount`)\n+- `sage.graphs` (for `.bliss`, `.mcqd`)\n+- `sage.graphs.graph_decompositions` (for `.tdlib` -> `sage-tdlib`, #29864.)\n+- `sage.numerical.backends`. (This is preparation for later work, in #30152.)\n \n``````\n",
    "created_at": "2021-12-11T04:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658186",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,8 @@
+This ticket changes the following packages to namespace packages (by removing `__init__.py`): 
+- `sage.matrix` (this allows the new distribution `sage-meataxe` introduced in #30151 to add the module `sage.matrix.matrix_gfpn_dense`) to the package)
+- `sage.libs` (for `.meataxe` - #30151, `.sirocco`, `.coexter3`, `.fes`)
+- `sage.interfaces` (for `.primecount`)
+- `sage.graphs` (for `.bliss`, `.mcqd`)
+- `sage.graphs.graph_decompositions` (for `.tdlib` -> `sage-tdlib`, #29864.)
+- `sage.numerical.backends`. (This is preparation for later work, in #30152.)
 
``````




---

archive/issue_comments_658187.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n This ticket changes the following packages to namespace packages (by removing `__init__.py`): \n+- `sage`\n - `sage.matrix` (this allows the new distribution `sage-meataxe` introduced in #30151 to add the module `sage.matrix.matrix_gfpn_dense`) to the package)\n - `sage.libs` (for `.meataxe` - #30151, `.sirocco`, `.coexter3`, `.fes`)\n - `sage.interfaces` (for `.primecount`)\n``````\n",
    "created_at": "2021-12-11T04:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658187",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
 This ticket changes the following packages to namespace packages (by removing `__init__.py`): 
+- `sage`
 - `sage.matrix` (this allows the new distribution `sage-meataxe` introduced in #30151 to add the module `sage.matrix.matrix_gfpn_dense`) to the package)
 - `sage.libs` (for `.meataxe` - #30151, `.sirocco`, `.coexter3`, `.fes`)
 - `sage.interfaces` (for `.primecount`)
``````




---

archive/issue_comments_658188.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,3 +7,7 @@\n - `sage.graphs.graph_decompositions` (for `.tdlib` -> `sage-tdlib`, #29864.)\n - `sage.numerical.backends`. (This is preparation for later work, in #30152.)\n \n+A complication lies in the behavior of the Python import machinery: \n+`setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).\n+But when an old version of `sage` that is an ordinary package is installed already, the source will not shadow it.\n+\n``````\n",
    "created_at": "2021-12-17T04:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658188",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,3 +7,7 @@
 - `sage.graphs.graph_decompositions` (for `.tdlib` -> `sage-tdlib`, #29864.)
 - `sage.numerical.backends`. (This is preparation for later work, in #30152.)
 
+A complication lies in the behavior of the Python import machinery: 
+`setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).
+But when an old version of `sage` that is an ordinary package is installed already, the source will not shadow it.
+
``````




---

archive/issue_comments_658189.json:
```json
{
    "body": "**Changing commit** from \"[137f5ee709ae9bd6982750a68eba91cdd4cf852a](https://github.com/sagemath/sagetrac-mirror/commit/137f5ee709ae9bd6982750a68eba91cdd4cf852a)\" to \"[699ca47626794e2e6fa0b22df89a31f92cb3bcd4](https://github.com/sagemath/sagetrac-mirror/commit/699ca47626794e2e6fa0b22df89a31f92cb3bcd4)\".",
    "created_at": "2021-12-17T07:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658189",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[137f5ee709ae9bd6982750a68eba91cdd4cf852a](https://github.com/sagemath/sagetrac-mirror/commit/137f5ee709ae9bd6982750a68eba91cdd4cf852a)" to "[699ca47626794e2e6fa0b22df89a31f92cb3bcd4](https://github.com/sagemath/sagetrac-mirror/commit/699ca47626794e2e6fa0b22df89a31f92cb3bcd4)".



---

archive/issue_comments_658190.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e995dd6ff25613230fb2e617011f98c77a9ca3f\">2e995dd</a></td><td><code>src/sage/{arith,ext,libs,rings,sets}/all__sagemath_objects.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f244b570b8d70fda82d7459336f8d75bcb919690\">f244b57</a></td><td><code>pkgs/sagemath-objects/MANIFEST.in: Exclude generated files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f6d47334df875115f6d65611b83a00af21314d5\">2f6d473</a></td><td><code>pkgs/sagemath-categories/MANIFEST.in.m4: Exclude generated files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a3afe63d7ce0d3c7dbc963e7bfdda650550fa31\">1a3afe6</a></td><td><code>Merge #28925</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f9c9b07fbe66c599c4b639a39a978d6a7cb758b\">7f9c9b0</a></td><td><code>Remove __init__.py files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf7371f1c340eabda3e133aca60e9c1da47c6ea0\">cf7371f</a></td><td><code>src/sage_setup/find.py: Update import of is_package_or_namespace_package_dir</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5808f3d6b4241590adbc95925aa84c50535d9e65\">5808f3d</a></td><td><code>src/sage/misc/package_dir.py: New file for is_package_or_sage_namespace_package_dir</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5addb34e5dc66d461a757df1f9620dbe5184230\">f5addb3</a></td><td><code>Merge #33033</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/464b0a5d841076f115a16cb54a23b22a8782dd3f\">464b0a5</a></td><td><code>Merge #28925</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/699ca47626794e2e6fa0b22df89a31f92cb3bcd4\">699ca47</a></td><td><code>Remove __init__.py files, add some all.py files</code></td></tr></table>\n",
    "created_at": "2021-12-17T07:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e995dd6ff25613230fb2e617011f98c77a9ca3f">2e995dd</a></td><td><code>src/sage/{arith,ext,libs,rings,sets}/all__sagemath_objects.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f244b570b8d70fda82d7459336f8d75bcb919690">f244b57</a></td><td><code>pkgs/sagemath-objects/MANIFEST.in: Exclude generated files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f6d47334df875115f6d65611b83a00af21314d5">2f6d473</a></td><td><code>pkgs/sagemath-categories/MANIFEST.in.m4: Exclude generated files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a3afe63d7ce0d3c7dbc963e7bfdda650550fa31">1a3afe6</a></td><td><code>Merge #28925</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f9c9b07fbe66c599c4b639a39a978d6a7cb758b">7f9c9b0</a></td><td><code>Remove __init__.py files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf7371f1c340eabda3e133aca60e9c1da47c6ea0">cf7371f</a></td><td><code>src/sage_setup/find.py: Update import of is_package_or_namespace_package_dir</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5808f3d6b4241590adbc95925aa84c50535d9e65">5808f3d</a></td><td><code>src/sage/misc/package_dir.py: New file for is_package_or_sage_namespace_package_dir</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5addb34e5dc66d461a757df1f9620dbe5184230">f5addb3</a></td><td><code>Merge #33033</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/464b0a5d841076f115a16cb54a23b22a8782dd3f">464b0a5</a></td><td><code>Merge #28925</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/699ca47626794e2e6fa0b22df89a31f92cb3bcd4">699ca47</a></td><td><code>Remove __init__.py files, add some all.py files</code></td></tr></table>




---

archive/issue_comments_658191.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2062384076be2e87b00e5dd574ba7e5e0e23cb93\">2062384</a></td><td><code>src/sage/__init__.py: Restore</code></td></tr></table>\n",
    "created_at": "2021-12-17T16:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658191",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2062384076be2e87b00e5dd574ba7e5e0e23cb93">2062384</a></td><td><code>src/sage/__init__.py: Restore</code></td></tr></table>




---

archive/issue_comments_658192.json:
```json
{
    "body": "**Changing commit** from \"[699ca47626794e2e6fa0b22df89a31f92cb3bcd4](https://github.com/sagemath/sagetrac-mirror/commit/699ca47626794e2e6fa0b22df89a31f92cb3bcd4)\" to \"[2062384076be2e87b00e5dd574ba7e5e0e23cb93](https://github.com/sagemath/sagetrac-mirror/commit/2062384076be2e87b00e5dd574ba7e5e0e23cb93)\".",
    "created_at": "2021-12-17T16:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[699ca47626794e2e6fa0b22df89a31f92cb3bcd4](https://github.com/sagemath/sagetrac-mirror/commit/699ca47626794e2e6fa0b22df89a31f92cb3bcd4)" to "[2062384076be2e87b00e5dd574ba7e5e0e23cb93](https://github.com/sagemath/sagetrac-mirror/commit/2062384076be2e87b00e5dd574ba7e5e0e23cb93)".



---

archive/issue_events_098128.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "rename": {
        "from": "Remove __init__.py files for packages designated to be namespace packages",
        "to": "Remove __init__.py files for subpackages designated to be namespace packages"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33011#event-98128"
}
```



---

archive/issue_comments_658193.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2021-12-17T16:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658193",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_658194.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,4 @@\n This ticket changes the following packages to namespace packages (by removing `__init__.py`): \n-- `sage`\n - `sage.matrix` (this allows the new distribution `sage-meataxe` introduced in #30151 to add the module `sage.matrix.matrix_gfpn_dense`) to the package)\n - `sage.libs` (for `.meataxe` - #30151, `.sirocco`, `.coexter3`, `.fes`)\n - `sage.interfaces` (for `.primecount`)\n@@ -11,3 +10,5 @@\n `setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).\n But when an old version of `sage` that is an ordinary package is installed already, the source will not shadow it.\n \n+To avoid this complication, in this ticket we do not yet remove `src/sage/__init__.py`.\n+\n``````\n",
    "created_at": "2021-12-17T16:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658194",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,4 @@
 This ticket changes the following packages to namespace packages (by removing `__init__.py`): 
-- `sage`
 - `sage.matrix` (this allows the new distribution `sage-meataxe` introduced in #30151 to add the module `sage.matrix.matrix_gfpn_dense`) to the package)
 - `sage.libs` (for `.meataxe` - #30151, `.sirocco`, `.coexter3`, `.fes`)
 - `sage.interfaces` (for `.primecount`)
@@ -11,3 +10,5 @@
 `setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).
 But when an old version of `sage` that is an ordinary package is installed already, the source will not shadow it.
 
+To avoid this complication, in this ticket we do not yet remove `src/sage/__init__.py`.
+
``````




---

archive/issue_comments_658195.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-12-17T16:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658195",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_658196.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3939af73870a71c320cb21bd91de9b9f7ba14a5d\">3939af7</a></td><td><code>Merge tag '9.5.rc3' into t/33033/prepare_sage_doctest_for_namespace_packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/178d111960e751d5d34bf3097ddd39c65f24c42d\">178d111</a></td><td><code>Merge #33033</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efbc04532af0626245818058ed5722c0905d18ef\">efbc045</a></td><td><code>Merge #28925</code></td></tr></table>\n",
    "created_at": "2022-01-23T06:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658196",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3939af73870a71c320cb21bd91de9b9f7ba14a5d">3939af7</a></td><td><code>Merge tag '9.5.rc3' into t/33033/prepare_sage_doctest_for_namespace_packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/178d111960e751d5d34bf3097ddd39c65f24c42d">178d111</a></td><td><code>Merge #33033</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efbc04532af0626245818058ed5722c0905d18ef">efbc045</a></td><td><code>Merge #28925</code></td></tr></table>




---

archive/issue_comments_658197.json:
```json
{
    "body": "**Changing commit** from \"[2062384076be2e87b00e5dd574ba7e5e0e23cb93](https://github.com/sagemath/sagetrac-mirror/commit/2062384076be2e87b00e5dd574ba7e5e0e23cb93)\" to \"[efbc04532af0626245818058ed5722c0905d18ef](https://github.com/sagemath/sagetrac-mirror/commit/efbc04532af0626245818058ed5722c0905d18ef)\".",
    "created_at": "2022-01-23T06:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658197",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2062384076be2e87b00e5dd574ba7e5e0e23cb93](https://github.com/sagemath/sagetrac-mirror/commit/2062384076be2e87b00e5dd574ba7e5e0e23cb93)" to "[efbc04532af0626245818058ed5722c0905d18ef](https://github.com/sagemath/sagetrac-mirror/commit/efbc04532af0626245818058ed5722c0905d18ef)".



---

archive/issue_comments_658198.json:
```json
{
    "body": "**Changing commit** from \"[efbc04532af0626245818058ed5722c0905d18ef](https://github.com/sagemath/sagetrac-mirror/commit/efbc04532af0626245818058ed5722c0905d18ef)\" to \"[be39670ea246d1051419b5793e0efccaa78c820a](https://github.com/sagemath/sagetrac-mirror/commit/be39670ea246d1051419b5793e0efccaa78c820a)\".",
    "created_at": "2022-02-14T05:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658198",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[efbc04532af0626245818058ed5722c0905d18ef](https://github.com/sagemath/sagetrac-mirror/commit/efbc04532af0626245818058ed5722c0905d18ef)" to "[be39670ea246d1051419b5793e0efccaa78c820a](https://github.com/sagemath/sagetrac-mirror/commit/be39670ea246d1051419b5793e0efccaa78c820a)".



---

archive/issue_comments_658199.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c873e0611693ecf766945a76ea7e60af0507636\">5c873e0</a></td><td><code>Merge tag '9.6.beta1' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37b329948b00172eaf702500bf11b04bbfc965b9\">37b3299</a></td><td><code>pkgs/sagemath-{objects,categories}/setup.cfg.m4: Update python_requires</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5546c6358845073440ea2b92a7e6b8f1cfc8c76b\">5546c63</a></td><td><code>pkgs/sagemath-objects/MANIFEST.in: Add sage.misc.package_dir</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be39670ea246d1051419b5793e0efccaa78c820a\">be39670</a></td><td><code>Merge #28925</code></td></tr></table>\n",
    "created_at": "2022-02-14T05:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658199",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c873e0611693ecf766945a76ea7e60af0507636">5c873e0</a></td><td><code>Merge tag '9.6.beta1' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37b329948b00172eaf702500bf11b04bbfc965b9">37b3299</a></td><td><code>pkgs/sagemath-{objects,categories}/setup.cfg.m4: Update python_requires</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5546c6358845073440ea2b92a7e6b8f1cfc8c76b">5546c63</a></td><td><code>pkgs/sagemath-objects/MANIFEST.in: Add sage.misc.package_dir</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be39670ea246d1051419b5793e0efccaa78c820a">be39670</a></td><td><code>Merge #28925</code></td></tr></table>




---

archive/issue_comments_658200.json:
```json
{
    "body": "**Work_Issues:** broken with \"configure --enable-editable\" (gitpod)",
    "created_at": "2022-02-14T06:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658200",
    "user": "https://github.com/mkoeppe"
}
```

**Work_Issues:** broken with "configure --enable-editable" (gitpod)



---

archive/issue_comments_658201.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2022-02-14T06:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658201",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_658202.json:
```json
{
    "body": "**Changing commit** from \"[be39670ea246d1051419b5793e0efccaa78c820a](https://github.com/sagemath/sagetrac-mirror/commit/be39670ea246d1051419b5793e0efccaa78c820a)\" to \"[87277b3eed8f4a109e8ee524e807d6f6dc27191a](https://github.com/sagemath/sagetrac-mirror/commit/87277b3eed8f4a109e8ee524e807d6f6dc27191a)\".",
    "created_at": "2022-02-14T06:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658202",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[be39670ea246d1051419b5793e0efccaa78c820a](https://github.com/sagemath/sagetrac-mirror/commit/be39670ea246d1051419b5793e0efccaa78c820a)" to "[87277b3eed8f4a109e8ee524e807d6f6dc27191a](https://github.com/sagemath/sagetrac-mirror/commit/87277b3eed8f4a109e8ee524e807d6f6dc27191a)".



---

archive/issue_comments_658203.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f961a7d372809b232620c0224928e8341a09e99a\">f961a7d</a></td><td><code>src/setup.py: Support namespace packages in Cython 0.x</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87277b3eed8f4a109e8ee524e807d6f6dc27191a\">87277b3</a></td><td><code>Merge #28925</code></td></tr></table>\n",
    "created_at": "2022-02-14T06:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658203",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f961a7d372809b232620c0224928e8341a09e99a">f961a7d</a></td><td><code>src/setup.py: Support namespace packages in Cython 0.x</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87277b3eed8f4a109e8ee524e807d6f6dc27191a">87277b3</a></td><td><code>Merge #28925</code></td></tr></table>




---

archive/issue_comments_658204.json:
```json
{
    "body": "**Changing work_issues** from \"broken with \"configure --enable-editable\" (gitpod)\" to \"\".",
    "created_at": "2022-02-14T07:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658204",
    "user": "https://github.com/mkoeppe"
}
```

**Changing work_issues** from "broken with "configure --enable-editable" (gitpod)" to "".



---

archive/issue_comments_658205.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-02-14T07:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658205",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_658206.json:
```json
{
    "body": "<a id='comment:14'></a>\nIs this supposed to work even in incremental build?\n\nDoing `./configure; make` with the branch, I got\n\n```\n[sagelib-9.6.beta5] ************************************************************************\n[sagelib-9.6.beta5] Traceback (most recent call last):\n[sagelib-9.6.beta5]   File \"/Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-standard/setup.py\", line 89, in <module>\n[sagelib-9.6.beta5]     from sage_setup.find import find_python_sources, is_package_or_namespace_package_dir\n[sagelib-9.6.beta5] ImportError: cannot import name 'is_package_or_namespace_package_dir' from 'sage_setup.find' (/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_setup/find.py)\n```",
    "created_at": "2022-03-13T09:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658206",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:14'></a>
Is this supposed to work even in incremental build?

Doing `./configure; make` with the branch, I got

```
[sagelib-9.6.beta5] ************************************************************************
[sagelib-9.6.beta5] Traceback (most recent call last):
[sagelib-9.6.beta5]   File "/Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-standard/setup.py", line 89, in <module>
[sagelib-9.6.beta5]     from sage_setup.find import find_python_sources, is_package_or_namespace_package_dir
[sagelib-9.6.beta5] ImportError: cannot import name 'is_package_or_namespace_package_dir' from 'sage_setup.find' (/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_setup/find.py)
```



---

archive/issue_comments_658207.json:
```json
{
    "body": "<a id='comment:15'></a>\nBuilding from scratch (after `make distclean`) works. Sage starts with no difference. I am running tests. No problem up to now.\n\nI checked removed `__init__.py` files. There is still `src/sage/numerical/__init__.py` file. Is this correct?\n\nWhat else should I check as a user/reviewer?",
    "created_at": "2022-03-13T10:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658207",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:15'></a>
Building from scratch (after `make distclean`) works. Sage starts with no difference. I am running tests. No problem up to now.

I checked removed `__init__.py` files. There is still `src/sage/numerical/__init__.py` file. Is this correct?

What else should I check as a user/reviewer?



---

archive/issue_comments_658208.json:
```json
{
    "body": "<a id='comment:16'></a>\nA comment perhaps naive and not relevant here:\n\nIf a file like `all__sagemath_objects.py` is only to serve\n\n```\n# The presence of this file ensures that sage_setup for sagemath-objects\n# considers this directory as a namespace package \n```\nthen a simpler name like `__namespace_package__.py` would not work?",
    "created_at": "2022-03-13T10:17:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658208",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:16'></a>
A comment perhaps naive and not relevant here:

If a file like `all__sagemath_objects.py` is only to serve

```
# The presence of this file ensures that sage_setup for sagemath-objects
# considers this directory as a namespace package 
```
then a simpler name like `__namespace_package__.py` would not work?



---

archive/issue_comments_658209.json:
```json
{
    "body": "<a id='comment:17'></a>\nI get these persistent doctest failures\n\n```\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/tests/cmdline.py  # 4 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/structure/element.pyx  # 35 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/cython.py  # 3 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/graphs/connectivity.pyx  # 2 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/cachefunc.pyx  # 23 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/arith/long.pxd  # 14 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/ext/memory_allocator.pxd  # 6 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/ext/memory_allocator.pyx  # 9 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/integer_fake.pxd  # 1 doctest failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage_setup/find.py  # 1 doctest failed\n```",
    "created_at": "2022-03-13T11:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658209",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:17'></a>
I get these persistent doctest failures

```
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/tests/cmdline.py  # 4 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/structure/element.pyx  # 35 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/cython.py  # 3 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/graphs/connectivity.pyx  # 2 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/cachefunc.pyx  # 23 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/arith/long.pxd  # 14 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/ext/memory_allocator.pxd  # 6 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/ext/memory_allocator.pyx  # 9 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/integer_fake.pxd  # 1 doctest failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage_setup/find.py  # 1 doctest failed
```



---

archive/issue_comments_658210.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [klee](#comment%3A16):\n> If a file like `all__sagemath_objects.py` is only to serve\n> \n> ```\n> # The presence of this file ensures that sage_setup for sagemath-objects\n> # considers this directory as a namespace package \n> ```\n> then a simpler name like `__namespace_package__.py` would not work?\n\n\nIt would work, but based on discussion in #28925, I decided to use a file pattern that is already in use in the Sage sources",
    "created_at": "2022-03-13T17:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658210",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Replying to [klee](#comment%3A16):
> If a file like `all__sagemath_objects.py` is only to serve
> 
> ```
> # The presence of this file ensures that sage_setup for sagemath-objects
> # considers this directory as a namespace package 
> ```
> then a simpler name like `__namespace_package__.py` would not work?


It would work, but based on discussion in #28925, I decided to use a file pattern that is already in use in the Sage sources



---

archive/issue_comments_658211.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2b529398016451fbf4766ecc2df3829a0efc1bb\">d2b5293</a></td><td><code>Merge tag '9.6.beta5' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bca95f1e21d0137916221e9dd9455d30e09dad6e\">bca95f1</a></td><td><code>Merge #28925</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/118df6cf2ea4d359adfbeb1f700a5976a3ab475c\">118df6c</a></td><td><code>src/sage/numerical/__init__.py: Remove</code></td></tr></table>\n",
    "created_at": "2022-03-13T17:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658211",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2b529398016451fbf4766ecc2df3829a0efc1bb">d2b5293</a></td><td><code>Merge tag '9.6.beta5' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bca95f1e21d0137916221e9dd9455d30e09dad6e">bca95f1</a></td><td><code>Merge #28925</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/118df6cf2ea4d359adfbeb1f700a5976a3ab475c">118df6c</a></td><td><code>src/sage/numerical/__init__.py: Remove</code></td></tr></table>




---

archive/issue_comments_658212.json:
```json
{
    "body": "**Changing commit** from \"[87277b3eed8f4a109e8ee524e807d6f6dc27191a](https://github.com/sagemath/sagetrac-mirror/commit/87277b3eed8f4a109e8ee524e807d6f6dc27191a)\" to \"[118df6cf2ea4d359adfbeb1f700a5976a3ab475c](https://github.com/sagemath/sagetrac-mirror/commit/118df6cf2ea4d359adfbeb1f700a5976a3ab475c)\".",
    "created_at": "2022-03-13T17:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658212",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[87277b3eed8f4a109e8ee524e807d6f6dc27191a](https://github.com/sagemath/sagetrac-mirror/commit/87277b3eed8f4a109e8ee524e807d6f6dc27191a)" to "[118df6cf2ea4d359adfbeb1f700a5976a3ab475c](https://github.com/sagemath/sagetrac-mirror/commit/118df6cf2ea4d359adfbeb1f700a5976a3ab475c)".



---

archive/issue_comments_658213.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n - `sage.interfaces` (for `.primecount`)\n - `sage.graphs` (for `.bliss`, `.mcqd`)\n - `sage.graphs.graph_decompositions` (for `.tdlib` -> `sage-tdlib`, #29864.)\n-- `sage.numerical.backends`. (This is preparation for later work, in #30152.)\n+- `sage.numerical`, `sage.numerical.backends`. (This is preparation for later work, in #30152.)\n \n A complication lies in the behavior of the Python import machinery: \n `setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).\n``````\n",
    "created_at": "2022-03-13T17:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658213",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 - `sage.interfaces` (for `.primecount`)
 - `sage.graphs` (for `.bliss`, `.mcqd`)
 - `sage.graphs.graph_decompositions` (for `.tdlib` -> `sage-tdlib`, #29864.)
-- `sage.numerical.backends`. (This is preparation for later work, in #30152.)
+- `sage.numerical`, `sage.numerical.backends`. (This is preparation for later work, in #30152.)
 
 A complication lies in the behavior of the Python import machinery: 
 `setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).
``````




---

archive/issue_comments_658214.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [klee](#comment%3A15):\n> I checked removed `__init__.py` files. There is still `src/sage/numerical/__init__.py` file. Is this correct?\n\n\nThanks for catching this! I have removed it now.",
    "created_at": "2022-03-13T17:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658214",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Replying to [klee](#comment%3A15):
> I checked removed `__init__.py` files. There is still `src/sage/numerical/__init__.py` file. Is this correct?


Thanks for catching this! I have removed it now.



---

archive/issue_comments_658215.json:
```json
{
    "body": "**Changing commit** from \"[118df6cf2ea4d359adfbeb1f700a5976a3ab475c](https://github.com/sagemath/sagetrac-mirror/commit/118df6cf2ea4d359adfbeb1f700a5976a3ab475c)\" to \"[fbc75c202ec610f2a714c3bde5d8fc1589ab2455](https://github.com/sagemath/sagetrac-mirror/commit/fbc75c202ec610f2a714c3bde5d8fc1589ab2455)\".",
    "created_at": "2022-03-13T18:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[118df6cf2ea4d359adfbeb1f700a5976a3ab475c](https://github.com/sagemath/sagetrac-mirror/commit/118df6cf2ea4d359adfbeb1f700a5976a3ab475c)" to "[fbc75c202ec610f2a714c3bde5d8fc1589ab2455](https://github.com/sagemath/sagetrac-mirror/commit/fbc75c202ec610f2a714c3bde5d8fc1589ab2455)".



---

archive/issue_comments_658216.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aac736c54ecd074b3d653f9c658e9fb9f29fd011\">aac736c</a></td><td><code>build/pkgs/sage_setup/dependencies: Add all sage_setup source files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbc75c202ec610f2a714c3bde5d8fc1589ab2455\">fbc75c2</a></td><td><code>Merge #28925</code></td></tr></table>\n",
    "created_at": "2022-03-13T18:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aac736c54ecd074b3d653f9c658e9fb9f29fd011">aac736c</a></td><td><code>build/pkgs/sage_setup/dependencies: Add all sage_setup source files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbc75c202ec610f2a714c3bde5d8fc1589ab2455">fbc75c2</a></td><td><code>Merge #28925</code></td></tr></table>




---

archive/issue_comments_658217.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [klee](#comment%3A14):\n> Is this supposed to work even in incremental build?\n\n\nI think this is fixed now by the latest commit in #28925",
    "created_at": "2022-03-13T18:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658217",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Replying to [klee](#comment%3A14):
> Is this supposed to work even in incremental build?


I think this is fixed now by the latest commit in #28925



---

archive/issue_comments_658218.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [klee](#comment%3A17):\n> I get these persistent doctest failures\n\n\nThanks for testing! I cannot reproduce these failures. Maybe they have been resolved by merging the latest beta into the branch already.",
    "created_at": "2022-03-13T18:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658218",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
Replying to [klee](#comment%3A17):
> I get these persistent doctest failures


Thanks for testing! I cannot reproduce these failures. Maybe they have been resolved by merging the latest beta into the branch already.



---

archive/issue_comments_658219.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [klee](#comment%3A15):\n> What else should I check as a user/reviewer?\n\n\nNothing special really, there should be no observable change. The dependency #28925 does give some additional things that could be checked regarding the subset distributions **sagemath-objects**, **sagemath-categories**.",
    "created_at": "2022-03-13T18:34:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658219",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [klee](#comment%3A15):
> What else should I check as a user/reviewer?


Nothing special really, there should be no observable change. The dependency #28925 does give some additional things that could be checked regarding the subset distributions **sagemath-objects**, **sagemath-categories**.



---

archive/issue_comments_658220.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [mkoeppe](#comment%3A18):\n> Replying to [klee](#comment%3A16):\n> > If a file like `all__sagemath_objects.py` is only to serve\n> > \n> > ```\n> > # The presence of this file ensures that sage_setup for sagemath-objects\n> > # considers this directory as a namespace package \n> > ```\n> > then a simpler name like `__namespace_package__.py` would not work?\n\n> \n> It would work, but based on discussion in #28925, I decided to use a file pattern that is already in use in the Sage sources\n\n\nI don't find any discussion about naming there... Anyway, \n\n(1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?\n\n(2) Should the name depend on the distribution package name (here `sagemath_objects`)? Then is it subject to change depending on how sage library is organized as distribution packages?",
    "created_at": "2022-03-14T00:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658220",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:26'></a>
Replying to [mkoeppe](#comment%3A18):
> Replying to [klee](#comment%3A16):
> > If a file like `all__sagemath_objects.py` is only to serve
> > 
> > ```
> > # The presence of this file ensures that sage_setup for sagemath-objects
> > # considers this directory as a namespace package 
> > ```
> > then a simpler name like `__namespace_package__.py` would not work?

> 
> It would work, but based on discussion in #28925, I decided to use a file pattern that is already in use in the Sage sources


I don't find any discussion about naming there... Anyway, 

(1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?

(2) Should the name depend on the distribution package name (here `sagemath_objects`)? Then is it subject to change depending on how sage library is organized as distribution packages?



---

archive/issue_comments_658221.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [klee](#comment%3A26):\n> (1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?\n\n\nNot true. See for example https://github.com/sagemath/sage/blob/develop/src/sage/categories/all__sagemath_objects.py, which is imported in https://github.com/sagemath/sage/blob/develop/src/sage/categories/all.py",
    "created_at": "2022-03-14T01:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658221",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Replying to [klee](#comment%3A26):
> (1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?


Not true. See for example https://github.com/sagemath/sage/blob/develop/src/sage/categories/all__sagemath_objects.py, which is imported in https://github.com/sagemath/sage/blob/develop/src/sage/categories/all.py



---

archive/issue_comments_658222.json:
```json
{
    "body": "<a id='comment:28'></a>\nJust the `all__sagemath_objects.py` files added in the present ticket happen to be trivial because the distribution **sagemath-objects** does not put anything from the modules that it contains in the global namespace.",
    "created_at": "2022-03-14T01:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658222",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
Just the `all__sagemath_objects.py` files added in the present ticket happen to be trivial because the distribution **sagemath-objects** does not put anything from the modules that it contains in the global namespace.



---

archive/issue_comments_658223.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [mkoeppe](#comment%3A27):\n> Replying to [klee](#comment%3A26):\n> > (1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?\n\n> \n> Not true. See for example https://github.com/sagemath/sage/blob/develop/src/sage/categories/all__sagemath_objects.py, which is imported in https://github.com/sagemath/sage/blob/develop/src/sage/categories/all.py\n> \n\n\nOkay. I see the idea.",
    "created_at": "2022-03-14T04:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658223",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:29'></a>
Replying to [mkoeppe](#comment%3A27):
> Replying to [klee](#comment%3A26):
> > (1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?

> 
> Not true. See for example https://github.com/sagemath/sage/blob/develop/src/sage/categories/all__sagemath_objects.py, which is imported in https://github.com/sagemath/sage/blob/develop/src/sage/categories/all.py
> 


Okay. I see the idea.



---

archive/issue_comments_658224.json:
```json
{
    "body": "<a id='comment:30'></a>\nWith sage built with Volker's branch and #28925, I get these failures only with this branch:\n\n```\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/tests/cmdline.py  # 4 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/sagedoc.py  # 3 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/structure/element.pyx  # 35 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/cachefunc.pyx  # 23 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/cython.py  # 3 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/graphs/connectivity.pyx  # 2 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/arith/long.pxd  # 14 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/ext/memory_allocator.pxd  # 6 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/ext/memory_allocator.pyx  # 9 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/integer_fake.pxd  # 1 doctest failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage_setup/find.py  # 1 doctest failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/docs/conf.py  # 1 doctest failed\n```",
    "created_at": "2022-03-14T08:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658224",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:30'></a>
With sage built with Volker's branch and #28925, I get these failures only with this branch:

```
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/tests/cmdline.py  # 4 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/sagedoc.py  # 3 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/structure/element.pyx  # 35 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/cachefunc.pyx  # 23 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/cython.py  # 3 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/graphs/connectivity.pyx  # 2 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/arith/long.pxd  # 14 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/ext/memory_allocator.pxd  # 6 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/ext/memory_allocator.pyx  # 9 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/integer_fake.pxd  # 1 doctest failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage_setup/find.py  # 1 doctest failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/docs/conf.py  # 1 doctest failed
```



---

archive/issue_events_098129.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33011#event-98129"
}
```



---

archive/issue_comments_658225.json:
```json
{
    "body": "**Changing commit** from \"[fbc75c202ec610f2a714c3bde5d8fc1589ab2455](https://github.com/sagemath/sagetrac-mirror/commit/fbc75c202ec610f2a714c3bde5d8fc1589ab2455)\" to \"[1e354355430b04eab6078587e312793d6eca2a4b](https://github.com/sagemath/sagetrac-mirror/commit/1e354355430b04eab6078587e312793d6eca2a4b)\".",
    "created_at": "2022-05-30T05:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658225",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fbc75c202ec610f2a714c3bde5d8fc1589ab2455](https://github.com/sagemath/sagetrac-mirror/commit/fbc75c202ec610f2a714c3bde5d8fc1589ab2455)" to "[1e354355430b04eab6078587e312793d6eca2a4b](https://github.com/sagemath/sagetrac-mirror/commit/1e354355430b04eab6078587e312793d6eca2a4b)".



---

archive/issue_comments_658226.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6258b79f1a3aa980bbc73d3257b404b320f133ec\">6258b79</a></td><td><code>Merge tag '9.6.rc2' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e95de9b16dd4b1629847e9ac7837ea291bb9cb5\">4e95de9</a></td><td><code>Merge #33803</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a92db463d340bff6819a10ca05c9c9ec1c2b95ad\">a92db46</a></td><td><code>Merge tag '9.7.beta1' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e354355430b04eab6078587e312793d6eca2a4b\">1e35435</a></td><td><code>Merge #28925</code></td></tr></table>\n",
    "created_at": "2022-05-30T05:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6258b79f1a3aa980bbc73d3257b404b320f133ec">6258b79</a></td><td><code>Merge tag '9.6.rc2' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e95de9b16dd4b1629847e9ac7837ea291bb9cb5">4e95de9</a></td><td><code>Merge #33803</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a92db463d340bff6819a10ca05c9c9ec1c2b95ad">a92db46</a></td><td><code>Merge tag '9.7.beta1' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e354355430b04eab6078587e312793d6eca2a4b">1e35435</a></td><td><code>Merge #28925</code></td></tr></table>




---

archive/issue_comments_658227.json:
```json
{
    "body": "<a id='comment:33'></a>\nWith the current branch, `make distclean; make -j8; sage -tp --all` results in \n\n```\n----------------------------------------------------------------------\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/tests/cmdline.py  # 4 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/sagedoc.py  # 3 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/structure/element.pyx  # 35 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cython.py  # 3 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cachefunc.pyx  # 23 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/connectivity.pyx  # 2 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pxd  # 6 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pyx  # 9 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/arith/long.pxd  # 14 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/integer_fake.pxd  # 1 doctest failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/normal_form_game.py  # 2 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_setup/find.py  # 1 doctest failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_docbuild/conf.py  # 1 doctest failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/docs/conf.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\non mac.",
    "created_at": "2022-06-07T09:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658227",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:33'></a>
With the current branch, `make distclean; make -j8; sage -tp --all` results in 

```
----------------------------------------------------------------------
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/tests/cmdline.py  # 4 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/sagedoc.py  # 3 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/structure/element.pyx  # 35 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cython.py  # 3 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cachefunc.pyx  # 23 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/connectivity.pyx  # 2 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pxd  # 6 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pyx  # 9 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/arith/long.pxd  # 14 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/integer_fake.pxd  # 1 doctest failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/normal_form_game.py  # 2 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_setup/find.py  # 1 doctest failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_docbuild/conf.py  # 1 doctest failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/docs/conf.py  # 1 doctest failed
----------------------------------------------------------------------
```
on mac.



---

archive/issue_comments_658228.json:
```json
{
    "body": "<a id='comment:34'></a>\nThis comment \n\n```\n# To build and test in the tox environment:\n#\n# ./sage -sh -c '(cd pkgs/sagemath-categories/src && tox -v -v -v)'   \n```\nin `pkgs/sagemath-categories/tox.ini` seems wrong. \n\nThis `./sage -sh -c '(cd pkgs/sagemath-categories && tox -v -v -v)'` works though.",
    "created_at": "2022-06-07T09:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658228",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:34'></a>
This comment 

```
# To build and test in the tox environment:
#
# ./sage -sh -c '(cd pkgs/sagemath-categories/src && tox -v -v -v)'   
```
in `pkgs/sagemath-categories/tox.ini` seems wrong. 

This `./sage -sh -c '(cd pkgs/sagemath-categories && tox -v -v -v)'` works though.



---

archive/issue_comments_658229.json:
```json
{
    "body": "**Changing commit** from \"[1e354355430b04eab6078587e312793d6eca2a4b](https://github.com/sagemath/sagetrac-mirror/commit/1e354355430b04eab6078587e312793d6eca2a4b)\" to \"[ed3086d0307f16b728cef2e0f03f214f64cec6a2](https://github.com/sagemath/sagetrac-mirror/commit/ed3086d0307f16b728cef2e0f03f214f64cec6a2)\".",
    "created_at": "2022-06-07T17:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1e354355430b04eab6078587e312793d6eca2a4b](https://github.com/sagemath/sagetrac-mirror/commit/1e354355430b04eab6078587e312793d6eca2a4b)" to "[ed3086d0307f16b728cef2e0f03f214f64cec6a2](https://github.com/sagemath/sagetrac-mirror/commit/ed3086d0307f16b728cef2e0f03f214f64cec6a2)".



---

archive/issue_comments_658230.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed3086d0307f16b728cef2e0f03f214f64cec6a2\">ed3086d</a></td><td><code>pkgs/sagemath-categories/tox.ini: Fix instructions in comment</code></td></tr></table>\n",
    "created_at": "2022-06-07T17:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658230",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed3086d0307f16b728cef2e0f03f214f64cec6a2">ed3086d</a></td><td><code>pkgs/sagemath-categories/tox.ini: Fix instructions in comment</code></td></tr></table>




---

archive/issue_comments_658231.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [klee](#comment%3A33):\n> With the current branch, `make distclean; make -j8; sage -tp --all` results in \n> \n> ```\n> ----------------------------------------------------------------------\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/tests/cmdline.py  # 4 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/sagedoc.py  # 3 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/structure/element.pyx  # 35 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cython.py  # 3 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cachefunc.pyx  # 23 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/connectivity.pyx  # 2 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pxd  # 6 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pyx  # 9 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/arith/long.pxd  # 14 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/integer_fake.pxd  # 1 doctest failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/normal_form_game.py  # 2 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_setup/find.py  # 1 doctest failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_docbuild/conf.py  # 1 doctest failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/docs/conf.py  # 1 doctest failed\n> ----------------------------------------------------------------------\n> ```\n> on mac.\n\n\nCould you share the details of these failures please? I cannot reproduce them (also on mac)",
    "created_at": "2022-06-07T19:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658231",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
Replying to [klee](#comment%3A33):
> With the current branch, `make distclean; make -j8; sage -tp --all` results in 
> 
> ```
> ----------------------------------------------------------------------
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/tests/cmdline.py  # 4 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/sagedoc.py  # 3 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/structure/element.pyx  # 35 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cython.py  # 3 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cachefunc.pyx  # 23 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/connectivity.pyx  # 2 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pxd  # 6 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pyx  # 9 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/arith/long.pxd  # 14 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/integer_fake.pxd  # 1 doctest failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/normal_form_game.py  # 2 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_setup/find.py  # 1 doctest failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_docbuild/conf.py  # 1 doctest failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/docs/conf.py  # 1 doctest failed
> ----------------------------------------------------------------------
> ```
> on mac.


Could you share the details of these failures please? I cannot reproduce them (also on mac)



---

archive/issue_comments_658232.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2022-06-07T21:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658232",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_658233.json:
```json
{
    "body": "<a id='comment:37'></a>\nOK, now I do see some failures that come from the runtime use of Cython.",
    "created_at": "2022-06-07T21:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658233",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>
OK, now I do see some failures that come from the runtime use of Cython.



---

archive/issue_comments_658234.json:
```json
{
    "body": "<a id='comment:38'></a>\nSome doctest failures are caused by the failure of documentation building. Indeed I have \n\n```\n[sagemath_doc_html-none] [graphs   ] The inventory files are in local/share/doc/sage/inventory/en/reference/graphs.\n[sagemath_doc_html-none] Build finished. The built documents can be found in /Users/kwankyu/GitHub/sage-temp/local/share/doc/sage/inventory/en/reference/graphs\n[sagemath_doc_html-none] Error building the documentation.\n[sagemath_doc_html-none] Traceback (most recent call last):\n[sagemath_doc_html-none]   File \"/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\n[sagemath_doc_html-none]     return _run_code(code, main_globals, None,\n[sagemath_doc_html-none]   File \"/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py\", line 87, in _run_code\n[sagemath_doc_html-none]     exec(code, run_globals)\n[sagemath_doc_html-none]   File \"/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py\", line 500, in <module>\n[sagemath_doc_html-none]     sys.exit(main())\n[sagemath_doc_html-none]   File \"/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py\", line 497, in main\n[sagemath_doc_html-none]     builder()\n[sagemath_doc_html-none]   File \"/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/builders.py\", line 814, in _wrapper\n[sagemath_doc_html-none]     for module_name in self.get_new_and_updated_modules():\n[sagemath_doc_html-none]   File \"/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/builders.py\", line 1014, in get_new_and_updated_modules\n[sagemath_doc_html-none]     if (module_filename.endswith('.pyc') or module_filename.endswith('.pyo')):\n[sagemath_doc_html-none] AttributeError: 'NoneType' object has no attribute 'endswith'\n[sagemath_doc_html-none] \n[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious\n[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run\n[sagemath_doc_html-none]     \"make doc-clean doc-uninstall\" first and try again.\n[sagemath_doc_html-none] cd /Users/kwankyu/GitHub/sage-temp && ./sage --docbuild --no-pdf-links reference/cryptography inventory --no-prune-empty-dirs\n[sagemath_doc_html-none] make[6]: *** [doc-inventory--reference-categories] Error 1\n[sagemath_doc_html-none] make[6]: *** Waiting for unfinished jobs....\n[sagemath_doc_html-none] [asymptoti] no targets are out of date.\n```\nDo you have no problem in building documentation?",
    "created_at": "2022-06-08T01:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658234",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:38'></a>
Some doctest failures are caused by the failure of documentation building. Indeed I have 

```
[sagemath_doc_html-none] [graphs   ] The inventory files are in local/share/doc/sage/inventory/en/reference/graphs.
[sagemath_doc_html-none] Build finished. The built documents can be found in /Users/kwankyu/GitHub/sage-temp/local/share/doc/sage/inventory/en/reference/graphs
[sagemath_doc_html-none] Error building the documentation.
[sagemath_doc_html-none] Traceback (most recent call last):
[sagemath_doc_html-none]   File "/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py", line 197, in _run_module_as_main
[sagemath_doc_html-none]     return _run_code(code, main_globals, None,
[sagemath_doc_html-none]   File "/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py", line 87, in _run_code
[sagemath_doc_html-none]     exec(code, run_globals)
[sagemath_doc_html-none]   File "/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py", line 500, in <module>
[sagemath_doc_html-none]     sys.exit(main())
[sagemath_doc_html-none]   File "/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py", line 497, in main
[sagemath_doc_html-none]     builder()
[sagemath_doc_html-none]   File "/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/builders.py", line 814, in _wrapper
[sagemath_doc_html-none]     for module_name in self.get_new_and_updated_modules():
[sagemath_doc_html-none]   File "/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/builders.py", line 1014, in get_new_and_updated_modules
[sagemath_doc_html-none]     if (module_filename.endswith('.pyc') or module_filename.endswith('.pyo')):
[sagemath_doc_html-none] AttributeError: 'NoneType' object has no attribute 'endswith'
[sagemath_doc_html-none] 
[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious
[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run
[sagemath_doc_html-none]     "make doc-clean doc-uninstall" first and try again.
[sagemath_doc_html-none] cd /Users/kwankyu/GitHub/sage-temp && ./sage --docbuild --no-pdf-links reference/cryptography inventory --no-prune-empty-dirs
[sagemath_doc_html-none] make[6]: *** [doc-inventory--reference-categories] Error 1
[sagemath_doc_html-none] make[6]: *** Waiting for unfinished jobs....
[sagemath_doc_html-none] [asymptoti] no targets are out of date.
```
Do you have no problem in building documentation?



---

archive/issue_comments_658235.json:
```json
{
    "body": "<a id='comment:39'></a>\nNow I see that too, sorry. Previously it seems I didn't clean fully",
    "created_at": "2022-06-08T05:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658235",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
Now I see that too, sorry. Previously it seems I didn't clean fully



---

archive/issue_comments_658236.json:
```json
{
    "body": "**Changing commit** from \"[ed3086d0307f16b728cef2e0f03f214f64cec6a2](https://github.com/sagemath/sagetrac-mirror/commit/ed3086d0307f16b728cef2e0f03f214f64cec6a2)\" to \"[7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1](https://github.com/sagemath/sagetrac-mirror/commit/7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1)\".",
    "created_at": "2022-06-08T06:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ed3086d0307f16b728cef2e0f03f214f64cec6a2](https://github.com/sagemath/sagetrac-mirror/commit/ed3086d0307f16b728cef2e0f03f214f64cec6a2)" to "[7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1](https://github.com/sagemath/sagetrac-mirror/commit/7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1)".



---

archive/issue_comments_658237.json:
```json
{
    "body": "<a id='comment:40'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1\">7a43f7a</a></td><td><code>src/sage_docbuild/builders.py: Handle namespace packages</code></td></tr></table>\n",
    "created_at": "2022-06-08T06:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658237",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1">7a43f7a</a></td><td><code>src/sage_docbuild/builders.py: Handle namespace packages</code></td></tr></table>




---

archive/issue_comments_658238.json:
```json
{
    "body": "<a id='comment:41'></a>\nHere's an attempt to fix the docbuild problem",
    "created_at": "2022-06-08T06:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658238",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
Here's an attempt to fix the docbuild problem



---

archive/issue_comments_658239.json:
```json
{
    "body": "**Changing commit** from \"[7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1](https://github.com/sagemath/sagetrac-mirror/commit/7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1)\" to \"[8375079815e117483d108062352daf707a6e25d4](https://github.com/sagemath/sagetrac-mirror/commit/8375079815e117483d108062352daf707a6e25d4)\".",
    "created_at": "2022-06-08T06:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658239",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1](https://github.com/sagemath/sagetrac-mirror/commit/7a43f7a1cd5aa65c686ca8b4a1bd6c8a7a035cf1)" to "[8375079815e117483d108062352daf707a6e25d4](https://github.com/sagemath/sagetrac-mirror/commit/8375079815e117483d108062352daf707a6e25d4)".



---

archive/issue_comments_658240.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65af720b6ca10f75b91dbdd4225dc3758955524c\">65af720</a></td><td><code>src/sage/misc/package_dir.py: New context manager cython_namespace_package_support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8375079815e117483d108062352daf707a6e25d4\">8375079</a></td><td><code>src/sage/misc/cython.py: Activate cython_namespace_package_support</code></td></tr></table>\n",
    "created_at": "2022-06-08T06:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658240",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65af720b6ca10f75b91dbdd4225dc3758955524c">65af720</a></td><td><code>src/sage/misc/package_dir.py: New context manager cython_namespace_package_support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8375079815e117483d108062352daf707a6e25d4">8375079</a></td><td><code>src/sage/misc/cython.py: Activate cython_namespace_package_support</code></td></tr></table>




---

archive/issue_comments_658241.json:
```json
{
    "body": "<a id='comment:43'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2546956d0b48b8e5fee8de2108f87ac14571138\">e254695</a></td><td><code>src/setup.py: Fix up use of cython_namespace_package_support</code></td></tr></table>\n",
    "created_at": "2022-06-08T06:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658241",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2546956d0b48b8e5fee8de2108f87ac14571138">e254695</a></td><td><code>src/setup.py: Fix up use of cython_namespace_package_support</code></td></tr></table>




---

archive/issue_comments_658242.json:
```json
{
    "body": "**Changing commit** from \"[8375079815e117483d108062352daf707a6e25d4](https://github.com/sagemath/sagetrac-mirror/commit/8375079815e117483d108062352daf707a6e25d4)\" to \"[e2546956d0b48b8e5fee8de2108f87ac14571138](https://github.com/sagemath/sagetrac-mirror/commit/e2546956d0b48b8e5fee8de2108f87ac14571138)\".",
    "created_at": "2022-06-08T06:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658242",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8375079815e117483d108062352daf707a6e25d4](https://github.com/sagemath/sagetrac-mirror/commit/8375079815e117483d108062352daf707a6e25d4)" to "[e2546956d0b48b8e5fee8de2108f87ac14571138](https://github.com/sagemath/sagetrac-mirror/commit/e2546956d0b48b8e5fee8de2108f87ac14571138)".



---

archive/issue_comments_658243.json:
```json
{
    "body": "**Changing commit** from \"[e2546956d0b48b8e5fee8de2108f87ac14571138](https://github.com/sagemath/sagetrac-mirror/commit/e2546956d0b48b8e5fee8de2108f87ac14571138)\" to \"[5aebcf338fb09db6dcc876cfd9048e8af218db61](https://github.com/sagemath/sagetrac-mirror/commit/5aebcf338fb09db6dcc876cfd9048e8af218db61)\".",
    "created_at": "2022-06-08T06:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658243",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e2546956d0b48b8e5fee8de2108f87ac14571138](https://github.com/sagemath/sagetrac-mirror/commit/e2546956d0b48b8e5fee8de2108f87ac14571138)" to "[5aebcf338fb09db6dcc876cfd9048e8af218db61](https://github.com/sagemath/sagetrac-mirror/commit/5aebcf338fb09db6dcc876cfd9048e8af218db61)".



---

archive/issue_comments_658244.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a15f173f8e75f3e53d46fd44d01165dae9a0f1af\">a15f173</a></td><td><code>pkgs/sagemath-categories/tox.ini: Fix instructions in comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8587d4715af8448ea283750a99a39b44dbed93de\">8587d47</a></td><td><code>src/sage/misc/package_dir.py: New context manager cython_namespace_package_support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc0992d36b482cd42fe28f6ee1a4c81d7eec194c\">bc0992d</a></td><td><code>src/sage/misc/cython.py: Activate cython_namespace_package_support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c98c36386a268740def9e93bbb340d3c1dfe5c6\">7c98c36</a></td><td><code>src/setup.py: Fix up use of cython_namespace_package_support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79822e41a32907476352becb078e10f921c0eba9\">79822e4</a></td><td><code>pkgs/sagemath-objects/setup.py: Monkey-patching cython is now done by the sage_build_cython command</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/895abe0b7c17b7fc1dc4ba26e8854febd050ac12\">895abe0</a></td><td><code>Remove __init__.py files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f45f8a5634b042a5cdb7081095c281dc2d522c1\">1f45f8a</a></td><td><code>Remove __init__.py files, add some all.py files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9038edc8259788e3693acec278393f821edb9dd\">f9038ed</a></td><td><code>src/sage/__init__.py: Restore</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1326e173dfd625a3c65c763e213413f59e9c85cc\">1326e17</a></td><td><code>src/sage/numerical/__init__.py: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5aebcf338fb09db6dcc876cfd9048e8af218db61\">5aebcf3</a></td><td><code>src/sage_docbuild/builders.py: Handle namespace packages</code></td></tr></table>\n",
    "created_at": "2022-06-08T06:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658244",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a15f173f8e75f3e53d46fd44d01165dae9a0f1af">a15f173</a></td><td><code>pkgs/sagemath-categories/tox.ini: Fix instructions in comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8587d4715af8448ea283750a99a39b44dbed93de">8587d47</a></td><td><code>src/sage/misc/package_dir.py: New context manager cython_namespace_package_support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc0992d36b482cd42fe28f6ee1a4c81d7eec194c">bc0992d</a></td><td><code>src/sage/misc/cython.py: Activate cython_namespace_package_support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c98c36386a268740def9e93bbb340d3c1dfe5c6">7c98c36</a></td><td><code>src/setup.py: Fix up use of cython_namespace_package_support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79822e41a32907476352becb078e10f921c0eba9">79822e4</a></td><td><code>pkgs/sagemath-objects/setup.py: Monkey-patching cython is now done by the sage_build_cython command</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/895abe0b7c17b7fc1dc4ba26e8854febd050ac12">895abe0</a></td><td><code>Remove __init__.py files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f45f8a5634b042a5cdb7081095c281dc2d522c1">1f45f8a</a></td><td><code>Remove __init__.py files, add some all.py files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9038edc8259788e3693acec278393f821edb9dd">f9038ed</a></td><td><code>src/sage/__init__.py: Restore</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1326e173dfd625a3c65c763e213413f59e9c85cc">1326e17</a></td><td><code>src/sage/numerical/__init__.py: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5aebcf338fb09db6dcc876cfd9048e8af218db61">5aebcf3</a></td><td><code>src/sage_docbuild/builders.py: Handle namespace packages</code></td></tr></table>




---

archive/issue_comments_658245.json:
```json
{
    "body": "<a id='comment:45'></a>\nRebased on updated #28925",
    "created_at": "2022-06-08T06:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658245",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>
Rebased on updated #28925



---

archive/issue_comments_658246.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-06-08T07:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658246",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_658247.json:
```json
{
    "body": "<a id='comment:47'></a>\nOnly this one remains:\n\n```\nsage -t --random-seed=189805995761835901272169845153382768673 src/sage_setup/find.py\nRunning doctests with ID 2022-06-08-18-44-23-6fbbcef6.\nUsing --optional=homebrew,pip,sage,sage_spkg\nFeatures to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,gfan,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,msolve,nauty,palp,pandoc,pdf2svg,pdftocairo,phitigra,plantri,polytopes_db,polytopes_db_4d,pynormaliz,python_igraph,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,sagemath_doc_html,sphinx,tdlib\nDoctesting 1 file.\nsage -t --warn-long 64.2 --random-seed=189805995761835901272169845153382768673 src/sage_setup/find.py\n**********************************************************************\nFile \"src/sage_setup/find.py\", line 401, in sage_setup.find.installed_files_by_module\nFailed example:\n    files_by_module['sage.graphs.graph_decompositions']\nExpected:\n    {...'sage/graphs/graph_decompositions/__init__.py'...}\nGot:\n    set()\n**********************************************************************\n1 item had failures:\n   1 of  10 in sage_setup.find.installed_files_by_module\n    [49 tests, 1 failure, 1.47 s]\n```",
    "created_at": "2022-06-08T09:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658247",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:47'></a>
Only this one remains:

```
sage -t --random-seed=189805995761835901272169845153382768673 src/sage_setup/find.py
Running doctests with ID 2022-06-08-18-44-23-6fbbcef6.
Using --optional=homebrew,pip,sage,sage_spkg
Features to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,gfan,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,msolve,nauty,palp,pandoc,pdf2svg,pdftocairo,phitigra,plantri,polytopes_db,polytopes_db_4d,pynormaliz,python_igraph,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,sagemath_doc_html,sphinx,tdlib
Doctesting 1 file.
sage -t --warn-long 64.2 --random-seed=189805995761835901272169845153382768673 src/sage_setup/find.py
**********************************************************************
File "src/sage_setup/find.py", line 401, in sage_setup.find.installed_files_by_module
Failed example:
    files_by_module['sage.graphs.graph_decompositions']
Expected:
    {...'sage/graphs/graph_decompositions/__init__.py'...}
Got:
    set()
**********************************************************************
1 item had failures:
   1 of  10 in sage_setup.find.installed_files_by_module
    [49 tests, 1 failure, 1.47 s]
```



---

archive/issue_comments_658248.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bba52849ad01f2977e1cc6b7a33342771a8671e0\">bba5284</a></td><td><code>src/sage_setup/find.py: Update doctest output</code></td></tr></table>\n",
    "created_at": "2022-06-08T11:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658248",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bba52849ad01f2977e1cc6b7a33342771a8671e0">bba5284</a></td><td><code>src/sage_setup/find.py: Update doctest output</code></td></tr></table>




---

archive/issue_comments_658249.json:
```json
{
    "body": "**Changing commit** from \"[5aebcf338fb09db6dcc876cfd9048e8af218db61](https://github.com/sagemath/sagetrac-mirror/commit/5aebcf338fb09db6dcc876cfd9048e8af218db61)\" to \"[bba52849ad01f2977e1cc6b7a33342771a8671e0](https://github.com/sagemath/sagetrac-mirror/commit/bba52849ad01f2977e1cc6b7a33342771a8671e0)\".",
    "created_at": "2022-06-08T11:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658249",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5aebcf338fb09db6dcc876cfd9048e8af218db61](https://github.com/sagemath/sagetrac-mirror/commit/5aebcf338fb09db6dcc876cfd9048e8af218db61)" to "[bba52849ad01f2977e1cc6b7a33342771a8671e0](https://github.com/sagemath/sagetrac-mirror/commit/bba52849ad01f2977e1cc6b7a33342771a8671e0)".



---

archive/issue_comments_658250.json:
```json
{
    "body": "<a id='comment:49'></a>\nThanks for testing! Fixed now",
    "created_at": "2022-06-08T11:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658250",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'></a>
Thanks for testing! Fixed now



---

archive/issue_comments_658251.json:
```json
{
    "body": "<a id='comment:50'></a>\nAll tests passed! Also I ran tox tests on sagemath-categories. All passed.\n\nAnd then I did `pkgs/sagemath-categories/.tox/python/bin/python`, and then \n\n```\nfrom sage.categories.all import *\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/sage/categories/all.py\", line 32, in <module>\n    from sage.misc.lazy_import import lazy_import\nModuleNotFoundError: No module named 'sage.misc.lazy_import'\n```\nPerhaps I did something that I should not do. What are reasonable things to do, to test `sagemath-categories`?",
    "created_at": "2022-06-08T12:25:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658251",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:50'></a>
All tests passed! Also I ran tox tests on sagemath-categories. All passed.

And then I did `pkgs/sagemath-categories/.tox/python/bin/python`, and then 

```
from sage.categories.all import *
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/sage/categories/all.py", line 32, in <module>
    from sage.misc.lazy_import import lazy_import
ModuleNotFoundError: No module named 'sage.misc.lazy_import'
```
Perhaps I did something that I should not do. What are reasonable things to do, to test `sagemath-categories`?



---

archive/issue_comments_658252.json:
```json
{
    "body": "<a id='comment:51'></a>\nThis works just fine here:\n\n```\n$ ./sage -sh -c '(cd pkgs/sagemath-categories && SAGE_NUM_THREADS=16 tox -r -v -v -v -e py39)'\n[...]\n$ pkgs/sagemath-categories/.tox/py39/bin/python\nPython 3.9.10 (v3.9.10:f2f3f53782, Jan 13 2022, 17:02:14) \n[Clang 6.0 (clang-600.0.57)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from sage.categories.all import *\n>>> \n```\n\nDid you by any chance run this from the directory `/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/`?\nThis won't work because by default `.` is in the front of `PYTHONPATH`. And then the directory in the source tree (`sage`), which does not contain the compiled Cython modules, shadows the installed package `sage`. \n\n(That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)",
    "created_at": "2022-06-08T17:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658252",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>
This works just fine here:

```
$ ./sage -sh -c '(cd pkgs/sagemath-categories && SAGE_NUM_THREADS=16 tox -r -v -v -v -e py39)'
[...]
$ pkgs/sagemath-categories/.tox/py39/bin/python
Python 3.9.10 (v3.9.10:f2f3f53782, Jan 13 2022, 17:02:14) 
[Clang 6.0 (clang-600.0.57)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> from sage.categories.all import *
>>> 
```

Did you by any chance run this from the directory `/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/`?
This won't work because by default `.` is in the front of `PYTHONPATH`. And then the directory in the source tree (`sage`), which does not contain the compiled Cython modules, shadows the installed package `sage`. 

(That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)



---

archive/issue_comments_658253.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [mkoeppe](#comment%3A51):\n> Did you by any chance run this from the directory `/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/`?\n\n\nCorrect.\n\n> This won't work because by default `.` is in the front of `PYTHONPATH`. And then the directory in the source tree (`sage`), which does not contain the compiled Cython modules, shadows the installed package `sage`.\n\n\nI see.  \n\n> (That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)\n\n\nSo this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?",
    "created_at": "2022-06-08T19:03:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658253",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:52'></a>
Replying to [mkoeppe](#comment%3A51):
> Did you by any chance run this from the directory `/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/`?


Correct.

> This won't work because by default `.` is in the front of `PYTHONPATH`. And then the directory in the source tree (`sage`), which does not contain the compiled Cython modules, shadows the installed package `sage`.


I see.  

> (That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)


So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?



---

archive/issue_comments_658254.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [klee](#comment%3A52):\n> > (That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)\n\n> \n> So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?\n\n\nAs far as I can see, there is no consensus in the Python community regarding which of the two layouts should be preferred. To me, the extra `src/` is additional clutter",
    "created_at": "2022-06-09T00:59:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658254",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>
Replying to [klee](#comment%3A52):
> > (That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)

> 
> So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?


As far as I can see, there is no consensus in the Python community regarding which of the two layouts should be preferred. To me, the extra `src/` is additional clutter



---

archive/issue_comments_658255.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [mkoeppe](#comment%3A53): \n> > So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?\n\n> \n> As far as I can see, there is no consensus in the Python community regarding which of the two layouts should be preferred. To me, the extra `src/` is additional clutter\n\n\nOkay. Not a big deal.",
    "created_at": "2022-06-09T04:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658255",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:54'></a>
Replying to [mkoeppe](#comment%3A53): 
> > So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?

> 
> As far as I can see, there is no consensus in the Python community regarding which of the two layouts should be preferred. To me, the extra `src/` is additional clutter


Okay. Not a big deal.



---

archive/issue_comments_658256.json:
```json
{
    "body": "<a id='comment:55'></a>\nI am working on a ticket on sage merged with the present ticket. When I rebuild sage by `sage -b`, I observe much bigger log, including \n\n```\n...\n...\n***********************************************\n[sagelib-9.7.beta1] Building interpreters for fast_callable\n[sagelib-9.7.beta1] Discovering Python/Cython source code....\n[sagelib-9.7.beta1] distributions = ['']\n[sagelib-9.7.beta1] Discovered Python/Cython sources, time: 5.48 seconds.\n[sagelib-9.7.beta1] running build\n[sagelib-9.7.beta1] running build_py\n[sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/numerical/backends/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/ext/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/arith/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/mpfi/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/mpfr/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/polybori/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/mpc/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/sets/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/rings/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/graphs/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/graphs/graph_decompositions/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] copying sage/modules/free_module.py -> build/lib.macosx-12-x86_64-3.9/sage/modules\n[sagelib-9.7.beta1] package init file 'sage/categories/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/matrix/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/interfaces/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] running build_ext\n[sagelib-9.7.beta1] running build_cython\n[sagelib-9.7.beta1] Enabling Cython debugging support\n[sagelib-9.7.beta1] Updating Cython code....\n[sagelib-9.7.beta1] Compiling sage/resolutions/free.pyx because it changed.\n[sagelib-9.7.beta1] [1/1] Cythonizing sage/resolutions/free.pyx\n[sagelib-9.7.beta1] Finished Cythonizing, time: 6.33 seconds.\n[sagelib-9.7.beta1] cythonized_files = [('sage/misc', ['./sage/misc/parser.pyx', './sage/misc/classcall_metaclass.pyx', './sage/misc/weak_dict.pyx', './sage/misc/sage_timeit_class.pyx', './sage/misc/lazy_string.pyx', './sage/misc/search.pyx', './sage/misc/c3_controlled.pyx', './sage/misc/instancedoc.pyx', './sage/misc/binary_tree.pxd', './sage/misc/reset.pyx', './sage/misc/sage_ostools.pyx', './sage/misc/function_mangling.pyx', './sage/misc/lazy_list.pyx', './sage/misc/citation.pyx', './sage/misc/nested_class.pxd', './sage/misc/fast_methods.pyx', './sage/misc/misc_c.pxd', './sage/misc/cachefunc.pyx', './sage/misc/session.pyx', './sage/misc/pickle_old.pyx', './sage/misc/allocator.pyx', './sage/misc/inherit_comparison.pxd', './sage/misc/randstate.pxd', './sage/misc/randstate.pyx', './sage/misc/inherit_comparison.pyx', './sage/misc/allocator.pxd', './sage/misc/cachefunc.pxd', './sage/misc/callable_dict.pyx', './sage/misc/fast_methods.pxd', './sage/misc/nested_class.pyx', './sage/misc/derivative.pyx', './sage/misc/misc_c.pyx', './sage/misc/lazy_attribute.pyx', './sage/misc/lazy_list.pxd', './sage/misc/function_mangling.pxd', './sage/misc/lazy_import.pyx', './sage/misc/binary_tree.pyx', './sage/misc/search.pxd', './sage/misc/c3_controlled.pxd', './sage/misc/fpickle.pyx', './sage/misc/lazy_string.pxd', './sage/misc/stopgap.pyx', './sage/misc/persist.pyx', './sage/misc/weak_dict.pxd', './sage/misc/c3.pyx', './sage/misc/constant_function.pyx', './sage/misc/classcall_metaclass.pxd']), ('sage/schemes/hyperelliptic_curves', ['./sage/schemes/hyperelliptic_curves/hypellfrob.pyx']), ('sage/schemes/elliptic_curves', ['./sage/schemes/elliptic_curves/period_lattice_region.pyx', './sage/schemes/elliptic_curves/mod_sym_num.pyx', './sage/schemes/elliptic_curves/descent_two_isogeny.pyx']), ('sage/schemes/toric', ['./sage/schemes/toric/divisor_class.pyx']), ('sage/crypto', ['./sage/crypto/boolean_function.pyx', './sage/crypto/sbox.pyx', './sage/crypto/boolean_function.pxd']), ('sage/data_structures', ['./sage/data_structures/bitset.pyx', './sage/data_structures/bounded_integer_sequences.pyx', './sage/data_structures/bitset_base.pxd', './sage/data_structures/binary_search.pyx', './sage/data_structures/blas_dict.pxd', './sage/data_structures/blas_dict.pyx', './sage/data_structures/binary_matrix.pxd', './sage/data_structures/binary_search.pxd', './sage/data_structures/sparse_bitset.pxd', './sage/data_structures/bitset_base.pyx', './sage/data_structures/bitset.pxd', './sage/data_structures/bounded_integer_sequences.pxd', 'build/cythonized/sage/data_structures/bitset_intrinsics.h']), ('sage/dynamics/complex_dynamics', ['./sage/dynamics/complex_dynamics/mandel_julia_helper.pyx']), ('sage/dynamics/arithmetic_dynamics', ['./sage/dynamics/arithmetic_dynamics/projective_ds_helper.pyx']), ('sage/probability', ['./sage/probability/probability_distribution.pyx']), ('sage/plot', ['./sage/plot/complex_plot.pyx']), ('sage/plot/plot3d', ['./sage/plot/plot3d/point_c.pxi', './sage/plot/plot3d/parametric_surface.pxd', './sage/plot/plot3d/shapes.pyx', './sage/plot/plot3d/index_face_set.pyx', './sage/plot/plot3d/base.pxd', './sage/plot/plot3d/transform.pyx', './sage/plot/plot3d/transform.pxd', './sage/plot/plot3d/base.pyx', './sage/plot/plot3d/implicit_surface.pyx', './sage/plot/plot3d/shapes.pxd', './sage/plot/plot3d/index_face_set.pxd', './sage/plot/plot3d/parametric_surface.pyx']), ('sage/combinat', ['./sage/combinat/permutation_cython.pyx\n...\n...\nlong long list of cythonized files!\n...\n...\n[sagelib-9.7.beta1] running install_scripts\n[sagelib-9.7.beta1] running egg_info\n[sagelib-9.7.beta1] writing sagemath_standard.egg-info/PKG-INFO\n[sagelib-9.7.beta1] writing dependency_links to sagemath_standard.egg-info/dependency_links.txt\n[sagelib-9.7.beta1] writing requirements to sagemath_standard.egg-info/requires.txt\n[sagelib-9.7.beta1] writing top-level names to sagemath_standard.egg-info/top_level.txt\n[sagelib-9.7.beta1] reading manifest template 'MANIFEST.in'\n[sagelib-9.7.beta1] warning: no files found matching '*.hh' anywhere in distribution\n[sagelib-9.7.beta1] warning: no files found matching '*.inc' anywhere in distribution\n[sagelib-9.7.beta1] no previously-included directories found matching '.tox'\n[sagelib-9.7.beta1] no previously-included directories found matching 'sage_setup'\n[sagelib-9.7.beta1] adding license file 'LICENSE.txt'\n[sagelib-9.7.beta1] writing manifest file 'sagemath_standard.egg-info/SOURCES.txt'\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-notebook to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-inline-fortran to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-valgrind to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-coverage to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-run to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipython to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-run-cython to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-grep to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-venv-config to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebaseall.sh to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-update-version to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebase.sh to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebaseall.bat to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/math-readline to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-env to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-list-packages to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-callgrind to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-runtests to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebase.bat to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-fixdoctests to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-preparse to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-python to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cleaner to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-omega to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-massif to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cachegrind to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-grepdoc to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-num-threads.py to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cython to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-version.sh to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-gdb-commands to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-eval to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage to 755\n[sagelib-9.7.beta1] running install_egg_info\n[sagelib-9.7.beta1] removing '/Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sagemath_standard-9.7b1-py3.9.egg-info' (and everything under it)\n[sagelib-9.7.beta1] Copying sagemath_standard.egg-info to /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sagemath_standard-9.7b1-py3.9.egg-info\n[sagelib-9.7.beta1] - cleaning build/lib.macosx-12-x86_64-3.9\n[sagelib-9.7.beta1] - cleaning /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages\n[sagelib-9.7.beta1] Cleaning up stale file: /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-39.pyc\n[sagelib-9.7.beta1] Finished cleaning, time: 0.40 seconds.\n[sagelib-9.7.beta1] \n[sagelib-9.7.beta1] real\t0m22.506s\n[sagelib-9.7.beta1] user\t0m17.144s\n[sagelib-9.7.beta1] sys\t0m5.558s\n\nreal\t0m22.669s\nuser\t0m17.244s\nsys\t0m5.624s\nSage build/upgrade complete!\n```\n\nWithout this ticket, the log is comparatively short: \n\n```\n...\n...\n***********************************************\n[sagelib-9.7.beta1] Building interpreters for fast_callable\n[sagelib-9.7.beta1] Discovering Python/Cython source code....\n[sagelib-9.7.beta1] distributions = ['']\n[sagelib-9.7.beta1] Discovered Python/Cython sources, time: 5.70 seconds.\n[sagelib-9.7.beta1] running build\n[sagelib-9.7.beta1] running build_py\n[sagelib-9.7.beta1] copying sage/schemes/product_projective/space.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/product_projective\n[sagelib-9.7.beta1] copying sage/schemes/elliptic_curves/ell_curve_isogeny.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/elliptic_curves\n[sagelib-9.7.beta1] copying sage/schemes/plane_conics/con_field.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/plane_conics\n[sagelib-9.7.beta1] copying sage/schemes/projective/projective_morphism.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/projective\n[sagelib-9.7.beta1] copying sage/modules/free_module.py -> build/lib.macosx-12-x86_64-cpython-39/sage/modules\n[sagelib-9.7.beta1] running build_ext\n[sagelib-9.7.beta1] running build_cython\n[sagelib-9.7.beta1] Enabling Cython debugging support\n[sagelib-9.7.beta1] INFO: Disabling color, you really want to install colorlog.\n[sagelib-9.7.beta1] Disabling color, you really want to install colorlog.\n[sagelib-9.7.beta1] Compiling sage/resolutions/free.pyx because it changed.\n[sagelib-9.7.beta1] [1/1] Cythonizing sage/resolutions/free.pyx\n[sagelib-9.7.beta1] Executing 1 command (using 1 thread)\n[sagelib-9.7.beta1] [1/1] build/cythonized/sage/resolutions/free.cpp:8891:18: warning: unused function '__pyx_pw_4sage_9structure_7element_1parent' [-Wunused-function]\n[sagelib-9.7.beta1] static PyObject *__pyx_pw_4sage_9structure_7element_1parent(PyObject *__pyx_self, PyObject *__pyx_v_x) {\n[sagelib-9.7.beta1]                  ^\n[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:8890:13: warning: unused variable '__pyx_doc_4sage_9structure_7element_parent' [-Wunused-variable]\n[sagelib-9.7.beta1] static char __pyx_doc_4sage_9structure_7element_parent[] = \"parent(x)\\nFile: sage/structure/element.pxd (starting at line 6)\\n\\n    Return the parent of the element ``x``.\\n\\n    Usually, this means the mathematical object of which ``x`` is an\\n    element.\\n\\n    INPUT:\\n\\n    - ``x`` -- an element\\n\\n    OUTPUT:\\n\\n    - If ``x`` is a Sage :class:`Element`, return ``x.parent()``.\\n\\n    - Otherwise, return ``type(x)``.\\n\\n    .. SEEALSO::\\n\\n        `Parents, Conversion and Coercion <http://doc.sagemath.org/html/en/tutorial/tour_coercion.html>`_\\n        Section in the Sage Tutorial\\n\\n    EXAMPLES::\\n\\n        sage: a = 42\\n        sage: parent(a)\\n        Integer Ring\\n        sage: b = 42/1\\n        sage: parent(b)\\n        Rational Field\\n        sage: c = 42.0\\n        sage: parent(c)\\n        Real Field with 53 bits of precision\\n\\n    Some more complicated examples::\\n\\n        sage: x = Partition([3,2,1,1,1])\\n        sage: parent(x)\\n        Partitions\\n        sage: v = vector(RDF, [1,2,3])\\n        sage: parent(v)\\n        Vector space of dimension 3 over Real Double Field\\n\\n    The following are not considered to be elements, so the type is\\n    returned::\\n\\n        sage: d = int(42)  # Python int\\n        sage: parent(d)\\n        <... 'int'>\\n        sage: L = list(range(10))\\n        sage: parent(L)\\n        <... 'list'>\\n    \";\n[sagelib-9.7.beta1]             ^\n[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:9236:18: warning: unused function '__pyx_pw_4sage_9structure_7element_3have_same_parent' [-Wunused-function]\n[sagelib-9.7.beta1] static PyObject *__pyx_pw_4sage_9structure_7element_3have_same_parent(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {\n[sagelib-9.7.beta1]                  ^\n[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:9235:13: warning: unused variable '__pyx_doc_4sage_9structure_7element_2have_same_parent' [-Wunused-variable]\n[sagelib-9.7.beta1] static char __pyx_doc_4sage_9structure_7element_2have_same_parent[] = \"have_same_parent(left, right) -> bool\\nFile: sage/structure/element.pxd (starting at line 111)\\n\\n    Return ``True`` if and only if ``left`` and ``right`` have the\\n    same parent.\\n\\n    .. WARNING::\\n\\n        This function assumes that at least one of the arguments is a\\n        Sage :class:`Element`. When in doubt, use the slower\\n        ``parent(left) is parent(right)`` instead.\\n\\n    EXAMPLES::\\n\\n        sage: from sage.structure.element import have_same_parent\\n        sage: have_same_parent(1, 3)\\n        True\\n        sage: have_same_parent(1, 1/2)\\n        False\\n        sage: have_same_parent(gap(1), gap(1/2))\\n        True\\n\\n    These have different types but the same parent::\\n\\n        sage: a = RLF(2)\\n        sage: b = exp(a)\\n        sage: type(a)\\n        <... 'sage.rings.real_lazy.LazyWrapper'>\\n        sage: type(b)\\n        <... 'sage.rings.real_lazy.LazyNamedUnop'>\\n        sage: have_same_parent(a, b)\\n        True\\n    \";\n[sagelib-9.7.beta1]             ^\n[sagelib-9.7.beta1] 4 warnings generated.\n[sagelib-9.7.beta1] Time to execute 1 command: 4.20 seconds.\n[sagelib-9.7.beta1] Total time spent compiling C/C++ extensions: 4.31 seconds.\n[sagelib-9.7.beta1] warning: no files found matching '*.inc' anywhere in distribution\n[sagelib-9.7.beta1] no previously-included directories found matching 'sage_setup'\n[sagelib-9.7.beta1] Cleaning up stale file: /Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-39.pyc\n[sagelib-9.7.beta1] \n[sagelib-9.7.beta1] real\t0m26.868s\n[sagelib-9.7.beta1] user\t0m19.950s\n[sagelib-9.7.beta1] sys\t0m6.686s\n\nreal\t0m27.035s\nuser\t0m20.050s\nsys\t0m6.750s\nSage build/upgrade complete!\n```\n\nI think this is a regression.",
    "created_at": "2022-06-09T07:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658256",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:55'></a>
I am working on a ticket on sage merged with the present ticket. When I rebuild sage by `sage -b`, I observe much bigger log, including 

```
...
...
***********************************************
[sagelib-9.7.beta1] Building interpreters for fast_callable
[sagelib-9.7.beta1] Discovering Python/Cython source code....
[sagelib-9.7.beta1] distributions = ['']
[sagelib-9.7.beta1] Discovered Python/Cython sources, time: 5.48 seconds.
[sagelib-9.7.beta1] running build
[sagelib-9.7.beta1] running build_py
[sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/numerical/backends/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/ext/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/arith/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/mpfi/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/mpfr/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/polybori/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/mpc/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/sets/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/rings/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/graphs/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/graphs/graph_decompositions/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] copying sage/modules/free_module.py -> build/lib.macosx-12-x86_64-3.9/sage/modules
[sagelib-9.7.beta1] package init file 'sage/categories/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/matrix/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/interfaces/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] running build_ext
[sagelib-9.7.beta1] running build_cython
[sagelib-9.7.beta1] Enabling Cython debugging support
[sagelib-9.7.beta1] Updating Cython code....
[sagelib-9.7.beta1] Compiling sage/resolutions/free.pyx because it changed.
[sagelib-9.7.beta1] [1/1] Cythonizing sage/resolutions/free.pyx
[sagelib-9.7.beta1] Finished Cythonizing, time: 6.33 seconds.
[sagelib-9.7.beta1] cythonized_files = [('sage/misc', ['./sage/misc/parser.pyx', './sage/misc/classcall_metaclass.pyx', './sage/misc/weak_dict.pyx', './sage/misc/sage_timeit_class.pyx', './sage/misc/lazy_string.pyx', './sage/misc/search.pyx', './sage/misc/c3_controlled.pyx', './sage/misc/instancedoc.pyx', './sage/misc/binary_tree.pxd', './sage/misc/reset.pyx', './sage/misc/sage_ostools.pyx', './sage/misc/function_mangling.pyx', './sage/misc/lazy_list.pyx', './sage/misc/citation.pyx', './sage/misc/nested_class.pxd', './sage/misc/fast_methods.pyx', './sage/misc/misc_c.pxd', './sage/misc/cachefunc.pyx', './sage/misc/session.pyx', './sage/misc/pickle_old.pyx', './sage/misc/allocator.pyx', './sage/misc/inherit_comparison.pxd', './sage/misc/randstate.pxd', './sage/misc/randstate.pyx', './sage/misc/inherit_comparison.pyx', './sage/misc/allocator.pxd', './sage/misc/cachefunc.pxd', './sage/misc/callable_dict.pyx', './sage/misc/fast_methods.pxd', './sage/misc/nested_class.pyx', './sage/misc/derivative.pyx', './sage/misc/misc_c.pyx', './sage/misc/lazy_attribute.pyx', './sage/misc/lazy_list.pxd', './sage/misc/function_mangling.pxd', './sage/misc/lazy_import.pyx', './sage/misc/binary_tree.pyx', './sage/misc/search.pxd', './sage/misc/c3_controlled.pxd', './sage/misc/fpickle.pyx', './sage/misc/lazy_string.pxd', './sage/misc/stopgap.pyx', './sage/misc/persist.pyx', './sage/misc/weak_dict.pxd', './sage/misc/c3.pyx', './sage/misc/constant_function.pyx', './sage/misc/classcall_metaclass.pxd']), ('sage/schemes/hyperelliptic_curves', ['./sage/schemes/hyperelliptic_curves/hypellfrob.pyx']), ('sage/schemes/elliptic_curves', ['./sage/schemes/elliptic_curves/period_lattice_region.pyx', './sage/schemes/elliptic_curves/mod_sym_num.pyx', './sage/schemes/elliptic_curves/descent_two_isogeny.pyx']), ('sage/schemes/toric', ['./sage/schemes/toric/divisor_class.pyx']), ('sage/crypto', ['./sage/crypto/boolean_function.pyx', './sage/crypto/sbox.pyx', './sage/crypto/boolean_function.pxd']), ('sage/data_structures', ['./sage/data_structures/bitset.pyx', './sage/data_structures/bounded_integer_sequences.pyx', './sage/data_structures/bitset_base.pxd', './sage/data_structures/binary_search.pyx', './sage/data_structures/blas_dict.pxd', './sage/data_structures/blas_dict.pyx', './sage/data_structures/binary_matrix.pxd', './sage/data_structures/binary_search.pxd', './sage/data_structures/sparse_bitset.pxd', './sage/data_structures/bitset_base.pyx', './sage/data_structures/bitset.pxd', './sage/data_structures/bounded_integer_sequences.pxd', 'build/cythonized/sage/data_structures/bitset_intrinsics.h']), ('sage/dynamics/complex_dynamics', ['./sage/dynamics/complex_dynamics/mandel_julia_helper.pyx']), ('sage/dynamics/arithmetic_dynamics', ['./sage/dynamics/arithmetic_dynamics/projective_ds_helper.pyx']), ('sage/probability', ['./sage/probability/probability_distribution.pyx']), ('sage/plot', ['./sage/plot/complex_plot.pyx']), ('sage/plot/plot3d', ['./sage/plot/plot3d/point_c.pxi', './sage/plot/plot3d/parametric_surface.pxd', './sage/plot/plot3d/shapes.pyx', './sage/plot/plot3d/index_face_set.pyx', './sage/plot/plot3d/base.pxd', './sage/plot/plot3d/transform.pyx', './sage/plot/plot3d/transform.pxd', './sage/plot/plot3d/base.pyx', './sage/plot/plot3d/implicit_surface.pyx', './sage/plot/plot3d/shapes.pxd', './sage/plot/plot3d/index_face_set.pxd', './sage/plot/plot3d/parametric_surface.pyx']), ('sage/combinat', ['./sage/combinat/permutation_cython.pyx
...
...
long long list of cythonized files!
...
...
[sagelib-9.7.beta1] running install_scripts
[sagelib-9.7.beta1] running egg_info
[sagelib-9.7.beta1] writing sagemath_standard.egg-info/PKG-INFO
[sagelib-9.7.beta1] writing dependency_links to sagemath_standard.egg-info/dependency_links.txt
[sagelib-9.7.beta1] writing requirements to sagemath_standard.egg-info/requires.txt
[sagelib-9.7.beta1] writing top-level names to sagemath_standard.egg-info/top_level.txt
[sagelib-9.7.beta1] reading manifest template 'MANIFEST.in'
[sagelib-9.7.beta1] warning: no files found matching '*.hh' anywhere in distribution
[sagelib-9.7.beta1] warning: no files found matching '*.inc' anywhere in distribution
[sagelib-9.7.beta1] no previously-included directories found matching '.tox'
[sagelib-9.7.beta1] no previously-included directories found matching 'sage_setup'
[sagelib-9.7.beta1] adding license file 'LICENSE.txt'
[sagelib-9.7.beta1] writing manifest file 'sagemath_standard.egg-info/SOURCES.txt'
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-notebook to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-inline-fortran to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-valgrind to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-coverage to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-run to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipython to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-run-cython to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-grep to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-venv-config to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebaseall.sh to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-update-version to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebase.sh to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebaseall.bat to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/math-readline to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-env to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-list-packages to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-callgrind to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-runtests to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebase.bat to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-fixdoctests to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-preparse to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-python to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cleaner to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-omega to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-massif to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cachegrind to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-grepdoc to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-num-threads.py to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cython to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-version.sh to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-gdb-commands to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-eval to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage to 755
[sagelib-9.7.beta1] running install_egg_info
[sagelib-9.7.beta1] removing '/Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sagemath_standard-9.7b1-py3.9.egg-info' (and everything under it)
[sagelib-9.7.beta1] Copying sagemath_standard.egg-info to /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sagemath_standard-9.7b1-py3.9.egg-info
[sagelib-9.7.beta1] - cleaning build/lib.macosx-12-x86_64-3.9
[sagelib-9.7.beta1] - cleaning /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages
[sagelib-9.7.beta1] Cleaning up stale file: /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-39.pyc
[sagelib-9.7.beta1] Finished cleaning, time: 0.40 seconds.
[sagelib-9.7.beta1] 
[sagelib-9.7.beta1] real	0m22.506s
[sagelib-9.7.beta1] user	0m17.144s
[sagelib-9.7.beta1] sys	0m5.558s

real	0m22.669s
user	0m17.244s
sys	0m5.624s
Sage build/upgrade complete!
```

Without this ticket, the log is comparatively short: 

```
...
...
***********************************************
[sagelib-9.7.beta1] Building interpreters for fast_callable
[sagelib-9.7.beta1] Discovering Python/Cython source code....
[sagelib-9.7.beta1] distributions = ['']
[sagelib-9.7.beta1] Discovered Python/Cython sources, time: 5.70 seconds.
[sagelib-9.7.beta1] running build
[sagelib-9.7.beta1] running build_py
[sagelib-9.7.beta1] copying sage/schemes/product_projective/space.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/product_projective
[sagelib-9.7.beta1] copying sage/schemes/elliptic_curves/ell_curve_isogeny.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/elliptic_curves
[sagelib-9.7.beta1] copying sage/schemes/plane_conics/con_field.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/plane_conics
[sagelib-9.7.beta1] copying sage/schemes/projective/projective_morphism.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/projective
[sagelib-9.7.beta1] copying sage/modules/free_module.py -> build/lib.macosx-12-x86_64-cpython-39/sage/modules
[sagelib-9.7.beta1] running build_ext
[sagelib-9.7.beta1] running build_cython
[sagelib-9.7.beta1] Enabling Cython debugging support
[sagelib-9.7.beta1] INFO: Disabling color, you really want to install colorlog.
[sagelib-9.7.beta1] Disabling color, you really want to install colorlog.
[sagelib-9.7.beta1] Compiling sage/resolutions/free.pyx because it changed.
[sagelib-9.7.beta1] [1/1] Cythonizing sage/resolutions/free.pyx
[sagelib-9.7.beta1] Executing 1 command (using 1 thread)
[sagelib-9.7.beta1] [1/1] build/cythonized/sage/resolutions/free.cpp:8891:18: warning: unused function '__pyx_pw_4sage_9structure_7element_1parent' [-Wunused-function]
[sagelib-9.7.beta1] static PyObject *__pyx_pw_4sage_9structure_7element_1parent(PyObject *__pyx_self, PyObject *__pyx_v_x) {
[sagelib-9.7.beta1]                  ^
[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:8890:13: warning: unused variable '__pyx_doc_4sage_9structure_7element_parent' [-Wunused-variable]
[sagelib-9.7.beta1] static char __pyx_doc_4sage_9structure_7element_parent[] = "parent(x)\nFile: sage/structure/element.pxd (starting at line 6)\n\n    Return the parent of the element ``x``.\n\n    Usually, this means the mathematical object of which ``x`` is an\n    element.\n\n    INPUT:\n\n    - ``x`` -- an element\n\n    OUTPUT:\n\n    - If ``x`` is a Sage :class:`Element`, return ``x.parent()``.\n\n    - Otherwise, return ``type(x)``.\n\n    .. SEEALSO::\n\n        `Parents, Conversion and Coercion <http://doc.sagemath.org/html/en/tutorial/tour_coercion.html>`_\n        Section in the Sage Tutorial\n\n    EXAMPLES::\n\n        sage: a = 42\n        sage: parent(a)\n        Integer Ring\n        sage: b = 42/1\n        sage: parent(b)\n        Rational Field\n        sage: c = 42.0\n        sage: parent(c)\n        Real Field with 53 bits of precision\n\n    Some more complicated examples::\n\n        sage: x = Partition([3,2,1,1,1])\n        sage: parent(x)\n        Partitions\n        sage: v = vector(RDF, [1,2,3])\n        sage: parent(v)\n        Vector space of dimension 3 over Real Double Field\n\n    The following are not considered to be elements, so the type is\n    returned::\n\n        sage: d = int(42)  # Python int\n        sage: parent(d)\n        <... 'int'>\n        sage: L = list(range(10))\n        sage: parent(L)\n        <... 'list'>\n    ";
[sagelib-9.7.beta1]             ^
[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:9236:18: warning: unused function '__pyx_pw_4sage_9structure_7element_3have_same_parent' [-Wunused-function]
[sagelib-9.7.beta1] static PyObject *__pyx_pw_4sage_9structure_7element_3have_same_parent(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
[sagelib-9.7.beta1]                  ^
[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:9235:13: warning: unused variable '__pyx_doc_4sage_9structure_7element_2have_same_parent' [-Wunused-variable]
[sagelib-9.7.beta1] static char __pyx_doc_4sage_9structure_7element_2have_same_parent[] = "have_same_parent(left, right) -> bool\nFile: sage/structure/element.pxd (starting at line 111)\n\n    Return ``True`` if and only if ``left`` and ``right`` have the\n    same parent.\n\n    .. WARNING::\n\n        This function assumes that at least one of the arguments is a\n        Sage :class:`Element`. When in doubt, use the slower\n        ``parent(left) is parent(right)`` instead.\n\n    EXAMPLES::\n\n        sage: from sage.structure.element import have_same_parent\n        sage: have_same_parent(1, 3)\n        True\n        sage: have_same_parent(1, 1/2)\n        False\n        sage: have_same_parent(gap(1), gap(1/2))\n        True\n\n    These have different types but the same parent::\n\n        sage: a = RLF(2)\n        sage: b = exp(a)\n        sage: type(a)\n        <... 'sage.rings.real_lazy.LazyWrapper'>\n        sage: type(b)\n        <... 'sage.rings.real_lazy.LazyNamedUnop'>\n        sage: have_same_parent(a, b)\n        True\n    ";
[sagelib-9.7.beta1]             ^
[sagelib-9.7.beta1] 4 warnings generated.
[sagelib-9.7.beta1] Time to execute 1 command: 4.20 seconds.
[sagelib-9.7.beta1] Total time spent compiling C/C++ extensions: 4.31 seconds.
[sagelib-9.7.beta1] warning: no files found matching '*.inc' anywhere in distribution
[sagelib-9.7.beta1] no previously-included directories found matching 'sage_setup'
[sagelib-9.7.beta1] Cleaning up stale file: /Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-39.pyc
[sagelib-9.7.beta1] 
[sagelib-9.7.beta1] real	0m26.868s
[sagelib-9.7.beta1] user	0m19.950s
[sagelib-9.7.beta1] sys	0m6.686s

real	0m27.035s
user	0m20.050s
sys	0m6.750s
Sage build/upgrade complete!
```

I think this is a regression.



---

archive/issue_comments_658257.json:
```json
{
    "body": "<a id='comment:56'></a>\nIt is the same if I repeat rebuilding.",
    "created_at": "2022-06-09T07:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658257",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:56'></a>
It is the same if I repeat rebuilding.



---

archive/issue_comments_658258.json:
```json
{
    "body": "<a id='comment:57'></a>\nReplying to [klee](#comment%3A55):\n> When I rebuild sage by `sage -b`, I observe much bigger log, including \n> \n> ```\n> ...\n> [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> [...]\n> ```\n\n\nThese messages are normal output when namespace packages are in use.\n\n> ```\n> [sagelib-9.7.beta1] cythonized_files = [('sage/misc', ['./sage/misc/parser.pyx', './sage/misc/classcall_metaclass.pyx', './sage/misc/weak_dict.pyx', './sage/misc/sage_timeit_class.pyx', './sage/misc/lazy_string.pyx', './sage/misc/search.pyx', './sage/misc/c3_controlled.pyx', > ...\n> long long list of cythonized files!\n> ...\n> ```\n> I think this is a regression. \n\n\nI agree, this is too much verbosity",
    "created_at": "2022-06-09T18:58:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658258",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:57'></a>
Replying to [klee](#comment%3A55):
> When I rebuild sage by `sage -b`, I observe much bigger log, including 
> 
> ```
> ...
> [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> [...]
> ```


These messages are normal output when namespace packages are in use.

> ```
> [sagelib-9.7.beta1] cythonized_files = [('sage/misc', ['./sage/misc/parser.pyx', './sage/misc/classcall_metaclass.pyx', './sage/misc/weak_dict.pyx', './sage/misc/sage_timeit_class.pyx', './sage/misc/lazy_string.pyx', './sage/misc/search.pyx', './sage/misc/c3_controlled.pyx', > ...
> long long list of cythonized files!
> ...
> ```
> I think this is a regression. 


I agree, this is too much verbosity



---

archive/issue_comments_658259.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39272c1c5c8e33072f29a80baea95af40f7f6ad1\">39272c1</a></td><td><code>src/sage_setup/command/sage_build_cython.py: Reduce verbosity</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56e9123118b11e7ada5c8d12b39f1dc811b6b015\">56e9123</a></td><td><code>Merge #28925</code></td></tr></table>\n",
    "created_at": "2022-06-09T18:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658259",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39272c1c5c8e33072f29a80baea95af40f7f6ad1">39272c1</a></td><td><code>src/sage_setup/command/sage_build_cython.py: Reduce verbosity</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56e9123118b11e7ada5c8d12b39f1dc811b6b015">56e9123</a></td><td><code>Merge #28925</code></td></tr></table>




---

archive/issue_comments_658260.json:
```json
{
    "body": "**Changing commit** from \"[bba52849ad01f2977e1cc6b7a33342771a8671e0](https://github.com/sagemath/sagetrac-mirror/commit/bba52849ad01f2977e1cc6b7a33342771a8671e0)\" to \"[56e9123118b11e7ada5c8d12b39f1dc811b6b015](https://github.com/sagemath/sagetrac-mirror/commit/56e9123118b11e7ada5c8d12b39f1dc811b6b015)\".",
    "created_at": "2022-06-09T18:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658260",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bba52849ad01f2977e1cc6b7a33342771a8671e0](https://github.com/sagemath/sagetrac-mirror/commit/bba52849ad01f2977e1cc6b7a33342771a8671e0)" to "[56e9123118b11e7ada5c8d12b39f1dc811b6b015](https://github.com/sagemath/sagetrac-mirror/commit/56e9123118b11e7ada5c8d12b39f1dc811b6b015)".



---

archive/issue_comments_658261.json:
```json
{
    "body": "<a id='comment:59'></a>\nFixed via #28925",
    "created_at": "2022-06-09T18:58:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658261",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:59'></a>
Fixed via #28925



---

archive/issue_comments_658262.json:
```json
{
    "body": "<a id='comment:60'></a>\nReplying to [mkoeppe](#comment%3A57):\n> Replying to [klee](#comment%3A55):\n> > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > \n> > ```\n> > ...\n> > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > [...]\n> > ```\n\n> \n> These messages are normal output when namespace packages are in use.\n\n\nThey are not very informative and look like error messages. \n\nThese long list of `changing mode of ...`:\n\n```\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755\n...\n```\nis also not informative. Moreover they look redundant jobs.",
    "created_at": "2022-06-10T04:30:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658262",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:60'></a>
Replying to [mkoeppe](#comment%3A57):
> Replying to [klee](#comment%3A55):
> > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > 
> > ```
> > ...
> > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > [...]
> > ```

> 
> These messages are normal output when namespace packages are in use.


They are not very informative and look like error messages. 

These long list of `changing mode of ...`:

```
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755
...
```
is also not informative. Moreover they look redundant jobs.



---

archive/issue_comments_658263.json:
```json
{
    "body": "<a id='comment:61'></a>\nReplying to [klee](#comment%3A60):\n> Replying to [mkoeppe](#comment%3A57):\n> > Replying to [klee](#comment%3A55):\n> > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > \n> > > ```\n> > > ...\n> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > [...]\n> > > ```\n\n> > \n> > These messages are normal output when namespace packages are in use.\n\n> \n> They are not very informative and look like error messages. \n\n\nIs this (googled):\n\n  Because .. doesn\u2019t contain an `__init__.py`, `setuptools.find_packages()` won\u2019t find the sub-package. You must use `setuptools.find_namespace_packages()` instead or explicitly list all packages in your setup.py.\n\nthe cause of those warnings?",
    "created_at": "2022-06-10T04:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658263",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:61'></a>
Replying to [klee](#comment%3A60):
> Replying to [mkoeppe](#comment%3A57):
> > Replying to [klee](#comment%3A55):
> > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > 
> > > ```
> > > ...
> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > [...]
> > > ```

> > 
> > These messages are normal output when namespace packages are in use.

> 
> They are not very informative and look like error messages. 


Is this (googled):

  Because .. doesnt contain an `__init__.py`, `setuptools.find_packages()` wont find the sub-package. You must use `setuptools.find_namespace_packages()` instead or explicitly list all packages in your setup.py.

the cause of those warnings?



---

archive/issue_comments_658264.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [klee](#comment%3A60):\n> Replying to [mkoeppe](#comment%3A57):\n> > Replying to [klee](#comment%3A55):\n> > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > \n> > > ```\n> > > ...\n> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > [...]\n> > > ```\n\n> > \n> > These messages are normal output when namespace packages are in use.\n\n> \n> They are not very informative and look like error messages. \n\n\nI agree, but this is an upstream `setuptools` concern. \n\n> \n> These long list of `changing mode of ...`:\n> \n> ```\n> [sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755\n> [sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755\n> ...\n> ```\n> is also not informative. Moreover they look redundant jobs.\n\n\nI think this is not new from this ticket. And it's also an upstream `setuptools` concern.",
    "created_at": "2022-06-10T05:04:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658264",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:62'></a>
Replying to [klee](#comment%3A60):
> Replying to [mkoeppe](#comment%3A57):
> > Replying to [klee](#comment%3A55):
> > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > 
> > > ```
> > > ...
> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > [...]
> > > ```

> > 
> > These messages are normal output when namespace packages are in use.

> 
> They are not very informative and look like error messages. 


I agree, but this is an upstream `setuptools` concern. 

> 
> These long list of `changing mode of ...`:
> 
> ```
> [sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755
> [sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755
> ...
> ```
> is also not informative. Moreover they look redundant jobs.


I think this is not new from this ticket. And it's also an upstream `setuptools` concern.



---

archive/issue_comments_658265.json:
```json
{
    "body": "<a id='comment:63'></a>\nReplying to [klee](#comment%3A61):\n> Replying to [klee](#comment%3A60):\n> > Replying to [mkoeppe](#comment%3A57):\n> > > Replying to [klee](#comment%3A55):\n> > > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > > \n> > > > ```\n> > > > ...\n> > > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > > [...]\n> > > > ```\n\n> > > \n> > > These messages are normal output when namespace packages are in use.\n\n> > \n> > They are not very informative and look like error messages. \n\n> \n> Is this (googled):\n> \n>   Because .. doesn\u2019t contain an `__init__.py`, `setuptools.find_packages()` won\u2019t find the sub-package. You must use `setuptools.find_namespace_packages()` instead or explicitly list all packages in your setup.py.\n> \n> the cause of those warnings?\n\n\nNo. `find_namespace_packages` lists all directories instead of only directories that have an __init__.py file. It does not change what setuptools complains about.",
    "created_at": "2022-06-10T05:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658265",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:63'></a>
Replying to [klee](#comment%3A61):
> Replying to [klee](#comment%3A60):
> > Replying to [mkoeppe](#comment%3A57):
> > > Replying to [klee](#comment%3A55):
> > > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > > 
> > > > ```
> > > > ...
> > > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > > [...]
> > > > ```

> > > 
> > > These messages are normal output when namespace packages are in use.

> > 
> > They are not very informative and look like error messages. 

> 
> Is this (googled):
> 
>   Because .. doesnt contain an `__init__.py`, `setuptools.find_packages()` wont find the sub-package. You must use `setuptools.find_namespace_packages()` instead or explicitly list all packages in your setup.py.
> 
> the cause of those warnings?


No. `find_namespace_packages` lists all directories instead of only directories that have an __init__.py file. It does not change what setuptools complains about.



---

archive/issue_comments_658266.json:
```json
{
    "body": "<a id='comment:64'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81237e15f8a7c035486811f51e365664b84ecae9\">81237e1</a></td><td><code>Merge tag '9.7.beta2' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd2c525c3c191b9c72fda24e0cf99f9654ed7dfe\">dd2c525</a></td><td><code>Merge tag '9.7.beta3' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cc90024b8c3fb673dc1087b298a5ada9e6d93ad\">2cc9002</a></td><td><code>pkgs/sagemath-objects/setup.py: Remove unused import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd4d8e9aa0c9954019fef9dc29e43d26a891f460\">cd4d8e9</a></td><td><code>pkgs/sagemath-standard/setup.py: Monkey-patching cython is now done by the sage_build_cython command</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af9ac78b79cae957232b4b7929909533a162a7ed\">af9ac78</a></td><td><code>src/sage_setup/find.py (find_extra_files): Document new arg 'distributions'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13e66a3a785cf098f64e93db35217d9343a4106c\">13e66a3</a></td><td><code>src/sage_setup/find.py (find_extra_files): Fix indentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ab3200f0c30e6502f915a08136f636371a0e995\">9ab3200</a></td><td><code>src/sage_setup/clean.py (clean_install_dir): Document new arg 'distributions'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a7677998edc094a2dc12dfda5dfbbce904941aa\">6a76779</a></td><td><code>Merge #28925</code></td></tr></table>\n",
    "created_at": "2022-07-01T01:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81237e15f8a7c035486811f51e365664b84ecae9">81237e1</a></td><td><code>Merge tag '9.7.beta2' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd2c525c3c191b9c72fda24e0cf99f9654ed7dfe">dd2c525</a></td><td><code>Merge tag '9.7.beta3' into t/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cc90024b8c3fb673dc1087b298a5ada9e6d93ad">2cc9002</a></td><td><code>pkgs/sagemath-objects/setup.py: Remove unused import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd4d8e9aa0c9954019fef9dc29e43d26a891f460">cd4d8e9</a></td><td><code>pkgs/sagemath-standard/setup.py: Monkey-patching cython is now done by the sage_build_cython command</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af9ac78b79cae957232b4b7929909533a162a7ed">af9ac78</a></td><td><code>src/sage_setup/find.py (find_extra_files): Document new arg 'distributions'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13e66a3a785cf098f64e93db35217d9343a4106c">13e66a3</a></td><td><code>src/sage_setup/find.py (find_extra_files): Fix indentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ab3200f0c30e6502f915a08136f636371a0e995">9ab3200</a></td><td><code>src/sage_setup/clean.py (clean_install_dir): Document new arg 'distributions'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a7677998edc094a2dc12dfda5dfbbce904941aa">6a76779</a></td><td><code>Merge #28925</code></td></tr></table>




---

archive/issue_comments_658267.json:
```json
{
    "body": "**Changing commit** from \"[56e9123118b11e7ada5c8d12b39f1dc811b6b015](https://github.com/sagemath/sagetrac-mirror/commit/56e9123118b11e7ada5c8d12b39f1dc811b6b015)\" to \"[6a7677998edc094a2dc12dfda5dfbbce904941aa](https://github.com/sagemath/sagetrac-mirror/commit/6a7677998edc094a2dc12dfda5dfbbce904941aa)\".",
    "created_at": "2022-07-01T01:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[56e9123118b11e7ada5c8d12b39f1dc811b6b015](https://github.com/sagemath/sagetrac-mirror/commit/56e9123118b11e7ada5c8d12b39f1dc811b6b015)" to "[6a7677998edc094a2dc12dfda5dfbbce904941aa](https://github.com/sagemath/sagetrac-mirror/commit/6a7677998edc094a2dc12dfda5dfbbce904941aa)".



---

archive/issue_comments_658268.json:
```json
{
    "body": "<a id='comment:65'></a>\nReplying to [klee](#comment%3A60):\n> Replying to [mkoeppe](#comment%3A57):\n> > Replying to [klee](#comment%3A55):\n> > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > \n> > > ```\n> > > ...\n> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > [...]\n> > > ```\n\n> > \n> > These messages are normal output when namespace packages are in use.\n\n> \n> They are not very informative and look like error messages. \n\n\nsetuptools 63.1.0 will eliminate them - https://setuptools.pypa.io/en/latest/history.html#v63-1-0",
    "created_at": "2022-07-04T03:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658268",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>
Replying to [klee](#comment%3A60):
> Replying to [mkoeppe](#comment%3A57):
> > Replying to [klee](#comment%3A55):
> > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > 
> > > ```
> > > ...
> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > [...]
> > > ```

> > 
> > These messages are normal output when namespace packages are in use.

> 
> They are not very informative and look like error messages. 


setuptools 63.1.0 will eliminate them - https://setuptools.pypa.io/en/latest/history.html#v63-1-0



---

archive/issue_comments_658269.json:
```json
{
    "body": "<a id='comment:66'></a>\nReplying to [mkoeppe](#comment%3A65):\n> Replying to [klee](#comment%3A60):\n> > Replying to [mkoeppe](#comment%3A57):\n> > > Replying to [klee](#comment%3A55):\n> > > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > > \n> > > > ```\n> > > > ...\n> > > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > > [...]\n> > > > ```\n\n> > > \n> > > These messages are normal output when namespace packages are in use.\n\n> > \n> > They are not very informative and look like error messages. \n\n> \n> setuptools 63.1.0 will eliminate them - https://setuptools.pypa.io/en/latest/history.html#v63-1-0\n\n\nNice! \n\nThose `changing mode of ...` lines are not seen any more already.",
    "created_at": "2022-07-04T04:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658269",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:66'></a>
Replying to [mkoeppe](#comment%3A65):
> Replying to [klee](#comment%3A60):
> > Replying to [mkoeppe](#comment%3A57):
> > > Replying to [klee](#comment%3A55):
> > > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > > 
> > > > ```
> > > > ...
> > > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > > [...]
> > > > ```

> > > 
> > > These messages are normal output when namespace packages are in use.

> > 
> > They are not very informative and look like error messages. 

> 
> setuptools 63.1.0 will eliminate them - https://setuptools.pypa.io/en/latest/history.html#v63-1-0


Nice! 

Those `changing mode of ...` lines are not seen any more already.



---

archive/issue_comments_658270.json:
```json
{
    "body": "<a id='comment:67'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd185b51fef28748a9c11d3c8941503db35717d4\">bd185b5</a></td><td><code>Merge tag '9.7.beta5' into t/33011/remove___init___py_files_for_packages_designated_to_be_namespace_packages</code></td></tr></table>\n",
    "created_at": "2022-07-11T00:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd185b51fef28748a9c11d3c8941503db35717d4">bd185b5</a></td><td><code>Merge tag '9.7.beta5' into t/33011/remove___init___py_files_for_packages_designated_to_be_namespace_packages</code></td></tr></table>




---

archive/issue_comments_658271.json:
```json
{
    "body": "**Changing commit** from \"[6a7677998edc094a2dc12dfda5dfbbce904941aa](https://github.com/sagemath/sagetrac-mirror/commit/6a7677998edc094a2dc12dfda5dfbbce904941aa)\" to \"[bd185b51fef28748a9c11d3c8941503db35717d4](https://github.com/sagemath/sagetrac-mirror/commit/bd185b51fef28748a9c11d3c8941503db35717d4)\".",
    "created_at": "2022-07-11T00:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6a7677998edc094a2dc12dfda5dfbbce904941aa](https://github.com/sagemath/sagetrac-mirror/commit/6a7677998edc094a2dc12dfda5dfbbce904941aa)" to "[bd185b51fef28748a9c11d3c8941503db35717d4](https://github.com/sagemath/sagetrac-mirror/commit/bd185b51fef28748a9c11d3c8941503db35717d4)".



---

archive/issue_comments_658272.json:
```json
{
    "body": "**Changing dependencies** from \"#28925\" to \"\".",
    "created_at": "2022-07-11T00:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658272",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#28925" to "".



---

archive/issue_comments_658273.json:
```json
{
    "body": "<a id='comment:69'></a>\nI get \n\n```\nsage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py\n**********************************************************************\nFile \"src/sage_setup/find.py\", line 406, in sage_setup.find.installed_files_by_module\nFailed example:\n    files_by_module['sage.graphs.graph_decompositions']\nExpected:\n    set()\nGot:\n    {'sage/graphs/graph_decompositions/__init__.py',\n     'sage/graphs/graph_decompositions/__pycache__/__init__.cpython-39.pyc'}\n**********************************************************************\n1 item had failures:\n   1 of  10 in sage_setup.find.installed_files_by_module\n    [49 tests, 1 failure, 1.77 s]\n----------------------------------------------------------------------\nsage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\nThere is no `__init__.py` in `src/sage/graphs/graph_decompositions`, but there is one in `local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/graph_decompositions`. Even if I delete it, it gets created when I rebuild sage by `sage -b`.\n\nDo I need to `make distclean` first?",
    "created_at": "2022-07-12T04:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658273",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:69'></a>
I get 

```
sage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py
**********************************************************************
File "src/sage_setup/find.py", line 406, in sage_setup.find.installed_files_by_module
Failed example:
    files_by_module['sage.graphs.graph_decompositions']
Expected:
    set()
Got:
    {'sage/graphs/graph_decompositions/__init__.py',
     'sage/graphs/graph_decompositions/__pycache__/__init__.cpython-39.pyc'}
**********************************************************************
1 item had failures:
   1 of  10 in sage_setup.find.installed_files_by_module
    [49 tests, 1 failure, 1.77 s]
----------------------------------------------------------------------
sage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py  # 1 doctest failed
----------------------------------------------------------------------
```
There is no `__init__.py` in `src/sage/graphs/graph_decompositions`, but there is one in `local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/graph_decompositions`. Even if I delete it, it gets created when I rebuild sage by `sage -b`.

Do I need to `make distclean` first?



---

archive/issue_comments_658274.json:
```json
{
    "body": "<a id='comment:70'></a>\nHm, I guess the `__init__.py` file survives in `pkgs/sagemath-standard/build/lib.*`",
    "created_at": "2022-07-12T04:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658274",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:70'></a>
Hm, I guess the `__init__.py` file survives in `pkgs/sagemath-standard/build/lib.*`



---

archive/issue_comments_658275.json:
```json
{
    "body": "<a id='comment:71'></a>\n`make distclean` (or just `rm -rf pkgs/sagemath-standard/build`) will solve it. Not sure if there's a good way to make it work with incremental builds",
    "created_at": "2022-07-12T04:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658275",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:71'></a>
`make distclean` (or just `rm -rf pkgs/sagemath-standard/build`) will solve it. Not sure if there's a good way to make it work with incremental builds



---

archive/issue_comments_658276.json:
```json
{
    "body": "<a id='comment:72'></a>\nReplying to [mkoeppe](#comment%3A70):\n> Hm, I guess the `__init__.py` file survives in `pkgs/sagemath-standard/build/lib.*`\n\n\nYes. it's there.",
    "created_at": "2022-07-12T04:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658276",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:72'></a>
Replying to [mkoeppe](#comment%3A70):
> Hm, I guess the `__init__.py` file survives in `pkgs/sagemath-standard/build/lib.*`


Yes. it's there.



---

archive/issue_comments_658277.json:
```json
{
    "body": "<a id='comment:73'></a>\nReplying to [mkoeppe](#comment%3A71):\n> `make distclean` (or just `rm -rf pkgs/sagemath-standard/build`) will solve it. Not sure if there's a good way to make it work with incremental builds\n\n\nI deleted the directory `pkgs/sagemath-standard/build` and did `make -j8`. This will save time, but I don't know if this is a valid way to build sage.",
    "created_at": "2022-07-12T04:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658277",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:73'></a>
Replying to [mkoeppe](#comment%3A71):
> `make distclean` (or just `rm -rf pkgs/sagemath-standard/build`) will solve it. Not sure if there's a good way to make it work with incremental builds


I deleted the directory `pkgs/sagemath-standard/build` and did `make -j8`. This will save time, but I don't know if this is a valid way to build sage.



---

archive/issue_comments_658278.json:
```json
{
    "body": "<a id='comment:74'></a>\nReplying to [klee](#comment%3A73):\n> Replying to [mkoeppe](#comment%3A71):\n> (or just `rm -rf pkgs/sagemath-standard/build`)\n\n\nAh, you mentioned this.",
    "created_at": "2022-07-12T04:38:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658278",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:74'></a>
Replying to [klee](#comment%3A73):
> Replying to [mkoeppe](#comment%3A71):
> (or just `rm -rf pkgs/sagemath-standard/build`)


Ah, you mentioned this.



---

archive/issue_comments_658279.json:
```json
{
    "body": "<a id='comment:75'></a>\nReplying to [klee](#comment%3A69):\n> I get \n> \n> ```\n> sage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py\n> **********************************************************************\n> File \"src/sage_setup/find.py\", line 406, in sage_setup.find.installed_files_by_module\n> Failed example:\n>     files_by_module['sage.graphs.graph_decompositions']\n> Expected:\n>     set()\n> Got:\n>     {'sage/graphs/graph_decompositions/__init__.py',\n>      'sage/graphs/graph_decompositions/__pycache__/__init__.cpython-39.pyc'}\n\n\nHow about adding a comment like \n{{{\n     files_by_module['sage.graphs.graph_decompositions']  # make distclean if failed\n}}}\nto guide people what to do to resolve the failure?",
    "created_at": "2022-07-13T00:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658279",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:75'></a>
Replying to [klee](#comment%3A69):
> I get 
> 
> ```
> sage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py
> **********************************************************************
> File "src/sage_setup/find.py", line 406, in sage_setup.find.installed_files_by_module
> Failed example:
>     files_by_module['sage.graphs.graph_decompositions']
> Expected:
>     set()
> Got:
>     {'sage/graphs/graph_decompositions/__init__.py',
>      'sage/graphs/graph_decompositions/__pycache__/__init__.cpython-39.pyc'}


How about adding a comment like 
{{{
     files_by_module['sage.graphs.graph_decompositions']  # make distclean if failed
}}}
to guide people what to do to resolve the failure?



---

archive/issue_comments_658280.json:
```json
{
    "body": "**Changing commit** from \"[bd185b51fef28748a9c11d3c8941503db35717d4](https://github.com/sagemath/sagetrac-mirror/commit/bd185b51fef28748a9c11d3c8941503db35717d4)\" to \"[39aa2f1ea4432291c4e5920971d6f10e175a838b](https://github.com/sagemath/sagetrac-mirror/commit/39aa2f1ea4432291c4e5920971d6f10e175a838b)\".",
    "created_at": "2022-07-13T15:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658280",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bd185b51fef28748a9c11d3c8941503db35717d4](https://github.com/sagemath/sagetrac-mirror/commit/bd185b51fef28748a9c11d3c8941503db35717d4)" to "[39aa2f1ea4432291c4e5920971d6f10e175a838b](https://github.com/sagemath/sagetrac-mirror/commit/39aa2f1ea4432291c4e5920971d6f10e175a838b)".



---

archive/issue_comments_658281.json:
```json
{
    "body": "<a id='comment:76'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39aa2f1ea4432291c4e5920971d6f10e175a838b\">39aa2f1</a></td><td><code>src/sage_setup/command/sage_install.py (sage_clean): Clean __init__.py when installed package was ordinary, source package is namespace</code></td></tr></table>\n",
    "created_at": "2022-07-13T15:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658281",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:76'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39aa2f1ea4432291c4e5920971d6f10e175a838b">39aa2f1</a></td><td><code>src/sage_setup/command/sage_install.py (sage_clean): Clean __init__.py when installed package was ordinary, source package is namespace</code></td></tr></table>




---

archive/issue_comments_658282.json:
```json
{
    "body": "<a id='comment:77'></a>\nI think I found a proper solution for this",
    "created_at": "2022-07-13T15:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658282",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:77'></a>
I think I found a proper solution for this



---

archive/issue_comments_658283.json:
```json
{
    "body": "<a id='comment:78'></a>\nReplying to [mkoeppe](#comment%3A77):\n> I think I found a proper solution for this\n\n\nYes. It looks good.\n\nI have some questions. The file `sage/__init__.py` is not deleted yet here. Then can a subpackage of `sage` be a namespace package? I guess the answer is yes, but no two distribution packages can install into the namespace package. Am I right?\n\nIs the complication of removing `sage/__init__.py` still valid?",
    "created_at": "2022-07-15T08:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658283",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:78'></a>
Replying to [mkoeppe](#comment%3A77):
> I think I found a proper solution for this


Yes. It looks good.

I have some questions. The file `sage/__init__.py` is not deleted yet here. Then can a subpackage of `sage` be a namespace package? I guess the answer is yes, but no two distribution packages can install into the namespace package. Am I right?

Is the complication of removing `sage/__init__.py` still valid?



---

archive/issue_comments_658284.json:
```json
{
    "body": "<a id='comment:79'></a>\nReplying to [klee](#comment%3A78):\n> Is the complication of removing `sage/__init__.py` still valid?\n\n\nI am asking this even though I do not understand the complication (I tried to).",
    "created_at": "2022-07-15T10:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658284",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:79'></a>
Replying to [klee](#comment%3A78):
> Is the complication of removing `sage/__init__.py` still valid?


I am asking this even though I do not understand the complication (I tried to).



---

archive/issue_comments_658285.json:
```json
{
    "body": "<a id='comment:80'></a>\nReplying to [klee](#comment%3A78):\n> The file `sage/__init__.py` is not deleted yet here. Then can a subpackage of `sage` be a namespace package? I guess the answer is yes, but no two distribution packages can install into the namespace package. Am I right?\n\n\nThat's right.\n\n> Is the complication of removing `sage/__init__.py` still valid?\n\n\nYes, I've opened #34187 for it",
    "created_at": "2022-07-15T14:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658285",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:80'></a>
Replying to [klee](#comment%3A78):
> The file `sage/__init__.py` is not deleted yet here. Then can a subpackage of `sage` be a namespace package? I guess the answer is yes, but no two distribution packages can install into the namespace package. Am I right?


That's right.

> Is the complication of removing `sage/__init__.py` still valid?


Yes, I've opened #34187 for it



---

archive/issue_comments_658286.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,5 +10,5 @@\n `setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).\n But when an old version of `sage` that is an ordinary package is installed already, the source will not shadow it.\n \n-To avoid this complication, in this ticket we do not yet remove `src/sage/__init__.py`.\n+To avoid this complication, in this ticket we do not yet remove `src/sage/__init__.py`. That is done in #34187.\n \n``````\n",
    "created_at": "2022-07-15T14:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658286",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,5 +10,5 @@
 `setup.py` puts the source path in front of `setup.py` because `sage_setup` uses `sage.env` and `is_package_or_sage_namespace_package_dir` (#33033).
 But when an old version of `sage` that is an ordinary package is installed already, the source will not shadow it.
 
-To avoid this complication, in this ticket we do not yet remove `src/sage/__init__.py`.
+To avoid this complication, in this ticket we do not yet remove `src/sage/__init__.py`. That is done in #34187.
 
``````




---

archive/issue_comments_658287.json:
```json
{
    "body": "<a id='comment:81'></a>\nI think sage is now ready to get this in.",
    "created_at": "2022-07-15T14:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658287",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:81'></a>
I think sage is now ready to get this in.



---

archive/issue_comments_658288.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-07-15T14:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658288",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_658289.json:
```json
{
    "body": "**Reviewer:** Kwankyu Lee",
    "created_at": "2022-07-15T14:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658289",
    "user": "https://github.com/kwankyu"
}
```

**Reviewer:** Kwankyu Lee



---

archive/issue_comments_658290.json:
```json
{
    "body": "<a id='comment:82'></a>\nThank you!",
    "created_at": "2022-07-15T15:34:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658290",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:82'></a>
Thank you!



---

archive/issue_comments_658291.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2022-07-21T21:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658291",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_098130.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-21T21:12:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33011#event-98130"
}
```



---

archive/issue_comments_658292.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/remove___init___py_files_for_packages_designated_to_be_namespace_packages](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/remove___init___py_files_for_packages_designated_to_be_namespace_packages)\" to \"[39aa2f1ea4432291c4e5920971d6f10e175a838b](https://github.com/sagemath/sagetrac-mirror/commit/39aa2f1ea4432291c4e5920971d6f10e175a838b)\".",
    "created_at": "2022-07-21T21:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33011#issuecomment-658292",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/remove___init___py_files_for_packages_designated_to_be_namespace_packages](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/remove___init___py_files_for_packages_designated_to_be_namespace_packages)" to "[39aa2f1ea4432291c4e5920971d6f10e175a838b](https://github.com/sagemath/sagetrac-mirror/commit/39aa2f1ea4432291c4e5920971d6f10e175a838b)".
