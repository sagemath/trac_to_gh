# Issue 33730: Inconsistency in handling initial values between desolve_rk4 and desolve_system_rk4

archive/issues_033493.json:
```json
{
    "assignees": [],
    "body": "The function `desolve_rk4` in `calculus/desolvers.py` uses `str(ivar)` to convert initial values to strings, while the function `desolve_system_rk4` in the same file uses `ivar._maxima_().str(). When using `desolve_system_rk4` in an `@interact` with sliders, the values generated by the sliders seem to be regular floats, and do not have `_maxima_()` attribute, which causes an error.  Solving a single equation using `desolve_rk4` inside an `@interact` works fine.\n\nA workaround is to wrap initial values generated by sliders in `RR()` when using `desolve_system_rk4`, but that is ugly and inconsistent, since there is no need to do that when using `desolve_rk4`. \n\nComponent: **numerical**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33730_\n\n",
    "created_at": "2022-04-19T06:17:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Inconsistency in handling initial values between desolve_rk4 and desolve_system_rk4",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/33730",
    "user": "https://github.com/lahvak"
}
```
The function `desolve_rk4` in `calculus/desolvers.py` uses `str(ivar)` to convert initial values to strings, while the function `desolve_system_rk4` in the same file uses `ivar._maxima_().str(). When using `desolve_system_rk4` in an `@interact` with sliders, the values generated by the sliders seem to be regular floats, and do not have `_maxima_()` attribute, which causes an error.  Solving a single equation using `desolve_rk4` inside an `@interact` works fine.

A workaround is to wrap initial values generated by sliders in `RR()` when using `desolve_system_rk4`, but that is ugly and inconsistent, since there is no need to do that when using `desolve_rk4`. 

Component: **numerical**

_Issue created by migration from https://trac.sagemath.org/ticket/33730_





---

archive/issue_events_462896.json:
```json
{
    "actor": "https://github.com/lahvak",
    "created_at": "2022-04-19T06:17:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33730",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33730#event-462896"
}
```



---

archive/issue_events_462897.json:
```json
{
    "actor": "https://github.com/lahvak",
    "created_at": "2022-04-19T06:17:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33730",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "c: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33730#event-462897"
}
```



---

archive/issue_events_462898.json:
```json
{
    "actor": "https://github.com/lahvak",
    "created_at": "2022-04-19T06:17:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33730",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33730#event-462898"
}
```



---

archive/issue_events_462899.json:
```json
{
    "actor": "https://github.com/lahvak",
    "created_at": "2022-04-19T06:17:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33730",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33730#event-462899"
}
```



---

archive/issue_events_462900.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33730",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33730#event-462900"
}
```



---

archive/issue_events_462901.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33730",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33730#event-462901"
}
```



---

archive/issue_events_462902.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33730",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33730#event-462902"
}
```



---

archive/issue_events_462903.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33730",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33730#event-462903"
}
```
