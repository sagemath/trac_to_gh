# Issue 33817: GH Actions: Add test of the modularized distributions

archive/issues_033580.json:
```json
{
    "body": "... as part of the workflow `build.yml`. This is to catch modularization regressions on tickets.\n\nTo this end, we extend `build/pkgs/sagemath-{objects,categories,environment,repl}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).\n\nA new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --enable-editable` is in use.\n\nAnother top-level make target `wheels` does the same but also includes `sage_conf` and `sagemath_standard`. This is useful for venv installs and helps with the problem noted in #32913.\n\nWe also extend the script `src/bin/sage-update-version` so that it automatically updates the `install-requires.txt` files for our distribution packages. \n\n\nCC:  @dimpase @saraedum @kwankyu @jhpalmieri\n\nBranch/Commit: 64b212caa93f9e9c4f0868eb065bb35fd22cfc6a\n\nReviewer: Tobias Diez, Kwankyu Lee\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33817\n\n",
    "closed_at": "2022-08-01T20:23:07Z",
    "created_at": "2022-05-06T17:59:19Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "GH Actions: Add test of the modularized distributions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33817",
    "user": "https://github.com/mkoeppe"
}
```
... as part of the workflow `build.yml`. This is to catch modularization regressions on tickets.

To this end, we extend `build/pkgs/sagemath-{objects,categories,environment,repl}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).

A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --enable-editable` is in use.

Another top-level make target `wheels` does the same but also includes `sage_conf` and `sagemath_standard`. This is useful for venv installs and helps with the problem noted in #32913.

We also extend the script `src/bin/sage-update-version` so that it automatically updates the `install-requires.txt` files for our distribution packages. 


CC:  @dimpase @saraedum @kwankyu @jhpalmieri

Branch/Commit: 64b212caa93f9e9c4f0868eb065bb35fd22cfc6a

Reviewer: Tobias Diez, Kwankyu Lee

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33817





---

archive/issue_comments_666028.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#33803\"",
    "created_at": "2022-05-06T18:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666028",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#33803"



---

archive/issue_comments_666029.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/gh_actions__add_test_of_the_modularized_distributions\"",
    "created_at": "2022-05-06T20:09:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666029",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/gh_actions__add_test_of_the_modularized_distributions"



---

archive/issue_comments_666030.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[9c8f668](https://github.com/sagemath/sagetrac-mirror/commit/9c8f66817204670492bbce99456fc55aefe1431a)|`build/pkgs/sagemath_objects/spkg-install: Handle errors`|\n|[dbfe66c](https://github.com/sagemath/sagetrac-mirror/commit/dbfe66c7237362478b81258f360be11a1d773437)|`build/pkgs/sagemath_objects/dependencies: Add sage_setup`|\n|[af78202](https://github.com/sagemath/sagetrac-mirror/commit/af7820248362eae1045551b86d7ef331169ba870)|`Makefile (pypi-wheels, wheels): New`|\n|[9c634c2](https://github.com/sagemath/sagetrac-mirror/commit/9c634c2da15de718be53418b2739494319b7354f)|`.github/workflows/build.yml: Build/test modularized distributions`|",
    "created_at": "2022-05-06T21:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666030",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[9c8f668](https://github.com/sagemath/sagetrac-mirror/commit/9c8f66817204670492bbce99456fc55aefe1431a)|`build/pkgs/sagemath_objects/spkg-install: Handle errors`|
|[dbfe66c](https://github.com/sagemath/sagetrac-mirror/commit/dbfe66c7237362478b81258f360be11a1d773437)|`build/pkgs/sagemath_objects/dependencies: Add sage_setup`|
|[af78202](https://github.com/sagemath/sagetrac-mirror/commit/af7820248362eae1045551b86d7ef331169ba870)|`Makefile (pypi-wheels, wheels): New`|
|[9c634c2](https://github.com/sagemath/sagetrac-mirror/commit/9c634c2da15de718be53418b2739494319b7354f)|`.github/workflows/build.yml: Build/test modularized distributions`|



---

archive/issue_comments_666031.json:
```json
{
    "body": "Changing commit from \"\" to \"9c634c2da15de718be53418b2739494319b7354f\"",
    "created_at": "2022-05-06T21:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666031",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "9c634c2da15de718be53418b2739494319b7354f"



---

archive/issue_comments_666032.json:
```json
{
    "body": "Changing commit from \"9c634c2da15de718be53418b2739494319b7354f\" to \"ce003ce4056886d311d9431d9cfed8082e19be63\"",
    "created_at": "2022-05-06T22:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666032",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9c634c2da15de718be53418b2739494319b7354f" to "ce003ce4056886d311d9431d9cfed8082e19be63"



---

archive/issue_comments_666033.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[ce003ce](https://github.com/sagemath/sagetrac-mirror/commit/ce003ce4056886d311d9431d9cfed8082e19be63)|`build/pkgs/sagemath_objects/spkg-install: Only use Sage wheels for the build`|",
    "created_at": "2022-05-06T22:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666033",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[ce003ce](https://github.com/sagemath/sagetrac-mirror/commit/ce003ce4056886d311d9431d9cfed8082e19be63)|`build/pkgs/sagemath_objects/spkg-install: Only use Sage wheels for the build`|



---

archive/issue_comments_666034.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n ... as part of the workflow `build.yml`. This is to catch modularization regressions on tickets.\n \n-To this end, we add `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts, which build and store wheels (but do not install them!), and add tox environments `python-sagewheels-nopypi` as in `pkg/sagemath-standard/tox.ini`.\n+To this end, we extend `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels.\n \n+A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --editable` is in use.\n+\n+Another top-level make target `wheels` does the same but also includes `sage_conf` and `sagemath_standard`. This is useful for venv installs and helps with the problem noted in #32913.\n+\n``````\n",
    "created_at": "2022-05-06T22:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666034",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
 ... as part of the workflow `build.yml`. This is to catch modularization regressions on tickets.
 
-To this end, we add `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts, which build and store wheels (but do not install them!), and add tox environments `python-sagewheels-nopypi` as in `pkg/sagemath-standard/tox.ini`.
+To this end, we extend `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels.
 
+A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --editable` is in use.
+
+Another top-level make target `wheels` does the same but also includes `sage_conf` and `sagemath_standard`. This is useful for venv installs and helps with the problem noted in #32913.
+
``````




---

archive/issue_comments_666035.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2022-05-06T22:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666035",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_666036.json:
```json
{
    "body": "Changing commit from \"ce003ce4056886d311d9431d9cfed8082e19be63\" to \"83cfb7470ab9d2b0d8a06f307047c029d4b12d52\"",
    "created_at": "2022-05-07T20:57:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ce003ce4056886d311d9431d9cfed8082e19be63" to "83cfb7470ab9d2b0d8a06f307047c029d4b12d52"



---

archive/issue_comments_666037.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|\n|[83cfb74](https://github.com/sagemath/sagetrac-mirror/commit/83cfb7470ab9d2b0d8a06f307047c029d4b12d52)|`.github/workflows/build.yml: Test modularized distributions earlier, continue testing on failures`|",
    "created_at": "2022-05-07T20:57:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
|[83cfb74](https://github.com/sagemath/sagetrac-mirror/commit/83cfb7470ab9d2b0d8a06f307047c029d4b12d52)|`.github/workflows/build.yml: Test modularized distributions earlier, continue testing on failures`|



---

archive/issue_comments_666038.json:
```json
{
    "body": "<a id='comment:8'></a>\nHow much longer does the build workflow now take?",
    "created_at": "2022-05-07T21:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666038",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:8'></a>
How much longer does the build workflow now take?



---

archive/issue_comments_666039.json:
```json
{
    "body": "<a id='comment:9'></a>\nRunning right now at https://github.com/sagemath/sagetrac-mirror/runs/6336808131?check_suite_focus=true",
    "created_at": "2022-05-07T21:01:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666039",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Running right now at https://github.com/sagemath/sagetrac-mirror/runs/6336808131?check_suite_focus=true



---

archive/issue_comments_666040.json:
```json
{
    "body": "Changing commit from \"83cfb7470ab9d2b0d8a06f307047c029d4b12d52\" to \"b03779d5bc096717dbd71a55a29cba8e58574dea\"",
    "created_at": "2022-05-07T21:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666040",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "83cfb7470ab9d2b0d8a06f307047c029d4b12d52" to "b03779d5bc096717dbd71a55a29cba8e58574dea"



---

archive/issue_comments_666041.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[b03779d](https://github.com/sagemath/sagetrac-mirror/commit/b03779d5bc096717dbd71a55a29cba8e58574dea)|`Makefile: Move sage_docbuild from PYPI_WHEEL_PACKAGES to WHEEL_PACKAGES`|",
    "created_at": "2022-05-07T21:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666041",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[b03779d](https://github.com/sagemath/sagetrac-mirror/commit/b03779d5bc096717dbd71a55a29cba8e58574dea)|`Makefile: Move sage_docbuild from PYPI_WHEEL_PACKAGES to WHEEL_PACKAGES`|



---

archive/issue_comments_666042.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------|\n|[171b7c6](https://github.com/sagemath/sagetrac-mirror/commit/171b7c653be2815eef81bc5882322f26cfa11745)|`build/pkgs/sagemath_objects/spkg-install: When ensurepip is not available, fall back to using build --no-isolation`|\n|[3f4c1b8](https://github.com/sagemath/sagetrac-mirror/commit/3f4c1b8fbeebf4b32570f2ac732b615a355bc15b)|`.github/workflows/build.yml: Run modularized dists earlier`|",
    "created_at": "2022-05-07T22:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666042",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------|
|[171b7c6](https://github.com/sagemath/sagetrac-mirror/commit/171b7c653be2815eef81bc5882322f26cfa11745)|`build/pkgs/sagemath_objects/spkg-install: When ensurepip is not available, fall back to using build --no-isolation`|
|[3f4c1b8](https://github.com/sagemath/sagetrac-mirror/commit/3f4c1b8fbeebf4b32570f2ac732b615a355bc15b)|`.github/workflows/build.yml: Run modularized dists earlier`|



---

archive/issue_comments_666043.json:
```json
{
    "body": "Changing commit from \"b03779d5bc096717dbd71a55a29cba8e58574dea\" to \"3f4c1b8fbeebf4b32570f2ac732b615a355bc15b\"",
    "created_at": "2022-05-07T22:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666043",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b03779d5bc096717dbd71a55a29cba8e58574dea" to "3f4c1b8fbeebf4b32570f2ac732b615a355bc15b"



---

archive/issue_comments_666044.json:
```json
{
    "body": "Changing commit from \"3f4c1b8fbeebf4b32570f2ac732b615a355bc15b\" to \"193f067b0fb51fddcbb4ae27748ea68a3f20ed2a\"",
    "created_at": "2022-05-07T22:25:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3f4c1b8fbeebf4b32570f2ac732b615a355bc15b" to "193f067b0fb51fddcbb4ae27748ea68a3f20ed2a"



---

archive/issue_comments_666045.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[193f067](https://github.com/sagemath/sagetrac-mirror/commit/193f067b0fb51fddcbb4ae27748ea68a3f20ed2a)|`build/pkgs/sagemath_objects/spkg-install: Run tox with --discover`|",
    "created_at": "2022-05-07T22:25:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666045",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[193f067](https://github.com/sagemath/sagetrac-mirror/commit/193f067b0fb51fddcbb4ae27748ea68a3f20ed2a)|`build/pkgs/sagemath_objects/spkg-install: Run tox with --discover`|



---

archive/issue_comments_666046.json:
```json
{
    "body": "Changing dependencies from \"#33803\" to \"#33803, #32716\"",
    "created_at": "2022-05-07T22:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666046",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33803" to "#33803, #32716"



---

archive/issue_comments_666047.json:
```json
{
    "body": "Changing commit from \"193f067b0fb51fddcbb4ae27748ea68a3f20ed2a\" to \"b87f8135d097451772cb5e192407abb00e32d5af\"",
    "created_at": "2022-05-07T23:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "193f067b0fb51fddcbb4ae27748ea68a3f20ed2a" to "b87f8135d097451772cb5e192407abb00e32d5af"



---

archive/issue_comments_666048.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[064f453](https://github.com/sagemath/sagetrac-mirror/commit/064f4530c5f9f6d8202eb71552285b662ba1ef2e)|`build/pkgs/sagemath_objects/spkg-install: Use tox -e sagepython`|\n|[5ce30b8](https://github.com/sagemath/sagetrac-mirror/commit/5ce30b8415cc104723c2a4850ca3c33064259959)|`pkgs/sage-setup, sagemath-{objects,categories,standard}: Add tox environment sagepython`|\n|[9db6b2f](https://github.com/sagemath/sagetrac-mirror/commit/9db6b2f9dfc496edfcf955b3b66bf62919587ddb)|`src/doc/en/developer/packaging_sage_library.rst: Use sagepython instead of hardcoded py39`|\n|[b87f813](https://github.com/sagemath/sagetrac-mirror/commit/b87f8135d097451772cb5e192407abb00e32d5af)|`Merge #32716`|",
    "created_at": "2022-05-07T23:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[064f453](https://github.com/sagemath/sagetrac-mirror/commit/064f4530c5f9f6d8202eb71552285b662ba1ef2e)|`build/pkgs/sagemath_objects/spkg-install: Use tox -e sagepython`|
|[5ce30b8](https://github.com/sagemath/sagetrac-mirror/commit/5ce30b8415cc104723c2a4850ca3c33064259959)|`pkgs/sage-setup, sagemath-{objects,categories,standard}: Add tox environment sagepython`|
|[9db6b2f](https://github.com/sagemath/sagetrac-mirror/commit/9db6b2f9dfc496edfcf955b3b66bf62919587ddb)|`src/doc/en/developer/packaging_sage_library.rst: Use sagepython instead of hardcoded py39`|
|[b87f813](https://github.com/sagemath/sagetrac-mirror/commit/b87f8135d097451772cb5e192407abb00e32d5af)|`Merge #32716`|



---

archive/issue_comments_666049.json:
```json
{
    "body": "Changing commit from \"b87f8135d097451772cb5e192407abb00e32d5af\" to \"d1a1402768b8f883a05a38ff676c93498503e403\"",
    "created_at": "2022-05-07T23:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b87f8135d097451772cb5e192407abb00e32d5af" to "d1a1402768b8f883a05a38ff676c93498503e403"



---

archive/issue_comments_666050.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[d1a1402](https://github.com/sagemath/sagetrac-mirror/commit/d1a1402768b8f883a05a38ff676c93498503e403)|`build/pkgs/sagemath_objects/spkg-install: Fixup`|",
    "created_at": "2022-05-07T23:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[d1a1402](https://github.com/sagemath/sagetrac-mirror/commit/d1a1402768b8f883a05a38ff676c93498503e403)|`build/pkgs/sagemath_objects/spkg-install: Fixup`|



---

archive/issue_comments_666051.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[6a6ea4c](https://github.com/sagemath/sagetrac-mirror/commit/6a6ea4c3147b73f6811042a019c2540448fc993a)|`pkgs/*/tox.ini: Use {envpython`}|",
    "created_at": "2022-05-07T23:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[6a6ea4c](https://github.com/sagemath/sagetrac-mirror/commit/6a6ea4c3147b73f6811042a019c2540448fc993a)|`pkgs/*/tox.ini: Use {envpython`}|



---

archive/issue_comments_666052.json:
```json
{
    "body": "Changing commit from \"d1a1402768b8f883a05a38ff676c93498503e403\" to \"6a6ea4c3147b73f6811042a019c2540448fc993a\"",
    "created_at": "2022-05-07T23:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d1a1402768b8f883a05a38ff676c93498503e403" to "6a6ea4c3147b73f6811042a019c2540448fc993a"



---

archive/issue_comments_666053.json:
```json
{
    "body": "Changing commit from \"6a6ea4c3147b73f6811042a019c2540448fc993a\" to \"bf0d35abf2b4b529a5f51842a10251299e14dd09\"",
    "created_at": "2022-05-08T00:58:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6a6ea4c3147b73f6811042a019c2540448fc993a" to "bf0d35abf2b4b529a5f51842a10251299e14dd09"



---

archive/issue_comments_666054.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[4b9d10e](https://github.com/sagemath/sagetrac-mirror/commit/4b9d10e0e3a09db06cd308d33e9374ce37092455)|`build/pkgs/tox: Use lower bound 3.21.4`|\n|[c0b1804](https://github.com/sagemath/sagetrac-mirror/commit/c0b1804f6a18f9686a83683263254e9aef800688)|`pkgs/sagemath-{objects,categories}/setup.cfg.m4: Add ipython as install-requires for now - needed for doctesting`|\n|[bf0d35a](https://github.com/sagemath/sagetrac-mirror/commit/bf0d35abf2b4b529a5f51842a10251299e14dd09)|`build/pkgs/sagemath_objects/spkg-install: Use toxenv sagepython-norequirements`|",
    "created_at": "2022-05-08T00:58:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[4b9d10e](https://github.com/sagemath/sagetrac-mirror/commit/4b9d10e0e3a09db06cd308d33e9374ce37092455)|`build/pkgs/tox: Use lower bound 3.21.4`|
|[c0b1804](https://github.com/sagemath/sagetrac-mirror/commit/c0b1804f6a18f9686a83683263254e9aef800688)|`pkgs/sagemath-{objects,categories}/setup.cfg.m4: Add ipython as install-requires for now - needed for doctesting`|
|[bf0d35a](https://github.com/sagemath/sagetrac-mirror/commit/bf0d35abf2b4b529a5f51842a10251299e14dd09)|`build/pkgs/sagemath_objects/spkg-install: Use toxenv sagepython-norequirements`|



---

archive/issue_comments_666055.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [gh-tobiasdiez](#comment%3A8):\n> How much longer does the build workflow now take? \n\n\n4 minutes longer - \nhttps://github.com/sagemath/sagetrac-mirror/runs/6337876092?check_suite_focus=true",
    "created_at": "2022-05-08T01:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666055",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Replying to [gh-tobiasdiez](#comment%3A8):
> How much longer does the build workflow now take? 


4 minutes longer - 
https://github.com/sagemath/sagetrac-mirror/runs/6337876092?check_suite_focus=true



---

archive/issue_comments_666056.json:
```json
{
    "body": "Changing commit from \"bf0d35abf2b4b529a5f51842a10251299e14dd09\" to \"e80cb796aa11e141f34eb4e202a2ef8dfb7c6c5d\"",
    "created_at": "2022-05-08T01:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bf0d35abf2b4b529a5f51842a10251299e14dd09" to "e80cb796aa11e141f34eb4e202a2ef8dfb7c6c5d"



---

archive/issue_comments_666057.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[bcff32a](https://github.com/sagemath/sagetrac-mirror/commit/bcff32ac1aec31ddef2379dfac19159cc67aa4da)|`.github/workflows/build.yml: Add always() to conditions`|\n|[e80cb79](https://github.com/sagemath/sagetrac-mirror/commit/e80cb796aa11e141f34eb4e202a2ef8dfb7c6c5d)|`build/pkgs/sagemath_objects/spkg-install: Reduce tox verbosity`|",
    "created_at": "2022-05-08T01:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666057",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[bcff32a](https://github.com/sagemath/sagetrac-mirror/commit/bcff32ac1aec31ddef2379dfac19159cc67aa4da)|`.github/workflows/build.yml: Add always() to conditions`|
|[e80cb79](https://github.com/sagemath/sagetrac-mirror/commit/e80cb796aa11e141f34eb4e202a2ef8dfb7c6c5d)|`build/pkgs/sagemath_objects/spkg-install: Reduce tox verbosity`|



---

archive/issue_comments_666058.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-05-08T01:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666058",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_666059.json:
```json
{
    "body": "<a id='comment:21'></a>\n> This step has been truncated due to its large size. Download the full logs from the menu once the workflow run has completed. \n\n\nCan you please decrease the verbosity of the install steps (e.g. there is no need to see the verbose logs for the dependencies).\n\nMoreover many tests are actually failing but the step still succeeds. Eg:\n> [sagemath_objects-9.6.rc3]     NameError: name 'ZZ' is not defined",
    "created_at": "2022-05-08T21:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666059",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:21'></a>
> This step has been truncated due to its large size. Download the full logs from the menu once the workflow run has completed. 


Can you please decrease the verbosity of the install steps (e.g. there is no need to see the verbose logs for the dependencies).

Moreover many tests are actually failing but the step still succeeds. Eg:
> [sagemath_objects-9.6.rc3]     NameError: name 'ZZ' is not defined



---

archive/issue_comments_666060.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-05-08T21:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666060",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_666061.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [gh-tobiasdiez](#comment%3A21):\n> Moreover many tests are actually failing but the step still succeeds. Eg:\n> > [sagemath_objects-9.6.rc3]     NameError: name 'ZZ' is not defined\n\n\nYes, this is normal.",
    "created_at": "2022-05-08T21:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666061",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Replying to [gh-tobiasdiez](#comment%3A21):
> Moreover many tests are actually failing but the step still succeeds. Eg:
> > [sagemath_objects-9.6.rc3]     NameError: name 'ZZ' is not defined


Yes, this is normal.



---

archive/issue_comments_666062.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[1552929](https://github.com/sagemath/sagetrac-mirror/commit/1552929ac028dba9f08f890360fbc4ad300ce886)|`build/pkgs/sagemath_objects/dependencies: Remove FORCE`|\n|[59d253b](https://github.com/sagemath/sagetrac-mirror/commit/59d253ba9afa15ddce941792a83b3326d39a8960)|`.github/workflows/build.yml: When building tox, do it quietly`|",
    "created_at": "2022-05-08T21:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[1552929](https://github.com/sagemath/sagetrac-mirror/commit/1552929ac028dba9f08f890360fbc4ad300ce886)|`build/pkgs/sagemath_objects/dependencies: Remove FORCE`|
|[59d253b](https://github.com/sagemath/sagetrac-mirror/commit/59d253ba9afa15ddce941792a83b3326d39a8960)|`.github/workflows/build.yml: When building tox, do it quietly`|



---

archive/issue_comments_666063.json:
```json
{
    "body": "Changing commit from \"e80cb796aa11e141f34eb4e202a2ef8dfb7c6c5d\" to \"59d253ba9afa15ddce941792a83b3326d39a8960\"",
    "created_at": "2022-05-08T21:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e80cb796aa11e141f34eb4e202a2ef8dfb7c6c5d" to "59d253ba9afa15ddce941792a83b3326d39a8960"



---

archive/issue_comments_666064.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n|[59c0052](https://github.com/sagemath/sagetrac-mirror/commit/59c005256061ac69ec0c708698503e20773ded91)|`build/bin/sage-build-env[-config]: Do not override SAGE_EDITABLE if it is set already`|\n|[8086ce0](https://github.com/sagemath/sagetrac-mirror/commit/8086ce0a8a7bc1994cefa74c73975775e1fcfbf1)|`build/make/Makefile.in: Handle SAGE_CHECK... for script packages`|\n|[203c454](https://github.com/sagemath/sagetrac-mirror/commit/203c454e5e03b3acf2f8c34685f9df9f54f8db8e)|`build/pkgs/sagemath_objects/dependencies: Fix SAGE_CHECK dependency`|",
    "created_at": "2022-05-08T21:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
|[59c0052](https://github.com/sagemath/sagetrac-mirror/commit/59c005256061ac69ec0c708698503e20773ded91)|`build/bin/sage-build-env[-config]: Do not override SAGE_EDITABLE if it is set already`|
|[8086ce0](https://github.com/sagemath/sagetrac-mirror/commit/8086ce0a8a7bc1994cefa74c73975775e1fcfbf1)|`build/make/Makefile.in: Handle SAGE_CHECK... for script packages`|
|[203c454](https://github.com/sagemath/sagetrac-mirror/commit/203c454e5e03b3acf2f8c34685f9df9f54f8db8e)|`build/pkgs/sagemath_objects/dependencies: Fix SAGE_CHECK dependency`|



---

archive/issue_comments_666065.json:
```json
{
    "body": "Changing commit from \"59d253ba9afa15ddce941792a83b3326d39a8960\" to \"203c454e5e03b3acf2f8c34685f9df9f54f8db8e\"",
    "created_at": "2022-05-08T21:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "59d253ba9afa15ddce941792a83b3326d39a8960" to "203c454e5e03b3acf2f8c34685f9df9f54f8db8e"



---

archive/issue_comments_666066.json:
```json
{
    "body": "<a id='comment:25'></a>\nCherry-picked some improvements from #33812",
    "created_at": "2022-05-08T21:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666066",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Cherry-picked some improvements from #33812



---

archive/issue_comments_666067.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n ... as part of the workflow `build.yml`. This is to catch modularization regressions on tickets.\n \n-To this end, we extend `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels.\n+To this end, we extend `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).\n \n A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --editable` is in use.\n \n``````\n",
    "created_at": "2022-05-08T21:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666067",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 ... as part of the workflow `build.yml`. This is to catch modularization regressions on tickets.
 
-To this end, we extend `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels.
+To this end, we extend `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).
 
 A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --editable` is in use.
 
``````




---

archive/issue_comments_666068.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[728e818](https://github.com/sagemath/sagetrac-mirror/commit/728e8189d80ebc9376f0881bb71fb1723017ea64)|`.github/workflows/build.yml: When building tox, do it quietly`|\n|[c228d82](https://github.com/sagemath/sagetrac-mirror/commit/c228d826ed41b02cc02e1bd6a1d1b863eb36b5c1)|`build/pkgs/sage_sws2rst/dependencies: Remove tox, not used`|",
    "created_at": "2022-05-08T21:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666068",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[728e818](https://github.com/sagemath/sagetrac-mirror/commit/728e8189d80ebc9376f0881bb71fb1723017ea64)|`.github/workflows/build.yml: When building tox, do it quietly`|
|[c228d82](https://github.com/sagemath/sagetrac-mirror/commit/c228d826ed41b02cc02e1bd6a1d1b863eb36b5c1)|`build/pkgs/sage_sws2rst/dependencies: Remove tox, not used`|



---

archive/issue_comments_666069.json:
```json
{
    "body": "Changing commit from \"203c454e5e03b3acf2f8c34685f9df9f54f8db8e\" to \"c228d826ed41b02cc02e1bd6a1d1b863eb36b5c1\"",
    "created_at": "2022-05-08T21:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666069",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "203c454e5e03b3acf2f8c34685f9df9f54f8db8e" to "c228d826ed41b02cc02e1bd6a1d1b863eb36b5c1"



---

archive/issue_comments_666070.json:
```json
{
    "body": "Changing commit from \"c228d826ed41b02cc02e1bd6a1d1b863eb36b5c1\" to \"8675f10647ea18b989a2ccb38fc2706285fb2400\"",
    "created_at": "2022-05-08T22:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c228d826ed41b02cc02e1bd6a1d1b863eb36b5c1" to "8675f10647ea18b989a2ccb38fc2706285fb2400"



---

archive/issue_comments_666071.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[8675f10](https://github.com/sagemath/sagetrac-mirror/commit/8675f10647ea18b989a2ccb38fc2706285fb2400)|`pkgs/sagemath-objects: Disable use of the Sage doctester`|",
    "created_at": "2022-05-08T22:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666071",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[8675f10](https://github.com/sagemath/sagetrac-mirror/commit/8675f10647ea18b989a2ccb38fc2706285fb2400)|`pkgs/sagemath-objects: Disable use of the Sage doctester`|



---

archive/issue_comments_666072.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-05-08T22:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666072",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_666073.json:
```json
{
    "body": "<a id='comment:29'></a>\nHere's a solution, running at https://github.com/sagemath/sagetrac-mirror/runs/6343730808?check_suite_focus=true\n\nI've made the test dependency installs silent and reduced the tests of sagemath-objects to a minimum (as I was doing anyway in #33812).\n\nsagemath-categories continues to run the full test suite of `sage.structure`, showing lots of (ignored) errors. They will be fixed gradually by marking doctests `# optional`",
    "created_at": "2022-05-08T22:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666073",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Here's a solution, running at https://github.com/sagemath/sagetrac-mirror/runs/6343730808?check_suite_focus=true

I've made the test dependency installs silent and reduced the tests of sagemath-objects to a minimum (as I was doing anyway in #33812).

sagemath-categories continues to run the full test suite of `sage.structure`, showing lots of (ignored) errors. They will be fixed gradually by marking doctests `# optional`



---

archive/issue_comments_666074.json:
```json
{
    "body": "<a id='comment:30'></a>\nNow the distribution check needs over 10min, is this expected?",
    "created_at": "2022-05-09T20:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666074",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:30'></a>
Now the distribution check needs over 10min, is this expected?



---

archive/issue_comments_666075.json:
```json
{
    "body": "<a id='comment:31'></a>\nI think these are just random fluctuations. The job looks OK.",
    "created_at": "2022-05-09T20:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666075",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
I think these are just random fluctuations. The job looks OK.



---

archive/issue_comments_666076.json:
```json
{
    "body": "<a id='comment:32'></a>\nIndeed, one a newly triggered run it only takes about 4min. The changes to the build workflow look good to me, I cannot say anything about the rest.",
    "created_at": "2022-05-10T18:38:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666076",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:32'></a>
Indeed, one a newly triggered run it only takes about 4min. The changes to the build workflow look good to me, I cannot say anything about the rest.



---

archive/issue_comments_666077.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Tobias Diez, ...\"",
    "created_at": "2022-05-10T18:38:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666077",
    "user": "https://github.com/tobiasdiez"
}
```

Changing reviewer from "" to "Tobias Diez, ..."



---

archive/issue_comments_666078.json:
```json
{
    "body": "Changing commit from \"8675f10647ea18b989a2ccb38fc2706285fb2400\" to \"8bc06ad7667af0531c41ff6bf466d8ec5cbe39b6\"",
    "created_at": "2022-06-12T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8675f10647ea18b989a2ccb38fc2706285fb2400" to "8bc06ad7667af0531c41ff6bf466d8ec5cbe39b6"



---

archive/issue_comments_666079.json:
```json
{
    "body": "<a id='comment:34'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|\n|[8bc06ad](https://github.com/sagemath/sagetrac-mirror/commit/8bc06ad7667af0531c41ff6bf466d8ec5cbe39b6)|`Merge tag '9.7.beta2' into t/33817/gh_actions__add_test_of_the_modularized_distributions`|",
    "created_at": "2022-06-12T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666079",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
|[8bc06ad](https://github.com/sagemath/sagetrac-mirror/commit/8bc06ad7667af0531c41ff6bf466d8ec5cbe39b6)|`Merge tag '9.7.beta2' into t/33817/gh_actions__add_test_of_the_modularized_distributions`|



---

archive/issue_comments_666080.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|\n|[b030e7a](https://github.com/sagemath/sagetrac-mirror/commit/b030e7a306b6433d13b910119ea215556c6e53a5)|`Merge tag '9.7.beta2' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default`|\n|[c9ca4e4](https://github.com/sagemath/sagetrac-mirror/commit/c9ca4e4f0d7c76c41c8afb3a882c92abc0cac85b)|`pkgs/sagemath-standard/tox.ini: Set basepython correctly for all supported sagepython-* environments`|\n|[01bd09c](https://github.com/sagemath/sagetrac-mirror/commit/01bd09cc6a6f276941975c8fb163b70fa1c04cec)|`pkgs/sagemath-{environment,repl}/tox.ini: Add sagepython toxenv`|\n|[a7e106a](https://github.com/sagemath/sagetrac-mirror/commit/a7e106a1500d292fb70cb84e16531749a574311a)|`Merge #32716`|\n|[0b29388](https://github.com/sagemath/sagetrac-mirror/commit/0b293887a5693eda88ed233df83afb9ffd4579ac)|`Makefile (pypi-wheels): Add sagemath-environment, sagemath-repl explicitly`|",
    "created_at": "2022-06-18T00:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
|[b030e7a](https://github.com/sagemath/sagetrac-mirror/commit/b030e7a306b6433d13b910119ea215556c6e53a5)|`Merge tag '9.7.beta2' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default`|
|[c9ca4e4](https://github.com/sagemath/sagetrac-mirror/commit/c9ca4e4f0d7c76c41c8afb3a882c92abc0cac85b)|`pkgs/sagemath-standard/tox.ini: Set basepython correctly for all supported sagepython-* environments`|
|[01bd09c](https://github.com/sagemath/sagetrac-mirror/commit/01bd09cc6a6f276941975c8fb163b70fa1c04cec)|`pkgs/sagemath-{environment,repl}/tox.ini: Add sagepython toxenv`|
|[a7e106a](https://github.com/sagemath/sagetrac-mirror/commit/a7e106a1500d292fb70cb84e16531749a574311a)|`Merge #32716`|
|[0b29388](https://github.com/sagemath/sagetrac-mirror/commit/0b293887a5693eda88ed233df83afb9ffd4579ac)|`Makefile (pypi-wheels): Add sagemath-environment, sagemath-repl explicitly`|



---

archive/issue_comments_666081.json:
```json
{
    "body": "Changing commit from \"8bc06ad7667af0531c41ff6bf466d8ec5cbe39b6\" to \"0b293887a5693eda88ed233df83afb9ffd4579ac\"",
    "created_at": "2022-06-18T00:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8bc06ad7667af0531c41ff6bf466d8ec5cbe39b6" to "0b293887a5693eda88ed233df83afb9ffd4579ac"



---

archive/issue_comments_666082.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n ... as part of the workflow `build.yml`. This is to catch modularization regressions on tickets.\n \n-To this end, we extend `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).\n+To this end, we extend `build/pkgs/sagemath-{objects,categories,environment,repl}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).\n \n A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --editable` is in use.\n \n``````\n",
    "created_at": "2022-06-18T00:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666082",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 ... as part of the workflow `build.yml`. This is to catch modularization regressions on tickets.
 
-To this end, we extend `build/pkgs/sagemath-{objects,categories}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).
+To this end, we extend `build/pkgs/sagemath-{objects,categories,environment,repl}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).
 
 A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --editable` is in use.
 
``````




---

archive/issue_comments_666083.json:
```json
{
    "body": "<a id='comment:38'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|\n|[3839cee](https://github.com/sagemath/sagetrac-mirror/commit/3839ceec11ae8397cf923464354fdf1d68287745)|`Merge tag '9.7.beta3' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default`|\n|[60e0b72](https://github.com/sagemath/sagetrac-mirror/commit/60e0b72d95bdc214e0b430be8cbb30dade026111)|`Merge #32716`|",
    "created_at": "2022-06-25T23:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
|[3839cee](https://github.com/sagemath/sagetrac-mirror/commit/3839ceec11ae8397cf923464354fdf1d68287745)|`Merge tag '9.7.beta3' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default`|
|[60e0b72](https://github.com/sagemath/sagetrac-mirror/commit/60e0b72d95bdc214e0b430be8cbb30dade026111)|`Merge #32716`|



---

archive/issue_comments_666084.json:
```json
{
    "body": "Changing commit from \"0b293887a5693eda88ed233df83afb9ffd4579ac\" to \"60e0b72d95bdc214e0b430be8cbb30dade026111\"",
    "created_at": "2022-06-25T23:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0b293887a5693eda88ed233df83afb9ffd4579ac" to "60e0b72d95bdc214e0b430be8cbb30dade026111"



---

archive/issue_comments_666085.json:
```json
{
    "body": "Changing commit from \"60e0b72d95bdc214e0b430be8cbb30dade026111\" to \"e3779b2410bada1ad178642b9039ed74c077aec7\"",
    "created_at": "2022-07-03T18:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "60e0b72d95bdc214e0b430be8cbb30dade026111" to "e3779b2410bada1ad178642b9039ed74c077aec7"



---

archive/issue_comments_666086.json:
```json
{
    "body": "<a id='comment:39'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                                                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n|[74f1e10](https://github.com/sagemath/sagetrac-mirror/commit/74f1e102a3c7c50ab00fba8f9e823f30b54bf3a2)|`src/requirements.txt.m4, src/setup.cfg.m4 (install_requires): Add primecountpy`|\n|[5ea0035](https://github.com/sagemath/sagetrac-mirror/commit/5ea0035cdc9e46939d1d06cdc9b192273d6ff0b4)|`src/requirements.txt.m4, src/setup.cfg.m4 (install_requires): Add lrcalc_python`|\n|[7b17c2d](https://github.com/sagemath/sagetrac-mirror/commit/7b17c2dd255c579aaf8f20427c3501951bc7fed4)|`Split sage_docbuild.conf to sage.misc.sagedoc_conf`|\n|[282270f](https://github.com/sagemath/sagetrac-mirror/commit/282270fdf5e591777f911cab875d7cad46e4ba72)|`Fix docs`|\n|[c2766bf](https://github.com/sagemath/sagetrac-mirror/commit/c2766bf33ecbd487f39eace9a8cc9ddb2102a0d2)|`Move skip_member() to sage_docbuild`|\n|[4296851](https://github.com/sagemath/sagetrac-mirror/commit/4296851301ae10eb9420af835a3247f2921d5b77)|`Move the remnants of skip_member from sagedoc_conf`|\n|[45f9ff3](https://github.com/sagemath/sagetrac-mirror/commit/45f9ff368b6e2e49804fb67a78d82606bba8f2f5)|`Merge branch 'develop'`|\n|[0a02496](https://github.com/sagemath/sagetrac-mirror/commit/0a02496aaa29dec6c431e421bee3f5bfc1f9c1eb)|`Change assert back to if`|\n|[1c2f41b](https://github.com/sagemath/sagetrac-mirror/commit/1c2f41b50463da33cac86c15105e70b2be6e2244)|`Merge #33936`|\n|[e3779b2](https://github.com/sagemath/sagetrac-mirror/commit/e3779b2410bada1ad178642b9039ed74c077aec7)|`Merge #32716`|",
    "created_at": "2022-07-03T18:24:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
|[74f1e10](https://github.com/sagemath/sagetrac-mirror/commit/74f1e102a3c7c50ab00fba8f9e823f30b54bf3a2)|`src/requirements.txt.m4, src/setup.cfg.m4 (install_requires): Add primecountpy`|
|[5ea0035](https://github.com/sagemath/sagetrac-mirror/commit/5ea0035cdc9e46939d1d06cdc9b192273d6ff0b4)|`src/requirements.txt.m4, src/setup.cfg.m4 (install_requires): Add lrcalc_python`|
|[7b17c2d](https://github.com/sagemath/sagetrac-mirror/commit/7b17c2dd255c579aaf8f20427c3501951bc7fed4)|`Split sage_docbuild.conf to sage.misc.sagedoc_conf`|
|[282270f](https://github.com/sagemath/sagetrac-mirror/commit/282270fdf5e591777f911cab875d7cad46e4ba72)|`Fix docs`|
|[c2766bf](https://github.com/sagemath/sagetrac-mirror/commit/c2766bf33ecbd487f39eace9a8cc9ddb2102a0d2)|`Move skip_member() to sage_docbuild`|
|[4296851](https://github.com/sagemath/sagetrac-mirror/commit/4296851301ae10eb9420af835a3247f2921d5b77)|`Move the remnants of skip_member from sagedoc_conf`|
|[45f9ff3](https://github.com/sagemath/sagetrac-mirror/commit/45f9ff368b6e2e49804fb67a78d82606bba8f2f5)|`Merge branch 'develop'`|
|[0a02496](https://github.com/sagemath/sagetrac-mirror/commit/0a02496aaa29dec6c431e421bee3f5bfc1f9c1eb)|`Change assert back to if`|
|[1c2f41b](https://github.com/sagemath/sagetrac-mirror/commit/1c2f41b50463da33cac86c15105e70b2be6e2244)|`Merge #33936`|
|[e3779b2](https://github.com/sagemath/sagetrac-mirror/commit/e3779b2410bada1ad178642b9039ed74c077aec7)|`Merge #32716`|



---

archive/issue_comments_666087.json:
```json
{
    "body": "Changing dependencies from \"#33803, #32716\" to \"#33803, #32716, #34104\"",
    "created_at": "2022-07-03T18:25:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666087",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33803, #32716" to "#33803, #32716, #34104"



---

archive/issue_comments_666088.json:
```json
{
    "body": "<a id='comment:41'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[18ac7dd](https://github.com/sagemath/sagetrac-mirror/commit/18ac7dd3cfd5e18136556d59ae5d6a8da5cad996)|`.github/workflows/build.yml: Run 'apt-get update' before 'apt-get install'`|\n|[c5a3714](https://github.com/sagemath/sagetrac-mirror/commit/c5a37148d5373372422b57a0b10ffc25a8ed8395)|`Merge #34104`|",
    "created_at": "2022-07-03T18:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[18ac7dd](https://github.com/sagemath/sagetrac-mirror/commit/18ac7dd3cfd5e18136556d59ae5d6a8da5cad996)|`.github/workflows/build.yml: Run 'apt-get update' before 'apt-get install'`|
|[c5a3714](https://github.com/sagemath/sagetrac-mirror/commit/c5a37148d5373372422b57a0b10ffc25a8ed8395)|`Merge #34104`|



---

archive/issue_comments_666089.json:
```json
{
    "body": "Changing commit from \"e3779b2410bada1ad178642b9039ed74c077aec7\" to \"c5a37148d5373372422b57a0b10ffc25a8ed8395\"",
    "created_at": "2022-07-03T18:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e3779b2410bada1ad178642b9039ed74c077aec7" to "c5a37148d5373372422b57a0b10ffc25a8ed8395"



---

archive/issue_comments_666090.json:
```json
{
    "body": "Changing commit from \"c5a37148d5373372422b57a0b10ffc25a8ed8395\" to \"bf74e09a31c71f3ad1394c3dee09fd2257485d0c\"",
    "created_at": "2022-07-09T23:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c5a37148d5373372422b57a0b10ffc25a8ed8395" to "bf74e09a31c71f3ad1394c3dee09fd2257485d0c"



---

archive/issue_comments_666091.json:
```json
{
    "body": "<a id='comment:42'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|\n|[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)|`Merge tag '9.7.beta4' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default`|\n|[bf74e09](https://github.com/sagemath/sagetrac-mirror/commit/bf74e09a31c71f3ad1394c3dee09fd2257485d0c)|`Merge #32716`|",
    "created_at": "2022-07-09T23:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
|[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)|`Merge tag '9.7.beta4' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default`|
|[bf74e09](https://github.com/sagemath/sagetrac-mirror/commit/bf74e09a31c71f3ad1394c3dee09fd2257485d0c)|`Merge #32716`|



---

archive/issue_comments_666092.json:
```json
{
    "body": "Changing commit from \"bf74e09a31c71f3ad1394c3dee09fd2257485d0c\" to \"520b41f5e200bd365e5236941e30ab3cd0e0ac37\"",
    "created_at": "2022-07-11T00:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bf74e09a31c71f3ad1394c3dee09fd2257485d0c" to "520b41f5e200bd365e5236941e30ab3cd0e0ac37"



---

archive/issue_comments_666093.json:
```json
{
    "body": "<a id='comment:43'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|\n|[520b41f](https://github.com/sagemath/sagetrac-mirror/commit/520b41f5e200bd365e5236941e30ab3cd0e0ac37)|`Merge tag '9.7.beta5' into t/33817/gh_actions__add_test_of_the_modularized_distributions`|",
    "created_at": "2022-07-11T00:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
|[520b41f](https://github.com/sagemath/sagetrac-mirror/commit/520b41f5e200bd365e5236941e30ab3cd0e0ac37)|`Merge tag '9.7.beta5' into t/33817/gh_actions__add_test_of_the_modularized_distributions`|



---

archive/issue_comments_666094.json:
```json
{
    "body": "Changing dependencies from \"#33803, #32716, #34104\" to \"\"",
    "created_at": "2022-07-11T00:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666094",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#33803, #32716, #34104" to ""



---

archive/issue_comments_666095.json:
```json
{
    "body": "<a id='comment:44'></a>\nAll dependencies have been merged",
    "created_at": "2022-07-11T00:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666095",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>
All dependencies have been merged



---

archive/issue_comments_666096.json:
```json
{
    "body": "<a id='comment:46'></a>\nFrom Build&Test badge, I see\n\n```\n[sagemath_environment-9.7.beta5] using tox.ini: /__w/sagetrac-mirror/sagetrac-mirror/pkgs/sagemath-environment/tox.ini (pid 24071)\n[sagemath_environment-9.7.beta5] ERROR: unknown environment 'sagepython-norequirements'\n```\nIs this normal?",
    "created_at": "2022-07-25T07:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666096",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:46'></a>
From Build&Test badge, I see

```
[sagemath_environment-9.7.beta5] using tox.ini: /__w/sagetrac-mirror/sagetrac-mirror/pkgs/sagemath-environment/tox.ini (pid 24071)
[sagemath_environment-9.7.beta5] ERROR: unknown environment 'sagepython-norequirements'
```
Is this normal?



---

archive/issue_comments_666097.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-07-25T16:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666097",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_666098.json:
```json
{
    "body": "Changing commit from \"520b41f5e200bd365e5236941e30ab3cd0e0ac37\" to \"e82312aeb671fbdd59c06fbf21370859fe932121\"",
    "created_at": "2022-07-25T16:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "520b41f5e200bd365e5236941e30ab3cd0e0ac37" to "e82312aeb671fbdd59c06fbf21370859fe932121"



---

archive/issue_comments_666099.json:
```json
{
    "body": "<a id='comment:48'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|\n|[ecc4a90](https://github.com/sagemath/sagetrac-mirror/commit/ecc4a907abfe4f3e63792f29a0143f0418d79ed4)|`Merge tag '9.7.beta6' into t/33817/gh_actions__add_test_of_the_modularized_distributions`|\n|[e82312a](https://github.com/sagemath/sagetrac-mirror/commit/e82312aeb671fbdd59c06fbf21370859fe932121)|`pkgs/sagemath-{environment,repl}/tox.ini: Update from sagemath-objects`|",
    "created_at": "2022-07-25T16:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
|[ecc4a90](https://github.com/sagemath/sagetrac-mirror/commit/ecc4a907abfe4f3e63792f29a0143f0418d79ed4)|`Merge tag '9.7.beta6' into t/33817/gh_actions__add_test_of_the_modularized_distributions`|
|[e82312a](https://github.com/sagemath/sagetrac-mirror/commit/e82312aeb671fbdd59c06fbf21370859fe932121)|`pkgs/sagemath-{environment,repl}/tox.ini: Update from sagemath-objects`|



---

archive/issue_comments_666100.json:
```json
{
    "body": "Changing commit from \"e82312aeb671fbdd59c06fbf21370859fe932121\" to \"8358976f2889e1fcf9fbd9f5156a0c8a27d443e9\"",
    "created_at": "2022-07-25T18:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e82312aeb671fbdd59c06fbf21370859fe932121" to "8358976f2889e1fcf9fbd9f5156a0c8a27d443e9"



---

archive/issue_comments_666101.json:
```json
{
    "body": "<a id='comment:49'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|\n|[8358976](https://github.com/sagemath/sagetrac-mirror/commit/8358976f2889e1fcf9fbd9f5156a0c8a27d443e9)|`src/bin/sage-update-version: Update install-requires.txt for the distribution packages in pkgs/`|",
    "created_at": "2022-07-25T18:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666101",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
|[8358976](https://github.com/sagemath/sagetrac-mirror/commit/8358976f2889e1fcf9fbd9f5156a0c8a27d443e9)|`src/bin/sage-update-version: Update install-requires.txt for the distribution packages in pkgs/`|



---

archive/issue_comments_666102.json:
```json
{
    "body": "<a id='comment:50'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[b79b5c6](https://github.com/sagemath/sagetrac-mirror/commit/b79b5c6945f8c6f960a3e91c95296a2ebb372e32)|`build/pkgs/sagemath_objects/dependencies: Restore comment lost in merge`|",
    "created_at": "2022-07-25T18:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[b79b5c6](https://github.com/sagemath/sagetrac-mirror/commit/b79b5c6945f8c6f960a3e91c95296a2ebb372e32)|`build/pkgs/sagemath_objects/dependencies: Restore comment lost in merge`|



---

archive/issue_comments_666103.json:
```json
{
    "body": "Changing commit from \"8358976f2889e1fcf9fbd9f5156a0c8a27d443e9\" to \"b79b5c6945f8c6f960a3e91c95296a2ebb372e32\"",
    "created_at": "2022-07-25T18:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8358976f2889e1fcf9fbd9f5156a0c8a27d443e9" to "b79b5c6945f8c6f960a3e91c95296a2ebb372e32"



---

archive/issue_comments_666104.json:
```json
{
    "body": "Changing commit from \"b79b5c6945f8c6f960a3e91c95296a2ebb372e32\" to \"7bb6dee62f181d00960b619af956c22f865b0b53\"",
    "created_at": "2022-07-25T18:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b79b5c6945f8c6f960a3e91c95296a2ebb372e32" to "7bb6dee62f181d00960b619af956c22f865b0b53"



---

archive/issue_comments_666105.json:
```json
{
    "body": "<a id='comment:51'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[7bb6dee](https://github.com/sagemath/sagetrac-mirror/commit/7bb6dee62f181d00960b619af956c22f865b0b53)|`build/pkgs/python_build: Rename from build/pkgs/build`|",
    "created_at": "2022-07-25T18:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[7bb6dee](https://github.com/sagemath/sagetrac-mirror/commit/7bb6dee62f181d00960b619af956c22f865b0b53)|`build/pkgs/python_build: Rename from build/pkgs/build`|



---

archive/issue_comments_666106.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,5 @@\n \n Another top-level make target `wheels` does the same but also includes `sage_conf` and `sagemath_standard`. This is useful for venv installs and helps with the problem noted in #32913.\n \n+We also extend the script `src/bin/sage-update-version` so that it automatically updates the `install-requires.txt` files for our distribution packages. \n+\n``````\n",
    "created_at": "2022-07-25T18:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666106",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,5 @@
 
 Another top-level make target `wheels` does the same but also includes `sage_conf` and `sagemath_standard`. This is useful for venv installs and helps with the problem noted in #32913.
 
+We also extend the script `src/bin/sage-update-version` so that it automatically updates the `install-requires.txt` files for our distribution packages. 
+
``````




---

archive/issue_comments_666107.json:
```json
{
    "body": "Changing commit from \"7bb6dee62f181d00960b619af956c22f865b0b53\" to \"52e8c4184d6e083b7cc259aff72223df9078213f\"",
    "created_at": "2022-07-25T20:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666107",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7bb6dee62f181d00960b619af956c22f865b0b53" to "52e8c4184d6e083b7cc259aff72223df9078213f"



---

archive/issue_comments_666108.json:
```json
{
    "body": "<a id='comment:53'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n|[52e8c41](https://github.com/sagemath/sagetrac-mirror/commit/52e8c4184d6e083b7cc259aff72223df9078213f)|`build/bin/sage-build-env[-config]: Do not override SAGE_EDITABLE if it is set already`|",
    "created_at": "2022-07-25T20:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
|[52e8c41](https://github.com/sagemath/sagetrac-mirror/commit/52e8c4184d6e083b7cc259aff72223df9078213f)|`build/bin/sage-build-env[-config]: Do not override SAGE_EDITABLE if it is set already`|



---

archive/issue_comments_666109.json:
```json
{
    "body": "<a id='comment:54'></a>\n(last commit cherry-picked from #33812)",
    "created_at": "2022-07-25T20:21:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666109",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>
(last commit cherry-picked from #33812)



---

archive/issue_comments_666110.json:
```json
{
    "body": "<a id='comment:55'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[6948887](https://github.com/sagemath/sagetrac-mirror/commit/69488872662d969576005c7157deae166aea986d)|`build/pkgs/sagemath_repl/install-requires.txt: Add missing file`|",
    "created_at": "2022-07-25T22:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[6948887](https://github.com/sagemath/sagetrac-mirror/commit/69488872662d969576005c7157deae166aea986d)|`build/pkgs/sagemath_repl/install-requires.txt: Add missing file`|



---

archive/issue_comments_666111.json:
```json
{
    "body": "Changing commit from \"52e8c4184d6e083b7cc259aff72223df9078213f\" to \"69488872662d969576005c7157deae166aea986d\"",
    "created_at": "2022-07-25T22:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666111",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "52e8c4184d6e083b7cc259aff72223df9078213f" to "69488872662d969576005c7157deae166aea986d"



---

archive/issue_comments_666112.json:
```json
{
    "body": "<a id='comment:56'></a>\nNew test running at https://github.com/mkoeppe/sage/actions/runs/2736095948",
    "created_at": "2022-07-26T00:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666112",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>
New test running at https://github.com/mkoeppe/sage/actions/runs/2736095948



---

archive/issue_comments_666113.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-07-26T00:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666113",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_666114.json:
```json
{
    "body": "Changing commit from \"69488872662d969576005c7157deae166aea986d\" to \"a5c1c0c2cd812b0d9c7c2ee9ce1a97d2d7d9e3b8\"",
    "created_at": "2022-07-26T01:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "69488872662d969576005c7157deae166aea986d" to "a5c1c0c2cd812b0d9c7c2ee9ce1a97d2d7d9e3b8"



---

archive/issue_comments_666115.json:
```json
{
    "body": "<a id='comment:57'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[a5c1c0c](https://github.com/sagemath/sagetrac-mirror/commit/a5c1c0c2cd812b0d9c7c2ee9ce1a97d2d7d9e3b8)|`pkgs/sagemath-{categories,repl,objects}: Use sage -t --initial`|",
    "created_at": "2022-07-26T01:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666115",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[a5c1c0c](https://github.com/sagemath/sagetrac-mirror/commit/a5c1c0c2cd812b0d9c7c2ee9ce1a97d2d7d9e3b8)|`pkgs/sagemath-{categories,repl,objects}: Use sage -t --initial`|



---

archive/issue_comments_666116.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/gh_actions__add_test_of_the_modularized_distributions\" to \"u/klee/gh_actions__add_test_of_the_modularized_distributions\"",
    "created_at": "2022-07-26T05:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666116",
    "user": "https://github.com/kwankyu"
}
```

Changing branch from "u/mkoeppe/gh_actions__add_test_of_the_modularized_distributions" to "u/klee/gh_actions__add_test_of_the_modularized_distributions"



---

archive/issue_comments_666117.json:
```json
{
    "body": "<a id='comment:59'></a>\nI removed some white spaces.\n\nOther than that, the code looks good to me as far as I can read (not very far as usual).\n\nThe new workflow seems work well in github.\n\nBut on my machine (mac), I get\n\n```\n$ ./configure --editable; make SAGE_CHECK=yes pypi-wheels\n...\n...\n[sagemath_categories-9.7.beta6] WARNING: Discarding $PYTHONPATH from environment, to override specify PYTHONPATH in 'passenv' in your configuration.\n[sagemath_categories-9.7.beta6] [40038] /Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-categories$ /Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-categories/.tox/sagepython-norequirements/bin/python -m pip install --no-deps -U .tox/.tmp/package/1/sagemath_categories-9.7b6-cp39-cp39-macosx_12_0_x86_64.whl >.tox/sagepython-norequirements/log/sagepython-norequirements-2.log\n[sagemath_categories-9.7.beta6] ERROR: invocation failed (exit code 1), logfile: /Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-categories/.tox/sagepython-norequirements/log/sagepython-norequirements-2.log\n[sagemath_categories-9.7.beta6] ================================== log start ===================================\n[sagemath_categories-9.7.beta6] Looking in links: file:///Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/var/lib/sage/wheels\n[sagemath_categories-9.7.beta6] ERROR: sagemath_categories-9.7b6-cp39-cp39-macosx_12_0_x86_64.whl is not a supported wheel on this platform.\n[sagemath_categories-9.7.beta6] \n[sagemath_categories-9.7.beta6] =================================== log end ====================================\n[sagemath_categories-9.7.beta6] ___________________________________ summary ____________________________________\n[sagemath_categories-9.7.beta6] ERROR:   sagepython-norequirements: InvocationError for command /Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-categories/.tox/sagepython-norequirements/bin/python -m pip install --no-deps -U .tox/.tmp/package/1/sagemath_categories-9.7b6-cp39-cp39-macosx_12_0_x86_64.whl (exited with code 1)\nmake[3]: *** [sagemath_categories-SAGE_VENV-no-deps] Error 1\nmake[2]: *** [/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/var/lib/sage/installed/sagemath_categories-9.7.beta6] Error 2\n\nreal\t2m58.107s\nuser\t2m41.881s\nsys\t0m14.927s\n***************************************************************\nError building Sage.\n```\nIs this expected?\n\n---\nNew commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[097a96e](https://github.com/sagemath/sagetrac-mirror/commit/097a96e8431ba9bbd6e0a43a1cd3a928bbdf5a34)|`Removed some white spaces`|",
    "created_at": "2022-07-26T05:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666117",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:59'></a>
I removed some white spaces.

Other than that, the code looks good to me as far as I can read (not very far as usual).

The new workflow seems work well in github.

But on my machine (mac), I get

```
$ ./configure --editable; make SAGE_CHECK=yes pypi-wheels
...
...
[sagemath_categories-9.7.beta6] WARNING: Discarding $PYTHONPATH from environment, to override specify PYTHONPATH in 'passenv' in your configuration.
[sagemath_categories-9.7.beta6] [40038] /Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-categories$ /Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-categories/.tox/sagepython-norequirements/bin/python -m pip install --no-deps -U .tox/.tmp/package/1/sagemath_categories-9.7b6-cp39-cp39-macosx_12_0_x86_64.whl >.tox/sagepython-norequirements/log/sagepython-norequirements-2.log
[sagemath_categories-9.7.beta6] ERROR: invocation failed (exit code 1), logfile: /Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-categories/.tox/sagepython-norequirements/log/sagepython-norequirements-2.log
[sagemath_categories-9.7.beta6] ================================== log start ===================================
[sagemath_categories-9.7.beta6] Looking in links: file:///Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/var/lib/sage/wheels
[sagemath_categories-9.7.beta6] ERROR: sagemath_categories-9.7b6-cp39-cp39-macosx_12_0_x86_64.whl is not a supported wheel on this platform.
[sagemath_categories-9.7.beta6] 
[sagemath_categories-9.7.beta6] =================================== log end ====================================
[sagemath_categories-9.7.beta6] ___________________________________ summary ____________________________________
[sagemath_categories-9.7.beta6] ERROR:   sagepython-norequirements: InvocationError for command /Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-categories/.tox/sagepython-norequirements/bin/python -m pip install --no-deps -U .tox/.tmp/package/1/sagemath_categories-9.7b6-cp39-cp39-macosx_12_0_x86_64.whl (exited with code 1)
make[3]: *** [sagemath_categories-SAGE_VENV-no-deps] Error 1
make[2]: *** [/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/var/lib/sage/installed/sagemath_categories-9.7.beta6] Error 2

real	2m58.107s
user	2m41.881s
sys	0m14.927s
***************************************************************
Error building Sage.
```
Is this expected?

---
New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[097a96e](https://github.com/sagemath/sagetrac-mirror/commit/097a96e8431ba9bbd6e0a43a1cd3a928bbdf5a34)|`Removed some white spaces`|



---

archive/issue_comments_666118.json:
```json
{
    "body": "Changing commit from \"a5c1c0c2cd812b0d9c7c2ee9ce1a97d2d7d9e3b8\" to \"097a96e8431ba9bbd6e0a43a1cd3a928bbdf5a34\"",
    "created_at": "2022-07-26T05:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666118",
    "user": "https://github.com/kwankyu"
}
```

Changing commit from "a5c1c0c2cd812b0d9c7c2ee9ce1a97d2d7d9e3b8" to "097a96e8431ba9bbd6e0a43a1cd3a928bbdf5a34"



---

archive/issue_comments_666119.json:
```json
{
    "body": "<a id='comment:60'></a>\nI still get the same even with `make distclean; ./configure; make pypi-wheels`.",
    "created_at": "2022-07-26T07:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666119",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:60'></a>
I still get the same even with `make distclean; ./configure; make pypi-wheels`.



---

archive/issue_comments_666120.json:
```json
{
    "body": "<a id='comment:61'></a>\nIs this python3.9 from Homebrew? And is this `tox` from Homebrew?",
    "created_at": "2022-07-26T15:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666120",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:61'></a>
Is this python3.9 from Homebrew? And is this `tox` from Homebrew?



---

archive/issue_comments_666121.json:
```json
{
    "body": "<a id='comment:62'></a>\nHomebrew python3.9 according to `./configure`,\n\n```\nChecking whether SageMath should install SPKG python3...\nchecking whether any of bzip2 liblzma libffi is installed as or will be installed as SPKG... no\nchecking for python3 >= 3.8.0, < 3.11.0 with modules sqlite3, ctypes, math, hashlib, crypt, socket, zlib, distutils.core, ssl, ensurepip... \nchecking ... whether /usr/local/bin/python3 is good... yes\nchecking for python3 >= 3.8.0, < 3.11.0 with modules sqlite3, ctypes, math, hashlib, crypt, socket, zlib, distutils.core, ssl, ensurepip... /usr/local/bin/python3\nconfigure: will use system package and not install SPKG python3\nchecking whether /usr/local/bin/python3 is configured to build multiarch extensions... no\nchecking whether \"-march=native\" works with the C/C++ compilers configured for building extensions for /usr/local/bin/python3... yes\n```",
    "created_at": "2022-07-26T15:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666121",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:62'></a>
Homebrew python3.9 according to `./configure`,

```
Checking whether SageMath should install SPKG python3...
checking whether any of bzip2 liblzma libffi is installed as or will be installed as SPKG... no
checking for python3 >= 3.8.0, < 3.11.0 with modules sqlite3, ctypes, math, hashlib, crypt, socket, zlib, distutils.core, ssl, ensurepip... 
checking ... whether /usr/local/bin/python3 is good... yes
checking for python3 >= 3.8.0, < 3.11.0 with modules sqlite3, ctypes, math, hashlib, crypt, socket, zlib, distutils.core, ssl, ensurepip... /usr/local/bin/python3
configure: will use system package and not install SPKG python3
checking whether /usr/local/bin/python3 is configured to build multiarch extensions... no
checking whether "-march=native" works with the C/C++ compilers configured for building extensions for /usr/local/bin/python3... yes
```



---

archive/issue_comments_666122.json:
```json
{
    "body": "<a id='comment:63'></a>\nIf I run `tox` from `SAGE_ROOT`, it is the `tox` of Homebrew.",
    "created_at": "2022-07-26T15:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666122",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:63'></a>
If I run `tox` from `SAGE_ROOT`, it is the `tox` of Homebrew.



---

archive/issue_comments_666123.json:
```json
{
    "body": "<a id='comment:64'></a>\nIt is Hombrew tox according to ./configure,\n\n```\nChecking whether SageMath should install SPKG tox...\nchecking for tox >= 3.21.4... /usr/local/bin/tox\nconfigure: will use system package and not install SPKG tox\n```",
    "created_at": "2022-07-26T15:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666123",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:64'></a>
It is Hombrew tox according to ./configure,

```
Checking whether SageMath should install SPKG tox...
checking for tox >= 3.21.4... /usr/local/bin/tox
configure: will use system package and not install SPKG tox
```



---

archive/issue_comments_666124.json:
```json
{
    "body": "<a id='comment:65'></a>\nThanks. I can reproduce this error here. I'll investigate",
    "created_at": "2022-07-26T15:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666124",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>
Thanks. I can reproduce this error here. I'll investigate



---

archive/issue_comments_666125.json:
```json
{
    "body": "<a id='comment:66'></a>\nOK I solved the same problem before for sagemath-standard. Fix coming up",
    "created_at": "2022-07-26T18:02:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666125",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:66'></a>
OK I solved the same problem before for sagemath-standard. Fix coming up



---

archive/issue_comments_666126.json:
```json
{
    "body": "Changing branch from \"u/klee/gh_actions__add_test_of_the_modularized_distributions\" to \"u/mkoeppe/gh_actions__add_test_of_the_modularized_distributions\"",
    "created_at": "2022-07-26T18:05:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666126",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "u/klee/gh_actions__add_test_of_the_modularized_distributions" to "u/mkoeppe/gh_actions__add_test_of_the_modularized_distributions"



---

archive/issue_comments_666127.json:
```json
{
    "body": "Changing commit from \"097a96e8431ba9bbd6e0a43a1cd3a928bbdf5a34\" to \"64b212caa93f9e9c4f0868eb065bb35fd22cfc6a\"",
    "created_at": "2022-07-26T18:09:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666127",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "097a96e8431ba9bbd6e0a43a1cd3a928bbdf5a34" to "64b212caa93f9e9c4f0868eb065bb35fd22cfc6a"



---

archive/issue_comments_666128.json:
```json
{
    "body": "<a id='comment:68'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[64b212c](https://github.com/sagemath/sagetrac-mirror/commit/64b212caa93f9e9c4f0868eb065bb35fd22cfc6a)|`pkgs/sagemath-*/tox.ini: Make sagepython-norequirements actually use sage python`|",
    "created_at": "2022-07-26T18:09:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666128",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[64b212c](https://github.com/sagemath/sagetrac-mirror/commit/64b212caa93f9e9c4f0868eb065bb35fd22cfc6a)|`pkgs/sagemath-*/tox.ini: Make sagepython-norequirements actually use sage python`|



---

archive/issue_comments_666129.json:
```json
{
    "body": "<a id='comment:69'></a>\nReplying to [klee](#comment%3A59):\n> But on my machine (mac), I get\n> \n> ```\n> $ ./configure --editable; make SAGE_CHECK=yes pypi-wheels\n> ```\n> Is this expected?\n\n\nDid you mean/do `--enable-editable`? For what it's worth, I tend to use `&&` rather than `;` between commands so if the first one fails, it doesn't continue to the second one.",
    "created_at": "2022-07-26T19:52:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666129",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:69'></a>
Replying to [klee](#comment%3A59):
> But on my machine (mac), I get
> 
> ```
> $ ./configure --editable; make SAGE_CHECK=yes pypi-wheels
> ```
> Is this expected?


Did you mean/do `--enable-editable`? For what it's worth, I tend to use `&&` rather than `;` between commands so if the first one fails, it doesn't continue to the second one.



---

archive/issue_comments_666130.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n To this end, we extend `build/pkgs/sagemath-{objects,categories,environment,repl}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).\n \n-A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --editable` is in use.\n+A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --enable-editable` is in use.\n \n Another top-level make target `wheels` does the same but also includes `sage_conf` and `sagemath_standard`. This is useful for venv installs and helps with the problem noted in #32913.\n \n``````\n",
    "created_at": "2022-07-26T19:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666130",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 To this end, we extend `build/pkgs/sagemath-{objects,categories,environment,repl}/spkg-install` scripts so that they build and store wheels in `SAGE_SPKG_WHEELS` (but do not install them!), and then run `tox` on the wheels (unless disabled by setting `SAGE_CHECK=no`).
 
-A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --editable` is in use.
+A new top-level make target `pypi-wheels` runs these scripts for these and other small distribution packages, ensuring that wheels are present even if `configure --enable-editable` is in use.
 
 Another top-level make target `wheels` does the same but also includes `sage_conf` and `sagemath_standard`. This is useful for venv installs and helps with the problem noted in #32913.
 
``````




---

archive/issue_comments_666131.json:
```json
{
    "body": "Changing reviewer from \"Tobias Diez, ...\" to \"Tobias Diez, Kwankyu Lee, ...\"",
    "created_at": "2022-07-27T00:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666131",
    "user": "https://github.com/kwankyu"
}
```

Changing reviewer from "Tobias Diez, ..." to "Tobias Diez, Kwankyu Lee, ..."



---

archive/issue_comments_666132.json:
```json
{
    "body": "<a id='comment:71'></a>\nThanks. This `./configure --enable-editable && make pypi-wheels` now works well.\n\nThen I am positive with this ticket.",
    "created_at": "2022-07-27T00:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666132",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:71'></a>
Thanks. This `./configure --enable-editable && make pypi-wheels` now works well.

Then I am positive with this ticket.



---

archive/issue_comments_666133.json:
```json
{
    "body": "<a id='comment:72'></a>\nThank you!",
    "created_at": "2022-07-27T01:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666133",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:72'></a>
Thank you!



---

archive/issue_comments_666134.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-28T00:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666134",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_666135.json:
```json
{
    "body": "Changing reviewer from \"Tobias Diez, Kwankyu Lee, ...\" to \"Tobias Diez, Kwankyu Lee\"",
    "created_at": "2022-07-28T00:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666135",
    "user": "https://github.com/kwankyu"
}
```

Changing reviewer from "Tobias Diez, Kwankyu Lee, ..." to "Tobias Diez, Kwankyu Lee"



---

archive/issue_events_107856.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-01T20:23:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33817#event-107856"
}
```



---

archive/issue_comments_666136.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-01T20:23:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666136",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_666137.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/gh_actions__add_test_of_the_modularized_distributions\" to \"64b212caa93f9e9c4f0868eb065bb35fd22cfc6a\"",
    "created_at": "2022-08-01T20:23:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33817#issuecomment-666137",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/gh_actions__add_test_of_the_modularized_distributions" to "64b212caa93f9e9c4f0868eb065bb35fd22cfc6a"
