# Issue 33002: Method tikz of polyhedron class can now return an object of type TikzPicture

archive/issues_032765.json:
```json
{
    "assignees": [],
    "body": "As a follow up of #20343, the current branch now allows to specify the output type of the `tikz` method of a polyhedron:\n\n```\nsage: co = polytopes.cuboctahedron()\nsage: t = co.tikz([674,108,-731], 112, output_type='TikzPicture')\nsage: t\n\\documentclass[tikz]{standalone}\n\\begin{document}\n\\begin{tikzpicture}%\n        [x={(0.249656cm, -0.577639cm)},\n        y={(0.777700cm, -0.358578cm)},\n        z={(-0.576936cm, -0.733318cm)},\n        scale=1.000000,\n---\n92 lines not printed (5190 characters in total).\nUse print to see the full content.\n---\n\\node[vertex] at (1.00000, 0.00000, 1.00000)     {};\n\\node[vertex] at (1.00000, 1.00000, 0.00000)     {};\n%%\n%%\n\\end{tikzpicture}\n\\end{document}\nsage: t.pdf()\n'/tmp/tmpobwhg3p7/tikz_o9dkz419.pdf'\n```\n\nWe also change the default behavior in favor of `output_type='TikzPicture'`. A deprecation warnings is now sent when `output_type` is not given:\n\n```\nsage: co = polytopes.cuboctahedron()\nsage: t = co.tikz([674,108,-731], 112)\n... DeprecationWarning: Since SageMath 5.13 (ticket #12083), the method\n .tikz() of a polyhedron returns an object of type ``LatexExpr`` which is a \nPython str. Since SageMath 9.7, this default behavior of returning an object\n of type LatexExpr is deprecated as the default output will soon change to \nan object of type ``TikzPicture`` from the module sage.misc.latex_standalone\n (newly introduced in SageMath 9.6). Please update your code to specify the\n desired output type as ``.tikz(output_type='LatexExpr')`` to keep the old\n behavior or ``.tikz(output_type='TikzPicture')`` to use the future default\n behavior.\nSee https://trac.sagemath.org/33002 for details.\n```\n\nCC:  @trevorkarn @jplab\n\nBranch: **[8729071](https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a)**\n\nReviewer: **Laith Rastanawi**\n\nAuthor: **S\u00e9bastien Labb\u00e9**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33002_\n\n",
    "closed_at": "2022-09-20T20:23:14Z",
    "created_at": "2021-12-09T10:34:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Method tikz of polyhedron class can now return an object of type TikzPicture",
    "type": "issue",
    "updated_at": "2022-09-29T09:25:04Z",
    "url": "https://github.com/sagemath/sage/issues/33002",
    "user": "https://github.com/seblabbe"
}
```
As a follow up of #20343, the current branch now allows to specify the output type of the `tikz` method of a polyhedron:

```
sage: co = polytopes.cuboctahedron()
sage: t = co.tikz([674,108,-731], 112, output_type='TikzPicture')
sage: t
\documentclass[tikz]{standalone}
\begin{document}
\begin{tikzpicture}%
        [x={(0.249656cm, -0.577639cm)},
        y={(0.777700cm, -0.358578cm)},
        z={(-0.576936cm, -0.733318cm)},
        scale=1.000000,
---
92 lines not printed (5190 characters in total).
Use print to see the full content.
---
\node[vertex] at (1.00000, 0.00000, 1.00000)     {};
\node[vertex] at (1.00000, 1.00000, 0.00000)     {};
%%
%%
\end{tikzpicture}
\end{document}
sage: t.pdf()
'/tmp/tmpobwhg3p7/tikz_o9dkz419.pdf'
```

We also change the default behavior in favor of `output_type='TikzPicture'`. A deprecation warnings is now sent when `output_type` is not given:

```
sage: co = polytopes.cuboctahedron()
sage: t = co.tikz([674,108,-731], 112)
... DeprecationWarning: Since SageMath 5.13 (ticket #12083), the method
 .tikz() of a polyhedron returns an object of type ``LatexExpr`` which is a 
Python str. Since SageMath 9.7, this default behavior of returning an object
 of type LatexExpr is deprecated as the default output will soon change to 
an object of type ``TikzPicture`` from the module sage.misc.latex_standalone
 (newly introduced in SageMath 9.6). Please update your code to specify the
 desired output type as ``.tikz(output_type='LatexExpr')`` to keep the old
 behavior or ``.tikz(output_type='TikzPicture')`` to use the future default
 behavior.
See https://trac.sagemath.org/33002 for details.
```

CC:  @trevorkarn @jplab

Branch: **[8729071](https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a)**

Reviewer: **Laith Rastanawi**

Author: **Sébastien Labbé**

_Issue created by migration from https://trac.sagemath.org/ticket/33002_





---

archive/issue_events_421518.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-12-09T10:34:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421518"
}
```



---

archive/issue_events_421519.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-12-09T10:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "component: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421519"
}
```



---

archive/issue_events_421520.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-12-09T10:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421520"
}
```



---

archive/issue_events_421521.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-12-09T10:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421521"
}
```



---

archive/issue_comments_535957.json:
```json
{
    "body": "Dependencies: **#20343**",
    "created_at": "2021-12-09T10:34:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535957",
    "user": "https://github.com/seblabbe"
}
```

Dependencies: **#20343**



---

archive/issue_events_421522.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421522"
}
```



---

archive/issue_events_421523.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421523"
}
```



---

archive/issue_comments_535958.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nWhat would be the interaction with [sage/graphs/graph_latex.py](https://github.com/sagemath/sage/blob/develop/src/sage/graphs/graph_latex.py)?",
    "created_at": "2022-02-24T09:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535958",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'>Comment 3:</a>
What would be the interaction with [sage/graphs/graph_latex.py](https://github.com/sagemath/sage/blob/develop/src/sage/graphs/graph_latex.py)?



---

archive/issue_events_421524.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421524"
}
```



---

archive/issue_events_421525.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421525"
}
```



---

archive/issue_comments_535959.json:
```json
{
    "body": "Commit: **[119baaf](https://github.com/sagemath/sagetrac-mirror/commit/119baaf65cf80ebb90f31b533339e30f828015a3)**",
    "created_at": "2022-06-30T09:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535959",
    "user": "https://github.com/seblabbe"
}
```

Commit: **[119baaf](https://github.com/sagemath/sagetrac-mirror/commit/119baaf65cf80ebb90f31b533339e30f828015a3)**



---

archive/issue_events_421526.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-06-30T09:44:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "title_is": "Method tikz of polyhedron class can now return an object of type TikzPicture",
    "title_was": "Adding a method in graph, poset, polyhedron, etc. classes to return an object of type TikzPicture",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421526"
}
```



---

archive/issue_comments_535960.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/119baaf65cf80ebb90f31b533339e30f828015a3\">119baaf</a></td><td><code>33002: tikz method of polyhedron can now output a TikzPicture object</code></td></tr></table>\n\nRefocussing this ticket on polyhedron only. Let's deal with `tikz` method for graph, posets, etc. in different tickets.",
    "created_at": "2022-06-30T09:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535960",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'>Comment 6:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/119baaf65cf80ebb90f31b533339e30f828015a3">119baaf</a></td><td><code>33002: tikz method of polyhedron can now output a TikzPicture object</code></td></tr></table>

Refocussing this ticket on polyhedron only. Let's deal with `tikz` method for graph, posets, etc. in different tickets.



---

archive/issue_comments_535961.json:
```json
{
    "body": "Branch: **[u/slabbe/33002](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33002)**",
    "created_at": "2022-06-30T09:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535961",
    "user": "https://github.com/seblabbe"
}
```

Branch: **[u/slabbe/33002](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33002)**



---

archive/issue_comments_535962.json:
```json
{
    "body": "Author: **S\u00e9bastien Labb\u00e9**",
    "created_at": "2022-06-30T09:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535962",
    "user": "https://github.com/seblabbe"
}
```

Author: **Sébastien Labbé**



---

archive/issue_comments_535963.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-This will be a follow up of #20343.\n+As a follow up of #20343.\n``````\n",
    "created_at": "2022-06-30T09:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535963",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-This will be a follow up of #20343.
+As a follow up of #20343.
``````




---

archive/issue_events_421527.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-06-30T09:48:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421527"
}
```



---

archive/issue_comments_535964.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,28 @@\n-As a follow up of #20343.\n+As a follow up of #20343, the current branch now allows to specify the output type of the `tikz` method of a polyhedron:\n+\n+```\n+sage: co = polytopes.cuboctahedron()\n+sage: t = co.tikz([674,108,-731], 112, output_type='TikzPicture')\n+sage: t\n+\\documentclass[tikz]{standalone}\n+\\begin{document}\n+\\begin{tikzpicture}%\n+        [x={(0.249656cm, -0.577639cm)},\n+        y={(0.777700cm, -0.358578cm)},\n+        z={(-0.576936cm, -0.733318cm)},\n+        scale=1.000000,\n+---\n+92 lines not printed (5190 characters in total).\n+Use print to see the full content.\n+---\n+\\node[vertex] at (1.00000, 0.00000, 1.00000)     {};\n+\\node[vertex] at (1.00000, 1.00000, 0.00000)     {};\n+%%\n+%%\n+\\end{tikzpicture}\n+\\end{document}\n+sage: t.pdf()\n+'/tmp/tmpobwhg3p7/tikz_o9dkz419.pdf'\n+```\n+\n+Another further question to think about is whether we want to change the default behavior in favor of `output_type='TikzPicture'`. For this, some deprecation warnings will need to be sent for some months... The change of the default behavior can be done in another ticket.\n``````\n",
    "created_at": "2022-06-30T09:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535964",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,28 @@
-As a follow up of #20343.
+As a follow up of #20343, the current branch now allows to specify the output type of the `tikz` method of a polyhedron:
+
+```
+sage: co = polytopes.cuboctahedron()
+sage: t = co.tikz([674,108,-731], 112, output_type='TikzPicture')
+sage: t
+\documentclass[tikz]{standalone}
+\begin{document}
+\begin{tikzpicture}%
+        [x={(0.249656cm, -0.577639cm)},
+        y={(0.777700cm, -0.358578cm)},
+        z={(-0.576936cm, -0.733318cm)},
+        scale=1.000000,
+---
+92 lines not printed (5190 characters in total).
+Use print to see the full content.
+---
+\node[vertex] at (1.00000, 0.00000, 1.00000)     {};
+\node[vertex] at (1.00000, 1.00000, 0.00000)     {};
+%%
+%%
+\end{tikzpicture}
+\end{document}
+sage: t.pdf()
+'/tmp/tmpobwhg3p7/tikz_o9dkz419.pdf'
+```
+
+Another further question to think about is whether we want to change the default behavior in favor of `output_type='TikzPicture'`. For this, some deprecation warnings will need to be sent for some months... The change of the default behavior can be done in another ticket.
``````




---

archive/issue_events_421528.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-07-05T09:48:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421528"
}
```



---

archive/issue_events_421529.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-07-05T09:48:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421529"
}
```



---

archive/issue_comments_535965.json:
```json
{
    "body": "Reviewer: **Laith Rastanawi**",
    "created_at": "2022-07-05T09:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535965",
    "user": "https://github.com/LaisRast"
}
```

Reviewer: **Laith Rastanawi**



---

archive/issue_comments_535966.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI would suggest to implement this for the function `Projection.tikz()` (of `geometry.polyhedron.plot`),\nand then add the parameter `output_type` to `Polyhedron_base6.tikz()`.\n\nOne reason for that is sometimes you may want to modify the projection before drawing the polytope using TikZ.\nFor instance in #34113:\nyou may want to choose a different window facet for the Schlegel projection before drawing the polytope.\nSo something like this should work:\n\n```\nP.schlegel_projection(P.facets()[1]).tikz([1, 0, 0], output_type=\"TikzPicture\")\n```",
    "created_at": "2022-07-05T09:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535966",
    "user": "https://github.com/LaisRast"
}
```

<a id='comment:8'>Comment 8:</a>
I would suggest to implement this for the function `Projection.tikz()` (of `geometry.polyhedron.plot`),
and then add the parameter `output_type` to `Polyhedron_base6.tikz()`.

One reason for that is sometimes you may want to modify the projection before drawing the polytope using TikZ.
For instance in #34113:
you may want to choose a different window facet for the Schlegel projection before drawing the polytope.
So something like this should work:

```
P.schlegel_projection(P.facets()[1]).tikz([1, 0, 0], output_type="TikzPicture")
```



---

archive/issue_comments_535967.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33afbd3bfabb2198836daf99e01e72ef2a73883a\">33afbd3</a></td><td><code>33002: moving the LatexExpr vs TikzPicture output type choice inside method projection().tikz() instead of tikz()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1d598991a123c9ad1f7e812a1ef1daa6889f0b2\">a1d5989</a></td><td><code>33002: adapting the doctests with the new behavior thus also avoiding deprecation warnings</code></td></tr></table>\n",
    "created_at": "2022-07-06T15:08:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535967",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33afbd3bfabb2198836daf99e01e72ef2a73883a">33afbd3</a></td><td><code>33002: moving the LatexExpr vs TikzPicture output type choice inside method projection().tikz() instead of tikz()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1d598991a123c9ad1f7e812a1ef1daa6889f0b2">a1d5989</a></td><td><code>33002: adapting the doctests with the new behavior thus also avoiding deprecation warnings</code></td></tr></table>




---

archive/issue_comments_535968.json:
```json
{
    "body": "Changed commit from **[119baaf](https://github.com/sagemath/sagetrac-mirror/commit/119baaf65cf80ebb90f31b533339e30f828015a3)** to **[a1d5989](https://github.com/sagemath/sagetrac-mirror/commit/a1d598991a123c9ad1f7e812a1ef1daa6889f0b2)**",
    "created_at": "2022-07-06T15:08:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535968",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[119baaf](https://github.com/sagemath/sagetrac-mirror/commit/119baaf65cf80ebb90f31b533339e30f828015a3)** to **[a1d5989](https://github.com/sagemath/sagetrac-mirror/commit/a1d598991a123c9ad1f7e812a1ef1daa6889f0b2)**



---

archive/issue_comments_535969.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nGood comment. I did the change.\n\nI also added a deprecation warning in favor of `output_type='TikzPicture'`.\n\nI adapted the doctests in `sage/geometry/polyhedron` and in the doc.\n\nMaybe there are remaining doctests to update? Let's see what the patchbots say.",
    "created_at": "2022-07-06T15:10:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535969",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:10'>Comment 10:</a>
Good comment. I did the change.

I also added a deprecation warning in favor of `output_type='TikzPicture'`.

I adapted the doctests in `sage/geometry/polyhedron` and in the doc.

Maybe there are remaining doctests to update? Let's see what the patchbots say.



---

archive/issue_comments_535970.json:
```json
{
    "body": "Changed dependencies from **#20343** to none",
    "created_at": "2022-07-06T15:10:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535970",
    "user": "https://github.com/seblabbe"
}
```

Changed dependencies from **#20343** to none



---

archive/issue_events_421530.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-07-06T15:10:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421530"
}
```



---

archive/issue_events_421531.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-07-06T15:10:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421531"
}
```



---

archive/issue_comments_535971.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nDear JP, it would be good for you eyes to look at the changes made in this ticket, because I am changing code and doc that you have written in the first place starting with #12083.",
    "created_at": "2022-07-06T15:12:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535971",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:11'>Comment 11:</a>
Dear JP, it would be good for you eyes to look at the changes made in this ticket, because I am changing code and doc that you have written in the first place starting with #12083.



---

archive/issue_comments_535972.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,4 +25,19 @@\n '/tmp/tmpobwhg3p7/tikz_o9dkz419.pdf'\n ```\n \n-Another further question to think about is whether we want to change the default behavior in favor of `output_type='TikzPicture'`. For this, some deprecation warnings will need to be sent for some months... The change of the default behavior can be done in another ticket.\n+We also change the default behavior in favor of `output_type='TikzPicture'`. A deprecation warnings is now sent when `output_type` is not given:\n+\n+```\n+sage: co = polytopes.cuboctahedron()\n+sage: t = co.tikz([674,108,-731], 112)\n+... DeprecationWarning: Since SageMath 5.13 (ticket #12083), the method\n+ .tikz() of a polyhedron returns an object of type ``LatexExpr`` which is a \n+Python str. Since SageMath 9.7, this default behavior of returning an object\n+ of type LatexExpr is deprecated as the default output will soon change to \n+an object of type ``TikzPicture`` from the module sage.misc.latex_standalone\n+ (newly introduced in SageMath 9.6). Please update your code to specify the\n+ desired output type as ``.tikz(output_type='LatexExpr')`` to keep the old\n+ behavior or ``.tikz(output_type='TikzPicture')`` to use the future default\n+ behavior.\n+See https://trac.sagemath.org/33002 for details.\n+```\n``````\n",
    "created_at": "2022-07-06T15:22:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535972",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,4 +25,19 @@
 '/tmp/tmpobwhg3p7/tikz_o9dkz419.pdf'
 ```
 
-Another further question to think about is whether we want to change the default behavior in favor of `output_type='TikzPicture'`. For this, some deprecation warnings will need to be sent for some months... The change of the default behavior can be done in another ticket.
+We also change the default behavior in favor of `output_type='TikzPicture'`. A deprecation warnings is now sent when `output_type` is not given:
+
+```
+sage: co = polytopes.cuboctahedron()
+sage: t = co.tikz([674,108,-731], 112)
+... DeprecationWarning: Since SageMath 5.13 (ticket #12083), the method
+ .tikz() of a polyhedron returns an object of type ``LatexExpr`` which is a 
+Python str. Since SageMath 9.7, this default behavior of returning an object
+ of type LatexExpr is deprecated as the default output will soon change to 
+an object of type ``TikzPicture`` from the module sage.misc.latex_standalone
+ (newly introduced in SageMath 9.6). Please update your code to specify the
+ desired output type as ``.tikz(output_type='LatexExpr')`` to keep the old
+ behavior or ``.tikz(output_type='TikzPicture')`` to use the future default
+ behavior.
+See https://trac.sagemath.org/33002 for details.
+```
``````




---

archive/issue_comments_535973.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI will have another look at the ticket (hopefully) tomorrow. For now:\n\n* In `polytope_tikz.rst`: Please change `Since Version` to `Since version`.\n\n* The deprecation message is long. Can you please make it shorted. Maybe something like this:\n\n  ```\n  The default type of the returned object will soon be changed from\n  `sage.misc.latex.LatexExpr` to `sage.misc.latex_standalone.TikzPicture`.\n  Please update your code to specify the desired output type\n  as `.tikz(output_type='LatexExpr')` to keep the old behavior\n  or `.tikz(output_type='TikzPicture')` to use the future default behavior.\n  ```",
    "created_at": "2022-07-06T22:31:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535973",
    "user": "https://github.com/LaisRast"
}
```

<a id='comment:13'>Comment 13:</a>
I will have another look at the ticket (hopefully) tomorrow. For now:

* In `polytope_tikz.rst`: Please change `Since Version` to `Since version`.

* The deprecation message is long. Can you please make it shorted. Maybe something like this:

  ```
  The default type of the returned object will soon be changed from
  `sage.misc.latex.LatexExpr` to `sage.misc.latex_standalone.TikzPicture`.
  Please update your code to specify the desired output type
  as `.tikz(output_type='LatexExpr')` to keep the old behavior
  or `.tikz(output_type='TikzPicture')` to use the future default behavior.
  ```



---

archive/issue_events_421532.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-07-06T22:31:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421532"
}
```



---

archive/issue_events_421533.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-07-06T22:31:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421533"
}
```



---

archive/issue_comments_535974.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ef07a9544b35713cb4fd182211c40965de086fe\">4ef07a9</a></td><td><code>33002: shorter deprecation message</code></td></tr></table>\n",
    "created_at": "2022-07-07T08:03:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535974",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ef07a9544b35713cb4fd182211c40965de086fe">4ef07a9</a></td><td><code>33002: shorter deprecation message</code></td></tr></table>




---

archive/issue_comments_535975.json:
```json
{
    "body": "Changed commit from **[a1d5989](https://github.com/sagemath/sagetrac-mirror/commit/a1d598991a123c9ad1f7e812a1ef1daa6889f0b2)** to **[4ef07a9](https://github.com/sagemath/sagetrac-mirror/commit/4ef07a9544b35713cb4fd182211c40965de086fe)**",
    "created_at": "2022-07-07T08:03:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535975",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a1d5989](https://github.com/sagemath/sagetrac-mirror/commit/a1d598991a123c9ad1f7e812a1ef1daa6889f0b2)** to **[4ef07a9](https://github.com/sagemath/sagetrac-mirror/commit/4ef07a9544b35713cb4fd182211c40965de086fe)**



---

archive/issue_events_421534.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-07-07T08:07:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421534"
}
```



---

archive/issue_events_421535.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-07-07T08:07:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421535"
}
```



---

archive/issue_comments_535976.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nThanks for your initial comments. I let you take a look again.",
    "created_at": "2022-07-07T08:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535976",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:15'>Comment 15:</a>
Thanks for your initial comments. I let you take a look again.



---

archive/issue_events_421536.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-07-09T12:15:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421536"
}
```



---

archive/issue_events_421537.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-07-09T12:15:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421537"
}
```



---

archive/issue_comments_535977.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nSeems good to me, except the following small remarks:\n\nIn `polytope_tikz.rst`:\n* Add full stop to the end of \"... the raw TikZ picture of your polytope\" \n* \"you will have a file named..\" -> \" you will have two files..\"\n\nI suggest also:\n<code>\\`\\`None\\`\\`(deprecated)</code> -> <code>\\`\\`None\\`\\` (to be deprecated)</code>",
    "created_at": "2022-07-09T12:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535977",
    "user": "https://github.com/LaisRast"
}
```

<a id='comment:16'>Comment 16:</a>
Seems good to me, except the following small remarks:

In `polytope_tikz.rst`:
* Add full stop to the end of "... the raw TikZ picture of your polytope" 
* "you will have a file named.." -> " you will have two files.."

I suggest also:
<code>\`\`None\`\`(deprecated)</code> -> <code>\`\`None\`\` (to be deprecated)</code>



---

archive/issue_comments_535978.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a71bbe3d90d3da65814da6c6c53f0686c51f9c6\">7a71bbe</a></td><td><code>33002: fixing small remarks in polytope_tikz.rst</code></td></tr></table>\n",
    "created_at": "2022-07-21T14:45:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535978",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a71bbe3d90d3da65814da6c6c53f0686c51f9c6">7a71bbe</a></td><td><code>33002: fixing small remarks in polytope_tikz.rst</code></td></tr></table>




---

archive/issue_comments_535979.json:
```json
{
    "body": "Changed commit from **[4ef07a9](https://github.com/sagemath/sagetrac-mirror/commit/4ef07a9544b35713cb4fd182211c40965de086fe)** to **[7a71bbe](https://github.com/sagemath/sagetrac-mirror/commit/7a71bbe3d90d3da65814da6c6c53f0686c51f9c6)**",
    "created_at": "2022-07-21T14:45:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535979",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4ef07a9](https://github.com/sagemath/sagetrac-mirror/commit/4ef07a9544b35713cb4fd182211c40965de086fe)** to **[7a71bbe](https://github.com/sagemath/sagetrac-mirror/commit/7a71bbe3d90d3da65814da6c6c53f0686c51f9c6)**



---

archive/issue_comments_535980.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@LaisRast](#comment%3A16):\n> Seems good to me, except the following small remarks:\n> \n> In `polytope_tikz.rst`:\n> * Add full stop to the end of \"... the raw TikZ picture of your polytope\" \n> * \"you will have a file named..\" -> \" you will have two files..\"\n\nThanks, i just added a commit which does that. \n\n> I suggest also:\n> <code>\\`\\`None\\`\\`(deprecated)</code> -> <code>\\`\\`None\\`\\` (to be deprecated)</code>\n\nI think the definition of \"deprecated\" is that the option will be change or be gone in the future. An option *is* deprecated one or two years before it is gone. So, I keep it as it is for now.\n\nNeeds review. (I will be away from internet for the next two weeks).",
    "created_at": "2022-07-21T14:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535980",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@LaisRast](#comment%3A16):
> Seems good to me, except the following small remarks:
> 
> In `polytope_tikz.rst`:
> * Add full stop to the end of "... the raw TikZ picture of your polytope" 
> * "you will have a file named.." -> " you will have two files.."

Thanks, i just added a commit which does that. 

> I suggest also:
> <code>\`\`None\`\`(deprecated)</code> -> <code>\`\`None\`\` (to be deprecated)</code>

I think the definition of "deprecated" is that the option will be change or be gone in the future. An option *is* deprecated one or two years before it is gone. So, I keep it as it is for now.

Needs review. (I will be away from internet for the next two weeks).



---

archive/issue_events_421538.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-07-21T14:48:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421538"
}
```



---

archive/issue_events_421539.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-07-21T14:48:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421539"
}
```



---

archive/issue_comments_535981.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nLooks good to me.",
    "created_at": "2022-07-21T15:47:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535981",
    "user": "https://github.com/LaisRast"
}
```

<a id='comment:20'>Comment 20:</a>
Looks good to me.



---

archive/issue_events_421540.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-07-21T15:47:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421540"
}
```



---

archive/issue_events_421541.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-07-21T15:47:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421541"
}
```



---

archive/issue_comments_535982.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\n\n```\nsage -t --long --warn-long 45.5 --random-seed=123 src/sage/misc/latex_standalone.py\n**********************************************************************\nFile \"src/sage/misc/latex_standalone.py\", line 161, in sage.misc.latex_standalone\nFailed example:\n    s = P.projection().tikz([674,108,-731],112)\nExpected nothing\nGot:\n    doctest:warning\n      File \"/home/release/Sage/src/bin/sage-runtests\", line 153, in <module>\n        err = DC.run()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/control.py\", line 1376, in run\n        self.run_doctests()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/control.py\", line 1057, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2021, in dispatch\n        self.parallel_dispatch()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 1916, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2190, in start\n        super().start()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py\", line 121, in start\n        self._popen = self._Popen(self)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py\", line 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py\", line 19, in __init__\n        self._launch(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py\", line 71, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2162, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2492, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 2544, in _run\n        result = runner.run(test)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 866, in run\n        return self._run(test, compileflags, out)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.misc.latex_standalone[23]>\", line 1, in <module>\n        s = P.projection().tikz([Integer(674),Integer(108),-Integer(731)],Integer(112))\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/geometry/polyhedron/plot.py\", line 1431, in tikz\n        deprecation(33002, msg)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/misc/superseded.py\", line 99, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/misc/superseded.py\", line 180, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    DeprecationWarning: The default type of the returned object will soon be changed from `sage.misc.latex.LatexExpr` to `sage.misc.latex_standalone.TikzPicture`.  Please update your code to specify the desired output type as `.tikz(output_type='LatexExpr')` to keep the old behavior or `.tikz(output_type='TikzPicture')` to use the future default behavior.\n    See https://trac.sagemath.org/33002 for details.\n**********************************************************************\n```",
    "created_at": "2022-07-26T20:33:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535982",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'>Comment 21:</a>

```
sage -t --long --warn-long 45.5 --random-seed=123 src/sage/misc/latex_standalone.py
**********************************************************************
File "src/sage/misc/latex_standalone.py", line 161, in sage.misc.latex_standalone
Failed example:
    s = P.projection().tikz([674,108,-731],112)
Expected nothing
Got:
    doctest:warning
      File "/home/release/Sage/src/bin/sage-runtests", line 153, in <module>
        err = DC.run()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/control.py", line 1376, in run
        self.run_doctests()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/control.py", line 1057, in run_doctests
        self.dispatcher.dispatch()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2021, in dispatch
        self.parallel_dispatch()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 1916, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2190, in start
        super().start()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py", line 121, in start
        self._popen = self._Popen(self)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py", line 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py", line 19, in __init__
        self._launch(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py", line 71, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2162, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2492, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 2544, in _run
        result = runner.run(test)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 866, in run
        return self._run(test, compileflags, out)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.misc.latex_standalone[23]>", line 1, in <module>
        s = P.projection().tikz([Integer(674),Integer(108),-Integer(731)],Integer(112))
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/geometry/polyhedron/plot.py", line 1431, in tikz
        deprecation(33002, msg)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/misc/superseded.py", line 99, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/sage/misc/superseded.py", line 180, in warning
        warn(message, warning_class, stacklevel)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    DeprecationWarning: The default type of the returned object will soon be changed from `sage.misc.latex.LatexExpr` to `sage.misc.latex_standalone.TikzPicture`.  Please update your code to specify the desired output type as `.tikz(output_type='LatexExpr')` to keep the old behavior or `.tikz(output_type='TikzPicture')` to use the future default behavior.
    See https://trac.sagemath.org/33002 for details.
**********************************************************************
```



---

archive/issue_events_421542.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-26T20:33:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421542"
}
```



---

archive/issue_events_421543.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-26T20:33:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421543"
}
```



---

archive/issue_comments_535983.json:
```json
{
    "body": "Changed commit from **[7a71bbe](https://github.com/sagemath/sagetrac-mirror/commit/7a71bbe3d90d3da65814da6c6c53f0686c51f9c6)** to **[8729071](https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a)**",
    "created_at": "2022-08-09T21:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535983",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7a71bbe](https://github.com/sagemath/sagetrac-mirror/commit/7a71bbe3d90d3da65814da6c6c53f0686c51f9c6)** to **[8729071](https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a)**



---

archive/issue_comments_535984.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a\">8729071</a></td><td><code>33002: updating doctest to fix deprecation warning</code></td></tr></table>\n",
    "created_at": "2022-08-09T21:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535984",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a">8729071</a></td><td><code>33002: updating doctest to fix deprecation warning</code></td></tr></table>




---

archive/issue_events_421544.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-08-09T21:44:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421544"
}
```



---

archive/issue_events_421545.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2022-08-09T21:44:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421545"
}
```



---

archive/issue_comments_535985.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nOups, I forgot that one. The other failures seen by the patchbot (related to giac) are unrelated.\n\nNeeds review.",
    "created_at": "2022-08-09T21:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535985",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:23'>Comment 23:</a>
Oups, I forgot that one. The other failures seen by the patchbot (related to giac) are unrelated.

Needs review.



---

archive/issue_comments_535986.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nping!\n\nMaybe there is still a chance for this to get in 9.7 ...",
    "created_at": "2022-08-30T14:47:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535986",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:24'>Comment 24:</a>
ping!

Maybe there is still a chance for this to get in 9.7 ...



---

archive/issue_comments_535987.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nSorry for the late reply. \nSince now you fixed the test, the ticket is done.",
    "created_at": "2022-09-04T09:09:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535987",
    "user": "https://github.com/LaisRast"
}
```

<a id='comment:25'>Comment 25:</a>
Sorry for the late reply. 
Since now you fixed the test, the ticket is done.



---

archive/issue_events_421546.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-09-04T09:09:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421546"
}
```



---

archive/issue_events_421547.json:
```json
{
    "actor": "https://github.com/LaisRast",
    "created_at": "2022-09-04T09:09:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421547"
}
```



---

archive/issue_events_421548.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421548"
}
```



---

archive/issue_events_421549.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421549"
}
```



---

archive/issue_events_421550.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-20T20:23:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421550"
}
```



---

archive/issue_events_421551.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "509ed920b2a4d0edf69b39c4490fe532508048eb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-09-20T20:23:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33002#event-421551"
}
```



---

archive/issue_comments_535988.json:
```json
{
    "body": "Changed branch from **[u/slabbe/33002](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33002)** to **[8729071](https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a)**",
    "created_at": "2022-09-20T20:23:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535988",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/slabbe/33002](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/33002)** to **[8729071](https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a)**



---

archive/issue_comments_535989.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nI created #34606 to fix the doc, because this ticket was merged in 9.8 not in 9.7.",
    "created_at": "2022-09-29T09:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535989",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:28'>Comment 28:</a>
I created #34606 to fix the doc, because this ticket was merged in 9.8 not in 9.7.



---

archive/issue_comments_535990.json:
```json
{
    "body": "Changed commit from **[8729071](https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a)** to none",
    "created_at": "2022-09-29T09:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33002#issuecomment-535990",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[8729071](https://github.com/sagemath/sagetrac-mirror/commit/8729071a8e49e53e0aed08997e391bcfb1b8a43a)** to none
