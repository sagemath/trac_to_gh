# Issue 33159: wrong result solving equation system with symbolic matrix

archive/issues_032922.json:
```json
{
    "body": "We get\n\n```\nsage: Matrix(SR, [[1, 1]]).solve_left(vector(SR, [2, 3]))                                                                                                    \n(2)\n```\nwhich is wrong. This works for matrices over `QQ` as we can see by\n\n```\nsage: Matrix([[1, 1]]).solve_left(vector([2, 3]))                                                                                                            \nValueError: matrix equation has no solutions\n```\n\n\nCC:  @mwageringel\n\nReviewer: Daniel Krenn\n\nAuthor: Michael Orlitzky\n\nBranch: 0abe6bd78f82ec10ad041571be37c16fdf72fbf5\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33159\n\n",
    "closed_at": "2022-02-13T10:17:12Z",
    "created_at": "2022-01-13T13:18:22Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "wrong result solving equation system with symbolic matrix",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33159",
    "user": "https://github.com/dkrenn"
}
```
We get

```
sage: Matrix(SR, [[1, 1]]).solve_left(vector(SR, [2, 3]))                                                                                                    
(2)
```
which is wrong. This works for matrices over `QQ` as we can see by

```
sage: Matrix([[1, 1]]).solve_left(vector([2, 3]))                                                                                                            
ValueError: matrix equation has no solutions
```


CC:  @mwageringel

Reviewer: Daniel Krenn

Author: Michael Orlitzky

Branch: 0abe6bd78f82ec10ad041571be37c16fdf72fbf5

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33159





---

archive/issue_comments_661545.json:
```json
{
    "body": "<a id='comment:1'></a>Wrong result on `9.5.rc1`.",
    "created_at": "2022-01-13T13:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661545",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:1'></a>Wrong result on `9.5.rc1`.



---

archive/issue_comments_661546.json:
```json
{
    "body": "<a id='comment:2'></a>This is essentially #29729. Work stalled there because we don't have a solution for ball fields, but I think I can move my commit for `SR` to this ticket to fix this issue.",
    "created_at": "2022-01-13T13:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661546",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>This is essentially #29729. Work stalled there because we don't have a solution for ball fields, but I think I can move my commit for `SR` to this ticket to fix this issue.



---

archive/issue_comments_661547.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-01-13T19:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661547",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_661548.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2022-01-13T19:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661548",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_661549.json:
```json
{
    "body": "Changing author from \"\" to \"Michael Orlitzky\"",
    "created_at": "2022-01-13T19:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661549",
    "user": "https://github.com/orlitzky"
}
```

Changing author from "" to "Michael Orlitzky"



---

archive/issue_comments_661550.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mjo/ticket/33159\"",
    "created_at": "2022-01-13T19:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661550",
    "user": "https://github.com/orlitzky"
}
```

Changing branch from "" to "u/mjo/ticket/33159"



---

archive/issue_comments_661551.json:
```json
{
    "body": "Changing commit from \"\" to \"4d094d627acbd93a2c234dcf66e7ea5742bc6d9f\"",
    "created_at": "2022-01-13T19:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661551",
    "user": "https://github.com/orlitzky"
}
```

Changing commit from "" to "4d094d627acbd93a2c234dcf66e7ea5742bc6d9f"



---

archive/issue_comments_661552.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Daniel Krenn\"",
    "created_at": "2022-01-13T19:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661552",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "" to "Daniel Krenn"



---

archive/issue_comments_661553.json:
```json
{
    "body": "Changing branch from \"u/mjo/ticket/33159\" to \"u/dkrenn/ticket/33159\"",
    "created_at": "2022-01-13T19:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661553",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "u/mjo/ticket/33159" to "u/dkrenn/ticket/33159"



---

archive/issue_comments_661554.json:
```json
{
    "body": "Changing commit from \"4d094d627acbd93a2c234dcf66e7ea5742bc6d9f\" to \"0abe6bd78f82ec10ad041571be37c16fdf72fbf5\"",
    "created_at": "2022-01-13T19:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661554",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "4d094d627acbd93a2c234dcf66e7ea5742bc6d9f" to "0abe6bd78f82ec10ad041571be37c16fdf72fbf5"



---

archive/issue_comments_661555.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you for your patch and for doing this so fast. This looks almost good to me.\n1. I've added a small easy patch myself to handle subrings of the symbolic ring as well. \n2. I commented on the examples where no check is performed, so that it clearly states that the result is wrong in this case.\n\nEverything else is fine for me. Patchbot not yet done. Please cross-review my changes.\n\n---\nNew commits:",
    "created_at": "2022-01-13T19:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661555",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:6'></a>Thank you for your patch and for doing this so fast. This looks almost good to me.
1. I've added a small easy patch myself to handle subrings of the symbolic ring as well. 
2. I commented on the examples where no check is performed, so that it clearly states that the result is wrong in this case.

Everything else is fine for me. Patchbot not yet done. Please cross-review my changes.

---
New commits:



---

archive/issue_comments_661556.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 dkrenn]:\n> Thank you for your patch and for doing this so fast. This looks almost good to me.\n> 1. I've added a small easy patch myself to handle subrings of the symbolic ring as well. \n> 2. I commented on the examples where no check is performed, so that it clearly states that the result is wrong in this case.\n\n\nBoth good ideas, thanks.",
    "created_at": "2022-01-13T21:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661556",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'></a>Replying to [comment:6 dkrenn]:
> Thank you for your patch and for doing this so fast. This looks almost good to me.
> 1. I've added a small easy patch myself to handle subrings of the symbolic ring as well. 
> 2. I commented on the examples where no check is performed, so that it clearly states that the result is wrong in this case.


Both good ideas, thanks.



---

archive/issue_comments_661557.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-14T10:23:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661557",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_661558.json:
```json
{
    "body": "<a id='comment:8'></a>Set to positive_review as everyone is happy and the patchbot as well (the failing of the docbuild plugin seems to be an issue of that particular patchbot (which was cleanly restarted a moment ago)).",
    "created_at": "2022-01-14T10:23:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661558",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:8'></a>Set to positive_review as everyone is happy and the patchbot as well (the failing of the docbuild plugin seems to be an issue of that particular patchbot (which was cleanly restarted a moment ago)).



---

archive/issue_comments_661559.json:
```json
{
    "body": "<a id='comment:9'></a>Thank you for resolving this.",
    "created_at": "2022-01-15T12:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661559",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:9'></a>Thank you for resolving this.



---

archive/issue_events_087603.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-30T15:39:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33159#event-87603"
}
```



---

archive/issue_comments_661560.json:
```json
{
    "body": "<a id='comment:10'></a>Setting milestone to 9.6 now that 9.5 is out.",
    "created_at": "2022-01-30T15:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661560",
    "user": "https://github.com/slel"
}
```

<a id='comment:10'></a>Setting milestone to 9.6 now that 9.5 is out.



---

archive/issue_comments_661561.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-02-13T10:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661561",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_087604.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-13T10:17:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33159#event-87604"
}
```



---

archive/issue_comments_661562.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/ticket/33159\" to \"0abe6bd78f82ec10ad041571be37c16fdf72fbf5\"",
    "created_at": "2022-02-13T10:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661562",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dkrenn/ticket/33159" to "0abe6bd78f82ec10ad041571be37c16fdf72fbf5"



---

archive/issue_comments_661563.json:
```json
{
    "body": "Changing commit from \"0abe6bd78f82ec10ad041571be37c16fdf72fbf5\" to \"\"",
    "created_at": "2022-02-21T07:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661563",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "0abe6bd78f82ec10ad041571be37c16fdf72fbf5" to ""



---

archive/issue_comments_661564.json:
```json
{
    "body": "<a id='comment:12'></a>Follow-up in #33392",
    "created_at": "2022-02-21T07:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33159#issuecomment-661564",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>Follow-up in #33392
