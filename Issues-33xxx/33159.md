# Issue 33159: wrong result solving equation system with symbolic matrix

archive/issues_032922.json:
```json
{
    "assignees": [],
    "body": "We get\n\n```\nsage: Matrix(SR, [[1, 1]]).solve_left(vector(SR, [2, 3]))                                                                                                    \n(2)\n```\nwhich is wrong. This works for matrices over `QQ` as we can see by\n\n```\nsage: Matrix([[1, 1]]).solve_left(vector([2, 3]))                                                                                                            \nValueError: matrix equation has no solutions\n```\n\n\nCC:  @mwageringel\n\nBranch: **[0abe6bd](https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5)**\n\nReviewer: **Daniel Krenn**\n\nAuthor: **Michael Orlitzky**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33159_\n\n",
    "closed_at": "2022-02-13T10:17:12Z",
    "created_at": "2022-01-13T13:18:22Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "wrong result solving equation system with symbolic matrix",
    "type": "issue",
    "updated_at": "2022-02-21T07:55:30Z",
    "url": "https://github.com/sagemath/sage/issues/33159",
    "user": "https://github.com/dkrenn"
}
```
We get

```
sage: Matrix(SR, [[1, 1]]).solve_left(vector(SR, [2, 3]))                                                                                                    
(2)
```
which is wrong. This works for matrices over `QQ` as we can see by

```
sage: Matrix([[1, 1]]).solve_left(vector([2, 3]))                                                                                                            
ValueError: matrix equation has no solutions
```


CC:  @mwageringel

Branch: **[0abe6bd](https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5)**

Reviewer: **Daniel Krenn**

Author: **Michael Orlitzky**

_Issue created by migration from https://trac.sagemath.org/ticket/33159_





---

archive/issue_events_423565.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2022-01-13T13:18:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423565"
}
```



---

archive/issue_events_423566.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2022-01-13T13:18:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "component: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423566"
}
```



---

archive/issue_events_423567.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2022-01-13T13:18:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423567"
}
```



---

archive/issue_events_423568.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2022-01-13T13:18:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423568"
}
```



---

archive/issue_comments_538920.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nWrong result on `9.5.rc1`.",
    "created_at": "2022-01-13T13:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538920",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:1'>Comment 1:</a>
Wrong result on `9.5.rc1`.



---

archive/issue_comments_538921.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThis is essentially #29729. Work stalled there because we don't have a solution for ball fields, but I think I can move my commit for `SR` to this ticket to fix this issue.",
    "created_at": "2022-01-13T13:49:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538921",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'>Comment 2:</a>
This is essentially #29729. Work stalled there because we don't have a solution for ball fields, but I think I can move my commit for `SR` to this ticket to fix this issue.



---

archive/issue_events_423569.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-01-13T19:03:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423569"
}
```



---

archive/issue_comments_538922.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d094d627acbd93a2c234dcf66e7ea5742bc6d9f\">4d094d6</a></td><td><code>Trac #33159: add special case to solve_right() for symbolic systems.</code></td></tr></table>\n",
    "created_at": "2022-01-13T19:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538922",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:3'>Comment 3:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d094d627acbd93a2c234dcf66e7ea5742bc6d9f">4d094d6</a></td><td><code>Trac #33159: add special case to solve_right() for symbolic systems.</code></td></tr></table>




---

archive/issue_comments_538923.json:
```json
{
    "body": "Author: **Michael Orlitzky**",
    "created_at": "2022-01-13T19:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538923",
    "user": "https://github.com/orlitzky"
}
```

Author: **Michael Orlitzky**



---

archive/issue_comments_538924.json:
```json
{
    "body": "Branch: **[u/mjo/ticket/33159](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33159)**",
    "created_at": "2022-01-13T19:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538924",
    "user": "https://github.com/orlitzky"
}
```

Branch: **[u/mjo/ticket/33159](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33159)**



---

archive/issue_comments_538925.json:
```json
{
    "body": "Commit: **[4d094d6](https://github.com/sagemath/sagetrac-mirror/commit/4d094d627acbd93a2c234dcf66e7ea5742bc6d9f)**",
    "created_at": "2022-01-13T19:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538925",
    "user": "https://github.com/orlitzky"
}
```

Commit: **[4d094d6](https://github.com/sagemath/sagetrac-mirror/commit/4d094d627acbd93a2c234dcf66e7ea5742bc6d9f)**



---

archive/issue_comments_538926.json:
```json
{
    "body": "Reviewer: **Daniel Krenn**",
    "created_at": "2022-01-13T19:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538926",
    "user": "https://github.com/dkrenn"
}
```

Reviewer: **Daniel Krenn**



---

archive/issue_comments_538927.json:
```json
{
    "body": "Changed branch from **[u/mjo/ticket/33159](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33159)** to **[u/dkrenn/ticket/33159](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/33159)**",
    "created_at": "2022-01-13T19:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538927",
    "user": "https://github.com/dkrenn"
}
```

Changed branch from **[u/mjo/ticket/33159](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/33159)** to **[u/dkrenn/ticket/33159](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/33159)**



---

archive/issue_comments_538928.json:
```json
{
    "body": "Changed commit from **[4d094d6](https://github.com/sagemath/sagetrac-mirror/commit/4d094d627acbd93a2c234dcf66e7ea5742bc6d9f)** to **[0abe6bd](https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5)**",
    "created_at": "2022-01-13T19:39:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538928",
    "user": "https://github.com/dkrenn"
}
```

Changed commit from **[4d094d6](https://github.com/sagemath/sagetrac-mirror/commit/4d094d627acbd93a2c234dcf66e7ea5742bc6d9f)** to **[0abe6bd](https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5)**



---

archive/issue_comments_538929.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThank you for your patch and for doing this so fast. This looks almost good to me.\n1. I've added a small easy patch myself to handle subrings of the symbolic ring as well. \n2. I commented on the examples where no check is performed, so that it clearly states that the result is wrong in this case.\n\nEverything else is fine for me. Patchbot not yet done. Please cross-review my changes.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/585dbcdb2e3480738ed5ccbf00024472d435cfab\">585dbcd</a></td><td><code>Trac #33159: handle subrings of SR as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5\">0abe6bd</a></td><td><code>Trac #33159: comment examples producing wrong output</code></td></tr></table>\n",
    "created_at": "2022-01-13T19:39:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538929",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:6'>Comment 6:</a>
Thank you for your patch and for doing this so fast. This looks almost good to me.
1. I've added a small easy patch myself to handle subrings of the symbolic ring as well. 
2. I commented on the examples where no check is performed, so that it clearly states that the result is wrong in this case.

Everything else is fine for me. Patchbot not yet done. Please cross-review my changes.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/585dbcdb2e3480738ed5ccbf00024472d435cfab">585dbcd</a></td><td><code>Trac #33159: handle subrings of SR as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5">0abe6bd</a></td><td><code>Trac #33159: comment examples producing wrong output</code></td></tr></table>




---

archive/issue_comments_538930.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@dkrenn](#comment%3A6):\n> Thank you for your patch and for doing this so fast. This looks almost good to me.\n> 1. I've added a small easy patch myself to handle subrings of the symbolic ring as well. \n> 2. I commented on the examples where no check is performed, so that it clearly states that the result is wrong in this case.\n\nBoth good ideas, thanks.",
    "created_at": "2022-01-13T21:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538930",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@dkrenn](#comment%3A6):
> Thank you for your patch and for doing this so fast. This looks almost good to me.
> 1. I've added a small easy patch myself to handle subrings of the symbolic ring as well. 
> 2. I commented on the examples where no check is performed, so that it clearly states that the result is wrong in this case.

Both good ideas, thanks.



---

archive/issue_events_423570.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2022-01-14T10:23:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423570"
}
```



---

archive/issue_events_423571.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2022-01-14T10:23:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423571"
}
```



---

archive/issue_comments_538931.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nSet to positive_review as everyone is happy and the patchbot as well (the failing of the docbuild plugin seems to be an issue of that particular patchbot (which was cleanly restarted a moment ago)).",
    "created_at": "2022-01-14T10:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538931",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:8'>Comment 8:</a>
Set to positive_review as everyone is happy and the patchbot as well (the failing of the docbuild plugin seems to be an issue of that particular patchbot (which was cleanly restarted a moment ago)).



---

archive/issue_comments_538932.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThank you for resolving this.",
    "created_at": "2022-01-15T12:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538932",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:9'>Comment 9:</a>
Thank you for resolving this.



---

archive/issue_events_423572.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-30T15:39:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423572"
}
```



---

archive/issue_events_423573.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-30T15:39:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423573"
}
```



---

archive/issue_comments_538933.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nSetting milestone to 9.6 now that 9.5 is out.",
    "created_at": "2022-01-30T15:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538933",
    "user": "https://github.com/slel"
}
```

<a id='comment:10'>Comment 10:</a>
Setting milestone to 9.6 now that 9.5 is out.



---

archive/issue_events_423574.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-13T10:17:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423574"
}
```



---

archive/issue_events_423575.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ab3995f29bd0229d66f28351c66ca1330f814f39",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-02-13T10:17:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33159#event-423575"
}
```



---

archive/issue_comments_538934.json:
```json
{
    "body": "Changed branch from **[u/dkrenn/ticket/33159](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/33159)** to **[0abe6bd](https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5)**",
    "created_at": "2022-02-13T10:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538934",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dkrenn/ticket/33159](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/ticket/33159)** to **[0abe6bd](https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5)**



---

archive/issue_comments_538935.json:
```json
{
    "body": "Changed commit from **[0abe6bd](https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5)** to none",
    "created_at": "2022-02-21T07:55:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538935",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[0abe6bd](https://github.com/sagemath/sagetrac-mirror/commit/0abe6bd78f82ec10ad041571be37c16fdf72fbf5)** to none



---

archive/issue_comments_538936.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nFollow-up in #33392",
    "created_at": "2022-02-21T07:55:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33159#issuecomment-538936",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'>Comment 12:</a>
Follow-up in #33392
