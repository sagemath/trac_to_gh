# Issue 33036: random doctest failure in src/sage/crypto/util.py

archive/issues_032799.json:
```json
{
    "body": "Part of #32544:\n\n```\nsage -t --long --random-seed=88125173308017227407627450515947596866 src/sage/crypto/util.py\n**********************************************************************\nFile \"src/sage/crypto/util.py\", line 359, in sage.crypto.util.carmichael_lambda\nFailed example:\n    P == ones\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n1 item had failures:\n   1 of  32 in sage.crypto.util.carmichael_lambda\n    [113 tests, 1 failure, 0.07 s]\n```\n(From a doctest in #32502.)\n\nBranch/Commit: 12e678a9070066d931a843240874518d465e0cc7\n\nReviewer: Michael Orlitzky\n\nAuthor: Lorenz Panny\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33036\n\n",
    "closed_at": "2022-01-01T00:23:05Z",
    "created_at": "2021-12-17T07:12:29Z",
    "labels": [
        "component: cryptography",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "random doctest failure in src/sage/crypto/util.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33036",
    "user": "https://github.com/yyyyx4"
}
```
Part of #32544:

```
sage -t --long --random-seed=88125173308017227407627450515947596866 src/sage/crypto/util.py
**********************************************************************
File "src/sage/crypto/util.py", line 359, in sage.crypto.util.carmichael_lambda
Failed example:
    P == ones
Expected:
    True
Got:
    False
**********************************************************************
1 item had failures:
   1 of  32 in sage.crypto.util.carmichael_lambda
    [113 tests, 1 failure, 0.07 s]
```
(From a doctest in #32502.)

Branch/Commit: 12e678a9070066d931a843240874518d465e0cc7

Reviewer: Michael Orlitzky

Author: Lorenz Panny

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33036





---

archive/issue_comments_650595.json:
```json
{
    "body": "Changing commit from \"\" to \"12e678a9070066d931a843240874518d465e0cc7\"",
    "created_at": "2021-12-17T07:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650595",
    "user": "https://github.com/yyyyx4"
}
```

Changing commit from "" to "12e678a9070066d931a843240874518d465e0cc7"



---

archive/issue_comments_650596.json:
```json
{
    "body": "Changing branch from \"\" to \"public/33036\"",
    "created_at": "2021-12-17T07:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650596",
    "user": "https://github.com/yyyyx4"
}
```

Changing branch from "" to "public/33036"



---

archive/issue_comments_650597.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-17T07:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650597",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_650598.json:
```json
{
    "body": "Changing author from \"\" to \"Lorenz Panny\"",
    "created_at": "2021-12-17T07:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650598",
    "user": "https://github.com/yyyyx4"
}
```

Changing author from "" to "Lorenz Panny"



---

archive/issue_comments_650599.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-20T13:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650599",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_650600.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Michael Orlitzky\"",
    "created_at": "2021-12-20T13:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650600",
    "user": "https://github.com/orlitzky"
}
```

Changing reviewer from "" to "Michael Orlitzky"



---

archive/issue_comments_650601.json:
```json
{
    "body": "<a id='comment:2'></a>\nLGTM, presumably working mod-1 messes things up?",
    "created_at": "2021-12-20T13:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650601",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>
LGTM, presumably working mod-1 messes things up?



---

archive/issue_comments_650602.json:
```json
{
    "body": "<a id='comment:3'></a>\nExactly, the test does something along the lines of `[power_mod(...,n) for ...] == [1,1,1,...]` which fails for `n==1` because the left side is all zeroes.",
    "created_at": "2021-12-21T03:37:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650602",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:3'></a>
Exactly, the test does something along the lines of `[power_mod(...,n) for ...] == [1,1,1,...]` which fails for `n==1` because the left side is all zeroes.



---

archive/issue_events_106109.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-01T00:23:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33036#event-106109"
}
```



---

archive/issue_comments_650603.json:
```json
{
    "body": "Changing branch from \"public/33036\" to \"12e678a9070066d931a843240874518d465e0cc7\"",
    "created_at": "2022-01-01T00:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650603",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/33036" to "12e678a9070066d931a843240874518d465e0cc7"



---

archive/issue_comments_650604.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-01T00:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33036",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33036#issuecomment-650604",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
