# Issue 33383: Replace all direct uses of SAGE_TMP within doctests

archive/issues_033146.json:
```json
{
    "assignees": [],
    "body": "Easy to review bulk changes, split out from #33213.\n\n\nCC:  @orlitzky @dimpase\n\nBranch/Commit: **[u/mkoeppe/replace_all_direct_uses_of_sage_tmp_within_the_sage_library_and_doctests](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/replace_all_direct_uses_of_sage_tmp_within_the_sage_library_and_doctests) @ [`9bcc16a`](https://github.com/sagemath/sagetrac-mirror/commit/9bcc16ae44201e025b6958446f730077f7b78565)**\n\nReviewer: **Dima Pasechnik**\n\nComponent: **refactoring**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33383_\n\n",
    "closed_at": "2022-08-02T06:31:03Z",
    "created_at": "2022-02-19T20:37:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid",
        "https://github.com/sagemath/sage/labels/refactoring"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Replace all direct uses of SAGE_TMP within doctests",
    "type": "issue",
    "updated_at": "2022-08-02T06:31:03Z",
    "url": "https://github.com/sagemath/sage/issues/33383",
    "user": "https://github.com/mkoeppe"
}
```
Easy to review bulk changes, split out from #33213.


CC:  @orlitzky @dimpase

Branch/Commit: **[u/mkoeppe/replace_all_direct_uses_of_sage_tmp_within_the_sage_library_and_doctests](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/replace_all_direct_uses_of_sage_tmp_within_the_sage_library_and_doctests) @ [`9bcc16a`](https://github.com/sagemath/sagetrac-mirror/commit/9bcc16ae44201e025b6958446f730077f7b78565)**

Reviewer: **Dima Pasechnik**

Component: **refactoring**

_Issue created by migration from https://trac.sagemath.org/ticket/33383_





---

archive/issue_events_461052.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-19T20:37:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461052"
}
```



---

archive/issue_events_461053.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-19T20:37:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461053"
}
```



---

archive/issue_events_461054.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-19T20:37:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461054"
}
```



---

archive/issue_events_461055.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-19T20:37:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461055"
}
```



---

archive/issue_events_461056.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-19T21:19:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "title_is": "Replace all direct uses of SAGE_TMP within doctests",
    "title_was": "Replace all direct uses of SAGE_TMP within the sage library and doctests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461056"
}
```



---

archive/issue_comments_539382.json:
```json
{
    "body": "Branch: **[u/mkoeppe/replace_all_direct_uses_of_sage_tmp_within_the_sage_library_and_doctests](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/replace_all_direct_uses_of_sage_tmp_within_the_sage_library_and_doctests)**",
    "created_at": "2022-02-19T21:21:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33383#issuecomment-539382",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/replace_all_direct_uses_of_sage_tmp_within_the_sage_library_and_doctests](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/replace_all_direct_uses_of_sage_tmp_within_the_sage_library_and_doctests)**



---

archive/issue_comments_539383.json:
```json
{
    "body": "Commit: **[`9bcc16a`](https://github.com/sagemath/sagetrac-mirror/commit/9bcc16ae44201e025b6958446f730077f7b78565)**",
    "created_at": "2022-02-20T02:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33383#issuecomment-539383",
    "user": "https://github.com/orlitzky"
}
```

Commit: **[`9bcc16a`](https://github.com/sagemath/sagetrac-mirror/commit/9bcc16ae44201e025b6958446f730077f7b78565)**



---

archive/issue_comments_539384.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nCan you give me a few days to work on this in #33213? I'm already planning to drop the removal of sage-cleaner (and the dependency on #8784) there, and to rebase it on your `sage_makedirs` branch, which I think will make this additional ticket redundant.\n\nI'd also like to go back and clean up some of the commit messages, and don't want to proceed without knowing if the tempfile usage can be simplified wrt cygwin.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/971b4687d4fbc1e09cec05e73112488937dd6df3\"><code>971b468</code></a></td><td><code>Trac #33213: replace SAGE_TMP in probability distribution doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c350feb84038231d54ac1dfda87a0ef1546d4d24\"><code>c350feb</code></a></td><td><code>Trac #33213: replace SAGE_TMP in plot doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af3949882f3bf413f9c69ce3ad6f382e8758f21e\"><code>af39498</code></a></td><td><code>Trac #33213: replace SAGE_TMP in GLPK graph backend doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f96b7f96baf91993a0a96c8b5e0871f9e45bc8a8\"><code>f96b7f9</code></a></td><td><code>Trac #33213: replace SAGE_TMP in R interface doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0b9f1e64d489eda0681e6f9cdad54a83834bade\"><code>e0b9f1e</code></a></td><td><code>Trac #33213: replace SAGE_TMP in object persistence doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/239569b089eaa0254e4f086a987000faef51212a\"><code>239569b</code></a></td><td><code>Trac #33213: replace SAGE_TMP in repl doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1b674a6ad0b47b2698d88ff2135150bb1971213\"><code>b1b674a</code></a></td><td><code>Trac #33213: replace SAGE_TMP in magma interface doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d21c03bb9a5d5f7696c8b993019a16f930faf1f\"><code>7d21c03</code></a></td><td><code>Trac #33213: replace SAGE_TMP in dist script doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11e88e0837376cd9b8652a4a2437c0e226337259\"><code>11e88e0</code></a></td><td><code>Trac #33213: replace SAGE_TMP in MIP doctests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9bcc16ae44201e025b6958446f730077f7b78565\"><code>9bcc16a</code></a></td><td><code>Trac #33213: replace SAGE_TMP in session doctests.</code></td></tr></table>\n",
    "created_at": "2022-02-20T02:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33383#issuecomment-539384",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:3" align="right">comment:3</div>

Can you give me a few days to work on this in #33213? I'm already planning to drop the removal of sage-cleaner (and the dependency on #8784) there, and to rebase it on your `sage_makedirs` branch, which I think will make this additional ticket redundant.

I'd also like to go back and clean up some of the commit messages, and don't want to proceed without knowing if the tempfile usage can be simplified wrt cygwin.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/971b4687d4fbc1e09cec05e73112488937dd6df3"><code>971b468</code></a></td><td><code>Trac #33213: replace SAGE_TMP in probability distribution doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c350feb84038231d54ac1dfda87a0ef1546d4d24"><code>c350feb</code></a></td><td><code>Trac #33213: replace SAGE_TMP in plot doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af3949882f3bf413f9c69ce3ad6f382e8758f21e"><code>af39498</code></a></td><td><code>Trac #33213: replace SAGE_TMP in GLPK graph backend doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f96b7f96baf91993a0a96c8b5e0871f9e45bc8a8"><code>f96b7f9</code></a></td><td><code>Trac #33213: replace SAGE_TMP in R interface doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0b9f1e64d489eda0681e6f9cdad54a83834bade"><code>e0b9f1e</code></a></td><td><code>Trac #33213: replace SAGE_TMP in object persistence doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/239569b089eaa0254e4f086a987000faef51212a"><code>239569b</code></a></td><td><code>Trac #33213: replace SAGE_TMP in repl doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1b674a6ad0b47b2698d88ff2135150bb1971213"><code>b1b674a</code></a></td><td><code>Trac #33213: replace SAGE_TMP in magma interface doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d21c03bb9a5d5f7696c8b993019a16f930faf1f"><code>7d21c03</code></a></td><td><code>Trac #33213: replace SAGE_TMP in dist script doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11e88e0837376cd9b8652a4a2437c0e226337259"><code>11e88e0</code></a></td><td><code>Trac #33213: replace SAGE_TMP in MIP doctests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9bcc16ae44201e025b6958446f730077f7b78565"><code>9bcc16a</code></a></td><td><code>Trac #33213: replace SAGE_TMP in session doctests.</code></td></tr></table>




---

archive/issue_comments_539385.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSure, there's no rush",
    "created_at": "2022-02-20T02:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33383#issuecomment-539385",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Sure, there's no rush



---

archive/issue_events_461057.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461057"
}
```



---

archive/issue_events_461058.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461058"
}
```



---

archive/issue_events_461059.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-07T01:07:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461059"
}
```



---

archive/issue_events_461060.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-07T01:07:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461060"
}
```



---

archive/issue_events_461061.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-07T01:07:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "c6c6c6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461061"
}
```



---

archive/issue_comments_539386.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nNo longer needed, as the full #33213 has been merged",
    "created_at": "2022-07-07T01:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33383#issuecomment-539386",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

No longer needed, as the full #33213 has been merged



---

archive/issue_events_461062.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-07T01:07:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461062"
}
```



---

archive/issue_comments_539387.json:
```json
{
    "body": "Changed author from **Michael Orlitzky** to none",
    "created_at": "2022-07-07T01:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33383#issuecomment-539387",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Michael Orlitzky** to none



---

archive/issue_comments_539388.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2022-07-07T12:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33383#issuecomment-539388",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_461063.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-07-07T12:09:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461063"
}
```



---

archive/issue_events_461064.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-07-07T12:09:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461064"
}
```



---

archive/issue_events_461065.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-02T06:31:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461065"
}
```



---

archive/issue_events_461066.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-02T06:31:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33383",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33383#event-461066"
}
```
