# Issue 33635: fixing the broken linter, again

archive/issues_033398.json:
```json
{
    "assignees": [],
    "body": "broken after #20343\n\nplus full pep8 for the fixed file\n\nCC:  @seblabbe\n\nComponent: **refactoring**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch: **[`2bd593f`](https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567)**\n\nReviewer: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/33635_\n\n",
    "closed_at": "2022-04-09T20:59:26Z",
    "created_at": "2022-04-03T08:09:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fixing the broken linter, again",
    "type": "issue",
    "updated_at": "2022-04-11T07:45:40Z",
    "url": "https://github.com/sagemath/sage/issues/33635",
    "user": "https://github.com/fchapoton"
}
```
broken after #20343

plus full pep8 for the fixed file

CC:  @seblabbe

Component: **refactoring**

Author: **Frédéric Chapoton**

Branch: **[`2bd593f`](https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567)**

Reviewer: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/33635_





---

archive/issue_events_458420.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-04-03T08:09:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458420"
}
```



---

archive/issue_events_458421.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-04-03T08:09:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458421"
}
```



---

archive/issue_events_458422.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-04-03T08:09:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458422"
}
```



---

archive/issue_events_458423.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-04-03T08:09:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458423"
}
```



---

archive/issue_comments_543388.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567\"><code>2bd593f</code></a></td><td><code>fix the linter once again</code></td></tr></table>\n",
    "created_at": "2022-04-03T08:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543388",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567"><code>2bd593f</code></a></td><td><code>fix the linter once again</code></td></tr></table>




---

archive/issue_comments_543389.json:
```json
{
    "body": "Branch: **[u/chapoton/33635](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33635)**",
    "created_at": "2022-04-03T08:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543389",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/33635](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33635)**



---

archive/issue_events_458424.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-04-03T08:10:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458424"
}
```



---

archive/issue_comments_543390.json:
```json
{
    "body": "Commit: **[`2bd593f`](https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567)**",
    "created_at": "2022-04-03T08:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543390",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`2bd593f`](https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567)**



---

archive/issue_events_458425.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-03T16:13:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458425"
}
```



---

archive/issue_events_458426.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-03T16:13:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458426"
}
```



---

archive/issue_comments_543391.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2022-04-03T16:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543391",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_458427.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-03T16:13:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458427"
}
```



---

archive/issue_events_458428.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-03T16:13:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458428"
}
```



---

archive/issue_comments_543392.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThank you Fr\u00e9d\u00e9ric for the fixes.\n\nIs `linter` the same as `pycodestyle`? I don't understand what \"broken linter\" mean. Is it something run on the patchbots?",
    "created_at": "2022-04-03T18:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543392",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:3" align="right">comment:3</div>

Thank you Frédéric for the fixes.

Is `linter` the same as `pycodestyle`? I don't understand what "broken linter" mean. Is it something run on the patchbots?



---

archive/issue_events_458429.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-09T20:59:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458429"
}
```



---

archive/issue_events_458430.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b2ddb07d71cd73d4d8afd1648d15bfb772bcf2a6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-04-09T20:59:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33635#event-458430"
}
```



---

archive/issue_comments_543393.json:
```json
{
    "body": "Changed branch from **[u/chapoton/33635](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33635)** to **[`2bd593f`](https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567)**",
    "created_at": "2022-04-09T20:59:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543393",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/33635](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33635)** to **[`2bd593f`](https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567)**



---

archive/issue_comments_543394.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@seblabbe](#comment%3A3):\n> Thank you Fr\u00e9d\u00e9ric for the fixes.\n> \n> Is `linter` the same as `pycodestyle`? I don't understand what \"broken linter\" mean. Is it something run on the patchbots?\n\nLe \"linter\" est la boite de gauche (intitul\u00e9e \"lint\") parmi les trois nouvelles boites de statut qui apparaissent sur chaque page de ticket dans trac \u00e0 cot\u00e9 du lien vers le patchbot. Si ce rectangle est vert, ca signifie que pycodestyle est content, plus pylint, et eventuellement pyright. Pour le moment, ca fait un peu doublon avec les plugins du patchbot, mais ca evolue independamment.",
    "created_at": "2022-04-10T07:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543394",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@seblabbe](#comment%3A3):
> Thank you Frédéric for the fixes.
> 
> Is `linter` the same as `pycodestyle`? I don't understand what "broken linter" mean. Is it something run on the patchbots?

Le "linter" est la boite de gauche (intitulée "lint") parmi les trois nouvelles boites de statut qui apparaissent sur chaque page de ticket dans trac à coté du lien vers le patchbot. Si ce rectangle est vert, ca signifie que pycodestyle est content, plus pylint, et eventuellement pyright. Pour le moment, ca fait un peu doublon avec les plugins du patchbot, mais ca evolue independamment.



---

archive/issue_comments_543395.json:
```json
{
    "body": "Changed commit from **[`2bd593f`](https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567)** to none",
    "created_at": "2022-04-10T07:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543395",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`2bd593f`](https://github.com/sagemath/sagetrac-mirror/commit/2bd593fdd7ad3a80c810180e67f1dbd5b152f567)** to none



---

archive/issue_comments_543396.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOk, merci pour l'explication!\n\nFr\u00e9d\u00e9ric, est-ce que tu voudrais jeter un coup d'oeil \u00e0 #33588? John a indiqu\u00e9 qu'il n'a pas le temps de faire le review en ce moment. Je pense que j'ai fait une bonne am\u00e9lioration du code qui v\u00e9rifie les doctests. C'est beaucoup plus lisibles maintenant. Aussi, \u00e7a corrige un bogue, car les warnings n'\u00e9taient pas ignor\u00e9s lorsque les tag `#tol` sont utilis\u00e9s.",
    "created_at": "2022-04-11T07:45:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/33635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33635#issuecomment-543396",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:6" align="right">comment:6</div>

Ok, merci pour l'explication!

Frédéric, est-ce que tu voudrais jeter un coup d'oeil à #33588? John a indiqué qu'il n'a pas le temps de faire le review en ce moment. Je pense que j'ai fait une bonne amélioration du code qui vérifie les doctests. C'est beaucoup plus lisibles maintenant. Aussi, ça corrige un bogue, car les warnings n'étaient pas ignorés lorsque les tag `#tol` sont utilisés.
