# Issue 33544: Use language_level=3 for Cython everywhere

archive/issues_033307.json:
```json
{
    "body": "We\n\n* switch the language level of cython from 3str to 3.\n\nThis should not change anything, as we are now using python3. We also\n\n* change the language level from 2 to 3 in specific pyx files,\n\nin a way not to break anything.\n\n---\n\nhttps://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str\n\n**CC:**  @tscrim @slel @kliem @kwankyu\n\n**Branch:** [762e0b75bdb7cc939a9d7b8223872abb3e00398e](https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e)\n\n**Reviewer:** Kwankyu Lee\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton, Jonathan Kliem\n\nIssue created by migration from https://trac.sagemath.org/ticket/33544\n\n",
    "closed_at": "2022-05-29T11:29:13Z",
    "created_at": "2022-03-21T19:17:56Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "title": "Use language_level=3 for Cython everywhere",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/33544",
    "user": "https://github.com/fchapoton"
}
```
We

* switch the language level of cython from 3str to 3.

This should not change anything, as we are now using python3. We also

* change the language level from 2 to 3 in specific pyx files,

in a way not to break anything.

---

https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str

**CC:**  @tscrim @slel @kliem @kwankyu

**Branch:** [762e0b75bdb7cc939a9d7b8223872abb3e00398e](https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e)

**Reviewer:** Kwankyu Lee

**Author:** Fr√©d√©ric Chapoton, Jonathan Kliem

Issue created by migration from https://trac.sagemath.org/ticket/33544





---

archive/issue_comments_544398.json:
```json
{
    "body": "**Branch:** [u/chapoton/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33544)",
    "created_at": "2022-03-21T19:18:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544398",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33544)



---

archive/issue_comments_544399.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28749876e56471d13635fb3d7c3700fc453c64ee\">2874987</a></td><td><code>use language_level=3 for cython</code></td></tr></table>\n",
    "created_at": "2022-03-21T19:18:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544399",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28749876e56471d13635fb3d7c3700fc453c64ee">2874987</a></td><td><code>use language_level=3 for cython</code></td></tr></table>




---

archive/issue_comments_544400.json:
```json
{
    "body": "**Commit:** [28749876e56471d13635fb3d7c3700fc453c64ee](https://github.com/sagemath/sagetrac-mirror/commit/28749876e56471d13635fb3d7c3700fc453c64ee)",
    "created_at": "2022-03-21T19:18:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544400",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [28749876e56471d13635fb3d7c3700fc453c64ee](https://github.com/sagemath/sagetrac-mirror/commit/28749876e56471d13635fb3d7c3700fc453c64ee)



---

archive/issue_events_300121.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-03-21T19:18:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300121"
}
```



---

archive/issue_comments_544401.json:
```json
{
    "body": "<a id='comment:2'></a>\nDescription please",
    "created_at": "2022-03-21T19:56:25Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544401",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Description please



---

archive/issue_comments_544402.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,9 @@\n+* switch the language level of cython from 3str to 3\n \n+This should not change anything, as we are now using python3.\n+\n+* also change the language level form 2 to 3 in two specific pyx files\n+\n+Not clear if this is going to change something or not.\n+\n+https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str\n``````\n",
    "created_at": "2022-03-21T20:04:15Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544402",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,9 @@
+* switch the language level of cython from 3str to 3
 
+This should not change anything, as we are now using python3.
+
+* also change the language level form 2 to 3 in two specific pyx files
+
+Not clear if this is going to change something or not.
+
+https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str
``````




---

archive/issue_events_300122.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-03-22T07:24:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300122"
}
```



---

archive/issue_events_300123.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-03-22T07:24:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300123"
}
```



---

archive/issue_comments_544403.json:
```json
{
    "body": "**Changing commit** from \"[28749876e56471d13635fb3d7c3700fc453c64ee](https://github.com/sagemath/sagetrac-mirror/commit/28749876e56471d13635fb3d7c3700fc453c64ee)\" to \"[b3409dcdb9d40e9ad12b0323137e260951139f53](https://github.com/sagemath/sagetrac-mirror/commit/b3409dcdb9d40e9ad12b0323137e260951139f53)\".",
    "created_at": "2022-03-22T10:43:45Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544403",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[28749876e56471d13635fb3d7c3700fc453c64ee](https://github.com/sagemath/sagetrac-mirror/commit/28749876e56471d13635fb3d7c3700fc453c64ee)" to "[b3409dcdb9d40e9ad12b0323137e260951139f53](https://github.com/sagemath/sagetrac-mirror/commit/b3409dcdb9d40e9ad12b0323137e260951139f53)".



---

archive/issue_comments_544404.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3409dcdb9d40e9ad12b0323137e260951139f53\">b3409dc</a></td><td><code>one fix in srange</code></td></tr></table>\n",
    "created_at": "2022-03-22T10:43:45Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3409dcdb9d40e9ad12b0323137e260951139f53">b3409dc</a></td><td><code>one fix in srange</code></td></tr></table>




---

archive/issue_comments_544405.json:
```json
{
    "body": "<a id='comment:6'></a>\nI reviewed my local patches and in addition to `sage/arith/srange.pyx` I found `# cython: language_level=3` also in\n\n`sage/numerical/mip.pyx`\n\n`sage/rings/finite_rings/integer_mod.pyx`\n\n`sage/graphs/bliss.pyx`",
    "created_at": "2022-03-22T12:56:49Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544405",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:6'></a>
I reviewed my local patches and in addition to `sage/arith/srange.pyx` I found `# cython: language_level=3` also in

`sage/numerical/mip.pyx`

`sage/rings/finite_rings/integer_mod.pyx`

`sage/graphs/bliss.pyx`



---

archive/issue_comments_544406.json:
```json
{
    "body": "<a id='comment:7'></a>\ngreen bot, so please review",
    "created_at": "2022-03-22T13:02:05Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544406",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
green bot, so please review



---

archive/issue_events_300124.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-03-22T13:02:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300124"
}
```



---

archive/issue_events_300125.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-03-22T13:02:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300125"
}
```



---

archive/issue_comments_544407.json:
```json
{
    "body": "<a id='comment:8'></a>\nby the way:\n\n```\ngit grep -c \"language_level\" src/\nsrc/sage/arith/srange.pyx:1\nsrc/sage/misc/cython.py:1\nsrc/sage/rings/finite_rings/integer_mod.pyx:1\nsrc/sage_setup/cython_options.py:1\n```",
    "created_at": "2022-03-22T13:27:56Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544407",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
by the way:

```
git grep -c "language_level" src/
src/sage/arith/srange.pyx:1
src/sage/misc/cython.py:1
src/sage/rings/finite_rings/integer_mod.pyx:1
src/sage_setup/cython_options.py:1
```



---

archive/issue_comments_544408.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [gh-sheerluck](#comment%3A6):\n> I reviewed my local patches and in addition to `sage/arith/srange.pyx` I found `# cython: language_level=3` also in\n> \n> `sage/numerical/mip.pyx`\n> \n> `sage/rings/finite_rings/integer_mod.pyx`\n> \n> `sage/graphs/bliss.pyx`\n\n\nThanks for the information. Does it mean that some other changes should be done here ?",
    "created_at": "2022-03-22T17:30:29Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544408",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
Replying to [gh-sheerluck](#comment%3A6):
> I reviewed my local patches and in addition to `sage/arith/srange.pyx` I found `# cython: language_level=3` also in
> 
> `sage/numerical/mip.pyx`
> 
> `sage/rings/finite_rings/integer_mod.pyx`
> 
> `sage/graphs/bliss.pyx`


Thanks for the information. Does it mean that some other changes should be done here ?



---

archive/issue_comments_544409.json:
```json
{
    "body": "<a id='comment:10'></a>\nand, by the way, should I remove the tags in specific pyx files, as they seem no longer to be needed ?",
    "created_at": "2022-03-23T08:28:35Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544409",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
and, by the way, should I remove the tags in specific pyx files, as they seem no longer to be needed ?



---

archive/issue_comments_544410.json:
```json
{
    "body": "<a id='comment:11'></a>\nopinions ?",
    "created_at": "2022-03-27T08:25:03Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544410",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
opinions ?



---

archive/issue_comments_544411.json:
```json
{
    "body": "<a id='comment:12'></a>\nSince they are no-ops, I think we should just remove them. Otherwise I don\u2019t really have any opinions on this beyond it is good to try and have less special cases for the language.",
    "created_at": "2022-03-27T10:41:23Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544411",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Since they are no-ops, I think we should just remove them. Otherwise I don‚Äôt really have any opinions on this beyond it is good to try and have less special cases for the language.



---

archive/issue_comments_544412.json:
```json
{
    "body": "**Changing commit** from \"[b3409dcdb9d40e9ad12b0323137e260951139f53](https://github.com/sagemath/sagetrac-mirror/commit/b3409dcdb9d40e9ad12b0323137e260951139f53)\" to \"[dfb509f45c372796e574915e5ba0117bcb3c122a](https://github.com/sagemath/sagetrac-mirror/commit/dfb509f45c372796e574915e5ba0117bcb3c122a)\".",
    "created_at": "2022-03-27T12:06:42Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b3409dcdb9d40e9ad12b0323137e260951139f53](https://github.com/sagemath/sagetrac-mirror/commit/b3409dcdb9d40e9ad12b0323137e260951139f53)" to "[dfb509f45c372796e574915e5ba0117bcb3c122a](https://github.com/sagemath/sagetrac-mirror/commit/dfb509f45c372796e574915e5ba0117bcb3c122a)".



---

archive/issue_comments_544413.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfb509f45c372796e574915e5ba0117bcb3c122a\">dfb509f</a></td><td><code>remove language level directive in srange</code></td></tr></table>\n",
    "created_at": "2022-03-27T12:06:42Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfb509f45c372796e574915e5ba0117bcb3c122a">dfb509f</a></td><td><code>remove language level directive in srange</code></td></tr></table>




---

archive/issue_comments_544414.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [chapoton](#comment%3A10):\n> and, by the way, should I remove the tags in specific pyx files, as they seem no longer to be needed ?\n\n\nYes. All of them.",
    "created_at": "2022-03-31T08:02:36Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544414",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:14'></a>
Replying to [chapoton](#comment%3A10):
> and, by the way, should I remove the tags in specific pyx files, as they seem no longer to be needed ?


Yes. All of them.



---

archive/issue_events_300126.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-03-31T08:06:45Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "rename": {
        "from": "use language_level=3 for cython",
        "to": "Use language_level=3 for Cython everywhere"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300126"
}
```



---

archive/issue_comments_544415.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,9 +1,13 @@\n-* switch the language level of cython from 3str to 3\n+We\n \n-This should not change anything, as we are now using python3.\n+* switch the language level of cython from 3str to 3.\n \n-* also change the language level form 2 to 3 in two specific pyx files\n+This should not change anything, as we are now using python3. We also\n \n-Not clear if this is going to change something or not.\n+* change the language level from 2 to 3 in specific pyx files,\n+\n+in a way not to break anything.\n+\n+---\n \n https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str\n``````\n",
    "created_at": "2022-03-31T08:12:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544415",
    "user": "https://github.com/kwankyu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,9 +1,13 @@
-* switch the language level of cython from 3str to 3
+We
 
-This should not change anything, as we are now using python3.
+* switch the language level of cython from 3str to 3.
 
-* also change the language level form 2 to 3 in two specific pyx files
+This should not change anything, as we are now using python3. We also
 
-Not clear if this is going to change something or not.
+* change the language level from 2 to 3 in specific pyx files,
+
+in a way not to break anything.
+
+---
 
 https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str
``````




---

archive/issue_events_300127.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-03-31T08:12:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300127"
}
```



---

archive/issue_events_300128.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-03-31T08:12:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300128"
}
```



---

archive/issue_comments_544416.json:
```json
{
    "body": "<a id='comment:17'></a>\nI think we should be more ambitious.",
    "created_at": "2022-03-31T08:13:43Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544416",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:17'></a>
I think we should be more ambitious.



---

archive/issue_comments_544417.json:
```json
{
    "body": "<a id='comment:18'></a>\n\ud83c\uddfa\ud83c\udde6\n\nwould you please explicitly tell us what you mean by \"more ambitious\" ?",
    "created_at": "2022-04-02T16:05:14Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544417",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
üá∫üá¶

would you please explicitly tell us what you mean by "more ambitious" ?



---

archive/issue_comments_544418.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [chapoton](#comment%3A18):\n> would you please explicitly tell us what you mean by \"more ambitious\" ?\n\n\nI just meant removing `language_level=2` from `sage/rings/finite_rings/integer_mod.pyx`, which seems more challenging. If not, it's better.",
    "created_at": "2022-04-03T11:01:42Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544418",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:19'></a>
Replying to [chapoton](#comment%3A18):
> would you please explicitly tell us what you mean by "more ambitious" ?


I just meant removing `language_level=2` from `sage/rings/finite_rings/integer_mod.pyx`, which seems more challenging. If not, it's better.



---

archive/issue_events_300129.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300129"
}
```



---

archive/issue_events_300130.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300130"
}
```



---

archive/issue_comments_544419.json:
```json
{
    "body": "**Changing commit** from \"[dfb509f45c372796e574915e5ba0117bcb3c122a](https://github.com/sagemath/sagetrac-mirror/commit/dfb509f45c372796e574915e5ba0117bcb3c122a)\" to \"[a2c02e58a397c7376ab54dcd4e3c563d5afe0e22](https://github.com/sagemath/sagetrac-mirror/commit/a2c02e58a397c7376ab54dcd4e3c563d5afe0e22)\".",
    "created_at": "2022-04-12T14:55:08Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dfb509f45c372796e574915e5ba0117bcb3c122a](https://github.com/sagemath/sagetrac-mirror/commit/dfb509f45c372796e574915e5ba0117bcb3c122a)" to "[a2c02e58a397c7376ab54dcd4e3c563d5afe0e22](https://github.com/sagemath/sagetrac-mirror/commit/a2c02e58a397c7376ab54dcd4e3c563d5afe0e22)".



---

archive/issue_comments_544420.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3413b3ee61f218b113235673905d5e8aa8e885e\">d3413b3</a></td><td><code>Merge branch 'u/chapoton/33544' in 9.6.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2c02e58a397c7376ab54dcd4e3c563d5afe0e22\">a2c02e5</a></td><td><code>set language_level to 3</code></td></tr></table>\n",
    "created_at": "2022-04-12T14:55:08Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3413b3ee61f218b113235673905d5e8aa8e885e">d3413b3</a></td><td><code>Merge branch 'u/chapoton/33544' in 9.6.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2c02e58a397c7376ab54dcd4e3c563d5afe0e22">a2c02e5</a></td><td><code>set language_level to 3</code></td></tr></table>




---

archive/issue_comments_544421.json:
```json
{
    "body": "<a id='comment:22'></a>\npatchbot reports a failing doctest in `src/sage/rings/finite_rings/integer_mod.pyx` that needs to be investigated",
    "created_at": "2022-04-12T18:25:07Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544421",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>
patchbot reports a failing doctest in `src/sage/rings/finite_rings/integer_mod.pyx` that needs to be investigated



---

archive/issue_comments_544422.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33544)\" to \"[u/gh-kliem/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/33544)\".",
    "created_at": "2022-04-13T14:17:09Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544422",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[u/chapoton/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33544)" to "[u/gh-kliem/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/33544)".



---

archive/issue_comments_544423.json:
```json
{
    "body": "<a id='comment:23'></a>\nFixed a naming issue. This wasn't an issue with `language_level=2`:\n\n```\nsage: cython('''\n....: # cython: language_level=2\n....: def foo(a):\n....:     return [a for a in range(2**a)]\n....: ''')\nsage: foo(1)\n[0, 1]\nsage: cython('''\n....: # cython: language_level=3\n....: def foo(a):\n....:     return [a for a in range(2**a)]\n....: ''')\nsage: foo(1)\n---------------------------------------------------------------------------\nUnboundLocalError                         Traceback (most recent call last)\n<ipython-input-10-16a3fe22adcc> in <module>\n----> 1 foo(Integer(1))\n\n/srv/public/kliem/.sage/temp/cofio/13070/spyx/_srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx/_srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx_0.pyx in _srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx_0.foo()\n      2 # cython: language_level=3\n      3 def foo(a):\n----> 4     return [a for a in range(2**a)]\n\nUnboundLocalError: local variable 'a' referenced before assignment\n```\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f753ebe069ec087c7bcd1f9ad17ebcc55604f75\">3f753eb</a></td><td><code>fixed a bug</code></td></tr></table>\n",
    "created_at": "2022-04-13T14:17:09Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544423",
    "user": "https://github.com/kliem"
}
```

<a id='comment:23'></a>
Fixed a naming issue. This wasn't an issue with `language_level=2`:

```
sage: cython('''
....: # cython: language_level=2
....: def foo(a):
....:     return [a for a in range(2**a)]
....: ''')
sage: foo(1)
[0, 1]
sage: cython('''
....: # cython: language_level=3
....: def foo(a):
....:     return [a for a in range(2**a)]
....: ''')
sage: foo(1)
---------------------------------------------------------------------------
UnboundLocalError                         Traceback (most recent call last)
<ipython-input-10-16a3fe22adcc> in <module>
----> 1 foo(Integer(1))

/srv/public/kliem/.sage/temp/cofio/13070/spyx/_srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx/_srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx_0.pyx in _srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx_0.foo()
      2 # cython: language_level=3
      3 def foo(a):
----> 4     return [a for a in range(2**a)]

UnboundLocalError: local variable 'a' referenced before assignment
```

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f753ebe069ec087c7bcd1f9ad17ebcc55604f75">3f753eb</a></td><td><code>fixed a bug</code></td></tr></table>




---

archive/issue_comments_544424.json:
```json
{
    "body": "**Changing commit** from \"[a2c02e58a397c7376ab54dcd4e3c563d5afe0e22](https://github.com/sagemath/sagetrac-mirror/commit/a2c02e58a397c7376ab54dcd4e3c563d5afe0e22)\" to \"[3f753ebe069ec087c7bcd1f9ad17ebcc55604f75](https://github.com/sagemath/sagetrac-mirror/commit/3f753ebe069ec087c7bcd1f9ad17ebcc55604f75)\".",
    "created_at": "2022-04-13T14:17:09Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544424",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[a2c02e58a397c7376ab54dcd4e3c563d5afe0e22](https://github.com/sagemath/sagetrac-mirror/commit/a2c02e58a397c7376ab54dcd4e3c563d5afe0e22)" to "[3f753ebe069ec087c7bcd1f9ad17ebcc55604f75](https://github.com/sagemath/sagetrac-mirror/commit/3f753ebe069ec087c7bcd1f9ad17ebcc55604f75)".



---

archive/issue_comments_544425.json:
```json
{
    "body": "**Changing author** from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Jonathan Kliem\".",
    "created_at": "2022-04-13T14:17:48Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544425",
    "user": "https://github.com/kliem"
}
```

**Changing author** from "Fr√©d√©ric Chapoton" to "Fr√©d√©ric Chapoton, Jonathan Kliem".



---

archive/issue_events_300131.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2022-04-13T14:17:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300131"
}
```



---

archive/issue_events_300132.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2022-04-13T14:17:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300132"
}
```



---

archive/issue_comments_544426.json:
```json
{
    "body": "<a id='comment:25'></a>\nthanks a lot for locating and fixing this subtle issue !\n\nThis should be good to go now. Agree to positive review ?",
    "created_at": "2022-04-13T18:06:25Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544426",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>
thanks a lot for locating and fixing this subtle issue !

This should be good to go now. Agree to positive review ?



---

archive/issue_events_300133.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-04-14T01:53:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300133"
}
```



---

archive/issue_events_300134.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-04-14T01:53:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300134"
}
```



---

archive/issue_comments_544427.json:
```json
{
    "body": "<a id='comment:26'></a>\nLGTM.",
    "created_at": "2022-04-14T01:53:07Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544427",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:26'></a>
LGTM.



---

archive/issue_comments_544428.json:
```json
{
    "body": "**Reviewer:** Kwankyu Lee",
    "created_at": "2022-04-14T01:53:07Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544428",
    "user": "https://github.com/kwankyu"
}
```

**Reviewer:** Kwankyu Lee



---

archive/issue_comments_544429.json:
```json
{
    "body": "<a id='comment:27'></a>\nI get lots of\n\n```\n[sagelib-9.6] Error compiling Cython file:\n[sagelib-9.6] ------------------------------------------------------------\n[sagelib-9.6] ...\n[sagelib-9.6]                          self.value, (<RealField_class>self._parent).rnd)\n[sagelib-9.6]         sig_off()\n[sagelib-9.6]         if s is NULL:\n[sagelib-9.6]             raise RuntimeError(\"unable to convert an mpfr number to a string\")\n[sagelib-9.6]         # t contains just digits (no sign, decimal point or exponent)\n[sagelib-9.6]         if s[0] == '-':\n[sagelib-9.6]                   ^\n[sagelib-9.6] ------------------------------------------------------------\n[sagelib-9.6] \n[sagelib-9.6] sage/rings/real_mpfr.pyx:2095:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n```",
    "created_at": "2022-05-18T22:35:10Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544429",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>
I get lots of

```
[sagelib-9.6] Error compiling Cython file:
[sagelib-9.6] ------------------------------------------------------------
[sagelib-9.6] ...
[sagelib-9.6]                          self.value, (<RealField_class>self._parent).rnd)
[sagelib-9.6]         sig_off()
[sagelib-9.6]         if s is NULL:
[sagelib-9.6]             raise RuntimeError("unable to convert an mpfr number to a string")
[sagelib-9.6]         # t contains just digits (no sign, decimal point or exponent)
[sagelib-9.6]         if s[0] == '-':
[sagelib-9.6]                   ^
[sagelib-9.6] ------------------------------------------------------------
[sagelib-9.6] 
[sagelib-9.6] sage/rings/real_mpfr.pyx:2095:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
```



---

archive/issue_events_300135.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-18T22:35:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300135"
}
```



---

archive/issue_events_300136.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-18T22:35:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300136"
}
```



---

archive/issue_comments_544430.json:
```json
{
    "body": "<a id='comment:28'></a>\n(ignore)",
    "created_at": "2022-05-18T22:59:50Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544430",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
(ignore)



---

archive/issue_comments_544431.json:
```json
{
    "body": "<a id='comment:29'></a>\nmaybe one needs to use `char_to_str` here, from\n\n```\nfrom sage.cpython.string cimport char_to_str\n```\n?",
    "created_at": "2022-05-19T08:34:19Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544431",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'></a>
maybe one needs to use `char_to_str` here, from

```
from sage.cpython.string cimport char_to_str
```
?



---

archive/issue_comments_544432.json:
```json
{
    "body": "<a id='comment:30'></a>\ncan somebody reproduce the issue ? no problem for my patchbot, using python 3.8.10",
    "created_at": "2022-05-19T12:15:00Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544432",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
can somebody reproduce the issue ? no problem for my patchbot, using python 3.8.10



---

archive/issue_comments_544433.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-kliem/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/33544)\" to \"[u/chapoton/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33544)\".",
    "created_at": "2022-05-24T17:48:05Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544433",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/gh-kliem/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/33544)" to "[u/chapoton/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33544)".



---

archive/issue_events_300137.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-24T17:48:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300137"
}
```



---

archive/issue_events_300138.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-05-24T17:48:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300138"
}
```



---

archive/issue_comments_544434.json:
```json
{
    "body": "<a id='comment:31'></a>\nhere is a proposal. Because I cannot see the failure, I cannot say if this fixes it..\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bb27cd5f70bb1d2bd4efc6f5f71287576c6ddc2\">5bb27cd</a></td><td><code>Merge branch 'u/gh-kliem/33544' in 9.7.beta0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c\">a4bc489</a></td><td><code>tentative fix for unicode in real_mpfr.pyx</code></td></tr></table>\n",
    "created_at": "2022-05-24T17:48:05Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544434",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
here is a proposal. Because I cannot see the failure, I cannot say if this fixes it..

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bb27cd5f70bb1d2bd4efc6f5f71287576c6ddc2">5bb27cd</a></td><td><code>Merge branch 'u/gh-kliem/33544' in 9.7.beta0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c">a4bc489</a></td><td><code>tentative fix for unicode in real_mpfr.pyx</code></td></tr></table>




---

archive/issue_comments_544435.json:
```json
{
    "body": "**Changing commit** from \"[3f753ebe069ec087c7bcd1f9ad17ebcc55604f75](https://github.com/sagemath/sagetrac-mirror/commit/3f753ebe069ec087c7bcd1f9ad17ebcc55604f75)\" to \"[a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c](https://github.com/sagemath/sagetrac-mirror/commit/a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c)\".",
    "created_at": "2022-05-24T17:48:05Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544435",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[3f753ebe069ec087c7bcd1f9ad17ebcc55604f75](https://github.com/sagemath/sagetrac-mirror/commit/3f753ebe069ec087c7bcd1f9ad17ebcc55604f75)" to "[a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c](https://github.com/sagemath/sagetrac-mirror/commit/a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c)".



---

archive/issue_comments_544436.json:
```json
{
    "body": "<a id='comment:32'></a>\nWith 9.7.beta0 on Mac, I get\n\n```\n[sagelib-9.7.beta0] Enabling Cython debugging support\n[sagelib-9.7.beta0] [  1/531] Cythonizing sage/misc/parser.pyx\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 elif s[pos] == '!':\n[sagelib-9.7.beta0]                     self.pos += 2\n[sagelib-9.7.beta0]                     return NOT_EQ\n[sagelib-9.7.beta0]                 elif s[pos] == '=':\n[sagelib-9.7.beta0]                     self.pos += 2\n[sagelib-9.7.beta0]                     return '='\n[sagelib-9.7.beta0]                           ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:275:27: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n```\n\nThis is part of a method that returns `int`. Hence it seems a genuine error.",
    "created_at": "2022-05-25T03:31:16Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544436",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:32'></a>
With 9.7.beta0 on Mac, I get

```
[sagelib-9.7.beta0] Enabling Cython debugging support
[sagelib-9.7.beta0] [  1/531] Cythonizing sage/misc/parser.pyx
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 elif s[pos] == '!':
[sagelib-9.7.beta0]                     self.pos += 2
[sagelib-9.7.beta0]                     return NOT_EQ
[sagelib-9.7.beta0]                 elif s[pos] == '=':
[sagelib-9.7.beta0]                     self.pos += 2
[sagelib-9.7.beta0]                     return '='
[sagelib-9.7.beta0]                           ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:275:27: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
```

This is part of a method that returns `int`. Hence it seems a genuine error.



---

archive/issue_comments_544437.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6fa671361dfa97e0013bf116bf00e675c7a264a\">d6fa671</a></td><td><code>fix in parser.pyx</code></td></tr></table>\n",
    "created_at": "2022-05-25T06:04:59Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544437",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6fa671361dfa97e0013bf116bf00e675c7a264a">d6fa671</a></td><td><code>fix in parser.pyx</code></td></tr></table>




---

archive/issue_comments_544438.json:
```json
{
    "body": "**Changing commit** from \"[a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c](https://github.com/sagemath/sagetrac-mirror/commit/a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c)\" to \"[d6fa671361dfa97e0013bf116bf00e675c7a264a](https://github.com/sagemath/sagetrac-mirror/commit/d6fa671361dfa97e0013bf116bf00e675c7a264a)\".",
    "created_at": "2022-05-25T06:04:59Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c](https://github.com/sagemath/sagetrac-mirror/commit/a4bc48934bdf3fd8a1e8fb1cb6cf24e7119ee58c)" to "[d6fa671361dfa97e0013bf116bf00e675c7a264a](https://github.com/sagemath/sagetrac-mirror/commit/d6fa671361dfa97e0013bf116bf00e675c7a264a)".



---

archive/issue_comments_544439.json:
```json
{
    "body": "<a id='comment:34'></a>\nThanks for the feedback. Here is another tentative fix. Please test and report.",
    "created_at": "2022-05-25T06:08:24Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544439",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'></a>
Thanks for the feedback. Here is another tentative fix. Please test and report.



---

archive/issue_comments_544440.json:
```json
{
    "body": "<a id='comment:35'></a>\nActually there are many more errors like that. How about on your platform? \n\n```python\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             [a 0]\n[sagelib-9.7.beta0]             [0 a]\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         if tokens.next() == '(':\n[sagelib-9.7.beta0]                            ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:612:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             [0 a]\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         if tokens.next() == '(':\n[sagelib-9.7.beta0]             token = ','\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:613:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         if tokens.next() == '(':\n[sagelib-9.7.beta0]             token = ','\n[sagelib-9.7.beta0]             while token == ',':\n[sagelib-9.7.beta0]                           ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:614:27: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             token = ','\n[sagelib-9.7.beta0]             while token == ',':\n[sagelib-9.7.beta0]                 all.append(self.p_list(tokens))\n[sagelib-9.7.beta0]                 token = tokens.next()\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]             if token == ')':\n[sagelib-9.7.beta0]                        ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:618:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             [[3, 0]]\n[sagelib-9.7.beta0]             sage: p.p_sequence(Tokenizer(\"(1,2,3) , [1+a, 2+b, (3+c), (4+d,)]\"))\n[sagelib-9.7.beta0]             [(1, 2, 3), [a + 1, b + 2, c + 3, (d + 4,)]]\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         cdef int token = ','\n[sagelib-9.7.beta0]                         ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:640:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             sage: p.p_sequence(Tokenizer(\"(1,2,3) , [1+a, 2+b, (3+c), (4+d,)]\"))\n[sagelib-9.7.beta0]             [(1, 2, 3), [a + 1, b + 2, c + 3, (d + 4,)]]\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         cdef int token = ','\n[sagelib-9.7.beta0]         while token == ',':\n[sagelib-9.7.beta0]                       ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:641:23: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 if tokens.peek() == c',':\n[sagelib-9.7.beta0]                     obj = self.integer_constructor(tokens.last_token_string())\n[sagelib-9.7.beta0]                 else:\n[sagelib-9.7.beta0]                     tokens.backtrack()\n[sagelib-9.7.beta0]                     obj = self.p_eqn(tokens)\n[sagelib-9.7.beta0]             elif token == '[':\n[sagelib-9.7.beta0]                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:654:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 else:\n[sagelib-9.7.beta0]                     tokens.backtrack()\n[sagelib-9.7.beta0]                     obj = self.p_eqn(tokens)\n[sagelib-9.7.beta0]             elif token == '[':\n[sagelib-9.7.beta0]                 obj = self.p_list(tokens)\n[sagelib-9.7.beta0]             elif token == '(':\n[sagelib-9.7.beta0]                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:656:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 obj = self.p_list(tokens)\n[sagelib-9.7.beta0]             elif token == '(':\n[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)\n[sagelib-9.7.beta0]             elif token == EOS:\n[sagelib-9.7.beta0]                 return all\n[sagelib-9.7.beta0]             elif token == ']' or token == ')':\n[sagelib-9.7.beta0]                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:660:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 obj = self.p_list(tokens)\n[sagelib-9.7.beta0]             elif token == '(':\n[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)\n[sagelib-9.7.beta0]             elif token == EOS:\n[sagelib-9.7.beta0]                 return all\n[sagelib-9.7.beta0]             elif token == ']' or token == ')':\n[sagelib-9.7.beta0]                                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:660:42: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             elif token == '(':\n[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)\n[sagelib-9.7.beta0]             elif token == EOS:\n[sagelib-9.7.beta0]                 return all\n[sagelib-9.7.beta0]             elif token == ']' or token == ')':\n[sagelib-9.7.beta0]                 tokens.token = ','\n[sagelib-9.7.beta0]                               ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:661:31: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             [3, 1000.0]\n[sagelib-9.7.beta0]             sage: p.p_list(Tokenizer(\"[]\"))\n[sagelib-9.7.beta0]             []\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token != '[':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:685:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token != '[':\n[sagelib-9.7.beta0]             self.parse_error(tokens, \"Malformed list\")\n[sagelib-9.7.beta0]         all = self.p_sequence(tokens)\n[sagelib-9.7.beta0]         token = tokens.next()\n[sagelib-9.7.beta0]         if token != ']':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:689:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             ((), 1, (1,), (1, 2), (1, 2, 3), 9)\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int start = tokens.pos\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         cdef bint real_tuple = True\n[sagelib-9.7.beta0]         if token != '(':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:707:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         all = self.p_sequence(tokens)\n[sagelib-9.7.beta0]         if len(all) == 1:\n[sagelib-9.7.beta0]             if tokens.last() != c',':\n[sagelib-9.7.beta0]                 real_tuple = False\n[sagelib-9.7.beta0]         token = tokens.next()\n[sagelib-9.7.beta0]         if token != ')':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:714:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             self.parse_error(tokens, \"Malformed tuple\")\n[sagelib-9.7.beta0]         if real_tuple:\n[sagelib-9.7.beta0]             return tuple(all)\n[sagelib-9.7.beta0]         else:\n[sagelib-9.7.beta0]             token = tokens.peek()\n[sagelib-9.7.beta0]             if token == ',' or token == EOS:\n[sagelib-9.7.beta0]                        ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:720:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             sage: p.p_eqn(Tokenizer(\"a != b\"))\n[sagelib-9.7.beta0]             a != b\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         lhs = self.p_expr(tokens)\n[sagelib-9.7.beta0]         cdef int op = tokens.next()\n[sagelib-9.7.beta0]         if op == '=':\n[sagelib-9.7.beta0]                 ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:756:17: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         cdef int op = tokens.next()\n[sagelib-9.7.beta0]         if op == '=':\n[sagelib-9.7.beta0]             return lhs == self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == NOT_EQ:\n[sagelib-9.7.beta0]             return lhs != self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == '<':\n[sagelib-9.7.beta0]                   ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:760:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             return lhs != self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == '<':\n[sagelib-9.7.beta0]             return lhs < self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == LESS_EQ:\n[sagelib-9.7.beta0]             return lhs <= self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == '>':\n[sagelib-9.7.beta0]                   ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:764:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse\n[sagelib-9.7.beta0]         cdef int op\n[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         while op == '+' or op == '-':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:796:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse\n[sagelib-9.7.beta0]         cdef int op\n[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         while op == '+' or op == '-':\n[sagelib-9.7.beta0]                                 ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:796:33: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         cdef int op\n[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         while op == '+' or op == '-':\n[sagelib-9.7.beta0]             operand2 = self.p_term(tokens)\n[sagelib-9.7.beta0]             if op == '+':\n[sagelib-9.7.beta0]                     ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:798:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse\n[sagelib-9.7.beta0]         cdef int op\n[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]             op = '*'\n[sagelib-9.7.beta0]                 ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:831:17: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]             op = '*'\n[sagelib-9.7.beta0]             tokens.backtrack()\n[sagelib-9.7.beta0]         while op == '*' or op == '/':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:833:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]             op = '*'\n[sagelib-9.7.beta0]             tokens.backtrack()\n[sagelib-9.7.beta0]         while op == '*' or op == '/':\n[sagelib-9.7.beta0]                                 ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:833:33: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]             op = '*'\n[sagelib-9.7.beta0]             tokens.backtrack()\n[sagelib-9.7.beta0]         while op == '*' or op == '/':\n[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)\n[sagelib-9.7.beta0]             if op == '*':\n[sagelib-9.7.beta0]                     ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:835:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 operand1 = operand1 * operand2\n[sagelib-9.7.beta0]             else:\n[sagelib-9.7.beta0]                 operand1 = operand1 / operand2\n[sagelib-9.7.beta0]             op = tokens.next()\n[sagelib-9.7.beta0]             if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]                 op = '*'\n[sagelib-9.7.beta0]                     ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:841:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             -t^2\n[sagelib-9.7.beta0]             sage: p.p_factor(Tokenizer(\"t^11 * x\"))\n[sagelib-9.7.beta0]             t^11\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == '+':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:865:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             t^11\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == '+':\n[sagelib-9.7.beta0]             return self.p_factor(tokens)\n[sagelib-9.7.beta0]         elif token == '-':\n[sagelib-9.7.beta0]                      ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:867:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             factorial(x)^2\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         operand1 = self.p_atom(tokens)\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == '^':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:901:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         operand1 = self.p_atom(tokens)\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == '^':\n[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)\n[sagelib-9.7.beta0]             return operand1 ** operand2\n[sagelib-9.7.beta0]         elif token == \"!\":\n[sagelib-9.7.beta0]                      ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:904:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)\n[sagelib-9.7.beta0]             return operand1 ** operand2\n[sagelib-9.7.beta0]         elif token == \"!\":\n[sagelib-9.7.beta0]             from sage.functions.all import factorial\n[sagelib-9.7.beta0]             operand1 = factorial(operand1)\n[sagelib-9.7.beta0]             if tokens.peek() == '^':\n[sagelib-9.7.beta0]                                ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:907:32: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         elif token == FLOAT:\n[sagelib-9.7.beta0]             return self.float_constructor(tokens.last_token_string())\n[sagelib-9.7.beta0]         elif token == NAME:\n[sagelib-9.7.beta0]             name = tokens.last_token_string()\n[sagelib-9.7.beta0]             token = tokens.next()\n[sagelib-9.7.beta0]             if token == '(':\n[sagelib-9.7.beta0]                        ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:952:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             token = tokens.next()\n[sagelib-9.7.beta0]             if token == '(':\n[sagelib-9.7.beta0]                 func = self.callable_constructor(name)\n[sagelib-9.7.beta0]                 args, kwds = self.p_args(tokens)\n[sagelib-9.7.beta0]                 token = tokens.next()\n[sagelib-9.7.beta0]                 if token != ')':\n[sagelib-9.7.beta0]                            ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:956:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                     self.parse_error(tokens, \"Bad function call\")\n[sagelib-9.7.beta0]                 return func(*args, **kwds)\n[sagelib-9.7.beta0]             else:\n[sagelib-9.7.beta0]                 tokens.backtrack()\n[sagelib-9.7.beta0]                 return self.variable_constructor(name)\n[sagelib-9.7.beta0]         elif token == '(':\n[sagelib-9.7.beta0]                      ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:962:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 tokens.backtrack()\n[sagelib-9.7.beta0]                 return self.variable_constructor(name)\n[sagelib-9.7.beta0]         elif token == '(':\n[sagelib-9.7.beta0]             expr = self.p_expr(tokens)\n[sagelib-9.7.beta0]             token = tokens.next()\n[sagelib-9.7.beta0]             if token != ')':\n[sagelib-9.7.beta0]                        ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:965:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             sage: p.p_args(Tokenizer(\"1, 2, a = 1+5^2\"))\n[sagelib-9.7.beta0]             ([1, 2], {'a': 26})\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         args = []\n[sagelib-9.7.beta0]         kwds = {}\n[sagelib-9.7.beta0]         if tokens.peek() == ')':\n[sagelib-9.7.beta0]                            ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:987:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         args = []\n[sagelib-9.7.beta0]         kwds = {}\n[sagelib-9.7.beta0]         if tokens.peek() == ')':\n[sagelib-9.7.beta0]             return args, kwds\n[sagelib-9.7.beta0]         cdef int token = ','\n[sagelib-9.7.beta0]                         ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:989:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         args = []\n[sagelib-9.7.beta0]         kwds = {}\n[sagelib-9.7.beta0]         if tokens.peek() == ')':\n[sagelib-9.7.beta0]             return args, kwds\n[sagelib-9.7.beta0]         cdef int token = ','\n[sagelib-9.7.beta0]         while token == ',':\n[sagelib-9.7.beta0]                       ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:990:23: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             sage: p.p_arg(Tokenizer(\"[x]\"))\n[sagelib-9.7.beta0]             [x]\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == NAME and tokens.peek() == '=':\n[sagelib-9.7.beta0]                                              ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:1032:46: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == NAME and tokens.peek() == '=':\n[sagelib-9.7.beta0]             name = tokens.last_token_string()\n[sagelib-9.7.beta0]             tokens.next()\n[sagelib-9.7.beta0]             return name, self.p_expr(tokens)\n[sagelib-9.7.beta0]         if token == \"[\" :\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:1036:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] Traceback (most recent call last):\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1274, in cythonize_one_helper\n[sagelib-9.7.beta0]     return cythonize_one(*m)\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1250, in cythonize_one\n[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)\n[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/misc/parser.pyx\n[sagelib-9.7.beta0] [  3/531] Cythonizing sage/rings/real_mpfi.pyx\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         # the right of the last mantissa digit (that is, so the number\n[sagelib-9.7.beta0]         # is mantissa*base^exponent, if you interpret mantissa as an integer).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]         cdef long digits\n[sagelib-9.7.beta0]         digits = strlen(lower_s)\n[sagelib-9.7.beta0]         if lower_s[0] == '-':\n[sagelib-9.7.beta0]                         ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:1946:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         if lower_s[0] == '-':\n[sagelib-9.7.beta0]             digits -= 1\n[sagelib-9.7.beta0]         lower_expo -= digits\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]         digits = strlen(upper_s)\n[sagelib-9.7.beta0]         if upper_s[0] == '-':\n[sagelib-9.7.beta0]                         ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:1951:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         tmp_cstr = <char *>PyMem_Malloc(mpz_sizeinbase(lower_mpz, base) + 2)\n[sagelib-9.7.beta0]         if tmp_cstr == NULL:\n[sagelib-9.7.beta0]             raise MemoryError(\"Unable to allocate memory for the mantissa of an interval\")\n[sagelib-9.7.beta0]         mpz_get_str(tmp_cstr, base, lower_mpz)\n[sagelib-9.7.beta0]         digits = strlen(tmp_cstr)\n[sagelib-9.7.beta0]         if tmp_cstr[0] == '-':\n[sagelib-9.7.beta0]                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:2120:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]     while x[0] == c' ':\n[sagelib-9.7.beta0]         x += 1  # Strip spaces\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]     # Disallow a sign here\n[sagelib-9.7.beta0]     if x[0] == '-' or x[0] == '+':\n[sagelib-9.7.beta0]               ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/integer.pyx:7102:15: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]     while x[0] == c' ':\n[sagelib-9.7.beta0]         x += 1  # Strip spaces\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]     # Disallow a sign here\n[sagelib-9.7.beta0]     if x[0] == '-' or x[0] == '+':\n[sagelib-9.7.beta0]                              ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/integer.pyx:7102:30: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] Traceback (most recent call last):\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1274, in cythonize_one_helper\n[sagelib-9.7.beta0]     return cythonize_one(*m)\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1250, in cythonize_one\n[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)\n[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/rings/real_mpfi.pyx\n[sagelib-9.7.beta0] [  4/531] Cythonizing sage/symbolic/expression.pyx\n[sagelib-9.7.beta0] Traceback (most recent call last):\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1274, in cythonize_one_helper\n[sagelib-9.7.beta0]     return cythonize_one(*m)\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1250, in cythonize_one\n[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)\n[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/rings/integer.pyx\n[sagelib-9.7.beta0] [  5/531] Cythonizing sage/arith/functions.pyx\n[sagelib-9.7.beta0] [  6/531] Cythonizing sage/arith/power.pyx\n[sagelib-9.7.beta0] [  7/531] Cythonizing sage/arith/rational_reconstruction.pyx\n[sagelib-9.7.beta0] [  8/531] Cythonizing sage/arith/srange.pyx\n[sagelib-9.7.beta0] [  9/531] Cythonizing sage/calculus/integration.pyx\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             2^5\n[sagelib-9.7.beta0]             sage: hold.__exit__()\n[sagelib-9.7.beta0]             sage: SR(2)^5\n[sagelib-9.7.beta0]             32\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         g_set_state('hold', True)\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/symbolic/expression.pyx:14075:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             2^5\n[sagelib-9.7.beta0]             sage: hold.__exit__()\n[sagelib-9.7.beta0]             sage: SR(2)^5\n[sagelib-9.7.beta0]             32\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         g_set_state('hold', False)\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/symbolic/expression.pyx:14088:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] Traceback (most recent call last):\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1274, in cythonize_one_helper\n[sagelib-9.7.beta0]     return cythonize_one(*m)\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1250, in cythonize_one\n[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)\n[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/symbolic/expression.pyx\n```",
    "created_at": "2022-05-25T08:13:09Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544440",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:35'></a>
Actually there are many more errors like that. How about on your platform? 

```python
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             [a 0]
[sagelib-9.7.beta0]             [0 a]
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         if tokens.next() == '(':
[sagelib-9.7.beta0]                            ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:612:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             [0 a]
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         if tokens.next() == '(':
[sagelib-9.7.beta0]             token = ','
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:613:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         if tokens.next() == '(':
[sagelib-9.7.beta0]             token = ','
[sagelib-9.7.beta0]             while token == ',':
[sagelib-9.7.beta0]                           ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:614:27: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             token = ','
[sagelib-9.7.beta0]             while token == ',':
[sagelib-9.7.beta0]                 all.append(self.p_list(tokens))
[sagelib-9.7.beta0]                 token = tokens.next()
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]             if token == ')':
[sagelib-9.7.beta0]                        ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:618:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             [[3, 0]]
[sagelib-9.7.beta0]             sage: p.p_sequence(Tokenizer("(1,2,3) , [1+a, 2+b, (3+c), (4+d,)]"))
[sagelib-9.7.beta0]             [(1, 2, 3), [a + 1, b + 2, c + 3, (d + 4,)]]
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         cdef int token = ','
[sagelib-9.7.beta0]                         ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:640:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             sage: p.p_sequence(Tokenizer("(1,2,3) , [1+a, 2+b, (3+c), (4+d,)]"))
[sagelib-9.7.beta0]             [(1, 2, 3), [a + 1, b + 2, c + 3, (d + 4,)]]
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         cdef int token = ','
[sagelib-9.7.beta0]         while token == ',':
[sagelib-9.7.beta0]                       ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:641:23: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 if tokens.peek() == c',':
[sagelib-9.7.beta0]                     obj = self.integer_constructor(tokens.last_token_string())
[sagelib-9.7.beta0]                 else:
[sagelib-9.7.beta0]                     tokens.backtrack()
[sagelib-9.7.beta0]                     obj = self.p_eqn(tokens)
[sagelib-9.7.beta0]             elif token == '[':
[sagelib-9.7.beta0]                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:654:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 else:
[sagelib-9.7.beta0]                     tokens.backtrack()
[sagelib-9.7.beta0]                     obj = self.p_eqn(tokens)
[sagelib-9.7.beta0]             elif token == '[':
[sagelib-9.7.beta0]                 obj = self.p_list(tokens)
[sagelib-9.7.beta0]             elif token == '(':
[sagelib-9.7.beta0]                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:656:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 obj = self.p_list(tokens)
[sagelib-9.7.beta0]             elif token == '(':
[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)
[sagelib-9.7.beta0]             elif token == EOS:
[sagelib-9.7.beta0]                 return all
[sagelib-9.7.beta0]             elif token == ']' or token == ')':
[sagelib-9.7.beta0]                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:660:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 obj = self.p_list(tokens)
[sagelib-9.7.beta0]             elif token == '(':
[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)
[sagelib-9.7.beta0]             elif token == EOS:
[sagelib-9.7.beta0]                 return all
[sagelib-9.7.beta0]             elif token == ']' or token == ')':
[sagelib-9.7.beta0]                                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:660:42: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             elif token == '(':
[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)
[sagelib-9.7.beta0]             elif token == EOS:
[sagelib-9.7.beta0]                 return all
[sagelib-9.7.beta0]             elif token == ']' or token == ')':
[sagelib-9.7.beta0]                 tokens.token = ','
[sagelib-9.7.beta0]                               ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:661:31: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             [3, 1000.0]
[sagelib-9.7.beta0]             sage: p.p_list(Tokenizer("[]"))
[sagelib-9.7.beta0]             []
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token != '[':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:685:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token != '[':
[sagelib-9.7.beta0]             self.parse_error(tokens, "Malformed list")
[sagelib-9.7.beta0]         all = self.p_sequence(tokens)
[sagelib-9.7.beta0]         token = tokens.next()
[sagelib-9.7.beta0]         if token != ']':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:689:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             ((), 1, (1,), (1, 2), (1, 2, 3), 9)
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int start = tokens.pos
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         cdef bint real_tuple = True
[sagelib-9.7.beta0]         if token != '(':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:707:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         all = self.p_sequence(tokens)
[sagelib-9.7.beta0]         if len(all) == 1:
[sagelib-9.7.beta0]             if tokens.last() != c',':
[sagelib-9.7.beta0]                 real_tuple = False
[sagelib-9.7.beta0]         token = tokens.next()
[sagelib-9.7.beta0]         if token != ')':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:714:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             self.parse_error(tokens, "Malformed tuple")
[sagelib-9.7.beta0]         if real_tuple:
[sagelib-9.7.beta0]             return tuple(all)
[sagelib-9.7.beta0]         else:
[sagelib-9.7.beta0]             token = tokens.peek()
[sagelib-9.7.beta0]             if token == ',' or token == EOS:
[sagelib-9.7.beta0]                        ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:720:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             sage: p.p_eqn(Tokenizer("a != b"))
[sagelib-9.7.beta0]             a != b
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         lhs = self.p_expr(tokens)
[sagelib-9.7.beta0]         cdef int op = tokens.next()
[sagelib-9.7.beta0]         if op == '=':
[sagelib-9.7.beta0]                 ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:756:17: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         cdef int op = tokens.next()
[sagelib-9.7.beta0]         if op == '=':
[sagelib-9.7.beta0]             return lhs == self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == NOT_EQ:
[sagelib-9.7.beta0]             return lhs != self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == '<':
[sagelib-9.7.beta0]                   ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:760:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             return lhs != self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == '<':
[sagelib-9.7.beta0]             return lhs < self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == LESS_EQ:
[sagelib-9.7.beta0]             return lhs <= self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == '>':
[sagelib-9.7.beta0]                   ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:764:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse
[sagelib-9.7.beta0]         cdef int op
[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         while op == '+' or op == '-':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:796:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse
[sagelib-9.7.beta0]         cdef int op
[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         while op == '+' or op == '-':
[sagelib-9.7.beta0]                                 ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:796:33: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         cdef int op
[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         while op == '+' or op == '-':
[sagelib-9.7.beta0]             operand2 = self.p_term(tokens)
[sagelib-9.7.beta0]             if op == '+':
[sagelib-9.7.beta0]                     ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:798:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse
[sagelib-9.7.beta0]         cdef int op
[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]             op = '*'
[sagelib-9.7.beta0]                 ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:831:17: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]             op = '*'
[sagelib-9.7.beta0]             tokens.backtrack()
[sagelib-9.7.beta0]         while op == '*' or op == '/':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:833:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]             op = '*'
[sagelib-9.7.beta0]             tokens.backtrack()
[sagelib-9.7.beta0]         while op == '*' or op == '/':
[sagelib-9.7.beta0]                                 ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:833:33: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]             op = '*'
[sagelib-9.7.beta0]             tokens.backtrack()
[sagelib-9.7.beta0]         while op == '*' or op == '/':
[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)
[sagelib-9.7.beta0]             if op == '*':
[sagelib-9.7.beta0]                     ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:835:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 operand1 = operand1 * operand2
[sagelib-9.7.beta0]             else:
[sagelib-9.7.beta0]                 operand1 = operand1 / operand2
[sagelib-9.7.beta0]             op = tokens.next()
[sagelib-9.7.beta0]             if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]                 op = '*'
[sagelib-9.7.beta0]                     ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:841:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             -t^2
[sagelib-9.7.beta0]             sage: p.p_factor(Tokenizer("t^11 * x"))
[sagelib-9.7.beta0]             t^11
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == '+':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:865:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             t^11
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == '+':
[sagelib-9.7.beta0]             return self.p_factor(tokens)
[sagelib-9.7.beta0]         elif token == '-':
[sagelib-9.7.beta0]                      ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:867:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             factorial(x)^2
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         operand1 = self.p_atom(tokens)
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == '^':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:901:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         operand1 = self.p_atom(tokens)
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == '^':
[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)
[sagelib-9.7.beta0]             return operand1 ** operand2
[sagelib-9.7.beta0]         elif token == "!":
[sagelib-9.7.beta0]                      ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:904:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)
[sagelib-9.7.beta0]             return operand1 ** operand2
[sagelib-9.7.beta0]         elif token == "!":
[sagelib-9.7.beta0]             from sage.functions.all import factorial
[sagelib-9.7.beta0]             operand1 = factorial(operand1)
[sagelib-9.7.beta0]             if tokens.peek() == '^':
[sagelib-9.7.beta0]                                ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:907:32: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         elif token == FLOAT:
[sagelib-9.7.beta0]             return self.float_constructor(tokens.last_token_string())
[sagelib-9.7.beta0]         elif token == NAME:
[sagelib-9.7.beta0]             name = tokens.last_token_string()
[sagelib-9.7.beta0]             token = tokens.next()
[sagelib-9.7.beta0]             if token == '(':
[sagelib-9.7.beta0]                        ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:952:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             token = tokens.next()
[sagelib-9.7.beta0]             if token == '(':
[sagelib-9.7.beta0]                 func = self.callable_constructor(name)
[sagelib-9.7.beta0]                 args, kwds = self.p_args(tokens)
[sagelib-9.7.beta0]                 token = tokens.next()
[sagelib-9.7.beta0]                 if token != ')':
[sagelib-9.7.beta0]                            ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:956:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                     self.parse_error(tokens, "Bad function call")
[sagelib-9.7.beta0]                 return func(*args, **kwds)
[sagelib-9.7.beta0]             else:
[sagelib-9.7.beta0]                 tokens.backtrack()
[sagelib-9.7.beta0]                 return self.variable_constructor(name)
[sagelib-9.7.beta0]         elif token == '(':
[sagelib-9.7.beta0]                      ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:962:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 tokens.backtrack()
[sagelib-9.7.beta0]                 return self.variable_constructor(name)
[sagelib-9.7.beta0]         elif token == '(':
[sagelib-9.7.beta0]             expr = self.p_expr(tokens)
[sagelib-9.7.beta0]             token = tokens.next()
[sagelib-9.7.beta0]             if token != ')':
[sagelib-9.7.beta0]                        ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:965:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             sage: p.p_args(Tokenizer("1, 2, a = 1+5^2"))
[sagelib-9.7.beta0]             ([1, 2], {'a': 26})
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         args = []
[sagelib-9.7.beta0]         kwds = {}
[sagelib-9.7.beta0]         if tokens.peek() == ')':
[sagelib-9.7.beta0]                            ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:987:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         args = []
[sagelib-9.7.beta0]         kwds = {}
[sagelib-9.7.beta0]         if tokens.peek() == ')':
[sagelib-9.7.beta0]             return args, kwds
[sagelib-9.7.beta0]         cdef int token = ','
[sagelib-9.7.beta0]                         ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:989:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         args = []
[sagelib-9.7.beta0]         kwds = {}
[sagelib-9.7.beta0]         if tokens.peek() == ')':
[sagelib-9.7.beta0]             return args, kwds
[sagelib-9.7.beta0]         cdef int token = ','
[sagelib-9.7.beta0]         while token == ',':
[sagelib-9.7.beta0]                       ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:990:23: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             sage: p.p_arg(Tokenizer("[x]"))
[sagelib-9.7.beta0]             [x]
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == NAME and tokens.peek() == '=':
[sagelib-9.7.beta0]                                              ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:1032:46: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == NAME and tokens.peek() == '=':
[sagelib-9.7.beta0]             name = tokens.last_token_string()
[sagelib-9.7.beta0]             tokens.next()
[sagelib-9.7.beta0]             return name, self.p_expr(tokens)
[sagelib-9.7.beta0]         if token == "[" :
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:1036:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] Traceback (most recent call last):
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1274, in cythonize_one_helper
[sagelib-9.7.beta0]     return cythonize_one(*m)
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1250, in cythonize_one
[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)
[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/misc/parser.pyx
[sagelib-9.7.beta0] [  3/531] Cythonizing sage/rings/real_mpfi.pyx
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         # the right of the last mantissa digit (that is, so the number
[sagelib-9.7.beta0]         # is mantissa*base^exponent, if you interpret mantissa as an integer).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]         cdef long digits
[sagelib-9.7.beta0]         digits = strlen(lower_s)
[sagelib-9.7.beta0]         if lower_s[0] == '-':
[sagelib-9.7.beta0]                         ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:1946:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         if lower_s[0] == '-':
[sagelib-9.7.beta0]             digits -= 1
[sagelib-9.7.beta0]         lower_expo -= digits
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]         digits = strlen(upper_s)
[sagelib-9.7.beta0]         if upper_s[0] == '-':
[sagelib-9.7.beta0]                         ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:1951:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         tmp_cstr = <char *>PyMem_Malloc(mpz_sizeinbase(lower_mpz, base) + 2)
[sagelib-9.7.beta0]         if tmp_cstr == NULL:
[sagelib-9.7.beta0]             raise MemoryError("Unable to allocate memory for the mantissa of an interval")
[sagelib-9.7.beta0]         mpz_get_str(tmp_cstr, base, lower_mpz)
[sagelib-9.7.beta0]         digits = strlen(tmp_cstr)
[sagelib-9.7.beta0]         if tmp_cstr[0] == '-':
[sagelib-9.7.beta0]                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:2120:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]     while x[0] == c' ':
[sagelib-9.7.beta0]         x += 1  # Strip spaces
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]     # Disallow a sign here
[sagelib-9.7.beta0]     if x[0] == '-' or x[0] == '+':
[sagelib-9.7.beta0]               ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/integer.pyx:7102:15: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]     while x[0] == c' ':
[sagelib-9.7.beta0]         x += 1  # Strip spaces
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]     # Disallow a sign here
[sagelib-9.7.beta0]     if x[0] == '-' or x[0] == '+':
[sagelib-9.7.beta0]                              ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/integer.pyx:7102:30: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] Traceback (most recent call last):
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1274, in cythonize_one_helper
[sagelib-9.7.beta0]     return cythonize_one(*m)
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1250, in cythonize_one
[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)
[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/rings/real_mpfi.pyx
[sagelib-9.7.beta0] [  4/531] Cythonizing sage/symbolic/expression.pyx
[sagelib-9.7.beta0] Traceback (most recent call last):
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1274, in cythonize_one_helper
[sagelib-9.7.beta0]     return cythonize_one(*m)
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1250, in cythonize_one
[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)
[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/rings/integer.pyx
[sagelib-9.7.beta0] [  5/531] Cythonizing sage/arith/functions.pyx
[sagelib-9.7.beta0] [  6/531] Cythonizing sage/arith/power.pyx
[sagelib-9.7.beta0] [  7/531] Cythonizing sage/arith/rational_reconstruction.pyx
[sagelib-9.7.beta0] [  8/531] Cythonizing sage/arith/srange.pyx
[sagelib-9.7.beta0] [  9/531] Cythonizing sage/calculus/integration.pyx
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             2^5
[sagelib-9.7.beta0]             sage: hold.__exit__()
[sagelib-9.7.beta0]             sage: SR(2)^5
[sagelib-9.7.beta0]             32
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         g_set_state('hold', True)
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/symbolic/expression.pyx:14075:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             2^5
[sagelib-9.7.beta0]             sage: hold.__exit__()
[sagelib-9.7.beta0]             sage: SR(2)^5
[sagelib-9.7.beta0]             32
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         g_set_state('hold', False)
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/symbolic/expression.pyx:14088:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] Traceback (most recent call last):
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1274, in cythonize_one_helper
[sagelib-9.7.beta0]     return cythonize_one(*m)
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1250, in cythonize_one
[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)
[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/symbolic/expression.pyx
```



---

archive/issue_comments_544441.json:
```json
{
    "body": "<a id='comment:36'></a>\nAs I said before, I do not see any of these errors on my platform. So it would be much better if someone that does see these errors would take the lead here.",
    "created_at": "2022-05-25T14:12:02Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544441",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:36'></a>
As I said before, I do not see any of these errors on my platform. So it would be much better if someone that does see these errors would take the lead here.



---

archive/issue_comments_544442.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [chapoton](#comment%3A36):\n> As I said before, I do not see any of these errors on my platform. So it would be much better if someone that does see these errors would take the lead here.\n\n\nFirst it should be confirmed that whether these errors depend on platforms. If you don't do clean build, you won't see these errors. Did you do clean build, that is, from scratch? Or do we have different Cython and Python? I have cython-0.29.28 and python-3.9.12.",
    "created_at": "2022-05-26T00:14:03Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544442",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:37'></a>
Replying to [chapoton](#comment%3A36):
> As I said before, I do not see any of these errors on my platform. So it would be much better if someone that does see these errors would take the lead here.


First it should be confirmed that whether these errors depend on platforms. If you don't do clean build, you won't see these errors. Did you do clean build, that is, from scratch? Or do we have different Cython and Python? I have cython-0.29.28 and python-3.9.12.



---

archive/issue_comments_544443.json:
```json
{
    "body": "<a id='comment:38'></a>\nReference: https://cython.readthedocs.io/en/latest/src/tutorial/strings.html",
    "created_at": "2022-05-26T00:18:18Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544443",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:38'></a>
Reference: https://cython.readthedocs.io/en/latest/src/tutorial/strings.html



---

archive/issue_comments_544444.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18f2746ad0bad21d300dc366a3cabc0505d58eae\">18f2746</a></td><td><code>more fixes</code></td></tr></table>\n",
    "created_at": "2022-05-26T07:43:18Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18f2746ad0bad21d300dc366a3cabc0505d58eae">18f2746</a></td><td><code>more fixes</code></td></tr></table>




---

archive/issue_comments_544445.json:
```json
{
    "body": "**Changing commit** from \"[d6fa671361dfa97e0013bf116bf00e675c7a264a](https://github.com/sagemath/sagetrac-mirror/commit/d6fa671361dfa97e0013bf116bf00e675c7a264a)\" to \"[18f2746ad0bad21d300dc366a3cabc0505d58eae](https://github.com/sagemath/sagetrac-mirror/commit/18f2746ad0bad21d300dc366a3cabc0505d58eae)\".",
    "created_at": "2022-05-26T07:43:18Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544445",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d6fa671361dfa97e0013bf116bf00e675c7a264a](https://github.com/sagemath/sagetrac-mirror/commit/d6fa671361dfa97e0013bf116bf00e675c7a264a)" to "[18f2746ad0bad21d300dc366a3cabc0505d58eae](https://github.com/sagemath/sagetrac-mirror/commit/18f2746ad0bad21d300dc366a3cabc0505d58eae)".



---

archive/issue_comments_544446.json:
```json
{
    "body": "<a id='comment:40'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8f7801c150e4063b96596db9da7736f1cfaea50\">f8f7801</a></td><td><code>more fixes in parser</code></td></tr></table>\n",
    "created_at": "2022-05-26T08:00:00Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8f7801c150e4063b96596db9da7736f1cfaea50">f8f7801</a></td><td><code>more fixes in parser</code></td></tr></table>




---

archive/issue_comments_544447.json:
```json
{
    "body": "**Changing commit** from \"[18f2746ad0bad21d300dc366a3cabc0505d58eae](https://github.com/sagemath/sagetrac-mirror/commit/18f2746ad0bad21d300dc366a3cabc0505d58eae)\" to \"[f8f7801c150e4063b96596db9da7736f1cfaea50](https://github.com/sagemath/sagetrac-mirror/commit/f8f7801c150e4063b96596db9da7736f1cfaea50)\".",
    "created_at": "2022-05-26T08:00:00Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544447",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[18f2746ad0bad21d300dc366a3cabc0505d58eae](https://github.com/sagemath/sagetrac-mirror/commit/18f2746ad0bad21d300dc366a3cabc0505d58eae)" to "[f8f7801c150e4063b96596db9da7736f1cfaea50](https://github.com/sagemath/sagetrac-mirror/commit/f8f7801c150e4063b96596db9da7736f1cfaea50)".



---

archive/issue_comments_544448.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db72519520573f68bb74c5317abe0c5fae15f1cd\">db72519</a></td><td><code>more fixes</code></td></tr></table>\n",
    "created_at": "2022-05-26T08:01:16Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544448",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db72519520573f68bb74c5317abe0c5fae15f1cd">db72519</a></td><td><code>more fixes</code></td></tr></table>




---

archive/issue_comments_544449.json:
```json
{
    "body": "**Changing commit** from \"[f8f7801c150e4063b96596db9da7736f1cfaea50](https://github.com/sagemath/sagetrac-mirror/commit/f8f7801c150e4063b96596db9da7736f1cfaea50)\" to \"[db72519520573f68bb74c5317abe0c5fae15f1cd](https://github.com/sagemath/sagetrac-mirror/commit/db72519520573f68bb74c5317abe0c5fae15f1cd)\".",
    "created_at": "2022-05-26T08:01:16Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f8f7801c150e4063b96596db9da7736f1cfaea50](https://github.com/sagemath/sagetrac-mirror/commit/f8f7801c150e4063b96596db9da7736f1cfaea50)" to "[db72519520573f68bb74c5317abe0c5fae15f1cd](https://github.com/sagemath/sagetrac-mirror/commit/db72519520573f68bb74c5317abe0c5fae15f1cd)".



---

archive/issue_comments_544450.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b277f2cf8519df7aafb85f3c1e07e9015c593767\">b277f2c</a></td><td><code>one more fix</code></td></tr></table>\n",
    "created_at": "2022-05-26T08:24:57Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544450",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b277f2cf8519df7aafb85f3c1e07e9015c593767">b277f2c</a></td><td><code>one more fix</code></td></tr></table>




---

archive/issue_comments_544451.json:
```json
{
    "body": "**Changing commit** from \"[db72519520573f68bb74c5317abe0c5fae15f1cd](https://github.com/sagemath/sagetrac-mirror/commit/db72519520573f68bb74c5317abe0c5fae15f1cd)\" to \"[b277f2cf8519df7aafb85f3c1e07e9015c593767](https://github.com/sagemath/sagetrac-mirror/commit/b277f2cf8519df7aafb85f3c1e07e9015c593767)\".",
    "created_at": "2022-05-26T08:24:57Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544451",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[db72519520573f68bb74c5317abe0c5fae15f1cd](https://github.com/sagemath/sagetrac-mirror/commit/db72519520573f68bb74c5317abe0c5fae15f1cd)" to "[b277f2cf8519df7aafb85f3c1e07e9015c593767](https://github.com/sagemath/sagetrac-mirror/commit/b277f2cf8519df7aafb85f3c1e07e9015c593767)".



---

archive/issue_comments_544452.json:
```json
{
    "body": "<a id='comment:43'></a>\nThanks for the suggestion\n\nI managed to reproduce the failures by building from a fresh clone, and fixed them all.",
    "created_at": "2022-05-26T08:49:27Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544452",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:43'></a>
Thanks for the suggestion

I managed to reproduce the failures by building from a fresh clone, and fixed them all.



---

archive/issue_comments_544453.json:
```json
{
    "body": "**Changing commit** from \"[b277f2cf8519df7aafb85f3c1e07e9015c593767](https://github.com/sagemath/sagetrac-mirror/commit/b277f2cf8519df7aafb85f3c1e07e9015c593767)\" to \"[a811c675125f67273a8cc00183de9ec5c660aaf5](https://github.com/sagemath/sagetrac-mirror/commit/a811c675125f67273a8cc00183de9ec5c660aaf5)\".",
    "created_at": "2022-05-26T11:26:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544453",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b277f2cf8519df7aafb85f3c1e07e9015c593767](https://github.com/sagemath/sagetrac-mirror/commit/b277f2cf8519df7aafb85f3c1e07e9015c593767)" to "[a811c675125f67273a8cc00183de9ec5c660aaf5](https://github.com/sagemath/sagetrac-mirror/commit/a811c675125f67273a8cc00183de9ec5c660aaf5)".



---

archive/issue_comments_544454.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a811c675125f67273a8cc00183de9ec5c660aaf5\">a811c67</a></td><td><code>tiny detail</code></td></tr></table>\n",
    "created_at": "2022-05-26T11:26:28Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544454",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a811c675125f67273a8cc00183de9ec5c660aaf5">a811c67</a></td><td><code>tiny detail</code></td></tr></table>




---

archive/issue_comments_544455.json:
```json
{
    "body": "<a id='comment:45'></a>\nIt builds fine now, but I get these doctest failures:\n\n```\n(1) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/misc/sagedoc.py  # 2 doctests failed\n(2) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/stats/distributions/discrete_gaussian_integer.pyx  # 5 doctests failed\n(3) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/game_theory/normal_form_game.py  # 2 doctests failed\n(4) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/crypto/lwe.py  # 5 doctests failed\n(5) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed\n(6) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/combinat/words/word_datatypes.pyx  # 1 doctest failed\n```\n\n(1), (2), (4), (6) seem related with this ticket.",
    "created_at": "2022-05-26T13:16:24Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544455",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:45'></a>
It builds fine now, but I get these doctest failures:

```
(1) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/misc/sagedoc.py  # 2 doctests failed
(2) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/stats/distributions/discrete_gaussian_integer.pyx  # 5 doctests failed
(3) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/game_theory/normal_form_game.py  # 2 doctests failed
(4) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/crypto/lwe.py  # 5 doctests failed
(5) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed
(6) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/combinat/words/word_datatypes.pyx  # 1 doctest failed
```

(1), (2), (4), (6) seem related with this ticket.



---

archive/issue_comments_544456.json:
```json
{
    "body": "<a id='comment:46'></a>\n\n```\n(1) src/sage/misc/sagedoc.py  # 2 doctests failed\n(2) src/sage/stats/distributions/discrete_gaussian_integer.pyx  # 5 doctests failed\n(4) src/sage/crypto/lwe.py  # 5 doctests failed\n(6) src/sage/combinat/words/word_datatypes.pyx  # 1 doctest failed\n```\n\nIndeed, (3) and (5) pass for me. Let us forget about them.\n\nFor (2) and (4), maybe we could just change the doctests.\n\nFor (1), I suspect that we are going to meet large-scale problem with the doc.\n\nFor (6), I have no clue.",
    "created_at": "2022-05-26T14:03:46Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544456",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:46'></a>

```
(1) src/sage/misc/sagedoc.py  # 2 doctests failed
(2) src/sage/stats/distributions/discrete_gaussian_integer.pyx  # 5 doctests failed
(4) src/sage/crypto/lwe.py  # 5 doctests failed
(6) src/sage/combinat/words/word_datatypes.pyx  # 1 doctest failed
```

Indeed, (3) and (5) pass for me. Let us forget about them.

For (2) and (4), maybe we could just change the doctests.

For (1), I suspect that we are going to meet large-scale problem with the doc.

For (6), I have no clue.



---

archive/issue_comments_544457.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21447e79b98eebce708f62016c4806374da7063d\">21447e7</a></td><td><code>fix the split of words</code></td></tr></table>\n",
    "created_at": "2022-05-26T14:53:36Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544457",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21447e79b98eebce708f62016c4806374da7063d">21447e7</a></td><td><code>fix the split of words</code></td></tr></table>




---

archive/issue_comments_544458.json:
```json
{
    "body": "**Changing commit** from \"[a811c675125f67273a8cc00183de9ec5c660aaf5](https://github.com/sagemath/sagetrac-mirror/commit/a811c675125f67273a8cc00183de9ec5c660aaf5)\" to \"[21447e79b98eebce708f62016c4806374da7063d](https://github.com/sagemath/sagetrac-mirror/commit/21447e79b98eebce708f62016c4806374da7063d)\".",
    "created_at": "2022-05-26T14:53:36Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544458",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a811c675125f67273a8cc00183de9ec5c660aaf5](https://github.com/sagemath/sagetrac-mirror/commit/a811c675125f67273a8cc00183de9ec5c660aaf5)" to "[21447e79b98eebce708f62016c4806374da7063d](https://github.com/sagemath/sagetrac-mirror/commit/21447e79b98eebce708f62016c4806374da7063d)".



---

archive/issue_comments_544459.json:
```json
{
    "body": "**Changing commit** from \"[21447e79b98eebce708f62016c4806374da7063d](https://github.com/sagemath/sagetrac-mirror/commit/21447e79b98eebce708f62016c4806374da7063d)\" to \"[f797696c7c829ed2518f1ca4ec696d13875c23a6](https://github.com/sagemath/sagetrac-mirror/commit/f797696c7c829ed2518f1ca4ec696d13875c23a6)\".",
    "created_at": "2022-05-26T15:27:46Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544459",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[21447e79b98eebce708f62016c4806374da7063d](https://github.com/sagemath/sagetrac-mirror/commit/21447e79b98eebce708f62016c4806374da7063d)" to "[f797696c7c829ed2518f1ca4ec696d13875c23a6](https://github.com/sagemath/sagetrac-mirror/commit/f797696c7c829ed2518f1ca4ec696d13875c23a6)".



---

archive/issue_comments_544460.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f797696c7c829ed2518f1ca4ec696d13875c23a6\">f797696</a></td><td><code>fixing doctests in crypto and stat</code></td></tr></table>\n",
    "created_at": "2022-05-26T15:27:46Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544460",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f797696c7c829ed2518f1ca4ec696d13875c23a6">f797696</a></td><td><code>fixing doctests in crypto and stat</code></td></tr></table>




---

archive/issue_comments_544461.json:
```json
{
    "body": "<a id='comment:49'></a>\nwe could also easily fix the remaining failing doctests in doc building, but I would prefer to understand why we get this shift by one space there.",
    "created_at": "2022-05-26T18:20:40Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544461",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:49'></a>
we could also easily fix the remaining failing doctests in doc building, but I would prefer to understand why we get this shift by one space there.



---

archive/issue_comments_544462.json:
```json
{
    "body": "<a id='comment:50'></a>\nThe first shift is by\n\n```\nsage: identity_matrix(2).rook_vector.__doc__[20:60]\n\"elf, algorithm=u'ButeraPernici', complem\"\n```\nvs `\"elf, algorithm='ButeraPernici', compleme\"` (without ticket)\n\nI suspect that this insertion of `u` is a bug of Cython since Cython does not need to add `u` for (unicode) strings of Python3...",
    "created_at": "2022-05-27T03:50:01Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544462",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:50'></a>
The first shift is by

```
sage: identity_matrix(2).rook_vector.__doc__[20:60]
"elf, algorithm=u'ButeraPernici', complem"
```
vs `"elf, algorithm='ButeraPernici', compleme"` (without ticket)

I suspect that this insertion of `u` is a bug of Cython since Cython does not need to add `u` for (unicode) strings of Python3...



---

archive/issue_comments_544463.json:
```json
{
    "body": "<a id='comment:51'></a>\nPerhaps we need to fix the doctests not to break even after the presumed bug of Cython would be fixed in future.",
    "created_at": "2022-05-27T03:55:58Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544463",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:51'></a>
Perhaps we need to fix the doctests not to break even after the presumed bug of Cython would be fixed in future.



---

archive/issue_comments_544464.json:
```json
{
    "body": "<a id='comment:52'></a>\nwe can change the default to `algorithm=None` instead ?",
    "created_at": "2022-05-27T06:28:36Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544464",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:52'></a>
we can change the default to `algorithm=None` instead ?



---

archive/issue_comments_544465.json:
```json
{
    "body": "<a id='comment:53'></a>\nGood idea. That would work.",
    "created_at": "2022-05-27T07:33:35Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544465",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:53'></a>
Good idea. That would work.



---

archive/issue_comments_544466.json:
```json
{
    "body": "**Changing commit** from \"[f797696c7c829ed2518f1ca4ec696d13875c23a6](https://github.com/sagemath/sagetrac-mirror/commit/f797696c7c829ed2518f1ca4ec696d13875c23a6)\" to \"[4258c75e1ad74db534e2f5df67b0d905b6d1c5a3](https://github.com/sagemath/sagetrac-mirror/commit/4258c75e1ad74db534e2f5df67b0d905b6d1c5a3)\".",
    "created_at": "2022-05-27T13:33:01Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544466",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f797696c7c829ed2518f1ca4ec696d13875c23a6](https://github.com/sagemath/sagetrac-mirror/commit/f797696c7c829ed2518f1ca4ec696d13875c23a6)" to "[4258c75e1ad74db534e2f5df67b0d905b6d1c5a3](https://github.com/sagemath/sagetrac-mirror/commit/4258c75e1ad74db534e2f5df67b0d905b6d1c5a3)".



---

archive/issue_comments_544467.json:
```json
{
    "body": "<a id='comment:54'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d523bf6a1a5ba8a2dfe993e65e597c8d025cf2ff\">d523bf6</a></td><td><code>Merge branch 'u/chapoton/33544' in 9.7.b1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4258c75e1ad74db534e2f5df67b0d905b6d1c5a3\">4258c75</a></td><td><code>change default algo to None in matrix2</code></td></tr></table>\n",
    "created_at": "2022-05-27T13:33:01Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d523bf6a1a5ba8a2dfe993e65e597c8d025cf2ff">d523bf6</a></td><td><code>Merge branch 'u/chapoton/33544' in 9.7.b1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4258c75e1ad74db534e2f5df67b0d905b6d1c5a3">4258c75</a></td><td><code>change default algo to None in matrix2</code></td></tr></table>




---

archive/issue_comments_544468.json:
```json
{
    "body": "**Changing commit** from \"[4258c75e1ad74db534e2f5df67b0d905b6d1c5a3](https://github.com/sagemath/sagetrac-mirror/commit/4258c75e1ad74db534e2f5df67b0d905b6d1c5a3)\" to \"[762e0b75bdb7cc939a9d7b8223872abb3e00398e](https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e)\".",
    "created_at": "2022-05-27T14:08:57Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4258c75e1ad74db534e2f5df67b0d905b6d1c5a3](https://github.com/sagemath/sagetrac-mirror/commit/4258c75e1ad74db534e2f5df67b0d905b6d1c5a3)" to "[762e0b75bdb7cc939a9d7b8223872abb3e00398e](https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e)".



---

archive/issue_comments_544469.json:
```json
{
    "body": "<a id='comment:55'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e\">762e0b7</a></td><td><code>use language_level=3 for cython</code></td></tr></table>\n",
    "created_at": "2022-05-27T14:08:57Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e">762e0b7</a></td><td><code>use language_level=3 for cython</code></td></tr></table>




---

archive/issue_comments_544470.json:
```json
{
    "body": "<a id='comment:56'></a>\nI have fixed the doctests in sagedoc.py and squashed all the commits into one",
    "created_at": "2022-05-27T14:09:37Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544470",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:56'></a>
I have fixed the doctests in sagedoc.py and squashed all the commits into one



---

archive/issue_comments_544471.json:
```json
{
    "body": "<a id='comment:57'></a>\nYour branch works perfect. Thank you.\n\nOne question. You used many code like `c'x'` to convert a character `x` to integer. Where is this convenient `c` prefix documented? I couldn't find in cython documentation...",
    "created_at": "2022-05-27T22:20:56Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544471",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:57'></a>
Your branch works perfect. Thank you.

One question. You used many code like `c'x'` to convert a character `x` to integer. Where is this convenient `c` prefix documented? I couldn't find in cython documentation...



---

archive/issue_comments_544472.json:
```json
{
    "body": "<a id='comment:58'></a>\nno idea. it was already appearing in some places, so I just put it everywhere.",
    "created_at": "2022-05-28T05:28:43Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544472",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:58'></a>
no idea. it was already appearing in some places, so I just put it everywhere.



---

archive/issue_events_300139.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-05-28T07:21:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300139"
}
```



---

archive/issue_events_300140.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-05-28T07:21:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300140"
}
```



---

archive/issue_comments_544473.json:
```json
{
    "body": "<a id='comment:59'></a>\nReplying to [chapoton](#comment%3A58):\n> no idea. it was already appearing in some places, so I just put it everywhere.\n\n\nInteresting. I could not find an official alternative to that. So let it be.",
    "created_at": "2022-05-28T07:21:54Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544473",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:59'></a>
Replying to [chapoton](#comment%3A58):
> no idea. it was already appearing in some places, so I just put it everywhere.


Interesting. I could not find an official alternative to that. So let it be.



---

archive/issue_comments_544474.json:
```json
{
    "body": "<a id='comment:60'></a>\nThis ticket is a good-bye once more to Python 2!",
    "created_at": "2022-05-28T07:24:39Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544474",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:60'></a>
This ticket is a good-bye once more to Python 2!



---

archive/issue_events_300141.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-29T11:29:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300141"
}
```



---

archive/issue_events_300142.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a340bda6399cadbc16446e8e3be88d9664e548bb",
    "created_at": "2022-05-29T11:29:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33544#event-300142"
}
```



---

archive/issue_comments_544475.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33544)\" to \"[762e0b75bdb7cc939a9d7b8223872abb3e00398e](https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e)\".",
    "created_at": "2022-05-29T11:29:13Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544475",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/33544](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33544)" to "[762e0b75bdb7cc939a9d7b8223872abb3e00398e](https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e)".



---

archive/issue_comments_544476.json:
```json
{
    "body": "<a id='comment:62'></a>\nThe ticket description has\n\n> - change the language level from 2 to 3 in specific pyx files\n\n\nDoes this mean some files are left to do?",
    "created_at": "2022-06-24T17:37:10Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544476",
    "user": "https://github.com/slel"
}
```

<a id='comment:62'></a>
The ticket description has

> - change the language level from 2 to 3 in specific pyx files


Does this mean some files are left to do?



---

archive/issue_comments_544477.json:
```json
{
    "body": "**Changing commit** from \"[762e0b75bdb7cc939a9d7b8223872abb3e00398e](https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e)\" to \"\".",
    "created_at": "2022-06-24T17:37:10Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544477",
    "user": "https://github.com/slel"
}
```

**Changing commit** from "[762e0b75bdb7cc939a9d7b8223872abb3e00398e](https://github.com/sagemath/sagetrac-mirror/commit/762e0b75bdb7cc939a9d7b8223872abb3e00398e)" to "".



---

archive/issue_comments_544478.json:
```json
{
    "body": "<a id='comment:63'></a>\nno, everything is done, as far as I can tell\n\n```\ngit grep \"lang.*level\" src/\nsrc/sage/misc/cython.py:    directives = dict(language_level=3, cdivision=True)\nsrc/sage/symbolic/ginac/optional.hpp:# define optional_COMPILER_CLANG_VERSION  optional_COMPILER_VERSION(__clang_major__, __clang_minor__, __clang_patchlevel__)\nsrc/sage_setup/cython_options.py:        language_level=\"3\",\n```",
    "created_at": "2022-06-26T07:27:41Z",
    "issue": "https://github.com/sagemath/sage/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33544#issuecomment-544478",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:63'></a>
no, everything is done, as far as I can tell

```
git grep "lang.*level" src/
src/sage/misc/cython.py:    directives = dict(language_level=3, cdivision=True)
src/sage/symbolic/ginac/optional.hpp:# define optional_COMPILER_CLANG_VERSION  optional_COMPILER_VERSION(__clang_major__, __clang_minor__, __clang_patchlevel__)
src/sage_setup/cython_options.py:        language_level="3",
```
