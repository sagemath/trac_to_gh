# Issue 33544: Use language_level=3 for Cython everywhere

archive/issues_033307.json:
```json
{
    "body": "We\n\n* switch the language level of cython from 3str to 3.\n\nThis should not change anything, as we are now using python3. We also\n\n* change the language level from 2 to 3 in specific pyx files,\n\nin a way not to break anything.\n\n---\n\nhttps://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str\n\nCC:  @tscrim @slel @kliem @kwankyu\n\nReviewer: Kwankyu Lee\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton, Jonathan Kliem\n\nBranch: 762e0b75bdb7cc939a9d7b8223872abb3e00398e\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33544\n\n",
    "closed_at": "2022-05-29T11:29:13Z",
    "created_at": "2022-03-21T19:17:56Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Use language_level=3 for Cython everywhere",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33544",
    "user": "https://github.com/fchapoton"
}
```
We

* switch the language level of cython from 3str to 3.

This should not change anything, as we are now using python3. We also

* change the language level from 2 to 3 in specific pyx files,

in a way not to break anything.

---

https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str

CC:  @tscrim @slel @kliem @kwankyu

Reviewer: Kwankyu Lee

Author: Frédéric Chapoton, Jonathan Kliem

Branch: 762e0b75bdb7cc939a9d7b8223872abb3e00398e

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33544





---

archive/issue_comments_506427.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2022-03-21T19:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506427",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_506428.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-21T19:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506428",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_506429.json:
```json
{
    "body": "<a id='comment:2'></a>Description please",
    "created_at": "2022-03-21T19:56:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506429",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>Description please



---

archive/issue_comments_506430.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+* switch the language level of cython from 3str to 3\n \n+This should not change anything, as we are now using python3.\n+\n+* also change the language level form 2 to 3 in two specific pyx files\n+\n+Not clear if this is going to change something or not.\n+\n+https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str\n \n Author: Fr\u00e9d\u00e9ric Chapoton\n \n```\n",
    "created_at": "2022-03-21T20:04:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506430",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+* switch the language level of cython from 3str to 3
 
+This should not change anything, as we are now using python3.
+
+* also change the language level form 2 to 3 in two specific pyx files
+
+Not clear if this is going to change something or not.
+
+https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str
 
 Author: Frédéric Chapoton
 
```




---

archive/issue_comments_506431.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-22T07:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506431",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_506432.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-22T10:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506433.json:
```json
{
    "body": "<a id='comment:6'></a>I reviewed my local patches and in addition to `sage/arith/srange.pyx` I found `# cython: language_level=3` also in\n\n`sage/numerical/mip.pyx`\n\n`sage/rings/finite_rings/integer_mod.pyx`\n\n`sage/graphs/bliss.pyx`",
    "created_at": "2022-03-22T12:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506433",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:6'></a>I reviewed my local patches and in addition to `sage/arith/srange.pyx` I found `# cython: language_level=3` also in

`sage/numerical/mip.pyx`

`sage/rings/finite_rings/integer_mod.pyx`

`sage/graphs/bliss.pyx`



---

archive/issue_comments_506434.json:
```json
{
    "body": "<a id='comment:7'></a>green bot, so please review",
    "created_at": "2022-03-22T13:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506434",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>green bot, so please review



---

archive/issue_comments_506435.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-22T13:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506435",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_506436.json:
```json
{
    "body": "<a id='comment:8'></a>by the way:\n\n```\ngit grep -c \"language_level\" src/\nsrc/sage/arith/srange.pyx:1\nsrc/sage/misc/cython.py:1\nsrc/sage/rings/finite_rings/integer_mod.pyx:1\nsrc/sage_setup/cython_options.py:1\n```",
    "created_at": "2022-03-22T13:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506436",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>by the way:

```
git grep -c "language_level" src/
src/sage/arith/srange.pyx:1
src/sage/misc/cython.py:1
src/sage/rings/finite_rings/integer_mod.pyx:1
src/sage_setup/cython_options.py:1
```



---

archive/issue_comments_506437.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:6 gh-sheerluck]:\n> I reviewed my local patches and in addition to `sage/arith/srange.pyx` I found `# cython: language_level=3` also in\n> \n> `sage/numerical/mip.pyx`\n> \n> `sage/rings/finite_rings/integer_mod.pyx`\n> \n> `sage/graphs/bliss.pyx`\n\n\nThanks for the information. Does it mean that some other changes should be done here ?",
    "created_at": "2022-03-22T17:30:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506437",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>Replying to [comment:6 gh-sheerluck]:
> I reviewed my local patches and in addition to `sage/arith/srange.pyx` I found `# cython: language_level=3` also in
> 
> `sage/numerical/mip.pyx`
> 
> `sage/rings/finite_rings/integer_mod.pyx`
> 
> `sage/graphs/bliss.pyx`


Thanks for the information. Does it mean that some other changes should be done here ?



---

archive/issue_comments_506438.json:
```json
{
    "body": "<a id='comment:10'></a>and, by the way, should I remove the tags in specific pyx files, as they seem no longer to be needed ?",
    "created_at": "2022-03-23T08:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506438",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>and, by the way, should I remove the tags in specific pyx files, as they seem no longer to be needed ?



---

archive/issue_comments_506439.json:
```json
{
    "body": "<a id='comment:11'></a>opinions ?",
    "created_at": "2022-03-27T08:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506439",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>opinions ?



---

archive/issue_comments_506440.json:
```json
{
    "body": "<a id='comment:12'></a>Since they are no-ops, I think we should just remove them. Otherwise I don\u2019t really have any opinions on this beyond it is good to try and have less special cases for the language.",
    "created_at": "2022-03-27T10:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506440",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>Since they are no-ops, I think we should just remove them. Otherwise I don’t really have any opinions on this beyond it is good to try and have less special cases for the language.



---

archive/issue_comments_506441.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-27T12:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506441",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506442.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:10 chapoton]:\n> and, by the way, should I remove the tags in specific pyx files, as they seem no longer to be needed ?\n\n\nYes. All of them.",
    "created_at": "2022-03-31T08:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506442",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:14'></a>Replying to [comment:10 chapoton]:
> and, by the way, should I remove the tags in specific pyx files, as they seem no longer to be needed ?


Yes. All of them.



---

archive/issue_comments_506443.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,16 @@\n+We\n \n+* switch the language level of cython from 3str to 3.\n+\n+This should not change anything, as we are now using python3. We also\n+\n+* change the language level from 2 to 3 in specific pyx files,\n+\n+in a way not to break anything.\n+\n+---\n+\n+https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str\n \n Author: Fr\u00e9d\u00e9ric Chapoton\n \n```\n",
    "created_at": "2022-03-31T08:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506443",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,16 @@
+We
 
+* switch the language level of cython from 3str to 3.
+
+This should not change anything, as we are now using python3. We also
+
+* change the language level from 2 to 3 in specific pyx files,
+
+in a way not to break anything.
+
+---
+
+https://stackoverflow.com/questions/57415446/what-are-differences-between-cythons-language-level-3-and-3str
 
 Author: Frédéric Chapoton
 
```




---

archive/issue_comments_506444.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-31T08:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506444",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_506445.json:
```json
{
    "body": "<a id='comment:17'></a>I think we should be more ambitious.",
    "created_at": "2022-03-31T08:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506445",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:17'></a>I think we should be more ambitious.



---

archive/issue_comments_506446.json:
```json
{
    "body": "<a id='comment:18'></a>\ud83c\uddfa\ud83c\udde6\n\nwould you please explicitly tell us what you mean by \"more ambitious\" ?",
    "created_at": "2022-04-02T16:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506446",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>🇺🇦

would you please explicitly tell us what you mean by "more ambitious" ?



---

archive/issue_comments_506447.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 chapoton]:\n> would you please explicitly tell us what you mean by \"more ambitious\" ?\n\n\nI just meant removing `language_level=2` from `sage/rings/finite_rings/integer_mod.pyx`, which seems more challenging. If not, it's better.",
    "created_at": "2022-04-03T11:01:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506447",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:19'></a>Replying to [comment:18 chapoton]:
> would you please explicitly tell us what you mean by "more ambitious" ?


I just meant removing `language_level=2` from `sage/rings/finite_rings/integer_mod.pyx`, which seems more challenging. If not, it's better.



---

archive/issue_events_088300.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33544#event-88300"
}
```



---

archive/issue_comments_506448.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-04-12T14:55:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506448",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506449.json:
```json
{
    "body": "<a id='comment:22'></a>patchbot reports a failing doctest in `src/sage/rings/finite_rings/integer_mod.pyx` that needs to be investigated",
    "created_at": "2022-04-12T18:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506449",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>patchbot reports a failing doctest in `src/sage/rings/finite_rings/integer_mod.pyx` that needs to be investigated



---

archive/issue_comments_506450.json:
```json
{
    "body": "<a id='comment:23'></a>Fixed a naming issue. This wasn't an issue with `language_level=2`:\n\n```\nsage: cython('''\n....: # cython: language_level=2\n....: def foo(a):\n....:     return [a for a in range(2**a)]\n....: ''')\nsage: foo(1)\n[0, 1]\nsage: cython('''\n....: # cython: language_level=3\n....: def foo(a):\n....:     return [a for a in range(2**a)]\n....: ''')\nsage: foo(1)\n---------------------------------------------------------------------------\nUnboundLocalError                         Traceback (most recent call last)\n<ipython-input-10-16a3fe22adcc> in <module>\n----> 1 foo(Integer(1))\n\n/srv/public/kliem/.sage/temp/cofio/13070/spyx/_srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx/_srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx_0.pyx in _srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx_0.foo()\n      2 # cython: language_level=3\n      3 def foo(a):\n----> 4     return [a for a in range(2**a)]\n\nUnboundLocalError: local variable 'a' referenced before assignment\n```\n\n---\nNew commits:",
    "created_at": "2022-04-13T14:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506450",
    "user": "https://github.com/kliem"
}
```

<a id='comment:23'></a>Fixed a naming issue. This wasn't an issue with `language_level=2`:

```
sage: cython('''
....: # cython: language_level=2
....: def foo(a):
....:     return [a for a in range(2**a)]
....: ''')
sage: foo(1)
[0, 1]
sage: cython('''
....: # cython: language_level=3
....: def foo(a):
....:     return [a for a in range(2**a)]
....: ''')
sage: foo(1)
---------------------------------------------------------------------------
UnboundLocalError                         Traceback (most recent call last)
<ipython-input-10-16a3fe22adcc> in <module>
----> 1 foo(Integer(1))

/srv/public/kliem/.sage/temp/cofio/13070/spyx/_srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx/_srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx_0.pyx in _srv_public_kliem__sage_temp_cofio_13070_tmp_rbmq7793_pyx_0.foo()
      2 # cython: language_level=3
      3 def foo(a):
----> 4     return [a for a in range(2**a)]

UnboundLocalError: local variable 'a' referenced before assignment
```

---
New commits:



---

archive/issue_comments_506451.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-04-13T14:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506451",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_506452.json:
```json
{
    "body": "<a id='comment:25'></a>thanks a lot for locating and fixing this subtle issue !\n\nThis should be good to go now. Agree to positive review ?",
    "created_at": "2022-04-13T18:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506452",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:25'></a>thanks a lot for locating and fixing this subtle issue !

This should be good to go now. Agree to positive review ?



---

archive/issue_comments_506453.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-04-14T01:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506453",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_506454.json:
```json
{
    "body": "<a id='comment:26'></a>LGTM.",
    "created_at": "2022-04-14T01:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506454",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:26'></a>LGTM.



---

archive/issue_comments_506455.json:
```json
{
    "body": "<a id='comment:27'></a>I get lots of\n\n```\n[sagelib-9.6] Error compiling Cython file:\n[sagelib-9.6] ------------------------------------------------------------\n[sagelib-9.6] ...\n[sagelib-9.6]                          self.value, (<RealField_class>self._parent).rnd)\n[sagelib-9.6]         sig_off()\n[sagelib-9.6]         if s is NULL:\n[sagelib-9.6]             raise RuntimeError(\"unable to convert an mpfr number to a string\")\n[sagelib-9.6]         # t contains just digits (no sign, decimal point or exponent)\n[sagelib-9.6]         if s[0] == '-':\n[sagelib-9.6]                   ^\n[sagelib-9.6] ------------------------------------------------------------\n[sagelib-9.6] \n[sagelib-9.6] sage/rings/real_mpfr.pyx:2095:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n```",
    "created_at": "2022-05-18T22:35:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506455",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>I get lots of

```
[sagelib-9.6] Error compiling Cython file:
[sagelib-9.6] ------------------------------------------------------------
[sagelib-9.6] ...
[sagelib-9.6]                          self.value, (<RealField_class>self._parent).rnd)
[sagelib-9.6]         sig_off()
[sagelib-9.6]         if s is NULL:
[sagelib-9.6]             raise RuntimeError("unable to convert an mpfr number to a string")
[sagelib-9.6]         # t contains just digits (no sign, decimal point or exponent)
[sagelib-9.6]         if s[0] == '-':
[sagelib-9.6]                   ^
[sagelib-9.6] ------------------------------------------------------------
[sagelib-9.6] 
[sagelib-9.6] sage/rings/real_mpfr.pyx:2095:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
```



---

archive/issue_comments_506456.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-05-18T22:35:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506456",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_506457.json:
```json
{
    "body": "<a id='comment:28'></a>(ignore)",
    "created_at": "2022-05-18T22:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506457",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>(ignore)



---

archive/issue_comments_506458.json:
```json
{
    "body": "<a id='comment:29'></a>maybe one needs to use `char_to_str` here, from\n\n```\nfrom sage.cpython.string cimport char_to_str\n```\n?",
    "created_at": "2022-05-19T08:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506458",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'></a>maybe one needs to use `char_to_str` here, from

```
from sage.cpython.string cimport char_to_str
```
?



---

archive/issue_comments_506459.json:
```json
{
    "body": "<a id='comment:30'></a>can somebody reproduce the issue ? no problem for my patchbot, using python 3.8.10",
    "created_at": "2022-05-19T12:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506459",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>can somebody reproduce the issue ? no problem for my patchbot, using python 3.8.10



---

archive/issue_comments_506460.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-05-24T17:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506460",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_506461.json:
```json
{
    "body": "<a id='comment:31'></a>here is a proposal. Because I cannot see the failure, I cannot say if this fixes it..\n\n---\nNew commits:",
    "created_at": "2022-05-24T17:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506461",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>here is a proposal. Because I cannot see the failure, I cannot say if this fixes it..

---
New commits:



---

archive/issue_comments_506462.json:
```json
{
    "body": "<a id='comment:32'></a>With 9.7.beta0 on Mac, I get\n\n```\n[sagelib-9.7.beta0] Enabling Cython debugging support\n[sagelib-9.7.beta0] [  1/531] Cythonizing sage/misc/parser.pyx\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 elif s[pos] == '!':\n[sagelib-9.7.beta0]                     self.pos += 2\n[sagelib-9.7.beta0]                     return NOT_EQ\n[sagelib-9.7.beta0]                 elif s[pos] == '=':\n[sagelib-9.7.beta0]                     self.pos += 2\n[sagelib-9.7.beta0]                     return '='\n[sagelib-9.7.beta0]                           ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:275:27: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n```\n\nThis is part of a method that returns `int`. Hence it seems a genuine error.",
    "created_at": "2022-05-25T03:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506462",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:32'></a>With 9.7.beta0 on Mac, I get

```
[sagelib-9.7.beta0] Enabling Cython debugging support
[sagelib-9.7.beta0] [  1/531] Cythonizing sage/misc/parser.pyx
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 elif s[pos] == '!':
[sagelib-9.7.beta0]                     self.pos += 2
[sagelib-9.7.beta0]                     return NOT_EQ
[sagelib-9.7.beta0]                 elif s[pos] == '=':
[sagelib-9.7.beta0]                     self.pos += 2
[sagelib-9.7.beta0]                     return '='
[sagelib-9.7.beta0]                           ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:275:27: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
```

This is part of a method that returns `int`. Hence it seems a genuine error.



---

archive/issue_comments_506463.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-25T06:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506463",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506464.json:
```json
{
    "body": "<a id='comment:34'></a>Thanks for the feedback. Here is another tentative fix. Please test and report.",
    "created_at": "2022-05-25T06:08:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506464",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'></a>Thanks for the feedback. Here is another tentative fix. Please test and report.



---

archive/issue_comments_506465.json:
```json
{
    "body": "<a id='comment:35'></a>Actually there are many more errors like that. How about on your platform? \n\n```python\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             [a 0]\n[sagelib-9.7.beta0]             [0 a]\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         if tokens.next() == '(':\n[sagelib-9.7.beta0]                            ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:612:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             [0 a]\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         if tokens.next() == '(':\n[sagelib-9.7.beta0]             token = ','\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:613:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         if tokens.next() == '(':\n[sagelib-9.7.beta0]             token = ','\n[sagelib-9.7.beta0]             while token == ',':\n[sagelib-9.7.beta0]                           ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:614:27: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             token = ','\n[sagelib-9.7.beta0]             while token == ',':\n[sagelib-9.7.beta0]                 all.append(self.p_list(tokens))\n[sagelib-9.7.beta0]                 token = tokens.next()\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]             if token == ')':\n[sagelib-9.7.beta0]                        ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:618:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             [[3, 0]]\n[sagelib-9.7.beta0]             sage: p.p_sequence(Tokenizer(\"(1,2,3) , [1+a, 2+b, (3+c), (4+d,)]\"))\n[sagelib-9.7.beta0]             [(1, 2, 3), [a + 1, b + 2, c + 3, (d + 4,)]]\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         cdef int token = ','\n[sagelib-9.7.beta0]                         ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:640:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             sage: p.p_sequence(Tokenizer(\"(1,2,3) , [1+a, 2+b, (3+c), (4+d,)]\"))\n[sagelib-9.7.beta0]             [(1, 2, 3), [a + 1, b + 2, c + 3, (d + 4,)]]\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         all = []\n[sagelib-9.7.beta0]         cdef int token = ','\n[sagelib-9.7.beta0]         while token == ',':\n[sagelib-9.7.beta0]                       ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:641:23: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 if tokens.peek() == c',':\n[sagelib-9.7.beta0]                     obj = self.integer_constructor(tokens.last_token_string())\n[sagelib-9.7.beta0]                 else:\n[sagelib-9.7.beta0]                     tokens.backtrack()\n[sagelib-9.7.beta0]                     obj = self.p_eqn(tokens)\n[sagelib-9.7.beta0]             elif token == '[':\n[sagelib-9.7.beta0]                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:654:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 else:\n[sagelib-9.7.beta0]                     tokens.backtrack()\n[sagelib-9.7.beta0]                     obj = self.p_eqn(tokens)\n[sagelib-9.7.beta0]             elif token == '[':\n[sagelib-9.7.beta0]                 obj = self.p_list(tokens)\n[sagelib-9.7.beta0]             elif token == '(':\n[sagelib-9.7.beta0]                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:656:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 obj = self.p_list(tokens)\n[sagelib-9.7.beta0]             elif token == '(':\n[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)\n[sagelib-9.7.beta0]             elif token == EOS:\n[sagelib-9.7.beta0]                 return all\n[sagelib-9.7.beta0]             elif token == ']' or token == ')':\n[sagelib-9.7.beta0]                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:660:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 obj = self.p_list(tokens)\n[sagelib-9.7.beta0]             elif token == '(':\n[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)\n[sagelib-9.7.beta0]             elif token == EOS:\n[sagelib-9.7.beta0]                 return all\n[sagelib-9.7.beta0]             elif token == ']' or token == ')':\n[sagelib-9.7.beta0]                                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:660:42: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             elif token == '(':\n[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)\n[sagelib-9.7.beta0]             elif token == EOS:\n[sagelib-9.7.beta0]                 return all\n[sagelib-9.7.beta0]             elif token == ']' or token == ')':\n[sagelib-9.7.beta0]                 tokens.token = ','\n[sagelib-9.7.beta0]                               ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:661:31: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             [3, 1000.0]\n[sagelib-9.7.beta0]             sage: p.p_list(Tokenizer(\"[]\"))\n[sagelib-9.7.beta0]             []\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token != '[':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:685:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token != '[':\n[sagelib-9.7.beta0]             self.parse_error(tokens, \"Malformed list\")\n[sagelib-9.7.beta0]         all = self.p_sequence(tokens)\n[sagelib-9.7.beta0]         token = tokens.next()\n[sagelib-9.7.beta0]         if token != ']':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:689:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             ((), 1, (1,), (1, 2), (1, 2, 3), 9)\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int start = tokens.pos\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         cdef bint real_tuple = True\n[sagelib-9.7.beta0]         if token != '(':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:707:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         all = self.p_sequence(tokens)\n[sagelib-9.7.beta0]         if len(all) == 1:\n[sagelib-9.7.beta0]             if tokens.last() != c',':\n[sagelib-9.7.beta0]                 real_tuple = False\n[sagelib-9.7.beta0]         token = tokens.next()\n[sagelib-9.7.beta0]         if token != ')':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:714:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             self.parse_error(tokens, \"Malformed tuple\")\n[sagelib-9.7.beta0]         if real_tuple:\n[sagelib-9.7.beta0]             return tuple(all)\n[sagelib-9.7.beta0]         else:\n[sagelib-9.7.beta0]             token = tokens.peek()\n[sagelib-9.7.beta0]             if token == ',' or token == EOS:\n[sagelib-9.7.beta0]                        ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:720:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             sage: p.p_eqn(Tokenizer(\"a != b\"))\n[sagelib-9.7.beta0]             a != b\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         lhs = self.p_expr(tokens)\n[sagelib-9.7.beta0]         cdef int op = tokens.next()\n[sagelib-9.7.beta0]         if op == '=':\n[sagelib-9.7.beta0]                 ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:756:17: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         cdef int op = tokens.next()\n[sagelib-9.7.beta0]         if op == '=':\n[sagelib-9.7.beta0]             return lhs == self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == NOT_EQ:\n[sagelib-9.7.beta0]             return lhs != self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == '<':\n[sagelib-9.7.beta0]                   ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:760:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             return lhs != self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == '<':\n[sagelib-9.7.beta0]             return lhs < self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == LESS_EQ:\n[sagelib-9.7.beta0]             return lhs <= self.p_expr(tokens)\n[sagelib-9.7.beta0]         elif op == '>':\n[sagelib-9.7.beta0]                   ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:764:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse\n[sagelib-9.7.beta0]         cdef int op\n[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         while op == '+' or op == '-':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:796:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse\n[sagelib-9.7.beta0]         cdef int op\n[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         while op == '+' or op == '-':\n[sagelib-9.7.beta0]                                 ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:796:33: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         cdef int op\n[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         while op == '+' or op == '-':\n[sagelib-9.7.beta0]             operand2 = self.p_term(tokens)\n[sagelib-9.7.beta0]             if op == '+':\n[sagelib-9.7.beta0]                     ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:798:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse\n[sagelib-9.7.beta0]         cdef int op\n[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]             op = '*'\n[sagelib-9.7.beta0]                 ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:831:17: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]             op = '*'\n[sagelib-9.7.beta0]             tokens.backtrack()\n[sagelib-9.7.beta0]         while op == '*' or op == '/':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:833:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)\n[sagelib-9.7.beta0]         op = tokens.next()\n[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]             op = '*'\n[sagelib-9.7.beta0]             tokens.backtrack()\n[sagelib-9.7.beta0]         while op == '*' or op == '/':\n[sagelib-9.7.beta0]                                 ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:833:33: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]             op = '*'\n[sagelib-9.7.beta0]             tokens.backtrack()\n[sagelib-9.7.beta0]         while op == '*' or op == '/':\n[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)\n[sagelib-9.7.beta0]             if op == '*':\n[sagelib-9.7.beta0]                     ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:835:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 operand1 = operand1 * operand2\n[sagelib-9.7.beta0]             else:\n[sagelib-9.7.beta0]                 operand1 = operand1 / operand2\n[sagelib-9.7.beta0]             op = tokens.next()\n[sagelib-9.7.beta0]             if op == NAME and self.implicit_multiplication:\n[sagelib-9.7.beta0]                 op = '*'\n[sagelib-9.7.beta0]                     ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:841:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             -t^2\n[sagelib-9.7.beta0]             sage: p.p_factor(Tokenizer(\"t^11 * x\"))\n[sagelib-9.7.beta0]             t^11\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == '+':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:865:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             t^11\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == '+':\n[sagelib-9.7.beta0]             return self.p_factor(tokens)\n[sagelib-9.7.beta0]         elif token == '-':\n[sagelib-9.7.beta0]                      ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:867:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             factorial(x)^2\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         operand1 = self.p_atom(tokens)\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == '^':\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:901:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         operand1 = self.p_atom(tokens)\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == '^':\n[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)\n[sagelib-9.7.beta0]             return operand1 ** operand2\n[sagelib-9.7.beta0]         elif token == \"!\":\n[sagelib-9.7.beta0]                      ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:904:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)\n[sagelib-9.7.beta0]             return operand1 ** operand2\n[sagelib-9.7.beta0]         elif token == \"!\":\n[sagelib-9.7.beta0]             from sage.functions.all import factorial\n[sagelib-9.7.beta0]             operand1 = factorial(operand1)\n[sagelib-9.7.beta0]             if tokens.peek() == '^':\n[sagelib-9.7.beta0]                                ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:907:32: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         elif token == FLOAT:\n[sagelib-9.7.beta0]             return self.float_constructor(tokens.last_token_string())\n[sagelib-9.7.beta0]         elif token == NAME:\n[sagelib-9.7.beta0]             name = tokens.last_token_string()\n[sagelib-9.7.beta0]             token = tokens.next()\n[sagelib-9.7.beta0]             if token == '(':\n[sagelib-9.7.beta0]                        ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:952:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             token = tokens.next()\n[sagelib-9.7.beta0]             if token == '(':\n[sagelib-9.7.beta0]                 func = self.callable_constructor(name)\n[sagelib-9.7.beta0]                 args, kwds = self.p_args(tokens)\n[sagelib-9.7.beta0]                 token = tokens.next()\n[sagelib-9.7.beta0]                 if token != ')':\n[sagelib-9.7.beta0]                            ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:956:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                     self.parse_error(tokens, \"Bad function call\")\n[sagelib-9.7.beta0]                 return func(*args, **kwds)\n[sagelib-9.7.beta0]             else:\n[sagelib-9.7.beta0]                 tokens.backtrack()\n[sagelib-9.7.beta0]                 return self.variable_constructor(name)\n[sagelib-9.7.beta0]         elif token == '(':\n[sagelib-9.7.beta0]                      ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:962:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]                 tokens.backtrack()\n[sagelib-9.7.beta0]                 return self.variable_constructor(name)\n[sagelib-9.7.beta0]         elif token == '(':\n[sagelib-9.7.beta0]             expr = self.p_expr(tokens)\n[sagelib-9.7.beta0]             token = tokens.next()\n[sagelib-9.7.beta0]             if token != ')':\n[sagelib-9.7.beta0]                        ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:965:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             sage: p.p_args(Tokenizer(\"1, 2, a = 1+5^2\"))\n[sagelib-9.7.beta0]             ([1, 2], {'a': 26})\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         args = []\n[sagelib-9.7.beta0]         kwds = {}\n[sagelib-9.7.beta0]         if tokens.peek() == ')':\n[sagelib-9.7.beta0]                            ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:987:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         args = []\n[sagelib-9.7.beta0]         kwds = {}\n[sagelib-9.7.beta0]         if tokens.peek() == ')':\n[sagelib-9.7.beta0]             return args, kwds\n[sagelib-9.7.beta0]         cdef int token = ','\n[sagelib-9.7.beta0]                         ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:989:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         args = []\n[sagelib-9.7.beta0]         kwds = {}\n[sagelib-9.7.beta0]         if tokens.peek() == ')':\n[sagelib-9.7.beta0]             return args, kwds\n[sagelib-9.7.beta0]         cdef int token = ','\n[sagelib-9.7.beta0]         while token == ',':\n[sagelib-9.7.beta0]                       ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:990:23: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             sage: p.p_arg(Tokenizer(\"[x]\"))\n[sagelib-9.7.beta0]             [x]\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == NAME and tokens.peek() == '=':\n[sagelib-9.7.beta0]                                              ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:1032:46: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         cdef int token = tokens.next()\n[sagelib-9.7.beta0]         if token == NAME and tokens.peek() == '=':\n[sagelib-9.7.beta0]             name = tokens.last_token_string()\n[sagelib-9.7.beta0]             tokens.next()\n[sagelib-9.7.beta0]             return name, self.p_expr(tokens)\n[sagelib-9.7.beta0]         if token == \"[\" :\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/misc/parser.pyx:1036:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] Traceback (most recent call last):\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1274, in cythonize_one_helper\n[sagelib-9.7.beta0]     return cythonize_one(*m)\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1250, in cythonize_one\n[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)\n[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/misc/parser.pyx\n[sagelib-9.7.beta0] [  3/531] Cythonizing sage/rings/real_mpfi.pyx\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         # the right of the last mantissa digit (that is, so the number\n[sagelib-9.7.beta0]         # is mantissa*base^exponent, if you interpret mantissa as an integer).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]         cdef long digits\n[sagelib-9.7.beta0]         digits = strlen(lower_s)\n[sagelib-9.7.beta0]         if lower_s[0] == '-':\n[sagelib-9.7.beta0]                         ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:1946:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         if lower_s[0] == '-':\n[sagelib-9.7.beta0]             digits -= 1\n[sagelib-9.7.beta0]         lower_expo -= digits\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]         digits = strlen(upper_s)\n[sagelib-9.7.beta0]         if upper_s[0] == '-':\n[sagelib-9.7.beta0]                         ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:1951:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]         tmp_cstr = <char *>PyMem_Malloc(mpz_sizeinbase(lower_mpz, base) + 2)\n[sagelib-9.7.beta0]         if tmp_cstr == NULL:\n[sagelib-9.7.beta0]             raise MemoryError(\"Unable to allocate memory for the mantissa of an interval\")\n[sagelib-9.7.beta0]         mpz_get_str(tmp_cstr, base, lower_mpz)\n[sagelib-9.7.beta0]         digits = strlen(tmp_cstr)\n[sagelib-9.7.beta0]         if tmp_cstr[0] == '-':\n[sagelib-9.7.beta0]                          ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:2120:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]     while x[0] == c' ':\n[sagelib-9.7.beta0]         x += 1  # Strip spaces\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]     # Disallow a sign here\n[sagelib-9.7.beta0]     if x[0] == '-' or x[0] == '+':\n[sagelib-9.7.beta0]               ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/integer.pyx:7102:15: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]     while x[0] == c' ':\n[sagelib-9.7.beta0]         x += 1  # Strip spaces\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0]     # Disallow a sign here\n[sagelib-9.7.beta0]     if x[0] == '-' or x[0] == '+':\n[sagelib-9.7.beta0]                              ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/rings/integer.pyx:7102:30: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] Traceback (most recent call last):\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1274, in cythonize_one_helper\n[sagelib-9.7.beta0]     return cythonize_one(*m)\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1250, in cythonize_one\n[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)\n[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/rings/real_mpfi.pyx\n[sagelib-9.7.beta0] [  4/531] Cythonizing sage/symbolic/expression.pyx\n[sagelib-9.7.beta0] Traceback (most recent call last):\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1274, in cythonize_one_helper\n[sagelib-9.7.beta0]     return cythonize_one(*m)\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1250, in cythonize_one\n[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)\n[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/rings/integer.pyx\n[sagelib-9.7.beta0] [  5/531] Cythonizing sage/arith/functions.pyx\n[sagelib-9.7.beta0] [  6/531] Cythonizing sage/arith/power.pyx\n[sagelib-9.7.beta0] [  7/531] Cythonizing sage/arith/rational_reconstruction.pyx\n[sagelib-9.7.beta0] [  8/531] Cythonizing sage/arith/srange.pyx\n[sagelib-9.7.beta0] [  9/531] Cythonizing sage/calculus/integration.pyx\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             2^5\n[sagelib-9.7.beta0]             sage: hold.__exit__()\n[sagelib-9.7.beta0]             sage: SR(2)^5\n[sagelib-9.7.beta0]             32\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         g_set_state('hold', True)\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/symbolic/expression.pyx:14075:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] Error compiling Cython file:\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] ...\n[sagelib-9.7.beta0]             2^5\n[sagelib-9.7.beta0]             sage: hold.__exit__()\n[sagelib-9.7.beta0]             sage: SR(2)^5\n[sagelib-9.7.beta0]             32\n[sagelib-9.7.beta0]         \"\"\"\n[sagelib-9.7.beta0]         g_set_state('hold', False)\n[sagelib-9.7.beta0]                    ^\n[sagelib-9.7.beta0] ------------------------------------------------------------\n[sagelib-9.7.beta0] \n[sagelib-9.7.beta0] sage/symbolic/expression.pyx:14088:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).\n[sagelib-9.7.beta0] Traceback (most recent call last):\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1274, in cythonize_one_helper\n[sagelib-9.7.beta0]     return cythonize_one(*m)\n[sagelib-9.7.beta0]   File \"/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py\", line 1250, in cythonize_one\n[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)\n[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/symbolic/expression.pyx\n```",
    "created_at": "2022-05-25T08:13:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506465",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:35'></a>Actually there are many more errors like that. How about on your platform? 

```python
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             [a 0]
[sagelib-9.7.beta0]             [0 a]
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         if tokens.next() == '(':
[sagelib-9.7.beta0]                            ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:612:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             [0 a]
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         if tokens.next() == '(':
[sagelib-9.7.beta0]             token = ','
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:613:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         if tokens.next() == '(':
[sagelib-9.7.beta0]             token = ','
[sagelib-9.7.beta0]             while token == ',':
[sagelib-9.7.beta0]                           ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:614:27: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             token = ','
[sagelib-9.7.beta0]             while token == ',':
[sagelib-9.7.beta0]                 all.append(self.p_list(tokens))
[sagelib-9.7.beta0]                 token = tokens.next()
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]             if token == ')':
[sagelib-9.7.beta0]                        ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:618:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             [[3, 0]]
[sagelib-9.7.beta0]             sage: p.p_sequence(Tokenizer("(1,2,3) , [1+a, 2+b, (3+c), (4+d,)]"))
[sagelib-9.7.beta0]             [(1, 2, 3), [a + 1, b + 2, c + 3, (d + 4,)]]
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         cdef int token = ','
[sagelib-9.7.beta0]                         ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:640:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             sage: p.p_sequence(Tokenizer("(1,2,3) , [1+a, 2+b, (3+c), (4+d,)]"))
[sagelib-9.7.beta0]             [(1, 2, 3), [a + 1, b + 2, c + 3, (d + 4,)]]
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         all = []
[sagelib-9.7.beta0]         cdef int token = ','
[sagelib-9.7.beta0]         while token == ',':
[sagelib-9.7.beta0]                       ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:641:23: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 if tokens.peek() == c',':
[sagelib-9.7.beta0]                     obj = self.integer_constructor(tokens.last_token_string())
[sagelib-9.7.beta0]                 else:
[sagelib-9.7.beta0]                     tokens.backtrack()
[sagelib-9.7.beta0]                     obj = self.p_eqn(tokens)
[sagelib-9.7.beta0]             elif token == '[':
[sagelib-9.7.beta0]                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:654:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 else:
[sagelib-9.7.beta0]                     tokens.backtrack()
[sagelib-9.7.beta0]                     obj = self.p_eqn(tokens)
[sagelib-9.7.beta0]             elif token == '[':
[sagelib-9.7.beta0]                 obj = self.p_list(tokens)
[sagelib-9.7.beta0]             elif token == '(':
[sagelib-9.7.beta0]                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:656:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 obj = self.p_list(tokens)
[sagelib-9.7.beta0]             elif token == '(':
[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)
[sagelib-9.7.beta0]             elif token == EOS:
[sagelib-9.7.beta0]                 return all
[sagelib-9.7.beta0]             elif token == ']' or token == ')':
[sagelib-9.7.beta0]                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:660:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 obj = self.p_list(tokens)
[sagelib-9.7.beta0]             elif token == '(':
[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)
[sagelib-9.7.beta0]             elif token == EOS:
[sagelib-9.7.beta0]                 return all
[sagelib-9.7.beta0]             elif token == ']' or token == ')':
[sagelib-9.7.beta0]                                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:660:42: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             elif token == '(':
[sagelib-9.7.beta0]                 obj = self.p_tuple(tokens)
[sagelib-9.7.beta0]             elif token == EOS:
[sagelib-9.7.beta0]                 return all
[sagelib-9.7.beta0]             elif token == ']' or token == ')':
[sagelib-9.7.beta0]                 tokens.token = ','
[sagelib-9.7.beta0]                               ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:661:31: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             [3, 1000.0]
[sagelib-9.7.beta0]             sage: p.p_list(Tokenizer("[]"))
[sagelib-9.7.beta0]             []
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token != '[':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:685:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token != '[':
[sagelib-9.7.beta0]             self.parse_error(tokens, "Malformed list")
[sagelib-9.7.beta0]         all = self.p_sequence(tokens)
[sagelib-9.7.beta0]         token = tokens.next()
[sagelib-9.7.beta0]         if token != ']':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:689:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             ((), 1, (1,), (1, 2), (1, 2, 3), 9)
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int start = tokens.pos
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         cdef bint real_tuple = True
[sagelib-9.7.beta0]         if token != '(':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:707:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         all = self.p_sequence(tokens)
[sagelib-9.7.beta0]         if len(all) == 1:
[sagelib-9.7.beta0]             if tokens.last() != c',':
[sagelib-9.7.beta0]                 real_tuple = False
[sagelib-9.7.beta0]         token = tokens.next()
[sagelib-9.7.beta0]         if token != ')':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:714:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             self.parse_error(tokens, "Malformed tuple")
[sagelib-9.7.beta0]         if real_tuple:
[sagelib-9.7.beta0]             return tuple(all)
[sagelib-9.7.beta0]         else:
[sagelib-9.7.beta0]             token = tokens.peek()
[sagelib-9.7.beta0]             if token == ',' or token == EOS:
[sagelib-9.7.beta0]                        ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:720:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             sage: p.p_eqn(Tokenizer("a != b"))
[sagelib-9.7.beta0]             a != b
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         lhs = self.p_expr(tokens)
[sagelib-9.7.beta0]         cdef int op = tokens.next()
[sagelib-9.7.beta0]         if op == '=':
[sagelib-9.7.beta0]                 ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:756:17: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         cdef int op = tokens.next()
[sagelib-9.7.beta0]         if op == '=':
[sagelib-9.7.beta0]             return lhs == self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == NOT_EQ:
[sagelib-9.7.beta0]             return lhs != self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == '<':
[sagelib-9.7.beta0]                   ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:760:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             return lhs != self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == '<':
[sagelib-9.7.beta0]             return lhs < self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == LESS_EQ:
[sagelib-9.7.beta0]             return lhs <= self.p_expr(tokens)
[sagelib-9.7.beta0]         elif op == '>':
[sagelib-9.7.beta0]                   ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:764:19: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse
[sagelib-9.7.beta0]         cdef int op
[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         while op == '+' or op == '-':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:796:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse
[sagelib-9.7.beta0]         cdef int op
[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         while op == '+' or op == '-':
[sagelib-9.7.beta0]                                 ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:796:33: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         cdef int op
[sagelib-9.7.beta0]         operand1 = self.p_term(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         while op == '+' or op == '-':
[sagelib-9.7.beta0]             operand2 = self.p_term(tokens)
[sagelib-9.7.beta0]             if op == '+':
[sagelib-9.7.beta0]                     ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:798:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         # Note: this is left-recursive, so we can't just recurse
[sagelib-9.7.beta0]         cdef int op
[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]             op = '*'
[sagelib-9.7.beta0]                 ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:831:17: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]             op = '*'
[sagelib-9.7.beta0]             tokens.backtrack()
[sagelib-9.7.beta0]         while op == '*' or op == '/':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:833:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         operand1 = self.p_factor(tokens)
[sagelib-9.7.beta0]         op = tokens.next()
[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]             op = '*'
[sagelib-9.7.beta0]             tokens.backtrack()
[sagelib-9.7.beta0]         while op == '*' or op == '/':
[sagelib-9.7.beta0]                                 ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:833:33: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]             op = '*'
[sagelib-9.7.beta0]             tokens.backtrack()
[sagelib-9.7.beta0]         while op == '*' or op == '/':
[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)
[sagelib-9.7.beta0]             if op == '*':
[sagelib-9.7.beta0]                     ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:835:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 operand1 = operand1 * operand2
[sagelib-9.7.beta0]             else:
[sagelib-9.7.beta0]                 operand1 = operand1 / operand2
[sagelib-9.7.beta0]             op = tokens.next()
[sagelib-9.7.beta0]             if op == NAME and self.implicit_multiplication:
[sagelib-9.7.beta0]                 op = '*'
[sagelib-9.7.beta0]                     ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:841:21: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             -t^2
[sagelib-9.7.beta0]             sage: p.p_factor(Tokenizer("t^11 * x"))
[sagelib-9.7.beta0]             t^11
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == '+':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:865:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             t^11
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == '+':
[sagelib-9.7.beta0]             return self.p_factor(tokens)
[sagelib-9.7.beta0]         elif token == '-':
[sagelib-9.7.beta0]                      ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:867:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             factorial(x)^2
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         operand1 = self.p_atom(tokens)
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == '^':
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:901:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         operand1 = self.p_atom(tokens)
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == '^':
[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)
[sagelib-9.7.beta0]             return operand1 ** operand2
[sagelib-9.7.beta0]         elif token == "!":
[sagelib-9.7.beta0]                      ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:904:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             operand2 = self.p_factor(tokens)
[sagelib-9.7.beta0]             return operand1 ** operand2
[sagelib-9.7.beta0]         elif token == "!":
[sagelib-9.7.beta0]             from sage.functions.all import factorial
[sagelib-9.7.beta0]             operand1 = factorial(operand1)
[sagelib-9.7.beta0]             if tokens.peek() == '^':
[sagelib-9.7.beta0]                                ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:907:32: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         elif token == FLOAT:
[sagelib-9.7.beta0]             return self.float_constructor(tokens.last_token_string())
[sagelib-9.7.beta0]         elif token == NAME:
[sagelib-9.7.beta0]             name = tokens.last_token_string()
[sagelib-9.7.beta0]             token = tokens.next()
[sagelib-9.7.beta0]             if token == '(':
[sagelib-9.7.beta0]                        ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:952:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             token = tokens.next()
[sagelib-9.7.beta0]             if token == '(':
[sagelib-9.7.beta0]                 func = self.callable_constructor(name)
[sagelib-9.7.beta0]                 args, kwds = self.p_args(tokens)
[sagelib-9.7.beta0]                 token = tokens.next()
[sagelib-9.7.beta0]                 if token != ')':
[sagelib-9.7.beta0]                            ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:956:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                     self.parse_error(tokens, "Bad function call")
[sagelib-9.7.beta0]                 return func(*args, **kwds)
[sagelib-9.7.beta0]             else:
[sagelib-9.7.beta0]                 tokens.backtrack()
[sagelib-9.7.beta0]                 return self.variable_constructor(name)
[sagelib-9.7.beta0]         elif token == '(':
[sagelib-9.7.beta0]                      ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:962:22: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]                 tokens.backtrack()
[sagelib-9.7.beta0]                 return self.variable_constructor(name)
[sagelib-9.7.beta0]         elif token == '(':
[sagelib-9.7.beta0]             expr = self.p_expr(tokens)
[sagelib-9.7.beta0]             token = tokens.next()
[sagelib-9.7.beta0]             if token != ')':
[sagelib-9.7.beta0]                        ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:965:24: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             sage: p.p_args(Tokenizer("1, 2, a = 1+5^2"))
[sagelib-9.7.beta0]             ([1, 2], {'a': 26})
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         args = []
[sagelib-9.7.beta0]         kwds = {}
[sagelib-9.7.beta0]         if tokens.peek() == ')':
[sagelib-9.7.beta0]                            ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:987:28: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         args = []
[sagelib-9.7.beta0]         kwds = {}
[sagelib-9.7.beta0]         if tokens.peek() == ')':
[sagelib-9.7.beta0]             return args, kwds
[sagelib-9.7.beta0]         cdef int token = ','
[sagelib-9.7.beta0]                         ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:989:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         args = []
[sagelib-9.7.beta0]         kwds = {}
[sagelib-9.7.beta0]         if tokens.peek() == ')':
[sagelib-9.7.beta0]             return args, kwds
[sagelib-9.7.beta0]         cdef int token = ','
[sagelib-9.7.beta0]         while token == ',':
[sagelib-9.7.beta0]                       ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:990:23: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             sage: p.p_arg(Tokenizer("[x]"))
[sagelib-9.7.beta0]             [x]
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == NAME and tokens.peek() == '=':
[sagelib-9.7.beta0]                                              ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:1032:46: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         cdef int token = tokens.next()
[sagelib-9.7.beta0]         if token == NAME and tokens.peek() == '=':
[sagelib-9.7.beta0]             name = tokens.last_token_string()
[sagelib-9.7.beta0]             tokens.next()
[sagelib-9.7.beta0]             return name, self.p_expr(tokens)
[sagelib-9.7.beta0]         if token == "[" :
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/misc/parser.pyx:1036:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] Traceback (most recent call last):
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1274, in cythonize_one_helper
[sagelib-9.7.beta0]     return cythonize_one(*m)
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1250, in cythonize_one
[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)
[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/misc/parser.pyx
[sagelib-9.7.beta0] [  3/531] Cythonizing sage/rings/real_mpfi.pyx
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         # the right of the last mantissa digit (that is, so the number
[sagelib-9.7.beta0]         # is mantissa*base^exponent, if you interpret mantissa as an integer).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]         cdef long digits
[sagelib-9.7.beta0]         digits = strlen(lower_s)
[sagelib-9.7.beta0]         if lower_s[0] == '-':
[sagelib-9.7.beta0]                         ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:1946:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         if lower_s[0] == '-':
[sagelib-9.7.beta0]             digits -= 1
[sagelib-9.7.beta0]         lower_expo -= digits
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]         digits = strlen(upper_s)
[sagelib-9.7.beta0]         if upper_s[0] == '-':
[sagelib-9.7.beta0]                         ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:1951:25: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]         tmp_cstr = <char *>PyMem_Malloc(mpz_sizeinbase(lower_mpz, base) + 2)
[sagelib-9.7.beta0]         if tmp_cstr == NULL:
[sagelib-9.7.beta0]             raise MemoryError("Unable to allocate memory for the mantissa of an interval")
[sagelib-9.7.beta0]         mpz_get_str(tmp_cstr, base, lower_mpz)
[sagelib-9.7.beta0]         digits = strlen(tmp_cstr)
[sagelib-9.7.beta0]         if tmp_cstr[0] == '-':
[sagelib-9.7.beta0]                          ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/real_mpfi.pyx:2120:26: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]     while x[0] == c' ':
[sagelib-9.7.beta0]         x += 1  # Strip spaces
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]     # Disallow a sign here
[sagelib-9.7.beta0]     if x[0] == '-' or x[0] == '+':
[sagelib-9.7.beta0]               ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/integer.pyx:7102:15: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]     while x[0] == c' ':
[sagelib-9.7.beta0]         x += 1  # Strip spaces
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0]     # Disallow a sign here
[sagelib-9.7.beta0]     if x[0] == '-' or x[0] == '+':
[sagelib-9.7.beta0]                              ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/rings/integer.pyx:7102:30: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] Traceback (most recent call last):
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1274, in cythonize_one_helper
[sagelib-9.7.beta0]     return cythonize_one(*m)
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1250, in cythonize_one
[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)
[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/rings/real_mpfi.pyx
[sagelib-9.7.beta0] [  4/531] Cythonizing sage/symbolic/expression.pyx
[sagelib-9.7.beta0] Traceback (most recent call last):
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1274, in cythonize_one_helper
[sagelib-9.7.beta0]     return cythonize_one(*m)
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1250, in cythonize_one
[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)
[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/rings/integer.pyx
[sagelib-9.7.beta0] [  5/531] Cythonizing sage/arith/functions.pyx
[sagelib-9.7.beta0] [  6/531] Cythonizing sage/arith/power.pyx
[sagelib-9.7.beta0] [  7/531] Cythonizing sage/arith/rational_reconstruction.pyx
[sagelib-9.7.beta0] [  8/531] Cythonizing sage/arith/srange.pyx
[sagelib-9.7.beta0] [  9/531] Cythonizing sage/calculus/integration.pyx
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             2^5
[sagelib-9.7.beta0]             sage: hold.__exit__()
[sagelib-9.7.beta0]             sage: SR(2)^5
[sagelib-9.7.beta0]             32
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         g_set_state('hold', True)
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/symbolic/expression.pyx:14075:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] Error compiling Cython file:
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] ...
[sagelib-9.7.beta0]             2^5
[sagelib-9.7.beta0]             sage: hold.__exit__()
[sagelib-9.7.beta0]             sage: SR(2)^5
[sagelib-9.7.beta0]             32
[sagelib-9.7.beta0]         """
[sagelib-9.7.beta0]         g_set_state('hold', False)
[sagelib-9.7.beta0]                    ^
[sagelib-9.7.beta0] ------------------------------------------------------------
[sagelib-9.7.beta0] 
[sagelib-9.7.beta0] sage/symbolic/expression.pyx:14088:20: Unicode literals do not support coercion to C types other than Py_UNICODE/Py_UCS4 (for characters) or Py_UNICODE* (for strings).
[sagelib-9.7.beta0] Traceback (most recent call last):
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1274, in cythonize_one_helper
[sagelib-9.7.beta0]     return cythonize_one(*m)
[sagelib-9.7.beta0]   File "/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/Cython/Build/Dependencies.py", line 1250, in cythonize_one
[sagelib-9.7.beta0]     raise CompileError(None, pyx_file)
[sagelib-9.7.beta0] Cython.Compiler.Errors.CompileError: sage/symbolic/expression.pyx
```



---

archive/issue_comments_506466.json:
```json
{
    "body": "<a id='comment:36'></a>As I said before, I do not see any of these errors on my platform. So it would be much better if someone that does see these errors would take the lead here.",
    "created_at": "2022-05-25T14:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506466",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:36'></a>As I said before, I do not see any of these errors on my platform. So it would be much better if someone that does see these errors would take the lead here.



---

archive/issue_comments_506467.json:
```json
{
    "body": "<a id='comment:37'></a>Replying to [comment:36 chapoton]:\n> As I said before, I do not see any of these errors on my platform. So it would be much better if someone that does see these errors would take the lead here.\n\n\nFirst it should be confirmed that whether these errors depend on platforms. If you don't do clean build, you won't see these errors. Did you do clean build, that is, from scratch? Or do we have different Cython and Python? I have cython-0.29.28 and python-3.9.12.",
    "created_at": "2022-05-26T00:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506467",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:37'></a>Replying to [comment:36 chapoton]:
> As I said before, I do not see any of these errors on my platform. So it would be much better if someone that does see these errors would take the lead here.


First it should be confirmed that whether these errors depend on platforms. If you don't do clean build, you won't see these errors. Did you do clean build, that is, from scratch? Or do we have different Cython and Python? I have cython-0.29.28 and python-3.9.12.



---

archive/issue_comments_506468.json:
```json
{
    "body": "<a id='comment:38'></a>Reference: https://cython.readthedocs.io/en/latest/src/tutorial/strings.html",
    "created_at": "2022-05-26T00:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506468",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:38'></a>Reference: https://cython.readthedocs.io/en/latest/src/tutorial/strings.html



---

archive/issue_comments_506469.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T07:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506470.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T08:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506471.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T08:01:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506472.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T08:24:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506473.json:
```json
{
    "body": "<a id='comment:43'></a>Thanks for the suggestion\n\nI managed to reproduce the failures by building from a fresh clone, and fixed them all.",
    "created_at": "2022-05-26T08:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506473",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:43'></a>Thanks for the suggestion

I managed to reproduce the failures by building from a fresh clone, and fixed them all.



---

archive/issue_comments_506474.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T11:26:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506475.json:
```json
{
    "body": "<a id='comment:45'></a>It builds fine now, but I get these doctest failures:\n\n```\n(1) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/misc/sagedoc.py  # 2 doctests failed\n(2) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/stats/distributions/discrete_gaussian_integer.pyx  # 5 doctests failed\n(3) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/game_theory/normal_form_game.py  # 2 doctests failed\n(4) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/crypto/lwe.py  # 5 doctests failed\n(5) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed\n(6) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/combinat/words/word_datatypes.pyx  # 1 doctest failed\n```\n\n(1), (2), (4), (6) seem related with this ticket.",
    "created_at": "2022-05-26T13:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506475",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:45'></a>It builds fine now, but I get these doctest failures:

```
(1) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/misc/sagedoc.py  # 2 doctests failed
(2) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/stats/distributions/discrete_gaussian_integer.pyx  # 5 doctests failed
(3) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/game_theory/normal_form_game.py  # 2 doctests failed
(4) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/crypto/lwe.py  # 5 doctests failed
(5) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed
(6) sage -t --warn-long 63.9 --random-seed=104722903086769796139384953865663677017 src/sage/combinat/words/word_datatypes.pyx  # 1 doctest failed
```

(1), (2), (4), (6) seem related with this ticket.



---

archive/issue_comments_506476.json:
```json
{
    "body": "<a id='comment:46'></a>\n```\n(1) src/sage/misc/sagedoc.py  # 2 doctests failed\n(2) src/sage/stats/distributions/discrete_gaussian_integer.pyx  # 5 doctests failed\n(4) src/sage/crypto/lwe.py  # 5 doctests failed\n(6) src/sage/combinat/words/word_datatypes.pyx  # 1 doctest failed\n```\n\nIndeed, (3) and (5) pass for me. Let us forget about them.\n\nFor (2) and (4), maybe we could just change the doctests.\n\nFor (1), I suspect that we are going to meet large-scale problem with the doc.\n\nFor (6), I have no clue.",
    "created_at": "2022-05-26T14:03:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506476",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:46'></a>
```
(1) src/sage/misc/sagedoc.py  # 2 doctests failed
(2) src/sage/stats/distributions/discrete_gaussian_integer.pyx  # 5 doctests failed
(4) src/sage/crypto/lwe.py  # 5 doctests failed
(6) src/sage/combinat/words/word_datatypes.pyx  # 1 doctest failed
```

Indeed, (3) and (5) pass for me. Let us forget about them.

For (2) and (4), maybe we could just change the doctests.

For (1), I suspect that we are going to meet large-scale problem with the doc.

For (6), I have no clue.



---

archive/issue_comments_506477.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T14:53:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506477",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506478.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-26T15:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506478",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506479.json:
```json
{
    "body": "<a id='comment:49'></a>we could also easily fix the remaining failing doctests in doc building, but I would prefer to understand why we get this shift by one space there.",
    "created_at": "2022-05-26T18:20:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506479",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:49'></a>we could also easily fix the remaining failing doctests in doc building, but I would prefer to understand why we get this shift by one space there.



---

archive/issue_comments_506480.json:
```json
{
    "body": "<a id='comment:50'></a>The first shift is by\n\n```\nsage: identity_matrix(2).rook_vector.__doc__[20:60]\n\"elf, algorithm=u'ButeraPernici', complem\"\n```\nvs `\"elf, algorithm='ButeraPernici', compleme\"` (without ticket)\n\nI suspect that this insertion of `u` is a bug of Cython since Cython does not need to add `u` for (unicode) strings of Python3...",
    "created_at": "2022-05-27T03:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506480",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:50'></a>The first shift is by

```
sage: identity_matrix(2).rook_vector.__doc__[20:60]
"elf, algorithm=u'ButeraPernici', complem"
```
vs `"elf, algorithm='ButeraPernici', compleme"` (without ticket)

I suspect that this insertion of `u` is a bug of Cython since Cython does not need to add `u` for (unicode) strings of Python3...



---

archive/issue_comments_506481.json:
```json
{
    "body": "<a id='comment:51'></a>Perhaps we need to fix the doctests not to break even after the presumed bug of Cython would be fixed in future.",
    "created_at": "2022-05-27T03:55:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506481",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:51'></a>Perhaps we need to fix the doctests not to break even after the presumed bug of Cython would be fixed in future.



---

archive/issue_comments_506482.json:
```json
{
    "body": "<a id='comment:52'></a>we can change the default to `algorithm=None` instead ?",
    "created_at": "2022-05-27T06:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506482",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:52'></a>we can change the default to `algorithm=None` instead ?



---

archive/issue_comments_506483.json:
```json
{
    "body": "<a id='comment:53'></a>Good idea. That would work.",
    "created_at": "2022-05-27T07:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506483",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:53'></a>Good idea. That would work.



---

archive/issue_comments_506484.json:
```json
{
    "body": "<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-27T13:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506484",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_506485.json:
```json
{
    "body": "<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-05-27T14:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506485",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_506486.json:
```json
{
    "body": "<a id='comment:56'></a>I have fixed the doctests in sagedoc.py and squashed all the commits into one",
    "created_at": "2022-05-27T14:09:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506486",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:56'></a>I have fixed the doctests in sagedoc.py and squashed all the commits into one



---

archive/issue_comments_506487.json:
```json
{
    "body": "<a id='comment:57'></a>Your branch works perfect. Thank you.\n\nOne question. You used many code like `c'x'` to convert a character `x` to integer. Where is this convenient `c` prefix documented? I couldn't find in cython documentation...",
    "created_at": "2022-05-27T22:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506487",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:57'></a>Your branch works perfect. Thank you.

One question. You used many code like `c'x'` to convert a character `x` to integer. Where is this convenient `c` prefix documented? I couldn't find in cython documentation...



---

archive/issue_comments_506488.json:
```json
{
    "body": "<a id='comment:58'></a>no idea. it was already appearing in some places, so I just put it everywhere.",
    "created_at": "2022-05-28T05:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506488",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:58'></a>no idea. it was already appearing in some places, so I just put it everywhere.



---

archive/issue_comments_506489.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-05-28T07:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506489",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_506490.json:
```json
{
    "body": "<a id='comment:59'></a>Replying to [comment:58 chapoton]:\n> no idea. it was already appearing in some places, so I just put it everywhere.\n\n\nInteresting. I could not find an official alternative to that. So let it be.",
    "created_at": "2022-05-28T07:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506490",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:59'></a>Replying to [comment:58 chapoton]:
> no idea. it was already appearing in some places, so I just put it everywhere.


Interesting. I could not find an official alternative to that. So let it be.



---

archive/issue_comments_506491.json:
```json
{
    "body": "<a id='comment:60'></a>This ticket is a good-bye once more to Python 2!",
    "created_at": "2022-05-28T07:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506491",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:60'></a>This ticket is a good-bye once more to Python 2!



---

archive/issue_events_088301.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-29T11:29:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33544#event-88301"
}
```



---

archive/issue_comments_506492.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-29T11:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506492",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_506493.json:
```json
{
    "body": "<a id='comment:62'></a>The ticket description has\n\n> - change the language level from 2 to 3 in specific pyx files\n\n\nDoes this mean some files are left to do?",
    "created_at": "2022-06-24T17:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506493",
    "user": "https://github.com/slel"
}
```

<a id='comment:62'></a>The ticket description has

> - change the language level from 2 to 3 in specific pyx files


Does this mean some files are left to do?



---

archive/issue_comments_506494.json:
```json
{
    "body": "<a id='comment:63'></a>no, everything is done, as far as I can tell\n\n```\ngit grep \"lang.*level\" src/\nsrc/sage/misc/cython.py:    directives = dict(language_level=3, cdivision=True)\nsrc/sage/symbolic/ginac/optional.hpp:# define optional_COMPILER_CLANG_VERSION  optional_COMPILER_VERSION(__clang_major__, __clang_minor__, __clang_patchlevel__)\nsrc/sage_setup/cython_options.py:        language_level=\"3\",\n```",
    "created_at": "2022-06-26T07:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33544",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33544#issuecomment-506494",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:63'></a>no, everything is done, as far as I can tell

```
git grep "lang.*level" src/
src/sage/misc/cython.py:    directives = dict(language_level=3, cdivision=True)
src/sage/symbolic/ginac/optional.hpp:# define optional_COMPILER_CLANG_VERSION  optional_COMPILER_VERSION(__clang_major__, __clang_minor__, __clang_patchlevel__)
src/sage_setup/cython_options.py:        language_level="3",
```
