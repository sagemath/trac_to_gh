# Issue 33810: AlgebraicNumber.exactify() factors integers

archive/issues_033573.json:
```json
{
    "body": "As noted in `qqbar.clear_denominators()`:\n\n```\n    # This algorithm factors the polynomial denominators.\n    # We should check the size of the denominators and switch to\n    # an alternate, less precise algorithm if we decide factoring\n    # would be too slow.\n```\nTest case:\n\n```\nsage: R.<y> = QQ[]\nsage: coefficients_as_integer_ratios = [\n....:     (-2774600080567517563395913264491323241652779066919616441429094563840,\n....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),\n....:     (-24216324060414384566983400245979288839929814383090701293489050615808,\n....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),\n....:     (325579773864372490083706670433410006284520887405882567940047555526656,\n....:      180143564412823751787837643000565238870031999674661705128541236331583133845246252269971),\n....:     (-86736048492777879473586471630941922517134071457946320753641122078523392,\n....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),\n....:     (-2338058278498910195688689352766977573607428722429118859280880481590329344,\n....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),\n....:     (105830270645785996318880019945503938356315302592627229453391693256551317504,\n....:      1381100660498315430373421929671000164670245330839073072652149478542137359480221267403111),\n....:     (1110926147990548796149597141538460730252912439930561079348611699181798425600,\n....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),\n....:     (-89705438380888704653335165590083767769953879654958783855317882966200828559360,\n....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),\n....:     (1151092895747371986483047191334923516591005329489629755485810229546333821625856,\n....:      1381100660498315430373421929671000164670245330839073072652149478542137359480221267403111),\n....:     (24725641793859400310483886670136079788266826658111372723121573233077840328938576,\n....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),\n....:     (-31051495080139473677925068000403254349133134904365702868216464107777210775457136,\n....:      153455628944257270041491325519000018296693925648785896961349942060237484386691251933679),\n....:     (9431591461895130351865642769482226964622378075329823505708119342634182162193000560,\n....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),\n....:     (1721694880863483428337378731387732043714427651970488363462560317808769716807148992,\n....:      153455628944257270041491325519000018296693925648785896961349942060237484386691251933679),\n....:     (255327752077837584624694974814916395144764296822788813014081161094149724325120096,\n....:      27080405107810106477910233915117650287651869232138687699061754481218379597651397400061),\n....:     (238105337335596176836773151768694069523377650990453522899627157538495252117232992338,\n....:      27080405107810106477910233915117650287651869232138687699061754481218379597651397400061),\n....:     (1255826892296350234297164500548658984205287902407560187136301197703464130999349114638,\n....:      14336685057075938723599535602121108975815695475838128781856222960645024492874269211797),\n....:     (1, 1)]\nsage: p = R(coefficients_as_integer_ratios)\nsage: QQbar.polynomial_root(\n....:     AA.common_polynomial(p),\n....:     CIF(RIF(-RR(0.036151142425748496), -RR(0.036151142425748489)),\n....:     RIF(-RR(0.011298617187916445), -RR(0.011298617187916443))))\n-0.03615114242574849? - 0.011298617187916444?*I\nsage: a.exactify()\n```\n\nCC:  @slel\n\nIssue created by migration from https://trac.sagemath.org/ticket/33810\n\n",
    "created_at": "2022-05-05T15:27:34Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "AlgebraicNumber.exactify() factors integers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33810",
    "user": "https://github.com/mezzarobba"
}
```
As noted in `qqbar.clear_denominators()`:

```
    # This algorithm factors the polynomial denominators.
    # We should check the size of the denominators and switch to
    # an alternate, less precise algorithm if we decide factoring
    # would be too slow.
```
Test case:

```
sage: R.<y> = QQ[]
sage: coefficients_as_integer_ratios = [
....:     (-2774600080567517563395913264491323241652779066919616441429094563840,
....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),
....:     (-24216324060414384566983400245979288839929814383090701293489050615808,
....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),
....:     (325579773864372490083706670433410006284520887405882567940047555526656,
....:      180143564412823751787837643000565238870031999674661705128541236331583133845246252269971),
....:     (-86736048492777879473586471630941922517134071457946320753641122078523392,
....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),
....:     (-2338058278498910195688689352766977573607428722429118859280880481590329344,
....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),
....:     (105830270645785996318880019945503938356315302592627229453391693256551317504,
....:      1381100660498315430373421929671000164670245330839073072652149478542137359480221267403111),
....:     (1110926147990548796149597141538460730252912439930561079348611699181798425600,
....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),
....:     (-89705438380888704653335165590083767769953879654958783855317882966200828559360,
....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),
....:     (1151092895747371986483047191334923516591005329489629755485810229546333821625856,
....:      1381100660498315430373421929671000164670245330839073072652149478542137359480221267403111),
....:     (24725641793859400310483886670136079788266826658111372723121573233077840328938576,
....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),
....:     (-31051495080139473677925068000403254349133134904365702868216464107777210775457136,
....:      153455628944257270041491325519000018296693925648785896961349942060237484386691251933679),
....:     (9431591461895130351865642769482226964622378075329823505708119342634182162193000560,
....:      4143301981494946291120265789013000494010735992517219217956448435626412078440663802209333),
....:     (1721694880863483428337378731387732043714427651970488363462560317808769716807148992,
....:      153455628944257270041491325519000018296693925648785896961349942060237484386691251933679),
....:     (255327752077837584624694974814916395144764296822788813014081161094149724325120096,
....:      27080405107810106477910233915117650287651869232138687699061754481218379597651397400061),
....:     (238105337335596176836773151768694069523377650990453522899627157538495252117232992338,
....:      27080405107810106477910233915117650287651869232138687699061754481218379597651397400061),
....:     (1255826892296350234297164500548658984205287902407560187136301197703464130999349114638,
....:      14336685057075938723599535602121108975815695475838128781856222960645024492874269211797),
....:     (1, 1)]
sage: p = R(coefficients_as_integer_ratios)
sage: QQbar.polynomial_root(
....:     AA.common_polynomial(p),
....:     CIF(RIF(-RR(0.036151142425748496), -RR(0.036151142425748489)),
....:     RIF(-RR(0.011298617187916445), -RR(0.011298617187916443))))
-0.03615114242574849? - 0.011298617187916444?*I
sage: a.exactify()
```

CC:  @slel

Issue created by migration from https://trac.sagemath.org/ticket/33810





---

archive/issue_events_088791.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33810",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33810#event-88791"
}
```
