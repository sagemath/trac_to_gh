# Issue 33557: FormalPolyhedraModule should check polyhedra for dimension

archive/issues_033320.json:
```json
{
    "body": "Currently, the class `FormalPolyhedraModule` does not check the dimensions of the inputted polyhedra. For example:\n\n```\nsage: from sage.geometry.polyhedron.modules.formal_polyhedra_module import FormalPolyhedraModule\nsage: P = polytopes.hypercube(1)\nsage: Q = polytopes.hypercube(2)\nsage: R = polytopes.hypercube(3)\nsage: M = FormalPolyhedraModule(QQ,2,[P, Q, R]); M\nFree module generated by {A 1-dimensional polyhedron in ZZ^1 defined as the convex hull of 2 vertices, A 2-dimensional polyhedron in ZZ^2 defined as the convex hull of 4 vertices, A 3-dimensional polyhedron in ZZ^3 defined as the convex hull of 8 vertices} over Rational Field\n```\n\nWant: The construction should return an error when trying to use polyhedra not fitting the ambient dimension.\n\n**CC:**  @mkoeppe\n\n**Branch/Commit:** [350e87a068902f6097de93b02c5517d2547f5338](https://github.com/sagemath/sagetrac-mirror/commit/350e87a068902f6097de93b02c5517d2547f5338)\n\n**Reviewer:** Matthias Koeppe\n\n**Author:** Louis Ng\n\nIssue created by migration from https://trac.sagemath.org/ticket/33557\n\n",
    "closed_at": "2022-05-29T11:28:53Z",
    "created_at": "2022-03-24T15:32:46Z",
    "labels": [
        "component: geometry",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "FormalPolyhedraModule should check polyhedra for dimension",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33557",
    "user": "https://github.com/louisng114"
}
```
Currently, the class `FormalPolyhedraModule` does not check the dimensions of the inputted polyhedra. For example:

```
sage: from sage.geometry.polyhedron.modules.formal_polyhedra_module import FormalPolyhedraModule
sage: P = polytopes.hypercube(1)
sage: Q = polytopes.hypercube(2)
sage: R = polytopes.hypercube(3)
sage: M = FormalPolyhedraModule(QQ,2,[P, Q, R]); M
Free module generated by {A 1-dimensional polyhedron in ZZ^1 defined as the convex hull of 2 vertices, A 2-dimensional polyhedron in ZZ^2 defined as the convex hull of 4 vertices, A 3-dimensional polyhedron in ZZ^3 defined as the convex hull of 8 vertices} over Rational Field
```

Want: The construction should return an error when trying to use polyhedra not fitting the ambient dimension.

**CC:**  @mkoeppe

**Branch/Commit:** [350e87a068902f6097de93b02c5517d2547f5338](https://github.com/sagemath/sagetrac-mirror/commit/350e87a068902f6097de93b02c5517d2547f5338)

**Reviewer:** Matthias Koeppe

**Author:** Louis Ng

Issue created by migration from https://trac.sagemath.org/ticket/33557





---

archive/issue_comments_639222.json:
```json
{
    "body": "<a id='comment:1'></a>\nGood idea",
    "created_at": "2022-03-24T16:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639222",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
Good idea



---

archive/issue_events_099080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:45:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33557#event-99080"
}
```



---

archive/issue_comments_639223.json:
```json
{
    "body": "**Author:** Louis Ng",
    "created_at": "2022-05-20T18:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639223",
    "user": "https://github.com/louisng114"
}
```

**Author:** Louis Ng



---

archive/issue_comments_639224.json:
```json
{
    "body": "**Branch:** [public/33557](https://github.com/sagemath/sagetrac-mirror/tree/public/33557)",
    "created_at": "2022-05-20T18:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639224",
    "user": "https://github.com/louisng114"
}
```

**Branch:** [public/33557](https://github.com/sagemath/sagetrac-mirror/tree/public/33557)



---

archive/issue_comments_639225.json:
```json
{
    "body": "**Commit:** [55b66e01ac89a1b1d34826dfb1d824db20cde256](https://github.com/sagemath/sagetrac-mirror/commit/55b66e01ac89a1b1d34826dfb1d824db20cde256)",
    "created_at": "2022-05-20T18:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639225",
    "user": "https://github.com/louisng114"
}
```

**Commit:** [55b66e01ac89a1b1d34826dfb1d824db20cde256](https://github.com/sagemath/sagetrac-mirror/commit/55b66e01ac89a1b1d34826dfb1d824db20cde256)



---

archive/issue_comments_639226.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe1f7132e5021f0b45b107bb958ed11b3137a606\">fe1f713</a></td><td><code>remove unintended change carried over from another branch</code></td></tr></table>\n",
    "created_at": "2022-05-20T23:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe1f7132e5021f0b45b107bb958ed11b3137a606">fe1f713</a></td><td><code>remove unintended change carried over from another branch</code></td></tr></table>




---

archive/issue_comments_639227.json:
```json
{
    "body": "**Changing commit** from \"[55b66e01ac89a1b1d34826dfb1d824db20cde256](https://github.com/sagemath/sagetrac-mirror/commit/55b66e01ac89a1b1d34826dfb1d824db20cde256)\" to \"[fe1f7132e5021f0b45b107bb958ed11b3137a606](https://github.com/sagemath/sagetrac-mirror/commit/fe1f7132e5021f0b45b107bb958ed11b3137a606)\".",
    "created_at": "2022-05-20T23:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639227",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[55b66e01ac89a1b1d34826dfb1d824db20cde256](https://github.com/sagemath/sagetrac-mirror/commit/55b66e01ac89a1b1d34826dfb1d824db20cde256)" to "[fe1f7132e5021f0b45b107bb958ed11b3137a606](https://github.com/sagemath/sagetrac-mirror/commit/fe1f7132e5021f0b45b107bb958ed11b3137a606)".



---

archive/issue_comments_639228.json:
```json
{
    "body": "**Changing commit** from \"[fe1f7132e5021f0b45b107bb958ed11b3137a606](https://github.com/sagemath/sagetrac-mirror/commit/fe1f7132e5021f0b45b107bb958ed11b3137a606)\" to \"[a2dba94846e7013ec322850aaa0ab23c63ecad25](https://github.com/sagemath/sagetrac-mirror/commit/a2dba94846e7013ec322850aaa0ab23c63ecad25)\".",
    "created_at": "2022-05-21T00:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fe1f7132e5021f0b45b107bb958ed11b3137a606](https://github.com/sagemath/sagetrac-mirror/commit/fe1f7132e5021f0b45b107bb958ed11b3137a606)" to "[a2dba94846e7013ec322850aaa0ab23c63ecad25](https://github.com/sagemath/sagetrac-mirror/commit/a2dba94846e7013ec322850aaa0ab23c63ecad25)".



---

archive/issue_comments_639229.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2dba94846e7013ec322850aaa0ab23c63ecad25\">a2dba94</a></td><td><code>removed unnecessary import</code></td></tr></table>\n",
    "created_at": "2022-05-21T00:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2dba94846e7013ec322850aaa0ab23c63ecad25">a2dba94</a></td><td><code>removed unnecessary import</code></td></tr></table>




---

archive/issue_comments_639230.json:
```json
{
    "body": "<a id='comment:6'></a>\nif this is ready for review, set the ticket to \"needs_review\"",
    "created_at": "2022-05-24T01:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639230",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
if this is ready for review, set the ticket to "needs_review"



---

archive/issue_comments_639231.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2022-05-24T17:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639231",
    "user": "https://github.com/louisng114"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_639232.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ee71b5be9548734e247466f98c97df51ace5237\">2ee71b5</a></td><td><code>added check for class and dimension when the input is a list or tuple</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/350e87a068902f6097de93b02c5517d2547f5338\">350e87a</a></td><td><code>removed unnecessary import</code></td></tr></table>\n",
    "created_at": "2022-05-24T17:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639232",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ee71b5be9548734e247466f98c97df51ace5237">2ee71b5</a></td><td><code>added check for class and dimension when the input is a list or tuple</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/350e87a068902f6097de93b02c5517d2547f5338">350e87a</a></td><td><code>removed unnecessary import</code></td></tr></table>




---

archive/issue_comments_639233.json:
```json
{
    "body": "**Changing commit** from \"[a2dba94846e7013ec322850aaa0ab23c63ecad25](https://github.com/sagemath/sagetrac-mirror/commit/a2dba94846e7013ec322850aaa0ab23c63ecad25)\" to \"[350e87a068902f6097de93b02c5517d2547f5338](https://github.com/sagemath/sagetrac-mirror/commit/350e87a068902f6097de93b02c5517d2547f5338)\".",
    "created_at": "2022-05-24T17:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639233",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a2dba94846e7013ec322850aaa0ab23c63ecad25](https://github.com/sagemath/sagetrac-mirror/commit/a2dba94846e7013ec322850aaa0ab23c63ecad25)" to "[350e87a068902f6097de93b02c5517d2547f5338](https://github.com/sagemath/sagetrac-mirror/commit/350e87a068902f6097de93b02c5517d2547f5338)".



---

archive/issue_comments_639234.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2022-05-24T23:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639234",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_comments_639235.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-05-24T23:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639235",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_639236.json:
```json
{
    "body": "**Changing branch** from \"[public/33557](https://github.com/sagemath/sagetrac-mirror/tree/public/33557)\" to \"[350e87a068902f6097de93b02c5517d2547f5338](https://github.com/sagemath/sagetrac-mirror/commit/350e87a068902f6097de93b02c5517d2547f5338)\".",
    "created_at": "2022-05-29T11:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33557#issuecomment-639236",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/33557](https://github.com/sagemath/sagetrac-mirror/tree/public/33557)" to "[350e87a068902f6097de93b02c5517d2547f5338](https://github.com/sagemath/sagetrac-mirror/commit/350e87a068902f6097de93b02c5517d2547f5338)".



---

archive/issue_events_099081.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-29T11:28:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33557",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33557#event-99081"
}
```
