# Issue 33757: commutativity test

archive/issues_033520.json:
```json
{
    "body": "In several places the commutativity of a ring is tested via `isinstance(base_ring, sage.rings.ring.CommutativeRing)` rather than `base_ring in sage.categories.commutative_rings.CommutativeRings()`. This makes it impossible to have a nicely interacting ring that would just inherit from `Parent`.\n\nNote that the answers from `ring.is_commutative()` and `ring in CommutativeRings()` could be different : the former tests the category initialization whether the second could involve some (possibly costly) checks.\n\nThe same remark applies to\n- integral domains\n- fields\n- ...\n\nSee also #32810\n\nCC:  @mantepse @tscrim @xcaruso\n\nBranch/Commit: b9e410d28fbf2ca2c66194071d88073ab2f655b3\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33757\n\n",
    "closed_at": "2022-12-11T11:11:43Z",
    "created_at": "2022-04-25T10:15:16Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "commutativity test",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33757",
    "user": "https://github.com/videlec"
}
```
In several places the commutativity of a ring is tested via `isinstance(base_ring, sage.rings.ring.CommutativeRing)` rather than `base_ring in sage.categories.commutative_rings.CommutativeRings()`. This makes it impossible to have a nicely interacting ring that would just inherit from `Parent`.

Note that the answers from `ring.is_commutative()` and `ring in CommutativeRings()` could be different : the former tests the category initialization whether the second could involve some (possibly costly) checks.

The same remark applies to
- integral domains
- fields
- ...

See also #32810

CC:  @mantepse @tscrim @xcaruso

Branch/Commit: b9e410d28fbf2ca2c66194071d88073ab2f655b3

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33757





---

archive/issue_comments_673316.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,9 @@\n \n Note that the answers from `ring.is_commutative()` and `ring in CommutativeRings()` could be different : the former tests the category initialization whether the second could involve some (possibly costly) checks.\n \n+The same remark applies to\n+- integral domains\n+- fields\n+- ...\n+\n See also #32810\n``````\n",
    "created_at": "2022-04-25T10:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673316",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,9 @@
 
 Note that the answers from `ring.is_commutative()` and `ring in CommutativeRings()` could be different : the former tests the category initialization whether the second could involve some (possibly costly) checks.
 
+The same remark applies to
+- integral domains
+- fields
+- ...
+
 See also #32810
``````




---

archive/issue_events_088698.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-88698"
}
```



---

archive/issue_comments_673317.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/33757\"",
    "created_at": "2022-07-03T20:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673317",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/33757"



---

archive/issue_comments_673318.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[8bb08fa](https://git.sagemath.org/sage.git/commit?id=8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af)|`more usage of the category Rings().Commutative()`|",
    "created_at": "2022-07-03T20:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673318",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[8bb08fa](https://git.sagemath.org/sage.git/commit?id=8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af)|`more usage of the category Rings().Commutative()`|



---

archive/issue_comments_673319.json:
```json
{
    "body": "Changing commit from \"\" to \"8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af\"",
    "created_at": "2022-07-03T20:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673319",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af"



---

archive/issue_comments_673320.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-07-03T20:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673320",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_673321.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[a51e017](https://git.sagemath.org/sage.git/commit/?id=a51e01723f1eb0158641f0c043a68505c4236de1)|`fix typo`|",
    "created_at": "2022-07-04T06:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[a51e017](https://git.sagemath.org/sage.git/commit/?id=a51e01723f1eb0158641f0c043a68505c4236de1)|`fix typo`|



---

archive/issue_comments_673322.json:
```json
{
    "body": "Changing commit from \"8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af\" to \"a51e01723f1eb0158641f0c043a68505c4236de1\"",
    "created_at": "2022-07-04T06:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af" to "a51e01723f1eb0158641f0c043a68505c4236de1"



---

archive/issue_comments_673323.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[00bd035](https://git.sagemath.org/sage.git/commit/?id=00bd035e05f647057c05cb268a6d133aa69a7c9e)|`fix Wehler K3`|",
    "created_at": "2022-07-04T07:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[00bd035](https://git.sagemath.org/sage.git/commit/?id=00bd035e05f647057c05cb268a6d133aa69a7c9e)|`fix Wehler K3`|



---

archive/issue_comments_673324.json:
```json
{
    "body": "Changing commit from \"a51e01723f1eb0158641f0c043a68505c4236de1\" to \"00bd035e05f647057c05cb268a6d133aa69a7c9e\"",
    "created_at": "2022-07-04T07:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a51e01723f1eb0158641f0c043a68505c4236de1" to "00bd035e05f647057c05cb268a6d133aa69a7c9e"



---

archive/issue_comments_673325.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[281ed92](https://git.sagemath.org/sage.git/commit/?id=281ed9282d0efa97c7e76ac721427da313360fb1)|`fix some failures`|",
    "created_at": "2022-07-04T12:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[281ed92](https://git.sagemath.org/sage.git/commit/?id=281ed9282d0efa97c7e76ac721427da313360fb1)|`fix some failures`|



---

archive/issue_comments_673326.json:
```json
{
    "body": "Changing commit from \"00bd035e05f647057c05cb268a6d133aa69a7c9e\" to \"281ed9282d0efa97c7e76ac721427da313360fb1\"",
    "created_at": "2022-07-04T12:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "00bd035e05f647057c05cb268a6d133aa69a7c9e" to "281ed9282d0efa97c7e76ac721427da313360fb1"



---

archive/issue_comments_673327.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[f329d7a](https://git.sagemath.org/sage.git/commit/?id=f329d7ab2f9deb962567992f43e2d1c1a11933d2)|`fix broken line`|",
    "created_at": "2022-07-04T14:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673327",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[f329d7a](https://git.sagemath.org/sage.git/commit/?id=f329d7ab2f9deb962567992f43e2d1c1a11933d2)|`fix broken line`|



---

archive/issue_comments_673328.json:
```json
{
    "body": "Changing commit from \"281ed9282d0efa97c7e76ac721427da313360fb1\" to \"f329d7ab2f9deb962567992f43e2d1c1a11933d2\"",
    "created_at": "2022-07-04T14:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "281ed9282d0efa97c7e76ac721427da313360fb1" to "f329d7ab2f9deb962567992f43e2d1c1a11933d2"



---

archive/issue_comments_673329.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[78bd4ab](https://git.sagemath.org/sage.git/commit/?id=78bd4ab601d87b8c70da2834ffb546857136c79b)|`fix category for complex_double field`|",
    "created_at": "2022-07-04T14:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673329",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[78bd4ab](https://git.sagemath.org/sage.git/commit/?id=78bd4ab601d87b8c70da2834ffb546857136c79b)|`fix category for complex_double field`|



---

archive/issue_comments_673330.json:
```json
{
    "body": "Changing commit from \"f329d7ab2f9deb962567992f43e2d1c1a11933d2\" to \"78bd4ab601d87b8c70da2834ffb546857136c79b\"",
    "created_at": "2022-07-04T14:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f329d7ab2f9deb962567992f43e2d1c1a11933d2" to "78bd4ab601d87b8c70da2834ffb546857136c79b"



---

archive/issue_comments_673331.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[d1507e4](https://git.sagemath.org/sage.git/commit/?id=d1507e466cae8f23da7024c722d55b1c64e2c2d0)|`undo change in homset`|",
    "created_at": "2022-07-04T19:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[d1507e4](https://git.sagemath.org/sage.git/commit/?id=d1507e466cae8f23da7024c722d55b1c64e2c2d0)|`undo change in homset`|



---

archive/issue_comments_673332.json:
```json
{
    "body": "Changing commit from \"78bd4ab601d87b8c70da2834ffb546857136c79b\" to \"d1507e466cae8f23da7024c722d55b1c64e2c2d0\"",
    "created_at": "2022-07-04T19:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "78bd4ab601d87b8c70da2834ffb546857136c79b" to "d1507e466cae8f23da7024c722d55b1c64e2c2d0"



---

archive/issue_comments_673333.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[2618407](https://git.sagemath.org/sage.git/commit/?id=26184075c7230dccb6afbf84f04aa3f49644b35c)|`undo change in scheme points`|",
    "created_at": "2022-07-05T06:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673333",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[2618407](https://git.sagemath.org/sage.git/commit/?id=26184075c7230dccb6afbf84f04aa3f49644b35c)|`undo change in scheme points`|



---

archive/issue_comments_673334.json:
```json
{
    "body": "Changing commit from \"d1507e466cae8f23da7024c722d55b1c64e2c2d0\" to \"26184075c7230dccb6afbf84f04aa3f49644b35c\"",
    "created_at": "2022-07-05T06:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d1507e466cae8f23da7024c722d55b1c64e2c2d0" to "26184075c7230dccb6afbf84f04aa3f49644b35c"



---

archive/issue_comments_673335.json:
```json
{
    "body": "<a id='comment:11'></a>\nremains only an issue with lazy rings..",
    "created_at": "2022-07-05T09:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673335",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
remains only an issue with lazy rings..



---

archive/issue_comments_673336.json:
```json
{
    "body": "<a id='comment:12'></a>\nany idea about the issue in lazy series ?",
    "created_at": "2022-07-05T09:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673336",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
any idea about the issue in lazy series ?



---

archive/issue_comments_673337.json:
```json
{
    "body": "<a id='comment:13'></a>\nmaybe because in vanilla sage:\n\n```\nsage: A.<t> = LazyLaurentSeriesRing(QQ)\nsage: A in Rings()\nTrue\nsage: A in Rings().Commutative()\nTrue\nsage: A in CommutativeRings()\nTrue\nsage: isinstance(A, CommutativeRing)\nFalse\nsage: isinstance(A, Ring)\nFalse\n```\ncompare to\n\n```\nsage: A.<t> = LaurentSeriesRing(QQ)\nsage: A in CommutativeRings()\nTrue\nsage: A in Rings().Commutative()\nTrue\nsage: isinstance(A, Ring)\nTrue\nsage: isinstance(A, CommutativeRing)\nTrue\n```",
    "created_at": "2022-07-05T15:45:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673337",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
maybe because in vanilla sage:

```
sage: A.<t> = LazyLaurentSeriesRing(QQ)
sage: A in Rings()
True
sage: A in Rings().Commutative()
True
sage: A in CommutativeRings()
True
sage: isinstance(A, CommutativeRing)
False
sage: isinstance(A, Ring)
False
```
compare to

```
sage: A.<t> = LaurentSeriesRing(QQ)
sage: A in CommutativeRings()
True
sage: A in Rings().Commutative()
True
sage: isinstance(A, Ring)
True
sage: isinstance(A, CommutativeRing)
True
```



---

archive/issue_comments_673338.json:
```json
{
    "body": "<a id='comment:15'></a>\nAs a first step:\n\n```\nsage: A.<t> = LazyLaurentSeriesRing(QQ)\nsage: PolynomialRing(A, \"x\")\n```\nfails, but I don't understand why.",
    "created_at": "2022-07-05T19:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673338",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:15'></a>
As a first step:

```
sage: A.<t> = LazyLaurentSeriesRing(QQ)
sage: PolynomialRing(A, "x")
```
fails, but I don't understand why.



---

archive/issue_comments_673339.json:
```json
{
    "body": "<a id='comment:16'></a>\nIndeed, it's the same problem, that seems to be an issue in constructing the coercion from the base ring. On the other hand, this works with polynomials in several variables\n\n```\nsage: PolynomialRing(A,'x,y')\nMultivariate Polynomial Ring in x, y over Lazy Laurent Series Ring in t over Rational Field\nsage: x,y=_.gens()\nsage: x*y\nx*y\n```",
    "created_at": "2022-07-06T07:05:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673339",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
Indeed, it's the same problem, that seems to be an issue in constructing the coercion from the base ring. On the other hand, this works with polynomials in several variables

```
sage: PolynomialRing(A,'x,y')
Multivariate Polynomial Ring in x, y over Lazy Laurent Series Ring in t over Rational Field
sage: x,y=_.gens()
sage: x*y
x*y
```



---

archive/issue_comments_673340.json:
```json
{
    "body": "<a id='comment:17'></a>\nA tiny step forward:\n\nwith (!) your patch, we are calling `Polynomial_generic_dense_inexact.__normalize` (which fails!), whereas without your patch, we are calling `Polynomial_generic_dense.__normalize` (which succeeds).",
    "created_at": "2022-07-06T08:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673340",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:17'></a>
A tiny step forward:

with (!) your patch, we are calling `Polynomial_generic_dense_inexact.__normalize` (which fails!), whereas without your patch, we are calling `Polynomial_generic_dense.__normalize` (which succeeds).



---

archive/issue_comments_673341.json:
```json
{
    "body": "<a id='comment:18'></a>\nYet another tiny step, probably already noticed by Frederic:\n\nWithout the patch, after the function `PolynomialRing` delegates to `_single_variate`, we check\n\n```\n        if not isinstance(base_ring, ring.CommutativeRing):\n            constructor = polynomial_ring.PolynomialRing_general\n```\nwhich succeeds, because `A.<t> = LazyLaurentSeriesRing(QQ)` does not inherit from `CommutativeRing`.\n\nWith the patch, however, we have instead\n\n```\n        if base_ring not in _CommutativeRings:\n            constructor = polynomial_ring.PolynomialRing_general\n        elif base_ring in _CompleteDiscreteValuationRings:\n            constructor = polynomial_ring.PolynomialRing_cdvr\n        elif base_ring in _CompleteDiscreteValuationFields:\n            constructor = polynomial_ring.PolynomialRing_cdvf\n```\nand, since `A in _CommutativeRings`, it is the last check here which succeeds.\n\nIt is only afterwards that things go wrong: the `element_class` of `PolynomialRing_cdvf` in the dense case is `Polynomial_generic_dense_cdvf`.  This class inherits from `Polynomial_generic_dense_inexact`, which looks wrong to me, because `LazyLaurentSeriesRing(QQ)` is an exact ring.\n\nI don't know whom to ask at this point.  More precisely:\n\n* why does `Polynomial_generic_dense_cdvf` inherit from `Polynomial_generic_dense_inexact` rather than `Polynomial_generic_dense`?  Note that this seems to be the only place where `Polynomial_generic_dense_inexact` is used.\n\n* even if this is wrong, I think that this is only masking a further bug - `LazyLaurentSeriesRing` should work just the same over inexact rings.",
    "created_at": "2022-07-07T12:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673341",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:18'></a>
Yet another tiny step, probably already noticed by Frederic:

Without the patch, after the function `PolynomialRing` delegates to `_single_variate`, we check

```
        if not isinstance(base_ring, ring.CommutativeRing):
            constructor = polynomial_ring.PolynomialRing_general
```
which succeeds, because `A.<t> = LazyLaurentSeriesRing(QQ)` does not inherit from `CommutativeRing`.

With the patch, however, we have instead

```
        if base_ring not in _CommutativeRings:
            constructor = polynomial_ring.PolynomialRing_general
        elif base_ring in _CompleteDiscreteValuationRings:
            constructor = polynomial_ring.PolynomialRing_cdvr
        elif base_ring in _CompleteDiscreteValuationFields:
            constructor = polynomial_ring.PolynomialRing_cdvf
```
and, since `A in _CommutativeRings`, it is the last check here which succeeds.

It is only afterwards that things go wrong: the `element_class` of `PolynomialRing_cdvf` in the dense case is `Polynomial_generic_dense_cdvf`.  This class inherits from `Polynomial_generic_dense_inexact`, which looks wrong to me, because `LazyLaurentSeriesRing(QQ)` is an exact ring.

I don't know whom to ask at this point.  More precisely:

* why does `Polynomial_generic_dense_cdvf` inherit from `Polynomial_generic_dense_inexact` rather than `Polynomial_generic_dense`?  Note that this seems to be the only place where `Polynomial_generic_dense_inexact` is used.

* even if this is wrong, I think that this is only masking a further bug - `LazyLaurentSeriesRing` should work just the same over inexact rings.



---

archive/issue_comments_673342.json:
```json
{
    "body": "<a id='comment:19'></a>\nMaybe Xavier will have an opinion..",
    "created_at": "2022-07-07T13:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673342",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
Maybe Xavier will have an opinion..



---

archive/issue_comments_673343.json:
```json
{
    "body": "<a id='comment:20'></a>\nI tried to make `LazyCauchyProductSeries` inherit from `RingElement`, but this causes sage to crash:\n\n```\nsage: L.<z> = LazyLaurentSeriesRing(ZZ)\nsage: 2*z\nboom\n```",
    "created_at": "2022-07-07T13:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673343",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:20'></a>
I tried to make `LazyCauchyProductSeries` inherit from `RingElement`, but this causes sage to crash:

```
sage: L.<z> = LazyLaurentSeriesRing(ZZ)
sage: 2*z
boom
```



---

archive/issue_comments_673344.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-07-11T19:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673344",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_673345.json:
```json
{
    "body": "Changing commit from \"26184075c7230dccb6afbf84f04aa3f49644b35c\" to \"7adafd24dbfa96105e0d30dc6d76798aaf71e305\"",
    "created_at": "2022-08-08T12:53:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "26184075c7230dccb6afbf84f04aa3f49644b35c" to "7adafd24dbfa96105e0d30dc6d76798aaf71e305"



---

archive/issue_comments_673346.json:
```json
{
    "body": "<a id='comment:22'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[7adafd2](https://git.sagemath.org/sage.git/commit/?id=7adafd24dbfa96105e0d30dc6d76798aaf71e305)|`Merge branch 'u/chapoton/33757' in 9.7.b8`|",
    "created_at": "2022-08-08T12:53:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[7adafd2](https://git.sagemath.org/sage.git/commit/?id=7adafd24dbfa96105e0d30dc6d76798aaf71e305)|`Merge branch 'u/chapoton/33757' in 9.7.b8`|



---

archive/issue_comments_673347.json:
```json
{
    "body": "<a id='comment:23'></a>\nIn my opinion, all this says that there must be something rather wrong in Lazy Laurent ring.\n\nMaybe Travis would know better how to fix things ?",
    "created_at": "2022-08-15T06:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673347",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
In my opinion, all this says that there must be something rather wrong in Lazy Laurent ring.

Maybe Travis would know better how to fix things ?



---

archive/issue_comments_673348.json:
```json
{
    "body": "<a id='comment:24'></a>\nI know Martin showed me what he did, but I cannot reproduce[comment:20](#comment%3A20). I am doing on top of this ticket:\n\n```diff\ndiff --git a/src/sage/rings/lazy_series.py b/src/sage/rings/lazy_series.py\nindex c5034928ab..19657c5559 100644\n--- a/src/sage/rings/lazy_series.py\n+++ b/src/sage/rings/lazy_series.py\n@@ -87,7 +87,7 @@ AUTHORS:\n #                  https://www.gnu.org/licenses/\n # ****************************************************************************\n \n-from sage.structure.element import Element, parent\n+from sage.structure.element import Element, parent, ModuleElement, RingElement\n from sage.structure.richcmp import op_EQ, op_NE\n from sage.functions.other import factorial\n from sage.arith.power import generic_power\n@@ -114,7 +114,7 @@ from sage.data_structures.stream import (\n     Stream_dirichlet_invert\n )\n \n-class LazyModuleElement(Element):\n+class LazyModuleElement(ModuleElement):\n     r\"\"\"\n     A lazy sequence with a module structure given by term-wise\n     addition and scalar multiplication.\n@@ -1974,7 +1974,7 @@ class LazyModuleElement(Element):\n         return self ** (1/ZZ(2))\n \n \n-class LazyCauchyProductSeries(LazyModuleElement):\n+class LazyCauchyProductSeries(RingElement, LazyModuleElement):\n     r\"\"\"\n     A class for series where multiplication is the Cauchy product.\n \n```",
    "created_at": "2022-08-15T06:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673348",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
I know Martin showed me what he did, but I cannot reproduce[comment:20](#comment%3A20). I am doing on top of this ticket:

```diff
diff --git a/src/sage/rings/lazy_series.py b/src/sage/rings/lazy_series.py
index c5034928ab..19657c5559 100644
--- a/src/sage/rings/lazy_series.py
+++ b/src/sage/rings/lazy_series.py
@@ -87,7 +87,7 @@ AUTHORS:
 #                  https://www.gnu.org/licenses/
 # ****************************************************************************
 
-from sage.structure.element import Element, parent
+from sage.structure.element import Element, parent, ModuleElement, RingElement
 from sage.structure.richcmp import op_EQ, op_NE
 from sage.functions.other import factorial
 from sage.arith.power import generic_power
@@ -114,7 +114,7 @@ from sage.data_structures.stream import (
     Stream_dirichlet_invert
 )
 
-class LazyModuleElement(Element):
+class LazyModuleElement(ModuleElement):
     r"""
     A lazy sequence with a module structure given by term-wise
     addition and scalar multiplication.
@@ -1974,7 +1974,7 @@ class LazyModuleElement(Element):
         return self ** (1/ZZ(2))
 
 
-class LazyCauchyProductSeries(LazyModuleElement):
+class LazyCauchyProductSeries(RingElement, LazyModuleElement):
     r"""
     A class for series where multiplication is the Cauchy product.
 
```



---

archive/issue_comments_673349.json:
```json
{
    "body": "Changing commit from \"7adafd24dbfa96105e0d30dc6d76798aaf71e305\" to \"252220c9afb6cf1a0fd8402c727a8ef66b2167bb\"",
    "created_at": "2022-08-18T07:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673349",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7adafd24dbfa96105e0d30dc6d76798aaf71e305" to "252220c9afb6cf1a0fd8402c727a8ef66b2167bb"



---

archive/issue_comments_673350.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[252220c](https://git.sagemath.org/sage.git/commit/?id=252220c9afb6cf1a0fd8402c727a8ef66b2167bb)|`trying Travis suggestions`|",
    "created_at": "2022-08-18T07:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673350",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[252220c](https://git.sagemath.org/sage.git/commit/?id=252220c9afb6cf1a0fd8402c727a8ef66b2167bb)|`trying Travis suggestions`|



---

archive/issue_comments_673351.json:
```json
{
    "body": "<a id='comment:26'></a>\nhhmm, one then meets something like this\n\n```\nFile \"src/sage/rings/lazy_series.py\", line 3375, in sage.rings.lazy_series.LazyDirichletSeries._format_series\nFailed example:\n    f = D([2, 0, 1/(1-z), 3]); f\nExpected:\n    (2)/1^s + ((1+z+z^2+z^3+z^4+z^5+z^6+O(z^7))/3^s) + (3)/4^s\nGot:\n    Traceback (most recent call last):\n      File \"sage/structure/element.pyx\", line 1112, in sage.structure.element.Element.__richcmp__\n      File \"sage/structure/coerce.pyx\", line 1981, in sage.structure.coerce.CoercionModel.richcmp\n      File \"sage/structure/element.pyx\", line 1110, in sage.structure.element.Element.__richcmp__\n      File \"sage/structure/element.pyx\", line 1114, in sage.structure.element.Element._richcmp_\n      File \"/home/chapoton/sage/src/sage/rings/lazy_series.py\", line 512, in _richcmp_\n        raise ValueError(\"undecidable\")\netc...\n```",
    "created_at": "2022-08-18T13:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673351",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>
hhmm, one then meets something like this

```
File "src/sage/rings/lazy_series.py", line 3375, in sage.rings.lazy_series.LazyDirichletSeries._format_series
Failed example:
    f = D([2, 0, 1/(1-z), 3]); f
Expected:
    (2)/1^s + ((1+z+z^2+z^3+z^4+z^5+z^6+O(z^7))/3^s) + (3)/4^s
Got:
    Traceback (most recent call last):
      File "sage/structure/element.pyx", line 1112, in sage.structure.element.Element.__richcmp__
      File "sage/structure/coerce.pyx", line 1981, in sage.structure.coerce.CoercionModel.richcmp
      File "sage/structure/element.pyx", line 1110, in sage.structure.element.Element.__richcmp__
      File "sage/structure/element.pyx", line 1114, in sage.structure.element.Element._richcmp_
      File "/home/chapoton/sage/src/sage/rings/lazy_series.py", line 512, in _richcmp_
        raise ValueError("undecidable")
etc...
```



---

archive/issue_comments_673352.json:
```json
{
    "body": "<a id='comment:27'></a>\nMy guess is that is coming from `_lmul_`/`_rmul_` versus `_acted_upon_` not playing nicely. There are some annoying subtle incompatibilities that come up when dealing with `ModuleElement` and some Cython behaviors IIRC.",
    "created_at": "2022-08-19T05:40:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673352",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>
My guess is that is coming from `_lmul_`/`_rmul_` versus `_acted_upon_` not playing nicely. There are some annoying subtle incompatibilities that come up when dealing with `ModuleElement` and some Cython behaviors IIRC.



---

archive/issue_comments_673353.json:
```json
{
    "body": "Changing commit from \"252220c9afb6cf1a0fd8402c727a8ef66b2167bb\" to \"04b6a75f42079f2ffc9030ba1620c65c2cbc8828\"",
    "created_at": "2022-09-01T07:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673353",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "252220c9afb6cf1a0fd8402c727a8ef66b2167bb" to "04b6a75f42079f2ffc9030ba1620c65c2cbc8828"



---

archive/issue_comments_673354.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[04b6a75](https://git.sagemath.org/sage.git/commit/?id=04b6a75f42079f2ffc9030ba1620c65c2cbc8828)|`Merge branch 'u/chapoton/33757' in 9.7.rc0`|",
    "created_at": "2022-09-01T07:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673354",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[04b6a75](https://git.sagemath.org/sage.git/commit/?id=04b6a75f42079f2ffc9030ba1620c65c2cbc8828)|`Merge branch 'u/chapoton/33757' in 9.7.rc0`|



---

archive/issue_events_088699.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-88699"
}
```



---

archive/issue_events_088700.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-88700"
}
```



---

archive/issue_comments_673355.json:
```json
{
    "body": "Changing commit from \"04b6a75f42079f2ffc9030ba1620c65c2cbc8828\" to \"eaec9f05abe66784a2d49c508ea3111e99378513\"",
    "created_at": "2022-10-01T11:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673355",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "04b6a75f42079f2ffc9030ba1620c65c2cbc8828" to "eaec9f05abe66784a2d49c508ea3111e99378513"



---

archive/issue_comments_673356.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[eaec9f0](https://git.sagemath.org/sage.git/commit/?id=eaec9f05abe66784a2d49c508ea3111e99378513)|`Merge branch 'u/chapoton/33757' in 9.8.b1`|",
    "created_at": "2022-10-01T11:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673356",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[eaec9f0](https://git.sagemath.org/sage.git/commit/?id=eaec9f05abe66784a2d49c508ea3111e99378513)|`Merge branch 'u/chapoton/33757' in 9.8.b1`|



---

archive/issue_comments_673357.json:
```json
{
    "body": "<a id='comment:31'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[b9e410d](https://git.sagemath.org/sage.git/commit/?id=b9e410d28fbf2ca2c66194071d88073ab2f655b3)|`Merge branch 'u/chapoton/33757' in 9.8.b4`|",
    "created_at": "2022-11-30T14:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673357",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[b9e410d](https://git.sagemath.org/sage.git/commit/?id=b9e410d28fbf2ca2c66194071d88073ab2f655b3)|`Merge branch 'u/chapoton/33757' in 9.8.b4`|



---

archive/issue_comments_673358.json:
```json
{
    "body": "Changing commit from \"eaec9f05abe66784a2d49c508ea3111e99378513\" to \"b9e410d28fbf2ca2c66194071d88073ab2f655b3\"",
    "created_at": "2022-11-30T14:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673358",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "eaec9f05abe66784a2d49c508ea3111e99378513" to "b9e410d28fbf2ca2c66194071d88073ab2f655b3"



---

archive/issue_comments_673359.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-11-30T16:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673359",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_673360.json:
```json
{
    "body": "<a id='comment:32'></a>\nand the bot is green !! if the github badge is also green in a few hours, one may want to jump on the occasion",
    "created_at": "2022-11-30T16:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673360",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'></a>
and the bot is green !! if the github badge is also green in a few hours, one may want to jump on the occasion



---

archive/issue_comments_673361.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-01T00:07:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673361",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_673362.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2022-12-01T00:07:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673362",
    "user": "https://github.com/tscrim"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_673363.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2022-12-01T00:07:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673363",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_673364.json:
```json
{
    "body": "<a id='comment:33'></a>\nLet it be so.",
    "created_at": "2022-12-01T00:07:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673364",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>
Let it be so.



---

archive/issue_comments_673365.json:
```json
{
    "body": "Changing branch from \"u/chapoton/33757\" to \"b9e410d28fbf2ca2c66194071d88073ab2f655b3\"",
    "created_at": "2022-12-11T11:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673365",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/33757" to "b9e410d28fbf2ca2c66194071d88073ab2f655b3"



---

archive/issue_comments_673366.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-12-11T11:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-673366",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_088701.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-11T11:11:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-88701"
}
```
