# Issue 33757: commutativity test

archive/issues_033520.json:
```json
{
    "body": "In several places the commutativity of a ring is tested via `isinstance(base_ring, sage.rings.ring.CommutativeRing)` rather than `base_ring in sage.categories.commutative_rings.CommutativeRings()`. This makes it impossible to have a nicely interacting ring that would just inherit from `Parent`.\n\nNote that the answers from `ring.is_commutative()` and `ring in CommutativeRings()` could be different : the former tests the category initialization whether the second could involve some (possibly costly) checks.\n\nThe same remark applies to\n- integral domains\n- fields\n- ...\n\nSee also #32810\n\n**CC:**  @mantepse @tscrim @xcaruso\n\n**Branch/Commit:** [b9e410d28fbf2ca2c66194071d88073ab2f655b3](https://github.com/sagemath/sagetrac-mirror/commit/b9e410d28fbf2ca2c66194071d88073ab2f655b3)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/33757\n\n",
    "closed_at": "2022-12-11T11:11:43Z",
    "created_at": "2022-04-25T10:15:16Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "commutativity test",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33757",
    "user": "https://github.com/videlec"
}
```
In several places the commutativity of a ring is tested via `isinstance(base_ring, sage.rings.ring.CommutativeRing)` rather than `base_ring in sage.categories.commutative_rings.CommutativeRings()`. This makes it impossible to have a nicely interacting ring that would just inherit from `Parent`.

Note that the answers from `ring.is_commutative()` and `ring in CommutativeRings()` could be different : the former tests the category initialization whether the second could involve some (possibly costly) checks.

The same remark applies to
- integral domains
- fields
- ...

See also #32810

**CC:**  @mantepse @tscrim @xcaruso

**Branch/Commit:** [b9e410d28fbf2ca2c66194071d88073ab2f655b3](https://github.com/sagemath/sagetrac-mirror/commit/b9e410d28fbf2ca2c66194071d88073ab2f655b3)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/33757





---

archive/issue_comments_548308.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,9 @@\n \n Note that the answers from `ring.is_commutative()` and `ring in CommutativeRings()` could be different : the former tests the category initialization whether the second could involve some (possibly costly) checks.\n \n+The same remark applies to\n+- integral domains\n+- fields\n+- ...\n+\n See also #32810\n``````\n",
    "created_at": "2022-04-25T10:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548308",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,9 @@
 
 Note that the answers from `ring.is_commutative()` and `ring in CommutativeRings()` could be different : the former tests the category initialization whether the second could involve some (possibly costly) checks.
 
+The same remark applies to
+- integral domains
+- fields
+- ...
+
 See also #32810
``````




---

archive/issue_events_301792.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301792"
}
```



---

archive/issue_events_301793.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301793"
}
```



---

archive/issue_comments_548309.json:
```json
{
    "body": "**Branch:** [u/chapoton/33757](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33757)",
    "created_at": "2022-07-03T20:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548309",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/33757](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33757)



---

archive/issue_comments_548310.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af\">8bb08fa</a></td><td><code>more usage of the category Rings().Commutative()</code></td></tr></table>\n",
    "created_at": "2022-07-03T20:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548310",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af">8bb08fa</a></td><td><code>more usage of the category Rings().Commutative()</code></td></tr></table>




---

archive/issue_comments_548311.json:
```json
{
    "body": "**Commit:** [8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af](https://github.com/sagemath/sagetrac-mirror/commit/8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af)",
    "created_at": "2022-07-03T20:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548311",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af](https://github.com/sagemath/sagetrac-mirror/commit/8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af)



---

archive/issue_events_301794.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-07-03T20:24:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301794"
}
```



---

archive/issue_comments_548312.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a51e01723f1eb0158641f0c043a68505c4236de1\">a51e017</a></td><td><code>fix typo</code></td></tr></table>\n",
    "created_at": "2022-07-04T06:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a51e01723f1eb0158641f0c043a68505c4236de1">a51e017</a></td><td><code>fix typo</code></td></tr></table>




---

archive/issue_comments_548313.json:
```json
{
    "body": "**Changing commit** from \"[8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af](https://github.com/sagemath/sagetrac-mirror/commit/8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af)\" to \"[a51e01723f1eb0158641f0c043a68505c4236de1](https://github.com/sagemath/sagetrac-mirror/commit/a51e01723f1eb0158641f0c043a68505c4236de1)\".",
    "created_at": "2022-07-04T06:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af](https://github.com/sagemath/sagetrac-mirror/commit/8bb08fa7933cfc3d6e520a7233e55aaee9a5d1af)" to "[a51e01723f1eb0158641f0c043a68505c4236de1](https://github.com/sagemath/sagetrac-mirror/commit/a51e01723f1eb0158641f0c043a68505c4236de1)".



---

archive/issue_comments_548314.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00bd035e05f647057c05cb268a6d133aa69a7c9e\">00bd035</a></td><td><code>fix Wehler K3</code></td></tr></table>\n",
    "created_at": "2022-07-04T07:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00bd035e05f647057c05cb268a6d133aa69a7c9e">00bd035</a></td><td><code>fix Wehler K3</code></td></tr></table>




---

archive/issue_comments_548315.json:
```json
{
    "body": "**Changing commit** from \"[a51e01723f1eb0158641f0c043a68505c4236de1](https://github.com/sagemath/sagetrac-mirror/commit/a51e01723f1eb0158641f0c043a68505c4236de1)\" to \"[00bd035e05f647057c05cb268a6d133aa69a7c9e](https://github.com/sagemath/sagetrac-mirror/commit/00bd035e05f647057c05cb268a6d133aa69a7c9e)\".",
    "created_at": "2022-07-04T07:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a51e01723f1eb0158641f0c043a68505c4236de1](https://github.com/sagemath/sagetrac-mirror/commit/a51e01723f1eb0158641f0c043a68505c4236de1)" to "[00bd035e05f647057c05cb268a6d133aa69a7c9e](https://github.com/sagemath/sagetrac-mirror/commit/00bd035e05f647057c05cb268a6d133aa69a7c9e)".



---

archive/issue_comments_548316.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/281ed9282d0efa97c7e76ac721427da313360fb1\">281ed92</a></td><td><code>fix some failures</code></td></tr></table>\n",
    "created_at": "2022-07-04T12:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/281ed9282d0efa97c7e76ac721427da313360fb1">281ed92</a></td><td><code>fix some failures</code></td></tr></table>




---

archive/issue_comments_548317.json:
```json
{
    "body": "**Changing commit** from \"[00bd035e05f647057c05cb268a6d133aa69a7c9e](https://github.com/sagemath/sagetrac-mirror/commit/00bd035e05f647057c05cb268a6d133aa69a7c9e)\" to \"[281ed9282d0efa97c7e76ac721427da313360fb1](https://github.com/sagemath/sagetrac-mirror/commit/281ed9282d0efa97c7e76ac721427da313360fb1)\".",
    "created_at": "2022-07-04T12:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[00bd035e05f647057c05cb268a6d133aa69a7c9e](https://github.com/sagemath/sagetrac-mirror/commit/00bd035e05f647057c05cb268a6d133aa69a7c9e)" to "[281ed9282d0efa97c7e76ac721427da313360fb1](https://github.com/sagemath/sagetrac-mirror/commit/281ed9282d0efa97c7e76ac721427da313360fb1)".



---

archive/issue_comments_548318.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f329d7ab2f9deb962567992f43e2d1c1a11933d2\">f329d7a</a></td><td><code>fix broken line</code></td></tr></table>\n",
    "created_at": "2022-07-04T14:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f329d7ab2f9deb962567992f43e2d1c1a11933d2">f329d7a</a></td><td><code>fix broken line</code></td></tr></table>




---

archive/issue_comments_548319.json:
```json
{
    "body": "**Changing commit** from \"[281ed9282d0efa97c7e76ac721427da313360fb1](https://github.com/sagemath/sagetrac-mirror/commit/281ed9282d0efa97c7e76ac721427da313360fb1)\" to \"[f329d7ab2f9deb962567992f43e2d1c1a11933d2](https://github.com/sagemath/sagetrac-mirror/commit/f329d7ab2f9deb962567992f43e2d1c1a11933d2)\".",
    "created_at": "2022-07-04T14:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[281ed9282d0efa97c7e76ac721427da313360fb1](https://github.com/sagemath/sagetrac-mirror/commit/281ed9282d0efa97c7e76ac721427da313360fb1)" to "[f329d7ab2f9deb962567992f43e2d1c1a11933d2](https://github.com/sagemath/sagetrac-mirror/commit/f329d7ab2f9deb962567992f43e2d1c1a11933d2)".



---

archive/issue_comments_548320.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78bd4ab601d87b8c70da2834ffb546857136c79b\">78bd4ab</a></td><td><code>fix category for complex_double field</code></td></tr></table>\n",
    "created_at": "2022-07-04T14:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78bd4ab601d87b8c70da2834ffb546857136c79b">78bd4ab</a></td><td><code>fix category for complex_double field</code></td></tr></table>




---

archive/issue_comments_548321.json:
```json
{
    "body": "**Changing commit** from \"[f329d7ab2f9deb962567992f43e2d1c1a11933d2](https://github.com/sagemath/sagetrac-mirror/commit/f329d7ab2f9deb962567992f43e2d1c1a11933d2)\" to \"[78bd4ab601d87b8c70da2834ffb546857136c79b](https://github.com/sagemath/sagetrac-mirror/commit/78bd4ab601d87b8c70da2834ffb546857136c79b)\".",
    "created_at": "2022-07-04T14:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f329d7ab2f9deb962567992f43e2d1c1a11933d2](https://github.com/sagemath/sagetrac-mirror/commit/f329d7ab2f9deb962567992f43e2d1c1a11933d2)" to "[78bd4ab601d87b8c70da2834ffb546857136c79b](https://github.com/sagemath/sagetrac-mirror/commit/78bd4ab601d87b8c70da2834ffb546857136c79b)".



---

archive/issue_comments_548322.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1507e466cae8f23da7024c722d55b1c64e2c2d0\">d1507e4</a></td><td><code>undo change in homset</code></td></tr></table>\n",
    "created_at": "2022-07-04T19:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1507e466cae8f23da7024c722d55b1c64e2c2d0">d1507e4</a></td><td><code>undo change in homset</code></td></tr></table>




---

archive/issue_comments_548323.json:
```json
{
    "body": "**Changing commit** from \"[78bd4ab601d87b8c70da2834ffb546857136c79b](https://github.com/sagemath/sagetrac-mirror/commit/78bd4ab601d87b8c70da2834ffb546857136c79b)\" to \"[d1507e466cae8f23da7024c722d55b1c64e2c2d0](https://github.com/sagemath/sagetrac-mirror/commit/d1507e466cae8f23da7024c722d55b1c64e2c2d0)\".",
    "created_at": "2022-07-04T19:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[78bd4ab601d87b8c70da2834ffb546857136c79b](https://github.com/sagemath/sagetrac-mirror/commit/78bd4ab601d87b8c70da2834ffb546857136c79b)" to "[d1507e466cae8f23da7024c722d55b1c64e2c2d0](https://github.com/sagemath/sagetrac-mirror/commit/d1507e466cae8f23da7024c722d55b1c64e2c2d0)".



---

archive/issue_comments_548324.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26184075c7230dccb6afbf84f04aa3f49644b35c\">2618407</a></td><td><code>undo change in scheme points</code></td></tr></table>\n",
    "created_at": "2022-07-05T06:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26184075c7230dccb6afbf84f04aa3f49644b35c">2618407</a></td><td><code>undo change in scheme points</code></td></tr></table>




---

archive/issue_comments_548325.json:
```json
{
    "body": "**Changing commit** from \"[d1507e466cae8f23da7024c722d55b1c64e2c2d0](https://github.com/sagemath/sagetrac-mirror/commit/d1507e466cae8f23da7024c722d55b1c64e2c2d0)\" to \"[26184075c7230dccb6afbf84f04aa3f49644b35c](https://github.com/sagemath/sagetrac-mirror/commit/26184075c7230dccb6afbf84f04aa3f49644b35c)\".",
    "created_at": "2022-07-05T06:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1507e466cae8f23da7024c722d55b1c64e2c2d0](https://github.com/sagemath/sagetrac-mirror/commit/d1507e466cae8f23da7024c722d55b1c64e2c2d0)" to "[26184075c7230dccb6afbf84f04aa3f49644b35c](https://github.com/sagemath/sagetrac-mirror/commit/26184075c7230dccb6afbf84f04aa3f49644b35c)".



---

archive/issue_comments_548326.json:
```json
{
    "body": "<a id='comment:11'></a>\nremains only an issue with lazy rings..",
    "created_at": "2022-07-05T09:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548326",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
remains only an issue with lazy rings..



---

archive/issue_comments_548327.json:
```json
{
    "body": "<a id='comment:12'></a>\nany idea about the issue in lazy series ?",
    "created_at": "2022-07-05T09:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548327",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
any idea about the issue in lazy series ?



---

archive/issue_comments_548328.json:
```json
{
    "body": "<a id='comment:13'></a>\nmaybe because in vanilla sage:\n\n```\nsage: A.<t> = LazyLaurentSeriesRing(QQ)\nsage: A in Rings()\nTrue\nsage: A in Rings().Commutative()\nTrue\nsage: A in CommutativeRings()\nTrue\nsage: isinstance(A, CommutativeRing)\nFalse\nsage: isinstance(A, Ring)\nFalse\n```\ncompare to\n\n```\nsage: A.<t> = LaurentSeriesRing(QQ)\nsage: A in CommutativeRings()\nTrue\nsage: A in Rings().Commutative()\nTrue\nsage: isinstance(A, Ring)\nTrue\nsage: isinstance(A, CommutativeRing)\nTrue\n```",
    "created_at": "2022-07-05T15:45:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548328",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
maybe because in vanilla sage:

```
sage: A.<t> = LazyLaurentSeriesRing(QQ)
sage: A in Rings()
True
sage: A in Rings().Commutative()
True
sage: A in CommutativeRings()
True
sage: isinstance(A, CommutativeRing)
False
sage: isinstance(A, Ring)
False
```
compare to

```
sage: A.<t> = LaurentSeriesRing(QQ)
sage: A in CommutativeRings()
True
sage: A in Rings().Commutative()
True
sage: isinstance(A, Ring)
True
sage: isinstance(A, CommutativeRing)
True
```



---

archive/issue_comments_548329.json:
```json
{
    "body": "<a id='comment:15'></a>\nAs a first step:\n\n```\nsage: A.<t> = LazyLaurentSeriesRing(QQ)\nsage: PolynomialRing(A, \"x\")\n```\nfails, but I don't understand why.",
    "created_at": "2022-07-05T19:52:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548329",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:15'></a>
As a first step:

```
sage: A.<t> = LazyLaurentSeriesRing(QQ)
sage: PolynomialRing(A, "x")
```
fails, but I don't understand why.



---

archive/issue_comments_548330.json:
```json
{
    "body": "<a id='comment:16'></a>\nIndeed, it's the same problem, that seems to be an issue in constructing the coercion from the base ring. On the other hand, this works with polynomials in several variables\n\n```\nsage: PolynomialRing(A,'x,y')\nMultivariate Polynomial Ring in x, y over Lazy Laurent Series Ring in t over Rational Field\nsage: x,y=_.gens()\nsage: x*y\nx*y\n```",
    "created_at": "2022-07-06T07:05:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548330",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
Indeed, it's the same problem, that seems to be an issue in constructing the coercion from the base ring. On the other hand, this works with polynomials in several variables

```
sage: PolynomialRing(A,'x,y')
Multivariate Polynomial Ring in x, y over Lazy Laurent Series Ring in t over Rational Field
sage: x,y=_.gens()
sage: x*y
x*y
```



---

archive/issue_comments_548331.json:
```json
{
    "body": "<a id='comment:17'></a>\nA tiny step forward:\n\nwith (!) your patch, we are calling `Polynomial_generic_dense_inexact.__normalize` (which fails!), whereas without your patch, we are calling `Polynomial_generic_dense.__normalize` (which succeeds).",
    "created_at": "2022-07-06T08:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548331",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:17'></a>
A tiny step forward:

with (!) your patch, we are calling `Polynomial_generic_dense_inexact.__normalize` (which fails!), whereas without your patch, we are calling `Polynomial_generic_dense.__normalize` (which succeeds).



---

archive/issue_comments_548332.json:
```json
{
    "body": "<a id='comment:18'></a>\nYet another tiny step, probably already noticed by Frederic:\n\nWithout the patch, after the function `PolynomialRing` delegates to `_single_variate`, we check\n\n```\n        if not isinstance(base_ring, ring.CommutativeRing):\n            constructor = polynomial_ring.PolynomialRing_general\n```\nwhich succeeds, because `A.<t> = LazyLaurentSeriesRing(QQ)` does not inherit from `CommutativeRing`.\n\nWith the patch, however, we have instead\n\n```\n        if base_ring not in _CommutativeRings:\n            constructor = polynomial_ring.PolynomialRing_general\n        elif base_ring in _CompleteDiscreteValuationRings:\n            constructor = polynomial_ring.PolynomialRing_cdvr\n        elif base_ring in _CompleteDiscreteValuationFields:\n            constructor = polynomial_ring.PolynomialRing_cdvf\n```\nand, since `A in _CommutativeRings`, it is the last check here which succeeds.\n\nIt is only afterwards that things go wrong: the `element_class` of `PolynomialRing_cdvf` in the dense case is `Polynomial_generic_dense_cdvf`.  This class inherits from `Polynomial_generic_dense_inexact`, which looks wrong to me, because `LazyLaurentSeriesRing(QQ)` is an exact ring.\n\nI don't know whom to ask at this point.  More precisely:\n\n* why does `Polynomial_generic_dense_cdvf` inherit from `Polynomial_generic_dense_inexact` rather than `Polynomial_generic_dense`?  Note that this seems to be the only place where `Polynomial_generic_dense_inexact` is used.\n\n* even if this is wrong, I think that this is only masking a further bug - `LazyLaurentSeriesRing` should work just the same over inexact rings.",
    "created_at": "2022-07-07T12:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548332",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:18'></a>
Yet another tiny step, probably already noticed by Frederic:

Without the patch, after the function `PolynomialRing` delegates to `_single_variate`, we check

```
        if not isinstance(base_ring, ring.CommutativeRing):
            constructor = polynomial_ring.PolynomialRing_general
```
which succeeds, because `A.<t> = LazyLaurentSeriesRing(QQ)` does not inherit from `CommutativeRing`.

With the patch, however, we have instead

```
        if base_ring not in _CommutativeRings:
            constructor = polynomial_ring.PolynomialRing_general
        elif base_ring in _CompleteDiscreteValuationRings:
            constructor = polynomial_ring.PolynomialRing_cdvr
        elif base_ring in _CompleteDiscreteValuationFields:
            constructor = polynomial_ring.PolynomialRing_cdvf
```
and, since `A in _CommutativeRings`, it is the last check here which succeeds.

It is only afterwards that things go wrong: the `element_class` of `PolynomialRing_cdvf` in the dense case is `Polynomial_generic_dense_cdvf`.  This class inherits from `Polynomial_generic_dense_inexact`, which looks wrong to me, because `LazyLaurentSeriesRing(QQ)` is an exact ring.

I don't know whom to ask at this point.  More precisely:

* why does `Polynomial_generic_dense_cdvf` inherit from `Polynomial_generic_dense_inexact` rather than `Polynomial_generic_dense`?  Note that this seems to be the only place where `Polynomial_generic_dense_inexact` is used.

* even if this is wrong, I think that this is only masking a further bug - `LazyLaurentSeriesRing` should work just the same over inexact rings.



---

archive/issue_comments_548333.json:
```json
{
    "body": "<a id='comment:19'></a>\nMaybe Xavier will have an opinion..",
    "created_at": "2022-07-07T13:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548333",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
Maybe Xavier will have an opinion..



---

archive/issue_comments_548334.json:
```json
{
    "body": "<a id='comment:20'></a>\nI tried to make `LazyCauchyProductSeries` inherit from `RingElement`, but this causes sage to crash:\n\n```\nsage: L.<z> = LazyLaurentSeriesRing(ZZ)\nsage: 2*z\nboom\n```",
    "created_at": "2022-07-07T13:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548334",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:20'></a>
I tried to make `LazyCauchyProductSeries` inherit from `RingElement`, but this causes sage to crash:

```
sage: L.<z> = LazyLaurentSeriesRing(ZZ)
sage: 2*z
boom
```



---

archive/issue_events_301795.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2022-07-11T19:30:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301795"
}
```



---

archive/issue_events_301796.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2022-07-11T19:30:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301796"
}
```



---

archive/issue_comments_548335.json:
```json
{
    "body": "**Changing commit** from \"[26184075c7230dccb6afbf84f04aa3f49644b35c](https://github.com/sagemath/sagetrac-mirror/commit/26184075c7230dccb6afbf84f04aa3f49644b35c)\" to \"[7adafd24dbfa96105e0d30dc6d76798aaf71e305](https://github.com/sagemath/sagetrac-mirror/commit/7adafd24dbfa96105e0d30dc6d76798aaf71e305)\".",
    "created_at": "2022-08-08T12:53:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548335",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[26184075c7230dccb6afbf84f04aa3f49644b35c](https://github.com/sagemath/sagetrac-mirror/commit/26184075c7230dccb6afbf84f04aa3f49644b35c)" to "[7adafd24dbfa96105e0d30dc6d76798aaf71e305](https://github.com/sagemath/sagetrac-mirror/commit/7adafd24dbfa96105e0d30dc6d76798aaf71e305)".



---

archive/issue_comments_548336.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7adafd24dbfa96105e0d30dc6d76798aaf71e305\">7adafd2</a></td><td><code>Merge branch 'u/chapoton/33757' in 9.7.b8</code></td></tr></table>\n",
    "created_at": "2022-08-08T12:53:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7adafd24dbfa96105e0d30dc6d76798aaf71e305">7adafd2</a></td><td><code>Merge branch 'u/chapoton/33757' in 9.7.b8</code></td></tr></table>




---

archive/issue_comments_548337.json:
```json
{
    "body": "<a id='comment:23'></a>\nIn my opinion, all this says that there must be something rather wrong in Lazy Laurent ring.\n\nMaybe Travis would know better how to fix things ?",
    "created_at": "2022-08-15T06:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548337",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
In my opinion, all this says that there must be something rather wrong in Lazy Laurent ring.

Maybe Travis would know better how to fix things ?



---

archive/issue_comments_548338.json:
```json
{
    "body": "<a id='comment:24'></a>\nI know Martin showed me what he did, but I cannot reproduce [comment:20](#comment%3A20). I am doing on top of this ticket:\n\n```diff\ndiff --git a/src/sage/rings/lazy_series.py b/src/sage/rings/lazy_series.py\nindex c5034928ab..19657c5559 100644\n--- a/src/sage/rings/lazy_series.py\n+++ b/src/sage/rings/lazy_series.py\n@@ -87,7 +87,7 @@ AUTHORS:\n #                  https://www.gnu.org/licenses/\n # ****************************************************************************\n \n-from sage.structure.element import Element, parent\n+from sage.structure.element import Element, parent, ModuleElement, RingElement\n from sage.structure.richcmp import op_EQ, op_NE\n from sage.functions.other import factorial\n from sage.arith.power import generic_power\n@@ -114,7 +114,7 @@ from sage.data_structures.stream import (\n     Stream_dirichlet_invert\n )\n \n-class LazyModuleElement(Element):\n+class LazyModuleElement(ModuleElement):\n     r\"\"\"\n     A lazy sequence with a module structure given by term-wise\n     addition and scalar multiplication.\n@@ -1974,7 +1974,7 @@ class LazyModuleElement(Element):\n         return self ** (1/ZZ(2))\n \n \n-class LazyCauchyProductSeries(LazyModuleElement):\n+class LazyCauchyProductSeries(RingElement, LazyModuleElement):\n     r\"\"\"\n     A class for series where multiplication is the Cauchy product.\n \n```",
    "created_at": "2022-08-15T06:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548338",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
I know Martin showed me what he did, but I cannot reproduce [comment:20](#comment%3A20). I am doing on top of this ticket:

```diff
diff --git a/src/sage/rings/lazy_series.py b/src/sage/rings/lazy_series.py
index c5034928ab..19657c5559 100644
--- a/src/sage/rings/lazy_series.py
+++ b/src/sage/rings/lazy_series.py
@@ -87,7 +87,7 @@ AUTHORS:
 #                  https://www.gnu.org/licenses/
 # ****************************************************************************
 
-from sage.structure.element import Element, parent
+from sage.structure.element import Element, parent, ModuleElement, RingElement
 from sage.structure.richcmp import op_EQ, op_NE
 from sage.functions.other import factorial
 from sage.arith.power import generic_power
@@ -114,7 +114,7 @@ from sage.data_structures.stream import (
     Stream_dirichlet_invert
 )
 
-class LazyModuleElement(Element):
+class LazyModuleElement(ModuleElement):
     r"""
     A lazy sequence with a module structure given by term-wise
     addition and scalar multiplication.
@@ -1974,7 +1974,7 @@ class LazyModuleElement(Element):
         return self ** (1/ZZ(2))
 
 
-class LazyCauchyProductSeries(LazyModuleElement):
+class LazyCauchyProductSeries(RingElement, LazyModuleElement):
     r"""
     A class for series where multiplication is the Cauchy product.
 
```



---

archive/issue_comments_548339.json:
```json
{
    "body": "**Changing commit** from \"[7adafd24dbfa96105e0d30dc6d76798aaf71e305](https://github.com/sagemath/sagetrac-mirror/commit/7adafd24dbfa96105e0d30dc6d76798aaf71e305)\" to \"[252220c9afb6cf1a0fd8402c727a8ef66b2167bb](https://github.com/sagemath/sagetrac-mirror/commit/252220c9afb6cf1a0fd8402c727a8ef66b2167bb)\".",
    "created_at": "2022-08-18T07:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7adafd24dbfa96105e0d30dc6d76798aaf71e305](https://github.com/sagemath/sagetrac-mirror/commit/7adafd24dbfa96105e0d30dc6d76798aaf71e305)" to "[252220c9afb6cf1a0fd8402c727a8ef66b2167bb](https://github.com/sagemath/sagetrac-mirror/commit/252220c9afb6cf1a0fd8402c727a8ef66b2167bb)".



---

archive/issue_comments_548340.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/252220c9afb6cf1a0fd8402c727a8ef66b2167bb\">252220c</a></td><td><code>trying Travis suggestions</code></td></tr></table>\n",
    "created_at": "2022-08-18T07:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/252220c9afb6cf1a0fd8402c727a8ef66b2167bb">252220c</a></td><td><code>trying Travis suggestions</code></td></tr></table>




---

archive/issue_comments_548341.json:
```json
{
    "body": "<a id='comment:26'></a>\nhhmm, one then meets something like this\n\n```\nFile \"src/sage/rings/lazy_series.py\", line 3375, in sage.rings.lazy_series.LazyDirichletSeries._format_series\nFailed example:\n    f = D([2, 0, 1/(1-z), 3]); f\nExpected:\n    (2)/1^s + ((1+z+z^2+z^3+z^4+z^5+z^6+O(z^7))/3^s) + (3)/4^s\nGot:\n    Traceback (most recent call last):\n      File \"sage/structure/element.pyx\", line 1112, in sage.structure.element.Element.__richcmp__\n      File \"sage/structure/coerce.pyx\", line 1981, in sage.structure.coerce.CoercionModel.richcmp\n      File \"sage/structure/element.pyx\", line 1110, in sage.structure.element.Element.__richcmp__\n      File \"sage/structure/element.pyx\", line 1114, in sage.structure.element.Element._richcmp_\n      File \"/home/chapoton/sage/src/sage/rings/lazy_series.py\", line 512, in _richcmp_\n        raise ValueError(\"undecidable\")\netc...\n```",
    "created_at": "2022-08-18T13:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548341",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>
hhmm, one then meets something like this

```
File "src/sage/rings/lazy_series.py", line 3375, in sage.rings.lazy_series.LazyDirichletSeries._format_series
Failed example:
    f = D([2, 0, 1/(1-z), 3]); f
Expected:
    (2)/1^s + ((1+z+z^2+z^3+z^4+z^5+z^6+O(z^7))/3^s) + (3)/4^s
Got:
    Traceback (most recent call last):
      File "sage/structure/element.pyx", line 1112, in sage.structure.element.Element.__richcmp__
      File "sage/structure/coerce.pyx", line 1981, in sage.structure.coerce.CoercionModel.richcmp
      File "sage/structure/element.pyx", line 1110, in sage.structure.element.Element.__richcmp__
      File "sage/structure/element.pyx", line 1114, in sage.structure.element.Element._richcmp_
      File "/home/chapoton/sage/src/sage/rings/lazy_series.py", line 512, in _richcmp_
        raise ValueError("undecidable")
etc...
```



---

archive/issue_comments_548342.json:
```json
{
    "body": "<a id='comment:27'></a>\nMy guess is that is coming from `_lmul_`/`_rmul_` versus `_acted_upon_` not playing nicely. There are some annoying subtle incompatibilities that come up when dealing with `ModuleElement` and some Cython behaviors IIRC.",
    "created_at": "2022-08-19T05:40:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548342",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>
My guess is that is coming from `_lmul_`/`_rmul_` versus `_acted_upon_` not playing nicely. There are some annoying subtle incompatibilities that come up when dealing with `ModuleElement` and some Cython behaviors IIRC.



---

archive/issue_comments_548343.json:
```json
{
    "body": "**Changing commit** from \"[252220c9afb6cf1a0fd8402c727a8ef66b2167bb](https://github.com/sagemath/sagetrac-mirror/commit/252220c9afb6cf1a0fd8402c727a8ef66b2167bb)\" to \"[04b6a75f42079f2ffc9030ba1620c65c2cbc8828](https://github.com/sagemath/sagetrac-mirror/commit/04b6a75f42079f2ffc9030ba1620c65c2cbc8828)\".",
    "created_at": "2022-09-01T07:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548343",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[252220c9afb6cf1a0fd8402c727a8ef66b2167bb](https://github.com/sagemath/sagetrac-mirror/commit/252220c9afb6cf1a0fd8402c727a8ef66b2167bb)" to "[04b6a75f42079f2ffc9030ba1620c65c2cbc8828](https://github.com/sagemath/sagetrac-mirror/commit/04b6a75f42079f2ffc9030ba1620c65c2cbc8828)".



---

archive/issue_comments_548344.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04b6a75f42079f2ffc9030ba1620c65c2cbc8828\">04b6a75</a></td><td><code>Merge branch 'u/chapoton/33757' in 9.7.rc0</code></td></tr></table>\n",
    "created_at": "2022-09-01T07:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04b6a75f42079f2ffc9030ba1620c65c2cbc8828">04b6a75</a></td><td><code>Merge branch 'u/chapoton/33757' in 9.7.rc0</code></td></tr></table>




---

archive/issue_events_301797.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301797"
}
```



---

archive/issue_events_301798.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301798"
}
```



---

archive/issue_comments_548345.json:
```json
{
    "body": "**Changing commit** from \"[04b6a75f42079f2ffc9030ba1620c65c2cbc8828](https://github.com/sagemath/sagetrac-mirror/commit/04b6a75f42079f2ffc9030ba1620c65c2cbc8828)\" to \"[eaec9f05abe66784a2d49c508ea3111e99378513](https://github.com/sagemath/sagetrac-mirror/commit/eaec9f05abe66784a2d49c508ea3111e99378513)\".",
    "created_at": "2022-10-01T11:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[04b6a75f42079f2ffc9030ba1620c65c2cbc8828](https://github.com/sagemath/sagetrac-mirror/commit/04b6a75f42079f2ffc9030ba1620c65c2cbc8828)" to "[eaec9f05abe66784a2d49c508ea3111e99378513](https://github.com/sagemath/sagetrac-mirror/commit/eaec9f05abe66784a2d49c508ea3111e99378513)".



---

archive/issue_comments_548346.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eaec9f05abe66784a2d49c508ea3111e99378513\">eaec9f0</a></td><td><code>Merge branch 'u/chapoton/33757' in 9.8.b1</code></td></tr></table>\n",
    "created_at": "2022-10-01T11:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eaec9f05abe66784a2d49c508ea3111e99378513">eaec9f0</a></td><td><code>Merge branch 'u/chapoton/33757' in 9.8.b1</code></td></tr></table>




---

archive/issue_comments_548347.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9e410d28fbf2ca2c66194071d88073ab2f655b3\">b9e410d</a></td><td><code>Merge branch 'u/chapoton/33757' in 9.8.b4</code></td></tr></table>\n",
    "created_at": "2022-11-30T14:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9e410d28fbf2ca2c66194071d88073ab2f655b3">b9e410d</a></td><td><code>Merge branch 'u/chapoton/33757' in 9.8.b4</code></td></tr></table>




---

archive/issue_comments_548348.json:
```json
{
    "body": "**Changing commit** from \"[eaec9f05abe66784a2d49c508ea3111e99378513](https://github.com/sagemath/sagetrac-mirror/commit/eaec9f05abe66784a2d49c508ea3111e99378513)\" to \"[b9e410d28fbf2ca2c66194071d88073ab2f655b3](https://github.com/sagemath/sagetrac-mirror/commit/b9e410d28fbf2ca2c66194071d88073ab2f655b3)\".",
    "created_at": "2022-11-30T14:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[eaec9f05abe66784a2d49c508ea3111e99378513](https://github.com/sagemath/sagetrac-mirror/commit/eaec9f05abe66784a2d49c508ea3111e99378513)" to "[b9e410d28fbf2ca2c66194071d88073ab2f655b3](https://github.com/sagemath/sagetrac-mirror/commit/b9e410d28fbf2ca2c66194071d88073ab2f655b3)".



---

archive/issue_events_301799.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-30T16:07:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301799"
}
```



---

archive/issue_events_301800.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-11-30T16:07:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301800"
}
```



---

archive/issue_comments_548349.json:
```json
{
    "body": "<a id='comment:32'></a>\nand the bot is green !! if the github badge is also green in a few hours, one may want to jump on the occasion",
    "created_at": "2022-11-30T16:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548349",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'></a>
and the bot is green !! if the github badge is also green in a few hours, one may want to jump on the occasion



---

archive/issue_events_301801.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-12-01T00:07:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301801"
}
```



---

archive/issue_events_301802.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-12-01T00:07:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301802"
}
```



---

archive/issue_comments_548350.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2022-12-01T00:07:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548350",
    "user": "https://github.com/tscrim"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_548351.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2022-12-01T00:07:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548351",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_548352.json:
```json
{
    "body": "<a id='comment:33'></a>\nLet it be so.",
    "created_at": "2022-12-01T00:07:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548352",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>
Let it be so.



---

archive/issue_comments_548353.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/33757](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33757)\" to \"[b9e410d28fbf2ca2c66194071d88073ab2f655b3](https://github.com/sagemath/sagetrac-mirror/commit/b9e410d28fbf2ca2c66194071d88073ab2f655b3)\".",
    "created_at": "2022-12-11T11:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33757#issuecomment-548353",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/33757](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/33757)" to "[b9e410d28fbf2ca2c66194071d88073ab2f655b3](https://github.com/sagemath/sagetrac-mirror/commit/b9e410d28fbf2ca2c66194071d88073ab2f655b3)".



---

archive/issue_events_301803.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-11T11:11:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301803"
}
```



---

archive/issue_events_301804.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-12-11T11:11:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33757",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33757#event-301804"
}
```
