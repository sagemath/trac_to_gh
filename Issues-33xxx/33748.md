# Issue 33748: make accessing coefficients of finite-field elements easier

archive/issues_033511.json:
```json
{
    "body": "This comes up rather frequently:\n\n```sage\nsage: F.<i> = GF(431^2, modulus=x^2+1)\nsage: a = F.random_element()  # some computation\nsage: coeffs = a.polynomial().padded_list(2)  # cumbersome!\n```\n\nFor number fields, we do have a shorthand:\n\n```sage\nsage: K.<i> = NumberField(x^2+1)\nsage: b = K.random_element()  # some computation\nsage: coeffs = b.list()\n```\n\n\nThis patch adds a `.__getitem__()` method to the class `FinitePolyExtElement`, which makes `a[i]` and `list(a)` and `tuple(a)` work as expected.\n\nFor compatibility with number-field elements, we also add `.list()`, which should behave identically to calling `list()` on the element.\n\nBranch/Commit: 121d0ab40f778e2d2f204ed3bbcbb383492b352e\n\nReviewer: Travis Scrimshaw\n\nAuthor: Lorenz Panny\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/33748\n\n",
    "closed_at": "2022-05-22T16:32:14Z",
    "created_at": "2022-04-23T08:42:47Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "make accessing coefficients of finite-field elements easier",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33748",
    "user": "https://github.com/yyyyx4"
}
```
This comes up rather frequently:

```sage
sage: F.<i> = GF(431^2, modulus=x^2+1)
sage: a = F.random_element()  # some computation
sage: coeffs = a.polynomial().padded_list(2)  # cumbersome!
```

For number fields, we do have a shorthand:

```sage
sage: K.<i> = NumberField(x^2+1)
sage: b = K.random_element()  # some computation
sage: coeffs = b.list()
```


This patch adds a `.__getitem__()` method to the class `FinitePolyExtElement`, which makes `a[i]` and `list(a)` and `tuple(a)` work as expected.

For compatibility with number-field elements, we also add `.list()`, which should behave identically to calling `list()` on the element.

Branch/Commit: 121d0ab40f778e2d2f204ed3bbcbb383492b352e

Reviewer: Travis Scrimshaw

Author: Lorenz Panny

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/33748





---

archive/issue_comments_664804.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-04-23T08:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664804",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_664805.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2022-04-25T00:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664805",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_664806.json:
```json
{
    "body": "<a id='comment:2'></a>\nShould we also add an `__iter__` method too?\n\nWhile it is not in the built documentation, if this ever gets moved into something public, the ``n`th` will fail.",
    "created_at": "2022-04-25T00:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664806",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>
Should we also add an `__iter__` method too?

While it is not in the built documentation, if this ever gets moved into something public, the ``n`th` will fail.



---

archive/issue_comments_664807.json:
```json
{
    "body": "Changing commit from \"d3f8af62510b60ad0a4f76fc343c186fd959c585\" to \"372464b3867a09c6646951391799886917157599\"",
    "created_at": "2022-04-25T03:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664807",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d3f8af62510b60ad0a4f76fc343c186fd959c585" to "372464b3867a09c6646951391799886917157599"



---

archive/issue_comments_664808.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[372464b](https://github.com/sagemath/sagetrac-mirror/commit/372464b3867a09c6646951391799886917157599)|`fix doc syntax`|",
    "created_at": "2022-04-25T03:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664808",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[372464b](https://github.com/sagemath/sagetrac-mirror/commit/372464b3867a09c6646951391799886917157599)|`fix doc syntax`|



---

archive/issue_comments_664809.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[121d0ab](https://github.com/sagemath/sagetrac-mirror/commit/121d0ab40f778e2d2f204ed3bbcbb383492b352e)|`add .__iter__() method to finite-field elements`|",
    "created_at": "2022-04-25T03:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664809",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[121d0ab](https://github.com/sagemath/sagetrac-mirror/commit/121d0ab40f778e2d2f204ed3bbcbb383492b352e)|`add .__iter__() method to finite-field elements`|



---

archive/issue_comments_664810.json:
```json
{
    "body": "Changing commit from \"372464b3867a09c6646951391799886917157599\" to \"121d0ab40f778e2d2f204ed3bbcbb383492b352e\"",
    "created_at": "2022-04-25T03:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664810",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "372464b3867a09c6646951391799886917157599" to "121d0ab40f778e2d2f204ed3bbcbb383492b352e"



---

archive/issue_comments_664811.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks \u2014 indeed, `.__iter__()` is significantly faster than the fallback through `.__getitem__()`.",
    "created_at": "2022-04-25T03:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664811",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:5'></a>
Thanks â€” indeed, `.__iter__()` is significantly faster than the fallback through `.__getitem__()`.



---

archive/issue_comments_664812.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-04-25T07:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664812",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_664813.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks. LGTM.",
    "created_at": "2022-04-25T07:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664813",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Thanks. LGTM.



---

archive/issue_comments_664814.json:
```json
{
    "body": "Changing branch from \"public/access_finite_field_element_coefficients\" to \"121d0ab40f778e2d2f204ed3bbcbb383492b352e\"",
    "created_at": "2022-05-22T16:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664814",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/access_finite_field_element_coefficients" to "121d0ab40f778e2d2f204ed3bbcbb383492b352e"



---

archive/issue_comments_664815.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-22T16:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33748#issuecomment-664815",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_107722.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-22T16:32:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33748",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33748#event-107722"
}
```
