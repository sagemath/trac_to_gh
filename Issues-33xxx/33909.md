# Issue 33909: Various packages in Debian stable (bullseye) are unusable for Sage

archive/issues_033672.json:
```json
{
    "body": "I am running Debian stable (bullseye), with all packages from `SAGE_ROOT/src/doc/en/installation/debian*.txt` installed. However, the `./configure` complains that some of them should be installed, otherwise the corresponding spkgs will be installed (while they are not required).\n\n#33904 is an instance of this error (which i noticed because building polymake eats a lot of ressources).\n\nThe logs are attached. The `configure.log` file contains the output of running the `./configure` script.\n\nThe 25 packages for which the mechanism does not work are:\n\n- 4ti2\n- cddlib\n- coxeter3\n- ecl\n- eclib\n- fplll\n- giac\n- gp2c\n- igraph\n- info\n- lcalc\n- libsemigroups\n- linbox\n- lrcalc\n- pari\n- pari_elldata\n- pari_galdata\n- pari_galpol\n- pari_nftables\n- pari_seadata\n- pari_seadata_small\n- #33904: polymake\n- primecount\n- qhull\n- singular\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/33909\n\n",
    "created_at": "2022-05-26T16:51:44Z",
    "labels": [
        "component: packages: standard",
        "minor",
        "bug",
        "needs info"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Various packages in Debian stable (bullseye) are unusable for Sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33909",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
I am running Debian stable (bullseye), with all packages from `SAGE_ROOT/src/doc/en/installation/debian*.txt` installed. However, the `./configure` complains that some of them should be installed, otherwise the corresponding spkgs will be installed (while they are not required).

#33904 is an instance of this error (which i noticed because building polymake eats a lot of ressources).

The logs are attached. The `configure.log` file contains the output of running the `./configure` script.

The 25 packages for which the mechanism does not work are:

- 4ti2
- cddlib
- coxeter3
- ecl
- eclib
- fplll
- giac
- gp2c
- igraph
- info
- lcalc
- libsemigroups
- linbox
- lrcalc
- pari
- pari_elldata
- pari_galdata
- pari_galpol
- pari_nftables
- pari_seadata
- pari_seadata_small
- #33904: polymake
- primecount
- qhull
- singular


Issue created by migration from https://trac.sagemath.org/ticket/33909





---

archive/attachments_021624.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "configure.log",
    "asset_url": "tarball://root/attachments/some-uuid/ticket33909/configure.log",
    "created_at": "2022-05-26T16:52:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.log",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```



---

archive/issue_comments_550932.json:
```json
{
    "body": "",
    "created_at": "2022-05-26T16:52:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550932",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```





---

archive/attachments_021625.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "config.log",
    "asset_url": "tarball://root/attachments/some-uuid/ticket33909/config.log",
    "created_at": "2022-05-26T16:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.log",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```



---

archive/issue_comments_550933.json:
```json
{
    "body": "",
    "created_at": "2022-05-26T16:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550933",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```





---

archive/attachments_021626.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "config.status",
    "asset_url": "tarball://root/attachments/some-uuid/ticket33909/config.status",
    "created_at": "2022-05-26T16:53:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.status",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```



---

archive/issue_comments_550934.json:
```json
{
    "body": "<a id='comment:1'></a>\nJust to be sure, i run the recommended commands :\n\n```\nroot@debian:~# apt-get install  libcdd-dev libcdd-tools ecl libec-dev eclib-tools libfplll-dev libgiac-dev xcas lcalc liblfunction-dev liblinbox-dev liblrcalc-dev pari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata libqhull-dev singular singular-doc libsingular4-dev\nReading package lists... Done\nBuilding dependency tree... Done\nReading state information... Done\nlibcdd-dev is already the newest version (094l-2).\nlibcdd-tools is already the newest version (094l-2).\necl is already the newest version (20.4.24+ds-2).\neclib-tools is already the newest version (20190909-3+b1).\nlibec-dev is already the newest version (20190909-3+b1).\nlibfplll-dev is already the newest version (5.4.0-2).\nlibgiac-dev is already the newest version (1.6.0.41+dfsg1-1).\nxcas is already the newest version (1.6.0.41+dfsg1-1).\npari-gp2c is already the newest version (0.0.12-2).\nlcalc is already the newest version (1.23+dfsg-11+b1).\nliblfunction-dev is already the newest version (1.23+dfsg-11+b1).\nliblinbox-dev is already the newest version (1.6.3-3).\nliblrcalc-dev is already the newest version (1.2-2+b1).\nlibpari-dev is already the newest version (2.13.1-1).\npari-doc is already the newest version (2.13.1-1).\npari-elldata is already the newest version (0.20190911-1).\npari-galdata is already the newest version (0.20080411-3).\npari-galpol is already the newest version (4.0-1.1).\npari-seadata is already the newest version (0.20090618-2).\nlibqhull-dev is already the newest version (2020.2-3).\nlibsingular4-dev is already the newest version (1:4.1.1-p2+ds-4+b2).\nsingular is already the newest version (1:4.1.1-p2+ds-4+b2).\nsingular-doc is already the newest version (1:4.1.1-p2+ds-4).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n\nroot@debian:~# apt-get install  4ti2 pari-gp2c libigraph-dev texinfo polymake libpolymake-dev default-jdk libavdevice-dev\nReading package lists... Done\nBuilding dependency tree... Done\nReading state information... Done\n4ti2 is already the newest version (1.6.9+ds-2).\npari-gp2c is already the newest version (0.0.12-2).\nlibigraph-dev is already the newest version (0.8.5+ds1-1).\ndefault-jdk is already the newest version (2:1.11-72).\nlibpolymake-dev is already the newest version (4.3-4).\npolymake is already the newest version (4.3-4).\ntexinfo is already the newest version (6.7.0.dfsg.2-6).\nlibavdevice-dev is already the newest version (7:4.3.4-0+deb11u1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n```",
    "created_at": "2022-05-26T16:53:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550934",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:1'></a>
Just to be sure, i run the recommended commands :

```
root@debian:~# apt-get install  libcdd-dev libcdd-tools ecl libec-dev eclib-tools libfplll-dev libgiac-dev xcas lcalc liblfunction-dev liblinbox-dev liblrcalc-dev pari-gp2c libpari-dev pari-doc pari-elldata pari-galdata pari-galpol pari-seadata libqhull-dev singular singular-doc libsingular4-dev
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
libcdd-dev is already the newest version (094l-2).
libcdd-tools is already the newest version (094l-2).
ecl is already the newest version (20.4.24+ds-2).
eclib-tools is already the newest version (20190909-3+b1).
libec-dev is already the newest version (20190909-3+b1).
libfplll-dev is already the newest version (5.4.0-2).
libgiac-dev is already the newest version (1.6.0.41+dfsg1-1).
xcas is already the newest version (1.6.0.41+dfsg1-1).
pari-gp2c is already the newest version (0.0.12-2).
lcalc is already the newest version (1.23+dfsg-11+b1).
liblfunction-dev is already the newest version (1.23+dfsg-11+b1).
liblinbox-dev is already the newest version (1.6.3-3).
liblrcalc-dev is already the newest version (1.2-2+b1).
libpari-dev is already the newest version (2.13.1-1).
pari-doc is already the newest version (2.13.1-1).
pari-elldata is already the newest version (0.20190911-1).
pari-galdata is already the newest version (0.20080411-3).
pari-galpol is already the newest version (4.0-1.1).
pari-seadata is already the newest version (0.20090618-2).
libqhull-dev is already the newest version (2020.2-3).
libsingular4-dev is already the newest version (1:4.1.1-p2+ds-4+b2).
singular is already the newest version (1:4.1.1-p2+ds-4+b2).
singular-doc is already the newest version (1:4.1.1-p2+ds-4).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.

root@debian:~# apt-get install  4ti2 pari-gp2c libigraph-dev texinfo polymake libpolymake-dev default-jdk libavdevice-dev
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
4ti2 is already the newest version (1.6.9+ds-2).
pari-gp2c is already the newest version (0.0.12-2).
libigraph-dev is already the newest version (0.8.5+ds1-1).
default-jdk is already the newest version (2:1.11-72).
libpolymake-dev is already the newest version (4.3-4).
polymake is already the newest version (4.3-4).
texinfo is already the newest version (6.7.0.dfsg.2-6).
libavdevice-dev is already the newest version (7:4.3.4-0+deb11u1).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
```



---

archive/issue_events_302818.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-05-26T17:32:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302818"
}
```



---

archive/issue_events_302819.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-05-26T17:32:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "component: packages: optional",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302819"
}
```



---

archive/issue_events_302820.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-05-26T17:32:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "component: packages: standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302820"
}
```



---

archive/issue_comments_550935.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,3 +3,32 @@\n #33904 is an instance of this error (which i noticed because building polymake eats a lot of ressources).\n \n The logs are attached. The `configure.log` file contains the output of running the `./configure` script.\n+\n+The 25 packages for which the mechanism does not work are:\n+\n+- 4ti2\n+- cddlib\n+- coxeter3\n+- ecl\n+- eclib\n+- fplll\n+- giac\n+- gp2c\n+- igraph\n+- info\n+- lcalc\n+- libsemigroups\n+- linbox\n+- lrcalc\n+- pari\n+- pari_elldata\n+- pari_galdata\n+- pari_galpol\n+- pari_nftables\n+- pari_seadata\n+- pari_seadata_small\n+- polymake\n+- primecount\n+- qhull\n+- singular\n+\n``````\n",
    "created_at": "2022-05-26T17:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550935",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,3 +3,32 @@
 #33904 is an instance of this error (which i noticed because building polymake eats a lot of ressources).
 
 The logs are attached. The `configure.log` file contains the output of running the `./configure` script.
+
+The 25 packages for which the mechanism does not work are:
+
+- 4ti2
+- cddlib
+- coxeter3
+- ecl
+- eclib
+- fplll
+- giac
+- gp2c
+- igraph
+- info
+- lcalc
+- libsemigroups
+- linbox
+- lrcalc
+- pari
+- pari_elldata
+- pari_galdata
+- pari_galpol
+- pari_nftables
+- pari_seadata
+- pari_seadata_small
+- polymake
+- primecount
+- qhull
+- singular
+
``````




---

archive/issue_comments_550936.json:
```json
{
    "body": "<a id='comment:4'></a>\nIf you read the log:\n\n```\nChecking whether SageMath should install SPKG pari...\n314\tchecking whether any of gmp readline is installed as or will be installed as SPKG... no\n315\tchecking for gp... /usr/bin/gp\n316\tchecking for gphelp... /usr/bin/gphelp\n317\tchecking whether gphelp has access to the documentation... yes\n318\tchecking is pari_elldata installed? ... yes\n319\tchecking is pari_galdata installed? ... yes\n320\tchecking is pari_galpol installed? ... yes\n321\tchecking is pari_seadata installed? ... yes\n322\tchecking whether rnfdisc bug of pari 2.13.1 is fixed... no; cannot use system pari/GP with known bug\n323\tconfigure: Upgrade your system package and reconfigure.\n324\tconfigure: Otherwise Sage will build its own pari/GP.\n325\tconfigure: no suitable system package found for SPKG pari\n```\nWhat's the problem with this?",
    "created_at": "2022-05-26T17:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550936",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
If you read the log:

```
Checking whether SageMath should install SPKG pari...
314	checking whether any of gmp readline is installed as or will be installed as SPKG... no
315	checking for gp... /usr/bin/gp
316	checking for gphelp... /usr/bin/gphelp
317	checking whether gphelp has access to the documentation... yes
318	checking is pari_elldata installed? ... yes
319	checking is pari_galdata installed? ... yes
320	checking is pari_galpol installed? ... yes
321	checking is pari_seadata installed? ... yes
322	checking whether rnfdisc bug of pari 2.13.1 is fixed... no; cannot use system pari/GP with known bug
323	configure: Upgrade your system package and reconfigure.
324	configure: Otherwise Sage will build its own pari/GP.
325	configure: no suitable system package found for SPKG pari
```
What's the problem with this?



---

archive/issue_comments_550937.json:
```json
{
    "body": "Replying to [ticket:33909 tmonteil]:\n> the `./configure` complains that some of them should be installed\n\n\nIt doesn't complain, it only gives you a hint.",
    "created_at": "2022-05-26T17:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550937",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [ticket:33909 tmonteil]:
> the `./configure` complains that some of them should be installed


It doesn't complain, it only gives you a hint.



---

archive/issue_comments_550938.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -27,7 +27,7 @@\n - pari_nftables\n - pari_seadata\n - pari_seadata_small\n-- polymake\n+- #33904: polymake\n - primecount\n - qhull\n - singular\n``````\n",
    "created_at": "2022-05-26T17:59:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550938",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -27,7 +27,7 @@
 - pari_nftables
 - pari_seadata
 - pari_seadata_small
-- polymake
+- #33904: polymake
 - primecount
 - qhull
 - singular
``````




---

archive/issue_events_302821.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-26T18:18:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302821"
}
```



---

archive/issue_events_302822.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-26T18:18:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302822"
}
```



---

archive/issue_events_302823.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-26T18:18:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "invalid",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302823"
}
```



---

archive/issue_events_302824.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-05-26T18:27:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302824"
}
```



---

archive/issue_events_302825.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-05-26T18:27:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302825"
}
```



---

archive/issue_events_302826.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-05-26T18:27:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302826"
}
```



---

archive/issue_comments_550939.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [mkoeppe](#comment%3A5):\n> Replying to [ticket:33909 tmonteil]:\n> > the `./configure` complains that some of them should be installed\n\n> \n> It doesn't complain, it only gives you a hint.\n\n\nAnd the hint is wrong.",
    "created_at": "2022-05-26T18:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550939",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:8'></a>
Replying to [mkoeppe](#comment%3A5):
> Replying to [ticket:33909 tmonteil]:
> > the `./configure` complains that some of them should be installed

> 
> It doesn't complain, it only gives you a hint.


And the hint is wrong.



---

archive/issue_comments_550940.json:
```json
{
    "body": "<a id='comment:9'></a>\nNo, it's correct and carefully phrased:\n\n```\n    hint: installing the following system packages, if not\n    already present, is recommended and may avoid having to\n    build them (though some may have to be built anyway):\n```\nWhat you are observing is why it says \"MAY AVOID\", not \"WILL AVOID\".",
    "created_at": "2022-05-26T18:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550940",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
No, it's correct and carefully phrased:

```
    hint: installing the following system packages, if not
    already present, is recommended and may avoid having to
    build them (though some may have to be built anyway):
```
What you are observing is why it says "MAY AVOID", not "WILL AVOID".



---

archive/issue_comments_550941.json:
```json
{
    "body": "<a id='comment:10'></a>\nOK, i will try to deal with that.\n\nThen, what would be the procedure to decide whether the distro package is broken or the `spkg-configure.m4` script misses something (when `build/pkgs/spkg/spkg-configure.m4` and `build/pkgs/spkg/distros/distro.txt` are conflicting) ?",
    "created_at": "2022-05-26T21:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550941",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:10'></a>
OK, i will try to deal with that.

Then, what would be the procedure to decide whether the distro package is broken or the `spkg-configure.m4` script misses something (when `build/pkgs/spkg/spkg-configure.m4` and `build/pkgs/spkg/distros/distro.txt` are conflicting) ?



---

archive/issue_comments_550942.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [tmonteil](#comment%3A10):\n> [...] when `build/pkgs/spkg/spkg-configure.m4` and `build/pkgs/spkg/distros/distro.txt` are conflicting\n\n\nThe debian.txt files capture many versions of Debian, not just debian-stable - also debian-testing and ubuntu-... and linuxmint-... etc. \n\nIf you are testing on debian-stable, it is to be expected that many packages are just outdated and not suitable for our needs.\n\nIf you look at the logs for all Debian variants and it turns out that none of the packages work for us, then we may want to remove the debian.txt file.",
    "created_at": "2022-05-26T22:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550942",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Replying to [tmonteil](#comment%3A10):
> [...] when `build/pkgs/spkg/spkg-configure.m4` and `build/pkgs/spkg/distros/distro.txt` are conflicting


The debian.txt files capture many versions of Debian, not just debian-stable - also debian-testing and ubuntu-... and linuxmint-... etc. 

If you are testing on debian-stable, it is to be expected that many packages are just outdated and not suitable for our needs.

If you look at the logs for all Debian variants and it turns out that none of the packages work for us, then we may want to remove the debian.txt file.



---

archive/issue_events_302827.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-27T20:00:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "rename": {
        "from": "Various spkg-configure.m4 scripts are not working with Debian stable",
        "to": "Various packages in Debian stable (bullseye) are unusable for Sage"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302827"
}
```



---

archive/issue_comments_550943.json:
```json
{
    "body": "<a id='comment:13'></a>\nThere is another related issue: some packages have a `distro/debian.txt` file and no `spkg-configure.m4` file: `gap, lie, maxima, rubiks`, so that the semantics of those files is unclear to me.",
    "created_at": "2022-05-27T20:23:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550943",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:13'></a>
There is another related issue: some packages have a `distro/debian.txt` file and no `spkg-configure.m4` file: `gap, lie, maxima, rubiks`, so that the semantics of those files is unclear to me.



---

archive/issue_comments_550944.json:
```json
{
    "body": "<a id='comment:14'></a>\nGreat question.\n\nIn part, these files have been added in preparation for spkg-configure.m4 that is in development somewhere. See #27330 for a list of tickets.\n\n`sage -info` (which also creates the documentation at https://doc.sagemath.org/html/en/reference/spkg/gap.html#equivalent-system-packages) shows these packages and then points out \"these system packages will not be used for building Sage\". This is an entry point for developers.\n\nOptional packages such as `rubiks` are also discovered at runtime via `Feature`s. \n\nAnd finally, in our portability CI, we have a configuration called `-maximal` that installs these system packages despite having no `spkg-configure.m4`. (If you have Docker installed, you can type `tox -e docker-debian-bullseye-maximal` to run this.) This is useful for testing that the existence of these system packages does not leak in and break our build.",
    "created_at": "2022-05-27T20:38:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33909#issuecomment-550944",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Great question.

In part, these files have been added in preparation for spkg-configure.m4 that is in development somewhere. See #27330 for a list of tickets.

`sage -info` (which also creates the documentation at https://doc.sagemath.org/html/en/reference/spkg/gap.html#equivalent-system-packages) shows these packages and then points out "these system packages will not be used for building Sage". This is an entry point for developers.

Optional packages such as `rubiks` are also discovered at runtime via `Feature`s. 

And finally, in our portability CI, we have a configuration called `-maximal` that installs these system packages despite having no `spkg-configure.m4`. (If you have Docker installed, you can type `tox -e docker-debian-bullseye-maximal` to run this.) This is useful for testing that the existence of these system packages does not leak in and break our build.



---

archive/issue_events_302828.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-06T19:24:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302828"
}
```



---

archive/issue_events_302829.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-06T19:24:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "label": "minor",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302829"
}
```



---

archive/issue_events_302830.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302830"
}
```



---

archive/issue_events_302831.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33909",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33909#event-302831"
}
```
