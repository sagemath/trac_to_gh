# Issue 18261: Sierpinski graph

Issue created by migration from https://trac.sagemath.org/ticket/18498

Original creator: chapoton

Original creation time: 2015-05-25 13:45:14

CC:  ncohen

Keywords: graph

Nice examples of graphs, related to the Sierpinsky fractal.

let us have them


---

Comment by chapoton created at 2015-05-25 13:57:29

New commits:


---

Comment by chapoton created at 2015-05-25 13:57:29

Changing status from new to needs_review.


---

Comment by dcoudert created at 2015-05-25 14:05:12

Hello,

you should add the definition of this graph. Indeed, you apparently assume that it is defined as a directed graph, while others consider that it is an undirected graph http://mathworld.wolfram.com/SierpinskiSieveGraph.html

David.


---

Comment by dcoudert created at 2015-05-25 14:14:06

Changing status from needs_review to needs_work.


---

Comment by dcoudert created at 2015-05-25 14:14:06

You wrote that `n` is the order of the graph. This is confusing here since it is not the number of vertices. Recall that we have `G.order()==G.num_verts()`.
Can't you  use another term here?


---

Comment by git created at 2015-05-25 14:21:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-05-25 16:15:47

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2015-05-25 16:15:47

I have used the word "generation", maybe better ?


---

Comment by ncohen created at 2015-05-25 16:57:24

> I have used the word "generation", maybe better ?

It is better. You must also provide a definition of the graph you define, though you must also justify the creation of a "Sierpinski digraph", preferably from existing papers. When you google "sierpinski graph", all that you find are undirected graphs.

Furthermore, some sem to hint that those graphs [1] are (in some cases) isomorphic to Hanoi Tower graphs. But the pictures from Wolfram [2] and those that we can produce with Sage clearly disagree


```
    sage: graphs.HanoiTowerGraph(3,4).show(vertex_labels=False)
```


There is something fishy there.

Nathann

[1] See page 2, third paragraph of http://www.gregas.eu/publications/preprints/klavzar-hamming-dimension-of-a-graph-the-case-of-sierpinski-graphs
[2] http://mathworld.wolfram.com/SierpinskiSieveGraph.html


---

Comment by git created at 2015-05-25 18:47:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-25 18:50:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2015-05-25 20:55:57

What about putting this method in a new file dedicated to families of directed graphs in directory `generators` (similar to file `families.py` for undirected graphs), adding it an extra parameter `directed=True/False`, and then calling it from both `graphs` and `digraphs` with appropriate parameters?

Inside the method, it should be enough to have `G = DiGraph() if directed else Graph()` and the rest will be the same.
I don't know if there is a trick to avoid the `directed` parameter. May be there is. Nathann?


---

Comment by ncohen created at 2015-05-26 05:58:28

Changing status from needs_review to needs_info.


---

Comment by ncohen created at 2015-05-26 05:58:28

> I don't know if there is a trick to avoid the `directed` parameter. May be there is. Nathann?

What you propose "can be done", it is not a big problem. And the only 'trick' I see to avoid the additional keyword and the private method would be to 1) create the Graph 2) orient its edges. This way the digraph constructor would merely call the graph constructor, and know what to do because it knows what the vertex set is.

Of course, that only works if ths orientation can be easily deduced from each edge.

For the moment, however, I am much more concerned that what is a Sierpinski graph in Sage is what is called a Sierpinski graph in the litterature.

Nathann

P.S.: I set this ticket to `needs_info`, as your code contains a "REFERENCES: todo"


---

Comment by chapoton created at 2015-05-27 08:22:40

I think these graphs should be called the "Sierpinski gasket graphs"
and the one related to Hanoi towers should be called "Sierpinski graphs"

See the following ref for this terminology and many references.

http://dx.doi.org/10.1007/s00224-010-9286-3

I have found some other references:

* Chang, Shu-Chiuan; Chen, Lung-Chi; Yang, Wei-Shih Spanning trees on the Sierpinski gasket

and several other articles by the same authors.


---

Comment by git created at 2015-05-29 20:06:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-30 19:30:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-31 08:59:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-03 18:41:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-06-03 18:44:22

Changing status from needs_info to needs_review.


---

Comment by chapoton created at 2015-06-03 18:44:22

Ok, here is something that needs review.

I have called them `SierpinskiGasket` graphs, as in the reference that I give.

I have linked the doc to `HanoiTowerGraph` for the other possible Sierpinski graphs.


---

Comment by ncohen created at 2015-06-04 08:50:06

Hellooooooo Frédéric!

Several remarks:

- The name of a `Graph` usually ends with `Graph`. I agree that it is a terrible
  standard, considering that even `digraphs.*` do not follow it.

- Isn't there something wrong with the number of vertices as given in the
  function's docstring? You say that it is equal to `3 (3^{n-1}-1)/2`, though:
  {{{
  sage: [graphs.SierpinskiGasket(x).order() for x in range(1,8)]
  [3, 6, 15, 42, 123, 366, 1095]
  sage: [3*(3**(n-1)-1)/2 for n in range(1,8)]
  [0, 3, 12, 39, 120, 363, 1092]
  }}}

- You mention twice the `HanoiTowerGraph`: could you merge those two similar
  remarks into one?

- It is only my personal opinion, but I believe that the 'gasket' keyword is a
  sufficient protection to avoid misunderstandings. I do not believe that a
  'warning' is needed here (especially above the 'input' block). I would not see
  anything wrong with only a 'seealso', to help redirect lost users.

- Is there any reason to give those names to the vertices? Or is it only because
  of the positions? If they have no specific meaning, what would you think of
  relabelling the graph to integers before returning it (a call to `.relabel()`
  does that automatically)?

I added a commit at public/18498 with a couple of modifications:

- A modified 'vertical' layout

- A picture of the graph in its documentation

I you agree with those, you can cherry-pick that commit on your branch.

Thanks,

Nathann


---

Comment by ncohen created at 2015-06-04 08:50:16

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-06-04 18:39:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-06-04 18:51:27

Hello, merci !

I think I have made the required changes.


---

Comment by chapoton created at 2015-06-04 18:51:27

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2015-06-05 07:23:20

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2015-06-05 07:23:20

> I think I have made the required changes.

Great, let's get it merged. Thanks for this addition!

Nathann


---

Comment by vbraun created at 2015-06-06 12:47:37

Resolution: fixed
