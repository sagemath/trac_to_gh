# Issue 17093: Take in the module OEIS the keyword 'dead' of sequences into account.

archive/issues_017093.json:
```json
{
    "body": "CC:  @mo271\n\nKeywords: OEIS\n\nOEIS functions should simply ignore sequences with the \nkeyword 'dead'. At least they should not attempt to return\nterms of these sequences.\n\nFor example the sequence A000017 https://oeis.org/A000017 \nis 'dead', what means it has errors in the data and was \nreplaced by another version. It is policy of the OEIS to \nkeep such sequences so they can be found in the case they\nare referenced in the literature. \n\nAs it is now oeis(17).first_terms(12) throws the TypeError: \nYou found a sign inconsistency, please contact OEIS\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/17330\n\n",
    "created_at": "2014-11-12T23:55:14Z",
    "labels": [
        "component: misc",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Take in the module OEIS the keyword 'dead' of sequences into account.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17093",
    "user": "https://github.com/PeterLuschny"
}
```
CC:  @mo271

Keywords: OEIS

OEIS functions should simply ignore sequences with the 
keyword 'dead'. At least they should not attempt to return
terms of these sequences.

For example the sequence A000017 https://oeis.org/A000017 
is 'dead', what means it has errors in the data and was 
replaced by another version. It is policy of the OEIS to 
keep such sequences so they can be found in the case they
are referenced in the literature. 

As it is now oeis(17).first_terms(12) throws the TypeError: 
You found a sign inconsistency, please contact OEIS


Issue created by migration from https://trac.sagemath.org/ticket/17330





---

archive/issue_comments_227027.json:
```json
{
    "body": "Here is how this could be fixed (see git branch).\n\nWhen doctesting this, I noticed the another bug:\n\n\n```\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 845, in sage.databases.oeis.OEISSequence.keywords\nFailed example:\n    f.keywords()                          # optional -- internet\nExpected:\n    ('core', 'nonn', 'nice', 'easy', 'hear')\nGot:\n    ('core', 'nonn', 'nice', 'easy', 'hear', 'changed')\n**********************************************************************\n```\n\nThis is due to the fact that the keyword 'changed' is temporarily added, so this would go away after a while. I propose to change that example to a sequence that is not altered as often as the Fibonacci numbers (see commit)\n----\nNew commits:",
    "created_at": "2016-03-22T19:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227027",
    "user": "https://github.com/mo271"
}
```

Here is how this could be fixed (see git branch).

When doctesting this, I noticed the another bug:


```
**********************************************************************
File "src/sage/databases/oeis.py", line 845, in sage.databases.oeis.OEISSequence.keywords
Failed example:
    f.keywords()                          # optional -- internet
Expected:
    ('core', 'nonn', 'nice', 'easy', 'hear')
Got:
    ('core', 'nonn', 'nice', 'easy', 'hear', 'changed')
**********************************************************************
```

This is due to the fact that the keyword 'changed' is temporarily added, so this would go away after a while. I propose to change that example to a sequence that is not altered as often as the Fibonacci numbers (see commit)
----
New commits:



---

archive/issue_comments_227028.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-22T19:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227028",
    "user": "https://github.com/mo271"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_227029.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-22T19:58:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227029",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_227030.json:
```json
{
    "body": "You should put your full name in the \"Authors\" field.",
    "created_at": "2016-03-23T13:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227030",
    "user": "https://github.com/videlec"
}
```

You should put your full name in the "Authors" field.



---

archive/issue_comments_227031.json:
```json
{
    "body": "done",
    "created_at": "2016-03-23T13:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227031",
    "user": "https://github.com/mo271"
}
```

done



---

archive/issue_comments_227032.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2016-03-23T14:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227032",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_227033.json:
```json
{
    "body": "The patch provided does not do what is in the description. Namely the dead sequences are not ignored!\n\nI would add an explicit error message like\n\n```\nsage: oeis(17)\nTraceback (most recent call last):\n...\nValueError: this sequence is dead \"A000017: Erroneous version of A032522.\"\n```\n\nPossibly, you could add an option to get it even if it is dead\n\n```\nsage: oeis(17, force=True)\nA000017: Erroneous version of A032522.\n```\n",
    "created_at": "2016-03-23T14:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227033",
    "user": "https://github.com/videlec"
}
```

The patch provided does not do what is in the description. Namely the dead sequences are not ignored!

I would add an explicit error message like

```
sage: oeis(17)
Traceback (most recent call last):
...
ValueError: this sequence is dead "A000017: Erroneous version of A032522."
```

Possibly, you could add an option to get it even if it is dead

```
sage: oeis(17, force=True)
A000017: Erroneous version of A032522.
```




---

archive/issue_comments_227034.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-23T14:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227034",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_227035.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2016-03-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227035",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_227036.json:
```json
{
    "body": "Better!",
    "created_at": "2016-03-23T14:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227036",
    "user": "https://github.com/videlec"
}
```

Better!



---

archive/issue_comments_227037.json:
```json
{
    "body": "Perhaps throwing an error is too much? I just pushed a version where you have a warning..",
    "created_at": "2016-03-23T14:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227037",
    "user": "https://github.com/mo271"
}
```

Perhaps throwing an error is too much? I just pushed a version where you have a warning..



---

archive/issue_comments_227038.json:
```json
{
    "body": "yeap. this is fine. (I rewrote my name as a reviewer)",
    "created_at": "2016-03-23T14:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227038",
    "user": "https://github.com/videlec"
}
```

yeap. this is fine. (I rewrote my name as a reviewer)



---

archive/issue_comments_227039.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-03-26T11:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17093",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17093#issuecomment-227039",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
