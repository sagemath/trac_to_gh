# Issue 31263: avoid empty list as default argument

Issue created by migration from https://trac.sagemath.org/ticket/31500

Original creator: chapoton

Original creation time: 2021-03-15 21:17:56

CC:  tscrim slelievre

as this could be mutated and have strange side effects

as suggested by lgtm


---

Comment by chapoton created at 2021-03-15 21:18:17

Changing status from new to needs_review.


---

Comment by git created at 2021-03-15 21:18:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-03-15 21:34:20

The fix for the empty dict looks fine.

But for the case of the empty lists, would it not be easier to use an empty tuple instead?


---

Comment by chapoton created at 2021-03-16 07:13:55

I think it is better and safer not to change the input type of the functions. In fact, according to lgtm, all these inputs are potentially muted somewhere in sage code.


---

Comment by chapoton created at 2021-03-16 07:45:38

green bot, please review


---

Comment by tscrim created at 2021-03-16 13:18:43

I think having a more minimal change here is good for now.


---

Comment by tscrim created at 2021-03-16 13:18:43

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-03-18 22:31:52

Resolution: fixed
