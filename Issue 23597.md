# Issue 23597: html_use_smartypants is deprecated, so don't use it

Issue created by migration from Trac.

Original creator: jhpalmieri

Original creation time: 2017-09-11 23:00:36

The documentation `ja/a_tour_of_sage` uses `html_use_smartypants`, but this is now deprecated:

```
RemovedInSphinx17Warning: html_use_smartypants option is deprecated. Smart quotes are on by default; if you want to disable or customize them, use the smart_quotes option in docutils.conf.
```

If I delete the line `html_use_smartypants = False`, there is no difference in the resulting html or latex files.


---

Comment by jhpalmieri created at 2017-09-11 23:01:29

Changing priority from major to minor.


---

Comment by jhpalmieri created at 2017-09-11 23:01:29

Changing type from PLEASE CHANGE to defect.


---

Comment by jhpalmieri created at 2017-09-11 23:01:29

Changing component from PLEASE CHANGE to documentation.


---

Comment by jhpalmieri created at 2017-09-11 23:03:19

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2017-09-11 23:03:19

New commits:


---

Comment by jhpalmieri created at 2017-09-11 23:05:12

We could instead create a file `doc/ja/a_tour_of_sage/docutils.conf` containing

```
[parsers]
smart_quotes = no
```

to keep the old behavior, but as far as I can tell, this option is not used anywhere.


---

Comment by fbissey created at 2017-09-11 23:09:55

I was going to ask if it was related to 

```
diff --git a/src/sage/misc/sphinxify.py b/src/sage/misc/sphinxify.py
index f084a19..4f76d41 100644
--- a/src/sage/misc/sphinxify.py
+++ b/src/sage/misc/sphinxify.py
`@``@` -80,6 +80,10 `@``@` def sphinxify(docstring, format='html'):
     # buildername, confoverrides, status, warning, freshenv).
     confdir = os.path.join(SAGE_DOC_SRC, 'en', 'introspect')
 
+    open(os.path.join(srcdir, 'docutils.conf'), 'w').write(r"""
+[parsers]
+smart_quotes = no
+""")
     doctreedir = os.path.join(srcdir, 'doctrees')
     confoverrides = {'html_context': {}, 'master_doc': 'docstring'}
```

Could we use those `conf.py` files instead?


---

Comment by jhpalmieri created at 2017-09-11 23:18:25

I'm not sure I understand what you mean. In any case, I don't know how to use `conf.py` files instead of `docutils.conf` files.


---

Comment by fbissey created at 2017-09-11 23:23:24

May have been a daft question in any case. I just remembered "smarty_pants" from the previous ticket. I think the stuff in sphinxify negates the need for `ja` to have its own `docutils.conf`. I think removal as stated in the commit is the best thing to do.


---

Comment by fbissey created at 2017-09-12 01:43:01

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2017-09-12 01:43:01

I am making this positive review, and fill the author field :) before Volker complaints.


---

Comment by jhpalmieri created at 2017-09-12 02:31:02

Thank you, on both counts.


---

Comment by vbraun created at 2017-09-24 13:03:46

Resolution: fixed
