# Issue 10999: clean up sage/misc/hg.py

archive/issues_010999.json:
```json
{
    "body": "Assignee: @jasongrout\n\nCC:  @kini\n\nThe attached patch cleans up hg.py in a few ways:\n\n- it adds a few doctests, although many of them are marked \"not tested\", since otherwise it would try to import or export non-existent patches, etc.\n\n- the function \"pager\" is rewritten, to use the Mercurial pager extension.  This way, any highlighting is preserved when you use \"hg_sage.diff()\" or \"hg_sage.log()\" with the color extension enabled.\n\n- the function \"color\" was added, to disable the Mercurial color extension in the notebook.  Otherwise it produces some bad output: try putting \n   {{{\n[extensions]\ncolor =\n    }}}\n in your .hgrc file, modify some files in the Sage library, and type \"hg_sage.status()\" in      the command line vs. the notebook.\n\nThis depends on #11121, in particular enabling the \"pager\" extension.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11142\n\n",
    "created_at": "2011-04-06T22:38:25Z",
    "labels": [
        "component: misc",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "clean up sage/misc/hg.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10999",
    "user": "https://github.com/jhpalmieri"
}
```
Assignee: @jasongrout

CC:  @kini

The attached patch cleans up hg.py in a few ways:

- it adds a few doctests, although many of them are marked "not tested", since otherwise it would try to import or export non-existent patches, etc.

- the function "pager" is rewritten, to use the Mercurial pager extension.  This way, any highlighting is preserved when you use "hg_sage.diff()" or "hg_sage.log()" with the color extension enabled.

- the function "color" was added, to disable the Mercurial color extension in the notebook.  Otherwise it produces some bad output: try putting 
   {{{
[extensions]
color =
    }}}
 in your .hgrc file, modify some files in the Sage library, and type "hg_sage.status()" in      the command line vs. the notebook.

This depends on #11121, in particular enabling the "pager" extension.

Issue created by migration from https://trac.sagemath.org/ticket/11142





---

archive/issue_comments_119210.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-04-12T21:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119210",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_119211.json:
```json
{
    "body": "This looks pretty good overall, though I haven't had time to review it quite properly yet.  I really like this idea, thanks for doing it.  \n\nI would add a couple useful options on the revert and the patch, that one can use `options='--all'` with revert and rollback (instead of having to know the file name) and importing patch with `options='--no-commit'` which is VERY useful until one learns how to use queues.",
    "created_at": "2011-06-13T18:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119211",
    "user": "https://github.com/kcrisman"
}
```

This looks pretty good overall, though I haven't had time to review it quite properly yet.  I really like this idea, thanks for doing it.  

I would add a couple useful options on the revert and the patch, that one can use `options='--all'` with revert and rollback (instead of having to know the file name) and importing patch with `options='--no-commit'` which is VERY useful until one learns how to use queues.



---

archive/issue_comments_119212.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-06-14T04:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119212",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_119213.json:
```json
{
    "body": "Yup, you're right that it depends on adding the pager stuff to work (though not to apply).  Overall this looks good.  \n\nOkay, I also have a question.  Why the `debug=False`?   You did a nice job with this and the pager, but shouldn't we print out the commands?    Or is that just annoying to see?   Just wondering.  \n\n'Needs work' for adding the very important options in the documentation to revert, rollback, and import.  If we are going to update doc at all, this should happen.",
    "created_at": "2011-06-14T04:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119213",
    "user": "https://github.com/kcrisman"
}
```

Yup, you're right that it depends on adding the pager stuff to work (though not to apply).  Overall this looks good.  

Okay, I also have a question.  Why the `debug=False`?   You did a nice job with this and the pager, but shouldn't we print out the commands?    Or is that just annoying to see?   Just wondering.  

'Needs work' for adding the very important options in the documentation to revert, rollback, and import.  If we are going to update doc at all, this should happen.



---

archive/issue_comments_119214.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd31\".",
    "created_at": "2011-06-14T04:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119214",
    "user": "https://github.com/kcrisman"
}
```

Changing keywords from "" to "sd31".



---

archive/issue_comments_119215.json:
```json
{
    "body": "Replying to [comment:3 kcrisman]:\n> Okay, I also have a question.  Why the `debug=False`?   You did a nice job with this and the pager, but shouldn't we print out the commands?    Or is that just annoying to see?   Just wondering.  \n\nI thought it was little annoying to see.  Typical output might be\n\n```\ncd \"/Applications/sage/devel/sage\" && hg diff   --config pager.pager=\"LESS='FSRX' less\"\n```\n\nBut I've changed it to True.\n\n> 'Needs work' for adding the very important options in the documentation to revert, rollback, and import.  If we are going to update doc at all, this should happen. \n\nOkay, I've taken care of this.\n\nNow, changing the pager as I've done changes the current behavior in several ways (from the command line, not the notebook: the notebook should behave the same way):\n\n- (the option F says to quit the pager if everything fits on one page; this doesn't change the current behavior, but see option X below.)\n- the option S says to truncate long lines rather than wrap them.  Currently we wrap them, as in\n\n```\nchangeset:   15816:11586fb87f83\nuser:        John Cremona <john.cremona@gmail.com> and Robert Bradshaw <robertwb@math.washington.ed\nu>\ndate:        Fri Apr 22 15:50:26 2011 +0100\nsummary:     Trac #11220: #11220: implement CM j-invariants and orders for quadratic fields\n```\n\n Note lines 2-3.  With the S option, line 3 would be omitted.  Opinions?\n- the option R says to preserve any color information in the output, so output from hg_sage.diff() would be colorized nicely.  This is one of the points of this ticket, so I definitely want to keep this.\n- the option X says to not clear the screen when you quit the pager.  I happen to like this.  However, if this is off but option F is on, then any output containing less than a screen displays briefly, and then the screen gets cleared, so it's gone.  This is not Sage-specific: it reproduces the behavior when you run \"hg diff\" from the shell, with `pager = LESS='FSR' less` in the `[pager]` section of your .hgrc file.\n\nMy suggestion: we use either \"FSRX\" or \"FRX\", and probably the second of these is better.  That's what the latest version of the patch uses.\n\nAnother question: should we try to have a way to configure the pager options?  We can accept keyword arguments into the various hg commands and then pass them to the pager command, or we can do it like the way latex options are set.  Is it worth it?",
    "created_at": "2011-07-01T20:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119215",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:3 kcrisman]:
> Okay, I also have a question.  Why the `debug=False`?   You did a nice job with this and the pager, but shouldn't we print out the commands?    Or is that just annoying to see?   Just wondering.  

I thought it was little annoying to see.  Typical output might be

```
cd "/Applications/sage/devel/sage" && hg diff   --config pager.pager="LESS='FSRX' less"
```

But I've changed it to True.

> 'Needs work' for adding the very important options in the documentation to revert, rollback, and import.  If we are going to update doc at all, this should happen. 

Okay, I've taken care of this.

Now, changing the pager as I've done changes the current behavior in several ways (from the command line, not the notebook: the notebook should behave the same way):

- (the option F says to quit the pager if everything fits on one page; this doesn't change the current behavior, but see option X below.)
- the option S says to truncate long lines rather than wrap them.  Currently we wrap them, as in

```
changeset:   15816:11586fb87f83
user:        John Cremona <john.cremona@gmail.com> and Robert Bradshaw <robertwb@math.washington.ed
u>
date:        Fri Apr 22 15:50:26 2011 +0100
summary:     Trac #11220: #11220: implement CM j-invariants and orders for quadratic fields
```

 Note lines 2-3.  With the S option, line 3 would be omitted.  Opinions?
- the option R says to preserve any color information in the output, so output from hg_sage.diff() would be colorized nicely.  This is one of the points of this ticket, so I definitely want to keep this.
- the option X says to not clear the screen when you quit the pager.  I happen to like this.  However, if this is off but option F is on, then any output containing less than a screen displays briefly, and then the screen gets cleared, so it's gone.  This is not Sage-specific: it reproduces the behavior when you run "hg diff" from the shell, with `pager = LESS='FSR' less` in the `[pager]` section of your .hgrc file.

My suggestion: we use either "FSRX" or "FRX", and probably the second of these is better.  That's what the latest version of the patch uses.

Another question: should we try to have a way to configure the pager options?  We can accept keyword arguments into the various hg commands and then pass them to the pager command, or we can do it like the way latex options are set.  Is it worth it?



---

archive/issue_comments_119216.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-07-01T20:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119216",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_119217.json:
```json
{
    "body": "Personally I don't like the `F` option (unpredictable behavior), `X` option (if I wanted to read the last screen of the paged stuff, I wouldn't have quit `less`), or `S` option (information loss), but that's just me.\n\nipython's native pager (for help lookups, etc.) acts most like `FR`, fwiw.",
    "created_at": "2011-07-01T21:02:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119217",
    "user": "https://github.com/kini"
}
```

Personally I don't like the `F` option (unpredictable behavior), `X` option (if I wanted to read the last screen of the paged stuff, I wouldn't have quit `less`), or `S` option (information loss), but that's just me.

ipython's native pager (for help lookups, etc.) acts most like `FR`, fwiw.



---

archive/issue_comments_119218.json:
```json
{
    "body": "Replying to [comment:6 kini]:\n> Personally I don't like the `F` option (unpredictable behavior), `X` option (if I wanted to read the last screen of the paged stuff, I wouldn't have quit `less`), or `S` option (information loss), but that's just me.\n\nIf I look at a docstring (which displays with a pager), sometimes I want to refer to the docstring when typing the next command, and then it's really frustrating that it went away when I typed \"q\" to quit the pager program.  The same can happen with hg commands, although not as frequently, at least for me.  However, it can also be nice to restore what was there before I started reading the docstring.  We could add an option for any hg command which uses the pager: by default, it will open with \"R\", but with the option, it will open with \"FRX\".",
    "created_at": "2011-07-01T22:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119218",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:6 kini]:
> Personally I don't like the `F` option (unpredictable behavior), `X` option (if I wanted to read the last screen of the paged stuff, I wouldn't have quit `less`), or `S` option (information loss), but that's just me.

If I look at a docstring (which displays with a pager), sometimes I want to refer to the docstring when typing the next command, and then it's really frustrating that it went away when I typed "q" to quit the pager program.  The same can happen with hg commands, although not as frequently, at least for me.  However, it can also be nice to restore what was there before I started reading the docstring.  We could add an option for any hg command which uses the pager: by default, it will open with "R", but with the option, it will open with "FRX".



---

archive/issue_comments_119219.json:
```json
{
    "body": "Here are two more patches.  One replaces the old patch, and this just changes the options for \"less\" to \"R\" instead of \"FRX\".  The second adds lots of methods for Mercurial queues, and it brings doctest coverage up to 97% -- I can't figure out how to write a helpful and/or meaningful doctest for `get_remote_file`.  So the second is more ambitious.  If you think it belongs on another ticket, we can just work with the first version.",
    "created_at": "2011-07-02T02:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119219",
    "user": "https://github.com/jhpalmieri"
}
```

Here are two more patches.  One replaces the old patch, and this just changes the options for "less" to "R" instead of "FRX".  The second adds lots of methods for Mercurial queues, and it brings doctest coverage up to 97% -- I can't figure out how to write a helpful and/or meaningful doctest for `get_remote_file`.  So the second is more ambitious.  If you think it belongs on another ticket, we can just work with the first version.



---

archive/issue_comments_119220.json:
```json
{
    "body": "Attachment [trac_11142-sage-hg.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-sage-hg.patch) by @jhpalmieri created at 2011-07-02 02:16:19\n\nmain sage repo",
    "created_at": "2011-07-02T02:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119220",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_11142-sage-hg.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-sage-hg.patch) by @jhpalmieri created at 2011-07-02 02:16:19

main sage repo



---

archive/issue_comments_119221.json:
```json
{
    "body": "Hey John, I really like the second patch, so much good (if tedious) work on a lot of things.  Have not yet tested it, and can't tonight, though it applies fine.\n* Does `hg_sage.revert()` really just revert all files?  I always needed `options=\"--all\"`, but maybe I don't any more.\n* What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)\n* I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?",
    "created_at": "2011-08-18T02:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119221",
    "user": "https://github.com/kcrisman"
}
```

Hey John, I really like the second patch, so much good (if tedious) work on a lot of things.  Have not yet tested it, and can't tonight, though it applies fine.
* Does `hg_sage.revert()` really just revert all files?  I always needed `options="--all"`, but maybe I don't any more.
* What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)
* I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?



---

archive/issue_comments_119222.json:
```json
{
    "body": "#11121 is actually resolved (more or less) by the spkg at #10594, as is #11120. #10594 is a dependency of this ticket. So, in effect, queues will be enabled.",
    "created_at": "2011-08-18T11:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119222",
    "user": "https://github.com/kini"
}
```

#11121 is actually resolved (more or less) by the spkg at #10594, as is #11120. #10594 is a dependency of this ticket. So, in effect, queues will be enabled.



---

archive/issue_comments_119223.json:
```json
{
    "body": ">  * Does `hg_sage.revert()` really just revert all files?  I always needed `options=\"--all\"`, but maybe I don't any more.\nYeah, this does not work.\n\n```\nsage: hg_sage.revert()\ncd \"/Users/.../sage-4.7.1/devel/sage\" && hg revert \nabort: no files or directories specified; use --all to revert the whole repo\n```\n\nThis is even after the patch and hg upgrade.  We definitely need to have documentation for this.  Ideally, we'd even catch it in `hg_sage.revert` itself.  It takes a while to figure out you need `options=\"--all\"` as a newbie.  \n\nOr we could change the behavior so that it does this.\n\n>  * What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)\nOk, Keshav, as long as you vouch for this. Changing my hgrc didn't seem to do anything (the desired behavior), but maybe the repository already had hg initialized with mq or something...\n\n>  * I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?\nYes.  Cool!  Now I can edit the README more effectively :)\n\nCurrent patch (with R, not FRX) does indeed clear the screen after a short view in the pager is quit.  I thought this was not the current behavior, but apparently I get that with my 4.7 and 4.4.4 installs as well, so I'm a bit confused.\n\nOtherwise we just need to test a lot of this stuff, but it looks good.",
    "created_at": "2011-08-18T15:33:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119223",
    "user": "https://github.com/kcrisman"
}
```

>  * Does `hg_sage.revert()` really just revert all files?  I always needed `options="--all"`, but maybe I don't any more.
Yeah, this does not work.

```
sage: hg_sage.revert()
cd "/Users/.../sage-4.7.1/devel/sage" && hg revert 
abort: no files or directories specified; use --all to revert the whole repo
```

This is even after the patch and hg upgrade.  We definitely need to have documentation for this.  Ideally, we'd even catch it in `hg_sage.revert` itself.  It takes a while to figure out you need `options="--all"` as a newbie.  

Or we could change the behavior so that it does this.

>  * What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)
Ok, Keshav, as long as you vouch for this. Changing my hgrc didn't seem to do anything (the desired behavior), but maybe the repository already had hg initialized with mq or something...

>  * I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?
Yes.  Cool!  Now I can edit the README more effectively :)

Current patch (with R, not FRX) does indeed clear the screen after a short view in the pager is quit.  I thought this was not the current behavior, but apparently I get that with my 4.7 and 4.4.4 installs as well, so I'm a bit confused.

Otherwise we just need to test a lot of this stuff, but it looks good.



---

archive/issue_comments_119224.json:
```json
{
    "body": "Replying to [comment:12 kcrisman]:\n> >  * Does `hg_sage.revert()` really just revert all files?  I always needed `options=\"--all\"`, but maybe I don't any more.\n> Yeah, this does not work.\n\nI actually think it's a bit dangerous to be able to revert without specifying \"--all\", so I think we should just fix the documentation, not change the behavior.  I'll do this soon.\n> >  * What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)\n> Ok, Keshav, as long as you vouch for this. Changing my hgrc didn't seem to do anything (the desired behavior), but maybe the repository already had hg initialized with mq or something...\n\nAs Keshav says, the latest Mercurial spkg turns on queues in `SAGE_ROOT/local/etc/mercurial/hgrc`, so this is not an issue.  (This is why #10594 is a prerequisite for this ticket.)\n \n> >  * I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?\n> Yes.  Cool!  Now I can edit the README more effectively :)\n\nRight, ticket #9433, in particular [attachment:trac_9433-sage-repo.2.patch], added this.",
    "created_at": "2011-08-18T15:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119224",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:12 kcrisman]:
> >  * Does `hg_sage.revert()` really just revert all files?  I always needed `options="--all"`, but maybe I don't any more.
> Yeah, this does not work.

I actually think it's a bit dangerous to be able to revert without specifying "--all", so I think we should just fix the documentation, not change the behavior.  I'll do this soon.
> >  * What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)
> Ok, Keshav, as long as you vouch for this. Changing my hgrc didn't seem to do anything (the desired behavior), but maybe the repository already had hg initialized with mq or something...

As Keshav says, the latest Mercurial spkg turns on queues in `SAGE_ROOT/local/etc/mercurial/hgrc`, so this is not an issue.  (This is why #10594 is a prerequisite for this ticket.)
 
> >  * I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?
> Yes.  Cool!  Now I can edit the README more effectively :)

Right, ticket #9433, in particular [attachment:trac_9433-sage-repo.2.patch], added this.



---

archive/issue_comments_119225.json:
```json
{
    "body": "> I actually think it's a bit dangerous to be able to revert without specifying \"--all\", so I think we should just fix the documentation, not change the behavior. I'll do this soon.\nCan you at that time also make sure to document the (very useful) `--no-commit` option for `import_patch`?\n\nStill testing...",
    "created_at": "2011-08-18T20:47:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119225",
    "user": "https://github.com/kcrisman"
}
```

> I actually think it's a bit dangerous to be able to revert without specifying "--all", so I think we should just fix the documentation, not change the behavior. I'll do this soon.
Can you at that time also make sure to document the (very useful) `--no-commit` option for `import_patch`?

Still testing...



---

archive/issue_comments_119226.json:
```json
{
    "body": "Here's a BIG problem, but very easy to fix:\n\n```\nsage: hg_sage.qpop()\ncd \"/Users/.../sage-4.7.1/devel/sage\" && hg qpush \napplying trac_11142-sage-hg.patch\n```\n\nOops! That's the only one like that I found in the queues stuff, though.",
    "created_at": "2011-08-18T21:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119226",
    "user": "https://github.com/kcrisman"
}
```

Here's a BIG problem, but very easy to fix:

```
sage: hg_sage.qpop()
cd "/Users/.../sage-4.7.1/devel/sage" && hg qpush 
applying trac_11142-sage-hg.patch
```

Oops! That's the only one like that I found in the queues stuff, though.



---

archive/issue_comments_119227.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-08-18T21:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119227",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_119228.json:
```json
{
    "body": "But otherwise `debug` and `verbose` function properly, I tried lots of commands with various options, and it seems to work exactly the same as `hg *` from my command line (which uses the HG in Sage, of course).   Correctly accesses internet.   Passes tests.  So I think that the issues in 'work issues' are probably all that needs to be fixed.  \n\nNice work!  Now that I know how to use queues, I might end up being even more productive having them in the command line Sage.  Thanks.",
    "created_at": "2011-08-18T21:09:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119228",
    "user": "https://github.com/kcrisman"
}
```

But otherwise `debug` and `verbose` function properly, I tried lots of commands with various options, and it seems to work exactly the same as `hg *` from my command line (which uses the HG in Sage, of course).   Correctly accesses internet.   Passes tests.  So I think that the issues in 'work issues' are probably all that needs to be fixed.  

Nice work!  Now that I know how to use queues, I might end up being even more productive having them in the command line Sage.  Thanks.



---

archive/issue_comments_119229.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-08-18T22:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119229",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_119230.json:
```json
{
    "body": "Re the qpush/qpop thing: I'm just like trying to keep people on their toes.\n\nRe the documentation: I wonder if Mercurial itself used to revert all files when there were no arguments given: the rest of the docstring seems to have been taken from the help message printed by \"hg help revert\".  I've now replaced it with the current version of that message, edited slightly to use Sage `hg_sage....` syntax instead of `hg ...` shell syntax.\n\nThere is more work to be done, perhaps: commands like \"hg status\" can take many options when executed from the shell, but the Sage implementation doesn't include any of them.  If someone feels like opening up a follow-up ticket to implement things like that, they could.  Also, it wouldn't hurt to make sure that our docstrings are in line with Mercurial's current docstrings.  Since using Mercurial from the shell is pleasant enough, I would give these tasks a pretty low priority, as long our our docstrings don't say things which are completely wrong, like your catch with `revert`.",
    "created_at": "2011-08-18T22:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119230",
    "user": "https://github.com/jhpalmieri"
}
```

Re the qpush/qpop thing: I'm just like trying to keep people on their toes.

Re the documentation: I wonder if Mercurial itself used to revert all files when there were no arguments given: the rest of the docstring seems to have been taken from the help message printed by "hg help revert".  I've now replaced it with the current version of that message, edited slightly to use Sage `hg_sage....` syntax instead of `hg ...` shell syntax.

There is more work to be done, perhaps: commands like "hg status" can take many options when executed from the shell, but the Sage implementation doesn't include any of them.  If someone feels like opening up a follow-up ticket to implement things like that, they could.  Also, it wouldn't hurt to make sure that our docstrings are in line with Mercurial's current docstrings.  Since using Mercurial from the shell is pleasant enough, I would give these tasks a pretty low priority, as long our our docstrings don't say things which are completely wrong, like your catch with `revert`.



---

archive/issue_comments_119231.json:
```json
{
    "body": "diff between old \"v2\" and new one, for reference only",
    "created_at": "2011-08-18T22:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119231",
    "user": "https://github.com/jhpalmieri"
}
```

diff between old "v2" and new one, for reference only



---

archive/issue_comments_119232.json:
```json
{
    "body": "Attachment [trac_11142-delta.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-delta.patch) by @jhpalmieri created at 2011-08-18 22:09:54\n\nOops, forgot \"--no-commit\".  Now it's there, too.",
    "created_at": "2011-08-18T22:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119232",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_11142-delta.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-delta.patch) by @jhpalmieri created at 2011-08-18 22:09:54

Oops, forgot "--no-commit".  Now it's there, too.



---

archive/issue_comments_119233.json:
```json
{
    "body": "Attachment [trac_11142-delta-part2.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-delta-part2.patch) by @jhpalmieri created at 2011-08-18 22:10:23\n\nanother diff, applied on top of the other one (patch to \"import_patch\")",
    "created_at": "2011-08-18T22:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119233",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_11142-delta-part2.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-delta-part2.patch) by @jhpalmieri created at 2011-08-18 22:10:23

another diff, applied on top of the other one (patch to "import_patch")



---

archive/issue_comments_119234.json:
```json
{
    "body": "There are a bunch of things that didn't seem to look so good in the documentation.  Then I went ahead and made various other minor changes in a reviewer patch.   You can pick and choose, or just say positive review.  I tried to actually build the changes, but my Sage is funny sometimes and doesn't recognize changed files for the docbuild.\n\nThe only ones I would insist on are\n\n```\n-        To see the changes in this file since revision 10000:\n+        To see the changes in this file since revision 10000::\n```\n\nand the stuff about emailing William with a bundle, which is totally outdated in several ways.  \n\nI also wonder if you wanted to use `::` for the various options for the hg commands. It looks nice, but in other places (like plot documentation) we just use the Sphinx subitem syntax, I think, so maybe we shouldn't make those look like examples.  I am okay with either one, just wanted to ask about this.\n\nPositive review on the updates and patch, though.  I'm already using it!",
    "created_at": "2011-08-19T01:08:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119234",
    "user": "https://github.com/kcrisman"
}
```

There are a bunch of things that didn't seem to look so good in the documentation.  Then I went ahead and made various other minor changes in a reviewer patch.   You can pick and choose, or just say positive review.  I tried to actually build the changes, but my Sage is funny sometimes and doesn't recognize changed files for the docbuild.

The only ones I would insist on are

```
-        To see the changes in this file since revision 10000:
+        To see the changes in this file since revision 10000::
```

and the stuff about emailing William with a bundle, which is totally outdated in several ways.  

I also wonder if you wanted to use `::` for the various options for the hg commands. It looks nice, but in other places (like plot documentation) we just use the Sphinx subitem syntax, I think, so maybe we shouldn't make those look like examples.  I am okay with either one, just wanted to ask about this.

Positive review on the updates and patch, though.  I'm already using it!



---

archive/issue_comments_119235.json:
```json
{
    "body": "Apply after v2 patch",
    "created_at": "2011-08-19T01:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119235",
    "user": "https://github.com/kcrisman"
}
```

Apply after v2 patch



---

archive/issue_comments_119236.json:
```json
{
    "body": "Attachment [trac_1142-reviewer.patch](tarball://root/attachments/some-uuid/ticket11142/trac_1142-reviewer.patch) by @kcrisman created at 2011-08-19 01:10:09\n\nI'm sorry about the name.  It's for 11142, of course.",
    "created_at": "2011-08-19T01:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119236",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_1142-reviewer.patch](tarball://root/attachments/some-uuid/ticket11142/trac_1142-reviewer.patch) by @kcrisman created at 2011-08-19 01:10:09

I'm sorry about the name.  It's for 11142, of course.



---

archive/issue_comments_119237.json:
```json
{
    "body": "The changes look good to me.  Thanks for cleaning that up.\n\nThe nice thing about the \"::\" for the option lists is that it uses a fixed-width font, so the hyphens line up, etc.  Speaking of which, I'm putting up a new version of my patch which just adds a missing space in one of these option lists: \n\n```diff\ndiff --git a/sage/misc/hg.py b/sage/misc/hg.py\n--- a/sage/misc/hg.py\n+++ b/sage/misc/hg.py\n@@ -527,7 +527,7 @@ class HG:\n                %b   basename of the exporting repository\n                %h   short-form changeset hash (12 bytes of hexadecimal)\n                %n   zero-padded sequence number, starting at 1\n-               %r  zero-padded changeset revision number\n+               %r   zero-padded changeset revision number\n \n         -  ``text`` - boolean (default False).  Setting this to be True\n            has the same effect as passing the \"-a\" option below.\n```\n",
    "created_at": "2011-08-19T02:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119237",
    "user": "https://github.com/jhpalmieri"
}
```

The changes look good to me.  Thanks for cleaning that up.

The nice thing about the "::" for the option lists is that it uses a fixed-width font, so the hyphens line up, etc.  Speaking of which, I'm putting up a new version of my patch which just adds a missing space in one of these option lists: 

```diff
diff --git a/sage/misc/hg.py b/sage/misc/hg.py
--- a/sage/misc/hg.py
+++ b/sage/misc/hg.py
@@ -527,7 +527,7 @@ class HG:
                %b   basename of the exporting repository
                %h   short-form changeset hash (12 bytes of hexadecimal)
                %n   zero-padded sequence number, starting at 1
-               %r  zero-padded changeset revision number
+               %r   zero-padded changeset revision number
 
         -  ``text`` - boolean (default False).  Setting this to be True
            has the same effect as passing the "-a" option below.
```




---

archive/issue_comments_119238.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-08-19T02:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119238",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_119239.json:
```json
{
    "body": "Attachment [trac_11142-sage-hg.v2.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-sage-hg.v2.patch) by @jhpalmieri created at 2011-08-19 02:56:04\n\nmain Sage repo",
    "created_at": "2011-08-19T02:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119239",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_11142-sage-hg.v2.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-sage-hg.v2.patch) by @jhpalmieri created at 2011-08-19 02:56:04

main Sage repo



---

archive/issue_comments_119240.json:
```json
{
    "body": "I get several doctest failures of the form\n\n```\nsage -t  -force_lib devel/sage/sage/misc/hg.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage-main/sage/misc/hg.py\", line 783:\n    sage: hg_sage.rename('sage/misc/hg.py', 'sage/misc/hgnew.py', options='--dry-run')\nExpected:\n    Moving sage/misc/hg.py --> sage/misc/hgnew.py\n    cd ... && hg mv --dry-run \"sage/misc/hg.py\" \"sage/misc/hgnew.py\"\nGot:\n    Moving sage/misc/hg.py --> sage/misc/hgnew.py\n    <BLANKLINE>\n    WARNING:\n    Make sure to create a ~/.hgrc file:\n    ----------------------------------------------------------------------\n    [ui]\n    username = William Stein <wstein@gmail.com>\n    ----------------------------------------------------------------------\n    <BLANKLINE>\n    <BLANKLINE>\n    cd \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage\" && hg mv --dry-run \"sage/misc/hg.py\" \"sage/misc/hgnew.py\"\n**********************************************************************\n```\n\n\nI believe the doctests should be written in such a way that they do not require a `.hgrc` file.  Also, are the messages\n\n```\nAdding file module_list.pyc\ncd \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage\" && hg mv --dry-run \"sage/misc/hg.py\" \"sage/misc/hgnew.py\"\n```\n\nand\n\n```\nWARNING:\nMake sure to create a ~/.hgrc file:\n----------------------------------------------------------------------\n[ui]\nusername = William Stein <wstein@gmail.com>\n----------------------------------------------------------------------\n```\n\nwritten to `stdout` or `stderr`?  The second one certainly *should* be written to `stderr`.  If the first is written to `stdout`, the problem can be solved by capturing only `stdout`.",
    "created_at": "2011-08-22T13:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119240",
    "user": "https://github.com/jdemeyer"
}
```

I get several doctest failures of the form

```
sage -t  -force_lib devel/sage/sage/misc/hg.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage-main/sage/misc/hg.py", line 783:
    sage: hg_sage.rename('sage/misc/hg.py', 'sage/misc/hgnew.py', options='--dry-run')
Expected:
    Moving sage/misc/hg.py --> sage/misc/hgnew.py
    cd ... && hg mv --dry-run "sage/misc/hg.py" "sage/misc/hgnew.py"
Got:
    Moving sage/misc/hg.py --> sage/misc/hgnew.py
    <BLANKLINE>
    WARNING:
    Make sure to create a ~/.hgrc file:
    ----------------------------------------------------------------------
    [ui]
    username = William Stein <wstein@gmail.com>
    ----------------------------------------------------------------------
    <BLANKLINE>
    <BLANKLINE>
    cd "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage" && hg mv --dry-run "sage/misc/hg.py" "sage/misc/hgnew.py"
**********************************************************************
```


I believe the doctests should be written in such a way that they do not require a `.hgrc` file.  Also, are the messages

```
Adding file module_list.pyc
cd "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage" && hg mv --dry-run "sage/misc/hg.py" "sage/misc/hgnew.py"
```

and

```
WARNING:
Make sure to create a ~/.hgrc file:
----------------------------------------------------------------------
[ui]
username = William Stein <wstein@gmail.com>
----------------------------------------------------------------------
```

written to `stdout` or `stderr`?  The second one certainly *should* be written to `stderr`.  If the first is written to `stdout`, the problem can be solved by capturing only `stdout`.



---

archive/issue_comments_119241.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-08-22T13:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119241",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_119242.json:
```json
{
    "body": "The warning about the `.hgrc` file is printed by the `_warning` method, not by Mercurial itself.  What do you think about not printing that warning if doctesting?  I'm considering this patch:\n\n```diff\n\ndiff --git a/sage/misc/hg.py b/sage/misc/hg.py\n--- a/sage/misc/hg.py\n+++ b/sage/misc/hg.py\n@@ -336,7 +336,8 @@\n \n             sage: hg_sage._warning() # random\n         \"\"\"\n-        if not os.path.exists(os.path.join(os.environ['HOME'], '.hgrc')):\n+        from sage.plot.plot import DOCTEST_MODE\n+        if not os.path.exists(os.environ['HOME'] + '/.hgrc') and not DOCTEST_MODE:\n             print \"\\nWARNING:\"\n             print \"Make sure to create a ~/.hgrc file:\"\n             print \"-\"*70\n```\n\nWith this, all tests pass even if I don't have a `.hgrc` file.",
    "created_at": "2011-08-25T00:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119242",
    "user": "https://github.com/jhpalmieri"
}
```

The warning about the `.hgrc` file is printed by the `_warning` method, not by Mercurial itself.  What do you think about not printing that warning if doctesting?  I'm considering this patch:

```diff

diff --git a/sage/misc/hg.py b/sage/misc/hg.py
--- a/sage/misc/hg.py
+++ b/sage/misc/hg.py
@@ -336,7 +336,8 @@
 
             sage: hg_sage._warning() # random
         """
-        if not os.path.exists(os.path.join(os.environ['HOME'], '.hgrc')):
+        from sage.plot.plot import DOCTEST_MODE
+        if not os.path.exists(os.environ['HOME'] + '/.hgrc') and not DOCTEST_MODE:
             print "\nWARNING:"
             print "Make sure to create a ~/.hgrc file:"
             print "-"*70
```

With this, all tests pass even if I don't have a `.hgrc` file.



---

archive/issue_comments_119243.json:
```json
{
    "body": "Good idea. But why on earth is `DOCTEST_MODE` in `sage.plot.plot`?",
    "created_at": "2011-08-25T00:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119243",
    "user": "https://github.com/kini"
}
```

Good idea. But why on earth is `DOCTEST_MODE` in `sage.plot.plot`?



---

archive/issue_comments_119244.json:
```json
{
    "body": "Er, also, why change the `os.path.join` to string concatenation?",
    "created_at": "2011-08-25T00:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119244",
    "user": "https://github.com/kini"
}
```

Er, also, why change the `os.path.join` to string concatenation?



---

archive/issue_comments_119245.json:
```json
{
    "body": "kini: Sorry, that was a mistake.",
    "created_at": "2011-08-25T01:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119245",
    "user": "https://github.com/jhpalmieri"
}
```

kini: Sorry, that was a mistake.



---

archive/issue_comments_119246.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-08-25T01:36:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119246",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_119247.json:
```json
{
    "body": "Okay, here is a new patch.",
    "created_at": "2011-08-25T01:36:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119247",
    "user": "https://github.com/jhpalmieri"
}
```

Okay, here is a new patch.



---

archive/issue_comments_119248.json:
```json
{
    "body": "diff between v2 and v3 (for reference only)",
    "created_at": "2011-08-25T01:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119248",
    "user": "https://github.com/jhpalmieri"
}
```

diff between v2 and v3 (for reference only)



---

archive/issue_comments_119249.json:
```json
{
    "body": "Attachment [trac_11142-sage-hg.v3.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-sage-hg.v3.patch) by @jhpalmieri created at 2011-08-25 01:37:21\n\nmain Sage repo",
    "created_at": "2011-08-25T01:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119249",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_11142-sage-hg.v3.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-sage-hg.v3.patch) by @jhpalmieri created at 2011-08-25 01:37:21

main Sage repo



---

archive/issue_comments_119250.json:
```json
{
    "body": "All doctests pass. Looks good! Positive review from me.",
    "created_at": "2011-09-11T12:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119250",
    "user": "https://github.com/kini"
}
```

All doctests pass. Looks good! Positive review from me.



---

archive/issue_comments_119251.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-11T12:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119251",
    "user": "https://github.com/kini"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_119252.json:
```json
{
    "body": "It would certainly be better to reupload a patch with a misspelled name, i.e., ticket number.",
    "created_at": "2011-09-12T13:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119252",
    "user": "https://github.com/nexttime"
}
```

It would certainly be better to reupload a patch with a misspelled name, i.e., ticket number.



---

archive/issue_comments_119253.json:
```json
{
    "body": "I don't think it matters - the filename of the patch isn't stored anywhere in the Mercurial history and the commit message itself is accurate.",
    "created_at": "2011-09-12T13:52:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119253",
    "user": "https://github.com/kini"
}
```

I don't think it matters - the filename of the patch isn't stored anywhere in the Mercurial history and the commit message itself is accurate.



---

archive/issue_comments_119254.json:
```json
{
    "body": "Replying to [comment:31 kini]:\n> I don't think it matters - the filename of the patch isn't stored anywhere in the Mercurial history and the commit message itself is accurate.\n\nWell, there's sometimes a small period of time between when a patch gets uploaded and when it gets merged.",
    "created_at": "2011-09-12T14:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119254",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:31 kini]:
> I don't think it matters - the filename of the patch isn't stored anywhere in the Mercurial history and the commit message itself is accurate.

Well, there's sometimes a small period of time between when a patch gets uploaded and when it gets merged.



---

archive/issue_comments_119255.json:
```json
{
    "body": "renamed trac_1142-reviewer.patch",
    "created_at": "2011-09-12T14:42:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119255",
    "user": "https://github.com/kini"
}
```

renamed trac_1142-reviewer.patch



---

archive/issue_comments_119256.json:
```json
{
    "body": "Attachment [trac_11142-reviewer.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-reviewer.patch) by @kini created at 2011-09-12 14:43:55\n\nIf it helps you with release managing, why not :)",
    "created_at": "2011-09-12T14:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119256",
    "user": "https://github.com/kini"
}
```

Attachment [trac_11142-reviewer.patch](tarball://root/attachments/some-uuid/ticket11142/trac_11142-reviewer.patch) by @kini created at 2011-09-12 14:43:55

If it helps you with release managing, why not :)



---

archive/issue_comments_119257.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-09-12T19:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119257",
    "user": "https://github.com/nexttime"
}
```

Resolution: fixed



---

archive/issue_events_011108.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-12T19:15:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10999#event-11108"
}
```



---

archive/issue_comments_119258.json:
```json
{
    "body": "See #11898 for a problem probably caused by this.",
    "created_at": "2011-10-05T08:22:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10999",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10999#issuecomment-119258",
    "user": "https://github.com/jdemeyer"
}
```

See #11898 for a problem probably caused by this.
