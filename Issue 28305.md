# Issue 28305: change behaviour of denominator for p-adics

Issue created by migration from https://trac.sagemath.org/ticket/28542

Original creator: caruso

Original creation time: 2019-09-27 11:54:19

CC:  roed

Currently, if `x` is a p-adic number indistingushable from 0, the call `x.denominator()` raises an error. IMNO, it is not justified (and not convenient at all).

Instead, I propose to let it return `p^n` where `n` is the smallest integer for which we have the guarantee that `p^n*x` is integral, i.e. is `O(p^N)` with `N` nonnegative.



---

Comment by caruso created at 2019-09-27 11:56:50

Changing status from new to needs_review.


---

Comment by caruso created at 2019-09-27 11:56:50

Here is a fix. I've also implemented a method `numerator()`.
----
New commits:


---

Comment by chapoton created at 2019-09-28 06:30:50

typos (twice both):

```
is `n` is nonnegative
```

and

```
normalized is such
```



---

Comment by git created at 2019-09-28 07:15:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-09-28 07:16:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-09-28 19:24:10

missing :: after  otherwise.


---

Comment by git created at 2019-09-29 04:44:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-09-29 08:57:23

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2019-09-29 08:57:23

ok


---

Comment by vbraun created at 2019-10-06 23:07:14

Resolution: fixed
