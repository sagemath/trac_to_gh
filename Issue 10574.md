# Issue 10574: add options for printing matrices

Issue created by migration from https://trac.sagemath.org/ticket/10627

Original creator: jhpalmieri

Original creation time: 2011-01-13 20:48:11

Assignee: jason, was

CC:  kcrisman iandrus jason

Keywords: matrix repr

On [ask.sagemath.org](http://ask.sagemath.org/question/303/displaying-matrices-with-instead-of-0), it has been suggested that we should be able to print matrices using `.` instead of `0`.  We could also use a space instead of `0`.  Perhaps we could print `+` instead of `1` and `-` instead of `-1` for a (1,-1)-matrix.  All of these could be implemented by passing optional arguments to the `str` method for matrices, for example 

```
    sage: mat = random_matrix(ZZ, 50)
    sage: mat.str(zero='.')
```

or

```
    sage: mat.str(use_dot=True)
```

We need to figure out what options to allow for right now (although we can add more later) and what syntax to use for them.



---

Comment by iandrus created at 2011-01-15 13:36:08

Perhaps we could pass a map for how to display things like:


```
    sage: mat = random_matrix(ZZ, 50)
    sage: mat.str({0:'.',1:'+',-1:'-'})
```


Then we could map things arbitrarily.  It might not as easy to remember or use, but it would allow the user to do anything they wanted.  I can't think when it might be useful except perhaps to make matrices of group elements more understandable or for a mathematical puzzle in which the numbers are encoded as symbols.  

Actually it might be useful to show some oft repeated but complicated elements as a single letter like GAP does when displaying character tables.  For that to be really useful it would be best if it were automatic, but that's probably too much to ask.


---

Comment by jason created at 2011-01-15 20:30:23

This ticket would be very useful to me.  In my research, we deal with completing matrices, so we often represent matrices using +, -, and 0 (or ".") to represent positive, negative, or zero entries.  Having an easy way to print out such a matrix would be nice.


---

Comment by rbeezer created at 2011-01-21 05:46:11

I find things like `use_dot=True` get complicated fast.  As the options and possibilities increase, the keyword management becomes a morass.

I'd argue for


```
mat.str(zero=' ', plus_one='+', minus_one='-')
```


and think those three could be a good start.

How about having our cake and eating it too?  One argument, and it is a dictionary, then use it for translations.  Keywords, with or without a dictionary, create over-riding entries of the translation dictionary.

Then the code just checks for keys in the dictionary before setting an entry.

This would be nice for adjacency/incidence matrices of graphs.

$0.02 worth,
Rob


---

Comment by jason created at 2011-01-21 14:11:53

How about a keyword that is a dictionary *or* a function?  Then I could do something like:

```
def print_entry(x):
   if x>0:
      return '+'
   elif x<0:
      return '-'
   else: return '0'

mat.str(print_entries=print_entry)
```



---

Comment by iandrus created at 2011-01-21 17:23:57

A patch against 4.6.1.rc0 (sorry, I haven't updated yet).  I patched the generic Matrix class and the mod2 Matrix class.  Are there any others that need to be changed?


---

Comment by jason created at 2011-01-21 17:32:41

Thanks!

Wow, that is a _huge_ patch!  Can you explain the whitespace changes?


---

Comment by iandrus created at 2011-01-21 17:36:38

Oops.  I have my editor set up to delete trailing whitespace automatically and I forgot to trim the patch.  I can remove all purely whitespace changes if you wish.


---

Comment by jason created at 2011-01-21 17:42:48

It would probably be better to make a separate ticket to clean up whitespace, if you want to do that.


---

Attachment

There are still a few whitespace changes, but I've removed all unnecessary hunks.


---

Comment by rbeezer created at 2011-01-25 23:44:28

Changing status from new to needs_review.


---

Comment by rbeezer created at 2011-01-25 23:46:34

Looks good.  As mentioned, if there is additional behavior desired, that could be easily added through one of the mechanisms made available here.

Positive review.


---

Comment by rbeezer created at 2011-01-25 23:46:34

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-01-26 22:28:55

Resolution: fixed
