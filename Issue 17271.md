# Issue 17271: Reformat the developer's manual's page about docstrings

archive/issues_017271.json:
```json
{
    "body": "CC:  kcrisman\n\nThe page of the developer's manual that explains how the doc of a function should be written is a very important one. It can be obtained at this address:\n\nhttp://www.sagemath.org/doc/developer/coding_basics.html#documentation-strings\n\nRight now, however, it is a bit hard to read for the text is a bit \"flat\": it is a long enumeration of blocks, and it is hard to find the one we can be looking for.\n\nAt first I only wanted to rewrite in bold the name of each block, i.e. note, warning, examples, ...\n\nI ended up rephrasing several paragraphs in order to make them more direct (lots of information there, let us be concise). I also removed several comments saying \"a .. NOTE:: block should begin with \".. NOTE::\" as they were followed by an example. Or sentences like \"patches will not be accepted unless they contain a X block\" given that we already say at the beginning if a block is optional of not.\n\nI hope that it will be easier to read this way.\n\nNathann\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/17508\n\n",
    "created_at": "2014-12-15T12:07:17Z",
    "labels": [
        "documentation",
        "major",
        "enhancement"
    ],
    "title": "Reformat the developer's manual's page about docstrings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17271",
    "user": "ncohen"
}
```
CC:  kcrisman

The page of the developer's manual that explains how the doc of a function should be written is a very important one. It can be obtained at this address:

http://www.sagemath.org/doc/developer/coding_basics.html#documentation-strings

Right now, however, it is a bit hard to read for the text is a bit "flat": it is a long enumeration of blocks, and it is hard to find the one we can be looking for.

At first I only wanted to rewrite in bold the name of each block, i.e. note, warning, examples, ...

I ended up rephrasing several paragraphs in order to make them more direct (lots of information there, let us be concise). I also removed several comments saying "a .. NOTE:: block should begin with ".. NOTE::" as they were followed by an example. Or sentences like "patches will not be accepted unless they contain a X block" given that we already say at the beginning if a block is optional of not.

I hope that it will be easier to read this way.

Nathann


Issue created by migration from https://trac.sagemath.org/ticket/17508





---

archive/issue_comments_229960.json:
```json
{
    "body": "This branch is in conflict with #17498: once one of the two will be reviewer I will update the other.",
    "created_at": "2014-12-15T12:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229960",
    "user": "ncohen"
}
```

This branch is in conflict with #17498: once one of the two will be reviewer I will update the other.



---

archive/issue_comments_229961.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-15T12:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229961",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229962.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-16T03:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229962",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_229963.json:
```json
{
    "body": "I like this very much, in general.  \n\nMinor comments.\n* 'expected output' is better than only 'returns', because some functions return `None` but still have output (printing, showing a graphic, whatever).\n* It would be amusing to use the seealso directive to point to the hyperlinks reference.  But perhaps too self-referential :)\n* Probably the comment in the note should still say something (less verbose is fine) about using spaces, not tabs; the current text could be misleading to someone who would then get roughed up on Trac for it.\n* instead of \"it contains the tests\" use \"containing tests\"\n* For some reason the tests info is immediately after the references info, while seealso has a nice space after examples.  Maybe a missing line?  (I'm reviewing this before looking at the patch.)\n* I did not know about the `..automethod` and plan to use it in the future!\n* 'Note the indentation' should have a period, probably, since the double colon likely disappears or something; it looks awkward (even in the current doc) without it.\n\nEdit after looking at code:\n* I would make\n\n```\nTemplate\n--------\n```\n\n  be at the next lower level of header, I'm not sure whether there are any such in the file - maybe use `<sup>^</sup>^` for that?\n* Similarly, I'd add another subsubheader before the info about private functions, as that is not about the template.  Maybe\n\n```\nPrivate Functions\n^^^^^^^^^^^^^^^^^\n```\n\n  or something like that.\n\nAnyway, as I said, this is a nice improvement, thank you!",
    "created_at": "2014-12-16T15:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229963",
    "user": "kcrisman"
}
```

I like this very much, in general.  

Minor comments.
* 'expected output' is better than only 'returns', because some functions return `None` but still have output (printing, showing a graphic, whatever).
* It would be amusing to use the seealso directive to point to the hyperlinks reference.  But perhaps too self-referential :)
* Probably the comment in the note should still say something (less verbose is fine) about using spaces, not tabs; the current text could be misleading to someone who would then get roughed up on Trac for it.
* instead of "it contains the tests" use "containing tests"
* For some reason the tests info is immediately after the references info, while seealso has a nice space after examples.  Maybe a missing line?  (I'm reviewing this before looking at the patch.)
* I did not know about the `..automethod` and plan to use it in the future!
* 'Note the indentation' should have a period, probably, since the double colon likely disappears or something; it looks awkward (even in the current doc) without it.

Edit after looking at code:
* I would make

```
Template
--------
```

  be at the next lower level of header, I'm not sure whether there are any such in the file - maybe use `<sup>^</sup>^` for that?
* Similarly, I'd add another subsubheader before the info about private functions, as that is not about the template.  Maybe

```
Private Functions
^^^^^^^^^^^^^^^^^
```

  or something like that.

Anyway, as I said, this is a nice improvement, thank you!



---

archive/issue_comments_229964.json:
```json
{
    "body": "Helloo ! Thanks for the review.\n\nI made the modifications you asked but right now it is only \"on my computer\". I can't seem to access internet without proxy these days, and that means no ssh connections --> cannot use git. I hope that I will find a way tomorrow `:-/`\n\n> * 'expected output' is better than only 'returns', because some functions return `None` but still have output (printing, showing a graphic, whatever).\n\nDone\n\n> * It would be amusing to use the seealso directive to point to the hyperlinks reference.  But perhaps too self-referential :)\n\nI thought of illustrating \"warnings\" with a warning, \"notes\" with a note, then decided against it as the big colored blocks it produced were \"stealing the attention\".\n\n> * Probably the comment in the note should still say something (less verbose is fine) about using spaces, not tabs; the current text could be misleading to someone who would then get roughed up on Trac for it.\n\nI added some words about that.\n\n> * instead of \"it contains the tests\" use \"containing tests\"\n\nDone.\n\n> * For some reason the tests info is immediately after the references info, while seealso has a nice space after examples.  Maybe a missing line?  (I'm reviewing this before looking at the patch.)\n\nNo, just Sphinx not liking to have a new entry \"A **TESTS** block [...]\" right after the end of an enumeration. I turned it into normal text, it is not that bad either.\n\n> * I did not know about the `..automethod` and plan to use it in the future!\n\nYep, it's a cool thing.\n\n> * 'Note the indentation' should have a period, probably, since the double colon likely disappears or something; it looks awkward (even in the current doc) without it.\n\nDone\n\n> Edit after looking at code:\n> * I would make\n> {{{\n> Template\n> --------\n> }}}\n>   be at the next lower level of header\n\nDone, looks good.\n\n> * Similarly, I'd add another subsubheader before the info about private functions\n\nDone.\n\nThe git branch will be updated as soon as I can get a real connection somewhere `T_T`\n\nNathann",
    "created_at": "2014-12-16T16:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229964",
    "user": "ncohen"
}
```

Helloo ! Thanks for the review.

I made the modifications you asked but right now it is only "on my computer". I can't seem to access internet without proxy these days, and that means no ssh connections --> cannot use git. I hope that I will find a way tomorrow `:-/`

> * 'expected output' is better than only 'returns', because some functions return `None` but still have output (printing, showing a graphic, whatever).

Done

> * It would be amusing to use the seealso directive to point to the hyperlinks reference.  But perhaps too self-referential :)

I thought of illustrating "warnings" with a warning, "notes" with a note, then decided against it as the big colored blocks it produced were "stealing the attention".

> * Probably the comment in the note should still say something (less verbose is fine) about using spaces, not tabs; the current text could be misleading to someone who would then get roughed up on Trac for it.

I added some words about that.

> * instead of "it contains the tests" use "containing tests"

Done.

> * For some reason the tests info is immediately after the references info, while seealso has a nice space after examples.  Maybe a missing line?  (I'm reviewing this before looking at the patch.)

No, just Sphinx not liking to have a new entry "A **TESTS** block [...]" right after the end of an enumeration. I turned it into normal text, it is not that bad either.

> * I did not know about the `..automethod` and plan to use it in the future!

Yep, it's a cool thing.

> * 'Note the indentation' should have a period, probably, since the double colon likely disappears or something; it looks awkward (even in the current doc) without it.

Done

> Edit after looking at code:
> * I would make
> {{{
> Template
> --------
> }}}
>   be at the next lower level of header

Done, looks good.

> * Similarly, I'd add another subsubheader before the info about private functions

Done.

The git branch will be updated as soon as I can get a real connection somewhere `T_T`

Nathann



---

archive/issue_comments_229965.json:
```json
{
    "body": "Awesome, and please no rush to go to a McDonald's or someplace with free presumably non-proxied wifi ;-)",
    "created_at": "2014-12-16T16:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229965",
    "user": "kcrisman"
}
```

Awesome, and please no rush to go to a McDonald's or someplace with free presumably non-proxied wifi ;-)



---

archive/issue_comments_229966.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-17T01:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229966",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229967.json:
```json
{
    "body": "For some reason it works today.... `O_o`\n\nAnyway. Good `:-P`\n\nNathann",
    "created_at": "2014-12-17T01:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229967",
    "user": "ncohen"
}
```

For some reason it works today.... `O_o`

Anyway. Good `:-P`

Nathann



---

archive/issue_comments_229968.json:
```json
{
    "body": "Trivial final comments:\n* In the template we have\n\n```\n    REFERENCES:\n\n    .. [BCDT] Breuil, Conrad, Diamond, Taylor,\n       \"Modularity ....\"\n```\n\n  but in the text example you have\n\n```\n      .. [SC] Conventions for coding in sage.\n        http://www.sagemath.org/doc/developer/conventions.html.\n```\n\n  Note the one-space discrepancy.  Does it matter?  I don't know.\n* While `Never use tabulations.` may be technically correct, I think that most people coming to this will have to look up whether that has anything to do with the `tab` key, like I did.  Usually in (American?) English \"tabulation\" refers to some kind of tallying or scoring procedure.  Maybe `Never use tabs (tab characters).` or something?\n\nThis is really nice, it will help a lot.",
    "created_at": "2014-12-17T02:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229968",
    "user": "kcrisman"
}
```

Trivial final comments:
* In the template we have

```
    REFERENCES:

    .. [BCDT] Breuil, Conrad, Diamond, Taylor,
       "Modularity ...."
```

  but in the text example you have

```
      .. [SC] Conventions for coding in sage.
        http://www.sagemath.org/doc/developer/conventions.html.
```

  Note the one-space discrepancy.  Does it matter?  I don't know.
* While `Never use tabulations.` may be technically correct, I think that most people coming to this will have to look up whether that has anything to do with the `tab` key, like I did.  Usually in (American?) English "tabulation" refers to some kind of tallying or scoring procedure.  Maybe `Never use tabs (tab characters).` or something?

This is really nice, it will help a lot.



---

archive/issue_comments_229969.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-17T02:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229969",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_229970.json:
```json
{
    "body": "Heeeeeeere it is !\n\nThe space does not change anything, so I simplified to the most satisfying text format `:-P`\n\nNathann",
    "created_at": "2014-12-17T02:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229970",
    "user": "ncohen"
}
```

Heeeeeeere it is !

The space does not change anything, so I simplified to the most satisfying text format `:-P`

Nathann



---

archive/issue_comments_229971.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-17T02:29:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229971",
    "user": "kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_229972.json:
```json
{
    "body": "> The space does not change anything, so I simplified to the most satisfying text format :-P\n\nAwesome.  As a reward you now get to rebase #17498 against this.",
    "created_at": "2014-12-17T02:29:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229972",
    "user": "kcrisman"
}
```

> The space does not change anything, so I simplified to the most satisfying text format :-P

Awesome.  As a reward you now get to rebase #17498 against this.



---

archive/issue_comments_229973.json:
```json
{
    "body": "Thanks for the review !\n\nNathann",
    "created_at": "2014-12-17T02:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229973",
    "user": "ncohen"
}
```

Thanks for the review !

Nathann



---

archive/issue_comments_229974.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-12-18T00:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17271#issuecomment-229974",
    "user": "vbraun"
}
```

Resolution: fixed
