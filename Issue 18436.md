# Issue 18436: Replace GP by PARI in basis_of_short_vectors()

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2015-06-11 08:48:20




---

Comment by jdemeyer created at 2015-06-11 09:03:49

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-06-11 09:03:49

New commits:


---

Comment by vdelecroix created at 2015-08-03 08:44:35

You added a cached method to a method with a `safe_flag` argument that is intended to make the function returns a *new* copy of the object each time! The `cached_method` is incompatible with this `sage_flag`. One option is to get rid `sage_flag` (deprecation needed). And to be safe, I would return a *tuple* of immutable vectors instead of a list of mutable ones.


---

Comment by vdelecroix created at 2015-08-03 08:44:35

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-08-21 22:42:13

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2015-08-22 04:16:36

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2015-08-22 04:16:36

Rebased to latest beta and implemented your suggestions.


---

Comment by vdelecroix created at 2015-08-22 11:15:21

Not all of them

```
sage: Q = DiagonalQuadraticForm(ZZ, [1,3,5,7])
sage: V = Q.basis_of_short_vectors()
sage: V
((1, 0, 0, 0), (0, 1, 0, 0), (0, 0, 1, 0), (0, 0, 0, 1))
sage: V[0][1] = -2
sage: Q.basis_of_short_vectors()
((1, -2, 0, 0), (0, 1, 0, 0), (0, 0, 1, 0), (0, 0, 0, 1))
```



---

Comment by vdelecroix created at 2015-08-22 11:15:21

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-08-26 14:58:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-08-26 17:52:42

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-08-26 17:54:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-08-28 12:43:50

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2015-08-28 12:47:41

Thanks!


---

Comment by vbraun created at 2015-08-28 15:15:14

merge conflicts


---

Comment by vbraun created at 2015-08-28 15:15:14

Changing status from positive_review to needs_work.


---

Comment by git created at 2015-08-30 09:09:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-08-30 09:10:11

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2015-08-31 12:46:50

Resolution: fixed
