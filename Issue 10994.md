# Issue 10994: Upgrade sqlite to the newest upstream release (3.7.5)

Issue created by migration from Trac.

Original creator: drkirkby

Original creation time: 2011-04-06 12:12:35

Assignee: tbd

CC:  fbissey mariah

The version in sqlite of Sage is 3 years old, so an update is in order. Several recent release have only been bug-fix-releases, so this should be very stable. 

Dave


---

Comment by drkirkby created at 2011-04-06 13:57:22

Changing status from new to needs_review.


---

Comment by drkirkby created at 2011-04-06 22:24:13

Given this builds on at least the following:

 * Operating systems: Linux, OS X, Solaris 10, OpenSolaris & Solaris 11 Express
 * CPUs: SPARC and x86
 * 32-bit and 64-bit

as well as the fact this version of sqlite has been used on Gentoo Linux for some time, I believe this should be merged.


---

Comment by fbissey created at 2011-04-07 09:32:49

Sorry I couldn't review today - got swamped with work. Hopefully I will able to do a review tomorrow.


---

Comment by mariah created at 2011-04-07 15:34:31

SPKG.txt has entries:


```
### sqlite-3.6.22  (David Kirkby, March 1st 2010)
### sqlite-3.7.5 (David Kirkby, 6th April 2011)
### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)
```


Suggest order be changed to:


```
### sqlite-3.7.5 (David Kirkby, 6th April 2011)
### sqlite-3.6.22  (David Kirkby, March 1st 2010)
### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)
```


Tested with 'make testlong' on sage-4.7.alpha3 with sqlite-3.7.5.spkg (built with gcc-4.5.1) on the following skynet
machines:


```
cleo (ia64-Linux-rhel)
iras (ia64-Linux-suse)
eno (x86_64-Linux-core2-fc)
lena (x86_64-Linux-k10-fc)
flavius (x86_64-Linux-k8-fc)
taurus (x86_64-Linux-nehalem-fc)
sextus2 (x86_64-Linux-netburst-fc)
cicero (x86-Linux-pentium4-fc)
```


All tests passed.

With the change above, I would give this a positive review.


---

Comment by mariah created at 2011-04-07 15:34:31

Changing status from needs_review to needs_work.


---

Comment by drkirkby created at 2011-04-07 16:34:28

Changes, (which are only to SPKG.txt) for review purposes only.


---

Attachment

Replying to [comment:8 mariah]:
> SPKG.txt has entries:
> 
> {{{
> === sqlite-3.6.22  (David Kirkby, March 1st 2010) ===
> === sqlite-3.7.5 (David Kirkby, 6th April 2011) ===
> === sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009) ===
> }}}
> 
> Suggest order be changed to:
> 
> {{{
> === sqlite-3.7.5 (David Kirkby, 6th April 2011) ===
> === sqlite-3.6.22  (David Kirkby, March 1st 2010) ===
> === sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009) ===
> }}}

Thank you for spotting that error. I've now corrected it. 

> Tested with 'make testlong' on sage-4.7.alpha3 with sqlite-3.7.5.spkg (built with gcc-4.5.1) on the following skynet
> machines:
> 
> {{{
> cleo (ia64-Linux-rhel)
> iras (ia64-Linux-suse)
> eno (x86_64-Linux-core2-fc)
> lena (x86_64-Linux-k10-fc)
> flavius (x86_64-Linux-k8-fc)
> taurus (x86_64-Linux-nehalem-fc)
> sextus2 (x86_64-Linux-netburst-fc)
> cicero (x86-Linux-pentium4-fc)
> }}}
> 
> All tests passed.

Thanks, that's a good range of machines to to check this on. 

> With the change above, I would give this a positive review.

I'll leave you to double-check it and give the positive. I attached a revised Mercurial patch for review purposes, but they are now in the right order


```
drkirkby`@`hawk:~/newdocs/sage-4.7.alpha3/spkg/standard/sqlite-3.7.5$ grep "=== sqlite-3." SPKG.txt
### sqlite-3.7.5 (David Kirkby, 6th April 2011)
### sqlite-3.6.22  (David Kirkby, March 1st 2010)
### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)
### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)
### sqlite-3.6.17.p0 (Dan Drake, October 25th, 2009)
### sqlite-3.6.17 (David Kirkby, August 16th, 2009)
### sqlite-3.5.3.p4 (David Kirkby, June 13th, 2009)
### sqlite-3.5.3.p3 (Michael Abshoff, May 19th, 2008)
### sqlite-3.5.3.p2 (William Stein, May 16th, 2008)
drkirkby`@`hawk:~/newdocs/sage-4.7.alpha3/spkg/standard/sqlite-3.7.5$ 
```



---

Comment by drkirkby created at 2011-04-07 16:38:04

Changing status from needs_work to needs_review.


---

Comment by fbissey created at 2011-04-08 01:38:15

Just to add to this, I tested on OS X 10.5 and the long tests are fine. Thanks to Mariah for stepping in with such a wide range of coverage. I am setting this to positive review.


---

Comment by fbissey created at 2011-04-08 01:38:15

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-04-11 19:16:21

Resolution: fixed
