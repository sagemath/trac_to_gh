# Issue 10994: Upgrade sqlite to the newest upstream release (3.7.5)

archive/issues_010994.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  @kiwifb mariah\n\nThe version in sqlite of Sage is 3 years old, so an update is in order. Several recent release have only been bug-fix-releases, so this should be very stable. \n\nDave\n\nIssue created by migration from https://trac.sagemath.org/ticket/11136\n\n",
    "created_at": "2011-04-06T12:12:35Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "Upgrade sqlite to the newest upstream release (3.7.5)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10994",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```
Assignee: tbd

CC:  @kiwifb mariah

The version in sqlite of Sage is 3 years old, so an update is in order. Several recent release have only been bug-fix-releases, so this should be very stable. 

Dave

Issue created by migration from https://trac.sagemath.org/ticket/11136





---

archive/issue_comments_119148.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-04-06T13:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119148",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_119149.json:
```json
{
    "body": "Given this builds on at least the following:\n\n* Operating systems: Linux, OS X, Solaris 10, OpenSolaris & Solaris 11 Express\n* CPUs: SPARC and x86\n* 32-bit and 64-bit\n\nas well as the fact this version of sqlite has been used on Gentoo Linux for some time, I believe this should be merged.",
    "created_at": "2011-04-06T22:24:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119149",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Given this builds on at least the following:

* Operating systems: Linux, OS X, Solaris 10, OpenSolaris & Solaris 11 Express
* CPUs: SPARC and x86
* 32-bit and 64-bit

as well as the fact this version of sqlite has been used on Gentoo Linux for some time, I believe this should be merged.



---

archive/issue_comments_119150.json:
```json
{
    "body": "Sorry I couldn't review today - got swamped with work. Hopefully I will able to do a review tomorrow.",
    "created_at": "2011-04-07T09:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119150",
    "user": "https://github.com/kiwifb"
}
```

Sorry I couldn't review today - got swamped with work. Hopefully I will able to do a review tomorrow.



---

archive/issue_comments_119151.json:
```json
{
    "body": "SPKG.txt has entries:\n\n\n```\n### sqlite-3.6.22  (David Kirkby, March 1st 2010)\n### sqlite-3.7.5 (David Kirkby, 6th April 2011)\n### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)\n```\n\n\nSuggest order be changed to:\n\n\n```\n### sqlite-3.7.5 (David Kirkby, 6th April 2011)\n### sqlite-3.6.22  (David Kirkby, March 1st 2010)\n### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)\n```\n\n\nTested with 'make testlong' on sage-4.7.alpha3 with sqlite-3.7.5.spkg (built with gcc-4.5.1) on the following skynet\nmachines:\n\n\n```\ncleo (ia64-Linux-rhel)\niras (ia64-Linux-suse)\neno (x86_64-Linux-core2-fc)\nlena (x86_64-Linux-k10-fc)\nflavius (x86_64-Linux-k8-fc)\ntaurus (x86_64-Linux-nehalem-fc)\nsextus2 (x86_64-Linux-netburst-fc)\ncicero (x86-Linux-pentium4-fc)\n```\n\n\nAll tests passed.\n\nWith the change above, I would give this a positive review.",
    "created_at": "2011-04-07T15:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119151",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

SPKG.txt has entries:


```
### sqlite-3.6.22  (David Kirkby, March 1st 2010)
### sqlite-3.7.5 (David Kirkby, 6th April 2011)
### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)
```


Suggest order be changed to:


```
### sqlite-3.7.5 (David Kirkby, 6th April 2011)
### sqlite-3.6.22  (David Kirkby, March 1st 2010)
### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)
```


Tested with 'make testlong' on sage-4.7.alpha3 with sqlite-3.7.5.spkg (built with gcc-4.5.1) on the following skynet
machines:


```
cleo (ia64-Linux-rhel)
iras (ia64-Linux-suse)
eno (x86_64-Linux-core2-fc)
lena (x86_64-Linux-k10-fc)
flavius (x86_64-Linux-k8-fc)
taurus (x86_64-Linux-nehalem-fc)
sextus2 (x86_64-Linux-netburst-fc)
cicero (x86-Linux-pentium4-fc)
```


All tests passed.

With the change above, I would give this a positive review.



---

archive/issue_comments_119152.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-04-07T15:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119152",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_119153.json:
```json
{
    "body": "Changes, (which are only to SPKG.txt) for review purposes only.",
    "created_at": "2011-04-07T16:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119153",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changes, (which are only to SPKG.txt) for review purposes only.



---

archive/issue_comments_119154.json:
```json
{
    "body": "Attachment [11136-update-sqlite.patch](tarball://root/attachments/some-uuid/ticket11136/11136-update-sqlite.patch) by drkirkby created at 2011-04-07 16:38:04\n\nReplying to [comment:8 mariah]:\n> SPKG.txt has entries:\n> \n> {{{\n> === sqlite-3.6.22  (David Kirkby, March 1st 2010) ===\n> === sqlite-3.7.5 (David Kirkby, 6th April 2011) ===\n> === sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009) ===\n> }}}\n> \n> Suggest order be changed to:\n> \n> {{{\n> === sqlite-3.7.5 (David Kirkby, 6th April 2011) ===\n> === sqlite-3.6.22  (David Kirkby, March 1st 2010) ===\n> === sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009) ===\n> }}}\n\nThank you for spotting that error. I've now corrected it. \n\n> Tested with 'make testlong' on sage-4.7.alpha3 with sqlite-3.7.5.spkg (built with gcc-4.5.1) on the following skynet\n> machines:\n> \n> {{{\n> cleo (ia64-Linux-rhel)\n> iras (ia64-Linux-suse)\n> eno (x86_64-Linux-core2-fc)\n> lena (x86_64-Linux-k10-fc)\n> flavius (x86_64-Linux-k8-fc)\n> taurus (x86_64-Linux-nehalem-fc)\n> sextus2 (x86_64-Linux-netburst-fc)\n> cicero (x86-Linux-pentium4-fc)\n> }}}\n> \n> All tests passed.\n\nThanks, that's a good range of machines to to check this on. \n\n> With the change above, I would give this a positive review.\n\nI'll leave you to double-check it and give the positive. I attached a revised Mercurial patch for review purposes, but they are now in the right order\n\n\n```\ndrkirkby@hawk:~/newdocs/sage-4.7.alpha3/spkg/standard/sqlite-3.7.5$ grep \"=== sqlite-3.\" SPKG.txt\n### sqlite-3.7.5 (David Kirkby, 6th April 2011)\n### sqlite-3.6.22  (David Kirkby, March 1st 2010)\n### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)\n### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)\n### sqlite-3.6.17.p0 (Dan Drake, October 25th, 2009)\n### sqlite-3.6.17 (David Kirkby, August 16th, 2009)\n### sqlite-3.5.3.p4 (David Kirkby, June 13th, 2009)\n### sqlite-3.5.3.p3 (Michael Abshoff, May 19th, 2008)\n### sqlite-3.5.3.p2 (William Stein, May 16th, 2008)\ndrkirkby@hawk:~/newdocs/sage-4.7.alpha3/spkg/standard/sqlite-3.7.5$ \n```\n",
    "created_at": "2011-04-07T16:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119154",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Attachment [11136-update-sqlite.patch](tarball://root/attachments/some-uuid/ticket11136/11136-update-sqlite.patch) by drkirkby created at 2011-04-07 16:38:04

Replying to [comment:8 mariah]:
> SPKG.txt has entries:
> 
> {{{
> === sqlite-3.6.22  (David Kirkby, March 1st 2010) ===
> === sqlite-3.7.5 (David Kirkby, 6th April 2011) ===
> === sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009) ===
> }}}
> 
> Suggest order be changed to:
> 
> {{{
> === sqlite-3.7.5 (David Kirkby, 6th April 2011) ===
> === sqlite-3.6.22  (David Kirkby, March 1st 2010) ===
> === sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009) ===
> }}}

Thank you for spotting that error. I've now corrected it. 

> Tested with 'make testlong' on sage-4.7.alpha3 with sqlite-3.7.5.spkg (built with gcc-4.5.1) on the following skynet
> machines:
> 
> {{{
> cleo (ia64-Linux-rhel)
> iras (ia64-Linux-suse)
> eno (x86_64-Linux-core2-fc)
> lena (x86_64-Linux-k10-fc)
> flavius (x86_64-Linux-k8-fc)
> taurus (x86_64-Linux-nehalem-fc)
> sextus2 (x86_64-Linux-netburst-fc)
> cicero (x86-Linux-pentium4-fc)
> }}}
> 
> All tests passed.

Thanks, that's a good range of machines to to check this on. 

> With the change above, I would give this a positive review.

I'll leave you to double-check it and give the positive. I attached a revised Mercurial patch for review purposes, but they are now in the right order


```
drkirkby@hawk:~/newdocs/sage-4.7.alpha3/spkg/standard/sqlite-3.7.5$ grep "=== sqlite-3." SPKG.txt
### sqlite-3.7.5 (David Kirkby, 6th April 2011)
### sqlite-3.6.22  (David Kirkby, March 1st 2010)
### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)
### sqlite-3.6.19.p0 (Mike Hansen, October 26th, 2009)
### sqlite-3.6.17.p0 (Dan Drake, October 25th, 2009)
### sqlite-3.6.17 (David Kirkby, August 16th, 2009)
### sqlite-3.5.3.p4 (David Kirkby, June 13th, 2009)
### sqlite-3.5.3.p3 (Michael Abshoff, May 19th, 2008)
### sqlite-3.5.3.p2 (William Stein, May 16th, 2008)
drkirkby@hawk:~/newdocs/sage-4.7.alpha3/spkg/standard/sqlite-3.7.5$ 
```




---

archive/issue_comments_119155.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-07T16:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119155",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_119156.json:
```json
{
    "body": "Just to add to this, I tested on OS X 10.5 and the long tests are fine. Thanks to Mariah for stepping in with such a wide range of coverage. I am setting this to positive review.",
    "created_at": "2011-04-08T01:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119156",
    "user": "https://github.com/kiwifb"
}
```

Just to add to this, I tested on OS X 10.5 and the long tests are fine. Thanks to Mariah for stepping in with such a wide range of coverage. I am setting this to positive review.



---

archive/issue_comments_119157.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-04-08T01:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119157",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_119158.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-04-11T19:16:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10994#issuecomment-119158",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_028878.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-11T19:16:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10994",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10994#event-28878"
}
```
