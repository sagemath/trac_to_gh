# Issue 33844: numpy 1.23.x, scipy 1.9.x

archive/issues_033844.json:
```json
{
    "body": "CC:  dimpase arojas fbissey mjo\n\n- https://numpy.org/doc/stable/release/1.23.0-notes.html# (released)\n- https://scipy.github.io/devdocs/release.1.9.0.html (rc)\n  - scipy.optimize.milp (HiGHS MIP solver)\n\nPrevious update: \n- #32423 Update numpy to 1.22.x, scipy 1.8.x, networkx 2.8.x\n\nIssue created by migration from https://trac.sagemath.org/ticket/34081\n\n",
    "created_at": "2022-06-25T19:20:58Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "numpy 1.23.x, scipy 1.9.x",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33844",
    "user": "mkoeppe"
}
```
CC:  dimpase arojas fbissey mjo

- https://numpy.org/doc/stable/release/1.23.0-notes.html# (released)
- https://scipy.github.io/devdocs/release.1.9.0.html (rc)
  - scipy.optimize.milp (HiGHS MIP solver)

Previous update: 
- #32423 Update numpy to 1.22.x, scipy 1.8.x, networkx 2.8.x

Issue created by migration from https://trac.sagemath.org/ticket/34081





---

archive/issue_comments_480708.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2022-07-03T00:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480708",
    "user": "mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_480709.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-07-03T00:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480709",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_480710.json:
```json
{
    "body": "\n```\n[scipy-1.9.0rc1]       hook = backend.prepare_metadata_for_build_wheel\n[scipy-1.9.0rc1]   AttributeError: module 'mesonpy' has no attribute 'prepare_metadata_for_build_wheel'\n[scipy-1.9.0rc1] \n[scipy-1.9.0rc1]   During handling of the above exception, another exception occurred:\n[scipy-1.9.0rc1] \n[}}}",
    "created_at": "2022-07-03T01:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480710",
    "user": "mkoeppe"
}
```


```
[scipy-1.9.0rc1]       hook = backend.prepare_metadata_for_build_wheel
[scipy-1.9.0rc1]   AttributeError: module 'mesonpy' has no attribute 'prepare_metadata_for_build_wheel'
[scipy-1.9.0rc1] 
[scipy-1.9.0rc1]   During handling of the above exception, another exception occurred:
[scipy-1.9.0rc1] 
[}}}



---

archive/issue_comments_480711.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2022-07-03T01:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480711",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_480712.json:
```json
{
    "body": "Opened https://github.com/scipy/scipy/issues/16536 (BUG: 1.9.0rc1 fails to build on macOS when `CXX=\"g++ -std=gnu++11\"`)",
    "created_at": "2022-07-03T17:37:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480712",
    "user": "mkoeppe"
}
```

Opened https://github.com/scipy/scipy/issues/16536 (BUG: 1.9.0rc1 fails to build on macOS when `CXX="g++ -std=gnu++11"`)



---

archive/issue_comments_480713.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-03T18:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480713",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480714.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-03T18:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480714",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480715.json:
```json
{
    "body": "Build goes almost through but ends with:\n\n```\n[scipy-1.9.0rc1] [1569/1573] Linking target scipy/spatial/_qhull.cpython-38-darwin.so\n[scipy-1.9.0rc1] [1570/1573] Compiling C++ object scipy/interpolate/_rbfinterp_pythran.cpython-38-darwin.so.p/meson-generated_..__rbfinterp_pythran.cpp.o\n[scipy-1.9.0rc1] [1571/1573] Linking target scipy/interpolate/_rbfinterp_pythran.cpython-38-darwin.so\n[scipy-1.9.0rc1] [1572/1573] Compiling C++ object scipy/fft/_pocketfft/pypocketfft.cpython-38-darwin.so.p/pypocketfft.cxx.o\n[scipy-1.9.0rc1] [1573/1573] Linking target scipy/fft/_pocketfft/pypocketfft.cpython-38-darwin.so\n[scipy-1.9.0rc1] ninja: Entering directory `/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/build'\n[scipy-1.9.0rc1] [1/2] Generating scipy/generate-version with a custom command\n[scipy-1.9.0rc1] [2/2] Generating scipy/generate-config with a custom command\n[scipy-1.9.0rc1] Installing scipy/__config__.py to /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install/usr/local/Cellar/python@3.8/3.8.13_1/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages//scipy\n```\n\n<--- these directories are wrong\n\n```\n[scipy-1.9.0rc1] Installing scipy/version.py to /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install/usr/local/Cellar/python@3.8/3.8.13_1/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages//scipy\n[scipy-1.9.0rc1] Installing scipy/_lib/_ccallback_c.cpython-38-darwin.so to /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install/usr/local/Cellar/python@3.8/3.8.13_1/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/scipy/_lib\n[scipy-1.9.0rc1] Stripping target 'scipy/_lib/_ccallback_c.cpython-38-darwin.so'.\n[scipy-1.9.0rc1] Could not strip file.\n[scipy-1.9.0rc1] \n[scipy-1.9.0rc1] Stdout:\n[scipy-1.9.0rc1] \n[scipy-1.9.0rc1] \n[scipy-1.9.0rc1] Stderr:\n[scipy-1.9.0rc1] /Library/Developer/CommandLineTools/usr/bin/strip: error: symbols referenced by indirect symbol table entries that can't be stripped in: /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install/usr/local/Cellar/python@3.8/3.8.13_1/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/scipy/_lib/_ccallback_c.cpython-38-darwin.so\n[scipy-1.9.0rc1] _PyBytes_AsStringAndSize\n[scipy-1.9.0rc1] _PyBytes_FromString\n[...]\n[scipy-1.9.0rc1] __Py_NoneStruct\n[scipy-1.9.0rc1] __Py_TrueStruct\n[scipy-1.9.0rc1] ___stack_chk_guard\n[scipy-1.9.0rc1] \n[scipy-1.9.0rc1] \n[scipy-1.9.0rc1] + meson setup --native-file=/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-native-file.ini -Ddebug=false -Dstrip=true -Doptimization=2 --prefix=/usr/local/Cellar/python@3.8/3.8.13_1/bin/../Frameworks/Python.framework/Versions/3.8 /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/build\n[scipy-1.9.0rc1] + meson compile\n[scipy-1.9.0rc1] + meson install --destdir /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install\n[scipy-1.9.0rc1] Traceback (most recent call last):\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pep517/in_process/_in_process.py\", line 363, in <module>\n[scipy-1.9.0rc1]     main()\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pep517/in_process/_in_process.py\", line 345, in main\n[scipy-1.9.0rc1]     json_out['return_val'] = hook(**hook_input['kwargs'])\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pep517/in_process/_in_process.py\", line 261, in build_wheel\n[scipy-1.9.0rc1]     return _build_backend().build_wheel(wheel_directory, config_settings,\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py\", line 837, in build_wheel\n[scipy-1.9.0rc1]     return project.wheel(out).name\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py\", line 786, in wheel\n[scipy-1.9.0rc1]     wheel = _WheelBuilder(self).build(self._install_plan, self._copy_files, self._build_dir)\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py\", line 318, in build\n[scipy-1.9.0rc1]     self._project.build()  # ensure project is built\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py\", line 482, in build\n[scipy-1.9.0rc1]     self._meson('install', '--destdir', os.fspath(self._install_dir))\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py\", line 430, in _meson\n[scipy-1.9.0rc1]     return self._proc('meson', *args)\n[scipy-1.9.0rc1]   File \"/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py\", line 426, in _proc\n[scipy-1.9.0rc1]     subprocess.check_call(list(args))\n[scipy-1.9.0rc1]   File \"/usr/local/Cellar/python@3.8/3.8.13_1/Frameworks/Python.framework/Versions/3.8/lib/python3.8/subprocess.py\", line 364, in check_call\n[scipy-1.9.0rc1]     raise CalledProcessError(retcode, cmd)\n[scipy-1.9.0rc1] subprocess.CalledProcessError: Command '['meson', 'install', '--destdir', '/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install']' returned non-zero exit status 1.\n[scipy-1.9.0rc1] * Getting dependencies for wheel...\n[scipy-1.9.0rc1] * Building wheel...\n[scipy-1.9.0rc1] \n[scipy-1.9.0rc1] ERROR Backend subprocess exited when trying to invoke build_wheel\n```\n",
    "created_at": "2022-07-03T18:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480715",
    "user": "mkoeppe"
}
```

Build goes almost through but ends with:

```
[scipy-1.9.0rc1] [1569/1573] Linking target scipy/spatial/_qhull.cpython-38-darwin.so
[scipy-1.9.0rc1] [1570/1573] Compiling C++ object scipy/interpolate/_rbfinterp_pythran.cpython-38-darwin.so.p/meson-generated_..__rbfinterp_pythran.cpp.o
[scipy-1.9.0rc1] [1571/1573] Linking target scipy/interpolate/_rbfinterp_pythran.cpython-38-darwin.so
[scipy-1.9.0rc1] [1572/1573] Compiling C++ object scipy/fft/_pocketfft/pypocketfft.cpython-38-darwin.so.p/pypocketfft.cxx.o
[scipy-1.9.0rc1] [1573/1573] Linking target scipy/fft/_pocketfft/pypocketfft.cpython-38-darwin.so
[scipy-1.9.0rc1] ninja: Entering directory `/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/build'
[scipy-1.9.0rc1] [1/2] Generating scipy/generate-version with a custom command
[scipy-1.9.0rc1] [2/2] Generating scipy/generate-config with a custom command
[scipy-1.9.0rc1] Installing scipy/__config__.py to /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install/usr/local/Cellar/python@3.8/3.8.13_1/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages//scipy
```

<--- these directories are wrong

```
[scipy-1.9.0rc1] Installing scipy/version.py to /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install/usr/local/Cellar/python@3.8/3.8.13_1/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages//scipy
[scipy-1.9.0rc1] Installing scipy/_lib/_ccallback_c.cpython-38-darwin.so to /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install/usr/local/Cellar/python@3.8/3.8.13_1/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/scipy/_lib
[scipy-1.9.0rc1] Stripping target 'scipy/_lib/_ccallback_c.cpython-38-darwin.so'.
[scipy-1.9.0rc1] Could not strip file.
[scipy-1.9.0rc1] 
[scipy-1.9.0rc1] Stdout:
[scipy-1.9.0rc1] 
[scipy-1.9.0rc1] 
[scipy-1.9.0rc1] Stderr:
[scipy-1.9.0rc1] /Library/Developer/CommandLineTools/usr/bin/strip: error: symbols referenced by indirect symbol table entries that can't be stripped in: /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install/usr/local/Cellar/python@3.8/3.8.13_1/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/scipy/_lib/_ccallback_c.cpython-38-darwin.so
[scipy-1.9.0rc1] _PyBytes_AsStringAndSize
[scipy-1.9.0rc1] _PyBytes_FromString
[...]
[scipy-1.9.0rc1] __Py_NoneStruct
[scipy-1.9.0rc1] __Py_TrueStruct
[scipy-1.9.0rc1] ___stack_chk_guard
[scipy-1.9.0rc1] 
[scipy-1.9.0rc1] 
[scipy-1.9.0rc1] + meson setup --native-file=/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-native-file.ini -Ddebug=false -Dstrip=true -Doptimization=2 --prefix=/usr/local/Cellar/python@3.8/3.8.13_1/bin/../Frameworks/Python.framework/Versions/3.8 /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/build
[scipy-1.9.0rc1] + meson compile
[scipy-1.9.0rc1] + meson install --destdir /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install
[scipy-1.9.0rc1] Traceback (most recent call last):
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pep517/in_process/_in_process.py", line 363, in <module>
[scipy-1.9.0rc1]     main()
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pep517/in_process/_in_process.py", line 345, in main
[scipy-1.9.0rc1]     json_out['return_val'] = hook(**hook_input['kwargs'])
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pep517/in_process/_in_process.py", line 261, in build_wheel
[scipy-1.9.0rc1]     return _build_backend().build_wheel(wheel_directory, config_settings,
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py", line 837, in build_wheel
[scipy-1.9.0rc1]     return project.wheel(out).name
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py", line 786, in wheel
[scipy-1.9.0rc1]     wheel = _WheelBuilder(self).build(self._install_plan, self._copy_files, self._build_dir)
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py", line 318, in build
[scipy-1.9.0rc1]     self._project.build()  # ensure project is built
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py", line 482, in build
[scipy-1.9.0rc1]     self._meson('install', '--destdir', os.fspath(self._install_dir))
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py", line 430, in _meson
[scipy-1.9.0rc1]     return self._proc('meson', *args)
[scipy-1.9.0rc1]   File "/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/mesonpy/__init__.py", line 426, in _proc
[scipy-1.9.0rc1]     subprocess.check_call(list(args))
[scipy-1.9.0rc1]   File "/usr/local/Cellar/python@3.8/3.8.13_1/Frameworks/Python.framework/Versions/3.8/lib/python3.8/subprocess.py", line 364, in check_call
[scipy-1.9.0rc1]     raise CalledProcessError(retcode, cmd)
[scipy-1.9.0rc1] subprocess.CalledProcessError: Command '['meson', 'install', '--destdir', '/Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/scipy-1.9.0rc1/src/.mesonpy-bo77bwb4/install']' returned non-zero exit status 1.
[scipy-1.9.0rc1] * Getting dependencies for wheel...
[scipy-1.9.0rc1] * Building wheel...
[scipy-1.9.0rc1] 
[scipy-1.9.0rc1] ERROR Backend subprocess exited when trying to invoke build_wheel
```




---

archive/issue_comments_480716.json:
```json
{
    "body": "That's https://github.com/scipy/scipy/issues/16446, https://github.com/FFY00/meson-python/pull/90",
    "created_at": "2022-07-03T18:34:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480716",
    "user": "mkoeppe"
}
```

That's https://github.com/scipy/scipy/issues/16446, https://github.com/FFY00/meson-python/pull/90



---

archive/issue_comments_480717.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-03T18:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480717",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480718.json:
```json
{
    "body": "That fixes it, and now I get\n\n```\n[scipy-1.9.0rc1] Successfully built scipy-1.9.0rc1-cp38-cp38-macosx_12_x86_64.whl\n[scipy-1.9.0rc1] WARNING: Skipping scipy as it is not installed.\n[scipy-1.9.0rc1] Using pip 22.1.2 from /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pip (python 3.8)\n[scipy-1.9.0rc1] Looking in links: /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/lib/sage/wheels\n[scipy-1.9.0rc1] ERROR: scipy-1.9.0rc1-cp38-cp38-macosx_12_x86_64.whl is not a supported wheel on this platform.\n```\n",
    "created_at": "2022-07-03T18:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480718",
    "user": "mkoeppe"
}
```

That fixes it, and now I get

```
[scipy-1.9.0rc1] Successfully built scipy-1.9.0rc1-cp38-cp38-macosx_12_x86_64.whl
[scipy-1.9.0rc1] WARNING: Skipping scipy as it is not installed.
[scipy-1.9.0rc1] Using pip 22.1.2 from /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pip (python 3.8)
[scipy-1.9.0rc1] Looking in links: /Users/mkoeppe/s/sage/sage-rebasing/local/var/lib/sage/venv-python3.8/var/lib/sage/wheels
[scipy-1.9.0rc1] ERROR: scipy-1.9.0rc1-cp38-cp38-macosx_12_x86_64.whl is not a supported wheel on this platform.
```




---

archive/issue_comments_480719.json:
```json
{
    "body": "After renaming it from `...macosx_12...` to `...macosx_12_0...`, the wheel can be installed",
    "created_at": "2022-07-03T19:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480719",
    "user": "mkoeppe"
}
```

After renaming it from `...macosx_12...` to `...macosx_12_0...`, the wheel can be installed



---

archive/issue_comments_480720.json:
```json
{
    "body": "That's now https://github.com/FFY00/meson-python/issues/91",
    "created_at": "2022-07-03T19:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480720",
    "user": "mkoeppe"
}
```

That's now https://github.com/FFY00/meson-python/issues/91



---

archive/issue_comments_480721.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-04T02:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480721",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480722.json:
```json
{
    "body": "Replying to [comment:9 mkoeppe]:\n> Opened https://github.com/scipy/scipy/issues/16536 (BUG: 1.9.0rc1 fails to build on macOS when `CXX=\"g++ -std=gnu++11\"`)\n\nOpened #34119 (`src/bin/sage-env`: Export `CXXCPP`)",
    "created_at": "2022-07-06T01:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480722",
    "user": "mkoeppe"
}
```

Replying to [comment:9 mkoeppe]:
> Opened https://github.com/scipy/scipy/issues/16536 (BUG: 1.9.0rc1 fails to build on macOS when `CXX="g++ -std=gnu++11"`)

Opened #34119 (`src/bin/sage-env`: Export `CXXCPP`)



---

archive/issue_comments_480723.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-09T02:48:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480723",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480724.json:
```json
{
    "body": "Replying to [comment:17 mkoeppe]:\n> That's now https://github.com/FFY00/meson-python/issues/91\n\nReported as resolved in meson-python 0.8.0",
    "created_at": "2022-07-26T18:38:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480724",
    "user": "mkoeppe"
}
```

Replying to [comment:17 mkoeppe]:
> That's now https://github.com/FFY00/meson-python/issues/91

Reported as resolved in meson-python 0.8.0



---

archive/issue_comments_480725.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-26T18:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480725",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480726.json:
```json
{
    "body": "Indeed it creates a wheel with an acceptable filename now:\n\n```\n[scipy-1.9.0rc3]   Created wheel for scipy: filename=scipy-1.9.0rc3-cp39-cp39-macosx_12_0_x86_64.whl size=22657115 sha256=d2a44150f7bd42caf6610a06c9f4282430e4e8a119273fe42e9bea02d0aa0d10\n```\n",
    "created_at": "2022-07-26T19:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480726",
    "user": "mkoeppe"
}
```

Indeed it creates a wheel with an acceptable filename now:

```
[scipy-1.9.0rc3]   Created wheel for scipy: filename=scipy-1.9.0rc3-cp39-cp39-macosx_12_0_x86_64.whl size=22657115 sha256=d2a44150f7bd42caf6610a06c9f4282430e4e8a119273fe42e9bea02d0aa0d10
```




---

archive/issue_comments_480727.json:
```json
{
    "body": "mesonpy introduces a hidden dependency on `patchelf` on Linux systems\nhttps://github.com/FFY00/meson-python/blob/865183e46a3ed434c0c347c1ca752aec1ce6fce9/mesonpy/__init__.py#L927",
    "created_at": "2022-07-26T23:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480727",
    "user": "mkoeppe"
}
```

mesonpy introduces a hidden dependency on `patchelf` on Linux systems
https://github.com/FFY00/meson-python/blob/865183e46a3ed434c0c347c1ca752aec1ce6fce9/mesonpy/__init__.py#L927



---

archive/issue_comments_480728.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-27T01:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480728",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480729.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-07-27T01:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480729",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_480730.json:
```json
{
    "body": "On `debian-stretch-standard` (https://github.com/mkoeppe/sage/runs/7532141718?check_suite_focus=true)\n\n```\n  [patchelf-0.15.0]   g++ -std=gnu++11 -DPACKAGE_NAME=\\\"patchelf\\\" -DPACKAGE_TARNAME=\\\"patchelf\\\" -DPACKAGE_VERSION=\\\"0.15.0\\\" -DPACKAGE_STRING=\\\"patchelf\\ 0.15.0\\\" -DPACKAGE_BUGREPORT=\\\"\\\" -DPACKAGE_URL=\\\"\\\" -DPACKAGE=\\\"patchelf\\\" -DVERSION=\\\"0.15.0\\\" -I.    -Wall -std=c++17 -D_FILE_OFFSET_BITS=64     -g -O2 -c -o patchelf.o patchelf.cc\n  [patchelf-0.15.0]   patchelf.cc:29:20: fatal error: optional: No such file or directory\n  [patchelf-0.15.0]    #include <optional>\n  [patchelf-0.15.0]                       ^\n```\n",
    "created_at": "2022-07-27T16:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480730",
    "user": "mkoeppe"
}
```

On `debian-stretch-standard` (https://github.com/mkoeppe/sage/runs/7532141718?check_suite_focus=true)

```
  [patchelf-0.15.0]   g++ -std=gnu++11 -DPACKAGE_NAME=\"patchelf\" -DPACKAGE_TARNAME=\"patchelf\" -DPACKAGE_VERSION=\"0.15.0\" -DPACKAGE_STRING=\"patchelf\ 0.15.0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"patchelf\" -DVERSION=\"0.15.0\" -I.    -Wall -std=c++17 -D_FILE_OFFSET_BITS=64     -g -O2 -c -o patchelf.o patchelf.cc
  [patchelf-0.15.0]   patchelf.cc:29:20: fatal error: optional: No such file or directory
  [patchelf-0.15.0]    #include <optional>
  [patchelf-0.15.0]                       ^
```




---

archive/issue_comments_480731.json:
```json
{
    "body": "This is a C++17 feature, https://stackoverflow.com/questions/38253971/std-optional-no-such-file-or-directory. On this platform, gcc is 6.3.0-18+deb9u1 and apparently does not have sufficient C++17 support",
    "created_at": "2022-07-27T16:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480731",
    "user": "mkoeppe"
}
```

This is a C++17 feature, https://stackoverflow.com/questions/38253971/std-optional-no-such-file-or-directory. On this platform, gcc is 6.3.0-18+deb9u1 and apparently does not have sufficient C++17 support



---

archive/issue_comments_480732.json:
```json
{
    "body": "Opened https://github.com/NixOS/patchelf/issues/393",
    "created_at": "2022-07-27T16:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480732",
    "user": "mkoeppe"
}
```

Opened https://github.com/NixOS/patchelf/issues/393



---

archive/issue_comments_480733.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-07-27T17:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480733",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_480734.json:
```json
{
    "body": "On `debian-stretch-standard` (https://github.com/mkoeppe/sage/runs/7545914147?check_suite_focus=true)\n\n```\nUnpacking ninja-build (1.7.2-1) ...\n\n ...\n ERROR: Could not detect Ninja v1.8.2 or newer\n\n  A full log can be found at /sage/local/var/lib/sage/venv-python3.10.5/var/tmp/sage/build/meson_python-0.8.0/src/.mesonpy-7_1ejlan/build/meson-logs/meson-log.txt\n```\n",
    "created_at": "2022-07-27T22:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480734",
    "user": "mkoeppe"
}
```

On `debian-stretch-standard` (https://github.com/mkoeppe/sage/runs/7545914147?check_suite_focus=true)

```
Unpacking ninja-build (1.7.2-1) ...

 ...
 ERROR: Could not detect Ninja v1.8.2 or newer

  A full log can be found at /sage/local/var/lib/sage/venv-python3.10.5/var/tmp/sage/build/meson_python-0.8.0/src/.mesonpy-7_1ejlan/build/meson-logs/meson-log.txt
```




---

archive/issue_comments_480735.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-27T22:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480735",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480736.json:
```json
{
    "body": "I'll rebase this away from the numpy upgrade (#34110)",
    "created_at": "2022-07-29T21:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480736",
    "user": "mkoeppe"
}
```

I'll rebase this away from the numpy upgrade (#34110)



---

archive/issue_comments_480737.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2022-07-29T22:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480737",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_480738.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-07-29T22:04:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480738",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_480739.json:
```json
{
    "body": "On 32bit, it builds a wheel that is named wrong\n\n```\n  [scipy-1.9.0rc3]   Using pip 22.1.2 from /sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/pip (python 3.10)\n  [scipy-1.9.0rc3]   Looking in links: /sage/local/var/lib/sage/venv-python3.10.5/var/lib/sage/wheels\n  [scipy-1.9.0rc3]   ERROR: scipy-1.9.0rc3-cp310-cp310-linux_x86_64.whl is not a supported wheel on this platform.\n```\n\nhttps://github.com/mkoeppe/sage/runs/7599750782?check_suite_focus=true",
    "created_at": "2022-08-01T01:04:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480739",
    "user": "mkoeppe"
}
```

On 32bit, it builds a wheel that is named wrong

```
  [scipy-1.9.0rc3]   Using pip 22.1.2 from /sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/site-packages/pip (python 3.10)
  [scipy-1.9.0rc3]   Looking in links: /sage/local/var/lib/sage/venv-python3.10.5/var/lib/sage/wheels
  [scipy-1.9.0rc3]   ERROR: scipy-1.9.0rc3-cp310-cp310-linux_x86_64.whl is not a supported wheel on this platform.
```

https://github.com/mkoeppe/sage/runs/7599750782?check_suite_focus=true



---

archive/issue_comments_480740.json:
```json
{
    "body": "Opened https://github.com/FFY00/meson-python/issues/123",
    "created_at": "2022-08-01T01:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480740",
    "user": "mkoeppe"
}
```

Opened https://github.com/FFY00/meson-python/issues/123



---

archive/issue_comments_480741.json:
```json
{
    "body": "After renaming the wheel file to `scipy-1.9.0rc3-cp310-cp310-linux_i686.whl`, it can be installed with `pip`, and \n\n```\n$ file venv/lib/python3.10/site-packages/scipy/**/*.so \nvenv/lib/python3.10/site-packages/scipy/_lib/_ccallback_c.cpython-310-i386-linux-gnu.so:              ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=7ea4f88eb1db30a2264fa6414e073f9d42cb90c4, not stripped\nvenv/lib/python3.10/site-packages/scipy/_lib/_fpumode.cpython-310-i386-linux-gnu.so:                  ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=f9ae2041983e2b111529320c4b6b25d6fc1cd4d1, not stripped\n...\n```\n\nconfirms that this is a correct 32-bit build.",
    "created_at": "2022-08-01T01:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480741",
    "user": "mkoeppe"
}
```

After renaming the wheel file to `scipy-1.9.0rc3-cp310-cp310-linux_i686.whl`, it can be installed with `pip`, and 

```
$ file venv/lib/python3.10/site-packages/scipy/**/*.so 
venv/lib/python3.10/site-packages/scipy/_lib/_ccallback_c.cpython-310-i386-linux-gnu.so:              ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=7ea4f88eb1db30a2264fa6414e073f9d42cb90c4, not stripped
venv/lib/python3.10/site-packages/scipy/_lib/_fpumode.cpython-310-i386-linux-gnu.so:                  ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=f9ae2041983e2b111529320c4b6b25d6fc1cd4d1, not stripped
...
```

confirms that this is a correct 32-bit build.



---

archive/issue_comments_480742.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-08-01T01:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480742",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_480743.json:
```json
{
    "body": "Replying to [comment:29 mkoeppe]:\n> mesonpy introduces a hidden dependency on `patchelf` on Linux systems\n> https://github.com/FFY00/meson-python/blob/865183e46a3ed434c0c347c1ca752aec1ce6fce9/mesonpy/__init__.py#L927\n\nsee https://github.com/FFY00/meson-python/issues/125 (Only use and depend on patchelf if it is actually needed)",
    "created_at": "2022-08-02T22:28:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480743",
    "user": "mkoeppe"
}
```

Replying to [comment:29 mkoeppe]:
> mesonpy introduces a hidden dependency on `patchelf` on Linux systems
> https://github.com/FFY00/meson-python/blob/865183e46a3ed434c0c347c1ca752aec1ce6fce9/mesonpy/__init__.py#L927

see https://github.com/FFY00/meson-python/issues/125 (Only use and depend on patchelf if it is actually needed)



---

archive/issue_comments_480744.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-03T00:00:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480744",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480745.json:
```json
{
    "body": "Tested successfully with `tox -e docker-ubuntu-bionic-i386-standard-incremental -- scipy`",
    "created_at": "2022-08-03T00:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480745",
    "user": "mkoeppe"
}
```

Tested successfully with `tox -e docker-ubuntu-bionic-i386-standard-incremental -- scipy`



---

archive/issue_comments_480746.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-08-03T00:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480746",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_480747.json:
```json
{
    "body": "The build errors are all fixed, let's get this in",
    "created_at": "2022-08-03T03:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480747",
    "user": "mkoeppe"
}
```

The build errors are all fixed, let's get this in



---

archive/issue_comments_480748.json:
```json
{
    "body": "On `archlinux-standard` (https://github.com/mkoeppe/sage/runs/7659424080?check_suite_focus=true) I see \n\n```\n [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/csgraph/__init__.py\", line 182, in <module>\n  [sagemath_doc_html-none]   [plotting ]     from ._laplacian import laplacian\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/csgraph/_laplacian.py\", line 7, in <module>\n  [sagemath_doc_html-none]   [plotting ]     from scipy.sparse.linalg import LinearOperator\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/__init__.py\", line 120, in <module>\n  [sagemath_doc_html-none]   [plotting ]     from ._isolve import *\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/__init__.py\", line 4, in <module>\n  [sagemath_doc_html-none]   [plotting ]     from .iterative import *\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/iterative.py\", line 9, in <module>\n  [sagemath_doc_html-none]   [plotting ]     from . import _iterative\n  [sagemath_doc_html-none]   [plotting ] ImportError: /sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/_iterative.cpython-310-x86_64-linux-gnu.so: undefined symbol: slamch_\n  [sagemath_doc_html-none]   [plotting ] /sage/src/sage/plot/plot.py:docstring of sage.plot.plot.multi_graphics:59: WARNING: Exception occurred in plotting plot-50\n```\n",
    "created_at": "2022-08-04T01:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480748",
    "user": "mkoeppe"
}
```

On `archlinux-standard` (https://github.com/mkoeppe/sage/runs/7659424080?check_suite_focus=true) I see 

```
 [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/csgraph/__init__.py", line 182, in <module>
  [sagemath_doc_html-none]   [plotting ]     from ._laplacian import laplacian
  [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/csgraph/_laplacian.py", line 7, in <module>
  [sagemath_doc_html-none]   [plotting ]     from scipy.sparse.linalg import LinearOperator
  [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/__init__.py", line 120, in <module>
  [sagemath_doc_html-none]   [plotting ]     from ._isolve import *
  [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/__init__.py", line 4, in <module>
  [sagemath_doc_html-none]   [plotting ]     from .iterative import *
  [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/iterative.py", line 9, in <module>
  [sagemath_doc_html-none]   [plotting ]     from . import _iterative
  [sagemath_doc_html-none]   [plotting ] ImportError: /sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/_iterative.cpython-310-x86_64-linux-gnu.so: undefined symbol: slamch_
  [sagemath_doc_html-none]   [plotting ] /sage/src/sage/plot/plot.py:docstring of sage.plot.plot.multi_graphics:59: WARNING: Exception occurred in plotting plot-50
```




---

archive/issue_comments_480749.json:
```json
{
    "body": "Also on `gentoo-python3.9-standard` (https://github.com/mkoeppe/sage/runs/7659423834?check_suite_focus=true) during the docbuild I see these strange errors:\n\n```\n  [sagemath_doc_html-none]   [plotting ] /sage/src/sage/plot/plot.py:docstring of sage.plot.plot.multi_graphics:59: WARNING: Exception occurred in plotting plot-50\n  [sagemath_doc_html-none]   [plotting ]  from /sage/src/doc/en/reference/plotting/sage/plot/plot.rst:\n  [sagemath_doc_html-none]   [plotting ] Traceback (most recent call last):\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/scipy/__init__.py\", line 134, in <module>\n  [sagemath_doc_html-none]   [plotting ]     from scipy.__config__ import show as show_config\n  [sagemath_doc_html-none]   [plotting ] ModuleNotFoundError: No module named 'scipy.__config__'\n  [sagemath_doc_html-none]   [plotting ] The above exception was the direct cause of the following exception:\n  [sagemath_doc_html-none]   [plotting ] Traceback (most recent call last):\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/matplotlib/sphinxext/plot_directive.py\", line 517, in _run_code\n  [sagemath_doc_html-none]   [plotting ]     exec(code, ns)\n  [sagemath_doc_html-none]   [plotting ]   File \"<string>\", line 2, in <module>\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/src/sage/misc/decorators.py\", line 410, in wrapper\n  [sagemath_doc_html-none]   [plotting ]     return func(*args, **kwds)\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/src/sage/misc/decorators.py\", line 410, in wrapper\n  [sagemath_doc_html-none]   [plotting ]     return func(*args, **kwds)\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/src/sage/misc/decorators.py\", line 491, in wrapper\n  [sagemath_doc_html-none]   [plotting ]     return func(*args, **options)\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/src/sage/plot/matrix_plot.py\", line 565, in matrix_plot\n  [sagemath_doc_html-none]   [plotting ]     import scipy.sparse as scipysparse\n  [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/scipy/__init__.py\", line 139, in <module>\n  [sagemath_doc_html-none]   [plotting ]     raise ImportError(msg) from e\n  [sagemath_doc_html-none]   [plotting ] ImportError: Error importing SciPy: you cannot import SciPy while\n  [sagemath_doc_html-none]   [plotting ]         being in scipy source directory; please exit the SciPy source\n  [sagemath_doc_html-none]   [plotting ]         tree first and relaunch your Python interpreter.\n```\n",
    "created_at": "2022-08-04T04:51:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480749",
    "user": "mkoeppe"
}
```

Also on `gentoo-python3.9-standard` (https://github.com/mkoeppe/sage/runs/7659423834?check_suite_focus=true) during the docbuild I see these strange errors:

```
  [sagemath_doc_html-none]   [plotting ] /sage/src/sage/plot/plot.py:docstring of sage.plot.plot.multi_graphics:59: WARNING: Exception occurred in plotting plot-50
  [sagemath_doc_html-none]   [plotting ]  from /sage/src/doc/en/reference/plotting/sage/plot/plot.rst:
  [sagemath_doc_html-none]   [plotting ] Traceback (most recent call last):
  [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/scipy/__init__.py", line 134, in <module>
  [sagemath_doc_html-none]   [plotting ]     from scipy.__config__ import show as show_config
  [sagemath_doc_html-none]   [plotting ] ModuleNotFoundError: No module named 'scipy.__config__'
  [sagemath_doc_html-none]   [plotting ] The above exception was the direct cause of the following exception:
  [sagemath_doc_html-none]   [plotting ] Traceback (most recent call last):
  [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/matplotlib/sphinxext/plot_directive.py", line 517, in _run_code
  [sagemath_doc_html-none]   [plotting ]     exec(code, ns)
  [sagemath_doc_html-none]   [plotting ]   File "<string>", line 2, in <module>
  [sagemath_doc_html-none]   [plotting ]   File "/sage/src/sage/misc/decorators.py", line 410, in wrapper
  [sagemath_doc_html-none]   [plotting ]     return func(*args, **kwds)
  [sagemath_doc_html-none]   [plotting ]   File "/sage/src/sage/misc/decorators.py", line 410, in wrapper
  [sagemath_doc_html-none]   [plotting ]     return func(*args, **kwds)
  [sagemath_doc_html-none]   [plotting ]   File "/sage/src/sage/misc/decorators.py", line 491, in wrapper
  [sagemath_doc_html-none]   [plotting ]     return func(*args, **options)
  [sagemath_doc_html-none]   [plotting ]   File "/sage/src/sage/plot/matrix_plot.py", line 565, in matrix_plot
  [sagemath_doc_html-none]   [plotting ]     import scipy.sparse as scipysparse
  [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/scipy/__init__.py", line 139, in <module>
  [sagemath_doc_html-none]   [plotting ]     raise ImportError(msg) from e
  [sagemath_doc_html-none]   [plotting ] ImportError: Error importing SciPy: you cannot import SciPy while
  [sagemath_doc_html-none]   [plotting ]         being in scipy source directory; please exit the SciPy source
  [sagemath_doc_html-none]   [plotting ]         tree first and relaunch your Python interpreter.
```




---

archive/issue_comments_480750.json:
```json
{
    "body": "I've opened https://github.com/FFY00/meson-python/issues/127 for this failure on gentoo",
    "created_at": "2022-08-04T06:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480750",
    "user": "mkoeppe"
}
```

I've opened https://github.com/FFY00/meson-python/issues/127 for this failure on gentoo



---

archive/issue_comments_480751.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-04T06:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480751",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480752.json:
```json
{
    "body": "Replying to [comment:57 mkoeppe]:\n>   [sagemath_doc_html-none]   [plotting ] ImportError: /sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/_iterative.cpython-310-x86_64-linux-gnu.so: undefined symbol: slamch_\n\nI suppose this is caused by our openblas not including lapack symbols. Our distro package is fine since we haven't switched to meson (yet)",
    "created_at": "2022-08-04T06:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480752",
    "user": "arojas"
}
```

Replying to [comment:57 mkoeppe]:
>   [sagemath_doc_html-none]   [plotting ] ImportError: /sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/_iterative.cpython-310-x86_64-linux-gnu.so: undefined symbol: slamch_

I suppose this is caused by our openblas not including lapack symbols. Our distro package is fine since we haven't switched to meson (yet)



---

archive/issue_comments_480753.json:
```json
{
    "body": "Replying to [comment:61 arojas]:\n> I suppose this is caused by our openblas not including lapack symbols. Our distro package is fine since we haven't switched to meson (yet)\n\nIndeed, building with -Dlapack=lapack fixes this when building the distro package with meson. Not sure how to fix this in sage.",
    "created_at": "2022-08-04T06:45:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480753",
    "user": "arojas"
}
```

Replying to [comment:61 arojas]:
> I suppose this is caused by our openblas not including lapack symbols. Our distro package is fine since we haven't switched to meson (yet)

Indeed, building with -Dlapack=lapack fixes this when building the distro package with meson. Not sure how to fix this in sage.



---

archive/issue_comments_480754.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-04T06:49:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480754",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480755.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-04T07:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480755",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480756.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-08-04T07:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480756",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_480757.json:
```json
{
    "body": "Replying to [comment:58 mkoeppe]:\n> Also on `gentoo-python3.9-standard` (https://github.com/mkoeppe/sage/runs/7659423834?check_suite_focus=true) during the docbuild I see these strange errors:\n> {{{\n>   [sagemath_doc_html-none]   [plotting ] /sage/src/sage/plot/plot.py:docstring of sage.plot.plot.multi_graphics:59: WARNING: Exception occurred in plotting plot-50\n>   [sagemath_doc_html-none]   [plotting ]  from /sage/src/doc/en/reference/plotting/sage/plot/plot.rst:\n>   [sagemath_doc_html-none]   [plotting ] Traceback (most recent call last):\n>   [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/scipy/__init__.py\", line 134, in <module>\n>   [sagemath_doc_html-none]   [plotting ]     from scipy.__config__ import show as show_config\n>   [sagemath_doc_html-none]   [plotting ] ModuleNotFoundError: No module named 'scipy.__config__'\n>   [sagemath_doc_html-none]   [plotting ] The above exception was the direct cause of the following exception:\n>   [sagemath_doc_html-none]   [plotting ] Traceback (most recent call last):\n>   [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/matplotlib/sphinxext/plot_directive.py\", line 517, in _run_code\n>   [sagemath_doc_html-none]   [plotting ]     exec(code, ns)\n>   [sagemath_doc_html-none]   [plotting ]   File \"<string>\", line 2, in <module>\n>   [sagemath_doc_html-none]   [plotting ]   File \"/sage/src/sage/misc/decorators.py\", line 410, in wrapper\n>   [sagemath_doc_html-none]   [plotting ]     return func(*args, **kwds)\n>   [sagemath_doc_html-none]   [plotting ]   File \"/sage/src/sage/misc/decorators.py\", line 410, in wrapper\n>   [sagemath_doc_html-none]   [plotting ]     return func(*args, **kwds)\n>   [sagemath_doc_html-none]   [plotting ]   File \"/sage/src/sage/misc/decorators.py\", line 491, in wrapper\n>   [sagemath_doc_html-none]   [plotting ]     return func(*args, **options)\n>   [sagemath_doc_html-none]   [plotting ]   File \"/sage/src/sage/plot/matrix_plot.py\", line 565, in matrix_plot\n>   [sagemath_doc_html-none]   [plotting ]     import scipy.sparse as scipysparse\n>   [sagemath_doc_html-none]   [plotting ]   File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/scipy/__init__.py\", line 139, in <module>\n>   [sagemath_doc_html-none]   [plotting ]     raise ImportError(msg) from e\n>   [sagemath_doc_html-none]   [plotting ] ImportError: Error importing SciPy: you cannot import SciPy while\n>   [sagemath_doc_html-none]   [plotting ]         being in scipy source directory; please exit the SciPy source\n>   [sagemath_doc_html-none]   [plotting ]         tree first and relaunch your Python interpreter.\n> }}}\n\nI just built sage-on-gentoo with scipy 1.9.0 without issue. It was with python 3.10 and ninja_build 1.10.2 though.",
    "created_at": "2022-08-04T07:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480757",
    "user": "fbissey"
}
```

Replying to [comment:58 mkoeppe]:
> Also on `gentoo-python3.9-standard` (https://github.com/mkoeppe/sage/runs/7659423834?check_suite_focus=true) during the docbuild I see these strange errors:
> {{{
>   [sagemath_doc_html-none]   [plotting ] /sage/src/sage/plot/plot.py:docstring of sage.plot.plot.multi_graphics:59: WARNING: Exception occurred in plotting plot-50
>   [sagemath_doc_html-none]   [plotting ]  from /sage/src/doc/en/reference/plotting/sage/plot/plot.rst:
>   [sagemath_doc_html-none]   [plotting ] Traceback (most recent call last):
>   [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/scipy/__init__.py", line 134, in <module>
>   [sagemath_doc_html-none]   [plotting ]     from scipy.__config__ import show as show_config
>   [sagemath_doc_html-none]   [plotting ] ModuleNotFoundError: No module named 'scipy.__config__'
>   [sagemath_doc_html-none]   [plotting ] The above exception was the direct cause of the following exception:
>   [sagemath_doc_html-none]   [plotting ] Traceback (most recent call last):
>   [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/matplotlib/sphinxext/plot_directive.py", line 517, in _run_code
>   [sagemath_doc_html-none]   [plotting ]     exec(code, ns)
>   [sagemath_doc_html-none]   [plotting ]   File "<string>", line 2, in <module>
>   [sagemath_doc_html-none]   [plotting ]   File "/sage/src/sage/misc/decorators.py", line 410, in wrapper
>   [sagemath_doc_html-none]   [plotting ]     return func(*args, **kwds)
>   [sagemath_doc_html-none]   [plotting ]   File "/sage/src/sage/misc/decorators.py", line 410, in wrapper
>   [sagemath_doc_html-none]   [plotting ]     return func(*args, **kwds)
>   [sagemath_doc_html-none]   [plotting ]   File "/sage/src/sage/misc/decorators.py", line 491, in wrapper
>   [sagemath_doc_html-none]   [plotting ]     return func(*args, **options)
>   [sagemath_doc_html-none]   [plotting ]   File "/sage/src/sage/plot/matrix_plot.py", line 565, in matrix_plot
>   [sagemath_doc_html-none]   [plotting ]     import scipy.sparse as scipysparse
>   [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/scipy/__init__.py", line 139, in <module>
>   [sagemath_doc_html-none]   [plotting ]     raise ImportError(msg) from e
>   [sagemath_doc_html-none]   [plotting ] ImportError: Error importing SciPy: you cannot import SciPy while
>   [sagemath_doc_html-none]   [plotting ]         being in scipy source directory; please exit the SciPy source
>   [sagemath_doc_html-none]   [plotting ]         tree first and relaunch your Python interpreter.
> }}}

I just built sage-on-gentoo with scipy 1.9.0 without issue. It was with python 3.10 and ninja_build 1.10.2 though.



---

archive/issue_comments_480758.json:
```json
{
    "body": "Getting ninja to 1.11.0 didn't bring any issues in sage-on-gentoo.",
    "created_at": "2022-08-04T09:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480758",
    "user": "fbissey"
}
```

Getting ninja to 1.11.0 didn't bring any issues in sage-on-gentoo.



---

archive/issue_comments_480759.json:
```json
{
    "body": "New versions: scipy 1.9.1, meson 0.63.1, per update in https://github.com/FFY00/meson-python/issues/127#issuecomment-1235798227",
    "created_at": "2022-09-02T18:47:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480759",
    "user": "mkoeppe"
}
```

New versions: scipy 1.9.1, meson 0.63.1, per update in https://github.com/FFY00/meson-python/issues/127#issuecomment-1235798227



---

archive/issue_comments_480760.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-02T21:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480760",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480761.json:
```json
{
    "body": "The issue in comment:58 persists after these updates",
    "created_at": "2022-09-02T21:41:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480761",
    "user": "mkoeppe"
}
```

The issue in comment:58 persists after these updates



---

archive/issue_comments_480762.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-04T13:50:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480762",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480763.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-04T18:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480763",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480764.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-04T18:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480764",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480765.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-09T15:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480765",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480766.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-28T17:18:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480766",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480767.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-09-28T17:20:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480767",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_480768.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-28T17:35:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480768",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480769.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-28T17:46:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480769",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480770.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-28T18:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480770",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480771.json:
```json
{
    "body": "Upstream indicates new versions of meson-python and scipy will be coming within 1-2 weeks - https://github.com/FFY00/meson-python/issues/127#issuecomment-1261328442",
    "created_at": "2022-09-28T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480771",
    "user": "mkoeppe"
}
```

Upstream indicates new versions of meson-python and scipy will be coming within 1-2 weeks - https://github.com/FFY00/meson-python/issues/127#issuecomment-1261328442



---

archive/issue_comments_480772.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-28T19:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480772",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480773.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-28T20:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480773",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480774.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-28T20:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480774",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480775.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-30T00:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480775",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480776.json:
```json
{
    "body": "The bug in comment:15 is back with the update of `meson_python` to 0.9.0\n\n```\n[scipy-1.9.1] Using pip 22.2.2 from /Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/pip (python 3.10)\n[scipy-1.9.1] Looking in links: /Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.10/var/lib/sage/wheels\n[scipy-1.9.1] ERROR: scipy-1.9.1-cp310-cp310-macosx_12_6_x86_64.whl is not a supported wheel on this platform.\n```\n",
    "created_at": "2022-09-30T01:34:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480776",
    "user": "mkoeppe"
}
```

The bug in comment:15 is back with the update of `meson_python` to 0.9.0

```
[scipy-1.9.1] Using pip 22.2.2 from /Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/pip (python 3.10)
[scipy-1.9.1] Looking in links: /Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/var/lib/sage/venv-python3.10/var/lib/sage/wheels
[scipy-1.9.1] ERROR: scipy-1.9.1-cp310-cp310-macosx_12_6_x86_64.whl is not a supported wheel on this platform.
```




---

archive/issue_comments_480777.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-30T01:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480777",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480778.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-08T04:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480778",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480779.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-10-08T04:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480779",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_480780.json:
```json
{
    "body": "The update to 0.10.0 has fixed the problem in comment:90, https://github.com/FFY00/meson-python/issues/160",
    "created_at": "2022-10-08T04:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480780",
    "user": "mkoeppe"
}
```

The update to 0.10.0 has fixed the problem in comment:90, https://github.com/FFY00/meson-python/issues/160



---

archive/issue_comments_480781.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-09T18:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480781",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480782.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-10T03:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480782",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480783.json:
```json
{
    "body": "The failure from comment:58 is still present after these updates",
    "created_at": "2022-10-10T03:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480783",
    "user": "mkoeppe"
}
```

The failure from comment:58 is still present after these updates



---

archive/issue_comments_480784.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-10-10T03:33:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480784",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_480785.json:
```json
{
    "body": "Actually, the update of meson fixed it, I made a mistake when testing it. I've closed the upstream issue https://github.com/FFY00/meson-python/issues/127",
    "created_at": "2022-10-14T17:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480785",
    "user": "mkoeppe"
}
```

Actually, the update of meson fixed it, I made a mistake when testing it. I've closed the upstream issue https://github.com/FFY00/meson-python/issues/127



---

archive/issue_comments_480786.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-10-14T17:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480786",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_480787.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-10-17T17:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480787",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_480788.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-17T17:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480788",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480789.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-18T01:07:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480789",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480790.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-18T04:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480790",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480791.json:
```json
{
    "body": "Let's get this in please.",
    "created_at": "2022-10-19T19:58:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480791",
    "user": "mkoeppe"
}
```

Let's get this in please.



---

archive/issue_comments_480792.json:
```json
{
    "body": "I presume $\\pi$-meson, $\\mu$-meson, etc to follow, but OK",
    "created_at": "2022-10-19T22:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480792",
    "user": "dimpase"
}
```

I presume $\pi$-meson, $\mu$-meson, etc to follow, but OK



---

archive/issue_comments_480793.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-10-19T22:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480793",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_480794.json:
```json
{
    "body": "Sure, when they are stable",
    "created_at": "2022-10-19T22:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480794",
    "user": "mkoeppe"
}
```

Sure, when they are stable



---

archive/issue_comments_480795.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-10-24T20:27:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480795",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_480796.json:
```json
{
    "body": "Testsuite fails \n\n```\n[meson_python-0.10.0] =================================== FAILURES ===================================\n[meson_python-0.10.0] _______________________________ test_scipy_like ________________________________\n[meson_python-0.10.0] \n[meson_python-0.10.0] wheel_scipy_like = PosixPath('/private/tmp/pytest-of-root/pytest-2/test0/mesonpy-test-445hpffx/mypkg-2.3.4-cp310-cp310-macosx_11_0_x86_64.whl')\n[meson_python-0.10.0] \n[meson_python-0.10.0]     @pytest.mark.skipif(win_py37, reason='An issue with missing file extension')\n[meson_python-0.10.0]     def test_scipy_like(wheel_scipy_like):\n[meson_python-0.10.0]         # This test is meant to exercise features commonly needed by a regular\n[meson_python-0.10.0]         # Python package for scientific computing or data science:\n[meson_python-0.10.0]         #   - C and Cython extensions,\n[meson_python-0.10.0]         #   - including generated code,\n[meson_python-0.10.0]         #   - using `install_subdir`,\n[meson_python-0.10.0]         #   - packaging data files with extensions not known to Meson\n[meson_python-0.10.0]         artifact = wheel.wheelfile.WheelFile(wheel_scipy_like)\n[meson_python-0.10.0]     \n[meson_python-0.10.0]         expecting = {\n[meson_python-0.10.0]             'mypkg-2.3.4.dist-info/METADATA',\n[meson_python-0.10.0]             'mypkg-2.3.4.dist-info/RECORD',\n[meson_python-0.10.0]             'mypkg-2.3.4.dist-info/WHEEL',\n[meson_python-0.10.0]             'mypkg/__init__.py',\n[meson_python-0.10.0]             'mypkg/__config__.py',\n[meson_python-0.10.0]             f'mypkg/extmod{EXT_SUFFIX}',\n[meson_python-0.10.0]             f'mypkg/cy_extmod{EXT_SUFFIX}',\n[meson_python-0.10.0]         }\n[meson_python-0.10.0]         # Meson master has a fix for `install_subdir` that is not present in\n[meson_python-0.10.0]         # 0.63.2: https://github.com/mesonbuild/meson/pull/10765\n[meson_python-0.10.0]         # A backport of the fix may land in 0.63.3, if so then remove the version\n[meson_python-0.10.0]         # check here and add the two expected files unconditionally.\n[meson_python-0.10.0]         if meson_version and meson_version >= '0.63.99':\n[meson_python-0.10.0]             expecting |= {\n[meson_python-0.10.0]                 'mypkg/submod/__init__.py',\n[meson_python-0.10.0]                 'mypkg/submod/unknown_filetype.npq',\n[meson_python-0.10.0]             }\n[meson_python-0.10.0]         if os.name == 'nt':\n[meson_python-0.10.0]             # Currently Meson is installing `.dll.a` (import libraries) next to\n[meson_python-0.10.0]             # `.pyd` extension modules. Those are very small, so it's not a major\n[meson_python-0.10.0]             # issue - just sloppy. For now, ensure we don't fail on those\n[meson_python-0.10.0]             actual_files = wheel_contents(artifact)\n[meson_python-0.10.0]             for item in expecting:\n[meson_python-0.10.0]                 assert item in actual_files\n[meson_python-0.10.0]         else:\n[meson_python-0.10.0] >           assert wheel_contents(artifact) == expecting\n[meson_python-0.10.0] E           AssertionError: assert {'mypkg-2.3.4...rwin.so', ...} == {'mypkg-2.3.4...rwin.so', ...}\n[meson_python-0.10.0] E             Extra items in the left set:\n[meson_python-0.10.0] E             'mypkg/submod/__init__.py'\n[meson_python-0.10.0] E             'mypkg/submod/unknown_filetype.npq'\n[meson_python-0.10.0] E             Use -v to get more diff\n[meson_python-0.10.0] \n[meson_python-0.10.0] tests/test_wheel.py:123: AssertionError\n[meson_python-0.10.0] ---------------------------- Captured stdout setup -----------------------------\n[meson_python-0.10.0] + meson setup --native-file=/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-native-file.ini -Ddebug=false -Doptimization=2 --prefix=/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8 /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/build\n[meson_python-0.10.0] The Meson build system\n[meson_python-0.10.0] Version: 0.63.3\n[meson_python-0.10.0] Source dir: /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like\n[meson_python-0.10.0] Build dir: /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/build\n[meson_python-0.10.0] Build type: native build\n[meson_python-0.10.0] Project name: scipy-like\n[meson_python-0.10.0] Project version: 2.3.4\n[meson_python-0.10.0] C compiler for the host machine: gcc (clang 13.0.0 \"Apple clang version 13.0.0 (clang-1300.0.29.30)\")\n[meson_python-0.10.0] C linker for the host machine: gcc ld64 711\n[meson_python-0.10.0] Cython compiler for the host machine: cython (cython 0.29.32)\n[meson_python-0.10.0] Host machine cpu family: x86_64\n[meson_python-0.10.0] Host machine cpu: x86_64\n[meson_python-0.10.0] Program python found: YES (/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/bin/python3)\n[meson_python-0.10.0] Found pkg-config: /Users/buildbot-sage/worker/sage_git/build/local/bin/pkg-config (1.8.0)\n[meson_python-0.10.0] Build targets in project: 3\n[meson_python-0.10.0] \n[meson_python-0.10.0] scipy-like 2.3.4\n[meson_python-0.10.0] \n[meson_python-0.10.0]   User defined options\n[meson_python-0.10.0]     Native files: /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-native-file.ini\n[meson_python-0.10.0]     debug       : false\n[meson_python-0.10.0]     optimization: 2\n[meson_python-0.10.0]     prefix      : /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8\n[meson_python-0.10.0] \n[meson_python-0.10.0] Found ninja-1.11.0 at /Users/buildbot-sage/worker/sage_git/build/local/bin/ninja\n[meson_python-0.10.0] + meson compile\n[meson_python-0.10.0] [1/6] Generating mypkg/generate-config-file with a custom command\n[meson_python-0.10.0] [2/6] Compiling C object mypkg/extmod.cpython-310-darwin.so.p/extmod.c.o\n[meson_python-0.10.0] [3/6] Linking target mypkg/extmod.cpython-310-darwin.so\n[meson_python-0.10.0] [4/6] Compiling Cython source /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/cy_extmod.pyx\n[meson_python-0.10.0] [5/6] Compiling C object mypkg/cy_extmod.cpython-310-darwin.so.p/meson-generated_mypkg_cy_extmod.pyx.c.o\n[meson_python-0.10.0] [6/6] Linking target mypkg/cy_extmod.cpython-310-darwin.so\n[meson_python-0.10.0] + meson install --destdir /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install\n[meson_python-0.10.0] ninja: Entering directory `/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/build'\n[meson_python-0.10.0] [1/1] Generating mypkg/generate-config-file with a custom command\n[meson_python-0.10.0] Installing subdir /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/submod to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg/submod\n[meson_python-0.10.0] Installing /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/submod/__init__.py to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg/submod\n[meson_python-0.10.0] Installing /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/submod/unknown_filetype.npq to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg/submod\n[meson_python-0.10.0] Installing mypkg/__config__.py to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg\n[meson_python-0.10.0] Installing mypkg/extmod.cpython-310-darwin.so to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg\n[meson_python-0.10.0] Installing mypkg/cy_extmod.cpython-310-darwin.so to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg\n[meson_python-0.10.0] Installing /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/__init__.py to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg\n[meson_python-0.10.0] Copying files to wheel...\n[meson_python-0.10.0] [0/4] mypkg/__config__.py\n[meson_python-0.10.0] [1/4] mypkg/extmod.cpython-310-darwin.so\n[meson_python-0.10.0] [2/4] mypkg/cy_extmod.cpython-310-darwin.so\n[meson_python-0.10.0] [3/4] mypkg/__init__.py\n[meson_python-0.10.0] [4/4] mypkg/submod\n[meson_python-0.10.0] =========================== short test summary info ============================\n[meson_python-0.10.0] FAILED tests/test_wheel.py::test_scipy_like - AssertionError: assert {'mypkg-...\n[meson_python-0.10.0] ERROR tests/test_wheel.py::test_detect_wheel_tag_module - subprocess.CalledPr...\n[meson_python-0.10.0] ========= 1 failed, 44 passed, 5 skipped, 2 xfailed, 1 error in 33.75s =========\n[meson_python-0.10.0] \n[meson_python-0.10.0] real\t0m34.481s\n[meson_python-0.10.0] user\t0m22.332s\n[meson_python-0.10.0] sys\t0m11.018s\n[meson_python-0.10.0] ************************************************************************\n[meson_python-0.10.0] Error testing package meson_python-0.10.0\n[meson_python-0.10.0] ************************************************************************\n[meson_python-0.10.0] Please email sage-devel (http://groups.google.com/group/sage-devel)\n[meson_python-0.10.0] explaining the problem and including the log files\n[meson_python-0.10.0]   /Users/buildbot-sage/worker/sage_git/build/logs/pkgs/meson_python-0.10.0.log\n[meson_python-0.10.0] and\n[meson_python-0.10.0]   /Users/buildbot-sage/worker/sage_git/build/config.log\n[meson_python-0.10.0] Describe your computer, operating system, etc.\n[meson_python-0.10.0] If you want to try to fix the problem yourself, *don't* just cd to\n[meson_python-0.10.0] /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0 and type 'make check' or whatever is appropriate.\n[meson_python-0.10.0] Instead, the following commands setup all environment variables\n[meson_python-0.10.0] correctly and load a subshell for you to debug the error:\n[meson_python-0.10.0]   (cd '/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0' && '/Users/buildbot-sage/worker/sage_git/build/sage' --buildsh)\n[meson_python-0.10.0] When you are done debugging, you can type \"exit\" to leave the subshell.\n[meson_python-0.10.0] ************************************************************************\n```\n",
    "created_at": "2022-10-24T20:27:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480796",
    "user": "vbraun"
}
```

Testsuite fails 

```
[meson_python-0.10.0] =================================== FAILURES ===================================
[meson_python-0.10.0] _______________________________ test_scipy_like ________________________________
[meson_python-0.10.0] 
[meson_python-0.10.0] wheel_scipy_like = PosixPath('/private/tmp/pytest-of-root/pytest-2/test0/mesonpy-test-445hpffx/mypkg-2.3.4-cp310-cp310-macosx_11_0_x86_64.whl')
[meson_python-0.10.0] 
[meson_python-0.10.0]     @pytest.mark.skipif(win_py37, reason='An issue with missing file extension')
[meson_python-0.10.0]     def test_scipy_like(wheel_scipy_like):
[meson_python-0.10.0]         # This test is meant to exercise features commonly needed by a regular
[meson_python-0.10.0]         # Python package for scientific computing or data science:
[meson_python-0.10.0]         #   - C and Cython extensions,
[meson_python-0.10.0]         #   - including generated code,
[meson_python-0.10.0]         #   - using `install_subdir`,
[meson_python-0.10.0]         #   - packaging data files with extensions not known to Meson
[meson_python-0.10.0]         artifact = wheel.wheelfile.WheelFile(wheel_scipy_like)
[meson_python-0.10.0]     
[meson_python-0.10.0]         expecting = {
[meson_python-0.10.0]             'mypkg-2.3.4.dist-info/METADATA',
[meson_python-0.10.0]             'mypkg-2.3.4.dist-info/RECORD',
[meson_python-0.10.0]             'mypkg-2.3.4.dist-info/WHEEL',
[meson_python-0.10.0]             'mypkg/__init__.py',
[meson_python-0.10.0]             'mypkg/__config__.py',
[meson_python-0.10.0]             f'mypkg/extmod{EXT_SUFFIX}',
[meson_python-0.10.0]             f'mypkg/cy_extmod{EXT_SUFFIX}',
[meson_python-0.10.0]         }
[meson_python-0.10.0]         # Meson master has a fix for `install_subdir` that is not present in
[meson_python-0.10.0]         # 0.63.2: https://github.com/mesonbuild/meson/pull/10765
[meson_python-0.10.0]         # A backport of the fix may land in 0.63.3, if so then remove the version
[meson_python-0.10.0]         # check here and add the two expected files unconditionally.
[meson_python-0.10.0]         if meson_version and meson_version >= '0.63.99':
[meson_python-0.10.0]             expecting |= {
[meson_python-0.10.0]                 'mypkg/submod/__init__.py',
[meson_python-0.10.0]                 'mypkg/submod/unknown_filetype.npq',
[meson_python-0.10.0]             }
[meson_python-0.10.0]         if os.name == 'nt':
[meson_python-0.10.0]             # Currently Meson is installing `.dll.a` (import libraries) next to
[meson_python-0.10.0]             # `.pyd` extension modules. Those are very small, so it's not a major
[meson_python-0.10.0]             # issue - just sloppy. For now, ensure we don't fail on those
[meson_python-0.10.0]             actual_files = wheel_contents(artifact)
[meson_python-0.10.0]             for item in expecting:
[meson_python-0.10.0]                 assert item in actual_files
[meson_python-0.10.0]         else:
[meson_python-0.10.0] >           assert wheel_contents(artifact) == expecting
[meson_python-0.10.0] E           AssertionError: assert {'mypkg-2.3.4...rwin.so', ...} == {'mypkg-2.3.4...rwin.so', ...}
[meson_python-0.10.0] E             Extra items in the left set:
[meson_python-0.10.0] E             'mypkg/submod/__init__.py'
[meson_python-0.10.0] E             'mypkg/submod/unknown_filetype.npq'
[meson_python-0.10.0] E             Use -v to get more diff
[meson_python-0.10.0] 
[meson_python-0.10.0] tests/test_wheel.py:123: AssertionError
[meson_python-0.10.0] ---------------------------- Captured stdout setup -----------------------------
[meson_python-0.10.0] + meson setup --native-file=/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-native-file.ini -Ddebug=false -Doptimization=2 --prefix=/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8 /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/build
[meson_python-0.10.0] The Meson build system
[meson_python-0.10.0] Version: 0.63.3
[meson_python-0.10.0] Source dir: /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like
[meson_python-0.10.0] Build dir: /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/build
[meson_python-0.10.0] Build type: native build
[meson_python-0.10.0] Project name: scipy-like
[meson_python-0.10.0] Project version: 2.3.4
[meson_python-0.10.0] C compiler for the host machine: gcc (clang 13.0.0 "Apple clang version 13.0.0 (clang-1300.0.29.30)")
[meson_python-0.10.0] C linker for the host machine: gcc ld64 711
[meson_python-0.10.0] Cython compiler for the host machine: cython (cython 0.29.32)
[meson_python-0.10.0] Host machine cpu family: x86_64
[meson_python-0.10.0] Host machine cpu: x86_64
[meson_python-0.10.0] Program python found: YES (/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/bin/python3)
[meson_python-0.10.0] Found pkg-config: /Users/buildbot-sage/worker/sage_git/build/local/bin/pkg-config (1.8.0)
[meson_python-0.10.0] Build targets in project: 3
[meson_python-0.10.0] 
[meson_python-0.10.0] scipy-like 2.3.4
[meson_python-0.10.0] 
[meson_python-0.10.0]   User defined options
[meson_python-0.10.0]     Native files: /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-native-file.ini
[meson_python-0.10.0]     debug       : false
[meson_python-0.10.0]     optimization: 2
[meson_python-0.10.0]     prefix      : /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8
[meson_python-0.10.0] 
[meson_python-0.10.0] Found ninja-1.11.0 at /Users/buildbot-sage/worker/sage_git/build/local/bin/ninja
[meson_python-0.10.0] + meson compile
[meson_python-0.10.0] [1/6] Generating mypkg/generate-config-file with a custom command
[meson_python-0.10.0] [2/6] Compiling C object mypkg/extmod.cpython-310-darwin.so.p/extmod.c.o
[meson_python-0.10.0] [3/6] Linking target mypkg/extmod.cpython-310-darwin.so
[meson_python-0.10.0] [4/6] Compiling Cython source /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/cy_extmod.pyx
[meson_python-0.10.0] [5/6] Compiling C object mypkg/cy_extmod.cpython-310-darwin.so.p/meson-generated_mypkg_cy_extmod.pyx.c.o
[meson_python-0.10.0] [6/6] Linking target mypkg/cy_extmod.cpython-310-darwin.so
[meson_python-0.10.0] + meson install --destdir /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install
[meson_python-0.10.0] ninja: Entering directory `/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/build'
[meson_python-0.10.0] [1/1] Generating mypkg/generate-config-file with a custom command
[meson_python-0.10.0] Installing subdir /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/submod to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg/submod
[meson_python-0.10.0] Installing /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/submod/__init__.py to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg/submod
[meson_python-0.10.0] Installing /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/submod/unknown_filetype.npq to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg/submod
[meson_python-0.10.0] Installing mypkg/__config__.py to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg
[meson_python-0.10.0] Installing mypkg/extmod.cpython-310-darwin.so to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg
[meson_python-0.10.0] Installing mypkg/cy_extmod.cpython-310-darwin.so to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg
[meson_python-0.10.0] Installing /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/mypkg/__init__.py to /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0/src/tests/packages/scipy-like/.mesonpy-1hcozttf/install/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/mypkg
[meson_python-0.10.0] Copying files to wheel...
[meson_python-0.10.0] [0/4] mypkg/__config__.py
[meson_python-0.10.0] [1/4] mypkg/extmod.cpython-310-darwin.so
[meson_python-0.10.0] [2/4] mypkg/cy_extmod.cpython-310-darwin.so
[meson_python-0.10.0] [3/4] mypkg/__init__.py
[meson_python-0.10.0] [4/4] mypkg/submod
[meson_python-0.10.0] =========================== short test summary info ============================
[meson_python-0.10.0] FAILED tests/test_wheel.py::test_scipy_like - AssertionError: assert {'mypkg-...
[meson_python-0.10.0] ERROR tests/test_wheel.py::test_detect_wheel_tag_module - subprocess.CalledPr...
[meson_python-0.10.0] ========= 1 failed, 44 passed, 5 skipped, 2 xfailed, 1 error in 33.75s =========
[meson_python-0.10.0] 
[meson_python-0.10.0] real	0m34.481s
[meson_python-0.10.0] user	0m22.332s
[meson_python-0.10.0] sys	0m11.018s
[meson_python-0.10.0] ************************************************************************
[meson_python-0.10.0] Error testing package meson_python-0.10.0
[meson_python-0.10.0] ************************************************************************
[meson_python-0.10.0] Please email sage-devel (http://groups.google.com/group/sage-devel)
[meson_python-0.10.0] explaining the problem and including the log files
[meson_python-0.10.0]   /Users/buildbot-sage/worker/sage_git/build/logs/pkgs/meson_python-0.10.0.log
[meson_python-0.10.0] and
[meson_python-0.10.0]   /Users/buildbot-sage/worker/sage_git/build/config.log
[meson_python-0.10.0] Describe your computer, operating system, etc.
[meson_python-0.10.0] If you want to try to fix the problem yourself, *don't* just cd to
[meson_python-0.10.0] /Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0 and type 'make check' or whatever is appropriate.
[meson_python-0.10.0] Instead, the following commands setup all environment variables
[meson_python-0.10.0] correctly and load a subshell for you to debug the error:
[meson_python-0.10.0]   (cd '/Users/buildbot-sage/worker/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0' && '/Users/buildbot-sage/worker/sage_git/build/sage' --buildsh)
[meson_python-0.10.0] When you are done debugging, you can type "exit" to leave the subshell.
[meson_python-0.10.0] ************************************************************************
```




---

archive/issue_comments_480797.json:
```json
{
    "body": "Yes, there are known failures of the meson-python test suite on some platforms.",
    "created_at": "2022-10-24T20:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480797",
    "user": "mkoeppe"
}
```

Yes, there are known failures of the meson-python test suite on some platforms.



---

archive/issue_comments_480798.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-24T21:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480798",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480799.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-10-24T21:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480799",
    "user": "mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_480800.json:
```json
{
    "body": "Doesn't seem to work, testsuite still fails with hard error\n\n```\n[meson_python-0.10.0] =========================== short test summary info ============================\n[meson_python-0.10.0] FAILED tests/test_wheel.py::test_scipy_like - AssertionError: assert {'mypkg-...\n[meson_python-0.10.0] ERROR tests/test_wheel.py::test_local_lib - subprocess.CalledProcessError: Co...\n[meson_python-0.10.0] ERROR tests/test_wheel.py::test_detect_wheel_tag_module - subprocess.CalledPr...\n[meson_python-0.10.0] ERROR tests/test_wheel.py::test_rpath - subprocess.CalledProcessError: Comman...\n[meson_python-0.10.0] ERROR tests/test_wheel.py::test_uneeded_rpath - subprocess.CalledProcessError...\n[meson_python-0.10.0] ============== 1 failed, 46 passed, 2 xfailed, 4 errors in 48.55s ==============\n[meson_python-0.10.0] \n[meson_python-0.10.0] real\t0m49.034s\n[meson_python-0.10.0] user\t0m36.548s\n[meson_python-0.10.0] sys\t0m3.388s\n[meson_python-0.10.0] ************************************************************************\n[meson_python-0.10.0] Error testing package meson_python-0.10.0\n[meson_python-0.10.0] ************************************************************************\n[meson_python-0.10.0] Please email sage-devel (http://groups.google.com/group/sage-devel)\n[meson_python-0.10.0] explaining the problem and including the log files\n[meson_python-0.10.0]   /var/lib/buildbot/slave/sage_git/build/logs/pkgs/meson_python-0.10.0.log\n[meson_python-0.10.0] and\n[meson_python-0.10.0]   /var/lib/buildbot/slave/sage_git/build/config.log\n[meson_python-0.10.0] Describe your computer, operating system, etc.\n[meson_python-0.10.0] If you want to try to fix the problem yourself, *don't* just cd to\n[meson_python-0.10.0] /var/lib/buildbot/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0 and type 'make check' or whatever is appropriate.\n[meson_python-0.10.0] Instead, the following commands setup all environment variables\n[meson_python-0.10.0] correctly and load a subshell for you to debug the error:\n[meson_python-0.10.0]   (cd '/var/lib/buildbot/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0' && '/var/lib/buildbot/slave/sage_git/build/sage' --buildsh)\n[meson_python-0.10.0] When you are done debugging, you can type \"exit\" to leave the subshell.\n[meson_python-0.10.0] ************************************************************************\nMakefile:3079: recipe for target 'meson_python-SAGE_VENV-no-deps' failed\nmake[4]: *** [meson_python-SAGE_VENV-no-deps] Error 1\nMakefile:3079: recipe for target '/var/lib/buildbot/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/installed/meson_python-0.10.0' failed\nmake[3]: *** [/var/lib/buildbot/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/installed/meson_python-0.10.0] Error 2\nmake[3]: Target 'all-sage' not remade because of errors.\nMakefile:2735: recipe for target 'all-build' failed\nmake[2]: *** [all-build] Error 2\nmake[2]: Target 'build-start' not remade because of errors.\nmake[2]: Leaving directory '/var/lib/buildbot/slave/sage_git/build/build/make'\n```\n",
    "created_at": "2022-10-31T18:39:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480800",
    "user": "vbraun"
}
```

Doesn't seem to work, testsuite still fails with hard error

```
[meson_python-0.10.0] =========================== short test summary info ============================
[meson_python-0.10.0] FAILED tests/test_wheel.py::test_scipy_like - AssertionError: assert {'mypkg-...
[meson_python-0.10.0] ERROR tests/test_wheel.py::test_local_lib - subprocess.CalledProcessError: Co...
[meson_python-0.10.0] ERROR tests/test_wheel.py::test_detect_wheel_tag_module - subprocess.CalledPr...
[meson_python-0.10.0] ERROR tests/test_wheel.py::test_rpath - subprocess.CalledProcessError: Comman...
[meson_python-0.10.0] ERROR tests/test_wheel.py::test_uneeded_rpath - subprocess.CalledProcessError...
[meson_python-0.10.0] ============== 1 failed, 46 passed, 2 xfailed, 4 errors in 48.55s ==============
[meson_python-0.10.0] 
[meson_python-0.10.0] real	0m49.034s
[meson_python-0.10.0] user	0m36.548s
[meson_python-0.10.0] sys	0m3.388s
[meson_python-0.10.0] ************************************************************************
[meson_python-0.10.0] Error testing package meson_python-0.10.0
[meson_python-0.10.0] ************************************************************************
[meson_python-0.10.0] Please email sage-devel (http://groups.google.com/group/sage-devel)
[meson_python-0.10.0] explaining the problem and including the log files
[meson_python-0.10.0]   /var/lib/buildbot/slave/sage_git/build/logs/pkgs/meson_python-0.10.0.log
[meson_python-0.10.0] and
[meson_python-0.10.0]   /var/lib/buildbot/slave/sage_git/build/config.log
[meson_python-0.10.0] Describe your computer, operating system, etc.
[meson_python-0.10.0] If you want to try to fix the problem yourself, *don't* just cd to
[meson_python-0.10.0] /var/lib/buildbot/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0 and type 'make check' or whatever is appropriate.
[meson_python-0.10.0] Instead, the following commands setup all environment variables
[meson_python-0.10.0] correctly and load a subshell for you to debug the error:
[meson_python-0.10.0]   (cd '/var/lib/buildbot/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/tmp/sage/build/meson_python-0.10.0' && '/var/lib/buildbot/slave/sage_git/build/sage' --buildsh)
[meson_python-0.10.0] When you are done debugging, you can type "exit" to leave the subshell.
[meson_python-0.10.0] ************************************************************************
Makefile:3079: recipe for target 'meson_python-SAGE_VENV-no-deps' failed
make[4]: *** [meson_python-SAGE_VENV-no-deps] Error 1
Makefile:3079: recipe for target '/var/lib/buildbot/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/installed/meson_python-0.10.0' failed
make[3]: *** [/var/lib/buildbot/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/installed/meson_python-0.10.0] Error 2
make[3]: Target 'all-sage' not remade because of errors.
Makefile:2735: recipe for target 'all-build' failed
make[2]: *** [all-build] Error 2
make[2]: Target 'build-start' not remade because of errors.
make[2]: Leaving directory '/var/lib/buildbot/slave/sage_git/build/build/make'
```




---

archive/issue_comments_480801.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-10-31T18:39:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480801",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_480802.json:
```json
{
    "body": "The buildbot has\n\n```\nSAGE_CHECK_PACKAGES=!gsl,!givaro,!python2,!python3,!yasm,!zeromq,!curl,!arb,!cython,!cvxopt,!cmake,!networkx,!r,!nose,!normaliz,!rpy2,!giac,!openssl,!flint\nSAGE_CHECK=yes\n```\n\nso I'm guessing the `SAGE_CHECK_PACKAGES_DEFAULT_yes` aren't merged in but overwritten? Is that the desired behavior?",
    "created_at": "2022-10-31T18:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480802",
    "user": "vbraun"
}
```

The buildbot has

```
SAGE_CHECK_PACKAGES=!gsl,!givaro,!python2,!python3,!yasm,!zeromq,!curl,!arb,!cython,!cvxopt,!cmake,!networkx,!r,!nose,!normaliz,!rpy2,!giac,!openssl,!flint
SAGE_CHECK=yes
```

so I'm guessing the `SAGE_CHECK_PACKAGES_DEFAULT_yes` aren't merged in but overwritten? Is that the desired behavior?



---

archive/issue_comments_480803.json:
```json
{
    "body": "Yes, by setting this environment variable, you are overriding the defaults. This works as intended.",
    "created_at": "2022-10-31T20:05:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480803",
    "user": "mkoeppe"
}
```

Yes, by setting this environment variable, you are overriding the defaults. This works as intended.



---

archive/issue_comments_480804.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-10-31T20:05:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480804",
    "user": "mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_480805.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2022-10-31T22:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480805",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_480806.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2022-10-31T22:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480806",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_480807.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-10-31T22:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480807",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_480808.json:
```json
{
    "body": "Install fails on OSX Catalina with \n\n```\n  [1216/1224] scipy/io/arff/tests/data/test7.arff\n  [1217/1224] scipy/io/arff/tests/data/test8.arff\n  [1218/1224] scipy/io/arff/tests/data/test9.arff\n  [1219/1224] scipy/io/_harwell_boeing/__init__.py\n  [1220/1224] scipy/io/_harwell_boeing/_fortran_format_parser.py\n  [1221/1224] scipy/io/_harwell_boeing/hb.py\n  [1222/1224] scipy/io/_harwell_boeing/tests/__init__.py\n  [1223/1224] scipy/io/_harwell_boeing/tests/test_fortran_format.py\n  [1224/1224] scipy/io/_harwell_boeing/tests/test_hb.py\n  Preparing metadata (pyproject.toml): finished with status 'done'\nBuilding wheels for collected packages: scipy\n  Building wheel for scipy (pyproject.toml): started\n  Running command Building wheel for scipy (pyproject.toml)\n  Building wheel for scipy (pyproject.toml): finished with status 'done'\n  Created wheel for scipy: filename=scipy-1.9.2-cp310-cp310-macosx_10_15_7_x86_64.whl size=23108774 sha256=879e2b49697cfab5f3ade64070cd1e4190bab808a13ddf592a2ad2019c1798a0\n  Stored in directory: /private/tmp/pip-ephem-wheel-cache-xb5awkgq/wheels/48/64/0a/04a7b283865a80737d531abd1c9cf4c8b45e2c32c4e8771b91\nSuccessfully built scipy\nWARNING: Skipping scipy as it is not installed.\nUsing pip 22.3 from /Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/pip (python 3.10)\nLooking in links: /Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels\nERROR: scipy-1.9.2-cp310-cp310-macosx_10_15_7_x86_64.whl is not a supported wheel on this platform.\nWarning: installing with \"python3 -m pip install --verbose --no-index --find-links=/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels --disable-pip-version-check --isolated --no-cache-dir\" failed. Retrying, adding \"--no-deps --ignore-installed --ignore-requires-python\"\nUsing pip 22.3 from /Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/pip (python 3.10)\nLooking in links: /Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels\nERROR: scipy-1.9.2-cp310-cp310-macosx_10_15_7_x86_64.whl is not a supported wheel on this platform.\nError: installing with pip  failed\n********************************************************************************\nError installing scipy-1.9.2-cp310-cp310-macosx_10_15_7_x86_64.whl\n********************************************************************************\n```\n",
    "created_at": "2022-11-07T00:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480808",
    "user": "vbraun"
}
```

Install fails on OSX Catalina with 

```
  [1216/1224] scipy/io/arff/tests/data/test7.arff
  [1217/1224] scipy/io/arff/tests/data/test8.arff
  [1218/1224] scipy/io/arff/tests/data/test9.arff
  [1219/1224] scipy/io/_harwell_boeing/__init__.py
  [1220/1224] scipy/io/_harwell_boeing/_fortran_format_parser.py
  [1221/1224] scipy/io/_harwell_boeing/hb.py
  [1222/1224] scipy/io/_harwell_boeing/tests/__init__.py
  [1223/1224] scipy/io/_harwell_boeing/tests/test_fortran_format.py
  [1224/1224] scipy/io/_harwell_boeing/tests/test_hb.py
  Preparing metadata (pyproject.toml): finished with status 'done'
Building wheels for collected packages: scipy
  Building wheel for scipy (pyproject.toml): started
  Running command Building wheel for scipy (pyproject.toml)
  Building wheel for scipy (pyproject.toml): finished with status 'done'
  Created wheel for scipy: filename=scipy-1.9.2-cp310-cp310-macosx_10_15_7_x86_64.whl size=23108774 sha256=879e2b49697cfab5f3ade64070cd1e4190bab808a13ddf592a2ad2019c1798a0
  Stored in directory: /private/tmp/pip-ephem-wheel-cache-xb5awkgq/wheels/48/64/0a/04a7b283865a80737d531abd1c9cf4c8b45e2c32c4e8771b91
Successfully built scipy
WARNING: Skipping scipy as it is not installed.
Using pip 22.3 from /Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/pip (python 3.10)
Looking in links: /Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels
ERROR: scipy-1.9.2-cp310-cp310-macosx_10_15_7_x86_64.whl is not a supported wheel on this platform.
Warning: installing with "python3 -m pip install --verbose --no-index --find-links=/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels --disable-pip-version-check --isolated --no-cache-dir" failed. Retrying, adding "--no-deps --ignore-installed --ignore-requires-python"
Using pip 22.3 from /Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/lib/python3.10/site-packages/pip (python 3.10)
Looking in links: /Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.10.8/var/lib/sage/wheels
ERROR: scipy-1.9.2-cp310-cp310-macosx_10_15_7_x86_64.whl is not a supported wheel on this platform.
Error: installing with pip  failed
********************************************************************************
Error installing scipy-1.9.2-cp310-cp310-macosx_10_15_7_x86_64.whl
********************************************************************************
```




---

archive/issue_comments_480809.json:
```json
{
    "body": "I have reported it upstream at https://github.com/mesonbuild/meson-python/issues/160#issuecomment-1305912020 but at some point (maybe now?) we'll have to drop support for Catalina. It's no longer supported by Apple IIRC, and also scheduled for removal on GH Actions.\n\nAlso homebrew no longer supports it - https://github.com/sagemath/sage/actions/runs/3355189832/jobs/5559268353 \n\n```\nWarning: You are using macOS 10.15.\nWe (and Apple) do not provide support for this old version.\nIt is expected behaviour that some formulae will fail to build in this old version.\nIt is expected behaviour that Homebrew will be buggy and slow.\nDo not create any issues about this on Homebrew's GitHub repositories.\nDo not create any issues even if you think this message is unrelated.\nAny opened issues will be immediately closed without response.\nDo not ask for help from MacHomebrew on Twitter.\nYou may ask for help in Homebrew's discussions but are unlikely to receive a response.\nTry to figure out the problem yourself and submit a fix as a pull request.\nWe will review it but may or may not accept it.\n```\n",
    "created_at": "2022-11-07T16:59:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480809",
    "user": "mkoeppe"
}
```

I have reported it upstream at https://github.com/mesonbuild/meson-python/issues/160#issuecomment-1305912020 but at some point (maybe now?) we'll have to drop support for Catalina. It's no longer supported by Apple IIRC, and also scheduled for removal on GH Actions.

Also homebrew no longer supports it - https://github.com/sagemath/sage/actions/runs/3355189832/jobs/5559268353 

```
Warning: You are using macOS 10.15.
We (and Apple) do not provide support for this old version.
It is expected behaviour that some formulae will fail to build in this old version.
It is expected behaviour that Homebrew will be buggy and slow.
Do not create any issues about this on Homebrew's GitHub repositories.
Do not create any issues even if you think this message is unrelated.
Any opened issues will be immediately closed without response.
Do not ask for help from MacHomebrew on Twitter.
You may ask for help in Homebrew's discussions but are unlikely to receive a response.
Try to figure out the problem yourself and submit a fix as a pull request.
We will review it but may or may not accept it.
```




---

archive/issue_comments_480810.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-11-15T23:43:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480810",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_480811.json:
```json
{
    "body": "Replying to [comment:62 Antonio Rojas]:\n> Replying to [comment:61 arojas]:\n> > I suppose this is caused by our openblas not including lapack symbols. Our distro package is fine since we haven't switched to meson (yet)\n> \n> Indeed, building with -Dlapack=lapack fixes this when building the distro package with meson. Not sure how to fix this in sage.\n\nI've opened #34779 for this",
    "created_at": "2022-11-23T04:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33844",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33844#issuecomment-480811",
    "user": "mkoeppe"
}
```

Replying to [comment:62 Antonio Rojas]:
> Replying to [comment:61 arojas]:
> > I suppose this is caused by our openblas not including lapack symbols. Our distro package is fine since we haven't switched to meson (yet)
> 
> Indeed, building with -Dlapack=lapack fixes this when building the distro package with meson. Not sure how to fix this in sage.

I've opened #34779 for this
