# Issue 34117: pycodestyle cleanup in src/sage/graphs/graph_database.py

Issue created by migration from https://trac.sagemath.org/ticket/34354

Original creator: dcoudert

Original creation time: 2022-08-13 13:19:57




---

Comment by dcoudert created at 2022-08-13 13:22:04

Changing status from new to needs_review.


---

Comment by dcoudert created at 2022-08-13 13:22:04

New commits:


---

Comment by dcoudert created at 2022-08-13 13:24:17

What remains is due to a block formatted like a table

```
# tables     columns                    input data type     sqlite data type
# -----------------------------------------------------------------------------
aut_grp =  ['aut_grp_size',             # Integer           INTEGER
            'num_orbits',               # Integer           INTEGER
            'num_fixed_points',         # Integer           INTEGER
            'vertex_transitive',        # bool              BOOLEAN
            'edge_transitive']          # bool              BOOLEAN
...
graph_data=['complement_graph6',        # String            STRING
            'eulerian',                 # bool              BOOLEAN
            'graph6',                   # String            STRING
...
```


So 3 times `E222 multiple spaces after operator` and 1 time `E225 missing whitespace around operator`.
I suggest to let as is.


---

Comment by soehms created at 2022-08-20 16:30:49

Replying to [comment:2 dcoudert]:
> What remains is due to a block formatted like a table
> {{{
> # tables     columns                    input data type     sqlite data type
> # -----------------------------------------------------------------------------
> aut_grp =  ['aut_grp_size',             # Integer           INTEGER
>             'num_orbits',               # Integer           INTEGER
>             'num_fixed_points',         # Integer           INTEGER
>             'vertex_transitive',        # bool              BOOLEAN
>             'edge_transitive']          # bool              BOOLEAN
> ...
> graph_data=['complement_graph6',        # String            STRING
>             'eulerian',                 # bool              BOOLEAN
>             'graph6',                   # String            STRING
> ...
> }}}
> 
> So 3 times `E222 multiple spaces after operator` and 1 time `E225 missing whitespace around operator`.
> I suggest to let as is.


I agree, since these are not contained in the minimal set. Furthermore, I think that block formatting can make code much more readable and I don't understand why PEP8 doesn't support it.

Concerning the pyflakes hint about `subgraphs_to_data` it seems that this piece of code has never been used. This function call came in with #3799 but apparently the function has never been implemented. I have no idea if this is a useful functionality and if it is worth it to start a clarification.

Anyway this is not a question in the context of this ticket.


You should have a look at this patchbot issue:


```bash
sage -t --long --random-seed=181528705093299264687828662760756879414 src/sage/schemes/toric/sheaf/klyachko.py
**********************************************************************
File "src/sage/schemes/toric/sheaf/klyachko.py", line 951, in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation
Failed example:
    Vtilde.cohomology(dim=True, weight=(0,))
Expected:
    (1, 0)
Got:
    (0, 0)
**********************************************************************
1 item had failures:
   1 of   7 in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation
    [151 tests, 1 failure, 11.07 s]
```


I don't think that it is related and I can't even reproduce it. But this ticket seems to be the only one for which this bot shows the error. This is the only reason why I'm hesitating. If you are sure that it is unrelated, then you may set a positive review.


---

Comment by dcoudert created at 2022-08-20 17:06:17

The error is not related to this ticket. It has already been reported in #32773.

Thanks for the review.


---

Comment by dcoudert created at 2022-08-20 17:06:17

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-08-30 19:03:55

Resolution: fixed
