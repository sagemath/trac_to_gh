# Issue 34117: pycodestyle cleanup in src/sage/graphs/graph_database.py

archive/issues_034117.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/34354\n\n",
    "created_at": "2022-08-13T13:19:57Z",
    "labels": [
        "component: graph theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "pycodestyle cleanup in src/sage/graphs/graph_database.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34117",
    "user": "https://github.com/dcoudert"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/34354





---

archive/issue_comments_483403.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-13T13:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34117",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34117#issuecomment-483403",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_483404.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-08-13T13:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34117",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34117#issuecomment-483404",
    "user": "https://github.com/dcoudert"
}
```

New commits:



---

archive/issue_comments_483405.json:
```json
{
    "body": "What remains is due to a block formatted like a table\n\n```\n# tables     columns                    input data type     sqlite data type\n# -----------------------------------------------------------------------------\naut_grp =  ['aut_grp_size',             # Integer           INTEGER\n            'num_orbits',               # Integer           INTEGER\n            'num_fixed_points',         # Integer           INTEGER\n            'vertex_transitive',        # bool              BOOLEAN\n            'edge_transitive']          # bool              BOOLEAN\n...\ngraph_data=['complement_graph6',        # String            STRING\n            'eulerian',                 # bool              BOOLEAN\n            'graph6',                   # String            STRING\n...\n```\n\n\nSo 3 times `E222 multiple spaces after operator` and 1 time `E225 missing whitespace around operator`.\nI suggest to let as is.",
    "created_at": "2022-08-13T13:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34117",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34117#issuecomment-483405",
    "user": "https://github.com/dcoudert"
}
```

What remains is due to a block formatted like a table

```
# tables     columns                    input data type     sqlite data type
# -----------------------------------------------------------------------------
aut_grp =  ['aut_grp_size',             # Integer           INTEGER
            'num_orbits',               # Integer           INTEGER
            'num_fixed_points',         # Integer           INTEGER
            'vertex_transitive',        # bool              BOOLEAN
            'edge_transitive']          # bool              BOOLEAN
...
graph_data=['complement_graph6',        # String            STRING
            'eulerian',                 # bool              BOOLEAN
            'graph6',                   # String            STRING
...
```


So 3 times `E222 multiple spaces after operator` and 1 time `E225 missing whitespace around operator`.
I suggest to let as is.



---

archive/issue_comments_483406.json:
```json
{
    "body": "Replying to [comment:2 dcoudert]:\n> What remains is due to a block formatted like a table\n> {{{\n> # tables     columns                    input data type     sqlite data type\n> # -----------------------------------------------------------------------------\n> aut_grp =  ['aut_grp_size',             # Integer           INTEGER\n>             'num_orbits',               # Integer           INTEGER\n>             'num_fixed_points',         # Integer           INTEGER\n>             'vertex_transitive',        # bool              BOOLEAN\n>             'edge_transitive']          # bool              BOOLEAN\n> ...\n> graph_data=['complement_graph6',        # String            STRING\n>             'eulerian',                 # bool              BOOLEAN\n>             'graph6',                   # String            STRING\n> ...\n> }}}\n> \n> So 3 times `E222 multiple spaces after operator` and 1 time `E225 missing whitespace around operator`.\n> I suggest to let as is.\n\n\nI agree, since these are not contained in the minimal set. Furthermore, I think that block formatting can make code much more readable and I don't understand why PEP8 doesn't support it.\n\nConcerning the pyflakes hint about `subgraphs_to_data` it seems that this piece of code has never been used. This function call came in with #3799 but apparently the function has never been implemented. I have no idea if this is a useful functionality and if it is worth it to start a clarification.\n\nAnyway this is not a question in the context of this ticket.\n\n\nYou should have a look at this patchbot issue:\n\n\n```bash\nsage -t --long --random-seed=181528705093299264687828662760756879414 src/sage/schemes/toric/sheaf/klyachko.py\n**********************************************************************\nFile \"src/sage/schemes/toric/sheaf/klyachko.py\", line 951, in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation\nFailed example:\n    Vtilde.cohomology(dim=True, weight=(0,))\nExpected:\n    (1, 0)\nGot:\n    (0, 0)\n**********************************************************************\n1 item had failures:\n   1 of   7 in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation\n    [151 tests, 1 failure, 11.07 s]\n```\n\n\nI don't think that it is related and I can't even reproduce it. But this ticket seems to be the only one for which this bot shows the error. This is the only reason why I'm hesitating. If you are sure that it is unrelated, then you may set a positive review.",
    "created_at": "2022-08-20T16:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34117",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34117#issuecomment-483406",
    "user": "https://github.com/soehms"
}
```

Replying to [comment:2 dcoudert]:
> What remains is due to a block formatted like a table
> {{{
> # tables     columns                    input data type     sqlite data type
> # -----------------------------------------------------------------------------
> aut_grp =  ['aut_grp_size',             # Integer           INTEGER
>             'num_orbits',               # Integer           INTEGER
>             'num_fixed_points',         # Integer           INTEGER
>             'vertex_transitive',        # bool              BOOLEAN
>             'edge_transitive']          # bool              BOOLEAN
> ...
> graph_data=['complement_graph6',        # String            STRING
>             'eulerian',                 # bool              BOOLEAN
>             'graph6',                   # String            STRING
> ...
> }}}
> 
> So 3 times `E222 multiple spaces after operator` and 1 time `E225 missing whitespace around operator`.
> I suggest to let as is.


I agree, since these are not contained in the minimal set. Furthermore, I think that block formatting can make code much more readable and I don't understand why PEP8 doesn't support it.

Concerning the pyflakes hint about `subgraphs_to_data` it seems that this piece of code has never been used. This function call came in with #3799 but apparently the function has never been implemented. I have no idea if this is a useful functionality and if it is worth it to start a clarification.

Anyway this is not a question in the context of this ticket.


You should have a look at this patchbot issue:


```bash
sage -t --long --random-seed=181528705093299264687828662760756879414 src/sage/schemes/toric/sheaf/klyachko.py
**********************************************************************
File "src/sage/schemes/toric/sheaf/klyachko.py", line 951, in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation
Failed example:
    Vtilde.cohomology(dim=True, weight=(0,))
Expected:
    (1, 0)
Got:
    (0, 0)
**********************************************************************
1 item had failures:
   1 of   7 in sage.schemes.toric.sheaf.klyachko.KlyachkoBundle_class.random_deformation
    [151 tests, 1 failure, 11.07 s]
```


I don't think that it is related and I can't even reproduce it. But this ticket seems to be the only one for which this bot shows the error. This is the only reason why I'm hesitating. If you are sure that it is unrelated, then you may set a positive review.



---

archive/issue_comments_483407.json:
```json
{
    "body": "The error is not related to this ticket. It has already been reported in #32773.\n\nThanks for the review.",
    "created_at": "2022-08-20T17:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34117",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34117#issuecomment-483407",
    "user": "https://github.com/dcoudert"
}
```

The error is not related to this ticket. It has already been reported in #32773.

Thanks for the review.



---

archive/issue_comments_483408.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-08-20T17:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34117",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34117#issuecomment-483408",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_089412.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:03:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34117",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34117#event-89412"
}
```



---

archive/issue_comments_483409.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-30T19:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34117",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34117#issuecomment-483409",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
