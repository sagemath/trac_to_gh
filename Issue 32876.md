# Issue 32876: gitpod usability improvements

archive/issues_032876.json:
```json
{
    "body": "CC:  @tobiasdiez @dimpase\n\n- in the terminal, viewing graphics silently does nothing\n\n```\nsage: polytopes.cube().show()\nLaunched html viewer for Graphics3d Object\nsage: polytopes.regular_polygon(5).show()\nLaunched png viewer for Graphics object consisting of 7 graphics primitives\n```\n\n\n- (from #33103#comment:31) the configuration of VS Code (from #30677) should be improved. It seems to start up using the wrong interpreter (not `venv/bin/python3`), and also one needs to manually select the right Jupyter kernel.\n\n- The scipy folks have some good documentation and configuration (\u200bhttps://scipy.github.io/devdocs/dev/contributor/quickstart_gitpod.html), perhaps we can lift something from there.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33113\n\n",
    "created_at": "2022-01-03T18:57:40Z",
    "labels": [
        "component: user interface"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "gitpod usability improvements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32876",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @tobiasdiez @dimpase

- in the terminal, viewing graphics silently does nothing

```
sage: polytopes.cube().show()
Launched html viewer for Graphics3d Object
sage: polytopes.regular_polygon(5).show()
Launched png viewer for Graphics object consisting of 7 graphics primitives
```


- (from #33103#comment:31) the configuration of VS Code (from #30677) should be improved. It seems to start up using the wrong interpreter (not `venv/bin/python3`), and also one needs to manually select the right Jupyter kernel.

- The scipy folks have some good documentation and configuration (â€‹https://scipy.github.io/devdocs/dev/contributor/quickstart_gitpod.html), perhaps we can lift something from there.

Issue created by migration from https://trac.sagemath.org/ticket/33113





---

archive/issue_comments_468303.json:
```json
{
    "body": "Ticket branches are often based on an older beta version. Given that we build on top of the Docker image for the current beta version (`dev`), shouldn't we attempt to merge the branch into the base of the Docker image and build that?",
    "created_at": "2022-02-17T20:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468303",
    "user": "https://github.com/mkoeppe"
}
```

Ticket branches are often based on an older beta version. Given that we build on top of the Docker image for the current beta version (`dev`), shouldn't we attempt to merge the branch into the base of the Docker image and build that?



---

archive/issue_comments_468304.json:
```json
{
    "body": "Isn't this what the prebuild at gitpod is essentially doing?",
    "created_at": "2022-02-17T20:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468304",
    "user": "https://github.com/tobiasdiez"
}
```

Isn't this what the prebuild at gitpod is essentially doing?



---

archive/issue_comments_468305.json:
```json
{
    "body": "Replying to [comment:19 gh-tobiasdiez]:\n> Isn't this what the prebuild at gitpod is essentially doing?\n\nNo, it's not merging. It's building the top of the branch.",
    "created_at": "2022-03-02T17:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468305",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:19 gh-tobiasdiez]:
> Isn't this what the prebuild at gitpod is essentially doing?

No, it's not merging. It's building the top of the branch.



---

archive/issue_comments_468306.json:
```json
{
    "body": "Then I don't understand what you mean. The docker image used by gitpod is the same for all branches.",
    "created_at": "2022-03-02T18:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468306",
    "user": "https://github.com/tobiasdiez"
}
```

Then I don't understand what you mean. The docker image used by gitpod is the same for all branches.



---

archive/issue_comments_468307.json:
```json
{
    "body": "Yes, it is, and it is based on the latest beta.\n\nThe branch that is being tested, however, may be based on a much older beta. When building this branch, it will downgrade packages to the versions recorded in that older beta.",
    "created_at": "2022-03-02T22:46:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468307",
    "user": "https://github.com/mkoeppe"
}
```

Yes, it is, and it is based on the latest beta.

The branch that is being tested, however, may be based on a much older beta. When building this branch, it will downgrade packages to the versions recorded in that older beta.



---

archive/issue_comments_468308.json:
```json
{
    "body": "Yes, that's the current behavior, right? So what are you proposing to improve there?",
    "created_at": "2022-03-03T12:01:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468308",
    "user": "https://github.com/tobiasdiez"
}
```

Yes, that's the current behavior, right? So what are you proposing to improve there?



---

archive/issue_comments_468309.json:
```json
{
    "body": "As I said in comment:18, to merge the current branch into the branch from which the Docker image has been built.",
    "created_at": "2022-03-30T18:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468309",
    "user": "https://github.com/mkoeppe"
}
```

As I said in comment:18, to merge the current branch into the branch from which the Docker image has been built.



---

archive/issue_comments_468310.json:
```json
{
    "body": "Replying to [comment:25 mkoeppe]:\n> As I said in comment:18, to merge the current branch into the branch from which the Docker image has been built.\n\nSo you want to merge the `develop` branch into the branch that is open in gitpod?\n\nNote also that gitpod prebuild the branch when a new commit arrives. Thus the docker image used is the one that had been published when the branch had its last commit.",
    "created_at": "2022-03-30T19:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468310",
    "user": "https://github.com/tobiasdiez"
}
```

Replying to [comment:25 mkoeppe]:
> As I said in comment:18, to merge the current branch into the branch from which the Docker image has been built.

So you want to merge the `develop` branch into the branch that is open in gitpod?

Note also that gitpod prebuild the branch when a new commit arrives. Thus the docker image used is the one that had been published when the branch had its last commit.



---

archive/issue_comments_468311.json:
```json
{
    "body": "Replying to [comment:27 gh-tobiasdiez]:\n> Replying to [comment:25 mkoeppe]:\n> > As I said in comment:18, to merge the current branch into the branch from which the Docker image has been built.\n> \n> So you want to merge the `develop` branch into the branch that is open in gitpod?\n\nTechnically not the `develop` branch but the ref from which the Docker image has been built. Most of the times, that's the same.",
    "created_at": "2022-03-30T19:33:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468311",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:27 gh-tobiasdiez]:
> Replying to [comment:25 mkoeppe]:
> > As I said in comment:18, to merge the current branch into the branch from which the Docker image has been built.
> 
> So you want to merge the `develop` branch into the branch that is open in gitpod?

Technically not the `develop` branch but the ref from which the Docker image has been built. Most of the times, that's the same.



---

archive/issue_comments_468312.json:
```json
{
    "body": "Replying to [comment:27 gh-tobiasdiez]:\n> Note also that gitpod prebuild the branch when a new commit arrives. Thus the docker image used is the one that had been published when the branch had its last commit.\n\nYes, that's fine.",
    "created_at": "2022-03-30T19:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32876",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32876#issuecomment-468312",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:27 gh-tobiasdiez]:
> Note also that gitpod prebuild the branch when a new commit arrives. Thus the docker image used is the one that had been published when the branch had its last commit.

Yes, that's fine.
