# Issue 27102: Bug with DiGraph.edges()

archive/issues_027102.json:
```json
{
    "body": "CC:  tscrim chapoton jhpalmieri jdemeyer\n\nDiGraph.edges() fail for some examples because it try to sort but does not successed.\nFor example:\n\nsage: g = DiGraph([(0,1,0),(0,1,'a')], multiedges=True)\nsage: g.edges()\n\nraise an errors.\nI suggest to remove the default value sort=True for this method to avoid this problem.\n\nIssue created by migration from https://trac.sagemath.org/ticket/27339\n\n",
    "created_at": "2019-02-22T15:28:10Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "title": "Bug with DiGraph.edges()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27102",
    "user": "mercatp"
}
```
CC:  tscrim chapoton jhpalmieri jdemeyer

DiGraph.edges() fail for some examples because it try to sort but does not successed.
For example:

sage: g = DiGraph([(0,1,0),(0,1,'a')], multiedges=True)
sage: g.edges()

raise an errors.
I suggest to remove the default value sort=True for this method to avoid this problem.

Issue created by migration from https://trac.sagemath.org/ticket/27339





---

archive/issue_comments_381704.json:
```json
{
    "body": "The problem is everywhere (I have edited the ticket description accordingly) and I'm surprised it has not been detected by any doctest...\n\nIt could be a side effect of recent changes in the coercion / richcmp model ?\n\nI'm ccing many people because it seems a serious issue.",
    "created_at": "2019-02-22T17:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381704",
    "user": "dcoudert"
}
```

The problem is everywhere (I have edited the ticket description accordingly) and I'm surprised it has not been detected by any doctest...

It could be a side effect of recent changes in the coercion / richcmp model ?

I'm ccing many people because it seems a serious issue.



---

archive/issue_comments_381705.json:
```json
{
    "body": "Yes, this looks like it is from #22029, which makes the behavior in Sage closer to that of Python3. So this is bringing more to the front the Python3 issues with graphs.",
    "created_at": "2019-02-22T21:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381705",
    "user": "tscrim"
}
```

Yes, this looks like it is from #22029, which makes the behavior in Sage closer to that of Python3. So this is bringing more to the front the Python3 issues with graphs.



---

archive/issue_comments_381706.json:
```json
{
    "body": "Duplicate of #22349.",
    "created_at": "2019-02-22T21:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381706",
    "user": "jdemeyer"
}
```

Duplicate of #22349.



---

archive/issue_comments_381707.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2019-02-22T21:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381707",
    "user": "jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_comments_381708.json:
```json
{
    "body": "Replying to [comment:3 dcoudert]:\n> I'm surprised it has not been detected by any doctest...\n\nNot many doctests mix types like that. The few ones that do apparently don't call `vertices()` or `edges()`.",
    "created_at": "2019-02-22T21:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381708",
    "user": "jdemeyer"
}
```

Replying to [comment:3 dcoudert]:
> I'm surprised it has not been detected by any doctest...

Not many doctests mix types like that. The few ones that do apparently don't call `vertices()` or `edges()`.



---

archive/issue_comments_381709.json:
```json
{
    "body": "Sorry, but I don't see why this ticket is duplicate of #22349. For me we have a new bug with python2. It's independent of the will to stop sorting vertices/edges.",
    "created_at": "2019-02-22T21:26:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381709",
    "user": "dcoudert"
}
```

Sorry, but I don't see why this ticket is duplicate of #22349. For me we have a new bug with python2. It's independent of the will to stop sorting vertices/edges.



---

archive/issue_comments_381710.json:
```json
{
    "body": "I agree with Jeroen, it is effectively the same issue as #22349 except for a smaller set of objects (Python2 still allows you to compare an `int` and `str`).",
    "created_at": "2019-02-22T21:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381710",
    "user": "tscrim"
}
```

I agree with Jeroen, it is effectively the same issue as #22349 except for a smaller set of objects (Python2 still allows you to compare an `int` and `str`).



---

archive/issue_comments_381711.json:
```json
{
    "body": "> Not many doctests mix types like that. The few ones that do apparently don't call `vertices()` or `edges()`.\nWe changed many many doctests for py3, certainly hiding the issue.\n\n> (Python2 still allows you to compare an int and str).\nBut now `.vertices()` and `.edges()` in Python2 don't...",
    "created_at": "2019-02-22T21:38:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381711",
    "user": "dcoudert"
}
```

> Not many doctests mix types like that. The few ones that do apparently don't call `vertices()` or `edges()`.
We changed many many doctests for py3, certainly hiding the issue.

> (Python2 still allows you to compare an int and str).
But now `.vertices()` and `.edges()` in Python2 don't...



---

archive/issue_comments_381712.json:
```json
{
    "body": "At least the example in this ticket is an `Integer` (which is not an `int`) and a `str` comparison.",
    "created_at": "2019-02-22T21:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27102#issuecomment-381712",
    "user": "tscrim"
}
```

At least the example in this ticket is an `Integer` (which is not an `int`) and a `str` comparison.
