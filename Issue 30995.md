# Issue 30995: some typing annotations in plane partitions

Issue created by migration from https://trac.sagemath.org/ticket/31232

Original creator: chapoton

Original creation time: 2021-01-13 16:09:07

CC:  tscrim slelievre




---

Comment by chapoton created at 2021-01-13 16:10:59

New commits:


---

Comment by chapoton created at 2021-01-13 17:51:28

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-01-15 20:12:20

green bot, please review


---

Comment by tscrim created at 2021-01-17 02:13:58

LGTM.


---

Comment by tscrim created at 2021-01-17 02:13:58

Changing status from needs_review to positive_review.


---

Comment by @tobiasdiez created at 2021-02-01 00:04:43

I just came across this ticket and have one small suggestion for follow-up tickets concerning typing:

```
PP = NewType('PP', 'PlanePartition')
def random_element(self) -> PP:
```

Was the point of introducing PP as a new type was to prevent import problems? This can also be accomplished by specifying the type as a string:

```
def random_element(self) -> 'PlanePartition':
```

Once we drop python 3.6 support, one can also import annotations from future, which does this automatically so that the following works: 

```
from __future__ import annotations
def random_element(self) -> PlanePartition:
```



---

Comment by chapoton created at 2021-02-01 10:04:33

what to do to use shorthand for annotations ? our class names are often rather long


---

Comment by @tobiasdiez created at 2021-02-01 10:35:28

I think one shouldn't use abbreviations at all here. Just makes the code harder to understand, especially for new developers not familiar with this part of the code base (in the above context: what is PP?). It's similar to naming of variables: try to avoid abbreviations, the few additional keystrokes are worth it for enhanced readability. Moreover, most IDEs provide a good autocompletion.


---

Comment by chapoton created at 2021-02-01 10:50:36

inho, long typing annotations decrease python code readability


---

Comment by tscrim created at 2021-02-01 11:11:53

Additionally, PP is a very common abbreviation in math papers for plane partitions. So it is natural here IMO.


---

Comment by @tobiasdiez created at 2021-02-01 13:41:46

Still, I would suggest not to use abbreviations for typing. There was a good reason to call the class PlanePartition instead of PP, and in my opinion the same reason applies to typing information.

Moreover, once we use the sphinx_autodoc_typehints extension, the typing information is displayed in the documentation, including hyperlinks to the target. This doesn't work as nicely if you introduce type aliases (Example, click on "Interval" on 
https://broadinstitute.github.io/gnomad_methods/api_reference/utils/intervals.html#gnomad.utils.intervals.interval_length)


---

Comment by vbraun created at 2021-03-08 23:59:54

Resolution: fixed
