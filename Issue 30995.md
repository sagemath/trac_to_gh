# Issue 30995: some typing annotations in plane partitions

archive/issues_030995.json:
```json
{
    "body": "CC:  @tscrim @slel\n\nmainly as an experiment.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/31232\n\n",
    "closed_at": "2021-03-08T23:59:54Z",
    "created_at": "2021-01-13T16:09:07Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "some typing annotations in plane partitions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30995",
    "user": "https://github.com/fchapoton"
}
```
CC:  @tscrim @slel

mainly as an experiment.


Issue created by migration from https://trac.sagemath.org/ticket/31232





---

archive/issue_comments_442140.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-01-13T16:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442140",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_442141.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-01-13T17:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442141",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_442142.json:
```json
{
    "body": "green bot, please review",
    "created_at": "2021-01-15T20:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442142",
    "user": "https://github.com/fchapoton"
}
```

green bot, please review



---

archive/issue_comments_442143.json:
```json
{
    "body": "LGTM.",
    "created_at": "2021-01-17T02:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442143",
    "user": "https://github.com/tscrim"
}
```

LGTM.



---

archive/issue_comments_442144.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-01-17T02:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442144",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_442145.json:
```json
{
    "body": "I just came across this ticket and have one small suggestion for follow-up tickets concerning typing:\n\n```\nPP = NewType('PP', 'PlanePartition')\ndef random_element(self) -> PP:\n```\nWas the point of introducing PP as a new type was to prevent import problems? This can also be accomplished by specifying the type as a string:\n\n```\ndef random_element(self) -> 'PlanePartition':\n```\nOnce we drop python 3.6 support, one can also import annotations from future, which does this automatically so that the following works: \n\n```\nfrom __future__ import annotations\ndef random_element(self) -> PlanePartition:\n```",
    "created_at": "2021-02-01T00:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442145",
    "user": "https://github.com/tobiasdiez"
}
```

I just came across this ticket and have one small suggestion for follow-up tickets concerning typing:

```
PP = NewType('PP', 'PlanePartition')
def random_element(self) -> PP:
```
Was the point of introducing PP as a new type was to prevent import problems? This can also be accomplished by specifying the type as a string:

```
def random_element(self) -> 'PlanePartition':
```
Once we drop python 3.6 support, one can also import annotations from future, which does this automatically so that the following works: 

```
from __future__ import annotations
def random_element(self) -> PlanePartition:
```



---

archive/issue_comments_442146.json:
```json
{
    "body": "what to do to use shorthand for annotations ? our class names are often rather long",
    "created_at": "2021-02-01T10:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442146",
    "user": "https://github.com/fchapoton"
}
```

what to do to use shorthand for annotations ? our class names are often rather long



---

archive/issue_comments_442147.json:
```json
{
    "body": "I think one shouldn't use abbreviations at all here. Just makes the code harder to understand, especially for new developers not familiar with this part of the code base (in the above context: what is PP?). It's similar to naming of variables: try to avoid abbreviations, the few additional keystrokes are worth it for enhanced readability. Moreover, most IDEs provide a good autocompletion.",
    "created_at": "2021-02-01T10:35:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442147",
    "user": "https://github.com/tobiasdiez"
}
```

I think one shouldn't use abbreviations at all here. Just makes the code harder to understand, especially for new developers not familiar with this part of the code base (in the above context: what is PP?). It's similar to naming of variables: try to avoid abbreviations, the few additional keystrokes are worth it for enhanced readability. Moreover, most IDEs provide a good autocompletion.



---

archive/issue_comments_442148.json:
```json
{
    "body": "inho, long typing annotations decrease python code readability",
    "created_at": "2021-02-01T10:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442148",
    "user": "https://github.com/fchapoton"
}
```

inho, long typing annotations decrease python code readability



---

archive/issue_comments_442149.json:
```json
{
    "body": "Additionally, PP is a very common abbreviation in math papers for plane partitions. So it is natural here IMO.",
    "created_at": "2021-02-01T11:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442149",
    "user": "https://github.com/tscrim"
}
```

Additionally, PP is a very common abbreviation in math papers for plane partitions. So it is natural here IMO.



---

archive/issue_comments_442150.json:
```json
{
    "body": "Still, I would suggest not to use abbreviations for typing. There was a good reason to call the class PlanePartition instead of PP, and in my opinion the same reason applies to typing information.\n\nMoreover, once we use the sphinx_autodoc_typehints extension, the typing information is displayed in the documentation, including hyperlinks to the target. This doesn't work as nicely if you introduce type aliases (Example, click on \"Interval\" on \nhttps://broadinstitute.github.io/gnomad_methods/api_reference/utils/intervals.html#gnomad.utils.intervals.interval_length)",
    "created_at": "2021-02-01T13:41:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442150",
    "user": "https://github.com/tobiasdiez"
}
```

Still, I would suggest not to use abbreviations for typing. There was a good reason to call the class PlanePartition instead of PP, and in my opinion the same reason applies to typing information.

Moreover, once we use the sphinx_autodoc_typehints extension, the typing information is displayed in the documentation, including hyperlinks to the target. This doesn't work as nicely if you introduce type aliases (Example, click on "Interval" on 
https://broadinstitute.github.io/gnomad_methods/api_reference/utils/intervals.html#gnomad.utils.intervals.interval_length)



---

archive/issue_events_081635.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-08T23:59:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30995#event-81635"
}
```



---

archive/issue_comments_442151.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-08T23:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30995#issuecomment-442151",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
